plain
  IMAGE: x86_64-gnu-tools
##[endgroup]
From https://github.com/rust-lang/rust
 * branch              beta       -> FETCH_HEAD
Searching for toolstate changes between f58f0dfd7261dba0cafc25273d8158b6965c7695 and f86ff3bba2c58283a897c14b66c73f6d0200a914
Clippy or rustfmt subtrees were updated
##[group]Run src/ci/scripts/verify-channel.sh
src/ci/scripts/verify-channel.sh
shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
env:
---
  CACHE_DOMAIN: ci-caches.rust-lang.org
  CI_ONLY_WHEN_SUBMODULES_CHANGED: 1
  IMAGE: x86_64-gnu-tools
##[endgroup]
fatal: unknown commit 53fd98ca776cb875bc9e5514f56b52eb74f9e7a9
All commits in `HEAD` are present in `master`
src/ci/scripts/verify-stable-version-number.sh
shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
env:
  CI_JOB_NAME: x86_64-gnu-tools
---

---- compile_test stdout ----
diff of stderr:

 error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`
    |
    |
 LL | /     fn result_with_panic() -> Result<bool, String> // should emit lint
 LL | |     {
 LL | |         panic!("error");
 LL | |     }
    |
    |
    = note: `-D clippy::panic-in-result-fn` implied by `-D warnings`
    = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing
 note: return Err() instead of panicking
    |
 LL |         panic!("error");
    |         ^^^^^^^^^^^^^^^
    = note: this error originates in the macro `$crate::panic::panic_2021` (in Nightly builds, run with -Z macro-backtrace for more info)
    = note: this error originates in the macro `$crate::panic::panic_2021` (in Nightly builds, run with -Z macro-backtrace for more info)
 
 error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`
    |
    |
 LL | /     fn result_with_unimplemented() -> Result<bool, String> // should emit lint
 LL | |     {
 LL | |         unimplemented!();
 LL | |     }
    |
    |
    = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing
 note: return Err() instead of panicking
    |
 LL |         unimplemented!();
    |         ^^^^^^^^^^^^^^^^
    |         ^^^^^^^^^^^^^^^^
    = note: this error originates in the macro `unimplemented` (in Nightly builds, run with -Z macro-backtrace for more info)
 
 error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`
    |
    |
 LL | /     fn result_with_unreachable() -> Result<bool, String> // should emit lint
 LL | |     {
 LL | |         unreachable!();
 LL | |     }
    | |_____^
    |
    |
    = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing
 note: return Err() instead of panicking
    |
 LL |         unreachable!();
    |         ^^^^^^^^^^^^^^
-   = note: this error originates in the macro `unreachable` (in Nightly builds, run with -Z macro-backtrace for more info)
-   = note: this error originates in the macro `unreachable` (in Nightly builds, run with -Z macro-backtrace for more info)
+   = note: this error originates in the macro `$crate::panic::unreachable_2021` (in Nightly builds, run with -Z macro-backtrace for more info)
 
 error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`
    |
    |
 LL | /     fn result_with_todo() -> Result<bool, String> // should emit lint
 LL | |     {
 LL | |         todo!("Finish this");
 LL | |     }
    |
    |
    = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing
 note: return Err() instead of panicking
    |
    |
 LL |         todo!("Finish this");
    |         ^^^^^^^^^^^^^^^^^^^^
    = note: this error originates in the macro `todo` (in Nightly builds, run with -Z macro-backtrace for more info)
 
 error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`
    |
    |
 LL | / fn function_result_with_panic() -> Result<bool, String> // should emit lint
 LL | | {
 LL | |     panic!("error");
 LL | | }
    |
    |
    = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing
 note: return Err() instead of panicking
    |
 LL |     panic!("error");
    |     ^^^^^^^^^^^^^^^
    = note: this error originates in the macro `$crate::panic::panic_2021` (in Nightly builds, run with -Z macro-backtrace for more info)
    = note: this error originates in the macro `$crate::panic::panic_2021` (in Nightly builds, run with -Z macro-backtrace for more info)
 
 error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`
    |
 LL | / fn main() -> Result<(), String> {
 LL | / fn main() -> Result<(), String> {
 LL | |     todo!("finish main method");
 LL | |     Ok(())
 LL | | }
    |
    |
    = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing
 note: return Err() instead of panicking
    |
    |
 LL |     todo!("finish main method");
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = note: this error originates in the macro `todo` (in Nightly builds, run with -Z macro-backtrace for more info)
 error: aborting due to 6 previous errors
 
 


The actual stderr differed from the expected stderr.
Actual stderr saved to /checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/test/panic_in_result_fn.stage-id.stderr
To update references, rerun the tests and pass the `--bless` flag
To only update this specific test, also pass `--test-args panic_in_result_fn.rs`

error: 1 errors occurred comparing output.
status: exit status: 1
command: "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/clippy-driver" "tests/ui/panic_in_result_fn.rs" "-L" "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/test" "--target=x86_64-unknown-linux-gnu" "--error-format" "json" "-C" "prefer-dynamic" "-o" "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/test/panic_in_result_fn.stage-id" "-A" "unused" "--emit=metadata" "-Dwarnings" "-Zui-testing" "-L" "dependency=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps" "-L" "dependency=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/release/deps" "--extern" "itertools=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps/libitertools-7b75f3a5fa1d592e.rlib" "--extern" "quote=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps/libquote-5c91b89369e98965.rlib" "--extern" "syn=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps/libsyn-a21c6ba0a26069a1.rlib" "--extern" "regex=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps/libregex-137fabb667ed14a9.rlib" "--extern" "clippy_utils=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps/libclippy_utils-4c7132f60ff4681b.rlib" "--extern" "serde=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps/libserde-6a6d6938a1c274b2.rlib" "--extern" "derive_new=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/release/deps/libderive_new-11b4112682172664.so" "--extern" "parking_lot=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps/libparking_lot-081da2cac211ebbe.rlib" "--extern" "serde_derive=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/release/deps/libserde_derive-d74ad811b9de94a5.so" "--extern" "if_chain=/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps/libif_chain-791de86282271753.rlib" "--edition=2021" "-L" "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/test/panic_in_result_fn.stage-id.aux"
------------------------------------------

------------------------------------------
stderr:
stderr:
------------------------------------------
{"message":"used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`","code":{"code":"clippy::panic_in_result_fn","explanation":null},"level":"error","spans":[{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":98,"byte_end":201,"line_start":6,"line_end":9,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    fn result_with_panic() -> Result<bool, String> // should emit lint","highlight_start":5,"highlight_end":71},{"text":"    {","highlight_start":1,"highlight_end":6},{"text":"        panic!(\"error\");","highlight_start":1,"highlight_end":25},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`-D clippy::panic-in-result-fn` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"`unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"return Err() instead of panicking","code":null,"level":"note","spans":[{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1873,"byte_end":1901,"line_start":57,"line_end":57,"column_start":9,"column_end":37,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":9,"highlight_end":37}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":179,"byte_end":194,"line_start":8,"line_end":8,"column_start":9,"column_end":24,"is_primary":false,"text":[{"text":"        panic!(\"error\");","highlight_start":9,"highlight_end":24}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":179,"byte_end":194,"line_start":8,"line_end":8,"column_start":9,"column_end":24,"is_primary":false,"text":[{"text":"        panic!(\"error\");","highlight_start":9,"highlight_end":24}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"panic!","def_site_span":{"file_name":"/checkout/library/std/src/macros.rs","byte_start":463,"byte_end":678,"line_start":13,"line_end":19,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":1},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":1},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":1},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":1},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":1},{"text":"    };","highlight_start":1,"highlight_end":1},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2021!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1601,"byte_end":1946,"line_start":48,"line_end":59,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2021 {","highlight_start":1,"highlight_end":1},{"text":"    () => (","highlight_start":1,"highlight_end":1},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":1},{"text":"    ),","highlight_start":1,"highlight_end":1},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":1},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":1},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":1},{"text":"    ),","highlight_start":1,"highlight_end":1},{"text":"    ($($t:tt)+) => (","highlight_start":1,"highlight_end":1},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":1,"highlight_end":1},{"text":"    ),","highlight_start":1,"highlight_end":1},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1873,"byte_end":1937,"line_start":57,"line_end":57,"column_start":9,"column_end":73,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":9,"highlight_end":73}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":179,"byte_end":194,"line_start":8,"line_end":8,"column_start":9,"column_end":24,"is_primary":false,"text":[{"text":"        panic!(\"error\");","highlight_start":9,"highlight_end":24}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":179,"byte_end":194,"line_start":8,"line_end":8,"column_start":9,"column_end":24,"is_primary":false,"text":[{"text":"        panic!(\"error\");","highlight_start":9,"highlight_end":24}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"panic!","def_site_span":{"file_name":"/checkout/library/std/src/macros.rs","byte_start":463,"byte_end":678,"line_start":13,"line_end":19,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2021!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1601,"byte_end":1946,"line_start":48,"line_end":59,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2021 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($($t:tt)+) => (","highlight_start":1,"highlight_end":21},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":1,"highlight_end":73},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1902,"byte_end":1936,"line_start":57,"line_end":57,"column_start":38,"column_end":72,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":38,"highlight_end":72}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1902,"byte_end":1936,"line_start":57,"line_end":57,"column_start":38,"column_end":72,"is_primary":false,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":38,"highlight_end":72}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":179,"byte_end":194,"line_start":8,"line_end":8,"column_start":9,"column_end":24,"is_primary":false,"text":[{"text":"        panic!(\"error\");","highlight_start":9,"highlight_end":24}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":179,"byte_end":194,"line_start":8,"line_end":8,"column_start":9,"column_end":24,"is_primary":false,"text":[{"text":"        panic!(\"error\");","highlight_start":9,"highlight_end":24}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"panic!","def_site_span":{"file_name":"/checkout/library/std/src/macros.rs","byte_start":463,"byte_end":678,"line_start":13,"line_end":19,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2021!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1601,"byte_end":1946,"line_start":48,"line_end":59,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2021 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($($t:tt)+) => (","highlight_start":1,"highlight_end":21},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":1,"highlight_end":73},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::const_format_args!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":30276,"byte_end":30436,"line_start":872,"line_end":875,"column_start":5,"column_end":6,"is_primary":false,"text":[{"text":"    macro_rules! const_format_args {","highlight_start":5,"highlight_end":37},{"text":"        ($fmt:expr) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":54},{"text":"        ($fmt:expr, $($args:tt)*) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":68},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":null}],"rendered":"error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`\n  --> tests/ui/panic_in_result_fn.rs:6:5\n   |\nLL | /     fn result_with_panic() -> Result<bool, String> // should emit lint\nLL | |     {\nLL | |         panic!(\"error\");\nLL | |     }\n   | |_____^\n   |\n   = note: `-D clippy::panic-in-result-fn` implied by `-D warnings`\n   = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing\nnote: return Err() instead of panicking\n  --> tests/ui/panic_in_result_fn.rs:8:9\n   |\nLL |         panic!(\"error\");\n   |         ^^^^^^^^^^^^^^^\n   = note: this error originates in the macro `$crate::panic::panic_2021` (in Nightly builds, run with -Z macro-backtrace for more info)\n\n"}
{"message":"used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`","code":{"code":"clippy::panic_in_result_fn","explanation":null},"level":"error","spans":[{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":207,"byte_end":319,"line_start":11,"line_end":14,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    fn result_with_unimplemented() -> Result<bool, String> // should emit lint","highlight_start":5,"highlight_end":79},{"text":"    {","highlight_start":1,"highlight_end":6},{"text":"        unimplemented!();","highlight_start":1,"highlight_end":26},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"return Err() instead of panicking","code":null,"level":"note","spans":[{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":23818,"byte_end":23842,"line_start":696,"line_end":696,"column_start":12,"column_end":36,"is_primary":true,"text":[{"text":"    () => ($crate::panicking::panic(\"not implemented\"));","highlight_start":12,"highlight_end":36}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":296,"byte_end":312,"line_start":13,"line_end":13,"column_start":9,"column_end":25,"is_primary":false,"text":[{"text":"        unimplemented!();","highlight_start":9,"highlight_end":25}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"unimplemented!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":23778,"byte_end":23959,"line_start":695,"line_end":698,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! unimplemented {","highlight_start":1,"highlight_end":29},{"text":"    () => ($crate::panicking::panic(\"not implemented\"));","highlight_start":1,"highlight_end":57},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":94},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":23818,"byte_end":23861,"line_start":696,"line_end":696,"column_start":12,"column_end":55,"is_primary":true,"text":[{"text":"    () => ($crate::panicking::panic(\"not implemented\"));","highlight_start":12,"highlight_end":55}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":296,"byte_end":312,"line_start":13,"line_end":13,"column_start":9,"column_end":25,"is_primary":false,"text":[{"text":"        unimplemented!();","highlight_start":9,"highlight_end":25}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"unimplemented!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":23778,"byte_end":23959,"line_start":695,"line_end":698,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! unimplemented {","highlight_start":1,"highlight_end":29},{"text":"    () => ($crate::panicking::panic(\"not implemented\"));","highlight_start":1,"highlight_end":57},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":94},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":23843,"byte_end":23860,"line_start":696,"line_end":696,"column_start":37,"column_end":54,"is_primary":true,"text":[{"text":"    () => ($crate::panicking::panic(\"not implemented\"));","highlight_start":37,"highlight_end":54}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":296,"byte_end":312,"line_start":13,"line_end":13,"column_start":9,"column_end":25,"is_primary":false,"text":[{"text":"        unimplemented!();","highlight_start":9,"highlight_end":25}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"unimplemented!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":23778,"byte_end":23959,"line_start":695,"line_end":698,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! unimplemented {","highlight_start":1,"highlight_end":29},{"text":"    () => ($crate::panicking::panic(\"not implemented\"));","highlight_start":1,"highlight_end":57},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":94},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":null}],"rendered":"error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`\n  --> tests/ui/panic_in_result_fn.rs:11:5\n   |\nLL | /     fn result_with_unimplemented() -> Result<bool, String> // should emit lint\nLL | |     {\nLL | |         unimplemented!();\nLL | |     }\n   | |_____^\n   |\n   = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing\nnote: return Err() instead of panicking\n  --> tests/ui/panic_in_result_fn.rs:13:9\n   |\nLL |         unimplemented!();\n   |         ^^^^^^^^^^^^^^^^\n   = note: this error originates in the macro `unimplemented` (in Nightly builds, run with -Z macro-backtrace for more info)\n\n"}
{"message":"used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`","code":{"code":"clippy::panic_in_result_fn","explanation":null},"level":"error","spans":[{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":325,"byte_end":433,"line_start":16,"line_end":19,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    fn result_with_unreachable() -> Result<bool, String> // should emit lint","highlight_start":5,"highlight_end":77},{"text":"    {","highlight_start":1,"highlight_end":6},{"text":"        unreachable!();","highlight_start":1,"highlight_end":24},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"return Err() instead of panicking","code":null,"level":"note","spans":[{"file_name":"/checkout/library/core/src/panic.rs","byte_start":3003,"byte_end":3027,"line_start":87,"line_end":87,"column_start":9,"column_end":33,"is_primary":true,"text":[{"text":"        $crate::panicking::panic(\"internal error: entered unreachable code\")","highlight_start":9,"highlight_end":33}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":412,"byte_end":426,"line_start":18,"line_end":18,"column_start":9,"column_end":23,"is_primary":false,"text":[{"text":"        unreachable!();","highlight_start":9,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":412,"byte_end":426,"line_start":18,"line_end":18,"column_start":9,"column_end":23,"is_primary":false,"text":[{"text":"        unreachable!();","highlight_start":9,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"unreachable!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":20625,"byte_end":20858,"line_start":596,"line_end":602,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! unreachable {","highlight_start":1,"highlight_end":27},{"text":"    // Expands to either `$crate::panic::unreachable_2015` or `$crate::panic::unreachable_2021`","highlight_start":1,"highlight_end":96},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::unreachable_2021!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":2954,"byte_end":3209,"line_start":85,"line_end":92,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro unreachable_2021 {","highlight_start":1,"highlight_end":29},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"internal error: entered unreachable code\")","highlight_start":1,"highlight_end":77},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($($t:tt)+) => (","highlight_start":1,"highlight_end":21},{"text":"        $crate::panic!(\"internal error: entered unreachable code: {}\", $crate::format_args!($($t)+))","highlight_start":1,"highlight_end":101},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":3003,"byte_end":3071,"line_start":87,"line_end":87,"column_start":9,"column_end":77,"is_primary":true,"text":[{"text":"        $crate::panicking::panic(\"internal error: entered unreachable code\")","highlight_start":9,"highlight_end":77}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":412,"byte_end":426,"line_start":18,"line_end":18,"column_start":9,"column_end":23,"is_primary":false,"text":[{"text":"        unreachable!();","highlight_start":9,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":412,"byte_end":426,"line_start":18,"line_end":18,"column_start":9,"column_end":23,"is_primary":false,"text":[{"text":"        unreachable!();","highlight_start":9,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"unreachable!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":20625,"byte_end":20858,"line_start":596,"line_end":602,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! unreachable {","highlight_start":1,"highlight_end":27},{"text":"    // Expands to either `$crate::panic::unreachable_2015` or `$crate::panic::unreachable_2021`","highlight_start":1,"highlight_end":96},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::unreachable_2021!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":2954,"byte_end":3209,"line_start":85,"line_end":92,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro unreachable_2021 {","highlight_start":1,"highlight_end":29},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"internal error: entered unreachable code\")","highlight_start":1,"highlight_end":77},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($($t:tt)+) => (","highlight_start":1,"highlight_end":21},{"text":"        $crate::panic!(\"internal error: entered unreachable code: {}\", $crate::format_args!($($t)+))","highlight_start":1,"highlight_end":101},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":3028,"byte_end":3070,"line_start":87,"line_end":87,"column_start":34,"column_end":76,"is_primary":true,"text":[{"text":"        $crate::panicking::panic(\"internal error: entered unreachable code\")","highlight_start":34,"highlight_end":76}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":412,"byte_end":426,"line_start":18,"line_end":18,"column_start":9,"column_end":23,"is_primary":false,"text":[{"text":"        unreachable!();","highlight_start":9,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":412,"byte_end":426,"line_start":18,"line_end":18,"column_start":9,"column_end":23,"is_primary":false,"text":[{"text":"        unreachable!();","highlight_start":9,"highlight_end":23}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"unreachable!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":20625,"byte_end":20858,"line_start":596,"line_end":602,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! unreachable {","highlight_start":1,"highlight_end":27},{"text":"    // Expands to either `$crate::panic::unreachable_2015` or `$crate::panic::unreachable_2021`","highlight_start":1,"highlight_end":96},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::unreachable_2021!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":2954,"byte_end":3209,"line_start":85,"line_end":92,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro unreachable_2021 {","highlight_start":1,"highlight_end":29},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"internal error: entered unreachable code\")","highlight_start":1,"highlight_end":77},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($($t:tt)+) => (","highlight_start":1,"highlight_end":21},{"text":"        $crate::panic!(\"internal error: entered unreachable code: {}\", $crate::format_args!($($t)+))","highlight_start":1,"highlight_end":101},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":null}],"rendered":"error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`\n  --> tests/ui/panic_in_result_fn.rs:16:5\n   |\nLL | /     fn result_with_unreachable() -> Result<bool, String> // should emit lint\nLL | |     {\nLL | |         unreachable!();\nLL | |     }\n   | |_____^\n   |\n   = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing\nnote: return Err() instead of panicking\n  --> tests/ui/panic_in_result_fn.rs:18:9\n   |\nLL |         unreachable!();\n   |         ^^^^^^^^^^^^^^\n   = note: this error originates in the macro `$crate::panic::unreachable_2021` (in Nightly builds, run with -Z macro-backtrace for more info)\n\n"}
{"message":"used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`","code":{"code":"clippy::panic_in_result_fn","explanation":null},"level":"error","spans":[{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":439,"byte_end":546,"line_start":21,"line_end":24,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    fn result_with_todo() -> Result<bool, String> // should emit lint","highlight_start":5,"highlight_end":70},{"text":"    {","highlight_start":1,"highlight_end":6},{"text":"        todo!(\"Finish this\");","highlight_start":1,"highlight_end":30},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"return Err() instead of panicking","code":null,"level":"note","spans":[{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25541,"byte_end":25566,"line_start":759,"line_end":759,"column_start":38,"column_end":63,"is_primary":true,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":38,"highlight_end":63}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":519,"byte_end":539,"line_start":23,"line_end":23,"column_start":9,"column_end":29,"is_primary":false,"text":[{"text":"        todo!(\"Finish this\");","highlight_start":9,"highlight_end":29}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25568,"byte_end":25598,"line_start":759,"line_end":759,"column_start":65,"column_end":95,"is_primary":true,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":65,"highlight_end":95}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1287,"byte_end":1329,"line_start":39,"line_end":39,"column_start":38,"column_end":80,"is_primary":false,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":38,"highlight_end":80}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":519,"byte_end":539,"line_start":23,"line_end":23,"column_start":9,"column_end":29,"is_primary":false,"text":[{"text":"        todo!(\"Finish this\");","highlight_start":9,"highlight_end":29}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":218,"byte_end":433,"line_start":7,"line_end":13,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2015!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":738,"byte_end":1339,"line_start":23,"line_end":41,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2015 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($msg:literal $(,)?) => (","highlight_start":1,"highlight_end":30},{"text":"        $crate::panicking::panic($msg)","highlight_start":1,"highlight_end":39},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Use `panic_str` instead of `panic_display::<&str>` for non_fmt_panic lint.","highlight_start":1,"highlight_end":82},{"text":"    ($msg:expr $(,)?) => (","highlight_start":1,"highlight_end":27},{"text":"        $crate::panicking::panic_str($msg)","highlight_start":1,"highlight_end":43},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($fmt:expr, $($arg:tt)+) => (","highlight_start":1,"highlight_end":34},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":1,"highlight_end":81},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::const_format_args!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":30276,"byte_end":30436,"line_start":872,"line_end":875,"column_start":5,"column_end":6,"is_primary":false,"text":[{"text":"    macro_rules! const_format_args {","highlight_start":5,"highlight_end":37},{"text":"        ($fmt:expr) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":54},{"text":"        ($fmt:expr, $($args:tt)*) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":68},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25568,"byte_end":25598,"line_start":759,"line_end":759,"column_start":65,"column_end":95,"is_primary":true,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":65,"highlight_end":95}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25568,"byte_end":25598,"line_start":759,"line_end":759,"column_start":65,"column_end":95,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":65,"highlight_end":95}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":519,"byte_end":539,"line_start":23,"line_end":23,"column_start":9,"column_end":29,"is_primary":false,"text":[{"text":"        todo!(\"Finish this\");","highlight_start":9,"highlight_end":29}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::format_args!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":29686,"byte_end":29840,"line_start":858,"line_end":861,"column_start":5,"column_end":6,"is_primary":false,"text":[{"text":"    macro_rules! format_args {","highlight_start":5,"highlight_end":31},{"text":"        ($fmt:expr) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":54},{"text":"        ($fmt:expr, $($args:tt)*) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":68},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1258,"byte_end":1286,"line_start":39,"line_end":39,"column_start":9,"column_end":37,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":9,"highlight_end":37}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":519,"byte_end":539,"line_start":23,"line_end":23,"column_start":9,"column_end":29,"is_primary":false,"text":[{"text":"        todo!(\"Finish this\");","highlight_start":9,"highlight_end":29}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":218,"byte_end":433,"line_start":7,"line_end":13,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2015!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":738,"byte_end":1339,"line_start":23,"line_end":41,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2015 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($msg:literal $(,)?) => (","highlight_start":1,"highlight_end":30},{"text":"        $crate::panicking::panic($msg)","highlight_start":1,"highlight_end":39},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Use `panic_str` instead of `panic_display::<&str>` for non_fmt_panic lint.","highlight_start":1,"highlight_end":82},{"text":"    ($msg:expr $(,)?) => (","highlight_start":1,"highlight_end":27},{"text":"        $crate::panicking::panic_str($msg)","highlight_start":1,"highlight_end":43},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($fmt:expr, $($arg:tt)+) => (","highlight_start":1,"highlight_end":34},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":1,"highlight_end":81},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1258,"byte_end":1330,"line_start":39,"line_end":39,"column_start":9,"column_end":81,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":9,"highlight_end":81}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":519,"byte_end":539,"line_start":23,"line_end":23,"column_start":9,"column_end":29,"is_primary":false,"text":[{"text":"        todo!(\"Finish this\");","highlight_start":9,"highlight_end":29}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":218,"byte_end":433,"line_start":7,"line_end":13,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2015!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":738,"byte_end":1339,"line_start":23,"line_end":41,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2015 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($msg:literal $(,)?) => (","highlight_start":1,"highlight_end":30},{"text":"        $crate::panicking::panic($msg)","highlight_start":1,"highlight_end":39},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Use `panic_str` instead of `panic_display::<&str>` for non_fmt_panic lint.","highlight_start":1,"highlight_end":82},{"text":"    ($msg:expr $(,)?) => (","highlight_start":1,"highlight_end":27},{"text":"        $crate::panicking::panic_str($msg)","highlight_start":1,"highlight_end":43},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($fmt:expr, $($arg:tt)+) => (","highlight_start":1,"highlight_end":34},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":1,"highlight_end":81},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1287,"byte_end":1329,"line_start":39,"line_end":39,"column_start":38,"column_end":80,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":38,"highlight_end":80}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1287,"byte_end":1329,"line_start":39,"line_end":39,"column_start":38,"column_end":80,"is_primary":false,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":38,"highlight_end":80}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":519,"byte_end":539,"line_start":23,"line_end":23,"column_start":9,"column_end":29,"is_primary":false,"text":[{"text":"        todo!(\"Finish this\");","highlight_start":9,"highlight_end":29}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":218,"byte_end":433,"line_start":7,"line_end":13,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2015!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":738,"byte_end":1339,"line_start":23,"line_end":41,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2015 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($msg:literal $(,)?) => (","highlight_start":1,"highlight_end":30},{"text":"        $crate::panicking::panic($msg)","highlight_start":1,"highlight_end":39},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Use `panic_str` instead of `panic_display::<&str>` for non_fmt_panic lint.","highlight_start":1,"highlight_end":82},{"text":"    ($msg:expr $(,)?) => (","highlight_start":1,"highlight_end":27},{"text":"        $crate::panicking::panic_str($msg)","highlight_start":1,"highlight_end":43},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($fmt:expr, $($arg:tt)+) => (","highlight_start":1,"highlight_end":34},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":1,"highlight_end":81},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::const_format_args!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":30276,"byte_end":30436,"line_start":872,"line_end":875,"column_start":5,"column_end":6,"is_primary":false,"text":[{"text":"    macro_rules! const_format_args {","highlight_start":5,"highlight_end":37},{"text":"        ($fmt:expr) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":54},{"text":"        ($fmt:expr, $($args:tt)*) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":68},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":null}],"rendered":"error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`\n  --> tests/ui/panic_in_result_fn.rs:21:5\n   |\nLL | /     fn result_with_todo() -> Result<bool, String> // should emit lint\nLL | |     {\nLL | |         todo!(\"Finish this\");\nLL | |     }\n   | |_____^\n   |\n   = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing\nnote: return Err() instead of panicking\n  --> tests/ui/panic_in_result_fn.rs:23:9\n   |\nLL |         todo!(\"Finish this\");\n   |         ^^^^^^^^^^^^^^^^^^^^\n   = note: this error originates in the macro `todo` (in Nightly builds, run with -Z macro-backtrace for more info)\n\n"}
{"message":"used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`","code":{"code":"clippy::panic_in_result_fn","explanation":null},"level":"error","spans":[{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1033,"byte_end":1133,"line_start":52,"line_end":55,"column_start":1,"column_end":2,"is_primary":true,"text":[{"text":"fn function_result_with_panic() -> Result<bool, String> // should emit lint","highlight_start":1,"highlight_end":76},{"text":"{","highlight_start":1,"highlight_end":2},{"text":"    panic!(\"error\");","highlight_start":1,"highlight_end":21},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"return Err() instead of panicking","code":null,"level":"note","spans":[{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1873,"byte_end":1901,"line_start":57,"line_end":57,"column_start":9,"column_end":37,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":9,"highlight_end":37}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1115,"byte_end":1130,"line_start":54,"line_end":54,"column_start":5,"column_end":20,"is_primary":false,"text":[{"text":"    panic!(\"error\");","highlight_start":5,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1115,"byte_end":1130,"line_start":54,"line_end":54,"column_start":5,"column_end":20,"is_primary":false,"text":[{"text":"    panic!(\"error\");","highlight_start":5,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"panic!","def_site_span":{"file_name":"/checkout/library/std/src/macros.rs","byte_start":463,"byte_end":678,"line_start":13,"line_end":19,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2021!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1601,"byte_end":1946,"line_start":48,"line_end":59,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2021 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($($t:tt)+) => (","highlight_start":1,"highlight_end":21},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":1,"highlight_end":73},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1873,"byte_end":1937,"line_start":57,"line_end":57,"column_start":9,"column_end":73,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":9,"highlight_end":73}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1115,"byte_end":1130,"line_start":54,"line_end":54,"column_start":5,"column_end":20,"is_primary":false,"text":[{"text":"    panic!(\"error\");","highlight_start":5,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1115,"byte_end":1130,"line_start":54,"line_end":54,"column_start":5,"column_end":20,"is_primary":false,"text":[{"text":"    panic!(\"error\");","highlight_start":5,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"panic!","def_site_span":{"file_name":"/checkout/library/std/src/macros.rs","byte_start":463,"byte_end":678,"line_start":13,"line_end":19,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2021!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1601,"byte_end":1946,"line_start":48,"line_end":59,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2021 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($($t:tt)+) => (","highlight_start":1,"highlight_end":21},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":1,"highlight_end":73},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1902,"byte_end":1936,"line_start":57,"line_end":57,"column_start":38,"column_end":72,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":38,"highlight_end":72}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1902,"byte_end":1936,"line_start":57,"line_end":57,"column_start":38,"column_end":72,"is_primary":false,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":38,"highlight_end":72}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1115,"byte_end":1130,"line_start":54,"line_end":54,"column_start":5,"column_end":20,"is_primary":false,"text":[{"text":"    panic!(\"error\");","highlight_start":5,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1115,"byte_end":1130,"line_start":54,"line_end":54,"column_start":5,"column_end":20,"is_primary":false,"text":[{"text":"    panic!(\"error\");","highlight_start":5,"highlight_end":20}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"panic!","def_site_span":{"file_name":"/checkout/library/std/src/macros.rs","byte_start":463,"byte_end":678,"line_start":13,"line_end":19,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2021!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1601,"byte_end":1946,"line_start":48,"line_end":59,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2021 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($($t:tt)+) => (","highlight_start":1,"highlight_end":21},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($($t)+))","highlight_start":1,"highlight_end":73},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::const_format_args!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":30276,"byte_end":30436,"line_start":872,"line_end":875,"column_start":5,"column_end":6,"is_primary":false,"text":[{"text":"    macro_rules! const_format_args {","highlight_start":5,"highlight_end":37},{"text":"        ($fmt:expr) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":54},{"text":"        ($fmt:expr, $($args:tt)*) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":68},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":null}],"rendered":"error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`\n  --> tests/ui/panic_in_result_fn.rs:52:1\n   |\nLL | / fn function_result_with_panic() -> Result<bool, String> // should emit lint\nLL | | {\nLL | |     panic!(\"error\");\nLL | | }\n   | |_^\n   |\n   = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing\nnote: return Err() instead of panicking\n  --> tests/ui/panic_in_result_fn.rs:54:5\n   |\nLL |     panic!(\"error\");\n   |     ^^^^^^^^^^^^^^^\n   = note: this error originates in the macro `$crate::panic::panic_2021` (in Nightly builds, run with -Z macro-backtrace for more info)\n\n"}
{"message":"used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`","code":{"code":"clippy::panic_in_result_fn","explanation":null},"level":"error","spans":[{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1293,"byte_end":1372,"line_start":67,"line_end":70,"column_start":1,"column_end":2,"is_primary":true,"text":[{"text":"fn main() -> Result<(), String> {","highlight_start":1,"highlight_end":34},{"text":"    todo!(\"finish main method\");","highlight_start":1,"highlight_end":33},{"text":"    Ok(())","highlight_start":1,"highlight_end":11},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"return Err() instead of panicking","code":null,"level":"note","spans":[{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25541,"byte_end":25566,"line_start":759,"line_end":759,"column_start":38,"column_end":63,"is_primary":true,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":38,"highlight_end":63}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1331,"byte_end":1358,"line_start":68,"line_end":68,"column_start":5,"column_end":32,"is_primary":false,"text":[{"text":"    todo!(\"finish main method\");","highlight_start":5,"highlight_end":32}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25568,"byte_end":25598,"line_start":759,"line_end":759,"column_start":65,"column_end":95,"is_primary":true,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":65,"highlight_end":95}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1287,"byte_end":1329,"line_start":39,"line_end":39,"column_start":38,"column_end":80,"is_primary":false,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":38,"highlight_end":80}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1331,"byte_end":1358,"line_start":68,"line_end":68,"column_start":5,"column_end":32,"is_primary":false,"text":[{"text":"    todo!(\"finish main method\");","highlight_start":5,"highlight_end":32}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":218,"byte_end":433,"line_start":7,"line_end":13,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2015!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":738,"byte_end":1339,"line_start":23,"line_end":41,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2015 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($msg:literal $(,)?) => (","highlight_start":1,"highlight_end":30},{"text":"        $crate::panicking::panic($msg)","highlight_start":1,"highlight_end":39},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Use `panic_str` instead of `panic_display::<&str>` for non_fmt_panic lint.","highlight_start":1,"highlight_end":82},{"text":"    ($msg:expr $(,)?) => (","highlight_start":1,"highlight_end":27},{"text":"        $crate::panicking::panic_str($msg)","highlight_start":1,"highlight_end":43},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($fmt:expr, $($arg:tt)+) => (","highlight_start":1,"highlight_end":34},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":1,"highlight_end":81},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::const_format_args!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":30276,"byte_end":30436,"line_start":872,"line_end":875,"column_start":5,"column_end":6,"is_primary":false,"text":[{"text":"    macro_rules! const_format_args {","highlight_start":5,"highlight_end":37},{"text":"        ($fmt:expr) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":54},{"text":"        ($fmt:expr, $($args:tt)*) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":68},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25568,"byte_end":25598,"line_start":759,"line_end":759,"column_start":65,"column_end":95,"is_primary":true,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":65,"highlight_end":95}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25568,"byte_end":25598,"line_start":759,"line_end":759,"column_start":65,"column_end":95,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":65,"highlight_end":95}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1331,"byte_end":1358,"line_start":68,"line_end":68,"column_start":5,"column_end":32,"is_primary":false,"text":[{"text":"    todo!(\"finish main method\");","highlight_start":5,"highlight_end":32}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::format_args!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":29686,"byte_end":29840,"line_start":858,"line_end":861,"column_start":5,"column_end":6,"is_primary":false,"text":[{"text":"    macro_rules! format_args {","highlight_start":5,"highlight_end":31},{"text":"        ($fmt:expr) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":54},{"text":"        ($fmt:expr, $($args:tt)*) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":68},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1258,"byte_end":1286,"line_start":39,"line_end":39,"column_start":9,"column_end":37,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":9,"highlight_end":37}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1331,"byte_end":1358,"line_start":68,"line_end":68,"column_start":5,"column_end":32,"is_primary":false,"text":[{"text":"    todo!(\"finish main method\");","highlight_start":5,"highlight_end":32}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":218,"byte_end":433,"line_start":7,"line_end":13,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2015!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":738,"byte_end":1339,"line_start":23,"line_end":41,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2015 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($msg:literal $(,)?) => (","highlight_start":1,"highlight_end":30},{"text":"        $crate::panicking::panic($msg)","highlight_start":1,"highlight_end":39},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Use `panic_str` instead of `panic_display::<&str>` for non_fmt_panic lint.","highlight_start":1,"highlight_end":82},{"text":"    ($msg:expr $(,)?) => (","highlight_start":1,"highlight_end":27},{"text":"        $crate::panicking::panic_str($msg)","highlight_start":1,"highlight_end":43},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($fmt:expr, $($arg:tt)+) => (","highlight_start":1,"highlight_end":34},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":1,"highlight_end":81},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1258,"byte_end":1330,"line_start":39,"line_end":39,"column_start":9,"column_end":81,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":9,"highlight_end":81}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1331,"byte_end":1358,"line_start":68,"line_end":68,"column_start":5,"column_end":32,"is_primary":false,"text":[{"text":"    todo!(\"finish main method\");","highlight_start":5,"highlight_end":32}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":218,"byte_end":433,"line_start":7,"line_end":13,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2015!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":738,"byte_end":1339,"line_start":23,"line_end":41,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2015 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($msg:literal $(,)?) => (","highlight_start":1,"highlight_end":30},{"text":"        $crate::panicking::panic($msg)","highlight_start":1,"highlight_end":39},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Use `panic_str` instead of `panic_display::<&str>` for non_fmt_panic lint.","highlight_start":1,"highlight_end":82},{"text":"    ($msg:expr $(,)?) => (","highlight_start":1,"highlight_end":27},{"text":"        $crate::panicking::panic_str($msg)","highlight_start":1,"highlight_end":43},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($fmt:expr, $($arg:tt)+) => (","highlight_start":1,"highlight_end":34},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":1,"highlight_end":81},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1287,"byte_end":1329,"line_start":39,"line_end":39,"column_start":38,"column_end":80,"is_primary":true,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":38,"highlight_end":80}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":1287,"byte_end":1329,"line_start":39,"line_end":39,"column_start":38,"column_end":80,"is_primary":false,"text":[{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":38,"highlight_end":80}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25526,"byte_end":25599,"line_start":759,"line_end":759,"column_start":23,"column_end":96,"is_primary":false,"text":[{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":23,"highlight_end":96}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"tests/ui/panic_in_result_fn.rs","byte_start":1331,"byte_end":1358,"line_start":68,"line_end":68,"column_start":5,"column_end":32,"is_primary":false,"text":[{"text":"    todo!(\"finish main method\");","highlight_start":5,"highlight_end":32}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"todo!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":25423,"byte_end":25603,"line_start":757,"line_end":760,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! todo {","highlight_start":1,"highlight_end":20},{"text":"    () => ($crate::panicking::panic(\"not yet implemented\"));","highlight_start":1,"highlight_end":61},{"text":"    ($($arg:tt)+) => ($crate::panic!(\"not yet implemented: {}\", $crate::format_args!($($arg)+)));","highlight_start":1,"highlight_end":98},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":218,"byte_end":433,"line_start":7,"line_end":13,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! panic {","highlight_start":1,"highlight_end":21},{"text":"    // Expands to either `$crate::panic::panic_2015` or `$crate::panic::panic_2021`","highlight_start":1,"highlight_end":84},{"text":"    // depending on the edition of the caller.","highlight_start":1,"highlight_end":47},{"text":"    ($($arg:tt)*) => {","highlight_start":1,"highlight_end":23},{"text":"        /* compiler built-in */","highlight_start":1,"highlight_end":32},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::panic::panic_2015!","def_site_span":{"file_name":"/checkout/library/core/src/panic.rs","byte_start":738,"byte_end":1339,"line_start":23,"line_end":41,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"pub macro panic_2015 {","highlight_start":1,"highlight_end":23},{"text":"    () => (","highlight_start":1,"highlight_end":12},{"text":"        $crate::panicking::panic(\"explicit panic\")","highlight_start":1,"highlight_end":51},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($msg:literal $(,)?) => (","highlight_start":1,"highlight_end":30},{"text":"        $crate::panicking::panic($msg)","highlight_start":1,"highlight_end":39},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Use `panic_str` instead of `panic_display::<&str>` for non_fmt_panic lint.","highlight_start":1,"highlight_end":82},{"text":"    ($msg:expr $(,)?) => (","highlight_start":1,"highlight_end":27},{"text":"        $crate::panicking::panic_str($msg)","highlight_start":1,"highlight_end":43},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    // Special-case the single-argument case for const_panic.","highlight_start":1,"highlight_end":62},{"text":"    (\"{}\", $arg:expr $(,)?) => (","highlight_start":1,"highlight_end":33},{"text":"        $crate::panicking::panic_display(&$arg)","highlight_start":1,"highlight_end":48},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"    ($fmt:expr, $($arg:tt)+) => (","highlight_start":1,"highlight_end":34},{"text":"        $crate::panicking::panic_fmt($crate::const_format_args!($fmt, $($arg)+))","highlight_start":1,"highlight_end":81},{"text":"    ),","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},"macro_decl_name":"$crate::const_format_args!","def_site_span":{"file_name":"/checkout/library/core/src/macros/mod.rs","byte_start":30276,"byte_end":30436,"line_start":872,"line_end":875,"column_start":5,"column_end":6,"is_primary":false,"text":[{"text":"    macro_rules! const_format_args {","highlight_start":5,"highlight_end":37},{"text":"        ($fmt:expr) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":54},{"text":"        ($fmt:expr, $($args:tt)*) => {{ /* compiler built-in */ }};","highlight_start":1,"highlight_end":68},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[],"rendered":null}],"rendered":"error: used `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertion in a function that returns `Result`\n  --> tests/ui/panic_in_result_fn.rs:67:1\n   |\nLL | / fn main() -> Result<(), String> {\nLL | |     todo!(\"finish main method\");\nLL | |     Ok(())\nLL | | }\n   | |_^\n   |\n   = help: `unimplemented!()`, `unreachable!()`, `todo!()`, `panic!()` or assertions should not be used in a function that returns `Result` as `Result` is expected to return an error instead of crashing\nnote: return Err() instead of panicking\n  --> tests/ui/panic_in_result_fn.rs:68:5\n   |\nLL |     todo!(\"finish main method\");\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   = note: this error originates in the macro `todo` (in Nightly builds, run with -Z macro-backtrace for more info)\n\n"}

------------------------------------------

thread 'compile_test' panicked at 'Some tests failed', /cargo/registry/src/github.com-1ecc6299db9ec823/compiletest_rs-0.7.1/src/lib.rs:105:22
