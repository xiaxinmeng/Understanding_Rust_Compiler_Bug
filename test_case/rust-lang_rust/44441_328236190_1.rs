
$ ./x.py build --stage 1 --incremental src/libcore
Updating submodules
    Finished dev [unoptimized] target(s) in 0.0 secs
warning: Package `toml v0.4.5` does not have feature `serde`. It has a required dependency with that name, but only optional dependencies can be used as features. This is currently a warning to ease the transition, but it will become an error in the future.
warning: Package `toml v0.4.5` does not have feature `serde`. It has a required dependency with that name, but only optional dependencies can be used as features. This is currently a warning to ease the transition, but it will become an error in the future.
warning: Package `toml v0.4.5` does not have feature `serde`. It has a required dependency with that name, but only optional dependencies can be used as features. This is currently a warning to ease the transition, but it will become an error in the future.
Building stage0 std artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)
    Finished release [optimized] target(s) in 0.0 secs
Copying stage0 std from stage0 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)
Building stage0 test artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)
    Finished release [optimized] target(s) in 0.0 secs
Copying stage0 test from stage0 (x86_64-apple-darwin -> x86_64-apple-darwin / x86_64-apple-darwin)
Building stage0 compiler artifacts (x86_64-apple-darwin -> x86_64-apple-darwin)
   Compiling rustc_trans v0.0.0 (file:///Users/tamird/src/rust/src/librustc_trans)
error: cannot satisfy dependencies so `bitflags` only shows up once
  |
  = help: having upstream crates all available in one format will likely make this go away

error: aborting due to previous error

error: Could not compile `rustc_trans`.

Caused by:
  process didn't exit successfully: `/Users/tamird/src/rust/build/bootstrap/debug/rustc --crate-name rustc_trans src/librustc_trans/lib.rs --error-format json --crate-type dylib --emit=dep-info,link -C prefer-dynamic -C opt-level=2 -C metadata=2d33ef16b7a40565 -C extra-filename=-2d33ef16b7a40565 --out-dir /Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps --target x86_64-apple-darwin -L dependency=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps -L dependency=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/release/deps --extern log=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/liblog-cc7339a977b3dc68.rlib --extern rustc_const_math=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc_const_math-51531a5a4f8c3d3b.dylib --extern jobserver=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/libjobserver-36d133162346d51f.rlib --extern serialize=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/libserialize-4a223d9ec894bec3.dylib --extern serialize=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/libserialize-4a223d9ec894bec3.rlib --extern rustc_incremental=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc_incremental-b587bc6d7163f9f1.dylib --extern rustc_allocator=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc_allocator-aa6dff806e40f32f.dylib --extern rustc_llvm=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc_llvm-09b2cbdb4102bea8.dylib --extern rustc=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc-936f28e604c3cd79.dylib --extern rustc_demangle=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc_demangle-f36982605a35165c.rlib --extern rustc_errors=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc_errors-0699d9bc11181c8d.dylib --extern rustc_back=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc_back-da04b523dd699813.dylib --extern rustc_data_structures=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc_data_structures-6bfac4716e737892.dylib --extern rustc_platform_intrinsics=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc_platform_intrinsics-e239fdddc066f0d3.dylib --extern bitflags=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/libbitflags-263c0bb619d4a987.rlib --extern num_cpus=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/libnum_cpus-24b32baefe3bef43.rlib --extern syntax_pos=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/libsyntax_pos-00853d8a91369014.dylib --extern owning_ref=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/libowning_ref-c705c1e357343128.rlib --extern rustc_trans_utils=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/librustc_trans_utils-0cd15bab7e76f52f.dylib --extern syntax=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/libsyntax-b7ec86d4dc418fb0.dylib --extern flate2=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/deps/libflate2-3a651fa91d7bd23e.rlib -L native=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/build/miniz-sys-3abc8335811851be/out -L native=/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0-rustc/x86_64-apple-darwin/release/build/rustc_llvm-a52c45e3d31f31f9/out -L native=/Users/tamird/src/rust/build/x86_64-apple-darwin/llvm/lib` (exit code: 101)
thread 'main' panicked at 'command did not execute successfully: "/Users/tamird/src/rust/build/x86_64-apple-darwin/stage0/bin/cargo" "build" "-j" "4" "--target" "x86_64-apple-darwin" "--release" "--features" " jemalloc llvm" "--manifest-path" "/Users/tamird/src/rust/src/rustc/Cargo.toml" "--message-format" "json"
expected success, got: exit code: 101', src/bootstrap/compile.rs:883:8
note: Run with `RUST_BACKTRACE=1` for a backtrace.
failed to run: /Users/tamird/src/rust/build/bootstrap/debug/bootstrap build --stage 1 --incremental src/libcore
Build completed unsuccessfully in 0:00:40
