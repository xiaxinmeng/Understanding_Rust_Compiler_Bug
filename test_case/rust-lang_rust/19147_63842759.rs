
ptr: [0, 0, 0, 0, 0, 0]
writer: [0, 0, 0, 0, 0, 0]
MyWriter ptr: 0x7fff530d5528
before: [0, 1, 2, 0, 0, 0]
after:  [0, 0, 0]
writer: [0, 1, 2, 0, 0, 0]
MyWriter ptr: 0x7fff530d5408
before: [3, 4, 5, 0, 0, 0]
after:  [0, 0, 0]
writer: [3, 4, 5, 0, 0, 0]
buf:    [3, 4, 5, 0, 0, 0]

buf:    [0, 0, 0, 0, 0, 0]
writer: [0, 0, 0, 0, 0, 0]
MyWriter ptr: 0x7fff530d5170
before: [0, 1, 2, 0, 0, 0]
after:  [0, 0, 0]
writer: [0, 0, 0]
MyWriter ptr: 0x7fff530d5170
before: [3, 4, 5]
after:  []
writer: []
buf:    [0, 1, 2, 3, 4, 5]

buf:    [0, 0, 0, 0, 0, 0]
writer: [0, 0, 0, 0, 0, 0]
MyWriter ptr: 0x7fff530d4cc8
before: [0, 1, 2, 0, 0, 0]
after:  [0, 0, 0]
writer: [0, 0, 0]
MyWriter ptr: 0x7fff530d4cc8
before: [3, 4, 5]
after:  []
writer: []
buf:    [0, 1, 2, 3, 4, 5]
