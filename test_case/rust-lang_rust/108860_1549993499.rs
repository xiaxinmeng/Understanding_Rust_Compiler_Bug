plain
   Compiling rustc_ast_passes v0.0.0 (/checkout/compiler/rustc_ast_passes)
   Compiling rustc_expand v0.0.0 (/checkout/compiler/rustc_expand)
   Compiling rustc_builtin_macros v0.0.0 (/checkout/compiler/rustc_builtin_macros)
thread 'rustc' panicked at 'assertion failed: `(left == right)`
  left: `Some(Obligation(predicate=Binder(TraitPredicate(<&indexmap::set::IndexSet<rustc_span::symbol::Ident, std::hash::BuildHasherDefault<rustc_data_structures::fx::FxHasher>> as std::marker::Sized>, polarity:Positive), []), depth=0))`,
 right: `None`', compiler/rustc_traits/src/normalize_erasing_regions.rs:39:13
   0:     0x7ff3904f00c1 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h8568fb9cf73ffe61
   1:     0x7ff390559c38 - core::fmt::write::h01a374123323c4c4
   2:     0x7ff3904e4491 - std::io::Write::write_fmt::h9cf94f7ee0f74589
   3:     0x7ff3904efed5 - std::sys_common::backtrace::print::hf66447743851f4fa
   3:     0x7ff3904efed5 - std::sys_common::backtrace::print::hf66447743851f4fa
   4:     0x7ff3904f3294 - std::panicking::default_hook::{{closure}}::hcce65c608141da85
   5:     0x7ff3904f3048 - std::panicking::default_hook::hce2c3355d454fac7
   6:     0x7ff390f3810c - rustc_driver_impl[4d657dacab6fb677]::install_ice_hook::{closure#0}
   7:     0x7ff3904f3a8d - std::panicking::rust_panic_with_hook::h95c29c29d0102c3f
   8:     0x7ff3904f37c9 - std::panicking::begin_panic_handler::{{closure}}::h6fd2a6ff759266a6
   9:     0x7ff3904f0586 - std::sys_common::backtrace::__rust_end_short_backtrace::hd45237ff9d0293c5
  10:     0x7ff3904f3482 - rust_begin_unwind
  11:     0x7ff3904aae73 - core::panicking::panic_fmt::hba5dfd24d0a29bf3
  12:     0x7ff3904ab2ef - core::panicking::assert_failed_inner::hb05fafcb347088b6
  13:     0x7ff390dd6bfb - core[b17f3ca5674245f1]::panicking::assert_failed::<core[b17f3ca5674245f1]::option::Option<&rustc_infer[18eef08068fbb4b9]::traits::Obligation<rustc_middle[e037a24f8e1f7d77]::ty::Predicate>>, core[b17f3ca5674245f1]::option::Option<&rustc_infer[18eef08068fbb4b9]::traits::Obligation<rustc_middle[e037a24f8e1f7d77]::ty::Predicate>>>
  14:     0x7ff3926f193c - <rustc_traits[490ec9e749e8cc34]::normalize_erasing_regions::provide::{closure#0} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>)>>::call_once
  15:     0x7ff392a2c15b - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::execute_job_non_incr<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>
  16:     0x7ff392a6fd61 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  17:     0x7ff3929930d0 - rustc_query_impl[90ef82b74f996fa2]::get_query::try_normalize_generic_arg_after_erasing_regions
  18:     0x7ff393a5f0de - rustc_middle[e037a24f8e1f7d77]::ty::query::query_get_at::<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>>
  19:     0x7ff393a6af69 - <rustc_middle[e037a24f8e1f7d77]::ty::normalize_erasing_regions::TryNormalizeAfterErasingRegionsFolder>::try_normalize_generic_arg_after_erasing_regions
  20:     0x7ff393a5efa5 - <rustc_middle[e037a24f8e1f7d77]::ty::normalize_erasing_regions::TryNormalizeAfterErasingRegionsFolder as rustc_type_ir[3ea133c17d583a16]::fold::FallibleTypeFolder<rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt>>::try_fold_ty
  21:     0x7ff39137ace3 - <rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt>::try_normalize_erasing_regions::<rustc_middle[e037a24f8e1f7d77]::ty::Ty>
  22:     0x7ff3913479ba - rustc_ty_utils[48c6f329903bfebf]::needs_drop::needs_drop_raw
  23:     0x7ff392b34247 - <rustc_query_impl[90ef82b74f996fa2]::dynamic_query::needs_drop_raw::{closure#2} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::Ty>)>>::call_once
  24:     0x7ff392a2c0a9 - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::Ty>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>
  25:     0x7ff392a6ef7c - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::Ty>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  26:     0x7ff39297169f - rustc_query_impl[90ef82b74f996fa2]::get_query::needs_drop_raw
  27:     0x7ff391cf5574 - <rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop as rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::Qualif>::in_any_value_of_ty
  28:     0x7ff391cf74cc - rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::in_place::<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop, <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Validator>::qualif_local<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop>::{closure#0}>
  29:     0x7ff391cf67d6 - rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::in_rvalue::<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop, <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Validator>::qualif_local<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop>::{closure#0}>
  30:     0x7ff391c7bc22 - <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Validator>::qualif_local::<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop>
  31:     0x7ff391c76237 - <&mut rustc_const_eval[1827e18126ec2502]::transform::promote_consts::validate_candidates::{closure#0} as core[b17f3ca5674245f1]::ops::function::FnMut<(&rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate,)>>::call_mut
  32:     0x7ff391c55057 - <core[b17f3ca5674245f1]::iter::adapters::copied::Copied<core[b17f3ca5674245f1]::slice::iter::Iter<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate>> as core[b17f3ca5674245f1]::iter::traits::iterator::Iterator>::try_fold::<(), core[b17f3ca5674245f1]::iter::traits::iterator::Iterator::find::check<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate, &mut rustc_const_eval[1827e18126ec2502]::transform::promote_consts::validate_candidates::{closure#0}>::{closure#0}, core[b17f3ca5674245f1]::ops::control_flow::ControlFlow<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate>>
  33:     0x7ff391be8850 - <alloc[bc27d5164a9bfb01]::vec::Vec<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate> as alloc[bc27d5164a9bfb01]::vec::spec_from_iter::SpecFromIter<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate, core[b17f3ca5674245f1]::iter::adapters::filter::Filter<core[b17f3ca5674245f1]::iter::adapters::copied::Copied<core[b17f3ca5674245f1]::slice::iter::Iter<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate>>, rustc_const_eval[1827e18126ec2502]::transform::promote_consts::validate_candidates::{closure#0}>>>::from_iter
  34:     0x7ff391c79d67 - <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::PromoteTemps as rustc_middle[e037a24f8e1f7d77]::mir::MirPass>::run_pass
  35:     0x7ff391b0dea4 - rustc_mir_transform[6192dd52a3aef053]::pass_manager::run_passes_inner
  36:     0x7ff391a5f437 - rustc_mir_transform[6192dd52a3aef053]::mir_promoted
  37:     0x7ff392b31c42 - <rustc_query_impl[90ef82b74f996fa2]::dynamic_query::mir_promoted::{closure#2} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, rustc_span[65517120164dab5a]::def_id::LocalDefId)>>::call_once
  38:     0x7ff392a2f1be - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_hir[f786f2f3548c49a6]::hir_id::OwnerId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>
  39:     0x7ff392aae797 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_span[65517120164dab5a]::def_id::LocalDefId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  40:     0x7ff392941cd3 - rustc_query_impl[90ef82b74f996fa2]::get_query::mir_promoted
  41:     0x7ff3922f2638 - rustc_borrowck[ea65abfdbae672c5]::mir_borrowck
  42:     0x7ff392a2e127 - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_hir[f786f2f3548c49a6]::hir_id::OwnerId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>
  43:     0x7ff392ab2e61 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_span[65517120164dab5a]::def_id::LocalDefId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  44:     0x7ff39295b2d3 - rustc_query_impl[90ef82b74f996fa2]::get_query::mir_borrowck
  45:     0x7ff39102a043 - <core[b17f3ca5674245f1]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[70afe855f0cc8863]::sync::par_for_each_in<&[rustc_span[65517120164dab5a]::def_id::LocalDefId], <rustc_middle[e037a24f8e1f7d77]::hir::map::Map>::par_body_owners<rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}> as core[b17f3ca5674245f1]::ops::function::FnOnce<()>>::call_once
  46:     0x7ff390feeae6 - std[4ccf602710e1e200]::panicking::try::<(), core[b17f3ca5674245f1]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[70afe855f0cc8863]::sync::par_for_each_in<&[rustc_span[65517120164dab5a]::def_id::LocalDefId], <rustc_middle[e037a24f8e1f7d77]::hir::map::Map>::par_body_owners<rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}>>
  47:     0x7ff391030287 - rustc_data_structures[70afe855f0cc8863]::sync::par_for_each_in::<&[rustc_span[65517120164dab5a]::def_id::LocalDefId], <rustc_middle[e037a24f8e1f7d77]::hir::map::Map>::par_body_owners<rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}::{closure#0}>::{closure#0}>
  48:     0x7ff3910b00e4 - <rustc_session[9790930cacc0233]::session::Session>::time::<(), rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}>
  49:     0x7ff39101a39c - rustc_interface[917c6bbb471e4b]::passes::analysis
  50:     0x7ff392b4d947 - <rustc_query_impl[90ef82b74f996fa2]::dynamic_query::analysis::{closure#2} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, ())>>::call_once
  51:     0x7ff392a2bc4e - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::SingleCache<rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>
  52:     0x7ff392a69434 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::SingleCache<rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  53:     0x7ff392937d1b - rustc_query_impl[90ef82b74f996fa2]::get_query::analysis
  54:     0x7ff390f54f40 - <rustc_interface[917c6bbb471e4b]::queries::QueryResult<&rustc_middle[e037a24f8e1f7d77]::ty::context::GlobalCtxt>>::enter::<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}::{closure#2}::{closure#4}>
  55:     0x7ff390f85e2f - <rustc_interface[917c6bbb471e4b]::interface::Compiler>::enter::<rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}::{closure#2}, core[b17f3ca5674245f1]::result::Result<core[b17f3ca5674245f1]::option::Option<rustc_interface[917c6bbb471e4b]::queries::Linker>, rustc_span[65517120164dab5a]::ErrorGuaranteed>>
  56:     0x7ff390f57a91 - <scoped_tls[b8e84f08c6cbabe7]::ScopedKey<rustc_span[65517120164dab5a]::SessionGlobals>>::set::<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>
  57:     0x7ff390f518d0 - std[4ccf602710e1e200]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[917c6bbb471e4b]::util::run_in_thread_pool_with_globals<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>
  58:     0x7ff390fa2e66 - std[4ccf602710e1e200]::panicking::try::<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, core[b17f3ca5674245f1]::panic::unwind_safe::AssertUnwindSafe<<std[4ccf602710e1e200]::thread::Builder>::spawn_unchecked_<rustc_interface[917c6bbb471e4b]::util::run_in_thread_pool_with_globals<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#1}::{closure#0}>>
  59:     0x7ff390f52213 - <<std[4ccf602710e1e200]::thread::Builder>::spawn_unchecked_<rustc_interface[917c6bbb471e4b]::util::run_in_thread_pool_with_globals<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#1} as core[b17f3ca5674245f1]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  60:     0x7ff390500a8e - std::sys::unix::thread::Thread::new::thread_start::hea5ef66f6d4d54ac
  61:     0x7ff39029eb43 - <unknown>
  62:     0x7ff390330a00 - <unknown>
  63:                0x0 - <unknown>
error: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md


note: rustc 1.71.0-nightly (22196451a 2023-05-16) running on x86_64-unknown-linux-gnu

note: compiler flags: --crate-type lib -C opt-level=3 -C embed-bitcode=no -C debuginfo=0 -C debug-assertions=on -Z unstable-options -C symbol-mangling-version=v0 -Z unstable-options -Z macro-backtrace -C link-args=-Wl,-z,origin -C link-args=-Wl,-rpath,$ORIGIN/../lib -C split-debuginfo=off -Z unstable-options -C prefer-dynamic -C llvm-args=-import-instr-limit=10 -Z binary-dep-depinfo -Z tls-model=initial-exec -Z force-unstable-if-unmarked
note: some of the compiler flags provided by cargo are hidden

query stack during panic:
query stack during panic:
#0 [try_normalize_generic_arg_after_erasing_regions] normalizing `<<() as query::keys::Key>::CacheSelector as rustc_query_system::query::caches::CacheSelector<'_, query::erase::Erase<&indexmap::set::IndexSet<rustc_span::symbol::Ident, core::hash::BuildHasherDefault<rustc_hash::FxHasher>>>>>::Cache`
#1 [needs_drop_raw] computing whether `query::QueryCaches<'_>` needs drop
#2 [mir_promoted] promoting constants in MIR for `query::<impl at compiler/rustc_middle/src/ty/query.rs:381:9: 381:38>::trigger_delay_span_bug`
#3 [mir_borrowck] borrow-checking `query::<impl at compiler/rustc_middle/src/ty/query.rs:381:9: 381:38>::trigger_delay_span_bug`
#4 [analysis] running analysis passes on this crate
thread 'rustc' panicked at 'assertion failed: `(left == right)`
thread 'rustc' panicked at 'assertion failed: `(left == right)`
  left: `Some(Obligation(predicate=Binder(TraitPredicate(<&indexmap::set::IndexSet<rustc_span::symbol::Ident, std::hash::BuildHasherDefault<rustc_data_structures::fx::FxHasher>> as std::marker::Sized>, polarity:Positive), []), depth=0))`,
 right: `None`', compiler/rustc_traits/src/normalize_erasing_regions.rs:39:13
   0:     0x7ff3904f00c1 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h8568fb9cf73ffe61
   1:     0x7ff390559c38 - core::fmt::write::h01a374123323c4c4
   2:     0x7ff3904e4491 - std::io::Write::write_fmt::h9cf94f7ee0f74589
   3:     0x7ff3904efed5 - std::sys_common::backtrace::print::hf66447743851f4fa
   3:     0x7ff3904efed5 - std::sys_common::backtrace::print::hf66447743851f4fa
   4:     0x7ff3904f3294 - std::panicking::default_hook::{{closure}}::hcce65c608141da85
   5:     0x7ff3904f3048 - std::panicking::default_hook::hce2c3355d454fac7
   6:     0x7ff390f3810c - rustc_driver_impl[4d657dacab6fb677]::install_ice_hook::{closure#0}
   7:     0x7ff3904f3a8d - std::panicking::rust_panic_with_hook::h95c29c29d0102c3f
   8:     0x7ff3904f37c9 - std::panicking::begin_panic_handler::{{closure}}::h6fd2a6ff759266a6
   9:     0x7ff3904f0586 - std::sys_common::backtrace::__rust_end_short_backtrace::hd45237ff9d0293c5
  10:     0x7ff3904f3482 - rust_begin_unwind
  11:     0x7ff3904aae73 - core::panicking::panic_fmt::hba5dfd24d0a29bf3
  12:     0x7ff3904ab2ef - core::panicking::assert_failed_inner::hb05fafcb347088b6
  13:     0x7ff390dd6bfb - core[b17f3ca5674245f1]::panicking::assert_failed::<core[b17f3ca5674245f1]::option::Option<&rustc_infer[18eef08068fbb4b9]::traits::Obligation<rustc_middle[e037a24f8e1f7d77]::ty::Predicate>>, core[b17f3ca5674245f1]::option::Option<&rustc_infer[18eef08068fbb4b9]::traits::Obligation<rustc_middle[e037a24f8e1f7d77]::ty::Predicate>>>
  14:     0x7ff3926f193c - <rustc_traits[490ec9e749e8cc34]::normalize_erasing_regions::provide::{closure#0} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>)>>::call_once
  15:     0x7ff392a2c15b - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::execute_job_non_incr<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>
  16:     0x7ff392a6fd61 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  17:     0x7ff3929930d0 - rustc_query_impl[90ef82b74f996fa2]::get_query::try_normalize_generic_arg_after_erasing_regions
  18:     0x7ff393a5f0de - rustc_middle[e037a24f8e1f7d77]::ty::query::query_get_at::<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>>
  19:     0x7ff393a6af69 - <rustc_middle[e037a24f8e1f7d77]::ty::normalize_erasing_regions::TryNormalizeAfterErasingRegionsFolder>::try_normalize_generic_arg_after_erasing_regions
  20:     0x7ff393a5efa5 - <rustc_middle[e037a24f8e1f7d77]::ty::normalize_erasing_regions::TryNormalizeAfterErasingRegionsFolder as rustc_type_ir[3ea133c17d583a16]::fold::FallibleTypeFolder<rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt>>::try_fold_ty
  21:     0x7ff39137ace3 - <rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt>::try_normalize_erasing_regions::<rustc_middle[e037a24f8e1f7d77]::ty::Ty>
  22:     0x7ff3913479ba - rustc_ty_utils[48c6f329903bfebf]::needs_drop::needs_drop_raw
  23:     0x7ff392b34247 - <rustc_query_impl[90ef82b74f996fa2]::dynamic_query::needs_drop_raw::{closure#2} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::Ty>)>>::call_once
  24:     0x7ff392a2c0a9 - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::Ty>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>
  25:     0x7ff392a6ef7c - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::Ty>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  26:     0x7ff39297169f - rustc_query_impl[90ef82b74f996fa2]::get_query::needs_drop_raw
  27:     0x7ff391cf5574 - <rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop as rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::Qualif>::in_any_value_of_ty
  28:     0x7ff391cf74cc - rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::in_place::<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop, <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Validator>::qualif_local<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop>::{closure#0}>
  29:     0x7ff391cf67d6 - rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::in_rvalue::<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop, <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Validator>::qualif_local<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop>::{closure#0}>
  30:     0x7ff391c7bc22 - <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Validator>::qualif_local::<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop>
  31:     0x7ff391c76237 - <&mut rustc_const_eval[1827e18126ec2502]::transform::promote_consts::validate_candidates::{closure#0} as core[b17f3ca5674245f1]::ops::function::FnMut<(&rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate,)>>::call_mut
  32:     0x7ff391c55057 - <core[b17f3ca5674245f1]::iter::adapters::copied::Copied<core[b17f3ca5674245f1]::slice::iter::Iter<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate>> as core[b17f3ca5674245f1]::iter::traits::iterator::Iterator>::try_fold::<(), core[b17f3ca5674245f1]::iter::traits::iterator::Iterator::find::check<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate, &mut rustc_const_eval[1827e18126ec2502]::transform::promote_consts::validate_candidates::{closure#0}>::{closure#0}, core[b17f3ca5674245f1]::ops::control_flow::ControlFlow<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate>>
  33:     0x7ff391be8850 - <alloc[bc27d5164a9bfb01]::vec::Vec<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate> as alloc[bc27d5164a9bfb01]::vec::spec_from_iter::SpecFromIter<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate, core[b17f3ca5674245f1]::iter::adapters::filter::Filter<core[b17f3ca5674245f1]::iter::adapters::copied::Copied<core[b17f3ca5674245f1]::slice::iter::Iter<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate>>, rustc_const_eval[1827e18126ec2502]::transform::promote_consts::validate_candidates::{closure#0}>>>::from_iter
  34:     0x7ff391c79d67 - <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::PromoteTemps as rustc_middle[e037a24f8e1f7d77]::mir::MirPass>::run_pass
  35:     0x7ff391b0dea4 - rustc_mir_transform[6192dd52a3aef053]::pass_manager::run_passes_inner
  36:     0x7ff391a5f437 - rustc_mir_transform[6192dd52a3aef053]::mir_promoted
  37:     0x7ff392b31c42 - <rustc_query_impl[90ef82b74f996fa2]::dynamic_query::mir_promoted::{closure#2} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, rustc_span[65517120164dab5a]::def_id::LocalDefId)>>::call_once
  38:     0x7ff392a2f1be - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_hir[f786f2f3548c49a6]::hir_id::OwnerId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>
  39:     0x7ff392aae797 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_span[65517120164dab5a]::def_id::LocalDefId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  40:     0x7ff392941cd3 - rustc_query_impl[90ef82b74f996fa2]::get_query::mir_promoted
  41:     0x7ff3922f2638 - rustc_borrowck[ea65abfdbae672c5]::mir_borrowck
  42:     0x7ff392a2e127 - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_hir[f786f2f3548c49a6]::hir_id::OwnerId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>
  43:     0x7ff392ab2e61 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_span[65517120164dab5a]::def_id::LocalDefId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  44:     0x7ff39295b2d3 - rustc_query_impl[90ef82b74f996fa2]::get_query::mir_borrowck
  45:     0x7ff39102a043 - <core[b17f3ca5674245f1]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[70afe855f0cc8863]::sync::par_for_each_in<&[rustc_span[65517120164dab5a]::def_id::LocalDefId], <rustc_middle[e037a24f8e1f7d77]::hir::map::Map>::par_body_owners<rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}> as core[b17f3ca5674245f1]::ops::function::FnOnce<()>>::call_once
  46:     0x7ff390feeae6 - std[4ccf602710e1e200]::panicking::try::<(), core[b17f3ca5674245f1]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[70afe855f0cc8863]::sync::par_for_each_in<&[rustc_span[65517120164dab5a]::def_id::LocalDefId], <rustc_middle[e037a24f8e1f7d77]::hir::map::Map>::par_body_owners<rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}>>
  47:     0x7ff391030287 - rustc_data_structures[70afe855f0cc8863]::sync::par_for_each_in::<&[rustc_span[65517120164dab5a]::def_id::LocalDefId], <rustc_middle[e037a24f8e1f7d77]::hir::map::Map>::par_body_owners<rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}::{closure#0}>::{closure#0}>
  48:     0x7ff3910b00e4 - <rustc_session[9790930cacc0233]::session::Session>::time::<(), rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}>
  49:     0x7ff39101a39c - rustc_interface[917c6bbb471e4b]::passes::analysis
  50:     0x7ff392b4d947 - <rustc_query_impl[90ef82b74f996fa2]::dynamic_query::analysis::{closure#2} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, ())>>::call_once
  51:     0x7ff392a2bc4e - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::SingleCache<rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>
  52:     0x7ff392a69434 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::SingleCache<rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  53:     0x7ff392937d1b - rustc_query_impl[90ef82b74f996fa2]::get_query::analysis
  54:     0x7ff390f54f40 - <rustc_interface[917c6bbb471e4b]::queries::QueryResult<&rustc_middle[e037a24f8e1f7d77]::ty::context::GlobalCtxt>>::enter::<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}::{closure#2}::{closure#4}>
  55:     0x7ff390f85e2f - <rustc_interface[917c6bbb471e4b]::interface::Compiler>::enter::<rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}::{closure#2}, core[b17f3ca5674245f1]::result::Result<core[b17f3ca5674245f1]::option::Option<rustc_interface[917c6bbb471e4b]::queries::Linker>, rustc_span[65517120164dab5a]::ErrorGuaranteed>>
  56:     0x7ff390f57a91 - <scoped_tls[b8e84f08c6cbabe7]::ScopedKey<rustc_span[65517120164dab5a]::SessionGlobals>>::set::<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>
  57:     0x7ff390f518d0 - std[4ccf602710e1e200]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[917c6bbb471e4b]::util::run_in_thread_pool_with_globals<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>
  58:     0x7ff390fa2e66 - std[4ccf602710e1e200]::panicking::try::<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, core[b17f3ca5674245f1]::panic::unwind_safe::AssertUnwindSafe<<std[4ccf602710e1e200]::thread::Builder>::spawn_unchecked_<rustc_interface[917c6bbb471e4b]::util::run_in_thread_pool_with_globals<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#1}::{closure#0}>>
  59:     0x7ff390f52213 - <<std[4ccf602710e1e200]::thread::Builder>::spawn_unchecked_<rustc_interface[917c6bbb471e4b]::util::run_in_thread_pool_with_globals<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#1} as core[b17f3ca5674245f1]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  60:     0x7ff390500a8e - std::sys::unix::thread::Thread::new::thread_start::hea5ef66f6d4d54ac
  61:     0x7ff39029eb43 - <unknown>
  62:     0x7ff390330a00 - <unknown>
  63:                0x0 - <unknown>
error: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md


note: rustc 1.71.0-nightly (22196451a 2023-05-16) running on x86_64-unknown-linux-gnu

note: compiler flags: --crate-type lib -C opt-level=3 -C embed-bitcode=no -C debuginfo=0 -C debug-assertions=on -Z unstable-options -C symbol-mangling-version=v0 -Z unstable-options -Z macro-backtrace -C link-args=-Wl,-z,origin -C link-args=-Wl,-rpath,$ORIGIN/../lib -C split-debuginfo=off -Z unstable-options -C prefer-dynamic -C llvm-args=-import-instr-limit=10 -Z binary-dep-depinfo -Z tls-model=initial-exec -Z force-unstable-if-unmarked
note: some of the compiler flags provided by cargo are hidden

query stack during panic:
query stack during panic:
#0 [try_normalize_generic_arg_after_erasing_regions] normalizing `<<() as query::keys::Key>::CacheSelector as rustc_query_system::query::caches::CacheSelector<'_, query::erase::Erase<&indexmap::set::IndexSet<rustc_span::symbol::Ident, core::hash::BuildHasherDefault<rustc_hash::FxHasher>>>>>::Cache`
#1 [needs_drop_raw] computing whether `query::QueryCaches<'_>` needs drop
#2 [mir_promoted] promoting constants in MIR for `query::<impl at compiler/rustc_middle/src/ty/query.rs:381:9: 381:38>::source_span`
#3 [mir_borrowck] borrow-checking `query::<impl at compiler/rustc_middle/src/ty/query.rs:381:9: 381:38>::source_span`
#4 [analysis] running analysis passes on this crate
thread 'rustc' panicked at 'assertion failed: `(left == right)`
thread 'rustc' panicked at 'assertion failed: `(left == right)`
  left: `Some(Obligation(predicate=Binder(TraitPredicate(<&indexmap::set::IndexSet<rustc_span::symbol::Ident, std::hash::BuildHasherDefault<rustc_data_structures::fx::FxHasher>> as std::marker::Sized>, polarity:Positive), []), depth=0))`,
 right: `None`', compiler/rustc_traits/src/normalize_erasing_regions.rs:39:13
   0:     0x7ff3904f00c1 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h8568fb9cf73ffe61
   1:     0x7ff390559c38 - core::fmt::write::h01a374123323c4c4
   2:     0x7ff3904e4491 - std::io::Write::write_fmt::h9cf94f7ee0f74589
   3:     0x7ff3904efed5 - std::sys_common::backtrace::print::hf66447743851f4fa
   3:     0x7ff3904efed5 - std::sys_common::backtrace::print::hf66447743851f4fa
   4:     0x7ff3904f3294 - std::panicking::default_hook::{{closure}}::hcce65c608141da85
   5:     0x7ff3904f3048 - std::panicking::default_hook::hce2c3355d454fac7
   6:     0x7ff390f3810c - rustc_driver_impl[4d657dacab6fb677]::install_ice_hook::{closure#0}
   7:     0x7ff3904f3a8d - std::panicking::rust_panic_with_hook::h95c29c29d0102c3f
   8:     0x7ff3904f37c9 - std::panicking::begin_panic_handler::{{closure}}::h6fd2a6ff759266a6
   9:     0x7ff3904f0586 - std::sys_common::backtrace::__rust_end_short_backtrace::hd45237ff9d0293c5
  10:     0x7ff3904f3482 - rust_begin_unwind
  11:     0x7ff3904aae73 - core::panicking::panic_fmt::hba5dfd24d0a29bf3
  12:     0x7ff3904ab2ef - core::panicking::assert_failed_inner::hb05fafcb347088b6
  13:     0x7ff390dd6bfb - core[b17f3ca5674245f1]::panicking::assert_failed::<core[b17f3ca5674245f1]::option::Option<&rustc_infer[18eef08068fbb4b9]::traits::Obligation<rustc_middle[e037a24f8e1f7d77]::ty::Predicate>>, core[b17f3ca5674245f1]::option::Option<&rustc_infer[18eef08068fbb4b9]::traits::Obligation<rustc_middle[e037a24f8e1f7d77]::ty::Predicate>>>
  14:     0x7ff3926f193c - <rustc_traits[490ec9e749e8cc34]::normalize_erasing_regions::provide::{closure#0} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>)>>::call_once
  15:     0x7ff392a2c15b - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::execute_job_non_incr<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>
  16:     0x7ff392a6fd61 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  17:     0x7ff3929930d0 - rustc_query_impl[90ef82b74f996fa2]::get_query::try_normalize_generic_arg_after_erasing_regions
  18:     0x7ff393a5f0de - rustc_middle[e037a24f8e1f7d77]::ty::query::query_get_at::<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::subst::GenericArg>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>>
  19:     0x7ff393a6af69 - <rustc_middle[e037a24f8e1f7d77]::ty::normalize_erasing_regions::TryNormalizeAfterErasingRegionsFolder>::try_normalize_generic_arg_after_erasing_regions
  20:     0x7ff393a5efa5 - <rustc_middle[e037a24f8e1f7d77]::ty::normalize_erasing_regions::TryNormalizeAfterErasingRegionsFolder as rustc_type_ir[3ea133c17d583a16]::fold::FallibleTypeFolder<rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt>>::try_fold_ty
  21:     0x7ff39137ace3 - <rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt>::try_normalize_erasing_regions::<rustc_middle[e037a24f8e1f7d77]::ty::Ty>
  22:     0x7ff3913479ba - rustc_ty_utils[48c6f329903bfebf]::needs_drop::needs_drop_raw
  23:     0x7ff392b34247 - <rustc_query_impl[90ef82b74f996fa2]::dynamic_query::needs_drop_raw::{closure#2} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::Ty>)>>::call_once
  24:     0x7ff392a2c0a9 - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::Ty>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>
  25:     0x7ff392a6ef7c - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::DefaultCache<rustc_middle[e037a24f8e1f7d77]::ty::ParamEnvAnd<rustc_middle[e037a24f8e1f7d77]::ty::Ty>, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  26:     0x7ff39297169f - rustc_query_impl[90ef82b74f996fa2]::get_query::needs_drop_raw
  27:     0x7ff391cf5574 - <rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop as rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::Qualif>::in_any_value_of_ty
  28:     0x7ff391cf74cc - rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::in_place::<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop, <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Validator>::qualif_local<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop>::{closure#0}>
  29:     0x7ff391cf67d6 - rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::in_rvalue::<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop, <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Validator>::qualif_local<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop>::{closure#0}>
  30:     0x7ff391c7bc22 - <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Validator>::qualif_local::<rustc_const_eval[1827e18126ec2502]::transform::check_consts::qualifs::NeedsDrop>
  31:     0x7ff391c76237 - <&mut rustc_const_eval[1827e18126ec2502]::transform::promote_consts::validate_candidates::{closure#0} as core[b17f3ca5674245f1]::ops::function::FnMut<(&rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate,)>>::call_mut
  32:     0x7ff391c55057 - <core[b17f3ca5674245f1]::iter::adapters::copied::Copied<core[b17f3ca5674245f1]::slice::iter::Iter<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate>> as core[b17f3ca5674245f1]::iter::traits::iterator::Iterator>::try_fold::<(), core[b17f3ca5674245f1]::iter::traits::iterator::Iterator::find::check<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate, &mut rustc_const_eval[1827e18126ec2502]::transform::promote_consts::validate_candidates::{closure#0}>::{closure#0}, core[b17f3ca5674245f1]::ops::control_flow::ControlFlow<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate>>
  33:     0x7ff391be8850 - <alloc[bc27d5164a9bfb01]::vec::Vec<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate> as alloc[bc27d5164a9bfb01]::vec::spec_from_iter::SpecFromIter<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate, core[b17f3ca5674245f1]::iter::adapters::filter::Filter<core[b17f3ca5674245f1]::iter::adapters::copied::Copied<core[b17f3ca5674245f1]::slice::iter::Iter<rustc_const_eval[1827e18126ec2502]::transform::promote_consts::Candidate>>, rustc_const_eval[1827e18126ec2502]::transform::promote_consts::validate_candidates::{closure#0}>>>::from_iter
  34:     0x7ff391c79d67 - <rustc_const_eval[1827e18126ec2502]::transform::promote_consts::PromoteTemps as rustc_middle[e037a24f8e1f7d77]::mir::MirPass>::run_pass
  35:     0x7ff391b0dea4 - rustc_mir_transform[6192dd52a3aef053]::pass_manager::run_passes_inner
  36:     0x7ff391a5f437 - rustc_mir_transform[6192dd52a3aef053]::mir_promoted
  37:     0x7ff392b31c42 - <rustc_query_impl[90ef82b74f996fa2]::dynamic_query::mir_promoted::{closure#2} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, rustc_span[65517120164dab5a]::def_id::LocalDefId)>>::call_once
  38:     0x7ff392a2f1be - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_hir[f786f2f3548c49a6]::hir_id::OwnerId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>
  39:     0x7ff392aae797 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_span[65517120164dab5a]::def_id::LocalDefId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 16usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  40:     0x7ff392941cd3 - rustc_query_impl[90ef82b74f996fa2]::get_query::mir_promoted
  41:     0x7ff3922f2638 - rustc_borrowck[ea65abfdbae672c5]::mir_borrowck
  42:     0x7ff392a2e127 - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_hir[f786f2f3548c49a6]::hir_id::OwnerId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>
  43:     0x7ff392ab2e61 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::VecCache<rustc_span[65517120164dab5a]::def_id::LocalDefId, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  44:     0x7ff39295b2d3 - rustc_query_impl[90ef82b74f996fa2]::get_query::mir_borrowck
  45:     0x7ff39102a043 - <core[b17f3ca5674245f1]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[70afe855f0cc8863]::sync::par_for_each_in<&[rustc_span[65517120164dab5a]::def_id::LocalDefId], <rustc_middle[e037a24f8e1f7d77]::hir::map::Map>::par_body_owners<rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}> as core[b17f3ca5674245f1]::ops::function::FnOnce<()>>::call_once
  46:     0x7ff390feeae6 - std[4ccf602710e1e200]::panicking::try::<(), core[b17f3ca5674245f1]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[70afe855f0cc8863]::sync::par_for_each_in<&[rustc_span[65517120164dab5a]::def_id::LocalDefId], <rustc_middle[e037a24f8e1f7d77]::hir::map::Map>::par_body_owners<rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}::{closure#0}>::{closure#0}>::{closure#0}::{closure#0}>>
  47:     0x7ff391030287 - rustc_data_structures[70afe855f0cc8863]::sync::par_for_each_in::<&[rustc_span[65517120164dab5a]::def_id::LocalDefId], <rustc_middle[e037a24f8e1f7d77]::hir::map::Map>::par_body_owners<rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}::{closure#0}>::{closure#0}>
  48:     0x7ff3910b00e4 - <rustc_session[9790930cacc0233]::session::Session>::time::<(), rustc_interface[917c6bbb471e4b]::passes::analysis::{closure#1}>
  49:     0x7ff39101a39c - rustc_interface[917c6bbb471e4b]::passes::analysis
  50:     0x7ff392b4d947 - <rustc_query_impl[90ef82b74f996fa2]::dynamic_query::analysis::{closure#2} as core[b17f3ca5674245f1]::ops::function::FnOnce<(rustc_middle[e037a24f8e1f7d77]::ty::context::TyCtxt, ())>>::call_once
  51:     0x7ff392a2bc4e - <std[4ccf602710e1e200]::thread::local::LocalKey<core[b17f3ca5674245f1]::cell::Cell<*const ()>>>::with::<rustc_middle[e037a24f8e1f7d77]::ty::context::tls::enter_context<rustc_query_system[a9160bd9e175a279]::query::plumbing::try_load_from_disk_and_cache_in_memory<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::SingleCache<rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>::{closure#0}, rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>
  52:     0x7ff392a69434 - rustc_query_system[a9160bd9e175a279]::query::plumbing::try_execute_query::<rustc_query_impl[90ef82b74f996fa2]::DynamicConfig<rustc_query_system[a9160bd9e175a279]::query::caches::SingleCache<rustc_middle[e037a24f8e1f7d77]::query::erase::Erased<[u8; 1usize]>>, false, false, false>, rustc_query_impl[90ef82b74f996fa2]::plumbing::QueryCtxt>
  53:     0x7ff392937d1b - rustc_query_impl[90ef82b74f996fa2]::get_query::analysis
  54:     0x7ff390f54f40 - <rustc_interface[917c6bbb471e4b]::queries::QueryResult<&rustc_middle[e037a24f8e1f7d77]::ty::context::GlobalCtxt>>::enter::<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}::{closure#2}::{closure#4}>
  55:     0x7ff390f85e2f - <rustc_interface[917c6bbb471e4b]::interface::Compiler>::enter::<rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}::{closure#2}, core[b17f3ca5674245f1]::result::Result<core[b17f3ca5674245f1]::option::Option<rustc_interface[917c6bbb471e4b]::queries::Linker>, rustc_span[65517120164dab5a]::ErrorGuaranteed>>
  56:     0x7ff390f57a91 - <scoped_tls[b8e84f08c6cbabe7]::ScopedKey<rustc_span[65517120164dab5a]::SessionGlobals>>::set::<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>
  57:     0x7ff390f518d0 - std[4ccf602710e1e200]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[917c6bbb471e4b]::util::run_in_thread_pool_with_globals<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>
  58:     0x7ff390fa2e66 - std[4ccf602710e1e200]::panicking::try::<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, core[b17f3ca5674245f1]::panic::unwind_safe::AssertUnwindSafe<<std[4ccf602710e1e200]::thread::Builder>::spawn_unchecked_<rustc_interface[917c6bbb471e4b]::util::run_in_thread_pool_with_globals<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#1}::{closure#0}>>
  59:     0x7ff390f52213 - <<std[4ccf602710e1e200]::thread::Builder>::spawn_unchecked_<rustc_interface[917c6bbb471e4b]::util::run_in_thread_pool_with_globals<rustc_interface[917c6bbb471e4b]::interface::run_compiler<core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>, rustc_driver_impl[4d657dacab6fb677]::run_compiler::{closure#1}>::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[b17f3ca5674245f1]::result::Result<(), rustc_span[65517120164dab5a]::ErrorGuaranteed>>::{closure#1} as core[b17f3ca5674245f1]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  60:     0x7ff390500a8e - std::sys::unix::thread::Thread::new::thread_start::hea5ef66f6d4d54ac
  61:     0x7ff39029eb43 - <unknown>
  62:     0x7ff390330a00 - <unknown>
  63:                0x0 - <unknown>
error: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md


note: rustc 1.71.0-nightly (22196451a 2023-05-16) running on x86_64-unknown-linux-gnu

note: compiler flags: --crate-type lib -C opt-level=3 -C embed-bitcode=no -C debuginfo=0 -C debug-assertions=on -Z unstable-options -C symbol-mangling-version=v0 -Z unstable-options -Z macro-backtrace -C link-args=-Wl,-z,origin -C link-args=-Wl,-rpath,$ORIGIN/../lib -C split-debuginfo=off -Z unstable-options -C prefer-dynamic -C llvm-args=-import-instr-limit=10 -Z binary-dep-depinfo -Z tls-model=initial-exec -Z force-unstable-if-unmarked
note: some of the compiler flags provided by cargo are hidden

query stack during panic:
query stack during panic:
#0 [try_normalize_generic_arg_after_erasing_regions] normalizing `<<() as query::keys::Key>::CacheSelector as rustc_query_system::query::caches::CacheSelector<'_, query::erase::Erase<&indexmap::set::IndexSet<rustc_span::symbol::Ident, core::hash::BuildHasherDefault<rustc_hash::FxHasher>>>>>::Cache`
#1 [needs_drop_raw] computing whether `query::QueryCaches<'_>` needs drop
#2 [mir_promoted] promoting constants in MIR for `query::<impl at compiler/rustc_middle/src/ty/query.rs:381:9: 381:38>::hir_owner`
#3 [mir_borrowck] borrow-checking `query::<impl at compiler/rustc_middle/src/ty/query.rs:381:9: 381:38>::hir_owner`
#4 [analysis] running analysis passes on this crate
error: could not compile `rustc_middle` (lib)
warning: build failed, waiting for other jobs to finish...
Build completed unsuccessfully in 0:05:31
