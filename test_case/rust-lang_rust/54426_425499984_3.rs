\n\nFor more information on the rust ownership system, take a look at\nhttps://doc.rust-lang.org/stable/book/references-and-borrowing.html.\n"},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/borrowck/borrowck-closures-mut-and-imm.rs","byte_start":838,"byte_end":840,"line_start":31,"line_end":31,"column_start":14,"column_end":16,"is_primary":true,"text":[{"text":"    let c2 = || x * 5; //[ast]~ ERROR cannot borrow `x`","highlight_start":14,"highlight_end":16}],"label":"immutable borrow occurs here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/borrowck/borrowck-closures-mut-and-imm.rs","byte_start":815,"byte_end":817,"line_start":30,"line_end":30,"column_start":14,"column_end":16,"is_primary":false,"text":[{"text":"    let c1 = || x = 4;","highlight_start":14,"highlight_end":16}],"label":"mutable borrow occurs here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/borrowck/borrowck-closures-mut-and-imm.rs","byte_start":818,"byte_end":819,"line_start":30,"line_end":30,"column_start":17,"column_end":18,"is_primary":false,"text":[{"text":"    let c1 = || x = 4;","highlight_start":17,"highlight_end":18}],"label":"first borrow occurs due to use of `x` in closure","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/borrowck/borrowck-closures-mut-and-imm.rs","byte_start":841,"byte_end":842,"line_start":31,"line_end":31,"column_start":17,"column_end":18,"is_primary":false,"text":[{"text":"    let c2 = || x * 5; //[ast]~ ERROR cannot borrow `x`","highlight_start":17,"highlight_end":18}],"label":"second borrow occurs due to use of `x` in closure","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/borrowck/borrowck-closures-mut-and-imm.rs","byte_start":980,"byte_end":982,"line_start":33,"line_end":33,"column_start":10,"column_end":12,"is_primary":false,"text":[{"text":"    || get(&x); //[ast]~ ERROR cannot borrow `x`","highlight_start":22,"highlight_end":23}],"label":"second borrow occurs due to use of `x` in closure","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/borrowck/borrowck-closures-mut-and-imm.rs","byte_start":1223,"byte_end":1225,"line_start":41,"line_end":41,"column_start":10,"column_end":12,"is_primary":false,"text":[{"text":"    drop(c1);","highlight_start":10,"highlight_end":12}],"label":"borrow later used here","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error[E0502]: cannot borrow `x` as immutable because it is also borrowed as mutable\n  --> /checkout/src/test/ui/borrowck/borrowck-closures-mut-and-imm.rs:39:14\n   |\nLL |     let c1 = || set(&mut x);\n   |              --          - first borrow occurs due to use of `x` in closure\n   |              |\n   |              mutable borrow occurs here\nLL |     let c2 = || get(&x); //[ast]~ ERROR cannot borrow `x`\n   |              ^^      - second borrow occurs due to use of `x` in closure\n   |              |\n   |              immutable borrow occurs here\nLL |                          //[mir]~^ ERROR cannot borrow `x` as immutable because it is also borrowed as mutable\nLL |     drop(c1);\n   |          -- borrow later used here\n\n"}
[00:48:10] {"message":"cannot borrow `x` as immutable because it is also borrowed as mutable","code":{"code":"E0502","explanation":"\nThis error indicates that you are trying to borrow a variable as mutable when it\nhas already been borrowed as immutable.\n\nExample of erroneous code:\n\n