plain
Running hooks in /etc/ca-certificates/update.d...
done.
Removing intermediate container 8894d619aa2f
 ---> ef4ce6ac65ff
Step 4/8 : RUN apt-get update &&     apt-get install -y wget apt-transport-https software-properties-common &&     wget -q "https://packages.microsoft.com/config/ubuntu/$(lsb_release -rs)/packages-microsoft-prod.deb" &&     dpkg -i packages-microsoft-prod.deb &&     apt-get update &&     apt-get install -y powershell
Get:1 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Hit:2 http://archive.ubuntu.com/ubuntu focal InRelease
Get:3 http://archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:4 http://archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
---
The following additional packages will be installed:
  dbus dbus-user-session dconf-gsettings-backend dconf-service dirmngr
  distro-info-data dmsetup gir1.2-glib-2.0 gir1.2-packagekitglib-1.0
  glib-networking glib-networking-common glib-networking-services gnupg
  gnupg-l10n gnupg-utils gpg gpg-agent gpg-wks-client gpg-wks-server gpgconf
  gpgsm gpgv gsettings-desktop-schemas iso-codes libapparmor1 libappstream4
  libdconf1 libdevmapper1.02.1 libgirepository-1.0-1 libglib2.0-bin
  libglib2.0-data libgstreamer1.0-0 libip4tc2 libjson-c4 libkmod2 libksba8
  liblmdb0 libnpth0 libnss-systemd libpackagekit-glib2-18 libpam-cap
  libpam-systemd libpolkit-agent-1-0 libpolkit-gobject-1-0 libproxy1v5
---
  python3-requests-unixsocket python3-six python3-software-properties
  python3-urllib3 systemd systemd-sysv systemd-timesyncd ucf
  unattended-upgrades
Suggested packages:
  pinentry-gnome3 tor parcimonie xloadimage scdaemon isoquery
  gstreamer1.0-tools iw | wireless-tools appstream pinentry-doc
  python3-setuptools python3-cryptography python3-openssl python3-socks
  python3-setuptools python3-cryptography python3-openssl python3-socks
  systemd-container bsd-mailx default-mta | mail-transport-agent needrestart
  powermgmt-base
  apt-transport-https dbus dbus-user-session dconf-gsettings-backend
  apt-transport-https dbus dbus-user-session dconf-gsettings-backend
  dconf-service dirmngr distro-info-data dmsetup gir1.2-glib-2.0
  gir1.2-packagekitglib-1.0 glib-networking glib-networking-common
  glib-networking-services gnupg gnupg-l10n gnupg-utils gpg gpg-agent
  gpg-wks-client gpg-wks-server gpgconf gpgsm gsettings-desktop-schemas
  libcap2-bin libcryptsetup12 libdbus-1-3 libdconf1 libdevmapper1.02.1
  libgirepository-1.0-1 libglib2.0-bin libglib2.0-data libgstreamer1.0-0
  libip4tc2 libjson-c4 libkmod2 libksba8 liblmdb0 libnpth0 libnss-systemd
  libpackagekit-glib2-18 libpam-cap libpam-systemd libpolkit-agent-1-0
  libpackagekit-glib2-18 libpam-cap libpam-systemd libpolkit-agent-1-0
  libpolkit-gobject-1-0 libproxy1v5 libsoup2.4-1 libstemmer0d lsb-release
  networkd-dispatcher packagekit packagekit-tools pinentry-curses policykit-1
  python-apt-common python3-apt python3-certifi python3-chardet python3-dbus
  python3-distro-info python3-gi python3-idna python3-pkg-resources
  python3-requests python3-requests-unixsocket python3-six
  python3-software-properties python3-urllib3 software-properties-common
  systemd systemd-sysv systemd-timesyncd ucf unattended-upgrades wget
  gpgv
1 upgraded, 80 newly installed, 0 to remove and 8 not upgraded.
Need to get 14.6 MB of archives.
After this operation, 66.2 MB of additional disk space will be used.
---
Get:51 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 glib-networking-common all 2.64.2-1ubuntu0.1 [5040 B]
Get:52 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 glib-networking-services amd64 2.64.2-1ubuntu0.1 [10.6 kB]
Get:53 http://archive.ubuntu.com/ubuntu focal/main amd64 gsettings-desktop-schemas all 3.36.0-1ubuntu1 [29.0 kB]
Get:54 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 glib-networking amd64 2.64.2-1ubuntu0.1 [58.2 kB]
Get:55 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 gnupg-l10n all 2.2.19-3ubuntu2.2 [51.7 kB]
Get:56 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 gnupg-utils amd64 2.2.19-3ubuntu2.2 [481 kB]
Get:58 http://archive.ubuntu.com/ubuntu focal/main amd64 pinentry-curses amd64 1.1.0-3build1 [36.3 kB]
Get:59 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 gpg-agent amd64 2.2.19-3ubuntu2.2 [232 kB]
Get:59 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 gpg-agent amd64 2.2.19-3ubuntu2.2 [232 kB]
Get:60 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 gpg-wks-client amd64 2.2.19-3ubuntu2.2 [97.4 kB]
Get:61 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 gpg-wks-server amd64 2.2.19-3ubuntu2.2 [90.2 kB]
Get:62 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 gpgsm amd64 2.2.19-3ubuntu2.2 [217 kB]
Get:63 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 gnupg all 2.2.19-3ubuntu2.2 [259 kB]
Get:65 http://archive.ubuntu.com/ubuntu focal/main amd64 libstemmer0d amd64 0+svn585-2 [61.7 kB]
Get:66 http://archive.ubuntu.com/ubuntu focal/main amd64 libappstream4 amd64 0.12.10-2 [129 kB]
Get:67 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libglib2.0-bin amd64 2.64.6-1~ubuntu20.04.4 [72.6 kB]
Get:68 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libgstreamer1.0-0 amd64 1.16.3-0ubuntu1 [893 kB]
---
(Reading database ... 100%
(Reading database ... 23013 files and directories currently installed.)
Preparing to unpack .../systemd-sysv_245.4-4ubuntu3.17_amd64.deb ...
Unpacking systemd-sysv (245.4-4ubuntu3.17) ...
Preparing to unpack .../gpgv_2.2.19-3ubuntu2.2_amd64.deb ...
Unpacking gpgv (2.2.19-3ubuntu2.2) over (2.2.19-3ubuntu2.1) ...
Setting up gpgv (2.2.19-3ubuntu2.2) ...
(Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
---
Selecting previously unselected package python3-gi.
Preparing to unpack .../13-python3-gi_3.36.0-1_amd64.deb ...
Unpacking python3-gi (3.36.0-1) ...
Selecting previously unselected package networkd-dispatcher.
Preparing to unpack .../14-networkd-dispatcher_2.1-2~ubuntu20.04.3_all.deb ...
Unpacking networkd-dispatcher (2.1-2~ubuntu20.04.3) ...
Preparing to unpack .../15-python3-pkg-resources_45.2.0-1_all.deb ...
Unpacking python3-pkg-resources (45.2.0-1) ...
Selecting previously unselected package python3-six.
Preparing to unpack .../16-python3-six_1.14.0-2_all.deb ...
---
Unpacking gsettings-desktop-schemas (3.36.0-1ubuntu1) ...
Selecting previously unselected package glib-networking:amd64.
Preparing to unpack .../41-glib-networking_2.64.2-1ubuntu0.1_amd64.deb ...
Unpacking glib-networking:amd64 (2.64.2-1ubuntu0.1) ...
Selecting previously unselected package gnupg-l10n.
Preparing to unpack .../42-gnupg-l10n_2.2.19-3ubuntu2.2_all.deb ...
Unpacking gnupg-l10n (2.2.19-3ubuntu2.2) ...
Selecting previously unselected package gnupg-utils.
Preparing to unpack .../43-gnupg-utils_2.2.19-3ubuntu2.2_amd64.deb ...
Unpacking gnupg-utils (2.2.19-3ubuntu2.2) ...
Preparing to unpack .../44-gpg_2.2.19-3ubuntu2.2_amd64.deb ...
Unpacking gpg (2.2.19-3ubuntu2.2) ...
Selecting previously unselected package pinentry-curses.
Preparing to unpack .../45-pinentry-curses_1.1.0-3build1_amd64.deb ...
Preparing to unpack .../45-pinentry-curses_1.1.0-3build1_amd64.deb ...
Unpacking pinentry-curses (1.1.0-3build1) ...
Selecting previously unselected package gpg-agent.
Preparing to unpack .../46-gpg-agent_2.2.19-3ubuntu2.2_amd64.deb ...
Unpacking gpg-agent (2.2.19-3ubuntu2.2) ...
Selecting previously unselected package gpg-wks-client.
Preparing to unpack .../47-gpg-wks-client_2.2.19-3ubuntu2.2_amd64.deb ...
Unpacking gpg-wks-client (2.2.19-3ubuntu2.2) ...
Selecting previously unselected package gpg-wks-server.
Preparing to unpack .../48-gpg-wks-server_2.2.19-3ubuntu2.2_amd64.deb ...
Unpacking gpg-wks-server (2.2.19-3ubuntu2.2) ...
Selecting previously unselected package gpgsm.
Preparing to unpack .../49-gpgsm_2.2.19-3ubuntu2.2_amd64.deb ...
Unpacking gpgsm (2.2.19-3ubuntu2.2) ...
Selecting previously unselected package gnupg.
Preparing to unpack .../50-gnupg_2.2.19-3ubuntu2.2_all.deb ...
Unpacking gnupg (2.2.19-3ubuntu2.2) ...
Preparing to unpack .../51-libsoup2.4-1_2.70.0-1_amd64.deb ...
Unpacking libsoup2.4-1:amd64 (2.70.0-1) ...
Selecting previously unselected package libstemmer0d:amd64.
Preparing to unpack .../52-libstemmer0d_0+svn585-2_amd64.deb ...
---
Unpacking python3-software-properties (0.99.9.8) ...
Selecting previously unselected package software-properties-common.
Preparing to unpack .../67-software-properties-common_0.99.9.8_all.deb ...
Unpacking software-properties-common (0.99.9.8) ...
Selecting previously unselected package unattended-upgrades.
Preparing to unpack .../68-unattended-upgrades_2.3ubuntu0.3_all.deb ...
Unpacking unattended-upgrades (2.3ubuntu0.3) ...
Setting up libksba8:amd64 (1.3.5-2) ...
Setting up liblmdb0:amd64 (0.9.24-1) ...
Setting up systemd-sysv (245.4-4ubuntu3.17) ...
Setting up libproxy1v5:amd64 (0.4.15-10ubuntu1.2) ...
---
Setting up python3-six (1.14.0-2) ...
Setting up libglib2.0-data (2.64.6-1~ubuntu20.04.4) ...
Setting up python3-chardet (3.0.4-4build1) ...
Setting up python3-certifi (2019.11.28-1) ...
Setting up gnupg-l10n (2.2.19-3ubuntu2.2) ...
Setting up dbus (1.12.16-2ubuntu2.2) ...
Setting up python3-idna (2.8-1) ...
Setting up ucf (3.0038+nmu1) ...
Setting up python3-urllib3 (1.25.8-2ubuntu0.1) ...
---
Created symlink /etc/systemd/user/sockets.target.wants/dirmngr.socket → /usr/lib/systemd/user/dirmngr.socket.
Setting up dbus-user-session (1.12.16-2ubuntu2.2) ...
Setting up unattended-upgrades (2.3ubuntu0.3) ...

Creating config file /etc/apt/apt.conf.d/20auto-upgrades with new version

Creating config file /etc/apt/apt.conf.d/50unattended-upgrades with new version
Created symlink /etc/systemd/system/multi-user.target.wants/unattended-upgrades.service → /lib/systemd/system/unattended-upgrades.service.
Setting up gir1.2-glib-2.0:amd64 (1.64.1-1~ubuntu20.04.1) ...
Setting up gir1.2-glib-2.0:amd64 (1.64.1-1~ubuntu20.04.1) ...
Setting up gpg-wks-server (2.2.19-3ubuntu2.2) ...
Setting up policykit-1 (0.105-26ubuntu1.3) ...
Setting up policykit-1 (0.105-26ubuntu1.3) ...
Setting up gpg-wks-client (2.2.19-3ubuntu2.2) ...
Setting up python3-requests-unixsocket (0.2.0-2) ...
Setting up gir1.2-packagekitglib-1.0 (1.1.13-2ubuntu1.1) ...
Setting up python3-gi (3.36.0-1) ...
Setting up gnupg (2.2.19-3ubuntu2.2) ...
Setting up gnupg (2.2.19-3ubuntu2.2) ...
Setting up networkd-dispatcher (2.1-2~ubuntu20.04.3) ...
Created symlink /etc/systemd/system/multi-user.target.wants/networkd-dispatcher.service → /lib/systemd/system/networkd-dispatcher.service.
Setting up python3-software-properties (0.99.9.8) ...
Setting up gsettings-desktop-schemas (3.36.0-1ubuntu1) ...
Processing triggers for libglib2.0-0:amd64 (2.64.6-1~ubuntu20.04.4) ...
Processing triggers for libc-bin (2.31-0ubuntu9.9) ...
---
Setting up packagekit-tools (1.1.13-2ubuntu1.1) ...
Setting up software-properties-common (0.99.9.8) ...
Processing triggers for libc-bin (2.31-0ubuntu9.9) ...
Processing triggers for dbus (1.12.16-2ubuntu2.2) ...
Selecting previously unselected package packages-microsoft-prod.
(Reading database ... 25397 files and directories currently installed.)
Preparing to unpack packages-microsoft-prod.deb ...
Unpacking packages-microsoft-prod (1.0-ubuntu20.04.1) ...
Setting up packages-microsoft-prod (1.0-ubuntu20.04.1) ...
Get:1 https://packages.microsoft.com/ubuntu/20.04/prod focal InRelease [10.5 kB]
Get:2 https://packages.microsoft.com/ubuntu/20.04/prod focal/main armhf Packages [24.6 kB]
Get:3 https://packages.microsoft.com/ubuntu/20.04/prod focal/main arm64 Packages [32.4 kB]
Get:4 https://packages.microsoft.com/ubuntu/20.04/prod focal/main amd64 Packages [197 kB]
Get:6 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:7 http://archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:8 http://archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Fetched 600 kB in 1s (767 kB/s)
---
  powershell
0 upgraded, 1 newly installed, 0 to remove and 8 not upgraded.
Need to get 69.4 MB of archives.
After this operation, 191 MB of additional disk space will be used.
Get:1 https://packages.microsoft.com/ubuntu/20.04/prod focal/main amd64 powershell amd64 7.2.5-1.deb [69.4 MB]
Fetched 69.4 MB in 1s (89.0 MB/s)
Selecting previously unselected package powershell.
(Reading database ... 
(Reading database ... 5%
---
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 25405 files and directories currently installed.)
Preparing to unpack .../powershell_7.2.5-1.deb_amd64.deb ...
Unpacking powershell (7.2.5-1.deb) ...
Setting up powershell (7.2.5-1.deb) ...
 ---> 5fd837dc4102
Step 5/8 : COPY scripts/sccache.sh /scripts/
 ---> e66a8f0bd136
Step 6/8 : RUN sh /scripts/sccache.sh
---
Step 7/8 : ENV RUST_CONFIGURE_ARGS       --build=x86_64-unknown-linux-gnu       --llvm-root=/usr/lib/llvm-12       --enable-llvm-link-shared       --set rust.thin-lto-import-instr-limit=10
 ---> Running in 05964ff0e98e
Removing intermediate container 05964ff0e98e
 ---> 9d0795a2d191
Step 8/8 : ENV SCRIPT ../x.py --stage 2 test --exclude src/tools/tidy &&            ../x.sh --stage 2 test src/test/mir-opt                              --host='' --target=i686-unknown-linux-gnu &&            ../x.ps1 ../x.py --stage 2 test src/test/ui --pass=check                              --host='' --target=i686-unknown-linux-gnu &&            python2.7 ../x.py --stage 2 test src/tools/tidy
Removing intermediate container aeee8a452574
 ---> 3b8d37ffa99e
Successfully built 3b8d37ffa99e
Successfully tagged rust-ci:latest
Successfully tagged rust-ci:latest
Built container sha256:3b8d37ffa99e1ddef841d141ac4ad142e5caa7d07f64fedb2d21fdbdf25d14e3
Uploading finished image to https://ci-caches.rust-lang.org/docker/d1cbb9fe51628dd50516168072c4772a5d60c6514886301ac7ca78656d79fce0efc02aaa535d7586dba8e1dee0cbdb345e3660b8dd61d406a6cf54ebb0966797
upload failed: - to s3://rust-lang-ci-sccache2/docker/d1cbb9fe51628dd50516168072c4772a5d60c6514886301ac7ca78656d79fce0efc02aaa535d7586dba8e1dee0cbdb345e3660b8dd61d406a6cf54ebb0966797 Unable to locate credentials
[CI_JOB_NAME=x86_64-gnu-llvm-12]
---
Build completed successfully in 0:01:33
+ ../x.ps1 ../x.py --stage 2 test src/test/ui --pass=check --host= --target=i686-unknown-linux-gnu
Building rustbuild
    Finished dev [unoptimized] target(s) in 0.04s
Usage: x.py <subcommand> [options] [<paths>...]
Subcommands:
Build completed unsuccessfully in 0:00:00
Build completed unsuccessfully in 0:00:00
    build, b    Compile either the compiler or libraries
    check, c    Compile either the compiler or libraries, using cargo check
    clippy      Run clippy (uses rustup/cargo-installed clippy binary)
    fix         Run cargo fix
    fmt         Run rustfmt
    test, t     Build and run some test suites
    bench       Build and run some benchmarks
    doc, d      Build documentation
    clean       Clean out build directories
    dist        Build distribution artifacts
    install     Install distribution artifacts
    run, r      Run tools contained in this repository
    setup       Create a config.toml (making it easier to use `x.py` itself)

To learn more about a subcommand, run `./x.py <subcommand> -h`

Sorry, I couldn't figure out which subcommand you were trying to specify.
You may need to move some options to after the subcommand.
