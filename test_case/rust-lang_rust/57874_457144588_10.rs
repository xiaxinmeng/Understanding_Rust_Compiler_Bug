\n"},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/static/static-drop-scope.rs","byte_start":334,"byte_end":342,"line_start":13,"line_end":13,"column_start":59,"column_end":67,"is_primary":true,"text":[{"text":"const PROMOTION_FAIL_C: Option<&'static WithDtor> = Some(&WithDtor);","highlight_start":59,"highlight_end":67}],"label":"creates a temporary which is freed while still in use","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/static/static-drop-scope.rs","byte_start":342,"byte_end":343,"line_start":13,"line_end":13,"column_start":67,"column_end":68,"is_primary":false,"text":[{"text":"const PROMOTION_FAIL_C: Option<&'static WithDtor> = Some(&WithDtor);","highlight_start":67,"highlight_end":68}],"label":"temporary value is freed at the end of this statement","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/static/static-drop-scope.rs","byte_start":328,"byte_end":343,"line_start":13,"line_end":13,"column_start":53,"column_end":68,"is_primary":false,"text":[{"text":"const PROMOTION_FAIL_C: Option<&'static WithDtor> = Some(&WithDtor);","highlight_start":53,"highlight_end":68}],"label":"using this value as a constant requires that borrow lasts for `'static`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error[E0716]: temporary value dropped while borrowed\n  --> /checkout/src/test/ui/static/static-drop-scope.rs:13:59\n   |\nLL | const PROMOTION_FAIL_C: Option<&'static WithDtor> = Some(&WithDtor);\n   |                                                     ------^^^^^^^^-\n   |                                                     |     |       |\n   |                                                     |     |       temporary value is freed at the end of this statement\n   |                                                     |     creates a temporary which is freed while still in use\n   |                                                     using this value as a constant requires that borrow lasts for `'static`\n\n"}
[01:34:17] {"message":"destructors cannot be evaluated at compile-time","code":{"code":"E0493","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/static/static-drop-scope.rs","byte_start":483,"byte_end":496,"line_start":17,"line_end":17,"column_start":28,"column_end":41,"is_primary":true,"text":[{"text":"static EARLY_DROP_S: i32 = (WithDtor, 0).1;","highlight_start":28,"highlight_end":41}],"label":"statics cannot evaluate destructors","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error[E0493]: destructors cannot be evaluated at compile-time\n  --> /checkout/src/test/ui/static/static-drop-scope.rs:17:28\n   |\nLL | static EARLY_DROP_S: i32 = (WithDtor, 0).1;\n   |                            ^^^^^^^^^^^^^ statics cannot evaluate destructors\n\n"}
[01:34:17] {"message":"destructors cannot be evaluated at compile-time","code":{"code":"E0493","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/static/static-drop-scope.rs","byte_start":586,"byte_end":599,"line_start":20,"line_end":20,"column_start":27,"column_end":40,"is_primary":true,"text":[{"text":"const EARLY_DROP_C: i32 = (WithDtor, 0).1;","highlight_start":27,"highlight_end":40}],"label":"constants cannot evaluate destructors","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error[E0493]: destructors cannot be evaluated at compile-time\n  --> /checkout/src/test/ui/static/static-drop-scope.rs:20:27\n   |\nLL | const EARLY_DROP_C: i32 = (WithDtor, 0).1;\n   |                           ^^^^^^^^^^^^^ constants cannot evaluate destructors\n\n"}
[01:34:17] {"message":"destructors cannot be evaluated at compile-time","code":{"code":"E0493","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/static/static-drop-scope.rs","byte_start":686,"byte_end":687,"line_start":23,"line_end":23,"column_start":24,"column_end":25,"is_primary":true,"text":[{"text":"const fn const_drop<T>(_: T) {}","highlight_start":24,"highlight_end":25}],"label":"constant functions cannot evaluate destructors","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error[E0493]: destructors cannot be evaluated at compile-time\n  --> /checkout/src/test/ui/static/static-drop-scope.rs:23:24\n   |\nLL | const fn const_drop<T>(_: T) {}\n   |                        ^ constant functions cannot evaluate destructors\n\n"}
[01:34:17] {"message":"destructors cannot be evaluated at compile-time","code":{"code":"E0493","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/static/static-drop-scope.rs","byte_start":791,"byte_end":798,"line_start":27,"line_end":27,"column_start":5,"column_end":12,"is_primary":true,"text":[{"text":"    (x, ()).1","highlight_start":5,"highlight_end":12}],"label":"constant functions cannot evaluate destructors","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error[E0493]: destructors cannot be evaluated at compile-time\n  --> /checkout/src/test/ui/static/static-drop-scope.rs:27:5\n   |\nLL |     (x, ()).1\n   |     ^^^^^^^ constant functions cannot evaluate destructors\n\n"}
[01:34:17] {"message":"destructors cannot be evaluated at compile-time","code":{"code":"E0493","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/static/static-drop-scope.rs","byte_start":900,"byte_end":919,"line_start":31,"line_end":31,"column_start":34,"column_end":53,"is_primary":true,"text":[{"text":"const EARLY_DROP_C_OPTION: i32 = (Some(WithDtor), 0).1;","highlight_start":34,"highlight_end":53}],"label":"constants cannot evaluate destructors","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error[E0493]: destructors cannot be evaluated at compile-time\n  --> /checkout/src/test/ui/static/static-drop-scope.rs:31:34\n   |\nLL | const EARLY_DROP_C_OPTION: i32 = (Some(WithDtor), 0).1;\n   |                                  ^^^^^^^^^^^^^^^^^^^ constants cannot evaluate destructors\n\n"}
[01:34:17] {"message":"destructors cannot be evaluated at compile-time","code":{"code":"E0493","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/static/static-drop-scope.rs","byte_start":1075,"byte_end":1086,"line_start":36,"line_end":36,"column_start":43,"column_end":54,"is_primary":true,"text":[{"text":"const EARLY_DROP_C_OPTION_CONSTANT: i32 = (HELPER, 0).1;","highlight_start":43,"highlight_end":54}],"label":"constants cannot evaluate destructors","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error[E0493]: destructors cannot be evaluated at compile-time\n  --> /checkout/src/test/ui/static/static-drop-scope.rs:36:43\n   |\nLL | const EARLY_DROP_C_OPTION_CONSTANT: i32 = (HELPER, 0).1;\n   |                                           ^^^^^^^^^^^ constants cannot evaluate destructors\n\n"}
[01:34:17] {"message":"aborting due to 10 previous errors","code":null,"level":"error","spans":[],"children":[],"rendered":"error: aborting due to 10 previous errors\n\n"}
[01:34:17] {"message":"Some errors occurred: E0493, E0716.","code":null,"level":"","spans":[],"children":[],"rendered":"Some errors occurred: E0493, E0716.\n"}
[01:34:17] 
[01:34:17] ------------------------------------------
[01:34:17] 
[01:34:17] thread '[ui (nll)] ui/static/static-drop-scope.rs' panicked at 'explicit panic', src/tools/compiletest/src/runtest.rs:3245:9
---
[01:34:17] 
[01:34:17] thread 'main' panicked at 'Some tests failed', src/tools/compiletest/src/main.rs:495:22
[01:34:17] 
[01:34:17] 
[01:34:17] command did not execute successfully: "/checkout/obj/build/x86_64-unknown-linux-gnu/stage0-tools-bin/compiletest" "--compile-lib-path" "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib" "--run-lib-path" "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib" "--rustc-path" "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/rustc" "--src-base" "/checkout/src/test/ui" "--build-base" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/ui" "--stage-id" "stage2-x86_64-unknown-linux-gnu" "--mode" "ui" "--target" "x86_64-unknown-linux-gnu" "--host" "x86_64-unknown-linux-gnu" "--llvm-filecheck" "/checkout/obj/build/x86_64-unknown-linux-gnu/llvm/build/bin/FileCheck" "--host-rustcflags" "-Crpath -Zunstable-options  -Lnative=/checkout/obj/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "--target-rustcflags" "-Crpath -Zunstable-options  -Lnative=/checkout/obj/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "--docck-python" "/usr/bin/python2.7" "--lldb-python" "/usr/bin/python2.7" "--gdb" "/usr/bin/gdb" "--llvm-version" "8.0.0svn\n" "--cc" "" "--cxx" "" "--cflags" "" "--llvm-components" "" "--llvm-cxxflags" "" "--adb-path" "adb" "--adb-test-dir" "/data/tmp/work" "--android-cross-path" "" "--color" "always" "--compare-mode" "nll"
[01:34:17] 
[01:34:17] 
[01:34:17] failed to run: /checkout/obj/build/bootstrap/debug/bootstrap test
[01:34:17] Build completed unsuccessfully in 0:08:27
[01:34:17] Build completed unsuccessfully in 0:08:27
[01:34:17] Makefile:48: recipe for target 'check' failed
[01:34:17] make: *** [check] Error 1
The command "stamp sh -x -c "$RUN_SCRIPT"" exited with 2.
travis_time:start:1324a720
$ date && (curl -fs --head https://google.com | grep ^Date: | sed 's/Date: //g' || true)
Thu Jan 24 10:19:47 UTC 2019
---
travis_time:end:0fd8f8ad:start=1548325189255622015,finish=1548325189267399836,duration=11777821
travis_fold:end:after_failure.3
travis_fold:start:after_failure.4
travis_time:start:08fa4d34
$ ln -s . checkout && for CORE in obj/cores/core.*; do EXE=$(echo $CORE | sed 's|obj/cores/core\.[0-9]*\.!checkout!\(.*\)|\1|;y|!|/|'); if [ -f "$EXE" ]; then printf travis_fold":start:crashlog\n\033[31;1m%s\033[0m\n" "$CORE"; gdb --batch -q -c "$CORE" "$EXE" -iex 'set auto-load off' -iex 'dir src/' -iex 'set sysroot .' -ex bt -ex q; echo travis_fold":"end:crashlog; fi; done || true
travis_fold:end:after_failure.4
travis_fold:start:after_failure.5
travis_time:start:0b1c9e4b
travis_time:start:0b1c9e4b
$ cat ./obj/build/x86_64-unknown-linux-gnu/native/asan/build/lib/asan/clang_rt.asan-dynamic-i386.vers || true
cat: ./obj/build/x86_64-unknown-linux-gnu/native/asan/build/lib/asan/clang_rt.asan-dynamic-i386.vers: No such file or directory
travis_fold:end:after_failure.5
travis_fold:start:after_failure.6
travis_time:start:009e49cc
$ dmesg | grep -i kill
