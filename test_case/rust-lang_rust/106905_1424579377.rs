plain
[RUSTC-TIMING] thiserror_impl test:false 2.363
[RUSTC-TIMING] thiserror test:false 0.089
[RUSTC-TIMING] globset test:false 2.765
[RUSTC-TIMING] ignore test:false 3.626
error: internal compiler error: /checkout/compiler/rustc_mir_dataflow/src/elaborate_drops.rs:897:18: open drop from non-ADT `<rustc_ast::ModKind as std::borrow::ToOwned>::Owned`
    |
326 |     }
    |     ^


thread 'rustc' panicked at 'Box<dyn Any>', /checkout/compiler/rustc_errors/src/lib.rs:990:33
stack backtrace:
   0:     0x7f4b279e8cd5 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hc9615dabac31b5c8
   1:     0x7f4b27a523a8 - core::fmt::write::h33c6bda1cfa1c005
   2:     0x7f4b279db011 - std::io::Write::write_fmt::h0b0824b2b5292239
   3:     0x7f4b279e8ae5 - std::sys_common::backtrace::print::h133e7d6bc6581a4b
   4:     0x7f4b279ebd84 - std::panicking::default_hook::{{closure}}::h6ed05d29f4dacec4
   5:     0x7f4b279ebae6 - std::panicking::default_hook::h94f4a26dcff521e2
   6:     0x7f4b283d1332 - rustc_driver_impl[c5f769dcce44ea04]::DEFAULT_HOOK::{closure#0}::{closure#0}
   7:     0x7f4b279ec4e9 - std::panicking::rust_panic_with_hook::he1fd8ecd1b631b49
   8:     0x7f4b2916dce3 - std[f9abc8493ec77775]::panicking::begin_panic::<rustc_errors[ca3e6404096fd595]::ExplicitBug>::{closure#0}
   9:     0x7f4b2916a616 - std[f9abc8493ec77775]::sys_common::backtrace::__rust_end_short_backtrace::<std[f9abc8493ec77775]::panicking::begin_panic<rustc_errors[ca3e6404096fd595]::ExplicitBug>::{closure#0}, !>
  10:     0x7f4b2823ca46 - std[f9abc8493ec77775]::panicking::begin_panic::<rustc_errors[ca3e6404096fd595]::ExplicitBug>
  11:     0x7f4b28f98276 - std[f9abc8493ec77775]::panic::panic_any::<rustc_errors[ca3e6404096fd595]::ExplicitBug>
  12:     0x7f4b28f90584 - <rustc_errors[ca3e6404096fd595]::HandlerInner>::span_bug::<rustc_span[9c66bc3ab0bd1e6c]::span_encoding::Span, &alloc[15e4fbbc019aecab]::string::String>
  13:     0x7f4b28f902d7 - <rustc_errors[ca3e6404096fd595]::Handler>::span_bug::<rustc_span[9c66bc3ab0bd1e6c]::span_encoding::Span, &alloc[15e4fbbc019aecab]::string::String>
  14:     0x7f4b2910c335 - rustc_middle[8527cd75aff7f726]::util::bug::opt_span_bug_fmt::<rustc_span[9c66bc3ab0bd1e6c]::span_encoding::Span>::{closure#0}
  15:     0x7f4b2910c3ac - rustc_middle[8527cd75aff7f726]::ty::context::tls::with_opt::<rustc_middle[8527cd75aff7f726]::util::bug::opt_span_bug_fmt<rustc_span[9c66bc3ab0bd1e6c]::span_encoding::Span>::{closure#0}, !>::{closure#0}
  16:     0x7f4b291050ce - rustc_middle[8527cd75aff7f726]::ty::context::tls::with_context_opt::<rustc_middle[8527cd75aff7f726]::ty::context::tls::with_opt<rustc_middle[8527cd75aff7f726]::util::bug::opt_span_bug_fmt<rustc_span[9c66bc3ab0bd1e6c]::span_encoding::Span>::{closure#0}, !>::{closure#0}, !>
  17:     0x7f4b29105049 - rustc_middle[8527cd75aff7f726]::util::bug::opt_span_bug_fmt::<rustc_span[9c66bc3ab0bd1e6c]::span_encoding::Span>
  18:     0x7f4b2823c547 - rustc_middle[8527cd75aff7f726]::util::bug::span_bug_fmt::<rustc_span[9c66bc3ab0bd1e6c]::span_encoding::Span>
  19:     0x7f4b2910f68c - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::elaborate_drop
  20:     0x7f4b2910d958 - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_subpath
  21:     0x7f4b29034195 - <core[227bb99c5fb99b7f]::iter::adapters::map::Map<core[227bb99c5fb99b7f]::iter::adapters::zip::Zip<core[227bb99c5fb99b7f]::iter::adapters::rev::Rev<core[227bb99c5fb99b7f]::slice::iter::Iter<(rustc_middle[8527cd75aff7f726]::mir::syntax::Place, core[227bb99c5fb99b7f]::option::Option<rustc_mir_dataflow[594f89a7c6b53e02]::move_paths::MovePathIndex>)>>, core[227bb99c5fb99b7f]::slice::iter::Iter<rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::Unwind>>, <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_halfladder::{closure#0}> as core[227bb99c5fb99b7f]::iter::traits::iterator::Iterator>::fold::<(), core[227bb99c5fb99b7f]::iter::traits::iterator::Iterator::for_each::call<rustc_middle[8527cd75aff7f726]::mir::BasicBlock, <alloc[15e4fbbc019aecab]::vec::Vec<rustc_middle[8527cd75aff7f726]::mir::BasicBlock>>::extend_trusted<core[227bb99c5fb99b7f]::iter::adapters::chain::Chain<core[227bb99c5fb99b7f]::iter::sources::once::Once<rustc_middle[8527cd75aff7f726]::mir::BasicBlock>, core[227bb99c5fb99b7f]::iter::adapters::map::Map<core[227bb99c5fb99b7f]::iter::adapters::zip::Zip<core[227bb99c5fb99b7f]::iter::adapters::rev::Rev<core[227bb99c5fb99b7f]::slice::iter::Iter<(rustc_middle[8527cd75aff7f726]::mir::syntax::Place, core[227bb99c5fb99b7f]::option::Option<rustc_mir_dataflow[594f89a7c6b53e02]::move_paths::MovePathIndex>)>>, core[227bb99c5fb99b7f]::slice::iter::Iter<rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::Unwind>>, <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_halfladder::{closure#0}>>>::{closure#0}>::{closure#0}>
  22:     0x7f4b290ea5c9 - <alloc[15e4fbbc019aecab]::vec::Vec<rustc_middle[8527cd75aff7f726]::mir::BasicBlock> as alloc[15e4fbbc019aecab]::vec::spec_from_iter::SpecFromIter<rustc_middle[8527cd75aff7f726]::mir::BasicBlock, core[227bb99c5fb99b7f]::iter::adapters::chain::Chain<core[227bb99c5fb99b7f]::iter::sources::once::Once<rustc_middle[8527cd75aff7f726]::mir::BasicBlock>, core[227bb99c5fb99b7f]::iter::adapters::map::Map<core[227bb99c5fb99b7f]::iter::adapters::zip::Zip<core[227bb99c5fb99b7f]::iter::adapters::rev::Rev<core[227bb99c5fb99b7f]::slice::iter::Iter<(rustc_middle[8527cd75aff7f726]::mir::syntax::Place, core[227bb99c5fb99b7f]::option::Option<rustc_mir_dataflow[594f89a7c6b53e02]::move_paths::MovePathIndex>)>>, core[227bb99c5fb99b7f]::slice::iter::Iter<rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::Unwind>>, <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_halfladder::{closure#0}>>>>::from_iter
  23:     0x7f4b2910cfc6 - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_ladder
  24:     0x7f4b29111444 - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::open_drop_for_adt
  25:     0x7f4b2910f291 - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::elaborate_drop
  26:     0x7f4b2910d958 - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_subpath
  27:     0x7f4b29034195 - <core[227bb99c5fb99b7f]::iter::adapters::map::Map<core[227bb99c5fb99b7f]::iter::adapters::zip::Zip<core[227bb99c5fb99b7f]::iter::adapters::rev::Rev<core[227bb99c5fb99b7f]::slice::iter::Iter<(rustc_middle[8527cd75aff7f726]::mir::syntax::Place, core[227bb99c5fb99b7f]::option::Option<rustc_mir_dataflow[594f89a7c6b53e02]::move_paths::MovePathIndex>)>>, core[227bb99c5fb99b7f]::slice::iter::Iter<rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::Unwind>>, <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_halfladder::{closure#0}> as core[227bb99c5fb99b7f]::iter::traits::iterator::Iterator>::fold::<(), core[227bb99c5fb99b7f]::iter::traits::iterator::Iterator::for_each::call<rustc_middle[8527cd75aff7f726]::mir::BasicBlock, <alloc[15e4fbbc019aecab]::vec::Vec<rustc_middle[8527cd75aff7f726]::mir::BasicBlock>>::extend_trusted<core[227bb99c5fb99b7f]::iter::adapters::chain::Chain<core[227bb99c5fb99b7f]::iter::sources::once::Once<rustc_middle[8527cd75aff7f726]::mir::BasicBlock>, core[227bb99c5fb99b7f]::iter::adapters::map::Map<core[227bb99c5fb99b7f]::iter::adapters::zip::Zip<core[227bb99c5fb99b7f]::iter::adapters::rev::Rev<core[227bb99c5fb99b7f]::slice::iter::Iter<(rustc_middle[8527cd75aff7f726]::mir::syntax::Place, core[227bb99c5fb99b7f]::option::Option<rustc_mir_dataflow[594f89a7c6b53e02]::move_paths::MovePathIndex>)>>, core[227bb99c5fb99b7f]::slice::iter::Iter<rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::Unwind>>, <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_halfladder::{closure#0}>>>::{closure#0}>::{closure#0}>
  28:     0x7f4b290ea5c9 - <alloc[15e4fbbc019aecab]::vec::Vec<rustc_middle[8527cd75aff7f726]::mir::BasicBlock> as alloc[15e4fbbc019aecab]::vec::spec_from_iter::SpecFromIter<rustc_middle[8527cd75aff7f726]::mir::BasicBlock, core[227bb99c5fb99b7f]::iter::adapters::chain::Chain<core[227bb99c5fb99b7f]::iter::sources::once::Once<rustc_middle[8527cd75aff7f726]::mir::BasicBlock>, core[227bb99c5fb99b7f]::iter::adapters::map::Map<core[227bb99c5fb99b7f]::iter::adapters::zip::Zip<core[227bb99c5fb99b7f]::iter::adapters::rev::Rev<core[227bb99c5fb99b7f]::slice::iter::Iter<(rustc_middle[8527cd75aff7f726]::mir::syntax::Place, core[227bb99c5fb99b7f]::option::Option<rustc_mir_dataflow[594f89a7c6b53e02]::move_paths::MovePathIndex>)>>, core[227bb99c5fb99b7f]::slice::iter::Iter<rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::Unwind>>, <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_halfladder::{closure#0}>>>>::from_iter
  29:     0x7f4b2910cfc6 - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_ladder
  30:     0x7f4b29111444 - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::open_drop_for_adt
  31:     0x7f4b2910f291 - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::elaborate_drop
  32:     0x7f4b2910d958 - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_subpath
  33:     0x7f4b29034195 - <core[227bb99c5fb99b7f]::iter::adapters::map::Map<core[227bb99c5fb99b7f]::iter::adapters::zip::Zip<core[227bb99c5fb99b7f]::iter::adapters::rev::Rev<core[227bb99c5fb99b7f]::slice::iter::Iter<(rustc_middle[8527cd75aff7f726]::mir::syntax::Place, core[227bb99c5fb99b7f]::option::Option<rustc_mir_dataflow[594f89a7c6b53e02]::move_paths::MovePathIndex>)>>, core[227bb99c5fb99b7f]::slice::iter::Iter<rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::Unwind>>, <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_halfladder::{closure#0}> as core[227bb99c5fb99b7f]::iter::traits::iterator::Iterator>::fold::<(), core[227bb99c5fb99b7f]::iter::traits::iterator::Iterator::for_each::call<rustc_middle[8527cd75aff7f726]::mir::BasicBlock, <alloc[15e4fbbc019aecab]::vec::Vec<rustc_middle[8527cd75aff7f726]::mir::BasicBlock>>::extend_trusted<core[227bb99c5fb99b7f]::iter::adapters::chain::Chain<core[227bb99c5fb99b7f]::iter::sources::once::Once<rustc_middle[8527cd75aff7f726]::mir::BasicBlock>, core[227bb99c5fb99b7f]::iter::adapters::map::Map<core[227bb99c5fb99b7f]::iter::adapters::zip::Zip<core[227bb99c5fb99b7f]::iter::adapters::rev::Rev<core[227bb99c5fb99b7f]::slice::iter::Iter<(rustc_middle[8527cd75aff7f726]::mir::syntax::Place, core[227bb99c5fb99b7f]::option::Option<rustc_mir_dataflow[594f89a7c6b53e02]::move_paths::MovePathIndex>)>>, core[227bb99c5fb99b7f]::slice::iter::Iter<rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::Unwind>>, <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_halfladder::{closure#0}>>>::{closure#0}>::{closure#0}>
  34:     0x7f4b290ea5c9 - <alloc[15e4fbbc019aecab]::vec::Vec<rustc_middle[8527cd75aff7f726]::mir::BasicBlock> as alloc[15e4fbbc019aecab]::vec::spec_from_iter::SpecFromIter<rustc_middle[8527cd75aff7f726]::mir::BasicBlock, core[227bb99c5fb99b7f]::iter::adapters::chain::Chain<core[227bb99c5fb99b7f]::iter::sources::once::Once<rustc_middle[8527cd75aff7f726]::mir::BasicBlock>, core[227bb99c5fb99b7f]::iter::adapters::map::Map<core[227bb99c5fb99b7f]::iter::adapters::zip::Zip<core[227bb99c5fb99b7f]::iter::adapters::rev::Rev<core[227bb99c5fb99b7f]::slice::iter::Iter<(rustc_middle[8527cd75aff7f726]::mir::syntax::Place, core[227bb99c5fb99b7f]::option::Option<rustc_mir_dataflow[594f89a7c6b53e02]::move_paths::MovePathIndex>)>>, core[227bb99c5fb99b7f]::slice::iter::Iter<rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::Unwind>>, <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_halfladder::{closure#0}>>>>::from_iter
  35:     0x7f4b2910cec1 - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::drop_ladder
  36:     0x7f4b2911307a - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::open_drop_for_tuple
  37:     0x7f4b2910f49f - <rustc_mir_dataflow[594f89a7c6b53e02]::elaborate_drops::DropCtxt<rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::Elaborator>>::elaborate_drop
  38:     0x7f4b29020ad9 - <rustc_mir_transform[ff065e4bd117de47]::elaborate_drops::ElaborateDrops as rustc_middle[8527cd75aff7f726]::mir::MirPass>::run_pass
  39:     0x7f4b29175c91 - rustc_mir_transform[ff065e4bd117de47]::pass_manager::run_passes_inner
  40:     0x7f4b290287b8 - rustc_mir_transform[ff065e4bd117de47]::run_analysis_to_runtime_passes
  41:     0x7f4b29027f79 - rustc_mir_transform[ff065e4bd117de47]::mir_drops_elaborated_and_const_checked
  42:     0x7f4b2a60ae6c - rustc_query_system[4866fb94725cf693]::query::plumbing::try_execute_query::<rustc_query_impl[a8b5427a2288d42f]::queries::mir_drops_elaborated_and_const_checked, rustc_query_impl[a8b5427a2288d42f]::plumbing::QueryCtxt>
  43:     0x7f4b2a2834ea - <rustc_query_impl[a8b5427a2288d42f]::Queries as rustc_middle[8527cd75aff7f726]::ty::query::QueryEngine>::mir_drops_elaborated_and_const_checked
  44:     0x7f4b29029168 - rustc_mir_transform[ff065e4bd117de47]::optimized_mir
  45:     0x7f4b2a52f7f0 - rustc_query_system[4866fb94725cf693]::query::plumbing::try_execute_query::<rustc_query_impl[a8b5427a2288d42f]::queries::optimized_mir, rustc_query_impl[a8b5427a2288d42f]::plumbing::QueryCtxt>
  46:     0x7f4b2a2867dd - <rustc_query_impl[a8b5427a2288d42f]::Queries as rustc_middle[8527cd75aff7f726]::ty::query::QueryEngine>::optimized_mir
  47:     0x7f4b29050b48 - rustc_mir_transform[ff065e4bd117de47]::deduce_param_attrs::deduced_param_attrs
  48:     0x7f4b2a58d45d - rustc_query_system[4866fb94725cf693]::query::plumbing::try_execute_query::<rustc_query_impl[a8b5427a2288d42f]::queries::deduced_param_attrs, rustc_query_impl[a8b5427a2288d42f]::plumbing::QueryCtxt>
  49:     0x7f4b2a698dd6 - rustc_query_system[4866fb94725cf693]::query::plumbing::get_query::<rustc_query_impl[a8b5427a2288d42f]::queries::deduced_param_attrs, rustc_query_impl[a8b5427a2288d42f]::plumbing::QueryCtxt, rustc_middle[8527cd75aff7f726]::dep_graph::dep_node::DepKind>
  50:     0x7f4b2a2f168e - <rustc_query_impl[a8b5427a2288d42f]::Queries as rustc_middle[8527cd75aff7f726]::ty::query::QueryEngine>::deduced_param_attrs
  51:     0x7f4b2ac3a446 - <rustc_metadata[fc6a55612e2db67a]::rmeta::encoder::EncodeContext>::encode_crate_root
  52:     0x7f4b2ac47032 - rustc_metadata[fc6a55612e2db67a]::rmeta::encoder::encode_metadata_impl
  53:     0x7f4b2accb889 - rustc_data_structures[6336fbd3cd56e120]::sync::join::<rustc_metadata[fc6a55612e2db67a]::rmeta::encoder::encode_metadata::{closure#0}, rustc_metadata[fc6a55612e2db67a]::rmeta::encoder::encode_metadata::{closure#1}, (), ()>
  54:     0x7f4b2ac46484 - rustc_metadata[fc6a55612e2db67a]::rmeta::encoder::encode_metadata
  55:     0x7f4b2abf4b47 - rustc_metadata[fc6a55612e2db67a]::fs::encode_and_write_metadata
  56:     0x7f4b285b0a30 - rustc_interface[ba892ebd75f5ab19]::passes::start_codegen
  57:     0x7f4b285afe3f - <rustc_interface[ba892ebd75f5ab19]::passes::QueryContext>::enter::<<rustc_interface[ba892ebd75f5ab19]::queries::Queries>::ongoing_codegen::{closure#0}::{closure#0}, core[227bb99c5fb99b7f]::result::Result<alloc[15e4fbbc019aecab]::boxed::Box<dyn core[227bb99c5fb99b7f]::any::Any>, rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>>
  58:     0x7f4b28616c59 - <rustc_interface[ba892ebd75f5ab19]::queries::Queries>::ongoing_codegen
  59:     0x7f4b284613b4 - <rustc_interface[ba892ebd75f5ab19]::interface::Compiler>::enter::<rustc_driver_impl[c5f769dcce44ea04]::run_compiler::{closure#1}::{closure#2}, core[227bb99c5fb99b7f]::result::Result<core[227bb99c5fb99b7f]::option::Option<rustc_interface[ba892ebd75f5ab19]::queries::Linker>, rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>>
  60:     0x7f4b284a0546 - rustc_span[9c66bc3ab0bd1e6c]::with_source_map::<core[227bb99c5fb99b7f]::result::Result<(), rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>, rustc_interface[ba892ebd75f5ab19]::interface::run_compiler<core[227bb99c5fb99b7f]::result::Result<(), rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>, rustc_driver_impl[c5f769dcce44ea04]::run_compiler::{closure#1}>::{closure#0}::{closure#0}>
  61:     0x7f4b28461fec - <scoped_tls[79ce53cbf1c29d84]::ScopedKey<rustc_span[9c66bc3ab0bd1e6c]::SessionGlobals>>::set::<rustc_interface[ba892ebd75f5ab19]::interface::run_compiler<core[227bb99c5fb99b7f]::result::Result<(), rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>, rustc_driver_impl[c5f769dcce44ea04]::run_compiler::{closure#1}>::{closure#0}, core[227bb99c5fb99b7f]::result::Result<(), rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>>
  62:     0x7f4b283ec560 - std[f9abc8493ec77775]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[ba892ebd75f5ab19]::util::run_in_thread_pool_with_globals<rustc_interface[ba892ebd75f5ab19]::interface::run_compiler<core[227bb99c5fb99b7f]::result::Result<(), rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>, rustc_driver_impl[c5f769dcce44ea04]::run_compiler::{closure#1}>::{closure#0}, core[227bb99c5fb99b7f]::result::Result<(), rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[227bb99c5fb99b7f]::result::Result<(), rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>>
  63:     0x7f4b283e35b6 - <<std[f9abc8493ec77775]::thread::Builder>::spawn_unchecked_<rustc_interface[ba892ebd75f5ab19]::util::run_in_thread_pool_with_globals<rustc_interface[ba892ebd75f5ab19]::interface::run_compiler<core[227bb99c5fb99b7f]::result::Result<(), rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>, rustc_driver_impl[c5f769dcce44ea04]::run_compiler::{closure#1}>::{closure#0}, core[227bb99c5fb99b7f]::result::Result<(), rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[227bb99c5fb99b7f]::result::Result<(), rustc_errors[ca3e6404096fd595]::ErrorGuaranteed>>::{closure#1} as core[227bb99c5fb99b7f]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  64:     0x7f4b279f883e - std::sys::unix::thread::Thread::new::thread_start::h035adb68ac56c59e
  65:     0x7f4b27792b43 - <unknown>
  66:     0x7f4b27824a00 - <unknown>
  67:                0x0 - <unknown>
note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: rustc 1.69.0-nightly (c97b37ddb 2023-02-09) running on x86_64-unknown-linux-gnu


note: compiler flags: --crate-type lib -C opt-level=3 -C embed-bitcode=no -C debuginfo=0 -C debug-assertions=on -Z unstable-options -C symbol-mangling-version=v0 -Z unstable-options -Z macro-backtrace -C link-args=-Wl,-z,origin -C link-args=-Wl,-rpath,$ORIGIN/../lib -C split-debuginfo=off -Z binary-dep-depinfo -Z tls-model=initial-exec
note: some of the compiler flags provided by cargo are hidden

query stack during panic:
query stack during panic:
#0 [mir_drops_elaborated_and_const_checked] elaborating drops for `modules::<impl at src/tools/rustfmt/src/modules.rs:101:1: 101:47>::visit_sub_mod_after_directory_update`
#1 [optimized_mir] optimizing MIR for `modules::<impl at src/tools/rustfmt/src/modules.rs:101:1: 101:47>::visit_sub_mod_after_directory_update`
#2 [deduced_param_attrs] deducing parameter attributes for modules::<impl at src/tools/rustfmt/src/modules.rs:101:1: 101:47>::visit_sub_mod_after_directory_update
[RUSTC-TIMING] rustfmt_nightly test:false 10.359
error: could not compile `rustfmt-nightly`
[TIMING] tool::ToolBuild { compiler: Compiler { stage: 2, host: x86_64-unknown-linux-gnu }, target: x86_64-unknown-linux-gnu, tool: "rustfmt", path: "src/tools/rustfmt", mode: ToolRustc, is_optional_tool: true, source_type: InTree, extra_features: [], allow_features: "" } -- 13.357
[TIMING] tool::ToolBuild { compiler: Compiler { stage: 2, host: x86_64-unknown-linux-gnu }, target: x86_64-unknown-linux-gnu, tool: "rustfmt", path: "src/tools/rustfmt", mode: ToolRustc, is_optional_tool: true, source_type: InTree, extra_features: [], allow_features: "" } -- 13.357
thread 'main' panicked at 'in-tree tool', test.rs:425:14
[TIMING] tool::Rustfmt { compiler: Compiler { stage: 2, host: x86_64-unknown-linux-gnu }, target: x86_64-unknown-linux-gnu, extra_features: [] } -- 0.000
Build completed successfully in 0:00:15
