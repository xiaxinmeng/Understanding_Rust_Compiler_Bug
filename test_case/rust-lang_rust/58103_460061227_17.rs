\n"},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/consts/const-integer-bool-ops.rs","byte_start":1904,"byte_end":1915,"line_start":65,"line_end":65,"column_start":19,"column_end":30,"is_primary":true,"text":[{"text":"const Y4: usize = 42.0 < 42.0;","highlight_start":19,"highlight_end":30}],"label":"expected usize, found bool","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error[E0308]: mismatched types\n  --> /checkout/src/test/ui/consts/const-integer-bool-ops.rs:65:19\n   |\nLL | const Y4: usize = 42.0 < 42.0;\n   |                   ^^^^^^^^^^^ expected usize, found bool\n\n"}
[01:00:58] {"message":"any use of this value will cause an error","code":{"code":"const_err","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/consts/const-integer-bool-ops.rs","byte_start":1996,"byte_end":1998,"line_start":68,"line_end":68,"c: mismatched types\n  --> /checkout/src/test/ui/consts/const-integer-bool-ops.rs:71:19\n   |\nLL | const Y5: usize = 42.0 != 42.0;\n   |                   ^^^^^^^^^^^^ expected usize, found bool\n\n"}
[01:00:58] {"message":"any use of this value will cause an error","code":{"code":"const_err","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/consts/const-integer-bool-ops.rs","byte_start":2170,"byte_end":2172,"line_start":74,"line_end":74,"column_start":20,"column_end":22,"is_primary":true,"text":[{"text":"const ARRR5: [i32; Y5] = [99; 0];","highlight_start":20,"highlight_end":22}],"label":"referenced constant has errors","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error: any use of this value will cause an error\n  --> /checkout/src/test/ui/consts/const-integer-bool-ops.rs:74:20\n   |\nLL | const ARRR5: [i32; Y5] = [99; 0];\n   |                    ^^ referenced constant has errors\n\n"}
[01:00:58] {"message":"For more information about this error, try `rustc --explain E0308`.","code":null,"level":"","spans":[],"children":[],"rendered":"For more information about this error, try `rustc --explain E0308`.\n"}
[01:00:58] 
[01:00:58] ------------------------------------------
[01:00:58] 
[01:00:58] 
[01:00:58] thread '[ui] ui/consts/const-integer-bool-ops.rs' panicked at 'explicit panic', src/tools/compiletest/src/runtest.rs:3295:9
[01:00:58] 
[01:00:58] ---- [ui] ui/erroreckout/obj/build/x86_64-unknown-linux-gnu/test/ui/error-codes/E0080/a" "-Crpath" "-O" "-Zunstable-options" "-Lnative=/checkout/obj/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "-L" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/ui/error-codes/E0080/auxiliary" "-A" "unused"
[01:00:58] ------------------------------------------
[01:00:58] 
[01:00:58] ------------------------------------------
[01:00:58] stderr:
[01:00:58] stderr:
[01:00:58] ------------------------------------------
[01:00:58] {"message":"any use of this value will cause an error","code":{"code":"const_err","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/error-codes/E0080.rs","byte_start":20,"byte_end":30,"line_start":2,"line_end":2,"column_start":9,"column_end":19,"is_primary":true,"text":[{"text":"    X = (1 << 500), //~ ERROR E0080","highlight_start":9,"highlight_end":19}],"label":"attempt to shift left with overflow","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"#[deny(const_err)] on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"error: any use of this value will cause an error\n  --> /checkout/src/test/ui/error-codes/E0080.rs:2:9\n   |\nLL |     X = (1 << 500), //~ ERROR E0080\n   |         ^^^^^^^^^^ attempt to shift left with overflow\n   |\n   = note: #[deny(const_err)] on by default\n\n"}
[01:00:58] {"message":"any use of this value will cause an error","code":{"code":"const_err","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/error-codes/E0080.rs","byte_start":90,"byte_end":97,"line_start":4,"line_end":4,"column_start":9,"column_end":16,"is_primary":true,"text":[{"text":"    Y = (1 / 0) //~ ERROR E0080","highlight_start":9,"highlight_end":16}],"label":"attempt to divide by zero","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error: any use of this value will cause an error\n  --> /checkout/src/test/ui/error-codes/E0080.rs:4:9\n   |\nLL |     Y = (1 / 0) //~ ERROR E0080\n   |         ^^^^^^^ attempt to divide by zero\n\n"}
[01:00:58] 
[01:00:58] ------------------------------------------
[01:00:58] 
[01:00:58] thread '[ui] ui/error-codes/E0080.rs' panicked at 'explicit panic', src/tools/compiletest/src/runtest.rs:3295:9
[01:00:58] thread '[ui] ui/error-codes/E0080.rs' panicked at 'explicit panic', src/tools/compiletest/src/runtest.rs:3295:9
[01:00:58] 
[01:00:58] ---- [ui] ui/eval-enum.rs stdout ----
[01:00:58] diff of stderr:
[01:00:58] 
[01:00:58] - error[E0080]: evaluation of constant value failed
[01:00:58] + error: any use of this value will cause an error
[01:00:58] 3    |
[01:00:58] 3    |
[01:00:58] 4 LL |     DivZero = 1/0,
[01:00:58] 
[01:00:58] 5    |               ^^^ attempt to divide by zero
[01:00:58] +    = note: #[deny(const_err)] on by default
[01:00:58] 6 
[01:00:58] - error[E0080]: evaluation of constant value failed
[01:00:58] - error[E0080]: evaluation of constant value failed
[01:00:58] + error: any use of this value will cause an error
[01:00:58] 9    |
[01:00:58] 9    |
[01:00:58] 10 LL |     RemZero = 1%0,
[01:00:58] 12 
[01:00:58] 13 error: aborting due to 2 previous errors
[01:00:58] 14 
[01:00:58] - For more information about this error, try `rustc --explain E0080`.
[01:00:58] - For more information about this error, try `rustc --explain E0080`.
[01:00:58] 16 
[01:00:58] 
[01:00:58] 
[01:00:58] The actual stderr differed from the expected stderr.
[01:00:58] Actual stderr saved to /checkout/obj/build/x86_64-unknown-linux-gnu/test/ui/eval-enum/eval-enum.stderr
[01:00:58] To update references, rerun the tests and pass the `--bless` flag
[01:00:58] To only update this specific test, also pass `--test-args eval-enum.rs`
[01:00:58] error: 1 errors occurred comparing output.
[01:00:58] status: exit code: 1
[01:00:58] status: exit code: 1
[01:00:58] command: "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/rustc" "/checkout/src/test/ui/eval-enum.rs" "-Zthreads=1" "--target=x86_64-unknown-linux-gnu" "--error-format" "json" "-Zui-testing" "-C" "prefer-dynamic" "-o" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/ui/eval-enum/a" "-Crpath" "-O" "-Zunstable-options" "-Lnative=/checkout/obj/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "-L" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/ui/eval-enum/auxiliary" "-A" "unused"
[01:00:58] ------------------------------------------
[01:00:58] 
[01:00:58] ------------------------------------------
[01:00:58] stderr:
[01:00:58] stderr:
[01:00:58] ------------------------------------------
[01:00:58] {"message":"any use of this value will cause an error","code":{"code":"const_err","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/eval-enum.rs","byte_start":26,"byte_end":29,"line_start":2,"line_end":2,"column_start":15,"column_end":18,"is_primary":true,"text":[{"text":"    DivZero = 1/0,","highlight_start":15,"highlight_end":18}],"label":"attempt to divide by zero","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"#[deny(const_err)] on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"error: any use of this value will cause an error\n  --> /checkout/src/test/ui/eval-enum.rs:2:15\n   |\nLL |     DivZero = 1/0,\n   |               ^^^ attempt to divide by zero\n   |\n   = note: #[deny(const_err)] on by default\n\n"}
[01:00:58] {"message":"any use of this value will cause an error","code":{"code":"const_err","explanation":null},"level":"error","spans":[{"file_name":"/checkout/src/test/ui/eval-enum.rs","byte_start":131,"byte_end":134,"line_start":5,"line_end":5,"column_start":15,"column_end":18,"is_primary":true,"text":[{"text":"    RemZero = 1%0,","highlight_start":15,"highlight_end":18}],"label":"attempt to calculate the remainder with a divisor of zero","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"error: any use of this value will cause an error\n  --> /checkout/src/test/ui/eval-enum.rs:5:15\n   |\nLL |     RemZero = 1%0,\n   |               ^^^ attempt to calculate the remainder with a divisor of zero\n\n"}
[01:00:58] 
[01:00:58] ------------------------------------------
[01:00:58] 
[01:00:58] thread '[ui] ui/eval-enum.rs' panicked at 'explicit panic', src/tools/compiletest/src/runtest.rs:3295:9
[01:00:58] thread '[ui] ui/eval-enum.rs' panicked at 'explicit panic', src/tools/compiletest/src/runtest.rs:3295:9
[01:00:58] 
[01:00:58] ---- [ui] ui/infinite/infinite-recursion-const-fn.rs stdout ----
[01:00:58] diff of stderr:
[01:00:58] 
[01:00:58] - error[E0080]: evaluation of constant value failed
[01:00:58] -   --> $DIR/infinite-recursion-const-fn.rs:3:25
[01:00:58] + error: any use of this value will cause an error
[01:00:58] 3    |
[01:00:58] 3    |
[01:00:58] 4 LL | const fn a() -> usize { b() } //~ ERROR evaluation of constant value failed
[01:00:58] +    |                         ---
[01:00:58] 6    |                         |
[01:00:58] 7    |                         reached the configured maximum number of stack frames
[01:00:58] 7    |                         reached the configured maximum number of stack frames
[01:00:58] 8    |                         inside call to `b` at $DIR/infinite-recursion-const-fn.rs:3:25
[01:00:58] 
[01:00:58] 59    |                         inside call to `a` at $DIR/infinite-recursion-const-fn.rs:4:25
[01:00:58] 60    |                         inside call to `a` at $DIR/infinite-recursion-const-fn.rs:4:25
[01:00:58] 61 LL | const ARR: [i32; a()] = [5; 6];
[01:00:58] -    |                  --- inside call to `a` at $DIR/infinite-recursion-const-fn.rs:5:18
[01:00:58] +    |                  ^^^ inside call to `a` at $DIR/infinite-recursion-const-fn.rs:5:18
[01:00:58] +    = note: #[deny(const_err)] on by default
[01:00:58] 63 
[01:00:58] 64 error: aborting due to previous error
[01:00:58] 65 
[01:00:58] 65 
[01:00:58] 
[01:00:58] - For more information about this error, try `rustc --explain E"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn a() -> usize { b() } //~ ERROR evaluation of constant value failed","highlight_start":25,"highlight_end":28}],"label":"reached the configured maximum number of stack frames","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":74,"byte_end":77,"line_start":3,"line_end":3,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn a() -> usize { b() } //~ ERROR evaluation of constant value failed","highlight_start":25,"highlight_end":28}],"label":"inside call to `b` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:3:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","susrc/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":size { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":150,"byte_end":153,"line_start":4,"line_end":4,"column_start":25,"column_end":28,"is_primary":false,"text":[{"text":"const fn b() -> usize { a() }","highlight_start":25,"highlight_end":28}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs","byte_start":173,"byte_end":176,"line_start":5,"line_end":5,"column_start":18,"column_end":21,"is_primary":true,"text":[{"text":"const ARR: [i32; a()] = [5; 6];","highlight_start":18,"highlight_end":21}],"label":"inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:5:18","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"#[deny(const_err)] on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"error: any use of this value will cause an error\n  --> /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:5:18\n   |\nLL | const fn a() -> usize { b() } //~ ERROR evaluation of constant value failed\n   |                         ---\n   |                         |\n   |                         reached the configured maximum number of stack frames\n   |                         inside call to `b` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:3:25\nLL | const fn b() -> usize { a() }\n   |                         ---\n   |                         |\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/uit/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\n   |                         inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:4:25\nLL | const ARR: [i32; a()] = [5; 6];\n   |                  ^^^ inside call to `a` at /checkout/src/test/ui/infinite/infinite-recursion-const-fn.rs:5:18\n   |\n   = note: #[deny(const_err)] on by default\n\n"}[01:00:58] thread 'main' panicked at 'Some tests failed', src/tools/compiletest/src/main.rs:502:22
[01:00:58] 
[01:00:58] ------------------------------------------
[01:00:58] 
[01:00:58] thread '[ui] ui/infinite/infinite-recursion-const-fn.rs' panicked at 'explicit panic', src/tools/compiletest/src/runtest.rs:3295:9
[01:00:58] thread '[ui] ui/infinite/infinite-recursion-const-fn.rs' panicked at 'explicit panic', src/tools/compiletest/src/runtest.rs:3295:9
[01:00:58] 
[01:00:58] ---- [ui] ui/issues/issue-39559-2.rs stdout ----
[01:00:58] diff of stderr:
[01:00:58] 
[01:00:58] 4 LL |     let array: [usize; Dim3::dim()]
[01:00:58] 6 
[01:00:58] - error[E0080]: evaluation of constant value failed
[01:00:58] - error[E0080]: evaluation of constant value failed
[01:00:58] + error: any use of this value will cause an error
[01:00:58] 9    |
[01:00:58] 9    |
[01:00:58] 10 LL |     let array: [usize; Dim3::dim()]
[01:00:58] 
[01:00:58] 11    |                        ^^^^^^^^^^^ calling non-const function `<Dim3 as Dim>::dim`
[01:00:58] +    = note: #[deny(const_err)] on by default
[01:00:58] 12 
[01:00:58] 12 
[01:00:58] 13 error[E0015]: calls in constants are limited to constant functions, tuple structs and tuple variants
[01:00:58] 
[01:00:58] 
[01:00:58] 16 LL |         = [0; Dim3::dim()];
[01:00:58] 18 
[01:00:58] - error[E0080]: evaluation of constant value failed
[01:00:58] - error[E0080]: evaluation of constant value failed
[01:00:58] + error: any use of this value will cause an error
[01:00:58] 21    |
[01:00:58] 21    |
[01:00:58] 22 LL |         = [0; Dim3::dim()];
[01:00:58] 24 
[01:00:58] 25 error: aborting due to 4 previous errors
[01:00:58] 26 
[01:00:58] - Some errors occurred: E0015, E0080.
[01:00:58] - Some errors occurred: E0015, E0080.
[01:00:58] - For more information about an error, try `rustc --explain E0015`.
[01:00:58] + For more information about this error, try `rustc --explain E0015`.
[01:00:58] 29 
[01:00:58] 
[01:00:58] 
[01:00:58] The actual stderr differed from the expected stderr.
[01:00:58] Actual stderr saved to /checkout/obj/build/x86_64-unknown-linux-gnu/test/ui/issues/issue-39559-2/issue-39559-2.stderr
[01:00:58] To update references, rerun the tests and pass the `--bless` flag
[01:00:58] To only update this specific test, also pass `--test-args issues/issue-39559-2.rs`
[01:00:58] error: 1 errors occurred comparing output.
[01:00:58] status: exit code: 1
[01:00:58] status: exit code: 1
[01:00:58] command: "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/rustc" "/checkout/src/test/ui/issues/issue-39559-2.rs" "-Zthreads=1" "--target=x86_64-unknown-linux-gnu" "--error-format" "json" "-Zui-testing" "-C" "prefer-dynamic" "-o" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/ui/issues/issue-39559-2/a" "-Crpath" "-O" "-Zunstable-options" "-Lnative=/checkout/obj/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "-L" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/ui/issues/issue-39559-2/auxiliary" "-A" "unused"
[01:00:58] ------------------------------------------
[01:00:58] 
[01:00:58] ------------------------------------------
[01:00:58] stderr:
[01:00:58] stderr:
[01:00:58] ------------------------------------------
[01:00:58] {"message":"calls in constants are limited to constant functions, tuple structs and tuple variants","code":{"code":"E0015","explanation":"\nThe only functions that can be called in static or constant expressions are\n`const` functions, and struct/enum constructors. `const` functions are only\navailable on a nightly compiler. Rust currently does not support more general\ncompile-time function execution.\n\n