plain
[01:40:09] test client_workspace_symbol_duplicates ... ok
[01:40:09] test client_workspace_symbol ... ok
[01:40:34] thread panicked while panicking. aborting.
[01:40:34] [2019-05-18T08:57:40Z ERROR rls::server] Can't read message
[01:40:34] thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Os { code: 32, kind: BrokenPipe, message: "Broken pipe" }', src/libcore/result.rs:997:5
[01:40:34] note: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.
[01:40:34] error: process didn't exit successfully: `/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-gnu/release/deps/client-55bfb9e00fb32a17` (signal: 4, SIGILL: illegal instruction)
[01:40:34] 
[01:40:34] command did not execute successfully: "/checkout/obj/build/x86_64-unknown-linux-gnu/stage0/bin/cargo" "test" "--target" "x86_64-unknown-linux-gnu" "-j" "4" "--release" "--locked" "--color" "always" "--manifest-path" "/checkout/src/tools/rls/Cargo.toml" "--features" "rustc-workspace-hack/all-static" "--"
[01:40:34] expected success, got: exit code: 101
[01:40:34] 
---
travis_time:end:2ab43159:start=1558170233517668618,finish=1558170233528608661,duration=10940043
travis_fold:end:after_failure.3
travis_fold:start:after_failure.4
travis_time:start:00b8a75e
$ ln -s . checkout && for CORE in obj/cores/core.*; do EXE=$(echo $CORE | sed 's|obj/cores/core\.[0-9]*\.!checkout!\(.*\)|\1|;y|!|/|'); if [ -f "$EXE" ]; then printf travis_fold":start:crashlog\n\033[31;1m%s\033[0m\n" "$CORE"; gdb --batch -q -c "$CORE" "$EXE" -iex 'set auto-load off' -iex 'dir src/' -iex 'set sysroot .' -ex bt -ex q; echo travis_fold":"end:crashlog; fi; done || true
travis_fold:start:crashlog
obj/cores/core.4948.!checkout!obj!build!x86_64-unknown-linux-gnu!stage2-tools!x86_64-unknown-linux-gnu!release!deps!client-55bfb9e00fb32a17
warning: core file may not match specified executable file.
[New LWP 5926]
[New LWP 4948]
warning: Could not load shared library symbols for 7 libraries, e.g. /lib/x86_64-linux-gnu/libdl.so.2.
Use the "info sharedlibrary" command to see the complete listing.
Do you need "set solib-search-path" or "set sysroot"?
Core was generated by `/checkout/obj/build/x86_64-unknown-linux-gnu/stage2-tools/x86_64-unknown-linux-'.
Program terminated with signal SIGILL, Illegal instruction.
#0  0x00007fa6f9438ea1 in std::panicking::rust_panic_with_hook::he4c91341f146d45a () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-50ca75b429a488fc.so
[Current thread is 1 (LWP 5926)]
#0  0x00007fa6f9438ea1 in std::panicking::rust_panic_with_hook::he4c91341f146d45a () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-50ca75b429a488fc.so
#1  0x00007fa6f9438b82 in std::panicking::continue_panic_fmt::hf7b786636e224bb0 () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-50ca75b429a488fc.so
#2  0x00007fa6f9438a66 in rust_begin_unwind () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-50ca75b429a488fc.so
#3  0x00007fa6f946133d in core::panicking::panic_fmt::h4bee53922254e4d1 () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-50ca75b429a488fc.so
#4  0x00005586612101e1 in core::result::unwrap_failed::hb416d32093a1d034 ()
#5  0x0000558661221b04 in _$LT$client..support..client..RlsHandle$LT$T$GT$$u20$as$u20$core..ops..drop..Drop$GT$::drop::h01c11f67db77801d ()
#6  0x00005586611c3f4c in core::ptr::real_drop_in_place::hea7912cfef2fa405 ()
#7  0x00005586611be794 in core::ops::function::FnOnce::call_once::hf4015ae577b672fb ()
#8  0x00007fa6f96debcf in _$LT$alloc..boxed..Box$LT$F$GT$$u20$as$u20$core..ops..function..FnOnce$LT$A$GT$$GT$::call_once::h649d08e6466b5dbb () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libtest-f4db4b8ec8713e96.so
#9  0x00007fa6f944b86a in __rust_maybe_catch_panic () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-50ca75b429a488fc.so
#10 0x00007fa6f96f942d in test::run_test::run_test_inner::_$u7b$$u7b$closure$u7d$$u7d$::he5e9e07d287e4a11 () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libtest-f4db4b8ec8713e96.so
#11 0x00007fa6f96cfa75 in std::sys_common::backtrace::__rust_begin_short_backtrace::h907f1686000f7f94 () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libtest-f4db4b8ec8713e96.so
#12 0x00007fa6f96d4e45 in std::panicking::try::do_call::h1879f4554157ef23 () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libtest-f4db4b8ec8713e96.so
#13 0x00007fa6f944b86a in __rust_maybe_catch_panic () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-50ca75b429a488fc.so
#14 0x00007fa6f96d4c58 in std::thread::Builder::spawn_unchecked::_$u7b$$u7b$closure$u7d$$u7d$::hee2cef829524b12e () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libtest-f4db4b8ec8713e96.so
#15 0x00007fa6f941790f in _$LT$alloc..boxed..Box$LT$F$GT$$u20$as$u20$core..ops..function..FnOnce$LT$A$GT$$GT$::call_once::h97acd38e76f30857 () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-50ca75b429a488fc.so
#16 0x00007fa6f944a440 in std::sys::unix::thread::Thread::new::thread_start::h6facc7f2cf9039eb () from ./checkout/obj/build/x86_64-unknown-linux-gnu/stage2/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-50ca75b429a488fc.so
#17 0x00007fa6f8fa96ba in ?? ()
#18 0x0000000000000000 in ?? ()
travis_time:end:00b8a75e:start=1558170233535036807,finish=1558170233751292355,duration=216255548
travis_fold:end:after_failure.4
travis_fold:start:after_failure.5
travis_time:start:075281ae
travis_time:start:075281ae
$ cat ./obj/build/x86_64-unknown-linux-gnu/native/asan/build/lib/asan/clang_rt.asan-dynamic-i386.vers || true
cat: ./obj/build/x86_64-unknown-linux-gnu/native/asan/build/lib/asan/clang_rt.asan-dynamic-i386.vers: No such file or directory
travis_fold:end:after_failure.5
travis_fold:start:after_failure.6
travis_time:start:070c5113
$ dmesg | grep -i kill
