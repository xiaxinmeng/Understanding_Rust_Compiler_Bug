plain
Suite(test::src/test/incremental) not skipped for "bootstrap::test::Incremental" -- not in [src/tools/tidy]
Check compiletest suite=incremental mode=incremental (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)

running 153 tests
.......F.............FF..F...F.F.................................................................... 100/153
failures:

---- [incremental] incremental/const-generics/hash-tyvid-regression-2.rs stdout ----


error in revision `cfail`: Error: expected failure status (Some(1)) but received status Some(101).
status: exit status: 101
command: "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/rustc" "/checkout/src/test/incremental/const-generics/hash-tyvid-regression-2.rs" "-Zthreads=1" "--target=x86_64-unknown-linux-gnu" "--cfg" "cfail" "-C" "incremental=/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/hash-tyvid-regression-2/hash-tyvid-regression-2.inc" "-Z" "incremental-verify-ich" "--error-format" "json" "--json" "future-incompat" "-Zui-testing" "-Zdeduplicate-diagnostics=no" "-C" "prefer-dynamic" "--out-dir" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/hash-tyvid-regression-2" "-Crpath" "-O" "-Cdebuginfo=0" "-Lnative=/checkout/obj/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "-L" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/hash-tyvid-regression-2/auxiliary"
stdout: none
--- stderr -------------------------------
error: internal compiler error: compiler/rustc_middle/src/ty/impls_ty.rs:128:17: StableHasher: unexpected region '_#0r
thread 'rustc' panicked at 'Box<dyn Any>', compiler/rustc_errors/src/lib.rs:1261:9
stack backtrace:
stack backtrace:
   0:     0x7fc652141c9c - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hb3c66828f5f8663d
   1:     0x7fc6521a928f - core::fmt::write::h321ab2f92f7eba38
   2:     0x7fc652131a71 - std::io::Write::write_fmt::h29e0ec8a50e880e2
   3:     0x7fc652141abb - std::sys_common::backtrace::print::h8455c95a84e2d1cc
   4:     0x7fc6521452a4 - std::panicking::default_hook::{{closure}}::h56e870e3151ccb8f
   5:     0x7fc652144e5d - std::panicking::default_hook::hc4731b2af64d87ed
   6:     0x7fc652be1dc1 - rustc_driver[1b3e6630059a0887]::DEFAULT_HOOK::{closure#0}::{closure#0}
   7:     0x7fc65214598b - std::panicking::rust_panic_with_hook::h48c2aa273605e821
   8:     0x7fc6555773c3 - std[772bf85c632f4fb7]::panicking::begin_panic::<rustc_errors[6f9605673d9cb074]::ExplicitBug>::{closure#0}
   9:     0x7fc655577076 - std[772bf85c632f4fb7]::sys_common::backtrace::__rust_end_short_backtrace::<std[772bf85c632f4fb7]::panicking::begin_panic<rustc_errors[6f9605673d9cb074]::ExplicitBug>::{closure#0}, !>
  10:     0x7fc652ba55bf - std[772bf85c632f4fb7]::panicking::begin_panic::<rustc_errors[6f9605673d9cb074]::ExplicitBug>
  11:     0x7fc6555aa5a6 - std[772bf85c632f4fb7]::panic::panic_any::<rustc_errors[6f9605673d9cb074]::ExplicitBug>
  12:     0x7fc6555b1f2d - <rustc_errors[6f9605673d9cb074]::HandlerInner>::bug
  13:     0x7fc6555afc40 - <rustc_errors[6f9605673d9cb074]::Handler>::bug
  14:     0x7fc655433cd5 - rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt::<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}
  15:     0x7fc655433a5b - rustc_middle[acd43611fc691013]::ty::context::tls::with_opt::<rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}, ()>::{closure#0}
  16:     0x7fc655433a0c - rustc_middle[acd43611fc691013]::ty::context::tls::with_opt::<rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}, ()>
  17:     0x7fc655433bf9 - rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt::<rustc_span[694f10660f7b9424]::span_encoding::Span>
  18:     0x7fc652b8a7ae - rustc_middle[acd43611fc691013]::util::bug::bug_fmt
  19:     0x7fc655247d99 - <rustc_middle[acd43611fc691013]::ty::sty::RegionKind as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  20:     0x7fc6553ecfd2 - <rustc_middle[acd43611fc691013]::ty::subst::GenericArgKind as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  21:     0x7fc6553d4d00 - <[rustc_middle[acd43611fc691013]::ty::subst::GenericArg] as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  22:     0x7fc655308b5f - <std[772bf85c632f4fb7]::thread::local::LocalKey<core[3ee3251b8a76a9bc]::cell::RefCell<std[772bf85c632f4fb7]::collections::hash::map::HashMap<(usize, usize, rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashingControls), rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint, core[3ee3251b8a76a9bc]::hash::BuildHasherDefault<rustc_hash[1a398928d2fff331]::FxHasher>>>>>::with::<<&rustc_middle[acd43611fc691013]::ty::list::List<rustc_middle[acd43611fc691013]::ty::subst::GenericArg> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable::{closure#0}, rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint>
  23:     0x7fc6552481ce - <rustc_middle[acd43611fc691013]::ty::sty::Binder<rustc_middle[acd43611fc691013]::ty::PredicateKind> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  24:     0x7fc65525832f - <[rustc_middle[acd43611fc691013]::ty::Predicate] as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  25:     0x7fc6553084df - <std[772bf85c632f4fb7]::thread::local::LocalKey<core[3ee3251b8a76a9bc]::cell::RefCell<std[772bf85c632f4fb7]::collections::hash::map::HashMap<(usize, usize, rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashingControls), rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint, core[3ee3251b8a76a9bc]::hash::BuildHasherDefault<rustc_hash[1a398928d2fff331]::FxHasher>>>>>::with::<<&rustc_middle[acd43611fc691013]::ty::list::List<rustc_middle[acd43611fc691013]::ty::Predicate> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable::{closure#0}, rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint>
  26:     0x7fc655266b01 - <rustc_middle[acd43611fc691013]::ty::ParamEnv as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  27:     0x7fc654412512 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::dep_node::DepNode<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::construct::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<(rustc_middle[acd43611fc691013]::ty::consts::kind::Unevaluated<()>, rustc_middle[acd43611fc691013]::ty::consts::kind::Unevaluated<()>)>>
Some tests failed in compiletest suite=incremental mode=incremental host=x86_64-unknown-linux-gnu target=x86_64-unknown-linux-gnu
  28:     0x7fc6543701ae - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::try_unify_abstract_consts, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  29:     0x7fc65440e497 - <rustc_query_impl[78f18230058e3e3b]::Queries as rustc_middle[acd43611fc691013]::ty::query::QueryEngine>::try_unify_abstract_consts
  30:     0x7fc6550fe739 - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::try_unify_abstract_consts
  31:     0x7fc65502f18f - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_predicate_recursively
  32:     0x7fc65502e1fd - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_predicates_recursively::<alloc[a08bdf941044bd96]::vec::into_iter::IntoIter<rustc_infer[c2174748af88528c]::traits::Obligation<rustc_middle[acd43611fc691013]::ty::Predicate>>>
  33:     0x7fc654f0446d - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::probe::<core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluation_probe<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_candidate::{closure#0}>::{closure#0}>
  34:     0x7fc65503418e - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_candidate
  35:     0x7fc654feafd8 - <core[3ee3251b8a76a9bc]::iter::adapters::map::Map<core[3ee3251b8a76a9bc]::iter::adapters::map::Map<alloc[a08bdf941044bd96]::vec::into_iter::IntoIter<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation_no_cache::{closure#0}>, <core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::transpose> as core[3ee3251b8a76a9bc]::iter::traits::iterator::Iterator>::try_fold::<(), <core[3ee3251b8a76a9bc]::iter::adapters::flatten::FlattenCompat<_, _> as core[3ee3251b8a76a9bc]::iter::traits::iterator::Iterator>::try_fold::flatten<core[3ee3251b8a76a9bc]::option::Option<core[3ee3251b8a76a9bc]::result::Result<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate, rustc_middle[acd43611fc691013]::traits::SelectionError>>, (), core[3ee3251b8a76a9bc]::ops::control_flow::ControlFlow<core[3ee3251b8a76a9bc]::ops::control_flow::ControlFlow<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>>, <core[3ee3251b8a76a9bc]::iter::adapters::GenericShunt<core[3ee3251b8a76a9bc]::iter::adapters::flatten::FlatMap<core[3ee3251b8a76a9bc]::iter::adapters::map::Map<alloc[a08bdf941044bd96]::vec::into_iter::IntoIter<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation_no_cache::{closure#0}>, core[3ee3251b8a76a9bc]::option::Option<core[3ee3251b8a76a9bc]::result::Result<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate, rustc_middle[acd43611fc691013]::traits::SelectionError>>, <core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::transpose>, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::convert::Infallible, rustc_middle[acd43611fc691013]::traits::SelectionError>> as core[3ee3251b8a76a9bc]::iter::traits::iterator::Iterator>::try_fold<(), core[3ee3251b8a76a9bc]::iter::traits::iterator::Iterator::try_for_each::call<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate, core[3ee3251b8a76a9bc]::ops::control_flow::ControlFlow<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>, core[3ee3251b8a76a9bc]::ops::control_flow::ControlFlow<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>::Break>::{closure#0}, core[3ee3251b8a76a9bc]::ops::control_flow::ControlFlow<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>>::{closure#0}>::{closure#0}, core[3ee3251b8a76a9bc]::ops::control_flow::ControlFlow<core[3ee3251b8a76a9bc]::ops::control_flow::ControlFlow<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>>>
  36:     0x7fc654f43c29 - <core[3ee3251b8a76a9bc]::iter::adapters::GenericShunt<core[3ee3251b8a76a9bc]::iter::adapters::flatten::FlatMap<core[3ee3251b8a76a9bc]::iter::adapters::map::Map<alloc[a08bdf941044bd96]::vec::into_iter::IntoIter<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation_no_cache::{closure#0}>, core[3ee3251b8a76a9bc]::option::Option<core[3ee3251b8a76a9bc]::result::Result<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate, rustc_middle[acd43611fc691013]::traits::SelectionError>>, <core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::transpose>, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::convert::Infallible, rustc_middle[acd43611fc691013]::traits::SelectionError>> as core[3ee3251b8a76a9bc]::iter::traits::iterator::Iterator>::next
  37:     0x7fc6550c1ce7 - <alloc[a08bdf941044bd96]::vec::Vec<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate> as alloc[a08bdf941044bd96]::vec::spec_from_iter::SpecFromIter<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate, core[3ee3251b8a76a9bc]::iter::adapters::GenericShunt<core[3ee3251b8a76a9bc]::iter::adapters::flatten::FlatMap<core[3ee3251b8a76a9bc]::iter::adapters::map::Map<alloc[a08bdf941044bd96]::vec::into_iter::IntoIter<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation_no_cache::{closure#0}>, core[3ee3251b8a76a9bc]::option::Option<core[3ee3251b8a76a9bc]::result::Result<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate, rustc_middle[acd43611fc691013]::traits::SelectionError>>, <core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::transpose>, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::convert::Infallible, rustc_middle[acd43611fc691013]::traits::SelectionError>>>>::from_iter
  38:     0x7fc654f3b34d - core[3ee3251b8a76a9bc]::iter::adapters::try_process::<core[3ee3251b8a76a9bc]::iter::adapters::flatten::FlatMap<core[3ee3251b8a76a9bc]::iter::adapters::map::Map<alloc[a08bdf941044bd96]::vec::into_iter::IntoIter<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation_no_cache::{closure#0}>, core[3ee3251b8a76a9bc]::option::Option<core[3ee3251b8a76a9bc]::result::Result<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate, rustc_middle[acd43611fc691013]::traits::SelectionError>>, <core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::transpose>, rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::convert::Infallible, rustc_middle[acd43611fc691013]::traits::SelectionError>, <core[3ee3251b8a76a9bc]::result::Result<alloc[a08bdf941044bd96]::vec::Vec<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError> as core[3ee3251b8a76a9bc]::iter::traits::collect::FromIterator<core[3ee3251b8a76a9bc]::result::Result<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate, rustc_middle[acd43611fc691013]::traits::SelectionError>>>::from_iter<core[3ee3251b8a76a9bc]::iter::adapters::flatten::FlatMap<core[3ee3251b8a76a9bc]::iter::adapters::map::Map<alloc[a08bdf941044bd96]::vec::into_iter::IntoIter<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation_no_cache::{closure#0}>, core[3ee3251b8a76a9bc]::option::Option<core[3ee3251b8a76a9bc]::result::Result<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate, rustc_middle[acd43611fc691013]::traits::SelectionError>>, <core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::transpose>>::{closure#0}, alloc[a08bdf941044bd96]::vec::Vec<rustc_trait_selection[506e40645185c06]::traits::select::EvaluatedCandidate>>
  39:     0x7fc65500deae - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation_no_cache
  40:     0x7fc654f55a60 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::in_task<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>
  41:     0x7fc654f66954 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_anon_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::in_task<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>
  42:     0x7fc655018774 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation
  43:     0x7fc655013cc9 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_stack
  44:     0x7fc654f55979 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::in_task<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_trait_predicate_recursively::{closure#2}, core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>>
  45:     0x7fc654f66447 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_anon_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::in_task<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_trait_predicate_recursively::{closure#2}, core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>>
  46:     0x7fc655030b16 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_trait_predicate_recursively
  47:     0x7fc65502e9c4 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_predicate_recursively
  48:     0x7fc654f04f38 - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::probe::<core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluation_probe<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_root_obligation::{closure#0}>::{closure#0}>
  49:     0x7fc65501384c - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_root_obligation
  50:     0x7fc653eb9954 - <rustc_infer[c2174748af88528c]::infer::InferCtxtBuilder>::enter_with_canonical::<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::ty::Predicate>, core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>, rustc_traits[bcccff182db2d387]::evaluate_obligation::evaluate_obligation::{closure#0}>
  51:     0x7fc653f63ccc - rustc_traits[bcccff182db2d387]::evaluate_obligation::evaluate_obligation
  52:     0x7fc65461ba25 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::ty::Predicate>>, core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>>
  53:     0x7fc65454e3d4 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::ty::Predicate>>, core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>>
  54:     0x7fc654343df7 - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::evaluate_obligation, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  55:     0x7fc65440fbe5 - <rustc_query_impl[78f18230058e3e3b]::Queries as rustc_middle[acd43611fc691013]::ty::query::QueryEngine>::evaluate_obligation
  56:     0x7fc654f33fb1 - <rustc_infer[c2174748af88528c]::infer::InferCtxt as rustc_trait_selection[506e40645185c06]::traits::query::evaluate_obligation::InferCtxtExt>::evaluate_obligation
  57:     0x7fc654f341fd - <rustc_infer[c2174748af88528c]::infer::InferCtxt as rustc_trait_selection[506e40645185c06]::traits::query::evaluate_obligation::InferCtxtExt>::evaluate_obligation_no_overflow
  58:     0x7fc654f33d37 - <rustc_infer[c2174748af88528c]::infer::InferCtxt as rustc_trait_selection[506e40645185c06]::traits::query::evaluate_obligation::InferCtxtExt>::predicate_may_hold
  59:     0x7fc65346172a - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::construct_obligation_for_trait
  60:     0x7fc65346819f - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::lookup_op_method
  61:     0x7fc653464081 - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::check_overloaded_binop
  62:     0x7fc6534639f7 - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::check_binop
  63:     0x7fc653483ee9 - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::check_expr_kind
  64:     0x7fc65343360f - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::check_expr_with_expectation_and_args
  65:     0x7fc6534823a9 - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::check_expr_with_expectation
  66:     0x7fc6534493aa - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::check_block_with_expected
  67:     0x7fc65348383e - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::check_expr_kind
  68:     0x7fc65343360f - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::check_expr_with_expectation_and_args
  69:     0x7fc6534823a9 - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::check_expr_with_expectation
  70:     0x7fc653434597 - <rustc_typeck[ac8771acd5ed710c]::check::fn_ctxt::FnCtxt>::check_return_expr
  71:     0x7fc65376561f - rustc_typeck[ac8771acd5ed710c]::check::check::check_fn
  72:     0x7fc653603354 - <rustc_infer[c2174748af88528c]::infer::InferCtxtBuilder>::enter::<&rustc_middle[acd43611fc691013]::ty::context::TypeckResults, <rustc_typeck[ac8771acd5ed710c]::check::inherited::InheritedBuilder>::enter<rustc_typeck[ac8771acd5ed710c]::check::typeck_with_fallback<rustc_typeck[ac8771acd5ed710c]::check::typeck::{closure#0}>::{closure#1}, &rustc_middle[acd43611fc691013]::ty::context::TypeckResults>::{closure#0}>
  73:     0x7fc653740d6e - <rustc_typeck[ac8771acd5ed710c]::check::inherited::InheritedBuilder>::enter::<rustc_typeck[ac8771acd5ed710c]::check::typeck_with_fallback<rustc_typeck[ac8771acd5ed710c]::check::typeck::{closure#0}>::{closure#1}, &rustc_middle[acd43611fc691013]::ty::context::TypeckResults>
  74:     0x7fc6535ee165 - rustc_typeck[ac8771acd5ed710c]::check::typeck
  75:     0x7fc65461ddad - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::ty::context::TypeckResults>::{closure#0}, &rustc_middle[acd43611fc691013]::ty::context::TypeckResults>
  76:     0x7fc65455f5f5 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::ty::context::TypeckResults>
  77:     0x7fc654256f5c - rustc_query_system[4a6db494d1d773cd]::query::plumbing::try_execute_query::<rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt, rustc_query_system[4a6db494d1d773cd]::query::caches::DefaultCache<rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::ty::context::TypeckResults>>
  78:     0x7fc65438cbb3 - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::typeck, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  79:     0x7fc6536b49fa - <rustc_middle[acd43611fc691013]::hir::map::Map>::par_body_owners::<rustc_typeck[ac8771acd5ed710c]::check::typeck_item_bodies::{closure#0}>
  80:     0x7fc6535f2b0d - rustc_typeck[ac8771acd5ed710c]::check::typeck_item_bodies
  81:     0x7fc654626594 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, (), ()>::{closure#0}, ()>
  82:     0x7fc6545a7acb - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, (), ()>
  83:     0x7fc65429f82c - rustc_query_system[4a6db494d1d773cd]::query::plumbing::try_execute_query::<rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt, rustc_query_system[4a6db494d1d773cd]::query::caches::DefaultCache<(), ()>>
  84:     0x7fc654341737 - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::typeck_item_bodies, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  85:     0x7fc6535accba - <rustc_session[bf79a88a276cb45e]::session::Session>::time::<(), rustc_typeck[ac8771acd5ed710c]::check_crate::{closure#7}>
  86:     0x7fc6535ac736 - rustc_typeck[ac8771acd5ed710c]::check_crate
  87:     0x7fc652de7a41 - rustc_interface[1f3d3089a48b3c5a]::passes::analysis
  88:     0x7fc654624c54 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, (), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  89:     0x7fc65459900b - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, (), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  90:     0x7fc654293eff - rustc_query_system[4a6db494d1d773cd]::query::plumbing::try_execute_query::<rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt, rustc_query_system[4a6db494d1d773cd]::query::caches::DefaultCache<(), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>>
  91:     0x7fc65438d6f8 - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::analysis, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  92:     0x7fc652c678b4 - <rustc_interface[1f3d3089a48b3c5a]::passes::QueryContext>::enter::<rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}::{closure#2}::{closure#3}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  93:     0x7fc652c406d6 - <rustc_interface[1f3d3089a48b3c5a]::interface::Compiler>::enter::<rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}::{closure#2}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_interface[1f3d3089a48b3c5a]::queries::Linker>, rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  94:     0x7fc652c5b23b - rustc_span[694f10660f7b9424]::with_source_map::<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_interface[1f3d3089a48b3c5a]::interface::create_compiler_and_run<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#1}>
  95:     0x7fc652c41603 - <scoped_tls[43c5ebb8f67c02f5]::ScopedKey<rustc_span[694f10660f7b9424]::SessionGlobals>>::set::<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  96:     0x7fc652c08979 - std[772bf85c632f4fb7]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  97:     0x7fc652c68dd1 - std[772bf85c632f4fb7]::panic::catch_unwind::<core[3ee3251b8a76a9bc]::panic::unwind_safe::AssertUnwindSafe<<std[772bf85c632f4fb7]::thread::Builder>::spawn_unchecked_<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#1}::{closure#0}>, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  98:     0x7fc652c61e43 - <<std[772bf85c632f4fb7]::thread::Builder>::spawn_unchecked_<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#1} as core[3ee3251b8a76a9bc]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  99:     0x7fc652150ef3 - std::sys::unix::thread::Thread::new::thread_start::ha34fe1e66e807bcf
 100:     0x7fc64c69e609 - start_thread
 101:     0x7fc651fb1163 - clone
 102:                0x0 - <unknown>
note: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md


note: rustc 1.61.0-nightly (c330b4d08 2022-03-22) running on x86_64-unknown-linux-gnu

note: compiler flags: -Z threads=1 -C incremental -Z incremental -Z ui-testing -Z deduplicate-diagnostics=no -C prefer-dynamic -C rpath -C debuginfo=0
query stack during panic:
query stack during panic:
#0 [evaluate_obligation] evaluating trait selection obligation `[B; _]: core::cmp::PartialEq<^1_1>`
#1 [typeck] type-checking `<impl at /checkout/src/test/incremental/const-generics/hash-tyvid-regression-2.rs:8:1: 16:2>::eq`
#2 [typeck_item_bodies] type-checking all item bodies
#3 [analysis] running analysis passes on this crate
error: aborting due to previous error
------------------------------------------



---- [incremental] incremental/const-generics/try_unify_abstract_const_regression_tests/issue-82034.rs stdout ----

error in revision `rpass`: compilation failed!
status: exit status: 101
command: "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/rustc" "/checkout/src/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-82034.rs" "-Zthreads=1" "--target=x86_64-unknown-linux-gnu" "--cfg" "rpass" "-C" "incremental=/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-82034/issue-82034.inc" "-Z" "incremental-verify-ich" "--error-format" "json" "--json" "future-incompat" "-Zui-testing" "-Zdeduplicate-diagnostics=no" "-C" "prefer-dynamic" "-o" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-82034/a" "-Crpath" "-O" "-Cdebuginfo=0" "-Lnative=/checkout/obj/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "-L" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-82034/auxiliary"
stdout: none
--- stderr -------------------------------
  --> /checkout/src/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-82034.rs:20:37
   |
   |
LL |     pub fn convert<const NN: usize>(mut self) -> SliceConstWriter<'a, { NN }> {
   |                                     |
   |                                     help: remove this `mut`
   |
   = note: `#[warn(unused_mut)]` on by default
   = note: `#[warn(unused_mut)]` on by default

error: internal compiler error: compiler/rustc_middle/src/ty/impls_ty.rs:128:17: StableHasher: unexpected region '_#0r
thread 'rustc' panicked at 'Box<dyn Any>', compiler/rustc_errors/src/lib.rs:1261:9
stack backtrace:
stack backtrace:
   0:     0x7fc812605c9c - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hb3c66828f5f8663d
   1:     0x7fc81266d28f - core::fmt::write::h321ab2f92f7eba38
   2:     0x7fc8125f5a71 - std::io::Write::write_fmt::h29e0ec8a50e880e2
   3:     0x7fc812605abb - std::sys_common::backtrace::print::h8455c95a84e2d1cc
   4:     0x7fc8126092a4 - std::panicking::default_hook::{{closure}}::h56e870e3151ccb8f
   5:     0x7fc812608e5d - std::panicking::default_hook::hc4731b2af64d87ed
   6:     0x7fc8130a5dc1 - rustc_driver[1b3e6630059a0887]::DEFAULT_HOOK::{closure#0}::{closure#0}
   7:     0x7fc81260998b - std::panicking::rust_panic_with_hook::h48c2aa273605e821
   8:     0x7fc815a3b3c3 - std[772bf85c632f4fb7]::panicking::begin_panic::<rustc_errors[6f9605673d9cb074]::ExplicitBug>::{closure#0}
   9:     0x7fc815a3b076 - std[772bf85c632f4fb7]::sys_common::backtrace::__rust_end_short_backtrace::<std[772bf85c632f4fb7]::panicking::begin_panic<rustc_errors[6f9605673d9cb074]::ExplicitBug>::{closure#0}, !>
  10:     0x7fc8130695bf - std[772bf85c632f4fb7]::panicking::begin_panic::<rustc_errors[6f9605673d9cb074]::ExplicitBug>
  11:     0x7fc815a6e5a6 - std[772bf85c632f4fb7]::panic::panic_any::<rustc_errors[6f9605673d9cb074]::ExplicitBug>
  12:     0x7fc815a75f2d - <rustc_errors[6f9605673d9cb074]::HandlerInner>::bug
  13:     0x7fc815a73c40 - <rustc_errors[6f9605673d9cb074]::Handler>::bug
  14:     0x7fc8158f7cd5 - rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt::<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}
  15:     0x7fc8158f7a5b - rustc_middle[acd43611fc691013]::ty::context::tls::with_opt::<rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}, ()>::{closure#0}
  16:     0x7fc8158f7a0c - rustc_middle[acd43611fc691013]::ty::context::tls::with_opt::<rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}, ()>
  17:     0x7fc8158f7bf9 - rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt::<rustc_span[694f10660f7b9424]::span_encoding::Span>
  18:     0x7fc81304e7ae - rustc_middle[acd43611fc691013]::util::bug::bug_fmt
  19:     0x7fc81570bd99 - <rustc_middle[acd43611fc691013]::ty::sty::RegionKind as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  20:     0x7fc8158b0fd2 - <rustc_middle[acd43611fc691013]::ty::subst::GenericArgKind as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  21:     0x7fc815898d00 - <[rustc_middle[acd43611fc691013]::ty::subst::GenericArg] as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  22:     0x7fc8157ccb5f - <std[772bf85c632f4fb7]::thread::local::LocalKey<core[3ee3251b8a76a9bc]::cell::RefCell<std[772bf85c632f4fb7]::collections::hash::map::HashMap<(usize, usize, rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashingControls), rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint, core[3ee3251b8a76a9bc]::hash::BuildHasherDefault<rustc_hash[1a398928d2fff331]::FxHasher>>>>>::with::<<&rustc_middle[acd43611fc691013]::ty::list::List<rustc_middle[acd43611fc691013]::ty::subst::GenericArg> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable::{closure#0}, rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint>
  23:     0x7fc81570c1ce - <rustc_middle[acd43611fc691013]::ty::sty::Binder<rustc_middle[acd43611fc691013]::ty::PredicateKind> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  24:     0x7fc81571c32f - <[rustc_middle[acd43611fc691013]::ty::Predicate] as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  25:     0x7fc8157cc4df - <std[772bf85c632f4fb7]::thread::local::LocalKey<core[3ee3251b8a76a9bc]::cell::RefCell<std[772bf85c632f4fb7]::collections::hash::map::HashMap<(usize, usize, rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashingControls), rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint, core[3ee3251b8a76a9bc]::hash::BuildHasherDefault<rustc_hash[1a398928d2fff331]::FxHasher>>>>>::with::<<&rustc_middle[acd43611fc691013]::ty::list::List<rustc_middle[acd43611fc691013]::ty::Predicate> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable::{closure#0}, rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint>
  26:     0x7fc81572ab01 - <rustc_middle[acd43611fc691013]::ty::ParamEnv as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  27:     0x7fc8148d6512 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::dep_node::DepNode<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::construct::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<(rustc_middle[acd43611fc691013]::ty::consts::kind::Unevaluated<()>, rustc_middle[acd43611fc691013]::ty::consts::kind::Unevaluated<()>)>>
  28:     0x7fc8148341ae - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::try_unify_abstract_consts, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  29:     0x7fc8148d2497 - <rustc_query_impl[78f18230058e3e3b]::Queries as rustc_middle[acd43611fc691013]::ty::query::QueryEngine>::try_unify_abstract_consts
  30:     0x7fc8155c2739 - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::try_unify_abstract_consts
  31:     0x7fc8154f318f - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_predicate_recursively
  32:     0x7fc8154f1add - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_predicates_recursively::<alloc[a08bdf941044bd96]::vec::Vec<rustc_infer[c2174748af88528c]::traits::Obligation<rustc_middle[acd43611fc691013]::ty::Predicate>>>
  33:     0x7fc8153c8af8 - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::probe::<core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluation_probe<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::where_clause_may_apply::{closure#0}>::{closure#0}>
  34:     0x7fc8154df4b0 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::assemble_candidates
  35:     0x7fc8154d0cb5 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation_no_cache
  36:     0x7fc815419a60 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::in_task<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>
  37:     0x7fc81542a954 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_anon_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::in_task<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>
  38:     0x7fc8154dc774 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation
  39:     0x7fc8154d74cc - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::select_from_obligation
  40:     0x7fc8154f0ef7 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::select
  41:     0x7fc81549cfbf - <rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillProcessor>::process_trait_obligation
  42:     0x7fc815497142 - <rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillProcessor>::process_changed_obligations
  43:     0x7fc8154a117e - <rustc_data_structures[5e6ce8a842273f28]::obligation_forest::ObligationForest<rustc_trait_selection[506e40645185c06]::traits::fulfill::PendingPredicateObligation>>::process_obligations::<rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillProcessor, rustc_data_structures[5e6ce8a842273f28]::obligation_forest::Outcome<rustc_trait_selection[506e40645185c06]::traits::fulfill::PendingPredicateObligation, rustc_infer[c2174748af88528c]::traits::FulfillmentErrorCode>>
  44:     0x7fc815495a6b - <rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillmentContext as rustc_infer[c2174748af88528c]::traits::engine::TraitEngine>::select_where_possible
  45:     0x7fc814378d30 - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::make_canonicalized_query_response::<()>
  46:     0x7fc81438e2b9 - <rustc_infer[c2174748af88528c]::infer::InferCtxtBuilder as rustc_trait_selection[506e40645185c06]::infer::InferCtxtBuilderExt>::enter_canonical_trait_query::<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::ProvePredicate>, (), rustc_traits[bcccff182db2d387]::type_op::type_op_prove_predicate::{closure#0}>
  47:     0x7fc81442a149 - rustc_traits[bcccff182db2d387]::type_op::type_op_prove_predicate
  48:     0x7fc814adfcd6 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::ProvePredicate>>, core[3ee3251b8a76a9bc]::result::Result<&rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::infer::canonical::QueryResponse<()>>, rustc_middle[acd43611fc691013]::traits::query::NoSolution>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<&rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::infer::canonical::QueryResponse<()>>, rustc_middle[acd43611fc691013]::traits::query::NoSolution>>
  49:     0x7fc814a13412 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::ProvePredicate>>, core[3ee3251b8a76a9bc]::result::Result<&rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::infer::canonical::QueryResponse<()>>, rustc_middle[acd43611fc691013]::traits::query::NoSolution>>
  50:     0x7fc81482a95c - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::type_op_prove_predicate, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  51:     0x7fc8148d3db5 - <rustc_query_impl[78f18230058e3e3b]::Queries as rustc_middle[acd43611fc691013]::ty::query::QueryEngine>::type_op_prove_predicate
  52:     0x7fc8154cc220 - <rustc_middle[acd43611fc691013]::traits::query::type_op::ProvePredicate as rustc_trait_selection[506e40645185c06]::traits::query::type_op::QueryTypeOp>::perform_query
  53:     0x7fc8141fce83 - <rustc_middle[acd43611fc691013]::traits::query::type_op::ProvePredicate as rustc_trait_selection[506e40645185c06]::traits::query::type_op::QueryTypeOp>::fully_perform_into
  54:     0x7fc8142beefb - <rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::ProvePredicate> as rustc_trait_selection[506e40645185c06]::traits::query::type_op::TypeOp>::fully_perform
  55:     0x7fc81424d445 - <rustc_borrowck[dca09906431deb79]::type_check::TypeChecker>::prove_predicate
  56:     0x7fc81425af49 - <rustc_borrowck[dca09906431deb79]::type_check::TypeChecker>::check_terminator
  57:     0x7fc81425db85 - <rustc_borrowck[dca09906431deb79]::type_check::TypeChecker>::typeck_mir
  58:     0x7fc8142523e8 - rustc_borrowck[dca09906431deb79]::type_check::type_check_internal::<rustc_data_structures[5e6ce8a842273f28]::vec_map::VecMap<rustc_middle[acd43611fc691013]::ty::OpaqueTypeKey, rustc_infer[c2174748af88528c]::infer::opaque_types::OpaqueTypeDecl>, rustc_borrowck[dca09906431deb79]::type_check::type_check::{closure#0}>
  59:     0x7fc8142408e0 - rustc_borrowck[dca09906431deb79]::type_check::type_check
  60:     0x7fc8140b82e7 - rustc_borrowck[dca09906431deb79]::nll::compute_regions
  61:     0x7fc8142a01e6 - rustc_borrowck[dca09906431deb79]::do_mir_borrowck
  62:     0x7fc8141b6230 - <rustc_infer[c2174748af88528c]::infer::InferCtxtBuilder>::enter::<rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult, rustc_borrowck[dca09906431deb79]::mir_borrowck::{closure#0}>
  63:     0x7fc814297edb - rustc_borrowck[dca09906431deb79]::mir_borrowck
  64:     0x7fc814265063 - <rustc_borrowck[dca09906431deb79]::provide::{closure#0} as core[3ee3251b8a76a9bc]::ops::function::FnOnce<(rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId)>>::call_once
  65:     0x7fc814ae1f6d - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>::{closure#0}, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>
  66:     0x7fc814a24575 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>
  67:     0x7fc81471bd1c - rustc_query_system[4a6db494d1d773cd]::query::plumbing::try_execute_query::<rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt, rustc_query_system[4a6db494d1d773cd]::query::caches::DefaultCache<rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>>
  68:     0x7fc8147e2c5f - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::mir_borrowck, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  69:     0x7fc8132ae14a - <rustc_middle[acd43611fc691013]::hir::map::Map>::par_body_owners::<rustc_interface[1f3d3089a48b3c5a]::passes::analysis::{closure#2}::{closure#0}>
  70:     0x7fc81320d792 - <rustc_session[bf79a88a276cb45e]::session::Session>::time::<(), rustc_interface[1f3d3089a48b3c5a]::passes::analysis::{closure#2}>
  71:     0x7fc8132aba7b - rustc_interface[1f3d3089a48b3c5a]::passes::analysis
  72:     0x7fc814ae8c54 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, (), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  73:     0x7fc814a5d00b - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, (), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  74:     0x7fc814757eff - rustc_query_system[4a6db494d1d773cd]::query::plumbing::try_execute_query::<rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt, rustc_query_system[4a6db494d1d773cd]::query::caches::DefaultCache<(), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>>
  75:     0x7fc8148516f8 - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::analysis, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  76:     0x7fc81312b8b4 - <rustc_interface[1f3d3089a48b3c5a]::passes::QueryContext>::enter::<rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}::{closure#2}::{closure#3}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  77:     0x7fc8131046d6 - <rustc_interface[1f3d3089a48b3c5a]::interface::Compiler>::enter::<rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}::{closure#2}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_interface[1f3d3089a48b3c5a]::queries::Linker>, rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  78:     0x7fc81311f23b - rustc_span[694f10660f7b9424]::with_source_map::<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_interface[1f3d3089a48b3c5a]::interface::create_compiler_and_run<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#1}>
  79:     0x7fc813105603 - <scoped_tls[43c5ebb8f67c02f5]::ScopedKey<rustc_span[694f10660f7b9424]::SessionGlobals>>::set::<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  80:     0x7fc8130cc979 - std[772bf85c632f4fb7]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  81:     0x7fc81312cdd1 - std[772bf85c632f4fb7]::panic::catch_unwind::<core[3ee3251b8a76a9bc]::panic::unwind_safe::AssertUnwindSafe<<std[772bf85c632f4fb7]::thread::Builder>::spawn_unchecked_<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#1}::{closure#0}>, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  82:     0x7fc813125e43 - <<std[772bf85c632f4fb7]::thread::Builder>::spawn_unchecked_<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#1} as core[3ee3251b8a76a9bc]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  83:     0x7fc812614ef3 - std::sys::unix::thread::Thread::new::thread_start::ha34fe1e66e807bcf
  84:     0x7fc80cb62609 - start_thread
  85:     0x7fc812475163 - clone
  86:                0x0 - <unknown>
note: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md


note: rustc 1.61.0-nightly (c330b4d08 2022-03-22) running on x86_64-unknown-linux-gnu

note: compiler flags: -Z threads=1 -C incremental -Z incremental -Z ui-testing -Z deduplicate-diagnostics=no -C prefer-dynamic -C rpath -C debuginfo=0
query stack during panic:
query stack during panic:
#0 [type_op_prove_predicate] evaluating `type_op_prove_predicate` `Canonical { max_universe: U0, variables: [CanonicalVarInfo { kind: Region(U0) }, CanonicalVarInfo { kind: Region(U0) }, CanonicalVarInfo { kind: Region(U0) }], value: ParamEnvAnd { param_env: ParamEnv { caller_bounds: [Binder(ConstEvaluatable(WithOptConstParam { did: DefId(0:29 ~ issue_82034[8ecd]::{impl#3}::write_u8::{constant#0}), const_param_did: None }, [ReLateBound(DebruijnIndex(1), BoundRegion { var: 0, kind: BrAnon(0) }), Const { ty: usize, val: Param(N/#1) }]), []), Binder(ConstEvaluatable(WithOptConstParam { did: DefId(0:26 ~ issue_82034[8ecd]::{impl#3}::{constant#0}), const_param_did: None }, [ReLateBound(DebruijnIndex(1), BoundRegion { var: 0, kind: BrAnon(0) }), Const { ty: usize, val: Param(N/#1) }]), []), Binder(TraitPredicate(<Assert<{ N >= 2 }> as IsTrue>, polarity:Positive), [])], reveal: UserFacing, constness: NotConst }, value: ProvePredicate { predicate: Binder(WellFormed(SliceConstWriter<'_, { N - 2 }>), []) } } }`
#1 [mir_borrowck] borrow-checking `<impl at /checkout/src/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-82034.rs:25:1: 32:2>::write_u8`
#2 [analysis] running analysis passes on this crate
error: aborting due to previous error; 1 warning emitted
------------------------------------------



---- [incremental] incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-1.rs stdout ----

error in revision `rpass`: compilation failed!
status: exit status: 101
command: "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/rustc" "/checkout/src/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-1.rs" "-Zthreads=1" "--target=x86_64-unknown-linux-gnu" "--cfg" "rpass" "-C" "incremental=/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-1/issue-85031-1.inc" "-Z" "incremental-verify-ich" "--error-format" "json" "--json" "future-incompat" "-Zui-testing" "-Zdeduplicate-diagnostics=no" "-C" "prefer-dynamic" "-o" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-1/a" "-Crpath" "-O" "-Cdebuginfo=0" "-Lnative=/checkout/obj/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "-L" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-1/auxiliary"
stdout: none
--- stderr -------------------------------
error: internal compiler error: compiler/rustc_middle/src/ty/impls_ty.rs:128:17: StableHasher: unexpected region '_#0r
thread 'rustc' panicked at 'Box<dyn Any>', compiler/rustc_errors/src/lib.rs:1261:9
stack backtrace:
stack backtrace:
   0:     0x7f4514026c9c - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hb3c66828f5f8663d
   1:     0x7f451408e28f - core::fmt::write::h321ab2f92f7eba38
   2:     0x7f4514016a71 - std::io::Write::write_fmt::h29e0ec8a50e880e2
   3:     0x7f4514026abb - std::sys_common::backtrace::print::h8455c95a84e2d1cc
   4:     0x7f451402a2a4 - std::panicking::default_hook::{{closure}}::h56e870e3151ccb8f
   5:     0x7f4514029e5d - std::panicking::default_hook::hc4731b2af64d87ed
   6:     0x7f4514ac6dc1 - rustc_driver[1b3e6630059a0887]::DEFAULT_HOOK::{closure#0}::{closure#0}
   7:     0x7f451402a98b - std::panicking::rust_panic_with_hook::h48c2aa273605e821
   8:     0x7f451745c3c3 - std[772bf85c632f4fb7]::panicking::begin_panic::<rustc_errors[6f9605673d9cb074]::ExplicitBug>::{closure#0}
   9:     0x7f451745c076 - std[772bf85c632f4fb7]::sys_common::backtrace::__rust_end_short_backtrace::<std[772bf85c632f4fb7]::panicking::begin_panic<rustc_errors[6f9605673d9cb074]::ExplicitBug>::{closure#0}, !>
  10:     0x7f4514a8a5bf - std[772bf85c632f4fb7]::panicking::begin_panic::<rustc_errors[6f9605673d9cb074]::ExplicitBug>
  11:     0x7f451748f5a6 - std[772bf85c632f4fb7]::panic::panic_any::<rustc_errors[6f9605673d9cb074]::ExplicitBug>
  12:     0x7f4517496f2d - <rustc_errors[6f9605673d9cb074]::HandlerInner>::bug
  13:     0x7f4517494c40 - <rustc_errors[6f9605673d9cb074]::Handler>::bug
  14:     0x7f4517318cd5 - rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt::<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}
  15:     0x7f4517318a5b - rustc_middle[acd43611fc691013]::ty::context::tls::with_opt::<rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}, ()>::{closure#0}
  16:     0x7f4517318a0c - rustc_middle[acd43611fc691013]::ty::context::tls::with_opt::<rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}, ()>
  17:     0x7f4517318bf9 - rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt::<rustc_span[694f10660f7b9424]::span_encoding::Span>
  18:     0x7f4514a6f7ae - rustc_middle[acd43611fc691013]::util::bug::bug_fmt
  19:     0x7f451712cd99 - <rustc_middle[acd43611fc691013]::ty::sty::RegionKind as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  20:     0x7f45172d1fd2 - <rustc_middle[acd43611fc691013]::ty::subst::GenericArgKind as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  21:     0x7f45172b9d00 - <[rustc_middle[acd43611fc691013]::ty::subst::GenericArg] as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  22:     0x7f45171edb5f - <std[772bf85c632f4fb7]::thread::local::LocalKey<core[3ee3251b8a76a9bc]::cell::RefCell<std[772bf85c632f4fb7]::collections::hash::map::HashMap<(usize, usize, rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashingControls), rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint, core[3ee3251b8a76a9bc]::hash::BuildHasherDefault<rustc_hash[1a398928d2fff331]::FxHasher>>>>>::with::<<&rustc_middle[acd43611fc691013]::ty::list::List<rustc_middle[acd43611fc691013]::ty::subst::GenericArg> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable::{closure#0}, rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint>
  23:     0x7f451712d1ce - <rustc_middle[acd43611fc691013]::ty::sty::Binder<rustc_middle[acd43611fc691013]::ty::PredicateKind> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  24:     0x7f451713d32f - <[rustc_middle[acd43611fc691013]::ty::Predicate] as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  25:     0x7f45171ed4df - <std[772bf85c632f4fb7]::thread::local::LocalKey<core[3ee3251b8a76a9bc]::cell::RefCell<std[772bf85c632f4fb7]::collections::hash::map::HashMap<(usize, usize, rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashingControls), rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint, core[3ee3251b8a76a9bc]::hash::BuildHasherDefault<rustc_hash[1a398928d2fff331]::FxHasher>>>>>::with::<<&rustc_middle[acd43611fc691013]::ty::list::List<rustc_middle[acd43611fc691013]::ty::Predicate> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable::{closure#0}, rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint>
  26:     0x7f451714bb01 - <rustc_middle[acd43611fc691013]::ty::ParamEnv as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  27:     0x7f45162f7512 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::dep_node::DepNode<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::construct::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<(rustc_middle[acd43611fc691013]::ty::consts::kind::Unevaluated<()>, rustc_middle[acd43611fc691013]::ty::consts::kind::Unevaluated<()>)>>
  28:     0x7f45162551ae - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::try_unify_abstract_consts, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  29:     0x7f45162f3497 - <rustc_query_impl[78f18230058e3e3b]::Queries as rustc_middle[acd43611fc691013]::ty::query::QueryEngine>::try_unify_abstract_consts
  30:     0x7f4516fe3739 - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::try_unify_abstract_consts
  31:     0x7f4516f1418f - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_predicate_recursively
  32:     0x7f4516f12add - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluate_predicates_recursively::<alloc[a08bdf941044bd96]::vec::Vec<rustc_infer[c2174748af88528c]::traits::Obligation<rustc_middle[acd43611fc691013]::ty::Predicate>>>
  33:     0x7f4516de9af8 - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::probe::<core[3ee3251b8a76a9bc]::result::Result<rustc_middle[acd43611fc691013]::traits::select::EvaluationResult, rustc_middle[acd43611fc691013]::traits::select::OverflowError>, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::evaluation_probe<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::where_clause_may_apply::{closure#0}>::{closure#0}>
  34:     0x7f4516f004b0 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::assemble_candidates
  35:     0x7f4516ef1cb5 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation_no_cache
  36:     0x7f4516e3aa60 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::in_task<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>
  37:     0x7f4516e4b954 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_anon_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::in_task<<rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_middle[acd43611fc691013]::traits::select::SelectionCandidate>, rustc_middle[acd43611fc691013]::traits::SelectionError>>
  38:     0x7f4516efd774 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::candidate_from_obligation
  39:     0x7f4516ef84cc - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::select_from_obligation
  40:     0x7f4516f11ef7 - <rustc_trait_selection[506e40645185c06]::traits::select::SelectionContext>::select
  41:     0x7f4516ebdfbf - <rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillProcessor>::process_trait_obligation
  42:     0x7f4516eb8142 - <rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillProcessor>::process_changed_obligations
  43:     0x7f4516ec217e - <rustc_data_structures[5e6ce8a842273f28]::obligation_forest::ObligationForest<rustc_trait_selection[506e40645185c06]::traits::fulfill::PendingPredicateObligation>>::process_obligations::<rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillProcessor, rustc_data_structures[5e6ce8a842273f28]::obligation_forest::Outcome<rustc_trait_selection[506e40645185c06]::traits::fulfill::PendingPredicateObligation, rustc_infer[c2174748af88528c]::traits::FulfillmentErrorCode>>
  44:     0x7f4516eb6a6b - <rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillmentContext as rustc_infer[c2174748af88528c]::traits::engine::TraitEngine>::select_where_possible
  45:     0x7f4515d99d30 - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::make_canonicalized_query_response::<()>
  46:     0x7f4515daf928 - <rustc_infer[c2174748af88528c]::infer::InferCtxtBuilder as rustc_trait_selection[506e40645185c06]::infer::InferCtxtBuilderExt>::enter_canonical_trait_query::<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType>, (), rustc_traits[bcccff182db2d387]::type_op::type_op_ascribe_user_type::{closure#0}>
  47:     0x7f4515e492a9 - rustc_traits[bcccff182db2d387]::type_op::type_op_ascribe_user_type
  48:     0x7f4516500e7b - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType>>, core[3ee3251b8a76a9bc]::result::Result<&rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::infer::canonical::QueryResponse<()>>, rustc_middle[acd43611fc691013]::traits::query::NoSolution>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<&rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::infer::canonical::QueryResponse<()>>, rustc_middle[acd43611fc691013]::traits::query::NoSolution>>
  49:     0x7f4516434c5d - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType>>, core[3ee3251b8a76a9bc]::result::Result<&rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::infer::canonical::QueryResponse<()>>, rustc_middle[acd43611fc691013]::traits::query::NoSolution>>
  50:     0x7f4516256e8c - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::type_op_ascribe_user_type, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  51:     0x7f45162f4c9b - <rustc_query_impl[78f18230058e3e3b]::Queries as rustc_middle[acd43611fc691013]::ty::query::QueryEngine>::type_op_ascribe_user_type
  52:     0x7f4516eec923 - <rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType as rustc_trait_selection[506e40645185c06]::traits::query::type_op::QueryTypeOp>::perform_query
  53:     0x7f4515c1e608 - <rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType as rustc_trait_selection[506e40645185c06]::traits::query::type_op::QueryTypeOp>::fully_perform_into
  54:     0x7f4515ce08dd - <rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType> as rustc_trait_selection[506e40645185c06]::traits::query::type_op::TypeOp>::fully_perform
  55:     0x7f4515c6da05 - <rustc_borrowck[dca09906431deb79]::type_check::TypeChecker>::fully_perform_op::<(), rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType>>
  56:     0x7f4515c72bb8 - rustc_borrowck[dca09906431deb79]::type_check::type_check_internal::<rustc_data_structures[5e6ce8a842273f28]::vec_map::VecMap<rustc_middle[acd43611fc691013]::ty::OpaqueTypeKey, rustc_infer[c2174748af88528c]::infer::opaque_types::OpaqueTypeDecl>, rustc_borrowck[dca09906431deb79]::type_check::type_check::{closure#0}>
  57:     0x7f4515c618e0 - rustc_borrowck[dca09906431deb79]::type_check::type_check
  58:     0x7f4515ad92e7 - rustc_borrowck[dca09906431deb79]::nll::compute_regions
  59:     0x7f4515cc11e6 - rustc_borrowck[dca09906431deb79]::do_mir_borrowck
  60:     0x7f4515bd7230 - <rustc_infer[c2174748af88528c]::infer::InferCtxtBuilder>::enter::<rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult, rustc_borrowck[dca09906431deb79]::mir_borrowck::{closure#0}>
  61:     0x7f4515cb8edb - rustc_borrowck[dca09906431deb79]::mir_borrowck
  62:     0x7f4515c86063 - <rustc_borrowck[dca09906431deb79]::provide::{closure#0} as core[3ee3251b8a76a9bc]::ops::function::FnOnce<(rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId)>>::call_once
  63:     0x7f4516502f6d - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>::{closure#0}, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>
  64:     0x7f4516445575 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>
  65:     0x7f451613cd1c - rustc_query_system[4a6db494d1d773cd]::query::plumbing::try_execute_query::<rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt, rustc_query_system[4a6db494d1d773cd]::query::caches::DefaultCache<rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>>
  66:     0x7f4516203c5f - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::mir_borrowck, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  67:     0x7f4514ccf14a - <rustc_middle[acd43611fc691013]::hir::map::Map>::par_body_owners::<rustc_interface[1f3d3089a48b3c5a]::passes::analysis::{closure#2}::{closure#0}>
  68:     0x7f4514c2e792 - <rustc_session[bf79a88a276cb45e]::session::Session>::time::<(), rustc_interface[1f3d3089a48b3c5a]::passes::analysis::{closure#2}>
  69:     0x7f4514ccca7b - rustc_interface[1f3d3089a48b3c5a]::passes::analysis
  70:     0x7f4516509c54 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, (), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  71:     0x7f451647e00b - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, (), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  72:     0x7f4516178eff - rustc_query_system[4a6db494d1d773cd]::query::plumbing::try_execute_query::<rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt, rustc_query_system[4a6db494d1d773cd]::query::caches::DefaultCache<(), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>>
  73:     0x7f45162726f8 - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::analysis, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  74:     0x7f4514b4c8b4 - <rustc_interface[1f3d3089a48b3c5a]::passes::QueryContext>::enter::<rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}::{closure#2}::{closure#3}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  75:     0x7f4514b256d6 - <rustc_interface[1f3d3089a48b3c5a]::interface::Compiler>::enter::<rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}::{closure#2}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_interface[1f3d3089a48b3c5a]::queries::Linker>, rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  76:     0x7f4514b4023b - rustc_span[694f10660f7b9424]::with_source_map::<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_interface[1f3d3089a48b3c5a]::interface::create_compiler_and_run<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#1}>
  77:     0x7f4514b26603 - <scoped_tls[43c5ebb8f67c02f5]::ScopedKey<rustc_span[694f10660f7b9424]::SessionGlobals>>::set::<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  78:     0x7f4514aed979 - std[772bf85c632f4fb7]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  79:     0x7f4514b4ddd1 - std[772bf85c632f4fb7]::panic::catch_unwind::<core[3ee3251b8a76a9bc]::panic::unwind_safe::AssertUnwindSafe<<std[772bf85c632f4fb7]::thread::Builder>::spawn_unchecked_<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#1}::{closure#0}>, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  80:     0x7f4514b46e43 - <<std[772bf85c632f4fb7]::thread::Builder>::spawn_unchecked_<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#1} as core[3ee3251b8a76a9bc]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  81:     0x7f4514035ef3 - std::sys::unix::thread::Thread::new::thread_start::ha34fe1e66e807bcf
  82:     0x7f450e583609 - start_thread
  83:     0x7f4513e96163 - clone
  84:                0x0 - <unknown>
note: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md


note: rustc 1.61.0-nightly (c330b4d08 2022-03-22) running on x86_64-unknown-linux-gnu

note: compiler flags: -Z threads=1 -C incremental -Z incremental -Z ui-testing -Z deduplicate-diagnostics=no -C prefer-dynamic -C rpath -C debuginfo=0
query stack during panic:
query stack during panic:
#0 [type_op_ascribe_user_type] evaluating `type_op_ascribe_user_type` `Canonical { max_universe: U0, variables: [CanonicalVarInfo { kind: Region(U0) }, CanonicalVarInfo { kind: Region(U0) }, CanonicalVarInfo { kind: Region(U0) }, CanonicalVarInfo { kind: Const(U0, usize) }, CanonicalVarInfo { kind: Const(U0, usize) }], value: ParamEnvAnd { param_env: ParamEnv { caller_bounds: [Binder(ConstEvaluatable(WithOptConstParam { did: DefId(0:14 ~ issue_85031_1[f52f]::{impl#0}::foo::{constant#1}), const_param_did: None }, [ReLateBound(DebruijnIndex(1), BoundRegion { var: 0, kind: BrAnon(0) }), Const { ty: usize, val: Param(NUM/#1) }, Const { ty: usize, val: Param(A/#2) }]), []), Binder(ConstEvaluatable(WithOptConstParam { did: DefId(0:13 ~ issue_85031_1[f52f]::{impl#0}::foo::{constant#0}), const_param_did: None }, [ReLateBound(DebruijnIndex(1), BoundRegion { var: 0, kind: BrAnon(0) }), Const { ty: usize, val: Param(NUM/#1) }, Const { ty: usize, val: Param(A/#2) }]), []), Binder(TraitPredicate(<([(); _], [(); _]) as core::marker::Sized>, polarity:Positive), [])], reveal: UserFacing, constness: NotConst }, value: AscribeUserType { mir_ty: for<'r> fn(Ref<'r, A>) -> Ref<'r, NUM> {<impl at /checkout/src/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-1.rs:7:1: 21:2>::bar::<A>}, def_id: DefId(0:15 ~ issue_85031_1[f52f]::{impl#0}::bar), user_substs: UserSubsts { substs: [ReLateBound(DebruijnIndex(0), BoundRegion { var: 2, kind: BrAnon(2) }), Const { ty: usize, val: Bound(DebruijnIndex(0), 3) }, Const { ty: usize, val: Bound(DebruijnIndex(0), 4) }], user_self_ty: Some(UserSelfTy { impl_def_id: DefId(0:8 ~ issue_85031_1[f52f]::{impl#0}), self_ty: Ref<'_, NUM> }) } } } }`
#1 [mir_borrowck] borrow-checking `<impl at /checkout/src/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-1.rs:7:1: 21:2>::foo`
#2 [analysis] running analysis passes on this crate
error: aborting due to previous error
------------------------------------------



---- [incremental] incremental/const-generics/try_unify_abstract_const_regression_tests/issue-77708-3.rs stdout ----

error in revision `rpass`: compilation failed!
status: exit status: 101
command: "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/rustc" "/checkout/src/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-77708-3.rs" "-Zthreads=1" "--target=x86_64-unknown-linux-gnu" "--cfg" "rpass" "-C" "incremental=/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-77708-3/issue-77708-3.inc" "-Z" "incremental-verify-ich" "--error-format" "json" "--json" "future-incompat" "-Zui-testing" "-Zdeduplicate-diagnostics=no" "-C" "prefer-dynamic" "-o" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-77708-3/a" "-Crpath" "-O" "-Cdebuginfo=0" "-Lnative=/checkout/obj/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "-L" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-77708-3/auxiliary"
stdout: none
--- stderr -------------------------------
error: internal compiler error: compiler/rustc_middle/src/ty/impls_ty.rs:128:17: StableHasher: unexpected region '_#0r
thread 'rustc' panicked at 'Box<dyn Any>', compiler/rustc_errors/src/lib.rs:1261:9
stack backtrace:
stack backtrace:
   0:     0x7f19f2139c9c - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hb3c66828f5f8663d
   1:     0x7f19f21a128f - core::fmt::write::h321ab2f92f7eba38
   2:     0x7f19f2129a71 - std::io::Write::write_fmt::h29e0ec8a50e880e2
   3:     0x7f19f2139abb - std::sys_common::backtrace::print::h8455c95a84e2d1cc
   4:     0x7f19f213d2a4 - std::panicking::default_hook::{{closure}}::h56e870e3151ccb8f
   5:     0x7f19f213ce5d - std::panicking::default_hook::hc4731b2af64d87ed
   6:     0x7f19f2bd9dc1 - rustc_driver[1b3e6630059a0887]::DEFAULT_HOOK::{closure#0}::{closure#0}
   7:     0x7f19f213d98b - std::panicking::rust_panic_with_hook::h48c2aa273605e821
   8:     0x7f19f556f3c3 - std[772bf85c632f4fb7]::panicking::begin_panic::<rustc_errors[6f9605673d9cb074]::ExplicitBug>::{closure#0}
   9:     0x7f19f556f076 - std[772bf85c632f4fb7]::sys_common::backtrace::__rust_end_short_backtrace::<std[772bf85c632f4fb7]::panicking::begin_panic<rustc_errors[6f9605673d9cb074]::ExplicitBug>::{closure#0}, !>
  10:     0x7f19f2b9d5bf - std[772bf85c632f4fb7]::panicking::begin_panic::<rustc_errors[6f9605673d9cb074]::ExplicitBug>
  11:     0x7f19f55a25a6 - std[772bf85c632f4fb7]::panic::panic_any::<rustc_errors[6f9605673d9cb074]::ExplicitBug>
  12:     0x7f19f55a9f2d - <rustc_errors[6f9605673d9cb074]::HandlerInner>::bug
  13:     0x7f19f55a7c40 - <rustc_errors[6f9605673d9cb074]::Handler>::bug
  14:     0x7f19f542bcd5 - rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt::<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}
  15:     0x7f19f542ba5b - rustc_middle[acd43611fc691013]::ty::context::tls::with_opt::<rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}, ()>::{closure#0}
  16:     0x7f19f542ba0c - rustc_middle[acd43611fc691013]::ty::context::tls::with_opt::<rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt<rustc_span[694f10660f7b9424]::span_encoding::Span>::{closure#0}, ()>
  17:     0x7f19f542bbf9 - rustc_middle[acd43611fc691013]::util::bug::opt_span_bug_fmt::<rustc_span[694f10660f7b9424]::span_encoding::Span>
  18:     0x7f19f2b827ae - rustc_middle[acd43611fc691013]::util::bug::bug_fmt
  19:     0x7f19f523fd99 - <rustc_middle[acd43611fc691013]::ty::sty::RegionKind as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  20:     0x7f19f53e4fd2 - <rustc_middle[acd43611fc691013]::ty::subst::GenericArgKind as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  21:     0x7f19f53ccd00 - <[rustc_middle[acd43611fc691013]::ty::subst::GenericArg] as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  22:     0x7f19f5300b5f - <std[772bf85c632f4fb7]::thread::local::LocalKey<core[3ee3251b8a76a9bc]::cell::RefCell<std[772bf85c632f4fb7]::collections::hash::map::HashMap<(usize, usize, rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashingControls), rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint, core[3ee3251b8a76a9bc]::hash::BuildHasherDefault<rustc_hash[1a398928d2fff331]::FxHasher>>>>>::with::<<&rustc_middle[acd43611fc691013]::ty::list::List<rustc_middle[acd43611fc691013]::ty::subst::GenericArg> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable::{closure#0}, rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint>
  23:     0x7f19f52401ce - <rustc_middle[acd43611fc691013]::ty::sty::Binder<rustc_middle[acd43611fc691013]::ty::PredicateKind> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  24:     0x7f19f525032f - <[rustc_middle[acd43611fc691013]::ty::Predicate] as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  25:     0x7f19f53004df - <std[772bf85c632f4fb7]::thread::local::LocalKey<core[3ee3251b8a76a9bc]::cell::RefCell<std[772bf85c632f4fb7]::collections::hash::map::HashMap<(usize, usize, rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashingControls), rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint, core[3ee3251b8a76a9bc]::hash::BuildHasherDefault<rustc_hash[1a398928d2fff331]::FxHasher>>>>>::with::<<&rustc_middle[acd43611fc691013]::ty::list::List<rustc_middle[acd43611fc691013]::ty::Predicate> as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable::{closure#0}, rustc_data_structures[5e6ce8a842273f28]::fingerprint::Fingerprint>
  26:     0x7f19f525eb01 - <rustc_middle[acd43611fc691013]::ty::ParamEnv as rustc_data_structures[5e6ce8a842273f28]::stable_hasher::HashStable<rustc_query_system[4a6db494d1d773cd]::ich::hcx::StableHashingContext>>::hash_stable
  27:     0x7f19f440a512 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::dep_node::DepNode<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::construct::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<(rustc_middle[acd43611fc691013]::ty::consts::kind::Unevaluated<()>, rustc_middle[acd43611fc691013]::ty::consts::kind::Unevaluated<()>)>>
  28:     0x7f19f43681ae - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::try_unify_abstract_consts, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  29:     0x7f19f4406497 - <rustc_query_impl[78f18230058e3e3b]::Queries as rustc_middle[acd43611fc691013]::ty::query::QueryEngine>::try_unify_abstract_consts
  30:     0x7f19f50f6739 - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::try_unify_abstract_consts
  31:     0x7f19f4fcb6d7 - <rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillProcessor>::process_changed_obligations
  32:     0x7f19f4fd517e - <rustc_data_structures[5e6ce8a842273f28]::obligation_forest::ObligationForest<rustc_trait_selection[506e40645185c06]::traits::fulfill::PendingPredicateObligation>>::process_obligations::<rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillProcessor, rustc_data_structures[5e6ce8a842273f28]::obligation_forest::Outcome<rustc_trait_selection[506e40645185c06]::traits::fulfill::PendingPredicateObligation, rustc_infer[c2174748af88528c]::traits::FulfillmentErrorCode>>
  33:     0x7f19f4fc9a6b - <rustc_trait_selection[506e40645185c06]::traits::fulfill::FulfillmentContext as rustc_infer[c2174748af88528c]::traits::engine::TraitEngine>::select_where_possible
  34:     0x7f19f3eacd30 - <rustc_infer[c2174748af88528c]::infer::InferCtxt>::make_canonicalized_query_response::<()>
  35:     0x7f19f3ec2928 - <rustc_infer[c2174748af88528c]::infer::InferCtxtBuilder as rustc_trait_selection[506e40645185c06]::infer::InferCtxtBuilderExt>::enter_canonical_trait_query::<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType>, (), rustc_traits[bcccff182db2d387]::type_op::type_op_ascribe_user_type::{closure#0}>
  36:     0x7f19f3f5c2a9 - rustc_traits[bcccff182db2d387]::type_op::type_op_ascribe_user_type
  37:     0x7f19f4613e7b - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType>>, core[3ee3251b8a76a9bc]::result::Result<&rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::infer::canonical::QueryResponse<()>>, rustc_middle[acd43611fc691013]::traits::query::NoSolution>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<&rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::infer::canonical::QueryResponse<()>>, rustc_middle[acd43611fc691013]::traits::query::NoSolution>>
  38:     0x7f19f4547c5d - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType>>, core[3ee3251b8a76a9bc]::result::Result<&rustc_middle[acd43611fc691013]::infer::canonical::Canonical<rustc_middle[acd43611fc691013]::infer::canonical::QueryResponse<()>>, rustc_middle[acd43611fc691013]::traits::query::NoSolution>>
  39:     0x7f19f4369e8c - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::type_op_ascribe_user_type, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  40:     0x7f19f4407c9b - <rustc_query_impl[78f18230058e3e3b]::Queries as rustc_middle[acd43611fc691013]::ty::query::QueryEngine>::type_op_ascribe_user_type
  41:     0x7f19f4fff923 - <rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType as rustc_trait_selection[506e40645185c06]::traits::query::type_op::QueryTypeOp>::perform_query
  42:     0x7f19f3d31608 - <rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType as rustc_trait_selection[506e40645185c06]::traits::query::type_op::QueryTypeOp>::fully_perform_into
  43:     0x7f19f3df38dd - <rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType> as rustc_trait_selection[506e40645185c06]::traits::query::type_op::TypeOp>::fully_perform
  44:     0x7f19f3d80a05 - <rustc_borrowck[dca09906431deb79]::type_check::TypeChecker>::fully_perform_op::<(), rustc_middle[acd43611fc691013]::ty::ParamEnvAnd<rustc_middle[acd43611fc691013]::traits::query::type_op::AscribeUserType>>
  45:     0x7f19f3d85bb8 - rustc_borrowck[dca09906431deb79]::type_check::type_check_internal::<rustc_data_structures[5e6ce8a842273f28]::vec_map::VecMap<rustc_middle[acd43611fc691013]::ty::OpaqueTypeKey, rustc_infer[c2174748af88528c]::infer::opaque_types::OpaqueTypeDecl>, rustc_borrowck[dca09906431deb79]::type_check::type_check::{closure#0}>
  46:     0x7f19f3d748e0 - rustc_borrowck[dca09906431deb79]::type_check::type_check
  47:     0x7f19f3bec2e7 - rustc_borrowck[dca09906431deb79]::nll::compute_regions
  48:     0x7f19f3dd41e6 - rustc_borrowck[dca09906431deb79]::do_mir_borrowck
  49:     0x7f19f3cea230 - <rustc_infer[c2174748af88528c]::infer::InferCtxtBuilder>::enter::<rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult, rustc_borrowck[dca09906431deb79]::mir_borrowck::{closure#0}>
  50:     0x7f19f3dcbedb - rustc_borrowck[dca09906431deb79]::mir_borrowck
  51:     0x7f19f3d99063 - <rustc_borrowck[dca09906431deb79]::provide::{closure#0} as core[3ee3251b8a76a9bc]::ops::function::FnOnce<(rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId)>>::call_once
  52:     0x7f19f4615f6d - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>::{closure#0}, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>
  53:     0x7f19f4558575 - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>
  54:     0x7f19f424fd1c - rustc_query_system[4a6db494d1d773cd]::query::plumbing::try_execute_query::<rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt, rustc_query_system[4a6db494d1d773cd]::query::caches::DefaultCache<rustc_span[694f10660f7b9424]::def_id::LocalDefId, &rustc_middle[acd43611fc691013]::mir::query::BorrowCheckResult>>
  55:     0x7f19f4316c5f - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::mir_borrowck, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  56:     0x7f19f2de214a - <rustc_middle[acd43611fc691013]::hir::map::Map>::par_body_owners::<rustc_interface[1f3d3089a48b3c5a]::passes::analysis::{closure#2}::{closure#0}>
  57:     0x7f19f2d41792 - <rustc_session[bf79a88a276cb45e]::session::Session>::time::<(), rustc_interface[1f3d3089a48b3c5a]::passes::analysis::{closure#2}>
  58:     0x7f19f2ddfa7b - rustc_interface[1f3d3089a48b3c5a]::passes::analysis
  59:     0x7f19f461cc54 - <rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind as rustc_query_system[4a6db494d1d773cd]::dep_graph::DepKind>::with_deps::<<rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task_impl<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, (), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  60:     0x7f19f459100b - <rustc_query_system[4a6db494d1d773cd]::dep_graph::graph::DepGraph<rustc_middle[acd43611fc691013]::dep_graph::dep_node::DepKind>>::with_task::<rustc_middle[acd43611fc691013]::ty::context::TyCtxt, (), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  61:     0x7f19f428beff - rustc_query_system[4a6db494d1d773cd]::query::plumbing::try_execute_query::<rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt, rustc_query_system[4a6db494d1d773cd]::query::caches::DefaultCache<(), core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>>
  62:     0x7f19f43856f8 - rustc_query_system[4a6db494d1d773cd]::query::plumbing::get_query::<rustc_query_impl[78f18230058e3e3b]::queries::analysis, rustc_query_impl[78f18230058e3e3b]::plumbing::QueryCtxt>
  63:     0x7f19f2c5f8b4 - <rustc_interface[1f3d3089a48b3c5a]::passes::QueryContext>::enter::<rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}::{closure#2}::{closure#3}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  64:     0x7f19f2c386d6 - <rustc_interface[1f3d3089a48b3c5a]::interface::Compiler>::enter::<rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}::{closure#2}, core[3ee3251b8a76a9bc]::result::Result<core[3ee3251b8a76a9bc]::option::Option<rustc_interface[1f3d3089a48b3c5a]::queries::Linker>, rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  65:     0x7f19f2c5323b - rustc_span[694f10660f7b9424]::with_source_map::<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_interface[1f3d3089a48b3c5a]::interface::create_compiler_and_run<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#1}>
  66:     0x7f19f2c39603 - <scoped_tls[43c5ebb8f67c02f5]::ScopedKey<rustc_span[694f10660f7b9424]::SessionGlobals>>::set::<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  67:     0x7f19f2c00979 - std[772bf85c632f4fb7]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  68:     0x7f19f2c60dd1 - std[772bf85c632f4fb7]::panic::catch_unwind::<core[3ee3251b8a76a9bc]::panic::unwind_safe::AssertUnwindSafe<<std[772bf85c632f4fb7]::thread::Builder>::spawn_unchecked_<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#1}::{closure#0}>, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>
  69:     0x7f19f2c59e43 - <<std[772bf85c632f4fb7]::thread::Builder>::spawn_unchecked_<rustc_interface[1f3d3089a48b3c5a]::util::run_in_thread_pool_with_globals<rustc_interface[1f3d3089a48b3c5a]::interface::run_compiler<core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>, rustc_driver[1b3e6630059a0887]::run_compiler::{closure#1}>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#0}, core[3ee3251b8a76a9bc]::result::Result<(), rustc_errors[6f9605673d9cb074]::ErrorGuaranteed>>::{closure#1} as core[3ee3251b8a76a9bc]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  70:     0x7f19f2148ef3 - std::sys::unix::thread::Thread::new::thread_start::ha34fe1e66e807bcf
  71:     0x7f19ec696609 - start_thread
  72:     0x7f19f1fa9163 - clone
  73:                0x0 - <unknown>
note: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md


note: rustc 1.61.0-nightly (c330b4d08 2022-03-22) running on x86_64-unknown-linux-gnu

note: compiler flags: -Z threads=1 -C incremental -Z incremental -Z ui-testing -Z deduplicate-diagnostics=no -C prefer-dynamic -C rpath -C debuginfo=0
query stack during panic:
query stack during panic:
#0 [type_op_ascribe_user_type] evaluating `type_op_ascribe_user_type` `Canonical { max_universe: U0, variables: [CanonicalVarInfo { kind: Region(U0) }, CanonicalVarInfo { kind: Region(U0) }, CanonicalVarInfo { kind: Region(U0) }, CanonicalVarInfo { kind: Region(U0) }, CanonicalVarInfo { kind: Region(U0) }, CanonicalVarInfo { kind: Region(U0) }], value: ParamEnvAnd { param_env: ParamEnv { caller_bounds: [Binder(ConstEvaluatable(WithOptConstParam { did: DefId(0:19 ~ issue_77708_3[5068]::{impl#0}::{constant#0}), const_param_did: None }, [ReLateBound(DebruijnIndex(1), BoundRegion { var: 0, kind: BrAnon(0) }), Const { ty: core::num::nonzero::NonZeroUsize, val: Param(N/#1) }]), []), Binder(TraitPredicate(<[u8; _] as core::marker::Sized>, polarity:Positive), [])], reveal: UserFacing, constness: NotConst }, value: AscribeUserType { mir_ty: for<'r, 's, 't0> fn(&'r [u8]) -> core::result::Result<&'s [u8; _], <&'s [u8; _] as core::convert::TryFrom<&'r [u8]>>::Error> {<&[u8; _] as core::convert::TryFrom<&[u8]>>::try_from}, def_id: DefId(2:2949 ~ core[3ee3]::convert::TryFrom::try_from), user_substs: UserSubsts { substs: [&[u8; _], &[u8]], user_self_ty: None } } } }`
#1 [mir_borrowck] borrow-checking `<impl at /checkout/src/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-77708-3.rs:11:1: 20:2>::try_from`
#2 [analysis] running analysis passes on this crate
error: aborting due to previous error
------------------------------------------



---- [incremental] incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-3.rs stdout ----

error in revision `rpass`: compilation failed!
status: exit status: 101
command: "/checkout/obj/build/x86_64-unknown-linux-gnu/stage2/bin/rustc" "/checkout/src/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-3.rs" "-Zthreads=1" "--target=x86_64-unknown-linux-gnu" "--cfg" "rpass" "-C" "incremental=/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-3/issue-85031-3.inc" "-Z" "incremental-verify-ich" "--error-format" "json" "--json" "future-incompat" "-Zui-testing" "-Zdeduplicate-diagnostics=no" "-C" "prefer-dynamic" "-o" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-3/a" "-Crpath" "-O" "-Cdebuginfo=0" "-Lnative=/checkout/obj/build/x86_64-unknown-linux-gnu/native/rust-test-helpers" "-L" "/checkout/obj/build/x86_64-unknown-linux-gnu/test/incremental/const-generics/try_unify_abstract_const_regression_tests/issue-85031-3/auxiliary"
stdout: none
--- stderr -------------------------------
error: internal compiler error: compiler/rustc_middle/src/ty/impls_ty.rs:128:17: StableHasher: unexpected region '_#0r
thread 'rustc' panicked at 'Box<dyn Any>', compiler/rustc_errors/src/lib.rs:1261:9
stack backtrace:
stack backtrace:
   0:     0x7f78e9ca5c9c - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hb3c66828f5f8663d
   1:     0x7f78e9d0d28f - core::fmt::write::h321ab2f92f7eba38
   2:     0x7f78e9c95a71 - std::io::Write::write_fmt::h29e0ec8a50e880e2
   3:     0x7f78e9ca5abb - std::sys_common::backtrace::print::h8455c95a84e2d1cc
