plain
ii
test result: ok. 0 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests std
thread 'rustc' panicked at 'already borrowed: BorrowMutError', /checkout/compiler/rustc_query_system/src/query/plumbing.rs:372:11
   0:     0x7fe31c94ef52 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hbef12973c5507d53
   0:     0x7fe31c94ef52 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hbef12973c5507d53
   1:     0x7fe31c9b67c8 - core::fmt::write::h6d6e96066401bc0f
   2:     0x7fe31c93f631 - std::io::Write::write_fmt::h0fc5efafbc8ce341
   3:     0x7fe31c94ed15 - std::sys_common::backtrace::print::h7f5fe1a3e38a3041
   4:     0x7fe31c9520f7 - std::panicking::default_hook::{{closure}}::h62c63d72dd478c99
   5:     0x7fe31c951e55 - std::panicking::default_hook::h61d2d5a20d5abab2
   6:     0x7fe31d2b4214 - rustc_driver[c92607568ea61f29]::DEFAULT_HOOK::{closure#0}::{closure#0}
   7:     0x7fe31c952a03 - std::panicking::rust_panic_with_hook::h6fb0b7b5144c30a1
   8:     0x7fe31c952737 - std::panicking::begin_panic_handler::{{closure}}::ha34ec5ba80bbe079
   9:     0x7fe31c94f4fc - std::sys_common::backtrace::__rust_end_short_backtrace::h94c9e486fd929163
  10:     0x7fe31c952402 - rust_begin_unwind
  11:     0x7fe31c9047b3 - core::panicking::panic_fmt::h3a5b5d72039ab650
  12:     0x7fe31c904ac3 - core::result::unwrap_failed::h119639a553f91aa2
  13:     0x7fe31ee93aaf - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::LocalDefId, rustc_hir[86677f9b4cf46361]::hir_id::HirId>>
  14:     0x7fe31ef98c26 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::local_def_id_to_hir_id, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  15:     0x7fe31eb48a44 - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::local_def_id_to_hir_id
  16:     0x7fe31fda7e6a - <rustc_middle[f414e03c15862bd6]::hir::map::Map>::local_def_id_to_hir_id
  17:     0x7fe31fd99831 - <rustc_middle[f414e03c15862bd6]::hir::provide::{closure#7} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt, rustc_span[6f04c596547a783a]::def_id::DefId)>>::call_once
  18:     0x7fe31eead4e4 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::DefId, rustc_span[6f04c596547a783a]::span_encoding::Span>>
  19:     0x7fe31efc19f7 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::def_span, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  20:     0x7fe31eb7c6fc - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::def_span
  21:     0x7fe31ec307d2 - <rustc_span[6f04c596547a783a]::def_id::DefId as rustc_query_impl[bf07a966c3412bd5]::keys::Key>::default_span
  22:     0x7fe31ed01b3a - rustc_query_impl[bf07a966c3412bd5]::plumbing::create_query_frame::<rustc_hir[86677f9b4cf46361]::hir_id::OwnerId>
  23:     0x7fe31eda34a3 - <rustc_query_impl[bf07a966c3412bd5]::query_structs::hir_attrs::{closure#0}::{closure#0} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_hir[86677f9b4cf46361]::hir_id::OwnerId)>>::call_once
  24:     0x7fe31ee3b95f - <rustc_query_system[818b688b820e3781]::query::plumbing::QueryState<rustc_hir[86677f9b4cf46361]::hir_id::OwnerId>>::try_collect_active_jobs::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  25:     0x7fe31eb45614 - <rustc_query_impl[bf07a966c3412bd5]::Queries>::try_collect_active_jobs
  26:     0x7fe31eead624 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::DefId, rustc_span[6f04c596547a783a]::span_encoding::Span>>
  27:     0x7fe31efc19f7 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::def_span, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  28:     0x7fe31eb7c6fc - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::def_span
  29:     0x7fe31ec307d2 - <rustc_span[6f04c596547a783a]::def_id::DefId as rustc_query_impl[bf07a966c3412bd5]::keys::Key>::default_span
  30:     0x7fe31ed01b3a - rustc_query_impl[bf07a966c3412bd5]::plumbing::create_query_frame::<rustc_hir[86677f9b4cf46361]::hir_id::OwnerId>
  31:     0x7fe31eda1be3 - <rustc_query_impl[bf07a966c3412bd5]::query_structs::local_def_id_to_hir_id::{closure#0}::{closure#0} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_span[6f04c596547a783a]::def_id::LocalDefId)>>::call_once
  32:     0x7fe31ee3b24f - <rustc_query_system[818b688b820e3781]::query::plumbing::QueryState<rustc_span[6f04c596547a783a]::def_id::LocalDefId>>::try_collect_active_jobs::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  33:     0x7fe31eb45614 - <rustc_query_impl[bf07a966c3412bd5]::Queries>::try_collect_active_jobs
  34:     0x7fe31ee82eba - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::ArenaCache<(), rustc_hir[86677f9b4cf46361]::hir::Crate>>
  35:     0x7fe31efc231d - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::hir_crate, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  36:     0x7fe31eb4709a - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::hir_crate
  37:     0x7fe31fd98d16 - <rustc_middle[f414e03c15862bd6]::hir::provide::{closure#2} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt, rustc_span[6f04c596547a783a]::def_id::LocalDefId)>>::call_once
  38:     0x7fe31ee934ff - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::LocalDefId, rustc_hir[86677f9b4cf46361]::hir_id::HirId>>
  39:     0x7fe31ef98c26 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::local_def_id_to_hir_id, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  40:     0x7fe31eb48a44 - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::local_def_id_to_hir_id
  41:     0x7fe31fda7e6a - <rustc_middle[f414e03c15862bd6]::hir::map::Map>::local_def_id_to_hir_id
  42:     0x7fe31fd99831 - <rustc_middle[f414e03c15862bd6]::hir::provide::{closure#7} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt, rustc_span[6f04c596547a783a]::def_id::DefId)>>::call_once
  43:     0x7fe31eead4e4 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::DefId, rustc_span[6f04c596547a783a]::span_encoding::Span>>
  44:     0x7fe31efc19f7 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::def_span, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  45:     0x7fe31eb7c6fc - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::def_span
  46:     0x7fe31fce1ba8 - <rustc_middle[f414e03c15862bd6]::hir::map::Map>::span_if_local
  47:     0x7fe31e21e6c2 - rustc_passes[725767bcdb65ed3]::lang_items::collect_item
  48:     0x7fe31e21fb1c - rustc_passes[725767bcdb65ed3]::lang_items::get_lang_items
  49:     0x7fe31ee80e94 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::ArenaCache<(), rustc_hir[86677f9b4cf46361]::lang_items::LanguageItems>>
  50:     0x7fe31ef76360 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::get_lang_items, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  51:     0x7fe31eba0c9a - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::get_lang_items
  52:     0x7fe31fd69fa2 - <rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt>::lang_items
  53:     0x7fe31fd54988 - <rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt>::require_lang_item
  54:     0x7fe31deb802d - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lang_item_path
  55:     0x7fe31dea340e - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::expr_lang_item_path
  56:     0x7fe31dea3330 - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::expr_call_lang_item_fn_mut
  57:     0x7fe31dea225a - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lower_expr_try
  58:     0x7fe31de96abf - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lower_expr_mut::{closure#0}
  59:     0x7fe31de95f18 - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lower_stmts
  60:     0x7fe31deaeed6 - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lower_maybe_async_body
  61:     0x7fe31dea46c0 - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lower_item_kind
  62:     0x7fe31dec021f - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::with_hir_id_owner::<<rustc_ast_lowering[a039b9f3172a3d65]::item::ItemLowerer>::with_lctx<<rustc_ast_lowering[a039b9f3172a3d65]::item::ItemLowerer>::lower_item::{closure#0}>::{closure#0}>
  63:     0x7fe31defd703 - <rustc_ast_lowering[a039b9f3172a3d65]::item::ItemLowerer>::lower_node
  64:     0x7fe31deb6158 - rustc_ast_lowering[a039b9f3172a3d65]::lower_to_hir
  65:     0x7fe31ee82d92 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::ArenaCache<(), rustc_hir[86677f9b4cf46361]::hir::Crate>>
  66:     0x7fe31efc231d - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::hir_crate, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  67:     0x7fe31eb4709a - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::hir_crate
  68:     0x7fe31fd994e2 - <rustc_middle[f414e03c15862bd6]::hir::provide::{closure#5} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt, rustc_hir[86677f9b4cf46361]::hir_id::OwnerId)>>::call_once
  69:     0x7fe31eedb6be - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_hir[86677f9b4cf46361]::hir_id::OwnerId, &rustc_hir[86677f9b4cf46361]::hir::AttributeMap>>
  70:     0x7fe31efc2219 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::hir_attrs, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  71:     0x7fe31eb49d84 - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::hir_attrs
  72:     0x7fe31fce0bee - <rustc_middle[f414e03c15862bd6]::hir::map::Map>::attrs
  73:     0x560e808efdbf - <rustc_interface[9e13cec8f8fbc07d]::passes::QueryContext>::enter::<rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}::{closure#0}::{closure#0}, rustdoc[ef350963d9786a1e]::doctest::Collector>
  74:     0x560e80ada424 - <rustc_interface[9e13cec8f8fbc07d]::interface::Compiler>::enter::<rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>
  75:     0x560e8086010b - rustc_span[6f04c596547a783a]::with_source_map::<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustc_interface[9e13cec8f8fbc07d]::interface::run_compiler<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}>::{closure#0}::{closure#1}>
  76:     0x560e807e6ca8 - <scoped_tls[ce9fa241ba16890b]::ScopedKey<rustc_span[6f04c596547a783a]::SessionGlobals>>::set::<rustc_interface[9e13cec8f8fbc07d]::interface::run_compiler<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}>::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>
  77:     0x560e8086d793 - std[b4d7b7572d6e9bb7]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[9e13cec8f8fbc07d]::util::run_in_thread_pool_with_globals<rustc_interface[9e13cec8f8fbc07d]::interface::run_compiler<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}>::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>
  78:     0x560e8093ae31 - std[b4d7b7572d6e9bb7]::panicking::try::<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, core[69c2305d6fa5d54f]::panic::unwind_safe::AssertUnwindSafe<<std[b4d7b7572d6e9bb7]::thread::Builder>::spawn_unchecked_<rustc_interface[9e13cec8f8fbc07d]::util::run_in_thread_pool_with_globals<rustc_interface[9e13cec8f8fbc07d]::interface::run_compiler<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}>::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>::{closure#1}::{closure#0}>>
  79:     0x560e809a46b6 - <<std[b4d7b7572d6e9bb7]::thread::Builder>::spawn_unchecked_<rustc_interface[9e13cec8f8fbc07d]::util::run_in_thread_pool_with_globals<rustc_interface[9e13cec8f8fbc07d]::interface::run_compiler<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}>::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>::{closure#1} as core[69c2305d6fa5d54f]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  80:     0x7fe31c95f66e - std::sys::unix::thread::Thread::new::thread_start::h05afa8442b34c479
  81:     0x7fe31c5f1b43 - <unknown>
  82:     0x7fe31c683a00 - <unknown>
  83:                0x0 - <unknown>
error: internal compiler error: unexpected panic

note: the compiler unexpectedly panicked. this is a bug.


note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: rustc 1.67.0-nightly (56a0df96a 2022-11-01) running on x86_64-unknown-linux-gnu

note: compiler flags: --crate-type dylib --crate-type rlib -C embed-bitcode=no -Z unstable-options -C symbol-mangling-version=legacy -Z unstable-options -Z unstable-options -Z crate-attr=doc(html_root_url="https://doc.rust-lang.org/nightly/") -Z force-unstable-if-unmarked -Z unstable-options
query stack during panic:
query stack during panic:
thread 'rustc' panicked at 'already borrowed: BorrowMutError', /checkout/compiler/rustc_query_system/src/query/plumbing.rs:372:11
   0:     0x7fe31c94ef52 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hbef12973c5507d53
   0:     0x7fe31c94ef52 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hbef12973c5507d53
   1:     0x7fe31c9b67c8 - core::fmt::write::h6d6e96066401bc0f
   2:     0x7fe31c93f631 - std::io::Write::write_fmt::h0fc5efafbc8ce341
   3:     0x7fe31c94ed15 - std::sys_common::backtrace::print::h7f5fe1a3e38a3041
   4:     0x7fe31c9520f7 - std::panicking::default_hook::{{closure}}::h62c63d72dd478c99
   5:     0x7fe31c951e55 - std::panicking::default_hook::h61d2d5a20d5abab2
   6:     0x7fe31d2b4214 - rustc_driver[c92607568ea61f29]::DEFAULT_HOOK::{closure#0}::{closure#0}
   7:     0x7fe31c952a03 - std::panicking::rust_panic_with_hook::h6fb0b7b5144c30a1
   8:     0x7fe31c952737 - std::panicking::begin_panic_handler::{{closure}}::ha34ec5ba80bbe079
   9:     0x7fe31c94f4fc - std::sys_common::backtrace::__rust_end_short_backtrace::h94c9e486fd929163
  10:     0x7fe31c952402 - rust_begin_unwind
  11:     0x7fe31c9047b3 - core::panicking::panic_fmt::h3a5b5d72039ab650
  12:     0x7fe31c904ac3 - core::result::unwrap_failed::h119639a553f91aa2
  13:     0x7fe31ee93aaf - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::LocalDefId, rustc_hir[86677f9b4cf46361]::hir_id::HirId>>
  14:     0x7fe31ef98c26 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::local_def_id_to_hir_id, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  15:     0x7fe31eb48a44 - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::local_def_id_to_hir_id
  16:     0x7fe31fcdc4aa - <rustc_middle[f414e03c15862bd6]::hir::map::Map>::local_def_id_to_hir_id
  17:     0x7fe31fcdc564 - <rustc_middle[f414e03c15862bd6]::hir::map::Map>::opt_def_kind
  18:     0x7fe31ee9fbd2 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::DefId, core[69c2305d6fa5d54f]::option::Option<rustc_hir[86677f9b4cf46361]::def::DefKind>>>
  19:     0x7fe31ef73da9 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::opt_def_kind, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  20:     0x7fe31eb7c06e - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::opt_def_kind
  21:     0x7fe31ed020ff - rustc_query_impl[bf07a966c3412bd5]::plumbing::create_query_frame::<rustc_span[6f04c596547a783a]::def_id::DefId>
  22:     0x7fe31eda3329 - <rustc_query_impl[bf07a966c3412bd5]::query_structs::def_span::{closure#0}::{closure#0} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_span[6f04c596547a783a]::def_id::DefId)>>::call_once
  23:     0x7fe31ee3b41d - <rustc_query_system[818b688b820e3781]::query::plumbing::QueryState<rustc_span[6f04c596547a783a]::def_id::DefId>>::try_collect_active_jobs::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  24:     0x7fe31eb45614 - <rustc_query_impl[bf07a966c3412bd5]::Queries>::try_collect_active_jobs
  25:     0x7fe31ee06b58 - rustc_query_system[818b688b820e3781]::query::job::print_query_stack::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  26:     0x7fe31d463151 - rustc_interface[9e13cec8f8fbc07d]::interface::try_print_query_stack
  27:     0x7fe31d2b4f70 - rustc_driver[c92607568ea61f29]::report_ice
  28:     0x7fe31c952a03 - std::panicking::rust_panic_with_hook::h6fb0b7b5144c30a1
  29:     0x7fe31c952737 - std::panicking::begin_panic_handler::{{closure}}::ha34ec5ba80bbe079
  30:     0x7fe31c94f4fc - std::sys_common::backtrace::__rust_end_short_backtrace::h94c9e486fd929163
  31:     0x7fe31c952402 - rust_begin_unwind
  32:     0x7fe31c9047b3 - core::panicking::panic_fmt::h3a5b5d72039ab650
  33:     0x7fe31c904ac3 - core::result::unwrap_failed::h119639a553f91aa2
  34:     0x7fe31ee93aaf - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::LocalDefId, rustc_hir[86677f9b4cf46361]::hir_id::HirId>>
  35:     0x7fe31ef98c26 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::local_def_id_to_hir_id, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  36:     0x7fe31eb48a44 - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::local_def_id_to_hir_id
  37:     0x7fe31fda7e6a - <rustc_middle[f414e03c15862bd6]::hir::map::Map>::local_def_id_to_hir_id
  38:     0x7fe31fd99831 - <rustc_middle[f414e03c15862bd6]::hir::provide::{closure#7} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt, rustc_span[6f04c596547a783a]::def_id::DefId)>>::call_once
  39:     0x7fe31eead4e4 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::DefId, rustc_span[6f04c596547a783a]::span_encoding::Span>>
  40:     0x7fe31efc19f7 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::def_span, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  41:     0x7fe31eb7c6fc - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::def_span
  42:     0x7fe31ec307d2 - <rustc_span[6f04c596547a783a]::def_id::DefId as rustc_query_impl[bf07a966c3412bd5]::keys::Key>::default_span
  43:     0x7fe31ed01b3a - rustc_query_impl[bf07a966c3412bd5]::plumbing::create_query_frame::<rustc_hir[86677f9b4cf46361]::hir_id::OwnerId>
  44:     0x7fe31eda34a3 - <rustc_query_impl[bf07a966c3412bd5]::query_structs::hir_attrs::{closure#0}::{closure#0} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_hir[86677f9b4cf46361]::hir_id::OwnerId)>>::call_once
  45:     0x7fe31ee3b95f - <rustc_query_system[818b688b820e3781]::query::plumbing::QueryState<rustc_hir[86677f9b4cf46361]::hir_id::OwnerId>>::try_collect_active_jobs::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  46:     0x7fe31eb45614 - <rustc_query_impl[bf07a966c3412bd5]::Queries>::try_collect_active_jobs
  47:     0x7fe31eead624 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::DefId, rustc_span[6f04c596547a783a]::span_encoding::Span>>
  48:     0x7fe31efc19f7 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::def_span, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  49:     0x7fe31eb7c6fc - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::def_span
  50:     0x7fe31ec307d2 - <rustc_span[6f04c596547a783a]::def_id::DefId as rustc_query_impl[bf07a966c3412bd5]::keys::Key>::default_span
  51:     0x7fe31ed01b3a - rustc_query_impl[bf07a966c3412bd5]::plumbing::create_query_frame::<rustc_hir[86677f9b4cf46361]::hir_id::OwnerId>
  52:     0x7fe31eda1be3 - <rustc_query_impl[bf07a966c3412bd5]::query_structs::local_def_id_to_hir_id::{closure#0}::{closure#0} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_span[6f04c596547a783a]::def_id::LocalDefId)>>::call_once
  53:     0x7fe31ee3b24f - <rustc_query_system[818b688b820e3781]::query::plumbing::QueryState<rustc_span[6f04c596547a783a]::def_id::LocalDefId>>::try_collect_active_jobs::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  54:     0x7fe31eb45614 - <rustc_query_impl[bf07a966c3412bd5]::Queries>::try_collect_active_jobs
  55:     0x7fe31ee82eba - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::ArenaCache<(), rustc_hir[86677f9b4cf46361]::hir::Crate>>
  56:     0x7fe31efc231d - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::hir_crate, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  57:     0x7fe31eb4709a - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::hir_crate
  58:     0x7fe31fd98d16 - <rustc_middle[f414e03c15862bd6]::hir::provide::{closure#2} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt, rustc_span[6f04c596547a783a]::def_id::LocalDefId)>>::call_once
  59:     0x7fe31ee934ff - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::LocalDefId, rustc_hir[86677f9b4cf46361]::hir_id::HirId>>
  60:     0x7fe31ef98c26 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::local_def_id_to_hir_id, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  61:     0x7fe31eb48a44 - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::local_def_id_to_hir_id
  62:     0x7fe31fda7e6a - <rustc_middle[f414e03c15862bd6]::hir::map::Map>::local_def_id_to_hir_id
  63:     0x7fe31fd99831 - <rustc_middle[f414e03c15862bd6]::hir::provide::{closure#7} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt, rustc_span[6f04c596547a783a]::def_id::DefId)>>::call_once
  64:     0x7fe31eead4e4 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_span[6f04c596547a783a]::def_id::DefId, rustc_span[6f04c596547a783a]::span_encoding::Span>>
  65:     0x7fe31efc19f7 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::def_span, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  66:     0x7fe31eb7c6fc - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::def_span
  67:     0x7fe31fce1ba8 - <rustc_middle[f414e03c15862bd6]::hir::map::Map>::span_if_local
  68:     0x7fe31e21e6c2 - rustc_passes[725767bcdb65ed3]::lang_items::collect_item
  69:     0x7fe31e21fb1c - rustc_passes[725767bcdb65ed3]::lang_items::get_lang_items
  70:     0x7fe31ee80e94 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::ArenaCache<(), rustc_hir[86677f9b4cf46361]::lang_items::LanguageItems>>
  71:     0x7fe31ef76360 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::get_lang_items, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  72:     0x7fe31eba0c9a - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::get_lang_items
  73:     0x7fe31fd69fa2 - <rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt>::lang_items
  74:     0x7fe31fd54988 - <rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt>::require_lang_item
  75:     0x7fe31deb802d - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lang_item_path
  76:     0x7fe31dea340e - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::expr_lang_item_path
  77:     0x7fe31dea3330 - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::expr_call_lang_item_fn_mut
  78:     0x7fe31dea225a - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lower_expr_try
  79:     0x7fe31de96abf - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lower_expr_mut::{closure#0}
  80:     0x7fe31de95f18 - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lower_stmts
  81:     0x7fe31deaeed6 - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lower_maybe_async_body
  82:     0x7fe31dea46c0 - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::lower_item_kind
  83:     0x7fe31dec021f - <rustc_ast_lowering[a039b9f3172a3d65]::LoweringContext>::with_hir_id_owner::<<rustc_ast_lowering[a039b9f3172a3d65]::item::ItemLowerer>::with_lctx<<rustc_ast_lowering[a039b9f3172a3d65]::item::ItemLowerer>::lower_item::{closure#0}>::{closure#0}>
  84:     0x7fe31defd703 - <rustc_ast_lowering[a039b9f3172a3d65]::item::ItemLowerer>::lower_node
  85:     0x7fe31deb6158 - rustc_ast_lowering[a039b9f3172a3d65]::lower_to_hir
  86:     0x7fe31ee82d92 - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::ArenaCache<(), rustc_hir[86677f9b4cf46361]::hir::Crate>>
  87:     0x7fe31efc231d - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::hir_crate, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  88:     0x7fe31eb4709a - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::hir_crate
  89:     0x7fe31fd994e2 - <rustc_middle[f414e03c15862bd6]::hir::provide::{closure#5} as core[69c2305d6fa5d54f]::ops::function::FnOnce<(rustc_middle[f414e03c15862bd6]::ty::context::TyCtxt, rustc_hir[86677f9b4cf46361]::hir_id::OwnerId)>>::call_once
  90:     0x7fe31eedb6be - rustc_query_system[818b688b820e3781]::query::plumbing::try_execute_query::<rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt, rustc_query_system[818b688b820e3781]::query::caches::DefaultCache<rustc_hir[86677f9b4cf46361]::hir_id::OwnerId, &rustc_hir[86677f9b4cf46361]::hir::AttributeMap>>
  91:     0x7fe31efc2219 - rustc_query_system[818b688b820e3781]::query::plumbing::get_query::<rustc_query_impl[bf07a966c3412bd5]::queries::hir_attrs, rustc_query_impl[bf07a966c3412bd5]::plumbing::QueryCtxt>
  92:     0x7fe31eb49d84 - <rustc_query_impl[bf07a966c3412bd5]::Queries as rustc_middle[f414e03c15862bd6]::ty::query::QueryEngine>::hir_attrs
  93:     0x7fe31fce0bee - <rustc_middle[f414e03c15862bd6]::hir::map::Map>::attrs
  94:     0x560e808efdbf - <rustc_interface[9e13cec8f8fbc07d]::passes::QueryContext>::enter::<rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}::{closure#0}::{closure#0}, rustdoc[ef350963d9786a1e]::doctest::Collector>
  95:     0x560e80ada424 - <rustc_interface[9e13cec8f8fbc07d]::interface::Compiler>::enter::<rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>
  96:     0x560e8086010b - rustc_span[6f04c596547a783a]::with_source_map::<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustc_interface[9e13cec8f8fbc07d]::interface::run_compiler<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}>::{closure#0}::{closure#1}>
  97:     0x560e807e6ca8 - <scoped_tls[ce9fa241ba16890b]::ScopedKey<rustc_span[6f04c596547a783a]::SessionGlobals>>::set::<rustc_interface[9e13cec8f8fbc07d]::interface::run_compiler<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}>::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>
  98:     0x560e8086d793 - std[b4d7b7572d6e9bb7]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[9e13cec8f8fbc07d]::util::run_in_thread_pool_with_globals<rustc_interface[9e13cec8f8fbc07d]::interface::run_compiler<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}>::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>
  99:     0x560e8093ae31 - std[b4d7b7572d6e9bb7]::panicking::try::<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, core[69c2305d6fa5d54f]::panic::unwind_safe::AssertUnwindSafe<<std[b4d7b7572d6e9bb7]::thread::Builder>::spawn_unchecked_<rustc_interface[9e13cec8f8fbc07d]::util::run_in_thread_pool_with_globals<rustc_interface[9e13cec8f8fbc07d]::interface::run_compiler<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}>::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>::{closure#1}::{closure#0}>>
 100:     0x560e809a46b6 - <<std[b4d7b7572d6e9bb7]::thread::Builder>::spawn_unchecked_<rustc_interface[9e13cec8f8fbc07d]::util::run_in_thread_pool_with_globals<rustc_interface[9e13cec8f8fbc07d]::interface::run_compiler<core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>, rustdoc[ef350963d9786a1e]::doctest::run::{closure#1}>::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[69c2305d6fa5d54f]::result::Result<(alloc[a40b22d2678a71d4]::vec::Vec<test[19c245393983215]::types::TestDescAndFn>, alloc[a40b22d2678a71d4]::sync::Arc<std[b4d7b7572d6e9bb7]::sync::mutex::Mutex<alloc[a40b22d2678a71d4]::vec::Vec<rustdoc[ef350963d9786a1e]::doctest::UnusedExterns>>>, usize), rustc_errors[3464920041138443]::ErrorGuaranteed>>::{closure#1} as core[69c2305d6fa5d54f]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
 101:     0x7fe31c95f66e - std::sys::unix::thread::Thread::new::thread_start::h05afa8442b34c479
 102:     0x7fe31c5f1b43 - <unknown>
 103:     0x7fe31c683a00 - <unknown>
 104:                0x0 - <unknown>
error: internal compiler error: unexpected panic

note: the compiler unexpectedly panicked. this is a bug.


note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: rustc 1.67.0-nightly (56a0df96a 2022-11-01) running on x86_64-unknown-linux-gnu

note: compiler flags: --crate-type dylib --crate-type rlib -C embed-bitcode=no -Z unstable-options -C symbol-mangling-version=legacy -Z unstable-options -Z unstable-options -Z crate-attr=doc(html_root_url="https://doc.rust-lang.org/nightly/") -Z force-unstable-if-unmarked -Z unstable-options
query stack during panic:
thread panicked while processing panic. aborting.
thread panicked while processing panic. aborting.
error: doctest failed, to rerun pass `-p std --doc`
Caused by:
Caused by:
  process didn't exit successfully: `/checkout/obj/build/bootstrap/debug/rustdoc --edition=2021 --crate-type dylib --crate-type rlib --crate-name std --test /checkout/library/std/src/lib.rs --target x86_64-unknown-linux-gnu -L dependency=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps -L dependency=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/release/deps -L native=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/build/compiler_builtins-f1db41a0742b0ce9/out --test-args --quiet --extern addr2line=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libaddr2line-dfe05253dd704558.rlib --extern alloc=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/liballoc-3ada688740511823.rlib --extern cfg_if=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libcfg_if-1f78658c6fdeeb6d.rlib --extern compiler_builtins=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libcompiler_builtins-439d6a23eccb871c.rlib --extern core=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libcore-fa992565d2130c71.rlib --extern hashbrown=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libhashbrown-aa0114738c67bbdf.rlib --extern libc=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/liblibc-2f69066f3f8b4895.rlib --extern miniz_oxide=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libminiz_oxide-1d96e89e6bed6216.rlib --extern object=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libobject-fb0a5eefa82ce923.rlib --extern panic_abort=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libpanic_abort-c296fbc003f0e23a.rlib --extern panic_unwind=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libpanic_unwind-337d85040917ff07.rlib --extern rand=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/librand-cb20ff67b9882555.rlib --extern rustc_demangle=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/librustc_demangle-e6a6e3a51cd894c0.rlib --extern std=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libstd-41c689254cd2f602.so --extern std=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libstd-41c689254cd2f602.rlib --extern std_detect=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libstd_detect-90629809bbcf7456.rlib --extern unwind=/checkout/obj/build/x86_64-unknown-linux-gnu/stage1-std/x86_64-unknown-linux-gnu/release/deps/libunwind-1adb97b83c3d46b2.rlib -C embed-bitcode=no --cfg 'feature="addr2line"' --cfg 'feature="backtrace"' --cfg 'feature="compiler-builtins-c"' --cfg 'feature="gimli-symbolize"' --cfg 'feature="miniz_oxide"' --cfg 'feature="object"' --cfg 'feature="panic_unwind"' --cfg 'feature="std_detect_dlsym_getauxval"' --cfg 'feature="std_detect_file_io"' -Zunstable-options --check-cfg 'names()' --check-cfg 'values()' --cfg backtrace_in_libstd -Csymbol-mangling-version=legacy -Zunstable-options -Zunstable-options '--check-cfg=values(bootstrap)' '--check-cfg=values(stdarch_intel_sde)' '--check-cfg=values(no_fp_fmt_parse)' '--check-cfg=values(no_global_oom_handling)' '--check-cfg=values(no_rc)' '--check-cfg=values(no_sync)' '--check-cfg=values(freebsd12)' '--check-cfg=values(backtrace_in_libstd)' '--check-cfg=values(target_env,"libnx")' '--check-cfg=values(target_os,"watchos")' '--check-cfg=values(target_arch,"asmjs","spirv","nvptx","nvptx64","le32","xtensa")' '--check-cfg=values(dont_compile_me)' '--check-cfg=values(rustix_use_libc)' -Dwarnings '-Wrustdoc::invalid_codeblock_attributes' --crate-version '1.67.0-nightly
  (56a0df96a
  2022-11-01)' '-Zcrate-attr=doc(html_root_url="https://doc.rust-lang.org/nightly/")' --error-format human` (exit status: 1)
