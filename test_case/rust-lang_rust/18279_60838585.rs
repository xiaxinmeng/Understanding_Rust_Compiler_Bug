
    error: linking with `gcc` failed: exit code: 1
    note: gcc '-m64' '-L' 'C:\bot\slave\auto-win-64-nopt-t\build\obj\x86_64-w64-mingw32\stage2\bin\rustlib\x86_64-w64-mingw32\lib' '-o' 'x86_64-w64-mingw32\test\run-pass\static-reference-foreign-static.stage2-x86_64-w64-mingw32.exe' 'x86_64-w64-mingw32\test\run-pass\static-reference-foreign-static.o' '-Wl,--whole-archive' '-lmorestack' '-Wl,--no-whole-archive' '-fno-lto' '-fno-use-linker-plugin' '-Wl,--gc-sections' '-static-libgcc' '-Wl,--enable-long-section-names' '-Wl,--nxcompat' '-L' 'C:\bot\slave\auto-win-64-nopt-t\build\obj\x86_64-w64-mingw32\stage2\bin\rustlib\x86_64-w64-mingw32\lib' '-lnative-4e7c5e5c' '-L' 'C:\bot\slave\auto-win-64-nopt-t\build\obj\x86_64-w64-mingw32\stage2\bin\rustlib\x86_64-w64-mingw32\lib' '-lstd-4e7c5e5c' '-L' 'C:\bot\slave\auto-win-64-nopt-t\build\obj\x86_64-w64-mingw32\stage2\bin\rustlib\x86_64-w64-mingw32\lib' '-lsync-4e7c5e5c' '-L' 'C:\bot\slave\auto-win-64-nopt-t\build\obj\x86_64-w64-mingw32\stage2\bin\rustlib\x86_64-w64-mingw32\lib' '-lrustrt-4e7c5e5c' '-L' 'x86_64-w64-mingw32\test\run-pass' '-L' 'x86_64-w64-mingw32\test\run-pass\static-reference-foreign-static.stage2-x86_64-w64-mingw32libaux' '-L' 'x86_64-w64-mingw32\rt' '-L' 'C:\bot\slave\auto-win-64-nopt-t\build\obj\.rust' '-L' 'C:\bot\slave\auto-win-64-nopt-t\build\obj' '-Wl,--whole-archive' '-Wl,-Bstatic' '-Wl,--no-whole-archive' '-Wl,-Bdynamic' '-lws2_32' '-lcompiler-rt'
    note: x86_64-w64-mingw32\test\run-pass\static-reference-foreign-static.o:(.rdata+0x0): undefined reference to `x'
    collect2.exe: error: ld returned 1 exit status

    error: aborting due to previous error
