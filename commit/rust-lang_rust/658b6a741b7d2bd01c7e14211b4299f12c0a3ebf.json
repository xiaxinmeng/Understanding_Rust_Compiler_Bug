{"sha": "658b6a741b7d2bd01c7e14211b4299f12c0a3ebf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY1OGI2YTc0MWI3ZDJiZDAxYzdlMTQyMTFiNDI5OWYxMmMwYTNlYmY=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-04-14T09:14:05Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-04-14T09:14:05Z"}, "message": "test: Simulate abstract methods with template modules", "tree": {"sha": "d65c40819a1d97c26e7fd830c07582454d7dc2c0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d65c40819a1d97c26e7fd830c07582454d7dc2c0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf", "html_url": "https://github.com/rust-lang/rust/commit/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "url": "https://api.github.com/repos/rust-lang/rust/commits/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "html_url": "https://github.com/rust-lang/rust/commit/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9"}], "stats": {"total": 74, "additions": 74, "deletions": 0}, "files": [{"sha": "9bcb03f611c3cd632ab7869fdd50d7b21dfafd72", "filename": "src/test/run-pass/module-polymorphism4-files/cat.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4-files%2Fcat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4-files%2Fcat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4-files%2Fcat.rs?ref=658b6a741b7d2bd01c7e14211b4299f12c0a3ebf", "patch": "@@ -0,0 +1,14 @@\n+type T = cat;\n+\n+enum cat {\n+    howlycat,\n+    meowlycat\n+}\n+\n+fn animal() -> str { \"cat\" }\n+fn talk(c: cat) -> str {\n+    alt c {\n+      howlycat { \"howl\" }\n+      meowlycat { \"meow\" }\n+    }\n+}"}, {"sha": "4826f48b6f3066f3a2270fe4a1745ea2219184ae", "filename": "src/test/run-pass/module-polymorphism4-files/dog.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4-files%2Fdog.rs", "raw_url": "https://github.com/rust-lang/rust/raw/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4-files%2Fdog.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4-files%2Fdog.rs?ref=658b6a741b7d2bd01c7e14211b4299f12c0a3ebf", "patch": "@@ -0,0 +1,9 @@\n+type T = dog;\n+\n+enum dog {\n+    dog\n+}\n+\n+fn animal() -> str { \"dog\" }\n+fn talk(_d: dog) -> str { \"woof\" }\n+"}, {"sha": "79296359d774f679421091cb8b667d3116752a58", "filename": "src/test/run-pass/module-polymorphism4-files/trait.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4-files%2Ftrait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4-files%2Ftrait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4-files%2Ftrait.rs?ref=658b6a741b7d2bd01c7e14211b4299f12c0a3ebf", "patch": "@@ -0,0 +1,9 @@\n+impl talky for T {\n+\n+    // 'animal' and 'talk' functions are implemented by the module\n+    // instantiating the talky trait. They are 'abstract'\n+    fn says() -> str {\n+        animal() + \" says '\" + talk(self) + \"'\"\n+    }\n+\n+}"}, {"sha": "04348ad6dc2209c55920a46766b740c7a6e55d53", "filename": "src/test/run-pass/module-polymorphism4.rc", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4.rc", "raw_url": "https://github.com/rust-lang/rust/raw/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4.rc?ref=658b6a741b7d2bd01c7e14211b4299f12c0a3ebf", "patch": "@@ -0,0 +1,28 @@\n+#[no_core];\n+\n+\n+#[path = \"module-polymorphism4-files\"]\n+mod cat {\n+\n+    import inst::*;\n+\n+    #[path = \"cat.rs\"]\n+    mod inst;\n+\n+    #[path = \"trait.rs\"]\n+    mod trait;\n+\n+}\n+\n+#[path = \"module-polymorphism4-files\"]\n+mod dog {\n+\n+    import inst::*;\n+\n+    #[path = \"dog.rs\"]\n+    mod inst;\n+\n+    #[path = \"trait.rs\"]\n+    mod trait;\n+\n+}"}, {"sha": "074a9272a973cfcd7d617dcbed7b8e924ef777d6", "filename": "src/test/run-pass/module-polymorphism4.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/658b6a741b7d2bd01c7e14211b4299f12c0a3ebf/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism4.rs?ref=658b6a741b7d2bd01c7e14211b4299f12c0a3ebf", "patch": "@@ -0,0 +1,14 @@\n+// This isn't really xfailed; it's used by the\n+// module-polymorphism.rc test\n+// xfail-test\n+\n+fn main() {\n+    import cat::trait::talky;\n+    import dog::trait::talky;\n+    let cat1 = cat::inst::meowlycat;\n+    let cat2 = cat::inst::howlycat;\n+    let dog = dog::inst::dog;\n+    assert cat1.says() == \"cat says 'meow'\";\n+    assert cat2.says() == \"cat says 'howl'\";\n+    assert dog.says() == \"dog says 'woof'\";\n+}\n\\ No newline at end of file"}]}