{"sha": "a11de4171c1712a0c42d05207f4f01fb49c40d0d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmExMWRlNDE3MWMxNzEyYTBjNDJkMDUyMDdmNGYwMWZiNDljNDBkMGQ=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-12-10T21:02:02Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-12-10T21:02:02Z"}, "message": "Rollup merge of #56661 - aelred:issue-55846, r=Mark-Simulacrum\n\nAdd regression test for ICE\n\nFixes #55846 with a minimal (or as best as I can manage) test case. I tested this against 1.30.0 manually to confirm it crashes.\n\nThe issue seemed to have something to do with associated types. It's possible someone with more knowledge can shrink the test case down further, or make it clearer.", "tree": {"sha": "70ec3fd00841fe2fa1ea298bd5f399ca5a98f602", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/70ec3fd00841fe2fa1ea298bd5f399ca5a98f602"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a11de4171c1712a0c42d05207f4f01fb49c40d0d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcDtRKCRBK7hj4Ov3rIwAAdHIIADXIIkiSmeSrG1/oulw8gHbV\nwPj/QhGmejuXUwIFyv5kKgnIKHT2JyvKMj3Wq71qwhLhrrDe8yG/y5RsStJ1zJiJ\nL14Gh+WwmElr9Rp50eTB9v/0Hy0L6KpkAZ/uu/9RbPKqJL56h5fwt/tTgbhV8htt\ngiiZ2h7fd5relHltx1wSEvTgDvuOaNuy4Yuwd2KWqsfIOwZtfWHIcmrdI7iy1IhZ\nsyVyUDxymASRGG30w9MEiIYItGJRkb7m0wK1dpFtbiaVTAV4NucBRbyW4NkipnDR\nYHp2XE94sFY5v3Ru91jIOwK3zdi7jUcZXyxCkL7GOC7DJhAt6uhDuTys5/Hbmt0=\n=gy8B\n-----END PGP SIGNATURE-----\n", "payload": "tree 70ec3fd00841fe2fa1ea298bd5f399ca5a98f602\nparent b3f1650b349599fb17103e23bee5169727d4b71d\nparent 90b8131abc4eed3596b63e44a56c95258f0b4dc9\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1544475722 +0100\ncommitter GitHub <noreply@github.com> 1544475722 +0100\n\nRollup merge of #56661 - aelred:issue-55846, r=Mark-Simulacrum\n\nAdd regression test for ICE\n\nFixes #55846 with a minimal (or as best as I can manage) test case. I tested this against 1.30.0 manually to confirm it crashes.\n\nThe issue seemed to have something to do with associated types. It's possible someone with more knowledge can shrink the test case down further, or make it clearer.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a11de4171c1712a0c42d05207f4f01fb49c40d0d", "html_url": "https://github.com/rust-lang/rust/commit/a11de4171c1712a0c42d05207f4f01fb49c40d0d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a11de4171c1712a0c42d05207f4f01fb49c40d0d/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b3f1650b349599fb17103e23bee5169727d4b71d", "url": "https://api.github.com/repos/rust-lang/rust/commits/b3f1650b349599fb17103e23bee5169727d4b71d", "html_url": "https://github.com/rust-lang/rust/commit/b3f1650b349599fb17103e23bee5169727d4b71d"}, {"sha": "90b8131abc4eed3596b63e44a56c95258f0b4dc9", "url": "https://api.github.com/repos/rust-lang/rust/commits/90b8131abc4eed3596b63e44a56c95258f0b4dc9", "html_url": "https://github.com/rust-lang/rust/commit/90b8131abc4eed3596b63e44a56c95258f0b4dc9"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "bd766752360a15faa69912f6a1493f7f2ff502f4", "filename": "src/test/ui/issue-55846.rs", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/rust-lang/rust/blob/a11de4171c1712a0c42d05207f4f01fb49c40d0d/src%2Ftest%2Fui%2Fissue-55846.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a11de4171c1712a0c42d05207f4f01fb49c40d0d/src%2Ftest%2Fui%2Fissue-55846.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-55846.rs?ref=a11de4171c1712a0c42d05207f4f01fb49c40d0d", "patch": "@@ -0,0 +1,39 @@\n+// run-pass\n+\n+// Regression test for #55846, which once caused an ICE.\n+\n+use std::marker::PhantomData;\n+\n+struct Foo;\n+\n+struct Bar<A> {\n+    a: PhantomData<A>,\n+}\n+\n+impl Fooifier for Foo {\n+    type Assoc = Foo;\n+}\n+\n+trait Fooifier {\n+    type Assoc;\n+}\n+\n+trait Barifier<H> {\n+    fn barify();\n+}\n+\n+impl<H> Barifier<H> for Bar<H> {\n+    fn barify() {\n+        println!(\"All correct!\");\n+    }\n+}\n+\n+impl Bar<<Foo as Fooifier>::Assoc> {\n+    fn this_shouldnt_crash() {\n+        <Self as Barifier<<Foo as Fooifier>::Assoc>>::barify();\n+    }\n+}\n+\n+fn main() {\n+    Bar::<Foo>::this_shouldnt_crash();\n+}"}]}