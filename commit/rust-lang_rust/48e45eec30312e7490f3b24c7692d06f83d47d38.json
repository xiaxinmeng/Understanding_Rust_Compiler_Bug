{"sha": "48e45eec30312e7490f3b24c7692d06f83d47d38", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4ZTQ1ZWVjMzAzMTJlNzQ5MGYzYjI0Yzc2OTJkMDZmODNkNDdkMzg=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-06-06T21:18:13Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-06-06T21:25:50Z"}, "message": "Add `transparent` as valid `repr` hint", "tree": {"sha": "d7fc6a003bd3211f3149b7e0331eb763da8af5c0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d7fc6a003bd3211f3149b7e0331eb763da8af5c0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/48e45eec30312e7490f3b24c7692d06f83d47d38", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/48e45eec30312e7490f3b24c7692d06f83d47d38", "html_url": "https://github.com/rust-lang/rust/commit/48e45eec30312e7490f3b24c7692d06f83d47d38", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/48e45eec30312e7490f3b24c7692d06f83d47d38/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3580de8c6d6aa39a4b81a851deaf8bb9b6baf66d", "url": "https://api.github.com/repos/rust-lang/rust/commits/3580de8c6d6aa39a4b81a851deaf8bb9b6baf66d", "html_url": "https://github.com/rust-lang/rust/commit/3580de8c6d6aa39a4b81a851deaf8bb9b6baf66d"}], "stats": {"total": 22, "additions": 11, "deletions": 11}, "files": [{"sha": "b1b1440fbd282cf0d2e8af6ae8457e7c5162e746", "filename": "src/librustc_lint/builtin.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/48e45eec30312e7490f3b24c7692d06f83d47d38/src%2Flibrustc_lint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48e45eec30312e7490f3b24c7692d06f83d47d38/src%2Flibrustc_lint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Fbuiltin.rs?ref=48e45eec30312e7490f3b24c7692d06f83d47d38", "patch": "@@ -696,7 +696,7 @@ impl EarlyLintPass for BadRepr {\n                 let mut warn = if let Some(ref lit) = attr.value_str() {\n                     // avoid warning about empty `repr` on `#[repr = \"foo\"]`\n                     let sp = match format!(\"{}\", lit).as_ref() {\n-                        \"C\" | \"packed\" | \"rust\" | \"u*\" | \"i*\" => {\n+                        \"C\" | \"packed\" | \"rust\" | \"u*\" | \"i*\" | \"transparent\" => {\n                             let lo = attr.span.lo() + BytePos(2);\n                             let hi = attr.span.hi() - BytePos(1);\n                             suggested = true;\n@@ -731,8 +731,8 @@ impl EarlyLintPass for BadRepr {\n                     warn\n                 };\n                 if !suggested {\n-                    warn.help(\"valid hints include `#[repr(C)]`, `#[repr(packed)]` and \\\n-                               `#[repr(rust)]`\");\n+                    warn.help(\"valid hints include `#[repr(C)]`, `#[repr(packed)]`, \\\n+                               `#[repr(rust)]` and `#[repr(transparent)]`\");\n                     warn.note(\"for more information, visit \\\n                                <https://doc.rust-lang.org/nomicon/other-reprs.html>\");\n                 }"}, {"sha": "2b6396249bb82b5bb320f57163839398bb19121f", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-builtin-attrs.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/48e45eec30312e7490f3b24c7692d06f83d47d38/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-builtin-attrs.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/48e45eec30312e7490f3b24c7692d06f83d47d38/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-builtin-attrs.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-builtin-attrs.stderr?ref=48e45eec30312e7490f3b24c7692d06f83d47d38", "patch": "@@ -193,7 +193,7 @@ LL |     mod inner { #![repr=\"3900\"] }\n    |                 ^^^^^^^^^^^^^^^ needs a hint\n    |\n    = note: #[warn(bad_repr)] on by default\n-   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]` and `#[repr(rust)]`\n+   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]`, `#[repr(rust)]` and `#[repr(transparent)]`\n    = note: for more information, visit <https://doc.rust-lang.org/nomicon/other-reprs.html>\n \n warning: `repr` attribute isn't configurable with a literal\n@@ -202,7 +202,7 @@ warning: `repr` attribute isn't configurable with a literal\n LL |     #[repr = \"3900\"] fn f() { }\n    |     ^^^^^^^^^^^^^^^^ needs a hint\n    |\n-   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]` and `#[repr(rust)]`\n+   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]`, `#[repr(rust)]` and `#[repr(transparent)]`\n    = note: for more information, visit <https://doc.rust-lang.org/nomicon/other-reprs.html>\n \n warning: `repr` attribute isn't configurable with a literal\n@@ -211,7 +211,7 @@ warning: `repr` attribute isn't configurable with a literal\n LL |     #[repr = \"3900\"] type T = S;\n    |     ^^^^^^^^^^^^^^^^ needs a hint\n    |\n-   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]` and `#[repr(rust)]`\n+   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]`, `#[repr(rust)]` and `#[repr(transparent)]`\n    = note: for more information, visit <https://doc.rust-lang.org/nomicon/other-reprs.html>\n \n warning: `repr` attribute isn't configurable with a literal\n@@ -220,7 +220,7 @@ warning: `repr` attribute isn't configurable with a literal\n LL |     #[repr = \"3900\"] impl S { }\n    |     ^^^^^^^^^^^^^^^^ needs a hint\n    |\n-   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]` and `#[repr(rust)]`\n+   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]`, `#[repr(rust)]` and `#[repr(transparent)]`\n    = note: for more information, visit <https://doc.rust-lang.org/nomicon/other-reprs.html>\n \n warning: `repr` attribute isn't configurable with a literal\n@@ -229,7 +229,7 @@ warning: `repr` attribute isn't configurable with a literal\n LL | #[repr = \"3900\"]\n    | ^^^^^^^^^^^^^^^^ needs a hint\n    |\n-   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]` and `#[repr(rust)]`\n+   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]`, `#[repr(rust)]` and `#[repr(transparent)]`\n    = note: for more information, visit <https://doc.rust-lang.org/nomicon/other-reprs.html>\n \n warning: `repr` attribute isn't configurable with a literal\n@@ -238,7 +238,7 @@ warning: `repr` attribute isn't configurable with a literal\n LL | #![repr                       = \"3900\"]\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ needs a hint\n    |\n-   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]` and `#[repr(rust)]`\n+   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]`, `#[repr(rust)]` and `#[repr(transparent)]`\n    = note: for more information, visit <https://doc.rust-lang.org/nomicon/other-reprs.html>\n \n warning: unused attribute"}, {"sha": "efc7e0fd2bed50daad1ff8905c2e0c8509cd97ed", "filename": "src/test/ui/suggestions/repr.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/48e45eec30312e7490f3b24c7692d06f83d47d38/src%2Ftest%2Fui%2Fsuggestions%2Frepr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/48e45eec30312e7490f3b24c7692d06f83d47d38/src%2Ftest%2Fui%2Fsuggestions%2Frepr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Frepr.stderr?ref=48e45eec30312e7490f3b24c7692d06f83d47d38", "patch": "@@ -5,7 +5,7 @@ LL | #[repr]\n    | ^^^^^^^ needs a hint\n    |\n    = note: #[warn(bad_repr)] on by default\n-   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]` and `#[repr(rust)]`\n+   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]`, `#[repr(rust)]` and `#[repr(transparent)]`\n    = note: for more information, visit <https://doc.rust-lang.org/nomicon/other-reprs.html>\n \n warning: `repr` attribute isn't configurable with a literal\n@@ -14,7 +14,7 @@ warning: `repr` attribute isn't configurable with a literal\n LL | #[repr = \"B\"]\n    | ^^^^^^^^^^^^^ needs a hint\n    |\n-   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]` and `#[repr(rust)]`\n+   = help: valid hints include `#[repr(C)]`, `#[repr(packed)]`, `#[repr(rust)]` and `#[repr(transparent)]`\n    = note: for more information, visit <https://doc.rust-lang.org/nomicon/other-reprs.html>\n \n warning: `repr` attribute isn't configurable with a literal"}]}