{"sha": "cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkZDFjMGVmYmIzN2ZkNDc1ZWJjNjBlMGU1OGUzMmU3ZDJjYmZmMTk=", "commit": {"author": {"name": "John K\u00e5re Alsaker", "email": "john.kare.alsaker@gmail.com", "date": "2019-02-17T06:23:13Z"}, "committer": {"name": "John K\u00e5re Alsaker", "email": "john.kare.alsaker@gmail.com", "date": "2019-02-17T06:23:13Z"}, "message": "Don't use an allocation for ItemId in StmtKind", "tree": {"sha": "e51697a05cd6326ca93cb6c0dfa30c85c7aa2092", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e51697a05cd6326ca93cb6c0dfa30c85c7aa2092"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19", "html_url": "https://github.com/rust-lang/rust/commit/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19/comments", "author": {"login": "Zoxc", "id": 25784, "node_id": "MDQ6VXNlcjI1Nzg0", "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zoxc", "html_url": "https://github.com/Zoxc", "followers_url": "https://api.github.com/users/Zoxc/followers", "following_url": "https://api.github.com/users/Zoxc/following{/other_user}", "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions", "organizations_url": "https://api.github.com/users/Zoxc/orgs", "repos_url": "https://api.github.com/users/Zoxc/repos", "events_url": "https://api.github.com/users/Zoxc/events{/privacy}", "received_events_url": "https://api.github.com/users/Zoxc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Zoxc", "id": 25784, "node_id": "MDQ6VXNlcjI1Nzg0", "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zoxc", "html_url": "https://github.com/Zoxc", "followers_url": "https://api.github.com/users/Zoxc/followers", "following_url": "https://api.github.com/users/Zoxc/following{/other_user}", "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions", "organizations_url": "https://api.github.com/users/Zoxc/orgs", "repos_url": "https://api.github.com/users/Zoxc/repos", "events_url": "https://api.github.com/users/Zoxc/events{/privacy}", "received_events_url": "https://api.github.com/users/Zoxc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eac09088e1a8fc8a293028764e4e84da29469205", "url": "https://api.github.com/repos/rust-lang/rust/commits/eac09088e1a8fc8a293028764e4e84da29469205", "html_url": "https://github.com/rust-lang/rust/commit/eac09088e1a8fc8a293028764e4e84da29469205"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "a8fa1f31a55f4e0d07660504d4f3baca91e7dcdd", "filename": "src/librustc/hir/intravisit.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19/src%2Flibrustc%2Fhir%2Fintravisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19/src%2Flibrustc%2Fhir%2Fintravisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fintravisit.rs?ref=cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19", "patch": "@@ -951,7 +951,7 @@ pub fn walk_stmt<'v, V: Visitor<'v>>(visitor: &mut V, statement: &'v Stmt) {\n     visitor.visit_id(statement.id);\n     match statement.node {\n         StmtKind::Local(ref local) => visitor.visit_local(local),\n-        StmtKind::Item(ref item) => visitor.visit_nested_item(**item),\n+        StmtKind::Item(item) => visitor.visit_nested_item(item),\n         StmtKind::Expr(ref expression) |\n         StmtKind::Semi(ref expression) => {\n             visitor.visit_expr(expression)"}, {"sha": "2341dda6768972a5b9d92cb146c6c6d44e74de28", "filename": "src/librustc/hir/lowering.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19/src%2Flibrustc%2Fhir%2Flowering.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19/src%2Flibrustc%2Fhir%2Flowering.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Flowering.rs?ref=cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19", "patch": "@@ -4663,7 +4663,7 @@ impl<'a> LoweringContext<'a> {\n                         hir::Stmt {\n                             id: node_id,\n                             hir_id,\n-                            node: hir::StmtKind::Item(P(item_id)),\n+                            node: hir::StmtKind::Item(item_id),\n                             span: s.span,\n                         }\n                     })\n@@ -4693,7 +4693,7 @@ impl<'a> LoweringContext<'a> {\n                         hir::Stmt {\n                             id: node_id,\n                             hir_id,\n-                            node: hir::StmtKind::Item(P(item_id)),\n+                            node: hir::StmtKind::Item(item_id),\n                             span: s.span,\n                         }\n                     })"}, {"sha": "f4a9903e559f6ab79742be98a5fb9f5b42c53eb1", "filename": "src/librustc/hir/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19/src%2Flibrustc%2Fhir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19/src%2Flibrustc%2Fhir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmod.rs?ref=cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19", "patch": "@@ -1159,8 +1159,9 @@ impl fmt::Debug for Stmt {\n pub enum StmtKind {\n     /// A local (`let`) binding.\n     Local(P<Local>),\n+\n     /// An item binding.\n-    Item(P<ItemId>),\n+    Item(ItemId),\n \n     /// An expression without a trailing semi-colon (must have unit type).\n     Expr(P<Expr>),"}, {"sha": "81a67b1a4bcf7cbc31155d2efd1d2071915e17e0", "filename": "src/librustc/hir/print.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19/src%2Flibrustc%2Fhir%2Fprint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19/src%2Flibrustc%2Fhir%2Fprint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fprint.rs?ref=cdd1c0efbb37fd475ebc60e0e58e32e7d2cbff19", "patch": "@@ -1007,8 +1007,8 @@ impl<'a> State<'a> {\n                 }\n                 self.end()?\n             }\n-            hir::StmtKind::Item(ref item) => {\n-                self.ann.nested(self, Nested::Item(**item))?\n+            hir::StmtKind::Item(item) => {\n+                self.ann.nested(self, Nested::Item(item))?\n             }\n             hir::StmtKind::Expr(ref expr) => {\n                 self.space_if_not_bol()?;"}]}