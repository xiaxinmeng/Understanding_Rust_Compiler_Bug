{"sha": "c866ae5e93efe6bcc4aa39d743cdf9c44aaea978", "node_id": "C_kwDOAAsO6NoAKGM4NjZhZTVlOTNlZmU2YmNjNGFhMzlkNzQzY2RmOWM0NGFhZWE5Nzg", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-01-29T13:46:34Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-01-29T13:46:34Z"}, "message": "Rollup merge of #93431 - lqd:remove-jemallocator, r=Mark-Simulacrum\n\nremove unused `jemallocator` crate\n\nWhen it was noticed that the rustc binary wasn't actually using jemalloc via `#[global_allocator]` and that was removed, the dependency remained.\n\nTests pass locally with a `jemalloc = true` build, but I'll trigger a try build to ensure I haven't missed an edge-case somewhere.\n\nr? ```@ghost``` until that completes", "tree": {"sha": "ba414ae2ea0cc2e9acb2df58062292f4d6e38fd9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ba414ae2ea0cc2e9acb2df58062292f4d6e38fd9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c866ae5e93efe6bcc4aa39d743cdf9c44aaea978", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJh9UU7CRBK7hj4Ov3rIwAAdxoIAEpbIeJ6ERO6oDLGRikIsj2t\nWJ2TvjA8c1qR/z9X5wHT2ixYTegQz5gLdfm06GTbMaQhOSCNS8SWTgGyHpO+OdTG\nAiE1PmVrRZy1AY7XJk5bNE8wh1ZSmY0yaVQfdmsyH4BbMAFv8+OqfnLTcHTMoKXZ\nKGDz/a9TyqStwjl0nMwq7+/Zw9JCaStf6v9OkK8q/XE87Ex6zP83Ff8QvQF3Jb3R\nxXDMgXLTp0SDMMgRfkRi7wgqSO28UWRF6lYdVXvbjAe4xB3pQ22CkI60W4OVWFiz\n/kJUFadpUr4StrHR/ZwGBL140sFAiudXzLPFlNZCbqK/OaxAdRtFRfhxaUcJxSA=\n=mr/4\n-----END PGP SIGNATURE-----\n", "payload": "tree ba414ae2ea0cc2e9acb2df58062292f4d6e38fd9\nparent 6621ff4a7c3ffaa233d94d53d5917fc6d3ea74a6\nparent f9e0eb3b94776a80de110b1820d15270fadec633\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1643463994 +0100\ncommitter GitHub <noreply@github.com> 1643463994 +0100\n\nRollup merge of #93431 - lqd:remove-jemallocator, r=Mark-Simulacrum\n\nremove unused `jemallocator` crate\n\nWhen it was noticed that the rustc binary wasn't actually using jemalloc via `#[global_allocator]` and that was removed, the dependency remained.\n\nTests pass locally with a `jemalloc = true` build, but I'll trigger a try build to ensure I haven't missed an edge-case somewhere.\n\nr? ```@ghost``` until that completes\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c866ae5e93efe6bcc4aa39d743cdf9c44aaea978", "html_url": "https://github.com/rust-lang/rust/commit/c866ae5e93efe6bcc4aa39d743cdf9c44aaea978", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c866ae5e93efe6bcc4aa39d743cdf9c44aaea978/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6621ff4a7c3ffaa233d94d53d5917fc6d3ea74a6", "url": "https://api.github.com/repos/rust-lang/rust/commits/6621ff4a7c3ffaa233d94d53d5917fc6d3ea74a6", "html_url": "https://github.com/rust-lang/rust/commit/6621ff4a7c3ffaa233d94d53d5917fc6d3ea74a6"}, {"sha": "f9e0eb3b94776a80de110b1820d15270fadec633", "url": "https://api.github.com/repos/rust-lang/rust/commits/f9e0eb3b94776a80de110b1820d15270fadec633", "html_url": "https://github.com/rust-lang/rust/commit/f9e0eb3b94776a80de110b1820d15270fadec633"}], "stats": {"total": 17, "additions": 1, "deletions": 16}, "files": [{"sha": "b05351a1e9694c03017f3d2e330a7ff86d5f3638", "filename": "Cargo.lock", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/c866ae5e93efe6bcc4aa39d743cdf9c44aaea978/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/c866ae5e93efe6bcc4aa39d743cdf9c44aaea978/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=c866ae5e93efe6bcc4aa39d743cdf9c44aaea978", "patch": "@@ -3319,7 +3319,6 @@ dependencies = [\n  \"rustc_codegen_ssa\",\n  \"rustc_driver\",\n  \"tikv-jemalloc-sys\",\n- \"tikv-jemallocator\",\n ]\n \n [[package]]\n@@ -5164,16 +5163,6 @@ dependencies = [\n  \"libc\",\n ]\n \n-[[package]]\n-name = \"tikv-jemallocator\"\n-version = \"0.4.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3c14a5a604eb8715bc5785018a37d00739b180bcf609916ddf4393d33d49ccdf\"\n-dependencies = [\n- \"libc\",\n- \"tikv-jemalloc-sys\",\n-]\n-\n [[package]]\n name = \"time\"\n version = \"0.1.43\""}, {"sha": "696c003a587ac91b211cd84dd515aa1ebada3a05", "filename": "compiler/rustc/Cargo.toml", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c866ae5e93efe6bcc4aa39d743cdf9c44aaea978/compiler%2Frustc%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/c866ae5e93efe6bcc4aa39d743cdf9c44aaea978/compiler%2Frustc%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc%2FCargo.toml?ref=c866ae5e93efe6bcc4aa39d743cdf9c44aaea978", "patch": "@@ -15,11 +15,7 @@ version = '0.4.0'\n optional = true\n features = ['unprefixed_malloc_on_supported_platforms']\n \n-[dependencies.tikv-jemallocator]\n-version = '0.4.0'\n-optional = true\n-\n [features]\n-jemalloc = ['tikv-jemalloc-sys', 'tikv-jemallocator']\n+jemalloc = ['tikv-jemalloc-sys']\n llvm = ['rustc_driver/llvm']\n max_level_info = ['rustc_driver/max_level_info']"}]}