{"sha": "dea92fada5c06a1bbb41ff8dd87de74781c7e9e8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRlYTkyZmFkYTVjMDZhMWJiYjQxZmY4ZGQ4N2RlNzQ3ODFjN2U5ZTg=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-08-18T07:32:38Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-08-28T05:23:23Z"}, "message": "Add run-rustfix for outer_expn_data", "tree": {"sha": "f38628e50bc0a25c2f14c0541cd2fc12ffb36fb7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f38628e50bc0a25c2f14c0541cd2fc12ffb36fb7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dea92fada5c06a1bbb41ff8dd87de74781c7e9e8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJEBAABCgAuFiEEj4U0bmbiMSg/mWqvgqphyqETl+YFAl1mD88QHGRldkBwaGFu\nc2NoLm5ldAAKCRCCqmHKoROX5o7iEACjFYMhXdkrJk8WrH3XQG8CqKKDEVb+l6KJ\nnEv75G0jaoBBZVo4s6QUG22TrACd2YmgjMw5uEtjbXqTrkRxZCecwoM2KseYAz9v\nlqs1soUXaV0tk6BAiXg9XQPoVuGPJ8IxXj3Jh4evFuAZqO5Uohtnb4YkVCEF03st\nfUv5HXH18rK41A5i6+M9jNpiZ+AxiDStVKPwLtckoDnJSih/7J19yjInbgvR8iOw\nQT8eWvKuAY23DJfR6Olz+gOeQ5Qv38nzY4PDq9E7DFdLlIOkTP87LQeiigx11Ur2\nz3yM9KWTnJe69UGlaPJZWRJ60gB/I8kax3aHskUPa9f15uuPKryCfLoUpruvGSvN\nPsRtNkGXA+z4+dgA44pWKSkBnM7g6/SNuiwBGa5hGrT0Mrv7eEuDTtV9xcqeQF/h\n/ZgHBw2fPkmJ8mCVze9QYnGNxfdyytQGRfG+4ZlPHhDdfOvzwHRcTcSBn3TJhh4X\ni0qtmwBv0HLRY7SV+/IUrqX77ISHdeo1W+XtiwaKcSeeLxFKVtXBjBbcKjsOL9NG\nA/p5ZiSk6CudpdFtcCoy2bvIQpsjXmPBU4Q8yR6B5JaFIsEuEghSp9+XYkxelCai\nMf+bcUP3/hf221xehJQ2YJBmkXQNcbDI7n0Cf3rhPtso8ldzEfFofA3vGPmxS753\nJAIktYrnwg==\n=PtUe\n-----END PGP SIGNATURE-----", "payload": "tree f38628e50bc0a25c2f14c0541cd2fc12ffb36fb7\nparent a3418933c6d8252f986194f85bf2a6dcca438207\nauthor Philipp Hansch <dev@phansch.net> 1566113558 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1566969803 +0200\n\nAdd run-rustfix for outer_expn_data\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dea92fada5c06a1bbb41ff8dd87de74781c7e9e8", "html_url": "https://github.com/rust-lang/rust/commit/dea92fada5c06a1bbb41ff8dd87de74781c7e9e8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dea92fada5c06a1bbb41ff8dd87de74781c7e9e8/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a3418933c6d8252f986194f85bf2a6dcca438207", "url": "https://api.github.com/repos/rust-lang/rust/commits/a3418933c6d8252f986194f85bf2a6dcca438207", "html_url": "https://github.com/rust-lang/rust/commit/a3418933c6d8252f986194f85bf2a6dcca438207"}], "stats": {"total": 31, "additions": 29, "deletions": 2}, "files": [{"sha": "4118214e6d927cec74fa577f4b1267cd10173c76", "filename": "tests/ui/outer_expn_data.fixed", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/dea92fada5c06a1bbb41ff8dd87de74781c7e9e8/tests%2Fui%2Fouter_expn_data.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/dea92fada5c06a1bbb41ff8dd87de74781c7e9e8/tests%2Fui%2Fouter_expn_data.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fouter_expn_data.fixed?ref=dea92fada5c06a1bbb41ff8dd87de74781c7e9e8", "patch": "@@ -0,0 +1,25 @@\n+// run-rustfix\n+\n+#![deny(clippy::internal)]\n+#![feature(rustc_private)]\n+\n+#[macro_use]\n+extern crate rustc;\n+use rustc::hir::Expr;\n+use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n+\n+declare_lint! {\n+    pub TEST_LINT,\n+    Warn,\n+    \"\"\n+}\n+\n+declare_lint_pass!(Pass => [TEST_LINT]);\n+\n+impl<'a, 'tcx> LateLintPass<'a, 'tcx> for Pass {\n+    fn check_expr(&mut self, _cx: &LateContext<'a, 'tcx>, expr: &'tcx Expr) {\n+        let _ = expr.span.ctxt().outer_expn_data();\n+    }\n+}\n+\n+fn main() {}"}, {"sha": "a6726a9bf6abbc44cd6b35e30624b1b35a34af69", "filename": "tests/ui/outer_expn_data.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dea92fada5c06a1bbb41ff8dd87de74781c7e9e8/tests%2Fui%2Fouter_expn_data.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dea92fada5c06a1bbb41ff8dd87de74781c7e9e8/tests%2Fui%2Fouter_expn_data.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fouter_expn_data.rs?ref=dea92fada5c06a1bbb41ff8dd87de74781c7e9e8", "patch": "@@ -1,3 +1,5 @@\n+// run-rustfix\n+\n #![deny(clippy::internal)]\n #![feature(rustc_private)]\n "}, {"sha": "6803b3feb8e651659054d20cbde67eabd4868e82", "filename": "tests/ui/outer_expn_data.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/dea92fada5c06a1bbb41ff8dd87de74781c7e9e8/tests%2Fui%2Fouter_expn_data.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/dea92fada5c06a1bbb41ff8dd87de74781c7e9e8/tests%2Fui%2Fouter_expn_data.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fouter_expn_data.stderr?ref=dea92fada5c06a1bbb41ff8dd87de74781c7e9e8", "patch": "@@ -1,11 +1,11 @@\n error: usage of `outer_expn().expn_data()`\n-  --> $DIR/outer_expn_data.rs:19:33\n+  --> $DIR/outer_expn_data.rs:21:33\n    |\n LL |         let _ = expr.span.ctxt().outer_expn().expn_data();\n    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `.outer_expn_data()`\n    |\n note: lint level defined here\n-  --> $DIR/outer_expn_data.rs:1:9\n+  --> $DIR/outer_expn_data.rs:3:9\n    |\n LL | #![deny(clippy::internal)]\n    |         ^^^^^^^^^^^^^^^^"}]}