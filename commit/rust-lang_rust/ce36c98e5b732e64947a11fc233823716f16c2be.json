{"sha": "ce36c98e5b732e64947a11fc233823716f16c2be", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlMzZjOThlNWI3MzJlNjQ5NDdhMTFmYzIzMzgyMzcxNmYxNmMyYmU=", "commit": {"author": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2020-01-21T10:11:28Z"}, "committer": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2020-01-21T18:01:56Z"}, "message": "Use the right runners for all thumb targets", "tree": {"sha": "8c43aa25d74ce4ab06ebba1ac2130ead6dffde14", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8c43aa25d74ce4ab06ebba1ac2130ead6dffde14"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ce36c98e5b732e64947a11fc233823716f16c2be", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ce36c98e5b732e64947a11fc233823716f16c2be", "html_url": "https://github.com/rust-lang/rust/commit/ce36c98e5b732e64947a11fc233823716f16c2be", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ce36c98e5b732e64947a11fc233823716f16c2be/comments", "author": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ef5f929471c7b9769aac4d3e4aae5deeb7acaa3c", "url": "https://api.github.com/repos/rust-lang/rust/commits/ef5f929471c7b9769aac4d3e4aae5deeb7acaa3c", "html_url": "https://github.com/rust-lang/rust/commit/ef5f929471c7b9769aac4d3e4aae5deeb7acaa3c"}], "stats": {"total": 25, "additions": 19, "deletions": 6}, "files": [{"sha": "815004242e5f863e89af7d0291990f60c81b6f51", "filename": "src/test/run-make/thumb-none-qemu/example/.cargo/config", "status": "modified", "additions": 19, "deletions": 6, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/ce36c98e5b732e64947a11fc233823716f16c2be/src%2Ftest%2Frun-make%2Fthumb-none-qemu%2Fexample%2F.cargo%2Fconfig", "raw_url": "https://github.com/rust-lang/rust/raw/ce36c98e5b732e64947a11fc233823716f16c2be/src%2Ftest%2Frun-make%2Fthumb-none-qemu%2Fexample%2F.cargo%2Fconfig", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fthumb-none-qemu%2Fexample%2F.cargo%2Fconfig?ref=ce36c98e5b732e64947a11fc233823716f16c2be", "patch": "@@ -1,11 +1,24 @@\n+[target.thumbv6m-none-eabi]\n+runner = \"qemu-system-arm -cpu cortex-m0 -machine lm3s6965evb -nographic -semihosting-config enable=on,target=native -kernel\"\n+\n [target.thumbv7m-none-eabi]\n-# uncomment this to make `cargo run` execute programs on QEMU\n runner = \"qemu-system-arm -cpu cortex-m3 -machine lm3s6965evb -nographic -semihosting-config enable=on,target=native -kernel\"\n \n-[target.thumbv6m-none-eabi]\n-# uncomment this to make `cargo run` execute programs on QEMU\n-# For now, we use cortex-m3 instead of cortex-m0 which are not supported by QEMU\n-runner = \"qemu-system-arm -cpu cortex-m3 -machine lm3s6965evb -nographic -semihosting-config enable=on,target=native -kernel\"\n+[target.thumbv7em-none-eabi]\n+runner = \"qemu-system-arm -cpu cortex-m4 -machine lm3s6965evb -nographic -semihosting-config enable=on,target=native -kernel\"\n+\n+[target.thumbv7em-none-eabihf]\n+runner = \"qemu-system-arm -cpu cortex-m4 -machine lm3s6965evb -nographic -semihosting-config enable=on,target=native -kernel\"\n+\n+[target.thumbv8m.base-none-eabi]\n+# FIXME: Should be the Cortex-M23, bt Qemu does not currently support it\n+runner = \"qemu-system-arm -cpu cortex-m33 -machine lm3s6965evb -nographic -semihosting-config enable=on,target=native -kernel\"\n+\n+[target.thumbv8m.main-none-eabi]\n+runner = \"qemu-system-arm -cpu cortex-m33 -machine lm3s6965evb -nographic -semihosting-config enable=on,target=native -kernel\"\n+\n+[target.thumbv8m.main-none-eabihf]\n+runner = \"qemu-system-arm -cpu cortex-m33 -machine lm3s6965evb -nographic -semihosting-config enable=on,target=native -kernel\"\n \n [target.'cfg(all(target_arch = \"arm\", target_os = \"none\"))']\n # uncomment ONE of these three option to make `cargo run` start a GDB session\n@@ -28,4 +41,4 @@ rustflags = [\n   # \"-C\", \"linker=arm-none-eabi-gcc\",\n   # \"-C\", \"link-arg=-Wl,-Tlink.x\",\n   # \"-C\", \"link-arg=-nostartfiles\",\n-]\n\\ No newline at end of file\n+]"}]}