{"sha": "4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRlMWMyMTU4ZjI5ZmJiNmMyYmRiNGQ1MGYxZmRjNmEzMDY4NWJjM2M=", "commit": {"author": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2014-03-08T06:10:32Z"}, "committer": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2014-03-14T19:26:05Z"}, "message": "cmp: switch `min` and `max` to `TotalOrd`\n\nThe `Float` trait provides correct `min` and `max` methods on floating\npoint types, providing a consistent result regardless of the order the\nparameters are passed.\n\nThese generic functions do not take the necessary performance hit to\ncorrectly support a partial order, so the true requirement should be\ngiven as a type bound.\n\nCloses #12712", "tree": {"sha": "a79d99849861d34fc0c61c7a0b8886e8c94f171b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a79d99849861d34fc0c61c7a0b8886e8c94f171b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c", "html_url": "https://github.com/rust-lang/rust/commit/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c/comments", "author": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3fbee34a89c478f959046bf4b4e12a70e937c374", "url": "https://api.github.com/repos/rust-lang/rust/commits/3fbee34a89c478f959046bf4b4e12a70e937c374", "html_url": "https://github.com/rust-lang/rust/commit/3fbee34a89c478f959046bf4b4e12a70e937c374"}], "stats": {"total": 16, "additions": 7, "deletions": 9}, "files": [{"sha": "b00efaa26e76a2dbb9f3bcf903bdecbaf0c2ed61", "filename": "src/doc/guide-tasks.md", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c/src%2Fdoc%2Fguide-tasks.md", "raw_url": "https://github.com/rust-lang/rust/raw/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c/src%2Fdoc%2Fguide-tasks.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fguide-tasks.md?ref=4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c", "patch": "@@ -353,8 +353,6 @@ fn pnorm(nums: &~[f64], p: uint) -> f64 {\n \n fn main() {\n     let numbers = vec::from_fn(1000000, |_| rand::random::<f64>());\n-    println!(\"Inf-norm = {}\",  *numbers.iter().max().unwrap());\n-\n     let numbers_arc = Arc::new(numbers);\n \n     for num in range(1u, 10) {"}, {"sha": "023b20287039959e4bb37f02cbdfde03408005e3", "filename": "src/libstd/cmp.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c/src%2Flibstd%2Fcmp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c/src%2Flibstd%2Fcmp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcmp.rs?ref=4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c", "patch": "@@ -184,12 +184,12 @@ pub trait Equiv<T> {\n }\n \n #[inline]\n-pub fn min<T:Ord>(v1: T, v2: T) -> T {\n+pub fn min<T: TotalOrd>(v1: T, v2: T) -> T {\n     if v1 < v2 { v1 } else { v2 }\n }\n \n #[inline]\n-pub fn max<T:Ord>(v1: T, v2: T) -> T {\n+pub fn max<T: TotalOrd>(v1: T, v2: T) -> T {\n     if v1 > v2 { v1 } else { v2 }\n }\n "}, {"sha": "6bcac425420512e8d3990b9f83f471625a0e435d", "filename": "src/libstd/iter.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c/src%2Flibstd%2Fiter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c/src%2Flibstd%2Fiter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fiter.rs?ref=4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c", "patch": "@@ -68,7 +68,7 @@ use cmp;\n use num::{Zero, One, CheckedAdd, CheckedSub, Saturating, ToPrimitive, Int};\n use option::{Option, Some, None};\n use ops::{Add, Mul, Sub};\n-use cmp::{Eq, Ord};\n+use cmp::{Eq, Ord, TotalOrd};\n use clone::Clone;\n use uint;\n use mem;\n@@ -626,7 +626,7 @@ pub trait Iterator<A> {\n     /// assert_eq!(*xs.iter().max_by(|x| x.abs()).unwrap(), -10);\n     /// ```\n     #[inline]\n-    fn max_by<B: Ord>(&mut self, f: |&A| -> B) -> Option<A> {\n+    fn max_by<B: TotalOrd>(&mut self, f: |&A| -> B) -> Option<A> {\n         self.fold(None, |max: Option<(A, B)>, x| {\n             let x_val = f(&x);\n             match max {\n@@ -650,7 +650,7 @@ pub trait Iterator<A> {\n     /// assert_eq!(*xs.iter().min_by(|x| x.abs()).unwrap(), 0);\n     /// ```\n     #[inline]\n-    fn min_by<B: Ord>(&mut self, f: |&A| -> B) -> Option<A> {\n+    fn min_by<B: TotalOrd>(&mut self, f: |&A| -> B) -> Option<A> {\n         self.fold(None, |min: Option<(A, B)>, x| {\n             let x_val = f(&x);\n             match min {\n@@ -917,7 +917,7 @@ pub trait OrdIterator<A> {\n     fn min_max(&mut self) -> MinMaxResult<A>;\n }\n \n-impl<A: Ord, T: Iterator<A>> OrdIterator<A> for T {\n+impl<A: TotalOrd, T: Iterator<A>> OrdIterator<A> for T {\n     #[inline]\n     fn max(&mut self) -> Option<A> {\n         self.fold(None, |max, x| {"}, {"sha": "0f9ae1af0963f463e7ea764f7989c3f6df376048", "filename": "src/libtest/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c/src%2Flibtest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c/src%2Flibtest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Flib.rs?ref=4e1c2158f29fbb6c2bdb4d50f1fdc6a30685bc3c", "patch": "@@ -1069,7 +1069,7 @@ impl MetricMap {\n                     if delta.abs() <= noise {\n                         LikelyNoise\n                     } else {\n-                        let pct = delta.abs() / cmp::max(vold.value, f64::EPSILON) * 100.0;\n+                        let pct = delta.abs() / vold.value.max(f64::EPSILON) * 100.0;\n                         if vold.noise < 0.0 {\n                             // When 'noise' is negative, it means we want\n                             // to see deltas that go up over time, and can"}]}