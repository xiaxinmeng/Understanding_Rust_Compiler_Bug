{"sha": "85cbd0bc185c4b9b36162a638c9ec3915df265b2", "node_id": "C_kwDOAAsO6NoAKDg1Y2JkMGJjMTg1YzRiOWIzNjE2MmE2MzhjOWVjMzkxNWRmMjY1YjI", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2021-12-08T21:40:16Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-06-02T17:24:10Z"}, "message": "Bless tests.", "tree": {"sha": "9529cf65e0a106ebbb6363846c7dc9680f1e5699", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9529cf65e0a106ebbb6363846c7dc9680f1e5699"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/85cbd0bc185c4b9b36162a638c9ec3915df265b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/85cbd0bc185c4b9b36162a638c9ec3915df265b2", "html_url": "https://github.com/rust-lang/rust/commit/85cbd0bc185c4b9b36162a638c9ec3915df265b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/85cbd0bc185c4b9b36162a638c9ec3915df265b2/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6e1b0105c60cfca15930a6fdf8a3b07db528c749", "url": "https://api.github.com/repos/rust-lang/rust/commits/6e1b0105c60cfca15930a6fdf8a3b07db528c749", "html_url": "https://github.com/rust-lang/rust/commit/6e1b0105c60cfca15930a6fdf8a3b07db528c749"}], "stats": {"total": 981, "additions": 207, "deletions": 774}, "files": [{"sha": "56e4ef023794f9accd534d8794831265a30bbc72", "filename": "src/test/ui/error-codes/E0263.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Ferror-codes%2FE0263.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Ferror-codes%2FE0263.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0263.stderr?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -2,9 +2,9 @@ error[E0263]: lifetime name `'a` declared twice in the same scope\n   --> $DIR/E0263.rs:1:16\n    |\n LL | fn foo<'a, 'b, 'a>(x: &'a str, y: &'b str) {\n-   |        --      ^^ declared twice\n+   |        --      ^^ lifetime `'a` already in scope\n    |        |\n-   |        previous declaration here\n+   |        first declared here\n \n error: aborting due to previous error\n "}, {"sha": "be765920975b3703ae2ad55f073f42ebdc5d6801", "filename": "src/test/ui/generic-associated-types/shadowing.stderr", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fshadowing.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fshadowing.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fshadowing.stderr?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -1,3 +1,19 @@\n+error[E0496]: lifetime name `'a` shadows a lifetime name that is already in scope\n+  --> $DIR/shadowing.rs:4:14\n+   |\n+LL | trait Shadow<'a> {\n+   |              -- first declared here\n+LL |     type Bar<'a>;\n+   |              ^^ lifetime `'a` already in scope\n+\n+error[E0496]: lifetime name `'a` shadows a lifetime name that is already in scope\n+  --> $DIR/shadowing.rs:13:14\n+   |\n+LL | impl<'a> NoShadow<'a> for &'a u32 {\n+   |      -- first declared here\n+LL |     type Bar<'a> = i32;\n+   |              ^^ lifetime `'a` already in scope\n+\n error[E0403]: the name `T` is already used for a generic parameter in this item's generic parameters\n   --> $DIR/shadowing.rs:18:14\n    |\n@@ -14,22 +30,6 @@ LL | impl<T> NoShadowT<T> for Option<T> {\n LL |     type Bar<T> = i32;\n    |              ^ already used\n \n-error[E0496]: lifetime name `'a` shadows a lifetime name that is already in scope\n-  --> $DIR/shadowing.rs:13:14\n-   |\n-LL | impl<'a> NoShadow<'a> for &'a u32 {\n-   |      -- first declared here\n-LL |     type Bar<'a> = i32;\n-   |              ^^ lifetime `'a` already in scope\n-\n-error[E0496]: lifetime name `'a` shadows a lifetime name that is already in scope\n-  --> $DIR/shadowing.rs:4:14\n-   |\n-LL | trait Shadow<'a> {\n-   |              -- first declared here\n-LL |     type Bar<'a>;\n-   |              ^^ lifetime `'a` already in scope\n-\n error: aborting due to 4 previous errors\n \n Some errors have detailed explanations: E0403, E0496."}, {"sha": "ade411a25442b3af623a3ba60298bf3d8e92acea", "filename": "src/test/ui/hygiene/duplicate_lifetimes.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fhygiene%2Fduplicate_lifetimes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fhygiene%2Fduplicate_lifetimes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fduplicate_lifetimes.stderr?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -2,12 +2,12 @@ error[E0263]: lifetime name `'a` declared twice in the same scope\n   --> $DIR/duplicate_lifetimes.rs:8:14\n    |\n LL |     fn g<$a, 'a>() {}\n-   |              ^^ declared twice\n+   |              ^^ lifetime `'a` already in scope\n ...\n LL | m!('a);\n    | ------\n    | |  |\n-   | |  previous declaration here\n+   | |  first declared here\n    | in this macro invocation\n    |\n    = note: this error originates in the macro `m` (in Nightly builds, run with -Z macro-backtrace for more info)\n@@ -16,12 +16,12 @@ error[E0263]: lifetime name `'a` declared twice in the same scope\n   --> $DIR/duplicate_lifetimes.rs:13:14\n    |\n LL |     fn h<$a, 'a>() {}\n-   |              ^^ declared twice\n+   |              ^^ lifetime `'a` already in scope\n ...\n LL | n!('a);\n    | ------\n    | |  |\n-   | |  previous declaration here\n+   | |  first declared here\n    | in this macro invocation\n    |\n    = note: this error originates in the macro `n` (in Nightly builds, run with -Z macro-backtrace for more info)"}, {"sha": "19f72f24459b323fb395ee1a3d0dbbc5dc107de5", "filename": "src/test/ui/hygiene/hygienic-labels-in-let.rs", "status": "modified", "additions": 12, "deletions": 31, "changes": 43, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.rs?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -13,38 +13,28 @@\n macro_rules! loop_x {\n     ($e: expr) => {\n         // $e shouldn't be able to interact with this 'x\n-        'x: loop { $e }\n-        //~^ WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-    }\n+        'x: loop {\n+            $e\n+        }\n+    };\n }\n \n macro_rules! while_true {\n     ($e: expr) => {\n         // $e shouldn't be able to interact with this 'x\n-        'x: while 1 + 1 == 2 { $e }\n-        //~^ WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-    }\n+        'x: while 1 + 1 == 2 {\n+            $e\n+        }\n+    };\n }\n \n macro_rules! run_once {\n     ($e: expr) => {\n         // ditto\n-        'x: for _ in 0..1 { $e }\n-        //~^ WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-    }\n+        'x: for _ in 0..1 {\n+            $e\n+        }\n+    };\n }\n \n pub fn main() {\n@@ -63,7 +53,6 @@ pub fn main() {\n     let k: isize = {\n         'x: for _ in 0..1 {\n             //~^ WARNING shadows a label name that is already in scope\n-            //~| WARNING shadows a label name that is already in scope\n             // ditto\n             loop_x!(break 'x);\n             i += 1;\n@@ -75,9 +64,6 @@ pub fn main() {\n     let l: isize = {\n         'x: for _ in 0..1 {\n             //~^ WARNING shadows a label name that is already in scope\n-            //~| WARNING shadows a label name that is already in scope\n-            //~| WARNING shadows a label name that is already in scope\n-            //~| WARNING shadows a label name that is already in scope\n             // ditto\n             while_true!(break 'x);\n             i += 1;\n@@ -89,11 +75,6 @@ pub fn main() {\n     let n: isize = {\n         'x: for _ in 0..1 {\n             //~^ WARNING shadows a label name that is already in scope\n-            //~| WARNING shadows a label name that is already in scope\n-            //~| WARNING shadows a label name that is already in scope\n-            //~| WARNING shadows a label name that is already in scope\n-            //~| WARNING shadows a label name that is already in scope\n-            //~| WARNING shadows a label name that is already in scope\n             // ditto\n             run_once!(continue 'x);\n             i += 1;"}, {"sha": "e1c284600ea23db89da44cab509cb21fdbe68c39", "filename": "src/test/ui/hygiene/hygienic-labels-in-let.stderr", "status": "modified", "additions": 3, "deletions": 308, "changes": 311, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.stderr?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -1,334 +1,29 @@\n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:16:9\n+  --> $DIR/hygienic-labels-in-let.rs:54:9\n    |\n-LL |         'x: loop { $e }\n-   |         ^^ label `'x` already in scope\n-...\n LL |         'x: loop {\n    |         -- first declared here\n-LL |             // this 'x should refer to the outer loop, lexically\n-LL |             loop_x!(break 'x);\n-   |             ----------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `loop_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:64:9\n-   |\n-LL |         'x: loop {\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:64:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n ...\n LL |         'x: for _ in 0..1 {\n    |         ^^ label `'x` already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:16:9\n+  --> $DIR/hygienic-labels-in-let.rs:65:9\n    |\n-LL |         'x: loop { $e }\n-   |         ^^ label `'x` already in scope\n-...\n LL |         'x: loop {\n    |         -- first declared here\n ...\n-LL |             loop_x!(break 'x);\n-   |             ----------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `loop_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:16:9\n-   |\n-LL |         'x: loop { $e }\n-   |         ^^\n-   |         |\n-   |         first declared here\n-   |         label `'x` already in scope\n-...\n-LL |             loop_x!(break 'x);\n-   |             ----------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `loop_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:16:9\n-   |\n-LL |         'x: loop { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         -- first declared here\n-...\n-LL |             loop_x!(break 'x);\n-   |             ----------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `loop_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:76:9\n-   |\n-LL |         'x: loop {\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:76:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:76:9\n-   |\n-LL |         'x: for _ in 0..1 {\n-   |         -- first declared here\n-...\n LL |         'x: for _ in 0..1 {\n    |         ^^ label `'x` already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n   --> $DIR/hygienic-labels-in-let.rs:76:9\n    |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:27:9\n-   |\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n LL |         'x: loop {\n    |         -- first declared here\n ...\n-LL |             while_true!(break 'x);\n-   |             --------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `while_true` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:27:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |             while_true!(break 'x);\n-   |             --------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `while_true` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:27:9\n-   |\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n LL |         'x: for _ in 0..1 {\n-   |         -- first declared here\n-...\n-LL |             while_true!(break 'x);\n-   |             --------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `while_true` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:27:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: while 1 + 1 == 2 { $e }\n    |         ^^ label `'x` already in scope\n-...\n-LL |             while_true!(break 'x);\n-   |             --------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `while_true` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:27:9\n-   |\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         -- first declared here\n-...\n-LL |             while_true!(break 'x);\n-   |             --------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `while_true` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:90:9\n-   |\n-LL |         'x: loop {\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:90:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:90:9\n-   |\n-LL |         'x: for _ in 0..1 {\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:90:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:90:9\n-   |\n-LL |         'x: for _ in 0..1 {\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:90:9\n-   |\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:39:9\n-   |\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         'x: loop {\n-   |         -- first declared here\n-...\n-LL |             run_once!(continue 'x);\n-   |             ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:39:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |             run_once!(continue 'x);\n-   |             ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:39:9\n-   |\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         -- first declared here\n-...\n-LL |             run_once!(continue 'x);\n-   |             ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:39:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |             run_once!(continue 'x);\n-   |             ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:39:9\n-   |\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         -- first declared here\n-...\n-LL |             run_once!(continue 'x);\n-   |             ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:39:9\n-   |\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |             run_once!(continue 'x);\n-   |             ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:39:9\n-   |\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         'x: for _ in 0..1 {\n-   |         -- first declared here\n-...\n-LL |             run_once!(continue 'x);\n-   |             ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n \n-warning: 28 warnings emitted\n+warning: 3 warnings emitted\n "}, {"sha": "af8f928527347dd14c7e0c6e8818e3f21179e00d", "filename": "src/test/ui/hygiene/hygienic-labels.rs", "status": "modified", "additions": 12, "deletions": 31, "changes": 43, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.rs?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -10,38 +10,28 @@\n macro_rules! loop_x {\n     ($e: expr) => {\n         // $e shouldn't be able to interact with this 'x\n-        'x: loop { $e }\n-        //~^ WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-    }\n+        'x: loop {\n+            $e\n+        }\n+    };\n }\n \n macro_rules! run_once {\n     ($e: expr) => {\n         // ditto\n-        'x: for _ in 0..1 { $e }\n-        //~^ WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-    }\n+        'x: for _ in 0..1 {\n+            $e\n+        }\n+    };\n }\n \n macro_rules! while_x {\n     ($e: expr) => {\n         // ditto\n-        'x: while 1 + 1 == 2 { $e }\n-        //~^ WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-    }\n+        'x: while 1 + 1 == 2 {\n+            $e\n+        }\n+    };\n }\n \n pub fn main() {\n@@ -53,7 +43,6 @@ pub fn main() {\n \n     'x: loop {\n         //~^ WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n \n         // ditto\n         loop_x!(break 'x);\n@@ -62,21 +51,13 @@ pub fn main() {\n \n     'x: while 1 + 1 == 2 {\n         //~^ WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n \n         while_x!(break 'x);\n         panic!(\"break doesn't act hygienically inside infinite while loop\");\n     }\n \n     'x: for _ in 0..1 {\n         //~^ WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n-        //~| WARNING shadows a label name that is already in scope\n \n         // ditto\n         run_once!(continue 'x);"}, {"sha": "df1f3c701904b724257937415fb8cd87e6b09e58", "filename": "src/test/ui/hygiene/hygienic-labels.stderr", "status": "modified", "additions": 4, "deletions": 309, "changes": 313, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.stderr?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -1,79 +1,14 @@\n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:13:9\n+  --> $DIR/hygienic-labels.rs:44:5\n    |\n-LL |         'x: loop { $e }\n-   |         ^^ label `'x` already in scope\n-...\n LL |     'x: for _ in 0..1 {\n    |     -- first declared here\n-LL |         // this 'x should refer to the outer loop, lexically\n-LL |         loop_x!(break 'x);\n-   |         ----------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `loop_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:54:5\n-   |\n-LL |     'x: for _ in 0..1 {\n-   |     -- first declared here\n-...\n-LL |     'x: loop {\n-   |     ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:54:5\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n ...\n LL |     'x: loop {\n    |     ^^ label `'x` already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:13:9\n-   |\n-LL |         'x: loop { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |     'x: for _ in 0..1 {\n-   |     -- first declared here\n-...\n-LL |         loop_x!(break 'x);\n-   |         ----------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `loop_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:13:9\n-   |\n-LL |         'x: loop { $e }\n-   |         ^^\n-   |         |\n-   |         first declared here\n-   |         label `'x` already in scope\n-...\n-LL |         loop_x!(break 'x);\n-   |         ----------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `loop_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:13:9\n-   |\n-LL |         'x: loop { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |     'x: loop {\n-   |     -- first declared here\n-...\n-LL |         loop_x!(break 'x);\n-   |         ----------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `loop_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:63:5\n+  --> $DIR/hygienic-labels.rs:52:5\n    |\n LL |     'x: for _ in 0..1 {\n    |     -- first declared here\n@@ -82,253 +17,13 @@ LL |     'x: while 1 + 1 == 2 {\n    |     ^^ label `'x` already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:63:5\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |     'x: while 1 + 1 == 2 {\n-   |     ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:63:5\n-   |\n-LL |     'x: loop {\n-   |     -- first declared here\n-...\n-LL |     'x: while 1 + 1 == 2 {\n-   |     ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:63:5\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |     'x: while 1 + 1 == 2 {\n-   |     ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:38:9\n-   |\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |     'x: for _ in 0..1 {\n-   |     -- first declared here\n-...\n-LL |         while_x!(break 'x);\n-   |         ------------------ in this macro invocation\n-   |\n-   = note: this warning originates in the macro `while_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:38:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         while_x!(break 'x);\n-   |         ------------------ in this macro invocation\n-   |\n-   = note: this warning originates in the macro `while_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:38:9\n-   |\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |     'x: loop {\n-   |     -- first declared here\n-...\n-LL |         while_x!(break 'x);\n-   |         ------------------ in this macro invocation\n-   |\n-   = note: this warning originates in the macro `while_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:38:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         while_x!(break 'x);\n-   |         ------------------ in this macro invocation\n-   |\n-   = note: this warning originates in the macro `while_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:38:9\n-   |\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |     'x: while 1 + 1 == 2 {\n-   |     -- first declared here\n-...\n-LL |         while_x!(break 'x);\n-   |         ------------------ in this macro invocation\n-   |\n-   = note: this warning originates in the macro `while_x` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:73:5\n-   |\n-LL |     'x: for _ in 0..1 {\n-   |     -- first declared here\n-...\n-LL |     'x: for _ in 0..1 {\n-   |     ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:73:5\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |     'x: for _ in 0..1 {\n-   |     ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:73:5\n-   |\n-LL |     'x: loop {\n-   |     -- first declared here\n-...\n-LL |     'x: for _ in 0..1 {\n-   |     ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:73:5\n+  --> $DIR/hygienic-labels.rs:59:5\n    |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n LL |     'x: for _ in 0..1 {\n-   |     ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:73:5\n-   |\n-LL |     'x: while 1 + 1 == 2 {\n    |     -- first declared here\n ...\n LL |     'x: for _ in 0..1 {\n    |     ^^ label `'x` already in scope\n \n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:73:5\n-   |\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         -- first declared here\n-...\n-LL |     'x: for _ in 0..1 {\n-   |     ^^ label `'x` already in scope\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:24:9\n-   |\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |     'x: for _ in 0..1 {\n-   |     -- first declared here\n-...\n-LL |         run_once!(continue 'x);\n-   |         ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:24:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         run_once!(continue 'x);\n-   |         ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:24:9\n-   |\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |     'x: loop {\n-   |     -- first declared here\n-...\n-LL |         run_once!(continue 'x);\n-   |         ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:24:9\n-   |\n-LL |         'x: loop { $e }\n-   |         -- first declared here\n-...\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         run_once!(continue 'x);\n-   |         ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:24:9\n-   |\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |     'x: while 1 + 1 == 2 {\n-   |     -- first declared here\n-...\n-LL |         run_once!(continue 'x);\n-   |         ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:24:9\n-   |\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |         'x: while 1 + 1 == 2 { $e }\n-   |         -- first declared here\n-...\n-LL |         run_once!(continue 'x);\n-   |         ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:24:9\n-   |\n-LL |         'x: for _ in 0..1 { $e }\n-   |         ^^ label `'x` already in scope\n-...\n-LL |     'x: for _ in 0..1 {\n-   |     -- first declared here\n-...\n-LL |         run_once!(continue 'x);\n-   |         ---------------------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `run_once` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: 28 warnings emitted\n+warning: 3 warnings emitted\n "}, {"sha": "9d42aaa58cb216bd0d55622c01142454b61819b4", "filename": "src/test/ui/label/label_misspelled.stderr", "status": "modified", "additions": 72, "deletions": 24, "changes": 96, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled.stderr?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -2,7 +2,10 @@ error[E0425]: cannot find value `while_loop` in this scope\n   --> $DIR/label_misspelled.rs:6:9\n    |\n LL |     'while_loop: while true {\n-   |     ----------- a label with a similar name exists\n+   |     -----------\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |\n LL |         while_loop;\n    |         ^^^^^^^^^^ not found in this scope\n@@ -11,7 +14,10 @@ error[E0425]: cannot find value `while_let` in this scope\n   --> $DIR/label_misspelled.rs:11:9\n    |\n LL |     'while_let: while let Some(_) = Some(()) {\n-   |     ---------- a label with a similar name exists\n+   |     ----------\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |\n LL |         while_let;\n    |         ^^^^^^^^^ not found in this scope\n@@ -20,7 +26,10 @@ error[E0425]: cannot find value `for_loop` in this scope\n   --> $DIR/label_misspelled.rs:16:9\n    |\n LL |     'for_loop: for _ in 0..3 {\n-   |     --------- a label with a similar name exists\n+   |     ---------\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |\n LL |         for_loop;\n    |         ^^^^^^^^ not found in this scope\n@@ -29,7 +38,10 @@ error[E0425]: cannot find value `LOOP` in this scope\n   --> $DIR/label_misspelled.rs:21:9\n    |\n LL |     'LOOP: loop {\n-   |     ----- a label with a similar name exists\n+   |     -----\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |\n LL |         LOOP;\n    |         ^^^^ not found in this scope\n@@ -38,45 +50,81 @@ error[E0425]: cannot find value `LOOP` in this scope\n   --> $DIR/label_misspelled.rs:28:15\n    |\n LL |     'LOOP: loop {\n-   |     ----- a label with a similar name exists\n+   |     -----\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |         break LOOP;\n-   |               ^^^^\n-   |               |\n-   |               not found in this scope\n-   |               help: use the similarly named label: `'LOOP`\n+   |               ^^^^ not found in this scope\n+   |\n+help: use the similarly named label\n+   |\n+LL |         break 'LOOP;\n+   |               ~~~~~\n+help: use the similarly named label\n+   |\n+LL |         break 'LOOP;\n+   |               ~~~~~\n \n error[E0425]: cannot find value `while_loop` in this scope\n   --> $DIR/label_misspelled.rs:32:15\n    |\n LL |     'while_loop: while true {\n-   |     ----------- a label with a similar name exists\n+   |     -----------\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |         break while_loop;\n-   |               ^^^^^^^^^^\n-   |               |\n-   |               not found in this scope\n-   |               help: use the similarly named label: `'while_loop`\n+   |               ^^^^^^^^^^ not found in this scope\n+   |\n+help: use the similarly named label\n+   |\n+LL |         break 'while_loop;\n+   |               ~~~~~~~~~~~\n+help: use the similarly named label\n+   |\n+LL |         break 'while_loop;\n+   |               ~~~~~~~~~~~\n \n error[E0425]: cannot find value `while_let` in this scope\n   --> $DIR/label_misspelled.rs:36:15\n    |\n LL |     'while_let: while let Some(_) = Some(()) {\n-   |     ---------- a label with a similar name exists\n+   |     ----------\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |         break while_let;\n-   |               ^^^^^^^^^\n-   |               |\n-   |               not found in this scope\n-   |               help: use the similarly named label: `'while_let`\n+   |               ^^^^^^^^^ not found in this scope\n+   |\n+help: use the similarly named label\n+   |\n+LL |         break 'while_let;\n+   |               ~~~~~~~~~~\n+help: use the similarly named label\n+   |\n+LL |         break 'while_let;\n+   |               ~~~~~~~~~~\n \n error[E0425]: cannot find value `for_loop` in this scope\n   --> $DIR/label_misspelled.rs:40:15\n    |\n LL |     'for_loop: for _ in 0..3 {\n-   |     --------- a label with a similar name exists\n+   |     ---------\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |         break for_loop;\n-   |               ^^^^^^^^\n-   |               |\n-   |               not found in this scope\n-   |               help: use the similarly named label: `'for_loop`\n+   |               ^^^^^^^^ not found in this scope\n+   |\n+help: use the similarly named label\n+   |\n+LL |         break 'for_loop;\n+   |               ~~~~~~~~~\n+help: use the similarly named label\n+   |\n+LL |         break 'for_loop;\n+   |               ~~~~~~~~~\n \n warning: unused label\n   --> $DIR/label_misspelled.rs:4:5"}, {"sha": "b618690340bb278bd8c7c5ef9ba9762ed4f0f6c7", "filename": "src/test/ui/label/label_misspelled_2.stderr", "status": "modified", "additions": 28, "deletions": 10, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled_2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled_2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled_2.stderr?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -14,23 +14,41 @@ error[E0425]: cannot find value `b` in this scope\n   --> $DIR/label_misspelled_2.rs:8:15\n    |\n LL |     'b: for _ in 0..1 {\n-   |     -- a label with a similar name exists\n+   |     --\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |         break b;\n-   |               ^\n-   |               |\n-   |               not found in this scope\n-   |               help: use the similarly named label: `'b`\n+   |               ^ not found in this scope\n+   |\n+help: use the similarly named label\n+   |\n+LL |         break 'b;\n+   |               ~~\n+help: use the similarly named label\n+   |\n+LL |         break 'b;\n+   |               ~~\n \n error[E0425]: cannot find value `d` in this scope\n   --> $DIR/label_misspelled_2.rs:14:15\n    |\n LL |     d: for _ in 0..1 {\n-   |     - a label with a similar name exists\n+   |     -\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |         break d;\n-   |               ^\n-   |               |\n-   |               not found in this scope\n-   |               help: use the similarly named label: `'d`\n+   |               ^ not found in this scope\n+   |\n+help: use the similarly named label\n+   |\n+LL |         break 'd;\n+   |               ~~\n+help: use the similarly named label\n+   |\n+LL |         break 'd;\n+   |               ~~\n \n error: aborting due to 4 previous errors\n "}, {"sha": "fb9a9ae2648a692bf0c56cb613b36baee97095bc", "filename": "src/test/ui/lint/unused_labels.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Flint%2Funused_labels.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Flint%2Funused_labels.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Funused_labels.rs?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -61,6 +61,7 @@ fn main() {\n         //~^ WARN unused label\n         'many_used_shadowed: for _ in 0..10 {\n             //~^ WARN label name `'many_used_shadowed` shadows a label name that is already in scope\n+            //~| WARN label name `'many_used_shadowed` shadows a label name that is already in scope\n             if 1 % 2 == 0 {\n                 break 'many_used_shadowed;\n             } else {"}, {"sha": "ed9287d54a44e4b3f91c7c52876fec5d1f39a1c1", "filename": "src/test/ui/lint/unused_labels.stderr", "status": "modified", "additions": 21, "deletions": 12, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Flint%2Funused_labels.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Flint%2Funused_labels.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Funused_labels.stderr?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -1,3 +1,21 @@\n+warning: label name `'many_used_shadowed` shadows a label name that is already in scope\n+  --> $DIR/unused_labels.rs:62:9\n+   |\n+LL |     'many_used_shadowed: for _ in 0..10 {\n+   |     ------------------- first declared here\n+LL |\n+LL |         'many_used_shadowed: for _ in 0..10 {\n+   |         ^^^^^^^^^^^^^^^^^^^ label `'many_used_shadowed` already in scope\n+\n+warning: label name `'many_used_shadowed` shadows a label name that is already in scope\n+  --> $DIR/unused_labels.rs:62:9\n+   |\n+LL |     'many_used_shadowed: for _ in 0..10 {\n+   |     ------------------- first declared here\n+LL |\n+LL |         'many_used_shadowed: for _ in 0..10 {\n+   |         ^^^^^^^^^^^^^^^^^^^ label `'many_used_shadowed` already in scope\n+\n warning: unused label\n   --> $DIR/unused_labels.rs:11:5\n    |\n@@ -41,25 +59,16 @@ LL |     'many_used_shadowed: for _ in 0..10 {\n    |     ^^^^^^^^^^^^^^^^^^^\n \n warning: unused label\n-  --> $DIR/unused_labels.rs:72:5\n+  --> $DIR/unused_labels.rs:73:5\n    |\n LL |     'unused_loop_label: loop {\n    |     ^^^^^^^^^^^^^^^^^^\n \n warning: unused label\n-  --> $DIR/unused_labels.rs:78:5\n+  --> $DIR/unused_labels.rs:79:5\n    |\n LL |     'unused_block_label: {\n    |     ^^^^^^^^^^^^^^^^^^^\n \n-warning: label name `'many_used_shadowed` shadows a label name that is already in scope\n-  --> $DIR/unused_labels.rs:62:9\n-   |\n-LL |     'many_used_shadowed: for _ in 0..10 {\n-   |     ------------------- first declared here\n-LL |\n-LL |         'many_used_shadowed: for _ in 0..10 {\n-   |         ^^^^^^^^^^^^^^^^^^^ label `'many_used_shadowed` already in scope\n-\n-warning: 9 warnings emitted\n+warning: 10 warnings emitted\n "}, {"sha": "5698c2693b5ee68fea15b43432b712d42e55a508", "filename": "src/test/ui/loops/loop-break-value.stderr", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Floops%2Floop-break-value.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Floops%2Floop-break-value.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Floops%2Floop-break-value.stderr?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -2,12 +2,21 @@ error[E0425]: cannot find value `LOOP` in this scope\n   --> $DIR/loop-break-value.rs:95:15\n    |\n LL |     'LOOP: for _ in 0 .. 9 {\n-   |     ----- a label with a similar name exists\n+   |     -----\n+   |     |\n+   |     a label with a similar name exists\n+   |     a label with a similar name exists\n LL |         break LOOP;\n-   |               ^^^^\n-   |               |\n-   |               not found in this scope\n-   |               help: use the similarly named label: `'LOOP`\n+   |               ^^^^ not found in this scope\n+   |\n+help: use the similarly named label\n+   |\n+LL |         break 'LOOP;\n+   |               ~~~~~\n+help: use the similarly named label\n+   |\n+LL |         break 'LOOP;\n+   |               ~~~~~\n \n warning: denote infinite loops with `loop { ... }`\n   --> $DIR/loop-break-value.rs:26:5"}, {"sha": "59017da3b696ee3385502b1322673683efecd574", "filename": "src/test/ui/macros/macro-lifetime-used-with-labels.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fmacros%2Fmacro-lifetime-used-with-labels.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fmacros%2Fmacro-lifetime-used-with-labels.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-lifetime-used-with-labels.rs?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -18,7 +18,7 @@ macro_rules! br {\n }\n macro_rules! br2 {\n     ($b:lifetime) => {\n-        'b: loop { //~ WARNING `'b` shadows a label name that is already in scope\n+        'b: loop {\n             break $b; // this $b should refer to the outer loop.\n         }\n     }"}, {"sha": "69334e21192108ee96286fe641cc1fbee1552f61", "filename": "src/test/ui/macros/macro-lifetime-used-with-labels.stderr", "status": "removed", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/6e1b0105c60cfca15930a6fdf8a3b07db528c749/src%2Ftest%2Fui%2Fmacros%2Fmacro-lifetime-used-with-labels.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6e1b0105c60cfca15930a6fdf8a3b07db528c749/src%2Ftest%2Fui%2Fmacros%2Fmacro-lifetime-used-with-labels.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-lifetime-used-with-labels.stderr?ref=6e1b0105c60cfca15930a6fdf8a3b07db528c749", "patch": "@@ -1,15 +0,0 @@\n-warning: label name `'b` shadows a label name that is already in scope\n-  --> $DIR/macro-lifetime-used-with-labels.rs:21:9\n-   |\n-LL |         'b: loop {\n-   |         ^^ label `'b` already in scope\n-...\n-LL |     'b: loop {\n-   |     -- first declared here\n-LL |         br2!('b);\n-   |         -------- in this macro invocation\n-   |\n-   = note: this warning originates in the macro `br2` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-warning: 1 warning emitted\n-"}, {"sha": "ee9549991ce24b159265212b9298617bfac0ca40", "filename": "src/test/ui/regions/regions-name-duplicated.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fregions%2Fregions-name-duplicated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fregions%2Fregions-name-duplicated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fregions%2Fregions-name-duplicated.rs?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -1,5 +1,7 @@\n-struct Foo<'a, 'a> { //~ ERROR lifetime name `'a` declared twice\n-    x: &'a isize\n+struct Foo<'a, 'a> {\n+    //~^ ERROR lifetime name `'a` declared twice\n+    //~| ERROR parameter `'a` is never used [E0392]\n+    x: &'a isize,\n }\n \n fn main() {}"}, {"sha": "6d6e28c8479e55105d5a48d5333a1daf8eb8d4fa", "filename": "src/test/ui/regions/regions-name-duplicated.stderr", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fregions%2Fregions-name-duplicated.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/85cbd0bc185c4b9b36162a638c9ec3915df265b2/src%2Ftest%2Fui%2Fregions%2Fregions-name-duplicated.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fregions%2Fregions-name-duplicated.stderr?ref=85cbd0bc185c4b9b36162a638c9ec3915df265b2", "patch": "@@ -2,10 +2,19 @@ error[E0263]: lifetime name `'a` declared twice in the same scope\n   --> $DIR/regions-name-duplicated.rs:1:16\n    |\n LL | struct Foo<'a, 'a> {\n-   |            --  ^^ declared twice\n+   |            --  ^^ lifetime `'a` already in scope\n    |            |\n-   |            previous declaration here\n+   |            first declared here\n \n-error: aborting due to previous error\n+error[E0392]: parameter `'a` is never used\n+  --> $DIR/regions-name-duplicated.rs:1:12\n+   |\n+LL | struct Foo<'a, 'a> {\n+   |            ^^ unused parameter\n+   |\n+   = help: consider removing `'a`, referring to it in a field, or using a marker such as `PhantomData`\n+\n+error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0263`.\n+Some errors have detailed explanations: E0263, E0392.\n+For more information about an error, try `rustc --explain E0263`."}]}