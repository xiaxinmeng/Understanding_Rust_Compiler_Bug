{"sha": "5479fe5f70bb32f037ff97de03ed185bdf2f54b7", "node_id": "C_kwDOAAsO6NoAKDU0NzlmZTVmNzBiYjMyZjAzN2ZmOTdkZTAzZWQxODViZGYyZjU0Yjc", "commit": {"author": {"name": "Ayush Singh", "email": "ayushsingh1325@gmail.com", "date": "2022-12-08T12:42:15Z"}, "committer": {"name": "Ayush Singh", "email": "ayushsingh1325@gmail.com", "date": "2022-12-08T12:42:15Z"}, "message": "Add read_to_end for AnonPipe\n\nAdd `read_to_end` method for `sys::{target}::pipe::AnonPipe`. This allows\nhaving a more optimized version of `read_to_end` for ChildStdout.\n\nSigned-off-by: Ayush Singh <ayushsingh1325@gmail.com>", "tree": {"sha": "fdc635e201ef6e372a3b30ea7e825a61ca9fef56", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fdc635e201ef6e372a3b30ea7e825a61ca9fef56"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5479fe5f70bb32f037ff97de03ed185bdf2f54b7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE38wTHvJPLWVvpQTWBc71x4nlWnQFAmOR3GoACgkQBc71x4nl\nWnR1Yg//bP4z3a7Hx6BzHU26zdXDU3ogPDKXBt/SFtQCHsFOiOv6KysMqEJ7nM4o\nz5u5YSqSko1RQ2zjRRUxGBQlzs5X5HE6ejGcmZwuyoEsRtnDXt0x8tsQYTfnynAj\nEsOK5mG3UAhz8x9Sl4X9qoVtq8Uo0RqUUp8d0s0M/zoBD/X4zxmWYAC2BC+YZwAg\nN0nVljp51udvPLWywBt8zZ6sv+jQ+fHzz9qq5J0mbZTmYdr9aiTX1GJQ1jPPzJo2\nmkICLi1sMVkYKuC6yMaDtY5W49f6w4/WxB+RaN8cdD9c5S10QewyPQgI2teZy2ZC\nC2wPXkpyf737YurjtgL9oJb2TL7qrSC7DH5d6cbG3ygJpJ7Rb0Lx2BxXAX2kpwIT\nmMha53rNeoW2DZJD7nCHauCHCATDm1vmZqLc1bY6XUXr6pc2VzpVdSp45rYEkgkJ\nm7FIZGikK4QmEkV1xdjZwA1tIoPKkJ5RbLkC1Ky7G/E1yUwixEQCo5ilPMa9ts68\nbpMwwh2uPttl8Rj38bwLWOKTMxscktb4TdnZid9H7HZS9phgls9L4vPYL5BjGuGf\nr/xOYhOrqoaSWk0IxOKB1xQIVoLvusSkr3hXEjPqK1+YsAnsJHMD64jRtysXO+FH\nfzIUiWaKHIte2myPSpoR+u3/CvF0sD9JMlfv5UqkgKJ5KJWpOLo=\n=CBsJ\n-----END PGP SIGNATURE-----", "payload": "tree fdc635e201ef6e372a3b30ea7e825a61ca9fef56\nparent f5418b09e84883c4de2e652a147ab9faff4eee29\nauthor Ayush Singh <ayushsingh1325@gmail.com> 1670503335 +0530\ncommitter Ayush Singh <ayushsingh1325@gmail.com> 1670503335 +0530\n\nAdd read_to_end for AnonPipe\n\nAdd `read_to_end` method for `sys::{target}::pipe::AnonPipe`. This allows\nhaving a more optimized version of `read_to_end` for ChildStdout.\n\nSigned-off-by: Ayush Singh <ayushsingh1325@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5479fe5f70bb32f037ff97de03ed185bdf2f54b7", "html_url": "https://github.com/rust-lang/rust/commit/5479fe5f70bb32f037ff97de03ed185bdf2f54b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5479fe5f70bb32f037ff97de03ed185bdf2f54b7/comments", "author": {"login": "Ayush1325", "id": 22546812, "node_id": "MDQ6VXNlcjIyNTQ2ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/22546812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ayush1325", "html_url": "https://github.com/Ayush1325", "followers_url": "https://api.github.com/users/Ayush1325/followers", "following_url": "https://api.github.com/users/Ayush1325/following{/other_user}", "gists_url": "https://api.github.com/users/Ayush1325/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ayush1325/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ayush1325/subscriptions", "organizations_url": "https://api.github.com/users/Ayush1325/orgs", "repos_url": "https://api.github.com/users/Ayush1325/repos", "events_url": "https://api.github.com/users/Ayush1325/events{/privacy}", "received_events_url": "https://api.github.com/users/Ayush1325/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Ayush1325", "id": 22546812, "node_id": "MDQ6VXNlcjIyNTQ2ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/22546812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ayush1325", "html_url": "https://github.com/Ayush1325", "followers_url": "https://api.github.com/users/Ayush1325/followers", "following_url": "https://api.github.com/users/Ayush1325/following{/other_user}", "gists_url": "https://api.github.com/users/Ayush1325/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ayush1325/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ayush1325/subscriptions", "organizations_url": "https://api.github.com/users/Ayush1325/orgs", "repos_url": "https://api.github.com/users/Ayush1325/repos", "events_url": "https://api.github.com/users/Ayush1325/events{/privacy}", "received_events_url": "https://api.github.com/users/Ayush1325/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f5418b09e84883c4de2e652a147ab9faff4eee29", "url": "https://api.github.com/repos/rust-lang/rust/commits/f5418b09e84883c4de2e652a147ab9faff4eee29", "html_url": "https://github.com/rust-lang/rust/commit/f5418b09e84883c4de2e652a147ab9faff4eee29"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "1ff7bba85d23ac46d65fb88069d621a2e96a5919", "filename": "library/std/src/process.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5479fe5f70bb32f037ff97de03ed185bdf2f54b7/library%2Fstd%2Fsrc%2Fprocess.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5479fe5f70bb32f037ff97de03ed185bdf2f54b7/library%2Fstd%2Fsrc%2Fprocess.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fprocess.rs?ref=5479fe5f70bb32f037ff97de03ed185bdf2f54b7", "patch": "@@ -362,6 +362,10 @@ impl Read for ChildStdout {\n     fn is_read_vectored(&self) -> bool {\n         self.inner.is_read_vectored()\n     }\n+\n+    fn read_to_end(&mut self, buf: &mut Vec<u8>) -> io::Result<usize> {\n+        self.inner.read_to_end(buf)\n+    }\n }\n \n impl AsInner<AnonPipe> for ChildStdout {"}, {"sha": "a744d0ab6404334e2b43512a5b81b9283a687a84", "filename": "library/std/src/sys/unix/pipe.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5479fe5f70bb32f037ff97de03ed185bdf2f54b7/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fpipe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5479fe5f70bb32f037ff97de03ed185bdf2f54b7/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fpipe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fpipe.rs?ref=5479fe5f70bb32f037ff97de03ed185bdf2f54b7", "patch": "@@ -58,6 +58,10 @@ impl AnonPipe {\n         self.0.is_read_vectored()\n     }\n \n+    pub fn read_to_end(&self, buf: &mut Vec<u8>) -> io::Result<usize> {\n+        self.0.read_to_end(buf)\n+    }\n+\n     pub fn write(&self, buf: &[u8]) -> io::Result<usize> {\n         self.0.write(buf)\n     }"}, {"sha": "75ce75467963b3f888bc30dde97007981dc99dfc", "filename": "library/std/src/sys/unsupported/pipe.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5479fe5f70bb32f037ff97de03ed185bdf2f54b7/library%2Fstd%2Fsrc%2Fsys%2Funsupported%2Fpipe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5479fe5f70bb32f037ff97de03ed185bdf2f54b7/library%2Fstd%2Fsrc%2Fsys%2Funsupported%2Fpipe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funsupported%2Fpipe.rs?ref=5479fe5f70bb32f037ff97de03ed185bdf2f54b7", "patch": "@@ -15,6 +15,10 @@ impl AnonPipe {\n         self.0\n     }\n \n+    pub fn read_to_end(&self, buf: &mut Vec<u8>) -> io::Result<usize> {\n+        self.0\n+    }\n+\n     pub fn write(&self, _buf: &[u8]) -> io::Result<usize> {\n         self.0\n     }"}, {"sha": "7b25edaa556f082e211cf0f90ad07ba67181d29f", "filename": "library/std/src/sys/windows/pipe.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5479fe5f70bb32f037ff97de03ed185bdf2f54b7/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fpipe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5479fe5f70bb32f037ff97de03ed185bdf2f54b7/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fpipe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fpipe.rs?ref=5479fe5f70bb32f037ff97de03ed185bdf2f54b7", "patch": "@@ -1,7 +1,7 @@\n use crate::os::windows::prelude::*;\n \n use crate::ffi::OsStr;\n-use crate::io::{self, IoSlice, IoSliceMut};\n+use crate::io::{self, IoSlice, IoSliceMut, Read};\n use crate::mem;\n use crate::path::Path;\n use crate::ptr;\n@@ -261,6 +261,10 @@ impl AnonPipe {\n         self.inner.is_read_vectored()\n     }\n \n+    pub fn read_to_end(&self, buf: &mut Vec<u8>) -> io::Result<usize> {\n+        self.handle().read_to_end(buf)\n+    }\n+\n     pub fn write(&self, buf: &[u8]) -> io::Result<usize> {\n         unsafe {\n             let len = crate::cmp::min(buf.len(), c::DWORD::MAX as usize) as c::DWORD;"}]}