{"sha": "501ff22402f0870d5d977ed960938b91c413ea80", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUwMWZmMjI0MDJmMDg3MGQ1ZDk3N2VkOTYwOTM4YjkxYzQxM2VhODA=", "commit": {"author": {"name": "Martin Carton", "email": "cartonmartin+github@gmail.com", "date": "2016-11-19T23:19:38Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-11-19T23:19:38Z"}, "message": "Merge pull request #1351 from Manishearth/rustup-2016-11-18\n\nRustup to *rustc 1.15.0-nightly (ac635aa95 2016-11-18)* and bump to 0.0.100", "tree": {"sha": "7bda1295afdd216db5b0f95765237740c92eeb9e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7bda1295afdd216db5b0f95765237740c92eeb9e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/501ff22402f0870d5d977ed960938b91c413ea80", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/501ff22402f0870d5d977ed960938b91c413ea80", "html_url": "https://github.com/rust-lang/rust/commit/501ff22402f0870d5d977ed960938b91c413ea80", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/501ff22402f0870d5d977ed960938b91c413ea80/comments", "author": {"login": "mcarton", "id": 3751788, "node_id": "MDQ6VXNlcjM3NTE3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/3751788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarton", "html_url": "https://github.com/mcarton", "followers_url": "https://api.github.com/users/mcarton/followers", "following_url": "https://api.github.com/users/mcarton/following{/other_user}", "gists_url": "https://api.github.com/users/mcarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarton/subscriptions", "organizations_url": "https://api.github.com/users/mcarton/orgs", "repos_url": "https://api.github.com/users/mcarton/repos", "events_url": "https://api.github.com/users/mcarton/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "276e85b70068398a81e3ce0ab18dc6fe59004c7c", "url": "https://api.github.com/repos/rust-lang/rust/commits/276e85b70068398a81e3ce0ab18dc6fe59004c7c", "html_url": "https://github.com/rust-lang/rust/commit/276e85b70068398a81e3ce0ab18dc6fe59004c7c"}, {"sha": "40fcae112d52fd2b73ea60d594a9657f510a2216", "url": "https://api.github.com/repos/rust-lang/rust/commits/40fcae112d52fd2b73ea60d594a9657f510a2216", "html_url": "https://github.com/rust-lang/rust/commit/40fcae112d52fd2b73ea60d594a9657f510a2216"}], "stats": {"total": 43, "additions": 23, "deletions": 20}, "files": [{"sha": "b299dbd7873dfabc930b6d7ec471c633fdf6748b", "filename": "CHANGELOG.md", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/501ff22402f0870d5d977ed960938b91c413ea80/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/501ff22402f0870d5d977ed960938b91c413ea80/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=501ff22402f0870d5d977ed960938b91c413ea80", "patch": "@@ -1,6 +1,9 @@\n # Change Log\n All notable changes to this project will be documented in this file.\n \n+## 0.0.100 \u2014 2016-11-20\n+* Update to *rustc 1.15.0-nightly (ac635aa95 2016-11-18)*\n+\n ## 0.0.99 \u2014 2016-11-18\n * Update to rustc 1.15.0-nightly (0ed951993 2016-11-14)\n "}, {"sha": "039ef9e1a1a42fd8e5a0679a7379ad238beb1830", "filename": "Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/501ff22402f0870d5d977ed960938b91c413ea80/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/501ff22402f0870d5d977ed960938b91c413ea80/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=501ff22402f0870d5d977ed960938b91c413ea80", "patch": "@@ -1,6 +1,6 @@\n [package]\n name = \"clippy\"\n-version = \"0.0.99\"\n+version = \"0.0.100\"\n authors = [\n \t\"Manish Goregaokar <manishsmail@gmail.com>\",\n \t\"Andre Bogus <bogusandre@gmail.com>\",\n@@ -25,7 +25,7 @@ test = false\n \n [dependencies]\n # begin automatic update\n-clippy_lints = { version = \"0.0.99\", path = \"clippy_lints\" }\n+clippy_lints = { version = \"0.0.100\", path = \"clippy_lints\" }\n # end automatic update\n \n [dev-dependencies]"}, {"sha": "c7b0b3577d8c5d300151c39dc760652622e2ce31", "filename": "clippy_lints/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/501ff22402f0870d5d977ed960938b91c413ea80/clippy_lints%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/501ff22402f0870d5d977ed960938b91c413ea80/clippy_lints%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2FCargo.toml?ref=501ff22402f0870d5d977ed960938b91c413ea80", "patch": "@@ -1,7 +1,7 @@\n [package]\n name = \"clippy_lints\"\n # begin automatic update\n-version = \"0.0.99\"\n+version = \"0.0.100\"\n # end automatic update\n authors = [\n \t\"Manish Goregaokar <manishsmail@gmail.com>\","}, {"sha": "a6f4882358311c2cab27196535bde5b26d5e5e85", "filename": "clippy_lints/src/len_zero.rs", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/501ff22402f0870d5d977ed960938b91c413ea80/clippy_lints%2Fsrc%2Flen_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/501ff22402f0870d5d977ed960938b91c413ea80/clippy_lints%2Fsrc%2Flen_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flen_zero.rs?ref=501ff22402f0870d5d977ed960938b91c413ea80", "patch": "@@ -92,7 +92,11 @@ fn check_trait_items(cx: &LateContext, item: &Item, trait_items: &[TraitItem]) {\n     fn is_named_self(item: &TraitItem, name: &str) -> bool {\n         item.name.as_str() == name &&\n         if let MethodTraitItem(ref sig, _) = item.node {\n-            is_self_sig(sig)\n+            if sig.decl.has_self() {\n+                sig.decl.inputs.len() == 1\n+            } else {\n+                false\n+            }\n         } else {\n             false\n         }\n@@ -111,18 +115,22 @@ fn check_trait_items(cx: &LateContext, item: &Item, trait_items: &[TraitItem]) {\n     }\n }\n \n-fn check_impl_items(cx: &LateContext, item: &Item, impl_items: &[ImplItem]) {\n-    fn is_named_self(item: &ImplItem, name: &str) -> bool {\n+fn check_impl_items(cx: &LateContext, item: &Item, impl_items: &[ImplItemRef]) {\n+    fn is_named_self(cx: &LateContext, item: &ImplItemRef, name: &str) -> bool {\n         item.name.as_str() == name &&\n-        if let ImplItemKind::Method(ref sig, _) = item.node {\n-            is_self_sig(sig)\n+        if let AssociatedItemKind::Method { has_self } = item.kind {\n+            has_self && {\n+                let did = cx.tcx.map.local_def_id(item.id.node_id);\n+                let impl_ty = cx.tcx.item_type(did);\n+                impl_ty.fn_args().skip_binder().len() == 1\n+            }\n         } else {\n             false\n         }\n     }\n \n-    let is_empty = if let Some(is_empty) = impl_items.iter().find(|i| is_named_self(i, \"is_empty\")) {\n-        if cx.access_levels.is_exported(is_empty.id) {\n+    let is_empty = if let Some(is_empty) = impl_items.iter().find(|i| is_named_self(cx, i, \"is_empty\")) {\n+        if cx.access_levels.is_exported(is_empty.id.node_id) {\n             return;\n         } else {\n             \"a private\"\n@@ -131,8 +139,8 @@ fn check_impl_items(cx: &LateContext, item: &Item, impl_items: &[ImplItem]) {\n         \"no corresponding\"\n     };\n \n-    if let Some(i) = impl_items.iter().find(|i| is_named_self(i, \"len\")) {\n-        if cx.access_levels.is_exported(i.id) {\n+    if let Some(i) = impl_items.iter().find(|i| is_named_self(cx, i, \"len\")) {\n+        if cx.access_levels.is_exported(i.id.node_id) {\n             let def_id = cx.tcx.map.local_def_id(item.id);\n             let ty = cx.tcx.item_type(def_id);\n \n@@ -146,14 +154,6 @@ fn check_impl_items(cx: &LateContext, item: &Item, impl_items: &[ImplItem]) {\n     }\n }\n \n-fn is_self_sig(sig: &MethodSig) -> bool {\n-    if sig.decl.has_self() {\n-        sig.decl.inputs.len() == 1\n-    } else {\n-        false\n-    }\n-}\n-\n fn check_cmp(cx: &LateContext, span: Span, left: &Expr, right: &Expr, op: &str) {\n     // check if we are in an is_empty() method\n     if let Some(name) = get_item_name(cx, left) {"}]}