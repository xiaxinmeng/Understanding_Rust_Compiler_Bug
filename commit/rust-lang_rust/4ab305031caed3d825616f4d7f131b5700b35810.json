{"sha": "4ab305031caed3d825616f4d7f131b5700b35810", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhYjMwNTAzMWNhZWQzZDgyNTYxNmY0ZDdmMTMxYjU3MDBiMzU4MTA=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-05-11T22:18:01Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-05-11T22:18:01Z"}, "message": "Rollup merge of #85124 - jsha:trust-the-bool, r=GuillaumeGomez\n\nrustdoc: remove explicit boolean comparisons.\n\nFor boolean variables it's shorter and more readable to check the value directly, or negate it with `!`.\n\nIn a couple of cases I reordered an if/else pair because it made the initial `if` statement simpler.\n\nAn example of a style guide recommending this: https://airbnb.io/javascript/#comparison--shortcuts\n\nr? `@GuillaumeGomez`", "tree": {"sha": "e997246ea3fe72eac5543e52c3e1377f52575e53", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e997246ea3fe72eac5543e52c3e1377f52575e53"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4ab305031caed3d825616f4d7f131b5700b35810", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgmwKZCRBK7hj4Ov3rIwAA8WYIACdjEx5r7qJAJyUkLsIRK48M\nQqiEhmqMv4VMS8OTKCVOANxnZtHu85o1lkAVC/zFE2vthFlMRvOw3VMpj0zDzo76\nmYEViuTBbNAB7ZMOoBIkTt9i9UQm093TgMID4IOTmDsvr6e5rLzO4TVzkNZWD4xd\n6k/WrT7I8SQ+E1lx0NHUcKGUA1tXK6z7juazO4rGY/qee26GYf3MIvFgOjdC5jrU\nJh3pHIBLF+iew4hDni8jlta/GOfOiYqqcomgZMG9pTITYEJXGyidvjLLhyaYiy6P\neY086SGTV/HN26xJZZZph21LaK3KODLct1hDDsgUk0vFeTM69SmnFTlCa3pCNNw=\n=ozBK\n-----END PGP SIGNATURE-----\n", "payload": "tree e997246ea3fe72eac5543e52c3e1377f52575e53\nparent 649b385471097fb03bdd204fd4f921eab3feb9c9\nparent f510e412e93958e099334de22de375d26264e767\nauthor Yuki Okushi <jtitor@2k36.org> 1620771481 +0900\ncommitter GitHub <noreply@github.com> 1620771481 +0900\n\nRollup merge of #85124 - jsha:trust-the-bool, r=GuillaumeGomez\n\nrustdoc: remove explicit boolean comparisons.\n\nFor boolean variables it's shorter and more readable to check the value directly, or negate it with `!`.\n\nIn a couple of cases I reordered an if/else pair because it made the initial `if` statement simpler.\n\nAn example of a style guide recommending this: https://airbnb.io/javascript/#comparison--shortcuts\n\nr? `@GuillaumeGomez`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4ab305031caed3d825616f4d7f131b5700b35810", "html_url": "https://github.com/rust-lang/rust/commit/4ab305031caed3d825616f4d7f131b5700b35810", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4ab305031caed3d825616f4d7f131b5700b35810/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "649b385471097fb03bdd204fd4f921eab3feb9c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/649b385471097fb03bdd204fd4f921eab3feb9c9", "html_url": "https://github.com/rust-lang/rust/commit/649b385471097fb03bdd204fd4f921eab3feb9c9"}, {"sha": "f510e412e93958e099334de22de375d26264e767", "url": "https://api.github.com/repos/rust-lang/rust/commits/f510e412e93958e099334de22de375d26264e767", "html_url": "https://github.com/rust-lang/rust/commit/f510e412e93958e099334de22de375d26264e767"}], "stats": {"total": 133, "additions": 64, "deletions": 69}, "files": [{"sha": "04dc25341f4d3c8d1b7b1517d6239d2c79a2c053", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/4ab305031caed3d825616f4d7f131b5700b35810/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/4ab305031caed3d825616f4d7f131b5700b35810/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=4ab305031caed3d825616f4d7f131b5700b35810", "patch": "@@ -448,14 +448,14 @@ function hideThemeButtonState() {\n     }\n \n     function getHelpElement(build) {\n-        if (build !== false) {\n+        if (build) {\n             buildHelperPopup();\n         }\n         return document.getElementById(\"help\");\n     }\n \n     function displayHelp(display, ev, help) {\n-        if (display === true) {\n+        if (display) {\n             help = help ? help : getHelpElement(true);\n             if (hasClass(help, \"hidden\")) {\n                 ev.preventDefault();\n@@ -466,7 +466,7 @@ function hideThemeButtonState() {\n             // No need to build the help popup if we want to hide it in case it hasn't been\n             // built yet...\n             help = help ? help : getHelpElement(false);\n-            if (help && hasClass(help, \"hidden\") === false) {\n+            if (help && !hasClass(help, \"hidden\")) {\n                 ev.preventDefault();\n                 addClass(help, \"hidden\");\n                 removeClass(document.body, \"blur\");\n@@ -477,9 +477,9 @@ function hideThemeButtonState() {\n     function handleEscape(ev) {\n         var help = getHelpElement(false);\n         var search = searchState.outputElement();\n-        if (hasClass(help, \"hidden\") === false) {\n+        if (!hasClass(help, \"hidden\")) {\n             displayHelp(false, ev, help);\n-        } else if (hasClass(search, \"hidden\") === false) {\n+        } else if (!hasClass(search, \"hidden\")) {\n             searchState.clearInputTimeout();\n             ev.preventDefault();\n             searchState.hideResults(search);\n@@ -491,7 +491,7 @@ function hideThemeButtonState() {\n     var disableShortcuts = getSettingValue(\"disable-shortcuts\") === \"true\";\n     function handleShortcut(ev) {\n         // Don't interfere with browser shortcuts\n-        if (ev.ctrlKey || ev.altKey || ev.metaKey || disableShortcuts === true) {\n+        if (ev.ctrlKey || ev.altKey || ev.metaKey || disableShortcuts) {\n             return;\n         }\n \n@@ -908,11 +908,11 @@ function hideThemeButtonState() {\n         function implHider(addOrRemove, fullHide) {\n             return function(n) {\n                 var shouldHide =\n-                    fullHide === true ||\n-                    hasClass(n, \"method\") === true ||\n-                    hasClass(n, \"associatedconstant\") === true;\n-                if (shouldHide === true || hasClass(n, \"type\") === true) {\n-                    if (shouldHide === true) {\n+                    fullHide ||\n+                    hasClass(n, \"method\") ||\n+                    hasClass(n, \"associatedconstant\");\n+                if (shouldHide || hasClass(n, \"type\")) {\n+                    if (shouldHide) {\n                         if (addOrRemove) {\n                             addClass(n, \"hidden-by-impl-hider\");\n                         } else {\n@@ -934,7 +934,7 @@ function hideThemeButtonState() {\n \n         var relatedDoc;\n         var action = mode;\n-        if (hasClass(toggle.parentNode, \"impl\") === false) {\n+        if (!hasClass(toggle.parentNode, \"impl\")) {\n             relatedDoc = toggle.parentNode.nextElementSibling;\n             if (hasClass(relatedDoc, \"item-info\")) {\n                 relatedDoc = relatedDoc.nextElementSibling;\n@@ -964,11 +964,11 @@ function hideThemeButtonState() {\n             relatedDoc = parentElem;\n             var docblock = relatedDoc.nextElementSibling;\n \n-            while (hasClass(relatedDoc, \"impl-items\") === false) {\n+            while (!hasClass(relatedDoc, \"impl-items\")) {\n                 relatedDoc = relatedDoc.nextElementSibling;\n             }\n \n-            if (!relatedDoc && hasClass(docblock, \"docblock\") === false) {\n+            if (!relatedDoc && !hasClass(docblock, \"docblock\")) {\n                 return;\n             }\n \n@@ -987,7 +987,7 @@ function hideThemeButtonState() {\n             if (action === \"show\") {\n                 removeClass(relatedDoc, \"fns-now-collapsed\");\n                 // Stability/deprecation/portability information is never hidden.\n-                if (hasClass(docblock, \"item-info\") === false) {\n+                if (!hasClass(docblock, \"item-info\")) {\n                     removeClass(docblock, \"hidden-by-usual-hider\");\n                 }\n                 onEachLazy(toggle.childNodes, adjustToggle(false, dontApplyBlockRule));\n@@ -996,7 +996,7 @@ function hideThemeButtonState() {\n                 addClass(relatedDoc, \"fns-now-collapsed\");\n                 // Stability/deprecation/portability information should be shown even when detailed\n                 // info is hidden.\n-                if (hasClass(docblock, \"item-info\") === false) {\n+                if (!hasClass(docblock, \"item-info\")) {\n                     addClass(docblock, \"hidden-by-usual-hider\");\n                 }\n                 onEachLazy(toggle.childNodes, adjustToggle(true, dontApplyBlockRule));\n@@ -1045,7 +1045,7 @@ function hideThemeButtonState() {\n             });\n         }\n \n-        if (hideMethodDocs === true) {\n+        if (hideMethodDocs) {\n             onEachLazy(document.getElementsByClassName(\"method\"), function(e) {\n                 var toggle = e.parentNode;\n                 if (toggle) {\n@@ -1132,7 +1132,7 @@ function hideThemeButtonState() {\n     if (sidebar_menu) {\n         sidebar_menu.onclick = function() {\n             var sidebar = document.getElementsByClassName(\"sidebar\")[0];\n-            if (hasClass(sidebar, \"mobile\") === true) {\n+            if (hasClass(sidebar, \"mobile\")) {\n                 hideSidebar();\n             } else {\n                 showSidebar();"}, {"sha": "b4f9d7b374052d5ff1c2cdffa78d0d97e8d3bf0a", "filename": "src/librustdoc/html/static/search.js", "status": "modified", "additions": 35, "deletions": 39, "changes": 74, "blob_url": "https://github.com/rust-lang/rust/blob/4ab305031caed3d825616f4d7f131b5700b35810/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsearch.js", "raw_url": "https://github.com/rust-lang/rust/raw/4ab305031caed3d825616f4d7f131b5700b35810/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsearch.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsearch.js?ref=4ab305031caed3d825616f4d7f131b5700b35810", "patch": "@@ -146,23 +146,21 @@ window.initSearch = function(rawSearchIndex) {\n \n         removeEmptyStringsFromArray(split);\n \n-        function transformResults(results, isType) {\n+        function transformResults(results) {\n             var out = [];\n             for (var i = 0, len = results.length; i < len; ++i) {\n                 if (results[i].id > -1) {\n                     var obj = searchIndex[results[i].id];\n                     obj.lev = results[i].lev;\n-                    if (isType !== true || obj.type) {\n-                        var res = buildHrefAndPath(obj);\n-                        obj.displayPath = pathSplitter(res[0]);\n-                        obj.fullPath = obj.displayPath + obj.name;\n-                        // To be sure than it some items aren't considered as duplicate.\n-                        obj.fullPath += \"|\" + obj.ty;\n-                        obj.href = res[1];\n-                        out.push(obj);\n-                        if (out.length >= MAX_RESULTS) {\n-                            break;\n-                        }\n+                    var res = buildHrefAndPath(obj);\n+                    obj.displayPath = pathSplitter(res[0]);\n+                    obj.fullPath = obj.displayPath + obj.name;\n+                    // To be sure than it some items aren't considered as duplicate.\n+                    obj.fullPath += \"|\" + obj.ty;\n+                    obj.href = res[1];\n+                    out.push(obj);\n+                    if (out.length >= MAX_RESULTS) {\n+                        break;\n                     }\n                 }\n             }\n@@ -266,9 +264,7 @@ window.initSearch = function(rawSearchIndex) {\n                     path = result.item.path.toLowerCase(),\n                     parent = result.item.parent;\n \n-                if (isType !== true &&\n-                    validateResult(name, path, split, parent) === false)\n-                {\n+                if (!isType && !validateResult(name, path, split, parent)) {\n                     result.id = -1;\n                 }\n             }\n@@ -352,7 +348,7 @@ window.initSearch = function(rawSearchIndex) {\n             var lev_distance = MAX_LEV_DISTANCE + 1;\n             var len, x, firstGeneric;\n             if (obj[NAME] === val.name) {\n-                if (literalSearch === true) {\n+                if (literalSearch) {\n                     if (val.generics && val.generics.length !== 0) {\n                         if (obj.length > GENERICS_DATA &&\n                               obj[GENERICS_DATA].length >= val.generics.length) {\n@@ -373,7 +369,7 @@ window.initSearch = function(rawSearchIndex) {\n                                     break;\n                                 }\n                             }\n-                            if (allFound === true) {\n+                            if (allFound) {\n                                 return true;\n                             }\n                         } else {\n@@ -394,7 +390,7 @@ window.initSearch = function(rawSearchIndex) {\n                 }\n             }\n             // Names didn't match so let's check if one of the generic types could.\n-            if (literalSearch === true) {\n+            if (literalSearch) {\n                  if (obj.length > GENERICS_DATA && obj[GENERICS_DATA].length > 0) {\n                     return obj[GENERICS_DATA].some(\n                         function(name) {\n@@ -429,12 +425,12 @@ window.initSearch = function(rawSearchIndex) {\n                 var length = obj.type[INPUTS_DATA].length;\n                 for (var i = 0; i < length; i++) {\n                     var tmp = obj.type[INPUTS_DATA][i];\n-                    if (typePassesFilter(typeFilter, tmp[1]) === false) {\n+                    if (!typePassesFilter(typeFilter, tmp[1])) {\n                         continue;\n                     }\n                     tmp = checkType(tmp, val, literalSearch);\n-                    if (literalSearch === true) {\n-                        if (tmp === true) {\n+                    if (literalSearch) {\n+                        if (tmp) {\n                             return true;\n                         }\n                         continue;\n@@ -445,7 +441,7 @@ window.initSearch = function(rawSearchIndex) {\n                     }\n                 }\n             }\n-            return literalSearch === true ? false : lev_distance;\n+            return literalSearch ? false : lev_distance;\n         }\n \n         function checkReturned(obj, val, literalSearch, typeFilter) {\n@@ -458,12 +454,12 @@ window.initSearch = function(rawSearchIndex) {\n                 }\n                 for (var x = 0, len = ret.length; x < len; ++x) {\n                     var tmp = ret[x];\n-                    if (typePassesFilter(typeFilter, tmp[1]) === false) {\n+                    if (!typePassesFilter(typeFilter, tmp[1])) {\n                         continue;\n                     }\n                     tmp = checkType(tmp, val, literalSearch);\n-                    if (literalSearch === true) {\n-                        if (tmp === true) {\n+                    if (literalSearch) {\n+                        if (tmp) {\n                             return true;\n                         }\n                         continue;\n@@ -474,7 +470,7 @@ window.initSearch = function(rawSearchIndex) {\n                     }\n                 }\n             }\n-            return literalSearch === true ? false : lev_distance;\n+            return literalSearch ? false : lev_distance;\n         }\n \n         function checkPath(contains, lastElem, ty) {\n@@ -507,7 +503,7 @@ window.initSearch = function(rawSearchIndex) {\n                     }\n                     lev_total += lev;\n                 }\n-                if (aborted === false) {\n+                if (!aborted) {\n                     ret_lev = Math.min(ret_lev, Math.round(lev_total / clength));\n                 }\n             }\n@@ -634,14 +630,14 @@ window.initSearch = function(rawSearchIndex) {\n                         dontValidate: true,\n                     };\n                 }\n-                if (in_args === true && results_in_args[fullId] === undefined) {\n+                if (in_args && results_in_args[fullId] === undefined) {\n                     results_in_args[fullId] = {\n                         id: i,\n                         index: -1,\n                         dontValidate: true,\n                     };\n                 }\n-                if (returned === true && results_returned[fullId] === undefined) {\n+                if (returned && results_returned[fullId] === undefined) {\n                     results_returned[fullId] = {\n                         id: i,\n                         index: -1,\n@@ -676,34 +672,34 @@ window.initSearch = function(rawSearchIndex) {\n                 fullId = ty.id;\n \n                 returned = checkReturned(ty, output, true, NO_TYPE_FILTER);\n-                if (output.name === \"*\" || returned === true) {\n+                if (output.name === \"*\" || returned) {\n                     in_args = false;\n                     var is_module = false;\n \n                     if (input === \"*\") {\n                         is_module = true;\n                     } else {\n                         var allFound = true;\n-                        for (it = 0, len = inputs.length; allFound === true && it < len; it++) {\n+                        for (it = 0, len = inputs.length; allFound && it < len; it++) {\n                             allFound = checkType(type, inputs[it], true);\n                         }\n                         in_args = allFound;\n                     }\n-                    if (in_args === true) {\n+                    if (in_args) {\n                         results_in_args[fullId] = {\n                             id: i,\n                             index: -1,\n                             dontValidate: true,\n                         };\n                     }\n-                    if (returned === true) {\n+                    if (returned) {\n                         results_returned[fullId] = {\n                             id: i,\n                             index: -1,\n                             dontValidate: true,\n                         };\n                     }\n-                    if (is_module === true) {\n+                    if (is_module) {\n                         results[fullId] = {\n                             id: i,\n                             index: -1,\n@@ -763,10 +759,10 @@ window.initSearch = function(rawSearchIndex) {\n                     }\n                 }\n                 if ((lev = levenshtein(searchWords[j], val)) <= MAX_LEV_DISTANCE) {\n-                    if (typePassesFilter(typeFilter, ty.ty) === false) {\n-                        lev = MAX_LEV_DISTANCE + 1;\n-                    } else {\n+                    if (typePassesFilter(typeFilter, ty.ty)) {\n                         lev += 1;\n+                    } else {\n+                        lev = MAX_LEV_DISTANCE + 1;\n                     }\n                 }\n                 in_args = findArg(ty, valGenerics, false, typeFilter);\n@@ -821,7 +817,7 @@ window.initSearch = function(rawSearchIndex) {\n         var ret = {\n             \"in_args\": sortResults(results_in_args, true),\n             \"returned\": sortResults(results_returned, true),\n-            \"others\": sortResults(results),\n+            \"others\": sortResults(results, false),\n         };\n         handleAliases(ret, query, filterCrates);\n         return ret;\n@@ -1263,7 +1259,7 @@ window.initSearch = function(rawSearchIndex) {\n         if (query.query.length === 0) {\n             return;\n         }\n-        if (forced !== true && query.id === currentResults) {\n+        if (!forced && query.id === currentResults) {\n             if (query.query.length > 0) {\n                 searchState.putBackSearch(searchState.input);\n             }"}, {"sha": "81df54118968171893448707f4a50b50c01e6c2c", "filename": "src/librustdoc/html/static/source-script.js", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/4ab305031caed3d825616f4d7f131b5700b35810/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsource-script.js", "raw_url": "https://github.com/rust-lang/rust/raw/4ab305031caed3d825616f4d7f131b5700b35810/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsource-script.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsource-script.js?ref=4ab305031caed3d825616f4d7f131b5700b35810", "patch": "@@ -44,7 +44,7 @@ function createDirEntry(elem, parent, fullPath, currentFile, hasFoundFile) {\n     if (elem.dirs) {\n         for (i = 0, len = elem.dirs.length; i < len; ++i) {\n             if (createDirEntry(elem.dirs[i], folders, fullPath, currentFile,\n-                               hasFoundFile) === true) {\n+                               hasFoundFile)) {\n                 addClass(name, \"expand\");\n                 hasFoundFile = true;\n             }\n@@ -59,8 +59,7 @@ function createDirEntry(elem, parent, fullPath, currentFile, hasFoundFile) {\n             var file = document.createElement(\"a\");\n             file.innerText = elem.files[i];\n             file.href = window.rootPath + \"src/\" + fullPath + elem.files[i] + \".html\";\n-            if (hasFoundFile === false &&\n-                    currentFile === fullPath + elem.files[i]) {\n+            if (!hasFoundFile && currentFile === fullPath + elem.files[i]) {\n                 file.className = \"selected\";\n                 addClass(name, \"expand\");\n                 hasFoundFile = true;\n@@ -72,7 +71,7 @@ function createDirEntry(elem, parent, fullPath, currentFile, hasFoundFile) {\n     children.appendChild(files);\n     parent.appendChild(name);\n     parent.appendChild(children);\n-    return hasFoundFile === true && currentFile.startsWith(fullPath);\n+    return hasFoundFile && currentFile.startsWith(fullPath);\n }\n \n function toggleSidebar() {\n@@ -116,7 +115,7 @@ function createSidebarToggle() {\n // This function is called from \"source-files.js\", generated in `html/render/mod.rs`.\n // eslint-disable-next-line no-unused-vars\n function createSourceSidebar() {\n-    if (window.rootPath.endsWith(\"/\") === false) {\n+    if (!window.rootPath.endsWith(\"/\")) {\n         window.rootPath += \"/\";\n     }\n     var main = document.getElementById(\"main\");"}, {"sha": "208afd2e732dd7366a577bda9321f9adab1e8050", "filename": "src/librustdoc/html/static/storage.js", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/4ab305031caed3d825616f4d7f131b5700b35810/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fstorage.js", "raw_url": "https://github.com/rust-lang/rust/raw/4ab305031caed3d825616f4d7f131b5700b35810/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fstorage.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fstorage.js?ref=4ab305031caed3d825616f4d7f131b5700b35810", "patch": "@@ -59,15 +59,15 @@ function onEach(arr, func, reversed) {\n     if (arr && arr.length > 0 && func) {\n         var length = arr.length;\n         var i;\n-        if (reversed !== true) {\n-            for (i = 0; i < length; ++i) {\n-                if (func(arr[i]) === true) {\n+        if (reversed) {\n+            for (i = length - 1; i >= 0; --i) {\n+                if (func(arr[i])) {\n                     return true;\n                 }\n             }\n         } else {\n-            for (i = length - 1; i >= 0; --i) {\n-                if (func(arr[i]) === true) {\n+            for (i = 0; i < length; ++i) {\n+                if (func(arr[i])) {\n                     return true;\n                 }\n             }\n@@ -111,7 +111,7 @@ function switchTheme(styleElem, mainStyleElem, newTheme, saveTheme) {\n \n     // If this new value comes from a system setting or from the previously\n     // saved theme, no need to save it.\n-    if (saveTheme === true) {\n+    if (saveTheme) {\n         updateLocalStorage(\"rustdoc-theme\", newTheme);\n     }\n \n@@ -131,7 +131,7 @@ function switchTheme(styleElem, mainStyleElem, newTheme, saveTheme) {\n             return true;\n         }\n     });\n-    if (found === true) {\n+    if (found) {\n         styleElem.href = newHref;\n     }\n }"}]}