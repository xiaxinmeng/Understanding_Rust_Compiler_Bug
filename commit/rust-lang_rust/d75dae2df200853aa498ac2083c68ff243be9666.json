{"sha": "d75dae2df200853aa498ac2083c68ff243be9666", "node_id": "C_kwDOAAsO6NoAKGQ3NWRhZTJkZjIwMDg1M2FhNDk4YWMyMDgzYzY4ZmYyNDNiZTk2NjY", "commit": {"author": {"name": "Ayush Singh", "email": "ayushsingh1325@gmail.com", "date": "2023-03-08T19:33:07Z"}, "committer": {"name": "Ayush Singh", "email": "ayushsingh1325@gmail.com", "date": "2023-03-08T19:33:07Z"}, "message": "Consider target_family as pal\n\nCurrently tidy does not consider code in target_family as\nplatform-specific. I think this is erroneous and should be fixed.\n\nSigned-off-by: Ayush Singh <ayushsingh1325@gmail.com>", "tree": {"sha": "a341e74c077fee881c0217c29f78fd38bab2e922", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a341e74c077fee881c0217c29f78fd38bab2e922"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d75dae2df200853aa498ac2083c68ff243be9666", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEPXedWmbgyJF/geU7Z/nHg7Wh49UFAmQI42EACgkQZ/nHg7Wh\n49VtBA/+MxnSMsp/sIiCmyLXU6DlNp9TLAItO+U60SDPESgtiZQpkJBxbAQtQ2rT\n/ZU9iUzNHhNy5sNMKOGQh3Ti8eqae21aXjX+mvPyaPB0JnB8aQ7bR3pE8mJpcTYE\nK2rWIeAfSg0vaiwJq/12gW6TEdgCCZp/CBlv3cvMgFczvamn5lcEaxilpBqWyqaD\niojOMiaQ3BgtTCAtbjpr/D3ToxFgheQe/1qajbl0qnQH6pgaQ8MMW78S9M42iTwm\nD/awanNQ50gtRLAAD+G1YEMPUCObNeV1+v7PsMrza6HrrYX+RLuPIBipfmHfDxPG\n9Vy6KhFaHea886aGru3/gMO23RXCZ7BSKCQUzmCQ8l3uojeUpCB9dJiuUn67qu0x\npl1JWd4EG2Ndg/Ms+NDtU2DaFLz7rtB7bP3zWx1OWicsEJcgLhyU/m6qDy2JIdtT\n0zMj1apyLDa9oM0B37jVeWNV38qlybzw+3wao+X6fu45v9QBGP/AHZWwhJxLorNy\nXRoUUmkk/LMIl8sMKKdTHxh0jd4SE7ar6FqKE0FspJ20ljpn/IXSCGVKP9D3uYH9\nmzz3DVJUZAiX2t617ikPmBBSbbU/jxrfDZTYAMgGTs+0ZF2edATQeLzBww4xhwq0\nU6FioxAsjNKSdJBLNoeE1MI3Dh9pLZ2sH6oxd5x1k4BsFmNAheg=\n=3PuY\n-----END PGP SIGNATURE-----", "payload": "tree a341e74c077fee881c0217c29f78fd38bab2e922\nparent 7c306f6dcd600b1fcc74439c780e8ebef338d84c\nauthor Ayush Singh <ayushsingh1325@gmail.com> 1678303987 +0530\ncommitter Ayush Singh <ayushsingh1325@gmail.com> 1678303987 +0530\n\nConsider target_family as pal\n\nCurrently tidy does not consider code in target_family as\nplatform-specific. I think this is erroneous and should be fixed.\n\nSigned-off-by: Ayush Singh <ayushsingh1325@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d75dae2df200853aa498ac2083c68ff243be9666", "html_url": "https://github.com/rust-lang/rust/commit/d75dae2df200853aa498ac2083c68ff243be9666", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d75dae2df200853aa498ac2083c68ff243be9666/comments", "author": {"login": "Ayush1325", "id": 22546812, "node_id": "MDQ6VXNlcjIyNTQ2ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/22546812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ayush1325", "html_url": "https://github.com/Ayush1325", "followers_url": "https://api.github.com/users/Ayush1325/followers", "following_url": "https://api.github.com/users/Ayush1325/following{/other_user}", "gists_url": "https://api.github.com/users/Ayush1325/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ayush1325/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ayush1325/subscriptions", "organizations_url": "https://api.github.com/users/Ayush1325/orgs", "repos_url": "https://api.github.com/users/Ayush1325/repos", "events_url": "https://api.github.com/users/Ayush1325/events{/privacy}", "received_events_url": "https://api.github.com/users/Ayush1325/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Ayush1325", "id": 22546812, "node_id": "MDQ6VXNlcjIyNTQ2ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/22546812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ayush1325", "html_url": "https://github.com/Ayush1325", "followers_url": "https://api.github.com/users/Ayush1325/followers", "following_url": "https://api.github.com/users/Ayush1325/following{/other_user}", "gists_url": "https://api.github.com/users/Ayush1325/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ayush1325/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ayush1325/subscriptions", "organizations_url": "https://api.github.com/users/Ayush1325/orgs", "repos_url": "https://api.github.com/users/Ayush1325/repos", "events_url": "https://api.github.com/users/Ayush1325/events{/privacy}", "received_events_url": "https://api.github.com/users/Ayush1325/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c306f6dcd600b1fcc74439c780e8ebef338d84c", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c306f6dcd600b1fcc74439c780e8ebef338d84c", "html_url": "https://github.com/rust-lang/rust/commit/7c306f6dcd600b1fcc74439c780e8ebef338d84c"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "6d6d3c89a3c543788172786c67d2c44a75032ecb", "filename": "src/tools/tidy/src/pal.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d75dae2df200853aa498ac2083c68ff243be9666/src%2Ftools%2Ftidy%2Fsrc%2Fpal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d75dae2df200853aa498ac2083c68ff243be9666/src%2Ftools%2Ftidy%2Fsrc%2Fpal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fpal.rs?ref=d75dae2df200853aa498ac2083c68ff243be9666", "patch": "@@ -62,6 +62,8 @@ const EXCEPTION_PATHS: &[&str] = &[\n     \"library/std/src/panic.rs\",   // fuchsia-specific panic backtrace handling\n     \"library/std/src/personality.rs\",\n     \"library/std/src/personality/\",\n+    \"library/std/src/thread/mod.rs\",\n+    \"library/std/src/thread/local.rs\",\n ];\n \n pub fn check(path: &Path, bad: &mut bool) {\n@@ -128,6 +130,7 @@ fn check_cfgs(\n             || cfg.contains(\"target_env\")\n             || cfg.contains(\"target_abi\")\n             || cfg.contains(\"target_vendor\")\n+            || cfg.contains(\"target_family\")\n             || cfg.contains(\"unix\")\n             || cfg.contains(\"windows\");\n "}]}