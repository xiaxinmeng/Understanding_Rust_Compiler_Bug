{"sha": "ba6db3e9b054902549a0cf487cd7f69db2654aa1", "node_id": "C_kwDOAAsO6NoAKGJhNmRiM2U5YjA1NDkwMjU0OWEwY2Y0ODdjZDdmNjlkYjI2NTRhYTE", "commit": {"author": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2022-07-30T13:28:34Z"}, "committer": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2022-08-10T18:41:23Z"}, "message": "Add test for runnables with raw identifiers", "tree": {"sha": "160232c76c6e99fd851f14793d6df49f2951e82a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/160232c76c6e99fd851f14793d6df49f2951e82a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ba6db3e9b054902549a0cf487cd7f69db2654aa1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEkSbsQIURluxz4rzf4laYqTBYYXEFAmLz+9MACgkQ4laYqTBY\nYXHLNRAAiOhGLesJdY3Ps8nh6Te0oVE+3ZXzx/PLteqE2ZfYHn0ESUgr8YVTICEe\nnGQYfCtopjG3+vdI9Unzaqs1qkNjv2ggviz6GDFcCqZDBtEWzs+bF8+0VoLYJYpd\n48BiP1/r3hLRb5g14UCvpW1hCGWCZAyRtdsIXMr5PhDfyNbQvRZcnttOHYJDHnqh\neJwqPBu6wVh6VkPKGwajIVeybaCZg4gt7S/rfMPPHniLkARvdQbUTUBKMmeGgp9E\nPLnpOG5V0Qbzos4KQShSglmQwsOddWPJ1XSOrnGk+soTkKso2GKWJW70YE/MkWuN\no9ZvCB989kTAX8Owy76feORDZa8itimLJIk5YNmfe5Fm542GIyV26LBPWEJQoLoq\nrKLMrnvzy0o4xkD2A45PG/eUynySxnghTZxaaMkaR+xFrSSfE76fFKUpZ9qDgDFx\n9afcO7Hytto/lpJIdVEodn7YpUFcm0QVRriYuCOLednfIG+XxGmC5kcvAz4l0vrO\nBsCGhZkoYyi4Q1wyDEInlua/oWwKcUU1JMTE8lw3WkuR6buiZ6inyhPjjOsUdDmj\n4X0Qe359nUTzuJGCKwZPQakYTnMKVBtcIcOVqrdT6RCFfCo4CiXBToGn1GtBMncP\nryAbTR5GgAJsV7icVXt9aWvVwfoKUsYwmf5AEMJLqK9Bnz2dnkw=\n=9NZ2\n-----END PGP SIGNATURE-----", "payload": "tree 160232c76c6e99fd851f14793d6df49f2951e82a\nparent 018266a7ff6d06747e798afdf84faadb7567d179\nauthor Ryo Yoshida <low.ryoshida@gmail.com> 1659187714 +0900\ncommitter Ryo Yoshida <low.ryoshida@gmail.com> 1660156883 +0900\n\nAdd test for runnables with raw identifiers\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ba6db3e9b054902549a0cf487cd7f69db2654aa1", "html_url": "https://github.com/rust-lang/rust/commit/ba6db3e9b054902549a0cf487cd7f69db2654aa1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ba6db3e9b054902549a0cf487cd7f69db2654aa1/comments", "author": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "018266a7ff6d06747e798afdf84faadb7567d179", "url": "https://api.github.com/repos/rust-lang/rust/commits/018266a7ff6d06747e798afdf84faadb7567d179", "html_url": "https://github.com/rust-lang/rust/commit/018266a7ff6d06747e798afdf84faadb7567d179"}], "stats": {"total": 186, "additions": 186, "deletions": 0}, "files": [{"sha": "0181c6b8e456a1881e723ce139ef105e4f4be92a", "filename": "crates/ide/src/runnables.rs", "status": "modified", "additions": 186, "deletions": 0, "changes": 186, "blob_url": "https://github.com/rust-lang/rust/blob/ba6db3e9b054902549a0cf487cd7f69db2654aa1/crates%2Fide%2Fsrc%2Frunnables.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ba6db3e9b054902549a0cf487cd7f69db2654aa1/crates%2Fide%2Fsrc%2Frunnables.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Frunnables.rs?ref=ba6db3e9b054902549a0cf487cd7f69db2654aa1", "patch": "@@ -2225,4 +2225,190 @@ macro_rules! foo {\n             \"#]],\n         );\n     }\n+\n+    #[test]\n+    fn test_paths_with_raw_ident() {\n+        check(\n+            r#\"\n+//- /lib.rs\n+$0\n+mod r#mod {\n+    #[test]\n+    fn r#fn() {}\n+\n+    /// ```\n+    /// ```\n+    fn r#for() {}\n+\n+    /// ```\n+    /// ```\n+    struct r#struct<r#type>(r#type);\n+\n+    /// ```\n+    /// ```\n+    impl<r#type> r#struct<r#type> {\n+        /// ```\n+        /// ```\n+        fn r#fn() {}\n+    }\n+\n+    enum r#enum {}\n+    impl r#struct<r#enum> {\n+        /// ```\n+        /// ```\n+        fn r#fn() {}\n+    }\n+\n+    trait r#trait {}\n+\n+    /// ```\n+    /// ```\n+    impl<T> r#trait for r#struct<T> {}\n+}\n+\"#,\n+            &[TestMod, Test, DocTest, DocTest, DocTest, DocTest, DocTest, DocTest],\n+            expect![[r#\"\n+                [\n+                    Runnable {\n+                        use_name_in_title: false,\n+                        nav: NavigationTarget {\n+                            file_id: FileId(\n+                                0,\n+                            ),\n+                            full_range: 1..461,\n+                            focus_range: 5..10,\n+                            name: \"r#mod\",\n+                            kind: Module,\n+                            description: \"mod r#mod\",\n+                        },\n+                        kind: TestMod {\n+                            path: \"r#mod\",\n+                        },\n+                        cfg: None,\n+                    },\n+                    Runnable {\n+                        use_name_in_title: false,\n+                        nav: NavigationTarget {\n+                            file_id: FileId(\n+                                0,\n+                            ),\n+                            full_range: 17..41,\n+                            focus_range: 32..36,\n+                            name: \"r#fn\",\n+                            kind: Function,\n+                        },\n+                        kind: Test {\n+                            test_id: Path(\n+                                \"r#mod::r#fn\",\n+                            ),\n+                            attr: TestAttr {\n+                                ignore: false,\n+                            },\n+                        },\n+                        cfg: None,\n+                    },\n+                    Runnable {\n+                        use_name_in_title: false,\n+                        nav: NavigationTarget {\n+                            file_id: FileId(\n+                                0,\n+                            ),\n+                            full_range: 47..84,\n+                            name: \"r#for\",\n+                        },\n+                        kind: DocTest {\n+                            test_id: Path(\n+                                \"r#mod::r#for\",\n+                            ),\n+                        },\n+                        cfg: None,\n+                    },\n+                    Runnable {\n+                        use_name_in_title: false,\n+                        nav: NavigationTarget {\n+                            file_id: FileId(\n+                                0,\n+                            ),\n+                            full_range: 90..146,\n+                            name: \"r#struct\",\n+                        },\n+                        kind: DocTest {\n+                            test_id: Path(\n+                                \"r#mod::r#struct\",\n+                            ),\n+                        },\n+                        cfg: None,\n+                    },\n+                    Runnable {\n+                        use_name_in_title: false,\n+                        nav: NavigationTarget {\n+                            file_id: FileId(\n+                                0,\n+                            ),\n+                            full_range: 152..266,\n+                            focus_range: 189..205,\n+                            name: \"impl\",\n+                            kind: Impl,\n+                        },\n+                        kind: DocTest {\n+                            test_id: Path(\n+                                \"r#struct<r#type>\",\n+                            ),\n+                        },\n+                        cfg: None,\n+                    },\n+                    Runnable {\n+                        use_name_in_title: false,\n+                        nav: NavigationTarget {\n+                            file_id: FileId(\n+                                0,\n+                            ),\n+                            full_range: 216..260,\n+                            name: \"r#fn\",\n+                        },\n+                        kind: DocTest {\n+                            test_id: Path(\n+                                \"r#mod::r#struct<r#type>::r#fn\",\n+                            ),\n+                        },\n+                        cfg: None,\n+                    },\n+                    Runnable {\n+                        use_name_in_title: false,\n+                        nav: NavigationTarget {\n+                            file_id: FileId(\n+                                0,\n+                            ),\n+                            full_range: 323..367,\n+                            name: \"r#fn\",\n+                        },\n+                        kind: DocTest {\n+                            test_id: Path(\n+                                \"r#mod::r#struct<r#enum>::r#fn\",\n+                            ),\n+                        },\n+                        cfg: None,\n+                    },\n+                    Runnable {\n+                        use_name_in_title: false,\n+                        nav: NavigationTarget {\n+                            file_id: FileId(\n+                                0,\n+                            ),\n+                            full_range: 401..459,\n+                            focus_range: 445..456,\n+                            name: \"impl\",\n+                            kind: Impl,\n+                        },\n+                        kind: DocTest {\n+                            test_id: Path(\n+                                \"r#struct<T>\",\n+                            ),\n+                        },\n+                        cfg: None,\n+                    },\n+                ]\n+            \"#]],\n+        )\n+    }\n }"}]}