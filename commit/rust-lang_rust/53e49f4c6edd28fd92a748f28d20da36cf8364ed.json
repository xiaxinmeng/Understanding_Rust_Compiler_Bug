{"sha": "53e49f4c6edd28fd92a748f28d20da36cf8364ed", "node_id": "C_kwDOAAsO6NoAKDUzZTQ5ZjRjNmVkZDI4ZmQ5MmE3NDhmMjhkMjBkYTM2Y2Y4MzY0ZWQ", "commit": {"author": {"name": "Scott Mabin", "email": "scott@mabez.dev", "date": "2023-05-09T11:14:45Z"}, "committer": {"name": "Scott Mabin", "email": "scott@mabez.dev", "date": "2023-05-09T15:18:07Z"}, "message": "Add esp-idf platform support page", "tree": {"sha": "5a4c9e96317c610e1828c5cf3f3a52c30cd6616f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5a4c9e96317c610e1828c5cf3f3a52c30cd6616f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/53e49f4c6edd28fd92a748f28d20da36cf8364ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/53e49f4c6edd28fd92a748f28d20da36cf8364ed", "html_url": "https://github.com/rust-lang/rust/commit/53e49f4c6edd28fd92a748f28d20da36cf8364ed", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/53e49f4c6edd28fd92a748f28d20da36cf8364ed/comments", "author": {"login": "MabezDev", "id": 6977289, "node_id": "MDQ6VXNlcjY5NzcyODk=", "avatar_url": "https://avatars.githubusercontent.com/u/6977289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MabezDev", "html_url": "https://github.com/MabezDev", "followers_url": "https://api.github.com/users/MabezDev/followers", "following_url": "https://api.github.com/users/MabezDev/following{/other_user}", "gists_url": "https://api.github.com/users/MabezDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/MabezDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MabezDev/subscriptions", "organizations_url": "https://api.github.com/users/MabezDev/orgs", "repos_url": "https://api.github.com/users/MabezDev/repos", "events_url": "https://api.github.com/users/MabezDev/events{/privacy}", "received_events_url": "https://api.github.com/users/MabezDev/received_events", "type": "User", "site_admin": false}, "committer": {"login": "MabezDev", "id": 6977289, "node_id": "MDQ6VXNlcjY5NzcyODk=", "avatar_url": "https://avatars.githubusercontent.com/u/6977289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MabezDev", "html_url": "https://github.com/MabezDev", "followers_url": "https://api.github.com/users/MabezDev/followers", "following_url": "https://api.github.com/users/MabezDev/following{/other_user}", "gists_url": "https://api.github.com/users/MabezDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/MabezDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MabezDev/subscriptions", "organizations_url": "https://api.github.com/users/MabezDev/orgs", "repos_url": "https://api.github.com/users/MabezDev/repos", "events_url": "https://api.github.com/users/MabezDev/events{/privacy}", "received_events_url": "https://api.github.com/users/MabezDev/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7e7483d26e3cec7a44ef00cf7ae6c9c8c918bec6", "url": "https://api.github.com/repos/rust-lang/rust/commits/7e7483d26e3cec7a44ef00cf7ae6c9c8c918bec6", "html_url": "https://github.com/rust-lang/rust/commit/7e7483d26e3cec7a44ef00cf7ae6c9c8c918bec6"}], "stats": {"total": 44, "additions": 43, "deletions": 1}, "files": [{"sha": "73343ba9df51bc7f9e29a95646f9f0ee5a8b00f2", "filename": "src/doc/rustc/src/SUMMARY.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/53e49f4c6edd28fd92a748f28d20da36cf8364ed/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md", "raw_url": "https://github.com/rust-lang/rust/raw/53e49f4c6edd28fd92a748f28d20da36cf8364ed/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md?ref=53e49f4c6edd28fd92a748f28d20da36cf8364ed", "patch": "@@ -27,6 +27,7 @@\n     - [armv7-unknown-linux-uclibceabihf](platform-support/armv7-unknown-linux-uclibceabihf.md)\n     - [\\*-android and \\*-androideabi](platform-support/android.md)\n     - [\\*-linux-ohos](platform-support/openharmony.md)\n+    - [\\*-esp-espidf](platform-support/esp-idf.md)\n     - [\\*-unknown-fuchsia](platform-support/fuchsia.md)\n     - [\\*-kmc-solid_\\*](platform-support/kmc-solid.md)\n     - [loongarch\\*-unknown-linux-\\*](platform-support/loongarch-linux.md)"}, {"sha": "d22e1cf7f684addab48acbada4ce26dc6157a70e", "filename": "src/doc/rustc/src/platform-support.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/53e49f4c6edd28fd92a748f28d20da36cf8364ed/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md", "raw_url": "https://github.com/rust-lang/rust/raw/53e49f4c6edd28fd92a748f28d20da36cf8364ed/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md?ref=53e49f4c6edd28fd92a748f28d20da36cf8364ed", "patch": "@@ -297,7 +297,7 @@ target | std | host | notes\n `riscv32gc-unknown-linux-musl` |   |   | RISC-V Linux (kernel 5.4, musl + RISCV32 support patches)\n `riscv32im-unknown-none-elf` | * |  | Bare RISC-V (RV32IM ISA)\n [`riscv32imac-unknown-xous-elf`](platform-support/riscv32imac-unknown-xous-elf.md) | ? |  | RISC-V Xous (RV32IMAC ISA)\n-`riscv32imc-esp-espidf` | \u2713 |  | RISC-V ESP-IDF\n+[`riscv32imc-esp-espidf`](platform-support/esp-idf.md) | \u2713 |  | RISC-V ESP-IDF\n `riscv64gc-unknown-freebsd` |   |   | RISC-V FreeBSD\n `riscv64gc-unknown-fuchsia` |   |   | RISC-V Fuchsia\n `riscv64gc-unknown-linux-musl` |   |   | RISC-V Linux (kernel 4.20, musl 1.2.0)"}, {"sha": "8a4ca347e22f5b19d13868f93412f112fd453729", "filename": "src/doc/rustc/src/platform-support/esp-idf.md", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/53e49f4c6edd28fd92a748f28d20da36cf8364ed/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Fesp-idf.md", "raw_url": "https://github.com/rust-lang/rust/raw/53e49f4c6edd28fd92a748f28d20da36cf8364ed/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Fesp-idf.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Fesp-idf.md?ref=53e49f4c6edd28fd92a748f28d20da36cf8364ed", "patch": "@@ -0,0 +1,41 @@\n+# `*-esp-espidf`\n+\n+**Tier: 3**\n+\n+Targets for the [ESP-IDF](https://github.com/espressif/esp-idf) development framework running on RISC-V and Xtensa CPUs.\n+\n+## Target maintainers\n+\n+- Ivan Markov [@ivmarkov](https://github.com/ivmarkov)\n+- Scott Mabin [@MabezDev](https://github.com/MabezDev)\n+\n+## Requirements\n+\n+The target names follow this format: `$ARCH-esp-espidf`, where `$ARCH` specifies the target processor architecture. The following targets are currently defined:\n+\n+|          Target name           | Target CPU(s)         |\n+|--------------------------------|-----------------------|\n+| `riscv32imc-esp-espidf`        |  [ESP32-C3](https://www.espressif.com/en/products/socs/esp32-c3)             |\n+\n+The minimum supported ESP-IDF version is `v4.3`, though it is recommended to use the latest stable release if possible.\n+\n+## Building the target\n+\n+The target can be built by enabling it for a `rustc` build. The `build-std` feature is required to build the standard library for ESP-IDF. `ldproxy` is also required for linking, it can be installed from crates.io.\n+\n+```toml\n+[build]\n+target = [\"$ARCH-esp-espidf\"]\n+\n+[target.$ARCH-esp-espidf]\n+linker = \"ldproxy\"\n+\n+[unstable]\n+build-std = [\"std\", \"panic_abort\"]\n+```\n+\n+The `esp-idf-sys` crate will handle the compilation of ESP-IDF, including downloading the relevant toolchains for the build.\n+\n+## Cross-compilation toolchains and C code\n+\n+`esp-idf-sys` exposes the toolchain used in the compilation of ESP-IDF, see the crate [documentation for build output propagation](https://github.com/esp-rs/esp-idf-sys#conditional-compilation) for more information."}]}