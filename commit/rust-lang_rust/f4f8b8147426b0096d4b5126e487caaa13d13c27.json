{"sha": "f4f8b8147426b0096d4b5126e487caaa13d13c27", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY0ZjhiODE0NzQyNmIwMDk2ZDRiNTEyNmU0ODdjYWFhMTNkMTNjMjc=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-12-07T19:05:08Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-12-07T19:05:08Z"}, "message": "Get the right analyzer for impls", "tree": {"sha": "254fa877ac37b2cd535cb588034bb7bbccaa2ea2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/254fa877ac37b2cd535cb588034bb7bbccaa2ea2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f4f8b8147426b0096d4b5126e487caaa13d13c27", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f4f8b8147426b0096d4b5126e487caaa13d13c27", "html_url": "https://github.com/rust-lang/rust/commit/f4f8b8147426b0096d4b5126e487caaa13d13c27", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f4f8b8147426b0096d4b5126e487caaa13d13c27/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7d2080a0311cab62388f416beeb360695dbc5ded", "url": "https://api.github.com/repos/rust-lang/rust/commits/7d2080a0311cab62388f416beeb360695dbc5ded", "html_url": "https://github.com/rust-lang/rust/commit/7d2080a0311cab62388f416beeb360695dbc5ded"}], "stats": {"total": 25, "additions": 23, "deletions": 2}, "files": [{"sha": "2957e496c1f2446f301dcdb65aeefd43de222c29", "filename": "crates/ra_hir/src/source_binder.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f4f8b8147426b0096d4b5126e487caaa13d13c27/crates%2Fra_hir%2Fsrc%2Fsource_binder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f4f8b8147426b0096d4b5126e487caaa13d13c27/crates%2Fra_hir%2Fsrc%2Fsource_binder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fsource_binder.rs?ref=f4f8b8147426b0096d4b5126e487caaa13d13c27", "patch": "@@ -37,7 +37,7 @@ use crate::{\n         InEnvironment, TraitEnvironment, Ty,\n     },\n     Adt, AssocItem, Const, DefWithBody, Enum, EnumVariant, FromSource, Function, GenericParam,\n-    Local, MacroDef, Name, Path, ScopeDef, Static, Struct, Trait, Type, TypeAlias,\n+    ImplBlock, Local, MacroDef, Name, Path, ScopeDef, Static, Struct, Trait, Type, TypeAlias,\n };\n \n fn try_get_resolver_for_node(db: &impl HirDatabase, node: InFile<&SyntaxNode>) -> Option<Resolver> {\n@@ -59,6 +59,10 @@ fn try_get_resolver_for_node(db: &impl HirDatabase, node: InFile<&SyntaxNode>) -\n                 let src = node.with_value(it);\n                 Some(Enum::from_source(db, src)?.id.resolver(db))\n             },\n+            ast::ImplBlock(it) => {\n+                let src = node.with_value(it);\n+                Some(ImplBlock::from_source(db, src)?.id.resolver(db))\n+            },\n             _ => match node.value.kind() {\n                 FN_DEF | CONST_DEF | STATIC_DEF => {\n                     let def = def_with_body_from_child_node(db, node)?;"}, {"sha": "ed98dbc13af8ddb3f1a97b6072ad7819986eae0c", "filename": "crates/ra_ide/src/references/classify.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f4f8b8147426b0096d4b5126e487caaa13d13c27/crates%2Fra_ide%2Fsrc%2Freferences%2Fclassify.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f4f8b8147426b0096d4b5126e487caaa13d13c27/crates%2Fra_ide%2Fsrc%2Freferences%2Fclassify.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Freferences%2Fclassify.rs?ref=f4f8b8147426b0096d4b5126e487caaa13d13c27", "patch": "@@ -178,7 +178,6 @@ pub(crate) fn classify_name_ref(\n             Some(NameDefinition { kind, container, visibility: None })\n         }\n         PathResolution::GenericParam(par) => {\n-            // FIXME: get generic param def\n             let kind = NameKind::GenericParam(par);\n             Some(NameDefinition { kind, container, visibility })\n         }"}, {"sha": "4166a8f90d47f31a0177354edd67b39ebaba5542", "filename": "crates/ra_ide/src/snapshots/highlighting.html", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f4f8b8147426b0096d4b5126e487caaa13d13c27/crates%2Fra_ide%2Fsrc%2Fsnapshots%2Fhighlighting.html", "raw_url": "https://github.com/rust-lang/rust/raw/f4f8b8147426b0096d4b5126e487caaa13d13c27/crates%2Fra_ide%2Fsrc%2Fsnapshots%2Fhighlighting.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fsnapshots%2Fhighlighting.html?ref=f4f8b8147426b0096d4b5126e487caaa13d13c27", "patch": "@@ -9,6 +9,7 @@\n .parameter          { color: #94BFF3; }\n .builtin            { color: #DD6718; }\n .text               { color: #DCDCCC; }\n+.type               { color: #7CB8BB; }\n .attribute          { color: #94BFF3; }\n .literal            { color: #BFEBBF; }\n .macro              { color: #94BFF3; }\n@@ -45,4 +46,12 @@\n     <span class=\"keyword\">let</span> <span class=\"variable\">z</span> = &<span class=\"variable.mut\">y</span>;\n \n     <span class=\"variable.mut\">y</span>;\n+}\n+\n+<span class=\"keyword\">enum</span> <span class=\"type\">E</span>&lt;<span class=\"type\">X</span>&gt; {\n+    <span class=\"constant\">V</span>(<span class=\"type\">X</span>)\n+}\n+\n+<span class=\"keyword\">impl</span>&lt;<span class=\"type\">X</span>&gt; <span class=\"type\">E</span>&lt;<span class=\"type\">X</span>&gt; {\n+    <span class=\"keyword\">fn</span> <span class=\"function\">new</span>&lt;<span class=\"type\">T</span>&gt;() -&gt; <span class=\"type\">E</span>&lt;<span class=\"type\">T</span>&gt; {}\n }</code></pre>\n\\ No newline at end of file"}, {"sha": "20eefeb57a8de0d058db74430a37abd7e7d50c3e", "filename": "crates/ra_ide/src/syntax_highlighting.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f4f8b8147426b0096d4b5126e487caaa13d13c27/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f4f8b8147426b0096d4b5126e487caaa13d13c27/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs?ref=f4f8b8147426b0096d4b5126e487caaa13d13c27", "patch": "@@ -255,6 +255,7 @@ pre                 { color: #DCDCCC; background: #3F3F3F; font-size: 22px; padd\n .parameter          { color: #94BFF3; }\n .builtin            { color: #DD6718; }\n .text               { color: #DCDCCC; }\n+.type               { color: #7CB8BB; }\n .attribute          { color: #94BFF3; }\n .literal            { color: #BFEBBF; }\n .macro              { color: #94BFF3; }\n@@ -303,6 +304,14 @@ fn main() {\n \n     y;\n }\n+\n+enum E<X> {\n+    V(X)\n+}\n+\n+impl<X> E<X> {\n+    fn new<T>() -> E<T> {}\n+}\n \"#\n             .trim(),\n         );"}]}