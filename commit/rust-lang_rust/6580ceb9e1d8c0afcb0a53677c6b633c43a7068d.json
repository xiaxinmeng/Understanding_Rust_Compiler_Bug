{"sha": "6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY1ODBjZWI5ZTFkOGMwYWZjYjBhNTM2NzdjNmI2MzNjNDNhNzA2OGQ=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2020-04-11T13:04:18Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2020-04-13T15:37:51Z"}, "message": "rustc_target: `windows(_uwp)_base` -> `windows(_uwp)_gnu_base`\n\nThe old naming is from ancient times when there was no MSVC support.\n\nAlso `uefi_base` -> `uefi_msvc_base`.\nIt will inherit from `msvc_base` in a future commit, plus a GNU UEFI target is also potentially possible.", "tree": {"sha": "ab7e19faf2b3a53af064c591688e2c949b9068e2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ab7e19faf2b3a53af064c591688e2c949b9068e2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "html_url": "https://github.com/rust-lang/rust/commit/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cfe90ebfe3599bebf301dbac3e74ed557f7ecf24", "url": "https://api.github.com/repos/rust-lang/rust/commits/cfe90ebfe3599bebf301dbac3e74ed557f7ecf24", "html_url": "https://github.com/rust-lang/rust/commit/cfe90ebfe3599bebf301dbac3e74ed557f7ecf24"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "d12afe5a40bcc8882bb09cae3db63a8a684da149", "filename": "src/librustc_target/spec/i686_pc_windows_gnu.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fi686_pc_windows_gnu.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fi686_pc_windows_gnu.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fi686_pc_windows_gnu.rs?ref=6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "patch": "@@ -1,7 +1,7 @@\n use crate::spec::{LinkerFlavor, Target, TargetResult};\n \n pub fn target() -> TargetResult {\n-    let mut base = super::windows_base::opts();\n+    let mut base = super::windows_gnu_base::opts();\n     base.cpu = \"pentium4\".to_string();\n     base.max_atomic_width = Some(64);\n     base.eliminate_frame_pointer = false; // Required for backtraces"}, {"sha": "bf3064f437ff10e873470189d7dc8efab9c58335", "filename": "src/librustc_target/spec/i686_unknown_uefi.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fi686_unknown_uefi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fi686_unknown_uefi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fi686_unknown_uefi.rs?ref=6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "patch": "@@ -8,7 +8,7 @@\n use crate::spec::{LinkerFlavor, LldFlavor, Target, TargetResult};\n \n pub fn target() -> TargetResult {\n-    let mut base = super::uefi_base::opts();\n+    let mut base = super::uefi_msvc_base::opts();\n     base.cpu = \"pentium4\".to_string();\n     base.max_atomic_width = Some(64);\n "}, {"sha": "4e582fb8c63ab61af0885a4d5ee9943a4d4dbb9b", "filename": "src/librustc_target/spec/i686_uwp_windows_gnu.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fi686_uwp_windows_gnu.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fi686_uwp_windows_gnu.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fi686_uwp_windows_gnu.rs?ref=6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "patch": "@@ -1,7 +1,7 @@\n use crate::spec::{LinkerFlavor, Target, TargetResult};\n \n pub fn target() -> TargetResult {\n-    let mut base = super::windows_uwp_base::opts();\n+    let mut base = super::windows_uwp_gnu_base::opts();\n     base.cpu = \"pentium4\".to_string();\n     base.max_atomic_width = Some(64);\n     base.eliminate_frame_pointer = false; // Required for backtraces"}, {"sha": "d29b1dcdf8a44a4172a997106b37797037679712", "filename": "src/librustc_target/spec/mod.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fmod.rs?ref=6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "patch": "@@ -66,12 +66,12 @@ mod redox_base;\n mod riscv_base;\n mod solaris_base;\n mod thumb_base;\n-mod uefi_base;\n+mod uefi_msvc_base;\n mod vxworks_base;\n mod wasm32_base;\n-mod windows_base;\n+mod windows_gnu_base;\n mod windows_msvc_base;\n-mod windows_uwp_base;\n+mod windows_uwp_gnu_base;\n mod windows_uwp_msvc_base;\n \n #[derive(Clone, Copy, Debug, Eq, Ord, PartialEq, PartialOrd)]"}, {"sha": "6f5e1badfb6625c0d7fcee20320a96967643a5e4", "filename": "src/librustc_target/spec/uefi_msvc_base.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fuefi_msvc_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fuefi_msvc_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fuefi_msvc_base.rs?ref=6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "previous_filename": "src/librustc_target/spec/uefi_base.rs"}, {"sha": "097ee09f1ea8ce2cd6d8d2670ad8908954c0f4f4", "filename": "src/librustc_target/spec/windows_gnu_base.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fwindows_gnu_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fwindows_gnu_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fwindows_gnu_base.rs?ref=6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "previous_filename": "src/librustc_target/spec/windows_base.rs"}, {"sha": "f19bd10dc0bbd1986611f304157d6cdca0efec48", "filename": "src/librustc_target/spec/windows_uwp_gnu_base.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fwindows_uwp_gnu_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fwindows_uwp_gnu_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fwindows_uwp_gnu_base.rs?ref=6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "previous_filename": "src/librustc_target/spec/windows_uwp_base.rs"}, {"sha": "eb97fa56814d85c7469439488f9ed7a472d27515", "filename": "src/librustc_target/spec/x86_64_pc_windows_gnu.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fx86_64_pc_windows_gnu.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fx86_64_pc_windows_gnu.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fx86_64_pc_windows_gnu.rs?ref=6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "patch": "@@ -1,7 +1,7 @@\n use crate::spec::{LinkerFlavor, Target, TargetResult};\n \n pub fn target() -> TargetResult {\n-    let mut base = super::windows_base::opts();\n+    let mut base = super::windows_gnu_base::opts();\n     base.cpu = \"x86-64\".to_string();\n     base.pre_link_args.get_mut(&LinkerFlavor::Gcc).unwrap().push(\"-m64\".to_string());\n     base.max_atomic_width = Some(64);"}, {"sha": "588de409d45192cad725fcfd70798913aa688507", "filename": "src/librustc_target/spec/x86_64_unknown_uefi.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fx86_64_unknown_uefi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fx86_64_unknown_uefi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fx86_64_unknown_uefi.rs?ref=6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "patch": "@@ -8,7 +8,7 @@\n use crate::spec::{LinkerFlavor, LldFlavor, Target, TargetResult};\n \n pub fn target() -> TargetResult {\n-    let mut base = super::uefi_base::opts();\n+    let mut base = super::uefi_msvc_base::opts();\n     base.cpu = \"x86-64\".to_string();\n     base.max_atomic_width = Some(64);\n "}, {"sha": "ad6002f6b89e40fb4fe4526958871be4da67d334", "filename": "src/librustc_target/spec/x86_64_uwp_windows_gnu.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fx86_64_uwp_windows_gnu.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6580ceb9e1d8c0afcb0a53677c6b633c43a7068d/src%2Flibrustc_target%2Fspec%2Fx86_64_uwp_windows_gnu.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fx86_64_uwp_windows_gnu.rs?ref=6580ceb9e1d8c0afcb0a53677c6b633c43a7068d", "patch": "@@ -1,7 +1,7 @@\n use crate::spec::{LinkerFlavor, Target, TargetResult};\n \n pub fn target() -> TargetResult {\n-    let mut base = super::windows_uwp_base::opts();\n+    let mut base = super::windows_uwp_gnu_base::opts();\n     base.cpu = \"x86-64\".to_string();\n     base.pre_link_args.get_mut(&LinkerFlavor::Gcc).unwrap().push(\"-m64\".to_string());\n     base.max_atomic_width = Some(64);"}]}