{"sha": "afc0dc8bfcc5d6fba1e907ab35c110fc074cad67", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFmYzBkYzhiZmNjNWQ2ZmJhMWU5MDdhYjM1YzExMGZjMDc0Y2FkNjc=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-07-01T16:03:47Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-07-01T16:03:47Z"}, "message": "Fix lexer's definition of numeric literals.", "tree": {"sha": "3b1c4a8696049d2bb285a16265cacec04e7c44f6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3b1c4a8696049d2bb285a16265cacec04e7c44f6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/afc0dc8bfcc5d6fba1e907ab35c110fc074cad67", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/afc0dc8bfcc5d6fba1e907ab35c110fc074cad67", "html_url": "https://github.com/rust-lang/rust/commit/afc0dc8bfcc5d6fba1e907ab35c110fc074cad67", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/afc0dc8bfcc5d6fba1e907ab35c110fc074cad67/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3aaff59dba4b9fff598c49eeb579cb6c631dd4f4", "url": "https://api.github.com/repos/rust-lang/rust/commits/3aaff59dba4b9fff598c49eeb579cb6c631dd4f4", "html_url": "https://github.com/rust-lang/rust/commit/3aaff59dba4b9fff598c49eeb579cb6c631dd4f4"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "4e4e845cfb9bb920936c18ad75aa43742ef3058c", "filename": "src/boot/fe/lexer.mll", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/afc0dc8bfcc5d6fba1e907ab35c110fc074cad67/src%2Fboot%2Ffe%2Flexer.mll", "raw_url": "https://github.com/rust-lang/rust/raw/afc0dc8bfcc5d6fba1e907ab35c110fc074cad67/src%2Fboot%2Ffe%2Flexer.mll", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Ffe%2Flexer.mll?ref=afc0dc8bfcc5d6fba1e907ab35c110fc074cad67", "patch": "@@ -121,9 +121,10 @@\n }\n \n let hexdig = ['0'-'9' 'a'-'f' 'A'-'F']\n-let bin = \"0b\" ['0' '1']['0' '1' '_']*\n-let hex = \"0x\" hexdig ['0'-'9' 'a'-'f' 'A'-'F' '_']*\n-let dec = ['0'-'9']+\n+let decdig = ['0'-'9']\n+let bin = '0' 'b' ['0' '1' '_']*\n+let hex = '0' 'x' ['0'-'9' 'a'-'f' 'A'-'F' '_']*\n+let dec = decdig ['0'-'9' '_']*\n let exp = ['e''E']['-''+']? dec\n let flo = (dec '.' dec (exp?)) | (dec exp)\n \n@@ -160,7 +161,7 @@ rule token = parse\n | \">>>\"                        { ASR        }\n | '~'                          { TILDE      }\n | '{'                          { LBRACE     }\n-| '_' (dec as n)               { IDX (int_of_string n) }\n+| '_' (decdig+ as n)           { IDX (int_of_string n) }\n | '_'                          { UNDERSCORE }\n | '}'                          { RBRACE     }\n "}]}