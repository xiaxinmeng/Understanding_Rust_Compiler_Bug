{"sha": "13809ffff7022a24b33d93f63a2cbdb6ecd20805", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEzODA5ZmZmZjcwMjJhMjRiMzNkOTNmNjNhMmNiZGI2ZWNkMjA4MDU=", "commit": {"author": {"name": "Ariel Ben-Yehuda", "email": "arielb1@mail.tau.ac.il", "date": "2015-08-17T21:17:02Z"}, "committer": {"name": "Ariel Ben-Yehuda", "email": "arielb1@mail.tau.ac.il", "date": "2015-08-17T21:25:29Z"}, "message": "don't iterate over all impls when none match\n\nbefore:\n573.01user 4.04system 7:33.86elapsed 127%CPU (0avgtext+0avgdata 1141656maxresident)k\nafter:\n567.03user 4.00system 7:28.23elapsed 127%CPU (0avgtext+0avgdata 1133112maxresident)k\n\nan additional 1% improvement", "tree": {"sha": "4931113b5af4ffd99245a9945a044b5b457989de", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4931113b5af4ffd99245a9945a044b5b457989de"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/13809ffff7022a24b33d93f63a2cbdb6ecd20805", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/13809ffff7022a24b33d93f63a2cbdb6ecd20805", "html_url": "https://github.com/rust-lang/rust/commit/13809ffff7022a24b33d93f63a2cbdb6ecd20805", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/13809ffff7022a24b33d93f63a2cbdb6ecd20805/comments", "author": null, "committer": null, "parents": [{"sha": "8aeaaac6545565345f4df7d24d6421f93f28d698", "url": "https://api.github.com/repos/rust-lang/rust/commits/8aeaaac6545565345f4df7d24d6421f93f28d698", "html_url": "https://github.com/rust-lang/rust/commit/8aeaaac6545565345f4df7d24d6421f93f28d698"}], "stats": {"total": 11, "additions": 5, "deletions": 6}, "files": [{"sha": "69b83b24ffd2179fcfacb30e630f876bee9aa478", "filename": "src/librustc/middle/ty.rs", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/13809ffff7022a24b33d93f63a2cbdb6ecd20805/src%2Flibrustc%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/13809ffff7022a24b33d93f63a2cbdb6ecd20805/src%2Flibrustc%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fty.rs?ref=13809ffff7022a24b33d93f63a2cbdb6ecd20805", "patch": "@@ -3222,13 +3222,12 @@ impl<'tcx> TraitDef<'tcx> {\n                 for &impl_def_id in impls {\n                     f(impl_def_id);\n                 }\n-                return; // we don't need to process the other non-blanket impls\n             }\n-        }\n-\n-        for v in self.nonblanket_impls.borrow().values() {\n-            for &impl_def_id in v {\n-                f(impl_def_id);\n+        } else {\n+            for v in self.nonblanket_impls.borrow().values() {\n+                for &impl_def_id in v {\n+                    f(impl_def_id);\n+                }\n             }\n         }\n     }"}]}