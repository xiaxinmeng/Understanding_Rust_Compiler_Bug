{"sha": "8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyNjFmMmMzN2M3MTgxZmI0YTQwZThmOGQ5ZWFlYmI5NmRlZWE5YmI=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2013-07-31T22:01:54Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2013-07-31T22:02:22Z"}, "message": "test: add more codegen tests, add copyright headers to all.", "tree": {"sha": "94272963248357500cd912bb079e1121824cda6b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/94272963248357500cd912bb079e1121824cda6b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "html_url": "https://github.com/rust-lang/rust/commit/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "66a0b5870d7c1c436b197d744fba5ced2e5f6462", "url": "https://api.github.com/repos/rust-lang/rust/commits/66a0b5870d7c1c436b197d744fba5ced2e5f6462", "html_url": "https://github.com/rust-lang/rust/commit/66a0b5870d7c1c436b197d744fba5ced2e5f6462"}], "stats": {"total": 268, "additions": 268, "deletions": 0}, "files": [{"sha": "9261bddb74788e0d95ea8d905c5679aef8ceaadb", "filename": "src/test/codegen/iterate-over-array.cc", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fiterate-over-array.cc", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fiterate-over-array.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fiterate-over-array.cc?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n #include <stdlib.h>\n #include <assert.h>\n "}, {"sha": "e3bd7f552162805b8503243e35901bcc97008883", "filename": "src/test/codegen/iterate-over-array.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fiterate-over-array.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fiterate-over-array.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fiterate-over-array.rs?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n #[no_mangle]\n fn test(x: &[int]) -> int {\n     let mut y = 0;"}, {"sha": "ce3173ce464b1ed966116053ec5df5acc70f6ba9", "filename": "src/test/codegen/scalar-function-call.cc", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fscalar-function-call.cc", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fscalar-function-call.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fscalar-function-call.cc?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n #include <stdlib.h>\n \n size_t foo(size_t x) {"}, {"sha": "e3631b73c022c4939c567fd9eaeea1e858351633", "filename": "src/test/codegen/scalar-function-call.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fscalar-function-call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fscalar-function-call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fscalar-function-call.rs?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n fn foo(x: int) -> int {\n     x * x\n }"}, {"sha": "db93829c62b86229c3752707f5da0062d6238a0f", "filename": "src/test/codegen/small-dense-int-switch.cc", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.cc", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.cc?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n #include <stdlib.h>\n \n extern \"C\""}, {"sha": "c6bab3da958c1d4eb0c0c3187e8098413e7de24f", "filename": "src/test/codegen/small-dense-int-switch.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.rs?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n #[no_mangle]\n fn test(x: int, y: int) -> int {\n     match x {"}, {"sha": "a81f76eee0bc5c6d0c45469f64c612644f33aeaa", "filename": "src/test/codegen/stack-alloc-string-slice.cc", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.cc", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.cc?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n #include <stddef.h>\n \n struct slice {"}, {"sha": "b776f5a46a72160625e0003361a62c3787678b32", "filename": "src/test/codegen/stack-alloc-string-slice.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.rs?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n #[no_mangle]\n fn test() {\n     let _x = \"hello\";"}, {"sha": "6c03e32b98c4f190d5eb16346abc4760da390a61", "filename": "src/test/codegen/static-method-call-multi.cc", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstatic-method-call-multi.cc", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstatic-method-call-multi.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fstatic-method-call-multi.cc?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -0,0 +1,27 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#include <stdlib.h>\n+\n+struct Struct {\n+  size_t field;\n+  size_t method(size_t x) {\n+\treturn this->field + x;\n+  }\n+};\n+\n+extern \"C\"\n+size_t test(Struct &a,\n+\t\t\tStruct &b,\n+\t\t\tStruct &c,\n+\t\t\tStruct &d,\n+\t\t\tStruct &e) {\n+  return a.method(b.method(c.method(d.method(e.method(1)))));\n+}"}, {"sha": "9cb011a49f82ad1d799a29f9fc8c8dce1d6a52e5", "filename": "src/test/codegen/static-method-call-multi.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstatic-method-call-multi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstatic-method-call-multi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fstatic-method-call-multi.rs?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -0,0 +1,28 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+struct Struct {\n+    field: int\n+}\n+\n+impl Struct {\n+    fn method(&self, x: int) -> int {\n+        self.field + x\n+    }\n+}\n+\n+#[no_mangle]\n+fn test(a: &Struct,\n+        b: &Struct,\n+        c: &Struct,\n+        d: &Struct,\n+        e: &Struct) -> int {\n+    a.method(b.method(c.method(d.method(e.method(1)))))\n+}"}, {"sha": "36cfa4f4d84d4f1e32199c3c01328c8cea7734ac", "filename": "src/test/codegen/static-method-call.cc", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstatic-method-call.cc", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstatic-method-call.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fstatic-method-call.cc?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -0,0 +1,23 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#include <stdlib.h>\n+\n+struct Struct {\n+  size_t field;\n+  size_t method() {\n+\treturn this->field;\n+  }\n+};\n+\n+extern \"C\"\n+size_t test(Struct &s) {\n+  return s.method();\n+}"}, {"sha": "a1cf6d1dda7740616fa48eccdb8751818234097a", "filename": "src/test/codegen/static-method-call.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstatic-method-call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fstatic-method-call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fstatic-method-call.rs?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+struct Struct {\n+    field: int\n+}\n+\n+impl Struct {\n+    fn method(&self) -> int {\n+        self.field\n+    }\n+}\n+\n+#[no_mangle]\n+fn test(s: &Struct) -> int {\n+    s.method()\n+}"}, {"sha": "345f21c56472b09cdfd74a025bdbc106aea599bd", "filename": "src/test/codegen/virtual-method-call-struct-return.cc", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fvirtual-method-call-struct-return.cc", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fvirtual-method-call-struct-return.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fvirtual-method-call-struct-return.cc?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -0,0 +1,25 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#include <stdlib.h>\n+\n+struct Stuff {\n+  size_t a;\n+  double b;\n+};\n+\n+struct Struct {\n+  virtual Stuff method() = 0;\n+};\n+\n+extern \"C\"\n+size_t test(Struct &s) {\n+  return s.method().a;\n+}"}, {"sha": "86d737118d62f3df7a922e3422beac85adff27ed", "filename": "src/test/codegen/virtual-method-call-struct-return.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fvirtual-method-call-struct-return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fvirtual-method-call-struct-return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fvirtual-method-call-struct-return.rs?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -0,0 +1,23 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+struct Stuff {\n+  a: int,\n+  b: f64\n+}\n+\n+trait Trait {\n+    fn method(&self) -> Stuff;\n+}\n+\n+#[no_mangle]\n+fn test(t: &Trait) -> int {\n+    t.method().a\n+}"}, {"sha": "9fcafdf65949934f96d521f2c8f15b9c7833f841", "filename": "src/test/codegen/virtual-method-call.cc", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fvirtual-method-call.cc", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fvirtual-method-call.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fvirtual-method-call.cc?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#include <stdlib.h>\n+\n+struct Struct {\n+  virtual size_t method() = 0;\n+};\n+\n+extern \"C\"\n+size_t test(Struct &s) {\n+  return s.method();\n+}"}, {"sha": "66dd41984a7ce335b987d70925d259240e301b6b", "filename": "src/test/codegen/virtual-method-call.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fvirtual-method-call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb/src%2Ftest%2Fcodegen%2Fvirtual-method-call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fvirtual-method-call.rs?ref=8261f2c37c7181fb4a40e8f8d9eaebb96deea9bb", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+trait Trait {\n+    fn method(&self) -> int;\n+}\n+\n+#[no_mangle]\n+fn test(t: &Trait) -> int {\n+    t.method()\n+}"}]}