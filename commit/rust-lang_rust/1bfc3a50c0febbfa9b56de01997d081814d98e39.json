{"sha": "1bfc3a50c0febbfa9b56de01997d081814d98e39", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFiZmMzYTUwYzBmZWJiZmE5YjU2ZGUwMTk5N2QwODE4MTRkOThlMzk=", "commit": {"author": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2020-12-31T00:18:15Z"}, "committer": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2021-01-04T15:44:27Z"}, "message": "Add a basic test for the trait fuzzy import", "tree": {"sha": "d77dab8213291a6490ce7a6eff6371d2f6602dff", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d77dab8213291a6490ce7a6eff6371d2f6602dff"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1bfc3a50c0febbfa9b56de01997d081814d98e39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1bfc3a50c0febbfa9b56de01997d081814d98e39", "html_url": "https://github.com/rust-lang/rust/commit/1bfc3a50c0febbfa9b56de01997d081814d98e39", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1bfc3a50c0febbfa9b56de01997d081814d98e39/comments", "author": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6f8af890ed9e3998b034c52157baf21db2a78227", "url": "https://api.github.com/repos/rust-lang/rust/commits/6f8af890ed9e3998b034c52157baf21db2a78227", "html_url": "https://github.com/rust-lang/rust/commit/6f8af890ed9e3998b034c52157baf21db2a78227"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "810a4a268b0321537704f9fe8c3fdd22f1bab363", "filename": "crates/hir_def/src/import_map.rs", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/1bfc3a50c0febbfa9b56de01997d081814d98e39/crates%2Fhir_def%2Fsrc%2Fimport_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1bfc3a50c0febbfa9b56de01997d081814d98e39/crates%2Fhir_def%2Fsrc%2Fimport_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2Fsrc%2Fimport_map.rs?ref=1bfc3a50c0febbfa9b56de01997d081814d98e39", "patch": "@@ -748,6 +748,30 @@ mod tests {\n         );\n     }\n \n+    #[test]\n+    fn fuzzy_import_trait() {\n+        let ra_fixture = r#\"\n+        //- /main.rs crate:main deps:dep\n+        //- /dep.rs crate:dep\n+        pub mod fmt {\n+            pub trait Display {\n+                fn fmttt();\n+            }\n+        }\n+    \"#;\n+\n+        check_search(\n+            ra_fixture,\n+            \"main\",\n+            Query::new(\"fmt\".to_string()).search_mode(SearchMode::Fuzzy),\n+            expect![[r#\"\n+                dep::fmt (t)\n+                dep::fmt::Display (t)\n+                dep::fmt::Display::fmttt (f)\n+            \"#]],\n+        );\n+    }\n+\n     #[test]\n     fn search_mode() {\n         let ra_fixture = r#\""}]}