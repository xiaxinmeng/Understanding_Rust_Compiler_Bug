{"sha": "a7f1649fbbcdc2b9904a2614c36b44e917747898", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE3ZjE2NDlmYmJjZGMyYjk5MDRhMjYxNGMzNmI0NGU5MTc3NDc4OTg=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-07-12T20:46:52Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-07-12T20:46:52Z"}, "message": "Rollup merge of #62607 - estebank:this-mem-is-out-of-control, r=petrochenkov\n\nCorrectly break out of recovery loop\n\nFix #61858.", "tree": {"sha": "8da66e7a281a969badf84cb6faf8e0a6bdfdc065", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8da66e7a281a969badf84cb6faf8e0a6bdfdc065"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a7f1649fbbcdc2b9904a2614c36b44e917747898", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdKPG8CRBK7hj4Ov3rIwAAdHIIAECLUnByqoLdOqKiXVXBer3y\nKIrIZD3llVEW4VffDc/K33KhMTGlH986g46IZRByTO641xdD/E+FSvW7l58kVL8a\nO/feZwvS7/29v7hn5yWLHbFJaRbM7FIBUzVa3Dl/fcSFc0zkaTsilOi1vx1cSf56\nnP9haiIzogk35Z5xNS0Kgmr2CpaI8+lPCthDygB+qJjZ1WvSlnUWWEZQLHUbHgVH\nCBMshNS12g5953pV4i0zQcR0ZCCe0d8fgwQnfomdA+Fg1iOxEBfQ2uCPpBWdLyiB\nFLDawSh+uYBZnVjelUoSb47Tx7BDNcYAMWaO5/Qqg0J4Y1fIOsT+MOv3xDgYK9w=\n=KC2u\n-----END PGP SIGNATURE-----\n", "payload": "tree 8da66e7a281a969badf84cb6faf8e0a6bdfdc065\nparent d709e8d9d0c0629eb8727f4feaadb387bfde07c2\nparent 8c5f6907a1ddb1dc19a4163775f087a46ca77c40\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1562964412 +0200\ncommitter GitHub <noreply@github.com> 1562964412 +0200\n\nRollup merge of #62607 - estebank:this-mem-is-out-of-control, r=petrochenkov\n\nCorrectly break out of recovery loop\n\nFix #61858.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a7f1649fbbcdc2b9904a2614c36b44e917747898", "html_url": "https://github.com/rust-lang/rust/commit/a7f1649fbbcdc2b9904a2614c36b44e917747898", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a7f1649fbbcdc2b9904a2614c36b44e917747898/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d709e8d9d0c0629eb8727f4feaadb387bfde07c2", "url": "https://api.github.com/repos/rust-lang/rust/commits/d709e8d9d0c0629eb8727f4feaadb387bfde07c2", "html_url": "https://github.com/rust-lang/rust/commit/d709e8d9d0c0629eb8727f4feaadb387bfde07c2"}, {"sha": "8c5f6907a1ddb1dc19a4163775f087a46ca77c40", "url": "https://api.github.com/repos/rust-lang/rust/commits/8c5f6907a1ddb1dc19a4163775f087a46ca77c40", "html_url": "https://github.com/rust-lang/rust/commit/8c5f6907a1ddb1dc19a4163775f087a46ca77c40"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "e0633f73ac4654ffa8e9ec90134dddce25323dd5", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a7f1649fbbcdc2b9904a2614c36b44e917747898/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a7f1649fbbcdc2b9904a2614c36b44e917747898/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=a7f1649fbbcdc2b9904a2614c36b44e917747898", "patch": "@@ -4629,6 +4629,9 @@ impl<'a> Parser<'a> {\n     fn parse_block_tail(&mut self, lo: Span, s: BlockCheckMode) -> PResult<'a, P<Block>> {\n         let mut stmts = vec![];\n         while !self.eat(&token::CloseDelim(token::Brace)) {\n+            if self.token == token::Eof {\n+                break;\n+            }\n             let stmt = match self.parse_full_stmt(false) {\n                 Err(mut err) => {\n                     err.emit();\n@@ -4643,8 +4646,6 @@ impl<'a> Parser<'a> {\n             };\n             if let Some(stmt) = stmt {\n                 stmts.push(stmt);\n-            } else if self.token == token::Eof {\n-                break;\n             } else {\n                 // Found only `;` or `}`.\n                 continue;"}, {"sha": "6c3b56586c4ecd2d60eaf783caaaab214d55c82f", "filename": "src/test/ui/issues/issue-61858.rs", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a7f1649fbbcdc2b9904a2614c36b44e917747898/src%2Ftest%2Fui%2Fissues%2Fissue-61858.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a7f1649fbbcdc2b9904a2614c36b44e917747898/src%2Ftest%2Fui%2Fissues%2Fissue-61858.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-61858.rs?ref=a7f1649fbbcdc2b9904a2614c36b44e917747898", "patch": "@@ -0,0 +1,3 @@\n+fn main() {\n+    (if foobar) //~ ERROR expected `{`, found `)`\n+}"}, {"sha": "ea2ec3d013f59e9d081b7d10fd0e1090e0d59cb5", "filename": "src/test/ui/issues/issue-61858.stderr", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/a7f1649fbbcdc2b9904a2614c36b44e917747898/src%2Ftest%2Fui%2Fissues%2Fissue-61858.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a7f1649fbbcdc2b9904a2614c36b44e917747898/src%2Ftest%2Fui%2Fissues%2Fissue-61858.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-61858.stderr?ref=a7f1649fbbcdc2b9904a2614c36b44e917747898", "patch": "@@ -0,0 +1,10 @@\n+error: expected `{`, found `)`\n+  --> $DIR/issue-61858.rs:2:15\n+   |\n+LL |     (if foobar)\n+   |      --       ^ expected `{`\n+   |      |\n+   |      this `if` statement has a condition, but no block\n+\n+error: aborting due to previous error\n+"}]}