{"sha": "cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkNTEwYjMzODIxYTBiM2U3YWU3ZGQ1NzZjMGQyMmQzNTMxZGRiMGI=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-03-20T22:04:55Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-03-22T15:48:20Z"}, "message": "std: Remove the get() method from RefCell wrappers\n\nThis method has been entirely obsoleted by autoderef, so there's no reason for\nits existence.", "tree": {"sha": "e9024478d18c2d166514e47132abdf0cbee07e4a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e9024478d18c2d166514e47132abdf0cbee07e4a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b", "html_url": "https://github.com/rust-lang/rust/commit/cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e233a43f5a0e14ceb322b955b16c8967adb2f4a8", "url": "https://api.github.com/repos/rust-lang/rust/commits/e233a43f5a0e14ceb322b955b16c8967adb2f4a8", "html_url": "https://github.com/rust-lang/rust/commit/e233a43f5a0e14ceb322b955b16c8967adb2f4a8"}], "stats": {"total": 33, "additions": 6, "deletions": 27}, "files": [{"sha": "d09b31faa250ba8c6f535118a6f865aba9bbaa3d", "filename": "src/libstd/cell.rs", "status": "modified", "additions": 4, "deletions": 25, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b/src%2Flibstd%2Fcell.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b/src%2Flibstd%2Fcell.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcell.rs?ref=cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b", "patch": "@@ -176,8 +176,7 @@ impl<T> RefCell<T> {\n     /// Fails if the value is currently borrowed.\n     #[inline]\n     pub fn set(&self, value: T) {\n-        let mut reference = self.borrow_mut();\n-        *reference.get() = value;\n+        *self.borrow_mut() = value;\n     }\n }\n \n@@ -189,23 +188,19 @@ impl<T:Clone> RefCell<T> {\n     /// Fails if the value is currently mutably borrowed.\n     #[inline]\n     pub fn get(&self) -> T {\n-        let reference = self.borrow();\n-        (*reference.get()).clone()\n+        (*self.borrow()).clone()\n     }\n }\n \n impl<T: Clone> Clone for RefCell<T> {\n     fn clone(&self) -> RefCell<T> {\n-        let x = self.borrow();\n-        RefCell::new(x.get().clone())\n+        RefCell::new(self.get())\n     }\n }\n \n impl<T: Eq> Eq for RefCell<T> {\n     fn eq(&self, other: &RefCell<T>) -> bool {\n-        let a = self.borrow();\n-        let b = other.borrow();\n-        a.get() == b.get()\n+        *self.borrow() == *other.borrow()\n     }\n }\n \n@@ -222,14 +217,6 @@ impl<'b, T> Drop for Ref<'b, T> {\n     }\n }\n \n-impl<'b, T> Ref<'b, T> {\n-    /// Retrieve an immutable reference to the stored value.\n-    #[inline]\n-    pub fn get<'a>(&'a self) -> &'a T {\n-        unsafe{ &*self.parent.value.get() }\n-    }\n-}\n-\n impl<'b, T> Deref<T> for Ref<'b, T> {\n     #[inline]\n     fn deref<'a>(&'a self) -> &'a T {\n@@ -250,14 +237,6 @@ impl<'b, T> Drop for RefMut<'b, T> {\n     }\n }\n \n-impl<'b, T> RefMut<'b, T> {\n-    /// Retrieve a mutable reference to the stored value.\n-    #[inline]\n-    pub fn get<'a>(&'a mut self) -> &'a mut T {\n-        unsafe{ &mut *self.parent.value.get() }\n-    }\n-}\n-\n impl<'b, T> Deref<T> for RefMut<'b, T> {\n     #[inline]\n     fn deref<'a>(&'a self) -> &'a T {"}, {"sha": "490b3068ddab75c596480d4a2abbdc3637ec2ccb", "filename": "src/libstd/rc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b/src%2Flibstd%2Frc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b/src%2Flibstd%2Frc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frc.rs?ref=cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b", "patch": "@@ -284,7 +284,7 @@ mod tests {\n \n         let a = Rc::new(Cycle { x: RefCell::new(None) });\n         let b = a.clone().downgrade();\n-        *a.deref().x.borrow_mut().get() = Some(b);\n+        *a.deref().x.borrow_mut() = Some(b);\n \n         // hopefully we don't double-free (or leak)...\n     }"}, {"sha": "f6d4579156ec7a585d679ec51aa4aa18d0d6704d", "filename": "src/libstd/rt/task.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b/src%2Flibstd%2Frt%2Ftask.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b/src%2Flibstd%2Frt%2Ftask.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frt%2Ftask.rs?ref=cd510b33821a0b3e7ae7dd576c0d22d3531ddb0b", "patch": "@@ -471,7 +471,7 @@ mod test {\n \n         {\n             let mut a = a.borrow_mut();\n-            a.get().next = Some(b);\n+            a.next = Some(b);\n         }\n     }\n "}]}