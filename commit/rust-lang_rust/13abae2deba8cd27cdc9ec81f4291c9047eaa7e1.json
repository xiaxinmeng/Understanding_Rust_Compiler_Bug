{"sha": "13abae2deba8cd27cdc9ec81f4291c9047eaa7e1", "node_id": "C_kwDOAAsO6NoAKDEzYWJhZTJkZWJhOGNkMjdjZGM5ZWM4MWY0MjkxYzkwNDdlYWE3ZTE", "commit": {"author": {"name": "nidnogg", "email": "henriquevt98@gmail.com", "date": "2022-08-22T03:02:36Z"}, "committer": {"name": "nidnogg", "email": "henriquevt98@gmail.com", "date": "2022-08-22T03:02:36Z"}, "message": "Switched errors to diags according to latest PRs", "tree": {"sha": "b5ee232797c5858b2edd8bb1731aae8ac11599cc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b5ee232797c5858b2edd8bb1731aae8ac11599cc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/13abae2deba8cd27cdc9ec81f4291c9047eaa7e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/13abae2deba8cd27cdc9ec81f4291c9047eaa7e1", "html_url": "https://github.com/rust-lang/rust/commit/13abae2deba8cd27cdc9ec81f4291c9047eaa7e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/13abae2deba8cd27cdc9ec81f4291c9047eaa7e1/comments", "author": {"login": "nidnogg", "id": 17261185, "node_id": "MDQ6VXNlcjE3MjYxMTg1", "avatar_url": "https://avatars.githubusercontent.com/u/17261185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nidnogg", "html_url": "https://github.com/nidnogg", "followers_url": "https://api.github.com/users/nidnogg/followers", "following_url": "https://api.github.com/users/nidnogg/following{/other_user}", "gists_url": "https://api.github.com/users/nidnogg/gists{/gist_id}", "starred_url": "https://api.github.com/users/nidnogg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nidnogg/subscriptions", "organizations_url": "https://api.github.com/users/nidnogg/orgs", "repos_url": "https://api.github.com/users/nidnogg/repos", "events_url": "https://api.github.com/users/nidnogg/events{/privacy}", "received_events_url": "https://api.github.com/users/nidnogg/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nidnogg", "id": 17261185, "node_id": "MDQ6VXNlcjE3MjYxMTg1", "avatar_url": "https://avatars.githubusercontent.com/u/17261185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nidnogg", "html_url": "https://github.com/nidnogg", "followers_url": "https://api.github.com/users/nidnogg/followers", "following_url": "https://api.github.com/users/nidnogg/following{/other_user}", "gists_url": "https://api.github.com/users/nidnogg/gists{/gist_id}", "starred_url": "https://api.github.com/users/nidnogg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nidnogg/subscriptions", "organizations_url": "https://api.github.com/users/nidnogg/orgs", "repos_url": "https://api.github.com/users/nidnogg/repos", "events_url": "https://api.github.com/users/nidnogg/events{/privacy}", "received_events_url": "https://api.github.com/users/nidnogg/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0a58b26e8a296a4f03d55ae0469ce4da9a6080a6", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a58b26e8a296a4f03d55ae0469ce4da9a6080a6", "html_url": "https://github.com/rust-lang/rust/commit/0a58b26e8a296a4f03d55ae0469ce4da9a6080a6"}], "stats": {"total": 24, "additions": 12, "deletions": 12}, "files": [{"sha": "c6e00219582514c92160779ac0ce7f6f0be1419a", "filename": "compiler/rustc_const_eval/src/errors.rs", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/13abae2deba8cd27cdc9ec81f4291c9047eaa7e1/compiler%2Frustc_const_eval%2Fsrc%2Ferrors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/13abae2deba8cd27cdc9ec81f4291c9047eaa7e1/compiler%2Frustc_const_eval%2Fsrc%2Ferrors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Ferrors.rs?ref=13abae2deba8cd27cdc9ec81f4291c9047eaa7e1", "patch": "@@ -89,31 +89,31 @@ pub(crate) struct TransientMutBorrowErrRaw {\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::max_num_nodes_in_const)]\n+#[diag(const_eval::max_num_nodes_in_const)]\n pub(crate) struct MaxNumNodesInConstErr {\n     #[primary_span]\n     pub span: Span,\n     pub s: String,\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::unallowed_fn_pointer_call)]\n+#[diag(const_eval::unallowed_fn_pointer_call)]\n pub(crate) struct UnallowedFnPointerCall {\n     #[primary_span]\n     pub span: Span,\n     pub kind: ConstContext,\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::unstable_const_fn)]\n+#[diag(const_eval::unstable_const_fn)]\n pub(crate) struct UnstableConstFn {\n     #[primary_span]\n     pub span: Span,\n     pub def_path: String,\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::unallowed_mutable_refs, code = \"E0764\")]\n+#[diag(const_eval::unallowed_mutable_refs, code = \"E0764\")]\n pub(crate) struct UnallowedMutableRefs {\n     #[primary_span]\n     pub span: Span,\n@@ -123,7 +123,7 @@ pub(crate) struct UnallowedMutableRefs {\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::unallowed_mutable_refs_raw, code = \"E0764\")]\n+#[diag(const_eval::unallowed_mutable_refs_raw, code = \"E0764\")]\n pub(crate) struct UnallowedMutableRefsRaw {\n     #[primary_span]\n     pub span: Span,\n@@ -132,15 +132,15 @@ pub(crate) struct UnallowedMutableRefsRaw {\n     pub teach: Option<()>,\n }\n #[derive(SessionDiagnostic)]\n-#[error(const_eval::non_const_fmt_macro_call, code = \"E0015\")]\n+#[diag(const_eval::non_const_fmt_macro_call, code = \"E0015\")]\n pub(crate) struct NonConstFmtMacroCall {\n     #[primary_span]\n     pub span: Span,\n     pub kind: ConstContext,\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::non_const_fn_call, code = \"E0015\")]\n+#[diag(const_eval::non_const_fn_call, code = \"E0015\")]\n pub(crate) struct NonConstFnCall {\n     #[primary_span]\n     pub span: Span,\n@@ -149,15 +149,15 @@ pub(crate) struct NonConstFnCall {\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::unallowed_op_in_const_context)]\n+#[diag(const_eval::unallowed_op_in_const_context)]\n pub(crate) struct UnallowedOpInConstContext {\n     #[primary_span]\n     pub span: Span,\n     pub msg: String,\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::unallowed_heap_allocations, code = \"E0010\")]\n+#[diag(const_eval::unallowed_heap_allocations, code = \"E0010\")]\n pub(crate) struct UnallowedHeapAllocations {\n     #[primary_span]\n     #[label]\n@@ -168,15 +168,15 @@ pub(crate) struct UnallowedHeapAllocations {\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::unallowed_inline_asm, code = \"E0015\")]\n+#[diag(const_eval::unallowed_inline_asm, code = \"E0015\")]\n pub(crate) struct UnallowedInlineAsm {\n     #[primary_span]\n     pub span: Span,\n     pub kind: ConstContext,\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::interior_mutable_data_refer, code = \"E0492\")]\n+#[diag(const_eval::interior_mutable_data_refer, code = \"E0492\")]\n pub(crate) struct InteriorMutableDataRefer {\n     #[primary_span]\n     #[label]\n@@ -189,7 +189,7 @@ pub(crate) struct InteriorMutableDataRefer {\n }\n \n #[derive(SessionDiagnostic)]\n-#[error(const_eval::interior_mutability_borrow)]\n+#[diag(const_eval::interior_mutability_borrow)]\n pub(crate) struct InteriorMutabilityBorrow {\n     #[primary_span]\n     pub span: Span,"}]}