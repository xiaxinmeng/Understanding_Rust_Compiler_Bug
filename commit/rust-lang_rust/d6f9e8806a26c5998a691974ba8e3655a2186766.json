{"sha": "d6f9e8806a26c5998a691974ba8e3655a2186766", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ2ZjllODgwNmEyNmM1OTk4YTY5MTk3NGJhOGUzNjU1YTIxODY3NjY=", "commit": {"author": {"name": "Zac Pullar-Strecker", "email": "zacmps@gmail.com", "date": "2020-06-30T09:37:42Z"}, "committer": {"name": "Zac Pullar-Strecker", "email": "zacmps@gmail.com", "date": "2020-06-30T09:42:44Z"}, "message": "Remove unintentional changes", "tree": {"sha": "b25b2a853e08a52c443dc25ddbe1aa55e146a6a5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b25b2a853e08a52c443dc25ddbe1aa55e146a6a5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d6f9e8806a26c5998a691974ba8e3655a2186766", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d6f9e8806a26c5998a691974ba8e3655a2186766", "html_url": "https://github.com/rust-lang/rust/commit/d6f9e8806a26c5998a691974ba8e3655a2186766", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d6f9e8806a26c5998a691974ba8e3655a2186766/comments", "author": {"login": "zacps", "id": 9827696, "node_id": "MDQ6VXNlcjk4Mjc2OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9827696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zacps", "html_url": "https://github.com/zacps", "followers_url": "https://api.github.com/users/zacps/followers", "following_url": "https://api.github.com/users/zacps/following{/other_user}", "gists_url": "https://api.github.com/users/zacps/gists{/gist_id}", "starred_url": "https://api.github.com/users/zacps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zacps/subscriptions", "organizations_url": "https://api.github.com/users/zacps/orgs", "repos_url": "https://api.github.com/users/zacps/repos", "events_url": "https://api.github.com/users/zacps/events{/privacy}", "received_events_url": "https://api.github.com/users/zacps/received_events", "type": "User", "site_admin": false}, "committer": {"login": "zacps", "id": 9827696, "node_id": "MDQ6VXNlcjk4Mjc2OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9827696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zacps", "html_url": "https://github.com/zacps", "followers_url": "https://api.github.com/users/zacps/followers", "following_url": "https://api.github.com/users/zacps/following{/other_user}", "gists_url": "https://api.github.com/users/zacps/gists{/gist_id}", "starred_url": "https://api.github.com/users/zacps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zacps/subscriptions", "organizations_url": "https://api.github.com/users/zacps/orgs", "repos_url": "https://api.github.com/users/zacps/repos", "events_url": "https://api.github.com/users/zacps/events{/privacy}", "received_events_url": "https://api.github.com/users/zacps/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dc32f756e0958368648ac151aab1bde40102a506", "url": "https://api.github.com/repos/rust-lang/rust/commits/dc32f756e0958368648ac151aab1bde40102a506", "html_url": "https://github.com/rust-lang/rust/commit/dc32f756e0958368648ac151aab1bde40102a506"}], "stats": {"total": 29, "additions": 13, "deletions": 16}, "files": [{"sha": "459f82f3a57a5cea8873959708d4dd497a116d1e", "filename": "Cargo.lock", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d6f9e8806a26c5998a691974ba8e3655a2186766/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/d6f9e8806a26c5998a691974ba8e3655a2186766/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=d6f9e8806a26c5998a691974ba8e3655a2186766", "patch": "@@ -1163,7 +1163,6 @@ dependencies = [\n  \"ra_ide_db\",\n  \"ra_parser\",\n  \"ra_prof\",\n- \"ra_project_model\",\n  \"ra_ssr\",\n  \"ra_syntax\",\n  \"ra_text_edit\","}, {"sha": "56b2481e606c7acb660cc443793442931d027a71", "filename": "crates/ra_hir/src/code_model.rs", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/d6f9e8806a26c5998a691974ba8e3655a2186766/crates%2Fra_hir%2Fsrc%2Fcode_model.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6f9e8806a26c5998a691974ba8e3655a2186766/crates%2Fra_hir%2Fsrc%2Fcode_model.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fcode_model.rs?ref=d6f9e8806a26c5998a691974ba8e3655a2186766", "patch": "@@ -186,17 +186,18 @@ impl ModuleDef {\n         module.visibility_of(db, self)\n     }\n \n-    pub fn name(&self, db: &dyn HirDatabase) -> Option<Name> {\n+    pub fn name(self, db: &dyn HirDatabase) -> Option<Name> {\n         match self {\n-            ModuleDef::Module(m) => m.name(db),\n-            ModuleDef::Function(m) => Some(m.name(db)),\n-            ModuleDef::Adt(m) => Some(m.name(db)),\n-            ModuleDef::EnumVariant(m) => Some(m.name(db)),\n-            ModuleDef::Const(m) => m.name(db),\n-            ModuleDef::Static(m) => m.name(db),\n-            ModuleDef::Trait(m) => Some(m.name(db)),\n-            ModuleDef::TypeAlias(m) => Some(m.name(db)),\n-            ModuleDef::BuiltinType(m) => Some(m.as_name()),\n+            ModuleDef::Adt(it) => Some(it.name(db)),\n+            ModuleDef::Trait(it) => Some(it.name(db)),\n+            ModuleDef::Function(it) => Some(it.name(db)),\n+            ModuleDef::EnumVariant(it) => Some(it.name(db)),\n+            ModuleDef::TypeAlias(it) => Some(it.name(db)),\n+            ModuleDef::Module(it) => it.name(db),\n+            ModuleDef::Const(it) => it.name(db),\n+            ModuleDef::Static(it) => it.name(db),\n+\n+            ModuleDef::BuiltinType(it) => Some(it.as_name()),\n         }\n     }\n "}, {"sha": "d0eb018d534489f17c837ea0bb393aa87eeaa7e4", "filename": "crates/ra_ide/Cargo.toml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d6f9e8806a26c5998a691974ba8e3655a2186766/crates%2Fra_ide%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/d6f9e8806a26c5998a691974ba8e3655a2186766/crates%2Fra_ide%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2FCargo.toml?ref=d6f9e8806a26c5998a691974ba8e3655a2186766", "patch": "@@ -35,7 +35,6 @@ ra_prof = { path = \"../ra_prof\" }\n test_utils = { path = \"../test_utils\" }\n ra_assists = { path = \"../ra_assists\" }\n ra_ssr = { path = \"../ra_ssr\" }\n-ra_project_model = { path = \"../ra_project_model\" }\n ra_hir_def = { path = \"../ra_hir_def\" }\n ra_tt = { path = \"../ra_tt\" }\n ra_parser = { path = \"../ra_parser\" }"}, {"sha": "82cefbb29a77882e917c2702f9560610a53e0a9e", "filename": "crates/ra_proc_macro_srv/src/tests/mod.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d6f9e8806a26c5998a691974ba8e3655a2186766/crates%2Fra_proc_macro_srv%2Fsrc%2Ftests%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6f9e8806a26c5998a691974ba8e3655a2186766/crates%2Fra_proc_macro_srv%2Fsrc%2Ftests%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_proc_macro_srv%2Fsrc%2Ftests%2Fmod.rs?ref=d6f9e8806a26c5998a691974ba8e3655a2186766", "patch": "@@ -6,7 +6,6 @@ use test_utils::assert_eq_text;\n use utils::*;\n \n #[test]\n-#[ignore]\n fn test_derive_serialize_proc_macro() {\n     assert_expand(\n         \"serde_derive\",\n@@ -18,7 +17,6 @@ fn test_derive_serialize_proc_macro() {\n }\n \n #[test]\n-#[ignore]\n fn test_derive_serialize_proc_macro_failed() {\n     assert_expand(\n         \"serde_derive\","}, {"sha": "9b766457679f58d4a0b46605f489329b3c791915", "filename": "crates/ra_syntax/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d6f9e8806a26c5998a691974ba8e3655a2186766/crates%2Fra_syntax%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6f9e8806a26c5998a691974ba8e3655a2186766/crates%2Fra_syntax%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Flib.rs?ref=d6f9e8806a26c5998a691974ba8e3655a2186766", "patch": "@@ -47,7 +47,7 @@ use crate::syntax_node::GreenNode;\n pub use crate::{\n     algo::InsertPosition,\n     ast::{AstNode, AstToken},\n-    parsing::{lex_single_syntax_kind, lex_single_valid_syntax_kind, parse_text, tokenize, Token},\n+    parsing::{lex_single_syntax_kind, lex_single_valid_syntax_kind, tokenize, Token},\n     ptr::{AstPtr, SyntaxNodePtr},\n     syntax_error::SyntaxError,\n     syntax_node::{"}, {"sha": "0ed3c20ef928865f2f93a1065bc1a0ff45de0a8e", "filename": "crates/ra_syntax/src/parsing.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d6f9e8806a26c5998a691974ba8e3655a2186766/crates%2Fra_syntax%2Fsrc%2Fparsing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6f9e8806a26c5998a691974ba8e3655a2186766/crates%2Fra_syntax%2Fsrc%2Fparsing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fparsing.rs?ref=d6f9e8806a26c5998a691974ba8e3655a2186766", "patch": "@@ -15,7 +15,7 @@ pub use lexer::*;\n pub(crate) use self::reparsing::incremental_reparse;\n use ra_parser::SyntaxKind;\n \n-pub fn parse_text(text: &str) -> (GreenNode, Vec<SyntaxError>) {\n+pub(crate) fn parse_text(text: &str) -> (GreenNode, Vec<SyntaxError>) {\n     let (tokens, lexer_errors) = tokenize(&text);\n \n     let mut token_source = TextTokenSource::new(text, &tokens);"}]}