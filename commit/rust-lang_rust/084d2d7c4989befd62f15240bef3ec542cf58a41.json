{"sha": "084d2d7c4989befd62f15240bef3ec542cf58a41", "node_id": "C_kwDOAAsO6NoAKDA4NGQyZDdjNDk4OWJlZmQ2MmYxNTI0MGJlZjNlYzU0MmNmNThhNDE", "commit": {"author": {"name": "Connor Horman", "email": "chorman64@gmail.com", "date": "2022-05-17T10:34:58Z"}, "committer": {"name": "Connor Horman", "email": "chorman64@gmail.com", "date": "2022-05-17T10:34:58Z"}, "message": "Handle tmm_reg in rustc_codegen_gcc", "tree": {"sha": "ca6e452b6814196bb468ba6223c2916981ac6c48", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ca6e452b6814196bb468ba6223c2916981ac6c48"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/084d2d7c4989befd62f15240bef3ec542cf58a41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/084d2d7c4989befd62f15240bef3ec542cf58a41", "html_url": "https://github.com/rust-lang/rust/commit/084d2d7c4989befd62f15240bef3ec542cf58a41", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/084d2d7c4989befd62f15240bef3ec542cf58a41/comments", "author": {"login": "chorman0773", "id": 5026283, "node_id": "MDQ6VXNlcjUwMjYyODM=", "avatar_url": "https://avatars.githubusercontent.com/u/5026283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chorman0773", "html_url": "https://github.com/chorman0773", "followers_url": "https://api.github.com/users/chorman0773/followers", "following_url": "https://api.github.com/users/chorman0773/following{/other_user}", "gists_url": "https://api.github.com/users/chorman0773/gists{/gist_id}", "starred_url": "https://api.github.com/users/chorman0773/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chorman0773/subscriptions", "organizations_url": "https://api.github.com/users/chorman0773/orgs", "repos_url": "https://api.github.com/users/chorman0773/repos", "events_url": "https://api.github.com/users/chorman0773/events{/privacy}", "received_events_url": "https://api.github.com/users/chorman0773/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chorman0773", "id": 5026283, "node_id": "MDQ6VXNlcjUwMjYyODM=", "avatar_url": "https://avatars.githubusercontent.com/u/5026283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chorman0773", "html_url": "https://github.com/chorman0773", "followers_url": "https://api.github.com/users/chorman0773/followers", "following_url": "https://api.github.com/users/chorman0773/following{/other_user}", "gists_url": "https://api.github.com/users/chorman0773/gists{/gist_id}", "starred_url": "https://api.github.com/users/chorman0773/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chorman0773/subscriptions", "organizations_url": "https://api.github.com/users/chorman0773/orgs", "repos_url": "https://api.github.com/users/chorman0773/repos", "events_url": "https://api.github.com/users/chorman0773/events{/privacy}", "received_events_url": "https://api.github.com/users/chorman0773/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dc824452a9cb52f5eba09d768079bdbb68cbe3c8", "url": "https://api.github.com/repos/rust-lang/rust/commits/dc824452a9cb52f5eba09d768079bdbb68cbe3c8", "html_url": "https://github.com/rust-lang/rust/commit/dc824452a9cb52f5eba09d768079bdbb68cbe3c8"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "20d91b80e8c52821904c449c572e2fa681225c8c", "filename": "src/asm.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/084d2d7c4989befd62f15240bef3ec542cf58a41/src%2Fasm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/084d2d7c4989befd62f15240bef3ec542cf58a41/src%2Fasm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fasm.rs?ref=084d2d7c4989befd62f15240bef3ec542cf58a41", "patch": "@@ -592,7 +592,7 @@ fn reg_to_gcc(reg: InlineAsmRegOrRegClass) -> ConstraintOrRegister {\n             InlineAsmRegClass::X86(X86InlineAsmRegClass::kreg0) => unimplemented!(),\n             InlineAsmRegClass::Wasm(WasmInlineAsmRegClass::local) => unimplemented!(),\n             InlineAsmRegClass::X86(\n-                X86InlineAsmRegClass::x87_reg | X86InlineAsmRegClass::mmx_reg,\n+                X86InlineAsmRegClass::x87_reg | X86InlineAsmRegClass::mmx_reg | X86InlineAsmRegClass::tmm_reg,\n             ) => unreachable!(\"clobber-only\"),\n             InlineAsmRegClass::SpirV(SpirVInlineAsmRegClass::reg) => {\n                 bug!(\"GCC backend does not support SPIR-V\")\n@@ -656,6 +656,7 @@ fn dummy_output_type<'gcc, 'tcx>(cx: &CodegenCx<'gcc, 'tcx>, reg: InlineAsmRegCl\n         InlineAsmRegClass::X86(X86InlineAsmRegClass::x87_reg) => unimplemented!(),\n         InlineAsmRegClass::X86(X86InlineAsmRegClass::kreg) => cx.type_i16(),\n         InlineAsmRegClass::X86(X86InlineAsmRegClass::kreg0) => cx.type_i16(),\n+        InlineAsmRegClass::X86(X86InlineAsmRegClass::tmm_reg) => unimplemented!(),\n         InlineAsmRegClass::Wasm(WasmInlineAsmRegClass::local) => cx.type_i32(),\n         InlineAsmRegClass::SpirV(SpirVInlineAsmRegClass::reg) => {\n             bug!(\"LLVM backend does not support SPIR-V\")\n@@ -787,7 +788,7 @@ fn modifier_to_gcc(arch: InlineAsmArch, reg: InlineAsmRegClass, modifier: Option\n         },\n         InlineAsmRegClass::X86(X86InlineAsmRegClass::kreg) => None,\n         InlineAsmRegClass::X86(X86InlineAsmRegClass::kreg0) => None,\n-        InlineAsmRegClass::X86(X86InlineAsmRegClass::x87_reg | X86InlineAsmRegClass::mmx_reg) => {\n+        InlineAsmRegClass::X86(X86InlineAsmRegClass::x87_reg | X86InlineAsmRegClass::mmx_reg | X86InlineAsmRegClass::tmm_reg) => {\n             unreachable!(\"clobber-only\")\n         }\n         InlineAsmRegClass::Wasm(WasmInlineAsmRegClass::local) => unimplemented!(),"}]}