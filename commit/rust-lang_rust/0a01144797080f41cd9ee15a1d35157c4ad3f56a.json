{"sha": "0a01144797080f41cd9ee15a1d35157c4ad3f56a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBhMDExNDQ3OTcwODBmNDFjZDllZTE1YTFkMzUxNTdjNGFkM2Y1NmE=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-10-14T09:27:16Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-10-14T09:27:16Z"}, "message": "Use trans_expr_save_in instead of trans_expr when appropriate\n\nThis guards against passing a save_in destination to nil or bot-typed things.", "tree": {"sha": "c44838127e8a0b96c2edd4a88690fbdd6ff8ba94", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c44838127e8a0b96c2edd4a88690fbdd6ff8ba94"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0a01144797080f41cd9ee15a1d35157c4ad3f56a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0a01144797080f41cd9ee15a1d35157c4ad3f56a", "html_url": "https://github.com/rust-lang/rust/commit/0a01144797080f41cd9ee15a1d35157c4ad3f56a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0a01144797080f41cd9ee15a1d35157c4ad3f56a/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "06257d66e7654660e98bab1a63dea9f0c5bd0ec1", "url": "https://api.github.com/repos/rust-lang/rust/commits/06257d66e7654660e98bab1a63dea9f0c5bd0ec1", "html_url": "https://github.com/rust-lang/rust/commit/06257d66e7654660e98bab1a63dea9f0c5bd0ec1"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "7b7926a8300f07c7b4382220ecd3a53095bab7c0", "filename": "src/comp/middle/trans.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0a01144797080f41cd9ee15a1d35157c4ad3f56a/src%2Fcomp%2Fmiddle%2Ftrans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a01144797080f41cd9ee15a1d35157c4ad3f56a/src%2Fcomp%2Fmiddle%2Ftrans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans.rs?ref=0a01144797080f41cd9ee15a1d35157c4ad3f56a", "patch": "@@ -4272,7 +4272,7 @@ fn trans_temp_lval(bcx: @block_ctxt, e: @ast::expr) -> lval_result {\n             ret {bcx: bcx, val: *cell, kind: temporary};\n         } else {\n             let {bcx, val: scratch} = alloc_ty(bcx, ty);\n-            bcx = trans_expr(bcx, e, save_in(scratch));\n+            bcx = trans_expr_save_in(bcx, e, scratch);\n             add_clean_temp(bcx, scratch, ty);\n             ret {bcx: bcx, val: scratch, kind: temporary};\n         }"}, {"sha": "25b838957fc87f6266f8c702068e4130fee01d15", "filename": "src/comp/middle/trans_objects.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0a01144797080f41cd9ee15a1d35157c4ad3f56a/src%2Fcomp%2Fmiddle%2Ftrans_objects.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a01144797080f41cd9ee15a1d35157c4ad3f56a/src%2Fcomp%2Fmiddle%2Ftrans_objects.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans_objects.rs?ref=0a01144797080f41cd9ee15a1d35157c4ad3f56a", "patch": "@@ -370,7 +370,7 @@ fn trans_anon_obj(bcx: @block_ctxt, sp: span, anon_obj: ast::anon_obj,\n             check type_is_tup_like(bcx, body_ty);\n             let {bcx: cx, val: body_inner_obj} = GEP_tup_like\n                 (bcx, body_ty, body, [0, abi::obj_body_elt_inner_obj]);\n-            bcx = trans_expr(cx, e, save_in(body_inner_obj));\n+            bcx = trans_expr_save_in(cx, e, body_inner_obj);\n           }\n         }\n         revoke_clean(bcx, box);"}]}