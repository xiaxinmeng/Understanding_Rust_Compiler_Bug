{"sha": "13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEzYzhlZGZhMmVhOGYzMDgzZGZhZGRhNDIzNGMyYjQ4ZDU3YTFjNmU=", "commit": {"author": {"name": "Flavio Percoco", "email": "flaper87@gmail.com", "date": "2014-04-15T20:43:24Z"}, "committer": {"name": "Flavio Percoco", "email": "flaper87@gmail.com", "date": "2014-04-23T16:19:19Z"}, "message": "rustc: remove usage of root_map from astencode", "tree": {"sha": "341c5d20596233a67a824f1ddf742db55006770c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/341c5d20596233a67a824f1ddf742db55006770c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e", "html_url": "https://github.com/rust-lang/rust/commit/13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e/comments", "author": {"login": "flaper87", "id": 13816, "node_id": "MDQ6VXNlcjEzODE2", "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flaper87", "html_url": "https://github.com/flaper87", "followers_url": "https://api.github.com/users/flaper87/followers", "following_url": "https://api.github.com/users/flaper87/following{/other_user}", "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}", "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions", "organizations_url": "https://api.github.com/users/flaper87/orgs", "repos_url": "https://api.github.com/users/flaper87/repos", "events_url": "https://api.github.com/users/flaper87/events{/privacy}", "received_events_url": "https://api.github.com/users/flaper87/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flaper87", "id": 13816, "node_id": "MDQ6VXNlcjEzODE2", "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flaper87", "html_url": "https://github.com/flaper87", "followers_url": "https://api.github.com/users/flaper87/followers", "following_url": "https://api.github.com/users/flaper87/following{/other_user}", "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}", "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions", "organizations_url": "https://api.github.com/users/flaper87/orgs", "repos_url": "https://api.github.com/users/flaper87/repos", "events_url": "https://api.github.com/users/flaper87/events{/privacy}", "received_events_url": "https://api.github.com/users/flaper87/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "71f054ddd02051928e8e60356ecd95cb0b3f64e6", "url": "https://api.github.com/repos/rust-lang/rust/commits/71f054ddd02051928e8e60356ecd95cb0b3f64e6", "html_url": "https://github.com/rust-lang/rust/commit/71f054ddd02051928e8e60356ecd95cb0b3f64e6"}], "stats": {"total": 14, "additions": 4, "deletions": 10}, "files": [{"sha": "ebac18086c03f628f8f52d032ee899d3e10f73b5", "filename": "src/librustc/driver/driver.rs", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e/src%2Flibrustc%2Fdriver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e/src%2Flibrustc%2Fdriver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdriver%2Fdriver.rs?ref=13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e", "patch": "@@ -359,11 +359,10 @@ pub fn phase_3_run_analysis_passes(sess: Session,\n     time(time_passes, \"liveness checking\", (), |_|\n          middle::liveness::check_crate(&ty_cx, &capture_map, krate));\n \n-    let root_map =\n-        time(time_passes, \"borrow checking\", (), |_|\n-             middle::borrowck::check_crate(&ty_cx, &moves_map,\n-                                           &moved_variables_set,\n-                                           &capture_map, krate));\n+    time(time_passes, \"borrow checking\", (), |_|\n+         middle::borrowck::check_crate(&ty_cx, &moves_map,\n+                                       &moved_variables_set,\n+                                       &capture_map, krate));\n \n     drop(moves_map);\n     drop(moved_variables_set);\n@@ -391,7 +390,6 @@ pub fn phase_3_run_analysis_passes(sess: Session,\n         exported_items: exported_items,\n         public_items: public_items,\n         maps: astencode::Maps {\n-            root_map: root_map,\n             capture_map: RefCell::new(capture_map)\n         },\n         reachable: reachable_map"}, {"sha": "7f3757c478c02e3b87949b292d82077b563c097d", "filename": "src/librustc/middle/astencode.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e/src%2Flibrustc%2Fmiddle%2Fastencode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e/src%2Flibrustc%2Fmiddle%2Fastencode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fastencode.rs?ref=13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e", "patch": "@@ -54,7 +54,6 @@ use writer = serialize::ebml::writer;\n \n // Auxiliary maps of things to be encoded\n pub struct Maps {\n-    pub root_map: middle::borrowck::root_map,\n     pub capture_map: RefCell<middle::moves::CaptureMap>,\n }\n "}, {"sha": "6a2262aeaef9f10c5276324bd961ba44d2cae006", "filename": "src/librustc/middle/const_eval.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e/src%2Flibrustc%2Fmiddle%2Fconst_eval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e/src%2Flibrustc%2Fmiddle%2Fconst_eval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fconst_eval.rs?ref=13c8edfa2ea8f3083dfadda4234c2b48d57a1c6e", "patch": "@@ -24,7 +24,6 @@ use syntax::visit;\n use syntax::{ast, ast_map, ast_util};\n \n use std::cell::RefCell;\n-use collections::HashMap;\n use std::rc::Rc;\n \n //\n@@ -127,7 +126,6 @@ pub fn lookup_variant_by_id(tcx: &ty::ctxt,\n             None => {}\n         }\n         let maps = astencode::Maps {\n-            root_map: HashMap::new(),\n             capture_map: RefCell::new(NodeMap::new())\n         };\n         let e = match csearch::maybe_get_item_ast(tcx, enum_def,\n@@ -166,7 +164,6 @@ pub fn lookup_const_by_id(tcx: &ty::ctxt, def_id: ast::DefId)\n             None => {}\n         }\n         let maps = astencode::Maps {\n-            root_map: HashMap::new(),\n             capture_map: RefCell::new(NodeMap::new())\n         };\n         let e = match csearch::maybe_get_item_ast(tcx, def_id,"}]}