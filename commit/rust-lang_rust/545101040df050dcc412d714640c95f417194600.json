{"sha": "545101040df050dcc412d714640c95f417194600", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0NTEwMTA0MGRmMDUwZGNjNDEyZDcxNDY0MGM5NWY0MTcxOTQ2MDA=", "commit": {"author": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-06-03T13:26:11Z"}, "committer": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-06-06T03:12:13Z"}, "message": "Don't `unwrap()` in `in_std()`", "tree": {"sha": "53da4c43d5995dc7e84140bca18c3d2cf3854d32", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/53da4c43d5995dc7e84140bca18c3d2cf3854d32"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/545101040df050dcc412d714640c95f417194600", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niIsEABYIADMWIQRJ2jPMDdiQ+U4U42Z0+n/VuNoUuAUCYLw9DRUceWQtaHVhbmdA\nb3V0bG9vay5jb20ACgkQdPp/1bjaFLjajAEAnoxFTqD5os+uqmNtpJWAwnHgfCTm\nkOUcTd6DEHGPOoIBAIN9MLwdgcZRoyLqsSMN8y4r6qTH38xPTGUAs2WFtMUM\n=7rR9\n-----END PGP SIGNATURE-----", "payload": "tree 53da4c43d5995dc7e84140bca18c3d2cf3854d32\nparent 879000b133aed8cc1893c84eb5319b491a4756d9\nauthor hyd-dev <yd-huang@outlook.com> 1622726771 +0800\ncommitter hyd-dev <yd-huang@outlook.com> 1622949133 +0800\n\nDon't `unwrap()` in `in_std()`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/545101040df050dcc412d714640c95f417194600", "html_url": "https://github.com/rust-lang/rust/commit/545101040df050dcc412d714640c95f417194600", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/545101040df050dcc412d714640c95f417194600/comments", "author": null, "committer": null, "parents": [{"sha": "879000b133aed8cc1893c84eb5319b491a4756d9", "url": "https://api.github.com/repos/rust-lang/rust/commits/879000b133aed8cc1893c84eb5319b491a4756d9", "html_url": "https://github.com/rust-lang/rust/commit/879000b133aed8cc1893c84eb5319b491a4756d9"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "a9cafd2a9e390277c788a5f92256f82c45e8593f", "filename": "src/helpers.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/545101040df050dcc412d714640c95f417194600/src%2Fhelpers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/545101040df050dcc412d714640c95f417194600/src%2Fhelpers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fhelpers.rs?ref=545101040df050dcc412d714640c95f417194600", "patch": "@@ -631,8 +631,10 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n \n     fn in_std(&self) -> bool {\n         let this = self.eval_context_ref();\n-        this.tcx.def_path(this.frame().instance.def_id()).krate\n-            == this.tcx.def_path(this.tcx.lang_items().start_fn().unwrap()).krate\n+        this.tcx.lang_items().start_fn().map_or(false, |start_fn| {\n+            this.tcx.def_path(this.frame().instance.def_id()).krate\n+                == this.tcx.def_path(start_fn).krate\n+        })\n     }\n }\n "}]}