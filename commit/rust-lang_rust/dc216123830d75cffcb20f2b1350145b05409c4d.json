{"sha": "dc216123830d75cffcb20f2b1350145b05409c4d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRjMjE2MTIzODMwZDc1Y2ZmY2IyMGYyYjEzNTAxNDViMDU0MDljNGQ=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-07-22T19:11:25Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-07-26T22:37:02Z"}, "message": "Ignore `orig_id` for stable hashing\n\nThis does not affect semantic equality, and was causing an enormous\nnumber of Span hash invalidations.", "tree": {"sha": "720a3484d9ab0bfbf9d402422916424efa1a2005", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/720a3484d9ab0bfbf9d402422916424efa1a2005"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dc216123830d75cffcb20f2b1350145b05409c4d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAl8eBY4ACgkQtAh+UQ6Y\nsWT+Ww/+ItMyxKCWkJLA7sddh8XqBuEng5AkfVY4CmjJKXZ45wHlB4JQOnP0+1nb\nf+bLgr92Z0XeceBRWltl5O6aduZxWdLEGTmB0lynS9BQrEcS1o4uz2M5CKFFTFBc\naJCnM9xdm0ylsmb6LtlNnKQIsBehEMCPIYCUF1KmqYLLhmSvgp8OnNQXIp4rV7pt\n2/13gEw3FDFvywAm6FGQYu0MjidfJWjeS9anATHJ5jdZCIaD2WQ/s8lvRto7xRJ1\nAIFKorzYYcVfjmMmN9KcyE6JxDdbyH+KC6zcxtr5NjYuLYAJ4V0LPNZzm8FpuILs\n7tTskHvFqkbUnMnKuZGrwBeUmHFKOENdEQQctS+sGrfASOar9hXE/OHZHouXfPoU\nk/Mq1I+JH69KcSStAuUg32nHB19z3ivtX+64P6Y5RtjfdLry5Qf4R5Y2gvvkz7+Q\n65S+/mDpHkeHyhJxHIehj1TxrLS3qH0g5YNV7oGuq+klv0vNfzs16buoyP/y3bTs\nPHL7U5nvF7uv3eym6+Wmc5hcMbiMpVJ7ngmE3sDla2tj1p7fyae6ocmzIkdL+XN1\nsK04Pn+AyXvTCBDP2vIBDKqJPkFt5Uri5svTmu4/0Rwx+UU2CMHJ/OpGtWjOv9Wl\nZSwqStsgNJMcNvdPRLpTbAb53uHqBSH3QUMSFG4Muyf36YXJUbo=\n=c8LM\n-----END PGP SIGNATURE-----", "payload": "tree 720a3484d9ab0bfbf9d402422916424efa1a2005\nparent 979dd77c5d88cd21f350da5235d198b97264ec68\nauthor Aaron Hill <aa1ronham@gmail.com> 1595445085 -0400\ncommitter Aaron Hill <aa1ronham@gmail.com> 1595803022 -0400\n\nIgnore `orig_id` for stable hashing\n\nThis does not affect semantic equality, and was causing an enormous\nnumber of Span hash invalidations.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dc216123830d75cffcb20f2b1350145b05409c4d", "html_url": "https://github.com/rust-lang/rust/commit/dc216123830d75cffcb20f2b1350145b05409c4d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dc216123830d75cffcb20f2b1350145b05409c4d/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "979dd77c5d88cd21f350da5235d198b97264ec68", "url": "https://api.github.com/repos/rust-lang/rust/commits/979dd77c5d88cd21f350da5235d198b97264ec68", "html_url": "https://github.com/rust-lang/rust/commit/979dd77c5d88cd21f350da5235d198b97264ec68"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "2bc38eab92a2d8deebdf20e14a8c817d363ee234", "filename": "src/librustc_span/hygiene.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/dc216123830d75cffcb20f2b1350145b05409c4d/src%2Flibrustc_span%2Fhygiene.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc216123830d75cffcb20f2b1350145b05409c4d/src%2Flibrustc_span%2Fhygiene.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fhygiene.rs?ref=dc216123830d75cffcb20f2b1350145b05409c4d", "patch": "@@ -711,9 +711,16 @@ pub struct ExpnData {\n     /// The raw that this `ExpnData` had in its original crate.\n     /// An `ExpnData` can be created before being assigned an `ExpnId`,\n     /// so this might be `None` until `set_expn_data` is called\n+    // This is used only for serialization/deserialization purposes:\n+    // two `ExpnData`s that differ only in their `orig_id` should\n+    // be considered equivalent.\n+    #[stable_hasher(ignore)]\n     pub orig_id: Option<u32>,\n }\n \n+// This would require special handling of `orig_id` and `parent`\n+impl !PartialEq for ExpnData {}\n+\n impl ExpnData {\n     /// Constructs expansion data with default properties.\n     pub fn default("}]}