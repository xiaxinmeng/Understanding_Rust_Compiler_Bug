{"sha": "de68aced95ab53bc0f69ff4d6867a03d2dd0f8d7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRlNjhhY2VkOTVhYjUzYmMwZjY5ZmY0ZDY4NjdhMDNkMmRkMGY4ZDc=", "commit": {"author": {"name": "Jeremy Soller", "email": "jackpot51@gmail.com", "date": "2016-11-15T02:08:48Z"}, "committer": {"name": "Jeremy Soller", "email": "jackpot51@gmail.com", "date": "2016-11-15T02:08:48Z"}, "message": "Add current_exe support", "tree": {"sha": "845f52896a3fcedebfd0876f875fb4a4b1c39b54", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/845f52896a3fcedebfd0876f875fb4a4b1c39b54"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/de68aced95ab53bc0f69ff4d6867a03d2dd0f8d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/de68aced95ab53bc0f69ff4d6867a03d2dd0f8d7", "html_url": "https://github.com/rust-lang/rust/commit/de68aced95ab53bc0f69ff4d6867a03d2dd0f8d7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/de68aced95ab53bc0f69ff4d6867a03d2dd0f8d7/comments", "author": {"login": "jackpot51", "id": 7741236, "node_id": "MDQ6VXNlcjc3NDEyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7741236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackpot51", "html_url": "https://github.com/jackpot51", "followers_url": "https://api.github.com/users/jackpot51/followers", "following_url": "https://api.github.com/users/jackpot51/following{/other_user}", "gists_url": "https://api.github.com/users/jackpot51/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackpot51/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackpot51/subscriptions", "organizations_url": "https://api.github.com/users/jackpot51/orgs", "repos_url": "https://api.github.com/users/jackpot51/repos", "events_url": "https://api.github.com/users/jackpot51/events{/privacy}", "received_events_url": "https://api.github.com/users/jackpot51/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jackpot51", "id": 7741236, "node_id": "MDQ6VXNlcjc3NDEyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7741236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackpot51", "html_url": "https://github.com/jackpot51", "followers_url": "https://api.github.com/users/jackpot51/followers", "following_url": "https://api.github.com/users/jackpot51/following{/other_user}", "gists_url": "https://api.github.com/users/jackpot51/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackpot51/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackpot51/subscriptions", "organizations_url": "https://api.github.com/users/jackpot51/orgs", "repos_url": "https://api.github.com/users/jackpot51/repos", "events_url": "https://api.github.com/users/jackpot51/events{/privacy}", "received_events_url": "https://api.github.com/users/jackpot51/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "18bf0540bf8a04a5724dd515fec2311d1e4768e4", "url": "https://api.github.com/repos/rust-lang/rust/commits/18bf0540bf8a04a5724dd515fec2311d1e4768e4", "html_url": "https://github.com/rust-lang/rust/commit/18bf0540bf8a04a5724dd515fec2311d1e4768e4"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "e007e33258f617f5e43b11848932100e5828eaa6", "filename": "src/libstd/sys/redox/os.rs", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/de68aced95ab53bc0f69ff4d6867a03d2dd0f8d7/src%2Flibstd%2Fsys%2Fredox%2Fos.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de68aced95ab53bc0f69ff4d6867a03d2dd0f8d7/src%2Flibstd%2Fsys%2Fredox%2Fos.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fredox%2Fos.rs?ref=de68aced95ab53bc0f69ff4d6867a03d2dd0f8d7", "patch": "@@ -113,8 +113,18 @@ impl StdError for JoinPathsError {\n }\n \n pub fn current_exe() -> io::Result<PathBuf> {\n-    use io::ErrorKind;\n-    Err(io::Error::new(ErrorKind::Other, \"Not yet implemented on redox\"))\n+    use fs::File;\n+\n+    let mut file = File::open(\"sys:exe\")?;\n+\n+    let mut path = String::new();\n+    file.read_to_string(&mut path)?;\n+\n+    if path.ends_with('\\n') {\n+        path.pop();\n+    }\n+\n+    Ok(PathBuf::from(path))\n }\n \n pub struct Env {"}]}