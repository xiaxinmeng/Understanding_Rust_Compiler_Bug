{"sha": "677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb", "node_id": "C_kwDOAAsO6NoAKDY3N2MwZWVjY2JjMWQ4YmI1ZTA1ZDQ3NDc2YjNiNzc1OTJiN2U0YmI", "commit": {"author": {"name": "David Barsky", "email": "me@davidbarsky.com", "date": "2023-03-13T18:45:41Z"}, "committer": {"name": "David Barsky", "email": "me@davidbarsky.com", "date": "2023-03-13T18:45:41Z"}, "message": "Add path of workspace root folders to status output", "tree": {"sha": "00604b8a43879744c82c5a9fc11f882ae83e3375", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/00604b8a43879744c82c5a9fc11f882ae83e3375"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb", "html_url": "https://github.com/rust-lang/rust/commit/677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb/comments", "author": {"login": "davidbarsky", "id": 2067774, "node_id": "MDQ6VXNlcjIwNjc3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2067774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidbarsky", "html_url": "https://github.com/davidbarsky", "followers_url": "https://api.github.com/users/davidbarsky/followers", "following_url": "https://api.github.com/users/davidbarsky/following{/other_user}", "gists_url": "https://api.github.com/users/davidbarsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidbarsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidbarsky/subscriptions", "organizations_url": "https://api.github.com/users/davidbarsky/orgs", "repos_url": "https://api.github.com/users/davidbarsky/repos", "events_url": "https://api.github.com/users/davidbarsky/events{/privacy}", "received_events_url": "https://api.github.com/users/davidbarsky/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidbarsky", "id": 2067774, "node_id": "MDQ6VXNlcjIwNjc3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2067774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidbarsky", "html_url": "https://github.com/davidbarsky", "followers_url": "https://api.github.com/users/davidbarsky/followers", "following_url": "https://api.github.com/users/davidbarsky/following{/other_user}", "gists_url": "https://api.github.com/users/davidbarsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidbarsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidbarsky/subscriptions", "organizations_url": "https://api.github.com/users/davidbarsky/orgs", "repos_url": "https://api.github.com/users/davidbarsky/repos", "events_url": "https://api.github.com/users/davidbarsky/events{/privacy}", "received_events_url": "https://api.github.com/users/davidbarsky/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "95497533524537b1cc7a2870ce94b0b14503be8b", "url": "https://api.github.com/repos/rust-lang/rust/commits/95497533524537b1cc7a2870ce94b0b14503be8b", "html_url": "https://github.com/rust-lang/rust/commit/95497533524537b1cc7a2870ce94b0b14503be8b"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "862d1a8b4aaf408d16b5cd61940414aef9ccec69", "filename": "crates/project-model/src/workspace.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb/crates%2Fproject-model%2Fsrc%2Fworkspace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb/crates%2Fproject-model%2Fsrc%2Fworkspace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproject-model%2Fsrc%2Fworkspace.rs?ref=677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb", "patch": "@@ -450,6 +450,14 @@ impl ProjectWorkspace {\n         }\n     }\n \n+    pub fn workspace_definition_path(&self) -> Option<&AbsPath> {\n+        match self {\n+            ProjectWorkspace::Cargo { cargo, .. } => Some(cargo.workspace_root()),\n+            ProjectWorkspace::Json { project, .. } => Some(project.path()),\n+            ProjectWorkspace::DetachedFiles { .. } => None,\n+        }\n+    }\n+\n     pub fn find_sysroot_proc_macro_srv(&self) -> Option<AbsPathBuf> {\n         match self {\n             ProjectWorkspace::Cargo { sysroot: Some(sysroot), .. }"}, {"sha": "e95d68b70a355e32bcc8f7dad3f24cacb3d39071", "filename": "crates/rust-analyzer/src/handlers.rs", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs?ref=677c0eeccbc1d8bb5e05d47476b3b77592b7e4bb", "patch": "@@ -29,7 +29,7 @@ use project_model::{ManifestPath, ProjectWorkspace, TargetKind};\n use serde_json::json;\n use stdx::{format_to, never};\n use syntax::{algo, ast, AstNode, TextRange, TextSize};\n-use vfs::AbsPathBuf;\n+use vfs::{AbsPath, AbsPathBuf};\n \n use crate::{\n     cargo_target_spec::CargoTargetSpec,\n@@ -84,6 +84,15 @@ pub(crate) fn handle_analyzer_status(\n             snap.workspaces.len(),\n             if snap.workspaces.len() == 1 { \"\" } else { \"s\" }\n         );\n+\n+        format_to!(\n+            buf,\n+            \"Workspace root folders: {:?}\",\n+            snap.workspaces\n+                .iter()\n+                .flat_map(|ws| ws.workspace_definition_path())\n+                .collect::<Vec<&AbsPath>>()\n+        );\n     }\n     buf.push_str(\"\\nAnalysis:\\n\");\n     buf.push_str("}]}