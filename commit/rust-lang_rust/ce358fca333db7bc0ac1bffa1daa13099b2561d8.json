{"sha": "ce358fca333db7bc0ac1bffa1daa13099b2561d8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlMzU4ZmNhMzMzZGI3YmMwYWMxYmZmYTFkYWExMzA5OWIyNTYxZDg=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2014-01-03T22:15:08Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2014-01-13T21:11:01Z"}, "message": "libsyntax: Make managed box `@` patterns obsolete", "tree": {"sha": "cbe0faf79d26c98503db45abecdf8019eaabbce9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cbe0faf79d26c98503db45abecdf8019eaabbce9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ce358fca333db7bc0ac1bffa1daa13099b2561d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ce358fca333db7bc0ac1bffa1daa13099b2561d8", "html_url": "https://github.com/rust-lang/rust/commit/ce358fca333db7bc0ac1bffa1daa13099b2561d8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ce358fca333db7bc0ac1bffa1daa13099b2561d8/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b8c60f906b897f413997f17f0376402061993c8d", "url": "https://api.github.com/repos/rust-lang/rust/commits/b8c60f906b897f413997f17f0376402061993c8d", "html_url": "https://github.com/rust-lang/rust/commit/b8c60f906b897f413997f17f0376402061993c8d"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "6aa1afee206ebe42f65eaffc1f5a89568205d818", "filename": "src/libsyntax/parse/obsolete.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ce358fca333db7bc0ac1bffa1daa13099b2561d8/src%2Flibsyntax%2Fparse%2Fobsolete.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce358fca333db7bc0ac1bffa1daa13099b2561d8/src%2Flibsyntax%2Fparse%2Fobsolete.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fobsolete.rs?ref=ce358fca333db7bc0ac1bffa1daa13099b2561d8", "patch": "@@ -44,7 +44,8 @@ pub enum ObsoleteSyntax {\n     ObsoleteBoxedClosure,\n     ObsoleteClosureType,\n     ObsoleteMultipleImport,\n-    ObsoleteExternModAttributesInParens\n+    ObsoleteExternModAttributesInParens,\n+    ObsoleteManagedPattern,\n }\n \n impl to_bytes::IterBytes for ObsoleteSyntax {\n@@ -148,7 +149,12 @@ impl ParserObsoleteMethods for Parser {\n                 \"`extern mod` with linkage attribute list\",\n                 \"use `extern mod foo = \\\"bar\\\";` instead of \\\n                 `extern mod foo (name = \\\"bar\\\")`\"\n-            )\n+            ),\n+            ObsoleteManagedPattern => (\n+                \"managed pointer pattern\",\n+                \"use a nested `match` expression instead of a managed box \\\n+                 pattern\"\n+            ),\n         };\n \n         self.report(sp, kind, kind_str, desc);"}, {"sha": "a71d5bf0e9e59cd7187cd63701a6a64aa1bd861c", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/ce358fca333db7bc0ac1bffa1daa13099b2561d8/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce358fca333db7bc0ac1bffa1daa13099b2561d8/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=ce358fca333db7bc0ac1bffa1daa13099b2561d8", "patch": "@@ -2903,7 +2903,10 @@ impl Parser {\n                 };\n                 PatLit(vst)\n               }\n-              _ => PatBox(sub)\n+              _ => {\n+                self.obsolete(self.span, ObsoleteManagedPattern);\n+                PatBox(sub)\n+              }\n             };\n             hi = self.last_span.hi;\n             return @ast::Pat {"}]}