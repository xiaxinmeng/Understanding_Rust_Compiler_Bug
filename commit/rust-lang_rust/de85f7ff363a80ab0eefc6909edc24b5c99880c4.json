{"sha": "de85f7ff363a80ab0eefc6909edc24b5c99880c4", "node_id": "C_kwDOAAsO6NoAKGRlODVmN2ZmMzYzYTgwYWIwZWVmYzY5MDllZGMyNGI1Yzk5ODgwYzQ", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-06-03T14:22:19Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-06-03T14:37:43Z"}, "message": "Move type name directly into the same DOM element", "tree": {"sha": "77cc715d1253c743a3a8ac77ed0005a808da46cd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/77cc715d1253c743a3a8ac77ed0005a808da46cd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/de85f7ff363a80ab0eefc6909edc24b5c99880c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/de85f7ff363a80ab0eefc6909edc24b5c99880c4", "html_url": "https://github.com/rust-lang/rust/commit/de85f7ff363a80ab0eefc6909edc24b5c99880c4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/de85f7ff363a80ab0eefc6909edc24b5c99880c4/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f92cd677114d76d78c73177d21184c83a087a6b6", "url": "https://api.github.com/repos/rust-lang/rust/commits/f92cd677114d76d78c73177d21184c83a087a6b6", "html_url": "https://github.com/rust-lang/rust/commit/f92cd677114d76d78c73177d21184c83a087a6b6"}], "stats": {"total": 36, "additions": 5, "deletions": 31}, "files": [{"sha": "b487cfa5c2553813a8d077551de62f3c370a4154", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/de85f7ff363a80ab0eefc6909edc24b5c99880c4/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/de85f7ff363a80ab0eefc6909edc24b5c99880c4/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=de85f7ff363a80ab0eefc6909edc24b5c99880c4", "patch": "@@ -190,7 +190,6 @@ h1, h2, h3, h4, h5, h6,\n .mobile-topbar,\n .search-input,\n .search-results .result-name,\n-.search-results .type-kind,\n .item-name > a,\n .out-of-band,\n span.since,\n@@ -871,10 +870,6 @@ so that we can apply CSS-filters to change the arrow color in themes */\n }\n \n .search-results > a > div {\n-\tflex: 3;\n-}\n-\n-.search-results > a > div.type-kind {\n \tflex: 1;\n }\n \n@@ -1722,14 +1717,6 @@ in source-script.js\n \t\tdisplay: block;\n \t}\n \n-\t.search-results > a > .type-kind {\n-\t\tdisplay: inline-block;\n-\t}\n-\t.search-results > a > .result-name {\n-\t\tdisplay: inline-block;\n-\t\tmargin-left: 7px;\n-\t}\n-\n \t/* Display an alternating layout on tablets and phones */\n \t.search-results > a {\n \t\tpadding: 5px 0px;"}, {"sha": "eff8aa79caf9c08f7dbb2eececc7d4848f754ca7", "filename": "src/librustdoc/html/static/js/search.js", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/de85f7ff363a80ab0eefc6909edc24b5c99880c4/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js", "raw_url": "https://github.com/rust-lang/rust/raw/de85f7ff363a80ab0eefc6909edc24b5c99880c4/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js?ref=de85f7ff363a80ab0eefc6909edc24b5c99880c4", "patch": "@@ -1892,14 +1892,9 @@ function initSearch(rawSearchIndex) {\n                     resultName.appendChild(alias);\n                 }\n \n-                const typeDisplay = document.createElement(\"div\");\n-                typeDisplay.innerText = typeName;\n-                typeDisplay.className = \"type-kind\";\n-                link.appendChild(typeDisplay);\n-\n                 resultName.insertAdjacentHTML(\n                     \"beforeend\",\n-                    item.displayPath + \"<span class=\\\"\" + type + \"\\\">\" + name + \"</span>\");\n+                    `${typeName} ${item.displayPath}<span class=\"${type}\">${name}</span>`);\n                 link.appendChild(resultName);\n \n                 const description = document.createElement(\"div\");"}, {"sha": "0ce4e99339fb1897c216542661c77fe84ce861a8", "filename": "tests/rustdoc-gui/search-reexport.goml", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/de85f7ff363a80ab0eefc6909edc24b5c99880c4/tests%2Frustdoc-gui%2Fsearch-reexport.goml", "raw_url": "https://github.com/rust-lang/rust/raw/de85f7ff363a80ab0eefc6909edc24b5c99880c4/tests%2Frustdoc-gui%2Fsearch-reexport.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsearch-reexport.goml?ref=de85f7ff363a80ab0eefc6909edc24b5c99880c4", "patch": "@@ -14,8 +14,7 @@ assert-attribute: (\n     \"//a[@class='result-import']\",\n     {\"href\": \"../test_docs/index.html#reexport.TheStdReexport\"},\n )\n-assert-text: (\"a.result-import .result-name\", \"test_docs::TheStdReexport\")\n-assert-text: (\"a.result-import .type-kind\", \"re-export\")\n+assert-text: (\"a.result-import .result-name\", \"re-export test_docs::TheStdReexport\")\n click: \"//a[@class='result-import']\"\n // We check that it has the background modified thanks to the focus.\n wait-for-css: (\"//*[@id='reexport.TheStdReexport']\", {\"background-color\": \"rgb(73, 74, 61)\"})\n@@ -27,7 +26,7 @@ write: (\".search-input\", \"AliasForTheStdReexport\")\n wait-for: \"//a[@class='result-import']\"\n assert-text: (\n     \"a.result-import .result-name\",\n-    \"AliasForTheStdReexport - see test_docs::TheStdReexport\",\n+    \"AliasForTheStdReexport - see re-export test_docs::TheStdReexport\",\n )\n // Same thing again, we click on it to ensure the background is once again set as expected.\n click: \"//a[@class='result-import']\""}, {"sha": "c75e4141434e4e81b4460b99091623c35ca0382c", "filename": "tests/rustdoc-gui/search-result-color.goml", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/de85f7ff363a80ab0eefc6909edc24b5c99880c4/tests%2Frustdoc-gui%2Fsearch-result-color.goml", "raw_url": "https://github.com/rust-lang/rust/raw/de85f7ff363a80ab0eefc6909edc24b5c99880c4/tests%2Frustdoc-gui%2Fsearch-result-color.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsearch-result-color.goml?ref=de85f7ff363a80ab0eefc6909edc24b5c99880c4", "patch": "@@ -5,7 +5,6 @@ define-function: (\n     (result_kind, color, hover_color),\n     block {\n         assert-css: (\".result-\" + |result_kind| + \" .\" + |result_kind|, {\"color\": |color|}, ALL)\n-        assert-css: (\".result-\" + |result_kind| + \" .type-kind\", {\"color\": |entry_color|})\n         assert-css: (\n             \".result-\" + |result_kind|,\n             {\"color\": |entry_color|, \"background-color\": |background_color|},\n@@ -19,7 +18,6 @@ define-function: (\n             \".result-\" + |result_kind| + \":hover .\" + |result_kind|,\n             {\"color\": |hover_color|},\n         )\n-        assert-css: (\".result-\" + |result_kind| + \":hover .type-kind\", {\"color\": |hover_entry_color|})\n         move-cursor-to: \".search-input\"\n         focus: \".result-\" + |result_kind|\n         assert-css: ("}, {"sha": "afb3a44be303f3fe2e9a57eb79ff0f38f364852c", "filename": "tests/rustdoc-gui/search-result-display.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/de85f7ff363a80ab0eefc6909edc24b5c99880c4/tests%2Frustdoc-gui%2Fsearch-result-display.goml", "raw_url": "https://github.com/rust-lang/rust/raw/de85f7ff363a80ab0eefc6909edc24b5c99880c4/tests%2Frustdoc-gui%2Fsearch-result-display.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsearch-result-display.goml?ref=de85f7ff363a80ab0eefc6909edc24b5c99880c4", "patch": "@@ -7,7 +7,7 @@ press-key: 'Enter'\n wait-for: \"#crate-search\"\n // The width is returned by \"getComputedStyle\" which returns the exact number instead of the\n // CSS rule which is \"50%\"...\n-assert-size: (\".search-results div.desc\", {\"width\": 259})\n+assert-size: (\".search-results div.desc\", {\"width\": 310})\n set-window-size: (600, 100)\n // As counter-intuitive as it may seem, in this width, the width is \"100%\", which is why\n // when computed it's larger."}, {"sha": "1b2be6d4e3e222023334a5436a2b895feb9b99ee", "filename": "tests/rustdoc-gui/search-result-keyword.goml", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/de85f7ff363a80ab0eefc6909edc24b5c99880c4/tests%2Frustdoc-gui%2Fsearch-result-keyword.goml", "raw_url": "https://github.com/rust-lang/rust/raw/de85f7ff363a80ab0eefc6909edc24b5c99880c4/tests%2Frustdoc-gui%2Fsearch-result-keyword.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsearch-result-keyword.goml?ref=de85f7ff363a80ab0eefc6909edc24b5c99880c4", "patch": "@@ -5,9 +5,4 @@ write: (\".search-input\", \"CookieMonster\")\n press-key: 'Enter'\n // Waiting for the search results to appear...\n wait-for: \"#search-tabs\"\n-// Note: The two next assert commands could be merged as one but readability would be\n-// less good.\n-//\n-// Checking that the CSS is displaying \" (keyword)\" in italic.\n-assert-text: (\".result-keyword .type-kind\", \"keyword\")\n-assert-text: (\".result-keyword .result-name\", \"CookieMonster\")\n+assert-text: (\".result-keyword .result-name\", \"keyword CookieMonster\")"}]}