{"sha": "f6d2843d6879b5741ab716bd8ca826c2ac5414cb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY2ZDI4NDNkNjg3OWI1NzQxYWI3MTZiZDhjYTgyNmMyYWM1NDE0Y2I=", "commit": {"author": {"name": "Wesley Wiser", "email": "wesleywiser@microsoft.com", "date": "2021-07-01T01:53:48Z"}, "committer": {"name": "Wesley Wiser", "email": "wesleywiser@microsoft.com", "date": "2021-07-03T00:38:37Z"}, "message": "Respond to review feedback", "tree": {"sha": "2db41ba2f991fffa1ebe491deb80f7588145a71c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2db41ba2f991fffa1ebe491deb80f7588145a71c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f6d2843d6879b5741ab716bd8ca826c2ac5414cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f6d2843d6879b5741ab716bd8ca826c2ac5414cb", "html_url": "https://github.com/rust-lang/rust/commit/f6d2843d6879b5741ab716bd8ca826c2ac5414cb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f6d2843d6879b5741ab716bd8ca826c2ac5414cb/comments", "author": {"login": "wesleywiser", "id": 831192, "node_id": "MDQ6VXNlcjgzMTE5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/831192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wesleywiser", "html_url": "https://github.com/wesleywiser", "followers_url": "https://api.github.com/users/wesleywiser/followers", "following_url": "https://api.github.com/users/wesleywiser/following{/other_user}", "gists_url": "https://api.github.com/users/wesleywiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/wesleywiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wesleywiser/subscriptions", "organizations_url": "https://api.github.com/users/wesleywiser/orgs", "repos_url": "https://api.github.com/users/wesleywiser/repos", "events_url": "https://api.github.com/users/wesleywiser/events{/privacy}", "received_events_url": "https://api.github.com/users/wesleywiser/received_events", "type": "User", "site_admin": false}, "committer": {"login": "wesleywiser", "id": 831192, "node_id": "MDQ6VXNlcjgzMTE5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/831192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wesleywiser", "html_url": "https://github.com/wesleywiser", "followers_url": "https://api.github.com/users/wesleywiser/followers", "following_url": "https://api.github.com/users/wesleywiser/following{/other_user}", "gists_url": "https://api.github.com/users/wesleywiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/wesleywiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wesleywiser/subscriptions", "organizations_url": "https://api.github.com/users/wesleywiser/orgs", "repos_url": "https://api.github.com/users/wesleywiser/repos", "events_url": "https://api.github.com/users/wesleywiser/events{/privacy}", "received_events_url": "https://api.github.com/users/wesleywiser/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9b5fe6e4deb90412c1d147d81194faaef3be25cc", "url": "https://api.github.com/repos/rust-lang/rust/commits/9b5fe6e4deb90412c1d147d81194faaef3be25cc", "html_url": "https://github.com/rust-lang/rust/commit/9b5fe6e4deb90412c1d147d81194faaef3be25cc"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "7e136c1b24cb26e8a26dcdf53c2339f3f35a70b4", "filename": "compiler/rustc_codegen_llvm/src/debuginfo/metadata.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f6d2843d6879b5741ab716bd8ca826c2ac5414cb/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmetadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6d2843d6879b5741ab716bd8ca826c2ac5414cb/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmetadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmetadata.rs?ref=f6d2843d6879b5741ab716bd8ca826c2ac5414cb", "patch": "@@ -1545,7 +1545,7 @@ impl EnumMemberDescriptionFactory<'ll, 'tcx> {\n                     //   {name} discriminant;\n                     // }\n                     // ```\n-                    // The natvis in `intrinsic.nativs` then matches on `this.discriminant` to\n+                    // The natvis in `intrinsic.natvis` then matches on `this.discriminant` to\n                     // determine which variant is active and then displays it.\n                     let enum_layout = self.layout;\n                     let offset = enum_layout.fields.offset(tag_field);"}, {"sha": "b03650e857a9140661de1b240c5fb4ef12d494f6", "filename": "src/test/debuginfo/msvc-pretty-enums.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f6d2843d6879b5741ab716bd8ca826c2ac5414cb/src%2Ftest%2Fdebuginfo%2Fmsvc-pretty-enums.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6d2843d6879b5741ab716bd8ca826c2ac5414cb/src%2Ftest%2Fdebuginfo%2Fmsvc-pretty-enums.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fmsvc-pretty-enums.rs?ref=f6d2843d6879b5741ab716bd8ca826c2ac5414cb", "patch": "@@ -1,10 +1,14 @@\n // only-cdb\n+// ignore-tidy-linelength\n // compile-flags:-g\n \n // cdb-command: g\n \n // Note: The natvis used to visualize niche-layout enums don't work correctly in cdb\n-//       so the best we can do is to make sure we are generating the right debuginfo\n+//       so the best we can do is to make sure we are generating the right debuginfo.\n+//       Therefore, we use the `!` [format specifier](https://docs.microsoft.com/en-us/visualstudio/debugger/format-specifiers-in-cpp?view=vs-2019#BKMK_Visual_Studio_2012_format_specifiers)\n+//       to disable the natvis for a given expression. We also provide the `-r2` flag\n+//       to expand the expression 2 levels.\n \n // cdb-command: dx -r2 a,!\n // cdb-check:a,!              [Type: enum$<core::option::Option<enum$<msvc_pretty_enums::CStyleEnum> >, 2, 16, Some>]"}]}