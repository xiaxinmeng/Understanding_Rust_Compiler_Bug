{"sha": "aa536f4be3f420beb0080c1f73a90934a689bf87", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFhNTM2ZjRiZTNmNDIwYmViMDA4MGMxZjczYTkwOTM0YTY4OWJmODc=", "commit": {"author": {"name": "Corey Farwell", "email": "coreyf@rwell.org", "date": "2017-06-08T01:58:45Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-06-08T01:58:45Z"}, "message": "Rollup merge of #42497 - qnighy:just-use-try-in-three-places, r=eddyb\n\nReplace some matches with try.\n\nThis patch just replaces `match`es with `?` in the compiler, which I came across when I'm reading the parser.", "tree": {"sha": "299c1950b0bb6690c78f62883ff11e3971b173e7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/299c1950b0bb6690c78f62883ff11e3971b173e7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aa536f4be3f420beb0080c1f73a90934a689bf87", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aa536f4be3f420beb0080c1f73a90934a689bf87", "html_url": "https://github.com/rust-lang/rust/commit/aa536f4be3f420beb0080c1f73a90934a689bf87", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aa536f4be3f420beb0080c1f73a90934a689bf87/comments", "author": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3ce88c7c8d3a422146bdc749c4e0207517b1f92a", "url": "https://api.github.com/repos/rust-lang/rust/commits/3ce88c7c8d3a422146bdc749c4e0207517b1f92a", "html_url": "https://github.com/rust-lang/rust/commit/3ce88c7c8d3a422146bdc749c4e0207517b1f92a"}, {"sha": "ab72611d8f664684dbd5dd2efe6fd7edff53ee5d", "url": "https://api.github.com/repos/rust-lang/rust/commits/ab72611d8f664684dbd5dd2efe6fd7edff53ee5d", "html_url": "https://github.com/rust-lang/rust/commit/ab72611d8f664684dbd5dd2efe6fd7edff53ee5d"}], "stats": {"total": 15, "additions": 3, "deletions": 12}, "files": [{"sha": "60c07eda4d5c515b3e374032926a4d33552b2576", "filename": "src/librustc_resolve/macros.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/aa536f4be3f420beb0080c1f73a90934a689bf87/src%2Flibrustc_resolve%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa536f4be3f420beb0080c1f73a90934a689bf87/src%2Flibrustc_resolve%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fmacros.rs?ref=aa536f4be3f420beb0080c1f73a90934a689bf87", "patch": "@@ -285,10 +285,7 @@ impl<'a> base::Resolver for Resolver<'a> {\n                      -> Result<Option<Rc<SyntaxExtension>>, Determinacy> {\n         let def = match invoc.kind {\n             InvocationKind::Attr { attr: None, .. } => return Ok(None),\n-            _ => match self.resolve_invoc_to_def(invoc, scope, force) {\n-                Ok(def) => def,\n-                Err(determinacy) => return Err(determinacy),\n-            },\n+            _ => self.resolve_invoc_to_def(invoc, scope, force)?,\n         };\n \n         self.macro_defs.insert(invoc.expansion_data.mark, def.def_id());"}, {"sha": "1e156ed07b0cefac319ecf15cb143bd7f80055fa", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/aa536f4be3f420beb0080c1f73a90934a689bf87/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa536f4be3f420beb0080c1f73a90934a689bf87/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=aa536f4be3f420beb0080c1f73a90934a689bf87", "patch": "@@ -1249,10 +1249,7 @@ impl<'a> Parser<'a> {\n             let mac = respan(lo.to(self.prev_span), Mac_ { path: pth, tts: tts });\n             (keywords::Invalid.ident(), ast::TraitItemKind::Macro(mac))\n         } else {\n-            let (constness, unsafety, abi) = match self.parse_fn_front_matter() {\n-                Ok(cua) => cua,\n-                Err(e) => return Err(e),\n-            };\n+            let (constness, unsafety, abi) = self.parse_fn_front_matter()?;\n \n             let ident = self.parse_ident()?;\n             let mut generics = self.parse_generics()?;"}, {"sha": "d51ff9860ac8495ec85c8095fabd15536d1da03a", "filename": "src/libsyntax/ptr.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/aa536f4be3f420beb0080c1f73a90934a689bf87/src%2Flibsyntax%2Fptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa536f4be3f420beb0080c1f73a90934a689bf87/src%2Flibsyntax%2Fptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fptr.rs?ref=aa536f4be3f420beb0080c1f73a90934a689bf87", "patch": "@@ -211,10 +211,7 @@ impl<T: Encodable> Encodable for P<[T]> {\n \n impl<T: Decodable> Decodable for P<[T]> {\n     fn decode<D: Decoder>(d: &mut D) -> Result<P<[T]>, D::Error> {\n-        Ok(P::from_vec(match Decodable::decode(d) {\n-            Ok(t) => t,\n-            Err(e) => return Err(e)\n-        }))\n+        Ok(P::from_vec(Decodable::decode(d)?))\n     }\n }\n "}]}