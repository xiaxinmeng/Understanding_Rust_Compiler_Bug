{"sha": "e9814da3c0959247a79cffca8af3f07d124a8e49", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU5ODE0ZGEzYzA5NTkyNDdhNzljZmZjYThhZjNmMDdkMTI0YThlNDk=", "commit": {"author": {"name": "Dan Luu", "email": "danluu@gmail.com", "date": "2013-04-28T19:33:41Z"}, "committer": {"name": "Dan Luu", "email": "danluu@gmail.com", "date": "2013-04-28T19:33:41Z"}, "message": "Updated spawn / loop thread to work with current syntax", "tree": {"sha": "f64488af659183b2f4dacfe4db1408596c2583ec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f64488af659183b2f4dacfe4db1408596c2583ec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e9814da3c0959247a79cffca8af3f07d124a8e49", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e9814da3c0959247a79cffca8af3f07d124a8e49", "html_url": "https://github.com/rust-lang/rust/commit/e9814da3c0959247a79cffca8af3f07d124a8e49", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e9814da3c0959247a79cffca8af3f07d124a8e49/comments", "author": {"login": "danluu", "id": 157136, "node_id": "MDQ6VXNlcjE1NzEzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/157136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danluu", "html_url": "https://github.com/danluu", "followers_url": "https://api.github.com/users/danluu/followers", "following_url": "https://api.github.com/users/danluu/following{/other_user}", "gists_url": "https://api.github.com/users/danluu/gists{/gist_id}", "starred_url": "https://api.github.com/users/danluu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danluu/subscriptions", "organizations_url": "https://api.github.com/users/danluu/orgs", "repos_url": "https://api.github.com/users/danluu/repos", "events_url": "https://api.github.com/users/danluu/events{/privacy}", "received_events_url": "https://api.github.com/users/danluu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "danluu", "id": 157136, "node_id": "MDQ6VXNlcjE1NzEzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/157136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danluu", "html_url": "https://github.com/danluu", "followers_url": "https://api.github.com/users/danluu/followers", "following_url": "https://api.github.com/users/danluu/following{/other_user}", "gists_url": "https://api.github.com/users/danluu/gists{/gist_id}", "starred_url": "https://api.github.com/users/danluu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danluu/subscriptions", "organizations_url": "https://api.github.com/users/danluu/orgs", "repos_url": "https://api.github.com/users/danluu/repos", "events_url": "https://api.github.com/users/danluu/events{/privacy}", "received_events_url": "https://api.github.com/users/danluu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "212d77efcc2724cde74de3297b8d259675ce7bab", "url": "https://api.github.com/repos/rust-lang/rust/commits/212d77efcc2724cde74de3297b8d259675ce7bab", "html_url": "https://github.com/rust-lang/rust/commit/212d77efcc2724cde74de3297b8d259675ce7bab"}], "stats": {"total": 17, "additions": 8, "deletions": 9}, "files": [{"sha": "611a4b9ccabdd7a9996c2365d170414a7642ac17", "filename": "src/test/run-pass/infinite-loops.rs", "status": "modified", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/e9814da3c0959247a79cffca8af3f07d124a8e49/src%2Ftest%2Frun-pass%2Finfinite-loops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e9814da3c0959247a79cffca8af3f07d124a8e49/src%2Ftest%2Frun-pass%2Finfinite-loops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Finfinite-loops.rs?ref=e9814da3c0959247a79cffca8af3f07d124a8e49", "patch": "@@ -15,16 +15,15 @@\n // xfail-test\n \n extern mod std;\n-use task::join;\n-\n-fn loop(n: int) {\n-    let t1: task;\n-    let t2: task;\n-\n-    if n > 0 { t1 = spawn loop(n - 1); t2 = spawn loop(n - 1); }\n-\n \n+fn loopy(n: int) {\n+    if n > 0 { do spawn { loopy(n - 1) }; do spawn { loopy(n - 1) }; }\n     loop { }\n }\n \n-pub fn main() { let t: task = spawn loop(5); join(t); }\n+pub fn main() { \n+    // Commenting this out, as this will hang forever otherwise.\n+    // Even after seeing the comment above, I'm not sure what the\n+    // intention of this test is.\n+    // do spawn { loopy(5) }; \n+}"}]}