{"sha": "bd0fba207be439799148cd1e9caddd625accfb12", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJkMGZiYTIwN2JlNDM5Nzk5MTQ4Y2QxZTljYWRkZDYyNWFjY2ZiMTI=", "commit": {"author": {"name": "J. Ryan Stinnett", "email": "jryans@gmail.com", "date": "2020-11-13T05:27:36Z"}, "committer": {"name": "J. Ryan Stinnett", "email": "jryans@gmail.com", "date": "2020-11-13T05:34:03Z"}, "message": "Clean up outdated `use_once_payload` pretty printer comment\n\nWhile reading some parts of the pretty printer code, I noticed this old comment\nwhich seemed out of place. The `use_once_payload` this outdated comment mentions\nwas removed in 2017 in 40f03a1e0d6702add1922f82d716d5b2c23a59f0, so this\ncompletes the work by removing the comment.", "tree": {"sha": "554cab929d44ad71d255f60c452257d50f956b37", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/554cab929d44ad71d255f60c452257d50f956b37"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bd0fba207be439799148cd1e9caddd625accfb12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bd0fba207be439799148cd1e9caddd625accfb12", "html_url": "https://github.com/rust-lang/rust/commit/bd0fba207be439799148cd1e9caddd625accfb12", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bd0fba207be439799148cd1e9caddd625accfb12/comments", "author": {"login": "jryans", "id": 279572, "node_id": "MDQ6VXNlcjI3OTU3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/279572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jryans", "html_url": "https://github.com/jryans", "followers_url": "https://api.github.com/users/jryans/followers", "following_url": "https://api.github.com/users/jryans/following{/other_user}", "gists_url": "https://api.github.com/users/jryans/gists{/gist_id}", "starred_url": "https://api.github.com/users/jryans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jryans/subscriptions", "organizations_url": "https://api.github.com/users/jryans/orgs", "repos_url": "https://api.github.com/users/jryans/repos", "events_url": "https://api.github.com/users/jryans/events{/privacy}", "received_events_url": "https://api.github.com/users/jryans/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jryans", "id": 279572, "node_id": "MDQ6VXNlcjI3OTU3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/279572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jryans", "html_url": "https://github.com/jryans", "followers_url": "https://api.github.com/users/jryans/followers", "following_url": "https://api.github.com/users/jryans/following{/other_user}", "gists_url": "https://api.github.com/users/jryans/gists{/gist_id}", "starred_url": "https://api.github.com/users/jryans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jryans/subscriptions", "organizations_url": "https://api.github.com/users/jryans/orgs", "repos_url": "https://api.github.com/users/jryans/repos", "events_url": "https://api.github.com/users/jryans/events{/privacy}", "received_events_url": "https://api.github.com/users/jryans/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3b0ef34f64c5e97cd485b0f8a4103438ca160a51", "url": "https://api.github.com/repos/rust-lang/rust/commits/3b0ef34f64c5e97cd485b0f8a4103438ca160a51", "html_url": "https://github.com/rust-lang/rust/commit/3b0ef34f64c5e97cd485b0f8a4103438ca160a51"}], "stats": {"total": 3, "additions": 0, "deletions": 3}, "files": [{"sha": "f74e1fe61e7ef209f14667dcd19b79bd74fe6de4", "filename": "compiler/rustc_driver/src/pretty.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bd0fba207be439799148cd1e9caddd625accfb12/compiler%2Frustc_driver%2Fsrc%2Fpretty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd0fba207be439799148cd1e9caddd625accfb12/compiler%2Frustc_driver%2Fsrc%2Fpretty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_driver%2Fsrc%2Fpretty.rs?ref=bd0fba207be439799148cd1e9caddd625accfb12", "patch": "@@ -32,9 +32,6 @@ use crate::abort_on_err;\n // Note that since the `&PrinterSupport` is freshly constructed on each\n // call, it would not make sense to try to attach the lifetime of `self`\n // to the lifetime of the `&PrinterObject`.\n-//\n-// (The `use_once_payload` is working around the current lack of once\n-// functions in the compiler.)\n \n /// Constructs a `PrinterSupport` object and passes it to `f`.\n fn call_with_pp_support<'tcx, A, F>("}]}