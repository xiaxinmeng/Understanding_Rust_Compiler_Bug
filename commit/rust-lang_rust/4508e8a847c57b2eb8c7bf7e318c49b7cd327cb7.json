{"sha": "4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ1MDhlOGE4NDdjNTdiMmViOGM3YmY3ZTMxOGM0OWI3Y2QzMjdjYjc=", "commit": {"author": {"name": "Vadim Chugunov", "email": "vadimcn@gmail.com", "date": "2016-11-24T00:09:51Z"}, "committer": {"name": "Vadim Chugunov", "email": "vadimcn@gmail.com", "date": "2016-12-02T00:22:04Z"}, "message": "Fix rust_test_helpers linkage.", "tree": {"sha": "6c911eadaceb815a61971c717798d4914b75a9cc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6c911eadaceb815a61971c717798d4914b75a9cc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "html_url": "https://github.com/rust-lang/rust/commit/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/comments", "author": {"login": "vadimcn", "id": 3203809, "node_id": "MDQ6VXNlcjMyMDM4MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/3203809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vadimcn", "html_url": "https://github.com/vadimcn", "followers_url": "https://api.github.com/users/vadimcn/followers", "following_url": "https://api.github.com/users/vadimcn/following{/other_user}", "gists_url": "https://api.github.com/users/vadimcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/vadimcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vadimcn/subscriptions", "organizations_url": "https://api.github.com/users/vadimcn/orgs", "repos_url": "https://api.github.com/users/vadimcn/repos", "events_url": "https://api.github.com/users/vadimcn/events{/privacy}", "received_events_url": "https://api.github.com/users/vadimcn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "vadimcn", "id": 3203809, "node_id": "MDQ6VXNlcjMyMDM4MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/3203809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vadimcn", "html_url": "https://github.com/vadimcn", "followers_url": "https://api.github.com/users/vadimcn/followers", "following_url": "https://api.github.com/users/vadimcn/following{/other_user}", "gists_url": "https://api.github.com/users/vadimcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/vadimcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vadimcn/subscriptions", "organizations_url": "https://api.github.com/users/vadimcn/orgs", "repos_url": "https://api.github.com/users/vadimcn/repos", "events_url": "https://api.github.com/users/vadimcn/events{/privacy}", "received_events_url": "https://api.github.com/users/vadimcn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bc019dfb39bab6979009bb89ecc2d3af460b3c37", "url": "https://api.github.com/repos/rust-lang/rust/commits/bc019dfb39bab6979009bb89ecc2d3af460b3c37", "html_url": "https://github.com/rust-lang/rust/commit/bc019dfb39bab6979009bb89ecc2d3af460b3c37"}], "stats": {"total": 68, "additions": 34, "deletions": 34}, "files": [{"sha": "23dd060318484ab9a1cf7c4f7c34a4a90d1e6930", "filename": "src/test/run-pass/abi-sysv64-arg-passing.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fabi-sysv64-arg-passing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fabi-sysv64-arg-passing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fabi-sysv64-arg-passing.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -98,7 +98,7 @@ mod tests {\n     #[derive(Copy, Clone)]\n     pub struct Floats { a: f64, b: u8, c: f64 }\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern \"sysv64\" {\n         pub fn rust_int8_to_int32(_: i8) -> i32;\n         pub fn rust_dbg_extern_identity_u8(v: u8) -> u8;"}, {"sha": "208b4df3c3e7e5c542c0666e558dfb3b58c47521", "filename": "src/test/run-pass/anon-extern-mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fanon-extern-mod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fanon-extern-mod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fanon-extern-mod.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -14,7 +14,7 @@\n \n extern crate libc;\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     fn rust_get_test_int() -> libc::intptr_t;\n }"}, {"sha": "741ce351da38e090cda35b208aa84c418ab9e73b", "filename": "src/test/run-pass/auxiliary/anon-extern-mod-cross-crate-1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fauxiliary%2Fanon-extern-mod-cross-crate-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fauxiliary%2Fanon-extern-mod-cross-crate-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fauxiliary%2Fanon-extern-mod-cross-crate-1.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -13,7 +13,7 @@\n \n extern crate libc;\n \n-#[link(name=\"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_get_test_int() -> libc::intptr_t;\n }"}, {"sha": "150dffeea886c3d7701737772db700393db4482e", "filename": "src/test/run-pass/auxiliary/extern-crosscrate-source.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fauxiliary%2Fextern-crosscrate-source.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fauxiliary%2Fextern-crosscrate-source.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fauxiliary%2Fextern-crosscrate-source.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -17,7 +17,7 @@ extern crate libc;\n pub mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "cef36274c625e4884bdd17971a5eb52ab5acda9e", "filename": "src/test/run-pass/auxiliary/foreign_lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fauxiliary%2Fforeign_lib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fauxiliary%2Fforeign_lib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fauxiliary%2Fforeign_lib.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -15,7 +15,7 @@\n pub mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern {\n         pub fn rust_get_test_int() -> libc::intptr_t;\n     }"}, {"sha": "5319693405b5dd5b2e76f9c97d7c7a1ede1fefd8", "filename": "src/test/run-pass/c-stack-as-value.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fc-stack-as-value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fc-stack-as-value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fc-stack-as-value.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -15,7 +15,7 @@\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern {\n         pub fn rust_get_test_int() -> libc::intptr_t;\n     }"}, {"sha": "bf94dd178821a1176d6aba642cfcfc5c9f586f0a", "filename": "src/test/run-pass/cabi-int-widening.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fcabi-int-widening.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fcabi-int-widening.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fcabi-int-widening.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     fn rust_int8_to_int32(_: i8) -> i32;\n }"}, {"sha": "6a9da767ad6ebb633ac5ab7f9741cee6737daa11", "filename": "src/test/run-pass/extern-call-deep.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-call-deep.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-call-deep.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-call-deep.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -15,7 +15,7 @@ extern crate libc;\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "3bdc8c18864fd6b0250ff0f96db3f3f41d9137ca", "filename": "src/test/run-pass/extern-call-deep2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-call-deep2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-call-deep2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-call-deep2.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -18,7 +18,7 @@ use std::thread;\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "256eedccb8bfaa9bac1ddb1453b4678910f60dd5", "filename": "src/test/run-pass/extern-call-indirect.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-call-indirect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-call-indirect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-call-indirect.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -15,7 +15,7 @@ extern crate libc;\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "a27474dcf866a1669bcf24c633d63184a53ff2fe", "filename": "src/test/run-pass/extern-call-scrub.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-call-scrub.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-call-scrub.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-call-scrub.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -22,7 +22,7 @@ use std::thread;\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "afdd53db775a85fa5e81bef7b84a3fb42d630e9a", "filename": "src/test/run-pass/extern-pass-TwoU16s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU16s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU16s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU16s.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -16,7 +16,7 @@ pub struct TwoU16s {\n     one: u16, two: u16\n }\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_identity_TwoU16s(v: TwoU16s) -> TwoU16s;\n }"}, {"sha": "035084ae9bd3a96d177f2c636a1f84bdca7e26f5", "filename": "src/test/run-pass/extern-pass-TwoU32s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU32s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU32s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU32s.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -16,7 +16,7 @@ pub struct TwoU32s {\n     one: u32, two: u32\n }\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_identity_TwoU32s(v: TwoU32s) -> TwoU32s;\n }"}, {"sha": "cb1a4d278256a72b501bcdbe34763802926ac375", "filename": "src/test/run-pass/extern-pass-TwoU64s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU64s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU64s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU64s.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -16,7 +16,7 @@ pub struct TwoU64s {\n     one: u64, two: u64\n }\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_identity_TwoU64s(v: TwoU64s) -> TwoU64s;\n }"}, {"sha": "657348c99aad8741626a591a76a294810084b018", "filename": "src/test/run-pass/extern-pass-TwoU8s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU8s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU8s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU8s.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -16,7 +16,7 @@ pub struct TwoU8s {\n     one: u8, two: u8\n }\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_identity_TwoU8s(v: TwoU8s) -> TwoU8s;\n }"}, {"sha": "9042aed6639b80ab209face85154d1d7bcff2622", "filename": "src/test/run-pass/extern-pass-char.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-char.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-char.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-char.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -11,7 +11,7 @@\n // Test a function that takes/returns a u8.\n \n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_identity_u8(v: u8) -> u8;\n }"}, {"sha": "38d29180fbc8f72328788f47d0f8200f8992f3f5", "filename": "src/test/run-pass/extern-pass-double.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-double.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-double.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-double.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -9,7 +9,7 @@\n // except according to those terms.\n \n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_identity_double(v: f64) -> f64;\n }"}, {"sha": "cce7dc5bf32ef8e23815840e811d03818ae55cd5", "filename": "src/test/run-pass/extern-pass-empty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-empty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-empty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-empty.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -30,7 +30,7 @@ struct ManyInts {\n \n struct Empty;\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     fn rust_dbg_extern_empty_struct(v1: ManyInts, e: Empty, v2: ManyInts);\n }"}, {"sha": "ed254ac46f20bf9ad7fa277ee08638bb1200ee2f", "filename": "src/test/run-pass/extern-pass-u32.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-u32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-u32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-u32.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -11,7 +11,7 @@\n // Test a function that takes/returns a u32.\n \n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_identity_u32(v: u32) -> u32;\n }"}, {"sha": "6fc630e6d7e1a2612b855bf08ece0a7249ff5012", "filename": "src/test/run-pass/extern-pass-u64.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-u64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-pass-u64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-u64.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -11,7 +11,7 @@\n // Test a call to a function that takes/returns a u64.\n \n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_identity_u64(v: u64) -> u64;\n }"}, {"sha": "ec1c6130e7adca5181df211a774d9c08704413f8", "filename": "src/test/run-pass/extern-return-TwoU16s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-return-TwoU16s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-return-TwoU16s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-return-TwoU16s.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -13,7 +13,7 @@ pub struct TwoU16s {\n     one: u16, two: u16\n }\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_return_TwoU16s() -> TwoU16s;\n }"}, {"sha": "e829e993052a50bcdc073e7bda45b7a94d3c8178", "filename": "src/test/run-pass/extern-return-TwoU32s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-return-TwoU32s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-return-TwoU32s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-return-TwoU32s.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -13,7 +13,7 @@ pub struct TwoU32s {\n     one: u32, two: u32\n }\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_return_TwoU32s() -> TwoU32s;\n }"}, {"sha": "ef7325b33fe3d080211abf3240d5aa86225ccadb", "filename": "src/test/run-pass/extern-return-TwoU64s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-return-TwoU64s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-return-TwoU64s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-return-TwoU64s.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -13,7 +13,7 @@ pub struct TwoU64s {\n     one: u64, two: u64\n }\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_return_TwoU64s() -> TwoU64s;\n }"}, {"sha": "46f2e81a5564ac5fe20e2a5bba42deff64ac0564", "filename": "src/test/run-pass/extern-return-TwoU8s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-return-TwoU8s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fextern-return-TwoU8s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-return-TwoU8s.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -13,7 +13,7 @@ pub struct TwoU8s {\n     one: u8, two: u8\n }\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn rust_dbg_extern_return_TwoU8s() -> TwoU8s;\n }"}, {"sha": "697e9074c448c1056889f906cc5ae174881ea267", "filename": "src/test/run-pass/foreign-call-no-runtime.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fforeign-call-no-runtime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fforeign-call-no-runtime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fforeign-call-no-runtime.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -18,7 +18,7 @@ extern crate libc;\n use std::mem;\n use std::thread;\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t),\n                      data: libc::uintptr_t) -> libc::uintptr_t;"}, {"sha": "2d4542540e7a3df8db4dde6cd4d16d691bc5cf92", "filename": "src/test/run-pass/foreign-fn-with-byval.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fforeign-fn-with-byval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fforeign-fn-with-byval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fforeign-fn-with-byval.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -16,7 +16,7 @@ pub struct S {\n     z: u64,\n }\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     pub fn get_x(x: S) -> u64;\n     pub fn get_y(x: S) -> u64;"}, {"sha": "979e57eba9d1a49dd13caf8ec25feb953ce1cad8", "filename": "src/test/run-pass/foreign-no-abi.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fforeign-no-abi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fforeign-no-abi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fforeign-no-abi.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -17,7 +17,7 @@\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern {\n         pub fn rust_get_test_int() -> libc::intptr_t;\n     }"}, {"sha": "8f83e51f0a02de2a18f9fc03e5349cf568ec6b6c", "filename": "src/test/run-pass/issue-28676.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fissue-28676.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fissue-28676.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-28676.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -15,7 +15,7 @@ pub struct Quad { a: u64, b: u64, c: u64, d: u64 }\n mod rustrt {\n     use super::Quad;\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern {\n         pub fn get_c_many_params(_: *const (), _: *const (),\n                                  _: *const (), _: *const (), f: Quad) -> u64;"}, {"sha": "e4d528e80e1044fa47fde4a2b0b2b4143d5d2a81", "filename": "src/test/run-pass/mir_trans_calls_variadic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fmir_trans_calls_variadic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fmir_trans_calls_variadic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmir_trans_calls_variadic.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     fn rust_interesting_average(_: i64, ...) -> f64;\n }"}, {"sha": "0f98cfe27f648a554d05312030d1d44f91c20270", "filename": "src/test/run-pass/segfault-no-out-of-stack.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fsegfault-no-out-of-stack.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fsegfault-no-out-of-stack.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fsegfault-no-out-of-stack.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -17,7 +17,7 @@ extern crate libc;\n use std::process::{Command, ExitStatus};\n use std::env;\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     fn rust_get_null_ptr() -> *mut ::libc::c_char;\n }"}, {"sha": "24d58487f061e986d7e6302a105b77fa0562c7c3", "filename": "src/test/run-pass/static-mut-foreign.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fstatic-mut-foreign.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fstatic-mut-foreign.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstatic-mut-foreign.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -17,7 +17,7 @@\n \n extern crate libc;\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     static mut rust_dbg_static_mut: libc::c_int;\n     pub fn rust_dbg_static_mut_check_four();"}, {"sha": "3d4601ad0cfa120dc2eafdadcb01dd00e46e3782", "filename": "src/test/run-pass/struct-return.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fstruct-return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fstruct-return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstruct-return.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -18,7 +18,7 @@ pub struct Floats { a: f64, b: u8, c: f64 }\n mod rustrt {\n     use super::{Floats, Quad};\n \n-    #[link(name = \"rust_test_helpers\")]\n+    #[link(name = \"rust_test_helpers\", kind = \"static\")]\n     extern {\n         pub fn rust_dbg_abi_1(q: Quad) -> Quad;\n         pub fn rust_dbg_abi_2(f: Floats) -> Floats;"}, {"sha": "13dfd414615c5db642239597ea8adac9a6e40408", "filename": "src/test/run-pass/union/union-c-interop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Funion%2Funion-c-interop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Funion%2Funion-c-interop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Funion%2Funion-c-interop.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -25,7 +25,7 @@ union LARGE_INTEGER {\n   QuadPart: u64,\n }\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern \"C\" {\n     fn increment_all_parts(_: LARGE_INTEGER) -> LARGE_INTEGER;\n }"}, {"sha": "ec6261febc54db26ad14bb018e442ac7c374049f", "filename": "src/test/run-pass/variadic-ffi.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fvariadic-ffi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7/src%2Ftest%2Frun-pass%2Fvariadic-ffi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fvariadic-ffi.rs?ref=4508e8a847c57b2eb8c7bf7e318c49b7cd327cb7", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#[link(name = \"rust_test_helpers\")]\n+#[link(name = \"rust_test_helpers\", kind = \"static\")]\n extern {\n     fn rust_interesting_average(_: u64, ...) -> f64;\n }"}]}