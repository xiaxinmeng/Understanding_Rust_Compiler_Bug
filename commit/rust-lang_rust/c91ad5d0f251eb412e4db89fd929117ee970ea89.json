{"sha": "c91ad5d0f251eb412e4db89fd929117ee970ea89", "node_id": "C_kwDOAAsO6NoAKGM5MWFkNWQwZjI1MWViNDEyZTRkYjg5ZmQ5MjkxMTdlZTk3MGVhODk", "commit": {"author": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2022-01-09T22:08:08Z"}, "committer": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2022-01-10T22:35:17Z"}, "message": "Improve documentation for File::options to give a more likely example\n\n`File::options().read(true).open(...)` is equivalent to just\n`File::open`. Change the example to set the `append` flag instead, and\nthen change the filename to something more likely to be written in\nappend mode.", "tree": {"sha": "30f2ae75fd46cfe10cec076144f0d527ca916478", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/30f2ae75fd46cfe10cec076144f0d527ca916478"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c91ad5d0f251eb412e4db89fd929117ee970ea89", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c91ad5d0f251eb412e4db89fd929117ee970ea89", "html_url": "https://github.com/rust-lang/rust/commit/c91ad5d0f251eb412e4db89fd929117ee970ea89", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c91ad5d0f251eb412e4db89fd929117ee970ea89/comments", "author": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "89b9f7b284aacc5f8613438b80e4dd7bdd10549e", "url": "https://api.github.com/repos/rust-lang/rust/commits/89b9f7b284aacc5f8613438b80e4dd7bdd10549e", "html_url": "https://github.com/rust-lang/rust/commit/89b9f7b284aacc5f8613438b80e4dd7bdd10549e"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "a00b5e1232369fd284697cc14d9b3f6206519df1", "filename": "library/std/src/fs.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/c91ad5d0f251eb412e4db89fd929117ee970ea89/library%2Fstd%2Fsrc%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c91ad5d0f251eb412e4db89fd929117ee970ea89/library%2Fstd%2Fsrc%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Ffs.rs?ref=c91ad5d0f251eb412e4db89fd929117ee970ea89", "patch": "@@ -356,9 +356,10 @@ impl File {\n     /// open or create a file with specific options if `open()` or `create()`\n     /// are not appropriate.\n     ///\n-    /// It is equivalent to `OpenOptions::new()` but allows you to write more\n-    /// readable code. Instead of `OpenOptions::new().read(true).open(\"foo.txt\")`\n-    /// you can write `File::options().read(true).open(\"foo.txt\")`. This\n+    /// It is equivalent to `OpenOptions::new()`, but allows you to write more\n+    /// readable code. Instead of\n+    /// `OpenOptions::new().append(true).open(\"example.log\")`,\n+    /// you can write `File::options().append(true).open(\"example.log\")`. This\n     /// also avoids the need to import `OpenOptions`.\n     ///\n     /// See the [`OpenOptions::new`] function for more details.\n@@ -369,7 +370,7 @@ impl File {\n     /// use std::fs::File;\n     ///\n     /// fn main() -> std::io::Result<()> {\n-    ///     let mut f = File::options().read(true).open(\"foo.txt\")?;\n+    ///     let mut f = File::options().append(true).open(\"example.log\")?;\n     ///     Ok(())\n     /// }\n     /// ```"}]}