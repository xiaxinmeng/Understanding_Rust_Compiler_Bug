{"sha": "e9e844f44cf21bfa9ff8931b9256da57a2dec79f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU5ZTg0NGY0NGNmMjFiZmE5ZmY4OTMxYjkyNTZkYTU3YTJkZWM3OWY=", "commit": {"author": {"name": "Fabian Wolff", "email": "fabian.wolff@alumni.ethz.ch", "date": "2021-06-17T15:28:55Z"}, "committer": {"name": "Fabian Wolff", "email": "fabian.wolff@alumni.ethz.ch", "date": "2021-06-17T15:28:55Z"}, "message": "Move regression test for #83512 into doc_keyword.rs", "tree": {"sha": "5ad11cc68d01e0a7539317e9a9e712332dd352e6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5ad11cc68d01e0a7539317e9a9e712332dd352e6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e9e844f44cf21bfa9ff8931b9256da57a2dec79f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e9e844f44cf21bfa9ff8931b9256da57a2dec79f", "html_url": "https://github.com/rust-lang/rust/commit/e9e844f44cf21bfa9ff8931b9256da57a2dec79f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e9e844f44cf21bfa9ff8931b9256da57a2dec79f/comments", "author": {"login": "FabianWolff", "id": 16052130, "node_id": "MDQ6VXNlcjE2MDUyMTMw", "avatar_url": "https://avatars.githubusercontent.com/u/16052130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FabianWolff", "html_url": "https://github.com/FabianWolff", "followers_url": "https://api.github.com/users/FabianWolff/followers", "following_url": "https://api.github.com/users/FabianWolff/following{/other_user}", "gists_url": "https://api.github.com/users/FabianWolff/gists{/gist_id}", "starred_url": "https://api.github.com/users/FabianWolff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FabianWolff/subscriptions", "organizations_url": "https://api.github.com/users/FabianWolff/orgs", "repos_url": "https://api.github.com/users/FabianWolff/repos", "events_url": "https://api.github.com/users/FabianWolff/events{/privacy}", "received_events_url": "https://api.github.com/users/FabianWolff/received_events", "type": "User", "site_admin": false}, "committer": {"login": "FabianWolff", "id": 16052130, "node_id": "MDQ6VXNlcjE2MDUyMTMw", "avatar_url": "https://avatars.githubusercontent.com/u/16052130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FabianWolff", "html_url": "https://github.com/FabianWolff", "followers_url": "https://api.github.com/users/FabianWolff/followers", "following_url": "https://api.github.com/users/FabianWolff/following{/other_user}", "gists_url": "https://api.github.com/users/FabianWolff/gists{/gist_id}", "starred_url": "https://api.github.com/users/FabianWolff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FabianWolff/subscriptions", "organizations_url": "https://api.github.com/users/FabianWolff/orgs", "repos_url": "https://api.github.com/users/FabianWolff/repos", "events_url": "https://api.github.com/users/FabianWolff/events{/privacy}", "received_events_url": "https://api.github.com/users/FabianWolff/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2cedd86b1c25db321e7e023f6a429e23425a7e00", "url": "https://api.github.com/repos/rust-lang/rust/commits/2cedd86b1c25db321e7e023f6a429e23425a7e00", "html_url": "https://github.com/rust-lang/rust/commit/2cedd86b1c25db321e7e023f6a429e23425a7e00"}], "stats": {"total": 34, "additions": 15, "deletions": 19}, "files": [{"sha": "4518f77ef933dec06e287d9104895f23b62549d2", "filename": "src/test/ui/rustdoc/doc_keyword.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/e9e844f44cf21bfa9ff8931b9256da57a2dec79f/src%2Ftest%2Fui%2Frustdoc%2Fdoc_keyword.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e9e844f44cf21bfa9ff8931b9256da57a2dec79f/src%2Ftest%2Fui%2Frustdoc%2Fdoc_keyword.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frustdoc%2Fdoc_keyword.rs?ref=e9e844f44cf21bfa9ff8931b9256da57a2dec79f", "patch": "@@ -10,3 +10,11 @@ mod foo {\n \n #[doc(keyword = \"hall\")] //~ ERROR\n fn foo() {}\n+\n+\n+// Regression test for the ICE described in #83512.\n+trait Foo {\n+    #[doc(keyword = \"match\")]\n+    //~^ ERROR: `#[doc(keyword = \"...\")]` can only be used on modules\n+    fn quux() {}\n+}"}, {"sha": "6ba7034d5412212acfa48d3873a7026d84573b06", "filename": "src/test/ui/rustdoc/doc_keyword.stderr", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/e9e844f44cf21bfa9ff8931b9256da57a2dec79f/src%2Ftest%2Fui%2Frustdoc%2Fdoc_keyword.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e9e844f44cf21bfa9ff8931b9256da57a2dec79f/src%2Ftest%2Fui%2Frustdoc%2Fdoc_keyword.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frustdoc%2Fdoc_keyword.stderr?ref=e9e844f44cf21bfa9ff8931b9256da57a2dec79f", "patch": "@@ -10,11 +10,17 @@ error: `#[doc(keyword = \"...\")]` can only be used on modules\n LL | #[doc(keyword = \"hall\")]\n    |       ^^^^^^^^^^^^^^^^\n \n+error: `#[doc(keyword = \"...\")]` can only be used on modules\n+  --> $DIR/doc_keyword.rs:17:11\n+   |\n+LL |     #[doc(keyword = \"match\")]\n+   |           ^^^^^^^^^^^^^^^^^\n+\n error: `#![doc(keyword = \"...\")]` isn't allowed as a crate-level attribute\n   --> $DIR/doc_keyword.rs:4:8\n    |\n LL | #![doc(keyword = \"hello\")]\n    |        ^^^^^^^^^^^^^^^^^\n \n-error: aborting due to 3 previous errors\n+error: aborting due to 4 previous errors\n "}, {"sha": "378f685ed30aa72a737b197ae67e75fb73980ba9", "filename": "src/test/ui/rustdoc/issue-83512.rs", "status": "removed", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/2cedd86b1c25db321e7e023f6a429e23425a7e00/src%2Ftest%2Fui%2Frustdoc%2Fissue-83512.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2cedd86b1c25db321e7e023f6a429e23425a7e00/src%2Ftest%2Fui%2Frustdoc%2Fissue-83512.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frustdoc%2Fissue-83512.rs?ref=2cedd86b1c25db321e7e023f6a429e23425a7e00", "patch": "@@ -1,10 +0,0 @@\n-// Regression test for the ICE described in #83512.\n-\n-#![feature(doc_keyword)]\n-#![crate_type=\"lib\"]\n-\n-trait Foo {\n-    #[doc(keyword = \"match\")]\n-    //~^ ERROR: `#[doc(keyword = \"...\")]` can only be used on modules\n-    fn quux() {}\n-}"}, {"sha": "da7e480c63e37dda758d2957adc2ae4dbe9eceec", "filename": "src/test/ui/rustdoc/issue-83512.stderr", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/2cedd86b1c25db321e7e023f6a429e23425a7e00/src%2Ftest%2Fui%2Frustdoc%2Fissue-83512.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2cedd86b1c25db321e7e023f6a429e23425a7e00/src%2Ftest%2Fui%2Frustdoc%2Fissue-83512.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frustdoc%2Fissue-83512.stderr?ref=2cedd86b1c25db321e7e023f6a429e23425a7e00", "patch": "@@ -1,8 +0,0 @@\n-error: `#[doc(keyword = \"...\")]` can only be used on modules\n-  --> $DIR/issue-83512.rs:7:11\n-   |\n-LL |     #[doc(keyword = \"match\")]\n-   |           ^^^^^^^^^^^^^^^^^\n-\n-error: aborting due to previous error\n-"}]}