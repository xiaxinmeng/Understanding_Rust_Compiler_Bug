{"sha": "4d031d7f86a66270d3cfc28a2ecf75706a67054b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRkMDMxZDdmODZhNjYyNzBkM2NmYzI4YTJlY2Y3NTcwNmE2NzA1NGI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-10-11T15:17:09Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-10-11T15:17:09Z"}, "message": "auto merge of #17940 : pnkfelix/rust/fix-check-stage1-on-clean-dir, r=huonw\n\ncompiletest needs to link to native crate, or at least the `rt` library.\r\n\r\n(I tried using a dependency on `rustrt` instead, and that did not resolve the problem.  But this does.)\r\n\r\nPartially addresses #17883", "tree": {"sha": "daa727062dde255a56ebadedde4c94f286dc7488", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/daa727062dde255a56ebadedde4c94f286dc7488"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4d031d7f86a66270d3cfc28a2ecf75706a67054b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4d031d7f86a66270d3cfc28a2ecf75706a67054b", "html_url": "https://github.com/rust-lang/rust/commit/4d031d7f86a66270d3cfc28a2ecf75706a67054b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4d031d7f86a66270d3cfc28a2ecf75706a67054b/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9b9833299245cc1eac68b52169e9152d0f412d6b", "url": "https://api.github.com/repos/rust-lang/rust/commits/9b9833299245cc1eac68b52169e9152d0f412d6b", "html_url": "https://github.com/rust-lang/rust/commit/9b9833299245cc1eac68b52169e9152d0f412d6b"}, {"sha": "b63a18f585d91cc1d6905c3d66431bf11c75b760", "url": "https://api.github.com/repos/rust-lang/rust/commits/b63a18f585d91cc1d6905c3d66431bf11c75b760", "html_url": "https://github.com/rust-lang/rust/commit/b63a18f585d91cc1d6905c3d66431bf11c75b760"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "03716f5d7f6803f234c682956fbefe81d67e6f5f", "filename": "mk/crates.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4d031d7f86a66270d3cfc28a2ecf75706a67054b/mk%2Fcrates.mk", "raw_url": "https://github.com/rust-lang/rust/raw/4d031d7f86a66270d3cfc28a2ecf75706a67054b/mk%2Fcrates.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcrates.mk?ref=4d031d7f86a66270d3cfc28a2ecf75706a67054b", "patch": "@@ -101,7 +101,7 @@ DEPS_regex := std\n DEPS_regex_macros = rustc syntax std regex\n DEPS_fmt_macros = std\n \n-TOOL_DEPS_compiletest := test getopts\n+TOOL_DEPS_compiletest := test getopts native\n TOOL_DEPS_rustdoc := rustdoc native\n TOOL_DEPS_rustc := rustc native\n TOOL_SOURCE_compiletest := $(S)src/compiletest/compiletest.rs"}]}