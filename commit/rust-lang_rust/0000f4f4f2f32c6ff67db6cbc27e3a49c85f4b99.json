{"sha": "0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAwMDBmNGY0ZjJmMzJjNmZmNjdkYjZjYmMyN2UzYTQ5Yzg1ZjRiOTk=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-02-02T20:45:15Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-02-02T20:45:15Z"}, "message": "G: static items", "tree": {"sha": "44333026e9a488deef5ebc73eb6c8a277d1975dc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/44333026e9a488deef5ebc73eb6c8a277d1975dc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "html_url": "https://github.com/rust-lang/rust/commit/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "049c9b60fb0c59625a37b0349aa27acaa3cf884a", "url": "https://api.github.com/repos/rust-lang/rust/commits/049c9b60fb0c59625a37b0349aa27acaa3cf884a", "html_url": "https://github.com/rust-lang/rust/commit/049c9b60fb0c59625a37b0349aa27acaa3cf884a"}], "stats": {"total": 75, "additions": 67, "deletions": 8}, "files": [{"sha": "53248519f64c42c9ef32018af386e0b27d8ce17a", "filename": "grammar.ron", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/grammar.ron", "raw_url": "https://github.com/rust-lang/rust/raw/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/grammar.ron", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/grammar.ron?ref=0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "patch": "@@ -24,6 +24,7 @@ Grammar(\n         \"match\",\n         \"const\",\n         \"static\",\n+        \"mut\",\n     ],\n     tokens: [\n         \"ERROR\",\n@@ -87,6 +88,7 @@ Grammar(\n         \"EXTERN_CRATE_ITEM\",\n         \"MOD_ITEM\",\n         \"USE_ITEM\",\n+        \"STATIC_ITEM\",\n \n         \"EXTERN_BLOCK\",\n         \"ENUM_VARIANT\","}, {"sha": "9930de34783f5d535d1cad22381ad922365e683d", "filename": "src/parser/event_parser/grammar/items/mod.rs", "status": "modified", "additions": 22, "deletions": 6, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/src%2Fparser%2Fevent_parser%2Fgrammar%2Fitems%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/src%2Fparser%2Fevent_parser%2Fgrammar%2Fitems%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fevent_parser%2Fgrammar%2Fitems%2Fmod.rs?ref=0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "patch": "@@ -46,6 +46,10 @@ fn item(p: &mut Parser) {\n                 }\n             }\n         }\n+        STATIC_KW => {\n+            static_item(p);\n+            STATIC_ITEM\n+        }\n         MOD_KW => {\n             mod_item(p);\n             MOD_ITEM\n@@ -92,6 +96,24 @@ fn extern_crate_item(p: &mut Parser) {\n     p.expect(IDENT) && alias(p) && p.expect(SEMI);\n }\n \n+fn extern_block(p: &mut Parser) {\n+    assert!(p.at(L_CURLY));\n+    p.bump();\n+    p.expect(R_CURLY);\n+}\n+\n+fn static_item(p: &mut Parser) {\n+    assert!(p.at(STATIC_KW));\n+    p.bump();\n+    p.eat(MUT_KW);\n+    p.expect(IDENT);\n+    p.expect(COLON);\n+    types::type_ref(p);\n+    p.expect(EQ);\n+    expressions::expr(p);\n+    p.expect(SEMI);\n+}\n+\n fn mod_item(p: &mut Parser) {\n     assert!(p.at(MOD_KW));\n     p.bump();\n@@ -104,12 +126,6 @@ fn mod_item(p: &mut Parser) {\n     }\n }\n \n-fn extern_block(p: &mut Parser) {\n-    assert!(p.at(L_CURLY));\n-    p.bump();\n-    p.expect(R_CURLY);\n-}\n-\n fn abi(p: &mut Parser) {\n     assert!(p.at(EXTERN_KW));\n     let abi = p.start();"}, {"sha": "8d21d3fb7bbd9637b9d6da9b84e60ae0ba431b29", "filename": "src/syntax_kinds.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/src%2Fsyntax_kinds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/src%2Fsyntax_kinds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsyntax_kinds.rs?ref=0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "patch": "@@ -30,6 +30,7 @@ pub enum SyntaxKind {\n     MATCH_KW,\n     CONST_KW,\n     STATIC_KW,\n+    MUT_KW,\n     ERROR,\n     IDENT,\n     UNDERSCORE,\n@@ -88,6 +89,7 @@ pub enum SyntaxKind {\n     EXTERN_CRATE_ITEM,\n     MOD_ITEM,\n     USE_ITEM,\n+    STATIC_ITEM,\n     EXTERN_BLOCK,\n     ENUM_VARIANT,\n     NAMED_FIELD,\n@@ -141,6 +143,7 @@ impl SyntaxKind {\n             MATCH_KW => &SyntaxInfo { name: \"MATCH_KW\" },\n             CONST_KW => &SyntaxInfo { name: \"CONST_KW\" },\n             STATIC_KW => &SyntaxInfo { name: \"STATIC_KW\" },\n+            MUT_KW => &SyntaxInfo { name: \"MUT_KW\" },\n             ERROR => &SyntaxInfo { name: \"ERROR\" },\n             IDENT => &SyntaxInfo { name: \"IDENT\" },\n             UNDERSCORE => &SyntaxInfo { name: \"UNDERSCORE\" },\n@@ -199,6 +202,7 @@ impl SyntaxKind {\n             EXTERN_CRATE_ITEM => &SyntaxInfo { name: \"EXTERN_CRATE_ITEM\" },\n             MOD_ITEM => &SyntaxInfo { name: \"MOD_ITEM\" },\n             USE_ITEM => &SyntaxInfo { name: \"USE_ITEM\" },\n+            STATIC_ITEM => &SyntaxInfo { name: \"STATIC_ITEM\" },\n             EXTERN_BLOCK => &SyntaxInfo { name: \"EXTERN_BLOCK\" },\n             ENUM_VARIANT => &SyntaxInfo { name: \"ENUM_VARIANT\" },\n             NAMED_FIELD => &SyntaxInfo { name: \"NAMED_FIELD\" },\n@@ -248,6 +252,7 @@ pub(crate) fn ident_to_keyword(ident: &str) -> Option<SyntaxKind> {\n         \"match\" => Some(MATCH_KW),\n         \"const\" => Some(CONST_KW),\n         \"static\" => Some(STATIC_KW),\n+        \"mut\" => Some(MUT_KW),\n         _ => None,\n     }\n }"}, {"sha": "b74fc606ec6d416b084100beaa5d7ca81656557a", "filename": "tests/data/lexer/0011_keywords.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/tests%2Fdata%2Flexer%2F0011_keywords.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/tests%2Fdata%2Flexer%2F0011_keywords.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Flexer%2F0011_keywords.rs?ref=0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "patch": "@@ -1,2 +1,3 @@\n fn use struct trait enum impl true false as extern crate\n-mod pub self super in where for loop while if match const static\n+mod pub self super in where for loop while if match const\n+static mut"}, {"sha": "05b1f099543b657451f06e50def6a283fcc7a415", "filename": "tests/data/lexer/0011_keywords.txt", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/tests%2Fdata%2Flexer%2F0011_keywords.txt", "raw_url": "https://github.com/rust-lang/rust/raw/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/tests%2Fdata%2Flexer%2F0011_keywords.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Flexer%2F0011_keywords.txt?ref=0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "patch": "@@ -43,6 +43,8 @@ WHITESPACE 1 \" \"\n MATCH_KW 5 \"match\"\n WHITESPACE 1 \" \"\n CONST_KW 5 \"const\"\n-WHITESPACE 1 \" \"\n+WHITESPACE 1 \"\\n\"\n STATIC_KW 6 \"static\"\n+WHITESPACE 1 \" \"\n+MUT_KW 3 \"mut\"\n WHITESPACE 1 \"\\n\""}, {"sha": "5fb92ce33f0d4e63f5cf54e43a5e7ae1363776f4", "filename": "tests/data/parser/ok/0023_static_items.rs", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/tests%2Fdata%2Fparser%2Fok%2F0023_static_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/tests%2Fdata%2Fparser%2Fok%2F0023_static_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0023_static_items.rs?ref=0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "patch": "@@ -0,0 +1,2 @@\n+static FOO: u32 = 1;\n+static mut BAR: i32 = 92;"}, {"sha": "7cd2228fabe53339ffdcdc4bb5ad176582e34623", "filename": "tests/data/parser/ok/0023_static_items.txt", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/tests%2Fdata%2Fparser%2Fok%2F0023_static_items.txt", "raw_url": "https://github.com/rust-lang/rust/raw/0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99/tests%2Fdata%2Fparser%2Fok%2F0023_static_items.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0023_static_items.txt?ref=0000f4f4f2f32c6ff67db6cbc27e3a49c85f4b99", "patch": "@@ -0,0 +1,31 @@\n+FILE@[0; 47)\n+  STATIC_ITEM@[0; 21)\n+    STATIC_KW@[0; 6)\n+    WHITESPACE@[6; 7)\n+    IDENT@[7; 10) \"FOO\"\n+    COLON@[10; 11)\n+    WHITESPACE@[11; 12)\n+    IDENT@[12; 15) \"u32\"\n+    WHITESPACE@[15; 16)\n+    EQ@[16; 17)\n+    LITERAL@[17; 19)\n+      WHITESPACE@[17; 18)\n+      INT_NUMBER@[18; 19)\n+    SEMI@[19; 20)\n+    WHITESPACE@[20; 21)\n+  STATIC_ITEM@[21; 47)\n+    STATIC_KW@[21; 27)\n+    WHITESPACE@[27; 28)\n+    MUT_KW@[28; 31)\n+    WHITESPACE@[31; 32)\n+    IDENT@[32; 35) \"BAR\"\n+    COLON@[35; 36)\n+    WHITESPACE@[36; 37)\n+    IDENT@[37; 40) \"i32\"\n+    WHITESPACE@[40; 41)\n+    EQ@[41; 42)\n+    LITERAL@[42; 45)\n+      WHITESPACE@[42; 43)\n+      INT_NUMBER@[43; 45)\n+    SEMI@[45; 46)\n+    WHITESPACE@[46; 47)"}]}