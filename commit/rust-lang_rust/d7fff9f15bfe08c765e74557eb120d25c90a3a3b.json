{"sha": "d7fff9f15bfe08c765e74557eb120d25c90a3a3b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ3ZmZmOWYxNWJmZTA4Yzc2NWU3NDU1N2ViMTIwZDI1YzkwYTNhM2I=", "commit": {"author": {"name": "Keegan McAllister", "email": "kmcallister@mozilla.com", "date": "2014-09-06T00:56:59Z"}, "committer": {"name": "Keegan McAllister", "email": "kmcallister@mozilla.com", "date": "2014-10-09T21:32:23Z"}, "message": "Add -C no-stack-check\n\nFixes #16980.", "tree": {"sha": "6e9ac872b2be9dfc3c5aad454f0a68c8125292cb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6e9ac872b2be9dfc3c5aad454f0a68c8125292cb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d7fff9f15bfe08c765e74557eb120d25c90a3a3b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d7fff9f15bfe08c765e74557eb120d25c90a3a3b", "html_url": "https://github.com/rust-lang/rust/commit/d7fff9f15bfe08c765e74557eb120d25c90a3a3b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d7fff9f15bfe08c765e74557eb120d25c90a3a3b/comments", "author": {"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db3bd23467f23845986b906808414cd3de41f741", "url": "https://api.github.com/repos/rust-lang/rust/commits/db3bd23467f23845986b906808414cd3de41f741", "html_url": "https://github.com/rust-lang/rust/commit/db3bd23467f23845986b906808414cd3de41f741"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "17d1d565df4f8b424e451b98e14108b0abf81fba", "filename": "src/librustc/driver/config.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d7fff9f15bfe08c765e74557eb120d25c90a3a3b/src%2Flibrustc%2Fdriver%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7fff9f15bfe08c765e74557eb120d25c90a3a3b/src%2Flibrustc%2Fdriver%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdriver%2Fconfig.rs?ref=d7fff9f15bfe08c765e74557eb120d25c90a3a3b", "patch": "@@ -390,6 +390,8 @@ cgoptions!(\n         \"divide crate into N units to optimize in parallel\"),\n     remark: Passes = (SomePasses(Vec::new()), parse_passes,\n         \"print remarks for these optimization passes (space separated, or \\\"all\\\")\"),\n+    no_stack_check: bool = (false, parse_bool,\n+        \"disable checks for stack exhaustion (a memory-safety hazard!)\"),\n )\n \n pub fn build_codegen_options(matches: &getopts::Matches) -> CodegenOptions"}, {"sha": "69fabaf7173ab34934418e420fd47f4267d3c2ad", "filename": "src/librustc/middle/trans/base.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d7fff9f15bfe08c765e74557eb120d25c90a3a3b/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7fff9f15bfe08c765e74557eb120d25c90a3a3b/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=d7fff9f15bfe08c765e74557eb120d25c90a3a3b", "patch": "@@ -204,7 +204,7 @@ pub fn decl_fn(ccx: &CrateContext, name: &str, cc: llvm::CallConv,\n     // Function addresses in Rust are never significant, allowing functions to be merged.\n     llvm::SetUnnamedAddr(llfn, true);\n \n-    if ccx.is_split_stack_supported() {\n+    if ccx.is_split_stack_supported() && !ccx.sess().opts.cg.no_stack_check {\n         set_split_stack(llfn);\n     }\n "}]}