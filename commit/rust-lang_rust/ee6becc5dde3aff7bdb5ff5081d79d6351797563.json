{"sha": "ee6becc5dde3aff7bdb5ff5081d79d6351797563", "node_id": "C_kwDOAAsO6NoAKGVlNmJlY2M1ZGRlM2FmZjdiZGI1ZmY1MDgxZDc5ZDYzNTE3OTc1NjM", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-04-05T16:31:18Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-04-05T16:31:18Z"}, "message": "Merge #11891\n\n11891: Better error message on Flycheck Error message (from: unactionable error message if we are using `clippy` as the checker) r=Veykril a=flipbit03\n\nI have commented on this [S-unactionable issue](https://github.com/rust-analyzer/rust-analyzer/issues/6589) that the Flycheck error message should maybe provide a hint about what tool it actually runs. Searching on some places on the Internet I've found multiple people, including myself, losing copious amounts of time on the same issue. So I've decided to make this very small PR :-)\r\n\r\nFrom an user experience standpoint, the current error message is unhelpful to the end user, because the end user does not know exactly what it needs to check/fix (outdated, broken, or missing `cargo clippy`). In my own case, `cargo clippy` was actually missing altogether (developing off `rust:1.59.0-bullseye` official Docker image).\r\n\r\nThanks in advance!\r\n\r\n\r\n\n\nCo-authored-by: Cadu <cadu.coelho@gmail.com>", "tree": {"sha": "4a26f423c0e309a04f1b55d611b76f231edc4d03", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4a26f423c0e309a04f1b55d611b76f231edc4d03"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ee6becc5dde3aff7bdb5ff5081d79d6351797563", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiTG7WCRBK7hj4Ov3rIwAAfJMIAFUzh0OkHGIiXx9WkOJ+hr+c\nO4rWbCG73re4xD70YIwfT/CXSmGAewgM+7bp3q2BgjQizdmwslEf/6UQrHd6sy9O\nFj1q0dZE+qtD+pAM+fihxa1Kiz7G5pQcNOGVQdg274pkH7ZHP2uK/CYT/jv2Ci8H\nmL/M3LScCreOd4RjY76z7OHbawizygsbRjupCHkZbGcIkbi4btGjIQM+VRw5peEU\nlWAP9AMlKyiDC5W89N8fPRDXkDV9v6akWgv6qBHVgVPUqG5044MX9JZ2tCFwNXAa\nHqAmmUdxlCtNwVJTxhARlS6KIPnvci/tE4MUjniRnbkhob1PbcK498VZ+rIQM5c=\n=Q4oh\n-----END PGP SIGNATURE-----\n", "payload": "tree 4a26f423c0e309a04f1b55d611b76f231edc4d03\nparent b5eaf566669055b4dfb191b21117cff8125ada7f\nparent 84cf6ad09190cc72a5daf45181812f555162235c\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1649176278 +0000\ncommitter GitHub <noreply@github.com> 1649176278 +0000\n\nMerge #11891\n\n11891: Better error message on Flycheck Error message (from: unactionable error message if we are using `clippy` as the checker) r=Veykril a=flipbit03\n\nI have commented on this [S-unactionable issue](https://github.com/rust-analyzer/rust-analyzer/issues/6589) that the Flycheck error message should maybe provide a hint about what tool it actually runs. Searching on some places on the Internet I've found multiple people, including myself, losing copious amounts of time on the same issue. So I've decided to make this very small PR :-)\r\n\r\nFrom an user experience standpoint, the current error message is unhelpful to the end user, because the end user does not know exactly what it needs to check/fix (outdated, broken, or missing `cargo clippy`). In my own case, `cargo clippy` was actually missing altogether (developing off `rust:1.59.0-bullseye` official Docker image).\r\n\r\nThanks in advance!\r\n\r\n\r\n\n\nCo-authored-by: Cadu <cadu.coelho@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ee6becc5dde3aff7bdb5ff5081d79d6351797563", "html_url": "https://github.com/rust-lang/rust/commit/ee6becc5dde3aff7bdb5ff5081d79d6351797563", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ee6becc5dde3aff7bdb5ff5081d79d6351797563/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b5eaf566669055b4dfb191b21117cff8125ada7f", "url": "https://api.github.com/repos/rust-lang/rust/commits/b5eaf566669055b4dfb191b21117cff8125ada7f", "html_url": "https://github.com/rust-lang/rust/commit/b5eaf566669055b4dfb191b21117cff8125ada7f"}, {"sha": "84cf6ad09190cc72a5daf45181812f555162235c", "url": "https://api.github.com/repos/rust-lang/rust/commits/84cf6ad09190cc72a5daf45181812f555162235c", "html_url": "https://github.com/rust-lang/rust/commit/84cf6ad09190cc72a5daf45181812f555162235c"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "4c84c62016d4c90718361e7f41c4b7cb308cd7d8", "filename": "crates/flycheck/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ee6becc5dde3aff7bdb5ff5081d79d6351797563/crates%2Fflycheck%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee6becc5dde3aff7bdb5ff5081d79d6351797563/crates%2Fflycheck%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fflycheck%2Fsrc%2Flib.rs?ref=ee6becc5dde3aff7bdb5ff5081d79d6351797563", "patch": "@@ -329,8 +329,8 @@ impl CargoActor {\n             Ok(output) if output.status.success() => Ok(()),\n             Ok(output)  => {\n                 Err(io::Error::new(io::ErrorKind::Other, format!(\n-                    \"Cargo watcher failed, the command produced no valid metadata (exit code: {:?})\",\n-                    output.status\n+                    \"Cargo watcher failed, the command produced no valid metadata (exit code: {:?})\\nCargo's stderr output:\\n{}\",\n+                    output.status, error\n                 )))\n             }\n             Err(e) => Err(io::Error::new(e.kind(), format!(\"{:?}: {}\", e, error))),"}]}