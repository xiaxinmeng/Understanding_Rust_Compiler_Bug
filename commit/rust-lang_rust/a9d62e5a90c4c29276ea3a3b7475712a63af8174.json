{"sha": "a9d62e5a90c4c29276ea3a3b7475712a63af8174", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE5ZDYyZTVhOTBjNGMyOTI3NmVhM2EzYjc0NzU3MTJhNjNhZjgxNzQ=", "commit": {"author": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2011-06-16T00:08:10Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-06-16T18:47:54Z"}, "message": "Write some tests for swap.", "tree": {"sha": "3878f332a08ed07b7ab3a2c03b314a982eff3d9d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3878f332a08ed07b7ab3a2c03b314a982eff3d9d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a9d62e5a90c4c29276ea3a3b7475712a63af8174", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a9d62e5a90c4c29276ea3a3b7475712a63af8174", "html_url": "https://github.com/rust-lang/rust/commit/a9d62e5a90c4c29276ea3a3b7475712a63af8174", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a9d62e5a90c4c29276ea3a3b7475712a63af8174/comments", "author": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "272c7e2e87fd19e1659cef1b8fd859851067e2a1", "url": "https://api.github.com/repos/rust-lang/rust/commits/272c7e2e87fd19e1659cef1b8fd859851067e2a1", "html_url": "https://github.com/rust-lang/rust/commit/272c7e2e87fd19e1659cef1b8fd859851067e2a1"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "18ca56b5aea07381dff962ae79ef41c65c2da903", "filename": "src/test/compile-fail/swap-uninit.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a9d62e5a90c4c29276ea3a3b7475712a63af8174/src%2Ftest%2Fcompile-fail%2Fswap-uninit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9d62e5a90c4c29276ea3a3b7475712a63af8174/src%2Ftest%2Fcompile-fail%2Fswap-uninit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fswap-uninit.rs?ref=a9d62e5a90c4c29276ea3a3b7475712a63af8174", "patch": "@@ -0,0 +1,7 @@\n+// error-pattern:Unsatisfied precondition\n+\n+fn main() {\n+    auto x = 3;\n+    auto y;\n+    x <-> y;\n+}"}, {"sha": "a4ce5bf2d6295667f7f4c36a1e30587346626047", "filename": "src/test/run-pass/swap-1.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a9d62e5a90c4c29276ea3a3b7475712a63af8174/src%2Ftest%2Frun-pass%2Fswap-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9d62e5a90c4c29276ea3a3b7475712a63af8174/src%2Ftest%2Frun-pass%2Fswap-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fswap-1.rs?ref=a9d62e5a90c4c29276ea3a3b7475712a63af8174", "patch": "@@ -0,0 +1,7 @@\n+fn main() {\n+    auto x = 3;\n+    auto y = 7;\n+    x <-> y;\n+    assert (x == 7);\n+    assert (y == 3);\n+}"}, {"sha": "6c33030ba0a567987b071f38125ef0e2936767c4", "filename": "src/test/run-pass/swap-2.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/a9d62e5a90c4c29276ea3a3b7475712a63af8174/src%2Ftest%2Frun-pass%2Fswap-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9d62e5a90c4c29276ea3a3b7475712a63af8174/src%2Ftest%2Frun-pass%2Fswap-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fswap-2.rs?ref=a9d62e5a90c4c29276ea3a3b7475712a63af8174", "patch": "@@ -0,0 +1,14 @@\n+fn swap[T](&vec[mutable T] v, int i, int j) {\n+    v.(i) <-> v.(j);\n+}\n+\n+fn main() {\n+    let vec[mutable int] a = [mutable 0,1,2,3,4,5,6];\n+    swap(a, 2, 4);\n+    assert(a.(2) == 4);\n+    assert(a.(4) == 2);\n+    auto n = 42;\n+    n <-> a.(0);\n+    assert(a.(0) == 42);\n+    assert(n == 0);\n+}"}]}