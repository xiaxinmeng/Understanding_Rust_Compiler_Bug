{"sha": "3eb83f2bccff55e62a5bdb98009b6d79436683f2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlYjgzZjJiY2NmZjU1ZTYyYTViZGI5ODAwOWI2ZDc5NDM2NjgzZjI=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-01-07T13:22:44Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-01-08T20:58:41Z"}, "message": "collector: use impl Trait", "tree": {"sha": "ec0b7b8fe458efc123a70c9d0e3e70b024293a32", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ec0b7b8fe458efc123a70c9d0e3e70b024293a32"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3eb83f2bccff55e62a5bdb98009b6d79436683f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3eb83f2bccff55e62a5bdb98009b6d79436683f2", "html_url": "https://github.com/rust-lang/rust/commit/3eb83f2bccff55e62a5bdb98009b6d79436683f2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3eb83f2bccff55e62a5bdb98009b6d79436683f2/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "adaa521feb09dbb40e5e2143bc3ce62112c8ce04", "url": "https://api.github.com/repos/rust-lang/rust/commits/adaa521feb09dbb40e5e2143bc3ce62112c8ce04", "html_url": "https://github.com/rust-lang/rust/commit/adaa521feb09dbb40e5e2143bc3ce62112c8ce04"}], "stats": {"total": 18, "additions": 6, "deletions": 12}, "files": [{"sha": "edb2e69b79caebf625c4dfedec8a1c751832cde1", "filename": "src/librustc/hir/map/collector.rs", "status": "modified", "additions": 6, "deletions": 12, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/3eb83f2bccff55e62a5bdb98009b6d79436683f2/src%2Flibrustc%2Fhir%2Fmap%2Fcollector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3eb83f2bccff55e62a5bdb98009b6d79436683f2/src%2Flibrustc%2Fhir%2Fmap%2Fcollector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmap%2Fcollector.rs?ref=3eb83f2bccff55e62a5bdb98009b6d79436683f2", "patch": "@@ -49,15 +49,12 @@ pub(super) struct NodeCollector<'a, 'hir> {\n     hir_body_nodes: Vec<(DefPathHash, Fingerprint)>,\n }\n \n-fn input_dep_node_and_hash<I>(\n+fn input_dep_node_and_hash(\n     dep_graph: &DepGraph,\n     hcx: &mut StableHashingContext<'_>,\n     dep_node: DepNode,\n-    input: I,\n-) -> (DepNodeIndex, Fingerprint)\n-where\n-    I: for<'a> HashStable<StableHashingContext<'a>>,\n-{\n+    input: impl for<'a> HashStable<StableHashingContext<'a>>,\n+) -> (DepNodeIndex, Fingerprint) {\n     let dep_node_index = dep_graph.input_task(dep_node, &mut *hcx, &input).1;\n \n     let hash = if dep_graph.is_fully_enabled() {\n@@ -71,16 +68,13 @@ where\n     (dep_node_index, hash)\n }\n \n-fn alloc_hir_dep_nodes<I>(\n+fn alloc_hir_dep_nodes(\n     dep_graph: &DepGraph,\n     hcx: &mut StableHashingContext<'_>,\n     def_path_hash: DefPathHash,\n-    item_like: I,\n+    item_like: impl for<'a> HashStable<StableHashingContext<'a>>,\n     hir_body_nodes: &mut Vec<(DefPathHash, Fingerprint)>,\n-) -> (DepNodeIndex, DepNodeIndex)\n-where\n-    I: for<'a> HashStable<StableHashingContext<'a>>,\n-{\n+) -> (DepNodeIndex, DepNodeIndex) {\n     let sig = dep_graph\n         .input_task(\n             def_path_hash.to_dep_node(DepKind::Hir),"}]}