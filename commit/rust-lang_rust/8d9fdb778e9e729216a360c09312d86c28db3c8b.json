{"sha": "8d9fdb778e9e729216a360c09312d86c28db3c8b", "node_id": "C_kwDOAAsO6NoAKDhkOWZkYjc3OGU5ZTcyOTIxNmEzNjBjMDkzMTJkODZjMjhkYjNjOGI", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2022-06-28T13:34:07Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2022-07-11T20:23:51Z"}, "message": "rustc_target: Flip the default for `TargetOptions::executables` to true\n\nAlso change `executables` to true for linux-kernel and windows-uwp-gnu targets", "tree": {"sha": "09b2d8aebe5228803ac8d09167d701d8a753298d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/09b2d8aebe5228803ac8d09167d701d8a753298d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8d9fdb778e9e729216a360c09312d86c28db3c8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8d9fdb778e9e729216a360c09312d86c28db3c8b", "html_url": "https://github.com/rust-lang/rust/commit/8d9fdb778e9e729216a360c09312d86c28db3c8b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8d9fdb778e9e729216a360c09312d86c28db3c8b/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9fb32dc924653e35950f17c8d91793c9ca983d03", "url": "https://api.github.com/repos/rust-lang/rust/commits/9fb32dc924653e35950f17c8d91793c9ca983d03", "html_url": "https://github.com/rust-lang/rust/commit/9fb32dc924653e35950f17c8d91793c9ca983d03"}], "stats": {"total": 57, "additions": 4, "deletions": 53}, "files": [{"sha": "d3fd7051a1289c8fea2b32b41809760f275bdd9d", "filename": "compiler/rustc_target/src/spec/aarch64_unknown_none.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -13,7 +13,6 @@ pub fn target() -> Target {\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".into()),\n         features: \"+strict-align,+neon,+fp-armv8\".into(),\n-        executables: true,\n         relocation_model: RelocModel::Static,\n         disable_redzone: true,\n         max_atomic_width: Some(128),"}, {"sha": "6316abe1ba9f23b4be4083f0471668847b31af41", "filename": "compiler/rustc_target/src/spec/aarch64_unknown_none_softfloat.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none_softfloat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none_softfloat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none_softfloat.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -14,7 +14,6 @@ pub fn target() -> Target {\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".into()),\n         features: \"+strict-align,-neon,-fp-armv8\".into(),\n-        executables: true,\n         relocation_model: RelocModel::Static,\n         disable_redzone: true,\n         max_atomic_width: Some(128),"}, {"sha": "9bfae46ef32d2301a4d158278a3121e3633f4e1a", "filename": "compiler/rustc_target/src/spec/apple_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fapple_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fapple_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fapple_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -25,7 +25,6 @@ pub fn opts(os: &'static str) -> TargetOptions {\n         function_sections: false,\n         dynamic_linking: true,\n         linker_is_gnu: false,\n-        executables: true,\n         families: cvs![\"unix\"],\n         is_like_osx: true,\n         default_dwarf_version: 2,"}, {"sha": "0328ea98c48cb62a93ea097fa458081179b31d59", "filename": "compiler/rustc_target/src/spec/apple_sdk_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fapple_sdk_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fapple_sdk_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fapple_sdk_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -54,7 +54,6 @@ pub fn opts(os: &'static str, arch: Arch) -> TargetOptions {\n         abi: target_abi(arch).into(),\n         cpu: target_cpu(arch).into(),\n         dynamic_linking: false,\n-        executables: true,\n         link_env_remove: link_env_remove(arch),\n         has_thread_local: false,\n         ..super::apple_base::opts(os)"}, {"sha": "511693abe98072c15c81753e72b024a1f4e478af", "filename": "compiler/rustc_target/src/spec/armebv7r_none_eabi.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabi.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -14,7 +14,6 @@ pub fn target() -> Target {\n             abi: \"eabi\".into(),\n             endian: Endian::Big,\n             linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n-            executables: true,\n             linker: Some(\"rust-lld\".into()),\n             relocation_model: RelocModel::Static,\n             panic_strategy: PanicStrategy::Abort,"}, {"sha": "5df4a0a1583fba6494ff1a3a44ccbde3ec3d5579", "filename": "compiler/rustc_target/src/spec/armebv7r_none_eabihf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabihf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabihf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabihf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -14,7 +14,6 @@ pub fn target() -> Target {\n             abi: \"eabihf\".into(),\n             endian: Endian::Big,\n             linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n-            executables: true,\n             linker: Some(\"rust-lld\".into()),\n             relocation_model: RelocModel::Static,\n             panic_strategy: PanicStrategy::Abort,"}, {"sha": "1bba3939397b70656a52ae7862ed91b299658a55", "filename": "compiler/rustc_target/src/spec/armv6k_nintendo_3ds.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv6k_nintendo_3ds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv6k_nintendo_3ds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv6k_nintendo_3ds.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -23,7 +23,6 @@ pub fn target() -> Target {\n             abi: \"eabihf\".into(),\n             linker_flavor: LinkerFlavor::Gcc,\n             cpu: \"mpcore\".into(),\n-            executables: true,\n             families: cvs![\"unix\"],\n             linker: Some(\"arm-none-eabi-gcc\".into()),\n             relocation_model: RelocModel::Static,"}, {"sha": "cb5cbe15836fe5560853ca0c28ba4322c3962d59", "filename": "compiler/rustc_target/src/spec/armv7a_none_eabi.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabi.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -22,7 +22,6 @@ pub fn target() -> Target {\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".into()),\n         features: \"+v7,+thumb2,+soft-float,-neon,+strict-align\".into(),\n-        executables: true,\n         relocation_model: RelocModel::Static,\n         disable_redzone: true,\n         max_atomic_width: Some(64),"}, {"sha": "fb5dd2e7574fc54787917470c0ee4d7ff66a33d0", "filename": "compiler/rustc_target/src/spec/armv7a_none_eabihf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabihf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabihf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabihf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -13,7 +13,6 @@ pub fn target() -> Target {\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".into()),\n         features: \"+v7,+vfp3,-d32,+thumb2,-neon,+strict-align\".into(),\n-        executables: true,\n         relocation_model: RelocModel::Static,\n         disable_redzone: true,\n         max_atomic_width: Some(64),"}, {"sha": "5f1da09b3172241f7498a9219e7272102cfc0f74", "filename": "compiler/rustc_target/src/spec/armv7r_none_eabi.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabi.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -13,7 +13,6 @@ pub fn target() -> Target {\n         options: TargetOptions {\n             abi: \"eabi\".into(),\n             linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n-            executables: true,\n             linker: Some(\"rust-lld\".into()),\n             relocation_model: RelocModel::Static,\n             panic_strategy: PanicStrategy::Abort,"}, {"sha": "0038ed0df8bd3dc144180a69c04ada18ddf2a6f0", "filename": "compiler/rustc_target/src/spec/armv7r_none_eabihf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabihf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabihf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabihf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -13,7 +13,6 @@ pub fn target() -> Target {\n         options: TargetOptions {\n             abi: \"eabihf\".into(),\n             linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n-            executables: true,\n             linker: Some(\"rust-lld\".into()),\n             relocation_model: RelocModel::Static,\n             panic_strategy: PanicStrategy::Abort,"}, {"sha": "1d441e558ddcc257b9c88b16844b24aaf3ec5e97", "filename": "compiler/rustc_target/src/spec/avr_gnu_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Favr_gnu_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Favr_gnu_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Favr_gnu_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -16,7 +16,6 @@ pub fn target(target_cpu: &'static str, mmcu: &'static str) -> Target {\n             exe_suffix: \".elf\".into(),\n \n             linker: Some(\"avr-gcc\".into()),\n-            executables: true,\n             eh_frame_header: false,\n             pre_link_args: TargetOptions::link_args(LinkerFlavor::Gcc, &[mmcu]),\n             late_link_args: TargetOptions::link_args(LinkerFlavor::Gcc, &[\"-lgcc\"]),"}, {"sha": "3c4da6f883d9dab420e3520d582ff68ff12a1ede", "filename": "compiler/rustc_target/src/spec/bpf_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fbpf_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fbpf_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fbpf_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -7,7 +7,6 @@ pub fn opts(endian: Endian) -> TargetOptions {\n         endian,\n         linker_flavor: LinkerFlavor::BpfLinker,\n         atomic_cas: false,\n-        executables: true,\n         dynamic_linking: true,\n         no_builtins: true,\n         panic_strategy: PanicStrategy::Abort,"}, {"sha": "de2be78179699f26de8b295ba58d04eab807a192", "filename": "compiler/rustc_target/src/spec/dragonfly_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fdragonfly_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fdragonfly_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fdragonfly_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -4,7 +4,6 @@ pub fn opts() -> TargetOptions {\n     TargetOptions {\n         os: \"dragonfly\".into(),\n         dynamic_linking: true,\n-        executables: true,\n         families: cvs![\"unix\"],\n         has_rpath: true,\n         position_independent_executables: true,"}, {"sha": "8c141aaaec34a95a70c6bf18defb8187a90c38e4", "filename": "compiler/rustc_target/src/spec/freebsd_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Ffreebsd_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Ffreebsd_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Ffreebsd_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -4,7 +4,6 @@ pub fn opts() -> TargetOptions {\n     TargetOptions {\n         os: \"freebsd\".into(),\n         dynamic_linking: true,\n-        executables: true,\n         families: cvs![\"unix\"],\n         has_rpath: true,\n         position_independent_executables: true,"}, {"sha": "df1e3275f73738932dc05ac8a57be68d0bb5ca20", "filename": "compiler/rustc_target/src/spec/fuchsia_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Ffuchsia_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Ffuchsia_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Ffuchsia_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -23,7 +23,6 @@ pub fn opts() -> TargetOptions {\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".into()),\n         dynamic_linking: true,\n-        executables: true,\n         families: cvs![\"unix\"],\n         pre_link_args,\n         pre_link_objects: crt_objects::new(&["}, {"sha": "8ab874410aa1ce11b078bc4e7446325766f0b7d4", "filename": "compiler/rustc_target/src/spec/haiku_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fhaiku_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fhaiku_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fhaiku_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -4,7 +4,6 @@ pub fn opts() -> TargetOptions {\n     TargetOptions {\n         os: \"haiku\".into(),\n         dynamic_linking: true,\n-        executables: true,\n         families: cvs![\"unix\"],\n         relro_level: RelroLevel::Full,\n         ..Default::default()"}, {"sha": "562ccef7eba013b95fb75c31a1c3b38102f26b73", "filename": "compiler/rustc_target/src/spec/hermit_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fhermit_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fhermit_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fhermit_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -10,7 +10,6 @@ pub fn opts() -> TargetOptions {\n         os: \"hermit\".into(),\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".into()),\n-        executables: true,\n         has_thread_local: true,\n         pre_link_args,\n         panic_strategy: PanicStrategy::Abort,"}, {"sha": "cc2c78c69fe15f321728e662743d8e00984ef50d", "filename": "compiler/rustc_target/src/spec/hexagon_unknown_linux_musl.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fhexagon_unknown_linux_musl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fhexagon_unknown_linux_musl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fhexagon_unknown_linux_musl.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -11,7 +11,6 @@ pub fn target() -> Target {\n     base.has_rpath = true;\n     base.linker_is_gnu = false;\n     base.dynamic_linking = true;\n-    base.executables = true;\n \n     base.c_enum_min_bits = 8;\n "}, {"sha": "77e000474b86f31436cd07dc745ab53b96468039", "filename": "compiler/rustc_target/src/spec/illumos_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fillumos_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fillumos_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fillumos_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -27,7 +27,6 @@ pub fn opts() -> TargetOptions {\n     TargetOptions {\n         os: \"illumos\".into(),\n         dynamic_linking: true,\n-        executables: true,\n         has_rpath: true,\n         families: cvs![\"unix\"],\n         is_like_solaris: true,"}, {"sha": "a08756861e5b265167baa9ad8cbc3c1b8d8baba4", "filename": "compiler/rustc_target/src/spec/l4re_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fl4re_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fl4re_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fl4re_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -5,7 +5,6 @@ pub fn opts() -> TargetOptions {\n         os: \"l4re\".into(),\n         env: \"uclibc\".into(),\n         linker_flavor: LinkerFlavor::L4Bender,\n-        executables: true,\n         panic_strategy: PanicStrategy::Abort,\n         linker: Some(\"l4-bender\".into()),\n         linker_is_gnu: false,"}, {"sha": "f4fce3b4050aaf35fa13fc519fc6000cb1e9bc47", "filename": "compiler/rustc_target/src/spec/linux_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Flinux_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Flinux_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Flinux_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -4,7 +4,6 @@ pub fn opts() -> TargetOptions {\n     TargetOptions {\n         os: \"linux\".into(),\n         dynamic_linking: true,\n-        executables: true,\n         families: cvs![\"unix\"],\n         has_rpath: true,\n         position_independent_executables: true,"}, {"sha": "cfc8ec21c2aef15d3007325e233490171e614ddd", "filename": "compiler/rustc_target/src/spec/mipsel_sony_psp.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmipsel_sony_psp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmipsel_sony_psp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmipsel_sony_psp.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -18,7 +18,6 @@ pub fn target() -> Target {\n             vendor: \"sony\".into(),\n             linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n             cpu: \"mips2\".into(),\n-            executables: true,\n             linker: Some(\"rust-lld\".into()),\n             relocation_model: RelocModel::Static,\n "}, {"sha": "fe2aa2de871ce606ecb70b2f0a3092aeb895f06a", "filename": "compiler/rustc_target/src/spec/mipsel_unknown_none.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmipsel_unknown_none.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmipsel_unknown_none.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmipsel_unknown_none.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -17,7 +17,6 @@ pub fn target() -> Target {\n             cpu: \"mips32r2\".into(),\n             features: \"+mips32r2,+soft-float,+noabicalls\".into(),\n             max_atomic_width: Some(32),\n-            executables: true,\n             linker: Some(\"rust-lld\".into()),\n             panic_strategy: PanicStrategy::Abort,\n             relocation_model: RelocModel::Static,"}, {"sha": "ef49fc8e968a815ec5a362e13e63dd4a29d30096", "filename": "compiler/rustc_target/src/spec/mod.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -1212,8 +1212,7 @@ pub struct TargetOptions {\n     pub dynamic_linking: bool,\n     /// If dynamic linking is available, whether only cdylibs are supported.\n     pub only_cdylib: bool,\n-    /// Whether executables are available on this target. iOS, for example, only allows static\n-    /// libraries. Defaults to false.\n+    /// Whether executables are available on this target. Defaults to true.\n     pub executables: bool,\n     /// Relocation model to use in object file. Corresponds to `llc\n     /// -relocation-model=$relocation_model`. Defaults to `Pic`.\n@@ -1520,7 +1519,7 @@ impl Default for TargetOptions {\n             features: \"\".into(),\n             dynamic_linking: false,\n             only_cdylib: false,\n-            executables: false,\n+            executables: true,\n             relocation_model: RelocModel::Pic,\n             code_model: None,\n             tls_model: TlsModel::GeneralDynamic,"}, {"sha": "6b09386ae3ee5464bda951793058e218b53c7e6c", "filename": "compiler/rustc_target/src/spec/msp430_none_elf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmsp430_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmsp430_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmsp430_none_elf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -9,7 +9,6 @@ pub fn target() -> Target {\n \n         options: TargetOptions {\n             c_int_width: \"16\".into(),\n-            executables: true,\n \n             // The LLVM backend currently can't generate object files. To\n             // workaround this LLVM generates assembly files which then we feed"}, {"sha": "edb30b72bf68ddf667e72a74c0b81a328016cc95", "filename": "compiler/rustc_target/src/spec/msvc_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmsvc_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmsvc_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmsvc_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -7,7 +7,6 @@ pub fn opts() -> TargetOptions {\n \n     TargetOptions {\n         linker_flavor: LinkerFlavor::Msvc,\n-        executables: true,\n         is_like_windows: true,\n         is_like_msvc: true,\n         lld_flavor: LldFlavor::Link,"}, {"sha": "be94ea234658fbd4fc8f9413e97eb108915add87", "filename": "compiler/rustc_target/src/spec/netbsd_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fnetbsd_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fnetbsd_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fnetbsd_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -4,7 +4,6 @@ pub fn opts() -> TargetOptions {\n     TargetOptions {\n         os: \"netbsd\".into(),\n         dynamic_linking: true,\n-        executables: true,\n         families: cvs![\"unix\"],\n         no_default_libraries: false,\n         has_rpath: true,"}, {"sha": "1c5b68001b957b00cc0b927c014022f3b1c25c95", "filename": "compiler/rustc_target/src/spec/nvptx64_nvidia_cuda.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fnvptx64_nvidia_cuda.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fnvptx64_nvidia_cuda.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fnvptx64_nvidia_cuda.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -26,7 +26,6 @@ pub fn target() -> Target {\n \n             // Needed to use `dylib` and `bin` crate types and the linker.\n             dynamic_linking: true,\n-            executables: true,\n \n             // Avoid using dylib because it contain metadata not supported\n             // by LLVM NVPTX backend."}, {"sha": "e7db14e05a4ec59f74614aa2d1700854b31060f0", "filename": "compiler/rustc_target/src/spec/openbsd_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fopenbsd_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fopenbsd_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fopenbsd_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -4,7 +4,6 @@ pub fn opts() -> TargetOptions {\n     TargetOptions {\n         os: \"openbsd\".into(),\n         dynamic_linking: true,\n-        executables: true,\n         families: cvs![\"unix\"],\n         has_rpath: true,\n         abi_return_struct_as_int: true,"}, {"sha": "468fe478549b2468b42dc37a5ef0ca8ab8fd9c49", "filename": "compiler/rustc_target/src/spec/redox_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fredox_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fredox_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fredox_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -5,7 +5,6 @@ pub fn opts() -> TargetOptions {\n         os: \"redox\".into(),\n         env: \"relibc\".into(),\n         dynamic_linking: true,\n-        executables: true,\n         families: cvs![\"unix\"],\n         has_rpath: true,\n         position_independent_executables: true,"}, {"sha": "232139db6cad0ebd69da0b78025291187e744ea9", "filename": "compiler/rustc_target/src/spec/riscv32i_unknown_none_elf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32i_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32i_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32i_unknown_none_elf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -14,7 +14,6 @@ pub fn target() -> Target {\n             cpu: \"generic-rv32\".into(),\n             max_atomic_width: Some(0),\n             atomic_cas: false,\n-            executables: true,\n             panic_strategy: PanicStrategy::Abort,\n             relocation_model: RelocModel::Static,\n             emit_debug_gdb_scripts: false,"}, {"sha": "3e5d2887f431c5e2746be47c45e8895720ab518a", "filename": "compiler/rustc_target/src/spec/riscv32im_unknown_none_elf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32im_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32im_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32im_unknown_none_elf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -15,7 +15,6 @@ pub fn target() -> Target {\n             max_atomic_width: Some(0),\n             atomic_cas: false,\n             features: \"+m\".into(),\n-            executables: true,\n             panic_strategy: PanicStrategy::Abort,\n             relocation_model: RelocModel::Static,\n             emit_debug_gdb_scripts: false,"}, {"sha": "99317b9f1185f57fc077bf1009d649874c9ad14a", "filename": "compiler/rustc_target/src/spec/riscv32imac_unknown_none_elf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imac_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imac_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imac_unknown_none_elf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -14,7 +14,6 @@ pub fn target() -> Target {\n             cpu: \"generic-rv32\".into(),\n             max_atomic_width: Some(32),\n             features: \"+m,+a,+c\".into(),\n-            executables: true,\n             panic_strategy: PanicStrategy::Abort,\n             relocation_model: RelocModel::Static,\n             emit_debug_gdb_scripts: false,"}, {"sha": "a5de645c9846f65afe5dc45c33e7c06f74ac1763", "filename": "compiler/rustc_target/src/spec/riscv32imac_unknown_xous_elf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imac_unknown_xous_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imac_unknown_xous_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imac_unknown_xous_elf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -15,7 +15,6 @@ pub fn target() -> Target {\n             cpu: \"generic-rv32\".into(),\n             max_atomic_width: Some(32),\n             features: \"+m,+a,+c\".into(),\n-            executables: true,\n             panic_strategy: PanicStrategy::Abort,\n             relocation_model: RelocModel::Static,\n             ..Default::default()"}, {"sha": "03baef65c0d5b5cfba8f46d99a18bad496881653", "filename": "compiler/rustc_target/src/spec/riscv32imc_esp_espidf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imc_esp_espidf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imc_esp_espidf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imc_esp_espidf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -26,7 +26,6 @@ pub fn target() -> Target {\n             atomic_cas: true,\n \n             features: \"+m,+c\".into(),\n-            executables: true,\n             panic_strategy: PanicStrategy::Abort,\n             relocation_model: RelocModel::Static,\n             emit_debug_gdb_scripts: false,"}, {"sha": "bf510d204a721f7540778cf3d3bbc6ec2d3fa751", "filename": "compiler/rustc_target/src/spec/riscv32imc_unknown_none_elf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imc_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imc_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv32imc_unknown_none_elf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -15,7 +15,6 @@ pub fn target() -> Target {\n             max_atomic_width: Some(0),\n             atomic_cas: false,\n             features: \"+m,+c\".into(),\n-            executables: true,\n             panic_strategy: PanicStrategy::Abort,\n             relocation_model: RelocModel::Static,\n             emit_debug_gdb_scripts: false,"}, {"sha": "03b3cfd1eb11ca90a401e05c705b318e7f03d686", "filename": "compiler/rustc_target/src/spec/riscv64gc_unknown_none_elf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv64gc_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv64gc_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv64gc_unknown_none_elf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -15,7 +15,6 @@ pub fn target() -> Target {\n             cpu: \"generic-rv64\".into(),\n             max_atomic_width: Some(64),\n             features: \"+m,+a,+f,+d,+c\".into(),\n-            executables: true,\n             panic_strategy: PanicStrategy::Abort,\n             relocation_model: RelocModel::Static,\n             code_model: Some(CodeModel::Medium),"}, {"sha": "2a94c9dd2337127096c6cacb10d4d9edf3a01412", "filename": "compiler/rustc_target/src/spec/riscv64imac_unknown_none_elf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv64imac_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv64imac_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Friscv64imac_unknown_none_elf.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -14,7 +14,6 @@ pub fn target() -> Target {\n             cpu: \"generic-rv64\".into(),\n             max_atomic_width: Some(64),\n             features: \"+m,+a,+c\".into(),\n-            executables: true,\n             panic_strategy: PanicStrategy::Abort,\n             relocation_model: RelocModel::Static,\n             code_model: Some(CodeModel::Medium),"}, {"sha": "b7e8e8cf7f57772fbee59e3ad049094402b347ee", "filename": "compiler/rustc_target/src/spec/solaris_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fsolaris_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fsolaris_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fsolaris_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -4,7 +4,6 @@ pub fn opts() -> TargetOptions {\n     TargetOptions {\n         os: \"solaris\".into(),\n         dynamic_linking: true,\n-        executables: true,\n         has_rpath: true,\n         families: cvs![\"unix\"],\n         is_like_solaris: true,"}, {"sha": "c585a6cd58ea20885a84d1d719a5de3d0a78e774", "filename": "compiler/rustc_target/src/spec/solid_base.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fsolid_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fsolid_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fsolid_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -5,6 +5,7 @@ pub fn opts(kernel: &str) -> TargetOptions {\n     TargetOptions {\n         os: format!(\"solid_{}\", kernel).into(),\n         vendor: \"kmc\".into(),\n+        executables: false,\n         frame_pointer: FramePointer::NonLeaf,\n         has_thread_local: true,\n         ..Default::default()"}, {"sha": "049142b89f1f19835ba1606847b2dd47232f4626", "filename": "compiler/rustc_target/src/spec/thumb_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fthumb_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fthumb_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fthumb_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -34,7 +34,6 @@ pub fn opts() -> TargetOptions {\n     // See rust-lang/rfcs#1645 for a discussion about these defaults\n     TargetOptions {\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n-        executables: true,\n         // In most cases, LLD is good enough\n         linker: Some(\"rust-lld\".into()),\n         // Because these devices have very little resources having an unwinder is too onerous so we"}, {"sha": "aa4784b63e7aac7d994bc8961fa855ca6a158dae", "filename": "compiler/rustc_target/src/spec/vxworks_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fvxworks_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fvxworks_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fvxworks_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -8,7 +8,6 @@ pub fn opts() -> TargetOptions {\n         linker: Some(\"wr-c++\".into()),\n         exe_suffix: \".vxe\".into(),\n         dynamic_linking: true,\n-        executables: true,\n         families: cvs![\"unix\"],\n         has_rpath: true,\n         has_thread_local: true,"}, {"sha": "9216d3e7b65f60358424dd212d6f71c058d0b7fe", "filename": "compiler/rustc_target/src/spec/wasm_base.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwasm_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwasm_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwasm_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -62,9 +62,6 @@ pub fn options() -> TargetOptions {\n         dynamic_linking: true,\n         only_cdylib: true,\n \n-        // This means we'll just embed a `#[start]` function in the wasm module\n-        executables: true,\n-\n         // relatively self-explanatory!\n         exe_suffix: \".wasm\".into(),\n         dll_prefix: \"\".into(),"}, {"sha": "90e0af3e38afead9a3d7bbe6a6e4798c73522ac2", "filename": "compiler/rustc_target/src/spec/windows_gnu_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwindows_gnu_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwindows_gnu_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwindows_gnu_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -67,7 +67,6 @@ pub fn opts() -> TargetOptions {\n         function_sections: false,\n         linker: Some(\"gcc\".into()),\n         dynamic_linking: true,\n-        executables: true,\n         dll_prefix: \"\".into(),\n         dll_suffix: \".dll\".into(),\n         exe_suffix: \".exe\".into(),"}, {"sha": "bae007dc9f3bc0ad21a7bcd0c555cd8a2ea2c298", "filename": "compiler/rustc_target/src/spec/windows_gnullvm_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwindows_gnullvm_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwindows_gnullvm_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwindows_gnullvm_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -20,7 +20,6 @@ pub fn opts() -> TargetOptions {\n         abi: \"llvm\".into(),\n         linker: Some(\"clang\".into()),\n         dynamic_linking: true,\n-        executables: true,\n         dll_prefix: \"\".into(),\n         dll_suffix: \".dll\".into(),\n         exe_suffix: \".exe\".into(),"}, {"sha": "fa69b919cecd7b0831550cd8515824097c63a2c6", "filename": "compiler/rustc_target/src/spec/windows_uwp_gnu_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwindows_uwp_gnu_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwindows_uwp_gnu_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwindows_uwp_gnu_base.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -24,7 +24,6 @@ pub fn opts() -> TargetOptions {\n     TargetOptions {\n         abi: \"uwp\".into(),\n         vendor: \"uwp\".into(),\n-        executables: false,\n         limit_rdylib_exports: false,\n         late_link_args,\n         late_link_args_dynamic,"}, {"sha": "9d597ea2e62d6b1f3cb9ba0e023c0d4ccd63e52a", "filename": "compiler/rustc_target/src/spec/x86_64_fortanix_unknown_sgx.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fx86_64_fortanix_unknown_sgx.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fx86_64_fortanix_unknown_sgx.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fx86_64_fortanix_unknown_sgx.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -62,7 +62,6 @@ pub fn target() -> Target {\n         vendor: \"fortanix\".into(),\n         abi: \"fortanix\".into(),\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n-        executables: true,\n         linker: Some(\"rust-lld\".into()),\n         max_atomic_width: Some(64),\n         cpu: \"x86-64\".into(),"}, {"sha": "809fd642d41143fd12a2df76959972de42d52f80", "filename": "compiler/rustc_target/src/spec/x86_64_unknown_none.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fx86_64_unknown_none.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/compiler%2Frustc_target%2Fsrc%2Fspec%2Fx86_64_unknown_none.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fx86_64_unknown_none.rs?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -24,7 +24,6 @@ pub fn target() -> Target {\n         features:\n             \"-mmx,-sse,-sse2,-sse3,-ssse3,-sse4.1,-sse4.2,-3dnow,-3dnowa,-avx,-avx2,+soft-float\"\n                 .into(),\n-        executables: true,\n         disable_redzone: true,\n         panic_strategy: PanicStrategy::Abort,\n         code_model: Some(CodeModel::Kernel),"}, {"sha": "fb95ee5539acdacd510f5aaabad3791af397849a", "filename": "src/test/run-make-fulldeps/target-specs/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8d9fdb778e9e729216a360c09312d86c28db3c8b/src%2Ftest%2Frun-make-fulldeps%2Ftarget-specs%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/8d9fdb778e9e729216a360c09312d86c28db3c8b/src%2Ftest%2Frun-make-fulldeps%2Ftarget-specs%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Ftarget-specs%2FMakefile?ref=8d9fdb778e9e729216a360c09312d86c28db3c8b", "patch": "@@ -8,4 +8,4 @@ all:\n \tRUST_TARGET_PATH=. $(RUSTC) foo.rs --target=my-x86_64-unknown-linux-gnu-platform --crate-type=lib --emit=asm\n \t$(RUSTC) -Z unstable-options --target=my-awesome-platform.json --print target-spec-json > $(TMPDIR)/test-platform.json && $(RUSTC) -Z unstable-options --target=$(TMPDIR)/test-platform.json --print target-spec-json | diff -q $(TMPDIR)/test-platform.json -\n \t$(RUSTC) foo.rs --target=definitely-not-builtin-target 2>&1 | $(CGREP) 'may not set is_builtin'\n-\t$(RUSTC) foo.rs --target=mismatching-data-layout\n+\t$(RUSTC) foo.rs --target=mismatching-data-layout --crate-type=lib"}]}