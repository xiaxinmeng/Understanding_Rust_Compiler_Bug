{"sha": "322a7d6387a875d9f751c1b332f84c181e57ac64", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMyMmE3ZDYzODdhODc1ZDlmNzUxYzFiMzMyZjg0YzE4MWU1N2FjNjQ=", "commit": {"author": {"name": "Jack", "email": "jack.huey@umassmed.edu", "date": "2019-08-08T23:16:08Z"}, "committer": {"name": "Jack", "email": "jack.huey@umassmed.edu", "date": "2019-08-08T23:16:08Z"}, "message": "Add test for issue 36804", "tree": {"sha": "86f321ba10e49528e9bb32197168cd26be8bb674", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/86f321ba10e49528e9bb32197168cd26be8bb674"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/322a7d6387a875d9f751c1b332f84c181e57ac64", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/322a7d6387a875d9f751c1b332f84c181e57ac64", "html_url": "https://github.com/rust-lang/rust/commit/322a7d6387a875d9f751c1b332f84c181e57ac64", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/322a7d6387a875d9f751c1b332f84c181e57ac64/comments", "author": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2d1a551e144335e0d60a637d12f410cf65849876", "url": "https://api.github.com/repos/rust-lang/rust/commits/2d1a551e144335e0d60a637d12f410cf65849876", "html_url": "https://github.com/rust-lang/rust/commit/2d1a551e144335e0d60a637d12f410cf65849876"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "36cb939bc48fbdb069d08c28b966c5fa67e50746", "filename": "src/test/ui/specialization/issue-36804.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/322a7d6387a875d9f751c1b332f84c181e57ac64/src%2Ftest%2Fui%2Fspecialization%2Fissue-36804.rs", "raw_url": "https://github.com/rust-lang/rust/raw/322a7d6387a875d9f751c1b332f84c181e57ac64/src%2Ftest%2Fui%2Fspecialization%2Fissue-36804.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspecialization%2Fissue-36804.rs?ref=322a7d6387a875d9f751c1b332f84c181e57ac64", "patch": "@@ -0,0 +1,31 @@\n+// check-pass\n+#![feature(specialization)]\n+\n+pub struct Cloned<I>(I);\n+\n+impl<'a, I, T: 'a> Iterator for Cloned<I>\n+where\n+    I: Iterator<Item = &'a T>,\n+    T: Clone,\n+{\n+    type Item = T;\n+\n+    fn next(&mut self) -> Option<T> {\n+        unimplemented!()\n+    }\n+}\n+\n+impl<'a, I, T: 'a> Iterator for Cloned<I>\n+where\n+    I: Iterator<Item = &'a T>,\n+    T: Copy,\n+{\n+    fn count(self) -> usize {\n+        unimplemented!()\n+    }\n+}\n+\n+fn main() {\n+    let a = [1,2,3,4];\n+    Cloned(a.iter()).count();\n+}"}]}