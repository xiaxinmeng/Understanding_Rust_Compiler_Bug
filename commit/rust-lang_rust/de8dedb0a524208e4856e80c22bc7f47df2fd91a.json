{"sha": "de8dedb0a524208e4856e80c22bc7f47df2fd91a", "node_id": "C_kwDOAAsO6NoAKGRlOGRlZGIwYTUyNDIwOGU0ODU2ZTgwYzIyYmM3ZjQ3ZGYyZmQ5MWE", "commit": {"author": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2022-08-12T22:39:26Z"}, "committer": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2022-08-12T22:39:26Z"}, "message": "Use an extensionless `x` script for non-Windows", "tree": {"sha": "77cd17c0284a6954a1993ec7041c52203af24ea1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/77cd17c0284a6954a1993ec7041c52203af24ea1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/de8dedb0a524208e4856e80c22bc7f47df2fd91a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/de8dedb0a524208e4856e80c22bc7f47df2fd91a", "html_url": "https://github.com/rust-lang/rust/commit/de8dedb0a524208e4856e80c22bc7f47df2fd91a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/de8dedb0a524208e4856e80c22bc7f47df2fd91a/comments", "author": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f22819bcce4abaff7d1246a56eec493418f9f4ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/f22819bcce4abaff7d1246a56eec493418f9f4ee", "html_url": "https://github.com/rust-lang/rust/commit/f22819bcce4abaff7d1246a56eec493418f9f4ee"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "9a08a7be0f5f7198a5efe0c2add00948d3536e76", "filename": "src/bootstrap/mk/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/de8dedb0a524208e4856e80c22bc7f47df2fd91a/src%2Fbootstrap%2Fmk%2FMakefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/de8dedb0a524208e4856e80c22bc7f47df2fd91a/src%2Fbootstrap%2Fmk%2FMakefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fmk%2FMakefile.in?ref=de8dedb0a524208e4856e80c22bc7f47df2fd91a", "patch": "@@ -80,7 +80,7 @@ TESTS_IN_MINGW_2 := \\\n \tsrc/test/ui\n \n ci-mingw-subset-1:\n-\t$(Q)$(CFG_SRC_DIR)/x.sh test --stage 2 $(TESTS_IN_MINGW_2:%=--exclude %)\n+\t$(Q)$(CFG_SRC_DIR)/x test --stage 2 $(TESTS_IN_MINGW_2:%=--exclude %)\n ci-mingw-subset-2:\n \t$(Q)$(BOOTSTRAP) test --stage 2 $(TESTS_IN_MINGW_2)\n "}, {"sha": "14d0ffd75005fb5216aa13b9804f7fe1cc8a1f94", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-llvm-12/Dockerfile", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/de8dedb0a524208e4856e80c22bc7f47df2fd91a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-12%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/de8dedb0a524208e4856e80c22bc7f47df2fd91a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-12%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-12%2FDockerfile?ref=de8dedb0a524208e4856e80c22bc7f47df2fd91a", "patch": "@@ -44,15 +44,15 @@ ENV RUST_CONFIGURE_ARGS \\\n       --enable-llvm-link-shared \\\n       --set rust.thin-lto-import-instr-limit=10\n \n-# NOTE: intentionally uses all of `x.py`, `x.sh`, and `x.ps1` to make sure they all work on Linux.\n+# NOTE: intentionally uses all of `x.py`, `x`, and `x.ps1` to make sure they all work on Linux.\n ENV SCRIPT ../x.py --stage 2 test --exclude src/tools/tidy && \\\n            # Run the `mir-opt` tests again but this time for a 32-bit target.\n            # This enforces that tests using `// EMIT_MIR_FOR_EACH_BIT_WIDTH` have\n            # both 32-bit and 64-bit outputs updated by the PR author, before\n            # the PR is approved and tested for merging.\n            # It will also detect tests lacking `// EMIT_MIR_FOR_EACH_BIT_WIDTH`,\n            # despite having different output on 32-bit vs 64-bit targets.\n-           ../x.sh --stage 2 test src/test/mir-opt \\\n+           ../x --stage 2 test src/test/mir-opt \\\n                              --host='' --target=i686-unknown-linux-gnu && \\\n            # Run the UI test suite again, but in `--pass=check` mode\n            #"}, {"sha": "30903f56d93b03ffd1450538121e69a09cf220ee", "filename": "src/tools/tidy/src/bins.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/de8dedb0a524208e4856e80c22bc7f47df2fd91a/src%2Ftools%2Ftidy%2Fsrc%2Fbins.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de8dedb0a524208e4856e80c22bc7f47df2fd91a/src%2Ftools%2Ftidy%2Fsrc%2Fbins.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fbins.rs?ref=de8dedb0a524208e4856e80c22bc7f47df2fd91a", "patch": "@@ -98,7 +98,7 @@ mod os_impl {\n     pub fn check(path: &Path, bad: &mut bool) {\n         use std::ffi::OsStr;\n \n-        const ALLOWED: &[&str] = &[\"configure\"];\n+        const ALLOWED: &[&str] = &[\"configure\", \"x\"];\n \n         crate::walk_no_read(\n             path,"}, {"sha": "704d0f791f333d0ddca4c333a16fdf62643bb4c7", "filename": "x", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/de8dedb0a524208e4856e80c22bc7f47df2fd91a/x", "raw_url": "https://github.com/rust-lang/rust/raw/de8dedb0a524208e4856e80c22bc7f47df2fd91a/x", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/x?ref=de8dedb0a524208e4856e80c22bc7f47df2fd91a", "previous_filename": "x.sh"}, {"sha": "86cea606591ba088e4643cd4b0bd2d29125d4c72", "filename": "x.ps1", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/de8dedb0a524208e4856e80c22bc7f47df2fd91a/x.ps1", "raw_url": "https://github.com/rust-lang/rust/raw/de8dedb0a524208e4856e80c22bc7f47df2fd91a/x.ps1", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/x.ps1?ref=de8dedb0a524208e4856e80c22bc7f47df2fd91a", "patch": "@@ -1,6 +1,6 @@\n #!/usr/bin/env pwsh\n \n-# See x.sh for why these scripts exist.\n+# See ./x for why these scripts exist.\n \n $xpy = Join-Path $PSScriptRoot x.py\n # Start-Process for some reason splits arguments on spaces. (Isn't powershell supposed to be simpler than bash?)"}, {"sha": "6df4033d55d7273bd064cedbddf4c959ee1dd301", "filename": "x.py", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/de8dedb0a524208e4856e80c22bc7f47df2fd91a/x.py", "raw_url": "https://github.com/rust-lang/rust/raw/de8dedb0a524208e4856e80c22bc7f47df2fd91a/x.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/x.py?ref=de8dedb0a524208e4856e80c22bc7f47df2fd91a", "patch": "@@ -1,6 +1,6 @@\n #!/usr/bin/env python3\n # Some systems don't have `python3` in their PATH. This isn't supported by x.py directly;\n-# they should use `x.sh` or `x.ps1` instead.\n+# they should use `x` or `x.ps1` instead.\n \n # This file is only a \"symlink\" to bootstrap.py, all logic should go there.\n "}]}