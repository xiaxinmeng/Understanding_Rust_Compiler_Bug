{"sha": "86fd661bcbf84f8f387b824d05f4803fc00ee34f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg2ZmQ2NjFiY2JmODRmOGYzODdiODI0ZDA1ZjQ4MDNmYzAwZWUzNGY=", "commit": {"author": {"name": "Jan-Erik Rediger", "email": "janerik@fnordig.de", "date": "2016-08-06T22:14:33Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2016-09-30T21:02:41Z"}, "message": "Patch panic_unwind to compile, but this is surely broken", "tree": {"sha": "e7561ce924e81523bfc31037eed9e1f99e2e4491", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e7561ce924e81523bfc31037eed9e1f99e2e4491"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/86fd661bcbf84f8f387b824d05f4803fc00ee34f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/86fd661bcbf84f8f387b824d05f4803fc00ee34f", "html_url": "https://github.com/rust-lang/rust/commit/86fd661bcbf84f8f387b824d05f4803fc00ee34f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/86fd661bcbf84f8f387b824d05f4803fc00ee34f/comments", "author": {"login": "badboy", "id": 2129, "node_id": "MDQ6VXNlcjIxMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/2129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/badboy", "html_url": "https://github.com/badboy", "followers_url": "https://api.github.com/users/badboy/followers", "following_url": "https://api.github.com/users/badboy/following{/other_user}", "gists_url": "https://api.github.com/users/badboy/gists{/gist_id}", "starred_url": "https://api.github.com/users/badboy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/badboy/subscriptions", "organizations_url": "https://api.github.com/users/badboy/orgs", "repos_url": "https://api.github.com/users/badboy/repos", "events_url": "https://api.github.com/users/badboy/events{/privacy}", "received_events_url": "https://api.github.com/users/badboy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cb3f5799f4c1e5786eb3976dfa33f527a0415168", "url": "https://api.github.com/repos/rust-lang/rust/commits/cb3f5799f4c1e5786eb3976dfa33f527a0415168", "html_url": "https://github.com/rust-lang/rust/commit/cb3f5799f4c1e5786eb3976dfa33f527a0415168"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "e4730a73204645d67bd4ac8cc7e995cfafdca430", "filename": "src/libpanic_unwind/gcc.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/86fd661bcbf84f8f387b824d05f4803fc00ee34f/src%2Flibpanic_unwind%2Fgcc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/86fd661bcbf84f8f387b824d05f4803fc00ee34f/src%2Flibpanic_unwind%2Fgcc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_unwind%2Fgcc.rs?ref=86fd661bcbf84f8f387b824d05f4803fc00ee34f", "patch": "@@ -133,6 +133,12 @@ const UNWIND_DATA_REG: (i32, i32) = (3, 4); // R3, R4 / X3, X4\n #[cfg(target_arch = \"s390x\")]\n const UNWIND_DATA_REG: (i32, i32) = (6, 7); // R6, R7\n \n+// FIXME: This is completely and utterly wrong.\n+// I copy'n'pasted the x86 thing just to see if asmjs-unknown-emscripten compiles at all\n+// (the happy path)\n+#[cfg(target_arch = \"asmjs\")]\n+const UNWIND_DATA_REG: (i32, i32) = (0, 2); // EAX, EDX\n+\n // The following code is based on GCC's C and C++ personality routines.  For reference, see:\n // https://github.com/gcc-mirror/gcc/blob/master/libstdc++-v3/libsupc++/eh_personality.cc\n // https://github.com/gcc-mirror/gcc/blob/trunk/libgcc/unwind-c.c"}]}