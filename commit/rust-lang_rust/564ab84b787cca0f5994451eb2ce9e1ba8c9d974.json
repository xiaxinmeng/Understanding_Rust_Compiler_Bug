{"sha": "564ab84b787cca0f5994451eb2ce9e1ba8c9d974", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU2NGFiODRiNzg3Y2NhMGY1OTk0NDUxZWIyY2U5ZTFiYThjOWQ5NzQ=", "commit": {"author": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2019-02-18T09:13:51Z"}, "committer": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2019-02-18T09:13:51Z"}, "message": "Merge #852\n\n852: Handle != r=flodiebold a=matklad\n\nr? @flodiebold\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "c7800634187e6ad9be17c8b728aec6c5fb94e853", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c7800634187e6ad9be17c8b728aec6c5fb94e853"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/564ab84b787cca0f5994451eb2ce9e1ba8c9d974", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/564ab84b787cca0f5994451eb2ce9e1ba8c9d974", "html_url": "https://github.com/rust-lang/rust/commit/564ab84b787cca0f5994451eb2ce9e1ba8c9d974", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/564ab84b787cca0f5994451eb2ce9e1ba8c9d974/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "parents": [{"sha": "3dfb16be69ff26519774ea3843f36b622b8bed0f", "url": "https://api.github.com/repos/rust-lang/rust/commits/3dfb16be69ff26519774ea3843f36b622b8bed0f", "html_url": "https://github.com/rust-lang/rust/commit/3dfb16be69ff26519774ea3843f36b622b8bed0f"}, {"sha": "4e8a3f565b5c48bb82051bdff4349786d8b716f5", "url": "https://api.github.com/repos/rust-lang/rust/commits/4e8a3f565b5c48bb82051bdff4349786d8b716f5", "html_url": "https://github.com/rust-lang/rust/commit/4e8a3f565b5c48bb82051bdff4349786d8b716f5"}], "stats": {"total": 79, "additions": 44, "deletions": 35}, "files": [{"sha": "d4d8966732afd5e3ecef7d0d8d67f3f33a2c7578", "filename": "crates/ra_hir/src/ty.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/564ab84b787cca0f5994451eb2ce9e1ba8c9d974/crates%2Fra_hir%2Fsrc%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/564ab84b787cca0f5994451eb2ce9e1ba8c9d974/crates%2Fra_hir%2Fsrc%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty.rs?ref=564ab84b787cca0f5994451eb2ce9e1ba8c9d974", "patch": "@@ -861,6 +861,7 @@ fn binary_op_return_ty(op: BinaryOp, rhs_ty: Ty) -> Ty {\n         BinaryOp::BooleanOr\n         | BinaryOp::BooleanAnd\n         | BinaryOp::EqualityTest\n+        | BinaryOp::NegatedEqualityTest\n         | BinaryOp::LesserEqualTest\n         | BinaryOp::GreaterEqualTest\n         | BinaryOp::LesserTest"}, {"sha": "80ffe6e11f32f95575a60f687c19a8c17b190a12", "filename": "crates/ra_hir/src/ty/snapshots/tests__infer_binary_op.snap", "status": "modified", "additions": 38, "deletions": 34, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/564ab84b787cca0f5994451eb2ce9e1ba8c9d974/crates%2Fra_hir%2Fsrc%2Fty%2Fsnapshots%2Ftests__infer_binary_op.snap", "raw_url": "https://github.com/rust-lang/rust/raw/564ab84b787cca0f5994451eb2ce9e1ba8c9d974/crates%2Fra_hir%2Fsrc%2Fty%2Fsnapshots%2Ftests__infer_binary_op.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty%2Fsnapshots%2Ftests__infer_binary_op.snap?ref=564ab84b787cca0f5994451eb2ce9e1ba8c9d974", "patch": "@@ -1,13 +1,13 @@\n ---\n-created: \"2019-01-26T17:46:03.853259898+00:00\"\n-creator: insta@0.5.2\n-expression: \"&result\"\n+created: \"2019-02-18T07:03:52.524808301Z\"\n+creator: insta@0.6.2\n source: crates/ra_hir/src/ty/tests.rs\n+expression: \"&result\"\n ---\n [6; 7) 'x': bool\n [22; 34) '{     0i32 }': i32\n [28; 32) '0i32': i32\n-[54; 350) '{     ... < 3 }': bool\n+[54; 370) '{     ... < 3 }': bool\n [64; 65) 'x': bool\n [68; 69) 'a': bool\n [68; 74) 'a && b': bool\n@@ -20,34 +20,38 @@ source: crates/ra_hir/src/ty/tests.rs\n [115; 116) 'x': bool\n [115; 121) 'x == y': bool\n [120; 121) 'y': bool\n-[131; 142) 'minus_forty': isize\n-[152; 160) '-40isize': isize\n-[153; 160) '40isize': isize\n-[170; 171) 'h': bool\n-[174; 185) 'minus_forty': isize\n-[174; 196) 'minus_...ONST_2': bool\n-[189; 196) 'CONST_2': isize\n-[206; 207) 'c': i32\n-[210; 211) 'f': fn f(bool) -> i32\n-[210; 219) 'f(z || y)': i32\n-[210; 223) 'f(z || y) + 5': i32\n-[212; 213) 'z': bool\n-[212; 218) 'z || y': bool\n-[217; 218) 'y': bool\n-[222; 223) '5': i32\n-[233; 234) 'd': [unknown]\n-[237; 238) 'b': [unknown]\n-[248; 249) 'g': ()\n-[252; 263) 'minus_forty': isize\n-[252; 268) 'minus_...y ^= i': ()\n-[267; 268) 'i': isize\n-[278; 281) 'ten': usize\n-[291; 293) '10': usize\n-[303; 316) 'ten_is_eleven': bool\n-[319; 322) 'ten': usize\n-[319; 334) 'ten == some_num': bool\n-[326; 334) 'some_num': usize\n-[341; 344) 'ten': usize\n-[341; 348) 'ten < 3': bool\n-[347; 348) '3': usize\n+[131; 132) 't': bool\n+[135; 136) 'x': bool\n+[135; 141) 'x != y': bool\n+[140; 141) 'y': bool\n+[151; 162) 'minus_forty': isize\n+[172; 180) '-40isize': isize\n+[173; 180) '40isize': isize\n+[190; 191) 'h': bool\n+[194; 205) 'minus_forty': isize\n+[194; 216) 'minus_...ONST_2': bool\n+[209; 216) 'CONST_2': isize\n+[226; 227) 'c': i32\n+[230; 231) 'f': fn f(bool) -> i32\n+[230; 239) 'f(z || y)': i32\n+[230; 243) 'f(z || y) + 5': i32\n+[232; 233) 'z': bool\n+[232; 238) 'z || y': bool\n+[237; 238) 'y': bool\n+[242; 243) '5': i32\n+[253; 254) 'd': [unknown]\n+[257; 258) 'b': [unknown]\n+[268; 269) 'g': ()\n+[272; 283) 'minus_forty': isize\n+[272; 288) 'minus_...y ^= i': ()\n+[287; 288) 'i': isize\n+[298; 301) 'ten': usize\n+[311; 313) '10': usize\n+[323; 336) 'ten_is_eleven': bool\n+[339; 342) 'ten': usize\n+[339; 354) 'ten == some_num': bool\n+[346; 354) 'some_num': usize\n+[361; 364) 'ten': usize\n+[361; 368) 'ten < 3': bool\n+[367; 368) '3': usize\n "}, {"sha": "4ab442b8a4d82eacaeac2ea2c1fbff74c46834d6", "filename": "crates/ra_hir/src/ty/tests.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/564ab84b787cca0f5994451eb2ce9e1ba8c9d974/crates%2Fra_hir%2Fsrc%2Fty%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/564ab84b787cca0f5994451eb2ce9e1ba8c9d974/crates%2Fra_hir%2Fsrc%2Fty%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty%2Ftests.rs?ref=564ab84b787cca0f5994451eb2ce9e1ba8c9d974", "patch": "@@ -239,6 +239,7 @@ fn test() -> bool {\n     let x = a && b;\n     let y = true || false;\n     let z = x == y;\n+    let t = x != y;\n     let minus_forty: isize = -40isize;\n     let h = minus_forty <= CONST_2;\n     let c = f(z || y) + 5;"}, {"sha": "62641c9fef8b460677c36d2dd27f5100d7d7f1da", "filename": "crates/ra_syntax/src/ast.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/564ab84b787cca0f5994451eb2ce9e1ba8c9d974/crates%2Fra_syntax%2Fsrc%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/564ab84b787cca0f5994451eb2ce9e1ba8c9d974/crates%2Fra_syntax%2Fsrc%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fast.rs?ref=564ab84b787cca0f5994451eb2ce9e1ba8c9d974", "patch": "@@ -535,6 +535,8 @@ pub enum BinOp {\n     BooleanAnd,\n     /// The `==` operator for equality testing\n     EqualityTest,\n+    /// The `!=` operator for equality testing\n+    NegatedEqualityTest,\n     /// The `<=` operator for lesser-equal testing\n     LesserEqualTest,\n     /// The `>=` operator for greater-equal testing\n@@ -569,7 +571,7 @@ pub enum BinOp {\n     RangeRightClosed,\n     /// The `=` operator for assignment\n     Assignment,\n-    /// The `+=` operator for assignment after additon\n+    /// The `+=` operator for assignment after addition\n     AddAssign,\n     /// The `/=` operator for assignment after division\n     DivAssign,\n@@ -599,6 +601,7 @@ impl BinExpr {\n                 PIPEPIPE => Some(BinOp::BooleanOr),\n                 AMPAMP => Some(BinOp::BooleanAnd),\n                 EQEQ => Some(BinOp::EqualityTest),\n+                NEQ => Some(BinOp::NegatedEqualityTest),\n                 LTEQ => Some(BinOp::LesserEqualTest),\n                 GTEQ => Some(BinOp::GreaterEqualTest),\n                 L_ANGLE => Some(BinOp::LesserTest),"}]}