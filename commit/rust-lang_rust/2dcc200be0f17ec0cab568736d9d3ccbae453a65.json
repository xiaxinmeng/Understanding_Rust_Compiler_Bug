{"sha": "2dcc200be0f17ec0cab568736d9d3ccbae453a65", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJkY2MyMDBiZTBmMTdlYzBjYWI1Njg3MzZkOWQzY2NiYWU0NTNhNjU=", "commit": {"author": {"name": "Lee Jeffery", "email": "leejeffery@gmail.com", "date": "2015-05-14T17:28:28Z"}, "committer": {"name": "Lee Jeffery", "email": "leejeffery@gmail.com", "date": "2015-05-14T17:28:28Z"}, "message": "Fix stupid mistake from previous commit", "tree": {"sha": "bbd7c505c15a4d92f0fa6e08766cf9d920db07a3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bbd7c505c15a4d92f0fa6e08766cf9d920db07a3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2dcc200be0f17ec0cab568736d9d3ccbae453a65", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2dcc200be0f17ec0cab568736d9d3ccbae453a65", "html_url": "https://github.com/rust-lang/rust/commit/2dcc200be0f17ec0cab568736d9d3ccbae453a65", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2dcc200be0f17ec0cab568736d9d3ccbae453a65/comments", "author": null, "committer": null, "parents": [{"sha": "93af5f9b446adfeb95abdd8df76cf961451f9d91", "url": "https://api.github.com/repos/rust-lang/rust/commits/93af5f9b446adfeb95abdd8df76cf961451f9d91", "html_url": "https://github.com/rust-lang/rust/commit/93af5f9b446adfeb95abdd8df76cf961451f9d91"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "b70594a96a028eed5ed52a694ef504d8e5642254", "filename": "src/libsyntax/parse/lexer/mod.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/2dcc200be0f17ec0cab568736d9d3ccbae453a65/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2dcc200be0f17ec0cab568736d9d3ccbae453a65/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs?ref=2dcc200be0f17ec0cab568736d9d3ccbae453a65", "patch": "@@ -406,6 +406,11 @@ impl<'a> StringReader<'a> {\n \n                     // line comments starting with \"///\" or \"//!\" are doc-comments\n                     let doc_comment = self.curr_is('/') || self.curr_is('!');\n+                    let start_bpos = if doc_comment {\n+                        self.pos - BytePos(3)\n+                    } else {\n+                        self.last_pos - BytePos(2)\n+                    };\n \n                     while !self.is_eof() {\n                         match self.curr.unwrap() {\n@@ -425,7 +430,6 @@ impl<'a> StringReader<'a> {\n                     }\n \n                     return if doc_comment {\n-                        let start_bpos = self.pos - BytePos(3);\n                         self.with_str_from(start_bpos, |string| {\n                             // comments with only more \"/\"s are not doc comments\n                             let tok = if is_doc_comment(string) {\n@@ -440,7 +444,6 @@ impl<'a> StringReader<'a> {\n                             })\n                         })\n                     } else {\n-                        let start_bpos = self.last_pos - BytePos(2);\n                         Some(TokenAndSpan {\n                             tok: token::Comment,\n                             sp: codemap::mk_sp(start_bpos, self.last_pos)"}]}