{"sha": "a7b0beac6da684a005c91ecc8f652989f9174887", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE3YjBiZWFjNmRhNjg0YTAwNWM5MWVjYzhmNjUyOTg5ZjkxNzQ4ODc=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2019-11-07T17:25:06Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2019-11-07T21:06:56Z"}, "message": "Attempt to fix *.yml confguration on Azure\n\nCurrently the `RUST_CONFIGURE_ARGS` variable apparently has a trailing\nnewline at the end of it due to the way it's configured in yaml. This\ncauses issues with MSVC's `install-clang.sh` step where the way the bash\nsyntax works out means that we drop the arg we're trying to add and it\ndoesn't actually get added!\n\nThe hopeful fix here is to tweak how we specify the yaml syntax to not\nhave a trailing newline, we'll see what CI says about this...", "tree": {"sha": "9647132938e580bd6cd4689e69899f943ef8fe74", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9647132938e580bd6cd4689e69899f943ef8fe74"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a7b0beac6da684a005c91ecc8f652989f9174887", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a7b0beac6da684a005c91ecc8f652989f9174887", "html_url": "https://github.com/rust-lang/rust/commit/a7b0beac6da684a005c91ecc8f652989f9174887", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a7b0beac6da684a005c91ecc8f652989f9174887/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1e4c2ae622549108a55fcbdaeffdbf6d56ace3ac", "url": "https://api.github.com/repos/rust-lang/rust/commits/1e4c2ae622549108a55fcbdaeffdbf6d56ace3ac", "html_url": "https://github.com/rust-lang/rust/commit/1e4c2ae622549108a55fcbdaeffdbf6d56ace3ac"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "836f81a7816569cb613f07ae56bcf867db738575", "filename": "src/ci/azure-pipelines/auto.yml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a7b0beac6da684a005c91ecc8f652989f9174887/src%2Fci%2Fazure-pipelines%2Fauto.yml", "raw_url": "https://github.com/rust-lang/rust/raw/a7b0beac6da684a005c91ecc8f652989f9174887/src%2Fci%2Fazure-pipelines%2Fauto.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fazure-pipelines%2Fauto.yml?ref=a7b0beac6da684a005c91ecc8f652989f9174887", "patch": "@@ -318,7 +318,7 @@ jobs:\n       # 32/64 bit MSVC and GNU deployment\n       dist-x86_64-msvc:\n         MSYS_BITS: 64\n-        RUST_CONFIGURE_ARGS: >\n+        RUST_CONFIGURE_ARGS: >-\n           --build=x86_64-pc-windows-msvc\n           --target=x86_64-pc-windows-msvc,aarch64-pc-windows-msvc\n           --enable-full-tools\n@@ -328,7 +328,7 @@ jobs:\n         DEPLOY: 1\n       dist-i686-msvc:\n         MSYS_BITS: 32\n-        RUST_CONFIGURE_ARGS: >\n+        RUST_CONFIGURE_ARGS: >-\n           --build=i686-pc-windows-msvc\n           --target=i586-pc-windows-msvc\n           --enable-full-tools"}]}