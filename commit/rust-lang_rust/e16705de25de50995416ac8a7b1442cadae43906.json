{"sha": "e16705de25de50995416ac8a7b1442cadae43906", "node_id": "C_kwDOAAsO6NoAKGUxNjcwNWRlMjVkZTUwOTk1NDE2YWM4YTdiMTQ0MmNhZGFlNDM5MDY", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-07-14T00:04:40Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-07-14T00:04:40Z"}, "message": "Auto merge of #2369 - RalfJung:reborrow, r=RalfJung\n\nreborrow error: clarify that we are reborrowing *from* that tag\n\n`@saethlin` I found the current message not entirely clear, so what do you think about this?", "tree": {"sha": "79e49b828bc44f84dada1452d2c8a0795cb52be0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/79e49b828bc44f84dada1452d2c8a0795cb52be0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e16705de25de50995416ac8a7b1442cadae43906", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e16705de25de50995416ac8a7b1442cadae43906", "html_url": "https://github.com/rust-lang/rust/commit/e16705de25de50995416ac8a7b1442cadae43906", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e16705de25de50995416ac8a7b1442cadae43906/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8884ea48afb77083004e8d7deba1c0236d298288", "url": "https://api.github.com/repos/rust-lang/rust/commits/8884ea48afb77083004e8d7deba1c0236d298288", "html_url": "https://github.com/rust-lang/rust/commit/8884ea48afb77083004e8d7deba1c0236d298288"}, {"sha": "cc42cb1b21c31af582ee109d7069224f91c9f278", "url": "https://api.github.com/repos/rust-lang/rust/commits/cc42cb1b21c31af582ee109d7069224f91c9f278", "html_url": "https://github.com/rust-lang/rust/commit/cc42cb1b21c31af582ee109d7069224f91c9f278"}], "stats": {"total": 74, "additions": 37, "deletions": 37}, "files": [{"sha": "133164f390dfb77c174508547d2585d85d353433", "filename": "src/stacked_borrows/diagnostics.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/src%2Fstacked_borrows%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/src%2Fstacked_borrows%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fstacked_borrows%2Fdiagnostics.rs?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -140,7 +140,7 @@ impl AllocHistory {\n         stack: &Stack,\n     ) -> InterpError<'tcx> {\n         let action = format!(\n-            \"trying to reborrow {derived_from:?} for {new_perm:?} permission at {alloc_id:?}[{offset:#x}]\",\n+            \"trying to reborrow from {derived_from:?} for {new_perm:?} permission at {alloc_id:?}[{offset:#x}]\",\n             new_perm = new.perm(),\n             offset = error_offset.bytes(),\n         );"}, {"sha": "4cae27ecd2192a67ba85e9fd8459865c5714f96e", "filename": "src/stacked_borrows/mod.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/src%2Fstacked_borrows%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/src%2Fstacked_borrows%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fstacked_borrows%2Fmod.rs?ref=e16705de25de50995416ac8a7b1442cadae43906", "previous_filename": "src/stacked_borrows.rs"}, {"sha": "705348ba0f06d8c62ba3473261e2038cd573b83c", "filename": "tests/fail/box-cell-alias.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fbox-cell-alias.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fbox-cell-alias.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fbox-cell-alias.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/box-cell-alias.rs:LL:CC\n    |\n LL |     unsafe { (*ptr).set(20) };\n    |              ^^^^^^^^^^^^^^\n    |              |\n-   |              trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |              trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    |              this error occurs as part of a reborrow at ALLOC[0x0..0x1]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "0bb7b8d3a85cf010ee396350366eab1833bea32c", "filename": "tests/fail/stacked_borrows/aliasing_mut3.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Faliasing_mut3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Faliasing_mut3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Faliasing_mut3.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/aliasing_mut3.rs:LL:CC\n    |\n LL | pub fn safe(_x: &mut i32, _y: &i32) {}\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | |\n-   | trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   | trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    | this error occurs as part of a reborrow at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "41ab9cfa92ae508d1a42c6d46689b8aca48310d0", "filename": "tests/fail/stacked_borrows/buggy_split_at_mut.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fbuggy_split_at_mut.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fbuggy_split_at_mut.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fbuggy_split_at_mut.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for Unique permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for Unique permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/buggy_split_at_mut.rs:LL:CC\n    |\n LL |     let (a, b) = safe::split_at_mut(&mut array, 0);\n    |          ^\n    |          |\n-   |          trying to reborrow <TAG> for Unique permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |          trying to reborrow from <TAG> for Unique permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    |          this error occurs as part of a reborrow at ALLOC[0x0..0x10]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "11335df4da0a34841c307e0f0d360e0650be169a", "filename": "tests/fail/stacked_borrows/illegal_read7.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fillegal_read7.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fillegal_read7.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fillegal_read7.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/illegal_read7.rs:LL:CC\n    |\n LL |         let _val = *x.get_mut();\n    |                     ^^^^^^^^^^^\n    |                     |\n-   |                     trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |                     trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    |                     this error occurs as part of a reborrow at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "a2643841eac1bfba0f6f0f22d04ffb218cf7bd8b", "filename": "tests/fail/stacked_borrows/interior_mut1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Finterior_mut1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Finterior_mut1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Finterior_mut1.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/interior_mut1.rs:LL:CC\n    |\n LL |         let _val = *inner_shr.get();\n    |                     ^^^^^^^^^^^^^^^\n    |                     |\n-   |                     trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |                     trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    |                     this error occurs as part of a reborrow at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "0dbf6e2ea9f9a72c3202af8f0512baa0d52fc90d", "filename": "tests/fail/stacked_borrows/interior_mut2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Finterior_mut2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Finterior_mut2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Finterior_mut2.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/interior_mut2.rs:LL:CC\n    |\n LL |         let _val = *inner_shr.get();\n    |                     ^^^^^^^^^^^^^^^\n    |                     |\n-   |                     trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |                     trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    |                     this error occurs as part of a reborrow at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "f8e03c631eeebc7490d5865c546e65ed825938ce", "filename": "tests/fail/stacked_borrows/load_invalid_mut.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fload_invalid_mut.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fload_invalid_mut.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fload_invalid_mut.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for Unique permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for Unique permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/load_invalid_mut.rs:LL:CC\n    |\n LL |     let _val = *xref_in_mem;\n    |                ^^^^^^^^^^^^\n    |                |\n-   |                trying to reborrow <TAG> for Unique permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |                trying to reborrow from <TAG> for Unique permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    |                this error occurs as part of a reborrow at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "a9546c9a7680a3465295cbb8c12bb54b1d7ff5fe", "filename": "tests/fail/stacked_borrows/load_invalid_shr.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fload_invalid_shr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fload_invalid_shr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fload_invalid_shr.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/load_invalid_shr.rs:LL:CC\n    |\n LL |     let _val = *xref_in_mem;\n    |                ^^^^^^^^^^^^\n    |                |\n-   |                trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |                trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    |                this error occurs as part of a reborrow at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "f254fd16dcbe10b5a57a1fd35c3fca8b8af6190e", "filename": "tests/fail/stacked_borrows/pass_invalid_mut.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fpass_invalid_mut.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fpass_invalid_mut.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fpass_invalid_mut.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/pass_invalid_mut.rs:LL:CC\n    |\n LL |     foo(xref);\n    |         ^^^^\n    |         |\n-   |         trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |         trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    |         this error occurs as part of a reborrow at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "28500836aa8d48179efbd7e2c54693f228c34da8", "filename": "tests/fail/stacked_borrows/pass_invalid_shr.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fpass_invalid_shr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fpass_invalid_shr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fpass_invalid_shr.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/pass_invalid_shr.rs:LL:CC\n    |\n LL |     foo(xref);\n    |         ^^^^\n    |         |\n-   |         trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |         trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    |         this error occurs as part of a reborrow at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "7c8007044370092277747395b63f63f4f3ba0915", "filename": "tests/fail/stacked_borrows/return_invalid_mut.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_mut.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_mut.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_mut.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n   --> $DIR/return_invalid_mut.rs:LL:CC\n    |\n LL |     ret\n    |     ^^^\n    |     |\n-   |     trying to reborrow <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+   |     trying to reborrow from <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n    |     this error occurs as part of a reborrow at ALLOC[0x4..0x8]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "cab997b47357bd9ce0c597c1a7bbf3b37e57b534", "filename": "tests/fail/stacked_borrows/return_invalid_mut_option.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_mut_option.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_mut_option.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_mut_option.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n   --> $DIR/return_invalid_mut_option.rs:LL:CC\n    |\n LL |         Some(_x) => {}\n    |              ^^\n    |              |\n-   |              trying to reborrow <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+   |              trying to reborrow from <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n    |              this error occurs as part of a reborrow at ALLOC[0x4..0x8]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "46ef6a737a6375e12ec38e06b69532ea68aa97c9", "filename": "tests/fail/stacked_borrows/return_invalid_mut_tuple.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_mut_tuple.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_mut_tuple.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_mut_tuple.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n   --> $DIR/return_invalid_mut_tuple.rs:LL:CC\n    |\n LL |     foo(&mut (1, 2)).0;\n    |     ^^^^^^^^^^^^^^^^^^\n    |     |\n-   |     trying to reborrow <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+   |     trying to reborrow from <TAG> for Unique permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n    |     this error occurs as part of a reborrow at ALLOC[0x4..0x8]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "6f745b69fc722a9855da39b321bd174962063c56", "filename": "tests/fail/stacked_borrows/return_invalid_shr.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_shr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_shr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_shr.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n   --> $DIR/return_invalid_shr.rs:LL:CC\n    |\n LL |     ret\n    |     ^^^\n    |     |\n-   |     trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+   |     trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n    |     this error occurs as part of a reborrow at ALLOC[0x4..0x8]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "2441c9aa1c5103840e2f9038ce71b0c15c9bd5b8", "filename": "tests/fail/stacked_borrows/return_invalid_shr_option.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_shr_option.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_shr_option.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_shr_option.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n   --> $DIR/return_invalid_shr_option.rs:LL:CC\n    |\n LL |         Some(_x) => {}\n    |              ^^\n    |              |\n-   |              trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+   |              trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n    |              this error occurs as part of a reborrow at ALLOC[0x4..0x8]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "5102f7cb53c452e26cc4c79841daecd45aa78a5a", "filename": "tests/fail/stacked_borrows/return_invalid_shr_tuple.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_shr_tuple.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_shr_tuple.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Freturn_invalid_shr_tuple.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n   --> $DIR/return_invalid_shr_tuple.rs:LL:CC\n    |\n LL |     foo(&mut (1, 2)).0;\n    |     ^^^^^^^^^^^^^^^^^^\n    |     |\n-   |     trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+   |     trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n    |     this error occurs as part of a reborrow at ALLOC[0x4..0x8]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "a412add67e024d8c13b882c3fb3087c69c111e31", "filename": "tests/fail/stacked_borrows/shared_rw_borrows_are_weak1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fshared_rw_borrows_are_weak1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fshared_rw_borrows_are_weak1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fshared_rw_borrows_are_weak1.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/shared_rw_borrows_are_weak1.rs:LL:CC\n    |\n LL |         y.get_mut();\n    |         ^^^^^^^^^^^\n    |         |\n-   |         trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |         trying to reborrow from <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n    |         this error occurs as part of a reborrow at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}, {"sha": "d47e967b543b085c79e469ecab12c4fa714e5270", "filename": "tests/fail/stacked_borrows/zst_slice.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fzst_slice.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e16705de25de50995416ac8a7b1442cadae43906/tests%2Ffail%2Fstacked_borrows%2Fzst_slice.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fzst_slice.stderr?ref=e16705de25de50995416ac8a7b1442cadae43906", "patch": "@@ -1,10 +1,10 @@\n-error: Undefined Behavior: trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+error: Undefined Behavior: trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n   --> RUSTLIB/core/src/slice/mod.rs:LL:CC\n    |\n LL |         unsafe { &*index.get_unchecked(self) }\n    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                  |\n-   |                  trying to reborrow <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n+   |                  trying to reborrow from <TAG> for SharedReadOnly permission at ALLOC[0x4], but that tag does not exist in the borrow stack for this location\n    |                  this error occurs as part of a reborrow at ALLOC[0x4..0x8]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental"}]}