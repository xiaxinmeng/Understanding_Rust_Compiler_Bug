{"sha": "043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA0M2Q5NWEyYmRjNmEzNDRmMWJmYzc4MDBiMGVkNzE5ZGJiNmM3YWE=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-08-02T09:42:29Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-08-02T10:09:15Z"}, "message": "Move ppaux::ty_to_str to new record syntax", "tree": {"sha": "590e1a0e78e22608883cbf4bd7ec2166b82eb684", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/590e1a0e78e22608883cbf4bd7ec2166b82eb684"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa", "html_url": "https://github.com/rust-lang/rust/commit/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8d8ff16dfeca9681f6ad56749a143f10a736c76d", "url": "https://api.github.com/repos/rust-lang/rust/commits/8d8ff16dfeca9681f6ad56749a143f10a736c76d", "html_url": "https://github.com/rust-lang/rust/commit/8d8ff16dfeca9681f6ad56749a143f10a736c76d"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "93530b26f35352b5cf10c8c8015eae2283ddfbd9", "filename": "src/comp/util/ppaux.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa/src%2Fcomp%2Futil%2Fppaux.rs", "raw_url": "https://github.com/rust-lang/rust/raw/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa/src%2Fcomp%2Futil%2Fppaux.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Futil%2Fppaux.rs?ref=043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa", "patch": "@@ -65,7 +65,7 @@ fn ty_to_str(cx: &ctxt, typ: &t) -> str {\n                       m.output, m.cf, m.constrs) + \";\";\n     }\n     fn field_to_str(cx: &ctxt, f: &field) -> str {\n-        ret mt_to_str(cx, f.mt) + \" \" + f.ident;\n+        ret f.ident + \": \" + mt_to_str(cx, f.mt);\n     }\n     fn mt_to_str(cx: &ctxt, m: &mt) -> str {\n         let mstr;\n@@ -100,7 +100,7 @@ fn ty_to_str(cx: &ctxt, typ: &t) -> str {\n       ty_rec(elems) {\n         let strs: str[] = ~[];\n         for fld: field  in elems { strs += ~[field_to_str(cx, fld)]; }\n-        s += \"rec(\" + str::connect_ivec(strs, \",\") + \")\";\n+        s += \"{\" + str::connect_ivec(strs, \",\") + \"}\";\n       }\n       ty_tag(id, tps) {\n         // The user should never see this if the cname is set properly!"}, {"sha": "4f3bc7a8ee96fcea762fd56a9aa4753b05485b89", "filename": "src/test/compile-fail/binop-add-tup-assign.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa/src%2Ftest%2Fcompile-fail%2Fbinop-add-tup-assign.rs", "raw_url": "https://github.com/rust-lang/rust/raw/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa/src%2Ftest%2Fcompile-fail%2Fbinop-add-tup-assign.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fbinop-add-tup-assign.rs?ref=043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa", "patch": "@@ -1,4 +1,4 @@\n // xfail-stage0\n-// error-pattern:+ cannot be applied to type `rec(bool x)`\n+// error-pattern:+ cannot be applied to type `{x: bool}`\n \n fn main() { let x = {x: true}; x += {x: false}; }\n\\ No newline at end of file"}, {"sha": "71a3be9f31bc3d3a126f8d542addcf13fe5d6073", "filename": "src/test/compile-fail/binop-add-tup.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa/src%2Ftest%2Fcompile-fail%2Fbinop-add-tup.rs", "raw_url": "https://github.com/rust-lang/rust/raw/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa/src%2Ftest%2Fcompile-fail%2Fbinop-add-tup.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fbinop-add-tup.rs?ref=043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa", "patch": "@@ -1,4 +1,4 @@\n // xfail-stage0\n-// error-pattern:+ cannot be applied to type `rec(bool x)`\n+// error-pattern:+ cannot be applied to type `{x: bool}`\n \n fn main() { let x = {x: true} + {x: false}; }\n\\ No newline at end of file"}, {"sha": "babcdde2d3087b789f3c09c477c03b428f424772", "filename": "src/test/compile-fail/main-wrong-type.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa/src%2Ftest%2Fcompile-fail%2Fmain-wrong-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa/src%2Ftest%2Fcompile-fail%2Fmain-wrong-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmain-wrong-type.rs?ref=043d95a2bdc6a344f1bfc7800b0ed719dbb6c7aa", "patch": "@@ -1,3 +1,3 @@\n // xfail-stage0\n-// error-pattern:Wrong type in main function: found fn(rec(int x\n+// error-pattern:Wrong type in main function: found fn(\n fn main(foo: {x: int, y: int}) { }\n\\ No newline at end of file"}]}