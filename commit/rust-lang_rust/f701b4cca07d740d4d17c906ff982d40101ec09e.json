{"sha": "f701b4cca07d740d4d17c906ff982d40101ec09e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY3MDFiNGNjYTA3ZDc0MGQ0ZDE3YzkwNmZmOTgyZDQwMTAxZWMwOWU=", "commit": {"author": {"name": "Sunjay Varma", "email": "varma.sunjay@gmail.com", "date": "2017-12-13T23:50:45Z"}, "committer": {"name": "Sunjay Varma", "email": "varma.sunjay@gmail.com", "date": "2017-12-13T23:50:45Z"}, "message": "Added test to make sure that undeclared lifetimes are in fact detected", "tree": {"sha": "273e3ae6260230c5b5b15386882a7c6cd32479f5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/273e3ae6260230c5b5b15386882a7c6cd32479f5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f701b4cca07d740d4d17c906ff982d40101ec09e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f701b4cca07d740d4d17c906ff982d40101ec09e", "html_url": "https://github.com/rust-lang/rust/commit/f701b4cca07d740d4d17c906ff982d40101ec09e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f701b4cca07d740d4d17c906ff982d40101ec09e/comments", "author": {"login": "sunjay", "id": 530939, "node_id": "MDQ6VXNlcjUzMDkzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/530939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunjay", "html_url": "https://github.com/sunjay", "followers_url": "https://api.github.com/users/sunjay/followers", "following_url": "https://api.github.com/users/sunjay/following{/other_user}", "gists_url": "https://api.github.com/users/sunjay/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunjay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunjay/subscriptions", "organizations_url": "https://api.github.com/users/sunjay/orgs", "repos_url": "https://api.github.com/users/sunjay/repos", "events_url": "https://api.github.com/users/sunjay/events{/privacy}", "received_events_url": "https://api.github.com/users/sunjay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sunjay", "id": 530939, "node_id": "MDQ6VXNlcjUzMDkzOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/530939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunjay", "html_url": "https://github.com/sunjay", "followers_url": "https://api.github.com/users/sunjay/followers", "following_url": "https://api.github.com/users/sunjay/following{/other_user}", "gists_url": "https://api.github.com/users/sunjay/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunjay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunjay/subscriptions", "organizations_url": "https://api.github.com/users/sunjay/orgs", "repos_url": "https://api.github.com/users/sunjay/repos", "events_url": "https://api.github.com/users/sunjay/events{/privacy}", "received_events_url": "https://api.github.com/users/sunjay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b90e9c9b2cf04920c08569953c4e3ee5e339524b", "url": "https://api.github.com/repos/rust-lang/rust/commits/b90e9c9b2cf04920c08569953c4e3ee5e339524b", "html_url": "https://github.com/rust-lang/rust/commit/b90e9c9b2cf04920c08569953c4e3ee5e339524b"}], "stats": {"total": 63, "additions": 63, "deletions": 0}, "files": [{"sha": "263b3cb42eb4f32d465de767687b79ea25f954cf", "filename": "src/test/ui/rfc1598-generic-associated-types/generic_associated_type_undeclared_lifetimes.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/f701b4cca07d740d4d17c906ff982d40101ec09e/src%2Ftest%2Fui%2Frfc1598-generic-associated-types%2Fgeneric_associated_type_undeclared_lifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f701b4cca07d740d4d17c906ff982d40101ec09e/src%2Ftest%2Fui%2Frfc1598-generic-associated-types%2Fgeneric_associated_type_undeclared_lifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc1598-generic-associated-types%2Fgeneric_associated_type_undeclared_lifetimes.rs?ref=f701b4cca07d740d4d17c906ff982d40101ec09e", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(generic_associated_types)]\n+\n+use std::ops::Deref;\n+\n+//FIXME(#44265): \"lifetime parameters are not allowed on this type\" errors will be addressed in a\n+//follow-up PR\n+\n+trait Iterable {\n+    type Item<'a>;\n+    type Iter<'a>: Iterator<Item = Self::Item<'a>>\n+    //~^ ERROR lifetime parameters are not allowed on this type [E0110]\n+        + Deref<Target = Self::Item<'b>>;\n+    //~^ ERROR undeclared lifetime\n+    //~| ERROR lifetime parameters are not allowed on this type [E0110]\n+\n+    fn iter<'a>(&'a self) -> Self::Iter<'undeclared>;\n+    //~^ ERROR undeclared lifetime\n+    //~| ERROR lifetime parameters are not allowed on this type [E0110]\n+}\n+\n+fn main() {}"}, {"sha": "587be7113cec7a444993c7e787195834e5d31e4c", "filename": "src/test/ui/rfc1598-generic-associated-types/generic_associated_type_undeclared_lifetimes.stderr", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/f701b4cca07d740d4d17c906ff982d40101ec09e/src%2Ftest%2Fui%2Frfc1598-generic-associated-types%2Fgeneric_associated_type_undeclared_lifetimes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f701b4cca07d740d4d17c906ff982d40101ec09e/src%2Ftest%2Fui%2Frfc1598-generic-associated-types%2Fgeneric_associated_type_undeclared_lifetimes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc1598-generic-associated-types%2Fgeneric_associated_type_undeclared_lifetimes.stderr?ref=f701b4cca07d740d4d17c906ff982d40101ec09e", "patch": "@@ -0,0 +1,32 @@\n+error[E0261]: use of undeclared lifetime name `'b`\n+  --> $DIR/generic_associated_type_undeclared_lifetimes.rs:22:37\n+   |\n+22 |         + Deref<Target = Self::Item<'b>>;\n+   |                                     ^^ undeclared lifetime\n+\n+error[E0261]: use of undeclared lifetime name `'undeclared`\n+  --> $DIR/generic_associated_type_undeclared_lifetimes.rs:26:41\n+   |\n+26 |     fn iter<'a>(&'a self) -> Self::Iter<'undeclared>;\n+   |                                         ^^^^^^^^^^^ undeclared lifetime\n+\n+error[E0110]: lifetime parameters are not allowed on this type\n+  --> $DIR/generic_associated_type_undeclared_lifetimes.rs:20:47\n+   |\n+20 |     type Iter<'a>: Iterator<Item = Self::Item<'a>>\n+   |                                               ^^ lifetime parameter not allowed on this type\n+\n+error[E0110]: lifetime parameters are not allowed on this type\n+  --> $DIR/generic_associated_type_undeclared_lifetimes.rs:22:37\n+   |\n+22 |         + Deref<Target = Self::Item<'b>>;\n+   |                                     ^^ lifetime parameter not allowed on this type\n+\n+error[E0110]: lifetime parameters are not allowed on this type\n+  --> $DIR/generic_associated_type_undeclared_lifetimes.rs:26:41\n+   |\n+26 |     fn iter<'a>(&'a self) -> Self::Iter<'undeclared>;\n+   |                                         ^^^^^^^^^^^ lifetime parameter not allowed on this type\n+\n+error: aborting due to 5 previous errors\n+"}]}