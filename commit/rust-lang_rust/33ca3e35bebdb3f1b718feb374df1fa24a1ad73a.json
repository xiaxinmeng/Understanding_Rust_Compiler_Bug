{"sha": "33ca3e35bebdb3f1b718feb374df1fa24a1ad73a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMzY2EzZTM1YmViZGIzZjFiNzE4ZmViMzc0ZGYxZmEyNGExYWQ3M2E=", "commit": {"author": {"name": "Cadence Marseille", "email": "cadencemarseille@gmail.com", "date": "2013-12-08T22:12:41Z"}, "committer": {"name": "Cadence Marseille", "email": "cadencemarseille@gmail.com", "date": "2013-12-17T13:08:19Z"}, "message": "Handle ENOENT\n\nTranslate ENOENT to IoErrorKind::FileNotFound.", "tree": {"sha": "711fe768ab10d2583f02d3604636725d1bfaee7f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/711fe768ab10d2583f02d3604636725d1bfaee7f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a", "html_url": "https://github.com/rust-lang/rust/commit/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a/comments", "author": {"login": "cadencemarseille", "id": 5514909, "node_id": "MDQ6VXNlcjU1MTQ5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5514909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cadencemarseille", "html_url": "https://github.com/cadencemarseille", "followers_url": "https://api.github.com/users/cadencemarseille/followers", "following_url": "https://api.github.com/users/cadencemarseille/following{/other_user}", "gists_url": "https://api.github.com/users/cadencemarseille/gists{/gist_id}", "starred_url": "https://api.github.com/users/cadencemarseille/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cadencemarseille/subscriptions", "organizations_url": "https://api.github.com/users/cadencemarseille/orgs", "repos_url": "https://api.github.com/users/cadencemarseille/repos", "events_url": "https://api.github.com/users/cadencemarseille/events{/privacy}", "received_events_url": "https://api.github.com/users/cadencemarseille/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cadencemarseille", "id": 5514909, "node_id": "MDQ6VXNlcjU1MTQ5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5514909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cadencemarseille", "html_url": "https://github.com/cadencemarseille", "followers_url": "https://api.github.com/users/cadencemarseille/followers", "following_url": "https://api.github.com/users/cadencemarseille/following{/other_user}", "gists_url": "https://api.github.com/users/cadencemarseille/gists{/gist_id}", "starred_url": "https://api.github.com/users/cadencemarseille/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cadencemarseille/subscriptions", "organizations_url": "https://api.github.com/users/cadencemarseille/orgs", "repos_url": "https://api.github.com/users/cadencemarseille/repos", "events_url": "https://api.github.com/users/cadencemarseille/events{/privacy}", "received_events_url": "https://api.github.com/users/cadencemarseille/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e7b0e0adbbb9f41f79592822ffe1e5834222a96b", "url": "https://api.github.com/repos/rust-lang/rust/commits/e7b0e0adbbb9f41f79592822ffe1e5834222a96b", "html_url": "https://github.com/rust-lang/rust/commit/e7b0e0adbbb9f41f79592822ffe1e5834222a96b"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "9f2b19ac5fd6901d99390aa1bd1c9e4317c44510", "filename": "src/librustuv/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a/src%2Flibrustuv%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a/src%2Flibrustuv%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Flib.rs?ref=33ca3e35bebdb3f1b718feb374df1fa24a1ad73a", "patch": "@@ -337,6 +337,7 @@ pub fn uv_error_to_io_error(uverr: UvError) -> IoError {\n             EACCES => PermissionDenied,\n             ECONNREFUSED => ConnectionRefused,\n             ECONNRESET => ConnectionReset,\n+            ENOENT => FileNotFound,\n             ENOTCONN => NotConnected,\n             EPIPE => BrokenPipe,\n             ECONNABORTED => ConnectionAborted,"}, {"sha": "0e5b50fd310d070721a22af81d6dcbc3cc8c1c81", "filename": "src/librustuv/uvll.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a/src%2Flibrustuv%2Fuvll.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a/src%2Flibrustuv%2Fuvll.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Fuvll.rs?ref=33ca3e35bebdb3f1b718feb374df1fa24a1ad73a", "patch": "@@ -44,6 +44,7 @@ pub static EOF: c_int = -4095;\n pub static UNKNOWN: c_int = -4094;\n \n // uv-errno.h redefines error codes for windows, but not for unix...\n+// https://github.com/joyent/libuv/blob/master/include/uv-errno.h\n \n #[cfg(windows)]\n pub mod errors {\n@@ -52,6 +53,7 @@ pub mod errors {\n     pub static EACCES: c_int = -4092;\n     pub static ECONNREFUSED: c_int = -4078;\n     pub static ECONNRESET: c_int = -4077;\n+    pub static ENOENT: c_int = -4058;\n     pub static ENOTCONN: c_int = -4053;\n     pub static EPIPE: c_int = -4047;\n     pub static ECONNABORTED: c_int = -4079;\n@@ -66,6 +68,7 @@ pub mod errors {\n     pub static EACCES: c_int = -libc::EACCES;\n     pub static ECONNREFUSED: c_int = -libc::ECONNREFUSED;\n     pub static ECONNRESET: c_int = -libc::ECONNRESET;\n+    pub static ENOENT: c_int = -libc::ENOENT;\n     pub static ENOTCONN: c_int = -libc::ENOTCONN;\n     pub static EPIPE: c_int = -libc::EPIPE;\n     pub static ECONNABORTED: c_int = -libc::ECONNABORTED;"}, {"sha": "76ce1e4dc6bd56ac2504b05cf7e3fa62b18bd918", "filename": "src/libstd/io/net/unix.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a/src%2Flibstd%2Fio%2Fnet%2Funix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a/src%2Flibstd%2Fio%2Fnet%2Funix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Fnet%2Funix.rs?ref=33ca3e35bebdb3f1b718feb374df1fa24a1ad73a", "patch": "@@ -194,7 +194,7 @@ mod tests {\n         do run_in_mt_newsched_task {\n             let mut called = false;\n             io_error::cond.trap(|e| {\n-                assert_eq!(e.kind, OtherIoError);\n+                assert_eq!(e.kind, FileNotFound);\n                 called = true;\n             }).inside(|| {\n                 let stream = UnixStream::connect(&(\"path/to/nowhere\"));"}, {"sha": "84c1329223b912b5559b8d218917853103e35454", "filename": "src/libstd/run.rs", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a/src%2Flibstd%2Frun.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33ca3e35bebdb3f1b718feb374df1fa24a1ad73a/src%2Flibstd%2Frun.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frun.rs?ref=33ca3e35bebdb3f1b718feb374df1fa24a1ad73a", "patch": "@@ -340,7 +340,7 @@ mod tests {\n     use task::spawn;\n     use unstable::running_on_valgrind;\n     use io::native::file;\n-    use io::{Writer, Reader, io_error};\n+    use io::{FileNotFound, OtherIoError, Reader, Writer, io_error};\n \n     #[test]\n     #[cfg(not(target_os=\"android\"))] // FIXME(#10380)\n@@ -354,9 +354,14 @@ mod tests {\n \n     #[test]\n     fn test_process_output_fail_to_start() {\n+        // If the executable does not exist, then the io_error condition should be raised with\n+        // IoErrorKind FileNotFound.\n+\n         let mut trapped_io_error = false;\n-        let opt_outp = io_error::cond.trap(|_| {\n+        let opt_outp = io_error::cond.trap(|e| {\n             trapped_io_error = true;\n+            // FIXME(#11023)\n+            assert_eq!(e.kind, if cfg!(windows) { OtherIoError } else { FileNotFound });\n         }).inside(|| -> Option<run::ProcessOutput> {\n             run::process_output(\"no-binary-by-this-name-should-exist\", [])\n         });"}]}