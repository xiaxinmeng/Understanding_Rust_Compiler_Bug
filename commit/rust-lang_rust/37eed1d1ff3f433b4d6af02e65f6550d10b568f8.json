{"sha": "37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "node_id": "C_kwDOAAsO6NoAKDM3ZWVkMWQxZmYzZjQzM2I0ZDZhZjAyZTY1ZjY1NTBkMTBiNTY4Zjg", "commit": {"author": {"name": "Noah Lev", "email": "camelidcamel@gmail.com", "date": "2022-08-10T20:10:04Z"}, "committer": {"name": "Noah Lev", "email": "camelidcamel@gmail.com", "date": "2022-08-13T04:36:50Z"}, "message": "Update tests: arity-2 `@{has,matches}` -> `...text`", "tree": {"sha": "81d9ee9e47894217142e820665304bb67da0c03d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/81d9ee9e47894217142e820665304bb67da0c03d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "html_url": "https://github.com/rust-lang/rust/commit/37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/comments", "author": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "committer": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "01408fc62762838b72dfb6ce090708d3e8303ed9", "url": "https://api.github.com/repos/rust-lang/rust/commits/01408fc62762838b72dfb6ce090708d3e8303ed9", "html_url": "https://github.com/rust-lang/rust/commit/01408fc62762838b72dfb6ce090708d3e8303ed9"}], "stats": {"total": 336, "additions": 168, "deletions": 168}, "files": [{"sha": "75c65add85666eda8b157ac7dd0202d3d4912bd7", "filename": "src/test/rustdoc/deprecated-impls.rs", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fdeprecated-impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fdeprecated-impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fdeprecated-impls.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -5,8 +5,8 @@ pub struct Foo0;\n \n impl Foo0 {\n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.1: fn_with_doc'\n-    // @has - 'fn_with_doc short'\n-    // @has - 'fn_with_doc full'\n+    // @hastext - 'fn_with_doc short'\n+    // @hastext - 'fn_with_doc full'\n     /// fn_with_doc short\n     ///\n     /// fn_with_doc full\n@@ -52,8 +52,8 @@ pub struct Foo1;\n \n impl Bar for Foo1 {\n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.3: fn_empty_with_doc'\n-    // @has - 'fn_empty_with_doc_impl short'\n-    // @has - 'fn_empty_with_doc_impl full'\n+    // @hastext - 'fn_empty_with_doc_impl short'\n+    // @hastext - 'fn_empty_with_doc_impl full'\n     /// fn_empty_with_doc_impl short\n     ///\n     /// fn_empty_with_doc_impl full\n@@ -63,8 +63,8 @@ impl Bar for Foo1 {\n     fn fn_empty_without_doc() {}\n \n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.5: fn_def_with_doc'\n-    // @has - 'fn_def_with_doc_impl short'\n-    // @has - 'fn_def_with_doc_impl full'\n+    // @hastext - 'fn_def_with_doc_impl short'\n+    // @hastext - 'fn_def_with_doc_impl full'\n     /// fn_def_with_doc_impl short\n     ///\n     /// fn_def_with_doc_impl full\n@@ -74,7 +74,7 @@ impl Bar for Foo1 {\n     fn fn_def_without_doc() {}\n \n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.7: fn_def_def_with_doc'\n-    // @has - 'fn_def_def_with_doc short'\n+    // @hastext - 'fn_def_def_with_doc short'\n     // @!has - 'fn_def_def_with_doc full'\n \n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.8: fn_def_def_without_doc'\n@@ -85,33 +85,33 @@ pub struct Foo2;\n \n impl Bar for Foo2 {\n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.3: fn_empty_with_doc'\n-    // @has - 'fn_empty_with_doc short'\n+    // @hastext - 'fn_empty_with_doc short'\n     // @!has - 'fn_empty_with_doc full'\n     fn fn_empty_with_doc() {}\n \n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.4: fn_empty_without_doc'\n-    // @has - 'fn_empty_without_doc_impl short'\n-    // @has - 'fn_empty_without_doc_impl full'\n+    // @hastext - 'fn_empty_without_doc_impl short'\n+    // @hastext - 'fn_empty_without_doc_impl full'\n     /// fn_empty_without_doc_impl short\n     ///\n     /// fn_empty_without_doc_impl full\n     fn fn_empty_without_doc() {}\n \n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.5: fn_def_with_doc'\n-    // @has - 'fn_def_with_doc short'\n+    // @hastext - 'fn_def_with_doc short'\n     // @!has - 'fn_def_with_doc full'\n     fn fn_def_with_doc() {}\n \n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.6: fn_def_without_doc'\n-    // @has - 'fn_def_without_doc_impl short'\n-    // @has - 'fn_def_without_doc_impl full'\n+    // @hastext - 'fn_def_without_doc_impl short'\n+    // @hastext - 'fn_def_without_doc_impl full'\n     /// fn_def_without_doc_impl short\n     ///\n     /// fn_def_without_doc_impl full\n     fn fn_def_without_doc() {}\n \n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.7: fn_def_def_with_doc'\n-    // @has - 'fn_def_def_with_doc short'\n+    // @hastext - 'fn_def_def_with_doc short'\n     // @!has - 'fn_def_def_with_doc full'\n \n     // @has - '//*[@class=\"stab deprecated\"]' 'Deprecated since 1.0.8: fn_def_def_without_doc'"}, {"sha": "7ade072e4b1eba68a5fe0e8115170d5b0fb7a1e2", "filename": "src/test/rustdoc/elided-lifetime.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Felided-lifetime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Felided-lifetime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Felided-lifetime.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -11,33 +11,33 @@ pub struct Ref<'a>(&'a u32);\n type ARef<'a> = Ref<'a>;\n \n // @has foo/fn.test1.html\n-// @matches - \"Ref</a>&lt;'_&gt;\"\n+// @matchestext - \"Ref</a>&lt;'_&gt;\"\n pub fn test1(a: &u32) -> Ref {\n     Ref(a)\n }\n \n // @has foo/fn.test2.html\n-// @matches - \"Ref</a>&lt;'_&gt;\"\n+// @matchestext - \"Ref</a>&lt;'_&gt;\"\n pub fn test2(a: &u32) -> Ref<'_> {\n     Ref(a)\n }\n \n // @has foo/fn.test3.html\n-// @matches - \"Ref</a>&lt;'_&gt;\"\n+// @matchestext - \"Ref</a>&lt;'_&gt;\"\n pub fn test3(a: &u32) -> ARef {\n     Ref(a)\n }\n \n // @has foo/fn.test4.html\n-// @matches - \"Ref</a>&lt;'_&gt;\"\n+// @matchestext - \"Ref</a>&lt;'_&gt;\"\n pub fn test4(a: &u32) -> ARef<'_> {\n     Ref(a)\n }\n \n // Ensure external paths in inlined docs also display elided lifetime\n // @has foo/bar/fn.test5.html\n-// @matches - \"Ref</a>&lt;'_&gt;\"\n+// @matchestext - \"Ref</a>&lt;'_&gt;\"\n // @has foo/bar/fn.test6.html\n-// @matches - \"Ref</a>&lt;'_&gt;\"\n+// @matchestext - \"Ref</a>&lt;'_&gt;\"\n #[doc(inline)]\n pub extern crate bar;"}, {"sha": "68c7649a50fb0d8c6fd8b9f346e506c2148934fc", "filename": "src/test/rustdoc/empty-mod-private.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fempty-mod-private.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fempty-mod-private.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fempty-mod-private.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,16 +1,16 @@\n // compile-flags: --document-private-items\n \n // @has 'empty_mod_private/index.html' '//a[@href=\"foo/index.html\"]' 'foo'\n-// @has 'empty_mod_private/sidebar-items.js' 'foo'\n+// @hastext 'empty_mod_private/sidebar-items.js' 'foo'\n // @matches 'empty_mod_private/foo/index.html' '//h1' 'Module empty_mod_private::foo'\n mod foo {}\n \n // @has 'empty_mod_private/index.html' '//a[@href=\"bar/index.html\"]' 'bar'\n-// @has 'empty_mod_private/sidebar-items.js' 'bar'\n+// @hastext 'empty_mod_private/sidebar-items.js' 'bar'\n // @matches 'empty_mod_private/bar/index.html' '//h1' 'Module empty_mod_private::bar'\n mod bar {\n     // @has 'empty_mod_private/bar/index.html' '//a[@href=\"baz/index.html\"]' 'baz'\n-    // @has 'empty_mod_private/bar/sidebar-items.js' 'baz'\n+    // @hastext 'empty_mod_private/bar/sidebar-items.js' 'baz'\n     // @matches 'empty_mod_private/bar/baz/index.html' '//h1' 'Module empty_mod_private::bar::baz'\n     mod baz {}\n }"}, {"sha": "1e797d9513aa0347014487105f6721ce93c57c5e", "filename": "src/test/rustdoc/empty-mod-public.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fempty-mod-public.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fempty-mod-public.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fempty-mod-public.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,14 +1,14 @@\n // @has 'empty_mod_public/index.html' '//a[@href=\"foo/index.html\"]' 'foo'\n-// @has 'empty_mod_public/sidebar-items.js' 'foo'\n+// @hastext 'empty_mod_public/sidebar-items.js' 'foo'\n // @matches 'empty_mod_public/foo/index.html' '//h1' 'Module empty_mod_public::foo'\n pub mod foo {}\n \n // @has 'empty_mod_public/index.html' '//a[@href=\"bar/index.html\"]' 'bar'\n-// @has 'empty_mod_public/sidebar-items.js' 'bar'\n+// @hastext 'empty_mod_public/sidebar-items.js' 'bar'\n // @matches 'empty_mod_public/bar/index.html' '//h1' 'Module empty_mod_public::bar'\n pub mod bar {\n     // @has 'empty_mod_public/bar/index.html' '//a[@href=\"baz/index.html\"]' 'baz'\n-    // @has 'empty_mod_public/bar/sidebar-items.js' 'baz'\n+    // @hastext 'empty_mod_public/bar/sidebar-items.js' 'baz'\n     // @matches 'empty_mod_public/bar/baz/index.html' '//h1' 'Module empty_mod_public::bar::baz'\n     pub mod baz {}\n }"}, {"sha": "324a6461f4292f9041fd9723f9a3859eae12b82e", "filename": "src/test/rustdoc/generic-associated-types/issue-94683.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fgeneric-associated-types%2Fissue-94683.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fgeneric-associated-types%2Fissue-94683.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fgeneric-associated-types%2Fissue-94683.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -8,6 +8,6 @@ pub trait Trait {\n // Make sure that the elided lifetime shows up\n \n // @has foo/type.T.html\n-// @has - \"pub type T = \"\n-// @has - \"&lt;'_&gt;\"\n+// @hastext - \"pub type T = \"\n+// @hastext - \"&lt;'_&gt;\"\n pub type T = fn(&<() as Trait>::Gat<'_>);"}, {"sha": "0bdacf74ed28402aa1571d887e87a3fa8aec4a00", "filename": "src/test/rustdoc/hide-unstable-trait.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fhide-unstable-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fhide-unstable-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fhide-unstable-trait.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -5,7 +5,7 @@\n \n extern crate unstable_trait;\n \n-// @has foo/struct.Foo.html 'bar'\n-// @has foo/struct.Foo.html 'bar2'\n+// @hastext foo/struct.Foo.html 'bar'\n+// @hastext foo/struct.Foo.html 'bar2'\n #[doc(inline)]\n pub use unstable_trait::Foo;"}, {"sha": "8fb8971ca71750bfdc86849c8d87b59cffcb0657", "filename": "src/test/rustdoc/impl-parts-crosscrate.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fimpl-parts-crosscrate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fimpl-parts-crosscrate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fimpl-parts-crosscrate.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -12,9 +12,9 @@ pub struct Bar<T> { t: T }\n // full impl string.  Instead, just make sure something from each part\n // is mentioned.\n \n-// @has implementors/rustdoc_impl_parts_crosscrate/trait.AnAutoTrait.js Bar\n-// @has - Send\n-// @has - !AnAutoTrait\n-// @has - Copy\n+// @hastext implementors/rustdoc_impl_parts_crosscrate/trait.AnAutoTrait.js Bar\n+// @hastext - Send\n+// @hastext - !AnAutoTrait\n+// @hastext - Copy\n impl<T: Send> !rustdoc_impl_parts_crosscrate::AnAutoTrait for Bar<T>\n     where T: Copy {}"}, {"sha": "1e913af587eb8712e84f8b00f2f555b3fd1512c3", "filename": "src/test/rustdoc/impl-trait-alias.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fimpl-trait-alias.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fimpl-trait-alias.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fimpl-trait-alias.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -3,11 +3,11 @@\n trait MyTrait {}\n impl MyTrait for i32 {}\n \n-// @has impl_trait_alias/type.Foo.html 'Foo'\n+// @hastext impl_trait_alias/type.Foo.html 'Foo'\n /// debug type\n pub type Foo = impl MyTrait;\n \n-// @has impl_trait_alias/fn.foo.html 'foo'\n+// @hastext impl_trait_alias/fn.foo.html 'foo'\n /// debug function\n pub fn foo() -> Foo {\n     1"}, {"sha": "83764835546eefd54c0f12986677a7305ca3df0d", "filename": "src/test/rustdoc/inline_cross/add-docs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_cross%2Fadd-docs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_cross%2Fadd-docs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_cross%2Fadd-docs.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -4,6 +4,6 @@ extern crate inner;\n \n \n // @has add_docs/struct.MyStruct.html\n-// @has add_docs/struct.MyStruct.html \"Doc comment from \u2018pub use\u2019, Doc comment from definition\"\n+// @hastext add_docs/struct.MyStruct.html \"Doc comment from \u2018pub use\u2019, Doc comment from definition\"\n /// Doc comment from 'pub use',\n pub use inner::MyStruct;"}, {"sha": "f32d7f383d967793b60c9c2dfd1550417ce0f3d4", "filename": "src/test/rustdoc/inline_cross/proc_macro.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_cross%2Fproc_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_cross%2Fproc_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_cross%2Fproc_macro.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -12,25 +12,25 @@ extern crate some_macros;\n // @has proc_macro/derive.SomeDerive.html\n \n // @has proc_macro/macro.some_proc_macro.html\n-// @has - 'a proc-macro that swallows its input and does nothing.'\n+// @hastext - 'a proc-macro that swallows its input and does nothing.'\n pub use some_macros::some_proc_macro;\n \n // @has proc_macro/macro.reexported_macro.html\n-// @has - 'Doc comment from the original crate'\n+// @hastext - 'Doc comment from the original crate'\n pub use some_macros::reexported_macro;\n \n // @has proc_macro/attr.some_proc_attr.html\n-// @has - 'a proc-macro attribute that passes its item through verbatim.'\n+// @hastext - 'a proc-macro attribute that passes its item through verbatim.'\n pub use some_macros::some_proc_attr;\n \n // @has proc_macro/derive.SomeDerive.html\n-// @has - 'a derive attribute that adds nothing to its input.'\n+// @hastext - 'a derive attribute that adds nothing to its input.'\n pub use some_macros::SomeDerive;\n \n // @has proc_macro/attr.first_attr.html\n-// @has - 'Generated doc comment'\n+// @hastext - 'Generated doc comment'\n pub use some_macros::first_attr;\n \n // @has proc_macro/attr.second_attr.html\n-// @has - 'Generated doc comment'\n+// @hastext - 'Generated doc comment'\n pub use some_macros::second_attr;"}, {"sha": "5c95f7ca77645ca1e579d07c64942bad198a41e1", "filename": "src/test/rustdoc/inline_local/glob-extern-document-private-items.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-extern-document-private-items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-extern-document-private-items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-extern-document-private-items.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -12,14 +12,14 @@ mod mod1 {\n pub use mod1::*;\n \n // @has foo/index.html\n-// @has - \"mod1\"\n-// @has - \"public_fn\"\n+// @hastext - \"mod1\"\n+// @hastext - \"public_fn\"\n // @!has - \"private_fn\"\n // @has foo/fn.public_fn.html\n // @!has foo/fn.private_fn.html\n \n // @has foo/mod1/index.html\n-// @has - \"public_fn\"\n-// @has - \"private_fn\"\n+// @hastext - \"public_fn\"\n+// @hastext - \"private_fn\"\n // @has foo/mod1/fn.public_fn.html\n // @has foo/mod1/fn.private_fn.html"}, {"sha": "48614ccb79156e901028ed32de98b20a60673f25", "filename": "src/test/rustdoc/inline_local/glob-extern.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-extern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-extern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-extern.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -11,7 +11,7 @@ pub use mod1::*;\n \n // @has foo/index.html\n // @!has - \"mod1\"\n-// @has - \"public_fn\"\n+// @hastext - \"public_fn\"\n // @!has - \"private_fn\"\n // @has foo/fn.public_fn.html\n // @!has foo/fn.private_fn.html"}, {"sha": "82c5cff9d69dd06e667700de11e793031655ef2b", "filename": "src/test/rustdoc/inline_local/glob-private-document-private-items.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-private-document-private-items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-private-document-private-items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-private-document-private-items.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -15,21 +15,21 @@ mod mod1 {\n pub use mod1::*;\n \n // @has foo/index.html\n-// @has - \"mod1\"\n-// @has - \"Mod1Public\"\n+// @hastext - \"mod1\"\n+// @hastext - \"Mod1Public\"\n // @!has - \"Mod1Private\"\n // @!has - \"mod2\"\n-// @has - \"Mod2Public\"\n+// @hastext - \"Mod2Public\"\n // @!has - \"Mod2Private\"\n // @has foo/struct.Mod1Public.html\n // @!has foo/struct.Mod1Private.html\n // @has foo/struct.Mod2Public.html\n // @!has foo/struct.Mod2Private.html\n \n // @has foo/mod1/index.html\n-// @has - \"mod2\"\n-// @has - \"Mod1Public\"\n-// @has - \"Mod1Private\"\n+// @hastext - \"mod2\"\n+// @hastext - \"Mod1Public\"\n+// @hastext - \"Mod1Private\"\n // @!has - \"Mod2Public\"\n // @!has - \"Mod2Private\"\n // @has foo/mod1/struct.Mod1Public.html\n@@ -38,8 +38,8 @@ pub use mod1::*;\n // @!has foo/mod1/struct.Mod2Private.html\n \n // @has foo/mod1/mod2/index.html\n-// @has - \"Mod2Public\"\n-// @has - \"Mod2Private\"\n+// @hastext - \"Mod2Public\"\n+// @hastext - \"Mod2Private\"\n // @has foo/mod1/mod2/struct.Mod2Public.html\n // @has foo/mod1/mod2/struct.Mod2Private.html\n "}, {"sha": "a1f2771a7ba6c3301b8bf3f880c6ad7dacee6532", "filename": "src/test/rustdoc/inline_local/glob-private.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-private.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-private.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_local%2Fglob-private.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -14,10 +14,10 @@ pub use mod1::*;\n \n // @has foo/index.html\n // @!has - \"mod1\"\n-// @has - \"Mod1Public\"\n+// @hastext - \"Mod1Public\"\n // @!has - \"Mod1Private\"\n // @!has - \"mod2\"\n-// @has - \"Mod2Public\"\n+// @hastext - \"Mod2Public\"\n // @!has - \"Mod2Private\"\n // @has foo/struct.Mod1Public.html\n // @!has foo/struct.Mod1Private.html"}, {"sha": "1bd47752388c741eeed3190404b0d0b88df90db4", "filename": "src/test/rustdoc/inline_local/please_inline.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_local%2Fplease_inline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Finline_local%2Fplease_inline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_local%2Fplease_inline.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -12,7 +12,7 @@ pub mod a {\n \n // @has please_inline/b/index.html\n pub mod b {\n-    // @has - 'pub use foo::'\n+    // @hastext - 'pub use foo::'\n     // @!has please_inline/b/struct.Foo.html\n     #[feature(inline)]\n     pub use foo::Foo;"}, {"sha": "f1c19b8e685d47f7d74e31872992c8d54d2da887", "filename": "src/test/rustdoc/intra-doc/extern-type.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fintra-doc%2Fextern-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fintra-doc%2Fextern-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fextern-type.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -25,11 +25,11 @@ impl G<usize> for ExternType {\n }\n \n // @has 'extern_type/foreigntype.ExternType.html'\n-// @has 'extern_type/fn.links_to_extern_type.html' \\\n+// @hastext 'extern_type/fn.links_to_extern_type.html' \\\n // 'href=\"foreigntype.ExternType.html#method.f\"'\n-// @has 'extern_type/fn.links_to_extern_type.html' \\\n+// @hastext 'extern_type/fn.links_to_extern_type.html' \\\n // 'href=\"foreigntype.ExternType.html#method.test\"'\n-// @has 'extern_type/fn.links_to_extern_type.html' \\\n+// @hastext 'extern_type/fn.links_to_extern_type.html' \\\n // 'href=\"foreigntype.ExternType.html#method.g\"'\n /// See also [ExternType::f]\n /// See also [ExternType::test]"}, {"sha": "052b5d6cc23d863fe180d4c0ebf8fa6016de0198", "filename": "src/test/rustdoc/issue-16265-1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-16265-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-16265-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-16265-1.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,6 +1,6 @@\n pub struct Foo;\n \n-// @has issue_16265_1/traits/index.html 'source'\n+// @hastext issue_16265_1/traits/index.html 'source'\n pub mod traits {\n     impl PartialEq for super::Foo {\n         fn eq(&self, _: &super::Foo) -> bool {"}, {"sha": "2df79bdd106e3b1054d5e1969fa8685557b25dd6", "filename": "src/test/rustdoc/issue-16265-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-16265-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-16265-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-16265-2.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,4 +1,4 @@\n-// @has issue_16265_2/index.html 'source'\n+// @hastext issue_16265_2/index.html 'source'\n \n trait Y {}\n impl Y for Option<u32> {}"}, {"sha": "3f4755003cb9635bccf6ed91057161ff98b2d695", "filename": "src/test/rustdoc/issue-23511.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-23511.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-23511.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-23511.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -6,7 +6,7 @@ pub mod str {\n     #![doc(primitive = \"str\")]\n \n     impl str {\n-        // @has search-index.js foo\n+        // @hastext search-index.js foo\n         #[rustc_allow_incoherent_impl]\n         pub fn foo(&self) {}\n     }"}, {"sha": "7526d6ef83c65859048baa18de93cb4447e7f672", "filename": "src/test/rustdoc/issue-23812.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-23812.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-23812.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-23812.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -16,9 +16,9 @@ doc! {\n }\n \n // @has issue_23812/Foo/index.html\n-// @has - 'Outer comment'\n+// @hastext - 'Outer comment'\n // @!has - '/// Outer comment'\n-// @has - 'Inner comment'\n+// @hastext - 'Inner comment'\n // @!has - '//! Inner comment'\n \n \n@@ -30,7 +30,7 @@ doc! {\n }\n \n // @has issue_23812/Bar/index.html\n-// @has - 'Outer block comment'\n+// @hastext - 'Outer block comment'\n // @!has - '/** Outer block comment */'\n-// @has - 'Inner block comment'\n+// @hastext - 'Inner block comment'\n // @!has - '/*! Inner block comment */'"}, {"sha": "05a8457ff6a1c5fff21dd07f303db40341bbb4cf", "filename": "src/test/rustdoc/issue-27104.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-27104.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-27104.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-27104.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -6,5 +6,5 @@\n // @!has - 'extern crate std'\n // @!has - 'use std::prelude::'\n \n-// @has - 'pub extern crate empty'\n+// @hastext - 'pub extern crate empty'\n pub extern crate empty;"}, {"sha": "a12c0dac54a4a0e11f5afb3b1f27ddb8a2017e2e", "filename": "src/test/rustdoc/issue-27759.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-27759.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-27759.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-27759.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -4,11 +4,11 @@\n #![unstable(feature=\"test\", issue=\"27759\")]\n \n // @has issue_27759/unstable/index.html\n-// @has - '<code>test</code>&nbsp;<a href=\"http://issue_url/27759\">#27759</a>'\n+// @hastext - '<code>test</code>&nbsp;<a href=\"http://issue_url/27759\">#27759</a>'\n #[unstable(feature=\"test\", issue=\"27759\")]\n pub mod unstable {\n     // @has issue_27759/unstable/fn.issue.html\n-    // @has - '<code>test_function</code>&nbsp;<a href=\"http://issue_url/12345\">#12345</a>'\n+    // @hastext - '<code>test_function</code>&nbsp;<a href=\"http://issue_url/12345\">#12345</a>'\n     #[unstable(feature=\"test_function\", issue=\"12345\")]\n     pub fn issue() {}\n }"}, {"sha": "da8f596b3a010b7d8b30b0eb149fcfac1dd4d6c7", "filename": "src/test/rustdoc/issue-31899.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-31899.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-31899.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-31899.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,5 +1,5 @@\n // @has issue_31899/index.html\n-// @has - 'Make this line a bit longer.'\n+// @hastext - 'Make this line a bit longer.'\n // @!has - 'rust rust-example-rendered'\n // @!has - 'use ndarray::arr2'\n // @!has - 'prohibited'"}, {"sha": "cf4575d635531863a6aaa1b90c1b4d456d95d884", "filename": "src/test/rustdoc/issue-32374.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-32374.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-32374.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-32374.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -10,7 +10,7 @@\n \n // @has issue_32374/struct.T.html '//*[@class=\"stab deprecated\"]' \\\n //      '\ud83d\udc4e Deprecated since 1.0.0: text'\n-// @has - '<code>test</code>&nbsp;<a href=\"https://issue_url/32374\">#32374</a>'\n+// @hastext - '<code>test</code>&nbsp;<a href=\"https://issue_url/32374\">#32374</a>'\n // @matches issue_32374/struct.T.html '//*[@class=\"stab unstable\"]' \\\n //      '\ud83d\udd2c This is a nightly-only experimental API. \\(test\\s#32374\\)$'\n /// Docs"}, {"sha": "c509db43c9b09d15636f4b4ad71d3d02cb88aa90", "filename": "src/test/rustdoc/issue-41783.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-41783.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-41783.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-41783.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,11 +1,11 @@\n // @has issue_41783/struct.Foo.html\n // @!has - 'space'\n // @!has - 'comment'\n-// @has - '# <span class=\"ident\">single'\n-// @has - '## <span class=\"ident\">double</span>'\n-// @has - '### <span class=\"ident\">triple</span>'\n-// @has - '<span class=\"attribute\">#[<span class=\"ident\">outer</span>]</span>'\n-// @has - '<span class=\"attribute\">#![<span class=\"ident\">inner</span>]</span>'\n+// @hastext - '# <span class=\"ident\">single'\n+// @hastext - '## <span class=\"ident\">double</span>'\n+// @hastext - '### <span class=\"ident\">triple</span>'\n+// @hastext - '<span class=\"attribute\">#[<span class=\"ident\">outer</span>]</span>'\n+// @hastext - '<span class=\"attribute\">#![<span class=\"ident\">inner</span>]</span>'\n \n /// ```no_run\n /// # # space"}, {"sha": "10c5199cadbb2f53f149eae4f392fb9eb0761f21", "filename": "src/test/rustdoc/issue-89852.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-89852.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fissue-89852.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-89852.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -3,7 +3,7 @@\n #![no_core]\n #![feature(no_core)]\n \n-// @matches 'issue_89852/sidebar-items.js' '\"repro\"'\n+// @matchestext 'issue_89852/sidebar-items.js' '\"repro\"'\n // @!matches 'issue_89852/sidebar-items.js' '\"repro\".*\"repro\"'\n \n #[macro_export]"}, {"sha": "ba143312b01fbe792c7c3ffefa569b63255d0a5b", "filename": "src/test/rustdoc/link-title-escape.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Flink-title-escape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Flink-title-escape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Flink-title-escape.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -6,4 +6,4 @@\n //!\n //! [foo]: url 'title & <stuff> & \"things\"'\n \n-// @has 'foo/index.html' 'title &amp; &lt;stuff&gt; &amp; &quot;things&quot;'\n+// @hastext 'foo/index.html' 'title &amp; &lt;stuff&gt; &amp; &quot;things&quot;'"}, {"sha": "2638c288120f3f24f4012f4cb83263595b29ed53", "filename": "src/test/rustdoc/macro-document-private-duplicate.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fmacro-document-private-duplicate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fmacro-document-private-duplicate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fmacro-document-private-duplicate.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -10,14 +10,14 @@\n //\n // compile-flags: --document-private-items\n \n-// @has macro_document_private_duplicate/index.html 'Doc 1.'\n-// @has macro_document_private_duplicate/macro.a_macro.html 'Doc 1.'\n+// @hastext macro_document_private_duplicate/index.html 'Doc 1.'\n+// @hastext macro_document_private_duplicate/macro.a_macro.html 'Doc 1.'\n /// Doc 1.\n macro_rules! a_macro {\n     () => ()\n }\n \n-// @has macro_document_private_duplicate/index.html 'Doc 2.'\n+// @hastext macro_document_private_duplicate/index.html 'Doc 2.'\n // @!has macro_document_private_duplicate/macro.a_macro.html 'Doc 2.'\n /// Doc 2.\n macro_rules! a_macro {"}, {"sha": "28ef367de9dd2895d252d75ea75ec563f14a94a6", "filename": "src/test/rustdoc/macro_rules-matchers.rs", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fmacro_rules-matchers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fmacro_rules-matchers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fmacro_rules-matchers.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -7,27 +7,27 @@\n // @has - '//span[@class=\"macro\"]' 'macro_rules!'\n // @has - '//span[@class=\"ident\"]' 'todo'\n \n-// @has - '{ () =&gt; { ... }; ($('\n+// @hastext - '{ () =&gt; { ... }; ($('\n // @has - '//span[@class=\"macro-nonterminal\"]' '$'\n // @has - '//span[@class=\"macro-nonterminal\"]' 'arg'\n-// @has - ':'\n+// @hastext - ':'\n // @has - '//span[@class=\"ident\"]' 'tt'\n-// @has - ')+'\n-// @has - ') =&gt; { ... }; }'\n+// @hastext - ')+'\n+// @hastext - ') =&gt; { ... }; }'\n pub use std::todo;\n \n mod mod1 {\n     // @has 'foo/macro.macro1.html'\n-    // @has - 'macro_rules!'\n-    // @has - 'macro1'\n-    // @has - '{ () =&gt; { ... }; ($('\n+    // @hastext - 'macro_rules!'\n+    // @hastext - 'macro1'\n+    // @hastext - '{ () =&gt; { ... }; ($('\n     // @has - '//span[@class=\"macro-nonterminal\"]' '$'\n     // @has - '//span[@class=\"macro-nonterminal\"]' 'arg'\n-    // @has - ':'\n-    // @has - 'expr'\n-    // @has - '),'\n-    // @has - '+'\n-    // @has - ') =&gt; { ... }; }'\n+    // @hastext - ':'\n+    // @hastext - 'expr'\n+    // @hastext - '),'\n+    // @hastext - '+'\n+    // @hastext - ') =&gt; { ... }; }'\n     #[macro_export]\n     macro_rules! macro1 {\n         () => {};"}, {"sha": "f30e8cad8d1fea7331c5833d6ea07392b52b79e7", "filename": "src/test/rustdoc/markdown-summaries.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fmarkdown-summaries.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fmarkdown-summaries.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fmarkdown-summaries.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -7,16 +7,16 @@\n //!\n //! [link]: https://example.com\n \n-// @has search-index.js 'This <em>summary</em> has a link and <code>code</code>.'\n+// @hastext search-index.js 'This <em>summary</em> has a link and <code>code</code>.'\n // @!has - 'second paragraph'\n \n /// This `code` will be rendered in a code tag.\n ///\n /// This text should not be rendered.\n pub struct Sidebar;\n \n-// @has search-index.js 'This <code>code</code> will be rendered in a code tag.'\n-// @has summaries/sidebar-items.js 'This `code` will be rendered in a code tag.'\n+// @hastext search-index.js 'This <code>code</code> will be rendered in a code tag.'\n+// @hastext summaries/sidebar-items.js 'This `code` will be rendered in a code tag.'\n // @!has - 'text should not be rendered'\n \n /// ```text"}, {"sha": "260f941e07a676a29f54ae99861261ee5b85ec63", "filename": "src/test/rustdoc/nested-modules.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fnested-modules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fnested-modules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fnested-modules.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -7,11 +7,11 @@ mod a_module {\n \n     pub mod a_nested_module {\n         // @has aCrate/a_nested_module/index.html '//a[@href=\"fn.a_nested_public_function.html\"]' 'a_nested_public_function'\n-        // @has aCrate/a_nested_module/fn.a_nested_public_function.html 'pub fn a_nested_public_function()'\n+        // @hastext aCrate/a_nested_module/fn.a_nested_public_function.html 'pub fn a_nested_public_function()'\n         pub fn a_nested_public_function() {}\n \n         // @has aCrate/a_nested_module/index.html '//a[@href=\"fn.another_nested_public_function.html\"]' 'another_nested_public_function'\n-        // @has aCrate/a_nested_module/fn.another_nested_public_function.html 'pub fn another_nested_public_function()'\n+        // @hastext aCrate/a_nested_module/fn.another_nested_public_function.html 'pub fn another_nested_public_function()'\n         pub use a_nested_module::a_nested_public_function as another_nested_public_function;\n     }\n "}, {"sha": "63be1a64a9dacd7740dd94bcb834a5c8f5e69f1c", "filename": "src/test/rustdoc/search-index-summaries.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fsearch-index-summaries.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fsearch-index-summaries.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fsearch-index-summaries.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,6 +1,6 @@\n #![crate_name = \"foo\"]\n \n-// @has 'search-index.js' 'Foo short link.'\n+// @hastext 'search-index.js' 'Foo short link.'\n // @!has - 'www.example.com'\n // @!has - 'More Foo.'\n "}, {"sha": "ab2e6e05740211a5a005ecbfd38ff0437ef6df31", "filename": "src/test/rustdoc/search-index.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fsearch-index.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fsearch-index.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fsearch-index.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -2,13 +2,13 @@\n \n use std::ops::Deref;\n \n-// @has search-index.js Foo\n+// @hastext search-index.js Foo\n pub use private::Foo;\n \n mod private {\n     pub struct Foo;\n     impl Foo {\n-        pub fn test_method() {} // @has - test_method\n+        pub fn test_method() {} // @hastext - test_method\n         fn priv_method() {} // @!has - priv_method\n     }\n "}, {"sha": "875d79d928be8f02724a811240fba825af4faf83", "filename": "src/test/rustdoc/show-const-contents.rs", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fshow-const-contents.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fshow-const-contents.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fshow-const-contents.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,34 +1,34 @@\n // Test that the contents of constants are displayed as part of the\n // documentation.\n \n-// @has show_const_contents/constant.CONST_S.html 'show this'\n+// @hastext show_const_contents/constant.CONST_S.html 'show this'\n // @!has show_const_contents/constant.CONST_S.html '; //'\n pub const CONST_S: &'static str = \"show this\";\n \n-// @has show_const_contents/constant.CONST_I32.html '= 42;'\n+// @hastext show_const_contents/constant.CONST_I32.html '= 42;'\n // @!has show_const_contents/constant.CONST_I32.html '; //'\n pub const CONST_I32: i32 = 42;\n \n-// @has show_const_contents/constant.CONST_I32_HEX.html '= 0x42;'\n+// @hastext show_const_contents/constant.CONST_I32_HEX.html '= 0x42;'\n // @!has show_const_contents/constant.CONST_I32_HEX.html '; //'\n pub const CONST_I32_HEX: i32 = 0x42;\n \n-// @has show_const_contents/constant.CONST_NEG_I32.html '= -42;'\n+// @hastext show_const_contents/constant.CONST_NEG_I32.html '= -42;'\n // @!has show_const_contents/constant.CONST_NEG_I32.html '; //'\n pub const CONST_NEG_I32: i32 = -42;\n \n-// @has show_const_contents/constant.CONST_EQ_TO_VALUE_I32.html '= 42i32;'\n+// @hastext show_const_contents/constant.CONST_EQ_TO_VALUE_I32.html '= 42i32;'\n // @!has show_const_contents/constant.CONST_EQ_TO_VALUE_I32.html '// 42i32'\n pub const CONST_EQ_TO_VALUE_I32: i32 = 42i32;\n \n-// @has show_const_contents/constant.CONST_CALC_I32.html '= _; // 43i32'\n+// @hastext show_const_contents/constant.CONST_CALC_I32.html '= _; // 43i32'\n pub const CONST_CALC_I32: i32 = 42 + 1;\n \n // @!has show_const_contents/constant.CONST_REF_I32.html '= &42;'\n // @!has show_const_contents/constant.CONST_REF_I32.html '; //'\n pub const CONST_REF_I32: &'static i32 = &42;\n \n-// @has show_const_contents/constant.CONST_I32_MAX.html '= i32::MAX; // 2_147_483_647i32'\n+// @hastext show_const_contents/constant.CONST_I32_MAX.html '= i32::MAX; // 2_147_483_647i32'\n pub const CONST_I32_MAX: i32 = i32::MAX;\n \n // @!has show_const_contents/constant.UNIT.html '= ();'\n@@ -47,11 +47,11 @@ pub struct MyTypeWithStr(&'static str);\n // @!has show_const_contents/constant.MY_TYPE_WITH_STR.html '; //'\n pub const MY_TYPE_WITH_STR: MyTypeWithStr = MyTypeWithStr(\"show this\");\n \n-// @has show_const_contents/constant.PI.html '= 3.14159265358979323846264338327950288f32;'\n-// @has show_const_contents/constant.PI.html '; // 3.14159274f32'\n+// @hastext show_const_contents/constant.PI.html '= 3.14159265358979323846264338327950288f32;'\n+// @hastext show_const_contents/constant.PI.html '; // 3.14159274f32'\n pub use std::f32::consts::PI;\n \n-// @has show_const_contents/constant.MAX.html '= i32::MAX; // 2_147_483_647i32'\n+// @hastext show_const_contents/constant.MAX.html '= i32::MAX; // 2_147_483_647i32'\n #[allow(deprecated, deprecated_in_future)]\n pub use std::i32::MAX;\n \n@@ -61,7 +61,7 @@ macro_rules! int_module {\n     )\n }\n \n-// @has show_const_contents/constant.MIN.html '= i16::MIN; // -32_768i16'\n+// @hastext show_const_contents/constant.MIN.html '= i16::MIN; // -32_768i16'\n int_module!(i16);\n \n // @has show_const_contents/constant.ESCAPE.html //pre '= r#\"<script>alert(\"ESCAPE\");</script>\"#;'"}, {"sha": "ec7d1093abf313236fd9609ad67aea6f3c272486", "filename": "src/test/rustdoc/sort-modules-by-appearance.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fsort-modules-by-appearance.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fsort-modules-by-appearance.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fsort-modules-by-appearance.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -9,5 +9,5 @@ pub mod module_c {}\n \n pub mod module_a {}\n \n-// @matches 'sort_modules_by_appearance/index.html' '(?s)module_b.*module_c.*module_a'\n-// @matches 'sort_modules_by_appearance/sidebar-items.js' '\"module_b\".*\"module_c\".*\"module_a\"'\n+// @matchestext 'sort_modules_by_appearance/index.html' '(?s)module_b.*module_c.*module_a'\n+// @matchestext 'sort_modules_by_appearance/sidebar-items.js' '\"module_b\".*\"module_c\".*\"module_a\"'"}, {"sha": "0177211ddb85e9521c5b2f6a8684dca00c40cbff", "filename": "src/test/rustdoc/source-file.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fsource-file.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fsource-file.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fsource-file.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"foo\"]\n \n-// @has source-files.js source-file.rs\n+// @hastext source-files.js source-file.rs\n \n pub struct Foo;"}, {"sha": "e33601243f73b472426eb3883f00518357056ceb", "filename": "src/test/rustdoc/static-root-path.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fstatic-root-path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Fstatic-root-path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fstatic-root-path.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,18 +1,18 @@\n // compile-flags:-Z unstable-options --static-root-path /cache/\n \n // @has static_root_path/struct.SomeStruct.html\n-// @matches - '\"/cache/main\\.js\"'\n+// @matchestext - '\"/cache/main\\.js\"'\n // @!matches - '\"\\.\\./main\\.js\"'\n-// @matches - 'data-root-path=\"\\.\\./\"'\n+// @matchestext - 'data-root-path=\"\\.\\./\"'\n // @!matches - '\"/cache/search-index\\.js\"'\n pub struct SomeStruct;\n \n // @has src/static_root_path/static-root-path.rs.html\n-// @matches - '\"/cache/source-script\\.js\"'\n+// @matchestext - '\"/cache/source-script\\.js\"'\n // @!matches - '\"\\.\\./\\.\\./source-script\\.js\"'\n-// @matches - '\"\\.\\./\\.\\./source-files.js\"'\n+// @matchestext - '\"\\.\\./\\.\\./source-files.js\"'\n // @!matches - '\"/cache/source-files\\.js\"'\n \n // @has settings.html\n-// @matches - '/cache/settings\\.js'\n+// @matchestext - '/cache/settings\\.js'\n // @!matches - '\\./settings\\.js'"}, {"sha": "7d1b82b051a185b24bf978628e7e9b3bc292ed5a", "filename": "src/test/rustdoc/type-layout.rs", "status": "modified", "additions": 29, "deletions": 29, "changes": 58, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Ftype-layout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Ftype-layout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Ftype-layout.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -1,84 +1,84 @@\n // compile-flags: --show-type-layout -Z unstable-options\n \n-// @has type_layout/struct.Foo.html 'Size: '\n-// @has - ' bytes'\n+// @hastext type_layout/struct.Foo.html 'Size: '\n+// @hastext - ' bytes'\n // @has - '//*[@id=\"layout\"]/a[@href=\"#layout\"]' ''\n pub struct Foo {\n     pub a: usize,\n     b: Vec<String>,\n }\n \n-// @has type_layout/enum.Bar.html 'Size: '\n-// @has - ' bytes'\n+// @hastext type_layout/enum.Bar.html 'Size: '\n+// @hastext - ' bytes'\n pub enum Bar<'a> {\n     A(String),\n     B(&'a str, (std::collections::HashMap<String, usize>, Foo)),\n }\n \n-// @has type_layout/union.Baz.html 'Size: '\n-// @has - ' bytes'\n+// @hastext type_layout/union.Baz.html 'Size: '\n+// @hastext - ' bytes'\n pub union Baz {\n     a: &'static str,\n     b: usize,\n     c: &'static [u8],\n }\n \n-// @has type_layout/struct.X.html 'Size: '\n-// @has - ' bytes'\n+// @hastext type_layout/struct.X.html 'Size: '\n+// @hastext - ' bytes'\n pub struct X(usize);\n \n-// @has type_layout/struct.Y.html 'Size: '\n-// @has - '1 byte'\n+// @hastext type_layout/struct.Y.html 'Size: '\n+// @hastext - '1 byte'\n // @!has - ' bytes'\n pub struct Y(u8);\n \n-// @has type_layout/struct.Z.html 'Size: '\n-// @has - '0 bytes'\n+// @hastext type_layout/struct.Z.html 'Size: '\n+// @hastext - '0 bytes'\n pub struct Z;\n \n // We can't compute layout for generic types.\n-// @has type_layout/struct.Generic.html 'Unable to compute type layout, possibly due to this type having generic parameters'\n+// @hastext type_layout/struct.Generic.html 'Unable to compute type layout, possibly due to this type having generic parameters'\n // @!has - 'Size: '\n pub struct Generic<T>(T);\n \n // We *can*, however, compute layout for types that are only generic over lifetimes,\n // because lifetimes are a type-system construct.\n-// @has type_layout/struct.GenericLifetimes.html 'Size: '\n-// @has - ' bytes'\n+// @hastext type_layout/struct.GenericLifetimes.html 'Size: '\n+// @hastext - ' bytes'\n pub struct GenericLifetimes<'a>(&'a str);\n \n-// @has type_layout/struct.Unsized.html 'Size: '\n-// @has - '(unsized)'\n+// @hastext type_layout/struct.Unsized.html 'Size: '\n+// @hastext - '(unsized)'\n pub struct Unsized([u8]);\n \n-// @has type_layout/type.TypeAlias.html 'Size: '\n-// @has - ' bytes'\n+// @hastext type_layout/type.TypeAlias.html 'Size: '\n+// @hastext - ' bytes'\n pub type TypeAlias = X;\n \n-// @has type_layout/type.GenericTypeAlias.html 'Size: '\n-// @has - '8 bytes'\n+// @hastext type_layout/type.GenericTypeAlias.html 'Size: '\n+// @hastext - '8 bytes'\n pub type GenericTypeAlias = (Generic<(u32, ())>, Generic<u32>);\n \n // Regression test for the rustdoc equivalent of #85103.\n-// @has type_layout/type.Edges.html 'Encountered an error during type layout; the type failed to be normalized.'\n+// @hastext type_layout/type.Edges.html 'Encountered an error during type layout; the type failed to be normalized.'\n pub type Edges<'a, E> = std::borrow::Cow<'a, [E]>;\n \n // @!has type_layout/trait.MyTrait.html 'Size: '\n pub trait MyTrait {}\n \n-// @has type_layout/enum.Variants.html 'Size: '\n-// @has - '2 bytes'\n-// @has - '<code>A</code>: 0 bytes'\n-// @has - '<code>B</code>: 1 byte'\n+// @hastext type_layout/enum.Variants.html 'Size: '\n+// @hastext - '2 bytes'\n+// @hastext - '<code>A</code>: 0 bytes'\n+// @hastext - '<code>B</code>: 1 byte'\n pub enum Variants {\n     A,\n     B(u8),\n }\n \n-// @has type_layout/enum.WithNiche.html 'Size: '\n+// @hastext type_layout/enum.WithNiche.html 'Size: '\n // @has - //p '4 bytes'\n-// @has - '<code>None</code>: 0 bytes'\n-// @has - '<code>Some</code>: 4 bytes'\n+// @hastext - '<code>None</code>: 0 bytes'\n+// @hastext - '<code>Some</code>: 4 bytes'\n pub enum WithNiche {\n     None,\n     Some(std::num::NonZeroU32),"}, {"sha": "0384575a5dfd213a9523d42460ed479caff8bc9d", "filename": "src/test/rustdoc/typedef.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Ftypedef.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Ftypedef.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Ftypedef.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -11,7 +11,7 @@ impl MyStruct {\n // @has typedef/type.MyAlias.html\n // @has - '//*[@class=\"impl has-srclink\"]//h3[@class=\"code-header in-band\"]' 'impl MyAlias'\n // @has - '//*[@class=\"impl has-srclink\"]//h3[@class=\"code-header in-band\"]' 'impl MyTrait for MyAlias'\n-// @has - 'Alias docstring'\n+// @hastext - 'Alias docstring'\n // @has - '//*[@class=\"sidebar\"]//*[@class=\"location\"]' 'MyAlias'\n // @has - '//*[@class=\"sidebar\"]//a[@href=\"#implementations\"]' 'Methods'\n // @has - '//*[@class=\"sidebar\"]//a[@href=\"#trait-implementations\"]' 'Trait Implementations'"}, {"sha": "201ec3818e9ae16ab577d7de18b322d304c279dc", "filename": "src/test/rustdoc/universal-impl-trait.rs", "status": "modified", "additions": 15, "deletions": 15, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Funiversal-impl-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37eed1d1ff3f433b4d6af02e65f6550d10b568f8/src%2Ftest%2Frustdoc%2Funiversal-impl-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Funiversal-impl-trait.rs?ref=37eed1d1ff3f433b4d6af02e65f6550d10b568f8", "patch": "@@ -5,15 +5,15 @@ use std::borrow::Borrow;\n \n // @has foo/fn.foo.html\n // @has - //pre 'foo('\n-// @matches - '_x: impl <a class=\"trait\" href=\"[^\"]+/trait\\.Clone\\.html\"'\n-// @matches - '_z: .+impl.+trait\\.Copy\\.html.+, impl.+trait\\.Clone\\.html'\n+// @matchestext - '_x: impl <a class=\"trait\" href=\"[^\"]+/trait\\.Clone\\.html\"'\n+// @matchestext - '_z: .+impl.+trait\\.Copy\\.html.+, impl.+trait\\.Clone\\.html'\n pub fn foo(_x: impl Clone, _y: i32, _z: (impl Copy, impl Clone)) {\n }\n \n pub trait Trait {\n     // @has foo/trait.Trait.html\n-    // @has - 'method</a>('\n-    // @matches - '_x: impl <a class=\"trait\" href=\"[^\"]+/trait\\.Debug\\.html\"'\n+    // @hastext - 'method</a>('\n+    // @matchestext - '_x: impl <a class=\"trait\" href=\"[^\"]+/trait\\.Debug\\.html\"'\n     fn method(&self, _x: impl std::fmt::Debug) {\n     }\n }\n@@ -22,30 +22,30 @@ pub struct S<T>(T);\n \n impl<T> S<T> {\n     // @has foo/struct.S.html\n-    // @has - 'bar</a>('\n-    // @matches - '_bar: impl <a class=\"trait\" href=\"[^\"]+/trait\\.Copy\\.html\"'\n+    // @hastext - 'bar</a>('\n+    // @matchestext - '_bar: impl <a class=\"trait\" href=\"[^\"]+/trait\\.Copy\\.html\"'\n     pub fn bar(_bar: impl Copy) {\n     }\n \n-    // @has - 'baz</a>('\n-    // @matches - '_baz:.+struct\\.S\\.html.+impl .+trait\\.Clone\\.html'\n+    // @hastext - 'baz</a>('\n+    // @matchestext - '_baz:.+struct\\.S\\.html.+impl .+trait\\.Clone\\.html'\n     pub fn baz(_baz: S<impl Clone>) {\n     }\n \n-    // @has - 'qux</a>('\n-    // @matches - 'trait\\.Read\\.html'\n+    // @hastext - 'qux</a>('\n+    // @matchestext - 'trait\\.Read\\.html'\n     pub fn qux(_qux: impl IntoIterator<Item = S<impl Read>>) {\n     }\n }\n \n-// @has - 'method</a>('\n-// @matches - '_x: impl <a class=\"trait\" href=\"[^\"]+/trait\\.Debug\\.html\"'\n+// @hastext - 'method</a>('\n+// @matchestext - '_x: impl <a class=\"trait\" href=\"[^\"]+/trait\\.Debug\\.html\"'\n impl<T> Trait for S<T> {}\n \n // @has foo/fn.much_universe.html\n-// @matches - 'T:.+Borrow.+impl .+trait\\.Trait\\.html'\n-// @matches - 'U:.+IntoIterator.+= impl.+Iterator\\.html.+= impl.+Clone\\.html'\n-// @matches - '_: impl .+trait\\.Read\\.html.+ \\+ .+trait\\.Clone\\.html'\n+// @matchestext - 'T:.+Borrow.+impl .+trait\\.Trait\\.html'\n+// @matchestext - 'U:.+IntoIterator.+= impl.+Iterator\\.html.+= impl.+Clone\\.html'\n+// @matchestext - '_: impl .+trait\\.Read\\.html.+ \\+ .+trait\\.Clone\\.html'\n pub fn much_universe<\n     T: Borrow<impl Trait>,\n     U: IntoIterator<Item = impl Iterator<Item = impl Clone>>,"}]}