{"sha": "f4e8af268be3042643f581ded2e4c92bf95f66f3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY0ZThhZjI2OGJlMzA0MjY0M2Y1ODFkZWQyZTRjOTJiZjk1ZjY2ZjM=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2020-11-01T08:50:33Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2020-11-01T08:50:33Z"}, "message": "Update Cranelift\n\nFixes bootstrapping of rustc using cg_clif\n\nFixes #1097", "tree": {"sha": "67c4c619f775639081bba20c9f966ccacef790cd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/67c4c619f775639081bba20c9f966ccacef790cd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f4e8af268be3042643f581ded2e4c92bf95f66f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f4e8af268be3042643f581ded2e4c92bf95f66f3", "html_url": "https://github.com/rust-lang/rust/commit/f4e8af268be3042643f581ded2e4c92bf95f66f3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f4e8af268be3042643f581ded2e4c92bf95f66f3/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6b1902a0fa7e68c097157d6bb4c64c672fbb596b", "url": "https://api.github.com/repos/rust-lang/rust/commits/6b1902a0fa7e68c097157d6bb4c64c672fbb596b", "html_url": "https://github.com/rust-lang/rust/commit/6b1902a0fa7e68c097157d6bb4c64c672fbb596b"}], "stats": {"total": 52, "additions": 42, "deletions": 10}, "files": [{"sha": "2889fac77f6a4616fd9b976932cd09a15a91c738", "filename": "Cargo.lock", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/f4e8af268be3042643f581ded2e4c92bf95f66f3/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/f4e8af268be3042643f581ded2e4c92bf95f66f3/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=f4e8af268be3042643f581ded2e4c92bf95f66f3", "patch": "@@ -44,15 +44,15 @@ checksum = \"4785bdd1c96b2a846b2bd7cc02e86b6b3dbf14e7e53446c4f54c92a361040822\"\n [[package]]\n name = \"cranelift-bforest\"\n version = \"0.67.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#53f044715b99cd97ccd24e54b25c72a8646b9a72\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#44cbdecea03c360ea82e6482f0cf6c614effef21\"\n dependencies = [\n  \"cranelift-entity\",\n ]\n \n [[package]]\n name = \"cranelift-codegen\"\n version = \"0.67.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#53f044715b99cd97ccd24e54b25c72a8646b9a72\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#44cbdecea03c360ea82e6482f0cf6c614effef21\"\n dependencies = [\n  \"byteorder\",\n  \"cranelift-bforest\",\n@@ -70,7 +70,7 @@ dependencies = [\n [[package]]\n name = \"cranelift-codegen-meta\"\n version = \"0.67.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#53f044715b99cd97ccd24e54b25c72a8646b9a72\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#44cbdecea03c360ea82e6482f0cf6c614effef21\"\n dependencies = [\n  \"cranelift-codegen-shared\",\n  \"cranelift-entity\",\n@@ -79,17 +79,17 @@ dependencies = [\n [[package]]\n name = \"cranelift-codegen-shared\"\n version = \"0.67.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#53f044715b99cd97ccd24e54b25c72a8646b9a72\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#44cbdecea03c360ea82e6482f0cf6c614effef21\"\n \n [[package]]\n name = \"cranelift-entity\"\n version = \"0.67.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#53f044715b99cd97ccd24e54b25c72a8646b9a72\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#44cbdecea03c360ea82e6482f0cf6c614effef21\"\n \n [[package]]\n name = \"cranelift-frontend\"\n version = \"0.67.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#53f044715b99cd97ccd24e54b25c72a8646b9a72\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#44cbdecea03c360ea82e6482f0cf6c614effef21\"\n dependencies = [\n  \"cranelift-codegen\",\n  \"log\",\n@@ -100,7 +100,7 @@ dependencies = [\n [[package]]\n name = \"cranelift-module\"\n version = \"0.67.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#53f044715b99cd97ccd24e54b25c72a8646b9a72\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#44cbdecea03c360ea82e6482f0cf6c614effef21\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n@@ -112,7 +112,7 @@ dependencies = [\n [[package]]\n name = \"cranelift-native\"\n version = \"0.67.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#53f044715b99cd97ccd24e54b25c72a8646b9a72\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#44cbdecea03c360ea82e6482f0cf6c614effef21\"\n dependencies = [\n  \"cranelift-codegen\",\n  \"raw-cpuid\",\n@@ -122,7 +122,7 @@ dependencies = [\n [[package]]\n name = \"cranelift-object\"\n version = \"0.67.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#53f044715b99cd97ccd24e54b25c72a8646b9a72\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#44cbdecea03c360ea82e6482f0cf6c614effef21\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n@@ -135,7 +135,7 @@ dependencies = [\n [[package]]\n name = \"cranelift-simplejit\"\n version = \"0.67.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#53f044715b99cd97ccd24e54b25c72a8646b9a72\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#44cbdecea03c360ea82e6482f0cf6c614effef21\"\n dependencies = [\n  \"cranelift-codegen\",\n  \"cranelift-entity\","}, {"sha": "ce07fe83df18f2b09f663113aad431002e98e956", "filename": "example/mini_core.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f4e8af268be3042643f581ded2e4c92bf95f66f3/example%2Fmini_core.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f4e8af268be3042643f581ded2e4c92bf95f66f3/example%2Fmini_core.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/example%2Fmini_core.rs?ref=f4e8af268be3042643f581ded2e4c92bf95f66f3", "patch": "@@ -48,6 +48,7 @@ unsafe impl Copy for u8 {}\n unsafe impl Copy for u16 {}\n unsafe impl Copy for u32 {}\n unsafe impl Copy for u64 {}\n+unsafe impl Copy for u128 {}\n unsafe impl Copy for usize {}\n unsafe impl Copy for i8 {}\n unsafe impl Copy for i16 {}\n@@ -283,6 +284,15 @@ impl PartialEq for u64 {\n     }\n }\n \n+impl PartialEq for u128 {\n+    fn eq(&self, other: &u128) -> bool {\n+        (*self) == (*other)\n+    }\n+    fn ne(&self, other: &u128) -> bool {\n+        (*self) != (*other)\n+    }\n+}\n+\n impl PartialEq for usize {\n     fn eq(&self, other: &usize) -> bool {\n         (*self) == (*other)"}, {"sha": "4a8375afac3cef46815d38becae87267dcc7461c", "filename": "example/mini_core_hello_world.rs", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/f4e8af268be3042643f581ded2e4c92bf95f66f3/example%2Fmini_core_hello_world.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f4e8af268be3042643f581ded2e4c92bf95f66f3/example%2Fmini_core_hello_world.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/example%2Fmini_core_hello_world.rs?ref=f4e8af268be3042643f581ded2e4c92bf95f66f3", "patch": "@@ -287,6 +287,8 @@ fn main() {\n     assert_eq!(repeat[0], Some(42));\n     assert_eq!(repeat[1], Some(42));\n \n+    from_decimal_string();\n+\n     #[cfg(not(jit))]\n     test_tls();\n \n@@ -446,3 +448,23 @@ fn check_niche_behavior () {\n         intrinsics::abort();\n     }\n }\n+\n+fn from_decimal_string() {\n+    loop {\n+        let multiplier = 1;\n+\n+        take_multiplier_ref(&multiplier);\n+\n+        if multiplier == 1 {\n+            break;\n+        }\n+\n+        unreachable();\n+    }\n+}\n+\n+fn take_multiplier_ref(_multiplier: &u128) {}\n+\n+fn unreachable() -> ! {\n+    panic(\"unreachable\")\n+}"}]}