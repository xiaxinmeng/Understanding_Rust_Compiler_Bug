{"sha": "40e20e288d0f928c25bc74c14d74227c4d5c7182", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQwZTIwZTI4OGQwZjkyOGMyNWJjNzRjMTRkNzQyMjdjNGQ1YzcxODI=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2018-10-08T13:43:53Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2018-10-08T13:43:53Z"}, "message": "Added text explaining the (new) relative roles of `optimize`+`debug`\nand to briefly touch on the theory of debugging rustc versus the\npractice of such.", "tree": {"sha": "e9af1c22a749e91cb002d35335f46b033470d4e7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e9af1c22a749e91cb002d35335f46b033470d4e7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/40e20e288d0f928c25bc74c14d74227c4d5c7182", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/40e20e288d0f928c25bc74c14d74227c4d5c7182", "html_url": "https://github.com/rust-lang/rust/commit/40e20e288d0f928c25bc74c14d74227c4d5c7182", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/40e20e288d0f928c25bc74c14d74227c4d5c7182/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ac4945c1cbdee5800a53c7afe180b290291cefe1", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac4945c1cbdee5800a53c7afe180b290291cefe1", "html_url": "https://github.com/rust-lang/rust/commit/ac4945c1cbdee5800a53c7afe180b290291cefe1"}], "stats": {"total": 35, "additions": 26, "deletions": 9}, "files": [{"sha": "c840be9f5d295af9a127a6c327d967dfa2ed4ff8", "filename": "config.toml.example", "status": "modified", "additions": 26, "deletions": 9, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/40e20e288d0f928c25bc74c14d74227c4d5c7182/config.toml.example", "raw_url": "https://github.com/rust-lang/rust/raw/40e20e288d0f928c25bc74c14d74227c4d5c7182/config.toml.example", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/config.toml.example?ref=40e20e288d0f928c25bc74c14d74227c4d5c7182", "patch": "@@ -243,19 +243,36 @@\n # =============================================================================\n [rust]\n \n-# Indicates that the build should be optimized for debugging Rust. Note that\n-# this is typically not what you want as it takes an incredibly large amount of\n-# time to have a debug-mode rustc compile any code (notably libstd). If this\n-# value is set to `true` it will affect a number of configuration options below\n-# as well, if unconfigured.\n-#debug = false\n-\n-# Whether or not to optimize the compiler and standard library\n+# Whether or not to optimize the compiler and standard library.\n+#\n # Note: the slowness of the non optimized compiler compiling itself usually\n #       outweighs the time gains in not doing optimizations, therefore a\n-#       full bootstrap takes much more time with optimize set to false.\n+#       full bootstrap takes much more time with `optimize` set to false.\n #optimize = true\n \n+# Indicates that the build should be configured for debugging Rust. A\n+# `debug`-enabled compiler and standard library will be somewhat\n+# slower (due to e.g. checking of debug assertions) but should remain\n+# usable.\n+#\n+# Note: If this value is set to `true`, it will affect a number of\n+#       configuration options below as well, if they have been left\n+#       unconfigured in this file.\n+#\n+# Note: changes to the `debug` setting do *not* affect `optimize`\n+#       above. In theory, a \"maximally debuggable\" environment would\n+#       set `optimize` to `false` above to assist the introspection\n+#       facilities of debuggers like lldb and gdb. To recreate such an\n+#       environment, explicitly set `optimize` to `false` and `debug`\n+#       to `true`. In practice, everyone leaves `optimize` set to\n+#       `true`, because an unoptimized rustc with debugging\n+#       enabled becomes *unusably slow* (e.g. rust-lang/rust#24840\n+#       reported a 25x slowdown) and bootstrapping the supposed\n+#       \"maximally debuggable\" environment (notably libstd) takes\n+#       hours to build.\n+#\n+#debug = false\n+\n # Number of codegen units to use for each compiler invocation. A value of 0\n # means \"the number of cores on this machine\", and 1+ is passed through to the\n # compiler."}]}