{"sha": "59fcb7a2ce15f96fb4a0ce82f42503cf135aa81e", "node_id": "C_kwDOAAsO6NoAKDU5ZmNiN2EyY2UxNWY5NmZiNGEwY2U4MmY0MjUwM2NmMTM1YWE4MWU", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-01-26T06:53:23Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-01-26T06:53:23Z"}, "message": "Rollup merge of #106811 - khuey:dwp_extension, r=davidtwco\n\nAppend .dwp to the binary filename instead of replacing the existing extension.\n\ngdb et al. expect to find the dwp file at `<binary>`.dwp, even if <binary> already has an extension (e.g. libfoo.so's dwp is expected to be at libfoo.so.dwp).", "tree": {"sha": "0b36a9e72151d182391b78e5696325bfb25a607b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0b36a9e72151d182391b78e5696325bfb25a607b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/59fcb7a2ce15f96fb4a0ce82f42503cf135aa81e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJj0iNjCRBK7hj4Ov3rIwAAbVMIAFdB6/CuObvfpLc4UYm1bV0w\nkZKdAT82RuXtTZxumu11kl6V9bTU0jhXw/SI3GSO+jJnHHVd2o93pt+RBKpinckI\n4OWrmHkHH98nprYK7E8leXRQPhNMJbDV658EyduaH8ULzOi+kKwmsFa7n9miOUHC\nlyRo+OZ2qMuZNISuEC7gThur5vA4VEJq5oVCnnZyYAGaq9H36dXwOrDHwDC9v1LW\neF5oIlo+fi+qHpjCF34R5bRyCPsOqs7Cj8y6Lgwvc2eA63he9YjHIdUiFBqRCHRe\nyJ1LY25VYp+sUPiScEAv8CkFzs5Nmzb9vB8cw+kpcdcuaCViyc67Gpaq9klK/8I=\n=X/O0\n-----END PGP SIGNATURE-----\n", "payload": "tree 0b36a9e72151d182391b78e5696325bfb25a607b\nparent cc92bdb9c99b944b77833f3f2cd0e362c94bf861\nparent 783caf3702fa28aeeaebd413eb9072399506eab1\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1674716003 +0100\ncommitter GitHub <noreply@github.com> 1674716003 +0100\n\nRollup merge of #106811 - khuey:dwp_extension, r=davidtwco\n\nAppend .dwp to the binary filename instead of replacing the existing extension.\n\ngdb et al. expect to find the dwp file at `<binary>`.dwp, even if <binary> already has an extension (e.g. libfoo.so's dwp is expected to be at libfoo.so.dwp).\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/59fcb7a2ce15f96fb4a0ce82f42503cf135aa81e", "html_url": "https://github.com/rust-lang/rust/commit/59fcb7a2ce15f96fb4a0ce82f42503cf135aa81e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/59fcb7a2ce15f96fb4a0ce82f42503cf135aa81e/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cc92bdb9c99b944b77833f3f2cd0e362c94bf861", "url": "https://api.github.com/repos/rust-lang/rust/commits/cc92bdb9c99b944b77833f3f2cd0e362c94bf861", "html_url": "https://github.com/rust-lang/rust/commit/cc92bdb9c99b944b77833f3f2cd0e362c94bf861"}, {"sha": "783caf3702fa28aeeaebd413eb9072399506eab1", "url": "https://api.github.com/repos/rust-lang/rust/commits/783caf3702fa28aeeaebd413eb9072399506eab1", "html_url": "https://github.com/rust-lang/rust/commit/783caf3702fa28aeeaebd413eb9072399506eab1"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "0a7bf6ff00c73b6d2eeb0b66f11a4c67793afdaf", "filename": "compiler/rustc_codegen_ssa/src/back/link.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/59fcb7a2ce15f96fb4a0ce82f42503cf135aa81e/compiler%2Frustc_codegen_ssa%2Fsrc%2Fback%2Flink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/59fcb7a2ce15f96fb4a0ce82f42503cf135aa81e/compiler%2Frustc_codegen_ssa%2Fsrc%2Fback%2Flink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_ssa%2Fsrc%2Fback%2Flink.rs?ref=59fcb7a2ce15f96fb4a0ce82f42503cf135aa81e", "patch": "@@ -599,7 +599,8 @@ fn link_dwarf_object<'a>(\n     cg_results: &CodegenResults,\n     executable_out_filename: &Path,\n ) {\n-    let dwp_out_filename = executable_out_filename.with_extension(\"dwp\");\n+    let mut dwp_out_filename = executable_out_filename.to_path_buf().into_os_string();\n+    dwp_out_filename.push(\".dwp\");\n     debug!(?dwp_out_filename, ?executable_out_filename);\n \n     #[derive(Default)]"}]}