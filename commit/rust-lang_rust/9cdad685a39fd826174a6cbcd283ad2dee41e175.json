{"sha": "9cdad685a39fd826174a6cbcd283ad2dee41e175", "node_id": "MDY6Q29tbWl0NzI0NzEyOjljZGFkNjg1YTM5ZmQ4MjYxNzRhNmNiY2QyODNhZDJkZWU0MWUxNzU=", "commit": {"author": {"name": "klutzy", "email": "klutzytheklutzy@gmail.com", "date": "2014-01-01T06:53:22Z"}, "committer": {"name": "klutzy", "email": "klutzytheklutzy@gmail.com", "date": "2014-01-01T10:51:35Z"}, "message": "syntax::codemap: Add static DUMMY_SP\n\nIt replaces `dummy_sp()`.", "tree": {"sha": "5993d9e64b91a1d66672634cbc4b24962e54980d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5993d9e64b91a1d66672634cbc4b24962e54980d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9cdad685a39fd826174a6cbcd283ad2dee41e175", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9cdad685a39fd826174a6cbcd283ad2dee41e175", "html_url": "https://github.com/rust-lang/rust/commit/9cdad685a39fd826174a6cbcd283ad2dee41e175", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9cdad685a39fd826174a6cbcd283ad2dee41e175/comments", "author": {"login": "klutzy", "id": 1589355, "node_id": "MDQ6VXNlcjE1ODkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klutzy", "html_url": "https://github.com/klutzy", "followers_url": "https://api.github.com/users/klutzy/followers", "following_url": "https://api.github.com/users/klutzy/following{/other_user}", "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}", "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions", "organizations_url": "https://api.github.com/users/klutzy/orgs", "repos_url": "https://api.github.com/users/klutzy/repos", "events_url": "https://api.github.com/users/klutzy/events{/privacy}", "received_events_url": "https://api.github.com/users/klutzy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "klutzy", "id": 1589355, "node_id": "MDQ6VXNlcjE1ODkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klutzy", "html_url": "https://github.com/klutzy", "followers_url": "https://api.github.com/users/klutzy/followers", "following_url": "https://api.github.com/users/klutzy/following{/other_user}", "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}", "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions", "organizations_url": "https://api.github.com/users/klutzy/orgs", "repos_url": "https://api.github.com/users/klutzy/repos", "events_url": "https://api.github.com/users/klutzy/events{/privacy}", "received_events_url": "https://api.github.com/users/klutzy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db204b20ab5ed7f27027a95c76c6d6e74eb443d6", "url": "https://api.github.com/repos/rust-lang/rust/commits/db204b20ab5ed7f27027a95c76c6d6e74eb443d6", "html_url": "https://github.com/rust-lang/rust/commit/db204b20ab5ed7f27027a95c76c6d6e74eb443d6"}], "stats": {"total": 191, "additions": 94, "deletions": 97}, "files": [{"sha": "97ffc1490f5efe4a58e339e575fa1a0b7932ba26", "filename": "src/librustc/front/std_inject.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Ffront%2Fstd_inject.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Ffront%2Fstd_inject.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ffront%2Fstd_inject.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -14,7 +14,7 @@ use driver::session::Session;\n use std::vec;\n use syntax::ast;\n use syntax::attr;\n-use syntax::codemap::dummy_sp;\n+use syntax::codemap::DUMMY_SP;\n use syntax::codemap;\n use syntax::fold::ast_fold;\n use syntax::fold;\n@@ -47,7 +47,7 @@ fn no_prelude(attrs: &[ast::Attribute]) -> bool {\n fn spanned<T>(x: T) -> codemap::Spanned<T> {\n     codemap::Spanned {\n         node: x,\n-        span: dummy_sp(),\n+        span: DUMMY_SP,\n     }\n }\n \n@@ -66,7 +66,7 @@ impl fold::ast_fold for StandardLibraryInjector {\n                                             ast::DUMMY_NODE_ID),\n             attrs: ~[],\n             vis: ast::private,\n-            span: dummy_sp()\n+            span: DUMMY_SP\n         }];\n \n         if use_uv(&crate) && !self.sess.building_library.get() {\n@@ -77,7 +77,7 @@ impl fold::ast_fold for StandardLibraryInjector {\n                                                 ast::DUMMY_NODE_ID),\n                 attrs: ~[],\n                 vis: ast::private,\n-                span: dummy_sp()\n+                span: DUMMY_SP\n             });\n             vis.push(ast::view_item {\n                 node: ast::view_item_extern_mod(self.sess.ident_of(\"rustuv\"),\n@@ -86,7 +86,7 @@ impl fold::ast_fold for StandardLibraryInjector {\n                                                 ast::DUMMY_NODE_ID),\n                 attrs: ~[],\n                 vis: ast::private,\n-                span: dummy_sp()\n+                span: DUMMY_SP\n             });\n         }\n \n@@ -121,7 +121,7 @@ impl fold::ast_fold for StandardLibraryInjector {\n \n     fn fold_mod(&mut self, module: &ast::_mod) -> ast::_mod {\n         let prelude_path = ast::Path {\n-            span: dummy_sp(),\n+            span: DUMMY_SP,\n             global: false,\n             segments: ~[\n                 ast::PathSegment {\n@@ -143,7 +143,7 @@ impl fold::ast_fold for StandardLibraryInjector {\n             node: ast::view_item_use(~[vp]),\n             attrs: ~[],\n             vis: ast::private,\n-            span: dummy_sp(),\n+            span: DUMMY_SP,\n         };\n \n         let vis = vec::append(~[vi2], module.view_items);"}, {"sha": "2b104cde95ae7697444aa19cc5cb174d6decb66c", "filename": "src/librustc/front/test.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Ffront%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Ffront%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ffront%2Ftest.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -19,7 +19,7 @@ use std::vec;\n use syntax::ast_util::*;\n use syntax::attr::AttrMetaMethods;\n use syntax::attr;\n-use syntax::codemap::{dummy_sp, Span, ExpnInfo, NameAndSpan, MacroAttribute};\n+use syntax::codemap::{DUMMY_SP, Span, ExpnInfo, NameAndSpan, MacroAttribute};\n use syntax::codemap;\n use syntax::ext::base::ExtCtxt;\n use syntax::fold::ast_fold;\n@@ -164,7 +164,7 @@ fn generate_test_harness(sess: session::Session, crate: ast::Crate)\n     };\n \n     cx.ext_cx.bt_push(ExpnInfo {\n-        call_site: dummy_sp(),\n+        call_site: DUMMY_SP,\n         callee: NameAndSpan {\n             name: @\"test\",\n             format: MacroAttribute,\n@@ -298,7 +298,7 @@ fn mk_std(cx: &TestCtxt) -> ast::view_item {\n         node: vi,\n         attrs: ~[],\n         vis: ast::public,\n-        span: dummy_sp()\n+        span: DUMMY_SP\n     }\n }\n \n@@ -335,7 +335,7 @@ fn mk_test_module(cx: &TestCtxt) -> @ast::item {\n         id: ast::DUMMY_NODE_ID,\n         node: item_,\n         vis: ast::public,\n-        span: dummy_sp(),\n+        span: DUMMY_SP,\n      };\n \n     debug!(\"Synthetic test module:\\n{}\\n\",\n@@ -345,12 +345,12 @@ fn mk_test_module(cx: &TestCtxt) -> @ast::item {\n }\n \n fn nospan<T>(t: T) -> codemap::Spanned<T> {\n-    codemap::Spanned { node: t, span: dummy_sp() }\n+    codemap::Spanned { node: t, span: DUMMY_SP }\n }\n \n fn path_node(ids: ~[ast::Ident]) -> ast::Path {\n     ast::Path {\n-        span: dummy_sp(),\n+        span: DUMMY_SP,\n         global: false,\n         segments: ids.move_iter().map(|identifier| ast::PathSegment {\n             identifier: identifier,\n@@ -362,7 +362,7 @@ fn path_node(ids: ~[ast::Ident]) -> ast::Path {\n \n fn path_node_global(ids: ~[ast::Ident]) -> ast::Path {\n     ast::Path {\n-        span: dummy_sp(),\n+        span: DUMMY_SP,\n         global: true,\n         segments: ids.move_iter().map(|identifier| ast::PathSegment {\n             identifier: identifier,\n@@ -403,13 +403,13 @@ fn mk_test_descs(cx: &TestCtxt) -> @ast::Expr {\n     let inner_expr = @ast::Expr {\n         id: ast::DUMMY_NODE_ID,\n         node: ast::ExprVec(descs, ast::MutImmutable),\n-        span: dummy_sp(),\n+        span: DUMMY_SP,\n     };\n \n     @ast::Expr {\n         id: ast::DUMMY_NODE_ID,\n         node: ast::ExprVstore(inner_expr, ast::ExprVstoreSlice),\n-        span: dummy_sp(),\n+        span: DUMMY_SP,\n     }\n }\n "}, {"sha": "33e407dec1a1044105873a00a5b28cb2ed2968f5", "filename": "src/librustc/metadata/creader.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmetadata%2Fcreader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmetadata%2Fcreader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fcreader.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -21,7 +21,7 @@ use syntax::ast;\n use syntax::abi;\n use syntax::attr;\n use syntax::attr::AttrMetaMethods;\n-use syntax::codemap::{Span, dummy_sp};\n+use syntax::codemap::{Span, DUMMY_SP};\n use syntax::diagnostic::SpanHandler;\n use syntax::parse::token;\n use syntax::parse::token::ident_interner;\n@@ -346,7 +346,7 @@ fn resolve_crate_deps(e: &mut Env, cdata: &[u8]) -> cstore::cnum_map {\n             // This is a new one so we've got to load it\n             // FIXME (#2404): Need better error reporting than just a bogus\n             // span.\n-            let fake_span = dummy_sp();\n+            let fake_span = DUMMY_SP;\n             let local_cnum = resolve_crate(e, cname_str, cname_str, dep.vers,\n                                            dep.hash, fake_span);\n             cnum_map.insert(extrn_cnum, local_cnum);"}, {"sha": "4e4ab981bf672b50c3498c9fc2ecf8c1bbc527f0", "filename": "src/librustc/metadata/decoder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fdecoder.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -1099,7 +1099,7 @@ fn get_attributes(md: ebml::Doc) -> ~[ast::Attribute] {\n                         value: meta_item,\n                         is_sugared_doc: false,\n                     },\n-                    span: codemap::dummy_sp()\n+                    span: codemap::DUMMY_SP\n                 });\n             true\n         });"}, {"sha": "f413dfd2451ccd0bd0ec2aabd27e6f9b8f3b047d", "filename": "src/librustc/middle/astencode.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Fastencode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Fastencode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fastencode.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -218,7 +218,7 @@ impl ExtendedDecodeContext {\n         ast::DefId { crate: ast::LOCAL_CRATE, node: self.tr_id(did.node) }\n     }\n     pub fn tr_span(&self, _span: Span) -> Span {\n-        codemap::dummy_sp() // FIXME (#1972): handle span properly\n+        codemap::DUMMY_SP // FIXME (#1972): handle span properly\n     }\n }\n "}, {"sha": "079c275026887d9f297b73f0e02bafb6afbceb9d", "filename": "src/librustc/middle/check_match.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Fcheck_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Fcheck_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fcheck_match.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -23,7 +23,7 @@ use std::num;\n use std::vec;\n use syntax::ast::*;\n use syntax::ast_util::{unguarded_pat, walk_pat};\n-use syntax::codemap::{Span, dummy_sp, Spanned};\n+use syntax::codemap::{Span, DUMMY_SP, Spanned};\n use syntax::visit;\n use syntax::visit::{Visitor,fn_kind};\n \n@@ -536,11 +536,11 @@ fn ctor_arity(cx: &MatchCheckCtxt, ctor: &ctor, ty: ty::t) -> uint {\n }\n \n fn wild() -> @Pat {\n-    @Pat {id: 0, node: PatWild, span: dummy_sp()}\n+    @Pat {id: 0, node: PatWild, span: DUMMY_SP}\n }\n \n fn wild_multi() -> @Pat {\n-    @Pat {id: 0, node: PatWildMulti, span: dummy_sp()}\n+    @Pat {id: 0, node: PatWildMulti, span: DUMMY_SP}\n }\n \n fn specialize(cx: &MatchCheckCtxt,"}, {"sha": "5de4de89b8e1e3564f563d8d1f8f633cb50eb698", "filename": "src/librustc/middle/resolve.rs", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Fresolve.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Fresolve.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fresolve.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -24,7 +24,7 @@ use syntax::parse::token;\n use syntax::parse::token::{ident_interner, interner_get};\n use syntax::parse::token::special_idents;\n use syntax::print::pprust::path_to_str;\n-use syntax::codemap::{Span, dummy_sp, Pos};\n+use syntax::codemap::{Span, DUMMY_SP, Pos};\n use syntax::opt_vec::OptVec;\n use syntax::visit;\n use syntax::visit::Visitor;\n@@ -1643,7 +1643,7 @@ impl Resolver {\n                                                   NormalModuleKind,\n                                                   true,\n                                                   is_public,\n-                                                  dummy_sp());\n+                                                  DUMMY_SP);\n               }\n             }\n           }\n@@ -1661,16 +1661,16 @@ impl Resolver {\n             // public.\n             let is_public = vis != ast::private;\n             if is_struct {\n-                child_name_bindings.define_type(def, dummy_sp(), is_public);\n+                child_name_bindings.define_type(def, DUMMY_SP, is_public);\n                 self.structs.insert(variant_id);\n             } else {\n-                child_name_bindings.define_value(def, dummy_sp(), is_public);\n+                child_name_bindings.define_value(def, DUMMY_SP, is_public);\n             }\n           }\n           DefFn(..) | DefStaticMethod(..) | DefStatic(..) => {\n             debug!(\"(building reduced graph for external \\\n                     crate) building value (fn/static) {}\", final_ident);\n-            child_name_bindings.define_value(def, dummy_sp(), is_public);\n+            child_name_bindings.define_value(def, DUMMY_SP, is_public);\n           }\n           DefTrait(def_id) => {\n               debug!(\"(building reduced graph for external \\\n@@ -1711,7 +1711,7 @@ impl Resolver {\n                   }\n               }\n \n-              child_name_bindings.define_type(def, dummy_sp(), is_public);\n+              child_name_bindings.define_type(def, DUMMY_SP, is_public);\n \n               // Define a module if necessary.\n               let parent_link = self.get_parent_link(new_parent, ident);\n@@ -1720,21 +1720,21 @@ impl Resolver {\n                                                   TraitModuleKind,\n                                                   true,\n                                                   is_public,\n-                                                  dummy_sp())\n+                                                  DUMMY_SP)\n           }\n           DefTy(_) => {\n               debug!(\"(building reduced graph for external \\\n                       crate) building type {}\", final_ident);\n \n-              child_name_bindings.define_type(def, dummy_sp(), is_public);\n+              child_name_bindings.define_type(def, DUMMY_SP, is_public);\n           }\n           DefStruct(def_id) => {\n             debug!(\"(building reduced graph for external \\\n                     crate) building type and value for {}\",\n                    final_ident);\n-            child_name_bindings.define_type(def, dummy_sp(), is_public);\n+            child_name_bindings.define_type(def, DUMMY_SP, is_public);\n             if csearch::get_struct_fields(self.session.cstore, def_id).len() == 0 {\n-                child_name_bindings.define_value(def, dummy_sp(), is_public);\n+                child_name_bindings.define_value(def, DUMMY_SP, is_public);\n             }\n             self.structs.insert(def_id);\n           }\n@@ -1782,7 +1782,7 @@ impl Resolver {\n                             self.add_child(ident,\n                                            ModuleReducedGraphParent(root),\n                                            OverwriteDuplicates,\n-                                           dummy_sp());\n+                                           DUMMY_SP);\n \n                         self.handle_external_def(def,\n                                                  visibility,\n@@ -1814,7 +1814,7 @@ impl Resolver {\n                                         final_ident,\n                                         ModuleReducedGraphParent(root),\n                                         OverwriteDuplicates,\n-                                        dummy_sp());\n+                                        DUMMY_SP);\n \n                                 // Process the static methods. First,\n                                 // create the module.\n@@ -1842,7 +1842,7 @@ impl Resolver {\n                                             ImplModuleKind,\n                                             true,\n                                             true,\n-                                            dummy_sp());\n+                                            DUMMY_SP);\n                                         type_module =\n                                             child_name_bindings.\n                                                 get_module();\n@@ -1864,13 +1864,13 @@ impl Resolver {\n                                         self.add_child(ident,\n                                                        new_parent,\n                                                        OverwriteDuplicates,\n-                                                       dummy_sp());\n+                                                       DUMMY_SP);\n                                     let def = DefFn(\n                                         static_method_info.def_id,\n                                         static_method_info.purity);\n \n                                     method_name_bindings.define_value(\n-                                        def, dummy_sp(),\n+                                        def, DUMMY_SP,\n                                         visibility == ast::public);\n                                 }\n                             }\n@@ -5576,7 +5576,7 @@ impl Resolver {\n         // because this means that they were generated in some fashion by the\n         // compiler and we don't need to consider them.\n         if vi.vis == public { return }\n-        if vi.span == dummy_sp() { return }\n+        if vi.span == DUMMY_SP { return }\n \n         match vi.node {\n             view_item_extern_mod(..) => {} // ignore"}, {"sha": "d9ba2c68f436fbf2634189a20a0381bdbd6650f4", "filename": "src/librustc/middle/trans/_match.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Ftrans%2F_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Ftrans%2F_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2F_match.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -227,7 +227,7 @@ use syntax::ast;\n use syntax::ast::Ident;\n use syntax::ast_util::path_to_ident;\n use syntax::ast_util;\n-use syntax::codemap::{Span, dummy_sp};\n+use syntax::codemap::{Span, DUMMY_SP};\n \n // An option identifying a literal: either a unit-like struct or an\n // expression.\n@@ -617,7 +617,7 @@ fn enter_opt<'r>(bcx: @Block,\n     let _indenter = indenter();\n \n     let tcx = bcx.tcx();\n-    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: dummy_sp()};\n+    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: DUMMY_SP};\n     let mut i = 0;\n     enter_match(bcx, tcx.def_map, m, col, val, |p| {\n         let answer = match p.node {\n@@ -758,7 +758,7 @@ fn enter_rec_or_struct<'r>(bcx: @Block,\n            bcx.val_to_str(val));\n     let _indenter = indenter();\n \n-    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: dummy_sp()};\n+    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: DUMMY_SP};\n     enter_match(bcx, dm, m, col, val, |p| {\n         match p.node {\n             ast::PatStruct(_, ref fpats, _) => {\n@@ -793,7 +793,7 @@ fn enter_tup<'r>(bcx: @Block,\n            bcx.val_to_str(val));\n     let _indenter = indenter();\n \n-    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: dummy_sp()};\n+    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: DUMMY_SP};\n     enter_match(bcx, dm, m, col, val, |p| {\n         match p.node {\n             ast::PatTup(ref elts) => Some((*elts).clone()),\n@@ -819,7 +819,7 @@ fn enter_tuple_struct<'r>(bcx: @Block,\n            bcx.val_to_str(val));\n     let _indenter = indenter();\n \n-    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: dummy_sp()};\n+    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: DUMMY_SP};\n     enter_match(bcx, dm, m, col, val, |p| {\n         match p.node {\n             ast::PatEnum(_, Some(ref elts)) => Some((*elts).clone()),\n@@ -844,7 +844,7 @@ fn enter_box<'r>(bcx: @Block,\n            bcx.val_to_str(val));\n     let _indenter = indenter();\n \n-    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: dummy_sp()};\n+    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: DUMMY_SP};\n     enter_match(bcx, dm, m, col, val, |p| {\n         match p.node {\n             ast::PatBox(sub) => {\n@@ -871,7 +871,7 @@ fn enter_uniq<'r>(bcx: @Block,\n            bcx.val_to_str(val));\n     let _indenter = indenter();\n \n-    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: dummy_sp()};\n+    let dummy = @ast::Pat {id: 0, node: ast::PatWild, span: DUMMY_SP};\n     enter_match(bcx, dm, m, col, val, |p| {\n         match p.node {\n             ast::PatUniq(sub) => {\n@@ -898,7 +898,7 @@ fn enter_region<'r>(bcx: @Block,\n            bcx.val_to_str(val));\n     let _indenter = indenter();\n \n-    let dummy = @ast::Pat { id: 0, node: ast::PatWild, span: dummy_sp() };\n+    let dummy = @ast::Pat { id: 0, node: ast::PatWild, span: DUMMY_SP };\n     enter_match(bcx, dm, m, col, val, |p| {\n         match p.node {\n             ast::PatRegion(sub) => {\n@@ -1535,7 +1535,7 @@ fn compile_submatch_continue(mut bcx: @Block,\n                                 vals.slice(col + 1u, vals.len()));\n     let ccx = bcx.fcx.ccx;\n     let mut pat_id = 0;\n-    let mut pat_span = dummy_sp();\n+    let mut pat_span = DUMMY_SP;\n     for br in m.iter() {\n         // Find a real id (we're adding placeholder wildcard patterns, but\n         // each column is guaranteed to have at least one real pattern)"}, {"sha": "4f075c79dc8796d9d3e0d29962a6bec266454057", "filename": "src/librustc/middle/trans/base.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -2107,7 +2107,7 @@ pub fn trans_enum_variant_or_tuple_like_struct<A:IdAndTy>(\n             ty: varg.ty(),\n             pat: ast_util::ident_to_pat(\n                 ccx.tcx.sess.next_node_id(),\n-                codemap::dummy_sp(),\n+                codemap::DUMMY_SP,\n                 special_idents::arg),\n             id: varg.id(),\n         }"}, {"sha": "c00df5f165cb34f034f67b2840f8d1c0e8f335d2", "filename": "src/librustc/middle/trans/debuginfo.rs", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Ftrans%2Fdebuginfo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Ftrans%2Fdebuginfo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fdebuginfo.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -678,7 +678,7 @@ pub fn create_function_debug_context(cx: &CrateContext,\n     };\n \n     // This can be the case for functions inlined from another crate\n-    if span == codemap::dummy_sp() {\n+    if span == codemap::DUMMY_SP {\n         return FunctionWithoutDebugInfo;\n     }\n \n@@ -797,7 +797,7 @@ pub fn create_function_debug_context(cx: &CrateContext,\n                     }\n                 };\n \n-                signature.push(type_metadata(cx, return_type, codemap::dummy_sp()));\n+                signature.push(type_metadata(cx, return_type, codemap::DUMMY_SP));\n             }\n         }\n \n@@ -812,7 +812,7 @@ pub fn create_function_debug_context(cx: &CrateContext,\n                 }\n             };\n \n-            signature.push(type_metadata(cx, arg_type, codemap::dummy_sp()));\n+            signature.push(type_metadata(cx, arg_type, codemap::DUMMY_SP));\n         }\n \n         return create_DIArray(DIB(cx), signature);\n@@ -856,7 +856,7 @@ pub fn create_function_debug_context(cx: &CrateContext,\n             if cx.sess.opts.extra_debuginfo {\n                 let actual_self_type_metadata = type_metadata(cx,\n                                                               actual_self_type,\n-                                                              codemap::dummy_sp());\n+                                                              codemap::DUMMY_SP);\n \n                 let ident = special_idents::type_self;\n \n@@ -897,7 +897,7 @@ pub fn create_function_debug_context(cx: &CrateContext,\n \n             // Again, only create type information if extra_debuginfo is enabled\n             if cx.sess.opts.extra_debuginfo {\n-                let actual_type_metadata = type_metadata(cx, actual_type, codemap::dummy_sp());\n+                let actual_type_metadata = type_metadata(cx, actual_type, codemap::DUMMY_SP);\n                 let param_metadata = token::ident_to_str(&ident).with_c_str(|name| {\n                     unsafe {\n                         llvm::LLVMDIBuilderCreateTemplateTypeParameter(\n@@ -1271,7 +1271,7 @@ impl RecursiveTypeDescription {\n                                               llvm_type,\n                                               member_descriptions,\n                                               file_metadata,\n-                                              codemap::dummy_sp());\n+                                              codemap::DUMMY_SP);\n                 return metadata_stub;\n             }\n         }\n@@ -1364,7 +1364,7 @@ impl MemberDescriptionFactory for GeneralMemberDescriptionFactory {\n                                               variant_llvm_type,\n                                               member_descriptions,\n                                               self.file_metadata,\n-                                              codemap::dummy_sp());\n+                                              codemap::DUMMY_SP);\n                 MemberDescription {\n                     name: @\"\",\n                     llvm_type: variant_llvm_type,\n@@ -1419,12 +1419,12 @@ fn describe_variant(cx: &CrateContext,\n                 cx.sess.span_warn(span,\n                     format!(\"debuginfo::enum_metadata()::adt_struct_metadata() - Unexpected node \\\n                           type: {:?}. This is a bug.\", node));\n-                codemap::dummy_sp()\n+                codemap::DUMMY_SP\n             }\n         }\n     } else {\n         // For definitions from other crates we have no location information available.\n-        codemap::dummy_sp()\n+        codemap::DUMMY_SP\n     };\n \n     let metadata_stub = create_struct_stub(cx,\n@@ -1511,7 +1511,7 @@ fn prepare_enum_metadata(cx: &CrateContext,\n         let discriminant_llvm_type = adt::ll_inttype(cx, inttype);\n         let (discriminant_size, discriminant_align) = size_and_align_of(cx, discriminant_llvm_type);\n         let discriminant_base_type_metadata = type_metadata(cx, adt::ty_of_inttype(inttype),\n-                                                            codemap::dummy_sp());\n+                                                            codemap::DUMMY_SP);\n         enum_name.with_c_str(|enum_name| {\n             unsafe {\n                 llvm::LLVMDIBuilderCreateEnumerationType(\n@@ -1773,13 +1773,13 @@ fn boxed_type_metadata(cx: &CrateContext,\n \n     let int_type = ty::mk_int();\n     let nil_pointer_type = ty::mk_nil_ptr(cx.tcx);\n-    let nil_pointer_type_metadata = type_metadata(cx, nil_pointer_type, codemap::dummy_sp());\n+    let nil_pointer_type_metadata = type_metadata(cx, nil_pointer_type, codemap::DUMMY_SP);\n \n     let member_descriptions = [\n         MemberDescription {\n             name: @\"refcnt\",\n             llvm_type: member_llvm_types[0],\n-            type_metadata: type_metadata(cx, int_type, codemap::dummy_sp()),\n+            type_metadata: type_metadata(cx, int_type, codemap::DUMMY_SP),\n             offset: ComputedMemberOffset,\n         },\n         MemberDescription {\n@@ -2086,14 +2086,14 @@ fn type_metadata(cx: &CrateContext,\n         let content_type_metadata = type_metadata(\n             cx,\n             type_in_box,\n-            codemap::dummy_sp());\n+            codemap::DUMMY_SP);\n \n         let box_metadata = boxed_type_metadata(\n             cx,\n             Some(content_type_name),\n             content_llvm_type,\n             content_type_metadata,\n-            codemap::dummy_sp());\n+            codemap::DUMMY_SP);\n \n         pointer_type_metadata(cx, pointer_type, box_metadata)\n     }\n@@ -2294,13 +2294,13 @@ fn get_namespace_and_span_for_item(cx: &CrateContext,\n                 cx.sess.span_warn(warning_span,\n                     format!(\"debuginfo::get_namespace_and_span_for_item() \\\n                              - Unexpected node type: {:?}\", *node));\n-                codemap::dummy_sp()\n+                codemap::DUMMY_SP\n             }\n         };\n         definition_span\n     } else {\n         // For external items there is no span information\n-        codemap::dummy_sp()\n+        codemap::DUMMY_SP\n     };\n \n     (containing_scope, definition_span)"}, {"sha": "9b71da4f767f6c773604709a2beaa6585ea1f9d4", "filename": "src/librustc/middle/typeck/infer/mod.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Fmod.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -326,7 +326,7 @@ pub fn can_mk_subty(cx: @InferCtxt, a: ty::t, b: ty::t) -> ures {\n     indent(|| {\n         cx.probe(|| {\n             let trace = TypeTrace {\n-                origin: Misc(codemap::dummy_sp()),\n+                origin: Misc(codemap::DUMMY_SP),\n                 values: Types(expected_found(true, a, b))\n             };\n             cx.sub(true, trace).tys(a, b)\n@@ -418,7 +418,7 @@ pub fn can_mk_coercety(cx: @InferCtxt, a: ty::t, b: ty::t) -> ures {\n     indent(|| {\n         cx.probe(|| {\n             let trace = TypeTrace {\n-                origin: Misc(codemap::dummy_sp()),\n+                origin: Misc(codemap::DUMMY_SP),\n                 values: Types(expected_found(true, a, b))\n             };\n             Coerce(cx.combine_fields(true, trace)).tys(a, b)\n@@ -927,7 +927,7 @@ impl RegionVariableOrigin {\n             BoundRegionInFnCall(a, _) => a,\n             BoundRegionInFnType(a, _) => a,\n             BoundRegionInTypeOrImpl(a) => a,\n-            BoundRegionInCoherence => codemap::dummy_sp(),\n+            BoundRegionInCoherence => codemap::DUMMY_SP,\n         }\n     }\n }"}, {"sha": "f2ea3a320ee556040fe97275094c4c020fe66be0", "filename": "src/librustc/middle/typeck/infer/test.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ftest.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -29,7 +29,7 @@ use extra::getopts::{opt_present};\n use extra::getopts;\n use extra::getopts;\n use extra::oldmap::HashMap;\n-use syntax::codemap::dummy_sp;\n+use syntax::codemap::DUMMY_SP;\n use syntax::parse::parse_crate_from_source_str;\n use syntax::{ast, attr, parse};\n \n@@ -221,9 +221,9 @@ impl Env {\n         ty::mk_imm_rptr(self.tcx, ty::ReStatic, self.t_int())\n     }\n \n-    pub fn lub() -> Lub { Lub(self.infcx.combine_fields(true, dummy_sp())) }\n+    pub fn lub() -> Lub { Lub(self.infcx.combine_fields(true, DUMMY_SP)) }\n \n-    pub fn glb() -> Glb { Glb(self.infcx.combine_fields(true, dummy_sp())) }\n+    pub fn glb() -> Glb { Glb(self.infcx.combine_fields(true, DUMMY_SP)) }\n \n     pub fn resolve_regions(exp_count: uint) {\n         debug!(\"resolve_regions(%u)\", exp_count);"}, {"sha": "3bec73597607b77fd824fd87d557a66c60e11436", "filename": "src/librustdoc/doctree.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustdoc%2Fdoctree.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustdoc%2Fdoctree.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fdoctree.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -40,7 +40,7 @@ impl Module {\n             name       : name,\n             id: 0,\n             vis: ast::private,\n-            where: syntax::codemap::dummy_sp(),\n+            where: syntax::codemap::DUMMY_SP,\n             attrs      : ~[],\n             structs    : ~[],\n             enums      : ~[],"}, {"sha": "a081c2a31afedf727fb57a1fc2df7e04431c718f", "filename": "src/librustpkg/util.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustpkg%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibrustpkg%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustpkg%2Futil.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -19,7 +19,7 @@ use extra::workcache;\n use rustc::driver::{driver, session};\n use extra::getopts::groups::getopts;\n use syntax::ast_util::*;\n-use syntax::codemap::{dummy_sp, Spanned};\n+use syntax::codemap::{DUMMY_SP, Spanned};\n use syntax::ext::base::ExtCtxt;\n use syntax::{ast, attr, codemap, diagnostic, fold, visit};\n use syntax::attr::AttrMetaMethods;\n@@ -631,7 +631,7 @@ pub fn find_and_install_dependencies(context: &BuildContext,\n pub fn mk_string_lit(s: @str) -> ast::lit {\n     Spanned {\n         node: ast::lit_str(s, ast::CookedStr),\n-        span: dummy_sp()\n+        span: DUMMY_SP\n     }\n }\n "}, {"sha": "97d3db074bb00f3be24836771a573554747c4639", "filename": "src/libsyntax/codemap.rs", "status": "modified", "additions": 5, "deletions": 8, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fcodemap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fcodemap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fcodemap.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -90,6 +90,8 @@ pub struct Span {\n     expn_info: Option<@ExpnInfo>\n }\n \n+pub static DUMMY_SP: Span = Span { lo: BytePos(0), hi: BytePos(0), expn_info: None };\n+\n #[deriving(Clone, Eq, Encodable, Decodable, IterBytes)]\n pub struct Spanned<T> {\n     node: T,\n@@ -112,7 +114,7 @@ impl<S:Encoder> Encodable<S> for Span {\n \n impl<D:Decoder> Decodable<D> for Span {\n     fn decode(_d: &mut D) -> Span {\n-        dummy_sp()\n+        DUMMY_SP\n     }\n }\n \n@@ -125,19 +127,14 @@ pub fn respan<T>(sp: Span, t: T) -> Spanned<T> {\n }\n \n pub fn dummy_spanned<T>(t: T) -> Spanned<T> {\n-    respan(dummy_sp(), t)\n+    respan(DUMMY_SP, t)\n }\n \n /* assuming that we're not in macro expansion */\n pub fn mk_sp(lo: BytePos, hi: BytePos) -> Span {\n     Span {lo: lo, hi: hi, expn_info: None}\n }\n \n-// make this a const, once the compiler supports it\n-pub fn dummy_sp() -> Span { return mk_sp(BytePos(0), BytePos(0)); }\n-\n-\n-\n /// A source code location used for error reporting\n pub struct Loc {\n     /// Information about the original source\n@@ -350,7 +347,7 @@ impl CodeMap {\n \n     pub fn span_to_str(&self, sp: Span) -> ~str {\n         let files = &*self.files;\n-        if files.len() == 0 && sp == dummy_sp() {\n+        if files.len() == 0 && sp == DUMMY_SP {\n             return ~\"no-location\";\n         }\n "}, {"sha": "1a3513ab81c93b05710bffac8473674bdb83d552", "filename": "src/libsyntax/ext/build.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fext%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fext%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fbuild.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -12,7 +12,7 @@ use abi::AbiSet;\n use ast::{P, Ident};\n use ast;\n use ast_util;\n-use codemap::{Span, respan, dummy_sp};\n+use codemap::{Span, respan, DUMMY_SP};\n use ext::base::ExtCtxt;\n use ext::quote::rt::*;\n use fold::ast_fold;\n@@ -321,7 +321,7 @@ impl AstBuilder for ExtCtxt {\n \n     fn ty_option(&self, ty: P<ast::Ty>) -> P<ast::Ty> {\n         self.ty_path(\n-            self.path_all(dummy_sp(),\n+            self.path_all(DUMMY_SP,\n                           true,\n                           ~[\n                               self.ident_of(\"std\"),\n@@ -348,7 +348,7 @@ impl AstBuilder for ExtCtxt {\n         P(ast::Ty {\n             id: ast::DUMMY_NODE_ID,\n             node: ast::ty_nil,\n-            span: dummy_sp(),\n+            span: DUMMY_SP,\n         })\n     }\n \n@@ -361,13 +361,13 @@ impl AstBuilder for ExtCtxt {\n     // incorrect code.\n     fn ty_vars(&self, ty_params: &OptVec<ast::TyParam>) -> ~[P<ast::Ty>] {\n         opt_vec::take_vec(\n-            ty_params.map(|p| self.ty_ident(dummy_sp(), p.ident)))\n+            ty_params.map(|p| self.ty_ident(DUMMY_SP, p.ident)))\n     }\n \n     fn ty_vars_global(&self, ty_params: &OptVec<ast::TyParam>) -> ~[P<ast::Ty>] {\n         opt_vec::take_vec(\n             ty_params.map(|p| self.ty_path(\n-                self.path_global(dummy_sp(), ~[p.ident]), None)))\n+                self.path_global(DUMMY_SP, ~[p.ident]), None)))\n     }\n \n     fn strip_bounds(&self, generics: &Generics) -> Generics {"}, {"sha": "be336128275f18af59aff79ce0413a97aafd8beb", "filename": "src/libsyntax/ext/expand.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fext%2Fexpand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fext%2Fexpand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fexpand.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -1279,12 +1279,12 @@ mod test {\n     // make a MetaWord outer attribute with the given name\n     fn make_dummy_attr(s: @str) -> ast::Attribute {\n         Spanned {\n-            span:codemap::dummy_sp(),\n+            span:codemap::DUMMY_SP,\n             node: Attribute_ {\n                 style: AttrOuter,\n                 value: @Spanned {\n                     node: MetaWord(s),\n-                    span: codemap::dummy_sp(),\n+                    span: codemap::DUMMY_SP,\n                 },\n                 is_sugared_doc: false,\n             }"}, {"sha": "05d402a2ba284c945b7ac3cb3fa5abe0641f0522", "filename": "src/libsyntax/ext/tt/macro_rules.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -11,7 +11,7 @@\n use ast::{Ident, matcher_, matcher, match_tok, match_nonterminal, match_seq};\n use ast::{tt_delim};\n use ast;\n-use codemap::{Span, Spanned, dummy_sp};\n+use codemap::{Span, Spanned, DUMMY_SP};\n use ext::base::{AnyMacro, ExtCtxt, MacResult, MRAny, MRDef, MacroDef};\n use ext::base::{NormalTT, SyntaxExpanderTTTrait};\n use ext::base;\n@@ -109,7 +109,7 @@ fn generic_extension(cx: &ExtCtxt,\n     }\n \n     // Which arm's failure should we report? (the one furthest along)\n-    let mut best_fail_spot = dummy_sp();\n+    let mut best_fail_spot = DUMMY_SP;\n     let mut best_fail_msg = ~\"internal error: ran no matchers\";\n \n     let s_d = cx.parse_sess().span_diagnostic;\n@@ -178,7 +178,7 @@ pub fn add_new_extension(cx: &mut ExtCtxt,\n     fn ms(m: matcher_) -> matcher {\n         Spanned {\n             node: m.clone(),\n-            span: dummy_sp()\n+            span: DUMMY_SP\n         }\n     }\n "}, {"sha": "cbce5fb16cbb54689a2ac1ae13d63e129409c4ed", "filename": "src/libsyntax/ext/tt/transcribe.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fext%2Ftt%2Ftranscribe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fext%2Ftt%2Ftranscribe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Ftt%2Ftranscribe.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -10,7 +10,7 @@\n \n use ast;\n use ast::{token_tree, tt_delim, tt_tok, tt_seq, tt_nonterminal,Ident};\n-use codemap::{Span, dummy_sp};\n+use codemap::{Span, DUMMY_SP};\n use diagnostic::SpanHandler;\n use ext::tt::macro_parser::{named_match, matched_seq, matched_nonterminal};\n use parse::token::{EOF, INTERPOLATED, IDENT, Token, nt_ident};\n@@ -66,7 +66,7 @@ pub fn new_tt_reader(sp_diag: @mut SpanHandler,\n         repeat_len: ~[],\n         /* dummy values, never read: */\n         cur_tok: EOF,\n-        cur_span: dummy_sp()\n+        cur_span: DUMMY_SP\n     };\n     tt_next_token(r); /* get cur_tok and cur_span set up */\n     return r;"}, {"sha": "2c3d03eefea17e9a831c24a2fff8df523edf2939", "filename": "src/libsyntax/parse/lexer.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fparse%2Flexer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fparse%2Flexer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Flexer.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -81,7 +81,7 @@ pub fn new_low_level_string_reader(span_diagnostic: @mut SpanHandler,\n         filemap: filemap,\n         /* dummy values; not read */\n         peek_tok: token::EOF,\n-        peek_span: codemap::dummy_sp()\n+        peek_span: codemap::DUMMY_SP\n     };\n     bump(r);\n     return r;"}, {"sha": "960e28ca84f8fc81658e4cd485933c059ec5c685", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cdad685a39fd826174a6cbcd283ad2dee41e175/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=9cdad685a39fd826174a6cbcd283ad2dee41e175", "patch": "@@ -2422,7 +2422,7 @@ mod test {\n             inputs: ~[],\n             output: ast::P(ast::Ty {id: 0,\n                                     node: ast::ty_nil,\n-                                    span: codemap::dummy_sp()}),\n+                                    span: codemap::DUMMY_SP}),\n             cf: ast::return_val,\n             variadic: false\n         };\n@@ -2436,7 +2436,7 @@ mod test {\n     fn test_variant_to_str() {\n         let ident = token::str_to_ident(\"principal_skinner\");\n \n-        let var = codemap::respan(codemap::dummy_sp(), ast::variant_ {\n+        let var = codemap::respan(codemap::DUMMY_SP, ast::variant_ {\n             name: ident,\n             attrs: ~[],\n             // making this up as I go.... ?"}]}