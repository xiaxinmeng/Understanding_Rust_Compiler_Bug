{"sha": "65840f3625482e2b8a860fce0c7c4da2669a9e22", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY1ODQwZjM2MjU0ODJlMmI4YTg2MGZjZTBjN2M0ZGEyNjY5YTllMjI=", "commit": {"author": {"name": "tim", "email": "tdixon51793@gmail.com", "date": "2012-01-24T03:42:29Z"}, "committer": {"name": "tim", "email": "tdixon51793@gmail.com", "date": "2012-01-24T03:42:29Z"}, "message": "Get `description` attribute for packages from json.", "tree": {"sha": "b9c6c02fa546019dd89e806fc633bd55913ead35", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b9c6c02fa546019dd89e806fc633bd55913ead35"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/65840f3625482e2b8a860fce0c7c4da2669a9e22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/65840f3625482e2b8a860fce0c7c4da2669a9e22", "html_url": "https://github.com/rust-lang/rust/commit/65840f3625482e2b8a860fce0c7c4da2669a9e22", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/65840f3625482e2b8a860fce0c7c4da2669a9e22/comments", "author": null, "committer": null, "parents": [{"sha": "dfae48736ffd3504598b15e0f350269a8d1b1063", "url": "https://api.github.com/repos/rust-lang/rust/commits/dfae48736ffd3504598b15e0f350269a8d1b1063", "html_url": "https://github.com/rust-lang/rust/commit/dfae48736ffd3504598b15e0f350269a8d1b1063"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "27471cb1eaa69e86a45ee61b8b5ceecc78a16fd9", "filename": "src/cargo/cargo.rs", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/65840f3625482e2b8a860fce0c7c4da2669a9e22/src%2Fcargo%2Fcargo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65840f3625482e2b8a860fce0c7c4da2669a9e22/src%2Fcargo%2Fcargo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcargo%2Fcargo.rs?ref=65840f3625482e2b8a860fce0c7c4da2669a9e22", "patch": "@@ -270,8 +270,15 @@ fn load_one_source_package(&src: source, p: map::hashmap<str, json::json>) {\n         }\n         _ { }\n     }\n-    // TODO: make this *actually* get the description from the .rc file.\n-    let description = \"This package's description.\";\n+\n+    let description = alt p.find(\"description\") {\n+        some(json::string(_n)) { _n }\n+        _ {\n+            warn(\"Malformed source json: \" + src.name + \" (missing description)\");\n+            ret;\n+        }\n+    };\n+\n     vec::grow(src.packages, 1u, {\n         // source: _source(src),\n         name: name,"}]}