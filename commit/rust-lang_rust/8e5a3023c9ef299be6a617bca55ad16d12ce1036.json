{"sha": "8e5a3023c9ef299be6a617bca55ad16d12ce1036", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhlNWEzMDIzYzllZjI5OWJlNmE2MTdiY2E1NWFkMTZkMTJjZTEwMzY=", "commit": {"author": {"name": "Paul Woolcock", "email": "paul@woolcock.us", "date": "2017-06-23T13:43:28Z"}, "committer": {"name": "Paul Woolcock", "email": "paul@woolcock.us", "date": "2017-06-24T16:08:16Z"}, "message": "Add a feature gate for the `#[allow_fail]` attribute", "tree": {"sha": "a8de93fbddd240023ef3353477a22bf5f612943f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a8de93fbddd240023ef3353477a22bf5f612943f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8e5a3023c9ef299be6a617bca55ad16d12ce1036", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8e5a3023c9ef299be6a617bca55ad16d12ce1036", "html_url": "https://github.com/rust-lang/rust/commit/8e5a3023c9ef299be6a617bca55ad16d12ce1036", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8e5a3023c9ef299be6a617bca55ad16d12ce1036/comments", "author": null, "committer": null, "parents": [{"sha": "7ad95378128bb267885ea17001af32388d451523", "url": "https://api.github.com/repos/rust-lang/rust/commits/7ad95378128bb267885ea17001af32388d451523", "html_url": "https://github.com/rust-lang/rust/commit/7ad95378128bb267885ea17001af32388d451523"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "74bf19b841e886fe04a3d3788ba57c29c1ad3acc", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/8e5a3023c9ef299be6a617bca55ad16d12ce1036/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8e5a3023c9ef299be6a617bca55ad16d12ce1036/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=8e5a3023c9ef299be6a617bca55ad16d12ce1036", "patch": "@@ -354,6 +354,9 @@ declare_features! (\n \n     // rustc internal\n     (active, abi_thiscall, \"1.19.0\", None),\n+\n+    // Allows a test to fail without failing the whole suite\n+    (active, allow_fail, \"1.19.0\", Some(42219)),\n );\n \n declare_features! (\n@@ -534,7 +537,6 @@ pub const BUILTIN_ATTRIBUTES: &'static [(&'static str, AttributeType, AttributeG\n     (\"derive\", Normal, Ungated),\n     (\"should_panic\", Normal, Ungated),\n     (\"ignore\", Normal, Ungated),\n-    (\"allow_fail\", Normal, Ungated),\n     (\"no_implicit_prelude\", Normal, Ungated),\n     (\"reexport_test_harness_main\", Normal, Ungated),\n     (\"link_args\", Normal, Ungated),\n@@ -813,6 +815,11 @@ pub const BUILTIN_ATTRIBUTES: &'static [(&'static str, AttributeType, AttributeG\n                                              \"used internally by rustc\",\n                                              cfg_fn!(rustc_attrs))),\n \n+    (\"allow_fail\", Normal, Gated(Stability::Unstable,\n+                                 \"allow_fail\",\n+                                 \"allow_fail attribute is currently unstable\",\n+                                 cfg_fn!(allow_fail))),\n+\n     // Crate level attributes\n     (\"crate_name\", CrateLevel, Ungated),\n     (\"crate_type\", CrateLevel, Ungated),"}]}