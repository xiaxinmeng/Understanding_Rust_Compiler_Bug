{"sha": "cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNiNjQ2NzJlMGNmY2NiNmQ0NDdmZGRkMGNhM2U3NGQwZjFkZTU0MmY=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2018-08-04T00:37:14Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2018-08-06T20:22:31Z"}, "message": "Enable macro modularization implicitly if one of \"advanced\" macro features is enabled\n\nDo not mark all builtin attributes as used when macro modularization is enabled", "tree": {"sha": "2b83af8fab8487985672bbdeaeefa6719c1e8e0a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2b83af8fab8487985672bbdeaeefa6719c1e8e0a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "html_url": "https://github.com/rust-lang/rust/commit/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f60d96a4773db747aef75014ef6b41b39ae92372", "url": "https://api.github.com/repos/rust-lang/rust/commits/f60d96a4773db747aef75014ef6b41b39ae92372", "html_url": "https://github.com/rust-lang/rust/commit/f60d96a4773db747aef75014ef6b41b39ae92372"}], "stats": {"total": 94, "additions": 44, "deletions": 50}, "files": [{"sha": "a7a29edf0a04fbfaa166119d1307ab3ad7ee9415", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -83,10 +83,14 @@ macro_rules! declare_features {\n             }\n \n             pub fn use_extern_macros(&self) -> bool {\n-                // The `decl_macro`, `tool_attributes` and `custom_attributes`\n-                // features imply `use_extern_macros`.\n+                // A number of \"advanced\" macro features enable\n+                // macro modularization (`use_extern_macros`) implicitly.\n                 self.use_extern_macros || self.decl_macro ||\n-                self.tool_attributes || self.custom_attribute\n+                self.tool_attributes || self.custom_attribute ||\n+                self.macros_in_extern || self.proc_macro_path_invoc ||\n+                self.proc_macro_mod || self.proc_macro_expr ||\n+                self.proc_macro_non_items || self.proc_macro_gen ||\n+                self.stmt_expr_attributes\n             }\n         }\n     };\n@@ -700,7 +704,7 @@ pub fn is_builtin_attr_name(name: ast::Name) -> bool {\n }\n \n pub fn is_builtin_attr(attr: &ast::Attribute) -> bool {\n-    BUILTIN_ATTRIBUTES.iter().any(|&(builtin_name, _, _)| attr.check_name(builtin_name)) ||\n+    BUILTIN_ATTRIBUTES.iter().any(|&(builtin_name, _, _)| attr.path == builtin_name) ||\n     attr.name().as_str().starts_with(\"rustc_\")\n }\n "}, {"sha": "91b72510e3e540fb63738ee2b8e9c3325d0ecf98", "filename": "src/test/compile-fail-fulldeps/proc-macro/attr-invalid-exprs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fattr-invalid-exprs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fattr-invalid-exprs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fattr-invalid-exprs.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -13,7 +13,7 @@\n \n //! Attributes producing expressions in invalid locations\n \n-#![feature(use_extern_macros, stmt_expr_attributes, proc_macro_expr)]\n+#![feature(stmt_expr_attributes, proc_macro_expr)]\n \n extern crate attr_stmt_expr;\n use attr_stmt_expr::{duplicate, no_output};"}, {"sha": "52b2a473ecd75c277d18b5ce64c790e55056894f", "filename": "src/test/compile-fail-fulldeps/proc-macro/attr-stmt-expr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fattr-stmt-expr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fattr-stmt-expr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fattr-stmt-expr.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // aux-build:attr-stmt-expr.rs\n // ignore-stage1\n \n-#![feature(use_extern_macros, proc_macro_expr)]\n+#![feature(proc_macro_expr)]\n \n extern crate attr_stmt_expr;\n use attr_stmt_expr::{expect_let, expect_print_stmt, expect_expr, expect_print_expr};"}, {"sha": "eaa64c6ba3692a2cc4d71351a764c096e75fd5e4", "filename": "src/test/compile-fail-fulldeps/proc-macro/issue-50493.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fissue-50493.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fissue-50493.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fissue-50493.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,8 +11,6 @@\n // aux-build:issue_50493.rs\n // ignore-stage1\n \n-#![feature(proc_macro)]\n-\n #[macro_use]\n extern crate issue_50493;\n "}, {"sha": "6e9d231ea99a4513468f702429d22510eac99489", "filename": "src/test/compile-fail-fulldeps/proc-macro/lints_in_proc_macros.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Flints_in_proc_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Flints_in_proc_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Flints_in_proc_macros.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // aux-build:bang_proc_macro2.rs\n // ignore-stage1\n \n-#![feature(use_extern_macros, proc_macro_non_items)]\n+#![feature(proc_macro_non_items)]\n #![allow(unused_macros)]\n \n extern crate bang_proc_macro2;"}, {"sha": "8640aa2387fd12c1336a6314e31d0fd9fc999388", "filename": "src/test/compile-fail-fulldeps/proc-macro/proc-macro-custom-attr-mutex.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fproc-macro-custom-attr-mutex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fproc-macro-custom-attr-mutex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fproc-macro-custom-attr-mutex.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // aux-build:attr_proc_macro.rs\n // ignore-tidy-linelength\n \n-#![feature(use_extern_macros, custom_attribute)]\n+#![feature(custom_attribute)]\n //~^ ERROR Cannot use `#![feature(use_extern_macros)]` and `#![feature(custom_attribute)] at the same time\n \n extern crate attr_proc_macro;"}, {"sha": "9a0171c2ae5ea205296d129bfae6d8c965c104fc", "filename": "src/test/compile-fail-fulldeps/proc-macro/proc-macro-gates.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fproc-macro-gates.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fproc-macro-gates.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fproc-macro-gates.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -16,7 +16,7 @@\n // gate-test-proc_macro_mod\n // gate-test-proc_macro_gen\n \n-#![feature(use_extern_macros, stmt_expr_attributes)]\n+#![feature(stmt_expr_attributes)]\n \n extern crate proc_macro_gates as foo;\n "}, {"sha": "dc182414a1ddcc196a6500d5d299f193c5d8c760", "filename": "src/test/compile-fail-fulldeps/proc-macro/proc-macro-gates2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fproc-macro-gates2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fproc-macro-gates2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail-fulldeps%2Fproc-macro%2Fproc-macro-gates2.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,7 +10,7 @@\n \n // aux-build:proc-macro-gates.rs\n \n-#![feature(use_extern_macros, stmt_expr_attributes)]\n+#![feature(stmt_expr_attributes)]\n \n extern crate proc_macro_gates as foo;\n "}, {"sha": "1281adce5c58e694e8f55ef274433317c41961bd", "filename": "src/test/compile-fail/macro-with-seps-err-msg.rs", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail%2Fmacro-with-seps-err-msg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail%2Fmacro-with-seps-err-msg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-with-seps-err-msg.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,10 +10,6 @@\n \n // gate-test-use_extern_macros\n \n-#![feature(proc_macro_path_invoc)]\n-\n fn main() {\n     globnar::brotz!(); //~ ERROR non-ident macro paths are experimental\n-    #[derive(foo::Bar)] struct T; //~ ERROR non-ident macro paths are experimental\n-    ::foo!(); //~ ERROR non-ident macro paths are experimental\n }"}, {"sha": "99c336c28cd29c6db14a37e3c37594cf9ad39635", "filename": "src/test/compile-fail/unknown-tool-name.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail%2Funknown-tool-name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fcompile-fail%2Funknown-tool-name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funknown-tool-name.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(use_extern_macros, proc_macro_path_invoc)]\n+#![feature(proc_macro_path_invoc)]\n \n #[foo::bar] //~ ERROR failed to resolve. Use of undeclared type or module `foo`\n fn main() {}"}, {"sha": "94c5b208a370799733b8416904bec1b8dcff0053", "filename": "src/test/run-pass-fulldeps/auxiliary/cond_plugin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fcond_plugin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fcond_plugin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fcond_plugin.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // no-prefer-dynamic\n \n #![crate_type = \"proc-macro\"]\n-#![feature(proc_macro, proc_macro_non_items)]\n+#![feature(proc_macro_non_items)]\n \n extern crate proc_macro;\n "}, {"sha": "b54543c73fbd21147e053ff0ffeb31a22fdc21aa", "filename": "src/test/run-pass-fulldeps/auxiliary/hello_macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fhello_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fhello_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fhello_macro.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // no-prefer-dynamic\n \n #![crate_type = \"proc-macro\"]\n-#![feature(use_extern_macros, proc_macro_non_items, proc_macro_quote)]\n+#![feature(proc_macro_non_items, proc_macro_quote)]\n \n extern crate proc_macro;\n "}, {"sha": "9faa7366ec5f19fba069c5db92945726f8487a1d", "filename": "src/test/run-pass-fulldeps/auxiliary/proc_macro_def.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fproc_macro_def.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fproc_macro_def.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fproc_macro_def.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // no-prefer-dynamic\n \n #![crate_type = \"proc-macro\"]\n-#![feature(proc_macro, proc_macro_non_items)]\n+#![feature(proc_macro_non_items)]\n \n extern crate proc_macro;\n "}, {"sha": "3eb7e8cc9a46dfbb2ff6d4dc6ea38dfc91158ca4", "filename": "src/test/run-pass-fulldeps/macro-quote-cond.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fmacro-quote-cond.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fmacro-quote-cond.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fmacro-quote-cond.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // aux-build:cond_plugin.rs\n // ignore-stage1\n \n-#![feature(use_extern_macros, proc_macro_non_items)]\n+#![feature(proc_macro_non_items)]\n \n extern crate cond_plugin;\n "}, {"sha": "1005a6bfc50c7fa00f29428bb52162bd25506df2", "filename": "src/test/run-pass-fulldeps/macro-quote-test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fmacro-quote-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fmacro-quote-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fmacro-quote-test.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -13,7 +13,7 @@\n // aux-build:hello_macro.rs\n // ignore-stage1\n \n-#![feature(use_extern_macros, proc_macro_non_items, proc_macro_gen)]\n+#![feature(proc_macro_non_items, proc_macro_gen)]\n \n extern crate hello_macro;\n "}, {"sha": "b5272e6608bbfd31d47d7ca7407d3ea94092f66c", "filename": "src/test/run-pass-fulldeps/proc-macro/attr-stmt-expr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fattr-stmt-expr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fattr-stmt-expr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fattr-stmt-expr.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // aux-build:attr-stmt-expr.rs\n // ignore-stage1\n \n-#![feature(use_extern_macros, stmt_expr_attributes, proc_macro_expr)]\n+#![feature(stmt_expr_attributes, proc_macro_expr)]\n \n extern crate attr_stmt_expr;\n use attr_stmt_expr::{expect_let, expect_print_stmt, expect_expr, expect_print_expr,"}, {"sha": "a84e029f9d87d22dc56dd9ce2f46f6625c67633c", "filename": "src/test/run-pass-fulldeps/proc-macro/auxiliary/count_compound_ops.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fauxiliary%2Fcount_compound_ops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fauxiliary%2Fcount_compound_ops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fauxiliary%2Fcount_compound_ops.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,7 +10,7 @@\n \n // no-prefer-dynamic\n \n-#![feature(proc_macro_non_items, proc_macro_quote, use_extern_macros)]\n+#![feature(proc_macro_non_items, proc_macro_quote)]\n #![crate_type = \"proc-macro\"]\n \n extern crate proc_macro;"}, {"sha": "43c1d5fcc8d4996a653e383322d17cde24771941", "filename": "src/test/run-pass-fulldeps/proc-macro/auxiliary/hygiene_example_codegen.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fauxiliary%2Fhygiene_example_codegen.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fauxiliary%2Fhygiene_example_codegen.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fauxiliary%2Fhygiene_example_codegen.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,7 +10,7 @@\n \n // no-prefer-dynamic\n \n-#![feature(use_extern_macros, proc_macro_quote, proc_macro_non_items)]\n+#![feature(proc_macro_quote, proc_macro_non_items)]\n #![crate_type = \"proc-macro\"]\n \n extern crate proc_macro as proc_macro_renamed; // This does not break `quote!`"}, {"sha": "955b6ab986d07b3575e819f1c6b7804f97a5af92", "filename": "src/test/run-pass-fulldeps/proc-macro/bang-macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fbang-macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fbang-macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fbang-macro.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // aux-build:bang-macro.rs\n // ignore-stage1\n \n-#![feature(use_extern_macros, proc_macro_non_items)]\n+#![feature(proc_macro_non_items)]\n \n extern crate bang_macro;\n use bang_macro::rewrite;"}, {"sha": "dfe97eb587cfb9f1cb6c60406419b880014cd51d", "filename": "src/test/run-pass-fulldeps/proc-macro/call-site.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fcall-site.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fcall-site.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fcall-site.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // aux-build:call-site.rs\n // ignore-stage1\n \n-#![feature(proc_macro_non_items, use_extern_macros)]\n+#![feature(proc_macro_non_items)]\n \n extern crate call_site;\n use call_site::*;"}, {"sha": "6601d66e586a3aa7e961ccdd47e0772dab59393e", "filename": "src/test/run-pass-fulldeps/proc-macro/count_compound_ops.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fcount_compound_ops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fcount_compound_ops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fcount_compound_ops.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // aux-build:count_compound_ops.rs\n // ignore-stage1\n \n-#![feature(use_extern_macros, proc_macro_non_items)]\n+#![feature(proc_macro_non_items)]\n \n extern crate count_compound_ops;\n use count_compound_ops::count_compound_ops;"}, {"sha": "4a7c8f3e8343baa79f95ecadde8255fe28df7233", "filename": "src/test/run-pass-fulldeps/proc-macro/derive-b.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fderive-b.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fderive-b.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fderive-b.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // aux-build:derive-b.rs\n // ignore-stage1\n \n-#![feature(use_extern_macros, proc_macro_path_invoc)]\n+#![feature(proc_macro_path_invoc)]\n \n extern crate derive_b;\n "}, {"sha": "579e8c337733af325147ecb3fbb7ff98e17de121", "filename": "src/test/run-pass-fulldeps/proc-macro/hygiene_example.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fhygiene_example.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fhygiene_example.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fhygiene_example.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -12,7 +12,7 @@\n // aux-build:hygiene_example.rs\n // ignore-stage1\n \n-#![feature(use_extern_macros, proc_macro_non_items)]\n+#![feature(proc_macro_non_items)]\n \n extern crate hygiene_example;\n use hygiene_example::hello;"}, {"sha": "bd76cc380544fc06121fd0275097d53c7781d1ab", "filename": "src/test/run-pass-fulldeps/proc-macro/macros-in-extern.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fmacros-in-extern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fmacros-in-extern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fproc-macro%2Fmacros-in-extern.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -12,7 +12,7 @@\n // ignore-stage1\n // ignore-wasm32\n \n-#![feature(use_extern_macros, macros_in_extern)]\n+#![feature(macros_in_extern)]\n \n extern crate test_macros;\n "}, {"sha": "c9d7b0423ec5929c643639a146809c2056066508", "filename": "src/test/run-pass-fulldeps/proc_macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Frun-pass-fulldeps%2Fproc_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fproc_macro.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -12,7 +12,7 @@\n // ignore-stage1\n // ignore-cross-compile\n \n-#![feature(use_extern_macros, proc_macro_non_items)]\n+#![feature(proc_macro_non_items)]\n \n extern crate proc_macro_def;\n "}, {"sha": "679cb7728680ddbf26eefe2887c77cd9f7191a09", "filename": "src/test/ui-fulldeps/auxiliary/attr_proc_macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fattr_proc_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fattr_proc_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fattr_proc_macro.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,7 +10,7 @@\n \n // force-host\n // no-prefer-dynamic\n-#![feature(proc_macro)]\n+\n #![crate_type = \"proc-macro\"]\n \n extern crate proc_macro;"}, {"sha": "6484725814a10b75581b8fa23a92e263dc695954", "filename": "src/test/ui-fulldeps/auxiliary/bang_proc_macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fbang_proc_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fbang_proc_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fbang_proc_macro.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,7 +10,7 @@\n \n // force-host\n // no-prefer-dynamic\n-#![feature(proc_macro)]\n+\n #![crate_type = \"proc-macro\"]\n \n extern crate proc_macro;"}, {"sha": "fc59a622bfab039898c83e4e901195cfc38e102e", "filename": "src/test/ui-fulldeps/auxiliary/lifetimes.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flifetimes.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,7 +10,6 @@\n \n // no-prefer-dynamic\n \n-#![feature(proc_macro)]\n #![crate_type = \"proc-macro\"]\n \n extern crate proc_macro;"}, {"sha": "6879848d269b0cb7d3e68e84102cb6e5b53fe716", "filename": "src/test/ui-fulldeps/lifetimes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Flifetimes.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,7 +10,7 @@\n \n // aux-build:lifetimes.rs\n \n-#![feature(use_extern_macros, proc_macro_non_items)]\n+#![feature(proc_macro_non_items)]\n \n extern crate lifetimes;\n "}, {"sha": "1ed8ef520273593334d11e649e1ed765876f1440", "filename": "src/test/ui-fulldeps/proc-macro/auxiliary/generate-mod.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fauxiliary%2Fgenerate-mod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fauxiliary%2Fgenerate-mod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fauxiliary%2Fgenerate-mod.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,6 @@\n // run-pass\n // no-prefer-dynamic\n \n-#![feature(proc_macro)]\n #![crate_type = \"proc-macro\"]\n \n extern crate proc_macro;"}, {"sha": "b0cccd8728bd1f3427d3acb7105237a025ed9ac6", "filename": "src/test/ui-fulldeps/proc-macro/generate-mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fgenerate-mod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fgenerate-mod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fgenerate-mod.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -12,7 +12,7 @@\n \n // aux-build:generate-mod.rs\n \n-#![feature(use_extern_macros, proc_macro_gen, proc_macro_path_invoc)]\n+#![feature(proc_macro_gen, proc_macro_path_invoc)]\n \n extern crate generate_mod;\n "}, {"sha": "8b940a0f40585a835334f28916eebd6d3526247d", "filename": "src/test/ui-fulldeps/proc-macro/invalid-attributes.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Finvalid-attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Finvalid-attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Finvalid-attributes.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,6 @@\n // no-prefer-dynamic\n \n #![crate_type = \"proc-macro\"]\n-#![feature(proc_macro)]\n \n extern crate proc_macro;\n "}, {"sha": "5fd87362db23b2cf8ac39e99dbc996b387abcf6d", "filename": "src/test/ui-fulldeps/proc-macro/invalid-attributes.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Finvalid-attributes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Finvalid-attributes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Finvalid-attributes.stderr?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -1,35 +1,35 @@\n error: `#[proc_macro]` attribute does not take any arguments\n-  --> $DIR/invalid-attributes.rs:20:1\n+  --> $DIR/invalid-attributes.rs:19:1\n    |\n LL | #[proc_macro = \"test\"] //~ ERROR: does not take any arguments\n    | ^^^^^^^^^^^^^^^^^^^^^^\n \n error: `#[proc_macro]` attribute does not take any arguments\n-  --> $DIR/invalid-attributes.rs:23:1\n+  --> $DIR/invalid-attributes.rs:22:1\n    |\n LL | #[proc_macro()] //~ ERROR: does not take any arguments\n    | ^^^^^^^^^^^^^^^\n \n error: `#[proc_macro]` attribute does not take any arguments\n-  --> $DIR/invalid-attributes.rs:26:1\n+  --> $DIR/invalid-attributes.rs:25:1\n    |\n LL | #[proc_macro(x)] //~ ERROR: does not take any arguments\n    | ^^^^^^^^^^^^^^^^\n \n error: `#[proc_macro_attribute]` attribute does not take any arguments\n-  --> $DIR/invalid-attributes.rs:29:1\n+  --> $DIR/invalid-attributes.rs:28:1\n    |\n LL | #[proc_macro_attribute = \"test\"] //~ ERROR: does not take any arguments\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: `#[proc_macro_attribute]` attribute does not take any arguments\n-  --> $DIR/invalid-attributes.rs:32:1\n+  --> $DIR/invalid-attributes.rs:31:1\n    |\n LL | #[proc_macro_attribute()] //~ ERROR: does not take any arguments\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: `#[proc_macro_attribute]` attribute does not take any arguments\n-  --> $DIR/invalid-attributes.rs:35:1\n+  --> $DIR/invalid-attributes.rs:34:1\n    |\n LL | #[proc_macro_attribute(x)] //~ ERROR: does not take any arguments\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^"}, {"sha": "e7bb05de88c8a3f2f6f2f2538407851cec955400", "filename": "src/test/ui-fulldeps/proc-macro/macro-namespace-reserved.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fmacro-namespace-reserved.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fmacro-namespace-reserved.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fmacro-namespace-reserved.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,7 +10,7 @@\n \n // no-prefer-dynamic\n \n-#![feature(proc_macro, decl_macro)]\n+#![feature(decl_macro)]\n #![crate_type = \"proc-macro\"]\n \n extern crate proc_macro;"}, {"sha": "2440488578814e89ce24021bf135fb85bd96afe7", "filename": "src/test/ui-fulldeps/proc-macro/non-root.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fnon-root.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fnon-root.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fnon-root.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,7 +10,6 @@\n \n // no-prefer-dynamic\n \n-#![feature(proc_macro)]\n #![crate_type = \"proc-macro\"]\n \n extern crate proc_macro;"}, {"sha": "23222a2b85145dfa3d482e6c6142a1667bfdaece", "filename": "src/test/ui-fulldeps/proc-macro/non-root.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fnon-root.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fnon-root.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fnon-root.stderr?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -1,5 +1,5 @@\n error: functions tagged with `#[proc_macro]` must currently reside in the root of the crate\n-  --> $DIR/non-root.rs:21:5\n+  --> $DIR/non-root.rs:20:5\n    |\n LL |     pub fn foo(arg: TokenStream) -> TokenStream { arg }\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"}, {"sha": "f6b0e90da001440838c59f06db17b8f5fa8bbc15", "filename": "src/test/ui-fulldeps/proc-macro/three-equals.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fthree-equals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fthree-equals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fproc-macro%2Fthree-equals.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -11,7 +11,7 @@\n // aux-build:three-equals.rs\n // ignore-stage1\n \n-#![feature(use_extern_macros, proc_macro_non_items)]\n+#![feature(proc_macro_non_items)]\n \n extern crate three_equals;\n "}, {"sha": "ed5907800e9de7367618d1f9d158e7c459aca6d4", "filename": "src/test/ui/imports/macros.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui%2Fimports%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb64672e0cfccb6d447fddd0ca3e74d0f1de542f/src%2Ftest%2Fui%2Fimports%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fmacros.rs?ref=cb64672e0cfccb6d447fddd0ca3e74d0f1de542f", "patch": "@@ -10,7 +10,7 @@\n \n // aux-build:two_macros.rs\n \n-#![feature(item_like_imports, use_extern_macros)]\n+#![feature(use_extern_macros)]\n \n extern crate two_macros; // two identity macros `m` and `n`\n "}]}