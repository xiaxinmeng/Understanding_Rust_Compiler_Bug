{"sha": "afd5cba38c6f1ccbd30ce732d8da5abdf5ed556f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFmZDVjYmEzOGM2ZjFjY2JkMzBjZTczMmQ4ZGE1YWJkZjVlZDU1NmY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-04-03T08:15:49Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-04-03T08:15:49Z"}, "message": "auto merge of #5692 : Aatch/rust/tuple-clone, r=thestinger\n\nThis implements the clone interface for tuples and adds a test to match. The implementation is only on tuples that have elements that are themselves clone-able. This should allow for `#[deriving(Clone)] on nominal types that contain tuples somewhere.", "tree": {"sha": "1722928c2b7fda138fd9f663daf402a036e17368", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1722928c2b7fda138fd9f663daf402a036e17368"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/afd5cba38c6f1ccbd30ce732d8da5abdf5ed556f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/afd5cba38c6f1ccbd30ce732d8da5abdf5ed556f", "html_url": "https://github.com/rust-lang/rust/commit/afd5cba38c6f1ccbd30ce732d8da5abdf5ed556f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/afd5cba38c6f1ccbd30ce732d8da5abdf5ed556f/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0cc903015b395c0d9eada3fe3376f2447cc835b6", "url": "https://api.github.com/repos/rust-lang/rust/commits/0cc903015b395c0d9eada3fe3376f2447cc835b6", "html_url": "https://github.com/rust-lang/rust/commit/0cc903015b395c0d9eada3fe3376f2447cc835b6"}, {"sha": "e2bffb79717f7622e97870c3194435b06e3e56bc", "url": "https://api.github.com/repos/rust-lang/rust/commits/e2bffb79717f7622e97870c3194435b06e3e56bc", "html_url": "https://github.com/rust-lang/rust/commit/e2bffb79717f7622e97870c3194435b06e3e56bc"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "35b8496f6c57e350d011da8528c70726de1a8468", "filename": "src/libcore/tuple.rs", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/afd5cba38c6f1ccbd30ce732d8da5abdf5ed556f/src%2Flibcore%2Ftuple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd5cba38c6f1ccbd30ce732d8da5abdf5ed556f/src%2Flibcore%2Ftuple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ftuple.rs?ref=afd5cba38c6f1ccbd30ce732d8da5abdf5ed556f", "patch": "@@ -10,6 +10,7 @@\n \n //! Operations on tuples\n \n+use clone::Clone;\n use kinds::Copy;\n use vec;\n \n@@ -46,6 +47,15 @@ impl<T:Copy,U:Copy> CopyableTuple<T, U> for (T, U) {\n \n }\n \n+impl<T:Clone,U:Clone> Clone for (T, U) {\n+    fn clone(&self) -> (T, U) {\n+        let (a, b) = match *self {\n+            (ref a, ref b) => (a, b)\n+        };\n+        (a.clone(), b.clone())\n+    }\n+}\n+\n pub trait ImmutableTuple<T, U> {\n     fn first_ref(&self) -> &'self T;\n     fn second_ref(&self) -> &'self U;\n@@ -252,3 +262,10 @@ fn test_tuple() {\n     assert!(('a', 2).swap() == (2, 'a'));\n }\n \n+#[test]\n+fn test_clone() {\n+    let a = (1, ~\"2\");\n+    let b = a.clone();\n+    assert!(a.first() == b.first());\n+    assert!(a.second() == b.second());\n+}"}]}