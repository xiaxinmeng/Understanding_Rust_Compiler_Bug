{"sha": "1fe0cf6f071979745b4da761edff49478c081f3e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFmZTBjZjZmMDcxOTc5NzQ1YjRkYTc2MWVkZmY0OTQ3OGMwODFmM2U=", "commit": {"author": {"name": "Sorin Davidoi", "email": "sorin.davidoi@protonmail.com", "date": "2019-01-25T19:27:07Z"}, "committer": {"name": "Sorin Davidoi", "email": "sorin.davidoi@protonmail.com", "date": "2019-01-25T20:53:44Z"}, "message": "chore(cargo/dependencies/cargo-metadata): Upgrade to 0.7.1\n\nCloses https://github.com/rust-lang/rust-clippy/issues/3692.", "tree": {"sha": "da6a77deb810c42eea715d089c7c975945eca4b6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/da6a77deb810c42eea715d089c7c975945eca4b6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1fe0cf6f071979745b4da761edff49478c081f3e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1fe0cf6f071979745b4da761edff49478c081f3e", "html_url": "https://github.com/rust-lang/rust/commit/1fe0cf6f071979745b4da761edff49478c081f3e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1fe0cf6f071979745b4da761edff49478c081f3e/comments", "author": {"login": "sorin-davidoi", "id": 2109702, "node_id": "MDQ6VXNlcjIxMDk3MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2109702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sorin-davidoi", "html_url": "https://github.com/sorin-davidoi", "followers_url": "https://api.github.com/users/sorin-davidoi/followers", "following_url": "https://api.github.com/users/sorin-davidoi/following{/other_user}", "gists_url": "https://api.github.com/users/sorin-davidoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sorin-davidoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sorin-davidoi/subscriptions", "organizations_url": "https://api.github.com/users/sorin-davidoi/orgs", "repos_url": "https://api.github.com/users/sorin-davidoi/repos", "events_url": "https://api.github.com/users/sorin-davidoi/events{/privacy}", "received_events_url": "https://api.github.com/users/sorin-davidoi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sorin-davidoi", "id": 2109702, "node_id": "MDQ6VXNlcjIxMDk3MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2109702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sorin-davidoi", "html_url": "https://github.com/sorin-davidoi", "followers_url": "https://api.github.com/users/sorin-davidoi/followers", "following_url": "https://api.github.com/users/sorin-davidoi/following{/other_user}", "gists_url": "https://api.github.com/users/sorin-davidoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sorin-davidoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sorin-davidoi/subscriptions", "organizations_url": "https://api.github.com/users/sorin-davidoi/orgs", "repos_url": "https://api.github.com/users/sorin-davidoi/repos", "events_url": "https://api.github.com/users/sorin-davidoi/events{/privacy}", "received_events_url": "https://api.github.com/users/sorin-davidoi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8a02512ab36741bcc5a83344d0519759491e6eae", "url": "https://api.github.com/repos/rust-lang/rust/commits/8a02512ab36741bcc5a83344d0519759491e6eae", "html_url": "https://github.com/rust-lang/rust/commit/8a02512ab36741bcc5a83344d0519759491e6eae"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "868f21c1a49860a662929a839eaabf9f1f6308e8", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1fe0cf6f071979745b4da761edff49478c081f3e/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/1fe0cf6f071979745b4da761edff49478c081f3e/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=1fe0cf6f071979745b4da761edff49478c081f3e", "patch": "@@ -47,7 +47,7 @@ rustc_tools_util = { version = \"0.1.1\", path = \"rustc_tools_util\"}\n \n [dev-dependencies]\n clippy_dev = { version = \"0.0.1\", path = \"clippy_dev\" }\n-cargo_metadata = \"0.6.2\"\n+cargo_metadata = \"0.7.1\"\n compiletest_rs = \"0.3.18\"\n lazy_static = \"1.0\"\n serde_derive = \"1.0\""}, {"sha": "592ad5cde1ce93a673ea19f5776b1d1669d7f774", "filename": "clippy_lints/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1fe0cf6f071979745b4da761edff49478c081f3e/clippy_lints%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/1fe0cf6f071979745b4da761edff49478c081f3e/clippy_lints%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2FCargo.toml?ref=1fe0cf6f071979745b4da761edff49478c081f3e", "patch": "@@ -17,7 +17,7 @@ keywords = [\"clippy\", \"lint\", \"plugin\"]\n edition = \"2018\"\n \n [dependencies]\n-cargo_metadata = \"0.6.2\"\n+cargo_metadata = \"0.7.1\"\n itertools = \"0.8\"\n lazy_static = \"1.0.2\"\n matches = \"0.1.7\""}, {"sha": "c60d10cd0092d61f689ce0dd5638620c63326aaf", "filename": "clippy_lints/src/cargo_common_metadata.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1fe0cf6f071979745b4da761edff49478c081f3e/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1fe0cf6f071979745b4da761edff49478c081f3e/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs?ref=1fe0cf6f071979745b4da761edff49478c081f3e", "patch": "@@ -66,7 +66,7 @@ impl LintPass for Pass {\n \n impl EarlyLintPass for Pass {\n     fn check_crate(&mut self, cx: &EarlyContext<'_>, _: &Crate) {\n-        let metadata = if let Ok(metadata) = cargo_metadata::metadata_deps(None, true) {\n+        let metadata = if let Ok(metadata) = cargo_metadata::MetadataCommand::new().no_deps().exec() {\n             metadata\n         } else {\n             warning(cx, \"could not read cargo metadata\");"}, {"sha": "6a042fa8c0a007f33bef910ed7a998fc6f70efbb", "filename": "clippy_lints/src/multiple_crate_versions.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1fe0cf6f071979745b4da761edff49478c081f3e/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1fe0cf6f071979745b4da761edff49478c081f3e/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs?ref=1fe0cf6f071979745b4da761edff49478c081f3e", "patch": "@@ -41,7 +41,7 @@ impl LintPass for Pass {\n \n impl EarlyLintPass for Pass {\n     fn check_crate(&mut self, cx: &EarlyContext<'_>, _: &Crate) {\n-        let metadata = if let Ok(metadata) = cargo_metadata::metadata_deps(None, true) {\n+        let metadata = if let Ok(metadata) = cargo_metadata::MetadataCommand::new().exec() {\n             metadata\n         } else {\n             span_lint(cx, MULTIPLE_CRATE_VERSIONS, DUMMY_SP, \"could not read cargo metadata\");"}, {"sha": "fb88b1371f7e26fd9d339200c9ca664d6cb51cf5", "filename": "clippy_lints/src/wildcard_dependencies.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1fe0cf6f071979745b4da761edff49478c081f3e/clippy_lints%2Fsrc%2Fwildcard_dependencies.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1fe0cf6f071979745b4da761edff49478c081f3e/clippy_lints%2Fsrc%2Fwildcard_dependencies.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fwildcard_dependencies.rs?ref=1fe0cf6f071979745b4da761edff49478c081f3e", "patch": "@@ -37,7 +37,7 @@ impl LintPass for Pass {\n \n impl EarlyLintPass for Pass {\n     fn check_crate(&mut self, cx: &EarlyContext<'_>, _: &Crate) {\n-        let metadata = if let Ok(metadata) = cargo_metadata::metadata(None) {\n+        let metadata = if let Ok(metadata) = cargo_metadata::MetadataCommand::new().no_deps().exec() {\n             metadata\n         } else {\n             span_lint(cx, WILDCARD_DEPENDENCIES, DUMMY_SP, \"could not read cargo metadata\");"}]}