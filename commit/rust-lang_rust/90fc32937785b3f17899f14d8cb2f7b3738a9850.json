{"sha": "90fc32937785b3f17899f14d8cb2f7b3738a9850", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkwZmMzMjkzNzc4NWIzZjE3ODk5ZjE0ZDhjYjJmN2IzNzM4YTk4NTA=", "commit": {"author": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2021-05-03T16:35:44Z"}, "committer": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2021-05-03T16:35:44Z"}, "message": "Index retrieval fix", "tree": {"sha": "bf08a9fb84231de75ca7cf494df3d6caebbcbe62", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bf08a9fb84231de75ca7cf494df3d6caebbcbe62"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/90fc32937785b3f17899f14d8cb2f7b3738a9850", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/90fc32937785b3f17899f14d8cb2f7b3738a9850", "html_url": "https://github.com/rust-lang/rust/commit/90fc32937785b3f17899f14d8cb2f7b3738a9850", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/90fc32937785b3f17899f14d8cb2f7b3738a9850/comments", "author": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3eab6ce2e3eef6c8dca1127b4c1375899bf13b8c", "url": "https://api.github.com/repos/rust-lang/rust/commits/3eab6ce2e3eef6c8dca1127b4c1375899bf13b8c", "html_url": "https://github.com/rust-lang/rust/commit/3eab6ce2e3eef6c8dca1127b4c1375899bf13b8c"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "2e0c58504c0afc580811e2a285408bbb782ec74a", "filename": "crates/ide_assists/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90fc32937785b3f17899f14d8cb2f7b3738a9850/crates%2Fide_assists%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/90fc32937785b3f17899f14d8cb2f7b3738a9850/crates%2Fide_assists%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2Fsrc%2Flib.rs?ref=90fc32937785b3f17899f14d8cb2f7b3738a9850", "patch": "@@ -102,7 +102,7 @@ pub enum AssistResolveStrategy {\n     None,\n     /// All assists should be resolved.\n     All,\n-    /// Only a certain assists should be resolved.\n+    /// Only a certain assist should be resolved.\n     Single(SingleResolve),\n }\n "}, {"sha": "0fd03bbaa721f19acb5898b9a1d7a526d7607ccc", "filename": "crates/rust-analyzer/src/handlers.rs", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/90fc32937785b3f17899f14d8cb2f7b3738a9850/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/90fc32937785b3f17899f14d8cb2f7b3738a9850/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs?ref=90fc32937785b3f17899f14d8cb2f7b3738a9850", "patch": "@@ -1076,7 +1076,17 @@ pub(crate) fn handle_code_action_resolve(\n         frange,\n     )?;\n \n-    let assist = &assists[params.index];\n+    let assist = match assists.get(params.index) {\n+        Some(assist) => assist,\n+        None => return Err(LspError::new(\n+            ErrorCode::InvalidParams as i32,\n+            format!(\n+                \"Failed to find the assist for index {} provided by the resolve request. Expected assist id: {:?}\",\n+                params.index, params.id,\n+            ),\n+        )\n+        .into())\n+    };\n     if assist.id.0 != params.id || assist.id.1 != assist_kind {\n         return Err(LspError::new(\n             ErrorCode::InvalidParams as i32,"}]}