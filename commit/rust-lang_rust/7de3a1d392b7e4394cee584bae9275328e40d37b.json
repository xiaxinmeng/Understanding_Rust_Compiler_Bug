{"sha": "7de3a1d392b7e4394cee584bae9275328e40d37b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdkZTNhMWQzOTJiN2U0Mzk0Y2VlNTg0YmFlOTI3NTMyOGU0MGQzN2I=", "commit": {"author": {"name": "Oliver Schneider", "email": "oli-obk@users.noreply.github.com", "date": "2018-04-27T20:09:52Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-04-27T20:09:52Z"}, "message": "Merge pull request #2699 from mati865/rustup\n\nrustup", "tree": {"sha": "9a93aa03edee4570cb2ff97c9082273902fd8cca", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9a93aa03edee4570cb2ff97c9082273902fd8cca"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7de3a1d392b7e4394cee584bae9275328e40d37b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJa44ORCRBK7hj4Ov3rIwAAdHIIAJ8N7bOGhuSqdPMEQJPZF44X\nx1V12oQcWoNQcgHTgFN3urjq33z/KOmyTBXmophCRTxM5SA4zIpYY/C2CuIc0N06\n4PHFq9ezFzzOSaGaF+LJmkDqWj/AGM8BlfESL59bxxuETOt1mFJUyoqr2VSX8RqE\nTWsipScXRRCdTg4E37d0ixK0mPKu504VmYf61n/MGETIifUaZgkjy83kEJI2DnxE\na4AeJ/I3UzRUtVe/XK0/ngK4fsn8enp8nkv0O3eGvFlrhQCEzYj0r24ZbonBVdkv\nAUJto/Uekix9/3kVsqbd0sCkXwCUF/XMXUZLXUTjDGRpk5AWdZZFXw9UUHvEpPI=\n=6vC5\n-----END PGP SIGNATURE-----\n", "payload": "tree 9a93aa03edee4570cb2ff97c9082273902fd8cca\nparent 3b6440212d1608b41456ea8d8695c42f6b149bae\nparent cc7d66aa9cae2fb9c97d534cb9244d98f5d67a0d\nauthor Oliver Schneider <oli-obk@users.noreply.github.com> 1524859792 +0200\ncommitter GitHub <noreply@github.com> 1524859792 +0200\n\nMerge pull request #2699 from mati865/rustup\n\nrustup"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7de3a1d392b7e4394cee584bae9275328e40d37b", "html_url": "https://github.com/rust-lang/rust/commit/7de3a1d392b7e4394cee584bae9275328e40d37b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7de3a1d392b7e4394cee584bae9275328e40d37b/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3b6440212d1608b41456ea8d8695c42f6b149bae", "url": "https://api.github.com/repos/rust-lang/rust/commits/3b6440212d1608b41456ea8d8695c42f6b149bae", "html_url": "https://github.com/rust-lang/rust/commit/3b6440212d1608b41456ea8d8695c42f6b149bae"}, {"sha": "cc7d66aa9cae2fb9c97d534cb9244d98f5d67a0d", "url": "https://api.github.com/repos/rust-lang/rust/commits/cc7d66aa9cae2fb9c97d534cb9244d98f5d67a0d", "html_url": "https://github.com/rust-lang/rust/commit/cc7d66aa9cae2fb9c97d534cb9244d98f5d67a0d"}], "stats": {"total": 116, "additions": 61, "deletions": 55}, "files": [{"sha": "650c2a9d8936dd0d316b04d0eb64c9098edfade6", "filename": "CHANGELOG.md", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7de3a1d392b7e4394cee584bae9275328e40d37b/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/7de3a1d392b7e4394cee584bae9275328e40d37b/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=7de3a1d392b7e4394cee584bae9275328e40d37b", "patch": "@@ -615,6 +615,7 @@ All notable changes to this project will be documented in this file.\n [`eq_op`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#eq_op\n [`erasing_op`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#erasing_op\n [`eval_order_dependence`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#eval_order_dependence\n+[`excessive_precision`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#excessive_precision\n [`expl_impl_clone_on_copy`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#expl_impl_clone_on_copy\n [`explicit_counter_loop`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#explicit_counter_loop\n [`explicit_into_iter_loop`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#explicit_into_iter_loop\n@@ -644,6 +645,7 @@ All notable changes to this project will be documented in this file.\n [`inconsistent_digit_grouping`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#inconsistent_digit_grouping\n [`indexing_slicing`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#indexing_slicing\n [`ineffective_bit_mask`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#ineffective_bit_mask\n+[`infallible_destructuring_match`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#infallible_destructuring_match\n [`infinite_iter`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#infinite_iter\n [`inline_always`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#inline_always\n [`inline_fn_without_body`]: https://rust-lang-nursery.github.io/rust-clippy/master/index.html#inline_fn_without_body"}, {"sha": "208aa550882ea867072daa8809861cd0ee6918f9", "filename": "README.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7de3a1d392b7e4394cee584bae9275328e40d37b/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/7de3a1d392b7e4394cee584bae9275328e40d37b/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=7de3a1d392b7e4394cee584bae9275328e40d37b", "patch": "@@ -7,7 +7,7 @@\n \n A collection of lints to catch common mistakes and improve your [Rust](https://github.com/rust-lang/rust) code.\n \n-[There are 255 lints included in this crate!](https://rust-lang-nursery.github.io/rust-clippy/master/index.html)\n+[There are 257 lints included in this crate!](https://rust-lang-nursery.github.io/rust-clippy/master/index.html)\n \n We have a bunch of lint categories to allow you to choose how much clippy is supposed to ~~annoy~~ help you:\n "}, {"sha": "83c9c0f1d1a859d49578fdcc908a55eb25cca580", "filename": "clippy_lints/src/functions.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7de3a1d392b7e4394cee584bae9275328e40d37b/clippy_lints%2Fsrc%2Ffunctions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7de3a1d392b7e4394cee584bae9275328e40d37b/clippy_lints%2Fsrc%2Ffunctions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffunctions.rs?ref=7de3a1d392b7e4394cee584bae9275328e40d37b", "patch": "@@ -5,7 +5,7 @@ use rustc::ty;\n use rustc::hir::def::Def;\n use std::collections::HashSet;\n use syntax::ast;\n-use syntax::abi::Abi;\n+use rustc_target::spec::abi::Abi;\n use syntax::codemap::Span;\n use utils::{iter_input_pats, span_lint, type_is_unsafe_function};\n "}, {"sha": "a952f5081f4c4723aee1eb6574d6246d3f74d5b5", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7de3a1d392b7e4394cee584bae9275328e40d37b/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7de3a1d392b7e4394cee584bae9275328e40d37b/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=7de3a1d392b7e4394cee584bae9275328e40d37b", "patch": "@@ -19,6 +19,7 @@\n #[macro_use]\n extern crate rustc;\n extern crate rustc_typeck;\n+extern crate rustc_target;\n extern crate syntax;\n extern crate syntax_pos;\n \n@@ -516,6 +517,7 @@ pub fn register_plugins(reg: &mut rustc_plugin::Registry) {\n         eta_reduction::REDUNDANT_CLOSURE,\n         eval_order_dependence::DIVERGING_SUB_EXPRESSION,\n         eval_order_dependence::EVAL_ORDER_DEPENDENCE,\n+        excessive_precision::EXCESSIVE_PRECISION,\n         explicit_write::EXPLICIT_WRITE,\n         format::USELESS_FORMAT,\n         formatting::POSSIBLE_MISSING_COMMA,\n@@ -692,6 +694,7 @@ pub fn register_plugins(reg: &mut rustc_plugin::Registry) {\n         enum_variants::MODULE_INCEPTION,\n         eq_op::OP_REF,\n         eta_reduction::REDUNDANT_CLOSURE,\n+        excessive_precision::EXCESSIVE_PRECISION,\n         formatting::SUSPICIOUS_ASSIGNMENT_FORMATTING,\n         formatting::SUSPICIOUS_ELSE_FORMATTING,\n         if_let_redundant_pattern_matching::IF_LET_REDUNDANT_PATTERN_MATCHING,"}, {"sha": "944f20fe99d523b145b3873a347872ca2f6efd2d", "filename": "clippy_lints/src/needless_pass_by_value.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7de3a1d392b7e4394cee584bae9275328e40d37b/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7de3a1d392b7e4394cee584bae9275328e40d37b/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs?ref=7de3a1d392b7e4394cee584bae9275328e40d37b", "patch": "@@ -6,7 +6,7 @@ use rustc::ty::{self, RegionKind, TypeFoldable};\n use rustc::traits;\n use rustc::middle::expr_use_visitor as euv;\n use rustc::middle::mem_categorization as mc;\n-use syntax::abi::Abi;\n+use rustc_target::spec::abi::Abi;\n use syntax::ast::NodeId;\n use syntax_pos::Span;\n use syntax::errors::DiagnosticBuilder;"}, {"sha": "39df369806491dc9c2ee0980eb6ce36e3f6e8989", "filename": "clippy_lints/src/utils/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7de3a1d392b7e4394cee584bae9275328e40d37b/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7de3a1d392b7e4394cee584bae9275328e40d37b/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fmod.rs?ref=7de3a1d392b7e4394cee584bae9275328e40d37b", "patch": "@@ -8,7 +8,7 @@ use rustc::hir::map::Node;\n use rustc::lint::{LateContext, Level, Lint, LintContext};\n use rustc::session::Session;\n use rustc::traits;\n-use rustc::ty::{self, Ty, TyCtxt, layout};\n+use rustc::ty::{self, Ty, TyCtxt, layout::{self, IntegerExt}};\n use rustc_errors;\n use std::borrow::Cow;\n use std::env;"}, {"sha": "9f88de62677f944d1d964cb38ed502ef9b286644", "filename": "mini-macro/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7de3a1d392b7e4394cee584bae9275328e40d37b/mini-macro%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7de3a1d392b7e4394cee584bae9275328e40d37b/mini-macro%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mini-macro%2Fsrc%2Flib.rs?ref=7de3a1d392b7e4394cee584bae9275328e40d37b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(proc_macro)]\n+#![feature(proc_macro, proc_macro_non_items)]\n extern crate proc_macro;\n \n use proc_macro::{TokenStream, quote};"}, {"sha": "6f3d7a3ff2ba83fdc945970c04e1232147fe0889", "filename": "tests/ui/infallible_destructuring_match.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7de3a1d392b7e4394cee584bae9275328e40d37b/tests%2Fui%2Finfallible_destructuring_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7de3a1d392b7e4394cee584bae9275328e40d37b/tests%2Fui%2Finfallible_destructuring_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finfallible_destructuring_match.rs?ref=7de3a1d392b7e4394cee584bae9275328e40d37b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(exhaustive_patterns)]\n+#![feature(exhaustive_patterns, never_type)]\n #![allow(let_and_return)]\n \n enum SingleVariantEnum {"}, {"sha": "dd163439d7843f18f62d24c3216b719b91992e38", "filename": "tests/ui/result_map_unit_fn.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7de3a1d392b7e4394cee584bae9275328e40d37b/tests%2Fui%2Fresult_map_unit_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7de3a1d392b7e4394cee584bae9275328e40d37b/tests%2Fui%2Fresult_map_unit_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fresult_map_unit_fn.rs?ref=7de3a1d392b7e4394cee584bae9275328e40d37b", "patch": "@@ -1,3 +1,4 @@\n+#![feature(never_type)]\n #![warn(result_map_unit_fn)]\n #![allow(unused)]\n "}, {"sha": "9ec24a7e97b8fe7221e3e04833f10a2af0b94661", "filename": "tests/ui/result_map_unit_fn.stderr", "status": "modified", "additions": 49, "deletions": 49, "changes": 98, "blob_url": "https://github.com/rust-lang/rust/blob/7de3a1d392b7e4394cee584bae9275328e40d37b/tests%2Fui%2Fresult_map_unit_fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7de3a1d392b7e4394cee584bae9275328e40d37b/tests%2Fui%2Fresult_map_unit_fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fresult_map_unit_fn.stderr?ref=7de3a1d392b7e4394cee584bae9275328e40d37b", "patch": "@@ -1,191 +1,191 @@\n error: called `map(f)` on an Result value where `f` is a unit function\n-  --> $DIR/result_map_unit_fn.rs:32:5\n+  --> $DIR/result_map_unit_fn.rs:33:5\n    |\n-32 |     x.field.map(do_nothing);\n+33 |     x.field.map(do_nothing);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(x_field) = x.field { do_nothing(...) }`\n    |\n    = note: `-D result-map-unit-fn` implied by `-D warnings`\n \n error: called `map(f)` on an Result value where `f` is a unit function\n-  --> $DIR/result_map_unit_fn.rs:34:5\n+  --> $DIR/result_map_unit_fn.rs:35:5\n    |\n-34 |     x.field.map(do_nothing);\n+35 |     x.field.map(do_nothing);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(x_field) = x.field { do_nothing(...) }`\n \n error: called `map(f)` on an Result value where `f` is a unit function\n-  --> $DIR/result_map_unit_fn.rs:36:5\n+  --> $DIR/result_map_unit_fn.rs:37:5\n    |\n-36 |     x.field.map(diverge);\n+37 |     x.field.map(diverge);\n    |     ^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(x_field) = x.field { diverge(...) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:42:5\n+  --> $DIR/result_map_unit_fn.rs:43:5\n    |\n-42 |     x.field.map(|value| x.do_result_nothing(value + captured));\n+43 |     x.field.map(|value| x.do_result_nothing(value + captured));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { x.do_result_nothing(value + captured) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:44:5\n+  --> $DIR/result_map_unit_fn.rs:45:5\n    |\n-44 |     x.field.map(|value| { x.do_result_plus_one(value + captured); });\n+45 |     x.field.map(|value| { x.do_result_plus_one(value + captured); });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { x.do_result_plus_one(value + captured); }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:47:5\n+  --> $DIR/result_map_unit_fn.rs:48:5\n    |\n-47 |     x.field.map(|value| do_nothing(value + captured));\n+48 |     x.field.map(|value| do_nothing(value + captured));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { do_nothing(value + captured) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:49:5\n+  --> $DIR/result_map_unit_fn.rs:50:5\n    |\n-49 |     x.field.map(|value| { do_nothing(value + captured) });\n+50 |     x.field.map(|value| { do_nothing(value + captured) });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { do_nothing(value + captured) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:51:5\n+  --> $DIR/result_map_unit_fn.rs:52:5\n    |\n-51 |     x.field.map(|value| { do_nothing(value + captured); });\n+52 |     x.field.map(|value| { do_nothing(value + captured); });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { do_nothing(value + captured); }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:53:5\n+  --> $DIR/result_map_unit_fn.rs:54:5\n    |\n-53 |     x.field.map(|value| { { do_nothing(value + captured); } });\n+54 |     x.field.map(|value| { { do_nothing(value + captured); } });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { do_nothing(value + captured); }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:56:5\n+  --> $DIR/result_map_unit_fn.rs:57:5\n    |\n-56 |     x.field.map(|value| diverge(value + captured));\n+57 |     x.field.map(|value| diverge(value + captured));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { diverge(value + captured) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:58:5\n+  --> $DIR/result_map_unit_fn.rs:59:5\n    |\n-58 |     x.field.map(|value| { diverge(value + captured) });\n+59 |     x.field.map(|value| { diverge(value + captured) });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { diverge(value + captured) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:60:5\n+  --> $DIR/result_map_unit_fn.rs:61:5\n    |\n-60 |     x.field.map(|value| { diverge(value + captured); });\n+61 |     x.field.map(|value| { diverge(value + captured); });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { diverge(value + captured); }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:62:5\n+  --> $DIR/result_map_unit_fn.rs:63:5\n    |\n-62 |     x.field.map(|value| { { diverge(value + captured); } });\n+63 |     x.field.map(|value| { { diverge(value + captured); } });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { diverge(value + captured); }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:67:5\n+  --> $DIR/result_map_unit_fn.rs:68:5\n    |\n-67 |     x.field.map(|value| { let y = plus_one(value + captured); });\n+68 |     x.field.map(|value| { let y = plus_one(value + captured); });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { let y = plus_one(value + captured); }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:69:5\n+  --> $DIR/result_map_unit_fn.rs:70:5\n    |\n-69 |     x.field.map(|value| { plus_one(value + captured); });\n+70 |     x.field.map(|value| { plus_one(value + captured); });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { plus_one(value + captured); }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:71:5\n+  --> $DIR/result_map_unit_fn.rs:72:5\n    |\n-71 |     x.field.map(|value| { { plus_one(value + captured); } });\n+72 |     x.field.map(|value| { { plus_one(value + captured); } });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { plus_one(value + captured); }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:74:5\n+  --> $DIR/result_map_unit_fn.rs:75:5\n    |\n-74 |     x.field.map(|ref value| { do_nothing(value + captured) });\n+75 |     x.field.map(|ref value| { do_nothing(value + captured) });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(ref value) = x.field { do_nothing(value + captured) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:77:5\n+  --> $DIR/result_map_unit_fn.rs:78:5\n    |\n-77 |     x.field.map(|value| { do_nothing(value); do_nothing(value) });\n+78 |     x.field.map(|value| { do_nothing(value); do_nothing(value) });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { ... }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:79:5\n+  --> $DIR/result_map_unit_fn.rs:80:5\n    |\n-79 |     x.field.map(|value| if value > 0 { do_nothing(value); do_nothing(value) });\n+80 |     x.field.map(|value| if value > 0 { do_nothing(value); do_nothing(value) });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { ... }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:83:5\n+  --> $DIR/result_map_unit_fn.rs:84:5\n    |\n-83 |        x.field.map(|value| {\n+84 |        x.field.map(|value| {\n    |   _____^\n    |  |_____|\n    | ||\n-84 | ||         do_nothing(value);\n-85 | ||         do_nothing(value)\n-86 | ||     });\n+85 | ||         do_nothing(value);\n+86 | ||         do_nothing(value)\n+87 | ||     });\n    | ||______^- help: try this: `if let Ok(value) = x.field { ... }`\n    | |_______|\n    | \n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:87:5\n+  --> $DIR/result_map_unit_fn.rs:88:5\n    |\n-87 |     x.field.map(|value| { do_nothing(value); do_nothing(value); });\n+88 |     x.field.map(|value| { do_nothing(value); do_nothing(value); });\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { ... }`\n \n error: called `map(f)` on an Result value where `f` is a unit function\n-  --> $DIR/result_map_unit_fn.rs:91:5\n+  --> $DIR/result_map_unit_fn.rs:92:5\n    |\n-91 |     \"12\".parse::<i32>().map(diverge);\n+92 |     \"12\".parse::<i32>().map(diverge);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(_) = \"12\".parse::<i32>() { diverge(...) }`\n \n error: called `map(f)` on an Result value where `f` is a unit function\n-  --> $DIR/result_map_unit_fn.rs:97:5\n+  --> $DIR/result_map_unit_fn.rs:98:5\n    |\n-97 |     y.map(do_nothing);\n+98 |     y.map(do_nothing);\n    |     ^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(_y) = y { do_nothing(...) }`"}]}