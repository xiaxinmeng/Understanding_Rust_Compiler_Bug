{"sha": "cf0c4cd7d2918205c13df38c4a62f93e1c72c1ac", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNmMGM0Y2Q3ZDI5MTgyMDVjMTNkZjM4YzRhNjJmOTNlMWM3MmMxYWM=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-04-01T05:49:11Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-04-01T06:05:04Z"}, "message": "rt: Begin running tidy on C++ code again. Oops", "tree": {"sha": "93a399c84277a986611e80b21f160fbf82919ed2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/93a399c84277a986611e80b21f160fbf82919ed2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cf0c4cd7d2918205c13df38c4a62f93e1c72c1ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cf0c4cd7d2918205c13df38c4a62f93e1c72c1ac", "html_url": "https://github.com/rust-lang/rust/commit/cf0c4cd7d2918205c13df38c4a62f93e1c72c1ac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cf0c4cd7d2918205c13df38c4a62f93e1c72c1ac/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "620b4d4946dbaf41ec8c0c7f9ba5c5d9810db89b", "url": "https://api.github.com/repos/rust-lang/rust/commits/620b4d4946dbaf41ec8c0c7f9ba5c5d9810db89b", "html_url": "https://github.com/rust-lang/rust/commit/620b4d4946dbaf41ec8c0c7f9ba5c5d9810db89b"}], "stats": {"total": 27, "additions": 24, "deletions": 3}, "files": [{"sha": "dc91588776d1c31395a9c8b73301878693be50b9", "filename": "mk/tests.mk", "status": "modified", "additions": 24, "deletions": 3, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/cf0c4cd7d2918205c13df38c4a62f93e1c72c1ac/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/cf0c4cd7d2918205c13df38c4a62f93e1c72c1ac/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=cf0c4cd7d2918205c13df38c4a62f93e1c72c1ac", "patch": "@@ -74,13 +74,34 @@ check-full: tidy all check-stage1 check-stage2 check-stage3 \\\n ifdef CFG_NOTIDY\n tidy:\n else\n+\n+ALL_CS := $(wildcard $(S)src/rt/*.cpp \\\n+                     $(S)src/rt/*/*.cpp \\\n+                     $(S)src/rt/*/*/*.cpp \\\n+                     $(S)srcrustllvm/*.cpp)\n+ALL_CS := $(filter-out $(S)src/rt/bigint/bigint_ext.cpp \\\n+                       $(S)src/rt/bigint/bigint_int.cpp \\\n+\t,$(ALL_CS))\n+ALL_HS := $(wildcard $(S)src/rt/*.h \\\n+                     $(S)src/rt/*/*.h \\\n+                     $(S)src/rt/*/*/*.h \\\n+                     $(S)srcrustllvm/*.h)\n+ALL_HS := $(filter-out $(S)src/rt/vg/valgrind.h \\\n+                       $(S)src/rt/vg/memcheck.h \\\n+                       $(S)src/rt/uthash/uthash.h \\\n+                       $(S)src/rt/uthash/utlist.h \\\n+                       $(S)src/rt/msvc/typeof.h \\\n+                       $(S)src/rt/msvc/stdint.h \\\n+                       $(S)src/rt/msvc/inttypes.h \\\n+                       $(S)src/rt/bigint/bigint.h \\\n+\t,$(ALL_HS))\n+\n tidy:\n \t\t@$(call E, check: formatting)\n \t\t$(Q)echo \\\n-\t  \t  $(addprefix $(S)src/, $(RUSTLLVM_LIB_CS) $(RUSTLLVM_OBJS_CS) \\\n-\t    \t  $(RUSTLLVM_HDR) \\\n-                $(RUNTIME_CS) $(RUNTIME_HDR) $(RUNTIME_S)) \\\n               $(wildcard $(S)src/etc/*.py)  \\\n+              $(ALL_CS) \\\n+              $(ALL_HS) \\\n               $(COMPILER_CRATE) \\\n               $(COMPILER_INPUTS) \\\n               $(CORELIB_CRATE) \\"}]}