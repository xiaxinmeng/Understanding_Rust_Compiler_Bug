{"sha": "e13390a199810079a2b67891f6bb29b15bcf85c8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUxMzM5MGExOTk4MTAwNzlhMmI2Nzg5MWY2YmIyOWIxNWJjZjg1Yzg=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-08-01T18:57:05Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-08-02T17:39:13Z"}, "message": "Pretty-print test the rfail tests. Issue #789", "tree": {"sha": "a29566209024f9d280be04e4e9fd85a6ee1adff2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a29566209024f9d280be04e4e9fd85a6ee1adff2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e13390a199810079a2b67891f6bb29b15bcf85c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e13390a199810079a2b67891f6bb29b15bcf85c8", "html_url": "https://github.com/rust-lang/rust/commit/e13390a199810079a2b67891f6bb29b15bcf85c8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e13390a199810079a2b67891f6bb29b15bcf85c8/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0a6e3362c6d8a6c7c81eb42aaae1ea374c58d464", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a6e3362c6d8a6c7c81eb42aaae1ea374c58d464", "html_url": "https://github.com/rust-lang/rust/commit/0a6e3362c6d8a6c7c81eb42aaae1ea374c58d464"}], "stats": {"total": 35, "additions": 28, "deletions": 7}, "files": [{"sha": "8df9c4b69958f3761d5e8cb540438cc0a5e15211", "filename": "mk/tests.mk", "status": "modified", "additions": 26, "deletions": 7, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/e13390a199810079a2b67891f6bb29b15bcf85c8/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/e13390a199810079a2b67891f6bb29b15bcf85c8/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=e13390a199810079a2b67891f6bb29b15bcf85c8", "patch": "@@ -150,6 +150,10 @@ check-stage$(2)-bench: test/bench.stage$(2).out \\\n \n check-stage$(2)-pretty: test/pretty.stage$(2).out \\\n \n+check-stage$(2)-pretty-rpass: test/pretty-rpass.stage$(2).out \\\n+\n+check-stage$(2)-pretty-rfail: test/pretty-rfail.stage$(2).out \\\n+\n CTEST_COMMON_ARGS$(2) := --compile-lib-path stage$(2) \\\n                          --run-lib-path stage$(2)/lib \\\n                          --rustc-path stage$(2)/rustc$$(X) \\\n@@ -180,10 +184,15 @@ BENCH_ARGS$(2) := $$(CTEST_COMMON_ARGS$(2)) \\\n                   --mode run-pass \\\n                   $$(CTEST_RUNTOOL) \\\n \n-PRETTY_ARGS$(2) := $$(CTEST_COMMON_ARGS$(2)) \\\n-                   --src-base $$(S)src/test/run-pass/ \\\n-                   --build-base test/run-pass/ \\\n-                   --mode pretty \\\n+PRETTY_RPASS_ARGS$(2) := $$(CTEST_COMMON_ARGS$(2)) \\\n+                         --src-base $$(S)src/test/run-pass/ \\\n+                         --build-base test/run-pass/ \\\n+                         --mode pretty \\\n+\n+PRETTY_RFAIL_ARGS$(2) := $$(CTEST_COMMON_ARGS$(2)) \\\n+                         --src-base $$(S)src/test/run-fail/ \\\n+                         --build-base test/run-fail/ \\\n+                         --mode pretty \\\n \n test/compiletest.stage$(2)$$(X): $$(COMPILETEST_CRATE) \\\n                                  $$(COMPILETEST_INPUTS) \\\n@@ -215,10 +224,20 @@ test/bench.stage$(2).out.tmp: test/compiletest.stage$(2)$$(X) \\\n \t$$(Q)$$(call CFG_RUN_CTEST,$(2),$$<) $$(BENCH_ARGS$(2))\n \t$$(Q)touch $$@\n \n-test/pretty.stage$(2).out.tmp: test/compiletest.stage$(2)$$(X) \\\n-                            $$(RPASS_TESTS)\n+test/pretty-rpass.stage$(2).out.tmp: test/compiletest.stage$(2)$$(X) \\\n+                                     $$(RPASS_TESTS)\n+\t@$$(call E, run: $$<)\n+\t$$(Q)$$(call CFG_RUN_CTEST,$(2),$$<) $$(PRETTY_RPASS_ARGS$(2))\n+\t$$(Q)touch $$@\n+\n+test/pretty-rfail.stage$(2).out.tmp: test/compiletest.stage$(2)$$(X) \\\n+                                     $$(RFAIL_TESTS)\n \t@$$(call E, run: $$<)\n-\t$$(Q)$$(call CFG_RUN_CTEST,$(2),$$<) $$(PRETTY_ARGS$(2))\n+\t$$(Q)$$(call CFG_RUN_CTEST,$(2),$$<) $$(PRETTY_RFAIL_ARGS$(2))\n+\t$$(Q)touch $$@\n+\n+test/pretty.stage$(2).out.tmp: test/pretty-rpass.stage$(2).out.tmp \\\n+                               test/pretty-rfail.stage$(2).out.tmp\n \t$$(Q)touch $$@\n \n endef"}, {"sha": "f64515d24c60207c7ab10f9550d2ef48aafbeb90", "filename": "src/test/run-fail/fmt-fail.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e13390a199810079a2b67891f6bb29b15bcf85c8/src%2Ftest%2Frun-fail%2Ffmt-fail.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e13390a199810079a2b67891f6bb29b15bcf85c8/src%2Ftest%2Frun-fail%2Ffmt-fail.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Ffmt-fail.rs?ref=e13390a199810079a2b67891f6bb29b15bcf85c8", "patch": "@@ -1,4 +1,5 @@\n // xfail-stage0\n+// xfail-pretty\n // error-pattern:meh\n use std;\n import std::str;"}, {"sha": "ca8dec6c0c92c47cad84345366717bf7ec3587ee", "filename": "src/test/run-fail/fn-constraint-claim.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e13390a199810079a2b67891f6bb29b15bcf85c8/src%2Ftest%2Frun-fail%2Ffn-constraint-claim.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e13390a199810079a2b67891f6bb29b15bcf85c8/src%2Ftest%2Frun-fail%2Ffn-constraint-claim.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Ffn-constraint-claim.rs?ref=e13390a199810079a2b67891f6bb29b15bcf85c8", "patch": "@@ -1,5 +1,6 @@\n // xfail-stage0\n // xfail-stage1\n+// xfail-pretty\n // error-pattern:quux\n use std;\n import std::str::*;"}]}