{"sha": "b711723d415bdadb3b1a6cc2458f05480c06b49b", "node_id": "C_kwDOAAsO6NoAKGI3MTE3MjNkNDE1YmRhZGIzYjFhNmNjMjQ1OGYwNTQ4MGMwNmI0OWI", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2021-12-08T21:51:39Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-04-29T15:46:57Z"}, "message": "Bless tests.", "tree": {"sha": "9512323e807014fe67d16f038fdac3fae0a7c51d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9512323e807014fe67d16f038fdac3fae0a7c51d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b711723d415bdadb3b1a6cc2458f05480c06b49b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b711723d415bdadb3b1a6cc2458f05480c06b49b", "html_url": "https://github.com/rust-lang/rust/commit/b711723d415bdadb3b1a6cc2458f05480c06b49b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b711723d415bdadb3b1a6cc2458f05480c06b49b/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a87ab480999e21de80b12ad6de6a777c70bebaab", "url": "https://api.github.com/repos/rust-lang/rust/commits/a87ab480999e21de80b12ad6de6a777c70bebaab", "html_url": "https://github.com/rust-lang/rust/commit/a87ab480999e21de80b12ad6de6a777c70bebaab"}], "stats": {"total": 28, "additions": 19, "deletions": 9}, "files": [{"sha": "43a5df117fdc740fbcf9fb9f84e9e2f10b6c56d9", "filename": "src/test/ui/const-generics/issues/issue-56445-1.min.stderr", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/b711723d415bdadb3b1a6cc2458f05480c06b49b/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-56445-1.min.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b711723d415bdadb3b1a6cc2458f05480c06b49b/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-56445-1.min.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-56445-1.min.stderr?ref=b711723d415bdadb3b1a6cc2458f05480c06b49b", "patch": "@@ -6,6 +6,15 @@ LL | struct Bug<'a, const S: &'a str>(PhantomData<&'a ()>);\n    |\n    = note: for more information, see issue #74052 <https://github.com/rust-lang/rust/issues/74052>\n \n-error: aborting due to previous error\n+error: `&'static str` is forbidden as the type of a const generic parameter\n+  --> $DIR/issue-56445-1.rs:9:25\n+   |\n+LL | struct Bug<'a, const S: &'a str>(PhantomData<&'a ()>);\n+   |                         ^^^^^^^\n+   |\n+   = note: the only supported types are integers, `bool` and `char`\n+   = help: more complex types are supported with `#![feature(adt_const_params)]`\n+\n+error: aborting due to 2 previous errors\n \n For more information about this error, try `rustc --explain E0771`."}, {"sha": "13eb2ea9f69d508ae164189ecf09b0d4380322fe", "filename": "src/test/ui/const-generics/issues/issue-56445-1.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b711723d415bdadb3b1a6cc2458f05480c06b49b/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-56445-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b711723d415bdadb3b1a6cc2458f05480c06b49b/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-56445-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-56445-1.rs?ref=b711723d415bdadb3b1a6cc2458f05480c06b49b", "patch": "@@ -8,5 +8,6 @@ use std::marker::PhantomData;\n \n struct Bug<'a, const S: &'a str>(PhantomData<&'a ()>);\n //~^ ERROR: use of non-static lifetime `'a` in const generic\n+//[min]~| ERROR: `&'static str` is forbidden as the type of a const generic parameter\n \n impl Bug<'_, \"\"> {}"}, {"sha": "3ab727f5f69dacfc9e3ab2ca60901c91a64edb6f", "filename": "src/test/ui/error-codes/E0771.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/b711723d415bdadb3b1a6cc2458f05480c06b49b/src%2Ftest%2Fui%2Ferror-codes%2FE0771.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b711723d415bdadb3b1a6cc2458f05480c06b49b/src%2Ftest%2Fui%2Ferror-codes%2FE0771.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0771.stderr?ref=b711723d415bdadb3b1a6cc2458f05480c06b49b", "patch": "@@ -1,3 +1,11 @@\n+error[E0771]: use of non-static lifetime `'a` in const generic\n+  --> $DIR/E0771.rs:4:41\n+   |\n+LL | fn function_with_str<'a, const STRING: &'a str>() {}\n+   |                                         ^^\n+   |\n+   = note: for more information, see issue #74052 <https://github.com/rust-lang/rust/issues/74052>\n+\n warning: the feature `adt_const_params` is incomplete and may not be safe to use and/or cause compiler crashes\n   --> $DIR/E0771.rs:1:12\n    |\n@@ -7,14 +15,6 @@ LL | #![feature(adt_const_params)]\n    = note: `#[warn(incomplete_features)]` on by default\n    = note: see issue #95174 <https://github.com/rust-lang/rust/issues/95174> for more information\n \n-error[E0771]: use of non-static lifetime `'a` in const generic\n-  --> $DIR/E0771.rs:4:41\n-   |\n-LL | fn function_with_str<'a, const STRING: &'a str>() {}\n-   |                                         ^^\n-   |\n-   = note: for more information, see issue #74052 <https://github.com/rust-lang/rust/issues/74052>\n-\n error: aborting due to previous error; 1 warning emitted\n \n For more information about this error, try `rustc --explain E0771`."}]}