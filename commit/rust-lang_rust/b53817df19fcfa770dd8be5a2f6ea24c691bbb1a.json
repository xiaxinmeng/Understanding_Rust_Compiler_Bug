{"sha": "b53817df19fcfa770dd8be5a2f6ea24c691bbb1a", "node_id": "C_kwDOAAsO6NoAKGI1MzgxN2RmMTlmY2ZhNzcwZGQ4YmU1YTJmNmVhMjRjNjkxYmJiMWE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-04-12T18:56:23Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-04-12T18:56:23Z"}, "message": "Rollup merge of #110205 - notriddle:notriddle/pixelated-border, r=GuillaumeGomez\n\nrustdoc: make settings radio and checks thicker, less contrast\n\nThis is very dependent on subjectivity and what screen you use, but this change makes the radio buttons' outer circle less ugly.\n\nThis is because I could see the pixels very clearly, thanks to the very thin line and high contrast. This change makes both less severe, giving your browser's antialiasing algorithm more to work with. Since it's thicker, lowering the contrast shouldn't impact visibility.\n\n## Preview\n\nhttps://notriddle.com/rustdoc-demo-html-3/pixelated-border/settings.html\n\n## Before\n\n![image](https://user-images.githubusercontent.com/1593513/231274191-143acbea-c433-4fb1-b46d-e5e4fe328d60.png)\n\n## After\n\n![image](https://user-images.githubusercontent.com/1593513/231287415-c1e59fe8-8bf8-489d-b607-95ebb71e4ac5.png)\n\n<details><summary>Original \"after\" image with 2px border around checked box</summary>\n\n![image](https://user-images.githubusercontent.com/1593513/231274253-8b5011c6-82fb-4396-84d0-47b6bdff2260.png)\n\n</details>", "tree": {"sha": "c3e54660620f473fae5b00d5a3c0abf45a3529fb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c3e54660620f473fae5b00d5a3c0abf45a3529fb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkNv7XCRBK7hj4Ov3rIwAAcOsIAHABd9HzLU0sdb5oCTl3E1q7\n7fsg++QEFmMedzvPoZ7J2F5ZnmEaE8Lq5cFmj2nJ8k5RmvkicwzGLHuM0rzMcU9z\nH0bm3ARM8mXpTjijLsIazxBnaMcPcVAKOq3hkapHG/RHSKDhb6Le4Efc5M9aN19v\nPYzSt39iljz3lyEEIAJ22MySQTKMdy+SHuPjVXeXWE6p8Cr6ynvbyQrjLgUGFDQ6\nbO11c1rRykK0HHV1wFBs1/KcjoD3yvV+KgJFBk4RKWKwwxOjcXUfxDy6LA+q74gt\nY5mlmmikFWUbmplGuceMRZ+eMRm78A/+uNt4bTeIgGsKhmKzQ/L+hRRGn2dsk/c=\n=l43s\n-----END PGP SIGNATURE-----\n", "payload": "tree c3e54660620f473fae5b00d5a3c0abf45a3529fb\nparent a34bcd70b2ca1ba7fb60fe0cbd1cbfd5fa57a089\nparent ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1681325783 +0200\ncommitter GitHub <noreply@github.com> 1681325783 +0200\n\nRollup merge of #110205 - notriddle:notriddle/pixelated-border, r=GuillaumeGomez\n\nrustdoc: make settings radio and checks thicker, less contrast\n\nThis is very dependent on subjectivity and what screen you use, but this change makes the radio buttons' outer circle less ugly.\n\nThis is because I could see the pixels very clearly, thanks to the very thin line and high contrast. This change makes both less severe, giving your browser's antialiasing algorithm more to work with. Since it's thicker, lowering the contrast shouldn't impact visibility.\n\n## Preview\n\nhttps://notriddle.com/rustdoc-demo-html-3/pixelated-border/settings.html\n\n## Before\n\n![image](https://user-images.githubusercontent.com/1593513/231274191-143acbea-c433-4fb1-b46d-e5e4fe328d60.png)\n\n## After\n\n![image](https://user-images.githubusercontent.com/1593513/231287415-c1e59fe8-8bf8-489d-b607-95ebb71e4ac5.png)\n\n<details><summary>Original \"after\" image with 2px border around checked box</summary>\n\n![image](https://user-images.githubusercontent.com/1593513/231274253-8b5011c6-82fb-4396-84d0-47b6bdff2260.png)\n\n</details>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a", "html_url": "https://github.com/rust-lang/rust/commit/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a34bcd70b2ca1ba7fb60fe0cbd1cbfd5fa57a089", "url": "https://api.github.com/repos/rust-lang/rust/commits/a34bcd70b2ca1ba7fb60fe0cbd1cbfd5fa57a089", "html_url": "https://github.com/rust-lang/rust/commit/a34bcd70b2ca1ba7fb60fe0cbd1cbfd5fa57a089"}, {"sha": "ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "url": "https://api.github.com/repos/rust-lang/rust/commits/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "html_url": "https://github.com/rust-lang/rust/commit/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11"}], "stats": {"total": 83, "additions": 75, "deletions": 8}, "files": [{"sha": "d13c783d2e4fbd93bb849a766df1c52a947a2a5c", "filename": "src/librustdoc/html/static/css/settings.css", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css", "raw_url": "https://github.com/rust-lang/rust/raw/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css?ref=b53817df19fcfa770dd8be5a2f6ea24c691bbb1a", "patch": "@@ -8,7 +8,7 @@\n \theight: 1.2rem;\n \twidth: 1.2rem;\n \tcolor: inherit;\n-\tborder: 1px solid currentColor;\n+\tborder: 2px solid var(--settings-input-border-color);\n \toutline: none;\n \t-webkit-appearance: none;\n \tcursor: pointer;\n@@ -52,6 +52,7 @@\n }\n .setting-check input:checked {\n \tbackground-color: var(--settings-input-color);\n+\tborder-width: 1px;\n }\n .setting-radio input:focus, .setting-check input:focus {\n \tbox-shadow: 0 0 1px 1px var(--settings-input-color);"}, {"sha": "7145baad256732935282aa99f399b25ce1b48de4", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=b53817df19fcfa770dd8be5a2f6ea24c691bbb1a", "patch": "@@ -7,6 +7,7 @@ Original by Dempfi (https://github.com/dempfi/ayu)\n \t--main-background-color: #0f1419;\n \t--main-color: #c5c5c5;\n \t--settings-input-color: #ffb454;\n+\t--settings-input-border-color: #999;\n \t--settings-button-color: #fff;\n \t--settings-button-border-focus: #e0e0e0;\n \t--sidebar-background-color: #14191f;"}, {"sha": "3c1186a5649f1cd6ae590632ddcb3c966531f73a", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=b53817df19fcfa770dd8be5a2f6ea24c691bbb1a", "patch": "@@ -2,6 +2,7 @@\n \t--main-background-color: #353535;\n \t--main-color: #ddd;\n \t--settings-input-color: #2196f3;\n+\t--settings-input-border-color: #999;\n \t--settings-button-color: #000;\n \t--settings-button-border-focus: #ffb900;\n \t--sidebar-background-color: #505050;"}, {"sha": "f8c287137deac18021219c3e30ca8859002919eb", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=b53817df19fcfa770dd8be5a2f6ea24c691bbb1a", "patch": "@@ -2,6 +2,7 @@\n \t--main-background-color: white;\n \t--main-color: black;\n \t--settings-input-color: #2196f3;\n+\t--settings-input-border-color: #717171;\n \t--settings-button-color: #000;\n \t--settings-button-border-focus: #717171;\n \t--sidebar-background-color: #F5F5F5;"}, {"sha": "733be9bebbabcd2a1fb787830c293e00bd1fb149", "filename": "tests/rustdoc-gui/settings.goml", "status": "modified", "additions": 70, "deletions": 7, "changes": 77, "blob_url": "https://github.com/rust-lang/rust/blob/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/tests%2Frustdoc-gui%2Fsettings.goml", "raw_url": "https://github.com/rust-lang/rust/raw/b53817df19fcfa770dd8be5a2f6ea24c691bbb1a/tests%2Frustdoc-gui%2Fsettings.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsettings.goml?ref=b53817df19fcfa770dd8be5a2f6ea24c691bbb1a", "patch": "@@ -56,38 +56,49 @@ move-cursor-to: \"#settings-menu > a\"\n assert-css: (\n     \"#theme-dark\",\n     {\n-        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n         \"box-shadow\": \"rgb(53, 53, 53) 0px 0px 0px 3px inset\",\n+        \"border-width\": \"2px\",\n     },\n )\n-assert-css: (\"#theme-light\", {\"border-color\": \"rgb(221, 221, 221)\", \"box-shadow\": \"none\"})\n+assert-css: (\"#theme-light\", {\"border-color\": \"rgb(153, 153, 153)\", \"box-shadow\": \"none\"})\n // Let's start with the hover for radio buttons.\n move-cursor-to: \"#theme-dark\"\n assert-css: (\n     \"#theme-dark\",\n     {\n         \"border-color\": \"rgb(33, 150, 243)\",\n         \"box-shadow\": \"rgb(53, 53, 53) 0px 0px 0px 3px inset\",\n+        \"border-width\": \"2px\",\n     },\n )\n move-cursor-to: \"#theme-light\"\n-assert-css: (\"#theme-light\", {\"border-color\": \"rgb(33, 150, 243)\", \"box-shadow\": \"none\"})\n+assert-css: (\n+    \"#theme-light\",\n+    {\n+        \"border-color\": \"rgb(33, 150, 243)\",\n+        \"box-shadow\": \"none\",\n+        \"border-width\": \"2px\",\n+    }\n+)\n move-cursor-to: \"#theme-ayu\"\n // Let's now check with the focus for radio buttons.\n focus: \"#theme-dark\"\n assert-css: (\n     \"#theme-dark\",\n     {\n-        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n         \"box-shadow\": \"rgb(53, 53, 53) 0px 0px 0px 3px inset, rgb(33, 150, 243) 0px 0px 2px 2px\",\n+        \"border-width\": \"2px\",\n     },\n )\n focus: \"#theme-light\"\n assert-css: (\n     \"#theme-light\",\n     {\n-        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n         \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        \"border-width\": \"2px\",\n     },\n )\n // Now we check we both focus and hover for radio buttons.\n@@ -98,6 +109,7 @@ assert-css: (\n     {\n         \"border-color\": \"rgb(33, 150, 243)\",\n         \"box-shadow\": \"rgb(53, 53, 53) 0px 0px 0px 3px inset, rgb(33, 150, 243) 0px 0px 2px 2px\",\n+        \"border-width\": \"2px\",\n     },\n )\n move-cursor-to: \"#theme-light\"\n@@ -107,6 +119,7 @@ assert-css: (\n     {\n         \"border-color\": \"rgb(33, 150, 243)\",\n         \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        \"border-width\": \"2px\",\n     },\n )\n // Now we check the setting-radio-name is on a different line than the label.\n@@ -142,7 +155,18 @@ assert-css: (\n     \"#auto-hide-large-items\",\n     {\n         \"background-color\": \"rgb(33, 150, 243)\",\n-        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n+        // 1px border when checked\n+        \"border-width\": \"1px\",\n+    },\n+)\n+assert-css: (\n+    \"#auto-hide-method-docs\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n+        // 2px border when unchecked\n+        \"border-width\": \"2px\",\n     },\n )\n // Let's start with the hover for toggles.\n@@ -152,6 +176,18 @@ assert-css: (\n     {\n         \"background-color\": \"rgb(33, 150, 243)\",\n         \"border-color\": \"rgb(33, 150, 243)\",\n+        // 1px border when checked\n+        \"border-width\": \"1px\",\n+    },\n+)\n+move-cursor-to: \"#auto-hide-method-docs\"\n+assert-css: (\n+    \"#auto-hide-method-docs\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(33, 150, 243)\",\n+        // 2px border when unchecked\n+        \"border-width\": \"2px\",\n     },\n )\n move-cursor-to: \"#settings-menu > a\"\n@@ -161,8 +197,21 @@ assert-css: (\n     \"#auto-hide-large-items\",\n     {\n         \"background-color\": \"rgb(33, 150, 243)\",\n-        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n+        \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        // 1px border when checked\n+        \"border-width\": \"1px\",\n+    },\n+)\n+focus: \"#auto-hide-method-docs\"\n+assert-css: (\n+    \"#auto-hide-method-docs\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n         \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        // 2px border when unchecked\n+        \"border-width\": \"2px\",\n     },\n )\n // Now we check we both focus and hover for toggles.\n@@ -174,6 +223,20 @@ assert-css: (\n         \"background-color\": \"rgb(33, 150, 243)\",\n         \"border-color\": \"rgb(33, 150, 243)\",\n         \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        // 1px border when checked\n+        \"border-width\": \"1px\",\n+    },\n+)\n+move-cursor-to: \"#auto-hide-method-docs\"\n+focus: \"#auto-hide-method-docs\"\n+assert-css: (\n+    \"#auto-hide-method-docs\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(33, 150, 243)\",\n+        \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        // 2px border when unchecked\n+        \"border-width\": \"2px\",\n     },\n )\n "}]}