{"sha": "1a16ac058dda3bcb20c57d9f1daf1d22b6a992a4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhMTZhYzA1OGRkYTNiY2IyMGM1N2Q5ZjFkYWYxZDIyYjZhOTkyYTQ=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-01-08T09:17:05Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-01-08T09:20:04Z"}, "message": "Add 'positive' examples for some lints\n\nThis allows to see at a quick glance what the improved code could look\nlike for these lints.", "tree": {"sha": "6e32144ca3298d023bd30f7e8f020b021d50269f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6e32144ca3298d023bd30f7e8f020b021d50269f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1a16ac058dda3bcb20c57d9f1daf1d22b6a992a4", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2\n\niQIcBAABCAAGBQJaUzfEAAoJEGZ8j0taaYpg25gQAKIUh3TAHBpv5dAIMuJjVU2i\nA331Ej4h4zcy63SrOMrwP2TzwDw/+f7H9xaPrcRaCG2gc84hFTp58D801wItQsBP\nMUF5wR/PXAdGiciuEVUS44bnkR1rbSMB2zFKylcIGSL2CyKW2FbcrWN4O4DrmHqC\n7J8Fjwuzykgg6X6cj/AnSdd0iR6UBIwP8pxdIYyQHYDm5Iv/7fktUnF5jNibS7bP\nMJeXv8kP6X1ibjOrCrKDcXYByTNyfKls/pSPfi90/fHsX0x4rqi9vKBaxNN8vGky\n/fhn0Dz/HtJyzlp1D7r//kcZmtrxbT1/mzDFSrwjg633S8rdnc1yfA8uo0PNJ2rH\n20qcidXKIUBLSXo5qn4L11ODu7xAELvE//8BlcNnvrwDjnmZETxvnK6MyPAjjaQY\nqSLOFl8UmWem35Hs/Qa9+ck497CrClWFb8mCBtwnbZRuoKe7kW0PBKrBMrV35uBI\n3d8MtR/Pq56K1jubr9b+7fmyW4W6jKg/r7hV+cwoIJM9JqHtnEvNxoGv5uWo1SMR\nVny/LsxEIMYhKnh5JLcj2HZyTwrVwHFmv+dv1DOQ16am1fx3t9Me6hrZKxNgnhvK\nCUQthzAsmZa0T9YhKmCxkqSYno+cRWZFXsLqTZm18ePq6T+yjUoj1/Tp9Qz6jlme\n0B1rGYqptkao4ivQk5SL\n=//Xk\n-----END PGP SIGNATURE-----", "payload": "tree 6e32144ca3298d023bd30f7e8f020b021d50269f\nparent 5815681b38af9af5b1daa4ae41d9d40c7d3dd115\nauthor Philipp Hansch <dev@phansch.net> 1515403025 +0100\ncommitter Philipp Hansch <dev@phansch.net> 1515403204 +0100\n\nAdd 'positive' examples for some lints\n\nThis allows to see at a quick glance what the improved code could look\nlike for these lints.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1a16ac058dda3bcb20c57d9f1daf1d22b6a992a4", "html_url": "https://github.com/rust-lang/rust/commit/1a16ac058dda3bcb20c57d9f1daf1d22b6a992a4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1a16ac058dda3bcb20c57d9f1daf1d22b6a992a4/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5815681b38af9af5b1daa4ae41d9d40c7d3dd115", "url": "https://api.github.com/repos/rust-lang/rust/commits/5815681b38af9af5b1daa4ae41d9d40c7d3dd115", "html_url": "https://github.com/rust-lang/rust/commit/5815681b38af9af5b1daa4ae41d9d40c7d3dd115"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "bf4e85f689f91a431a2ca20f26bdea694d6b0a97", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/1a16ac058dda3bcb20c57d9f1daf1d22b6a992a4/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a16ac058dda3bcb20c57d9f1daf1d22b6a992a4/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=1a16ac058dda3bcb20c57d9f1daf1d22b6a992a4", "patch": "@@ -36,6 +36,14 @@ pub struct TypePass;\n ///     values: Box<Vec<Foo>>,\n /// }\n /// ```\n+///\n+/// Better:\n+///\n+/// ```rust\n+/// struct X {\n+///     values: Vec<Foo>,\n+/// }\n+/// ```\n declare_lint! {\n     pub BOX_VEC,\n     Warn,\n@@ -89,6 +97,12 @@ declare_lint! {\n /// ```rust\n /// fn foo(bar: &Box<T>) { ... }\n /// ```\n+///\n+/// Better:\n+///\n+/// ```rust\n+/// fn foo(bar: &T) { ... }\n+/// ```\n declare_lint! {\n     pub BORROWED_BOX,\n     Warn,\n@@ -514,6 +528,12 @@ declare_lint! {\n /// ```rust\n /// fn as_u64(x: u8) -> u64 { x as u64 }\n /// ```\n+///\n+/// Using `::from` would look like this:\n+///\n+/// ```rust\n+/// fn as_u64(x: u8) -> u64 { u64::from(x) }\n+/// ```\n declare_lint! {\n     pub CAST_LOSSLESS,\n     Warn,\n@@ -994,6 +1014,12 @@ impl<'tcx> Visitor<'tcx> for TypeComplexityVisitor {\n /// ```rust\n /// 'x' as u8\n /// ```\n+///\n+/// A better version, using the byte literal:\n+///\n+/// ```rust\n+/// b'x'\n+/// ```\n declare_lint! {\n     pub CHAR_LIT_AS_U8,\n     Warn,"}]}