{"sha": "b20bd73673fc06fa48e962cb2457cab7fdca9e79", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIyMGJkNzM2NzNmYzA2ZmE0OGU5NjJjYjI0NTdjYWI3ZmRjYTllNzk=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-04-19T19:11:28Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-04-19T19:11:28Z"}, "message": "Rollup merge of #71317 - RalfJung:unleash-inline-asm, r=ecstatic-morse\n\nmiri-unleash test for llvm_asm\n\nr? @oli-obk @ecstatic-morse", "tree": {"sha": "88d3a7aaa93b2a704a2b8c6bd4b1cec3339bf793", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/88d3a7aaa93b2a704a2b8c6bd4b1cec3339bf793"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b20bd73673fc06fa48e962cb2457cab7fdca9e79", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJenKJgCRBK7hj4Ov3rIwAAdHIIAEdbHDVr9J1GfSjBGMXXlBW0\nfW8xlMlpCCwtCKVOYYY0/r4bUMmgRlaE3bJUx8Gpy1FZKGdZTAsCMfrpwzmyZU8a\nPd42G/L7ObDRVjusGMuVJeN1+r8Bqm6Z4R3mFeKBRTtSMCreafUF5Tsnf49Aj0Kg\nsBZ4gxKjdVllI4fhxAMEnr5LUSpbxCfuRKxApfoJbzfj2A6Rb7d/MDFSety4JneG\neh0V7Tt14PTWh1+/dnGvNhUOjmphPHCbD59qLEGs44YhYJwaebRuNBXTvGa8TBLo\nJgGWG2YqfVidWJgad8SqPQ2s+zkcSP2oNFUSMJAvJBhHSVD9pGvPvElCY5bJmnA=\n=uQsU\n-----END PGP SIGNATURE-----\n", "payload": "tree 88d3a7aaa93b2a704a2b8c6bd4b1cec3339bf793\nparent ab44c7701ef6214ba3ce89c0c1aac9baf4aa078a\nparent f6adbc3a26e6bfc5b1d6a1cc9eedaf1786786e58\nauthor Dylan DPC <dylan.dpc@gmail.com> 1587323488 +0200\ncommitter GitHub <noreply@github.com> 1587323488 +0200\n\nRollup merge of #71317 - RalfJung:unleash-inline-asm, r=ecstatic-morse\n\nmiri-unleash test for llvm_asm\n\nr? @oli-obk @ecstatic-morse\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b20bd73673fc06fa48e962cb2457cab7fdca9e79", "html_url": "https://github.com/rust-lang/rust/commit/b20bd73673fc06fa48e962cb2457cab7fdca9e79", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b20bd73673fc06fa48e962cb2457cab7fdca9e79/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ab44c7701ef6214ba3ce89c0c1aac9baf4aa078a", "url": "https://api.github.com/repos/rust-lang/rust/commits/ab44c7701ef6214ba3ce89c0c1aac9baf4aa078a", "html_url": "https://github.com/rust-lang/rust/commit/ab44c7701ef6214ba3ce89c0c1aac9baf4aa078a"}, {"sha": "f6adbc3a26e6bfc5b1d6a1cc9eedaf1786786e58", "url": "https://api.github.com/repos/rust-lang/rust/commits/f6adbc3a26e6bfc5b1d6a1cc9eedaf1786786e58", "html_url": "https://github.com/rust-lang/rust/commit/f6adbc3a26e6bfc5b1d6a1cc9eedaf1786786e58"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "f56131025627be0b1844d8c323702f4b91f62ee8", "filename": "src/test/ui/consts/miri_unleashed/inline_asm.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/b20bd73673fc06fa48e962cb2457cab7fdca9e79/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Finline_asm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b20bd73673fc06fa48e962cb2457cab7fdca9e79/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Finline_asm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Finline_asm.rs?ref=b20bd73673fc06fa48e962cb2457cab7fdca9e79", "patch": "@@ -0,0 +1,14 @@\n+// compile-flags: -Zunleash-the-miri-inside-of-you\n+// only-x86_64\n+#![feature(llvm_asm)]\n+#![allow(const_err)]\n+\n+fn main() {}\n+\n+// Make sure we catch executing inline assembly.\n+static TEST_BAD: () = {\n+    unsafe { llvm_asm!(\"xor %eax, %eax\" ::: \"eax\"); }\n+    //~^ ERROR could not evaluate static initializer\n+    //~| NOTE in this expansion of llvm_asm!\n+    //~| NOTE inline assembly is not supported\n+};"}, {"sha": "3cbdd326c82338af7a76e12ab64bcfdec7a876e3", "filename": "src/test/ui/consts/miri_unleashed/inline_asm.stderr", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/b20bd73673fc06fa48e962cb2457cab7fdca9e79/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Finline_asm.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b20bd73673fc06fa48e962cb2457cab7fdca9e79/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Finline_asm.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Finline_asm.stderr?ref=b20bd73673fc06fa48e962cb2457cab7fdca9e79", "patch": "@@ -0,0 +1,11 @@\n+error[E0080]: could not evaluate static initializer\n+  --> $DIR/inline_asm.rs:10:14\n+   |\n+LL |     unsafe { llvm_asm!(\"xor %eax, %eax\" ::: \"eax\"); }\n+   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ inline assembly is not supported\n+   |\n+   = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0080`."}]}