{"sha": "f081c9d94dcc7a06e9c224e6b113a563d474ad18", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYwODFjOWQ5NGRjYzdhMDZlOWMyMjRlNmIxMTNhNTYzZDQ3NGFkMTg=", "commit": {"author": {"name": "Wilco Kusee", "email": "wilcokusee@gmail.com", "date": "2019-11-29T14:27:22Z"}, "committer": {"name": "Wilco Kusee", "email": "wilcokusee@gmail.com", "date": "2019-11-29T14:27:22Z"}, "message": "Also allow renaming to underscore", "tree": {"sha": "eff6a5cfb4789df0c76fe3c17efd718b451b8a42", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/eff6a5cfb4789df0c76fe3c17efd718b451b8a42"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f081c9d94dcc7a06e9c224e6b113a563d474ad18", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABAgAGBQJd4SrKAAoJENWyu1zcMzS8iN0IAJBC5c74W+qdyko8+dLYjnCx\n5M4LrHxgUf5/6HILOnOTgj7o4N/Bi/bdDH/WxewF/o4FvpmOs6QEeIiM+Mb0MKgB\nUtfgeX++d1lRhgecTr0G01hyXF3qL35U5+p/PbgREEaNetn/yUQ9xlKSrBaJUME5\nQgk5x5vEULotoBOsG5SvcLUGCssy8082NPCjJXxRXMobwnch14QDhyKlqvFmM/0c\nCN/ylbyRuRUWeU1LoeU8RmvB8sc3AJijnYvxinrPwNRLzh7hWs085Igyim4LnI+L\ndEFz8SvEZgjvtKq5qAhIZ4kYCgfR0kxqSxfBOJzOqExnLPmqNOj5HFDw3YrzzOc=\n=zJOG\n-----END PGP SIGNATURE-----", "payload": "tree eff6a5cfb4789df0c76fe3c17efd718b451b8a42\nparent 9c764cb966cd62d8eaa83fbb7d91646a850dc256\nauthor Wilco Kusee <wilcokusee@gmail.com> 1575037642 +0100\ncommitter Wilco Kusee <wilcokusee@gmail.com> 1575037642 +0100\n\nAlso allow renaming to underscore\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f081c9d94dcc7a06e9c224e6b113a563d474ad18", "html_url": "https://github.com/rust-lang/rust/commit/f081c9d94dcc7a06e9c224e6b113a563d474ad18", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f081c9d94dcc7a06e9c224e6b113a563d474ad18/comments", "author": {"login": "detrumi", "id": 5758008, "node_id": "MDQ6VXNlcjU3NTgwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5758008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/detrumi", "html_url": "https://github.com/detrumi", "followers_url": "https://api.github.com/users/detrumi/followers", "following_url": "https://api.github.com/users/detrumi/following{/other_user}", "gists_url": "https://api.github.com/users/detrumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/detrumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/detrumi/subscriptions", "organizations_url": "https://api.github.com/users/detrumi/orgs", "repos_url": "https://api.github.com/users/detrumi/repos", "events_url": "https://api.github.com/users/detrumi/events{/privacy}", "received_events_url": "https://api.github.com/users/detrumi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "detrumi", "id": 5758008, "node_id": "MDQ6VXNlcjU3NTgwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5758008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/detrumi", "html_url": "https://github.com/detrumi", "followers_url": "https://api.github.com/users/detrumi/followers", "following_url": "https://api.github.com/users/detrumi/following{/other_user}", "gists_url": "https://api.github.com/users/detrumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/detrumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/detrumi/subscriptions", "organizations_url": "https://api.github.com/users/detrumi/orgs", "repos_url": "https://api.github.com/users/detrumi/repos", "events_url": "https://api.github.com/users/detrumi/events{/privacy}", "received_events_url": "https://api.github.com/users/detrumi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9c764cb966cd62d8eaa83fbb7d91646a850dc256", "url": "https://api.github.com/repos/rust-lang/rust/commits/9c764cb966cd62d8eaa83fbb7d91646a850dc256", "html_url": "https://github.com/rust-lang/rust/commit/9c764cb966cd62d8eaa83fbb7d91646a850dc256"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "0380788acd0ac29a8ba527368cf6d1597d66382c", "filename": "crates/ra_lsp_server/src/main_loop/handlers.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f081c9d94dcc7a06e9c224e6b113a563d474ad18/crates%2Fra_lsp_server%2Fsrc%2Fmain_loop%2Fhandlers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f081c9d94dcc7a06e9c224e6b113a563d474ad18/crates%2Fra_lsp_server%2Fsrc%2Fmain_loop%2Fhandlers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_lsp_server%2Fsrc%2Fmain_loop%2Fhandlers.rs?ref=f081c9d94dcc7a06e9c224e6b113a563d474ad18", "patch": "@@ -508,7 +508,9 @@ pub fn handle_rename(world: WorldSnapshot, params: RenameParams) -> Result<Optio\n \n     // Only rename to valid identifiers\n     let tokens = tokenize(&params.new_name);\n-    if tokens.len() != 1 || tokens[0].kind != SyntaxKind::IDENT {\n+    if tokens.len() != 1\n+        || (tokens[0].kind != SyntaxKind::IDENT && tokens[0].kind != SyntaxKind::UNDERSCORE)\n+    {\n         return Ok(None);\n     }\n "}]}