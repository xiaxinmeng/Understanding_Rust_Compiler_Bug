{"sha": "54cd5e1814682e95360e591440274550ee312da4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0Y2Q1ZTE4MTQ2ODJlOTUzNjBlNTkxNDQwMjc0NTUwZWUzMTJkYTQ=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-07-15T01:28:20Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-07-15T01:28:20Z"}, "message": "~strify win32-specific fns", "tree": {"sha": "6d41146f12672ae5a47679ff97ca7470f11d5d77", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6d41146f12672ae5a47679ff97ca7470f11d5d77"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/54cd5e1814682e95360e591440274550ee312da4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/54cd5e1814682e95360e591440274550ee312da4", "html_url": "https://github.com/rust-lang/rust/commit/54cd5e1814682e95360e591440274550ee312da4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/54cd5e1814682e95360e591440274550ee312da4/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3ef7ff8b892aa2ad7e821d8858c349e22d1197ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/3ef7ff8b892aa2ad7e821d8858c349e22d1197ba", "html_url": "https://github.com/rust-lang/rust/commit/3ef7ff8b892aa2ad7e821d8858c349e22d1197ba"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "67387f2b6a4e7feccc51f75b0543186dc283e15c", "filename": "src/compiletest/procsrv.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/54cd5e1814682e95360e591440274550ee312da4/src%2Fcompiletest%2Fprocsrv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54cd5e1814682e95360e591440274550ee312da4/src%2Fcompiletest%2Fprocsrv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Fprocsrv.rs?ref=54cd5e1814682e95360e591440274550ee312da4", "patch": "@@ -5,21 +5,21 @@ import libc::{c_int, pid_t};\n export run;\n \n #[cfg(target_os = \"win32\")]\n-fn target_env(lib_path: str, prog: str) -> ~[(str,str)] {\n+fn target_env(lib_path: ~str, prog: ~str) -> ~[(~str,~str)] {\n \n     let mut env = os::env();\n \n     // Make sure we include the aux directory in the path\n-    assert prog.ends_with(\".exe\");\n-    let aux_path = prog.slice(0u, prog.len() - 4u) + \".libaux\";\n+    assert prog.ends_with(~\".exe\");\n+    let aux_path = prog.slice(0u, prog.len() - 4u) + ~\".libaux\";\n \n     env = do vec::map(env) |pair| {\n         let (k,v) = pair;\n-        if k == \"PATH\" { (\"PATH\", v + \";\" + lib_path + \";\" + aux_path) }\n+        if k == ~\"PATH\" { (~\"PATH\", v + ~\";\" + lib_path + ~\";\" + aux_path) }\n         else { (k,v) }\n     };\n-    if str::ends_with(prog, \"rustc.exe\") {\n-        vec::push(env, (\"RUST_THREADS\", \"1\"));\n+    if str::ends_with(prog, ~\"rustc.exe\") {\n+        vec::push(env, (~\"RUST_THREADS\", ~\"1\"));\n     }\n     ret env;\n }"}, {"sha": "d5890031109404b831f20fa5e6011b761495ed03", "filename": "src/compiletest/runtest.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/54cd5e1814682e95360e591440274550ee312da4/src%2Fcompiletest%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54cd5e1814682e95360e591440274550ee312da4/src%2Fcompiletest%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Fruntest.rs?ref=54cd5e1814682e95360e591440274550ee312da4", "patch": "@@ -434,9 +434,9 @@ fn make_cmdline(_libpath: ~str, prog: ~str, args: ~[~str]) -> ~str {\n }\n \n #[cfg(target_os = \"win32\")]\n-fn make_cmdline(libpath: str, prog: str, args: ~[str]) -> str {\n+fn make_cmdline(libpath: ~str, prog: ~str, args: ~[~str]) -> ~str {\n     #fmt[\"%s %s %s\", lib_path_cmd_prefix(libpath), prog,\n-         str::connect(args, \" \")]\n+         str::connect(args, ~\" \")]\n }\n \n // Build the LD_LIBRARY_PATH variable as it would be seen on the command line"}, {"sha": "bd99b340138ea872a76ad09123276d0c61952988", "filename": "src/compiletest/util.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/54cd5e1814682e95360e591440274550ee312da4/src%2Fcompiletest%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54cd5e1814682e95360e591440274550ee312da4/src%2Fcompiletest%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Futil.rs?ref=54cd5e1814682e95360e591440274550ee312da4", "patch": "@@ -31,7 +31,7 @@ fn lib_path_env_var() -> ~str { ~\"PATH\" }\n fn path_div() -> ~str { ~\":\" }\n \n #[cfg(target_os = \"win32\")]\n-fn path_div() -> str { ~\";\" }\n+fn path_div() -> ~str { ~\";\" }\n \n fn logv(config: config, s: ~str) {\n     log(debug, s);"}]}