{"sha": "fc7fc90adfc9576507e730ab54f35d1073ab2a4f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZjN2ZjOTBhZGZjOTU3NjUwN2U3MzBhYjU0ZjM1ZDEwNzNhYjJhNGY=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-04-05T23:26:36Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-04-05T23:28:09Z"}, "message": "Documentation only: update tutorial to mention --lib only for single source files\n\nIn the tutorial, use the crate_type attribute when discussing crate files that\nare libraries, and only refer to the --lib files when talking about making a\nsingle source file into a library.\n\nCloses #2070.", "tree": {"sha": "047cac560c5f7d2ec8ca202dc43a6bbe8a62638f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/047cac560c5f7d2ec8ca202dc43a6bbe8a62638f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fc7fc90adfc9576507e730ab54f35d1073ab2a4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fc7fc90adfc9576507e730ab54f35d1073ab2a4f", "html_url": "https://github.com/rust-lang/rust/commit/fc7fc90adfc9576507e730ab54f35d1073ab2a4f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fc7fc90adfc9576507e730ab54f35d1073ab2a4f/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b91c9f803d3b87be3c6b7480ef9abbd9611c717c", "url": "https://api.github.com/repos/rust-lang/rust/commits/b91c9f803d3b87be3c6b7480ef9abbd9611c717c", "html_url": "https://github.com/rust-lang/rust/commit/b91c9f803d3b87be3c6b7480ef9abbd9611c717c"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "6990d4574e989e93f07bbd2c25640f9a87784adc", "filename": "doc/tutorial.md", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/fc7fc90adfc9576507e730ab54f35d1073ab2a4f/doc%2Ftutorial.md", "raw_url": "https://github.com/rust-lang/rust/raw/fc7fc90adfc9576507e730ab54f35d1073ab2a4f/doc%2Ftutorial.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Ftutorial.md?ref=fc7fc90adfc9576507e730ab54f35d1073ab2a4f", "patch": "@@ -1686,6 +1686,7 @@ purpose, you create a `.rc` crate file, which references any number of\n \n ~~~~ {.ignore}\n #[link(name = \"farm\", vers = \"2.5\", author = \"mjh\")];\n+#[crate_type = \"lib\"];\n mod cow;\n mod chicken;\n mod horse;\n@@ -1694,7 +1695,9 @@ mod horse;\n Compiling this file will cause `rustc` to look for files named\n `cow.rs`, `chicken.rs`, `horse.rs` in the same directory as the `.rc`\n file, compile them all together, and, depending on the presence of the\n-`--lib` switch, output a shared library or an executable.\n+`crate_type = \"lib\"` attribute, output a shared library or an executable.\n+(If the line `#[crate_type = \"lib\"];` was omitted, `rustc` would create an\n+executable.)\n \n The `#[link(...)]` part provides meta information about the module,\n which other crates can use to load the right module. More about that\n@@ -1717,9 +1720,9 @@ content to the `poultry` module itself.\n \n ## Using other crates\n \n-Having compiled a crate with `--lib`, you can use it in another crate\n-with a `use` directive. We've already seen `use std` in several of the\n-examples, which loads in the [standard library][std].\n+Having compiled a crate that contains the `#[crate_type = \"lib\"]` attribute,\n+you can use it in another crate with a `use` directive. We've already seen\n+`use std` in several of the examples, which loads in the [standard library][std].\n \n [std]: http://doc.rust-lang.org/doc/std/index/General.html\n "}]}