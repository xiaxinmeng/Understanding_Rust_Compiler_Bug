{"sha": "cfa5391f0bb99571295cd378b7305410dab6f215", "node_id": "C_kwDOAAsO6NoAKGNmYTUzOTFmMGJiOTk1NzEyOTVjZDM3OGI3MzA1NDEwZGFiNmYyMTU", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2021-10-10T16:22:19Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-10-10T16:22:19Z"}, "message": "Rollup merge of #89428 - DevinR528:reachable-featuregate, r=Nadrieril,camelid\n\nFeature gate the non_exhaustive_omitted_patterns lint\n\nFixes https://github.com/rust-lang/rust/issues/89374\n\nAdd the machinery to gate the new `non_exhaustive_omitted_patterns` lint.\n\nrelates to https://github.com/rust-lang/rust/pull/89105 and https://github.com/rust-lang/rust/pull/89423", "tree": {"sha": "f5f037663b5795a560cebcc0ada981de5f42053a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f5f037663b5795a560cebcc0ada981de5f42053a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cfa5391f0bb99571295cd378b7305410dab6f215", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhYxM7CRBK7hj4Ov3rIwAA7rcIABCp4z8nZ1n4ArpJdFblQUdG\n/6ACksAYyV9ZOxJDWqThgEMQR1K+1PAJFqCdghxJXuPeawwCBiFO8yO8+G/S8eMf\nBpnmoI2bbyh0BqpovgU3VKh12Yjjo8pBq1u5KSQX/EXVH5vWRRc9r1sbL9INltbA\nOo0ZK1N1uj6xid0YyiQk0Wid71P3ZqCIlzjYu1xOhopJKrKk7TNSKL5rd/TgTTuz\nzau04fARxzcBgi/YrETaySYCXmF+0fUqKXvPqMCQLM1m/DlRwqDjmHhrRcL1h3SE\nwvu6JNTnKNVNXeBva7FkFxM6McnfyT3XwM4/yeS8E65xfwy6sRKCzQ/UW03/7qU=\n=DDT9\n-----END PGP SIGNATURE-----\n", "payload": "tree f5f037663b5795a560cebcc0ada981de5f42053a\nparent 4473b945bf1f4b189fc452591444b3e0e99f84ff\nparent 14338786fd829992511ada6704ed5e801dd8e86b\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1633882939 +0200\ncommitter GitHub <noreply@github.com> 1633882939 +0200\n\nRollup merge of #89428 - DevinR528:reachable-featuregate, r=Nadrieril,camelid\n\nFeature gate the non_exhaustive_omitted_patterns lint\n\nFixes https://github.com/rust-lang/rust/issues/89374\n\nAdd the machinery to gate the new `non_exhaustive_omitted_patterns` lint.\n\nrelates to https://github.com/rust-lang/rust/pull/89105 and https://github.com/rust-lang/rust/pull/89423\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cfa5391f0bb99571295cd378b7305410dab6f215", "html_url": "https://github.com/rust-lang/rust/commit/cfa5391f0bb99571295cd378b7305410dab6f215", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cfa5391f0bb99571295cd378b7305410dab6f215/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4473b945bf1f4b189fc452591444b3e0e99f84ff", "url": "https://api.github.com/repos/rust-lang/rust/commits/4473b945bf1f4b189fc452591444b3e0e99f84ff", "html_url": "https://github.com/rust-lang/rust/commit/4473b945bf1f4b189fc452591444b3e0e99f84ff"}, {"sha": "14338786fd829992511ada6704ed5e801dd8e86b", "url": "https://api.github.com/repos/rust-lang/rust/commits/14338786fd829992511ada6704ed5e801dd8e86b", "html_url": "https://github.com/rust-lang/rust/commit/14338786fd829992511ada6704ed5e801dd8e86b"}], "stats": {"total": 174, "additions": 154, "deletions": 20}, "files": [{"sha": "a2fadb13a574179611cca2629ce783776860f3dc", "filename": "compiler/rustc_feature/src/active.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/cfa5391f0bb99571295cd378b7305410dab6f215/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfa5391f0bb99571295cd378b7305410dab6f215/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Factive.rs?ref=cfa5391f0bb99571295cd378b7305410dab6f215", "patch": "@@ -678,6 +678,9 @@ declare_features! (\n     /// Allows `#[doc(cfg_hide(...))]`.\n     (active, doc_cfg_hide, \"1.57.0\", Some(43781), None),\n \n+    /// Allows using the `non_exhaustive_omitted_patterns` lint.\n+    (active, non_exhaustive_omitted_patterns_lint, \"1.57.0\", Some(89554), None),\n+\n     // -------------------------------------------------------------------------\n     // feature-group-end: actual feature gates\n     // -------------------------------------------------------------------------"}, {"sha": "a93d18950dba9256364c077fcd85d32afe2504b1", "filename": "compiler/rustc_lint_defs/src/builtin.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfa5391f0bb99571295cd378b7305410dab6f215/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfa5391f0bb99571295cd378b7305410dab6f215/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs?ref=cfa5391f0bb99571295cd378b7305410dab6f215", "patch": "@@ -6,6 +6,7 @@\n \n use crate::{declare_lint, declare_lint_pass, FutureIncompatibilityReason};\n use rustc_span::edition::Edition;\n+use rustc_span::symbol::sym;\n \n declare_lint! {\n     /// The `forbidden_lint_groups` lint detects violations of\n@@ -3476,6 +3477,8 @@ declare_lint! {\n     /// }\n     ///\n     /// // in crate B\n+    /// #![feature(non_exhaustive_omitted_patterns_lint)]\n+    ///\n     /// match Bar::A {\n     ///     Bar::A => {},\n     ///     #[warn(non_exhaustive_omitted_patterns)]\n@@ -3512,6 +3515,7 @@ declare_lint! {\n     pub NON_EXHAUSTIVE_OMITTED_PATTERNS,\n     Allow,\n     \"detect when patterns of types marked `non_exhaustive` are missed\",\n+    @feature_gate = sym::non_exhaustive_omitted_patterns_lint;\n }\n \n declare_lint! {"}, {"sha": "9551120ca5522450fdac428e999044c33493f69c", "filename": "compiler/rustc_span/src/symbol.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/cfa5391f0bb99571295cd378b7305410dab6f215/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfa5391f0bb99571295cd378b7305410dab6f215/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs?ref=cfa5391f0bb99571295cd378b7305410dab6f215", "patch": "@@ -893,6 +893,7 @@ symbols! {\n         nomem,\n         non_ascii_idents,\n         non_exhaustive,\n+        non_exhaustive_omitted_patterns_lint,\n         non_modrs_mods,\n         none_error,\n         nontemporal_store,"}, {"sha": "2a34ed4d4f64497177c0845538b2158150eed66c", "filename": "src/test/ui/feature-gates/feature-gate-non_exhaustive_omitted_patterns_lint.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/cfa5391f0bb99571295cd378b7305410dab6f215/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-non_exhaustive_omitted_patterns_lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfa5391f0bb99571295cd378b7305410dab6f215/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-non_exhaustive_omitted_patterns_lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-non_exhaustive_omitted_patterns_lint.rs?ref=cfa5391f0bb99571295cd378b7305410dab6f215", "patch": "@@ -0,0 +1,31 @@\n+#![deny(non_exhaustive_omitted_patterns)]\n+//~^ ERROR the `non_exhaustive_omitted_patterns` lint is unstable\n+//~| ERROR the `non_exhaustive_omitted_patterns` lint is unstable\n+#![allow(non_exhaustive_omitted_patterns)]\n+//~^ ERROR the `non_exhaustive_omitted_patterns` lint is unstable\n+//~| ERROR the `non_exhaustive_omitted_patterns` lint is unstable\n+\n+fn main() {\n+    enum Foo {\n+        A, B, C,\n+    }\n+\n+    #[allow(non_exhaustive_omitted_patterns)]\n+    match Foo::A {\n+        Foo::A => {}\n+        Foo::B => {}\n+    }\n+    //~^^^^^ ERROR the `non_exhaustive_omitted_patterns` lint is unstable\n+    //~| ERROR the `non_exhaustive_omitted_patterns` lint is unstable\n+    //~| ERROR the `non_exhaustive_omitted_patterns` lint is unstable\n+    //~| ERROR the `non_exhaustive_omitted_patterns` lint is unstable\n+\n+    match Foo::A {\n+        Foo::A => {}\n+        Foo::B => {}\n+        #[warn(non_exhaustive_omitted_patterns)]\n+        _ => {}\n+    }\n+    //~^^^ ERROR the `non_exhaustive_omitted_patterns` lint is unstable\n+    //~| ERROR the `non_exhaustive_omitted_patterns` lint is unstable\n+}"}, {"sha": "691f64cf0addd443a43f258f9ae7ebeda0671058", "filename": "src/test/ui/feature-gates/feature-gate-non_exhaustive_omitted_patterns_lint.stderr", "status": "added", "additions": 93, "deletions": 0, "changes": 93, "blob_url": "https://github.com/rust-lang/rust/blob/cfa5391f0bb99571295cd378b7305410dab6f215/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-non_exhaustive_omitted_patterns_lint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfa5391f0bb99571295cd378b7305410dab6f215/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-non_exhaustive_omitted_patterns_lint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-non_exhaustive_omitted_patterns_lint.stderr?ref=cfa5391f0bb99571295cd378b7305410dab6f215", "patch": "@@ -0,0 +1,93 @@\n+error[E0658]: the `non_exhaustive_omitted_patterns` lint is unstable\n+  --> $DIR/feature-gate-non_exhaustive_omitted_patterns_lint.rs:1:1\n+   |\n+LL | #![deny(non_exhaustive_omitted_patterns)]\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #89554 <https://github.com/rust-lang/rust/issues/89554> for more information\n+   = help: add `#![feature(non_exhaustive_omitted_patterns_lint)]` to the crate attributes to enable\n+\n+error[E0658]: the `non_exhaustive_omitted_patterns` lint is unstable\n+  --> $DIR/feature-gate-non_exhaustive_omitted_patterns_lint.rs:4:1\n+   |\n+LL | #![allow(non_exhaustive_omitted_patterns)]\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #89554 <https://github.com/rust-lang/rust/issues/89554> for more information\n+   = help: add `#![feature(non_exhaustive_omitted_patterns_lint)]` to the crate attributes to enable\n+\n+error[E0658]: the `non_exhaustive_omitted_patterns` lint is unstable\n+  --> $DIR/feature-gate-non_exhaustive_omitted_patterns_lint.rs:13:5\n+   |\n+LL |     #[allow(non_exhaustive_omitted_patterns)]\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #89554 <https://github.com/rust-lang/rust/issues/89554> for more information\n+   = help: add `#![feature(non_exhaustive_omitted_patterns_lint)]` to the crate attributes to enable\n+\n+error[E0658]: the `non_exhaustive_omitted_patterns` lint is unstable\n+  --> $DIR/feature-gate-non_exhaustive_omitted_patterns_lint.rs:13:5\n+   |\n+LL |     #[allow(non_exhaustive_omitted_patterns)]\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #89554 <https://github.com/rust-lang/rust/issues/89554> for more information\n+   = help: add `#![feature(non_exhaustive_omitted_patterns_lint)]` to the crate attributes to enable\n+\n+error[E0658]: the `non_exhaustive_omitted_patterns` lint is unstable\n+  --> $DIR/feature-gate-non_exhaustive_omitted_patterns_lint.rs:26:9\n+   |\n+LL |         #[warn(non_exhaustive_omitted_patterns)]\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #89554 <https://github.com/rust-lang/rust/issues/89554> for more information\n+   = help: add `#![feature(non_exhaustive_omitted_patterns_lint)]` to the crate attributes to enable\n+\n+error[E0658]: the `non_exhaustive_omitted_patterns` lint is unstable\n+  --> $DIR/feature-gate-non_exhaustive_omitted_patterns_lint.rs:1:1\n+   |\n+LL | #![deny(non_exhaustive_omitted_patterns)]\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #89554 <https://github.com/rust-lang/rust/issues/89554> for more information\n+   = help: add `#![feature(non_exhaustive_omitted_patterns_lint)]` to the crate attributes to enable\n+\n+error[E0658]: the `non_exhaustive_omitted_patterns` lint is unstable\n+  --> $DIR/feature-gate-non_exhaustive_omitted_patterns_lint.rs:4:1\n+   |\n+LL | #![allow(non_exhaustive_omitted_patterns)]\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #89554 <https://github.com/rust-lang/rust/issues/89554> for more information\n+   = help: add `#![feature(non_exhaustive_omitted_patterns_lint)]` to the crate attributes to enable\n+\n+error[E0658]: the `non_exhaustive_omitted_patterns` lint is unstable\n+  --> $DIR/feature-gate-non_exhaustive_omitted_patterns_lint.rs:13:5\n+   |\n+LL |     #[allow(non_exhaustive_omitted_patterns)]\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #89554 <https://github.com/rust-lang/rust/issues/89554> for more information\n+   = help: add `#![feature(non_exhaustive_omitted_patterns_lint)]` to the crate attributes to enable\n+\n+error[E0658]: the `non_exhaustive_omitted_patterns` lint is unstable\n+  --> $DIR/feature-gate-non_exhaustive_omitted_patterns_lint.rs:13:5\n+   |\n+LL |     #[allow(non_exhaustive_omitted_patterns)]\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #89554 <https://github.com/rust-lang/rust/issues/89554> for more information\n+   = help: add `#![feature(non_exhaustive_omitted_patterns_lint)]` to the crate attributes to enable\n+\n+error[E0658]: the `non_exhaustive_omitted_patterns` lint is unstable\n+  --> $DIR/feature-gate-non_exhaustive_omitted_patterns_lint.rs:26:9\n+   |\n+LL |         #[warn(non_exhaustive_omitted_patterns)]\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #89554 <https://github.com/rust-lang/rust/issues/89554> for more information\n+   = help: add `#![feature(non_exhaustive_omitted_patterns_lint)]` to the crate attributes to enable\n+\n+error: aborting due to 10 previous errors\n+\n+For more information about this error, try `rustc --explain E0658`."}, {"sha": "ce1b5c7c377a49d05ffe10c056a4d506a6739741", "filename": "src/test/ui/rfc-2008-non-exhaustive/reachable-patterns.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfa5391f0bb99571295cd378b7305410dab6f215/src%2Ftest%2Fui%2Frfc-2008-non-exhaustive%2Freachable-patterns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfa5391f0bb99571295cd378b7305410dab6f215/src%2Ftest%2Fui%2Frfc-2008-non-exhaustive%2Freachable-patterns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2008-non-exhaustive%2Freachable-patterns.rs?ref=cfa5391f0bb99571295cd378b7305410dab6f215", "patch": "@@ -1,5 +1,7 @@\n // Test that the `non_exhaustive_omitted_patterns` lint is triggered correctly.\n \n+#![feature(non_exhaustive_omitted_patterns_lint)]\n+\n // aux-build:enums.rs\n extern crate enums;\n "}, {"sha": "5b21e0402b192795c1008904da22eae97f7d24af", "filename": "src/test/ui/rfc-2008-non-exhaustive/reachable-patterns.stderr", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/cfa5391f0bb99571295cd378b7305410dab6f215/src%2Ftest%2Fui%2Frfc-2008-non-exhaustive%2Freachable-patterns.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfa5391f0bb99571295cd378b7305410dab6f215/src%2Ftest%2Fui%2Frfc-2008-non-exhaustive%2Freachable-patterns.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2008-non-exhaustive%2Freachable-patterns.stderr?ref=cfa5391f0bb99571295cd378b7305410dab6f215", "patch": "@@ -1,47 +1,47 @@\n warning: some fields are not explicitly listed\n-  --> $DIR/reachable-patterns.rs:127:9\n+  --> $DIR/reachable-patterns.rs:129:9\n    |\n LL |         VariantNonExhaustive::Bar { x, .. } => {}\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ field `y` not listed\n    |\n note: the lint level is defined here\n-  --> $DIR/reachable-patterns.rs:124:12\n+  --> $DIR/reachable-patterns.rs:126:12\n    |\n LL |     #[warn(non_exhaustive_omitted_patterns)]\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = help: ensure that all fields are mentioned explicitly by adding the suggested fields\n    = note: the pattern is of type `VariantNonExhaustive` and the `non_exhaustive_omitted_patterns` attribute was found\n \n warning: some fields are not explicitly listed\n-  --> $DIR/reachable-patterns.rs:132:9\n+  --> $DIR/reachable-patterns.rs:134:9\n    |\n LL |     let FunctionalRecord { first_field, second_field, .. } = FunctionalRecord::default();\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ field `third_field` not listed\n    |\n note: the lint level is defined here\n-  --> $DIR/reachable-patterns.rs:131:12\n+  --> $DIR/reachable-patterns.rs:133:12\n    |\n LL |     #[warn(non_exhaustive_omitted_patterns)]\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = help: ensure that all fields are mentioned explicitly by adding the suggested fields\n    = note: the pattern is of type `FunctionalRecord` and the `non_exhaustive_omitted_patterns` attribute was found\n \n warning: some fields are not explicitly listed\n-  --> $DIR/reachable-patterns.rs:140:29\n+  --> $DIR/reachable-patterns.rs:142:29\n    |\n LL |     let NestedStruct { bar: NormalStruct { first_field, .. }, .. } = NestedStruct::default();\n    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ field `second_field` not listed\n    |\n note: the lint level is defined here\n-  --> $DIR/reachable-patterns.rs:139:12\n+  --> $DIR/reachable-patterns.rs:141:12\n    |\n LL |     #[warn(non_exhaustive_omitted_patterns)]\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = help: ensure that all fields are mentioned explicitly by adding the suggested fields\n    = note: the pattern is of type `NormalStruct` and the `non_exhaustive_omitted_patterns` attribute was found\n \n warning: some fields are not explicitly listed\n-  --> $DIR/reachable-patterns.rs:140:9\n+  --> $DIR/reachable-patterns.rs:142:9\n    |\n LL |     let NestedStruct { bar: NormalStruct { first_field, .. }, .. } = NestedStruct::default();\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ field `foo` not listed\n@@ -50,63 +50,63 @@ LL |     let NestedStruct { bar: NormalStruct { first_field, .. }, .. } = Nested\n    = note: the pattern is of type `NestedStruct` and the `non_exhaustive_omitted_patterns` attribute was found\n \n error: some variants are not matched explicitly\n-  --> $DIR/reachable-patterns.rs:54:9\n+  --> $DIR/reachable-patterns.rs:56:9\n    |\n LL |         _ => {}\n    |         ^ pattern `Struct { .. }` not covered\n    |\n note: the lint level is defined here\n-  --> $DIR/reachable-patterns.rs:53:16\n+  --> $DIR/reachable-patterns.rs:55:16\n    |\n LL |         #[deny(non_exhaustive_omitted_patterns)]\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = help: ensure that all variants are matched explicitly by adding the suggested match arms\n    = note: the matched value is of type `NonExhaustiveEnum` and the `non_exhaustive_omitted_patterns` attribute was found\n \n error: some variants are not matched explicitly\n-  --> $DIR/reachable-patterns.rs:61:9\n+  --> $DIR/reachable-patterns.rs:63:9\n    |\n LL |         _ => {}\n    |         ^ pattern `Tuple(_)` not covered\n    |\n note: the lint level is defined here\n-  --> $DIR/reachable-patterns.rs:60:16\n+  --> $DIR/reachable-patterns.rs:62:16\n    |\n LL |         #[deny(non_exhaustive_omitted_patterns)]\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = help: ensure that all variants are matched explicitly by adding the suggested match arms\n    = note: the matched value is of type `NonExhaustiveEnum` and the `non_exhaustive_omitted_patterns` attribute was found\n \n error: some variants are not matched explicitly\n-  --> $DIR/reachable-patterns.rs:71:9\n+  --> $DIR/reachable-patterns.rs:73:9\n    |\n LL |         _ => {}\n    |         ^ pattern `Unit` not covered\n    |\n note: the lint level is defined here\n-  --> $DIR/reachable-patterns.rs:70:16\n+  --> $DIR/reachable-patterns.rs:72:16\n    |\n LL |         #[deny(non_exhaustive_omitted_patterns)]\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = help: ensure that all variants are matched explicitly by adding the suggested match arms\n    = note: the matched value is of type `NonExhaustiveEnum` and the `non_exhaustive_omitted_patterns` attribute was found\n \n error: some variants are not matched explicitly\n-  --> $DIR/reachable-patterns.rs:88:32\n+  --> $DIR/reachable-patterns.rs:90:32\n    |\n LL |         NestedNonExhaustive::A(_) => {}\n    |                                ^ patterns `Tuple(_)` and `Struct { .. }` not covered\n    |\n note: the lint level is defined here\n-  --> $DIR/reachable-patterns.rs:85:12\n+  --> $DIR/reachable-patterns.rs:87:12\n    |\n LL |     #[deny(non_exhaustive_omitted_patterns)]\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = help: ensure that all variants are matched explicitly by adding the suggested match arms\n    = note: the matched value is of type `NonExhaustiveEnum` and the `non_exhaustive_omitted_patterns` attribute was found\n \n error: some variants are not matched explicitly\n-  --> $DIR/reachable-patterns.rs:90:9\n+  --> $DIR/reachable-patterns.rs:92:9\n    |\n LL |         _ => {}\n    |         ^ pattern `C` not covered\n@@ -115,27 +115,27 @@ LL |         _ => {}\n    = note: the matched value is of type `NestedNonExhaustive` and the `non_exhaustive_omitted_patterns` attribute was found\n \n error: some variants are not matched explicitly\n-  --> $DIR/reachable-patterns.rs:120:9\n+  --> $DIR/reachable-patterns.rs:122:9\n    |\n LL |         _ => {}\n    |         ^ patterns `HostUnreachable`, `NetworkUnreachable`, `NetworkDown` and 18 more not covered\n    |\n note: the lint level is defined here\n-  --> $DIR/reachable-patterns.rs:97:12\n+  --> $DIR/reachable-patterns.rs:99:12\n    |\n LL |     #[deny(non_exhaustive_omitted_patterns)]\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = help: ensure that all variants are matched explicitly by adding the suggested match arms\n    = note: the matched value is of type `ErrorKind` and the `non_exhaustive_omitted_patterns` attribute was found\n \n error: some variants are not matched explicitly\n-  --> $DIR/reachable-patterns.rs:157:9\n+  --> $DIR/reachable-patterns.rs:159:9\n    |\n LL |         _ => {}\n    |         ^ pattern `A(_)` not covered\n    |\n note: the lint level is defined here\n-  --> $DIR/reachable-patterns.rs:155:12\n+  --> $DIR/reachable-patterns.rs:157:12\n    |\n LL |     #[deny(non_exhaustive_omitted_patterns)]\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"}]}