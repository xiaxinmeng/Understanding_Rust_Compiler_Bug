{"sha": "a2960bc7c6108f92a6c8c27418b20af1337208cf", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEyOTYwYmM3YzYxMDhmOTJhNmM4YzI3NDE4YjIwYWYxMzM3MjA4Y2Y=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2016-01-07T23:36:09Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2016-01-07T23:36:09Z"}, "message": "update test to reflect other sources of brokenness in it under new\nmacro future proofing rules.\n\n(We may want to think about what this test was actually testing and\nfigure out a way to test it without running afoul of macro future\nproofing.  I spent some time trying to do this, e.g. by inserting\nparenthesis in the macro input pattern, but I could not quickly get it\nworking, so I took this tack instead.)", "tree": {"sha": "bced203e0cde91fdfbb9769f99a7a6b46d9fed21", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bced203e0cde91fdfbb9769f99a7a6b46d9fed21"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a2960bc7c6108f92a6c8c27418b20af1337208cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a2960bc7c6108f92a6c8c27418b20af1337208cf", "html_url": "https://github.com/rust-lang/rust/commit/a2960bc7c6108f92a6c8c27418b20af1337208cf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a2960bc7c6108f92a6c8c27418b20af1337208cf/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c032e0c7a700144e035731ee153c13dde8db8575", "url": "https://api.github.com/repos/rust-lang/rust/commits/c032e0c7a700144e035731ee153c13dde8db8575", "html_url": "https://github.com/rust-lang/rust/commit/c032e0c7a700144e035731ee153c13dde8db8575"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "7ad43954010b9b4333e422e3cdab9c47a16ceaad", "filename": "src/test/compile-fail/issue-30715.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a2960bc7c6108f92a6c8c27418b20af1337208cf/src%2Ftest%2Fcompile-fail%2Fissue-30715.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a2960bc7c6108f92a6c8c27418b20af1337208cf/src%2Ftest%2Fcompile-fail%2Fissue-30715.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-30715.rs?ref=a2960bc7c6108f92a6c8c27418b20af1337208cf", "patch": "@@ -10,7 +10,12 @@\n \n macro_rules! parallel {\n     (\n-        for $id:ident in $iter:expr {\n+        // If future has `pred`/`moelarry` fragments (where \"pred\" is\n+        // \"like expr, but with `{` in its FOLLOW set\"), then could\n+        // use `pred` instead of future-proof erroring here. See also:\n+        //\n+        // https://github.com/rust-lang/rfcs/pull/1384#issuecomment-160165525\n+        for $id:ident in $iter:expr { //~ WARN `$iter:expr` is followed by `{`\n             $( $inner:expr; )*\n         }\n     ) => {};"}]}