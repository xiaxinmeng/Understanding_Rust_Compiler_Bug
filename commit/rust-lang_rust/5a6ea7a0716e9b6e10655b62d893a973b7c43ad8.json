{"sha": "5a6ea7a0716e9b6e10655b62d893a973b7c43ad8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVhNmVhN2EwNzE2ZTliNmUxMDY1NWI2MmQ4OTNhOTczYjdjNDNhZDg=", "commit": {"author": {"name": "S\u00e9bastien Marie", "email": "semarie@users.noreply.github.com", "date": "2015-02-16T12:53:46Z"}, "committer": {"name": "S\u00e9bastien Marie", "email": "semarie@users.noreply.github.com", "date": "2015-02-16T12:53:46Z"}, "message": "change the signal used to test signal_reported_right\n\nThe test \"signal_reported_right\" send a signal `1` to `/bin/sh`, and check\nthe status code to check if the signal is reported right.\n\nUnder OpenBSD, the signal `1` (`SIGHUP`) is catched by `/bin/sh`,\nresulting the test failed.\n\nUse the uncatchable signal `9` (`SIGKILL`) for test.", "tree": {"sha": "63faee662879145f0323f57c12b27a8f36b5ef61", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/63faee662879145f0323f57c12b27a8f36b5ef61"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5a6ea7a0716e9b6e10655b62d893a973b7c43ad8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5a6ea7a0716e9b6e10655b62d893a973b7c43ad8", "html_url": "https://github.com/rust-lang/rust/commit/5a6ea7a0716e9b6e10655b62d893a973b7c43ad8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5a6ea7a0716e9b6e10655b62d893a973b7c43ad8/comments", "author": {"login": "semarie", "id": 8948701, "node_id": "MDQ6VXNlcjg5NDg3MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/8948701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/semarie", "html_url": "https://github.com/semarie", "followers_url": "https://api.github.com/users/semarie/followers", "following_url": "https://api.github.com/users/semarie/following{/other_user}", "gists_url": "https://api.github.com/users/semarie/gists{/gist_id}", "starred_url": "https://api.github.com/users/semarie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/semarie/subscriptions", "organizations_url": "https://api.github.com/users/semarie/orgs", "repos_url": "https://api.github.com/users/semarie/repos", "events_url": "https://api.github.com/users/semarie/events{/privacy}", "received_events_url": "https://api.github.com/users/semarie/received_events", "type": "User", "site_admin": false}, "committer": {"login": "semarie", "id": 8948701, "node_id": "MDQ6VXNlcjg5NDg3MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/8948701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/semarie", "html_url": "https://github.com/semarie", "followers_url": "https://api.github.com/users/semarie/followers", "following_url": "https://api.github.com/users/semarie/following{/other_user}", "gists_url": "https://api.github.com/users/semarie/gists{/gist_id}", "starred_url": "https://api.github.com/users/semarie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/semarie/subscriptions", "organizations_url": "https://api.github.com/users/semarie/orgs", "repos_url": "https://api.github.com/users/semarie/repos", "events_url": "https://api.github.com/users/semarie/events{/privacy}", "received_events_url": "https://api.github.com/users/semarie/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c5db290bf6df986a6acd5ce993f278c18e55ca37", "url": "https://api.github.com/repos/rust-lang/rust/commits/c5db290bf6df986a6acd5ce993f278c18e55ca37", "html_url": "https://github.com/rust-lang/rust/commit/c5db290bf6df986a6acd5ce993f278c18e55ca37"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "09a0deec9c93527a7194a09a8a6b146893dfc9d0", "filename": "src/libstd/old_io/process.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5a6ea7a0716e9b6e10655b62d893a973b7c43ad8/src%2Flibstd%2Fold_io%2Fprocess.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a6ea7a0716e9b6e10655b62d893a973b7c43ad8/src%2Flibstd%2Fold_io%2Fprocess.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fold_io%2Fprocess.rs?ref=5a6ea7a0716e9b6e10655b62d893a973b7c43ad8", "patch": "@@ -800,12 +800,12 @@ mod tests {\n     #[cfg(all(unix, not(target_os=\"android\")))]\n     #[test]\n     fn signal_reported_right() {\n-        let p = Command::new(\"/bin/sh\").arg(\"-c\").arg(\"kill -1 $$\").spawn();\n+        let p = Command::new(\"/bin/sh\").arg(\"-c\").arg(\"kill -9 $$\").spawn();\n         assert!(p.is_ok());\n         let mut p = p.unwrap();\n         match p.wait().unwrap() {\n-            process::ExitSignal(1) => {},\n-            result => panic!(\"not terminated by signal 1 (instead, {})\", result),\n+            process::ExitSignal(9) => {},\n+            result => panic!(\"not terminated by signal 9 (instead, {})\", result),\n         }\n     }\n "}, {"sha": "0530527c93fe665243642797153b122edff9aa11", "filename": "src/libstd/process.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5a6ea7a0716e9b6e10655b62d893a973b7c43ad8/src%2Flibstd%2Fprocess.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a6ea7a0716e9b6e10655b62d893a973b7c43ad8/src%2Flibstd%2Fprocess.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fprocess.rs?ref=5a6ea7a0716e9b6e10655b62d893a973b7c43ad8", "patch": "@@ -537,12 +537,12 @@ mod tests {\n     fn signal_reported_right() {\n         use os::unix::ExitStatusExt;\n \n-        let p = Command::new(\"/bin/sh\").arg(\"-c\").arg(\"kill -1 $$\").spawn();\n+        let p = Command::new(\"/bin/sh\").arg(\"-c\").arg(\"kill -9 $$\").spawn();\n         assert!(p.is_ok());\n         let mut p = p.unwrap();\n         match p.wait().unwrap().signal() {\n-            Some(1) => {},\n-            result => panic!(\"not terminated by signal 1 (instead, {:?})\", result),\n+            Some(9) => {},\n+            result => panic!(\"not terminated by signal 9 (instead, {:?})\", result),\n         }\n     }\n "}]}