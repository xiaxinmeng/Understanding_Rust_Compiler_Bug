{"sha": "e2974ba8f7d862eac084ada2fdf327bbde803bed", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUyOTc0YmE4ZjdkODYyZWFjMDg0YWRhMmZkZjMyN2JiZGU4MDNiZWQ=", "commit": {"author": {"name": "Mikhail Rakhmanov", "email": "rakhmanov.m@gmail.com", "date": "2020-05-23T09:57:12Z"}, "committer": {"name": "Mikhail Rakhmanov", "email": "rakhmanov.m@gmail.com", "date": "2020-05-23T09:57:12Z"}, "message": "Remove unnecessary set_file and change variable positions for better readability", "tree": {"sha": "a863ddf69307ce02d1528d5856163217402951fc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a863ddf69307ce02d1528d5856163217402951fc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e2974ba8f7d862eac084ada2fdf327bbde803bed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e2974ba8f7d862eac084ada2fdf327bbde803bed", "html_url": "https://github.com/rust-lang/rust/commit/e2974ba8f7d862eac084ada2fdf327bbde803bed", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e2974ba8f7d862eac084ada2fdf327bbde803bed/comments", "author": {"login": "mcrakhman", "id": 16068868, "node_id": "MDQ6VXNlcjE2MDY4ODY4", "avatar_url": "https://avatars.githubusercontent.com/u/16068868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcrakhman", "html_url": "https://github.com/mcrakhman", "followers_url": "https://api.github.com/users/mcrakhman/followers", "following_url": "https://api.github.com/users/mcrakhman/following{/other_user}", "gists_url": "https://api.github.com/users/mcrakhman/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcrakhman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcrakhman/subscriptions", "organizations_url": "https://api.github.com/users/mcrakhman/orgs", "repos_url": "https://api.github.com/users/mcrakhman/repos", "events_url": "https://api.github.com/users/mcrakhman/events{/privacy}", "received_events_url": "https://api.github.com/users/mcrakhman/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mcrakhman", "id": 16068868, "node_id": "MDQ6VXNlcjE2MDY4ODY4", "avatar_url": "https://avatars.githubusercontent.com/u/16068868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcrakhman", "html_url": "https://github.com/mcrakhman", "followers_url": "https://api.github.com/users/mcrakhman/followers", "following_url": "https://api.github.com/users/mcrakhman/following{/other_user}", "gists_url": "https://api.github.com/users/mcrakhman/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcrakhman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcrakhman/subscriptions", "organizations_url": "https://api.github.com/users/mcrakhman/orgs", "repos_url": "https://api.github.com/users/mcrakhman/repos", "events_url": "https://api.github.com/users/mcrakhman/events{/privacy}", "received_events_url": "https://api.github.com/users/mcrakhman/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3a244e02b53687161d4cc39254cb9a432756017f", "url": "https://api.github.com/repos/rust-lang/rust/commits/3a244e02b53687161d4cc39254cb9a432756017f", "html_url": "https://github.com/rust-lang/rust/commit/3a244e02b53687161d4cc39254cb9a432756017f"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "dd2fd57a7a2f97e31cb349372c48b6e043c9099d", "filename": "crates/ra_assists/src/handlers/extract_struct_from_enum_variant.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e2974ba8f7d862eac084ada2fdf327bbde803bed/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fextract_struct_from_enum_variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2974ba8f7d862eac084ada2fdf327bbde803bed/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fextract_struct_from_enum_variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fextract_struct_from_enum_variant.rs?ref=e2974ba8f7d862eac084ada2fdf327bbde803bed", "patch": "@@ -127,12 +127,12 @@ fn extract_struct_def(\n     } else {\n         \"\".to_string()\n     };\n-    let mut buf = String::new();\n     let indent = if let Some(indent) = leading_indent(enum_ast) {\n         indent.to_string()\n     } else {\n         \"\".to_string()\n     };\n+    let mut buf = String::new();\n \n     format_to!(\n         buf,\n@@ -161,7 +161,6 @@ fn update_variant(\n         list_range.end().checked_sub(TextSize::from(1))?,\n     );\n     edit.perform(file_id, |builder| {\n-        builder.set_file(file_id);\n         builder.replace(inside_variant_range, variant_name);\n     });\n     Some(())"}]}