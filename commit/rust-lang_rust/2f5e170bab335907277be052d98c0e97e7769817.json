{"sha": "2f5e170bab335907277be052d98c0e97e7769817", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmNWUxNzBiYWIzMzU5MDcyNzdiZTA1MmQ5OGMwZTk3ZTc3Njk4MTc=", "commit": {"author": {"name": "Arthur Liao", "email": "arthurtw8@gmail.com", "date": "2014-12-10T12:46:33Z"}, "committer": {"name": "Arthur Liao", "email": "arthurtw8@gmail.com", "date": "2014-12-10T12:46:33Z"}, "message": "Update sample code to use `getopts::usage` in `print_usage`", "tree": {"sha": "ecc61557de8036db9d7f48a8133d888b5b862dd1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ecc61557de8036db9d7f48a8133d888b5b862dd1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2f5e170bab335907277be052d98c0e97e7769817", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2f5e170bab335907277be052d98c0e97e7769817", "html_url": "https://github.com/rust-lang/rust/commit/2f5e170bab335907277be052d98c0e97e7769817", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2f5e170bab335907277be052d98c0e97e7769817/comments", "author": {"login": "arthurtw", "id": 9970062, "node_id": "MDQ6VXNlcjk5NzAwNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/9970062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthurtw", "html_url": "https://github.com/arthurtw", "followers_url": "https://api.github.com/users/arthurtw/followers", "following_url": "https://api.github.com/users/arthurtw/following{/other_user}", "gists_url": "https://api.github.com/users/arthurtw/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthurtw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthurtw/subscriptions", "organizations_url": "https://api.github.com/users/arthurtw/orgs", "repos_url": "https://api.github.com/users/arthurtw/repos", "events_url": "https://api.github.com/users/arthurtw/events{/privacy}", "received_events_url": "https://api.github.com/users/arthurtw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "arthurtw", "id": 9970062, "node_id": "MDQ6VXNlcjk5NzAwNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/9970062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthurtw", "html_url": "https://github.com/arthurtw", "followers_url": "https://api.github.com/users/arthurtw/followers", "following_url": "https://api.github.com/users/arthurtw/following{/other_user}", "gists_url": "https://api.github.com/users/arthurtw/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthurtw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthurtw/subscriptions", "organizations_url": "https://api.github.com/users/arthurtw/orgs", "repos_url": "https://api.github.com/users/arthurtw/repos", "events_url": "https://api.github.com/users/arthurtw/events{/privacy}", "received_events_url": "https://api.github.com/users/arthurtw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fddec2d88a1b44c6eb8922127b8683e1c6778052", "url": "https://api.github.com/repos/rust-lang/rust/commits/fddec2d88a1b44c6eb8922127b8683e1c6778052", "html_url": "https://github.com/rust-lang/rust/commit/fddec2d88a1b44c6eb8922127b8683e1c6778052"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "e2306bcadab0fdf68bff1e3581643cdd96815c78", "filename": "src/libgetopts/lib.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/2f5e170bab335907277be052d98c0e97e7769817/src%2Flibgetopts%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f5e170bab335907277be052d98c0e97e7769817/src%2Flibgetopts%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibgetopts%2Flib.rs?ref=2f5e170bab335907277be052d98c0e97e7769817", "patch": "@@ -33,7 +33,7 @@\n //!\n //! ```{.rust}\n //! extern crate getopts;\n-//! use getopts::{optopt,optflag,getopts,OptGroup};\n+//! use getopts::{optopt,optflag,getopts,OptGroup,usage};\n //! use std::os;\n //!\n //! fn do_work(inp: &str, out: Option<String>) {\n@@ -44,10 +44,9 @@\n //!     }\n //! }\n //!\n-//! fn print_usage(program: &str, _opts: &[OptGroup]) {\n-//!     println!(\"Usage: {} [options]\", program);\n-//!     println!(\"-o\\t\\tOutput\");\n-//!     println!(\"-h --help\\tUsage\");\n+//! fn print_usage(program: &str, opts: &[OptGroup]) {\n+//!     let brief = format!(\"Usage: {} [options]\", program);\n+//!     print!(\"{}\", usage(brief.as_slice(), opts));\n //! }\n //!\n //! fn main() {"}]}