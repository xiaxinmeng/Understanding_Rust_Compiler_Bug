{"sha": "754fdad4a878340bb90a10f0072e6d4891d63c70", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc1NGZkYWQ0YTg3ODM0MGJiOTBhMTBmMDA3MmU2ZDQ4OTFkNjNjNzA=", "commit": {"author": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2017-03-25T02:37:55Z"}, "committer": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2017-05-25T05:52:12Z"}, "message": "Add tests.", "tree": {"sha": "8e9b1b9530cf29e9a1e0621e2d5ad3250085de1b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8e9b1b9530cf29e9a1e0621e2d5ad3250085de1b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/754fdad4a878340bb90a10f0072e6d4891d63c70", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/754fdad4a878340bb90a10f0072e6d4891d63c70", "html_url": "https://github.com/rust-lang/rust/commit/754fdad4a878340bb90a10f0072e6d4891d63c70", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/754fdad4a878340bb90a10f0072e6d4891d63c70/comments", "author": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3eb235b45ef085858cd1c2fad1cf538ba93f81a2", "url": "https://api.github.com/repos/rust-lang/rust/commits/3eb235b45ef085858cd1c2fad1cf538ba93f81a2", "html_url": "https://github.com/rust-lang/rust/commit/3eb235b45ef085858cd1c2fad1cf538ba93f81a2"}], "stats": {"total": 451, "additions": 451, "deletions": 0}, "files": [{"sha": "af7d5fec07199d4c125fa03fc0bebaa685273518", "filename": "src/test/compile-fail/feature-gate-decl_macro.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Ffeature-gate-decl_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Ffeature-gate-decl_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-decl_macro.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,14 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+macro m() {} //~ ERROR `macro` is experimental (see issue #39412)\n+//~| HELP add #![feature(decl_macro)] to the crate attributes to enable\n+\n+fn main() {}"}, {"sha": "7ba217061c66ee986911556a844bc7a0a52b94a0", "filename": "src/test/compile-fail/hygiene/globs.rs", "status": "added", "additions": 68, "deletions": 0, "changes": 68, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fglobs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fglobs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fglobs.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,68 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+mod foo {\n+    pub fn f() {}\n+}\n+\n+mod bar {\n+    pub fn g() {}\n+}\n+\n+macro m($($t:tt)*) {\n+    $($t)*\n+    use foo::*;\n+    f();\n+    g(); //~ ERROR cannot find function `g` in this scope\n+}\n+\n+fn main() {\n+    m! {\n+        use bar::*;\n+        g();\n+        f(); //~ ERROR cannot find function `f` in this scope\n+    }\n+}\n+\n+n!(f);\n+macro n($i:ident) {\n+    mod foo {\n+        pub fn $i() -> u32 { 0 }\n+        pub fn f() {}\n+\n+        mod test {\n+            use super::*;\n+            fn g() {\n+                let _: u32 = $i();\n+                let _: () = f();\n+            }\n+        }\n+\n+        macro n($j:ident) {\n+            mod test {\n+                use super::*;\n+                fn g() {\n+                    let _: u32 = $i();\n+                    let _: () = f();\n+                    $j();\n+                }\n+            }\n+        }\n+\n+        n!(f);\n+        mod test2 {\n+            super::n! {\n+                f //~ ERROR cannot find function `f` in this scope\n+            }\n+        }\n+    }\n+}"}, {"sha": "6612359649c194cd660655ff18126b038db90ebd", "filename": "src/test/compile-fail/hygiene/nested_macro_privacy.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fnested_macro_privacy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fnested_macro_privacy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fnested_macro_privacy.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,27 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+macro n($foo:ident, $S:ident, $i:ident, $m:ident) {\n+    mod $foo {\n+        #[derive(Default)]\n+        pub struct $S { $i: u32 }\n+        pub macro $m($e:expr) { $e.$i }\n+    }\n+}\n+\n+n!(foo, S, i, m);\n+\n+fn main() {\n+    use foo::{S, m};\n+    S::default().i; //~ ERROR field `i` of struct `foo::S` is private\n+    m!(S::default()); // ok\n+}"}, {"sha": "c90c7b3093c9f0e5d04a15371b082d4cf05dbf38", "filename": "src/test/compile-fail/hygiene/no_implicit_prelude.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fno_implicit_prelude.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fno_implicit_prelude.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fno_implicit_prelude.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,25 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+mod foo {\n+    pub macro m() { Vec::new(); ().clone() }\n+    fn f() { ::bar::m!(); }\n+}\n+\n+#[no_implicit_prelude]\n+mod bar {\n+    pub macro m() {\n+        Vec::new(); //~ ERROR failed to resolve\n+        ().clone() //~ ERROR no method named `clone` found\n+    }\n+    fn f() { ::foo::m!(); }\n+}"}, {"sha": "987cad187d428c7dcf719df625bc4ec736a3f755", "filename": "src/test/compile-fail/hygiene/privacy.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fprivacy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fprivacy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhygiene%2Fprivacy.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,28 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+mod foo {\n+    fn f() {}\n+\n+    pub macro m($e:expr) {\n+        f();\n+        self::f();\n+        ::foo::f();\n+        $e\n+    }\n+}\n+\n+fn main() {\n+    foo::m!(\n+        foo::f() //~ ERROR `f` is private\n+    );\n+}"}, {"sha": "3bd19cbc0ac67cbf48b4138d0118a906bc799d05", "filename": "src/test/compile-fail/hygiene/trait_items.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Fhygiene%2Ftrait_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Fcompile-fail%2Fhygiene%2Ftrait_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhygiene%2Ftrait_items.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+mod foo {\n+    pub trait T {\n+        fn f(&self) {}\n+    }\n+    impl T for () {}\n+}\n+\n+mod bar {\n+    use foo::*;\n+    pub macro m() { ().f() }\n+    fn f() { ::baz::m!(); }\n+}\n+\n+mod baz {\n+    pub macro m() { ().f() } //~ ERROR no method named `f` found for type `()` in the current scope\n+    fn f() { ::bar::m!(); }\n+}\n+\n+fn main() {}"}, {"sha": "19fd08c14df4c1982aa656d46be2c0765e3ef233", "filename": "src/test/run-pass/hygiene/arguments.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Farguments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Farguments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fhygiene%2Farguments.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,25 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+macro m($t:ty, $e:expr) {\n+    mod foo {\n+        #[allow(unused)]\n+        struct S;\n+        pub(super) fn f(_: $t) {}\n+    }\n+    foo::f($e);\n+}\n+\n+fn main() {\n+    struct S;\n+    m!(S, S);\n+}"}, {"sha": "aa67e5c5f4db7bcaf1d43feb2d228b63982cca6e", "filename": "src/test/run-pass/hygiene/auxiliary/intercrate.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Fauxiliary%2Fintercrate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Fauxiliary%2Fintercrate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fhygiene%2Fauxiliary%2Fintercrate.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+pub mod foo {\n+    pub use self::bar::m;\n+    mod bar {\n+        fn f() -> u32 { 1 }\n+        pub macro m() {\n+            f();\n+        }\n+    }\n+}"}, {"sha": "6768753f16c4df1039cbdf33f29f2be91f0be656", "filename": "src/test/run-pass/hygiene/fields.rs", "status": "added", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Ffields.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Ffields.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fhygiene%2Ffields.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,38 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+mod foo {\n+    struct S { x: u32 }\n+    struct T(u32);\n+\n+    pub macro m($S:ident, $x:ident) {{\n+        struct $S {\n+            $x: u32,\n+            x: i32,\n+        }\n+\n+        let s = S { x: 0 };\n+        let _ = s.x;\n+\n+        let t = T(0);\n+        let _ = t.0;\n+\n+        let s = $S { $x: 0, x: 1 };\n+        assert_eq!((s.$x, s.x), (0, 1));\n+        s\n+    }}\n+}\n+\n+fn main() {\n+    let s = foo::m!(S, x);\n+    assert_eq!(s.x, 0);\n+}"}, {"sha": "01b8e22e9efa23831cad3f410ecda58bd9ec1433", "filename": "src/test/run-pass/hygiene/impl_items.rs", "status": "added", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Fimpl_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Fimpl_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fhygiene%2Fimpl_items.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,42 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+mod foo {\n+    struct S;\n+    impl S {\n+        fn f(&self) {}\n+    }\n+\n+    pub macro m() {\n+        let _: () = S.f();\n+    }\n+}\n+\n+struct S;\n+\n+macro m($f:ident) {\n+    impl S {\n+        fn f(&self) -> u32 { 0 }\n+        fn $f(&self) -> i32 { 0 }\n+    }\n+    fn f() {\n+        let _: u32 = S.f();\n+        let _: i32 = S.$f();\n+    }\n+}\n+\n+m!(f);\n+\n+fn main() {\n+    let _: i32 = S.f();\n+    foo::m!();\n+}"}, {"sha": "6550b649230417e1461eff18c0adbff5e5dced98", "filename": "src/test/run-pass/hygiene/intercrate.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Fintercrate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Fintercrate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fhygiene%2Fintercrate.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,19 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// aux-build:intercrate.rs\n+\n+#![feature(decl_macro)]\n+\n+extern crate intercrate;\n+\n+fn main() {\n+    assert_eq!(intercrate::foo::m!(), 1);\n+}"}, {"sha": "1fc51eec26ce04b0bfc2ee6c11ac1198f64f8595", "filename": "src/test/run-pass/hygiene/items.rs", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Fitems.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Fitems.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fhygiene%2Fitems.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,34 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+pub macro m($foo:ident, $f:ident, $e:expr) {\n+    mod foo {\n+        pub fn f() -> u32 { 0 }\n+        pub fn $f() -> u64 { 0 }\n+    }\n+\n+    mod $foo {\n+        pub fn f() -> i32 { 0 }\n+        pub fn $f() -> i64 { 0  }\n+    }\n+\n+    let _: u32 = foo::f();\n+    let _: u64 = foo::$f();\n+    let _: i32 = $foo::f();\n+    let _: i64 = $foo::$f();\n+    let _: i64 = $e;\n+}\n+\n+fn main() {\n+    m!(foo, f, foo::f());\n+    let _: i64 = foo::f();\n+}"}, {"sha": "40683917942da2829f6ca65bf47735c8b311ab6a", "filename": "src/test/run-pass/hygiene/lexical.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Flexical.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Flexical.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fhygiene%2Flexical.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+mod bar {\n+    mod baz {\n+        pub fn f() {}\n+    }\n+\n+    pub macro m($f:ident) {\n+        baz::f();\n+        let _: i32 = $f();\n+        {\n+            fn $f() -> u32 { 0 }\n+            let _: u32 = $f();\n+        }\n+    }\n+}\n+\n+fn main() {\n+    fn f() -> i32 { 0 }\n+    bar::m!(f);\n+}"}, {"sha": "ed57d6de1af046593afacfa758f44ab87829f69e", "filename": "src/test/run-pass/hygiene/trait_items.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Ftrait_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Ftrait_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fhygiene%2Ftrait_items.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,27 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+macro m($T:ident, $f:ident) {\n+    pub trait $T {\n+        fn f(&self) -> u32 { 0 }\n+        fn $f(&self) -> i32 { 0 }\n+    }\n+    impl $T for () {}\n+\n+    let _: u32 = ().f();\n+    let _: i32 = ().$f();\n+}\n+\n+fn main() {\n+    m!(T, f);\n+    let _: i32 = ().f();\n+}"}, {"sha": "f41c365d3802624a8d0288b95b4833b3c05bb529", "filename": "src/test/run-pass/hygiene/ty_params.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Fty_params.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754fdad4a878340bb90a10f0072e6d4891d63c70/src%2Ftest%2Frun-pass%2Fhygiene%2Fty_params.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fhygiene%2Fty_params.rs?ref=754fdad4a878340bb90a10f0072e6d4891d63c70", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(decl_macro)]\n+\n+macro m($T:ident) {\n+    fn f<T, $T>(t: T, t2: $T) -> (T, $T) {\n+        (t, t2)\n+    }\n+}\n+\n+m!(T);\n+\n+fn main() {}"}]}