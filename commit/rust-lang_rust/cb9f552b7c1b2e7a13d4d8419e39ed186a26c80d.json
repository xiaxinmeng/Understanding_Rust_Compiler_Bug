{"sha": "cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNiOWY1NTJiN2MxYjJlN2ExM2Q0ZDg0MTllMzllZDE4NmEyNmM4MGQ=", "commit": {"author": {"name": "Michael Hewson", "email": "michael@michaelhewson.ca", "date": "2017-12-11T17:14:47Z"}, "committer": {"name": "Michael Hewson", "email": "michael@michaelhewson.ca", "date": "2017-12-17T09:13:09Z"}, "message": "Add a feature_gate test for raw pointer self", "tree": {"sha": "6cb44304990a13eed3ca2ad8e4f0dd146601e087", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6cb44304990a13eed3ca2ad8e4f0dd146601e087"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d", "html_url": "https://github.com/rust-lang/rust/commit/cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d/comments", "author": {"login": "mikeyhew", "id": 6751033, "node_id": "MDQ6VXNlcjY3NTEwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/6751033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeyhew", "html_url": "https://github.com/mikeyhew", "followers_url": "https://api.github.com/users/mikeyhew/followers", "following_url": "https://api.github.com/users/mikeyhew/following{/other_user}", "gists_url": "https://api.github.com/users/mikeyhew/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeyhew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeyhew/subscriptions", "organizations_url": "https://api.github.com/users/mikeyhew/orgs", "repos_url": "https://api.github.com/users/mikeyhew/repos", "events_url": "https://api.github.com/users/mikeyhew/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeyhew/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mikeyhew", "id": 6751033, "node_id": "MDQ6VXNlcjY3NTEwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/6751033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeyhew", "html_url": "https://github.com/mikeyhew", "followers_url": "https://api.github.com/users/mikeyhew/followers", "following_url": "https://api.github.com/users/mikeyhew/following{/other_user}", "gists_url": "https://api.github.com/users/mikeyhew/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeyhew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeyhew/subscriptions", "organizations_url": "https://api.github.com/users/mikeyhew/orgs", "repos_url": "https://api.github.com/users/mikeyhew/repos", "events_url": "https://api.github.com/users/mikeyhew/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeyhew/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bff74fbfe2eccc3a1cf2f0e0823cca342e3b9cd1", "url": "https://api.github.com/repos/rust-lang/rust/commits/bff74fbfe2eccc3a1cf2f0e0823cca342e3b9cd1", "html_url": "https://github.com/rust-lang/rust/commit/bff74fbfe2eccc3a1cf2f0e0823cca342e3b9cd1"}], "stats": {"total": 57, "additions": 57, "deletions": 0}, "files": [{"sha": "29e51727edcfd8c3f576d8cfd9892f681794cc69", "filename": "src/test/ui/feature-gate-arbitrary_self_types-raw-pointer.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d/src%2Ftest%2Fui%2Ffeature-gate-arbitrary_self_types-raw-pointer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d/src%2Ftest%2Fui%2Ffeature-gate-arbitrary_self_types-raw-pointer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-arbitrary_self_types-raw-pointer.rs?ref=cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d", "patch": "@@ -0,0 +1,28 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+struct Foo;\n+\n+impl Foo {\n+    fn foo(self: *const Self) {}\n+    //~^ ERROR raw pointer `self` is unstable\n+}\n+\n+trait Bar {\n+    fn bar(self: *const Self);\n+    //~^ ERROR raw pointer `self` is unstable\n+}\n+\n+impl Bar for () {\n+    fn bar(self: *const Self) {}\n+    //~^ ERROR raw pointer `self` is unstable\n+}\n+\n+fn main() {}"}, {"sha": "d629ac4c60fc08a0ba6354df40ba2582d4f38c7a", "filename": "src/test/ui/feature-gate-arbitrary_self_types-raw-pointer.stderr", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d/src%2Ftest%2Fui%2Ffeature-gate-arbitrary_self_types-raw-pointer.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d/src%2Ftest%2Fui%2Ffeature-gate-arbitrary_self_types-raw-pointer.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-arbitrary_self_types-raw-pointer.stderr?ref=cb9f552b7c1b2e7a13d4d8419e39ed186a26c80d", "patch": "@@ -0,0 +1,29 @@\n+error: raw pointer `self` is unstable (see issue #44874)\n+  --> $DIR/feature-gate-arbitrary_self_types-raw-pointer.rs:19:18\n+   |\n+19 |     fn bar(self: *const Self);\n+   |                  ^^^^^^^^^^^\n+   |\n+   = help: add #![feature(arbitrary_self_types)] to the crate attributes to enable\n+   = help: consider changing to `self`, `&self`, `&mut self`, or `self: Box<Self>`\n+\n+error: raw pointer `self` is unstable (see issue #44874)\n+  --> $DIR/feature-gate-arbitrary_self_types-raw-pointer.rs:14:18\n+   |\n+14 |     fn foo(self: *const Self) {}\n+   |                  ^^^^^^^^^^^\n+   |\n+   = help: add #![feature(arbitrary_self_types)] to the crate attributes to enable\n+   = help: consider changing to `self`, `&self`, `&mut self`, or `self: Box<Self>`\n+\n+error: raw pointer `self` is unstable (see issue #44874)\n+  --> $DIR/feature-gate-arbitrary_self_types-raw-pointer.rs:24:18\n+   |\n+24 |     fn bar(self: *const Self) {}\n+   |                  ^^^^^^^^^^^\n+   |\n+   = help: add #![feature(arbitrary_self_types)] to the crate attributes to enable\n+   = help: consider changing to `self`, `&self`, `&mut self`, or `self: Box<Self>`\n+\n+error: aborting due to 3 previous errors\n+"}]}