{"sha": "10d4cda9ed3df859342a47a33223b450a86f9798", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwZDRjZGE5ZWQzZGY4NTkzNDJhNDdhMzMyMjNiNDUwYTg2Zjk3OTg=", "commit": {"author": {"name": "Jonathan Turner", "email": "jturner@mozilla.com", "date": "2016-04-22T16:30:38Z"}, "committer": {"name": "Jonathan Turner", "email": "jturner@mozilla.com", "date": "2016-04-22T16:30:38Z"}, "message": "Fix filepath check for macro backtrace", "tree": {"sha": "79a85b75410c6c191125cddaf8d19b6f7c80a26e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/79a85b75410c6c191125cddaf8d19b6f7c80a26e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/10d4cda9ed3df859342a47a33223b450a86f9798", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/10d4cda9ed3df859342a47a33223b450a86f9798", "html_url": "https://github.com/rust-lang/rust/commit/10d4cda9ed3df859342a47a33223b450a86f9798", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/10d4cda9ed3df859342a47a33223b450a86f9798/comments", "author": null, "committer": null, "parents": [{"sha": "d81de4871fbaf15198857af06b4f15fd4e1bfb13", "url": "https://api.github.com/repos/rust-lang/rust/commits/d81de4871fbaf15198857af06b4f15fd4e1bfb13", "html_url": "https://github.com/rust-lang/rust/commit/d81de4871fbaf15198857af06b4f15fd4e1bfb13"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "073b5e57cc7c5503003d46668abc4cc3f5e4f755", "filename": "src/tools/compiletest/src/json.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/10d4cda9ed3df859342a47a33223b450a86f9798/src%2Ftools%2Fcompiletest%2Fsrc%2Fjson.rs", "raw_url": "https://github.com/rust-lang/rust/raw/10d4cda9ed3df859342a47a33223b450a86f9798/src%2Ftools%2Fcompiletest%2Fsrc%2Fjson.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fjson.rs?ref=10d4cda9ed3df859342a47a33223b450a86f9798", "patch": "@@ -181,7 +181,7 @@ fn push_expected_errors(expected_errors: &mut Vec<Error>,\n fn push_backtrace(expected_errors: &mut Vec<Error>,\n                   expansion: &DiagnosticSpanMacroExpansion,\n                   file_name: &str) {\n-    if expansion.span.file_name == file_name {\n+    if Path::new(&expansion.span.file_name) == Path::new(&file_name) {\n         expected_errors.push(\n             Error {\n                 line_num: expansion.span.line_start,"}]}