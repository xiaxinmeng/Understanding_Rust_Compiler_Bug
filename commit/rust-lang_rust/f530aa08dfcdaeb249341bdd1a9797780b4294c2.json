{"sha": "f530aa08dfcdaeb249341bdd1a9797780b4294c2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY1MzBhYTA4ZGZjZGFlYjI0OTM0MWJkZDFhOTc5Nzc4MGI0Mjk0YzI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-11-21T16:56:47Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-11-21T16:56:47Z"}, "message": "auto merge of #19095 : juxiliary/rust/master, r=bstrie\n\nVim plugins shouldn't override user settings unless they ask!\r\n\r\nStops the plugin from modifying the users settings by default\r\ninstead makes them opt-in with `g:rust_recommended_style`", "tree": {"sha": "0fb65c40324a612f8adb2da89181bef23c627cce", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0fb65c40324a612f8adb2da89181bef23c627cce"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f530aa08dfcdaeb249341bdd1a9797780b4294c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f530aa08dfcdaeb249341bdd1a9797780b4294c2", "html_url": "https://github.com/rust-lang/rust/commit/f530aa08dfcdaeb249341bdd1a9797780b4294c2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f530aa08dfcdaeb249341bdd1a9797780b4294c2/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9efa23e9c0d98d47612eb6cf40fdf405f9c98b65", "url": "https://api.github.com/repos/rust-lang/rust/commits/9efa23e9c0d98d47612eb6cf40fdf405f9c98b65", "html_url": "https://github.com/rust-lang/rust/commit/9efa23e9c0d98d47612eb6cf40fdf405f9c98b65"}, {"sha": "62a2a1d5cf4af0307f538a9bedb40e5756e89fb6", "url": "https://api.github.com/repos/rust-lang/rust/commits/62a2a1d5cf4af0307f538a9bedb40e5756e89fb6", "html_url": "https://github.com/rust-lang/rust/commit/62a2a1d5cf4af0307f538a9bedb40e5756e89fb6"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "0295d68d97e73a47cdc876471670bccdd56b2ed2", "filename": "src/etc/vim/doc/rust.txt", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f530aa08dfcdaeb249341bdd1a9797780b4294c2/src%2Fetc%2Fvim%2Fdoc%2Frust.txt", "raw_url": "https://github.com/rust-lang/rust/raw/f530aa08dfcdaeb249341bdd1a9797780b4294c2/src%2Fetc%2Fvim%2Fdoc%2Frust.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fdoc%2Frust.txt?ref=f530aa08dfcdaeb249341bdd1a9797780b4294c2", "patch": "@@ -53,6 +53,15 @@ g:rust_conceal_pub~\n \t    let g:rust_conceal_pub = 1\n <\n \n+                                                     *g:rust_recommended_style*\n+g:rust_recommended_style~\n+        Set this option to enable vim indentation and textwidth settings to\n+        conform to style conventions of the rust standard library (i.e. use 4\n+        spaces for indents and sets 'textwidth' to 99). This option is enabled\n+\tby default. To disable it: >\n+\t    let g:rust_recommended_style = 0\n+<\n+\n                                                                  *g:rust_fold*\n g:rust_fold~\n \tSet this option to turn on |folding|: >"}, {"sha": "5d5569945f581bc435c4e0971ab0e2fcb12e0c6e", "filename": "src/etc/vim/ftplugin/rust.vim", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f530aa08dfcdaeb249341bdd1a9797780b4294c2/src%2Fetc%2Fvim%2Fftplugin%2Frust.vim", "raw_url": "https://github.com/rust-lang/rust/raw/f530aa08dfcdaeb249341bdd1a9797780b4294c2/src%2Fetc%2Fvim%2Fftplugin%2Frust.vim", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fftplugin%2Frust.vim?ref=f530aa08dfcdaeb249341bdd1a9797780b4294c2", "patch": "@@ -35,9 +35,10 @@ silent! setlocal formatoptions+=j\n \" otherwise it's better than nothing.\n setlocal smartindent nocindent\n \n-setlocal tabstop=4 shiftwidth=4 softtabstop=4 expandtab\n-\n-setlocal textwidth=99\n+if !exists(\"g:rust_recommended_style\") || g:rust_recommended_style == 1\n+\tsetlocal tabstop=4 shiftwidth=4 softtabstop=4 expandtab\n+\tsetlocal textwidth=99\n+endif\n \n \" This includeexpr isn't perfect, but it's a good start\n setlocal includeexpr=substitute(v:fname,'::','/','g')"}]}