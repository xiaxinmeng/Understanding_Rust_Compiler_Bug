{"sha": "d46b555e31d04feeb6310c52248bba7ff267c453", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ0NmI1NTVlMzFkMDRmZWViNjMxMGM1MjI0OGJiYTdmZjI2N2M0NTM=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-02-14T13:48:45Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-02-14T13:48:45Z"}, "message": "Merge #3132\n\n3132: Rename Ty::Param => Ty::Placeholder r=matklad a=flodiebold\n\nThis aligns more with Chalk.\n\nCo-authored-by: Florian Diebold <florian.diebold@freiheit.com>", "tree": {"sha": "e2b6b33ebf9445140549ae4f7f0b81dcc6a0855f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e2b6b33ebf9445140549ae4f7f0b81dcc6a0855f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d46b555e31d04feeb6310c52248bba7ff267c453", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeRqU9CRBK7hj4Ov3rIwAAdHIIAK2vFoDQVlXtY0TE39hI0ZdW\n7uOhdXbYRFPqyUa4ZkJbhx4cLNZFjlDMTgrEbA0ZFjiyO89smCvCODx0U8Kfn7j5\nQAq6DhMEnZfuIV2cbTN/28r+g2muEdF91Px9szl2hRJhYqiEcxa/vh+6yRuGMC2o\nv1gtMUN6BQ4IuCXx+CUsUL4mFVa/PYckpAiFEPiuTB/nIwvwN7Q6b8pLHihq2PeU\nmVqJg3ZJ5GTFWl9FWgDWfeQpN9OuVlVnnT02Wx6Glou/azMpbOGjyb1oCZO1a46G\nQnbfWmgcTdgCltFPZNDtEMGSCI4IWOHDg4WdwnMTR2hc6OOqMFqy1pwD976//Wg=\n=rFAJ\n-----END PGP SIGNATURE-----\n", "payload": "tree e2b6b33ebf9445140549ae4f7f0b81dcc6a0855f\nparent a19f52f9ae1634fa2267c3bc7647a0d47b6014ac\nparent a324d066cb767876f9f3398f83db9f5a8dda8ce4\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1581688125 +0000\ncommitter GitHub <noreply@github.com> 1581688125 +0000\n\nMerge #3132\n\n3132: Rename Ty::Param => Ty::Placeholder r=matklad a=flodiebold\n\nThis aligns more with Chalk.\n\nCo-authored-by: Florian Diebold <florian.diebold@freiheit.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d46b555e31d04feeb6310c52248bba7ff267c453", "html_url": "https://github.com/rust-lang/rust/commit/d46b555e31d04feeb6310c52248bba7ff267c453", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d46b555e31d04feeb6310c52248bba7ff267c453/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a19f52f9ae1634fa2267c3bc7647a0d47b6014ac", "url": "https://api.github.com/repos/rust-lang/rust/commits/a19f52f9ae1634fa2267c3bc7647a0d47b6014ac", "html_url": "https://github.com/rust-lang/rust/commit/a19f52f9ae1634fa2267c3bc7647a0d47b6014ac"}, {"sha": "a324d066cb767876f9f3398f83db9f5a8dda8ce4", "url": "https://api.github.com/repos/rust-lang/rust/commits/a324d066cb767876f9f3398f83db9f5a8dda8ce4", "html_url": "https://github.com/rust-lang/rust/commit/a324d066cb767876f9f3398f83db9f5a8dda8ce4"}], "stats": {"total": 22, "additions": 11, "deletions": 11}, "files": [{"sha": "69ad13952155b7e72acb9f983d16dd7f1156fec2", "filename": "crates/ra_hir_ty/src/lib.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/d46b555e31d04feeb6310c52248bba7ff267c453/crates%2Fra_hir_ty%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d46b555e31d04feeb6310c52248bba7ff267c453/crates%2Fra_hir_ty%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Flib.rs?ref=d46b555e31d04feeb6310c52248bba7ff267c453", "patch": "@@ -291,7 +291,7 @@ pub enum Ty {\n     /// {}` when we're type-checking the body of that function. In this\n     /// situation, we know this stands for *some* type, but don't know the exact\n     /// type.\n-    Param(TypeParamId),\n+    Placeholder(TypeParamId),\n \n     /// A bound type variable. This is used in various places: when representing\n     /// some polymorphic type like the type of function `fn f<T>`, the type\n@@ -365,7 +365,7 @@ impl Substs {\n \n     /// Return Substs that replace each parameter by itself (i.e. `Ty::Param`).\n     pub(crate) fn type_params_for_generics(generic_params: &Generics) -> Substs {\n-        Substs(generic_params.iter().map(|(id, _)| Ty::Param(id)).collect())\n+        Substs(generic_params.iter().map(|(id, _)| Ty::Placeholder(id)).collect())\n     }\n \n     /// Return Substs that replace each parameter by itself (i.e. `Ty::Param`).\n@@ -813,7 +813,7 @@ impl TypeWalk for Ty {\n                     p.walk(f);\n                 }\n             }\n-            Ty::Param { .. } | Ty::Bound(_) | Ty::Infer(_) | Ty::Unknown => {}\n+            Ty::Placeholder { .. } | Ty::Bound(_) | Ty::Infer(_) | Ty::Unknown => {}\n         }\n         f(self);\n     }\n@@ -831,7 +831,7 @@ impl TypeWalk for Ty {\n                     p.walk_mut_binders(f, binders + 1);\n                 }\n             }\n-            Ty::Param { .. } | Ty::Bound(_) | Ty::Infer(_) | Ty::Unknown => {}\n+            Ty::Placeholder { .. } | Ty::Bound(_) | Ty::Infer(_) | Ty::Unknown => {}\n         }\n         f(self, binders);\n     }\n@@ -1032,7 +1032,7 @@ impl HirDisplay for Ty {\n         match self {\n             Ty::Apply(a_ty) => a_ty.hir_fmt(f)?,\n             Ty::Projection(p_ty) => p_ty.hir_fmt(f)?,\n-            Ty::Param(id) => {\n+            Ty::Placeholder(id) => {\n                 let generics = generics(f.db, id.parent);\n                 let param_data = &generics.params.types[id.local_id];\n                 match param_data.provenance {"}, {"sha": "df24c16a3f81106cb2f7fb0f14e8180ba1e5e29c", "filename": "crates/ra_hir_ty/src/lower.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/d46b555e31d04feeb6310c52248bba7ff267c453/crates%2Fra_hir_ty%2Fsrc%2Flower.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d46b555e31d04feeb6310c52248bba7ff267c453/crates%2Fra_hir_ty%2Fsrc%2Flower.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Flower.rs?ref=d46b555e31d04feeb6310c52248bba7ff267c453", "patch": "@@ -152,7 +152,7 @@ impl Ty {\n                                     data.provenance == TypeParamProvenance::ArgumentImplTrait\n                                 })\n                                 .nth(idx as usize)\n-                                .map_or(Ty::Unknown, |(id, _)| Ty::Param(id));\n+                                .map_or(Ty::Unknown, |(id, _)| Ty::Placeholder(id));\n                             param\n                         } else {\n                             Ty::Unknown\n@@ -270,7 +270,7 @@ impl Ty {\n                 let generics =\n                     generics(ctx.db, ctx.resolver.generic_def().expect(\"generics in scope\"));\n                 match ctx.type_param_mode {\n-                    TypeParamLoweringMode::Placeholder => Ty::Param(param_id),\n+                    TypeParamLoweringMode::Placeholder => Ty::Placeholder(param_id),\n                     TypeParamLoweringMode::Variable => {\n                         let idx = generics.param_idx(param_id).expect(\"matching generics\");\n                         Ty::Bound(idx)\n@@ -339,7 +339,7 @@ impl Ty {\n             None => return Ty::Unknown, // this can't actually happen\n         };\n         let param_id = match self_ty {\n-            Ty::Param(id) if ctx.type_param_mode == TypeParamLoweringMode::Placeholder => id,\n+            Ty::Placeholder(id) if ctx.type_param_mode == TypeParamLoweringMode::Placeholder => id,\n             Ty::Bound(idx) if ctx.type_param_mode == TypeParamLoweringMode::Variable => {\n                 let generics = generics(ctx.db, def);\n                 let param_id = if let Some((id, _)) = generics.iter().nth(idx as usize) {\n@@ -544,7 +544,7 @@ impl GenericPredicate {\n                 let generics = generics(ctx.db, generic_def);\n                 let param_id = hir_def::TypeParamId { parent: generic_def, local_id: *param_id };\n                 match ctx.type_param_mode {\n-                    TypeParamLoweringMode::Placeholder => Ty::Param(param_id),\n+                    TypeParamLoweringMode::Placeholder => Ty::Placeholder(param_id),\n                     TypeParamLoweringMode::Variable => {\n                         let idx = generics.param_idx(param_id).expect(\"matching generics\");\n                         Ty::Bound(idx)"}, {"sha": "882160fa8aa67ba6e61427916fd6fac236210db3", "filename": "crates/ra_hir_ty/src/traits/chalk.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d46b555e31d04feeb6310c52248bba7ff267c453/crates%2Fra_hir_ty%2Fsrc%2Ftraits%2Fchalk.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d46b555e31d04feeb6310c52248bba7ff267c453/crates%2Fra_hir_ty%2Fsrc%2Ftraits%2Fchalk.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Ftraits%2Fchalk.rs?ref=d46b555e31d04feeb6310c52248bba7ff267c453", "patch": "@@ -142,7 +142,7 @@ impl ToChalk for Ty {\n                 let substitution = proj_ty.parameters.to_chalk(db);\n                 chalk_ir::AliasTy { associated_ty_id, substitution }.cast().intern()\n             }\n-            Ty::Param(id) => {\n+            Ty::Placeholder(id) => {\n                 let interned_id = db.intern_type_param_id(id);\n                 PlaceholderIndex {\n                     ui: UniverseIndex::ROOT,\n@@ -184,7 +184,7 @@ impl ToChalk for Ty {\n                 let interned_id = crate::db::GlobalTypeParamId::from_intern_id(\n                     crate::salsa::InternId::from(idx.idx),\n                 );\n-                Ty::Param(db.lookup_intern_type_param_id(interned_id))\n+                Ty::Placeholder(db.lookup_intern_type_param_id(interned_id))\n             }\n             chalk_ir::TyData::Alias(proj) => {\n                 let associated_ty = from_chalk(db, proj.associated_ty_id);"}]}