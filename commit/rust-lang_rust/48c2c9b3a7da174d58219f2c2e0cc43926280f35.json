{"sha": "48c2c9b3a7da174d58219f2c2e0cc43926280f35", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4YzJjOWIzYTdkYTE3NGQ1ODIxOWYyYzJlMGNjNDM5MjYyODBmMzU=", "commit": {"author": {"name": "Jesse Ruderman", "email": "jruderman@gmail.com", "date": "2011-09-24T22:10:03Z"}, "committer": {"name": "Jesse Ruderman", "email": "jruderman@gmail.com", "date": "2011-09-24T22:10:03Z"}, "message": "Mark vec::len as pure", "tree": {"sha": "0143df4d8b0d0a5b797bea735b55eba5dc299a85", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0143df4d8b0d0a5b797bea735b55eba5dc299a85"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/48c2c9b3a7da174d58219f2c2e0cc43926280f35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/48c2c9b3a7da174d58219f2c2e0cc43926280f35", "html_url": "https://github.com/rust-lang/rust/commit/48c2c9b3a7da174d58219f2c2e0cc43926280f35", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/48c2c9b3a7da174d58219f2c2e0cc43926280f35/comments", "author": {"login": "jruderman", "id": 692547, "node_id": "MDQ6VXNlcjY5MjU0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/692547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jruderman", "html_url": "https://github.com/jruderman", "followers_url": "https://api.github.com/users/jruderman/followers", "following_url": "https://api.github.com/users/jruderman/following{/other_user}", "gists_url": "https://api.github.com/users/jruderman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jruderman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jruderman/subscriptions", "organizations_url": "https://api.github.com/users/jruderman/orgs", "repos_url": "https://api.github.com/users/jruderman/repos", "events_url": "https://api.github.com/users/jruderman/events{/privacy}", "received_events_url": "https://api.github.com/users/jruderman/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jruderman", "id": 692547, "node_id": "MDQ6VXNlcjY5MjU0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/692547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jruderman", "html_url": "https://github.com/jruderman", "followers_url": "https://api.github.com/users/jruderman/followers", "following_url": "https://api.github.com/users/jruderman/following{/other_user}", "gists_url": "https://api.github.com/users/jruderman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jruderman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jruderman/subscriptions", "organizations_url": "https://api.github.com/users/jruderman/orgs", "repos_url": "https://api.github.com/users/jruderman/repos", "events_url": "https://api.github.com/users/jruderman/events{/privacy}", "received_events_url": "https://api.github.com/users/jruderman/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9029416e287e663bd6a1f48727509872669853c0", "url": "https://api.github.com/repos/rust-lang/rust/commits/9029416e287e663bd6a1f48727509872669853c0", "html_url": "https://github.com/rust-lang/rust/commit/9029416e287e663bd6a1f48727509872669853c0"}], "stats": {"total": 6, "additions": 2, "deletions": 4}, "files": [{"sha": "9b0e2a63091fa3fc5e78f49dcebe03d5be4bae6e", "filename": "src/lib/vec.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/48c2c9b3a7da174d58219f2c2e0cc43926280f35/src%2Flib%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48c2c9b3a7da174d58219f2c2e0cc43926280f35/src%2Flib%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fvec.rs?ref=48c2c9b3a7da174d58219f2c2e0cc43926280f35", "patch": "@@ -18,7 +18,7 @@ fn reserve<@T>(&v: [mutable? T], n: uint) {\n     rustrt::vec_reserve_shared(v, n);\n }\n \n-fn len<T>(v: [mutable? T]) -> uint { ret rusti::vec_len(v); }\n+pure fn len<T>(v: [mutable? T]) -> uint { unchecked { rusti::vec_len(v) } }\n \n type init_op<T> = fn(uint) -> T;\n \n@@ -271,9 +271,7 @@ fn position_pred<T>(f: fn(T) -> bool, v: [T]) -> option::t<uint> {\n }\n \n pure fn same_length<T, U>(xs: [T], ys: [U]) -> bool {\n-    let xlen = unchecked{ vec::len(xs) };\n-    let ylen = unchecked{ vec::len(ys) };\n-    xlen == ylen\n+    vec::len(xs) == vec::len(ys)\n }\n \n // FIXME: if issue #586 gets implemented, could have a postcondition"}]}