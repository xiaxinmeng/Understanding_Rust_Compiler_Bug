{"sha": "b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIyN2I4ZjYzYmM1MWQ5YWJhMmExZmU4OGNmNDI4MjQzZDRmZWRmYTg=", "commit": {"author": {"name": "Tobias Bucher", "email": "tobiasbucher5991@gmail.com", "date": "2016-02-03T12:57:25Z"}, "committer": {"name": "Tobias Bucher", "email": "tobiasbucher5991@gmail.com", "date": "2016-02-03T19:45:30Z"}, "message": "Add tests for `Cow::from` for strings, vectors and slices", "tree": {"sha": "1ef85713fe874e52a2ae6cf2a0fde5048166d036", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1ef85713fe874e52a2ae6cf2a0fde5048166d036"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8", "html_url": "https://github.com/rust-lang/rust/commit/b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8/comments", "author": {"login": "tbu-", "id": 6666593, "node_id": "MDQ6VXNlcjY2NjY1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tbu-", "html_url": "https://github.com/tbu-", "followers_url": "https://api.github.com/users/tbu-/followers", "following_url": "https://api.github.com/users/tbu-/following{/other_user}", "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}", "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions", "organizations_url": "https://api.github.com/users/tbu-/orgs", "repos_url": "https://api.github.com/users/tbu-/repos", "events_url": "https://api.github.com/users/tbu-/events{/privacy}", "received_events_url": "https://api.github.com/users/tbu-/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tbu-", "id": 6666593, "node_id": "MDQ6VXNlcjY2NjY1OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/6666593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tbu-", "html_url": "https://github.com/tbu-", "followers_url": "https://api.github.com/users/tbu-/followers", "following_url": "https://api.github.com/users/tbu-/following{/other_user}", "gists_url": "https://api.github.com/users/tbu-/gists{/gist_id}", "starred_url": "https://api.github.com/users/tbu-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tbu-/subscriptions", "organizations_url": "https://api.github.com/users/tbu-/orgs", "repos_url": "https://api.github.com/users/tbu-/repos", "events_url": "https://api.github.com/users/tbu-/events{/privacy}", "received_events_url": "https://api.github.com/users/tbu-/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f30f569f3ba0667414074dd8d95685ea5348c77a", "url": "https://api.github.com/repos/rust-lang/rust/commits/f30f569f3ba0667414074dd8d95685ea5348c77a", "html_url": "https://github.com/rust-lang/rust/commit/f30f569f3ba0667414074dd8d95685ea5348c77a"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "25457043a9df45dd5a5274ae83e9c184b351a240", "filename": "src/libcollectionstest/str.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8/src%2Flibcollectionstest%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8/src%2Flibcollectionstest%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollectionstest%2Fstr.rs?ref=b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8", "patch": "@@ -8,6 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+use std::borrow::Cow;\n use std::cmp::Ordering::{Equal, Greater, Less};\n use std::str::from_utf8;\n \n@@ -1267,6 +1268,16 @@ fn test_box_slice_clone() {\n     assert_eq!(data, data2);\n }\n \n+#[test]\n+fn test_cow_from() {\n+    let borrowed = \"borrowed\";\n+    let owned = String::from(\"owned\");\n+    match (Cow::from(owned.clone()), Cow::from(borrowed)) {\n+        (Cow::Owned(o), Cow::Borrowed(b)) => assert!(o == owned && b == borrowed),\n+        _ => panic!(\"invalid `Cow::from`\"),\n+    }\n+}\n+\n mod pattern {\n     use std::str::pattern::Pattern;\n     use std::str::pattern::{Searcher, ReverseSearcher};"}, {"sha": "6a47f16c5ca7723d20316ba13f1e75287b7166e9", "filename": "src/libcollectionstest/vec.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8/src%2Flibcollectionstest%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8/src%2Flibcollectionstest%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollectionstest%2Fvec.rs?ref=b27b8f63bc51d9aba2a1fe88cf428243d4fedfa8", "patch": "@@ -8,6 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+use std::borrow::Cow;\n use std::iter::{FromIterator, repeat};\n use std::mem::size_of;\n \n@@ -466,6 +467,16 @@ fn test_into_iter_count() {\n     assert_eq!(vec![1, 2, 3].into_iter().count(), 3);\n }\n \n+#[test]\n+fn test_cow_from() {\n+    let borrowed: &[_] = &[\"borrowed\", \"(slice)\"];\n+    let owned = vec![\"owned\", \"(vec)\"];\n+    match (Cow::from(owned.clone()), Cow::from(borrowed)) {\n+        (Cow::Owned(o), Cow::Borrowed(b)) => assert!(o == owned && b == borrowed),\n+        _ => panic!(\"invalid `Cow::from`\"),\n+    }\n+}\n+\n #[bench]\n fn bench_new(b: &mut Bencher) {\n     b.iter(|| {"}]}