{"sha": "f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYzOWYxYTRhZDkzYjZiY2EyMzc2MzFmZjVjMzMyNWU3ZDBkZGJkNjc=", "commit": {"author": {"name": "Caleb Zulawski", "email": "caleb.zulawski@gmail.com", "date": "2021-01-23T22:55:34Z"}, "committer": {"name": "Caleb Zulawski", "email": "caleb.zulawski@gmail.com", "date": "2021-01-23T22:55:34Z"}, "message": "Move SIMD tests", "tree": {"sha": "fde99ad4c281bafa8d6ea79b6436902fb6c9ec66", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fde99ad4c281bafa8d6ea79b6436902fb6c9ec66"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "html_url": "https://github.com/rust-lang/rust/commit/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/comments", "author": {"login": "calebzulawski", "id": 563826, "node_id": "MDQ6VXNlcjU2MzgyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/563826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebzulawski", "html_url": "https://github.com/calebzulawski", "followers_url": "https://api.github.com/users/calebzulawski/followers", "following_url": "https://api.github.com/users/calebzulawski/following{/other_user}", "gists_url": "https://api.github.com/users/calebzulawski/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebzulawski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebzulawski/subscriptions", "organizations_url": "https://api.github.com/users/calebzulawski/orgs", "repos_url": "https://api.github.com/users/calebzulawski/repos", "events_url": "https://api.github.com/users/calebzulawski/events{/privacy}", "received_events_url": "https://api.github.com/users/calebzulawski/received_events", "type": "User", "site_admin": false}, "committer": {"login": "calebzulawski", "id": 563826, "node_id": "MDQ6VXNlcjU2MzgyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/563826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebzulawski", "html_url": "https://github.com/calebzulawski", "followers_url": "https://api.github.com/users/calebzulawski/followers", "following_url": "https://api.github.com/users/calebzulawski/following{/other_user}", "gists_url": "https://api.github.com/users/calebzulawski/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebzulawski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebzulawski/subscriptions", "organizations_url": "https://api.github.com/users/calebzulawski/orgs", "repos_url": "https://api.github.com/users/calebzulawski/repos", "events_url": "https://api.github.com/users/calebzulawski/events{/privacy}", "received_events_url": "https://api.github.com/users/calebzulawski/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4d72ed61ee11acf084de1a375c839ce40bbdf548", "url": "https://api.github.com/repos/rust-lang/rust/commits/4d72ed61ee11acf084de1a375c839ce40bbdf548", "html_url": "https://github.com/rust-lang/rust/commit/4d72ed61ee11acf084de1a375c839ce40bbdf548"}], "stats": {"total": 66, "additions": 29, "deletions": 37}, "files": [{"sha": "87df26434d7d303f6aa9613e6be91516c2b97d77", "filename": "src/test/ui/simd-type.rs", "status": "removed", "additions": 0, "deletions": 32, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/4d72ed61ee11acf084de1a375c839ce40bbdf548/src%2Ftest%2Fui%2Fsimd-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d72ed61ee11acf084de1a375c839ce40bbdf548/src%2Ftest%2Fui%2Fsimd-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd-type.rs?ref=4d72ed61ee11acf084de1a375c839ce40bbdf548", "patch": "@@ -1,32 +0,0 @@\n-#![feature(repr_simd)]\n-#![allow(non_camel_case_types)]\n-\n-// ignore-tidy-linelength\n-\n-#[repr(simd)]\n-struct empty; //~ ERROR SIMD vector cannot be empty\n-\n-#[repr(simd)]\n-struct empty2([f32; 0]); //~ ERROR SIMD vector cannot be empty\n-\n-#[repr(simd)]\n-struct pow2([f32; 7]); //~ ERROR SIMD vector length must be a power of two\n-\n-#[repr(simd)]\n-struct i64f64(i64, f64); //~ ERROR SIMD vector should be homogeneous\n-\n-struct Foo;\n-\n-#[repr(simd)]\n-struct FooV(Foo, Foo); //~ ERROR SIMD vector element type should be a primitive scalar (integer/float/pointer) type\n-\n-#[repr(simd)]\n-struct FooV2([Foo; 2]); //~ ERROR SIMD vector element type should be a primitive scalar (integer/float/pointer) type\n-\n-#[repr(simd)]\n-struct TooBig([f32; 65536]); //~ ERROR SIMD vector cannot have more than 32768 elements\n-\n-#[repr(simd)]\n-struct JustRight([u128; 32768]);\n-\n-fn main() {}"}, {"sha": "49cfbab9a3e6fdd42411d0683085e4b60d7d4473", "filename": "src/test/ui/simd/issue-17170.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fissue-17170.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fissue-17170.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fissue-17170.rs?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/issues/issue-17170.rs"}, {"sha": "b35c3c4dc980d7ffcb076322f5b7b39f84b7f14b", "filename": "src/test/ui/simd/issue-17170.stderr", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fissue-17170.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fissue-17170.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fissue-17170.stderr?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/issues/issue-17170.stderr"}, {"sha": "7d5969265121caa0cf8c6ff6b2086f9d0a8a7ce9", "filename": "src/test/ui/simd/issue-39720.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fissue-39720.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fissue-39720.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fissue-39720.rs?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/issues/issue-39720.rs"}, {"sha": "355ceff00508aa0d44e692d41314f5390216162e", "filename": "src/test/ui/simd/issue-39720.stderr", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fissue-39720.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fissue-39720.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fissue-39720.stderr?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/issues/issue-39720.stderr"}, {"sha": "0121404c749355ffe680f9760987163903521596", "filename": "src/test/ui/simd/simd-type-generic-monomorphisation-empty.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-empty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-empty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-empty.rs?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/simd-type-generic-monomorphisation-empty.rs"}, {"sha": "00fde199b12a27ea6a6bca710d20f374ecd42542", "filename": "src/test/ui/simd/simd-type-generic-monomorphisation-empty.stderr", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-empty.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-empty.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-empty.stderr?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/simd-type-generic-monomorphisation-empty.stderr"}, {"sha": "bd0d457b35e2763ef03dbdc5bf089f57979d7551", "filename": "src/test/ui/simd/simd-type-generic-monomorphisation-oversized.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-oversized.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-oversized.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-oversized.rs?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/simd-type-generic-monomorphisation-oversized.rs"}, {"sha": "f4418350115321c9e8be87b778251e4ed363ef6a", "filename": "src/test/ui/simd/simd-type-generic-monomorphisation-oversized.stderr", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-oversized.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-oversized.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-oversized.stderr?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/simd-type-generic-monomorphisation-oversized.stderr"}, {"sha": "3a0b9e02663d81b64882dc84470ab05bcc75df6b", "filename": "src/test/ui/simd/simd-type-generic-monomorphisation-power-of-two.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-power-of-two.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-power-of-two.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-power-of-two.rs?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/simd-type-generic-monomorphisation-power-of-two.rs"}, {"sha": "82cc0d8714aba77a2de487f1241506d6b62946b7", "filename": "src/test/ui/simd/simd-type-generic-monomorphisation-power-of-two.stderr", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-power-of-two.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-power-of-two.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation-power-of-two.stderr?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/simd-type-generic-monomorphisation-power-of-two.stderr"}, {"sha": "0275f0ce4c159042c74dc2795c059d623ada90ec", "filename": "src/test/ui/simd/simd-type-generic-monomorphisation.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation.rs?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/simd-type-generic-monomorphisation.rs"}, {"sha": "7f23893ac853645391cc109cb1ce71822c297c65", "filename": "src/test/ui/simd/simd-type-generic-monomorphisation.stderr", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fsimd-type-generic-monomorphisation.stderr?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/simd-type-generic-monomorphisation.stderr"}, {"sha": "cc7443d04856cba2acb4397449b684b823cae9d9", "filename": "src/test/ui/simd/simd-type.rs", "status": "modified", "additions": 29, "deletions": 5, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fsimd-type.rs?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "patch": "@@ -1,9 +1,33 @@\n-// run-pass\n-#![allow(dead_code)]\n+#![feature(repr_simd)]\n+#![allow(non_camel_case_types)]\n \n-// pretty-expanded FIXME #23616\n+// ignore-tidy-linelength\n \n-#![feature(repr_simd)]\n+#[repr(simd)]\n+struct empty; //~ ERROR SIMD vector cannot be empty\n+\n+#[repr(simd)]\n+struct empty2([f32; 0]); //~ ERROR SIMD vector cannot be empty\n+\n+#[repr(simd)]\n+struct pow2([f32; 7]); //~ ERROR SIMD vector length must be a power of two\n+\n+#[repr(simd)]\n+struct i64f64(i64, f64); //~ ERROR SIMD vector should be homogeneous\n+\n+struct Foo;\n+\n+#[repr(simd)]\n+struct FooV(Foo, Foo); //~ ERROR SIMD vector element type should be a primitive scalar (integer/float/pointer) type\n+\n+#[repr(simd)]\n+struct FooV2([Foo; 2]); //~ ERROR SIMD vector element type should be a primitive scalar (integer/float/pointer) type\n+\n+#[repr(simd)]\n+struct TooBig([f32; 65536]); //~ ERROR SIMD vector cannot have more than 32768 elements\n+\n+#[repr(simd)]\n+struct JustRight([u128; 32768]);\n \n #[repr(simd)]\n struct RGBA {\n@@ -13,4 +37,4 @@ struct RGBA {\n     a: f32\n }\n \n-pub fn main() {}\n+fn main() {}"}, {"sha": "8b15ef05e032b4f461e81d0f0e1d89f7ea583ce4", "filename": "src/test/ui/simd/simd-type.stderr", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67/src%2Ftest%2Fui%2Fsimd%2Fsimd-type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsimd%2Fsimd-type.stderr?ref=f39f1a4ad93b6bca237631ff5c3325e7d0ddbd67", "previous_filename": "src/test/ui/simd-type.stderr"}]}