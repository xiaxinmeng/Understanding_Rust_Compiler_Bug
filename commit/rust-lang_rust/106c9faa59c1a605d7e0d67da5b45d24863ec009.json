{"sha": "106c9faa59c1a605d7e0d67da5b45d24863ec009", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwNmM5ZmFhNTljMWE2MDVkN2UwZDY3ZGE1YjQ1ZDI0ODYzZWMwMDk=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-03-29T20:48:05Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-03-29T21:42:31Z"}, "message": "rustc: Move ext to librustsyntax", "tree": {"sha": "188dbc33ebbbdbd3c2e08262dbc1fe550c4f81e3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/188dbc33ebbbdbd3c2e08262dbc1fe550c4f81e3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/106c9faa59c1a605d7e0d67da5b45d24863ec009", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/106c9faa59c1a605d7e0d67da5b45d24863ec009", "html_url": "https://github.com/rust-lang/rust/commit/106c9faa59c1a605d7e0d67da5b45d24863ec009", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/106c9faa59c1a605d7e0d67da5b45d24863ec009/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "14e9f58b50de04824a16007a48184ef2e3779251", "url": "https://api.github.com/repos/rust-lang/rust/commits/14e9f58b50de04824a16007a48184ef2e3779251", "html_url": "https://github.com/rust-lang/rust/commit/14e9f58b50de04824a16007a48184ef2e3779251"}], "stats": {"total": 91, "additions": 45, "deletions": 46}, "files": [{"sha": "bc11f23d892ddce07eb0262f2dace960a1b458b4", "filename": "src/librustsyntax/ext/auto_serialize.rs", "status": "renamed", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fauto_serialize.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fauto_serialize.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Fauto_serialize.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -73,10 +73,17 @@ import base::*;\n import codemap::span;\n import std::map;\n import std::map::hashmap;\n-import syntax::attr;\n \n export expand;\n \n+// Transitional reexports so qquote can find the paths it is looking for\n+mod syntax {\n+    import ext;\n+    export ext;\n+    import parse;\n+    export parse;\n+}\n+\n type ser_tps_map = map::hashmap<str, fn@(@ast::expr) -> [@ast::stmt]>;\n type deser_tps_map = map::hashmap<str, fn@() -> @ast::expr>;\n ", "previous_filename": "src/rustc/syntax/ext/auto_serialize.rs"}, {"sha": "bd1f9ccd17bd30b09f8475578753d9993d353427", "filename": "src/librustsyntax/ext/base.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Fbase.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -1,6 +1,6 @@\n import std::map::hashmap;\n-import syntax::parse::parser;\n-import driver::diagnostic::span_handler;\n+import parse::parser;\n+import diagnostic::span_handler;\n import codemap::{codemap, span, expn_info, expanded_from};\n import std::map::str_hash;\n ", "previous_filename": "src/rustc/syntax/ext/base.rs"}, {"sha": "238cf40a68564132c4e4f6efb34b5aecc2fe0329", "filename": "src/librustsyntax/ext/build.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Fbuild.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -1,5 +1,5 @@\n import codemap::span;\n-import syntax::ext::base::ext_ctxt;\n+import base::ext_ctxt;\n \n // NOTE: Moved from fmt.rs which had this fixme:\n // FIXME: Cleanup the naming of these functions", "previous_filename": "src/rustc/syntax/ext/build.rs"}, {"sha": "f7bc95bd1815cc291e37c7ad4e5c1f4766f7e40c", "filename": "src/librustsyntax/ext/concat_idents.rs", "status": "renamed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fconcat_idents.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fconcat_idents.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Fconcat_idents.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -1,5 +1,4 @@\n import base::*;\n-import syntax::ast;\n \n fn expand_syntax_ext(cx: ext_ctxt, sp: codemap::span, arg: ast::mac_arg,\n                      _body: ast::mac_body) -> @ast::expr {", "previous_filename": "src/rustc/syntax/ext/concat_idents.rs"}, {"sha": "c4ef1abc3e6b4ab42251430131e1156001f50b88", "filename": "src/librustsyntax/ext/env.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fenv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fenv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Fenv.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "previous_filename": "src/rustc/syntax/ext/env.rs"}, {"sha": "cfda606c30e6865625aff0474f26a799ddeeb8d2", "filename": "src/librustsyntax/ext/expand.rs", "status": "renamed", "additions": 6, "deletions": 11, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fexpand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fexpand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Fexpand.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -1,16 +1,11 @@\n-import driver::session;\n-import driver::session::session;\n-\n import std::map::hashmap;\n \n-import syntax::attr;\n-\n-import syntax::ast::{crate, expr_, expr_mac, mac_invoc};\n-import syntax::fold::*;\n-import syntax::ext::base::*;\n-import syntax::ext::qquote::{qq_helper};\n-import syntax::parse::parser;\n-import syntax::parse::parser::parse_expr_from_source_str;\n+import ast::{crate, expr_, expr_mac, mac_invoc};\n+import fold::*;\n+import ext::base::*;\n+import ext::qquote::{qq_helper};\n+import parse::parser;\n+import parse::parser::parse_expr_from_source_str;\n \n \n import codemap::{span, expanded_from};", "previous_filename": "src/rustc/syntax/ext/expand.rs"}, {"sha": "24657f8634b98502cee949cbec6d506fad08fcb9", "filename": "src/librustsyntax/ext/fmt.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Ffmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Ffmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Ffmt.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -8,7 +8,7 @@\n import extfmt::ct::*;\n import base::*;\n import codemap::span;\n-import syntax::ext::build::*;\n+import ext::build::*;\n export expand_syntax_ext;\n \n fn expand_syntax_ext(cx: ext_ctxt, sp: span, arg: ast::mac_arg,", "previous_filename": "src/rustc/syntax/ext/fmt.rs"}, {"sha": "cb7c604a4891d2e73e4618396dbd281993b5b00b", "filename": "src/librustsyntax/ext/ident_to_str.rs", "status": "renamed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fident_to_str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fident_to_str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Fident_to_str.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -1,5 +1,4 @@\n import base::*;\n-import syntax::ast;\n \n fn expand_syntax_ext(cx: ext_ctxt, sp: codemap::span, arg: ast::mac_arg,\n                      _body: ast::mac_body) -> @ast::expr {", "previous_filename": "src/rustc/syntax/ext/ident_to_str.rs"}, {"sha": "4ae212047f32b6d2a028dfdd00424ce4e4fc4a7a", "filename": "src/librustsyntax/ext/log_syntax.rs", "status": "renamed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Flog_syntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Flog_syntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Flog_syntax.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -1,5 +1,4 @@\n import base::*;\n-import syntax::ast;\n import io::writer_util;\n \n fn expand_syntax_ext(cx: ext_ctxt, sp: codemap::span, arg: ast::mac_arg,", "previous_filename": "src/rustc/syntax/ext/log_syntax.rs"}, {"sha": "a8294f9bae0a8e5f2867f0d946aeca2c01700ca0", "filename": "src/librustsyntax/ext/qquote.rs", "status": "renamed", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fqquote.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fqquote.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Fqquote.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -1,13 +1,13 @@\n-import syntax::ast::{crate, expr_, mac_invoc,\n+import ast::{crate, expr_, mac_invoc,\n                      mac_aq, mac_var};\n-import syntax::fold::*;\n-import syntax::visit::*;\n-import syntax::ext::base::*;\n-import syntax::ext::build::*;\n-import syntax::parse::parser;\n-import syntax::parse::parser::{parser, parse_from_source_str};\n+import fold::*;\n+import visit::*;\n+import ext::base::*;\n+import ext::build::*;\n+import parse::parser;\n+import parse::parser::{parser, parse_from_source_str};\n \n-import syntax::print::*;\n+import print::*;\n import io::*;\n \n import codemap::span;\n@@ -127,7 +127,7 @@ fn visit_aq_ty(node: @ast::ty, &&cx: aq_ctxt, v: vt<aq_ctxt>) {\n }\n \n fn is_space(c: char) -> bool {\n-    syntax::parse::lexer::is_whitespace(c)\n+    parse::lexer::is_whitespace(c)\n }\n \n fn expand_ast(ecx: ext_ctxt, _sp: span,", "previous_filename": "src/rustc/syntax/ext/qquote.rs"}, {"sha": "dfc7d5314fc6b6322f03e304c6f48a680b27f2e9", "filename": "src/librustsyntax/ext/simplext.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fsimplext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Fext%2Fsimplext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fext%2Fsimplext.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "previous_filename": "src/rustc/syntax/ext/simplext.rs"}, {"sha": "51b5ef1c32c3bf79246fa89d1a0f68244f62bcfb", "filename": "src/librustsyntax/rustsyntax.rc", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Frustsyntax.rc", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Flibrustsyntax%2Frustsyntax.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Frustsyntax.rc?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -26,4 +26,19 @@ mod parse {\n mod print {\n     mod pp;\n     mod pprust;\n-}\n\\ No newline at end of file\n+}\n+\n+mod ext {\n+    mod base;\n+    mod expand;\n+    mod qquote;\n+    mod build;\n+\n+    mod fmt;\n+    mod env;\n+    mod simplext;\n+    mod concat_idents;\n+    mod ident_to_str;\n+    mod log_syntax;\n+    mod auto_serialize;\n+}"}, {"sha": "5a19efb005b3b11ee800b6c2c3fdfd73ffea3673", "filename": "src/rustc/rustc.rc", "status": "modified", "additions": 1, "deletions": 17, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Frustc%2Frustc.rc", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Frustc%2Frustc.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Frustc.rc?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -68,23 +68,7 @@ mod middle {\n     }\n }\n \n-\n-mod syntax {\n-    mod ext {\n-        mod base;\n-        mod expand;\n-        mod qquote;\n-        mod build;\n-\n-        mod fmt;\n-        mod env;\n-        mod simplext;\n-        mod concat_idents;\n-        mod ident_to_str;\n-        mod log_syntax;\n-        mod auto_serialize;\n-    }\n-}\n+mod syntax;\n \n mod front {\n     mod config;"}, {"sha": "0b149b2f582127ece3bb2e1ed4c6eca5437c2815", "filename": "src/rustc/syntax.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Frustc%2Fsyntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106c9faa59c1a605d7e0d67da5b45d24863ec009/src%2Frustc%2Fsyntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fsyntax.rs?ref=106c9faa59c1a605d7e0d67da5b45d24863ec009", "patch": "@@ -26,4 +26,5 @@ export util;\n import rustsyntax::attr;\n export attr;\n \n+import rustsyntax::ext;\n export ext;"}]}