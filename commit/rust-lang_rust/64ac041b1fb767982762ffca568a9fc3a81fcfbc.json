{"sha": "64ac041b1fb767982762ffca568a9fc3a81fcfbc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY0YWMwNDFiMWZiNzY3OTgyNzYyZmZjYTU2OGE5ZmMzYTgxZmNmYmM=", "commit": {"author": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2016-01-30T08:28:37Z"}, "committer": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2016-01-30T19:44:40Z"}, "message": "rustc: set MIPS cpu/features in the compiler\n\ncf #31303", "tree": {"sha": "c9bb8d84e21cefc4b94703fac11fc982fdb92ece", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c9bb8d84e21cefc4b94703fac11fc982fdb92ece"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/64ac041b1fb767982762ffca568a9fc3a81fcfbc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/64ac041b1fb767982762ffca568a9fc3a81fcfbc", "html_url": "https://github.com/rust-lang/rust/commit/64ac041b1fb767982762ffca568a9fc3a81fcfbc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/64ac041b1fb767982762ffca568a9fc3a81fcfbc/comments", "author": null, "committer": null, "parents": [{"sha": "146dfce803e85844cd14bb6967594efae4dcdb13", "url": "https://api.github.com/repos/rust-lang/rust/commits/146dfce803e85844cd14bb6967594efae4dcdb13", "html_url": "https://github.com/rust-lang/rust/commit/146dfce803e85844cd14bb6967594efae4dcdb13"}], "stats": {"total": 21, "additions": 14, "deletions": 7}, "files": [{"sha": "33528b986f6e574d485ef99ee2c630753621d1bb", "filename": "mk/cfg/mips-unknown-linux-musl.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/64ac041b1fb767982762ffca568a9fc3a81fcfbc/mk%2Fcfg%2Fmips-unknown-linux-musl.mk", "raw_url": "https://github.com/rust-lang/rust/raw/64ac041b1fb767982762ffca568a9fc3a81fcfbc/mk%2Fcfg%2Fmips-unknown-linux-musl.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fmips-unknown-linux-musl.mk?ref=64ac041b1fb767982762ffca568a9fc3a81fcfbc", "patch": "@@ -20,5 +20,5 @@ CFG_UNIXY_mips-unknown-linux-musl := 1\n CFG_LDPATH_mips-unknown-linux-musl :=\n CFG_RUN_mips-unknown-linux-musl=\n CFG_RUN_TARG_mips-unknown-linux-musl=\n-RUSTC_FLAGS_mips-unknown-linux-musl := -C target-cpu=mips32r2 -C target-feature=\"+mips32r2\" -C soft-float\n+RUSTC_FLAGS_mips-unknown-linux-musl :=\n CFG_GNU_TRIPLE_mips-unknown-linux-musl := mips-unknown-linux-musl"}, {"sha": "db836b81c5fd56d12dabdd32e735be0e3e867b0b", "filename": "mk/cfg/mipsel-unknown-linux-musl.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/64ac041b1fb767982762ffca568a9fc3a81fcfbc/mk%2Fcfg%2Fmipsel-unknown-linux-musl.mk", "raw_url": "https://github.com/rust-lang/rust/raw/64ac041b1fb767982762ffca568a9fc3a81fcfbc/mk%2Fcfg%2Fmipsel-unknown-linux-musl.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fmipsel-unknown-linux-musl.mk?ref=64ac041b1fb767982762ffca568a9fc3a81fcfbc", "patch": "@@ -20,5 +20,5 @@ CFG_UNIXY_mipsel-unknown-linux-musl := 1\n CFG_LDPATH_mipsel-unknown-linux-musl :=\n CFG_RUN_mipsel-unknown-linux-musl=\n CFG_RUN_TARG_mipsel-unknown-linux-musl=\n-RUSTC_FLAGS_mipsel-unknown-linux-musl := -C target-cpu=mips32 -C target-feature=\"+mips32\"\n+RUSTC_FLAGS_mipsel-unknown-linux-musl :=\n CFG_GNU_TRIPLE_mipsel-unknown-linux-musl := mipsel-unknown-linux-musl"}, {"sha": "050fb91aa1903417c22746bbd04b196712bf13cb", "filename": "src/librustc_back/target/mips_unknown_linux_musl.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/64ac041b1fb767982762ffca568a9fc3a81fcfbc/src%2Flibrustc_back%2Ftarget%2Fmips_unknown_linux_musl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/64ac041b1fb767982762ffca568a9fc3a81fcfbc/src%2Flibrustc_back%2Ftarget%2Fmips_unknown_linux_musl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fmips_unknown_linux_musl.rs?ref=64ac041b1fb767982762ffca568a9fc3a81fcfbc", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-use target::Target;\n+use target::{Target, TargetOptions};\n \n pub fn target() -> Target {\n     Target {\n@@ -19,6 +19,10 @@ pub fn target() -> Target {\n         target_os: \"linux\".to_string(),\n         target_env: \"musl\".to_string(),\n         target_vendor: \"unknown\".to_string(),\n-        options: super::linux_base::opts()\n+        options: TargetOptions {\n+            cpu: \"mips32r2\".to_string(),\n+            features: \"+mips32r2,+soft-float\".to_string(),\n+            ..super::linux_base::opts()\n+        }\n     }\n }"}, {"sha": "383a0d891ca7c059f7bf5bbdce61e5d9b484db6a", "filename": "src/librustc_back/target/mipsel_unknown_linux_musl.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/64ac041b1fb767982762ffca568a9fc3a81fcfbc/src%2Flibrustc_back%2Ftarget%2Fmipsel_unknown_linux_musl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/64ac041b1fb767982762ffca568a9fc3a81fcfbc/src%2Flibrustc_back%2Ftarget%2Fmipsel_unknown_linux_musl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fmipsel_unknown_linux_musl.rs?ref=64ac041b1fb767982762ffca568a9fc3a81fcfbc", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-use target::Target;\n+use target::{Target, TargetOptions};\n \n pub fn target() -> Target {\n     Target {\n@@ -19,7 +19,10 @@ pub fn target() -> Target {\n         target_os: \"linux\".to_string(),\n         target_env: \"musl\".to_string(),\n         target_vendor: \"unknown\".to_string(),\n-\n-        options: super::linux_base::opts()\n+        options: TargetOptions {\n+            cpu: \"mips32\".to_string(),\n+            features: \"+mips32\".to_string(),\n+            ..super::linux_base::opts()\n+        }\n     }\n }"}]}