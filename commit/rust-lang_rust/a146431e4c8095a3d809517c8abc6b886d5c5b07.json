{"sha": "a146431e4c8095a3d809517c8abc6b886d5c5b07", "node_id": "MDY6Q29tbWl0NzI0NzEyOmExNDY0MzFlNGM4MDk1YTNkODA5NTE3YzhhYmM2Yjg4NmQ1YzViMDc=", "commit": {"author": {"name": "Tim Neumann", "email": "mail@timnn.me", "date": "2017-04-02T09:24:22Z"}, "committer": {"name": "Tim Neumann", "email": "mail@timnn.me", "date": "2017-04-23T20:00:02Z"}, "message": "FIN: disable backtrace printing for panic-runtime/abort* on ARM", "tree": {"sha": "ad91668940e9e8249a15f0c18710b1066af200c0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad91668940e9e8249a15f0c18710b1066af200c0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a146431e4c8095a3d809517c8abc6b886d5c5b07", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a146431e4c8095a3d809517c8abc6b886d5c5b07", "html_url": "https://github.com/rust-lang/rust/commit/a146431e4c8095a3d809517c8abc6b886d5c5b07", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a146431e4c8095a3d809517c8abc6b886d5c5b07/comments", "author": {"login": "TimNN", "id": 1178249, "node_id": "MDQ6VXNlcjExNzgyNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimNN", "html_url": "https://github.com/TimNN", "followers_url": "https://api.github.com/users/TimNN/followers", "following_url": "https://api.github.com/users/TimNN/following{/other_user}", "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions", "organizations_url": "https://api.github.com/users/TimNN/orgs", "repos_url": "https://api.github.com/users/TimNN/repos", "events_url": "https://api.github.com/users/TimNN/events{/privacy}", "received_events_url": "https://api.github.com/users/TimNN/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TimNN", "id": 1178249, "node_id": "MDQ6VXNlcjExNzgyNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimNN", "html_url": "https://github.com/TimNN", "followers_url": "https://api.github.com/users/TimNN/followers", "following_url": "https://api.github.com/users/TimNN/following{/other_user}", "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions", "organizations_url": "https://api.github.com/users/TimNN/orgs", "repos_url": "https://api.github.com/users/TimNN/repos", "events_url": "https://api.github.com/users/TimNN/events{/privacy}", "received_events_url": "https://api.github.com/users/TimNN/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a0ce63be2b5d73411f733509a12702ccec2d173b", "url": "https://api.github.com/repos/rust-lang/rust/commits/a0ce63be2b5d73411f733509a12702ccec2d173b", "html_url": "https://github.com/rust-lang/rust/commit/a0ce63be2b5d73411f733509a12702ccec2d173b"}], "stats": {"total": 23, "additions": 21, "deletions": 2}, "files": [{"sha": "ebbb00a4a9f2322f6c0664f73eeb26d9708bf0db", "filename": "src/test/run-pass/panic-runtime/abort-link-to-unwinding-crates.rs", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a146431e4c8095a3d809517c8abc6b886d5c5b07/src%2Ftest%2Frun-pass%2Fpanic-runtime%2Fabort-link-to-unwinding-crates.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a146431e4c8095a3d809517c8abc6b886d5c5b07/src%2Ftest%2Frun-pass%2Fpanic-runtime%2Fabort-link-to-unwinding-crates.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fpanic-runtime%2Fabort-link-to-unwinding-crates.rs?ref=a146431e4c8095a3d809517c8abc6b886d5c5b07", "patch": "@@ -27,7 +27,17 @@ fn main() {\n             exit_success_if_unwind::bar(do_panic);\n         }\n     }\n-    let s = Command::new(env::args_os().next().unwrap()).arg(\"foo\").status();\n+\n+    let mut cmd = Command::new(env::args_os().next().unwrap());\n+    cmd.arg(\"foo\");\n+\n+\n+    // ARMv6 hanges while printing the backtrace, see #41004\n+    if cfg!(target_arch = \"arm\") && cfg!(target_env = \"gnu\") {\n+        cmd.env(\"RUST_BACKTRACE\", \"0\");\n+    }\n+\n+    let s = cmd.status();\n     assert!(s.unwrap().code() != Some(0));\n }\n "}, {"sha": "3ba3bd61c2e874db646cd8094e0a5e2fa254c3f2", "filename": "src/test/run-pass/panic-runtime/abort.rs", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/a146431e4c8095a3d809517c8abc6b886d5c5b07/src%2Ftest%2Frun-pass%2Fpanic-runtime%2Fabort.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a146431e4c8095a3d809517c8abc6b886d5c5b07/src%2Ftest%2Frun-pass%2Fpanic-runtime%2Fabort.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fpanic-runtime%2Fabort.rs?ref=a146431e4c8095a3d809517c8abc6b886d5c5b07", "patch": "@@ -35,6 +35,15 @@ fn main() {\n             panic!(\"try to catch me\");\n         }\n     }\n-    let s = Command::new(env::args_os().next().unwrap()).arg(\"foo\").status();\n+\n+    let mut cmd = Command::new(env::args_os().next().unwrap());\n+    cmd.arg(\"foo\");\n+\n+    // ARMv6 hanges while printing the backtrace, see #41004\n+    if cfg!(target_arch = \"arm\") && cfg!(target_env = \"gnu\") {\n+        cmd.env(\"RUST_BACKTRACE\", \"0\");\n+    }\n+\n+    let s = cmd.status();\n     assert!(s.unwrap().code() != Some(0));\n }"}]}