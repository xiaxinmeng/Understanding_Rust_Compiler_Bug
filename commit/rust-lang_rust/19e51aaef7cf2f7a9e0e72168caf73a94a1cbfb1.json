{"sha": "19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE5ZTUxYWFlZjdjZjJmN2E5ZTBlNzIxNjhjYWY3M2E5NGExY2JmYjE=", "commit": {"author": {"name": "marmeladema", "email": "xademax@gmail.com", "date": "2021-04-20T22:33:13Z"}, "committer": {"name": "marmeladema", "email": "xademax@gmail.com", "date": "2021-04-20T22:42:41Z"}, "message": "Add test for issue #79636", "tree": {"sha": "88003f69d6514e386fc64363c092154732a40b9b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/88003f69d6514e386fc64363c092154732a40b9b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1", "html_url": "https://github.com/rust-lang/rust/commit/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1/comments", "author": {"login": "marmeladema", "id": 1629419, "node_id": "MDQ6VXNlcjE2Mjk0MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1629419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marmeladema", "html_url": "https://github.com/marmeladema", "followers_url": "https://api.github.com/users/marmeladema/followers", "following_url": "https://api.github.com/users/marmeladema/following{/other_user}", "gists_url": "https://api.github.com/users/marmeladema/gists{/gist_id}", "starred_url": "https://api.github.com/users/marmeladema/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marmeladema/subscriptions", "organizations_url": "https://api.github.com/users/marmeladema/orgs", "repos_url": "https://api.github.com/users/marmeladema/repos", "events_url": "https://api.github.com/users/marmeladema/events{/privacy}", "received_events_url": "https://api.github.com/users/marmeladema/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marmeladema", "id": 1629419, "node_id": "MDQ6VXNlcjE2Mjk0MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1629419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marmeladema", "html_url": "https://github.com/marmeladema", "followers_url": "https://api.github.com/users/marmeladema/followers", "following_url": "https://api.github.com/users/marmeladema/following{/other_user}", "gists_url": "https://api.github.com/users/marmeladema/gists{/gist_id}", "starred_url": "https://api.github.com/users/marmeladema/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marmeladema/subscriptions", "organizations_url": "https://api.github.com/users/marmeladema/orgs", "repos_url": "https://api.github.com/users/marmeladema/repos", "events_url": "https://api.github.com/users/marmeladema/events{/privacy}", "received_events_url": "https://api.github.com/users/marmeladema/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b6647b569262215f4f69a93b8e8121438c9db98b", "url": "https://api.github.com/repos/rust-lang/rust/commits/b6647b569262215f4f69a93b8e8121438c9db98b", "html_url": "https://github.com/rust-lang/rust/commit/b6647b569262215f4f69a93b8e8121438c9db98b"}], "stats": {"total": 80, "additions": 80, "deletions": 0}, "files": [{"sha": "17f9387e29204cf9019f6cb016ef80314ba6d948", "filename": "src/test/ui/generic-associated-types/issue-79636-1.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-1.rs?ref=19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1", "patch": "@@ -0,0 +1,24 @@\n+#![allow(incomplete_features)]\n+#![feature(generic_associated_types)]\n+\n+trait Monad {\n+    type Unwrapped;\n+    type Wrapped<B>;\n+         //~^ ERROR: missing generics for associated type `Monad::Wrapped`\n+\n+    fn bind<B, F>(self, f: F) -> Self::Wrapped<B> {\n+        todo!()\n+    }\n+}\n+\n+fn join<MOuter, MInner, A>(outer: MOuter) -> MOuter::Wrapped<A>\n+where\n+    MOuter: Monad<Unwrapped = MInner>,\n+    MInner: Monad<Unwrapped = A, Wrapped = MOuter::Wrapped<A>>,\n+{\n+    outer.bind(|inner| inner)\n+}\n+\n+fn main() {\n+    assert_eq!(join(Some(Some(true))), Some(true));\n+}"}, {"sha": "58eeb43f70d6637c590f33115f1d5262c205804f", "filename": "src/test/ui/generic-associated-types/issue-79636-1.stderr", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-1.stderr?ref=19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1", "patch": "@@ -0,0 +1,19 @@\n+error[E0107]: missing generics for associated type `Monad::Wrapped`\n+  --> $DIR/issue-79636-1.rs:6:10\n+   |\n+LL |     type Wrapped<B>;\n+   |          ^^^^^^^ expected 1 type argument\n+   |\n+note: associated type defined here, with 1 type parameter: `B`\n+  --> $DIR/issue-79636-1.rs:6:10\n+   |\n+LL |     type Wrapped<B>;\n+   |          ^^^^^^^ -\n+help: use angle brackets to add missing type argument\n+   |\n+LL |     type Wrapped<B><B>;\n+   |                 ^^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0107`."}, {"sha": "5a6542193752b51cde26561c2a9b4ad9a90a56cc", "filename": "src/test/ui/generic-associated-types/issue-79636-2.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-2.rs?ref=19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1", "patch": "@@ -0,0 +1,18 @@\n+#![allow(incomplete_features)]\n+#![feature(generic_associated_types)]\n+\n+trait SomeTrait {\n+    type Wrapped<A>: SomeTrait;\n+         //~^ ERROR: missing generics for associated type `SomeTrait::Wrapped`\n+\n+    fn f() -> ();\n+}\n+\n+fn program<W>() -> ()\n+where\n+    W: SomeTrait<Wrapped = W>,\n+{\n+    return W::f();\n+}\n+\n+fn main() {}"}, {"sha": "d5e3c56ebb9ef928bb57e4de4ed6c42ec9824054", "filename": "src/test/ui/generic-associated-types/issue-79636-2.stderr", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-79636-2.stderr?ref=19e51aaef7cf2f7a9e0e72168caf73a94a1cbfb1", "patch": "@@ -0,0 +1,19 @@\n+error[E0107]: missing generics for associated type `SomeTrait::Wrapped`\n+  --> $DIR/issue-79636-2.rs:5:10\n+   |\n+LL |     type Wrapped<A>: SomeTrait;\n+   |          ^^^^^^^ expected 1 type argument\n+   |\n+note: associated type defined here, with 1 type parameter: `A`\n+  --> $DIR/issue-79636-2.rs:5:10\n+   |\n+LL |     type Wrapped<A>: SomeTrait;\n+   |          ^^^^^^^ -\n+help: use angle brackets to add missing type argument\n+   |\n+LL |     type Wrapped<A><A>: SomeTrait;\n+   |                 ^^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0107`."}]}