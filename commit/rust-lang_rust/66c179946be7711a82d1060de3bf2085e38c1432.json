{"sha": "66c179946be7711a82d1060de3bf2085e38c1432", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY2YzE3OTk0NmJlNzcxMWE4MmQxMDYwZGUzYmYyMDg1ZTM4YzE0MzI=", "commit": {"author": {"name": "Jack Huey", "email": "jack.huey@umassmed.edu", "date": "2021-01-06T21:12:02Z"}, "committer": {"name": "Jack Huey", "email": "jack.huey@umassmed.edu", "date": "2021-01-16T23:50:34Z"}, "message": "Use no_bound_vars", "tree": {"sha": "7f167a06a82abfd6cb649ee1839447a991e77abe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7f167a06a82abfd6cb649ee1839447a991e77abe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/66c179946be7711a82d1060de3bf2085e38c1432", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/66c179946be7711a82d1060de3bf2085e38c1432", "html_url": "https://github.com/rust-lang/rust/commit/66c179946be7711a82d1060de3bf2085e38c1432", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/66c179946be7711a82d1060de3bf2085e38c1432/comments", "author": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "476bd5305872001efd7104d183dc9a90726f2b49", "url": "https://api.github.com/repos/rust-lang/rust/commits/476bd5305872001efd7104d183dc9a90726f2b49", "html_url": "https://github.com/rust-lang/rust/commit/476bd5305872001efd7104d183dc9a90726f2b49"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "cf7101ff7127ad5a516d139340728df24e8864c9", "filename": "compiler/rustc_traits/src/implied_outlives_bounds.rs", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/66c179946be7711a82d1060de3bf2085e38c1432/compiler%2Frustc_traits%2Fsrc%2Fimplied_outlives_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66c179946be7711a82d1060de3bf2085e38c1432/compiler%2Frustc_traits%2Fsrc%2Fimplied_outlives_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Fimplied_outlives_bounds.rs?ref=66c179946be7711a82d1060de3bf2085e38c1432", "patch": "@@ -94,11 +94,9 @@ fn compute_implied_outlives_bounds<'tcx>(\n         // region relationships.\n         implied_bounds.extend(obligations.into_iter().flat_map(|obligation| {\n             assert!(!obligation.has_escaping_bound_vars());\n-            let binder = obligation.predicate.bound_atom();\n-            if binder.skip_binder().has_escaping_bound_vars() {\n-                vec![]\n-            } else {\n-                match binder.skip_binder() {\n+            match obligation.predicate.bound_atom().no_bound_vars() {\n+                None => vec![],\n+                Some(pred) => match pred {\n                     ty::PredicateAtom::Trait(..)\n                     | ty::PredicateAtom::Subtype(..)\n                     | ty::PredicateAtom::Projection(..)\n@@ -122,7 +120,7 @@ fn compute_implied_outlives_bounds<'tcx>(\n                         tcx.push_outlives_components(ty_a, &mut components);\n                         implied_bounds_from_components(r_b, components)\n                     }\n-                }\n+                },\n             }\n         }));\n     }"}]}