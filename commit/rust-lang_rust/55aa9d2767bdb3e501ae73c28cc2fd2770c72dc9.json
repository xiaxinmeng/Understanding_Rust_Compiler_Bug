{"sha": "55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU1YWE5ZDI3NjdiZGIzZTUwMWFlNzNjMjhjYzJmZDI3NzBjNzJkYzk=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-08-22T05:47:30Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-08-22T05:47:30Z"}, "message": "Add run-rustfix for range_plus_minus_one tests", "tree": {"sha": "4d35340c3575bef37a5301a72dbf6a58751e2653", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4d35340c3575bef37a5301a72dbf6a58751e2653"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJEBAABCgAuFiEEj4U0bmbiMSg/mWqvgqphyqETl+YFAl1eLHwQHGRldkBwaGFu\nc2NoLm5ldAAKCRCCqmHKoROX5gi8D/0XWHoQiYpQALjRmBnRqV2/AnBZ0X5eDgvV\n1H/rKt8Sepox3OGK2aAEC9yw1IeIxO8hggsasyuytEEpXWA95jRXgTJb9Qzw5bin\n3zcyYuca2ZFQcezjGSVQsuw2yi6g3SiP2olX7JBlqWXTxfZfV04gBkN/4HZAmDPN\nB2oc5i45y3TdwY6G03ZE6F29Ds+S7lzEw+sJFM5fqum43j0kRjM1j5zp7pz46toH\nJLL9uOwh4PCtojK63kwjRmH/DH1dESbhpdNVaQWro0jsu9LrcyNubdb3mPm4rObB\nQhmz2NV3IRBEJZHlu6hUl/yHv12OBkeKoBfWY2G7nhXcElZjUXBvtrv2VTTB2154\nNo/Jm8U1BnqKU9Gvvid7P9ixerBks48Ce8e4c0nQi1w6JRenh19XAbPXmqzEKnd7\nUHm/Ipzcv8kGguYH9a+fahJ94z28rsY3zu2Swgx5azHekEREfAvUteiPFZ/UeLiW\nHMe0O2F9MXIRHmG+G+/9CdmZwwXvXrwCoxUvdCVXx5Iidwz+MkH4e+G60tQfZyge\nxEFj5WtYBGrIgMDvbQHCq4OudCZGFHfjsyoexgPiFI2JtTcOMkoX5PRqqlCMnDYb\nZLJHV6iBIbisqiNpGJmqVVcMZ94aip9qykUTeAwClPUQOphh83xtiwKymbJQXYYt\nM7mpnM5+6g==\n=p65y\n-----END PGP SIGNATURE-----", "payload": "tree 4d35340c3575bef37a5301a72dbf6a58751e2653\nparent 18fb1d9d2fcc637dca5b6b5d7e9f2d0ec383b182\nauthor Philipp Hansch <dev@phansch.net> 1566452850 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1566452850 +0200\n\nAdd run-rustfix for range_plus_minus_one tests\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9", "html_url": "https://github.com/rust-lang/rust/commit/55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "18fb1d9d2fcc637dca5b6b5d7e9f2d0ec383b182", "url": "https://api.github.com/repos/rust-lang/rust/commits/18fb1d9d2fcc637dca5b6b5d7e9f2d0ec383b182", "html_url": "https://github.com/rust-lang/rust/commit/18fb1d9d2fcc637dca5b6b5d7e9f2d0ec383b182"}], "stats": {"total": 57, "additions": 49, "deletions": 8}, "files": [{"sha": "badfb5baf3c1160f63df55ccf302d9b873eade35", "filename": "tests/ui/range_plus_minus_one.fixed", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9/tests%2Fui%2Frange_plus_minus_one.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9/tests%2Fui%2Frange_plus_minus_one.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frange_plus_minus_one.fixed?ref=55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9", "patch": "@@ -0,0 +1,37 @@\n+// run-rustfix\n+\n+#![allow(unused_parens)]\n+\n+fn f() -> usize {\n+    42\n+}\n+\n+#[warn(clippy::range_plus_one)]\n+fn main() {\n+    for _ in 0..2 {}\n+    for _ in 0..=2 {}\n+\n+    for _ in 0..=3 {}\n+    for _ in 0..=3 + 1 {}\n+\n+    for _ in 0..=5 {}\n+    for _ in 0..=1 + 5 {}\n+\n+    for _ in 1..=1 {}\n+    for _ in 1..=1 + 1 {}\n+\n+    for _ in 0..13 + 13 {}\n+    for _ in 0..=13 - 7 {}\n+\n+    for _ in 0..=f() {}\n+    for _ in 0..=(1 + f()) {}\n+\n+    let _ = ..11 - 1;\n+    let _ = ..11;\n+    let _ = ..11;\n+    let _ = (1..=11);\n+    let _ = ((f() + 1)..=f());\n+\n+    let mut vec: Vec<()> = std::vec::Vec::new();\n+    vec.drain(..);\n+}"}, {"sha": "c4facd2c23d94b8e1e64bce5b51821926d7a63e5", "filename": "tests/ui/range_plus_minus_one.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9/tests%2Fui%2Frange_plus_minus_one.rs", "raw_url": "https://github.com/rust-lang/rust/raw/55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9/tests%2Fui%2Frange_plus_minus_one.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frange_plus_minus_one.rs?ref=55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9", "patch": "@@ -1,3 +1,7 @@\n+// run-rustfix\n+\n+#![allow(unused_parens)]\n+\n fn f() -> usize {\n     42\n }"}, {"sha": "8318f6b259636bc2d8c42d8f3cb0655cf03d1974", "filename": "tests/ui/range_plus_minus_one.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9/tests%2Fui%2Frange_plus_minus_one.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9/tests%2Fui%2Frange_plus_minus_one.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frange_plus_minus_one.stderr?ref=55aa9d2767bdb3e501ae73c28cc2fd2770c72dc9", "patch": "@@ -1,51 +1,51 @@\n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:10:14\n+  --> $DIR/range_plus_minus_one.rs:14:14\n    |\n LL |     for _ in 0..3 + 1 {}\n    |              ^^^^^^^^ help: use: `0..=3`\n    |\n    = note: `-D clippy::range-plus-one` implied by `-D warnings`\n \n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:13:14\n+  --> $DIR/range_plus_minus_one.rs:17:14\n    |\n LL |     for _ in 0..1 + 5 {}\n    |              ^^^^^^^^ help: use: `0..=5`\n \n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:16:14\n+  --> $DIR/range_plus_minus_one.rs:20:14\n    |\n LL |     for _ in 1..1 + 1 {}\n    |              ^^^^^^^^ help: use: `1..=1`\n \n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:22:14\n+  --> $DIR/range_plus_minus_one.rs:26:14\n    |\n LL |     for _ in 0..(1 + f()) {}\n    |              ^^^^^^^^^^^^ help: use: `0..=f()`\n \n error: an exclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:26:13\n+  --> $DIR/range_plus_minus_one.rs:30:13\n    |\n LL |     let _ = ..=11 - 1;\n    |             ^^^^^^^^^ help: use: `..11`\n    |\n    = note: `-D clippy::range-minus-one` implied by `-D warnings`\n \n error: an exclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:27:13\n+  --> $DIR/range_plus_minus_one.rs:31:13\n    |\n LL |     let _ = ..=(11 - 1);\n    |             ^^^^^^^^^^^ help: use: `..11`\n \n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:28:13\n+  --> $DIR/range_plus_minus_one.rs:32:13\n    |\n LL |     let _ = (1..11 + 1);\n    |             ^^^^^^^^^^^ help: use: `(1..=11)`\n \n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:29:13\n+  --> $DIR/range_plus_minus_one.rs:33:13\n    |\n LL |     let _ = (f() + 1)..(f() + 1);\n    |             ^^^^^^^^^^^^^^^^^^^^ help: use: `((f() + 1)..=f())`"}]}