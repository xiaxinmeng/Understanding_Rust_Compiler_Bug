{"sha": "89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg5ZWE2ZDJhM2U4YzY1NGYwOTJhNWRlNWJhMjMyOTA4OThjYmYwZjM=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-01-31T08:36:05Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-01-31T08:36:05Z"}, "message": "Rollup merge of #47838 - euclio:snakecase-suggestion, r=petrochenkov\n\nuse correct casing for rename suggestions\n\nIf the original name is uppercase, use camel case. Otherwise, use snake\ncase.", "tree": {"sha": "41230a194aa55647ccbcaef2bafbeb82d5fa01d9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/41230a194aa55647ccbcaef2bafbeb82d5fa01d9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "html_url": "https://github.com/rust-lang/rust/commit/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b8f2674ea47f4f3cf5d90d0428bf8b8025d7f8d8", "url": "https://api.github.com/repos/rust-lang/rust/commits/b8f2674ea47f4f3cf5d90d0428bf8b8025d7f8d8", "html_url": "https://github.com/rust-lang/rust/commit/b8f2674ea47f4f3cf5d90d0428bf8b8025d7f8d8"}, {"sha": "043d4615f2a9ff44d7b3726de51fa9e3bfb60d7e", "url": "https://api.github.com/repos/rust-lang/rust/commits/043d4615f2a9ff44d7b3726de51fa9e3bfb60d7e", "html_url": "https://github.com/rust-lang/rust/commit/043d4615f2a9ff44d7b3726de51fa9e3bfb60d7e"}], "stats": {"total": 36, "additions": 21, "deletions": 15}, "files": [{"sha": "2da4bfedd3a175252a230f2d9a17a01ccfdf8dd1", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "patch": "@@ -3998,14 +3998,20 @@ impl<'a> Resolver<'a> {\n \n             if let (Ok(snippet), false) = (cm.span_to_snippet(binding.span),\n                                            binding.is_renamed_extern_crate()) {\n+                let suggested_name = if name.as_str().chars().next().unwrap().is_uppercase() {\n+                    format!(\"Other{}\", name)\n+                } else {\n+                    format!(\"other_{}\", name)\n+                };\n+\n                 err.span_suggestion(binding.span,\n                                     rename_msg,\n                                     if snippet.ends_with(';') {\n-                                        format!(\"{} as Other{};\",\n+                                        format!(\"{} as {};\",\n                                                 &snippet[..snippet.len()-1],\n-                                                name)\n+                                                suggested_name)\n                                     } else {\n-                                        format!(\"{} as Other{}\", snippet, name)\n+                                        format!(\"{} as {}\", snippet, suggested_name)\n                                     });\n             } else {\n                 err.span_label(binding.span, rename_msg);"}, {"sha": "d3588be26697583a60f8ebc43170c2eeeb1d32fa", "filename": "src/test/ui/blind-item-item-shadow.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fblind-item-item-shadow.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fblind-item-item-shadow.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fblind-item-item-shadow.stderr?ref=89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "patch": "@@ -10,8 +10,8 @@ error[E0255]: the name `foo` is defined multiple times\n    = note: `foo` must be defined only once in the type namespace of this module\n help: You can use `as` to change the binding name of the import\n    |\n-13 | use foo::foo as Otherfoo;\n-   |     ^^^^^^^^^^^^^^^^^^^^\n+13 | use foo::foo as other_foo;\n+   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n "}, {"sha": "2a0f9ee34f2befdbb71013c6c901effa4e6bb9ee", "filename": "src/test/ui/double-import.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fdouble-import.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fdouble-import.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdouble-import.stderr?ref=89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "patch": "@@ -9,8 +9,8 @@ error[E0252]: the name `foo` is defined multiple times\n    = note: `foo` must be defined only once in the value namespace of this module\n help: You can use `as` to change the binding name of the import\n    |\n-23 | use sub2::foo as Otherfoo; //~ ERROR the name `foo` is defined multiple times\n-   |     ^^^^^^^^^^^^^^^^^^^^^\n+23 | use sub2::foo as other_foo; //~ ERROR the name `foo` is defined multiple times\n+   |     ^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n "}, {"sha": "6e5b91a11c900e43f054f7eda9a062696a176053", "filename": "src/test/ui/imports/duplicate.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fimports%2Fduplicate.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fimports%2Fduplicate.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fduplicate.stderr?ref=89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "patch": "@@ -9,8 +9,8 @@ error[E0252]: the name `foo` is defined multiple times\n    = note: `foo` must be defined only once in the value namespace of this module\n help: You can use `as` to change the binding name of the import\n    |\n-25 |     use a::foo as Otherfoo; //~ ERROR the name `foo` is defined multiple times\n-   |         ^^^^^^^^^^^^^^^^^^\n+25 |     use a::foo as other_foo; //~ ERROR the name `foo` is defined multiple times\n+   |         ^^^^^^^^^^^^^^^^^^^\n \n error[E0659]: `foo` is ambiguous\n   --> $DIR/duplicate.rs:56:9"}, {"sha": "e6424e535ee329e36577f216a937efc8c2c3fff8", "filename": "src/test/ui/issue-26886.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fissue-26886.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fissue-26886.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-26886.stderr?ref=89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "patch": "@@ -24,8 +24,8 @@ error[E0252]: the name `sync` is defined multiple times\n    = note: `sync` must be defined only once in the type namespace of this module\n help: You can use `as` to change the binding name of the import\n    |\n-14 | use std::sync as Othersync; //~ ERROR the name `sync` is defined multiple times\n-   |     ^^^^^^^^^^^^^^^^^^^^^^\n+14 | use std::sync as other_sync; //~ ERROR the name `sync` is defined multiple times\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 2 previous errors\n "}, {"sha": "e2245b8a8b10a7b39bdb0827fc04123f9f055441", "filename": "src/test/ui/resolve-conflict-item-vs-import.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fresolve-conflict-item-vs-import.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fresolve-conflict-item-vs-import.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve-conflict-item-vs-import.stderr?ref=89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "patch": "@@ -10,8 +10,8 @@ error[E0255]: the name `transmute` is defined multiple times\n    = note: `transmute` must be defined only once in the value namespace of this module\n help: You can use `as` to change the binding name of the import\n    |\n-11 | use std::mem::transmute as Othertransmute;\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+11 | use std::mem::transmute as other_transmute;\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n "}, {"sha": "01dba62a8511d17462ac1bff8b9367be1bf0b2d4", "filename": "src/test/ui/suggestions/issue-45799-bad-extern-crate-rename-suggestion-formatting.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fsuggestions%2Fissue-45799-bad-extern-crate-rename-suggestion-formatting.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fsuggestions%2Fissue-45799-bad-extern-crate-rename-suggestion-formatting.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fissue-45799-bad-extern-crate-rename-suggestion-formatting.stderr?ref=89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "patch": "@@ -7,7 +7,7 @@ error[E0259]: the name `std` is defined multiple times\n    = note: `std` must be defined only once in the type namespace of this module\n help: You can use `as` to change the binding name of the import\n    |\n-11 | extern crate std as Otherstd;\n+11 | extern crate std as other_std;\n    |\n \n error: aborting due to previous error"}, {"sha": "1c9f306f493db9b5c357b3e84abcc583041668a5", "filename": "src/test/ui/use-mod.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fuse-mod.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/89ea6d2a3e8c654f092a5de5ba23290898cbf0f3/src%2Ftest%2Fui%2Fuse-mod.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuse-mod.stderr?ref=89ea6d2a3e8c654f092a5de5ba23290898cbf0f3", "patch": "@@ -25,7 +25,7 @@ error[E0252]: the name `bar` is defined multiple times\n    = note: `bar` must be defined only once in the type namespace of this module\n help: You can use `as` to change the binding name of the import\n    |\n-15 |     self as Otherbar\n+15 |     self as other_bar\n    |\n \n error: aborting due to 3 previous errors"}]}