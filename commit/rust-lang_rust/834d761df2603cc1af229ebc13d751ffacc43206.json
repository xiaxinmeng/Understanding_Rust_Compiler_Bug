{"sha": "834d761df2603cc1af229ebc13d751ffacc43206", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgzNGQ3NjFkZjI2MDNjYzFhZjIyOWViYzEzZDc1MWZmYWNjNDMyMDY=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2020-11-08T12:36:05Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-11-08T12:36:05Z"}, "message": "Rollup merge of #78570 - sasurau4:test/check-pass-print-type-size, r=jyn514\n\nRemove FIXME comment in print_type_sizes ui test suite\n\n## Overview\nHelps with #62277\n\n> The type sizes are likely only printed when the actual layout is computed. For generic types, this only happens during codegen.\n\nref: https://rust-lang.zulipchat.com/#narrow/stream/182449-t-compiler.2Fhelp/topic/Codegen.20process.20question/near/215836807\n\nSome tests like `multiple_types.rs` are passed even if using `check-pass`. But tests should be agnostic to when the actual layout is computed. The `build-pass` is intentionally used for them. I remove FIXME comments.", "tree": {"sha": "e747446fb287a78a2ca79eccdd7499dc11b720c1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e747446fb287a78a2ca79eccdd7499dc11b720c1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/834d761df2603cc1af229ebc13d751ffacc43206", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfp+Y1CRBK7hj4Ov3rIwAAdHIIAGLCkA+zv2VS/vavIDXii5c8\nNHa20LdJDjqNYeK6sfLNuJ33Xcx6S/iyJ2u42X3EqcQtMrSvWmxgjoSjv7Odxw8/\nt4jc11uzcolUGyb3bvejrZP8viyDgr0hY/wk0X9NAaT3MtwtwSB8Ym2HrvVtC3EO\nLUmHO5Jn52pxJx8KeLa/cgOAcPHFGRfAD/xboY60egBI+C68+/uQRub+pcgQt1W7\nLEtMMZDPHFBYHEhmuSRnJCAuJi9O88jZxDH8FlOeFkqdQr9l5FhU4XFerr8f9RjG\nNVNkVrV9uIIbuleSUZJ1h/J+72bRVT9/zdRYFVh4ZT1eHB2rzkjgDLlveln6CE0=\n=0/VV\n-----END PGP SIGNATURE-----\n", "payload": "tree e747446fb287a78a2ca79eccdd7499dc11b720c1\nparent 1c66688adc899e4d2ef4f7dac1df96b63cf78116\nparent 5c8d25f4035d490063abcca8e71e7b602d467e64\nauthor Mara Bos <m-ou.se@m-ou.se> 1604838965 +0100\ncommitter GitHub <noreply@github.com> 1604838965 +0100\n\nRollup merge of #78570 - sasurau4:test/check-pass-print-type-size, r=jyn514\n\nRemove FIXME comment in print_type_sizes ui test suite\n\n## Overview\nHelps with #62277\n\n> The type sizes are likely only printed when the actual layout is computed. For generic types, this only happens during codegen.\n\nref: https://rust-lang.zulipchat.com/#narrow/stream/182449-t-compiler.2Fhelp/topic/Codegen.20process.20question/near/215836807\n\nSome tests like `multiple_types.rs` are passed even if using `check-pass`. But tests should be agnostic to when the actual layout is computed. The `build-pass` is intentionally used for them. I remove FIXME comments.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/834d761df2603cc1af229ebc13d751ffacc43206", "html_url": "https://github.com/rust-lang/rust/commit/834d761df2603cc1af229ebc13d751ffacc43206", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/834d761df2603cc1af229ebc13d751ffacc43206/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1c66688adc899e4d2ef4f7dac1df96b63cf78116", "url": "https://api.github.com/repos/rust-lang/rust/commits/1c66688adc899e4d2ef4f7dac1df96b63cf78116", "html_url": "https://github.com/rust-lang/rust/commit/1c66688adc899e4d2ef4f7dac1df96b63cf78116"}, {"sha": "5c8d25f4035d490063abcca8e71e7b602d467e64", "url": "https://api.github.com/repos/rust-lang/rust/commits/5c8d25f4035d490063abcca8e71e7b602d467e64", "html_url": "https://github.com/rust-lang/rust/commit/5c8d25f4035d490063abcca8e71e7b602d467e64"}], "stats": {"total": 24, "additions": 12, "deletions": 12}, "files": [{"sha": "2b008ca3b3a9ab25a063b45beaffcce43efba356", "filename": "src/test/ui/print_type_sizes/anonymous.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fanonymous.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fanonymous.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Fanonymous.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n \n // All of the types that occur in this function are uninteresting, in\n // that one cannot control the sizes of these types with the same sort"}, {"sha": "3ef7b60db2caee840885f4631d0b169f90fc3757", "filename": "src/test/ui/print_type_sizes/generics.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fgenerics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fgenerics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Fgenerics.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n // ignore-pass\n // ^-- needed because `--pass check` does not emit the output needed.\n //     FIXME: consider using an attribute instead of side-effects."}, {"sha": "f1ad27ec131371988f2e0810fc4c709646dfb28b", "filename": "src/test/ui/print_type_sizes/multiple_types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fmultiple_types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fmultiple_types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Fmultiple_types.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n \n // This file illustrates that when multiple structural types occur in\n // a function, every one of them is included in the output."}, {"sha": "37ac45f7e053ce5a059d49b464391fa30b1cc1ba", "filename": "src/test/ui/print_type_sizes/niche-filling.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fniche-filling.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fniche-filling.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Fniche-filling.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n // ignore-pass\n // ^-- needed because `--pass check` does not emit the output needed.\n //     FIXME: consider using an attribute instead of side-effects."}, {"sha": "e45e4794a3526a754357c88511c647a8d5637677", "filename": "src/test/ui/print_type_sizes/no_duplicates.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fno_duplicates.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fno_duplicates.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Fno_duplicates.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n // ignore-pass\n // ^-- needed because `--pass check` does not emit the output needed.\n //     FIXME: consider using an attribute instead of side-effects."}, {"sha": "269cc3cc2825fccc97c3991c15f7c61f43ba6705", "filename": "src/test/ui/print_type_sizes/packed.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fpacked.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fpacked.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Fpacked.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n // ignore-pass\n // ^-- needed because `--pass check` does not emit the output needed.\n //     FIXME: consider using an attribute instead of side-effects."}, {"sha": "d1acad16d7e1d3a60a13b290408b751f2f1ae406", "filename": "src/test/ui/print_type_sizes/padding.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fpadding.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fpadding.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Fpadding.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n \n // This file illustrates how padding is handled: alignment\n // requirements can lead to the introduction of padding, either before"}, {"sha": "07544935b2f828480eafeceff869d76898ff001b", "filename": "src/test/ui/print_type_sizes/repr-align.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Frepr-align.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Frepr-align.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Frepr-align.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n // ignore-pass\n // ^-- needed because `--pass check` does not emit the output needed.\n //     FIXME: consider using an attribute instead of side-effects."}, {"sha": "b8067c112eef13c974e2d8f12afeba90feb80c40", "filename": "src/test/ui/print_type_sizes/repr_int_c.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Frepr_int_c.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Frepr_int_c.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Frepr_int_c.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n \n // This test makes sure that the tag is not grown for `repr(C)` or `repr(u8)`\n // variants (see https://github.com/rust-lang/rust/issues/50098 for the original bug)."}, {"sha": "c234547bd14b1219b7bde73342982b34af163215", "filename": "src/test/ui/print_type_sizes/uninhabited.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Funinhabited.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Funinhabited.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Funinhabited.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n // ignore-pass\n // ^-- needed because `--pass check` does not emit the output needed.\n //     FIXME: consider using an attribute instead of side-effects."}, {"sha": "6c8553cc23ded83bffdef6a0a643b9bd099970df", "filename": "src/test/ui/print_type_sizes/variants.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fvariants.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fvariants.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Fvariants.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n \n // This file illustrates two things:\n //"}, {"sha": "e02a33109e56af728bd6776cf7b576290a0e27df", "filename": "src/test/ui/print_type_sizes/zero-sized-fields.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fzero-sized-fields.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834d761df2603cc1af229ebc13d751ffacc43206/src%2Ftest%2Fui%2Fprint_type_sizes%2Fzero-sized-fields.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Fzero-sized-fields.rs?ref=834d761df2603cc1af229ebc13d751ffacc43206", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: -Z print-type-sizes\n-// build-pass (FIXME(62277): could be check-pass?)\n+// build-pass\n // ignore-pass\n \n // At one point, zero-sized fields such as those in this file were causing"}]}