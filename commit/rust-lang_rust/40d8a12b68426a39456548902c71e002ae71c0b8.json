{"sha": "40d8a12b68426a39456548902c71e002ae71c0b8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQwZDhhMTJiNjg0MjZhMzk0NTY1NDg5MDJjNzFlMDAyYWU3MWMwYjg=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2014-01-09T08:42:28Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2014-01-10T04:54:12Z"}, "message": "item_impl holds an Option<> to the trait ref, not a list of trait refs. Therefore, we should not iterate over it.", "tree": {"sha": "f4c2c98b88a3c897f4fbd8527fc661e8c4f86595", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f4c2c98b88a3c897f4fbd8527fc661e8c4f86595"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/40d8a12b68426a39456548902c71e002ae71c0b8", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/40d8a12b68426a39456548902c71e002ae71c0b8", "html_url": "https://github.com/rust-lang/rust/commit/40d8a12b68426a39456548902c71e002ae71c0b8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/40d8a12b68426a39456548902c71e002ae71c0b8/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "28ddc6537fcec5eb6033c78709b288abf72e8ae7", "url": "https://api.github.com/repos/rust-lang/rust/commits/28ddc6537fcec5eb6033c78709b288abf72e8ae7", "html_url": "https://github.com/rust-lang/rust/commit/28ddc6537fcec5eb6033c78709b288abf72e8ae7"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "d5fb9efe59be60e3275db3b17a2e2aad50c6108c", "filename": "src/libsyntax/visit.rs", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/40d8a12b68426a39456548902c71e002ae71c0b8/src%2Flibsyntax%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40d8a12b68426a39456548902c71e002ae71c0b8/src%2Flibsyntax%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fvisit.rs?ref=40d8a12b68426a39456548902c71e002ae71c0b8", "patch": "@@ -223,12 +223,13 @@ pub fn walk_item<E: Clone, V: Visitor<E>>(visitor: &mut V, item: &Item, env: E)\n             walk_enum_def(visitor, enum_definition, type_parameters, env)\n         }\n         ItemImpl(ref type_parameters,\n-                  ref trait_references,\n-                  typ,\n-                  ref methods) => {\n+                 ref trait_reference,\n+                 typ,\n+                 ref methods) => {\n             visitor.visit_generics(type_parameters, env.clone());\n-            for trait_reference in trait_references.iter() {\n-                walk_trait_ref(visitor, trait_reference, env.clone())\n+            match *trait_reference {\n+                Some(ref trait_reference) => walk_trait_ref(visitor, trait_reference, env.clone()),\n+                None => ()\n             }\n             visitor.visit_ty(typ, env.clone());\n             for method in methods.iter() {"}]}