{"sha": "dcae8bfb409c6b4f67b57a52b36bcecd4eafa3a4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRjYWU4YmZiNDA5YzZiNGY2N2I1N2E1MmIzNmJjZWNkNGVhZmEzYTQ=", "commit": {"author": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-12-06T06:25:41Z"}, "committer": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-12-18T23:26:32Z"}, "message": "Give extern crates' root modules a better name.", "tree": {"sha": "07660b7feb12fd23ad4ebd9f65232a202b53eea6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/07660b7feb12fd23ad4ebd9f65232a202b53eea6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dcae8bfb409c6b4f67b57a52b36bcecd4eafa3a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dcae8bfb409c6b4f67b57a52b36bcecd4eafa3a4", "html_url": "https://github.com/rust-lang/rust/commit/dcae8bfb409c6b4f67b57a52b36bcecd4eafa3a4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dcae8bfb409c6b4f67b57a52b36bcecd4eafa3a4/comments", "author": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "745ddf2aa78e4515d6a41e34a301d97afbde33ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/745ddf2aa78e4515d6a41e34a301d97afbde33ba", "html_url": "https://github.com/rust-lang/rust/commit/745ddf2aa78e4515d6a41e34a301d97afbde33ba"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "cd2a2767979144fdcb3272a5205ef71128f8d196", "filename": "src/librustc_resolve/build_reduced_graph.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dcae8bfb409c6b4f67b57a52b36bcecd4eafa3a4/src%2Flibrustc_resolve%2Fbuild_reduced_graph.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dcae8bfb409c6b4f67b57a52b36bcecd4eafa3a4/src%2Flibrustc_resolve%2Fbuild_reduced_graph.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fbuild_reduced_graph.rs?ref=dcae8bfb409c6b4f67b57a52b36bcecd4eafa3a4", "patch": "@@ -490,12 +490,13 @@ impl<'a> Resolver<'a> {\n \n     fn get_extern_crate_root(&mut self, cnum: CrateNum) -> Module<'a> {\n         let def_id = DefId { krate: cnum, index: CRATE_DEF_INDEX };\n+        let name = self.session.cstore.crate_name(cnum);\n         let macros_only = self.session.cstore.dep_kind(cnum).macros_only();\n         let arenas = self.arenas;\n         *self.extern_crate_roots.entry((cnum, macros_only)).or_insert_with(|| {\n             arenas.alloc_module(ModuleData {\n                 populated: Cell::new(false),\n-                ..ModuleData::new(None, ModuleKind::Def(Def::Mod(def_id), keywords::Invalid.name()))\n+                ..ModuleData::new(None, ModuleKind::Def(Def::Mod(def_id), name))\n             })\n         })\n     }"}]}