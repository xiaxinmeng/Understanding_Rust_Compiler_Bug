{"sha": "faebcc108768210cda97a74f0407cd7b3c3348c9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZhZWJjYzEwODc2ODIxMGNkYTk3YTc0ZjA0MDdjZDdiM2MzMzQ4Yzk=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2018-03-15T17:58:02Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2018-03-26T20:07:12Z"}, "message": "rustbuild: Fail the build if we build Cargo twice\n\nThis commit updates the `ToolBuild` step to stream Cargo's JSON messages, parse\nthem, and record all libraries built. If we build anything twice (aka Cargo)\nit'll most likely happen due to dependencies being recompiled which is caught by\nthis check.", "tree": {"sha": "b328cf4f781391a0d35d1f06c7e719bb0a3235a4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b328cf4f781391a0d35d1f06c7e719bb0a3235a4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/faebcc108768210cda97a74f0407cd7b3c3348c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/faebcc108768210cda97a74f0407cd7b3c3348c9", "html_url": "https://github.com/rust-lang/rust/commit/faebcc108768210cda97a74f0407cd7b3c3348c9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/faebcc108768210cda97a74f0407cd7b3c3348c9/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ab8b961677ac5c74762dcea955aa0ff4d7fe4915", "url": "https://api.github.com/repos/rust-lang/rust/commits/ab8b961677ac5c74762dcea955aa0ff4d7fe4915", "html_url": "https://github.com/rust-lang/rust/commit/ab8b961677ac5c74762dcea955aa0ff4d7fe4915"}], "stats": {"total": 589, "additions": 349, "deletions": 240}, "files": [{"sha": "c4707707be0843107605743b0485dc658768bca6", "filename": "src/Cargo.lock", "status": "modified", "additions": 190, "deletions": 189, "changes": 379, "blob_url": "https://github.com/rust-lang/rust/blob/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2FCargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2FCargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FCargo.lock?ref=faebcc108768210cda97a74f0407cd7b3c3348c9", "patch": "@@ -22,7 +22,7 @@ dependencies = [\n  \"alloc 0.0.0\",\n  \"alloc_system 0.0.0\",\n  \"build_helper 0.1.0\",\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n  \"libc 0.0.0\",\n ]\n@@ -67,7 +67,7 @@ name = \"atty\"\n version = \"0.2.8\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"termion 1.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -79,7 +79,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"backtrace-sys 0.1.16 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cfg-if 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-demangle 0.1.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -89,8 +89,8 @@ name = \"backtrace-sys\"\n version = \"0.1.16\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -117,16 +117,16 @@ name = \"bootstrap\"\n version = \"0.0.0\"\n dependencies = [\n  \"build_helper 0.1.0\",\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cmake 0.1.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"filetime 0.1.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num_cpus 1.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"time 0.1.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -144,8 +144,8 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n name = \"build-manifest\"\n version = \"0.1.0\"\n dependencies = [\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -173,36 +173,35 @@ dependencies = [\n  \"crossbeam 0.3.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"crypto-hash 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"curl 0.4.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"env_logger 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"filetime 0.1.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"flate2 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"fs2 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"git2 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"git2-curl 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"git2 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"git2-curl 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"glob 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"hex 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"home 0.3.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"ignore 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"jobserver 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"jobserver 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazycell 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libgit2-sys 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"miow 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"num-traits 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"num-traits 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num_cpus 1.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"same-file 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"scoped-tls 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_ignored 0.0.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"shell-escape 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"tar 0.4.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"tempdir 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"tempdir 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"termcolor 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -214,9 +213,9 @@ name = \"cargo_metadata\"\n version = \"0.2.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -226,9 +225,9 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"error-chain 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -237,7 +236,7 @@ version = \"0.1.0\"\n \n [[package]]\n name = \"cc\"\n-version = \"1.0.6\"\n+version = \"1.0.9\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n@@ -279,10 +278,10 @@ dependencies = [\n  \"compiletest_rs 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"derive-new 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -299,10 +298,10 @@ dependencies = [\n  \"matches 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"pulldown-cmark 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"quine-mc_cluskey 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex-syntax 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex-syntax 0.5.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-normalization 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -313,7 +312,7 @@ name = \"cmake\"\n version = \"0.1.29\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -329,14 +328,14 @@ name = \"commoncrypto-sys\"\n version = \"0.2.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"compiler_builtins\"\n version = \"0.0.0\"\n dependencies = [\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -345,16 +344,16 @@ name = \"compiletest\"\n version = \"0.0.0\"\n dependencies = [\n  \"diff 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"env_logger 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"filetime 0.1.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"miow 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -366,13 +365,13 @@ dependencies = [\n  \"diff 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"filetime 0.1.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"miow 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"tempdir 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"tempdir 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -393,15 +392,15 @@ version = \"0.5.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"core-foundation-sys 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"core-foundation-sys\"\n version = \"0.5.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -410,9 +409,9 @@ version = \"0.16.0\"\n dependencies = [\n  \"curl 0.4.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -470,11 +469,11 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"curl-sys 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"openssl-probe 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"openssl-sys 0.9.27 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"schannel 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"socket2 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"socket2 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -483,8 +482,8 @@ name = \"curl-sys\"\n version = \"0.4.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libz-sys 1.0.18 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"openssl-sys 0.9.27 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"pkg-config 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -552,13 +551,13 @@ dependencies = [\n \n [[package]]\n name = \"env_logger\"\n-version = \"0.5.5\"\n+version = \"0.5.6\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"atty 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"humantime 1.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"termcolor 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -606,7 +605,7 @@ version = \"0.1.15\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cfg-if 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"redox_syscall 0.1.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -623,7 +622,7 @@ name = \"flate2\"\n version = \"1.0.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"miniz-sys 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -654,7 +653,7 @@ name = \"fs2\"\n version = \"0.4.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -684,25 +683,26 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"git2\"\n-version = \"0.7.0\"\n+version = \"0.7.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"bitflags 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libgit2-sys 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"openssl-probe 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"openssl-sys 0.9.27 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"git2-curl\"\n-version = \"0.8.0\"\n+version = \"0.8.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"curl 0.4.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"git2 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"log 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"git2 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -720,7 +720,7 @@ dependencies = [\n  \"fnv 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"memchr 2.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -736,9 +736,9 @@ dependencies = [\n  \"log 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"pest 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"quick-error 1.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -789,7 +789,7 @@ dependencies = [\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"memchr 2.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"same-file 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"thread_local 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"walkdir 2.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -838,15 +838,15 @@ dependencies = [\n \n [[package]]\n name = \"itoa\"\n-version = \"0.3.4\"\n+version = \"0.4.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"jobserver\"\n-version = \"0.1.10\"\n+version = \"0.1.11\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -863,9 +863,9 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"futures 0.1.17 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -883,9 +883,9 @@ version = \"0.31.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"enum_primitive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url_serde 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -914,18 +914,18 @@ dependencies = [\n \n [[package]]\n name = \"libc\"\n-version = \"0.2.39\"\n+version = \"0.2.40\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"libgit2-sys\"\n version = \"0.7.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cmake 0.1.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"curl-sys 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libssh2-sys 0.2.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libz-sys 1.0.18 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"openssl-sys 0.9.27 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -938,7 +938,7 @@ version = \"0.2.6\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cmake 0.1.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libz-sys 1.0.18 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"openssl-sys 0.9.27 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"pkg-config 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -949,8 +949,8 @@ name = \"libz-sys\"\n version = \"1.0.18\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"pkg-config 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"vcpkg 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -988,9 +988,9 @@ name = \"lzma-sys\"\n version = \"0.1.9\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"filetime 0.1.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"pkg-config 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -1006,7 +1006,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"chrono 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"clap 2.31.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"env_logger 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"error-chain 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"handlebars 0.29.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"itertools 0.7.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1015,12 +1015,12 @@ dependencies = [\n  \"memchr 2.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"open 1.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"pulldown-cmark 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"shlex 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"tempdir 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"tempdir 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml-query 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -1030,7 +1030,7 @@ name = \"memchr\"\n version = \"2.0.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1043,16 +1043,16 @@ name = \"miniz-sys\"\n version = \"0.1.10\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"miow\"\n version = \"0.3.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"socket2 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"socket2 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -1064,7 +1064,7 @@ dependencies = [\n  \"cargo_metadata 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"compiletest_rs 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1088,15 +1088,15 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"num-integer 0.1.36 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num-iter 0.1.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"num-traits 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"num-traits 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"num-integer\"\n version = \"0.1.36\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"num-traits 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"num-traits 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1105,28 +1105,28 @@ version = \"0.1.35\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"num-integer 0.1.36 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"num-traits 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"num-traits 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"num-traits\"\n version = \"0.1.43\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"num-traits 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"num-traits 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"num-traits\"\n-version = \"0.2.1\"\n+version = \"0.2.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"num_cpus\"\n version = \"1.8.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1142,7 +1142,7 @@ dependencies = [\n  \"bitflags 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"foreign-types 0.3.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"openssl-sys 0.9.27 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -1156,8 +1156,8 @@ name = \"openssl-sys\"\n version = \"0.9.27\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"pkg-config 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"vcpkg 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -1202,7 +1202,7 @@ name = \"parking_lot_core\"\n version = \"0.2.13\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"smallvec 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1245,7 +1245,7 @@ dependencies = [\n name = \"profiler_builtins\"\n version = \"0.0.0\"\n dependencies = [\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -1287,7 +1287,7 @@ version = \"2.0.13\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"clap 2.31.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"env_logger 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"syntex_errors 0.52.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1310,7 +1310,7 @@ version = \"0.4.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"fuchsia-zircon 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -1330,7 +1330,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"crossbeam-deque 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num_cpus 1.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -1358,19 +1358,19 @@ version = \"0.1.0\"\n \n [[package]]\n name = \"regex\"\n-version = \"0.2.7\"\n+version = \"0.2.10\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"aho-corasick 0.6.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"memchr 2.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex-syntax 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex-syntax 0.5.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"thread_local 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"utf8-ranges 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"regex-syntax\"\n-version = \"0.5.0\"\n+version = \"0.5.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"ucd-util 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1386,11 +1386,10 @@ version = \"0.1.0\"\n \n [[package]]\n name = \"remove_dir_all\"\n-version = \"0.3.0\"\n+version = \"0.5.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1400,7 +1399,7 @@ dependencies = [\n  \"cargo 0.27.0\",\n  \"cargo_metadata 0.5.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"clippy_lints 0.0.189\",\n- \"env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"env_logger 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"json 0.11.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"jsonrpc-core 8.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1417,9 +1416,9 @@ dependencies = [\n  \"rls-span 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rls-vfs 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustfmt-nightly 0.4.1\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -1448,8 +1447,8 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"rls-span 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-serialize 0.3.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1463,8 +1462,8 @@ version = \"0.4.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"rustc-serialize 0.3.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1495,7 +1494,7 @@ dependencies = [\n  \"flate2 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"fmt_macros 0.0.0\",\n  \"graphviz 0.0.0\",\n- \"jobserver 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"jobserver 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"proc_macro 0.0.0\",\n@@ -1507,6 +1506,7 @@ dependencies = [\n  \"serialize 0.0.0\",\n  \"syntax 0.0.0\",\n  \"syntax_pos 0.0.0\",\n+ \"tempdir 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1686,7 +1686,7 @@ version = \"0.0.0\"\n dependencies = [\n  \"ar 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"arena 0.0.0\",\n- \"env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"env_logger 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"graphviz 0.0.0\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc 0.0.0\",\n@@ -1756,8 +1756,8 @@ version = \"0.0.0\"\n dependencies = [\n  \"bitflags 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"build_helper 0.1.0\",\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc_cratesio_shim 0.0.0\",\n ]\n \n@@ -1907,11 +1907,11 @@ name = \"rustc_trans\"\n version = \"0.0.0\"\n dependencies = [\n  \"bitflags 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"env_logger 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"flate2 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"jobserver 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"jobserver 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num_cpus 1.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc 0.0.0\",\n@@ -1930,7 +1930,7 @@ dependencies = [\n  \"serialize 0.0.0\",\n  \"syntax 0.0.0\",\n  \"syntax_pos 0.0.0\",\n- \"tempdir 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"tempdir 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1981,7 +1981,7 @@ name = \"rustdoc\"\n version = \"0.0.0\"\n dependencies = [\n  \"pulldown-cmark 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"tempdir 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"tempdir 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -2002,17 +2002,17 @@ dependencies = [\n  \"cargo_metadata 0.5.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"derive-new 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"diff 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"env_logger 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"itertools 0.7.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-ap-syntax 67.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"term 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-segmentation 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -2052,7 +2052,7 @@ version = \"0.9.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -2062,23 +2062,23 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"serde\"\n-version = \"1.0.29\"\n+version = \"1.0.35\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"serde_derive\"\n-version = \"1.0.29\"\n+version = \"1.0.35\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"proc-macro2 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"quote 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive_internals 0.20.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive_internals 0.22.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"syn 0.12.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"serde_derive_internals\"\n-version = \"0.20.0\"\n+version = \"0.22.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"proc-macro2 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -2090,18 +2090,18 @@ name = \"serde_ignored\"\n version = \"0.0.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"serde_json\"\n-version = \"1.0.10\"\n+version = \"1.0.13\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"dtoa 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"itoa 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"num-traits 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"itoa 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"num-traits 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -2125,11 +2125,11 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"socket2\"\n-version = \"0.3.3\"\n+version = \"0.3.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cfg-if 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -2251,7 +2251,7 @@ name = \"syntex_errors\"\n version = \"0.52.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-serialize 0.3.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"syntex_pos 0.52.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -2273,7 +2273,7 @@ version = \"0.52.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"bitflags 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-serialize 0.3.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"syntex_errors 0.52.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -2288,18 +2288,18 @@ version = \"0.4.14\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"filetime 0.1.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"redox_syscall 0.1.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"xattr 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"tempdir\"\n-version = \"0.3.6\"\n+version = \"0.3.7\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"rand 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"remove_dir_all 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"remove_dir_all 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -2337,7 +2337,7 @@ name = \"termion\"\n version = \"1.5.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"redox_syscall 0.1.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"redox_termios 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -2371,17 +2371,17 @@ dependencies = [\n name = \"tidy\"\n version = \"0.1.0\"\n dependencies = [\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"time\"\n version = \"0.1.39\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"redox_syscall 0.1.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -2399,7 +2399,7 @@ name = \"toml\"\n version = \"0.4.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -2410,7 +2410,7 @@ dependencies = [\n  \"error-chain 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"is-match 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -2469,6 +2469,7 @@ dependencies = [\n name = \"unstable-book-gen\"\n version = \"0.1.0\"\n dependencies = [\n+ \"num-traits 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"tidy 0.1.0\",\n ]\n \n@@ -2495,7 +2496,7 @@ name = \"url_serde\"\n version = \"0.2.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -2583,7 +2584,7 @@ name = \"xattr\"\n version = \"0.1.11\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -2614,7 +2615,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum byteorder 1.2.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"652805b7e73fada9d85e9a6682a4abd490cb52d96aeecc12e33a0de34dfd0d23\"\n \"checksum cargo_metadata 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"be1057b8462184f634c3a208ee35b0f935cfd94b694b26deadccd98732088d7b\"\n \"checksum cargo_metadata 0.5.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b5caae26de3704081ef638f87f05a6891b04f2b7d5ce9429a3de21095528ae22\"\n-\"checksum cc 1.0.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fedf677519ac9e865c4ff43ef8f930773b37ed6e6ea61b6b83b400a7b5787f49\"\n+\"checksum cc 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2b4911e4bdcb4100c7680e7e854ff38e23f1b34d4d9e079efae3da2801341ffc\"\n \"checksum cfg-if 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d4c819a1287eb618df47cc647173c5c4c66ba19d888a6e50d605672aed3140de\"\n \"checksum chrono 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7c20ebe0b2b08b0aeddba49c609fe7957ba2e33449882cb186a180bc60682fa9\"\n \"checksum clap 2.31.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f0f16b89cbb9ee36d87483dc939fe9f1e13c05898d56d7b230a0d4dff033a536\"\n@@ -2638,7 +2639,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum ena 0.9.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f8b449f3b18c89d2dbe40548d2ee4fa58ea0a08b761992da6ecb9788e4688834\"\n \"checksum endian-type 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c34f04666d835ff5d62e058c3995147c06f42fe86ff053337632bca83e42702d\"\n \"checksum enum_primitive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"be4551092f4d519593039259a9ed8daedf0da12e5109c5280338073eaeb81180\"\n-\"checksum env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f0628f04f7c26ebccf40d7fc2c1cf92236c05ec88cf2132641cc956812312f0f\"\n+\"checksum env_logger 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0561146661ae44c579e993456bc76d11ce1e0c7d745e57b2fa7146b6e49fa2ad\"\n \"checksum error-chain 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ff511d5dc435d703f4971bc399647c9bc38e20cb41452e3b9feb4765419ed3f3\"\n \"checksum failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"934799b6c1de475a012a02dab0ace1ace43789ee4b99bcfbf1a2e3e8ced5de82\"\n \"checksum failure_derive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c7cdda555bb90c9bb67a3b670a0f42de8e73f5981524123ad8578aafec8ddb8b\"\n@@ -2652,8 +2653,8 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum fuchsia-zircon-sys 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3dcaa9ae7725d12cdb85b3ad99a434db70b468c09ded17e012d86b5c1010f7a7\"\n \"checksum futures 0.1.17 (registry+https://github.com/rust-lang/crates.io-index)\" = \"118b49cac82e04121117cbd3121ede3147e885627d82c4546b87c702debb90c1\"\n \"checksum getopts 0.2.15 (registry+https://github.com/rust-lang/crates.io-index)\" = \"65922871abd2f101a2eb0eaebadc66668e54a87ad9c3dd82520b5f86ede5eff9\"\n-\"checksum git2 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c4813cd7ad02e53275e6e51aaaf21c30f9ef500b579ad7a54a92f6091a7ac296\"\n-\"checksum git2-curl 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"27245f4c3a65ab19fd1ab5b52659bd60ed0ce8d0d129202c4737044d1d21db29\"\n+\"checksum git2 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0f41c0035c37ec11ed3f1e1946a76070b0c740393687e9a9c7612f6a709036b3\"\n+\"checksum git2-curl 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b502f6b1b467957403d168f0039e0c46fa6a1220efa2adaef25d5b267b5fe024\"\n \"checksum glob 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8be18de09a56b60ed0edf84bc9df007e30040691af7acd1c41874faac5895bfb\"\n \"checksum globset 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1e96ab92362c06811385ae9a34d2698e8a1160745e0c78fbb434a44c8de3fabc\"\n \"checksum handlebars 0.29.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fb04af2006ea09d985fef82b81e0eb25337e51b691c76403332378a53d521edc\"\n@@ -2665,16 +2666,16 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum ignore 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"245bea0ba52531a3739cb8ba99f8689eda13d7faf8c36b6a73ce4421aab42588\"\n \"checksum is-match 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7e5b386aef33a1c677be65237cb9d32c3f3ef56bd035949710c4bb13083eb053\"\n \"checksum itertools 0.7.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b07332223953b5051bceb67e8c4700aa65291535568e1f12408c43c4a42c0394\"\n-\"checksum itoa 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8324a32baf01e2ae060e9de58ed0bc2320c9a2833491ee36cd3b4c414de4db8c\"\n-\"checksum jobserver 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9f2abd9fd3242accb0e2e30986f2cf30cda3e19eec5cc6d584b218ce2b1c0e3c\"\n+\"checksum itoa 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c069bbec61e1ca5a596166e55dfe4773ff745c3d16b700013bcaff9a6df2c682\"\n+\"checksum jobserver 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"60af5f849e1981434e4a31d3d782c4774ae9b434ce55b101a96ecfd09147e8be\"\n \"checksum json 0.11.12 (registry+https://github.com/rust-lang/crates.io-index)\" = \"39ebf0fac977ee3a4a3242b6446004ff64514889e3e2730bbd4f764a67a2e483\"\n \"checksum jsonrpc-core 8.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ddf83704f4e79979a424d1082dd2c1e52683058056c9280efa19ac5f6bc9033c\"\n \"checksum kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7507624b29483431c0ba2d82aece8ca6cdba9382bff4ddd0f7490560c056098d\"\n \"checksum languageserver-types 0.31.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5d25086d59f44b80253d5ff96c66a692fb69de8485cf7a25b28677e89126de0d\"\n \"checksum lazy_static 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"76f033c7ad61445c5b347c7382dd1237847eb1bce590fe50365dcb33d546be73\"\n \"checksum lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c8f31047daa365f19be14b47c29df4f7c3b581832407daabe6ae77397619237d\"\n \"checksum lazycell 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a6f08839bc70ef4a3fe1d566d5350f519c5912ea86be0df1740a7d247c7fc0ef\"\n-\"checksum libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f54263ad99207254cf58b5f701ecb432c717445ea2ee8af387334bdd1a03fdff\"\n+\"checksum libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6fd41f331ac7c5b8ac259b8bf82c75c0fb2e469bbf37d2becbba9a6a2221965b\"\n \"checksum libgit2-sys 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1ecbd6428006c321c29b6c8a895f0d90152f1cf4fd8faab69fc436a3d9594f63\"\n \"checksum libssh2-sys 0.2.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0db4ec23611747ef772db1c4d650f8bd762f07b461727ec998f953c614024b75\"\n \"checksum libz-sys 1.0.18 (registry+https://github.com/rust-lang/crates.io-index)\" = \"87f737ad6cc6fd6eefe3d9dc5412f1573865bded441300904d2f42269e140f16\"\n@@ -2694,7 +2695,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum num-integer 0.1.36 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f8d26da319fb45674985c78f1d1caf99aa4941f785d384a2ae36d0740bc3e2fe\"\n \"checksum num-iter 0.1.35 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4b226df12c5a59b63569dd57fafb926d91b385dfce33d8074a412411b689d593\"\n \"checksum num-traits 0.1.43 (registry+https://github.com/rust-lang/crates.io-index)\" = \"92e5113e9fd4cc14ded8e499429f396a20f98c772a47cc8622a736e1ec843c31\"\n-\"checksum num-traits 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0b3c2bd9b9d21e48e956b763c9f37134dc62d9e95da6edb3f672cacb6caf3cd3\"\n+\"checksum num-traits 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"dee092fcdf725aee04dd7da1d21debff559237d49ef1cb3e69bcb8ece44c7364\"\n \"checksum num_cpus 1.8.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c51a3322e4bca9d212ad9a158a02abc6934d005490c054a2778df73a70aa0a30\"\n \"checksum open 1.2.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c281318d992e4432cfa799969467003d05921582a7489a8325e37f8a450d5113\"\n \"checksum openssl 0.10.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1636c9f1d78af9cbcc50e523bfff4a30274108aad5e86761afd4d31e4e184fa7\"\n@@ -2719,9 +2720,9 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum rayon-core 1.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9d24ad214285a7729b174ed6d3bcfcb80177807f959d95fafd5bfc5c4f201ac8\"\n \"checksum redox_syscall 0.1.37 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0d92eecebad22b767915e4d529f89f28ee96dbbf5a4810d2b844373f136417fd\"\n \"checksum redox_termios 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7e891cfe48e9100a70a3b6eb652fef28920c117d366339687bd5576160db0f76\"\n-\"checksum regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a62bf8bb734ab90b7f234b681b01af396e5d39b028906c210dc04fa1d5e9e5b3\"\n-\"checksum regex-syntax 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"48d7391e7e90e06eaf3aefbe4652464153ecfec64806f3bf77ffc59638a63e77\"\n-\"checksum remove_dir_all 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b5d2f806b0fcdabd98acd380dc8daef485e22bcb7cddc811d1337967f2528cf5\"\n+\"checksum regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"aec3f58d903a7d2a9dc2bf0e41a746f4530e0cab6b615494e058f67a3ef947fb\"\n+\"checksum regex-syntax 0.5.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b2550876c31dc914696a6c2e01cbce8afba79a93c8ae979d2fe051c0230b3756\"\n+\"checksum remove_dir_all 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"dfc5b3ce5d5ea144bb04ebd093a9e14e9765bcfec866aecda9b6dec43b3d1e24\"\n \"checksum rls-analysis 0.11.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fd4b9a3a3f2345854e39768e6425d1c893855da217183d1c0b3ff6f1664b6b6d\"\n \"checksum rls-blacklist 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"56fb7b8e4850b988fbcf277fbdb1eff36879070d02fc1ca243b559273866973d\"\n \"checksum rls-data 0.15.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bea04462e94b5512a78499837eecb7db182ff082144cd1b4bc32ef5d43de6510\"\n@@ -2742,15 +2743,15 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum scopeguard 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"94258f53601af11e6a49f722422f6e3425c52b06245a5cf9bc09908b174f5e27\"\n \"checksum semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1d7eb9ef2c18661902cc47e535f9bc51b78acd254da71d375c2f6720d9a40403\"\n \"checksum semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3\"\n-\"checksum serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4763b773978e495252615e814d2ad04773b2c1f85421c7913869a537f35cb406\"\n-\"checksum serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8ab31f00ae5574bb643c196d5e302961c122da1c768604c6d16a35c5d551948a\"\n-\"checksum serde_derive_internals 0.20.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1fc848d073be32cd982380c06587ea1d433bc1a4c4a111de07ec2286a3ddade8\"\n+\"checksum serde 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\" = \"800fdb0a894572994f3970035a8a5f65d8ec2cd40e6cdf7d8cd9001d7b30648e\"\n+\"checksum serde_derive 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\" = \"90f1f8f7784452461db5b73dc5097c18f21011fbcc6d1178f1897bfa8e1cb4bd\"\n+\"checksum serde_derive_internals 0.22.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9f9525ada08124ee1a9b8b1e6f3bf035ffff6fc0c96d56ddda98d4506d3533e4\"\n \"checksum serde_ignored 0.0.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"190e9765dcedb56be63b6e0993a006c7e3b071a016a304736e4a315dc01fb142\"\n-\"checksum serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"57781ed845b8e742fc2bf306aba8e3b408fe8c366b900e3769fbc39f49eb8b39\"\n+\"checksum serde_json 1.0.13 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5c508584d9913df116b91505eec55610a2f5b16e9ed793c46e4d0152872b3e74\"\n \"checksum shell-escape 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"dd5cc96481d54583947bfe88bf30c23d53f883c6cd0145368b69989d97b84ef8\"\n \"checksum shlex 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7fdf1b9db47230893d76faad238fd6097fd6d6a9245cd7a4d90dbd639536bbd2\"\n \"checksum smallvec 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"44db0ecb22921ef790d17ae13a3f6d15784183ff5f2a01aa32098c7498d2b4b9\"\n-\"checksum socket2 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"78e4c1cde1adbc6bc4c394da2e7727c916b9b7d0b53d6984c890c65c1f4e6437\"\n+\"checksum socket2 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"71ebbe82fcdd697244ba7fe6e05e63b5c45910c3927e28469a04947494ff48d8\"\n \"checksum stable_deref_trait 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"15132e0e364248108c5e2c02e3ab539be8d6f5d52a01ca9bbf27ed657316f02b\"\n \"checksum strsim 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bb4f380125926a99e52bc279241539c018323fab05ad6368b56f93d9369ff550\"\n \"checksum syn 0.11.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d3b891b9015c88c576343b9b3e41c2c11a51c219ef067b264bd9c8aa9b441dad\"\n@@ -2761,7 +2762,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum syntex_pos 0.52.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"955ef4b16af4c468e4680d1497f873ff288f557d338180649e18f915af5e15ac\"\n \"checksum syntex_syntax 0.52.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"76a302e717e348aa372ff577791c3832395650073b8d8432f8b3cb170b34afde\"\n \"checksum tar 0.4.14 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1605d3388ceb50252952ffebab4b5dc43017ead7e4481b175961c283bb951195\"\n-\"checksum tempdir 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f73eebdb68c14bcb24aef74ea96079830e7fa7b31a6106e42ea7ee887c1e134e\"\n+\"checksum tempdir 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"15f2b5fb00ccdf689e0149d1b1b3c03fead81c2b37735d812fa8bddbbf41b6d8\"\n \"checksum term 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fa63644f74ce96fbeb9b794f66aff2a52d601cbd5e80f4b97123e3899f4570f1\"\n \"checksum term 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5e6b677dd1e8214ea1ef4297f85dbcbed8e8cdddb561040cc998ca2551c37561\"\n \"checksum termcolor 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"56c456352e44f9f91f774ddeeed27c1ec60a2455ed66d692059acfb1d731bda1\""}, {"sha": "9f33935b6e933834225aa250b408b2ecdc5e6561", "filename": "src/bootstrap/compile.rs", "status": "modified", "additions": 73, "deletions": 48, "changes": 121, "blob_url": "https://github.com/rust-lang/rust/blob/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2Fbootstrap%2Fcompile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2Fbootstrap%2Fcompile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcompile.rs?ref=faebcc108768210cda97a74f0407cd7b3c3348c9", "patch": "@@ -16,6 +16,7 @@\n //! compiler. This module is also responsible for assembling the sysroot as it\n //! goes along from the output of the previous stage.\n \n+use std::borrow::Cow;\n use std::env;\n use std::fs::{self, File};\n use std::io::BufReader;\n@@ -996,24 +997,6 @@ fn stderr_isatty() -> bool {\n pub fn run_cargo(build: &Build, cargo: &mut Command, stamp: &Path, is_check: bool)\n     -> Vec<PathBuf>\n {\n-    // Instruct Cargo to give us json messages on stdout, critically leaving\n-    // stderr as piped so we can get those pretty colors.\n-    cargo.arg(\"--message-format\").arg(\"json\")\n-         .stdout(Stdio::piped());\n-\n-    if stderr_isatty() && build.ci_env == CiEnv::None {\n-        // since we pass message-format=json to cargo, we need to tell the rustc\n-        // wrapper to give us colored output if necessary. This is because we\n-        // only want Cargo's JSON output, not rustcs.\n-        cargo.env(\"RUSTC_COLOR\", \"1\");\n-    }\n-\n-    build.verbose(&format!(\"running: {:?}\", cargo));\n-    let mut child = match cargo.spawn() {\n-        Ok(child) => child,\n-        Err(e) => panic!(\"failed to execute command: {:?}\\nerror: {}\", cargo, e),\n-    };\n-\n     // `target_root_dir` looks like $dir/$target/release\n     let target_root_dir = stamp.parent().unwrap();\n     // `target_deps_dir` looks like $dir/$target/release/deps\n@@ -1028,46 +1011,33 @@ pub fn run_cargo(build: &Build, cargo: &mut Command, stamp: &Path, is_check: boo\n     // files we need to probe for later.\n     let mut deps = Vec::new();\n     let mut toplevel = Vec::new();\n-    let stdout = BufReader::new(child.stdout.take().unwrap());\n-    for line in stdout.lines() {\n-        let line = t!(line);\n-        let json: serde_json::Value = if line.starts_with(\"{\") {\n-            t!(serde_json::from_str(&line))\n-        } else {\n-            // If this was informational, just print it out and continue\n-            println!(\"{}\", line);\n-            continue\n+    let ok = stream_cargo(build, cargo, &mut |msg| {\n+        let filenames = match msg {\n+            CargoMessage::CompilerArtifact { filenames, .. } => filenames,\n+            _ => return,\n         };\n-        if json[\"reason\"].as_str() != Some(\"compiler-artifact\") {\n-            if build.config.rustc_error_format.as_ref().map_or(false, |e| e == \"json\") {\n-                // most likely not a cargo message, so let's send it out as well\n-                println!(\"{}\", line);\n-            }\n-            continue\n-        }\n-        for filename in json[\"filenames\"].as_array().unwrap() {\n-            let filename = filename.as_str().unwrap();\n+        for filename in filenames {\n             // Skip files like executables\n             if !filename.ends_with(\".rlib\") &&\n                !filename.ends_with(\".lib\") &&\n                !is_dylib(&filename) &&\n                !(is_check && filename.ends_with(\".rmeta\")) {\n-                continue\n+                return;\n             }\n \n-            let filename = Path::new(filename);\n+            let filename = Path::new(&*filename);\n \n             // If this was an output file in the \"host dir\" we don't actually\n             // worry about it, it's not relevant for us.\n             if filename.starts_with(&host_root_dir) {\n-                continue;\n+                return;\n             }\n \n             // If this was output in the `deps` dir then this is a precise file\n             // name (hash included) so we start tracking it.\n             if filename.starts_with(&target_deps_dir) {\n                 deps.push(filename.to_path_buf());\n-                continue;\n+                return;\n             }\n \n             // Otherwise this was a \"top level artifact\" which right now doesn't\n@@ -1088,15 +1058,10 @@ pub fn run_cargo(build: &Build, cargo: &mut Command, stamp: &Path, is_check: boo\n \n             toplevel.push((file_stem, extension, expected_len));\n         }\n-    }\n+    });\n \n-    // Make sure Cargo actually succeeded after we read all of its stdout.\n-    let status = t!(child.wait());\n-    if !status.success() {\n-        panic!(\"command did not execute successfully: {:?}\\n\\\n-                expected success, got: {}\",\n-               cargo,\n-               status);\n+    if !ok {\n+        panic!(\"cargo must succeed\");\n     }\n \n     // Ok now we need to actually find all the files listed in `toplevel`. We've\n@@ -1167,3 +1132,63 @@ pub fn run_cargo(build: &Build, cargo: &mut Command, stamp: &Path, is_check: boo\n     t!(t!(File::create(stamp)).write_all(&new_contents));\n     deps\n }\n+\n+pub fn stream_cargo(\n+    build: &Build,\n+    cargo: &mut Command,\n+    cb: &mut FnMut(CargoMessage),\n+) -> bool {\n+    // Instruct Cargo to give us json messages on stdout, critically leaving\n+    // stderr as piped so we can get those pretty colors.\n+    cargo.arg(\"--message-format\").arg(\"json\")\n+         .stdout(Stdio::piped());\n+\n+    if stderr_isatty() && build.ci_env == CiEnv::None {\n+        // since we pass message-format=json to cargo, we need to tell the rustc\n+        // wrapper to give us colored output if necessary. This is because we\n+        // only want Cargo's JSON output, not rustcs.\n+        cargo.env(\"RUSTC_COLOR\", \"1\");\n+    }\n+\n+    build.verbose(&format!(\"running: {:?}\", cargo));\n+    let mut child = match cargo.spawn() {\n+        Ok(child) => child,\n+        Err(e) => panic!(\"failed to execute command: {:?}\\nerror: {}\", cargo, e),\n+    };\n+\n+    // Spawn Cargo slurping up its JSON output. We'll start building up the\n+    // `deps` array of all files it generated along with a `toplevel` array of\n+    // files we need to probe for later.\n+    let stdout = BufReader::new(child.stdout.take().unwrap());\n+    for line in stdout.lines() {\n+        let line = t!(line);\n+        match serde_json::from_str::<CargoMessage>(&line) {\n+            Ok(msg) => cb(msg),\n+            // If this was informational, just print it out and continue\n+            Err(_) => println!(\"{}\", line)\n+        }\n+    }\n+\n+    // Make sure Cargo actually succeeded after we read all of its stdout.\n+    let status = t!(child.wait());\n+    if !status.success() {\n+        println!(\"command did not execute successfully: {:?}\\n\\\n+                  expected success, got: {}\",\n+                 cargo,\n+                 status);\n+    }\n+    status.success()\n+}\n+\n+#[derive(Deserialize)]\n+#[serde(tag = \"reason\", rename_all = \"kebab-case\")]\n+pub enum CargoMessage<'a> {\n+    CompilerArtifact {\n+        package_id: Cow<'a, str>,\n+        features: Vec<Cow<'a, str>>,\n+        filenames: Vec<Cow<'a, str>>,\n+    },\n+    BuildScriptExecuted {\n+        package_id: Cow<'a, str>,\n+    }\n+}"}, {"sha": "833faf3618d67151c0b7e840d49a4388136636e2", "filename": "src/bootstrap/lib.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2Fbootstrap%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2Fbootstrap%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Flib.rs?ref=faebcc108768210cda97a74f0407cd7b3c3348c9", "patch": "@@ -254,6 +254,10 @@ pub struct Build {\n     ci_env: CiEnv,\n     delayed_failures: RefCell<Vec<String>>,\n     prerelease_version: Cell<Option<u32>>,\n+    tool_artifacts: RefCell<HashMap<\n+        Interned<String>,\n+        HashMap<String, (&'static str, PathBuf, Vec<String>)>\n+    >>,\n }\n \n #[derive(Debug)]\n@@ -353,6 +357,7 @@ impl Build {\n             ci_env: CiEnv::current(),\n             delayed_failures: RefCell::new(Vec::new()),\n             prerelease_version: Cell::new(None),\n+            tool_artifacts: Default::default(),\n         }\n     }\n "}, {"sha": "2bb46cc5171d61b0881782f5474eb2aee3dee461", "filename": "src/bootstrap/tool.rs", "status": "modified", "additions": 74, "deletions": 1, "changes": 75, "blob_url": "https://github.com/rust-lang/rust/blob/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2Fbootstrap%2Ftool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2Fbootstrap%2Ftool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftool.rs?ref=faebcc108768210cda97a74f0407cd7b3c3348c9", "patch": "@@ -117,7 +117,80 @@ impl Step for ToolBuild {\n \n         let _folder = build.fold_output(|| format!(\"stage{}-{}\", compiler.stage, tool));\n         println!(\"Building stage{} tool {} ({})\", compiler.stage, tool, target);\n-        let is_expected = build.try_run(&mut cargo);\n+        let mut duplicates = Vec::new();\n+        let is_expected = compile::stream_cargo(build, &mut cargo, &mut |msg| {\n+            // Only care about big things like the RLS/Cargo for now\n+            if tool != \"rls\" && tool != \"cargo\" {\n+                return\n+            }\n+            let (id, features, filenames) = match msg {\n+                compile::CargoMessage::CompilerArtifact {\n+                    package_id,\n+                    features,\n+                    filenames\n+                } => {\n+                    (package_id, features, filenames)\n+                }\n+                _ => return,\n+            };\n+            let features = features.iter().map(|s| s.to_string()).collect::<Vec<_>>();\n+\n+            for path in filenames {\n+                let val = (tool, PathBuf::from(&*path), features.clone());\n+                // we're only interested in deduplicating rlibs for now\n+                if val.1.extension().and_then(|s| s.to_str()) != Some(\"rlib\") {\n+                    continue\n+                }\n+\n+                // Don't worry about libs that turn out to be host dependencies\n+                // or build scripts, we only care about target dependencies that\n+                // are in `deps`.\n+                if let Some(maybe_target) = val.1\n+                    .parent()                   // chop off file name\n+                    .and_then(|p| p.parent())   // chop off `deps`\n+                    .and_then(|p| p.parent())   // chop off `release`\n+                    .and_then(|p| p.file_name())\n+                    .and_then(|p| p.to_str())\n+                {\n+                    if maybe_target != &*target {\n+                        continue\n+                    }\n+                }\n+\n+                let mut artifacts = build.tool_artifacts.borrow_mut();\n+                let prev_artifacts = artifacts\n+                    .entry(target)\n+                    .or_insert_with(Default::default);\n+                if let Some(prev) = prev_artifacts.get(&*id) {\n+                    if prev.1 != val.1 {\n+                        duplicates.push((\n+                            id.to_string(),\n+                            val,\n+                            prev.clone(),\n+                        ));\n+                    }\n+                    return\n+                }\n+                prev_artifacts.insert(id.to_string(), val);\n+            }\n+        });\n+\n+        if is_expected && duplicates.len() != 0 {\n+            println!(\"duplicate artfacts found when compiling a tool, this \\\n+                      typically means that something was recompiled because \\\n+                      a transitive dependency has different features activated \\\n+                      than in a previous build:\\n\");\n+            for (id, cur, prev) in duplicates {\n+                println!(\"  {}\", id);\n+                println!(\"    `{}` enabled features {:?} at {:?}\",\n+                         cur.0, cur.2, cur.1);\n+                println!(\"    `{}` enabled features {:?} at {:?}\",\n+                         prev.0, prev.2, prev.1);\n+            }\n+            println!(\"\");\n+            panic!(\"tools should not compile multiple copies of the same crate\");\n+        }\n+\n         build.save_toolstate(tool, if is_expected {\n             ToolState::TestFail\n         } else {"}, {"sha": "2aae0f24d484932b27a9df391d174886cb3f9c33", "filename": "src/librustc/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2Flibrustc%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2Flibrustc%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2FCargo.toml?ref=faebcc108768210cda97a74f0407cd7b3c3348c9", "patch": "@@ -56,3 +56,4 @@ byteorder = { version = \"1.1\", features = [\"i128\"]}\n #        later crate stop compiling. If you can remove this and everything\n #        compiles, then please feel free to do so!\n flate2 = \"1.0\"\n+tempdir = \"0.3\""}, {"sha": "311a5eda6f90d660bb23e97c8ee77090519b9eda", "filename": "src/tools/cargo", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcargo?ref=faebcc108768210cda97a74f0407cd7b3c3348c9", "patch": "@@ -1 +1 @@\n-Subproject commit d10ec661b06420654bbc4ed0ccd32295698aa1dc\n+Subproject commit 311a5eda6f90d660bb23e97c8ee77090519b9eda"}, {"sha": "f5a0c91a39368395b1c1ad322e04be7b6074bc65", "filename": "src/tools/rls", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frls?ref=faebcc108768210cda97a74f0407cd7b3c3348c9", "patch": "@@ -1 +1 @@\n-Subproject commit 974c515493f212a21a55b7370c25bcc231f33535\n+Subproject commit f5a0c91a39368395b1c1ad322e04be7b6074bc65"}, {"sha": "2839f93f8e279dacc67c8aa53ecd1e608d71197d", "filename": "src/tools/unstable-book-gen/Cargo.toml", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2Ftools%2Funstable-book-gen%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/faebcc108768210cda97a74f0407cd7b3c3348c9/src%2Ftools%2Funstable-book-gen%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Funstable-book-gen%2FCargo.toml?ref=faebcc108768210cda97a74f0407cd7b3c3348c9", "patch": "@@ -7,3 +7,7 @@ license = \"MIT/Apache-2.0\"\n \n [dependencies]\n tidy = { path = \"../tidy\" }\n+\n+# not actually needed but required for now to unify the feature selection of\n+# `num-traits` between this and `rustbook`\n+num-traits = \"0.2\""}]}