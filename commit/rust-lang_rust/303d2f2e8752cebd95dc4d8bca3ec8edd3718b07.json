{"sha": "303d2f2e8752cebd95dc4d8bca3ec8edd3718b07", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwM2QyZjJlODc1MmNlYmQ5NWRjNGQ4YmNhM2VjOGVkZDM3MThiMDc=", "commit": {"author": {"name": "Aliaksandr Radzivanovich", "email": "aradzivanovich@gmail.com", "date": "2019-11-19T13:12:30Z"}, "committer": {"name": "Aliaksandr Radzivanovich", "email": "aradzivanovich@gmail.com", "date": "2019-11-19T13:22:07Z"}, "message": "Remove duplicate function\n\nFunction source_name declared in file\n\n  src/librustc_driver/lib.rs\n\nis a duplicate of a function by the same name declared in file\n\n  src/librustc/session/config.rs", "tree": {"sha": "03a85446a7f192a52129aa5eee23c12c30caca14", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/03a85446a7f192a52129aa5eee23c12c30caca14"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/303d2f2e8752cebd95dc4d8bca3ec8edd3718b07", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/303d2f2e8752cebd95dc4d8bca3ec8edd3718b07", "html_url": "https://github.com/rust-lang/rust/commit/303d2f2e8752cebd95dc4d8bca3ec8edd3718b07", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/303d2f2e8752cebd95dc4d8bca3ec8edd3718b07/comments", "author": {"login": "aradzie", "id": 44386, "node_id": "MDQ6VXNlcjQ0Mzg2", "avatar_url": "https://avatars.githubusercontent.com/u/44386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aradzie", "html_url": "https://github.com/aradzie", "followers_url": "https://api.github.com/users/aradzie/followers", "following_url": "https://api.github.com/users/aradzie/following{/other_user}", "gists_url": "https://api.github.com/users/aradzie/gists{/gist_id}", "starred_url": "https://api.github.com/users/aradzie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aradzie/subscriptions", "organizations_url": "https://api.github.com/users/aradzie/orgs", "repos_url": "https://api.github.com/users/aradzie/repos", "events_url": "https://api.github.com/users/aradzie/events{/privacy}", "received_events_url": "https://api.github.com/users/aradzie/received_events", "type": "User", "site_admin": false}, "committer": {"login": "aradzie", "id": 44386, "node_id": "MDQ6VXNlcjQ0Mzg2", "avatar_url": "https://avatars.githubusercontent.com/u/44386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aradzie", "html_url": "https://github.com/aradzie", "followers_url": "https://api.github.com/users/aradzie/followers", "following_url": "https://api.github.com/users/aradzie/following{/other_user}", "gists_url": "https://api.github.com/users/aradzie/gists{/gist_id}", "starred_url": "https://api.github.com/users/aradzie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aradzie/subscriptions", "organizations_url": "https://api.github.com/users/aradzie/orgs", "repos_url": "https://api.github.com/users/aradzie/repos", "events_url": "https://api.github.com/users/aradzie/events{/privacy}", "received_events_url": "https://api.github.com/users/aradzie/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2cad8bb659066b42fc518c95def384956126bd3f", "url": "https://api.github.com/repos/rust-lang/rust/commits/2cad8bb659066b42fc518c95def384956126bd3f", "html_url": "https://github.com/rust-lang/rust/commit/2cad8bb659066b42fc518c95def384956126bd3f"}], "stats": {"total": 13, "additions": 1, "deletions": 12}, "files": [{"sha": "6557be9f7ecd0845f71a981d32e0ec56da43c69c", "filename": "src/librustc_driver/lib.rs", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/303d2f2e8752cebd95dc4d8bca3ec8edd3718b07/src%2Flibrustc_driver%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/303d2f2e8752cebd95dc4d8bca3ec8edd3718b07/src%2Flibrustc_driver%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Flib.rs?ref=303d2f2e8752cebd95dc4d8bca3ec8edd3718b07", "patch": "@@ -84,13 +84,6 @@ const ICE_REPORT_COMPILER_FLAGS_EXCLUDE: &[&str] = &[\"metadata\", \"extra-filename\n \n const ICE_REPORT_COMPILER_FLAGS_STRIP_VALUE: &[&str] = &[\"incremental\"];\n \n-pub fn source_name(input: &Input) -> FileName {\n-    match *input {\n-        Input::File(ref ifile) => ifile.clone().into(),\n-        Input::Str { ref name, .. } => name.clone(),\n-    }\n-}\n-\n pub fn abort_on_err<T>(result: Result<T, ErrorReported>, sess: &Session) -> T {\n     match result {\n         Err(..) => {"}, {"sha": "e869607c970b0609876852f0e2d2fdf14e0d9de1", "filename": "src/librustc_driver/pretty.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/303d2f2e8752cebd95dc4d8bca3ec8edd3718b07/src%2Flibrustc_driver%2Fpretty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/303d2f2e8752cebd95dc4d8bca3ec8edd3718b07/src%2Flibrustc_driver%2Fpretty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Fpretty.rs?ref=303d2f2e8752cebd95dc4d8bca3ec8edd3718b07", "patch": "@@ -24,10 +24,6 @@ pub use self::PpSourceMode::*;\n pub use self::PpMode::*;\n use crate::abort_on_err;\n \n-use crate::source_name;\n-\n-\n-\n // This slightly awkward construction is to allow for each PpMode to\n // choose whether it needs to do analyses (which can consume the\n // Session) and then pass through the session (now attached to the\n@@ -391,7 +387,7 @@ impl<'a, 'tcx> pprust_hir::PpAnn for TypedAnnotation<'a, 'tcx> {\n }\n \n fn get_source(input: &Input, sess: &Session) -> (String, FileName) {\n-    let src_name = source_name(input);\n+    let src_name = input.source_name();\n     let src = String::clone(&sess.source_map()\n         .get_source_file(&src_name)\n         .unwrap()"}]}