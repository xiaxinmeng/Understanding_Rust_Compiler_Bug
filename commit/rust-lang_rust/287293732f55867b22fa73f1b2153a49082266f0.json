{"sha": "287293732f55867b22fa73f1b2153a49082266f0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI4NzI5MzczMmY1NTg2N2IyMmZhNzNmMWIyMTUzYTQ5MDgyMjY2ZjA=", "commit": {"author": {"name": "Tyler Mandry", "email": "tmandry@gmail.com", "date": "2020-12-09T21:38:18Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-12-09T21:38:18Z"}, "message": "Rollup merge of #79750 - camelid:fix-lint-docs-trimming, r=Mark-Simulacrum\n\nFix trimming of lint docs\n\nFixes #79748.\n\nIt was removing all the indentation before.\n\nr? `@Mark-Simulacrum`", "tree": {"sha": "307e88c34ae1a4cf750140e65b106cddd4822d86", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/307e88c34ae1a4cf750140e65b106cddd4822d86"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/287293732f55867b22fa73f1b2153a49082266f0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJf0UPLCRBK7hj4Ov3rIwAAdHIIACKc9f4t9dN+XdW+1I8wCOI6\njp7d4DRhBe+TT476EYxVLnhxg3YCkNn6nACSOu1Gdc7WkypaBiDYcNDyWVJI1rr2\nFupOSY/ZTbIElTkON80OXIMrOoQD7lOjdDHgXPOJn6+HZCGr39VS8w7Y5XiCHNMV\nFz87i3hXuffuSsgqWFZ6BEV0G1UE3EuD0MpWudW5OcS+H7vS5DhYqTOvm+2HYJVi\ncKZ+aswZZXkmbVVnMIEU6QM3cKyYXlEofGedAGZ9oXWmn6Dt6rY3iZYfHMBpIk3R\nZ8qiEhes7Vd3dOaQaa++c3xYT8ErD/+8PjsY7XydPjE3Ec6HRIXhnpXUdI5vPN8=\n=+5PH\n-----END PGP SIGNATURE-----\n", "payload": "tree 307e88c34ae1a4cf750140e65b106cddd4822d86\nparent d95948c6d36472ee7f0d7cd2fa085f296a35eb76\nparent b4b66f6e2443cd05e163ac2577620ed06ea265e9\nauthor Tyler Mandry <tmandry@gmail.com> 1607549898 -0800\ncommitter GitHub <noreply@github.com> 1607549898 -0800\n\nRollup merge of #79750 - camelid:fix-lint-docs-trimming, r=Mark-Simulacrum\n\nFix trimming of lint docs\n\nFixes #79748.\n\nIt was removing all the indentation before.\n\nr? `@Mark-Simulacrum`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/287293732f55867b22fa73f1b2153a49082266f0", "html_url": "https://github.com/rust-lang/rust/commit/287293732f55867b22fa73f1b2153a49082266f0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/287293732f55867b22fa73f1b2153a49082266f0/comments", "author": {"login": "tmandry", "id": 2280544, "node_id": "MDQ6VXNlcjIyODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2280544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmandry", "html_url": "https://github.com/tmandry", "followers_url": "https://api.github.com/users/tmandry/followers", "following_url": "https://api.github.com/users/tmandry/following{/other_user}", "gists_url": "https://api.github.com/users/tmandry/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmandry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmandry/subscriptions", "organizations_url": "https://api.github.com/users/tmandry/orgs", "repos_url": "https://api.github.com/users/tmandry/repos", "events_url": "https://api.github.com/users/tmandry/events{/privacy}", "received_events_url": "https://api.github.com/users/tmandry/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d95948c6d36472ee7f0d7cd2fa085f296a35eb76", "url": "https://api.github.com/repos/rust-lang/rust/commits/d95948c6d36472ee7f0d7cd2fa085f296a35eb76", "html_url": "https://github.com/rust-lang/rust/commit/d95948c6d36472ee7f0d7cd2fa085f296a35eb76"}, {"sha": "b4b66f6e2443cd05e163ac2577620ed06ea265e9", "url": "https://api.github.com/repos/rust-lang/rust/commits/b4b66f6e2443cd05e163ac2577620ed06ea265e9", "html_url": "https://github.com/rust-lang/rust/commit/b4b66f6e2443cd05e163ac2577620ed06ea265e9"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "ea54a351e03b5339f52e8e130d7cb415a9da7831", "filename": "src/tools/lint-docs/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/287293732f55867b22fa73f1b2153a49082266f0/src%2Ftools%2Flint-docs%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/287293732f55867b22fa73f1b2153a49082266f0/src%2Ftools%2Flint-docs%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Flint-docs%2Fsrc%2Flib.rs?ref=287293732f55867b22fa73f1b2153a49082266f0", "patch": "@@ -143,8 +143,8 @@ impl<'a> LintExtractor<'a> {\n                     Some((lineno, line)) => {\n                         let line = line.trim();\n                         if let Some(text) = line.strip_prefix(\"/// \") {\n-                            doc_lines.push(text.trim().to_string());\n-                        } else if line.starts_with(\"///\") {\n+                            doc_lines.push(text.to_string());\n+                        } else if line == \"///\" {\n                             doc_lines.push(\"\".to_string());\n                         } else if line.starts_with(\"// \") {\n                             // Ignore comments."}]}