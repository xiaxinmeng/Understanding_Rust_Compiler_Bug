{"sha": "1d0d7c34e8139078b1918695b368be6b02f28c2a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFkMGQ3YzM0ZTgxMzkwNzhiMTkxODY5NWIzNjhiZTZiMDJmMjhjMmE=", "commit": {"author": {"name": "Jack Huey", "email": "31162821+jackh726@users.noreply.github.com", "date": "2021-08-22T00:56:38Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-08-22T00:56:38Z"}, "message": "Rollup merge of #88197 - spastorino:tait-test-fn-type, r=oli-obk\n\nTest tait use in a fn type\n\nr? `@oli-obk`\n\nI thought this was going to work but doesn't, quickly checked with Niko and he told me that we ruled this out for now. I'm not exactly sure why and how but here we have a test with a FIXME :)\n\nRelated to #86727", "tree": {"sha": "033dca5a9b1accacd9cecff6e4ee5ae47ea0d700", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/033dca5a9b1accacd9cecff6e4ee5ae47ea0d700"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1d0d7c34e8139078b1918695b368be6b02f28c2a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhIaDHCRBK7hj4Ov3rIwAAg5oIAAhGECKqkURioDkVPWz+acXr\nGucbuFzJuwtXGrQBqVIAaDsD1MNY6g7kHxVKbNrUWNhCwFeHXNv+OGLCKGu/3sCX\nTCnGfmzOdLy3Pl8lhGUYfZZGRJK15Zb2JnhY4hj8uviKlp6TfWR/TmC1THhq8xlI\nfPhW3BA92nU18/9m6IthXnb1h7axezNDB7EmWRfI8kSJf5VaiGKjSKt30Bpbg782\nG+eF5ZGasJ5FpYj5AQJljVmAAbN1L1aiii9u2v0s+gLDnTaNstPkOEMHv22HHpNC\nB1I19lCpvHAQQTUCiIRAth+Cbwk5UaewXA9BWj2INcwkVTUy39yJhhC5CBT9Xa0=\n=V36N\n-----END PGP SIGNATURE-----\n", "payload": "tree 033dca5a9b1accacd9cecff6e4ee5ae47ea0d700\nparent 66b04c650184eb21ccd60a3aab08ed6fcd136943\nparent c6c2f11ab614e5e17ddbfa28b5ff9c9e5a2d8b52\nauthor Jack Huey <31162821+jackh726@users.noreply.github.com> 1629593798 -0400\ncommitter GitHub <noreply@github.com> 1629593798 -0400\n\nRollup merge of #88197 - spastorino:tait-test-fn-type, r=oli-obk\n\nTest tait use in a fn type\n\nr? `@oli-obk`\n\nI thought this was going to work but doesn't, quickly checked with Niko and he told me that we ruled this out for now. I'm not exactly sure why and how but here we have a test with a FIXME :)\n\nRelated to #86727\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1d0d7c34e8139078b1918695b368be6b02f28c2a", "html_url": "https://github.com/rust-lang/rust/commit/1d0d7c34e8139078b1918695b368be6b02f28c2a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1d0d7c34e8139078b1918695b368be6b02f28c2a/comments", "author": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "66b04c650184eb21ccd60a3aab08ed6fcd136943", "url": "https://api.github.com/repos/rust-lang/rust/commits/66b04c650184eb21ccd60a3aab08ed6fcd136943", "html_url": "https://github.com/rust-lang/rust/commit/66b04c650184eb21ccd60a3aab08ed6fcd136943"}, {"sha": "c6c2f11ab614e5e17ddbfa28b5ff9c9e5a2d8b52", "url": "https://api.github.com/repos/rust-lang/rust/commits/c6c2f11ab614e5e17ddbfa28b5ff9c9e5a2d8b52", "html_url": "https://github.com/rust-lang/rust/commit/c6c2f11ab614e5e17ddbfa28b5ff9c9e5a2d8b52"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "299bdf562dc41e372cbeaff0c5ff823f6d2b8f7f", "filename": "src/test/ui/type-alias-impl-trait/type-alias-impl-trait-fn-type.rs", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/1d0d7c34e8139078b1918695b368be6b02f28c2a/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype-alias-impl-trait-fn-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d0d7c34e8139078b1918695b368be6b02f28c2a/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype-alias-impl-trait-fn-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype-alias-impl-trait-fn-type.rs?ref=1d0d7c34e8139078b1918695b368be6b02f28c2a", "patch": "@@ -0,0 +1,13 @@\n+#![feature(type_alias_impl_trait)]\n+#![allow(dead_code)]\n+\n+// FIXME: this is ruled out for now but should work\n+\n+type Foo = fn() -> impl Send;\n+//~^ ERROR: `impl Trait` not allowed outside of function and method return types\n+\n+fn make_foo() -> Foo {\n+    || 15\n+}\n+\n+fn main() {}"}, {"sha": "1c5d57d4af76154532d16604da7cbc82f2aa76d7", "filename": "src/test/ui/type-alias-impl-trait/type-alias-impl-trait-fn-type.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/1d0d7c34e8139078b1918695b368be6b02f28c2a/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype-alias-impl-trait-fn-type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/1d0d7c34e8139078b1918695b368be6b02f28c2a/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype-alias-impl-trait-fn-type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype-alias-impl-trait-fn-type.stderr?ref=1d0d7c34e8139078b1918695b368be6b02f28c2a", "patch": "@@ -0,0 +1,9 @@\n+error[E0562]: `impl Trait` not allowed outside of function and method return types\n+  --> $DIR/type-alias-impl-trait-fn-type.rs:6:20\n+   |\n+LL | type Foo = fn() -> impl Send;\n+   |                    ^^^^^^^^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0562`."}]}