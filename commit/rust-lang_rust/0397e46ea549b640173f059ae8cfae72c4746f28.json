{"sha": "0397e46ea549b640173f059ae8cfae72c4746f28", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzOTdlNDZlYTU0OWI2NDAxNzNmMDU5YWU4Y2ZhZTcyYzQ3NDZmMjg=", "commit": {"author": {"name": "Jane Lusby", "email": "jlusby@yaah.dev", "date": "2020-04-15T20:04:04Z"}, "committer": {"name": "Jane Lusby", "email": "jlusby@yaah.dev", "date": "2020-04-15T20:04:04Z"}, "message": "fmt", "tree": {"sha": "7e67a9abc2efb84f8f77ca9dd4efcc40c2421bec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7e67a9abc2efb84f8f77ca9dd4efcc40c2421bec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0397e46ea549b640173f059ae8cfae72c4746f28", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0397e46ea549b640173f059ae8cfae72c4746f28", "html_url": "https://github.com/rust-lang/rust/commit/0397e46ea549b640173f059ae8cfae72c4746f28", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0397e46ea549b640173f059ae8cfae72c4746f28/comments", "author": {"login": "yaahc", "id": 1993852, "node_id": "MDQ6VXNlcjE5OTM4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1993852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaahc", "html_url": "https://github.com/yaahc", "followers_url": "https://api.github.com/users/yaahc/followers", "following_url": "https://api.github.com/users/yaahc/following{/other_user}", "gists_url": "https://api.github.com/users/yaahc/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaahc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaahc/subscriptions", "organizations_url": "https://api.github.com/users/yaahc/orgs", "repos_url": "https://api.github.com/users/yaahc/repos", "events_url": "https://api.github.com/users/yaahc/events{/privacy}", "received_events_url": "https://api.github.com/users/yaahc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "yaahc", "id": 1993852, "node_id": "MDQ6VXNlcjE5OTM4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1993852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaahc", "html_url": "https://github.com/yaahc", "followers_url": "https://api.github.com/users/yaahc/followers", "following_url": "https://api.github.com/users/yaahc/following{/other_user}", "gists_url": "https://api.github.com/users/yaahc/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaahc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaahc/subscriptions", "organizations_url": "https://api.github.com/users/yaahc/orgs", "repos_url": "https://api.github.com/users/yaahc/repos", "events_url": "https://api.github.com/users/yaahc/events{/privacy}", "received_events_url": "https://api.github.com/users/yaahc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b3030e1b9020460c4a716c2c909ada01258736d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/b3030e1b9020460c4a716c2c909ada01258736d1", "html_url": "https://github.com/rust-lang/rust/commit/b3030e1b9020460c4a716c2c909ada01258736d1"}], "stats": {"total": 21, "additions": 10, "deletions": 11}, "files": [{"sha": "61875b11095de64105325430df8febef4934f8cd", "filename": "src/main.rs", "status": "modified", "additions": 10, "deletions": 11, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/0397e46ea549b640173f059ae8cfae72c4746f28/src%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0397e46ea549b640173f059ae8cfae72c4746f28/src%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmain.rs?ref=0397e46ea549b640173f059ae8cfae72c4746f28", "patch": "@@ -2,9 +2,9 @@\n \n use rustc_tools_util::VersionInfo;\n use std::env;\n+use std::ffi::OsString;\n use std::path::PathBuf;\n use std::process::{self, Command};\n-use std::ffi::OsString;\n \n const CARGO_CLIPPY_HELP: &str = r#\"Checks a package to catch common mistakes and improve your Rust code.\n \n@@ -60,11 +60,10 @@ struct ClippyCmd {\n     unstable_options: bool,\n     cargo_subcommand: &'static str,\n     args: Vec<String>,\n-    clippy_args: String\n+    clippy_args: String,\n }\n \n-impl ClippyCmd\n-{\n+impl ClippyCmd {\n     fn new<I>(mut old_args: I) -> Self\n     where\n         I: Iterator<Item = String>,\n@@ -98,10 +97,7 @@ impl ClippyCmd\n             args.insert(0, \"+nightly\".to_string());\n         }\n \n-        let clippy_args: String =\n-            old_args\n-            .map(|arg| format!(\"{}__CLIPPY_HACKERY__\", arg))\n-            .collect();\n+        let clippy_args: String = old_args.map(|arg| format!(\"{}__CLIPPY_HACKERY__\", arg)).collect();\n \n         ClippyCmd {\n             unstable_options,\n@@ -160,7 +156,6 @@ impl ClippyCmd\n     }\n }\n \n-\n fn process<I>(old_args: I) -> Result<(), i32>\n where\n     I: Iterator<Item = String>,\n@@ -195,7 +190,9 @@ mod tests {\n \n     #[test]\n     fn fix_unstable() {\n-        let args = \"cargo clippy --fix -Zunstable-options\".split_whitespace().map(ToString::to_string);\n+        let args = \"cargo clippy --fix -Zunstable-options\"\n+            .split_whitespace()\n+            .map(ToString::to_string);\n         let cmd = ClippyCmd::new(args);\n         assert_eq!(\"fix\", cmd.cargo_subcommand);\n         assert_eq!(\"RUSTC_WORKSPACE_WRAPPER\", cmd.path_env());\n@@ -212,7 +209,9 @@ mod tests {\n \n     #[test]\n     fn check_unstable() {\n-        let args = \"cargo clippy -Zunstable-options\".split_whitespace().map(ToString::to_string);\n+        let args = \"cargo clippy -Zunstable-options\"\n+            .split_whitespace()\n+            .map(ToString::to_string);\n         let cmd = ClippyCmd::new(args);\n         assert_eq!(\"check\", cmd.cargo_subcommand);\n         assert_eq!(\"RUSTC_WORKSPACE_WRAPPER\", cmd.path_env());"}]}