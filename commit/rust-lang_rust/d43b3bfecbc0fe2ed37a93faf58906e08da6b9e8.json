{"sha": "d43b3bfecbc0fe2ed37a93faf58906e08da6b9e8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ0M2IzYmZlY2JjMGZlMmVkMzdhOTNmYWY1ODkwNmUwOGRhNmI5ZTg=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-05-08T10:49:00Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-05-08T10:49:00Z"}, "message": "Merge #8763\n\n8763: feat: make troubleshooting a top-level section r=matklad a=matklad\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "8fa2b2928560360596179efc9f15af1e63b7265a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8fa2b2928560360596179efc9f15af1e63b7265a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d43b3bfecbc0fe2ed37a93faf58906e08da6b9e8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJglmycCRBK7hj4Ov3rIwAAJuUIAD0DvAxYCLZoZSwj6jl9mePf\nyt6dYA/yzVoP1t3jEA2vcUtj08HPbHVO0wUCeYVjlE2LFdtwLmyBJb1HgqGidiXz\neXgHrfAHrhvUA7t8VLlFNs7orweBWO4BsbUtZh0Cbscc6ccz/jhPhdM85HzasdPu\n6GSZtl5wi5LdCxK8g8Q93TyfWEDnRGG/KE0G2Mn79sS97znZUb2H9MDY57SqgZTu\nozanpjdZywKU+x476to6GzqZzz8XTlFD66/RkXGMoO65eufGszFrEHB9R3tGuSrz\nxI3gQ1/XHcO855ycI09zU06yy61ehes2HOJ2I+82/5Ed0yIDmaWo1STseAZ1PbA=\n=onQ7\n-----END PGP SIGNATURE-----\n", "payload": "tree 8fa2b2928560360596179efc9f15af1e63b7265a\nparent a12f037e12fa79a8776a0509484846f30570c1ec\nparent ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1620470940 +0000\ncommitter GitHub <noreply@github.com> 1620470940 +0000\n\nMerge #8763\n\n8763: feat: make troubleshooting a top-level section r=matklad a=matklad\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d43b3bfecbc0fe2ed37a93faf58906e08da6b9e8", "html_url": "https://github.com/rust-lang/rust/commit/d43b3bfecbc0fe2ed37a93faf58906e08da6b9e8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d43b3bfecbc0fe2ed37a93faf58906e08da6b9e8/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a12f037e12fa79a8776a0509484846f30570c1ec", "url": "https://api.github.com/repos/rust-lang/rust/commits/a12f037e12fa79a8776a0509484846f30570c1ec", "html_url": "https://github.com/rust-lang/rust/commit/a12f037e12fa79a8776a0509484846f30570c1ec"}, {"sha": "ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e", "url": "https://api.github.com/repos/rust-lang/rust/commits/ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e", "html_url": "https://github.com/rust-lang/rust/commit/ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e"}], "stats": {"total": 70, "additions": 35, "deletions": 35}, "files": [{"sha": "a1d1951d0185ab5d3cab60a553ce7646583de071", "filename": "docs/user/manual.adoc", "status": "modified", "additions": 35, "deletions": 35, "changes": 70, "blob_url": "https://github.com/rust-lang/rust/blob/d43b3bfecbc0fe2ed37a93faf58906e08da6b9e8/docs%2Fuser%2Fmanual.adoc", "raw_url": "https://github.com/rust-lang/rust/raw/d43b3bfecbc0fe2ed37a93faf58906e08da6b9e8/docs%2Fuser%2Fmanual.adoc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Fmanual.adoc?ref=d43b3bfecbc0fe2ed37a93faf58906e08da6b9e8", "patch": "@@ -137,41 +137,6 @@ If you're not using Code, you can compile and install only the LSP server:\n $ cargo xtask install --server\n ----\n \n-==== Troubleshooting\n-\n-Start with looking at the rust-analyzer version.\n-Try **Rust Analyzer: Show RA Version** and `rust-analyzer --version` in the command line.\n-If the date is more than a week ago, it's better to update rust-analyzer version.\n-\n-The next thing to check would be panic messages in rust-analyzer's log.\n-Log messages are printed to stderr, in VS Code you can see then in the `Output > Rust Analyzer Language Server` tab of the panel.\n-To see more logs, set `RA_LOG=info` environmental variable.\n-\n-To fully capture LSP messages between the editor and the server, set `\"rust-analyzer.trace.server\": \"verbose\"` config and check\n-`Output > Rust Analyzer Language Server Trace`.\n-\n-The root cause for many \"`nothing works`\" problems is that rust-analyzer fails to understand the project structure.\n-To debug that, first note the `rust-analyzer` section in the status bar.\n-If it has an error icon and red, that's the problem (hover will have somewhat helpful error message).\n-**Rust Analyzer: Status** prints dependency information for the current file.\n-Finally, `RA_LOG=project_model=debug` enables verbose logs during project loading.\n-\n-If rust-analyzer outright crashes, try running `rust-analyzer analysis-stats /path/to/project/directory/` on the command line.\n-This command type checks the whole project in batch mode bypassing LSP machinery.\n-\n-When filing issues, it is useful (but not necessary) to try to minimize examples.\n-An ideal bug reproduction looks like this:\n-\n-```bash\n-$ git clone https://github.com/username/repo.git && cd repo && git switch --detach commit-hash\n-$ rust-analyzer --version\n-rust-analyzer dd12184e4 2021-05-08 dev\n-$ rust-analyzer analysis-stats .\n-\ud83d\udc80 \ud83d\udc80 \ud83d\udc80\n-```\n-\n-It is especially useful when the `repo` doesn't use external crates or the standard library.\n-\n === rust-analyzer Language Server Binary\n \n Other editors generally require the `rust-analyzer` binary to be in `$PATH`.\n@@ -434,6 +399,41 @@ With\n ----\n Then click on apply, and restart the LSP server for your rust project.\n \n+== Troubleshooting\n+\n+Start with looking at the rust-analyzer version.\n+Try **Rust Analyzer: Show RA Version** in VS Code and `rust-analyzer --version` in the command line.\n+If the date is more than a week ago, it's better to update rust-analyzer version.\n+\n+The next thing to check would be panic messages in rust-analyzer's log.\n+Log messages are printed to stderr, in VS Code you can see then in the `Output > Rust Analyzer Language Server` tab of the panel.\n+To see more logs, set `RA_LOG=info` environmental variable.\n+\n+To fully capture LSP messages between the editor and the server, set `\"rust-analyzer.trace.server\": \"verbose\"` config and check\n+`Output > Rust Analyzer Language Server Trace`.\n+\n+The root cause for many \"`nothing works`\" problems is that rust-analyzer fails to understand the project structure.\n+To debug that, first note the `rust-analyzer` section in the status bar.\n+If it has an error icon and red, that's the problem (hover will have somewhat helpful error message).\n+**Rust Analyzer: Status** prints dependency information for the current file.\n+Finally, `RA_LOG=project_model=debug` enables verbose logs during project loading.\n+\n+If rust-analyzer outright crashes, try running `rust-analyzer analysis-stats /path/to/project/directory/` on the command line.\n+This command type checks the whole project in batch mode bypassing LSP machinery.\n+\n+When filing issues, it is useful (but not necessary) to try to minimize examples.\n+An ideal bug reproduction looks like this:\n+\n+```bash\n+$ git clone https://github.com/username/repo.git && cd repo && git switch --detach commit-hash\n+$ rust-analyzer --version\n+rust-analyzer dd12184e4 2021-05-08 dev\n+$ rust-analyzer analysis-stats .\n+\ud83d\udc80 \ud83d\udc80 \ud83d\udc80\n+```\n+\n+It is especially useful when the `repo` doesn't use external crates or the standard library.\n+\n == Configuration\n \n **Source:** https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/config.rs[config.rs]"}]}