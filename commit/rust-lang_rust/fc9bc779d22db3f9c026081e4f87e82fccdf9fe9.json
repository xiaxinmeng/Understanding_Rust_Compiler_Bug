{"sha": "fc9bc779d22db3f9c026081e4f87e82fccdf9fe9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZjOWJjNzc5ZDIyZGIzZjljMDI2MDgxZTRmODdlODJmY2NkZjlmZTk=", "commit": {"author": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2015-05-06T08:18:56Z"}, "committer": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2015-05-06T08:18:56Z"}, "message": "Fix explanation of Cargo's behavior\n\nhttps://github.com/rust-lang/rust/pull/25080/files#r29634986", "tree": {"sha": "7ecabad1e3f0ec71ce3d342eedeecfe22d4dd0e6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7ecabad1e3f0ec71ce3d342eedeecfe22d4dd0e6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fc9bc779d22db3f9c026081e4f87e82fccdf9fe9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fc9bc779d22db3f9c026081e4f87e82fccdf9fe9", "html_url": "https://github.com/rust-lang/rust/commit/fc9bc779d22db3f9c026081e4f87e82fccdf9fe9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fc9bc779d22db3f9c026081e4f87e82fccdf9fe9/comments", "author": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "committer": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6afa669524f550744834b5cd031dc3918e65905f", "url": "https://api.github.com/repos/rust-lang/rust/commits/6afa669524f550744834b5cd031dc3918e65905f", "html_url": "https://github.com/rust-lang/rust/commit/6afa669524f550744834b5cd031dc3918e65905f"}], "stats": {"total": 21, "additions": 13, "deletions": 8}, "files": [{"sha": "9f763e2fa13b810405bbcda541e5220a376a8ccd", "filename": "src/doc/trpl/guessing-game.md", "status": "modified", "additions": 13, "deletions": 8, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/fc9bc779d22db3f9c026081e4f87e82fccdf9fe9/src%2Fdoc%2Ftrpl%2Fguessing-game.md", "raw_url": "https://github.com/rust-lang/rust/raw/fc9bc779d22db3f9c026081e4f87e82fccdf9fe9/src%2Fdoc%2Ftrpl%2Fguessing-game.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Fguessing-game.md?ref=fc9bc779d22db3f9c026081e4f87e82fccdf9fe9", "patch": "@@ -410,24 +410,29 @@ $ cargo build\n    Compiling guessing_game v0.1.0 (file:///home/you/projects/guessing_game)\n ```\n \n-So, we told Cargo we wanted any version of `rand`, and so it fetched the\n-latest version at the time this was written, `v0.3.8`. But what happens\n-when next week, version `v0.4.0` comes out, which changes something with\n-`rand`, and it includes a breaking change? After all, a `v0.y.z` version\n-in SemVer can change every release.\n+So, we told Cargo we wanted any version of `rand`, and so it fetched the latest\n+version at the time this was written, `v0.3.8`. But what happens when next\n+week, version `v0.3.9` comes out, with an important bugfix? While getting\n+bugfixes is important, what if `0.3.9` contains a regression that breaks our\n+code?\n \n The answer to this problem is the `Cargo.lock` file you\u2019ll now find in your\n project directory. When you build your project for the first time, Cargo\n figures out all of the versions that fit your criteria, and then writes them\n to the `Cargo.lock` file. When you build your project in the future, Cargo\n will see that the `Cargo.lock` file exists, and then use that specific version\n rather than do all the work of figuring out versions again. This lets you\n-have a repeatable build automatically.\n+have a repeatable build automatically. In other words, we\u2019ll stay at `0.3.8`\n+until we explicitly upgrade, and so will anyone who we share our code with,\n+thanks to the lock file.\n \n-What about when we _do_ want to use `v0.4.0`? Cargo has another command,\n+What about when we _do_ want to use `v0.3.9`? Cargo has another command,\n `update`, which says \u2018ignore the lock, figure out all the latest versions that\n fit what we\u2019ve specified. If that works, write those versions out to the lock\n-file\u2019.\n+file\u2019. But, by default, Cargo will only look for versions larger than `0.3.0`\n+and smaller than `0.4.0`. If we want to move to `0.4.x`, we\u2019d have to update\n+the `Cargo.toml` directly. When we do, the next time we `cargo build`, Cargo\n+will update the index and re-evaluate our `rand` requirements.\n \n There\u2019s a lot more to say about [Cargo][doccargo] and [its\n ecosystem][doccratesio], but for now, that\u2019s all we need to know. Cargo makes"}]}