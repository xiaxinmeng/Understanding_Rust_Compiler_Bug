{"sha": "11d6312abd614fca3970902f137225e0437d0a09", "node_id": "MDY6Q29tbWl0NzI0NzEyOjExZDYzMTJhYmQ2MTRmY2EzOTcwOTAyZjEzNzIyNWUwNDM3ZDBhMDk=", "commit": {"author": {"name": "Florian Zeitz", "email": "florob@babelmonkeys.de", "date": "2017-08-04T14:58:12Z"}, "committer": {"name": "Florian Zeitz", "email": "florob@babelmonkeys.de", "date": "2017-08-05T02:15:51Z"}, "message": "codegen tests: Check type of `len` argument to `llvm.memset.*` based on the exact intrinsic used", "tree": {"sha": "ed6179bfc6bb7ca5793bdc15180546b71edbb76c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ed6179bfc6bb7ca5793bdc15180546b71edbb76c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/11d6312abd614fca3970902f137225e0437d0a09", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/11d6312abd614fca3970902f137225e0437d0a09", "html_url": "https://github.com/rust-lang/rust/commit/11d6312abd614fca3970902f137225e0437d0a09", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/11d6312abd614fca3970902f137225e0437d0a09/comments", "author": {"login": "Florob", "id": 133684, "node_id": "MDQ6VXNlcjEzMzY4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/133684?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Florob", "html_url": "https://github.com/Florob", "followers_url": "https://api.github.com/users/Florob/followers", "following_url": "https://api.github.com/users/Florob/following{/other_user}", "gists_url": "https://api.github.com/users/Florob/gists{/gist_id}", "starred_url": "https://api.github.com/users/Florob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Florob/subscriptions", "organizations_url": "https://api.github.com/users/Florob/orgs", "repos_url": "https://api.github.com/users/Florob/repos", "events_url": "https://api.github.com/users/Florob/events{/privacy}", "received_events_url": "https://api.github.com/users/Florob/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Florob", "id": 133684, "node_id": "MDQ6VXNlcjEzMzY4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/133684?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Florob", "html_url": "https://github.com/Florob", "followers_url": "https://api.github.com/users/Florob/followers", "following_url": "https://api.github.com/users/Florob/following{/other_user}", "gists_url": "https://api.github.com/users/Florob/gists{/gist_id}", "starred_url": "https://api.github.com/users/Florob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Florob/subscriptions", "organizations_url": "https://api.github.com/users/Florob/orgs", "repos_url": "https://api.github.com/users/Florob/repos", "events_url": "https://api.github.com/users/Florob/events{/privacy}", "received_events_url": "https://api.github.com/users/Florob/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "67044501bc851f36327e429c0b7ab935d375d71a", "url": "https://api.github.com/repos/rust-lang/rust/commits/67044501bc851f36327e429c0b7ab935d375d71a", "html_url": "https://github.com/rust-lang/rust/commit/67044501bc851f36327e429c0b7ab935d375d71a"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "569d937c812cbe67f8056f32d1b64a7961be1d5b", "filename": "src/test/codegen/slice-init.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/11d6312abd614fca3970902f137225e0437d0a09/src%2Ftest%2Fcodegen%2Fslice-init.rs", "raw_url": "https://github.com/rust-lang/rust/raw/11d6312abd614fca3970902f137225e0437d0a09/src%2Ftest%2Fcodegen%2Fslice-init.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fslice-init.rs?ref=11d6312abd614fca3970902f137225e0437d0a09", "patch": "@@ -33,7 +33,7 @@ pub fn zero_len_array() {\n // CHECK-LABEL: @byte_array\n #[no_mangle]\n pub fn byte_array() {\n-    // CHECK: call void @llvm.memset.p0i8.i{{[0-9]+}}(i8* {{.*}}, i8 7, i64 4\n+    // CHECK: call void @llvm.memset.p0i8.i[[WIDTH:[0-9]+]](i8* {{.*}}, i8 7, i[[WIDTH]] 4\n     // CHECK-NOT: br label %slice_loop_header{{.*}}\n     let x = [7u8; 4];\n     drop(&x);\n@@ -49,7 +49,7 @@ enum Init {\n // CHECK-LABEL: @byte_enum_array\n #[no_mangle]\n pub fn byte_enum_array() {\n-    // CHECK: call void @llvm.memset.p0i8.i{{[0-9]+}}(i8* {{.*}}, i8 {{.*}}, i64 4\n+    // CHECK: call void @llvm.memset.p0i8.i[[WIDTH:[0-9]+]](i8* {{.*}}, i8 {{.*}}, i[[WIDTH]] 4\n     // CHECK-NOT: br label %slice_loop_header{{.*}}\n     let x = [Init::Memset; 4];\n     drop(&x);\n@@ -58,7 +58,7 @@ pub fn byte_enum_array() {\n // CHECK-LABEL: @zeroed_integer_array\n #[no_mangle]\n pub fn zeroed_integer_array() {\n-    // CHECK: call void @llvm.memset.p0i8.i{{[0-9]+}}(i8* {{.*}}, i8 0, i64 16\n+    // CHECK: call void @llvm.memset.p0i8.i[[WIDTH:[0-9]+]](i8* {{.*}}, i8 0, i[[WIDTH]] 16\n     // CHECK-NOT: br label %slice_loop_header{{.*}}\n     let x = [0u32; 4];\n     drop(&x);"}]}