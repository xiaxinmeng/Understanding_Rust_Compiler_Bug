{"sha": "ed1fea8571134039ed08b708cb3db72e336e05b7", "node_id": "C_kwDOAAsO6NoAKGVkMWZlYTg1NzExMzQwMzllZDA4YjcwOGNiM2RiNzJlMzM2ZTA1Yjc", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-01-24T11:29:55Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-01-24T11:29:55Z"}, "message": "Rollup merge of #93231 - conradludgate:doc-link-brightness, r=notriddle\n\nadjust sidebar link brightness\n\nFairly simple change. I've taken the existing link colour and main body background colours, and made sure that the sidebar+link contrast is the same.\n\nayu:\n- [main content contrast](https://colourcontrast.cc/0f1419/39afd7) - 7.31\n- [current sidebar contrast](https://colourcontrast.cc/14191f/39afd7) - 6.97\n- [new sidebar contrast](https://colourcontrast.cc/14191f/56b1d9) - 7.30\n\ndark:\n- [main content contrast](https://colourcontrast.cc/353535/d2991d) - 4.86\n- [current sidebar contrast](https://colourcontrast.cc/14191f/d2991d) - 3.19\n- [new sidebar contrast](https://colourcontrast.cc/14191f/fdbf35) - 4.87\n\nlight:\n- [main content contrast](https://colourcontrast.cc/ffffff/3873ad) - 4.97\n- [current sidebar contrast](https://colourcontrast.cc/f5f5f5/3873ad) - 4.56\n- [new sidebar contrast](https://colourcontrast.cc/f5f5f5/356da4) - 4.97", "tree": {"sha": "9ea2e9aa47597c4d4b06bb6bcd92f266ed33e96f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9ea2e9aa47597c4d4b06bb6bcd92f266ed33e96f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ed1fea8571134039ed08b708cb3db72e336e05b7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJh7o2zCRBK7hj4Ov3rIwAAkYMIAISYCthzW9n+/AaIwa7o8d/F\nxGWlzZribf1xFDBIV5bhss2473aLGLx7+uqg3IZ8F5m6UgaM31Rr1i8+TitB1KXh\n/qVwsXCASu1eBdWpBK9TzrKwViLpJ8xCLsIZoXYQY7yNJR8uh5+FBld5mDEDY+F+\nwX/7Rx8di8er5fP4J0sbQnEhk3sWwYgIkK4pXhpFJxokgTUjhfnJe7/3GO8XJS0y\niroo564yhVeigWAWj5qTFXjSoWDVfWZkEc/a1ORvLICeA78htMQS1q1voOENcbTR\nUIrdb9YCY+kv8aU5POFPk79zDedRrayNfCnOpyooYRHoruMRJsMyZiHbcniaKeA=\n=tuOR\n-----END PGP SIGNATURE-----\n", "payload": "tree 9ea2e9aa47597c4d4b06bb6bcd92f266ed33e96f\nparent 26f14bb77d586aa3bb2e139612f9fcf2f218765b\nparent ca3d0e2316f8d9f0e3b8b6a5285a94ec6e6c60ff\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1643023795 +0100\ncommitter GitHub <noreply@github.com> 1643023795 +0100\n\nRollup merge of #93231 - conradludgate:doc-link-brightness, r=notriddle\n\nadjust sidebar link brightness\n\nFairly simple change. I've taken the existing link colour and main body background colours, and made sure that the sidebar+link contrast is the same.\n\nayu:\n- [main content contrast](https://colourcontrast.cc/0f1419/39afd7) - 7.31\n- [current sidebar contrast](https://colourcontrast.cc/14191f/39afd7) - 6.97\n- [new sidebar contrast](https://colourcontrast.cc/14191f/56b1d9) - 7.30\n\ndark:\n- [main content contrast](https://colourcontrast.cc/353535/d2991d) - 4.86\n- [current sidebar contrast](https://colourcontrast.cc/14191f/d2991d) - 3.19\n- [new sidebar contrast](https://colourcontrast.cc/14191f/fdbf35) - 4.87\n\nlight:\n- [main content contrast](https://colourcontrast.cc/ffffff/3873ad) - 4.97\n- [current sidebar contrast](https://colourcontrast.cc/f5f5f5/3873ad) - 4.56\n- [new sidebar contrast](https://colourcontrast.cc/f5f5f5/356da4) - 4.97\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ed1fea8571134039ed08b708cb3db72e336e05b7", "html_url": "https://github.com/rust-lang/rust/commit/ed1fea8571134039ed08b708cb3db72e336e05b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ed1fea8571134039ed08b708cb3db72e336e05b7/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "26f14bb77d586aa3bb2e139612f9fcf2f218765b", "url": "https://api.github.com/repos/rust-lang/rust/commits/26f14bb77d586aa3bb2e139612f9fcf2f218765b", "html_url": "https://github.com/rust-lang/rust/commit/26f14bb77d586aa3bb2e139612f9fcf2f218765b"}, {"sha": "ca3d0e2316f8d9f0e3b8b6a5285a94ec6e6c60ff", "url": "https://api.github.com/repos/rust-lang/rust/commits/ca3d0e2316f8d9f0e3b8b6a5285a94ec6e6c60ff", "html_url": "https://github.com/rust-lang/rust/commit/ca3d0e2316f8d9f0e3b8b6a5285a94ec6e6c60ff"}], "stats": {"total": 73, "additions": 70, "deletions": 3}, "files": [{"sha": "5d60aca6f27cd32ec429c251334796e660d97ca3", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/ed1fea8571134039ed08b708cb3db72e336e05b7/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/ed1fea8571134039ed08b708cb3db72e336e05b7/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=ed1fea8571134039ed08b708cb3db72e336e05b7", "patch": "@@ -191,6 +191,10 @@ pre, .rustdoc.source .example-wrap {\n \tcolor: #a37acc;\n }\n \n+.sidebar a { color: #53b1db; }\n+.sidebar a.current.type { color: #53b1db; }\n+.sidebar a.current.associatedtype { color: #53b1db; }\n+\n pre.rust .comment { color: #788797; }\n pre.rust .doccomment { color: #a1ac88; }\n \n@@ -485,6 +489,25 @@ a.result-static:focus {}\n a.result-primitive:focus {}\n a.result-keyword:focus {}\n \n+.sidebar a.current.enum {}\n+.sidebar a.current.struct {}\n+.sidebar a.current.foreigntype {}\n+.sidebar a.current.attr,\n+.sidebar a.current.derive,\n+.sidebar a.current.macro {}\n+.sidebar a.current.union {}\n+.sidebar a.current.constant\n+.sidebar a.current.static {}\n+.sidebar a.current.primitive {}\n+.sidebar a.current.externcrate\n+.sidebar a.current.mod {}\n+.sidebar a.current.trait {}\n+.sidebar a.current.traitalias {}\n+.sidebar a.current.fn,\n+.sidebar a.current.method,\n+.sidebar a.current.tymethod {}\n+.sidebar a.current.keyword {}\n+\n @media (max-width: 700px) {\n \t.sidebar-menu {\n \t\tbackground-color: #14191f;"}, {"sha": "96588af54e8fb5b015b38430c50920f30a19938c", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/ed1fea8571134039ed08b708cb3db72e336e05b7/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/ed1fea8571134039ed08b708cb3db72e336e05b7/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=ed1fea8571134039ed08b708cb3db72e336e05b7", "patch": "@@ -148,6 +148,28 @@ a.result-keyword:focus { background-color: #884719; }\n .content .fnname{ color: #2BAB63; }\n .content span.keyword, .content a.keyword, .block a.current.keyword { color: #D2991D; }\n \n+.sidebar a { color: #fdbf35; }\n+.sidebar a.current.enum { color: #12ece2; }\n+.sidebar a.current.struct { color: #12ece2; }\n+.sidebar a.current.type { color: #12ece2; }\n+.sidebar a.current.associatedtype { color: #fdbf35; }\n+.sidebar a.current.foreigntype { color: #12ece2; }\n+.sidebar a.current.attr,\n+.sidebar a.current.derive,\n+.sidebar a.current.macro { color: #0be900; }\n+.sidebar a.current.union { color: #12ece2; }\n+.sidebar a.current.constant\n+.sidebar a.current.static { color: #fdbf35; }\n+.sidebar a.current.primitive { color: #12ece2; }\n+.sidebar a.current.externcrate\n+.sidebar a.current.mod { color: #fdbf35; }\n+.sidebar a.current.trait { color: #cca7ff; }\n+.sidebar a.current.traitalias { color: #cca7ff; }\n+.sidebar a.current.fn,\n+.sidebar a.current.method,\n+.sidebar a.current.tymethod { color: #32d479; }\n+.sidebar a.current.keyword { color: #fdbf35; }\n+\n pre.rust .comment { color: #8d8d8b; }\n pre.rust .doccomment { color: #8ca375; }\n "}, {"sha": "c1fbbd02ec22c2077a83e31e304a5b76c6bfa0fb", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/ed1fea8571134039ed08b708cb3db72e336e05b7/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/ed1fea8571134039ed08b708cb3db72e336e05b7/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=ed1fea8571134039ed08b708cb3db72e336e05b7", "patch": "@@ -148,6 +148,28 @@ a.result-keyword:focus { background-color: #afc6e4; }\n .content .fnname { color: #AD7C37; }\n .content span.keyword, .content a.keyword, .block a.current.keyword { color: #3873AD; }\n \n+.sidebar a { color: #356da4; }\n+.sidebar a.current.enum { color: #a63283; }\n+.sidebar a.current.struct { color: #a63283; }\n+.sidebar a.current.type { color: #a63283; }\n+.sidebar a.current.associatedtype { color: #356da4; }\n+.sidebar a.current.foreigntype { color: #356da4; }\n+.sidebar a.current.attr,\n+.sidebar a.current.derive,\n+.sidebar a.current.macro { color: #067901; }\n+.sidebar a.current.union { color: #a63283; }\n+.sidebar a.current.constant\n+.sidebar a.current.static { color: #356da4; }\n+.sidebar a.current.primitive { color: #a63283; }\n+.sidebar a.current.externcrate\n+.sidebar a.current.mod { color: #356da4; }\n+.sidebar a.current.trait { color: #6849c3; }\n+.sidebar a.current.traitalias { color: #4b349e; }\n+.sidebar a.current.fn,\n+.sidebar a.current.method,\n+.sidebar a.current.tymethod { color: #32d479; }\n+.sidebar a.current.keyword { color: #356da4; }\n+\n nav.main .current {\n \tborder-top-color: #000;\n \tborder-bottom-color: #000;"}, {"sha": "26e4503a5d086dc7545c98f759c7fb76536f610a", "filename": "src/test/rustdoc-gui/anchors.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ed1fea8571134039ed08b708cb3db72e336e05b7/src%2Ftest%2Frustdoc-gui%2Fanchors.goml", "raw_url": "https://github.com/rust-lang/rust/raw/ed1fea8571134039ed08b708cb3db72e336e05b7/src%2Ftest%2Frustdoc-gui%2Fanchors.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fanchors.goml?ref=ed1fea8571134039ed08b708cb3db72e336e05b7", "patch": "@@ -20,7 +20,7 @@ assert-css: (\".srclink\", {\"text-decoration\": \"underline solid rgb(56, 115, 173)\"\n \n assert-css: (\"#top-doc-prose-title\", {\"color\": \"rgb(0, 0, 0)\"})\n \n-assert-css: (\".sidebar a\", {\"color\": \"rgb(56, 115, 173)\"})\n+assert-css: (\".sidebar a\", {\"color\": \"rgb(53, 109, 164)\"})\n assert-css: (\".in-band a\", {\"color\": \"rgb(0, 0, 0)\"})\n \n // We move the cursor over the \"Implementations\" title so the anchor is displayed."}, {"sha": "ae198e4174293fca93112c691dbadfb4cd971654", "filename": "src/test/rustdoc-gui/sidebar.goml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ed1fea8571134039ed08b708cb3db72e336e05b7/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml", "raw_url": "https://github.com/rust-lang/rust/raw/ed1fea8571134039ed08b708cb3db72e336e05b7/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml?ref=ed1fea8571134039ed08b708cb3db72e336e05b7", "patch": "@@ -9,7 +9,7 @@ assert-text: (\".sidebar > .location\", \"Crate test_docs\")\n // In modules, we only have one \"location\" element.\n assert-count: (\".sidebar .location\", 1)\n assert-text: (\"#all-types\", \"All Items\")\n-assert-css: (\"#all-types\", {\"color\": \"rgb(56, 115, 173)\"})\n+assert-css: (\"#all-types\", {\"color\": \"rgb(53, 109, 164)\"})\n // We check that we have the crates list and that the \"current\" on is \"test_docs\".\n assert-text: (\".sidebar-elems .crate > ul > li > a.current\", \"test_docs\")\n // And we're also supposed to have the list of items in the current module.\n@@ -38,7 +38,7 @@ assert-property: (\"html\", {\"scrollTop\": \"0\"})\n \n // We now go back to the crate page to click on the \"lib2\" crate link.\n goto: file://|DOC_PATH|/test_docs/index.html\n-assert-css: (\".sidebar-elems .crate > ul > li:first-child > a\", {\"color\": \"rgb(56, 115, 173)\"})\n+assert-css: (\".sidebar-elems .crate > ul > li:first-child > a\", {\"color\": \"rgb(53, 109, 164)\"})\n click: \".sidebar-elems .crate > ul > li:first-child > a\"\n \n // PAGE: lib2/index.html"}]}