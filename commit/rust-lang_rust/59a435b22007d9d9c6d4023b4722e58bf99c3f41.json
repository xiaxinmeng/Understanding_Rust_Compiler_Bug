{"sha": "59a435b22007d9d9c6d4023b4722e58bf99c3f41", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU5YTQzNWIyMjAwN2Q5ZDljNmQ0MDIzYjQ3MjJlNThiZjk5YzNmNDE=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@commure.com", "date": "2018-07-22T19:19:34Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@commure.com", "date": "2018-07-22T19:19:34Z"}, "message": "Use MultiSpan in E0707 and E709", "tree": {"sha": "b3d38366124be3e60aa5701b6f895bca2e169bb2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b3d38366124be3e60aa5701b6f895bca2e169bb2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/59a435b22007d9d9c6d4023b4722e58bf99c3f41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/59a435b22007d9d9c6d4023b4722e58bf99c3f41", "html_url": "https://github.com/rust-lang/rust/commit/59a435b22007d9d9c6d4023b4722e58bf99c3f41", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/59a435b22007d9d9c6d4023b4722e58bf99c3f41/comments", "author": null, "committer": null, "parents": [{"sha": "d3b3bc57670ab91a53b2100cf3dfe78947bfe077", "url": "https://api.github.com/repos/rust-lang/rust/commits/d3b3bc57670ab91a53b2100cf3dfe78947bfe077", "html_url": "https://github.com/rust-lang/rust/commit/d3b3bc57670ab91a53b2100cf3dfe78947bfe077"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "3d5efd23d1be730083965f1778670381d7ec4c55", "filename": "src/librustc/hir/lowering.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/59a435b22007d9d9c6d4023b4722e58bf99c3f41/src%2Flibrustc%2Fhir%2Flowering.rs", "raw_url": "https://github.com/rust-lang/rust/raw/59a435b22007d9d9c6d4023b4722e58bf99c3f41/src%2Flibrustc%2Fhir%2Flowering.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Flowering.rs?ref=59a435b22007d9d9c6d4023b4722e58bf99c3f41", "patch": "@@ -72,7 +72,7 @@ use syntax::tokenstream::{Delimited, TokenStream, TokenTree};\n use syntax::parse::token::Token;\n use syntax::util::small_vector::SmallVector;\n use syntax::visit::{self, Visitor};\n-use syntax_pos::Span;\n+use syntax_pos::{Span, MultiSpan};\n \n const HIR_ID_COUNTER_LOCKED: u32 = 0xFFFFFFFF;\n \n@@ -2049,7 +2049,7 @@ impl<'a> LoweringContext<'a> {\n                         if current_lt_name != name {\n                             struct_span_err!(\n                                 self.context.sess,\n-                                current_lt_span.between(lifetime.span),\n+                                MultiSpan::from_spans(vec![current_lt_span, lifetime.span]),\n                                 E0709,\n                                 \"multiple different lifetimes used in arguments of `async fn`\",\n                             )\n@@ -2061,7 +2061,7 @@ impl<'a> LoweringContext<'a> {\n                         } else if current_lt_name.is_elided() && name.is_elided() {\n                             struct_span_err!(\n                                 self.context.sess,\n-                                current_lt_span.between(lifetime.span),\n+                                MultiSpan::from_spans(vec![current_lt_span, lifetime.span]),\n                                 E0707,\n                                 \"multiple elided lifetimes used in arguments of `async fn`\",\n                             )"}, {"sha": "1d34673a0050d9a0c4567a5c0394f94eaa278dd4", "filename": "src/test/ui/async-fn-multiple-lifetimes.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/59a435b22007d9d9c6d4023b4722e58bf99c3f41/src%2Ftest%2Fui%2Fasync-fn-multiple-lifetimes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/59a435b22007d9d9c6d4023b4722e58bf99c3f41/src%2Ftest%2Fui%2Fasync-fn-multiple-lifetimes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-fn-multiple-lifetimes.stderr?ref=59a435b22007d9d9c6d4023b4722e58bf99c3f41", "patch": "@@ -1,8 +1,8 @@\n error[E0709]: multiple different lifetimes used in arguments of `async fn`\n-  --> $DIR/async-fn-multiple-lifetimes.rs:17:49\n+  --> $DIR/async-fn-multiple-lifetimes.rs:17:47\n    |\n LL | async fn multiple_named_lifetimes<'a, 'b>(_: &'a u8, _: &'b u8) {}\n-   |                                               --^^^^^^^^^-- different lifetime here\n+   |                                               ^^         ^^ different lifetime here\n    |                                               |\n    |                                               first lifetime here\n    |\n@@ -12,7 +12,7 @@ error[E0707]: multiple elided lifetimes used in arguments of `async fn`\n   --> $DIR/async-fn-multiple-lifetimes.rs:26:39\n    |\n LL | async fn multiple_elided_lifetimes(_: &u8, _: &u8) {}\n-   |                                       -^^^^^^^- different lifetime here\n+   |                                       ^       ^ different lifetime here\n    |                                       |\n    |                                       first lifetime here\n    |"}]}