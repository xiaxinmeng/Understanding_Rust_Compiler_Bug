{"sha": "8a13a7c14874147621e5344e3f31aaed39d390f5", "node_id": "C_kwDOAAsO6NoAKDhhMTNhN2MxNDg3NDE0NzYyMWU1MzQ0ZTNmMzFhYWVkMzlkMzkwZjU", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2022-12-26T21:35:35Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2022-12-26T21:35:35Z"}, "message": "review comments", "tree": {"sha": "d22a16a3c12b5bebba16ad0ec261eff0152a04f3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d22a16a3c12b5bebba16ad0ec261eff0152a04f3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8a13a7c14874147621e5344e3f31aaed39d390f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8a13a7c14874147621e5344e3f31aaed39d390f5", "html_url": "https://github.com/rust-lang/rust/commit/8a13a7c14874147621e5344e3f31aaed39d390f5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8a13a7c14874147621e5344e3f31aaed39d390f5/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bd890f9cd1e06b5b8c635db2def235373290b09d", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd890f9cd1e06b5b8c635db2def235373290b09d", "html_url": "https://github.com/rust-lang/rust/commit/bd890f9cd1e06b5b8c635db2def235373290b09d"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "63b16aa95a6a5d4b333ba255063685d37104e292", "filename": "compiler/rustc_borrowck/src/diagnostics/mod.rs", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/8a13a7c14874147621e5344e3f31aaed39d390f5/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8a13a7c14874147621e5344e3f31aaed39d390f5/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmod.rs?ref=8a13a7c14874147621e5344e3f31aaed39d390f5", "patch": "@@ -1135,16 +1135,14 @@ impl<'cx, 'tcx> MirBorrowckCtxt<'cx, 'tcx> {\n                             ),\n                         );\n                         let infcx = tcx.infer_ctxt().build();\n-                        let ty = infcx.freshen(moved_place.ty(self.body, tcx).ty);\n+                        let ty = tcx.erase_regions(moved_place.ty(self.body, tcx).ty);\n                         if let ty::Adt(def, substs) = ty.kind()\n                             && Some(def.did()) == tcx.lang_items().pin_type()\n                             && let ty::Ref(_, _, hir::Mutability::Mut) = substs.type_at(0).kind()\n-                            && let self_ty = infcx.freshen(\n-                                infcx.replace_bound_vars_with_fresh_vars(\n-                                    fn_call_span,\n-                                    LateBoundRegionConversionTime::FnCall,\n-                                    tcx.fn_sig(method_did).input(0),\n-                                )\n+                            && let self_ty = infcx.replace_bound_vars_with_fresh_vars(\n+                                fn_call_span,\n+                                LateBoundRegionConversionTime::FnCall,\n+                                tcx.fn_sig(method_did).input(0),\n                             )\n                             && infcx.can_eq(self.param_env, ty, self_ty).is_ok()\n                         {"}]}