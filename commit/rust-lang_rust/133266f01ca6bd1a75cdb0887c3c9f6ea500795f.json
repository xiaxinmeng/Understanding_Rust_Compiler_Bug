{"sha": "133266f01ca6bd1a75cdb0887c3c9f6ea500795f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEzMzI2NmYwMWNhNmJkMWE3NWNkYjA4ODdjM2M5ZjZlYTUwMDc5NWY=", "commit": {"author": {"name": "Kang Seonghoon", "email": "public+git@mearie.org", "date": "2014-11-30T09:52:44Z"}, "committer": {"name": "Kang Seonghoon", "email": "public+git@mearie.org", "date": "2014-11-30T09:52:44Z"}, "message": "trans: Eliminated redundant allocations.", "tree": {"sha": "e3cd72e1c8fa16c914056dc55e99f594af4e32e9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e3cd72e1c8fa16c914056dc55e99f594af4e32e9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/133266f01ca6bd1a75cdb0887c3c9f6ea500795f", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/133266f01ca6bd1a75cdb0887c3c9f6ea500795f", "html_url": "https://github.com/rust-lang/rust/commit/133266f01ca6bd1a75cdb0887c3c9f6ea500795f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/133266f01ca6bd1a75cdb0887c3c9f6ea500795f/comments", "author": {"login": "lifthrasiir", "id": 323836, "node_id": "MDQ6VXNlcjMyMzgzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lifthrasiir", "html_url": "https://github.com/lifthrasiir", "followers_url": "https://api.github.com/users/lifthrasiir/followers", "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}", "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}", "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions", "organizations_url": "https://api.github.com/users/lifthrasiir/orgs", "repos_url": "https://api.github.com/users/lifthrasiir/repos", "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}", "received_events_url": "https://api.github.com/users/lifthrasiir/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lifthrasiir", "id": 323836, "node_id": "MDQ6VXNlcjMyMzgzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lifthrasiir", "html_url": "https://github.com/lifthrasiir", "followers_url": "https://api.github.com/users/lifthrasiir/followers", "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}", "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}", "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions", "organizations_url": "https://api.github.com/users/lifthrasiir/orgs", "repos_url": "https://api.github.com/users/lifthrasiir/repos", "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}", "received_events_url": "https://api.github.com/users/lifthrasiir/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "989f906af31d8a1d25eb3657896d2f3550d62fa2", "url": "https://api.github.com/repos/rust-lang/rust/commits/989f906af31d8a1d25eb3657896d2f3550d62fa2", "html_url": "https://github.com/rust-lang/rust/commit/989f906af31d8a1d25eb3657896d2f3550d62fa2"}], "stats": {"total": 24, "additions": 10, "deletions": 14}, "files": [{"sha": "77102d2db39bb751e00fc5ad74ceadac1cdd0ea2", "filename": "src/librustc_trans/trans/asm.rs", "status": "modified", "additions": 10, "deletions": 14, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/133266f01ca6bd1a75cdb0887c3c9f6ea500795f/src%2Flibrustc_trans%2Ftrans%2Fasm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/133266f01ca6bd1a75cdb0887c3c9f6ea500795f/src%2Flibrustc_trans%2Ftrans%2Fasm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fasm.rs?ref=133266f01ca6bd1a75cdb0887c3c9f6ea500795f", "patch": "@@ -77,20 +77,16 @@ pub fn trans_inline_asm<'blk, 'tcx>(bcx: Block<'blk, 'tcx>, ia: &ast::InlineAsm)\n     // no failure occurred preparing operands, no need to cleanup\n     fcx.pop_custom_cleanup_scope(temp_scope);\n \n-    let mut constraints =\n-        String::from_str(constraints.iter()\n-                                    .map(|s| s.get().to_string())\n-                                    .chain(ext_constraints.into_iter())\n-                                    .collect::<Vec<String>>()\n-                                    .connect(\",\")\n-                                    .as_slice());\n-\n-    let mut clobbers =\n-        String::from_str(ia.clobbers.iter()\n-                                    .map(|s| format!(\"~{{{}}}\", s.get()))\n-                                    .collect::<Vec<String>>()\n-                                    .connect(\",\")\n-                                    .as_slice());\n+    let mut constraints = constraints.iter()\n+                                     .map(|s| s.get().to_string())\n+                                     .chain(ext_constraints.into_iter())\n+                                     .collect::<Vec<String>>()\n+                                     .connect(\",\");\n+\n+    let mut clobbers = ia.clobbers.iter()\n+                                  .map(|s| format!(\"~{{{}}}\", s.get()))\n+                                  .collect::<Vec<String>>()\n+                                  .connect(\",\");\n     let more_clobbers = get_clobbers();\n     if !more_clobbers.is_empty() {\n         if !clobbers.is_empty() {"}]}