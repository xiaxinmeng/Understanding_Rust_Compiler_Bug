{"sha": "99826dab153feffc8fe0d80600d9e812824d67b2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk5ODI2ZGFiMTUzZmVmZmM4ZmUwZDgwNjAwZDllODEyODI0ZDY3YjI=", "commit": {"author": {"name": "kjeremy", "email": "kjeremy@gmail.com", "date": "2020-05-01T18:12:31Z"}, "committer": {"name": "kjeremy", "email": "kjeremy@gmail.com", "date": "2020-05-01T18:12:31Z"}, "message": "Address comments", "tree": {"sha": "07da881c1daeb65ea8e8683c367acc56e23cf322", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/07da881c1daeb65ea8e8683c367acc56e23cf322"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/99826dab153feffc8fe0d80600d9e812824d67b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/99826dab153feffc8fe0d80600d9e812824d67b2", "html_url": "https://github.com/rust-lang/rust/commit/99826dab153feffc8fe0d80600d9e812824d67b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/99826dab153feffc8fe0d80600d9e812824d67b2/comments", "author": {"login": "kjeremy", "id": 4325700, "node_id": "MDQ6VXNlcjQzMjU3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/4325700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kjeremy", "html_url": "https://github.com/kjeremy", "followers_url": "https://api.github.com/users/kjeremy/followers", "following_url": "https://api.github.com/users/kjeremy/following{/other_user}", "gists_url": "https://api.github.com/users/kjeremy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kjeremy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kjeremy/subscriptions", "organizations_url": "https://api.github.com/users/kjeremy/orgs", "repos_url": "https://api.github.com/users/kjeremy/repos", "events_url": "https://api.github.com/users/kjeremy/events{/privacy}", "received_events_url": "https://api.github.com/users/kjeremy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kjeremy", "id": 4325700, "node_id": "MDQ6VXNlcjQzMjU3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/4325700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kjeremy", "html_url": "https://github.com/kjeremy", "followers_url": "https://api.github.com/users/kjeremy/followers", "following_url": "https://api.github.com/users/kjeremy/following{/other_user}", "gists_url": "https://api.github.com/users/kjeremy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kjeremy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kjeremy/subscriptions", "organizations_url": "https://api.github.com/users/kjeremy/orgs", "repos_url": "https://api.github.com/users/kjeremy/repos", "events_url": "https://api.github.com/users/kjeremy/events{/privacy}", "received_events_url": "https://api.github.com/users/kjeremy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ee1628dba051e691a4ced756ab3cb360543609fa", "url": "https://api.github.com/repos/rust-lang/rust/commits/ee1628dba051e691a4ced756ab3cb360543609fa", "html_url": "https://github.com/rust-lang/rust/commit/ee1628dba051e691a4ced756ab3cb360543609fa"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "c0d3209262c9951a0025f8d69113184469b2cf39", "filename": "crates/rust-analyzer/src/caps.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99826dab153feffc8fe0d80600d9e812824d67b2/crates%2Frust-analyzer%2Fsrc%2Fcaps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99826dab153feffc8fe0d80600d9e812824d67b2/crates%2Frust-analyzer%2Fsrc%2Fcaps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fcaps.rs?ref=99826dab153feffc8fe0d80600d9e812824d67b2", "patch": "@@ -41,8 +41,9 @@ pub fn server_capabilities() -> ServerCapabilities {\n         document_symbol_provider: Some(true),\n         workspace_symbol_provider: Some(true),\n         code_action_provider: Some(CodeActionProviderCapability::Options(CodeActionOptions {\n+            // Advertise support for all built-in CodeActionKinds\n             code_action_kinds: Some(vec![\n-                \"\".to_string(),\n+                String::new(),\n                 lsp_types::code_action_kind::QUICKFIX.to_string(),\n                 lsp_types::code_action_kind::REFACTOR.to_string(),\n                 lsp_types::code_action_kind::REFACTOR_EXTRACT.to_string(),"}, {"sha": "0f623949ecb84432808ec69d7e16fe7426273fdd", "filename": "crates/rust-analyzer/src/main_loop/handlers.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99826dab153feffc8fe0d80600d9e812824d67b2/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99826dab153feffc8fe0d80600d9e812824d67b2/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs?ref=99826dab153feffc8fe0d80600d9e812824d67b2", "patch": "@@ -703,7 +703,7 @@ fn create_single_code_action(assist: Assist, world: &WorldSnapshot) -> Result<Co\n \n     Ok(CodeAction {\n         title,\n-        kind: Some(\"refactor\".to_owned()),\n+        kind: Some(String::new()),\n         diagnostics: None,\n         edit: None,\n         command: Some(command),\n@@ -808,6 +808,7 @@ pub fn handle_code_action(\n     // If the client only supports commands then filter the list\n     // and remove and actions that depend on edits.\n     if !world.config.client_caps.code_action_literals {\n+        // FIXME: use drain_filter once it hits stable.\n         res = res\n             .into_iter()\n             .filter_map(|it| match it {"}]}