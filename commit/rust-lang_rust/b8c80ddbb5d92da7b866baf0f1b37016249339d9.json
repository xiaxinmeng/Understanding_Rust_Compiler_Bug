{"sha": "b8c80ddbb5d92da7b866baf0f1b37016249339d9", "node_id": "C_kwDOAAsO6NoAKGI4YzgwZGRiYjVkOTJkYTdiODY2YmFmMGYxYjM3MDE2MjQ5MzM5ZDk", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-02-01T19:30:25Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-02-01T19:30:25Z"}, "message": "Auto merge of #8330 - flip1995:changelog, r=llogiq\n\nUpdate Changelog\n\n[Rendered](https://github.com/flip1995/rust-clippy/blob/changelog/CHANGELOG.md)\n\nchangelog: none", "tree": {"sha": "96e5bcb758c29d3c839b57eabe69901eb99053cf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/96e5bcb758c29d3c839b57eabe69901eb99053cf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b8c80ddbb5d92da7b866baf0f1b37016249339d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b8c80ddbb5d92da7b866baf0f1b37016249339d9", "html_url": "https://github.com/rust-lang/rust/commit/b8c80ddbb5d92da7b866baf0f1b37016249339d9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b8c80ddbb5d92da7b866baf0f1b37016249339d9/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7bb69c0ae024eef65acb7fd6551fdd99f1563d38", "url": "https://api.github.com/repos/rust-lang/rust/commits/7bb69c0ae024eef65acb7fd6551fdd99f1563d38", "html_url": "https://github.com/rust-lang/rust/commit/7bb69c0ae024eef65acb7fd6551fdd99f1563d38"}, {"sha": "64f5b3611ec86ac16dd671c9acf73a17bcba5305", "url": "https://api.github.com/repos/rust-lang/rust/commits/64f5b3611ec86ac16dd671c9acf73a17bcba5305", "html_url": "https://github.com/rust-lang/rust/commit/64f5b3611ec86ac16dd671c9acf73a17bcba5305"}], "stats": {"total": 179, "additions": 175, "deletions": 4}, "files": [{"sha": "ce31c697ee198dcbe1dccb0e4a13000379586afd", "filename": "CHANGELOG.md", "status": "modified", "additions": 175, "deletions": 4, "changes": 179, "blob_url": "https://github.com/rust-lang/rust/blob/b8c80ddbb5d92da7b866baf0f1b37016249339d9/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/b8c80ddbb5d92da7b866baf0f1b37016249339d9/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=b8c80ddbb5d92da7b866baf0f1b37016249339d9", "patch": "@@ -6,14 +6,185 @@ document.\n \n ## Unreleased / In Rust Nightly\n \n-[e181011...master](https://github.com/rust-lang/rust-clippy/compare/e181011...master)\n+[0eff589...master](https://github.com/rust-lang/rust-clippy/compare/0eff589...master)\n \n-## Rust 1.58 (beta)\n+## Rust 1.59 (beta)\n \n-Current beta, release 2022-01-13\n+Current beta, release 2022-02-24\n+\n+[e181011...0eff589](https://github.com/rust-lang/rust-clippy/compare/e181011...0eff589)\n+\n+### New Lints\n+\n+* [`index_refutable_slice`]\n+  [#7643](https://github.com/rust-lang/rust-clippy/pull/7643)\n+* [`needless_splitn`]\n+  [#7896](https://github.com/rust-lang/rust-clippy/pull/7896)\n+* [`unnecessary_to_owned`]\n+  [#7978](https://github.com/rust-lang/rust-clippy/pull/7978)\n+* [`needless_late_init`]\n+  [#7995](https://github.com/rust-lang/rust-clippy/pull/7995)\n+* [`octal_escapes`] [#8007](https://github.com/rust-lang/rust-clippy/pull/8007)\n+* [`return_self_not_must_use`]\n+  [#8071](https://github.com/rust-lang/rust-clippy/pull/8071)\n+* [`init_numbered_fields`]\n+  [#8170](https://github.com/rust-lang/rust-clippy/pull/8170)\n+\n+### Moves and Deprecations\n+\n+* Move `if_then_panic` to `pedantic` and rename to [`manual_assert`] (now\n+  allow-by-default) [#7810](https://github.com/rust-lang/rust-clippy/pull/7810)\n+* Rename `disallow_type` to [`disallowed_types`] and `disallowed_method` to\n+  [`disallowed_methods`]\n+  [#7984](https://github.com/rust-lang/rust-clippy/pull/7984)\n+* Move [`map_flatten`] to `complexity` (now warn-by-default)\n+  [#8054](https://github.com/rust-lang/rust-clippy/pull/8054)\n+\n+### Enhancements\n+\n+* [`match_overlapping_arm`]: Fix false negative where after included ranges,\n+  overlapping ranges weren't linted anymore\n+  [#7909](https://github.com/rust-lang/rust-clippy/pull/7909)\n+* [`deprecated_cfg_attr`]: Now takes the specified MSRV into account\n+  [#7944](https://github.com/rust-lang/rust-clippy/pull/7944)\n+* [`cast_lossless`]: Now also lints for `bool` to integer casts\n+  [#7948](https://github.com/rust-lang/rust-clippy/pull/7948)\n+* [`let_underscore_lock`]: Also emit lints for the `parking_lot` crate\n+  [#7957](https://github.com/rust-lang/rust-clippy/pull/7957)\n+* [`needless_borrow`]\n+  [#7977](https://github.com/rust-lang/rust-clippy/pull/7977)\n+    * Lint when a borrow is auto-dereffed more than once\n+    * Lint in the trailing expression of a block for a match arm\n+* [`strlen_on_c_strings`]\n+  [8001](https://github.com/rust-lang/rust-clippy/pull/8001)\n+    * Lint when used without a fully-qualified path\n+    * Suggest removing the surrounding unsafe block when possible\n+* [`non_ascii_literal`]: Now also lints on `char`s, not just `string`s\n+  [#8034](https://github.com/rust-lang/rust-clippy/pull/8034)\n+* [`single_char_pattern`]: Now also lints on `split_inclusive`, `split_once`,\n+  `rsplit_once`, `replace`, and `replacen`\n+  [#8077](https://github.com/rust-lang/rust-clippy/pull/8077)\n+* [`unwrap_or_else_default`]: Now also lints on `std` constructors like\n+  `Vec::new`, `HashSet::new`, and `HashMap::new`\n+  [#8163](https://github.com/rust-lang/rust-clippy/pull/8163)\n+* [`shadow_reuse`]: Now also lints on shadowed `if let` bindings, instead of\n+  [`shadow_unrelated`]\n+  [#8165](https://github.com/rust-lang/rust-clippy/pull/8165)\n+\n+### False Positive Fixes\n+\n+* [`or_fun_call`], [`unnecessary_lazy_evaluations`]: Improve heuristics, so that\n+  cheap functions (e.g. calling `.len()` on a `Vec`) won't get linted anymore\n+  [#7639](https://github.com/rust-lang/rust-clippy/pull/7639)\n+* [`manual_split_once`]: No longer suggests code changing the original behavior\n+  [#7896](https://github.com/rust-lang/rust-clippy/pull/7896)\n+* Don't show [`no_effect`] or [`unnecessary_operation`] warning for unit struct\n+  implementing `FnOnce`\n+  [#7898](https://github.com/rust-lang/rust-clippy/pull/7898)\n+* [`semicolon_if_nothing_returned`]: Fixed a bug, where the lint wrongly\n+  triggered on `let-else` statements\n+  [#7955](https://github.com/rust-lang/rust-clippy/pull/7955)\n+* [`if_then_some_else_none`]: No longer lints if there is an early return\n+  [#7980](https://github.com/rust-lang/rust-clippy/pull/7980)\n+* [`needless_collect`]: No longer suggests removal of `collect` when removal\n+  would create code requiring mutably borrowing a value multiple times\n+  [#7982](https://github.com/rust-lang/rust-clippy/pull/7982)\n+* [`shadow_same`]: Fix false positive for `async` function's params\n+  [#7997](https://github.com/rust-lang/rust-clippy/pull/7997)\n+* [`suboptimal_flops`]: No longer triggers in constant functions\n+  [#8009](https://github.com/rust-lang/rust-clippy/pull/8009)\n+* [`type_complexity`]: No longer lints on associated types in traits\n+  [#8030](https://github.com/rust-lang/rust-clippy/pull/8030)\n+* [`question_mark`]: No longer lints if returned object is not local\n+  [#8080](https://github.com/rust-lang/rust-clippy/pull/8080)\n+* [`option_if_let_else`]: No longer lint on complex sub-patterns\n+  [#8086](https://github.com/rust-lang/rust-clippy/pull/8086)\n+* [`blocks_in_if_conditions`]: No longer lints on empty closures\n+  [#8100](https://github.com/rust-lang/rust-clippy/pull/8100)\n+* [`enum_variant_names`]: No longer lint when first prefix is only a substring\n+  of a camel-case word\n+  [#8127](https://github.com/rust-lang/rust-clippy/pull/8127)\n+* [`identity_op`]: Only lint on integral operands\n+  [#8183](https://github.com/rust-lang/rust-clippy/pull/8183)\n+\n+### Suggestion Fixes/Improvements\n+\n+* [`search_is_some`]: Fix suggestion for `any()` not taking item by reference\n+  [#7463](https://github.com/rust-lang/rust-clippy/pull/7463)\n+* [`almost_swapped`]: Now detects if there is a `no_std` or `no_core` attribute\n+  and adapts the suggestion accordingly\n+  [#7877](https://github.com/rust-lang/rust-clippy/pull/7877)\n+* [`redundant_pattern_matching`]: Fix suggestion for deref expressions\n+  [#7949](https://github.com/rust-lang/rust-clippy/pull/7949)\n+* [`explicit_counter_loop`]: Now also produces a suggestion for non-`usize`\n+  types [#7950](https://github.com/rust-lang/rust-clippy/pull/7950)\n+* [`manual_map`]: Fix suggestion when used with unsafe functions and blocks\n+  [#7968](https://github.com/rust-lang/rust-clippy/pull/7968)\n+* [`option_map_or_none`]: Suggest `map` over `and_then` when possible\n+  [#7971](https://github.com/rust-lang/rust-clippy/pull/7971)\n+* [`option_if_let_else`]: No longer expands macros in the suggestion\n+  [#7974](https://github.com/rust-lang/rust-clippy/pull/7974)\n+* [`iter_cloned_collect`]: Suggest `copied` over `cloned` when possible\n+  [#8006](https://github.com/rust-lang/rust-clippy/pull/8006)\n+* [`doc_markdown`]: No longer uses inline hints to improve readability of\n+  suggestion [#8011](https://github.com/rust-lang/rust-clippy/pull/8011)\n+* [`needless_question_mark`]: Now better explains the suggestion\n+  [#8028](https://github.com/rust-lang/rust-clippy/pull/8028)\n+* [`single_char_pattern`]: Escape backslash `\\` in suggestion\n+  [#8067](https://github.com/rust-lang/rust-clippy/pull/8067)\n+* [`needless_bool`]: Suggest `a != b` over `!(a == b)`\n+  [#8117](https://github.com/rust-lang/rust-clippy/pull/8117)\n+* [`iter_skip_next`]: Suggest to add a `mut` if it is necessary in order to\n+  apply this lints suggestion\n+  [#8133](https://github.com/rust-lang/rust-clippy/pull/8133)\n+* [`neg_multiply`]: Now produces a suggestion\n+  [#8144](https://github.com/rust-lang/rust-clippy/pull/8144)\n+* [`needless_return`]: Now suggests the unit type `()` over an empty block `{}`\n+  in match arms [#8185](https://github.com/rust-lang/rust-clippy/pull/8185)\n+* [`suboptimal_flops`]: Now gives a syntactically correct suggestion for\n+  `to_radians` and `to_degrees`\n+  [#8187](https://github.com/rust-lang/rust-clippy/pull/8187)\n+\n+### ICE Fixes\n+\n+* [`undocumented_unsafe_blocks`]\n+  [#7945](https://github.com/rust-lang/rust-clippy/pull/7945)\n+  [#7988](https://github.com/rust-lang/rust-clippy/pull/7988)\n+* [`unnecessary_cast`]\n+  [#8167](https://github.com/rust-lang/rust-clippy/pull/8167)\n+\n+### Documentation Improvements\n+\n+* [`print_stdout`], [`print_stderr`], [`dbg_macro`]: Document how the lint level\n+  can be changed crate-wide\n+  [#8040](https://github.com/rust-lang/rust-clippy/pull/8040)\n+* Added a note to the `README` that config changes don't apply to already\n+  compiled code [#8175](https://github.com/rust-lang/rust-clippy/pull/8175)\n+\n+### Others\n+\n+* [Clippy's lint\n+  list](https://rust-lang.github.io/rust-clippy/master/index.html) now displays\n+  the version a lint was added. :tada:\n+  [#7813](https://github.com/rust-lang/rust-clippy/pull/7813)\n+* New and improved issue templates\n+  [#8032](https://github.com/rust-lang/rust-clippy/pull/8032)\n+* _Dev:_ Add `cargo dev lint` command, to run your modified Clippy version on a\n+  file [#7917](https://github.com/rust-lang/rust-clippy/pull/7917)\n+\n+## Rust 1.58\n+\n+Current stable, released 2022-01-13\n \n [00e31fa...e181011](https://github.com/rust-lang/rust-clippy/compare/00e31fa...e181011)\n \n+### Rust 1.58.1\n+\n+* Move [`non_send_fields_in_send_ty`] to `nursery` (now allow-by-default)\n+  [#8075](https://github.com/rust-lang/rust-clippy/pull/8075)\n+* [`useless_format`]: Handle implicit named arguments\n+  [#8295](https://github.com/rust-lang/rust-clippy/pull/8295)\n+\n ### New lints\n \n * [`transmute_num_to_bytes`]\n@@ -124,7 +295,7 @@ Current beta, release 2022-01-13\n \n ## Rust 1.57\n \n-Current stable, released 2021-12-02\n+Released 2021-12-02\n \n [7bfc26e...00e31fa](https://github.com/rust-lang/rust-clippy/compare/7bfc26e...00e31fa)\n "}]}