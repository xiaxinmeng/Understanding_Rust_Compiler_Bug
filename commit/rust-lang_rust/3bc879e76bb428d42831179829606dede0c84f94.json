{"sha": "3bc879e76bb428d42831179829606dede0c84f94", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNiYzg3OWU3NmJiNDI4ZDQyODMxMTc5ODI5NjA2ZGVkZTBjODRmOTQ=", "commit": {"author": {"name": "Camelid", "email": "camelidcamel@gmail.com", "date": "2021-02-22T01:19:43Z"}, "committer": {"name": "Camelid", "email": "camelidcamel@gmail.com", "date": "2021-03-06T03:39:17Z"}, "message": "rustdoc: Add static size assertion for `Context`\n\nIt's cloned a lot, so we don't want it to grow in size unexpectedly.\n\nOnly run the assert on x86-64 since the size is architecture-dependent.", "tree": {"sha": "1391ed6b184097fdb53736905b3466f482778ee8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1391ed6b184097fdb53736905b3466f482778ee8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3bc879e76bb428d42831179829606dede0c84f94", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3bc879e76bb428d42831179829606dede0c84f94", "html_url": "https://github.com/rust-lang/rust/commit/3bc879e76bb428d42831179829606dede0c84f94", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3bc879e76bb428d42831179829606dede0c84f94/comments", "author": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "committer": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b3d2a371bb8c0bccbc07d3a29c79218495549509", "url": "https://api.github.com/repos/rust-lang/rust/commits/b3d2a371bb8c0bccbc07d3a29c79218495549509", "html_url": "https://github.com/rust-lang/rust/commit/b3d2a371bb8c0bccbc07d3a29c79218495549509"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "50d160ccd82fb30a0c6b4ec8302646f07c696159", "filename": "src/librustdoc/html/render/context.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3bc879e76bb428d42831179829606dede0c84f94/src%2Flibrustdoc%2Fhtml%2Frender%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3bc879e76bb428d42831179829606dede0c84f94/src%2Flibrustdoc%2Fhtml%2Frender%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fcontext.rs?ref=3bc879e76bb428d42831179829606dede0c84f94", "patch": "@@ -70,6 +70,10 @@ crate struct Context<'tcx> {\n     pub(super) cache: Rc<Cache>,\n }\n \n+// `Context` is cloned a lot, so we don't want the size to grow unexpectedly.\n+#[cfg(target_arch = \"x86_64\")]\n+rustc_data_structures::static_assert_size!(Context<'_>, 72);\n+\n impl<'tcx> Context<'tcx> {\n     pub(super) fn path(&self, filename: &str) -> PathBuf {\n         // We use splitn vs Path::extension here because we might get a filename"}]}