{"sha": "a20926a51add66ab67053843e244efb1a4d7ad76", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEyMDkyNmE1MWFkZDY2YWI2NzA1Mzg0M2UyNDRlZmIxYTRkN2FkNzY=", "commit": {"author": {"name": "Steven Fackler", "email": "sfackler@gmail.com", "date": "2014-12-06T23:33:33Z"}, "committer": {"name": "Steven Fackler", "email": "sfackler@gmail.com", "date": "2014-12-08T00:04:56Z"}, "message": "Mention expected in testing docs", "tree": {"sha": "f43d44ce75fe4385d11c8404e7f2f2e93567decd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f43d44ce75fe4385d11c8404e7f2f2e93567decd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a20926a51add66ab67053843e244efb1a4d7ad76", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a20926a51add66ab67053843e244efb1a4d7ad76", "html_url": "https://github.com/rust-lang/rust/commit/a20926a51add66ab67053843e244efb1a4d7ad76", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a20926a51add66ab67053843e244efb1a4d7ad76/comments", "author": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3246d4f36979658c61c9e2bcfe524b1d45b3257a", "url": "https://api.github.com/repos/rust-lang/rust/commits/3246d4f36979658c61c9e2bcfe524b1d45b3257a", "html_url": "https://github.com/rust-lang/rust/commit/3246d4f36979658c61c9e2bcfe524b1d45b3257a"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "f7cf5e5ac0019c9dd6e847625a2d8024b0e92d90", "filename": "src/doc/guide-testing.md", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/a20926a51add66ab67053843e244efb1a4d7ad76/src%2Fdoc%2Fguide-testing.md", "raw_url": "https://github.com/rust-lang/rust/raw/a20926a51add66ab67053843e244efb1a4d7ad76/src%2Fdoc%2Fguide-testing.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fguide-testing.md?ref=a20926a51add66ab67053843e244efb1a4d7ad76", "patch": "@@ -89,6 +89,21 @@ fn test_out_of_bounds_failure() {\n }\n ~~~\n \n+`#[should_fail]` tests can be fragile as it's hard to guarantee that the test\n+didn't fail for an unexpected reason. To help with this, an optional `expected`\n+parameter can be added to the `should_fail` attribute. The test harness will\n+make sure that the failure message contains the provided text. A safer version\n+of the example above would be:\n+\n+~~~test_harness\n+#[test]\n+#[should_fail(expected = \"index out of bounds\")]\n+fn test_out_of_bounds_failure() {\n+    let v: &[int] = &[];\n+    v[0];\n+}\n+~~~\n+\n A test runner built with the `--test` flag supports a limited set of\n arguments to control which tests are run:\n "}]}