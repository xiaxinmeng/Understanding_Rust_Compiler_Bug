{"sha": "a48cc80d5711412e1c1aecafebd51f9b485965f1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE0OGNjODBkNTcxMTQxMmUxYzFhZWNhZmViZDUxZjliNDg1OTY1ZjE=", "commit": {"author": {"name": "Corey Farwell", "email": "coreyf@rwell.org", "date": "2017-09-15T02:32:46Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-09-15T02:32:46Z"}, "message": "Rollup merge of #44534 - adlerd:drain_filter_doctest, r=bluss\n\nFix drain_filter doctest.\n\nFixes #44499.\n\nAlso change some of the hidden logic in the doctest as a regression test; two bugs in the original would now cause test failure.", "tree": {"sha": "7be75aca8c045f3aed16770b9da0c890d1efe8e2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7be75aca8c045f3aed16770b9da0c890d1efe8e2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a48cc80d5711412e1c1aecafebd51f9b485965f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a48cc80d5711412e1c1aecafebd51f9b485965f1", "html_url": "https://github.com/rust-lang/rust/commit/a48cc80d5711412e1c1aecafebd51f9b485965f1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a48cc80d5711412e1c1aecafebd51f9b485965f1/comments", "author": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50240f80f15bfce48aea1c270009936646a9f83e", "url": "https://api.github.com/repos/rust-lang/rust/commits/50240f80f15bfce48aea1c270009936646a9f83e", "html_url": "https://github.com/rust-lang/rust/commit/50240f80f15bfce48aea1c270009936646a9f83e"}, {"sha": "518bd3085413670d3f7ccbc77abb64a0cb4a198a", "url": "https://api.github.com/repos/rust-lang/rust/commits/518bd3085413670d3f7ccbc77abb64a0cb4a198a", "html_url": "https://github.com/rust-lang/rust/commit/518bd3085413670d3f7ccbc77abb64a0cb4a198a"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "caca401015698d523b2d9d75ef69f466851ed0de", "filename": "src/liballoc/vec.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a48cc80d5711412e1c1aecafebd51f9b485965f1/src%2Fliballoc%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a48cc80d5711412e1c1aecafebd51f9b485965f1/src%2Fliballoc%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fvec.rs?ref=a48cc80d5711412e1c1aecafebd51f9b485965f1", "patch": "@@ -1969,16 +1969,19 @@ impl<T> Vec<T> {\n     /// Using this method is equivalent to the following code:\n     ///\n     /// ```\n-    /// # let some_predicate = |x: &mut i32| { *x == 2 };\n-    /// # let mut vec = vec![1, 2, 3, 4, 5];\n+    /// # let some_predicate = |x: &mut i32| { *x == 2 || *x == 3 || *x == 6 };\n+    /// # let mut vec = vec![1, 2, 3, 4, 5, 6];\n     /// let mut i = 0;\n     /// while i != vec.len() {\n     ///     if some_predicate(&mut vec[i]) {\n     ///         let val = vec.remove(i);\n     ///         // your code here\n+    ///     } else {\n+    ///         i += 1;\n     ///     }\n-    ///     i += 1;\n     /// }\n+    ///\n+    /// # assert_eq!(vec, vec![1, 4, 5]);\n     /// ```\n     ///\n     /// But `drain_filter` is easier to use. `drain_filter` is also more efficient,"}]}