{"sha": "f78333e052d0aee0387695de9e115f34802fd928", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY3ODMzM2UwNTJkMGFlZTAzODc2OTVkZTllMTE1ZjM0ODAyZmQ5Mjg=", "commit": {"author": {"name": "Alisdair Owens", "email": "awo101@zepler.net", "date": "2015-07-18T17:42:00Z"}, "committer": {"name": "Alisdair Owens", "email": "awo101@zepler.net", "date": "2015-07-18T17:42:00Z"}, "message": "Add details on PhantomData", "tree": {"sha": "9a05c5c25fb5a8994fa91f49bc44be12370ef53a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9a05c5c25fb5a8994fa91f49bc44be12370ef53a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f78333e052d0aee0387695de9e115f34802fd928", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f78333e052d0aee0387695de9e115f34802fd928", "html_url": "https://github.com/rust-lang/rust/commit/f78333e052d0aee0387695de9e115f34802fd928", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f78333e052d0aee0387695de9e115f34802fd928/comments", "author": {"login": "AlisdairO", "id": 6296622, "node_id": "MDQ6VXNlcjYyOTY2MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/6296622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlisdairO", "html_url": "https://github.com/AlisdairO", "followers_url": "https://api.github.com/users/AlisdairO/followers", "following_url": "https://api.github.com/users/AlisdairO/following{/other_user}", "gists_url": "https://api.github.com/users/AlisdairO/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlisdairO/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlisdairO/subscriptions", "organizations_url": "https://api.github.com/users/AlisdairO/orgs", "repos_url": "https://api.github.com/users/AlisdairO/repos", "events_url": "https://api.github.com/users/AlisdairO/events{/privacy}", "received_events_url": "https://api.github.com/users/AlisdairO/received_events", "type": "User", "site_admin": false}, "committer": {"login": "AlisdairO", "id": 6296622, "node_id": "MDQ6VXNlcjYyOTY2MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/6296622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlisdairO", "html_url": "https://github.com/AlisdairO", "followers_url": "https://api.github.com/users/AlisdairO/followers", "following_url": "https://api.github.com/users/AlisdairO/following{/other_user}", "gists_url": "https://api.github.com/users/AlisdairO/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlisdairO/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlisdairO/subscriptions", "organizations_url": "https://api.github.com/users/AlisdairO/orgs", "repos_url": "https://api.github.com/users/AlisdairO/repos", "events_url": "https://api.github.com/users/AlisdairO/events{/privacy}", "received_events_url": "https://api.github.com/users/AlisdairO/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea79264ee422362428e5bd943a07f42ca885580c", "url": "https://api.github.com/repos/rust-lang/rust/commits/ea79264ee422362428e5bd943a07f42ca885580c", "html_url": "https://github.com/rust-lang/rust/commit/ea79264ee422362428e5bd943a07f42ca885580c"}], "stats": {"total": 45, "additions": 35, "deletions": 10}, "files": [{"sha": "d13b8e80f02aae50b842eb8099f1f5d969a69bcd", "filename": "src/librustc_typeck/diagnostics.rs", "status": "modified", "additions": 35, "deletions": 10, "changes": 45, "blob_url": "https://github.com/rust-lang/rust/blob/f78333e052d0aee0387695de9e115f34802fd928/src%2Flibrustc_typeck%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f78333e052d0aee0387695de9e115f34802fd928/src%2Flibrustc_typeck%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fdiagnostics.rs?ref=f78333e052d0aee0387695de9e115f34802fd928", "patch": "@@ -2112,38 +2112,63 @@ For more information see the [opt-in builtin traits RFC](https://github.com/rust\n \"##,\n \n E0392: r##\"\n-This error indicates that a type parameter has been declared but not actually\n-used.\n-\n-Here is an example that demonstrates the error:\n+This error indicates that a type or lifetime parameter has been declared\n+but not actually used.  Here is an example that demonstrates the error:\n \n ```\n enum Foo<T> {\n     Bar\n }\n ```\n \n-The first way to fix this error is by removing the type parameter, as\n-shown below:\n+If the type parameter was included by mistake, this error can be fixed\n+by simply removing the type parameter, as shown below:\n \n ```\n enum Foo {\n     Bar\n }\n ```\n \n-The second method is to actually make use of the type parameter:\n+Alternatively, if the type parameter was intentionally inserted, it must be\n+used. A simple fix is shown below:\n \n ```\n enum Foo<T> {\n     Bar(T)\n }\n ```\n \n-See the 'Type Parameters' section of the reference for more details\n-on this topic:\n+This error may also commonly be found when working with unsafe code.  For\n+example, when using raw pointers one may wish to specify the lifetime for\n+which the pointed-at data is valid.  An initial attempt (below) causes this\n+error:\n+\n+```\n+struct Foo<'a, T> {\n+    x: *const T\n+}\n+```\n+\n+We want to express the constraint that Foo should not outlive `'a`, because\n+the data pointed to by `T` is only valid for that lifetime.  The problem is\n+that there are no actual uses of `'a`.  It's possible to work around this\n+by adding a PhantomData type to the struct, using it to tell the compiler\n+to act as if the struct contained a borrowed reference `&'a T`:\n+\n+```\n+use std::marker::PhantomData;\n+\n+struct Foo<'a, T: 'a> {\n+    x: *const T,\n+    phantom: PhantomData<&'a T>\n+}\n+```\n+\n+PhantomData can also be used to express information about unused type parameters.\n+You can read more about it in the API documentation:\n \n-http://doc.rust-lang.org/reference.html#type-parameters-1\n+https://doc.rust-lang.org/std/marker/struct.PhantomData.html\n \"##\n \n }"}]}