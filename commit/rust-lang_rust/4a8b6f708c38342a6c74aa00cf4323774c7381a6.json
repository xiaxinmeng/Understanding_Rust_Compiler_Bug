{"sha": "4a8b6f708c38342a6c74aa00cf4323774c7381a6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhOGI2ZjcwOGMzODM0MmE2Yzc0YWEwMGNmNDMyMzc3NGM3MzgxYTY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-03-11T18:14:59Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-03-11T18:14:59Z"}, "message": "Auto merge of #82806 - nikic:memcpyopt-mssa, r=nagisa\n\nEnable MemorySSA in MemCpyOpt\n\nLLVM 12 ships with an implementation of MemCpyOpt which is based on MSSA instead of MDA. This implementation can eliminate memcpys across blocks, and as such fixes many (but not all) failures to eliminate redundant memcpys for Rust code. Unfortunately this was only enabled by default shortly after LLVM 12 was cut. This backports the enablement to our LLVM fork.\n\nPerf results: https://perf.rust-lang.org/compare.html?start=8fd946c63a6c3aae9788bd459d278cb2efa77099&end=0628b91ce17035fb5b6a1a99a4f2ab9ab69be7a8\n\nThere are improvements on check and debug builds, which indicate that rustc itself has become faster. For opt builds this is, on average, a very minor improvement as well, although there is one significant outlier with deep-vector-opt. This benchmark creates ~140000 zero stores, which are now coalesced into a memset slightly later, resulting in longer compile-time for intermediate passes.", "tree": {"sha": "de3803426f6d30d3b796923ab5122a4158c9d702", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/de3803426f6d30d3b796923ab5122a4158c9d702"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4a8b6f708c38342a6c74aa00cf4323774c7381a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4a8b6f708c38342a6c74aa00cf4323774c7381a6", "html_url": "https://github.com/rust-lang/rust/commit/4a8b6f708c38342a6c74aa00cf4323774c7381a6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4a8b6f708c38342a6c74aa00cf4323774c7381a6/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "61365c06250e2ba6e0a578ae990f055ac5339107", "url": "https://api.github.com/repos/rust-lang/rust/commits/61365c06250e2ba6e0a578ae990f055ac5339107", "html_url": "https://github.com/rust-lang/rust/commit/61365c06250e2ba6e0a578ae990f055ac5339107"}, {"sha": "623ca84ab78542f9e5785b7f3f75429c692adf2d", "url": "https://api.github.com/repos/rust-lang/rust/commits/623ca84ab78542f9e5785b7f3f75429c692adf2d", "html_url": "https://github.com/rust-lang/rust/commit/623ca84ab78542f9e5785b7f3f75429c692adf2d"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "5f958e150d377e608d2f1f208b86110218d5da3c", "filename": "src/llvm-project", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fllvm-project?ref=4a8b6f708c38342a6c74aa00cf4323774c7381a6", "patch": "@@ -1 +1 @@\n-Subproject commit bbf96c9f18aa47770c4f571f714d8641ddbe86e9\n+Subproject commit 5f958e150d377e608d2f1f208b86110218d5da3c"}]}