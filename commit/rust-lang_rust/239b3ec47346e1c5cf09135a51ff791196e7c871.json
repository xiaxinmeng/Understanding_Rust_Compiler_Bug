{"sha": "239b3ec47346e1c5cf09135a51ff791196e7c871", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIzOWIzZWM0NzM0NmUxYzVjZjA5MTM1YTUxZmY3OTExOTZlN2M4NzE=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-03-02T14:33:21Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-03-22T21:11:01Z"}, "message": "Changed location to at_self from at_successor.", "tree": {"sha": "416f26c4295c86ce1a3dc5b5e49b7a26b7978980", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/416f26c4295c86ce1a3dc5b5e49b7a26b7978980"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/239b3ec47346e1c5cf09135a51ff791196e7c871", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEWwgxPGhT5b/6kagXAXYLT59T8VQFAlq0G+UACgkQAXYLT59T\n8VRgfQ/+IKbYnHso72Xp77ufkltFmnsYnXRywpvYpdX2cyV9tgz5+MIBehbTjybT\nm7G0BwjzX3KjX7IBcDN3rjoGcYtCONJfnysNYErBku8CZhToqJxnd1WQOGUTGCYt\nQPia0gZ3xPLQxNsEGi0r2h5YcP+a2IgKa4tmMMj8gzDuhkv1ruv9t53ceZ1TKwoK\nZXbVYNkqNa/5XoDSfBvKIEEs7dTDX2fmavHn3xje+zw8oUdVopR4EP4qb4g8Vdvm\nvI+ZMb4+EQt1DLAOQjPugM5PlcUkhg4PE9p+f7h/kskLIldKe6cpADKv93SkKMt1\no7CO5bhSOyZEYz7X89ROUn7OcTErVAcAqN/vYGEbhHy75Q69xwMr9jne/43TLpm/\nskC/qrf9c336PVOgfLOMC09lIAXuzScC2b8Ajuc664k2pCa9f+j8fLXMgiwb7ZVk\ndYrBW6UTcT344e+MISBDDndF9B0O7eqaHYz5DsoAncbGiO+hmzM2M676W8iKIZ3W\nstM/tEJc0qAnAvyPcuIwu+Fx0gYE3+ULYg9p9pR/dYNi0jdlcIJuNX3LGHf0TObT\nQJmqlsP6ikzqYcYbpYInDkltXIiD313Mk3iN+Zh0wbCRDJjwmafQcO0aT4H9IEHE\n9DKs46l5Huz7xJyDIBsm5Z875qG8Gj7ASiu7PzAj5D0k8rOaBEk=\n=07ff\n-----END PGP SIGNATURE-----", "payload": "tree 416f26c4295c86ce1a3dc5b5e49b7a26b7978980\nparent 5f21aa8734d7d120ad2e09b2b3d7db6e313b3a63\nauthor David Wood <david@davidtw.co> 1520001201 +0000\ncommitter David Wood <david@davidtw.co> 1521753061 +0000\n\nChanged location to at_self from at_successor.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/239b3ec47346e1c5cf09135a51ff791196e7c871", "html_url": "https://github.com/rust-lang/rust/commit/239b3ec47346e1c5cf09135a51ff791196e7c871", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/239b3ec47346e1c5cf09135a51ff791196e7c871/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5f21aa8734d7d120ad2e09b2b3d7db6e313b3a63", "url": "https://api.github.com/repos/rust-lang/rust/commits/5f21aa8734d7d120ad2e09b2b3d7db6e313b3a63", "html_url": "https://github.com/rust-lang/rust/commit/5f21aa8734d7d120ad2e09b2b3d7db6e313b3a63"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "2c06c93cd9d24ebaffc19cb0712d629600e53db0", "filename": "src/librustc_mir/borrow_check/nll/type_check/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/239b3ec47346e1c5cf09135a51ff791196e7c871/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ftype_check%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/239b3ec47346e1c5cf09135a51ff791196e7c871/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ftype_check%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ftype_check%2Fmod.rs?ref=239b3ec47346e1c5cf09135a51ff791196e7c871", "patch": "@@ -765,7 +765,7 @@ impl<'a, 'gcx, 'tcx> TypeChecker<'a, 'gcx, 'tcx> {\n                 let local_ty = mir.local_decls()[*local].ty;\n                 debug!(\"check_stmt: user_assert_ty ty={:?} local_ty={:?}\", ty, local_ty);\n                 if let Err(terr) =\n-                    self.eq_types(ty, local_ty, location.at_successor_within_block())\n+                    self.eq_types(ty, local_ty, location.at_self())\n                 {\n                     span_mirbug!(\n                         self,"}]}