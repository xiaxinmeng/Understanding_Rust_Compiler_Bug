{"sha": "407541552b4970d18a7c15ec3b1de792bbbef54b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQwNzU0MTU1MmI0OTcwZDE4YTdjMTVlYzNiMWRlNzkyYmJiZWY1NGI=", "commit": {"author": {"name": "Yuki OKUSHI", "email": "huyuumi.dev@gmail.com", "date": "2019-04-15T22:32:29Z"}, "committer": {"name": "Yuki OKUSHI", "email": "huyuumi.dev@gmail.com", "date": "2019-04-15T22:32:29Z"}, "message": "Fix tests", "tree": {"sha": "996ecd2d4cf5ca0de0b8aea74b6a8e8eb6ed01ed", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/996ecd2d4cf5ca0de0b8aea74b6a8e8eb6ed01ed"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/407541552b4970d18a7c15ec3b1de792bbbef54b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/407541552b4970d18a7c15ec3b1de792bbbef54b", "html_url": "https://github.com/rust-lang/rust/commit/407541552b4970d18a7c15ec3b1de792bbbef54b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/407541552b4970d18a7c15ec3b1de792bbbef54b/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dce86f9dd53a81487cd0914c59ec8f012473717d", "url": "https://api.github.com/repos/rust-lang/rust/commits/dce86f9dd53a81487cd0914c59ec8f012473717d", "html_url": "https://github.com/rust-lang/rust/commit/dce86f9dd53a81487cd0914c59ec8f012473717d"}], "stats": {"total": 37, "additions": 19, "deletions": 18}, "files": [{"sha": "759d9ab6a408137aa619f5109eedbc7165bf0446", "filename": "src/test/ui/consts/min_const_fn/min_const_fn_libstd_stability.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_libstd_stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_libstd_stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_libstd_stability.rs?ref=407541552b4970d18a7c15ec3b1de792bbbef54b", "patch": "@@ -12,14 +12,14 @@ const fn foo() -> u32 { 42 }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // can't call non-min_const_fn\n-const fn bar() -> u32 { foo() } //~ ERROR can only call other `const`\n+const fn bar() -> u32 { foo() } //~ ERROR can only call other `const fn`\n \n #[unstable(feature = \"rust1\", issue=\"0\")]\n const fn foo2() -> u32 { 42 }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // can't call non-min_const_fn\n-const fn bar2() -> u32 { foo2() } //~ ERROR can only call other `const`\n+const fn bar2() -> u32 { foo2() } //~ ERROR can only call other `const fn`\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // conformity is required, even with `const_fn` feature gate\n@@ -31,6 +31,6 @@ const fn foo2_gated() -> u32 { 42 }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // can't call non-min_const_fn\n-const fn bar2_gated() -> u32 { foo2_gated() } //~ ERROR can only call other `const`\n+const fn bar2_gated() -> u32 { foo2_gated() } //~ ERROR can only call other `const fn`\n \n fn main() {}"}, {"sha": "c73eda9ab9fc19e54342d20865d741f34683e670", "filename": "src/test/ui/consts/min_const_fn/min_const_fn_libstd_stability.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_libstd_stability.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_libstd_stability.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_libstd_stability.stderr?ref=407541552b4970d18a7c15ec3b1de792bbbef54b", "patch": "@@ -1,12 +1,12 @@\n-error[E0723]: can only call other `const` within a `const` (see issue #57563)\n+error[E0723]: can only call other `const fn` within a `const fn`, but `const foo` is not stable as `const fn` (see issue #57563)\n   --> $DIR/min_const_fn_libstd_stability.rs:15:25\n    |\n LL | const fn bar() -> u32 { foo() }\n    |                         ^^^^^\n    |\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: can only call other `const` within a `const` (see issue #57563)\n+error[E0723]: can only call other `const fn` within a `const fn`, but `const foo2` is not stable as `const fn` (see issue #57563)\n   --> $DIR/min_const_fn_libstd_stability.rs:22:26\n    |\n LL | const fn bar2() -> u32 { foo2() }\n@@ -22,7 +22,7 @@ LL | const fn bar3() -> u32 { (5f32 + 6f32) as u32 }\n    |\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: can only call other `const` within a `const` (see issue #57563)\n+error[E0723]: can only call other `const fn` within a `const fn`, but `const foo2_gated` is not stable as `const fn` (see issue #57563)\n   --> $DIR/min_const_fn_libstd_stability.rs:34:32\n    |\n LL | const fn bar2_gated() -> u32 { foo2_gated() }"}, {"sha": "64057b012b8dffaf047ef1aef90a6934dcdf0fda", "filename": "src/test/ui/consts/min_const_fn/min_const_unsafe_fn_libstd_stability.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability.rs?ref=407541552b4970d18a7c15ec3b1de792bbbef54b", "patch": "@@ -12,14 +12,14 @@ const unsafe fn foo() -> u32 { 42 }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // can't call non-min_const_fn\n-const unsafe fn bar() -> u32 { unsafe { foo() } } //~ ERROR can only call other `const`\n+const unsafe fn bar() -> u32 { unsafe { foo() } } //~ ERROR can only call other `const fn`\n \n #[unstable(feature = \"rust1\", issue=\"0\")]\n const unsafe fn foo2() -> u32 { 42 }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // can't call non-min_const_fn\n-const unsafe fn bar2() -> u32 { unsafe { foo2() } } //~ ERROR can only call other `const`\n+const unsafe fn bar2() -> u32 { unsafe { foo2() } } //~ ERROR can only call other `const fn`\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // conformity is required, even with `const_fn` feature gate\n@@ -31,6 +31,7 @@ const unsafe fn foo2_gated() -> u32 { 42 }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // can't call non-min_const_fn\n-const unsafe fn bar2_gated() -> u32 { unsafe { foo2_gated() } } //~ ERROR can only call other\n+const unsafe fn bar2_gated() -> u32 { unsafe { foo2_gated() } }\n+//~^ ERROR can only call other `const fn`\n \n fn main() {}"}, {"sha": "87b572dcc46f3cc4bbc41957d4c4639e597bad3f", "filename": "src/test/ui/consts/min_const_fn/min_const_unsafe_fn_libstd_stability.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability.stderr?ref=407541552b4970d18a7c15ec3b1de792bbbef54b", "patch": "@@ -1,12 +1,12 @@\n-error[E0723]: can only call other `const` within a `const` (see issue #57563)\n+error[E0723]: can only call other `const fn` within a `const fn`, but `const foo` is not stable as `const fn` (see issue #57563)\n   --> $DIR/min_const_unsafe_fn_libstd_stability.rs:15:41\n    |\n LL | const unsafe fn bar() -> u32 { unsafe { foo() } }\n    |                                         ^^^^^\n    |\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: can only call other `const` within a `const` (see issue #57563)\n+error[E0723]: can only call other `const fn` within a `const fn`, but `const foo2` is not stable as `const fn` (see issue #57563)\n   --> $DIR/min_const_unsafe_fn_libstd_stability.rs:22:42\n    |\n LL | const unsafe fn bar2() -> u32 { unsafe { foo2() } }\n@@ -22,7 +22,7 @@ LL | const unsafe fn bar3() -> u32 { (5f32 + 6f32) as u32 }\n    |\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: can only call other `const` within a `const` (see issue #57563)\n+error[E0723]: can only call other `const fn` within a `const fn`, but `const foo2_gated` is not stable as `const fn` (see issue #57563)\n   --> $DIR/min_const_unsafe_fn_libstd_stability.rs:34:48\n    |\n LL | const unsafe fn bar2_gated() -> u32 { unsafe { foo2_gated() } }"}, {"sha": "deb2cb6b619bbe7369284ae124a965d31959e439", "filename": "src/test/ui/consts/min_const_fn/min_const_unsafe_fn_libstd_stability2.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability2.rs?ref=407541552b4970d18a7c15ec3b1de792bbbef54b", "patch": "@@ -12,21 +12,21 @@ const fn foo() -> u32 { 42 }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // can't call non-min_const_fn\n-const unsafe fn bar() -> u32 { foo() } //~ ERROR can only call other `const`\n+const unsafe fn bar() -> u32 { foo() } //~ ERROR can only call other `const fn`\n \n #[unstable(feature = \"rust1\", issue=\"0\")]\n const fn foo2() -> u32 { 42 }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // can't call non-min_const_fn\n-const unsafe fn bar2() -> u32 { foo2() } //~ ERROR can only call other `const`\n+const unsafe fn bar2() -> u32 { foo2() } //~ ERROR can only call other `const fn`\n \n // check whether this function cannot be called even with the feature gate active\n #[unstable(feature = \"foo2\", issue=\"0\")]\n const fn foo2_gated() -> u32 { 42 }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n // can't call non-min_const_fn\n-const unsafe fn bar2_gated() -> u32 { foo2_gated() } //~ ERROR can only call other `const`\n+const unsafe fn bar2_gated() -> u32 { foo2_gated() } //~ ERROR can only call other `const fn`\n \n fn main() {}"}, {"sha": "5fddc119758844fd3c46308cde24b621a7715847", "filename": "src/test/ui/consts/min_const_fn/min_const_unsafe_fn_libstd_stability2.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/407541552b4970d18a7c15ec3b1de792bbbef54b/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability2.stderr?ref=407541552b4970d18a7c15ec3b1de792bbbef54b", "patch": "@@ -1,20 +1,20 @@\n-error[E0723]: can only call other `const` within a `const` (see issue #57563)\n+error[E0723]: can only call other `const fn` within a `const fn`, but `const foo` is not stable as `const fn` (see issue #57563)\n   --> $DIR/min_const_unsafe_fn_libstd_stability2.rs:15:32\n    |\n LL | const unsafe fn bar() -> u32 { foo() }\n    |                                ^^^^^\n    |\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: can only call other `const` within a `const` (see issue #57563)\n+error[E0723]: can only call other `const fn` within a `const fn`, but `const foo2` is not stable as `const fn` (see issue #57563)\n   --> $DIR/min_const_unsafe_fn_libstd_stability2.rs:22:33\n    |\n LL | const unsafe fn bar2() -> u32 { foo2() }\n    |                                 ^^^^^^\n    |\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: can only call other `const` within a `const` (see issue #57563)\n+error[E0723]: can only call other `const fn` within a `const fn`, but `const foo2_gated` is not stable as `const fn` (see issue #57563)\n   --> $DIR/min_const_unsafe_fn_libstd_stability2.rs:30:39\n    |\n LL | const unsafe fn bar2_gated() -> u32 { foo2_gated() }"}]}