{"sha": "717a91d6651598994834d056c69e6c4bf2b74b9f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcxN2E5MWQ2NjUxNTk4OTk0ODM0ZDA1NmM2OWU2YzRiZjJiNzRiOWY=", "commit": {"author": {"name": "Ivan Petkov", "email": "ivanppetkov@gmail.com", "date": "2015-02-23T19:07:37Z"}, "committer": {"name": "Ivan Petkov", "email": "ivanppetkov@gmail.com", "date": "2015-02-23T19:07:37Z"}, "message": "Update missing-docs lint to check associated type declarations\n\n[breaking-change]\n\nFixes #20648", "tree": {"sha": "24ff34e30e31684f57b4f6ef426d47ee9091b77e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/24ff34e30e31684f57b4f6ef426d47ee9091b77e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/717a91d6651598994834d056c69e6c4bf2b74b9f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/717a91d6651598994834d056c69e6c4bf2b74b9f", "html_url": "https://github.com/rust-lang/rust/commit/717a91d6651598994834d056c69e6c4bf2b74b9f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/717a91d6651598994834d056c69e6c4bf2b74b9f/comments", "author": {"login": "ipetkov", "id": 1638690, "node_id": "MDQ6VXNlcjE2Mzg2OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1638690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ipetkov", "html_url": "https://github.com/ipetkov", "followers_url": "https://api.github.com/users/ipetkov/followers", "following_url": "https://api.github.com/users/ipetkov/following{/other_user}", "gists_url": "https://api.github.com/users/ipetkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ipetkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ipetkov/subscriptions", "organizations_url": "https://api.github.com/users/ipetkov/orgs", "repos_url": "https://api.github.com/users/ipetkov/repos", "events_url": "https://api.github.com/users/ipetkov/events{/privacy}", "received_events_url": "https://api.github.com/users/ipetkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ipetkov", "id": 1638690, "node_id": "MDQ6VXNlcjE2Mzg2OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1638690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ipetkov", "html_url": "https://github.com/ipetkov", "followers_url": "https://api.github.com/users/ipetkov/followers", "following_url": "https://api.github.com/users/ipetkov/following{/other_user}", "gists_url": "https://api.github.com/users/ipetkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ipetkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ipetkov/subscriptions", "organizations_url": "https://api.github.com/users/ipetkov/orgs", "repos_url": "https://api.github.com/users/ipetkov/repos", "events_url": "https://api.github.com/users/ipetkov/events{/privacy}", "received_events_url": "https://api.github.com/users/ipetkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dab394c2db5d62dce64ac13af35bb2f18357c9d8", "url": "https://api.github.com/repos/rust-lang/rust/commits/dab394c2db5d62dce64ac13af35bb2f18357c9d8", "html_url": "https://github.com/rust-lang/rust/commit/dab394c2db5d62dce64ac13af35bb2f18357c9d8"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "66799adef2afda74434d2c509fb89c7d52f86e89", "filename": "src/librustc/lint/builtin.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/717a91d6651598994834d056c69e6c4bf2b74b9f/src%2Flibrustc%2Flint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/717a91d6651598994834d056c69e6c4bf2b74b9f/src%2Flibrustc%2Flint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Fbuiltin.rs?ref=717a91d6651598994834d056c69e6c4bf2b74b9f", "patch": "@@ -1577,6 +1577,14 @@ impl LintPass for MissingDoc {\n                                      tm.span, \"a type method\");\n     }\n \n+    fn check_trait_method(&mut self, cx: &Context, it: &ast::TraitItem) {\n+        if let ast::TraitItem::TypeTraitItem(ref ty) = *it {\n+            let assoc_ty = &ty.ty_param;\n+            self.check_missing_docs_attrs(cx, Some(assoc_ty.id), &ty.attrs,\n+                                          assoc_ty.span, \"an associated type\");\n+        }\n+    }\n+\n     fn check_struct_field(&mut self, cx: &Context, sf: &ast::StructField) {\n         if let ast::NamedField(_, vis) = sf.node.kind {\n             if vis == ast::Public || self.in_variant {"}, {"sha": "f5ce85ab325d7a94d6d771db7e658fdc8192154e", "filename": "src/test/compile-fail/lint-missing-doc.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/717a91d6651598994834d056c69e6c4bf2b74b9f/src%2Ftest%2Fcompile-fail%2Flint-missing-doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/717a91d6651598994834d056c69e6c4bf2b74b9f/src%2Ftest%2Fcompile-fail%2Flint-missing-doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-missing-doc.rs?ref=717a91d6651598994834d056c69e6c4bf2b74b9f", "patch": "@@ -68,6 +68,19 @@ pub trait D {\n     fn dummy(&self) { }\n }\n \n+/// dox\n+pub trait E {\n+    type AssociatedType; //~ ERROR: missing documentation\n+    type AssociatedTypeDef = Self; //~ ERROR: missing documentation\n+\n+    /// dox\n+    type DocumentedType;\n+    /// dox\n+    type DocumentedTypeDef = Self;\n+    /// dox\n+    fn dummy(&self) {}\n+}\n+\n impl Foo {\n     pub fn foo() {}\n     fn bar() {}"}]}