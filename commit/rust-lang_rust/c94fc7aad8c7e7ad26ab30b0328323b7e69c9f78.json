{"sha": "c94fc7aad8c7e7ad26ab30b0328323b7e69c9f78", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM5NGZjN2FhZDhjN2U3YWQyNmFiMzBiMDMyODMyM2I3ZTY5YzlmNzg=", "commit": {"author": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-07-14T00:19:36Z"}, "committer": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-07-14T00:21:17Z"}, "message": "Small cleanups that were missing in the last patch.", "tree": {"sha": "48694d8c6bbc79f87c171f48b86e388d17d75fc3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/48694d8c6bbc79f87c171f48b86e388d17d75fc3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c94fc7aad8c7e7ad26ab30b0328323b7e69c9f78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c94fc7aad8c7e7ad26ab30b0328323b7e69c9f78", "html_url": "https://github.com/rust-lang/rust/commit/c94fc7aad8c7e7ad26ab30b0328323b7e69c9f78", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c94fc7aad8c7e7ad26ab30b0328323b7e69c9f78/comments", "author": null, "committer": null, "parents": [{"sha": "b9635df6fef51f9611ecc9fbb6c3edb71a968286", "url": "https://api.github.com/repos/rust-lang/rust/commits/b9635df6fef51f9611ecc9fbb6c3edb71a968286", "html_url": "https://github.com/rust-lang/rust/commit/b9635df6fef51f9611ecc9fbb6c3edb71a968286"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "f5894ece83e7608946a0bd41a6c653d943009037", "filename": "src/comp/middle/trans.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/c94fc7aad8c7e7ad26ab30b0328323b7e69c9f78/src%2Fcomp%2Fmiddle%2Ftrans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c94fc7aad8c7e7ad26ab30b0328323b7e69c9f78/src%2Fcomp%2Fmiddle%2Ftrans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans.rs?ref=c94fc7aad8c7e7ad26ab30b0328323b7e69c9f78", "patch": "@@ -478,8 +478,7 @@ fn T_struct(&TypeRef[] elts) -> TypeRef {\n \n fn T_opaque() -> TypeRef { ret llvm::LLVMOpaqueType(); }\n \n-fn T_task2() -> TypeRef {\n-    auto s = \"task\";\n+fn T_task() -> TypeRef {\n     auto t =\n         T_struct(~[T_int(), // Refcount\n                    T_int(), // Delegate pointer\n@@ -9085,7 +9084,7 @@ fn make_common_glue(&session::session sess, &str output) {\n     // FIXME: part of this is repetitive and is probably a good idea\n     // to autogen it.\n \n-    auto task_type = T_task2();\n+    auto task_type = T_task();\n     auto taskptr_type = T_ptr(task_type);\n \n     auto llmod =\n@@ -9171,7 +9170,7 @@ fn trans_crate(&session::session sess, &@ast::crate crate, &ty::ctxt tcx,\n     auto td = mk_target_data(x86::get_data_layout());\n     auto tn = mk_type_names();\n     auto intrinsics = declare_intrinsics(llmod);\n-    auto task_type = T_task2();\n+    auto task_type = T_task();\n     auto taskptr_type = T_ptr(task_type);\n     auto tydesc_type = T_tydesc(taskptr_type);\n     auto glues = make_glues(llmod, taskptr_type);"}]}