{"sha": "d97c800e3179604db82e35bff682ea1ed6ec3909", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ5N2M4MDBlMzE3OTYwNGRiODJlMzViZmY2ODJlYTFlZDZlYzM5MDk=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-03-05T20:05:02Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-03-05T20:05:02Z"}, "message": "Make ret and fail stmts have 0 out-edges, Closes #250.", "tree": {"sha": "2e2626267568eedc209da557d1e887afd5ec2459", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2e2626267568eedc209da557d1e887afd5ec2459"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d97c800e3179604db82e35bff682ea1ed6ec3909", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d97c800e3179604db82e35bff682ea1ed6ec3909", "html_url": "https://github.com/rust-lang/rust/commit/d97c800e3179604db82e35bff682ea1ed6ec3909", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d97c800e3179604db82e35bff682ea1ed6ec3909/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "94b681afe4f8fb09141d459963b268c76fbd0072", "url": "https://api.github.com/repos/rust-lang/rust/commits/94b681afe4f8fb09141d459963b268c76fbd0072", "html_url": "https://github.com/rust-lang/rust/commit/94b681afe4f8fb09141d459963b268c76fbd0072"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "8b7840a2837d9ef06d5c27bf1d2f054c5294afd7", "filename": "src/boot/me/typestate.ml", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/d97c800e3179604db82e35bff682ea1ed6ec3909/src%2Fboot%2Fme%2Ftypestate.ml", "raw_url": "https://github.com/rust-lang/rust/raw/d97c800e3179604db82e35bff682ea1ed6ec3909/src%2Fboot%2Fme%2Ftypestate.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Ftypestate.ml?ref=d97c800e3179604db82e35bff682ea1ed6ec3909", "patch": "@@ -865,6 +865,11 @@ let rec build_flow_graph_for_stmt\n         | Ast.STMT_block b ->\n             blk predecessors b\n \n+        | Ast.STMT_fail\n+        | Ast.STMT_ret _ ->\n+            connect predecessors [s.id];\n+            []\n+\n         | _ ->\n             connect predecessors [s.id];\n             [s.id]"}, {"sha": "0e15e3d8c35bf526642a6ac13613d77c381bc5cf", "filename": "src/comp/front/lexer.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/d97c800e3179604db82e35bff682ea1ed6ec3909/src%2Fcomp%2Ffront%2Flexer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d97c800e3179604db82e35bff682ea1ed6ec3909/src%2Fcomp%2Ffront%2Flexer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Flexer.rs?ref=d97c800e3179604db82e35bff682ea1ed6ec3909", "patch": "@@ -665,12 +665,9 @@ impure fn next_token(reader rdr) -> token.token {\n         case ('%') {\n             ret binop(rdr, token.PERCENT);\n         }\n-\n     }\n \n-    log \"lexer stopping at \";\n-    log c;\n-    ret token.EOF;\n+    fail;\n }\n \n "}, {"sha": "935f426b74f34dc8da3442ff003d63836692ee1f", "filename": "src/comp/middle/fold.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d97c800e3179604db82e35bff682ea1ed6ec3909/src%2Fcomp%2Fmiddle%2Ffold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d97c800e3179604db82e35bff682ea1ed6ec3909/src%2Fcomp%2Fmiddle%2Ffold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ffold.rs?ref=d97c800e3179604db82e35bff682ea1ed6ec3909", "patch": "@@ -701,7 +701,7 @@ fn fold_expr[ENV](&ENV env, ast_fold[ENV] fld, &@expr e) -> @expr {\n \n     }\n \n-    ret e;\n+    fail;\n }\n \n \n@@ -724,7 +724,7 @@ fn fold_stmt[ENV](&ENV env, ast_fold[ENV] fld, &@stmt s) -> @stmt {\n             ret fld.fold_stmt_expr(env_, s.span, ee);\n         }\n     }\n-    ret s;\n+    fail;\n }\n \n fn fold_block[ENV](&ENV env, ast_fold[ENV] fld, &block blk) -> block {"}, {"sha": "0b6ef53bf6d3655e55bc339d5e4a5307e33ed2ef", "filename": "src/comp/middle/ty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d97c800e3179604db82e35bff682ea1ed6ec3909/src%2Fcomp%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d97c800e3179604db82e35bff682ea1ed6ec3909/src%2Fcomp%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Fty.rs?ref=d97c800e3179604db82e35bff682ea1ed6ec3909", "patch": "@@ -373,7 +373,7 @@ fn fold_ty(ty_fold fld, @t ty) -> @t {\n         case (ty_param(_))      { ret fld.fold_simple_ty(ty); }\n     }\n \n-    ret ty;\n+    fail;\n }\n \n // Type utilities"}]}