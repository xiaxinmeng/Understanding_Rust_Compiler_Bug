{"sha": "34b428cc5e4b37ecd44063547f73fd1b05bf2b9e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM0YjQyOGNjNWU0YjM3ZWNkNDQwNjM1NDdmNzNmZDFiMDViZjJiOWU=", "commit": {"author": {"name": "Igor Matuszewski", "email": "Xanewok@gmail.com", "date": "2019-03-18T21:51:01Z"}, "committer": {"name": "Igor Matuszewski", "email": "Xanewok@gmail.com", "date": "2019-03-18T21:51:01Z"}, "message": "Appease CI", "tree": {"sha": "a6fd5669791ec2c1ed9c23bd3dcf60818630fac6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a6fd5669791ec2c1ed9c23bd3dcf60818630fac6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/34b428cc5e4b37ecd44063547f73fd1b05bf2b9e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/34b428cc5e4b37ecd44063547f73fd1b05bf2b9e", "html_url": "https://github.com/rust-lang/rust/commit/34b428cc5e4b37ecd44063547f73fd1b05bf2b9e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/34b428cc5e4b37ecd44063547f73fd1b05bf2b9e/comments", "author": {"login": "Xanewok", "id": 3093213, "node_id": "MDQ6VXNlcjMwOTMyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/3093213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xanewok", "html_url": "https://github.com/Xanewok", "followers_url": "https://api.github.com/users/Xanewok/followers", "following_url": "https://api.github.com/users/Xanewok/following{/other_user}", "gists_url": "https://api.github.com/users/Xanewok/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xanewok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xanewok/subscriptions", "organizations_url": "https://api.github.com/users/Xanewok/orgs", "repos_url": "https://api.github.com/users/Xanewok/repos", "events_url": "https://api.github.com/users/Xanewok/events{/privacy}", "received_events_url": "https://api.github.com/users/Xanewok/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Xanewok", "id": 3093213, "node_id": "MDQ6VXNlcjMwOTMyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/3093213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xanewok", "html_url": "https://github.com/Xanewok", "followers_url": "https://api.github.com/users/Xanewok/followers", "following_url": "https://api.github.com/users/Xanewok/following{/other_user}", "gists_url": "https://api.github.com/users/Xanewok/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xanewok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xanewok/subscriptions", "organizations_url": "https://api.github.com/users/Xanewok/orgs", "repos_url": "https://api.github.com/users/Xanewok/repos", "events_url": "https://api.github.com/users/Xanewok/events{/privacy}", "received_events_url": "https://api.github.com/users/Xanewok/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c2595c26820917fa9ad1b1c36f01fc6ac979287", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c2595c26820917fa9ad1b1c36f01fc6ac979287", "html_url": "https://github.com/rust-lang/rust/commit/7c2595c26820917fa9ad1b1c36f01fc6ac979287"}], "stats": {"total": 16, "additions": 7, "deletions": 9}, "files": [{"sha": "ea2883ad4c4002961a71370f5e95b8f4d5c701ce", "filename": "editors/code/src/commands/runnables.ts", "status": "modified", "additions": 7, "deletions": 9, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/34b428cc5e4b37ecd44063547f73fd1b05bf2b9e/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts", "raw_url": "https://github.com/rust-lang/rust/raw/34b428cc5e4b37ecd44063547f73fd1b05bf2b9e/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts?ref=34b428cc5e4b37ecd44063547f73fd1b05bf2b9e", "patch": "@@ -1,4 +1,4 @@\n-import { exec } from 'child_process';\n+import * as child_process from 'child_process';\n import * as util from 'util';\n import * as vscode from 'vscode';\n import * as lc from 'vscode-languageclient';\n@@ -157,7 +157,7 @@ export async function interactivelyStartCargoWatch() {\n         return;\n     }\n \n-    const execAsync = util.promisify(exec);\n+    const execPromise = util.promisify(child_process.exec);\n \n     const watch = await vscode.window.showInformationMessage(\n         'Start watching changes with cargo? (Executes `cargo watch`, provides inline diagnostics)',\n@@ -168,7 +168,7 @@ export async function interactivelyStartCargoWatch() {\n         return;\n     }\n \n-    const { stderr } = await execAsync('cargo watch --version').catch(e => e);\n+    const { stderr } = await execPromise('cargo watch --version').catch(e => e);\n     if (stderr.includes('no such subcommand: `watch`')) {\n         const msg =\n             'The `cargo-watch` subcommand is not installed. Install? (takes ~1-2 minutes)';\n@@ -183,7 +183,7 @@ export async function interactivelyStartCargoWatch() {\n \n         const label = 'install-cargo-watch';\n         const taskFinished = new Promise((resolve, reject) => {\n-            let disposable = vscode.tasks.onDidEndTask(({ execution }) => {\n+            const disposable = vscode.tasks.onDidEndTask(({ execution }) => {\n                 if (execution.task.name === label) {\n                     disposable.dispose();\n                     resolve();\n@@ -200,12 +200,10 @@ export async function interactivelyStartCargoWatch() {\n             })\n         );\n         await taskFinished;\n-        const { stderr } = await execAsync('cargo watch --version').catch(\n-            e => e\n-        );\n-        if (stderr !== '') {\n+        const output = await execPromise('cargo watch --version').catch(e => e);\n+        if (output.stderr !== '') {\n             vscode.window.showErrorMessage(\n-                `Couldn't install \\`cargo-\\`watch: ${stderr}`\n+                `Couldn't install \\`cargo-\\`watch: ${output.stderr}`\n             );\n             return;\n         }"}]}