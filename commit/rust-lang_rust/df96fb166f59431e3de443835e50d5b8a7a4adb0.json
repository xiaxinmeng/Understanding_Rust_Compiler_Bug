{"sha": "df96fb166f59431e3de443835e50d5b8a7a4adb0", "node_id": "C_kwDOAAsO6NoAKGRmOTZmYjE2NmY1OTQzMWUzZGU0NDM4MzVlNTBkNWI4YTdhNGFkYjA", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-12-29T16:07:22Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-12-29T16:07:22Z"}, "message": "Auto merge of #92309 - ehuss:remove-check_lines, r=Mark-Simulacrum\n\ncompiletest: Remove some vestigial code\n\nThe `check_lines` header is no longer parsed as a header, but instead inside the debuginfo tests. I believe this was changed in #13726.", "tree": {"sha": "0a0f76eeeaea023e599d98cf4bf148d68c89f345", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0a0f76eeeaea023e599d98cf4bf148d68c89f345"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/df96fb166f59431e3de443835e50d5b8a7a4adb0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/df96fb166f59431e3de443835e50d5b8a7a4adb0", "html_url": "https://github.com/rust-lang/rust/commit/df96fb166f59431e3de443835e50d5b8a7a4adb0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/df96fb166f59431e3de443835e50d5b8a7a4adb0/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2b67c30bfece00357d5fc09d99b49f21066f04ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/2b67c30bfece00357d5fc09d99b49f21066f04ba", "html_url": "https://github.com/rust-lang/rust/commit/2b67c30bfece00357d5fc09d99b49f21066f04ba"}, {"sha": "4d6bb4d8816db9bb2c5a519eef4692d48dde4e76", "url": "https://api.github.com/repos/rust-lang/rust/commits/4d6bb4d8816db9bb2c5a519eef4692d48dde4e76", "html_url": "https://github.com/rust-lang/rust/commit/4d6bb4d8816db9bb2c5a519eef4692d48dde4e76"}], "stats": {"total": 11, "additions": 0, "deletions": 11}, "files": [{"sha": "27d59bc01f22a23f8a876862709df4ae464d8f69", "filename": "src/tools/compiletest/src/header.rs", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/df96fb166f59431e3de443835e50d5b8a7a4adb0/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/df96fb166f59431e3de443835e50d5b8a7a4adb0/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs?ref=df96fb166f59431e3de443835e50d5b8a7a4adb0", "patch": "@@ -78,8 +78,6 @@ pub struct TestProps {\n     pub unset_rustc_env: Vec<String>,\n     // Environment settings to use during execution\n     pub exec_env: Vec<(String, String)>,\n-    // Lines to check if they appear in the expected debugger output\n-    pub check_lines: Vec<String>,\n     // Build documentation for all specified aux-builds as well\n     pub build_aux_docs: bool,\n     // Flag to force a crate to be built with the host architecture\n@@ -165,7 +163,6 @@ impl TestProps {\n             rustc_env: vec![],\n             unset_rustc_env: vec![],\n             exec_env: vec![],\n-            check_lines: vec![],\n             build_aux_docs: false,\n             force_host: false,\n             check_stdout: false,\n@@ -318,10 +315,6 @@ impl TestProps {\n                     self.unset_rustc_env.push(ev);\n                 }\n \n-                if let Some(cl) = config.parse_check_line(ln) {\n-                    self.check_lines.push(cl);\n-                }\n-\n                 if let Some(of) = config.parse_forbid_output(ln) {\n                     self.forbid_output.push(of);\n                 }\n@@ -555,10 +548,6 @@ impl Config {\n         self.parse_name_value_directive(line, \"run-flags\")\n     }\n \n-    fn parse_check_line(&self, line: &str) -> Option<String> {\n-        self.parse_name_value_directive(line, \"check\")\n-    }\n-\n     fn parse_force_host(&self, line: &str) -> bool {\n         self.parse_name_directive(line, \"force-host\")\n     }"}]}