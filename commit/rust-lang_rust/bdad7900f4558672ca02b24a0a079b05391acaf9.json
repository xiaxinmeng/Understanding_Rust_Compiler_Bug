{"sha": "bdad7900f4558672ca02b24a0a079b05391acaf9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJkYWQ3OTAwZjQ1NTg2NzJjYTAyYjI0YTBhMDc5YjA1MzkxYWNhZjk=", "commit": {"author": {"name": "dp304", "email": "34493835+dp304@users.noreply.github.com", "date": "2020-12-03T22:07:24Z"}, "committer": {"name": "Eduardo Broto", "email": "ebroto@tutanota.com", "date": "2020-12-07T23:10:39Z"}, "message": "Apply suggestions from code review\n\nUse array slice instead of `Vec` in `find_macro_calls` as suggested by @ebroto\n\nCo-authored-by: Eduardo Broto <ebroto@tutanota.com>", "tree": {"sha": "376821e60eb9c6ea467ea26d5ea00f3d21bcc6a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/376821e60eb9c6ea467ea26d5ea00f3d21bcc6a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bdad7900f4558672ca02b24a0a079b05391acaf9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bdad7900f4558672ca02b24a0a079b05391acaf9", "html_url": "https://github.com/rust-lang/rust/commit/bdad7900f4558672ca02b24a0a079b05391acaf9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bdad7900f4558672ca02b24a0a079b05391acaf9/comments", "author": {"login": "dp304", "id": 34493835, "node_id": "MDQ6VXNlcjM0NDkzODM1", "avatar_url": "https://avatars.githubusercontent.com/u/34493835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dp304", "html_url": "https://github.com/dp304", "followers_url": "https://api.github.com/users/dp304/followers", "following_url": "https://api.github.com/users/dp304/following{/other_user}", "gists_url": "https://api.github.com/users/dp304/gists{/gist_id}", "starred_url": "https://api.github.com/users/dp304/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dp304/subscriptions", "organizations_url": "https://api.github.com/users/dp304/orgs", "repos_url": "https://api.github.com/users/dp304/repos", "events_url": "https://api.github.com/users/dp304/events{/privacy}", "received_events_url": "https://api.github.com/users/dp304/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ebroto", "id": 816908, "node_id": "MDQ6VXNlcjgxNjkwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/816908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebroto", "html_url": "https://github.com/ebroto", "followers_url": "https://api.github.com/users/ebroto/followers", "following_url": "https://api.github.com/users/ebroto/following{/other_user}", "gists_url": "https://api.github.com/users/ebroto/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebroto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebroto/subscriptions", "organizations_url": "https://api.github.com/users/ebroto/orgs", "repos_url": "https://api.github.com/users/ebroto/repos", "events_url": "https://api.github.com/users/ebroto/events{/privacy}", "received_events_url": "https://api.github.com/users/ebroto/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e58c7dd1685cb19e2ec87568cbc2cbd0aba3e2c7", "url": "https://api.github.com/repos/rust-lang/rust/commits/e58c7dd1685cb19e2ec87568cbc2cbd0aba3e2c7", "html_url": "https://github.com/rust-lang/rust/commit/e58c7dd1685cb19e2ec87568cbc2cbd0aba3e2c7"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "37e2b50def17a389b7473a280f59527f6ed2785b", "filename": "clippy_lints/src/panic_in_result_fn.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bdad7900f4558672ca02b24a0a079b05391acaf9/clippy_lints%2Fsrc%2Fpanic_in_result_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bdad7900f4558672ca02b24a0a079b05391acaf9/clippy_lints%2Fsrc%2Fpanic_in_result_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpanic_in_result_fn.rs?ref=bdad7900f4558672ca02b24a0a079b05391acaf9", "patch": "@@ -53,7 +53,7 @@ impl<'tcx> LateLintPass<'tcx> for PanicInResultFn {\n \n fn lint_impl_body<'tcx>(cx: &LateContext<'tcx>, impl_span: Span, body: &'tcx hir::Body<'tcx>) {\n     let panics = find_macro_calls(\n-        vec![\n+        &[\n             \"unimplemented\",\n             \"unreachable\",\n             \"panic\","}, {"sha": "e83371f8b99a4c3007641b1661fbc6745e318e6b", "filename": "clippy_lints/src/utils/mod.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/bdad7900f4558672ca02b24a0a079b05391acaf9/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bdad7900f4558672ca02b24a0a079b05391acaf9/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fmod.rs?ref=bdad7900f4558672ca02b24a0a079b05391acaf9", "patch": "@@ -603,12 +603,12 @@ pub fn contains_return(expr: &hir::Expr<'_>) -> bool {\n     visitor.found\n }\n \n-struct FindMacroCalls<'a> {\n-    names: Vec<&'a str>,\n+struct FindMacroCalls<'a, 'b> {\n+    names: &'a [&'b str],\n     result: Vec<Span>,\n }\n \n-impl<'a, 'tcx> Visitor<'tcx> for FindMacroCalls<'a> {\n+impl<'a, 'b, 'tcx> Visitor<'tcx> for FindMacroCalls<'a, 'b> {\n     type Map = Map<'tcx>;\n \n     fn visit_expr(&mut self, expr: &'tcx Expr<'_>) {\n@@ -625,7 +625,7 @@ impl<'a, 'tcx> Visitor<'tcx> for FindMacroCalls<'a> {\n }\n \n /// Finds calls of the specified macros in a function body.\n-pub fn find_macro_calls(names: Vec<&str>, body: &'tcx Body<'tcx>) -> Vec<Span> {\n+pub fn find_macro_calls(names: &[&str], body: &Body<'_>) -> Vec<Span> {\n     let mut fmc = FindMacroCalls {\n         names,\n         result: Vec::new(),"}]}