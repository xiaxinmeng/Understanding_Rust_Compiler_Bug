{"sha": "eaca5f86496ff0e84639a7867c72d0173cf4ab81", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVhY2E1Zjg2NDk2ZmYwZTg0NjM5YTc4NjdjNzJkMDE3M2NmNGFiODE=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2018-08-30T18:15:39Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-08-30T18:15:39Z"}, "message": "Rollup merge of #53743 - oconnor663:target_env, r=kennytm\n\nfix a typo: taget_env -> target_env\n\nThis typo was introduced in https://github.com/rust-lang/rust/pull/47334. A couple tests bitrotted as a result, so we fix those too, and move them to a more sensible place.\n\nIs there some lint we could turn on that would've caught this? It's a drag that cfg typos can silently pass through the compiler.", "tree": {"sha": "87d5139429b27d06a8298881bef7f83df7bbb4f0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/87d5139429b27d06a8298881bef7f83df7bbb4f0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eaca5f86496ff0e84639a7867c72d0173cf4ab81", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbiDRLCRBK7hj4Ov3rIwAAdHIIAFLah2uUx8B4y32OyGVVi0rq\nZG14gQwZfBtzse5MGw8nqznEOEv6gKznxgKStPAj3KsKYbgDKL4fDisNcrFgV/+2\nGS8PINM8Y3JfkYqxNeUSzKnZnbAJRlXsVEnUxgoQjbCCPiMJVBXpgCBy32eiLWT4\nnQ0s5KsIRXSyPay1Z2AfwREJd0IEyCwKmefc+aeUHmntrmMoS9EnXT3kyUw6Y0Ds\nqHrDvSpW1lhLe/BKfaTJbUVASmcAlRYqmBDhFJlYzWAZ2sujD/oQ9ostdygg63Gy\nSAAa7bClynNOBQk+k6pdrV6/LRoIdfzplqMwRWQgNOJOnX056V1ql4i7uOc4pDI=\n=0wvm\n-----END PGP SIGNATURE-----\n", "payload": "tree 87d5139429b27d06a8298881bef7f83df7bbb4f0\nparent d52fea8796a18a7e9a41a84f5e0192982c7b31bc\nparent 8486efaf924dae203faa25b4d1965759417eb2f5\nauthor Pietro Albini <pietro@pietroalbini.org> 1535652939 +0200\ncommitter GitHub <noreply@github.com> 1535652939 +0200\n\nRollup merge of #53743 - oconnor663:target_env, r=kennytm\n\nfix a typo: taget_env -> target_env\n\nThis typo was introduced in https://github.com/rust-lang/rust/pull/47334. A couple tests bitrotted as a result, so we fix those too, and move them to a more sensible place.\n\nIs there some lint we could turn on that would've caught this? It's a drag that cfg typos can silently pass through the compiler.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eaca5f86496ff0e84639a7867c72d0173cf4ab81", "html_url": "https://github.com/rust-lang/rust/commit/eaca5f86496ff0e84639a7867c72d0173cf4ab81", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eaca5f86496ff0e84639a7867c72d0173cf4ab81/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d52fea8796a18a7e9a41a84f5e0192982c7b31bc", "url": "https://api.github.com/repos/rust-lang/rust/commits/d52fea8796a18a7e9a41a84f5e0192982c7b31bc", "html_url": "https://github.com/rust-lang/rust/commit/d52fea8796a18a7e9a41a84f5e0192982c7b31bc"}, {"sha": "8486efaf924dae203faa25b4d1965759417eb2f5", "url": "https://api.github.com/repos/rust-lang/rust/commits/8486efaf924dae203faa25b4d1965759417eb2f5", "html_url": "https://github.com/rust-lang/rust/commit/8486efaf924dae203faa25b4d1965759417eb2f5"}], "stats": {"total": 54, "additions": 27, "deletions": 27}, "files": [{"sha": "2d10541752c83b3ca21b1ab5cfdfebf91d340250", "filename": "src/libstd/sys/unix/net.rs", "status": "modified", "additions": 0, "deletions": 27, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/eaca5f86496ff0e84639a7867c72d0173cf4ab81/src%2Flibstd%2Fsys%2Funix%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eaca5f86496ff0e84639a7867c72d0173cf4ab81/src%2Flibstd%2Fsys%2Funix%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Funix%2Fnet.rs?ref=eaca5f86496ff0e84639a7867c72d0173cf4ab81", "patch": "@@ -395,30 +395,3 @@ fn on_resolver_failure() {\n \n #[cfg(not(target_env = \"gnu\"))]\n fn on_resolver_failure() {}\n-\n-#[cfg(all(test, taget_env = \"gnu\"))]\n-mod test {\n-    use super::*;\n-\n-    #[test]\n-    fn test_res_init() {\n-        // This mostly just tests that the weak linkage doesn't panic wildly...\n-        res_init_if_glibc_before_2_26().unwrap();\n-    }\n-\n-    #[test]\n-    fn test_parse_glibc_version() {\n-        let cases = [\n-            (\"0.0\", Some((0, 0))),\n-            (\"01.+2\", Some((1, 2))),\n-            (\"3.4.5.six\", Some((3, 4))),\n-            (\"1\", None),\n-            (\"1.-2\", None),\n-            (\"1.foo\", None),\n-            (\"foo.1\", None),\n-        ];\n-        for &(version_str, parsed) in cases.iter() {\n-            assert_eq!(parsed, parse_glibc_version(version_str));\n-        }\n-    }\n-}"}, {"sha": "971e6501c2c2a6088beacceee6c22c6f3ae06893", "filename": "src/libstd/sys/unix/os.rs", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/eaca5f86496ff0e84639a7867c72d0173cf4ab81/src%2Flibstd%2Fsys%2Funix%2Fos.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eaca5f86496ff0e84639a7867c72d0173cf4ab81/src%2Flibstd%2Fsys%2Funix%2Fos.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Funix%2Fos.rs?ref=eaca5f86496ff0e84639a7867c72d0173cf4ab81", "patch": "@@ -569,3 +569,30 @@ fn parse_glibc_version(version: &str) -> Option<(usize, usize)> {\n         _ => None\n     }\n }\n+\n+#[cfg(all(test, target_env = \"gnu\"))]\n+mod test {\n+    use super::*;\n+\n+    #[test]\n+    fn test_glibc_version() {\n+        // This mostly just tests that the weak linkage doesn't panic wildly...\n+        glibc_version();\n+    }\n+\n+    #[test]\n+    fn test_parse_glibc_version() {\n+        let cases = [\n+            (\"0.0\", Some((0, 0))),\n+            (\"01.+2\", Some((1, 2))),\n+            (\"3.4.5.six\", Some((3, 4))),\n+            (\"1\", None),\n+            (\"1.-2\", None),\n+            (\"1.foo\", None),\n+            (\"foo.1\", None),\n+        ];\n+        for &(version_str, parsed) in cases.iter() {\n+            assert_eq!(parsed, parse_glibc_version(version_str));\n+        }\n+    }\n+}"}]}