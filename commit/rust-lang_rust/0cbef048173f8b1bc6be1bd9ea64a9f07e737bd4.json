{"sha": "0cbef048173f8b1bc6be1bd9ea64a9f07e737bd4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjYmVmMDQ4MTczZjhiMWJjNmJlMWJkOWVhNjRhOWYwN2U3MzdiZDQ=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2015-05-14T14:03:09Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2015-05-14T14:03:09Z"}, "message": "Rollup merge of #25395 - dreid:patch-1, r=alexcrichton", "tree": {"sha": "53ef4dd8968bed01033c17eb49876c08655ae2eb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/53ef4dd8968bed01033c17eb49876c08655ae2eb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0cbef048173f8b1bc6be1bd9ea64a9f07e737bd4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0cbef048173f8b1bc6be1bd9ea64a9f07e737bd4", "html_url": "https://github.com/rust-lang/rust/commit/0cbef048173f8b1bc6be1bd9ea64a9f07e737bd4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0cbef048173f8b1bc6be1bd9ea64a9f07e737bd4/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3ce4b993e37bf07644bd0dc6f138b3ace9d6a3e0", "url": "https://api.github.com/repos/rust-lang/rust/commits/3ce4b993e37bf07644bd0dc6f138b3ace9d6a3e0", "html_url": "https://github.com/rust-lang/rust/commit/3ce4b993e37bf07644bd0dc6f138b3ace9d6a3e0"}, {"sha": "71f7fb2b59663ca12e531b3dc8703070431bc78a", "url": "https://api.github.com/repos/rust-lang/rust/commits/71f7fb2b59663ca12e531b3dc8703070431bc78a", "html_url": "https://github.com/rust-lang/rust/commit/71f7fb2b59663ca12e531b3dc8703070431bc78a"}], "stats": {"total": 46, "additions": 23, "deletions": 23}, "files": [{"sha": "9622a92303f1e05b78d579bb29aadf0fd8b96f67", "filename": "src/doc/trpl/the-stack-and-the-heap.md", "status": "modified", "additions": 23, "deletions": 23, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/0cbef048173f8b1bc6be1bd9ea64a9f07e737bd4/src%2Fdoc%2Ftrpl%2Fthe-stack-and-the-heap.md", "raw_url": "https://github.com/rust-lang/rust/raw/0cbef048173f8b1bc6be1bd9ea64a9f07e737bd4/src%2Fdoc%2Ftrpl%2Fthe-stack-and-the-heap.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Fthe-stack-and-the-heap.md?ref=0cbef048173f8b1bc6be1bd9ea64a9f07e737bd4", "patch": "@@ -80,15 +80,15 @@ This memory is kind of like a giant array: addresses start at zero and go\n up to the final number. So here\u2019s a diagram of our first stack frame:\n \n | Address | Name | Value |\n-+---------+------+-------+\n+|---------|------|-------|\n | 0       | x    | 42    |\n \n We\u2019ve got `x` located at address `0`, with the value `42`.\n \n When `foo()` is called, a new stack frame is allocated:\n \n | Address | Name | Value |\n-+---------+------+-------+\n+|---------|------|-------|\n | 2       | z    | 100   |\n | 1       | y    | 5     |\n | 0       | x    | 42    |\n@@ -107,7 +107,7 @@ value being stored.\n After `foo()` is over, its frame is deallocated:\n \n | Address | Name | Value |\n-+---------+------+-------+\n+|---------|------|-------|\n | 0       | x    | 42    |\n \n And then, after `main()`, even this last value goes away. Easy!\n@@ -142,13 +142,13 @@ fn main() {\n Okay, first, we call `main()`:\n \n | Address | Name | Value |\n-+---------+------+-------+\n+|---------|------|-------|\n | 0       | x    | 42    |\n \n Next up, `main()` calls `foo()`:\n \n | Address | Name | Value |\n-+---------+------+-------+\n+|---------|------|-------|\n | 3       | c    | 1     |\n | 2       | b    | 100   |\n | 1       | a    | 5     |\n@@ -157,7 +157,7 @@ Next up, `main()` calls `foo()`:\n And then `foo()` calls `bar()`:\n \n | Address | Name | Value |\n-+---------+------+-------+\n+|---------|------|-------|\n | 4       | i    | 6     |\n | 3       | c    | 1     |\n | 2       | b    | 100   |\n@@ -170,7 +170,7 @@ After `bar()` is over, its frame is deallocated, leaving just `foo()` and\n `main()`:\n \n | Address | Name | Value |\n-+---------+------+-------+\n+|---------|------|-------|\n | 3       | c    | 1     |\n | 2       | b    | 100   |\n | 1       | a    | 5     |\n@@ -179,7 +179,7 @@ After `bar()` is over, its frame is deallocated, leaving just `foo()` and\n And then `foo()` ends, leaving just `main()`\n \n | Address | Name | Value |\n-+---------+------+-------+\n+|---------|------|-------|\n | 0       | x    | 42    |\n \n And then we\u2019re done. Getting the hang of it? It\u2019s like piling up dishes: you\n@@ -206,7 +206,7 @@ fn main() {\n Here\u2019s what happens in memory when `main()` is called:\n \n | Address | Name | Value  |\n-+---------+------+--------+\n+|---------|------|--------|\n | 1       | y    | 42     |\n | 0       | x    | ?????? |\n \n@@ -218,7 +218,7 @@ it allocates some memory for the heap, and puts `5` there. The memory now looks\n like this:\n \n | Address         | Name | Value          |\n-+-----------------+------+----------------+\n+|-----------------|------|----------------|\n | 2<sup>30</sup>  |      | 5              |\n | ...             | ...  | ...            |\n | 1               | y    | 42             |\n@@ -243,7 +243,7 @@ layout of a program which has been running for a while now:\n \n \n | Address              | Name | Value                |\n-+----------------------+------+----------------------+\n+|----------------------|------|----------------------|\n | 2<sup>30</sup>       |      | 5                    |\n | (2<sup>30</sup>) - 1 |      |                      |\n | (2<sup>30</sup>) - 2 |      |                      |\n@@ -272,7 +272,7 @@ when it was created. Great! So when `x` goes away, it first frees the memory\n allocated on the heap:\n \n | Address | Name | Value  |\n-+---------+------+--------+\n+|---------|------|--------|\n | 1       | y    | 42     |\n | 0       | x    | ?????? |\n \n@@ -305,7 +305,7 @@ fn main() {\n When we enter `main()`, memory looks like this:\n \n | Address | Name | Value |\n-+---------+------+-------+\n+|---------|------|-------|\n | 1       | y    | 0     |\n | 0       | x    | 5     |\n \n@@ -315,7 +315,7 @@ memory location that `x` lives at, which in this case is `0`.\n What about when we call `foo()`, passing `y` as an argument?\n \n | Address | Name | Value |\n-+---------+------+-------+\n+|---------|------|-------|\n | 3       | z    | 42    |\n | 2       | i    | 0     |\n | 1       | y    | 0     |\n@@ -367,7 +367,7 @@ fn main() {\n First, we call `main()`:\n \n | Address         | Name | Value          |\n-+-----------------+------+----------------+\n+|-----------------|------|----------------|\n | 2<sup>30</sup>  |      | 20             |\n | ...             | ...  | ...            |\n | 2               | j    | 0              |\n@@ -380,7 +380,7 @@ value pointing there.\n Next, at the end of `main()`, `foo()` gets called:\n \n | Address         | Name | Value          |\n-+-----------------+------+----------------+\n+|-----------------|------|----------------|\n | 2<sup>30</sup>  |      | 20             |\n | ...             | ...  | ...            |\n | 5               | z    | 4              |\n@@ -397,7 +397,7 @@ since `j` points at `h`.\n Next, `foo()` calls `baz()`, passing `z`:\n \n | Address         | Name | Value          |\n-+-----------------+------+----------------+\n+|-----------------|------|----------------|\n | 2<sup>30</sup>  |      | 20             |\n | ...             | ...  | ...            |\n | 7               | g    | 100            |\n@@ -413,7 +413,7 @@ We\u2019ve allocated memory for `f` and `g`. `baz()` is very short, so when it\u2019s\n over, we get rid of its stack frame:\n \n | Address         | Name | Value          |\n-+-----------------+------+----------------+\n+|-----------------|------|----------------|\n | 2<sup>30</sup>  |      | 20             |\n | ...             | ...  | ...            |\n | 5               | z    | 4              |\n@@ -426,7 +426,7 @@ over, we get rid of its stack frame:\n Next, `foo()` calls `bar()` with `x` and `z`:\n \n | Address              | Name | Value                |\n-+----------------------+------+----------------------+\n+|----------------------|------|----------------------|\n |  2<sup>30</sup>      |      | 20                   |\n | (2<sup>30</sup>) - 1 |      | 5                    |\n | ...                  | ...  | ...                  |\n@@ -449,7 +449,7 @@ case, we set up the variables as usual.\n At the end of `bar()`, it calls `baz()`:\n \n | Address              | Name | Value                |\n-+----------------------+------+----------------------+\n+|----------------------|------|----------------------|\n |  2<sup>30</sup>      |      | 20                   |\n | (2<sup>30</sup>) - 1 |      | 5                    |\n | ...                  | ...  | ...                  |\n@@ -473,7 +473,7 @@ far.\n After `baz()` is over, we get rid of `f` and `g`:\n \n | Address              | Name | Value                |\n-+----------------------+------+----------------------+\n+|----------------------|------|----------------------|\n |  2<sup>30</sup>      |      | 20                   |\n | (2<sup>30</sup>) - 1 |      | 5                    |\n | ...                  | ...  | ...                  |\n@@ -493,7 +493,7 @@ Next, we return from `bar()`. `d` in this case is a `Box<T>`, so it also frees\n what it points to: (2<sup>30</sup>) - 1.\n \n | Address         | Name | Value          |\n-+-----------------+------+----------------+\n+|-----------------|------|----------------|\n |  2<sup>30</sup> |      | 20             |\n | ...             | ...  | ...            |\n | 5               | z    | 4              |\n@@ -506,7 +506,7 @@ what it points to: (2<sup>30</sup>) - 1.\n And after that, `foo()` returns:\n \n | Address         | Name | Value          |\n-+-----------------+------+----------------+\n+|-----------------|------|----------------|\n |  2<sup>30</sup> |      | 20             |\n | ...             | ...  | ...            |\n | 2               | j    | 0              |"}]}