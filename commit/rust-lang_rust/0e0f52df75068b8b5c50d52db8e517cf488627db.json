{"sha": "0e0f52df75068b8b5c50d52db8e517cf488627db", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlMGY1MmRmNzUwNjhiOGI1YzUwZDUyZGI4ZTUxN2NmNDg4NjI3ZGI=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-07-11T19:30:24Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-07-11T19:30:24Z"}, "message": "Merge branch 'master' into start-fn", "tree": {"sha": "09e9799b4fda51c8cc1e4c2144b4b67fa29bd695", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/09e9799b4fda51c8cc1e4c2144b4b67fa29bd695"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0e0f52df75068b8b5c50d52db8e517cf488627db", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbRlrQCRBK7hj4Ov3rIwAAdHIIAHRwFkGTXAiw1R81IjBjHFBB\nW4q0EsoSkHQDIPoJBwoh8pIZ1yS4r/w4AJbk3mHdEmhvVU2fpg23yJObSRBlh/Tj\nor1MzZkLHviuAxGS3VKW9ep2PkroB8bUvlvFD2WOWLbKi3JG8H6RpAdp3wijovzL\n5urbXz6HYY2uB38vm5lqMvq1w0dDJpFF3KH6fKhg3xen6XpQTTS5i7ro3kVKIo+B\nUiMBUuqNsQKLZnowmwwhX+hQoiuSJH5X3/ICvYImQs9CaZseESLKCuxSpWe7Ss5+\nZtkQ5naOVqFnxAPuuDUILjt/l7O3hbEhuc+ZuZHTuHVTIGiNghvawpzO8D3Lh1s=\n=1WvW\n-----END PGP SIGNATURE-----\n", "payload": "tree 09e9799b4fda51c8cc1e4c2144b4b67fa29bd695\nparent e5de51a322e944f5dc7a0bcf9d8afcb3275c7daf\nparent 1896ba24354b0942d463d4a954cadb08d6177be4\nauthor Ralf Jung <post@ralfj.de> 1531337424 +0200\ncommitter GitHub <noreply@github.com> 1531337424 +0200\n\nMerge branch 'master' into start-fn"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0e0f52df75068b8b5c50d52db8e517cf488627db", "html_url": "https://github.com/rust-lang/rust/commit/0e0f52df75068b8b5c50d52db8e517cf488627db", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0e0f52df75068b8b5c50d52db8e517cf488627db/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e5de51a322e944f5dc7a0bcf9d8afcb3275c7daf", "url": "https://api.github.com/repos/rust-lang/rust/commits/e5de51a322e944f5dc7a0bcf9d8afcb3275c7daf", "html_url": "https://github.com/rust-lang/rust/commit/e5de51a322e944f5dc7a0bcf9d8afcb3275c7daf"}, {"sha": "1896ba24354b0942d463d4a954cadb08d6177be4", "url": "https://api.github.com/repos/rust-lang/rust/commits/1896ba24354b0942d463d4a954cadb08d6177be4", "html_url": "https://github.com/rust-lang/rust/commit/1896ba24354b0942d463d4a954cadb08d6177be4"}], "stats": {"total": 18, "additions": 1, "deletions": 17}, "files": [{"sha": "51c53b4af275d03663deb1c22dc06dc6cac9fe74", "filename": "src/bin/miri.rs", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/0e0f52df75068b8b5c50d52db8e517cf488627db/src%2Fbin%2Fmiri.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0e0f52df75068b8b5c50d52db8e517cf488627db/src%2Fbin%2Fmiri.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbin%2Fmiri.rs?ref=0e0f52df75068b8b5c50d52db8e517cf488627db", "patch": "@@ -87,10 +87,7 @@ impl<'a> CompilerCalls<'a> for MiriCompilerCalls {\n         control.after_hir_lowering.callback = Box::new(after_hir_lowering);\n         let start_fn = this.start_fn;\n         control.after_analysis.callback = Box::new(move |state| after_analysis(state, start_fn));\n-        if sess.target.target != sess.host {\n-            // only fully compile targets on the host. linking will fail for cross-compilation.\n-            control.after_analysis.stop = Compilation::Stop;\n-        }\n+        control.after_analysis.stop = Compilation::Stop;\n         control\n     }\n }\n@@ -231,9 +228,6 @@ fn main() {\n         }\n     });\n \n-    // Make sure we always have all the MIR (e.g. for auxilary builds in unit tests).\n-    args.push(\"-Zalways-encode-mir\".to_owned());\n-\n     rustc_driver::run_compiler(&args, Box::new(MiriCompilerCalls {\n         default: Box::new(RustcDefaultCalls),\n         start_fn,"}, {"sha": "beed82e058029681b73495548cea7c316098ba2c", "filename": "tests/run-pass/aux_test.rs", "status": "removed", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/e5de51a322e944f5dc7a0bcf9d8afcb3275c7daf/tests%2Frun-pass%2Faux_test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e5de51a322e944f5dc7a0bcf9d8afcb3275c7daf/tests%2Frun-pass%2Faux_test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Faux_test.rs?ref=e5de51a322e944f5dc7a0bcf9d8afcb3275c7daf", "patch": "@@ -1,9 +0,0 @@\n-// aux-build:dep.rs\n-\n-// ignore-cross-compile\n-\n-extern crate dep;\n-\n-fn main() {\n-    dep::foo();\n-}"}, {"sha": "b76b4321d62aa8e066b24d213c79ccc8230b8d7b", "filename": "tests/run-pass/auxiliary/dep.rs", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e5de51a322e944f5dc7a0bcf9d8afcb3275c7daf/tests%2Frun-pass%2Fauxiliary%2Fdep.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e5de51a322e944f5dc7a0bcf9d8afcb3275c7daf/tests%2Frun-pass%2Fauxiliary%2Fdep.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fauxiliary%2Fdep.rs?ref=e5de51a322e944f5dc7a0bcf9d8afcb3275c7daf", "patch": "@@ -1 +0,0 @@\n-pub fn foo() {}"}]}