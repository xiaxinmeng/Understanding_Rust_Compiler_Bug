{"sha": "3da25ed955baffe8c14cee4950762d268f1b48e7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkYTI1ZWQ5NTViYWZmZThjMTRjZWU0OTUwNzYyZDI2OGYxYjQ4ZTc=", "commit": {"author": {"name": "nahuakang", "email": "kangnahua@gmail.com", "date": "2021-01-27T08:49:53Z"}, "committer": {"name": "nahuakang", "email": "kangnahua@gmail.com", "date": "2021-02-01T15:49:53Z"}, "message": "Rename lint", "tree": {"sha": "9f78ca973d5e5890f164383264a8473275bfcaef", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9f78ca973d5e5890f164383264a8473275bfcaef"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3da25ed955baffe8c14cee4950762d268f1b48e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3da25ed955baffe8c14cee4950762d268f1b48e7", "html_url": "https://github.com/rust-lang/rust/commit/3da25ed955baffe8c14cee4950762d268f1b48e7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3da25ed955baffe8c14cee4950762d268f1b48e7/comments", "author": {"login": "nahuakang", "id": 18533347, "node_id": "MDQ6VXNlcjE4NTMzMzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/18533347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nahuakang", "html_url": "https://github.com/nahuakang", "followers_url": "https://api.github.com/users/nahuakang/followers", "following_url": "https://api.github.com/users/nahuakang/following{/other_user}", "gists_url": "https://api.github.com/users/nahuakang/gists{/gist_id}", "starred_url": "https://api.github.com/users/nahuakang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nahuakang/subscriptions", "organizations_url": "https://api.github.com/users/nahuakang/orgs", "repos_url": "https://api.github.com/users/nahuakang/repos", "events_url": "https://api.github.com/users/nahuakang/events{/privacy}", "received_events_url": "https://api.github.com/users/nahuakang/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nahuakang", "id": 18533347, "node_id": "MDQ6VXNlcjE4NTMzMzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/18533347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nahuakang", "html_url": "https://github.com/nahuakang", "followers_url": "https://api.github.com/users/nahuakang/followers", "following_url": "https://api.github.com/users/nahuakang/following{/other_user}", "gists_url": "https://api.github.com/users/nahuakang/gists{/gist_id}", "starred_url": "https://api.github.com/users/nahuakang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nahuakang/subscriptions", "organizations_url": "https://api.github.com/users/nahuakang/orgs", "repos_url": "https://api.github.com/users/nahuakang/repos", "events_url": "https://api.github.com/users/nahuakang/events{/privacy}", "received_events_url": "https://api.github.com/users/nahuakang/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5753614152b4c6d9c0d20bc311a335c4746c3ed0", "url": "https://api.github.com/repos/rust-lang/rust/commits/5753614152b4c6d9c0d20bc311a335c4746c3ed0", "html_url": "https://github.com/rust-lang/rust/commit/5753614152b4c6d9c0d20bc311a335c4746c3ed0"}], "stats": {"total": 17, "additions": 9, "deletions": 8}, "files": [{"sha": "4bd04ffbd99c955c5f15348846225a0e8319fea1", "filename": "CHANGELOG.md", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3da25ed955baffe8c14cee4950762d268f1b48e7/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/3da25ed955baffe8c14cee4950762d268f1b48e7/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=3da25ed955baffe8c14cee4950762d268f1b48e7", "patch": "@@ -1969,7 +1969,8 @@ Released 2018-09-13\n [`fn_to_numeric_cast_with_truncation`]: https://rust-lang.github.io/rust-clippy/master/index.html#fn_to_numeric_cast_with_truncation\n [`for_kv_map`]: https://rust-lang.github.io/rust-clippy/master/index.html#for_kv_map\n [`for_loops_over_fallibles`]: https://rust-lang.github.io/rust-clippy/master/index.html#for_loops_over_fallibles\n-[`for_loops_over_options`]: https://rust-lang.github.io/rust-clippy/master/index.html#for_loops_over_options\n+[`for_loops_over_options_or_results`]:\n+https://rust-lang.github.io/rust-clippy/master/index.html#for_loops_over_options_or_results\n [`forget_copy`]: https://rust-lang.github.io/rust-clippy/master/index.html#forget_copy\n [`forget_ref`]: https://rust-lang.github.io/rust-clippy/master/index.html#forget_ref\n [`from_iter_instead_of_collect`]: https://rust-lang.github.io/rust-clippy/master/index.html#from_iter_instead_of_collect"}, {"sha": "dae6c93c7cb9b92346b46b7afd4bca417a72203a", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3da25ed955baffe8c14cee4950762d268f1b48e7/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3da25ed955baffe8c14cee4950762d268f1b48e7/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=3da25ed955baffe8c14cee4950762d268f1b48e7", "patch": "@@ -685,7 +685,7 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         &loops::EXPLICIT_ITER_LOOP,\n         &loops::FOR_KV_MAP,\n         &loops::FOR_LOOPS_OVER_FALLIBLES,\n-        &loops::FOR_LOOPS_OVER_OPTIONS,\n+        &loops::FOR_LOOPS_OVER_OPTIONS_OR_RESULTS,\n         &loops::ITER_NEXT_LOOP,\n         &loops::MANUAL_MEMCPY,\n         &loops::MUT_RANGE_BOUND,\n@@ -1489,7 +1489,7 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&loops::EXPLICIT_COUNTER_LOOP),\n         LintId::of(&loops::FOR_KV_MAP),\n         LintId::of(&loops::FOR_LOOPS_OVER_FALLIBLES),\n-        LintId::of(&loops::FOR_LOOPS_OVER_OPTIONS),\n+        LintId::of(&loops::FOR_LOOPS_OVER_OPTIONS_OR_RESULTS),\n         LintId::of(&loops::ITER_NEXT_LOOP),\n         LintId::of(&loops::MANUAL_MEMCPY),\n         LintId::of(&loops::MUT_RANGE_BOUND),\n@@ -1822,7 +1822,7 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&lifetimes::EXTRA_UNUSED_LIFETIMES),\n         LintId::of(&lifetimes::NEEDLESS_LIFETIMES),\n         LintId::of(&loops::EXPLICIT_COUNTER_LOOP),\n-        LintId::of(&loops::FOR_LOOPS_OVER_OPTIONS),\n+        LintId::of(&loops::FOR_LOOPS_OVER_OPTIONS_OR_RESULTS),\n         LintId::of(&loops::MUT_RANGE_BOUND),\n         LintId::of(&loops::SINGLE_ELEMENT_LOOP),\n         LintId::of(&loops::WHILE_LET_LOOP),"}, {"sha": "e9047cce15f9a31c55666271945a545f6caf6807", "filename": "clippy_lints/src/loops.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3da25ed955baffe8c14cee4950762d268f1b48e7/clippy_lints%2Fsrc%2Floops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3da25ed955baffe8c14cee4950762d268f1b48e7/clippy_lints%2Fsrc%2Floops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops.rs?ref=3da25ed955baffe8c14cee4950762d268f1b48e7", "patch": "@@ -520,7 +520,7 @@ declare_clippy_lint! {\n     ///     println!(\"{}\", n);\n     /// }\n     /// ```\n-    pub FOR_LOOPS_OVER_OPTIONS,\n+    pub FOR_LOOPS_OVER_OPTIONS_OR_RESULTS,\n     complexity,\n     \"for loops over `Option`s or `Result`s with a single expression can be simplified\"\n }\n@@ -532,7 +532,7 @@ declare_lint_pass!(Loops => [\n     EXPLICIT_INTO_ITER_LOOP,\n     ITER_NEXT_LOOP,\n     FOR_LOOPS_OVER_FALLIBLES,\n-    FOR_LOOPS_OVER_OPTIONS,\n+    FOR_LOOPS_OVER_OPTIONS_OR_RESULTS,\n     WHILE_LET_LOOP,\n     NEEDLESS_COLLECT,\n     EXPLICIT_COUNTER_LOOP,\n@@ -2012,7 +2012,7 @@ fn check_for_loop_over_options_or_results<'tcx>(\n             let arg_snippet = snippet(cx, arg.span, \"..\");\n             let msg = \"looping over `Option`s or `Result`s with an `if let` expression.\";\n             let hint = format!(\"try turn {} into an `Iterator` and use `flatten`: `{}.iter().flatten()`\", arg_snippet, arg_snippet);\n-            span_lint_and_help(cx, FOR_LOOPS_OVER_OPTIONS, expr.span, msg, None, &hint);\n+            span_lint_and_help(cx, FOR_LOOPS_OVER_OPTIONS_OR_RESULTS, expr.span, msg, None, &hint);\n         }\n     }\n }"}, {"sha": "02e24b250f79652d73c06c2470421efe4f285771", "filename": "tests/ui/for_loops_over_options_or_results.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3da25ed955baffe8c14cee4950762d268f1b48e7/tests%2Fui%2Ffor_loops_over_options_or_results.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3da25ed955baffe8c14cee4950762d268f1b48e7/tests%2Fui%2Ffor_loops_over_options_or_results.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffor_loops_over_options_or_results.rs?ref=3da25ed955baffe8c14cee4950762d268f1b48e7", "patch": "@@ -1,4 +1,4 @@\n-#![warn(clippy::for_loops_over_options)]\n+#![warn(clippy::for_loops_over_options_or_results)]\n \n fn main() {\n     let x = vec![Some(1), Some(2), Some(3)];", "previous_filename": "tests/ui/for_loops_over_options.rs"}]}