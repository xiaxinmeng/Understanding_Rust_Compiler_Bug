{"sha": "608e8fe16c3859b61f3a43ee233cbf0119ecd35f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwOGU4ZmUxNmMzODU5YjYxZjNhNDNlZTIzM2NiZjAxMTllY2QzNWY=", "commit": {"author": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2017-04-05T07:41:08Z"}, "committer": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2017-04-05T07:41:08Z"}, "message": "dist-powerpc-linux: use a pure 32-bit CPU profile\n\nWith `-mcpu=power4`, code might use instructions like `fcfid`, excluding\nolder CPUs like the PowerPC G4, which apparently some users would like\nto use.  The generic `-mcpu=powerpc` should stick to pure 32-bit PowerPC\ninstructions.\n\nFixes rust-lang/cargo#3852.", "tree": {"sha": "e00aaeb9d9ff11b7313abf5c7140946a54b74ef3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e00aaeb9d9ff11b7313abf5c7140946a54b74ef3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/608e8fe16c3859b61f3a43ee233cbf0119ecd35f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/608e8fe16c3859b61f3a43ee233cbf0119ecd35f", "html_url": "https://github.com/rust-lang/rust/commit/608e8fe16c3859b61f3a43ee233cbf0119ecd35f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/608e8fe16c3859b61f3a43ee233cbf0119ecd35f/comments", "author": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2564711e803f62e04bebf10408cc1c11297c0caf", "url": "https://api.github.com/repos/rust-lang/rust/commits/2564711e803f62e04bebf10408cc1c11297c0caf", "html_url": "https://github.com/rust-lang/rust/commit/2564711e803f62e04bebf10408cc1c11297c0caf"}], "stats": {"total": 15, "additions": 5, "deletions": 10}, "files": [{"sha": "6f3a7e091e1edb78ecf2feaa4afdbee02bb16a40", "filename": "src/ci/docker/README.md", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/608e8fe16c3859b61f3a43ee233cbf0119ecd35f/src%2Fci%2Fdocker%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/608e8fe16c3859b61f3a43ee233cbf0119ecd35f/src%2Fci%2Fdocker%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2FREADME.md?ref=608e8fe16c3859b61f3a43ee233cbf0119ecd35f", "patch": "@@ -152,18 +152,13 @@ For targets: `powerpc-unknown-linux-gnu`\n - Path and misc options > Patches origin = Bundled, then local\n - Path and misc options > Local patch directory = /tmp/patches\n - Target options > Target Architecture = powerpc\n-- Target options > Emit assembly for CPU = power4 -- (+)\n-- Target options > Tune for CPU = power6 -- (+)\n+- Target options > Emit assembly for CPU = powerpc -- pure 32-bit PowerPC\n - Operating System > Target OS = linux\n - Operating System > Linux kernel version = 2.6.32.68 -- ~RHEL6 kernel\n - C-library > glibc version = 2.12.2 -- ~RHEL6 glibc\n - C compiler > gcc version = 4.9.3\n-- C compiler > Core gcc extra config = --with-cpu-32=power4 --with-cpu=default32 -- (+)\n-- C compiler > gcc extra config = --with-cpu-32=power4 --with-cpu=default32 -- (+)\n - C compiler > C++ = ENABLE -- to cross compile LLVM\n \n-(+) These CPU options match the configuration of the toolchains in RHEL6.\n-\n ## `powerpc64-linux-gnu.config`\n \n For targets: `powerpc64-unknown-linux-gnu`"}, {"sha": "984a0a0304e4754b3e16b0beb60c97e233088725", "filename": "src/ci/docker/dist-powerpc-linux/powerpc-linux-gnu.config", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/608e8fe16c3859b61f3a43ee233cbf0119ecd35f/src%2Fci%2Fdocker%2Fdist-powerpc-linux%2Fpowerpc-linux-gnu.config", "raw_url": "https://github.com/rust-lang/rust/raw/608e8fe16c3859b61f3a43ee233cbf0119ecd35f/src%2Fci%2Fdocker%2Fdist-powerpc-linux%2Fpowerpc-linux-gnu.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-powerpc-linux%2Fpowerpc-linux-gnu.config?ref=608e8fe16c3859b61f3a43ee233cbf0119ecd35f", "patch": "@@ -101,8 +101,8 @@ CT_ARCH_SUPPORTS_WITH_FLOAT=y\n CT_ARCH_DEFAULT_BE=y\n CT_ARCH_DEFAULT_32=y\n CT_ARCH_ABI=\"\"\n-CT_ARCH_CPU=\"power4\"\n-CT_ARCH_TUNE=\"power6\"\n+CT_ARCH_CPU=\"powerpc\"\n+CT_ARCH_TUNE=\"\"\n CT_ARCH_BE=y\n # CT_ARCH_LE is not set\n CT_ARCH_32=y\n@@ -391,8 +391,8 @@ CT_CC_GCC_HAS_LIBSANITIZER=y\n CT_CC_GCC_VERSION=\"4.9.3\"\n # CT_CC_LANG_FORTRAN is not set\n CT_CC_GCC_ENABLE_CXX_FLAGS=\"\"\n-CT_CC_GCC_CORE_EXTRA_CONFIG_ARRAY=\"--with-cpu-32=power4 --with-cpu=default32\"\n-CT_CC_GCC_EXTRA_CONFIG_ARRAY=\"--with-cpu-32=power4 --with-cpu=default32\"\n+CT_CC_GCC_CORE_EXTRA_CONFIG_ARRAY=\"\"\n+CT_CC_GCC_EXTRA_CONFIG_ARRAY=\"\"\n CT_CC_GCC_EXTRA_ENV_ARRAY=\"\"\n CT_CC_GCC_STATIC_LIBSTDCXX=y\n # CT_CC_GCC_SYSTEM_ZLIB is not set"}]}