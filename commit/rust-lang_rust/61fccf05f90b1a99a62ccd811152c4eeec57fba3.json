{"sha": "61fccf05f90b1a99a62ccd811152c4eeec57fba3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYxZmNjZjA1ZjkwYjFhOTlhNjJjY2Q4MTExNTJjNGVlZWM1N2ZiYTM=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2020-07-16T18:18:53Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-16T18:18:53Z"}, "message": "Rollup merge of #74359 - lzutao:rustdoc-tostring, r=GuillaumeGomez\n\nrustdoc: Rename internal API fns to `into_string`\n\nto avoid surprising listed in API guidelines.", "tree": {"sha": "13e0f61305395b349ce36a10c530f29995b74305", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/13e0f61305395b349ce36a10c530f29995b74305"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/61fccf05f90b1a99a62ccd811152c4eeec57fba3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfEJoOCRBK7hj4Ov3rIwAAdHIIALFd9h+i4puMdvMp+Xaj6WL2\nZTKet7NxgDAd3N0jFbPPAYJimAOTS/aCLWJnmSlc1lv4n5lnvO0RurdFkLkv+7QH\nFwaAQIfRVQnaCSh7I75UXaxTWMCr9QQSzyssViobV9R4D52UzMeglK9PChxOOBmT\nPNwe8GYqx05eywnle/8Yt70kpS5WVgZrr3nChSTuePLz7Wg3vpFMyQcFLnx42nu0\nDpf/KxsVhkoFNg4gGhbm88IvcizG2ig/MR6HGHtQWnwR/jMRl5w/gZfaYiaQFiGj\nXSkNySXOOEme//Db+God1HPleWyAFjJq7U2swrFv7BvOiwszxXvOzgXqb/eNsNA=\n=02EN\n-----END PGP SIGNATURE-----\n", "payload": "tree 13e0f61305395b349ce36a10c530f29995b74305\nparent 196243ed9bf37e907c0a9904fd7f48e8af8c358a\nparent 0f4e4a022c0aab65e40a4b60ea7984075891826d\nauthor Manish Goregaokar <manishsmail@gmail.com> 1594923533 -0700\ncommitter GitHub <noreply@github.com> 1594923533 -0700\n\nRollup merge of #74359 - lzutao:rustdoc-tostring, r=GuillaumeGomez\n\nrustdoc: Rename internal API fns to `into_string`\n\nto avoid surprising listed in API guidelines.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/61fccf05f90b1a99a62ccd811152c4eeec57fba3", "html_url": "https://github.com/rust-lang/rust/commit/61fccf05f90b1a99a62ccd811152c4eeec57fba3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/61fccf05f90b1a99a62ccd811152c4eeec57fba3/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "196243ed9bf37e907c0a9904fd7f48e8af8c358a", "url": "https://api.github.com/repos/rust-lang/rust/commits/196243ed9bf37e907c0a9904fd7f48e8af8c358a", "html_url": "https://github.com/rust-lang/rust/commit/196243ed9bf37e907c0a9904fd7f48e8af8c358a"}, {"sha": "0f4e4a022c0aab65e40a4b60ea7984075891826d", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f4e4a022c0aab65e40a4b60ea7984075891826d", "html_url": "https://github.com/rust-lang/rust/commit/0f4e4a022c0aab65e40a4b60ea7984075891826d"}], "stats": {"total": 37, "additions": 19, "deletions": 18}, "files": [{"sha": "c8121d39d0f8f5dc67c1bfaf4bae3f6da587ddd2", "filename": "src/librustdoc/externalfiles.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Flibrustdoc%2Fexternalfiles.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Flibrustdoc%2Fexternalfiles.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fexternalfiles.rs?ref=61fccf05f90b1a99a62ccd811152c4eeec57fba3", "patch": "@@ -37,14 +37,14 @@ impl ExternalHtml {\n         let bc = format!(\n             \"{}{}\",\n             bc,\n-            Markdown(&m_bc, &[], id_map, codes, edition, playground).to_string()\n+            Markdown(&m_bc, &[], id_map, codes, edition, playground).into_string()\n         );\n         let ac = load_external_files(after_content, diag)?;\n         let m_ac = load_external_files(md_after_content, diag)?;\n         let ac = format!(\n             \"{}{}\",\n             ac,\n-            Markdown(&m_ac, &[], id_map, codes, edition, playground).to_string()\n+            Markdown(&m_ac, &[], id_map, codes, edition, playground).into_string()\n         );\n         Some(ExternalHtml { in_header: ih, before_content: bc, after_content: ac })\n     }"}, {"sha": "4cfd81ffbce9da6423f61167ecb6da85394241de", "filename": "src/librustdoc/html/markdown.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs?ref=61fccf05f90b1a99a62ccd811152c4eeec57fba3", "patch": "@@ -13,7 +13,7 @@\n //! let s = \"My *markdown* _text_\";\n //! let mut id_map = IdMap::new();\n //! let md = Markdown(s, &[], &mut id_map, ErrorCodes::Yes, Edition::Edition2015, &None);\n-//! let html = md.to_string();\n+//! let html = md.into_string();\n //! // ... something using html\n //! ```\n \n@@ -848,7 +848,7 @@ impl LangString {\n }\n \n impl Markdown<'_> {\n-    pub fn to_string(self) -> String {\n+    pub fn into_string(self) -> String {\n         let Markdown(md, links, mut ids, codes, edition, playground) = self;\n \n         // This is actually common enough to special-case\n@@ -878,7 +878,7 @@ impl Markdown<'_> {\n }\n \n impl MarkdownWithToc<'_> {\n-    pub fn to_string(self) -> String {\n+    pub fn into_string(self) -> String {\n         let MarkdownWithToc(md, mut ids, codes, edition, playground) = self;\n \n         let p = Parser::new_ext(md, opts());\n@@ -899,7 +899,7 @@ impl MarkdownWithToc<'_> {\n }\n \n impl MarkdownHtml<'_> {\n-    pub fn to_string(self) -> String {\n+    pub fn into_string(self) -> String {\n         let MarkdownHtml(md, mut ids, codes, edition, playground) = self;\n \n         // This is actually common enough to special-case\n@@ -926,7 +926,7 @@ impl MarkdownHtml<'_> {\n }\n \n impl MarkdownSummaryLine<'_> {\n-    pub fn to_string(self) -> String {\n+    pub fn into_string(self) -> String {\n         let MarkdownSummaryLine(md, links) = self;\n         // This is actually common enough to special-case\n         if md.is_empty() {"}, {"sha": "783977d285dc466d0c9007b36a9f95330a25dbf4", "filename": "src/librustdoc/html/markdown/tests.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Flibrustdoc%2Fhtml%2Fmarkdown%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Flibrustdoc%2Fhtml%2Fmarkdown%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown%2Ftests.rs?ref=61fccf05f90b1a99a62ccd811152c4eeec57fba3", "patch": "@@ -134,7 +134,7 @@ fn test_header() {\n     fn t(input: &str, expect: &str) {\n         let mut map = IdMap::new();\n         let output =\n-            Markdown(input, &[], &mut map, ErrorCodes::Yes, DEFAULT_EDITION, &None).to_string();\n+            Markdown(input, &[], &mut map, ErrorCodes::Yes, DEFAULT_EDITION, &None).into_string();\n         assert_eq!(output, expect, \"original: {}\", input);\n     }\n \n@@ -166,7 +166,8 @@ fn test_header() {\n fn test_header_ids_multiple_blocks() {\n     let mut map = IdMap::new();\n     fn t(map: &mut IdMap, input: &str, expect: &str) {\n-        let output = Markdown(input, &[], map, ErrorCodes::Yes, DEFAULT_EDITION, &None).to_string();\n+        let output =\n+            Markdown(input, &[], map, ErrorCodes::Yes, DEFAULT_EDITION, &None).into_string();\n         assert_eq!(output, expect, \"original: {}\", input);\n     }\n \n@@ -228,7 +229,7 @@ fn test_markdown_html_escape() {\n     fn t(input: &str, expect: &str) {\n         let mut idmap = IdMap::new();\n         let output =\n-            MarkdownHtml(input, &mut idmap, ErrorCodes::Yes, DEFAULT_EDITION, &None).to_string();\n+            MarkdownHtml(input, &mut idmap, ErrorCodes::Yes, DEFAULT_EDITION, &None).into_string();\n         assert_eq!(output, expect, \"original: {}\", input);\n     }\n "}, {"sha": "f8f950bccb1a98741650b5094880422ce9566e09", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=61fccf05f90b1a99a62ccd811152c4eeec57fba3", "patch": "@@ -1895,7 +1895,7 @@ fn render_markdown(\n             cx.shared.edition,\n             &cx.shared.playground\n         )\n-        .to_string()\n+        .into_string()\n     )\n }\n \n@@ -2185,7 +2185,7 @@ fn item_module(w: &mut Buffer, cx: &Context, item: &clean::Item, items: &[clean:\n                        </tr>\",\n                     name = *myitem.name.as_ref().unwrap(),\n                     stab_tags = stability_tags(myitem),\n-                    docs = MarkdownSummaryLine(doc_value, &myitem.links()).to_string(),\n+                    docs = MarkdownSummaryLine(doc_value, &myitem.links()).into_string(),\n                     class = myitem.type_(),\n                     add = add,\n                     stab = stab.unwrap_or_else(String::new),\n@@ -2278,7 +2278,7 @@ fn short_stability(item: &clean::Item, cx: &Context) -> Vec<String> {\n                 cx.shared.edition,\n                 &cx.shared.playground,\n             );\n-            message.push_str(&format!(\": {}\", html.to_string()));\n+            message.push_str(&format!(\": {}\", html.into_string()));\n         }\n         stability.push(format!(\n             \"<div class='stab deprecated'><span class='emoji'>\ud83d\udc4e</span> {}</div>\",\n@@ -2332,7 +2332,7 @@ fn short_stability(item: &clean::Item, cx: &Context) -> Vec<String> {\n                     cx.shared.edition,\n                     &cx.shared.playground,\n                 )\n-                .to_string()\n+                .into_string()\n             );\n         }\n \n@@ -3632,7 +3632,7 @@ fn render_impl(\n                     cx.shared.edition,\n                     &cx.shared.playground\n                 )\n-                .to_string()\n+                .into_string()\n             );\n         }\n     }"}, {"sha": "89d184e35cb064a177c3a81a3961a97add895e12", "filename": "src/librustdoc/markdown.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Flibrustdoc%2Fmarkdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Flibrustdoc%2Fmarkdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fmarkdown.rs?ref=61fccf05f90b1a99a62ccd811152c4eeec57fba3", "patch": "@@ -68,9 +68,9 @@ pub fn render<P: AsRef<Path>>(\n     let mut ids = IdMap::new();\n     let error_codes = ErrorCodes::from(UnstableFeatures::from_environment().is_nightly_build());\n     let text = if !options.markdown_no_toc {\n-        MarkdownWithToc(text, &mut ids, error_codes, edition, &playground).to_string()\n+        MarkdownWithToc(text, &mut ids, error_codes, edition, &playground).into_string()\n     } else {\n-        Markdown(text, &[], &mut ids, error_codes, edition, &playground).to_string()\n+        Markdown(text, &[], &mut ids, error_codes, edition, &playground).into_string()\n     };\n \n     let err = write!("}, {"sha": "c4292d041d0511db7711167e0185196e0b42a9b1", "filename": "src/tools/error_index_generator/main.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Ftools%2Ferror_index_generator%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61fccf05f90b1a99a62ccd811152c4eeec57fba3/src%2Ftools%2Ferror_index_generator%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ferror_index_generator%2Fmain.rs?ref=61fccf05f90b1a99a62ccd811152c4eeec57fba3", "patch": "@@ -127,7 +127,7 @@ impl Formatter for HTMLFormatter {\n                         DEFAULT_EDITION,\n                         &Some(playground)\n                     )\n-                    .to_string()\n+                    .into_string()\n                 )?\n             }\n             None => write!(output, \"<p>No description.</p>\\n\")?,"}]}