{"sha": "36872d581bc92fe39c30e6abb30037d48ab5065e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM2ODcyZDU4MWJjOTJmZTM5YzMwZTZhYmIzMDAzN2Q0OGFiNTA2NWU=", "commit": {"author": {"name": "Stuart Pernsteiner", "email": "spernsteiner@mozilla.com", "date": "2014-07-22T15:59:52Z"}, "committer": {"name": "Stuart Pernsteiner", "email": "spernsteiner@mozilla.com", "date": "2014-07-28T22:31:42Z"}, "message": "remove unused field CrateContext::uses_gc", "tree": {"sha": "2eecc332a29065bf0d2326093e6fd1d20018b7f2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2eecc332a29065bf0d2326093e6fd1d20018b7f2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/36872d581bc92fe39c30e6abb30037d48ab5065e", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/36872d581bc92fe39c30e6abb30037d48ab5065e", "html_url": "https://github.com/rust-lang/rust/commit/36872d581bc92fe39c30e6abb30037d48ab5065e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/36872d581bc92fe39c30e6abb30037d48ab5065e/comments", "author": {"login": "spernsteiner", "id": 3031136, "node_id": "MDQ6VXNlcjMwMzExMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/3031136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spernsteiner", "html_url": "https://github.com/spernsteiner", "followers_url": "https://api.github.com/users/spernsteiner/followers", "following_url": "https://api.github.com/users/spernsteiner/following{/other_user}", "gists_url": "https://api.github.com/users/spernsteiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/spernsteiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spernsteiner/subscriptions", "organizations_url": "https://api.github.com/users/spernsteiner/orgs", "repos_url": "https://api.github.com/users/spernsteiner/repos", "events_url": "https://api.github.com/users/spernsteiner/events{/privacy}", "received_events_url": "https://api.github.com/users/spernsteiner/received_events", "type": "User", "site_admin": false}, "committer": {"login": "spernsteiner", "id": 3031136, "node_id": "MDQ6VXNlcjMwMzExMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/3031136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spernsteiner", "html_url": "https://github.com/spernsteiner", "followers_url": "https://api.github.com/users/spernsteiner/followers", "following_url": "https://api.github.com/users/spernsteiner/following{/other_user}", "gists_url": "https://api.github.com/users/spernsteiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/spernsteiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spernsteiner/subscriptions", "organizations_url": "https://api.github.com/users/spernsteiner/orgs", "repos_url": "https://api.github.com/users/spernsteiner/repos", "events_url": "https://api.github.com/users/spernsteiner/events{/privacy}", "received_events_url": "https://api.github.com/users/spernsteiner/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "79e9f14abf50eecb7d3c53f10ad900615bb2d397", "url": "https://api.github.com/repos/rust-lang/rust/commits/79e9f14abf50eecb7d3c53f10ad900615bb2d397", "html_url": "https://github.com/rust-lang/rust/commit/79e9f14abf50eecb7d3c53f10ad900615bb2d397"}], "stats": {"total": 5, "additions": 0, "deletions": 5}, "files": [{"sha": "bb528790314da512fe2dae3a4234d58b3ad2a1a9", "filename": "src/librustc/middle/trans/context.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/36872d581bc92fe39c30e6abb30037d48ab5065e/src%2Flibrustc%2Fmiddle%2Ftrans%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/36872d581bc92fe39c30e6abb30037d48ab5065e/src%2Flibrustc%2Fmiddle%2Ftrans%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fcontext.rs?ref=36872d581bc92fe39c30e6abb30037d48ab5065e", "patch": "@@ -121,10 +121,6 @@ pub struct CrateContext {\n     /// Holds the LLVM values for closure IDs.\n     pub unboxed_closure_vals: RefCell<DefIdMap<ValueRef>>,\n \n-    /// Set when at least one function uses GC. Needed so that\n-    /// decl_gc_metadata knows whether to link to the module metadata, which\n-    /// is not emitted by LLVM's GC pass when no functions use GC.\n-    pub uses_gc: bool,\n     pub dbg_cx: Option<debuginfo::CrateDebugContext>,\n \n     pub eh_personality: RefCell<Option<ValueRef>>,\n@@ -230,7 +226,6 @@ impl CrateContext {\n                 opaque_vec_type: Type::from_ref(ptr::mut_null()),\n                 builder: BuilderRef_res(llvm::LLVMCreateBuilderInContext(llcx)),\n                 unboxed_closure_vals: RefCell::new(DefIdMap::new()),\n-                uses_gc: false,\n                 dbg_cx: dbg_cx,\n                 eh_personality: RefCell::new(None),\n                 intrinsics: RefCell::new(HashMap::new()),"}]}