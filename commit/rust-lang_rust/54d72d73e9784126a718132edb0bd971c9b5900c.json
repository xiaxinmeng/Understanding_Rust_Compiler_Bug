{"sha": "54d72d73e9784126a718132edb0bd971c9b5900c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0ZDcyZDczZTk3ODQxMjZhNzE4MTMyZWRiMGJkOTcxYzliNTkwMGM=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-10-06T07:26:07Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-10-06T07:26:07Z"}, "message": "Rollup merge of #77558 - thomcc:defaults-toml-extension, r=jyn514\n\nRename bootstrap/defaults/{config.toml.PROFILE => config.PROFILE.toml}\n\nThis allows these files to have okay syntax highlighting in editors, and helps avoid nagging from editors which want to suggest that I install a plugin for `*.library` files to view the `config.toml.library` or whatever.\n\nIt's a very minor change.\n\nr?@jyn514", "tree": {"sha": "430f297b0e87b89759555a8ed5c23286998ff886", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/430f297b0e87b89759555a8ed5c23286998ff886"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/54d72d73e9784126a718132edb0bd971c9b5900c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJffBwPCRBK7hj4Ov3rIwAAdHIIALJkpqgOmNEa4GpuzTVFrtx0\nTqLpo+l2KUqhyHR+m+X9gk8S8eTTMJ1uSgW29kNlhdIiJqlN4yZNcAb5L4R8HqRa\nDRlxLV/Gsl+OEDWMGZVuZ6k56/HSwK49VPvSuOeC5FFOTsHHcGFfKIMBArLytpFX\n0I07dbVO4MM3GcgFqhq6cUg7MZWguFP4Qj5enDM5heyuUgjEQbL2BklL4XJEUthj\n99BxS41cNrIBWfWHMwCmrmVOyLTOmvmM+mTETV36rDK2Xtqo22ZhPEiZ3hi5y/7/\nI0Wm8oqMQnA3+O5rumLzf/tqUyDIqd1Q8zXxh88qBW2WgBCbFEkKHvVWv7zDzQ0=\n=tjum\n-----END PGP SIGNATURE-----\n", "payload": "tree 430f297b0e87b89759555a8ed5c23286998ff886\nparent 2b5049b5ea4c4c1af74286a5872d7cbdcf2aa98b\nparent 5388eb41e940cddaf8ae4ea812c4e04a3e9d9401\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1601969167 +0900\ncommitter GitHub <noreply@github.com> 1601969167 +0900\n\nRollup merge of #77558 - thomcc:defaults-toml-extension, r=jyn514\n\nRename bootstrap/defaults/{config.toml.PROFILE => config.PROFILE.toml}\n\nThis allows these files to have okay syntax highlighting in editors, and helps avoid nagging from editors which want to suggest that I install a plugin for `*.library` files to view the `config.toml.library` or whatever.\n\nIt's a very minor change.\n\nr?@jyn514\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/54d72d73e9784126a718132edb0bd971c9b5900c", "html_url": "https://github.com/rust-lang/rust/commit/54d72d73e9784126a718132edb0bd971c9b5900c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/54d72d73e9784126a718132edb0bd971c9b5900c/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2b5049b5ea4c4c1af74286a5872d7cbdcf2aa98b", "url": "https://api.github.com/repos/rust-lang/rust/commits/2b5049b5ea4c4c1af74286a5872d7cbdcf2aa98b", "html_url": "https://github.com/rust-lang/rust/commit/2b5049b5ea4c4c1af74286a5872d7cbdcf2aa98b"}, {"sha": "5388eb41e940cddaf8ae4ea812c4e04a3e9d9401", "url": "https://api.github.com/repos/rust-lang/rust/commits/5388eb41e940cddaf8ae4ea812c4e04a3e9d9401", "html_url": "https://github.com/rust-lang/rust/commit/5388eb41e940cddaf8ae4ea812c4e04a3e9d9401"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "7c12642da3551cb4a27447b3f6e9fd8d6910c38d", "filename": "src/bootstrap/CHANGELOG.md", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2FCHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2FCHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2FCHANGELOG.md?ref=54d72d73e9784126a718132edb0bd971c9b5900c", "patch": "@@ -7,6 +7,8 @@ The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).\n ## [Non-breaking changes since the last major version]\n \n - `x.py check` needs opt-in to check tests (--all-targets) [#77473](https://github.com/rust-lang/rust/pull/77473)\n+- The default bootstrap profiles are now located at `bootstrap/defaults/config.$PROFILE.toml` (previously they were located at `bootstrap/defaults/config.toml.$PROFILE`) [#77558](https://github.com/rust-lang/rust/pull/77558)\n+\n \n ## [Version 2] - 2020-09-25\n "}, {"sha": "6265bbaf5c22c5af508cc71b091ffb6670c64469", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=54d72d73e9784126a718132edb0bd971c9b5900c", "patch": "@@ -574,7 +574,7 @@ impl Config {\n             include_path.push(\"src\");\n             include_path.push(\"bootstrap\");\n             include_path.push(\"defaults\");\n-            include_path.push(format!(\"config.toml.{}\", include));\n+            include_path.push(format!(\"config.{}.toml\", include));\n             let included_toml = get_toml(&include_path);\n             toml.merge(included_toml);\n         }"}, {"sha": "a9505922ca7fc9a81232ae8404320503f838bc6c", "filename": "src/bootstrap/defaults/config.codegen.toml", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fdefaults%2Fconfig.codegen.toml", "raw_url": "https://github.com/rust-lang/rust/raw/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fdefaults%2Fconfig.codegen.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdefaults%2Fconfig.codegen.toml?ref=54d72d73e9784126a718132edb0bd971c9b5900c", "previous_filename": "src/bootstrap/defaults/config.toml.codegen"}, {"sha": "4772de8a2cb22c27a40890009555f54a7ecda134", "filename": "src/bootstrap/defaults/config.compiler.toml", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fdefaults%2Fconfig.compiler.toml", "raw_url": "https://github.com/rust-lang/rust/raw/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fdefaults%2Fconfig.compiler.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdefaults%2Fconfig.compiler.toml?ref=54d72d73e9784126a718132edb0bd971c9b5900c", "previous_filename": "src/bootstrap/defaults/config.toml.compiler"}, {"sha": "e4316f4d8644050ea15b0d803351b76874967bde", "filename": "src/bootstrap/defaults/config.library.toml", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fdefaults%2Fconfig.library.toml", "raw_url": "https://github.com/rust-lang/rust/raw/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fdefaults%2Fconfig.library.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdefaults%2Fconfig.library.toml?ref=54d72d73e9784126a718132edb0bd971c9b5900c", "previous_filename": "src/bootstrap/defaults/config.toml.library"}, {"sha": "6647061d88fcbc99005ed446871d4ab2c420273c", "filename": "src/bootstrap/defaults/config.user.toml", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fdefaults%2Fconfig.user.toml", "raw_url": "https://github.com/rust-lang/rust/raw/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fdefaults%2Fconfig.user.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdefaults%2Fconfig.user.toml?ref=54d72d73e9784126a718132edb0bd971c9b5900c", "previous_filename": "src/bootstrap/defaults/config.toml.user"}, {"sha": "8a77641fbfefb334f0f1c3843e5c86ae20faac15", "filename": "src/bootstrap/setup.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fsetup.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54d72d73e9784126a718132edb0bd971c9b5900c/src%2Fbootstrap%2Fsetup.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fsetup.rs?ref=54d72d73e9784126a718132edb0bd971c9b5900c", "patch": "@@ -20,7 +20,7 @@ pub fn setup(src_path: &Path, include_name: &str) {\n             file.display()\n         );\n         println!(\n-            \"note: this will use the configuration in {}/src/bootstrap/defaults/config.toml.{}\",\n+            \"note: this will use the configuration in {}/src/bootstrap/defaults/config.{}.toml\",\n             src_path.display(),\n             include_name\n         );\n@@ -36,7 +36,7 @@ pub fn setup(src_path: &Path, include_name: &str) {\n     t!(fs::write(path, settings));\n \n     let include_path =\n-        format!(\"{}/src/bootstrap/defaults/config.toml.{}\", src_path.display(), include_name);\n+        format!(\"{}/src/bootstrap/defaults/config.{}.toml\", src_path.display(), include_name);\n     println!(\"`x.py` will now use the configuration at {}\", include_path);\n \n     let suggestions = match include_name {"}]}