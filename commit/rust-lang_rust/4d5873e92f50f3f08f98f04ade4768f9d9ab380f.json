{"sha": "4d5873e92f50f3f08f98f04ade4768f9d9ab380f", "node_id": "C_kwDOAAsO6NoAKDRkNTg3M2U5MmY1MGYzZjA4Zjk4ZjA0YWRlNDc2OGY5ZDlhYjM4MGY", "commit": {"author": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2022-08-05T13:01:09Z"}, "committer": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2022-08-05T13:01:09Z"}, "message": "minor: align with rustc on escaping characters in macro expansion", "tree": {"sha": "0543d62bcaaccc6b6b2fe37eb5d28049a56c8f4e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0543d62bcaaccc6b6b2fe37eb5d28049a56c8f4e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4d5873e92f50f3f08f98f04ade4768f9d9ab380f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEkSbsQIURluxz4rzf4laYqTBYYXEFAmLtFVwACgkQ4laYqTBY\nYXG3rw//fwiFh9bpIO2pqTNCYKlvt7PNyus5Yr2mnroEUiIzi5eNTRhz86rO2LBl\n32XhhshzhtadbW3fR2AEF0aeIIuX/gH90ofDhF39OeqvOY2sLramqMkXl1cHtPAv\nHoTL7gw7Pec6STICB+1zYCS4dZ5xm3e+E0LgYvvVtFCgsjksKcHc2SM4HV+04qfA\nrUArd+6G13op9OC+/A12AE+MAkD8YKchHxFyJVaVYaiNjap9+81DNoHjanj+0Csy\nzInCSSvmQUqA0/lVBJViAhtdQ1Si/h0OF60XM5u3oY/QW/4fhCMcG00OYiN92f22\nsWlos8Xm0RtmaswIilfUKUc3v9v5rA77PSTfA62WfWdIEg9SVI7toE88T5SxvMhq\naUJyzeEKXvOI7iL5cMPKMOPb+u024l/ixCboEXcBQGV5RYZva1Py6eWYlaYd2IAb\n1PPs8kZpDtaJKy7dAa/cDsvj3zjJaQVdGFMsnNcMIkazIA0WaTT++wHQWV17qskd\nDndhaMve+jQ7v61DFYYYDm6g2p5ninXslpMUvkbUDRw4ZhfPUDE3TeLlda6WdOtj\nuLCREvf1H50Y5XX6YIEBkbBZ9ARH0l+mr7XcS+gRY/01UXnFz75Rnq5TRqWxePKt\nEkwbmytNO4aItVzRsK7XGjuPm17fQf14rHHyIGuyVvaglNwnPQg=\n=guZ0\n-----END PGP SIGNATURE-----", "payload": "tree 0543d62bcaaccc6b6b2fe37eb5d28049a56c8f4e\nparent 859d467276bf45e621858069192d7a68c42d2a32\nauthor Ryo Yoshida <low.ryoshida@gmail.com> 1659704469 +0900\ncommitter Ryo Yoshida <low.ryoshida@gmail.com> 1659704469 +0900\n\nminor: align with rustc on escaping characters in macro expansion\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4d5873e92f50f3f08f98f04ade4768f9d9ab380f", "html_url": "https://github.com/rust-lang/rust/commit/4d5873e92f50f3f08f98f04ade4768f9d9ab380f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4d5873e92f50f3f08f98f04ade4768f9d9ab380f/comments", "author": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "859d467276bf45e621858069192d7a68c42d2a32", "url": "https://api.github.com/repos/rust-lang/rust/commits/859d467276bf45e621858069192d7a68c42d2a32", "html_url": "https://github.com/rust-lang/rust/commit/859d467276bf45e621858069192d7a68c42d2a32"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "4f626105a53d60f727cfd02e71b66ea95e7450ae", "filename": "crates/hir-def/src/macro_expansion_tests/builtin_fn_macro.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4d5873e92f50f3f08f98f04ade4768f9d9ab380f/crates%2Fhir-def%2Fsrc%2Fmacro_expansion_tests%2Fbuiltin_fn_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d5873e92f50f3f08f98f04ade4768f9d9ab380f/crates%2Fhir-def%2Fsrc%2Fmacro_expansion_tests%2Fbuiltin_fn_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-def%2Fsrc%2Fmacro_expansion_tests%2Fbuiltin_fn_macro.rs?ref=4d5873e92f50f3f08f98f04ade4768f9d9ab380f", "patch": "@@ -295,13 +295,13 @@ fn test_concat_expand() {\n #[rustc_builtin_macro]\n macro_rules! concat {}\n \n-fn main() { concat!(\"foo\", \"r\", 0, r#\"bar\"#, \"\\n\", false, '\\n'); }\n+fn main() { concat!(\"foo\", \"r\", 0, r#\"bar\"#, \"\\n\", false, '\"', '\\0'); }\n \"##,\n         expect![[r##\"\n #[rustc_builtin_macro]\n macro_rules! concat {}\n \n-fn main() { \"foor0bar\\nfalse\\n\"; }\n+fn main() { \"foor0bar\\nfalse\\\"\\u{0}\"; }\n \"##]],\n     );\n }"}, {"sha": "e839e97bf02d88f86091ca1baeac843bcdd595c7", "filename": "crates/hir-expand/src/quote.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4d5873e92f50f3f08f98f04ade4768f9d9ab380f/crates%2Fhir-expand%2Fsrc%2Fquote.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d5873e92f50f3f08f98f04ade4768f9d9ab380f/crates%2Fhir-expand%2Fsrc%2Fquote.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-expand%2Fsrc%2Fquote.rs?ref=4d5873e92f50f3f08f98f04ade4768f9d9ab380f", "patch": "@@ -196,8 +196,8 @@ impl_to_to_tokentrees! {\n     tt::Literal => self { self };\n     tt::Ident => self { self };\n     tt::Punct => self { self };\n-    &str => self { tt::Literal{text: format!(\"\\\"{}\\\"\", self.escape_debug()).into(), id: tt::TokenId::unspecified()}};\n-    String => self { tt::Literal{text: format!(\"\\\"{}\\\"\", self.escape_debug()).into(), id: tt::TokenId::unspecified()}}\n+    &str => self { tt::Literal{text: format!(\"\\\"{}\\\"\", self.escape_default()).into(), id: tt::TokenId::unspecified()}};\n+    String => self { tt::Literal{text: format!(\"\\\"{}\\\"\", self.escape_default()).into(), id: tt::TokenId::unspecified()}}\n }\n \n #[cfg(test)]"}]}