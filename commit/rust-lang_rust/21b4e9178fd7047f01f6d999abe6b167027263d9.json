{"sha": "21b4e9178fd7047f01f6d999abe6b167027263d9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIxYjRlOTE3OGZkNzA0N2YwMWY2ZDk5OWFiZTZiMTY3MDI3MjYzZDk=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-07-20T16:54:57Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-20T16:54:57Z"}, "message": "Merge #5440\n\n5440: Minor perf tweaks per clippy r=matklad a=kjeremy\n\n\n\nCo-authored-by: Jeremy Kolb <kjeremy@gmail.com>", "tree": {"sha": "0fac8c81fa4940e946f6f7f1efe2af2383207b0b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0fac8c81fa4940e946f6f7f1efe2af2383207b0b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/21b4e9178fd7047f01f6d999abe6b167027263d9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfFcxhCRBK7hj4Ov3rIwAAdHIIAJn1xDZFXGTzEi2C/hXJ/khF\ni30VFQ6sz2r64HDOXs3P/I85Br2gPjAcFpJoZ6nnmmFddCww18sbQGDuN8TZSyDC\n98Z1nCCvgBD2nZn1x/Y+nAn1PRJ110vgUzmfuK+0XBClGCQect4LnUptDd4aZWxe\nsFDwtESSqevlLkbMVYk+Vgdmhl03LWwcMZ89vcjhLIQMuXsdh5LnWVSqeXqKjoC8\nr+WlGK/rTkEOyJ9jB4Bg9vjqMFtCxQBYxRNCT2fqYKJOMdPqhLBJP/5ntC5zY8sP\nmV+oI+/bTDGqOhbyYiOiLPxVLV0Hj/3AoUo/tFn11MzhVNSZGUPfoKtDi3PteYk=\n=uxx3\n-----END PGP SIGNATURE-----\n", "payload": "tree 0fac8c81fa4940e946f6f7f1efe2af2383207b0b\nparent 7a089a7bab3779ad83719a91f0db6ec6ccf0175b\nparent 17f4d27f1285a76961b2e3957dc192de8e4f179f\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1595264097 +0000\ncommitter GitHub <noreply@github.com> 1595264097 +0000\n\nMerge #5440\n\n5440: Minor perf tweaks per clippy r=matklad a=kjeremy\n\n\n\nCo-authored-by: Jeremy Kolb <kjeremy@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/21b4e9178fd7047f01f6d999abe6b167027263d9", "html_url": "https://github.com/rust-lang/rust/commit/21b4e9178fd7047f01f6d999abe6b167027263d9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/21b4e9178fd7047f01f6d999abe6b167027263d9/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7a089a7bab3779ad83719a91f0db6ec6ccf0175b", "url": "https://api.github.com/repos/rust-lang/rust/commits/7a089a7bab3779ad83719a91f0db6ec6ccf0175b", "html_url": "https://github.com/rust-lang/rust/commit/7a089a7bab3779ad83719a91f0db6ec6ccf0175b"}, {"sha": "17f4d27f1285a76961b2e3957dc192de8e4f179f", "url": "https://api.github.com/repos/rust-lang/rust/commits/17f4d27f1285a76961b2e3957dc192de8e4f179f", "html_url": "https://github.com/rust-lang/rust/commit/17f4d27f1285a76961b2e3957dc192de8e4f179f"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "4e8a0c2db6552b45b859f051b5cc48a065b8133d", "filename": "crates/ra_assists/src/handlers/raw_string.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fraw_string.rs", "raw_url": "https://github.com/rust-lang/rust/raw/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fraw_string.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fraw_string.rs?ref=21b4e9178fd7047f01f6d999abe6b167027263d9", "patch": "@@ -131,7 +131,7 @@ pub(crate) fn remove_hash(acc: &mut Assists, ctx: &AssistContext) -> Option<()>\n     let token = ctx.find_token_at_offset(RAW_STRING).and_then(ast::RawString::cast)?;\n \n     let text = token.text().as_str();\n-    if !text.starts_with(\"r#\") && text.ends_with(\"#\") {\n+    if !text.starts_with(\"r#\") && text.ends_with('#') {\n         return None;\n     }\n "}, {"sha": "3d51faa5430645c2b62dbb96c699fc30d4d504a7", "filename": "crates/ra_assists/src/handlers/replace_qualified_name_with_use.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_assists%2Fsrc%2Fhandlers%2Freplace_qualified_name_with_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_assists%2Fsrc%2Fhandlers%2Freplace_qualified_name_with_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fhandlers%2Freplace_qualified_name_with_use.rs?ref=21b4e9178fd7047f01f6d999abe6b167027263d9", "patch": "@@ -106,7 +106,7 @@ fn maybe_replace_path(\n     path: ast::Path,\n     target: ast::Path,\n ) -> Option<()> {\n-    if !path_eq(path.clone(), target.clone()) {\n+    if !path_eq(path.clone(), target) {\n         return None;\n     }\n "}, {"sha": "1eacc6f95ed8fe30ab1203387f9ac8b3bca75139", "filename": "crates/ra_hir_ty/src/lower.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_hir_ty%2Fsrc%2Flower.rs", "raw_url": "https://github.com/rust-lang/rust/raw/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_hir_ty%2Fsrc%2Flower.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Flower.rs?ref=21b4e9178fd7047f01f6d999abe6b167027263d9", "patch": "@@ -341,7 +341,7 @@ impl Ty {\n                     let segment = remaining_segments.first().unwrap();\n                     let found = associated_type_by_name_including_super_traits(\n                         ctx.db,\n-                        trait_ref.clone(),\n+                        trait_ref,\n                         &segment.name,\n                     );\n                     match found {"}, {"sha": "c84d43d773320d103bca628c8c4f873afdabcb46", "filename": "crates/ra_ide/src/completion/completion_context.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs", "raw_url": "https://github.com/rust-lang/rust/raw/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs?ref=21b4e9178fd7047f01f6d999abe6b167027263d9", "patch": "@@ -215,7 +215,7 @@ impl<'a> CompletionContext<'a> {\n \n     fn fill_keyword_patterns(&mut self, file_with_fake_ident: &SyntaxNode, offset: TextSize) {\n         let fake_ident_token = file_with_fake_ident.token_at_offset(offset).right_biased().unwrap();\n-        let syntax_element = NodeOrToken::Token(fake_ident_token.clone());\n+        let syntax_element = NodeOrToken::Token(fake_ident_token);\n         self.block_expr_parent = has_block_expr_parent(syntax_element.clone());\n         self.unsafe_is_prev = unsafe_is_prev(syntax_element.clone());\n         self.if_is_prev = if_is_prev(syntax_element.clone());\n@@ -228,7 +228,7 @@ impl<'a> CompletionContext<'a> {\n         self.trait_as_prev_sibling = has_trait_as_prev_sibling(syntax_element.clone());\n         self.is_match_arm = is_match_arm(syntax_element.clone());\n         self.has_item_list_or_source_file_parent =\n-            has_item_list_or_source_file_parent(syntax_element.clone());\n+            has_item_list_or_source_file_parent(syntax_element);\n     }\n \n     fn fill("}, {"sha": "e029af0dc9cb75d38f5f7bdab760bad531d6c77d", "filename": "crates/ra_ide/src/diagnostics.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_ide%2Fsrc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_ide%2Fsrc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fdiagnostics.rs?ref=21b4e9178fd7047f01f6d999abe6b167027263d9", "patch": "@@ -183,7 +183,7 @@ fn missing_struct_field_fix(\n     }\n     new_field = format!(\"\\n{}{}\", indent, new_field);\n \n-    let needs_comma = !last_field_syntax.to_string().ends_with(\",\");\n+    let needs_comma = !last_field_syntax.to_string().ends_with(',');\n     if needs_comma {\n         new_field = format!(\",{}\", new_field);\n     }"}, {"sha": "09883ab4de13c6ff457fc3e9c9a20f51e8408e4d", "filename": "crates/ra_ide/src/inlay_hints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_ide%2Fsrc%2Finlay_hints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Fra_ide%2Fsrc%2Finlay_hints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Finlay_hints.rs?ref=21b4e9178fd7047f01f6d999abe6b167027263d9", "patch": "@@ -171,7 +171,7 @@ fn get_param_name_hints(\n         .map(|(param_name, arg)| InlayHint {\n             range: arg.syntax().text_range(),\n             kind: InlayKind::ParameterHint,\n-            label: param_name.to_string().into(),\n+            label: param_name.into(),\n         });\n \n     acc.extend(hints);"}, {"sha": "d7ae00b073b21a93384f8b9c5bad3dac2b44a731", "filename": "crates/rust-analyzer/src/reload.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Frust-analyzer%2Fsrc%2Freload.rs", "raw_url": "https://github.com/rust-lang/rust/raw/21b4e9178fd7047f01f6d999abe6b167027263d9/crates%2Frust-analyzer%2Fsrc%2Freload.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Freload.rs?ref=21b4e9178fd7047f01f6d999abe6b167027263d9", "patch": "@@ -242,7 +242,7 @@ impl GlobalState {\n             })\n             .map(move |cargo| {\n                 let cargo_project_root = cargo.workspace_root().to_path_buf();\n-                FlycheckHandle::spawn(sender, config.clone(), cargo_project_root.into())\n+                FlycheckHandle::spawn(sender, config, cargo_project_root.into())\n             })\n     }\n }"}]}