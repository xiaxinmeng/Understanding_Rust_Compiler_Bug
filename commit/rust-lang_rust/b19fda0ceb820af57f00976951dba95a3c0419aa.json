{"sha": "b19fda0ceb820af57f00976951dba95a3c0419aa", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIxOWZkYTBjZWI4MjBhZjU3ZjAwOTc2OTUxZGJhOTVhM2MwNDE5YWE=", "commit": {"author": {"name": "Ulrik Sverdrup", "email": "root@localhost", "date": "2015-02-13T20:20:16Z"}, "committer": {"name": "Ulrik Sverdrup", "email": "root@localhost", "date": "2015-02-13T20:26:50Z"}, "message": "Remove ExactSizeIterator from 64-bit ranges.\n\nFixes #22047\n\nRange<u64> and Range<i64> may be longer than usize::MAX on 32-bit\nplatforms, and thus they cannot fulfill the protocol for\nExactSizeIterator. We don't want a nonobvious platform dependency in\nbasic iterator traits, so the trait impl is removed.\n\nThe logic of this change assumes that usize is at least 32-bit.\n\nThis is technically a breaking change; note that Range<usize> and\nRange<isize> are always ExactSizeIterators.\n\n[breaking-change]", "tree": {"sha": "dc8e68e358b658c0d74c79a71e2077799aa9e7a1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dc8e68e358b658c0d74c79a71e2077799aa9e7a1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b19fda0ceb820af57f00976951dba95a3c0419aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b19fda0ceb820af57f00976951dba95a3c0419aa", "html_url": "https://github.com/rust-lang/rust/commit/b19fda0ceb820af57f00976951dba95a3c0419aa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b19fda0ceb820af57f00976951dba95a3c0419aa/comments", "author": {"login": "invalid-email-address", "id": 148100, "node_id": "MDQ6VXNlcjE0ODEwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/148100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/invalid-email-address", "html_url": "https://github.com/invalid-email-address", "followers_url": "https://api.github.com/users/invalid-email-address/followers", "following_url": "https://api.github.com/users/invalid-email-address/following{/other_user}", "gists_url": "https://api.github.com/users/invalid-email-address/gists{/gist_id}", "starred_url": "https://api.github.com/users/invalid-email-address/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/invalid-email-address/subscriptions", "organizations_url": "https://api.github.com/users/invalid-email-address/orgs", "repos_url": "https://api.github.com/users/invalid-email-address/repos", "events_url": "https://api.github.com/users/invalid-email-address/events{/privacy}", "received_events_url": "https://api.github.com/users/invalid-email-address/received_events", "type": "User", "site_admin": false}, "committer": {"login": "invalid-email-address", "id": 148100, "node_id": "MDQ6VXNlcjE0ODEwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/148100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/invalid-email-address", "html_url": "https://github.com/invalid-email-address", "followers_url": "https://api.github.com/users/invalid-email-address/followers", "following_url": "https://api.github.com/users/invalid-email-address/following{/other_user}", "gists_url": "https://api.github.com/users/invalid-email-address/gists{/gist_id}", "starred_url": "https://api.github.com/users/invalid-email-address/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/invalid-email-address/subscriptions", "organizations_url": "https://api.github.com/users/invalid-email-address/orgs", "repos_url": "https://api.github.com/users/invalid-email-address/repos", "events_url": "https://api.github.com/users/invalid-email-address/events{/privacy}", "received_events_url": "https://api.github.com/users/invalid-email-address/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cf636c233dfeef5abf0de8fb35e23c0a161810d2", "url": "https://api.github.com/repos/rust-lang/rust/commits/cf636c233dfeef5abf0de8fb35e23c0a161810d2", "html_url": "https://github.com/rust-lang/rust/commit/cf636c233dfeef5abf0de8fb35e23c0a161810d2"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "06aba2cb08ef34df8039c868ab5309d8251a644f", "filename": "src/libcore/iter.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b19fda0ceb820af57f00976951dba95a3c0419aa/src%2Flibcore%2Fiter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b19fda0ceb820af57f00976951dba95a3c0419aa/src%2Flibcore%2Fiter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fiter.rs?ref=b19fda0ceb820af57f00976951dba95a3c0419aa", "patch": "@@ -2676,9 +2676,9 @@ impl<A: Int> Iterator for ::ops::Range<A> {\n     }\n }\n \n+// Ranges of u64 and i64 are excluded because they cannot guarantee having\n+// a length <= usize::MAX, which is required by ExactSizeIterator.\n range_exact_iter_impl!(usize u8 u16 u32 isize i8 i16 i32);\n-#[cfg(target_pointer_width = \"64\")]\n-range_exact_iter_impl!(u64 i64);\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n impl<A: Int> DoubleEndedIterator for ::ops::Range<A> {"}]}