{"sha": "3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlZWFiZTdiN2QxM2Y4Y2EyZDI5ZTExN2Y0NWNkNDIwZDZmNzNkYTQ=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2018-02-23T06:14:08Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2018-02-23T16:24:07Z"}, "message": "Add hardwired lint for dyn trait", "tree": {"sha": "93eec18d9f91860175b81cb2fa0edee18819264f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/93eec18d9f91860175b81cb2fa0edee18819264f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4", "html_url": "https://github.com/rust-lang/rust/commit/3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "da9dc0507bc86104db8bf7a99e849bfd995fb1ef", "url": "https://api.github.com/repos/rust-lang/rust/commits/da9dc0507bc86104db8bf7a99e849bfd995fb1ef", "html_url": "https://github.com/rust-lang/rust/commit/da9dc0507bc86104db8bf7a99e849bfd995fb1ef"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "2b1ff8a0e7881c820a1a1aa0ef7d3da292765156", "filename": "src/librustc/lint/builtin.rs", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4/src%2Flibrustc%2Flint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4/src%2Flibrustc%2Flint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Fbuiltin.rs?ref=3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4", "patch": "@@ -15,6 +15,7 @@\n //! lints are all available in `rustc_lint::builtin`.\n \n use lint::{LintPass, LateLintPass, LintArray};\n+use session::config::Epoch;\n \n declare_lint! {\n     pub CONST_ERR,\n@@ -252,6 +253,13 @@ declare_lint! {\n     \"hidden lifetime parameters are deprecated, try `Foo<'_>`\"\n }\n \n+declare_lint! {\n+    pub BARE_TRAIT_OBJECT,\n+    Warn,\n+    \"suggest using `dyn Trait` for trait objects\",\n+    Epoch::Epoch2018\n+}\n+\n /// Does nothing as a lint pass, but registers some `Lint`s\n /// which are used by other parts of the compiler.\n #[derive(Copy, Clone)]\n@@ -298,8 +306,8 @@ impl LintPass for HardwiredLints {\n             COERCE_NEVER,\n             SINGLE_USE_LIFETIME,\n             TYVAR_BEHIND_RAW_POINTER,\n-            ELIDED_LIFETIME_IN_PATH\n-\n+            ELIDED_LIFETIME_IN_PATH,\n+            BARE_TRAIT_OBJECT\n         )\n     }\n }"}, {"sha": "c162b8409af6a9c66231700055dc87d467e8380c", "filename": "src/librustc_lint/lib.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4/src%2Flibrustc_lint%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4/src%2Flibrustc_lint%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Flib.rs?ref=3eeabe7b7d13f8ca2d29e117f45cd420d6f73da4", "patch": "@@ -272,6 +272,11 @@ pub fn register_builtins(store: &mut lint::LintStore, sess: Option<&Session>) {\n             reference: \"issue #46906 <https://github.com/rust-lang/rust/issues/46906>\",\n             epoch: None,\n         },\n+         FutureIncompatibleInfo {\n+             id: LintId::of(lint::builtin::BARE_TRAIT_OBJECT),\n+             reference: \"issue #48457 <https://github.com/rust-lang/rust/issues/48457>\",\n+             epoch: Some(session::config::Epoch::Epoch2018),\n+         }\n         ]);\n \n     // Register renamed and removed lints"}]}