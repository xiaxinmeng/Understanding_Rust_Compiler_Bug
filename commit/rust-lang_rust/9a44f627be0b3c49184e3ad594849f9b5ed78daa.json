{"sha": "9a44f627be0b3c49184e3ad594849f9b5ed78daa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlhNDRmNjI3YmUwYjNjNDkxODRlM2FkNTk0ODQ5ZjliNWVkNzhkYWE=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-01-10T16:31:02Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-01-10T16:31:02Z"}, "message": "Merge #2785\n\n2785: Expand PAREN_EXPR as expression r=matklad a=edwin0cheng\n\n\n\nCo-authored-by: Edwin Cheng <edwin0cheng@gmail.com>", "tree": {"sha": "fc08dd836376b0f8d3223e0098388c293f58c40e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fc08dd836376b0f8d3223e0098388c293f58c40e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9a44f627be0b3c49184e3ad594849f9b5ed78daa", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeGKbGCRBK7hj4Ov3rIwAAdHIIALKQiUcMIHryt8OnrvI8aM8l\n00CP6E7/L5fz2GWt+wO6nT4tJXWMGWck81nQfku09n4VUn0jbll3cwXJTygk7FY0\ndF/zaiK0n1q4yDMMtctWEKMUz0K2smqvVqpfqASd4jX76kR1kYiv2knyiu5q1IL0\nIJrFGaeq7vuty9i3glAT0QeHEH6u037ElISaF1S08p52mxmGMgceK0qt9f7Bn+Zb\nH+jYL1xJZ4ivrNU9I7cTlOiQAlrMRfJe67ngP0CKPy1hYkcMBklV4R47Y3bticEj\nwfnMvLAay+b5tGt87V0t1V2SUqjhDT/ojOkMW8GWJxBjSpP828XMVNhekwpjq9U=\n=XnMx\n-----END PGP SIGNATURE-----\n", "payload": "tree fc08dd836376b0f8d3223e0098388c293f58c40e\nparent 2068e48c698b93974d1e3261940dbea121ef16c3\nparent ca62d98781f13b6fb82c4d19269ee255208fb3d4\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1578673862 +0000\ncommitter GitHub <noreply@github.com> 1578673862 +0000\n\nMerge #2785\n\n2785: Expand PAREN_EXPR as expression r=matklad a=edwin0cheng\n\n\n\nCo-authored-by: Edwin Cheng <edwin0cheng@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9a44f627be0b3c49184e3ad594849f9b5ed78daa", "html_url": "https://github.com/rust-lang/rust/commit/9a44f627be0b3c49184e3ad594849f9b5ed78daa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9a44f627be0b3c49184e3ad594849f9b5ed78daa/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2068e48c698b93974d1e3261940dbea121ef16c3", "url": "https://api.github.com/repos/rust-lang/rust/commits/2068e48c698b93974d1e3261940dbea121ef16c3", "html_url": "https://github.com/rust-lang/rust/commit/2068e48c698b93974d1e3261940dbea121ef16c3"}, {"sha": "ca62d98781f13b6fb82c4d19269ee255208fb3d4", "url": "https://api.github.com/repos/rust-lang/rust/commits/ca62d98781f13b6fb82c4d19269ee255208fb3d4", "html_url": "https://github.com/rust-lang/rust/commit/ca62d98781f13b6fb82c4d19269ee255208fb3d4"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "d41b341616b02bb1004aac5b59463d957dc45156", "filename": "crates/ra_hir_expand/src/db.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9a44f627be0b3c49184e3ad594849f9b5ed78daa/crates%2Fra_hir_expand%2Fsrc%2Fdb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9a44f627be0b3c49184e3ad594849f9b5ed78daa/crates%2Fra_hir_expand%2Fsrc%2Fdb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_expand%2Fsrc%2Fdb.rs?ref=9a44f627be0b3c49184e3ad594849f9b5ed78daa", "patch": "@@ -187,6 +187,7 @@ fn to_fragment_kind(db: &dyn AstDatabase, macro_call_id: MacroCallId) -> Fragmen\n         ARG_LIST => FragmentKind::Expr,\n         TRY_EXPR => FragmentKind::Expr,\n         TUPLE_EXPR => FragmentKind::Expr,\n+        PAREN_EXPR => FragmentKind::Expr,\n         ITEM_LIST => FragmentKind::Items,\n         _ => {\n             // Unknown , Just guess it is `Items`"}, {"sha": "6c5d39549a52cafec3e8f2591abf03968e905dd5", "filename": "crates/ra_hir_ty/src/tests/regression.rs", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/9a44f627be0b3c49184e3ad594849f9b5ed78daa/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fregression.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9a44f627be0b3c49184e3ad594849f9b5ed78daa/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fregression.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fregression.rs?ref=9a44f627be0b3c49184e3ad594849f9b5ed78daa", "patch": "@@ -309,6 +309,23 @@ fn test<R>(query_response: Canonical<QueryResponse<R>>) {\n     );\n }\n \n+#[test]\n+fn infer_paren_macro_call() {\n+    assert_snapshot!(\n+        infer(r#\"\n+macro_rules! bar { () => {0u32} }\n+fn test() {\n+    let a = (bar!());\n+}\n+\"#),\n+        @r###\"\n+    ![0; 4) '0u32': u32\n+    [45; 70) '{     ...()); }': ()\n+    [55; 56) 'a': u32\n+        \"###\n+    );\n+}\n+\n #[test]\n fn bug_1030() {\n     assert_snapshot!(infer(r#\""}]}