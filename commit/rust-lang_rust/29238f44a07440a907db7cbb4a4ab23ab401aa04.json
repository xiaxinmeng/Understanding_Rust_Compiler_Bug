{"sha": "29238f44a07440a907db7cbb4a4ab23ab401aa04", "node_id": "C_kwDOAAsO6NoAKDI5MjM4ZjQ0YTA3NDQwYTkwN2RiN2NiYjRhNGFiMjNhYjQwMWFhMDQ", "commit": {"author": {"name": "Andrew Pollack", "email": "andrewpkq@gmail.com", "date": "2022-08-09T17:59:10Z"}, "committer": {"name": "Andrew Pollack", "email": "andrewpkq@gmail.com", "date": "2022-08-09T20:02:19Z"}, "message": "LLVM lib unwind fuchsia config\n\nRemoving libunwind from Fuchsia target docs", "tree": {"sha": "5c7f54ec0414c4d64b5ad5e465b07c13306b8282", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5c7f54ec0414c4d64b5ad5e465b07c13306b8282"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/29238f44a07440a907db7cbb4a4ab23ab401aa04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/29238f44a07440a907db7cbb4a4ab23ab401aa04", "html_url": "https://github.com/rust-lang/rust/commit/29238f44a07440a907db7cbb4a4ab23ab401aa04", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/29238f44a07440a907db7cbb4a4ab23ab401aa04/comments", "author": {"login": "andrewpollack", "id": 24868505, "node_id": "MDQ6VXNlcjI0ODY4NTA1", "avatar_url": "https://avatars.githubusercontent.com/u/24868505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewpollack", "html_url": "https://github.com/andrewpollack", "followers_url": "https://api.github.com/users/andrewpollack/followers", "following_url": "https://api.github.com/users/andrewpollack/following{/other_user}", "gists_url": "https://api.github.com/users/andrewpollack/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewpollack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewpollack/subscriptions", "organizations_url": "https://api.github.com/users/andrewpollack/orgs", "repos_url": "https://api.github.com/users/andrewpollack/repos", "events_url": "https://api.github.com/users/andrewpollack/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewpollack/received_events", "type": "User", "site_admin": false}, "committer": {"login": "andrewpollack", "id": 24868505, "node_id": "MDQ6VXNlcjI0ODY4NTA1", "avatar_url": "https://avatars.githubusercontent.com/u/24868505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewpollack", "html_url": "https://github.com/andrewpollack", "followers_url": "https://api.github.com/users/andrewpollack/followers", "following_url": "https://api.github.com/users/andrewpollack/following{/other_user}", "gists_url": "https://api.github.com/users/andrewpollack/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewpollack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewpollack/subscriptions", "organizations_url": "https://api.github.com/users/andrewpollack/orgs", "repos_url": "https://api.github.com/users/andrewpollack/repos", "events_url": "https://api.github.com/users/andrewpollack/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewpollack/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6d3f1beae1720055e5a30f4dbe7a9e7fb810c65e", "url": "https://api.github.com/repos/rust-lang/rust/commits/6d3f1beae1720055e5a30f4dbe7a9e7fb810c65e", "html_url": "https://github.com/rust-lang/rust/commit/6d3f1beae1720055e5a30f4dbe7a9e7fb810c65e"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "c4983accc68db9f7f677cf262f7f5be0cfeaea97", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/29238f44a07440a907db7cbb4a4ab23ab401aa04/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29238f44a07440a907db7cbb4a4ab23ab401aa04/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=29238f44a07440a907db7cbb4a4ab23ab401aa04", "patch": "@@ -1445,7 +1445,11 @@ impl Config {\n             .get(&target)\n             .and_then(|t| t.llvm_libunwind)\n             .or(self.llvm_libunwind_default)\n-            .unwrap_or(LlvmLibunwind::No)\n+            .unwrap_or(if target.contains(\"fuchsia\") {\n+                LlvmLibunwind::InTree\n+            } else {\n+                LlvmLibunwind::No\n+            })\n     }\n \n     pub fn submodules(&self, rust_info: &GitInfo) -> bool {"}, {"sha": "c526e4d1fa82258045939a6abbf778834ee50555", "filename": "src/doc/rustc/src/platform-support/fuchsia.md", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/29238f44a07440a907db7cbb4a4ab23ab401aa04/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Ffuchsia.md", "raw_url": "https://github.com/rust-lang/rust/raw/29238f44a07440a907db7cbb4a4ab23ab401aa04/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Ffuchsia.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Ffuchsia.md?ref=29238f44a07440a907db7cbb4a4ab23ab401aa04", "patch": "@@ -53,12 +53,6 @@ In `config.toml`, add:\n ```toml\n [build]\n target = [\"<host_platform>\", \"aarch64-fuchsia\", \"x86_64-fuchsia\"]\n-\n-[target.x86_64-fuchsia]\n-llvm-libunwind = \"in-tree\"\n-\n-[target.aarch64-fuchsia]\n-llvm-libunwind = \"in-tree\"\n ```\n \n Additionally, the following environment variables must be configured (for"}]}