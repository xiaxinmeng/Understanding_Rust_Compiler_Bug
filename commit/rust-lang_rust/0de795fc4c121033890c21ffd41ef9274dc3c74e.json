{"sha": "0de795fc4c121033890c21ffd41ef9274dc3c74e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBkZTc5NWZjNGMxMjEwMzM4OTBjMjFmZmQ0MWVmOTI3NGRjM2M3NGU=", "commit": {"author": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2020-08-12T21:43:01Z"}, "committer": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2020-08-12T21:44:16Z"}, "message": "Consider only IdentPats for param name hints", "tree": {"sha": "73a91e17f2fae1fd9db08c896b71976671512172", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/73a91e17f2fae1fd9db08c896b71976671512172"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0de795fc4c121033890c21ffd41ef9274dc3c74e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0de795fc4c121033890c21ffd41ef9274dc3c74e", "html_url": "https://github.com/rust-lang/rust/commit/0de795fc4c121033890c21ffd41ef9274dc3c74e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0de795fc4c121033890c21ffd41ef9274dc3c74e/comments", "author": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f277ec27ac024992e8b8834c68e16b31c983be1b", "url": "https://api.github.com/repos/rust-lang/rust/commits/f277ec27ac024992e8b8834c68e16b31c983be1b", "html_url": "https://github.com/rust-lang/rust/commit/f277ec27ac024992e8b8834c68e16b31c983be1b"}], "stats": {"total": 22, "additions": 14, "deletions": 8}, "files": [{"sha": "81fe274adf229fa9d8af1c7a2feb8c626bfdd452", "filename": "crates/ra_ide/src/inlay_hints.rs", "status": "modified", "additions": 14, "deletions": 8, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/0de795fc4c121033890c21ffd41ef9274dc3c74e/crates%2Fra_ide%2Fsrc%2Finlay_hints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0de795fc4c121033890c21ffd41ef9274dc3c74e/crates%2Fra_ide%2Fsrc%2Finlay_hints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Finlay_hints.rs?ref=0de795fc4c121033890c21ffd41ef9274dc3c74e", "patch": "@@ -156,15 +156,15 @@ fn get_param_name_hints(\n         .params(sema.db)\n         .into_iter()\n         .zip(args)\n-        .filter_map(|((param, _ty), arg)| match param? {\n-            Either::Left(self_param) => Some((self_param.to_string(), arg)),\n-            Either::Right(pat) => {\n-                let param_name = match pat {\n+        .filter_map(|((param, _ty), arg)| {\n+            let param_name = match param? {\n+                Either::Left(self_param) => self_param.to_string(),\n+                Either::Right(pat) => match pat {\n                     ast::Pat::IdentPat(it) => it.name()?.to_string(),\n-                    it => it.to_string(),\n-                };\n-                Some((param_name, arg))\n-            }\n+                    _ => return None,\n+                },\n+            };\n+            Some((param_name, arg))\n         })\n         .filter(|(param_name, arg)| should_show_param_name_hint(sema, &callable, &param_name, &arg))\n         .map(|(param_name, arg)| InlayHint {\n@@ -707,6 +707,8 @@ fn different_order(param: &Param) {}\n fn different_order_mut(param: &mut Param) {}\n fn has_underscore(_param: bool) {}\n fn enum_matches_param_name(completion_kind: CompletionKind) {}\n+fn param_destructuring_omitted_1((a, b): (u32, u32)) {}\n+fn param_destructuring_omitted_2(TestVarContainer { test_var: _ }: TestVarContainer) {}\n \n fn twiddle(twiddle: bool) {}\n fn doo(_doo: bool) {}\n@@ -746,6 +748,10 @@ fn main() {\n     let b: f64 = 4.0;\n     let _: f64 = a.div_euclid(b);\n     let _: f64 = a.abs_sub(b);\n+\n+    let range: (u32, u32) = (3, 5);\n+    param_destructuring_omitted_1(range);\n+    param_destructuring_omitted_2(container);\n }\"#,\n         );\n     }"}]}