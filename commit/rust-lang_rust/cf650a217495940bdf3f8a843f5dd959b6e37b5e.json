{"sha": "cf650a217495940bdf3f8a843f5dd959b6e37b5e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNmNjUwYTIxNzQ5NTk0MGJkZjNmOGE4NDNmNWRkOTU5YjZlMzdiNWU=", "commit": {"author": {"name": "Diggory Hardy", "email": "github@dhardy.name", "date": "2015-04-27T11:24:47Z"}, "committer": {"name": "Diggory Hardy", "email": "github@dhardy.name", "date": "2015-04-27T11:24:47Z"}, "message": "Update reference.md: floating-point section\n\nClarify type inference of floating-point literals", "tree": {"sha": "c1a54c5c74705a108c2e9cd200886ba8f35b49e5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c1a54c5c74705a108c2e9cd200886ba8f35b49e5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cf650a217495940bdf3f8a843f5dd959b6e37b5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cf650a217495940bdf3f8a843f5dd959b6e37b5e", "html_url": "https://github.com/rust-lang/rust/commit/cf650a217495940bdf3f8a843f5dd959b6e37b5e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cf650a217495940bdf3f8a843f5dd959b6e37b5e/comments", "author": {"login": "dhardy", "id": 134893, "node_id": "MDQ6VXNlcjEzNDg5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/134893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhardy", "html_url": "https://github.com/dhardy", "followers_url": "https://api.github.com/users/dhardy/followers", "following_url": "https://api.github.com/users/dhardy/following{/other_user}", "gists_url": "https://api.github.com/users/dhardy/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhardy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhardy/subscriptions", "organizations_url": "https://api.github.com/users/dhardy/orgs", "repos_url": "https://api.github.com/users/dhardy/repos", "events_url": "https://api.github.com/users/dhardy/events{/privacy}", "received_events_url": "https://api.github.com/users/dhardy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dhardy", "id": 134893, "node_id": "MDQ6VXNlcjEzNDg5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/134893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhardy", "html_url": "https://github.com/dhardy", "followers_url": "https://api.github.com/users/dhardy/followers", "following_url": "https://api.github.com/users/dhardy/following{/other_user}", "gists_url": "https://api.github.com/users/dhardy/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhardy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhardy/subscriptions", "organizations_url": "https://api.github.com/users/dhardy/orgs", "repos_url": "https://api.github.com/users/dhardy/repos", "events_url": "https://api.github.com/users/dhardy/events{/privacy}", "received_events_url": "https://api.github.com/users/dhardy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "709f3c51302ca86617cca4a67648302c5088381c", "url": "https://api.github.com/repos/rust-lang/rust/commits/709f3c51302ca86617cca4a67648302c5088381c", "html_url": "https://github.com/rust-lang/rust/commit/709f3c51302ca86617cca4a67648302c5088381c"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "848c0df10ee9af5484d919b4e72ea2188f7574fc", "filename": "src/doc/reference.md", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/cf650a217495940bdf3f8a843f5dd959b6e37b5e/src%2Fdoc%2Freference.md", "raw_url": "https://github.com/rust-lang/rust/raw/cf650a217495940bdf3f8a843f5dd959b6e37b5e/src%2Fdoc%2Freference.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Freference.md?ref=cf650a217495940bdf3f8a843f5dd959b6e37b5e", "patch": "@@ -366,11 +366,19 @@ A _floating-point literal_ has one of two forms:\n   optionally followed by another decimal literal, with an optional _exponent_.\n * A single _decimal literal_ followed by an _exponent_.\n \n-By default, a floating-point literal has a generic type, and, like integer\n-literals, the type must be uniquely determined from the context. There are two valid\n+Like integer literals, a floating-point literal may be followed by a\n+suffix, so long as the pre-suffix part does not end with `U+002E` (`.`).\n+The suffix forcibly sets the type of the literal. There are two valid\n _floating-point suffixes_, `f32` and `f64` (the 32-bit and 64-bit floating point\n types), which explicitly determine the type of the literal.\n \n+The type of an _unsuffixed_ floating-point literal is determined by type\n+inference. If a floating-point type can be _uniquely_ determined from the\n+surrounding program context, the unsuffixed floating-point literal has that type.\n+If the program context underconstrains the type, it defaults to double-precision `f64`;\n+if the program context overconstrains the type, it is considered a static type\n+error.\n+\n Examples of floating-point literals of various forms:\n \n ```"}]}