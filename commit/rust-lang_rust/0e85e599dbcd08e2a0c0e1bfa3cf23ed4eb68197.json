{"sha": "0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlODVlNTk5ZGJjZDA4ZTJhMGMwZTFiZmEzY2YyM2VkNGViNjgxOTc=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-02-27T04:13:08Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-06T22:55:43Z"}, "message": "mk: Pass the name of the make command to maketest.py\n\nThis should make BSD use the proper GNU make.", "tree": {"sha": "0f645cd5805994a8e2978ddf33ea9f406a31a303", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0f645cd5805994a8e2978ddf33ea9f406a31a303"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197", "html_url": "https://github.com/rust-lang/rust/commit/0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a6173e19d01ec63741334625a98ecca52a289756", "url": "https://api.github.com/repos/rust-lang/rust/commits/a6173e19d01ec63741334625a98ecca52a289756", "html_url": "https://github.com/rust-lang/rust/commit/a6173e19d01ec63741334625a98ecca52a289756"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "c134e71986f40412a003667f016eca9302fdcfa4", "filename": "mk/tests.mk", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197", "patch": "@@ -904,6 +904,7 @@ $(3)/test/run-make/%-$(1)-T-$(2)-H-$(3).ok: \\\n \t@rm -rf $(3)/test/run-make/$$*\n \t@mkdir -p $(3)/test/run-make/$$*\n \t$$(Q)$$(CFG_PYTHON) $(S)src/etc/maketest.py $$(dir $$<) \\\n+        $$(MAKE) \\\n \t    $$(HBIN$(1)_H_$(3))/rustc$$(X_$(3)) \\\n \t    $(3)/test/run-make/$$* \\\n \t    \"$$(CC_$(3)) $$(CFG_GCCISH_CFLAGS_$(3))\" \\"}, {"sha": "9e8bee3abb6c0254bac1d2910c5afedf76296b5a", "filename": "src/etc/maketest.py", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197/src%2Fetc%2Fmaketest.py", "raw_url": "https://github.com/rust-lang/rust/raw/0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197/src%2Fetc%2Fmaketest.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fmaketest.py?ref=0e85e599dbcd08e2a0c0e1bfa3cf23ed4eb68197", "patch": "@@ -17,20 +17,21 @@\n     print 'ignoring make tests on windows'\n     sys.exit(0)\n \n-os.putenv('RUSTC', os.path.abspath(sys.argv[2]))\n-os.putenv('TMPDIR', os.path.abspath(sys.argv[3]))\n-os.putenv('CC', sys.argv[4])\n-os.putenv('RUSTDOC', os.path.abspath(sys.argv[5]))\n-filt = sys.argv[6]\n-ldpath = sys.argv[7]\n+make = sys.argv[2]\n+os.putenv('RUSTC', os.path.abspath(sys.argv[3]))\n+os.putenv('TMPDIR', os.path.abspath(sys.argv[4]))\n+os.putenv('CC', sys.argv[5])\n+os.putenv('RUSTDOC', os.path.abspath(sys.argv[6]))\n+filt = sys.argv[7]\n+ldpath = sys.argv[8]\n if ldpath != '':\n     os.putenv(ldpath.split('=')[0], ldpath.split('=')[1])\n \n if not filt in sys.argv[1]:\n     sys.exit(0)\n print('maketest: ' + os.path.basename(os.path.dirname(sys.argv[1])))\n \n-proc = subprocess.Popen(['make', '-C', sys.argv[1]],\n+proc = subprocess.Popen([make, '-C', sys.argv[1]],\n                         stdout = subprocess.PIPE,\n                         stderr = subprocess.PIPE)\n out, err = proc.communicate()"}]}