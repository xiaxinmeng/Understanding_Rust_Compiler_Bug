{"sha": "f6348f1924626ea15bc6c4e6be3f525f891767e3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY2MzQ4ZjE5MjQ2MjZlYTE1YmM2YzRlNmJlM2Y1MjVmODkxNzY3ZTM=", "commit": {"author": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-05-28T01:20:43Z"}, "committer": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-05-28T01:20:43Z"}, "message": "Rewrite to a `match`", "tree": {"sha": "51b6a0eca56f53d49e500368d355a9bfd59d6c9c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/51b6a0eca56f53d49e500368d355a9bfd59d6c9c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f6348f1924626ea15bc6c4e6be3f525f891767e3", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niIsEABYIADMWIQRJ2jPMDdiQ+U4U42Z0+n/VuNoUuAUCYLBFaxUceWQtaHVhbmdA\nb3V0bG9vay5jb20ACgkQdPp/1bjaFLhAUwD/WiVkfifmNkdwmv8GIPfiQnepuraV\nPpwpDvUKMcFCqxsA/1oY3ZqJQixUljk0qZYf8yPKyRyvAejtQ6au878ydGEN\n=cgeG\n-----END PGP SIGNATURE-----", "payload": "tree 51b6a0eca56f53d49e500368d355a9bfd59d6c9c\nparent 4ad21c9a9da7ffa2a2c2c43b650f8fdec9a31a93\nauthor hyd-dev <yd-huang@outlook.com> 1622164843 +0800\ncommitter hyd-dev <yd-huang@outlook.com> 1622164843 +0800\n\nRewrite to a `match`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f6348f1924626ea15bc6c4e6be3f525f891767e3", "html_url": "https://github.com/rust-lang/rust/commit/f6348f1924626ea15bc6c4e6be3f525f891767e3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f6348f1924626ea15bc6c4e6be3f525f891767e3/comments", "author": null, "committer": null, "parents": [{"sha": "4ad21c9a9da7ffa2a2c2c43b650f8fdec9a31a93", "url": "https://api.github.com/repos/rust-lang/rust/commits/4ad21c9a9da7ffa2a2c2c43b650f8fdec9a31a93", "html_url": "https://github.com/rust-lang/rust/commit/4ad21c9a9da7ffa2a2c2c43b650f8fdec9a31a93"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "6f7519e61561b6acb0125ab81a8ea25782f0390d", "filename": "compiler/rustc_mir/src/interpret/eval_context.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f6348f1924626ea15bc6c4e6be3f525f891767e3/compiler%2Frustc_mir%2Fsrc%2Finterpret%2Feval_context.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6348f1924626ea15bc6c4e6be3f525f891767e3/compiler%2Frustc_mir%2Fsrc%2Finterpret%2Feval_context.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Finterpret%2Feval_context.rs?ref=f6348f1924626ea15bc6c4e6be3f525f891767e3", "patch": "@@ -857,15 +857,14 @@ impl<'mir, 'tcx: 'mir, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n                     panic!(\"Encountered StackPopCleanup::None when unwinding!\")\n                 }\n             };\n-            self.unwind_to_block(unwind)?;\n+            self.unwind_to_block(unwind)\n         } else {\n             // Follow the normal return edge.\n-            if let StackPopCleanup::Goto { ret, .. } = return_to_block {\n-                self.return_to_block(ret)?;\n+            match return_to_block {\n+                StackPopCleanup::Goto { ret, .. } => self.return_to_block(ret),\n+                StackPopCleanup::None { .. } => Ok(()),\n             }\n         }\n-\n-        Ok(())\n     }\n \n     /// Mark a storage as live, killing the previous content."}]}