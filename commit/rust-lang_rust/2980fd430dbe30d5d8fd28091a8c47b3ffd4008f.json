{"sha": "2980fd430dbe30d5d8fd28091a8c47b3ffd4008f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI5ODBmZDQzMGRiZTMwZDVkOGZkMjgwOTFhOGM0N2IzZmZkNDAwOGY=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-06-15T20:45:54Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-06-15T20:45:54Z"}, "message": "Merge #9267 #9279\n\n9267: fix: Code: update the LSP server without asking r=matklad a=lnicola\n\nMost LSP extensions seem to do the same thing, and this is causing some\r\nconfusion for users who don't notice the update prompt before Code hides\r\nit.\n\n9279: minor: Document installation via Homebrew r=matklad a=Svetlitski\n\n`rust-analyzer` can be installed via [Homebrew](https://brew.sh) (AKA`brew`) on macOS. I've added instructions on how to do so to the documentation. Additionally, I added a `.gitignore` rule to ignore the HTML documentation produced by  `asciidoctor manual.adoc` so that it is not accidentally checked into `git`.\n\nCo-authored-by: Lauren\u021biu Nicola <lnicola@dend.ro>\nCo-authored-by: Kevin Svetlitski <kevin_svetlitski@berkeley.edu>\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "7050b955589eb78ccdae8f675f20a27f4d7541b8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7050b955589eb78ccdae8f675f20a27f4d7541b8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgyRGCCRBK7hj4Ov3rIwAA5HgIAKx+JglnHC2OQJH9gkfG/B2G\niRhAGO6sJeFMa201KuHSWs8bzItY8xs5q+y7iFh6UW5MenrQcSC8j7tj2vxtwmQM\nCCn6lehiLXroHCWDSZ3/WUgfG1Ua87XSWf4CBt1zBlGVWurf3I9ia9ZUFZB7uDFk\ndidCNngR+gtgLCJGoMhSozJwZ1h13nfsRxNQ8F2La8ODoj1smRRcrbsroQeGdyf7\nG55yqgxaatXdDfrl62Z2km7qtIzlgBL/zWojguoRUanWF9FDwOsglP9446IsxdM5\n9LEQl52KNk2lQ0jFdUV6h1kcRqq/AZpDtKtqvJJiaU85Kk3yMgWFME4GkbRXnvM=\n=bC3v\n-----END PGP SIGNATURE-----\n", "payload": "tree 7050b955589eb78ccdae8f675f20a27f4d7541b8\nparent 5ba5e6348f18d56cce37b71b0c18a8f9b3728eeb\nparent cbf53ba2514a0a19ba8fc45348e0e6610cb88859\nparent 78668f76a084ac3612808db9d54d6f175145af98\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1623789954 +0000\ncommitter GitHub <noreply@github.com> 1623789954 +0000\n\nMerge #9267 #9279\n\n9267: fix: Code: update the LSP server without asking r=matklad a=lnicola\n\nMost LSP extensions seem to do the same thing, and this is causing some\r\nconfusion for users who don't notice the update prompt before Code hides\r\nit.\n\n9279: minor: Document installation via Homebrew r=matklad a=Svetlitski\n\n`rust-analyzer` can be installed via [Homebrew](https://brew.sh) (AKA`brew`) on macOS. I've added instructions on how to do so to the documentation. Additionally, I added a `.gitignore` rule to ignore the HTML documentation produced by  `asciidoctor manual.adoc` so that it is not accidentally checked into `git`.\n\nCo-authored-by: Lauren\u021biu Nicola <lnicola@dend.ro>\nCo-authored-by: Kevin Svetlitski <kevin_svetlitski@berkeley.edu>\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f", "html_url": "https://github.com/rust-lang/rust/commit/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5ba5e6348f18d56cce37b71b0c18a8f9b3728eeb", "url": "https://api.github.com/repos/rust-lang/rust/commits/5ba5e6348f18d56cce37b71b0c18a8f9b3728eeb", "html_url": "https://github.com/rust-lang/rust/commit/5ba5e6348f18d56cce37b71b0c18a8f9b3728eeb"}, {"sha": "cbf53ba2514a0a19ba8fc45348e0e6610cb88859", "url": "https://api.github.com/repos/rust-lang/rust/commits/cbf53ba2514a0a19ba8fc45348e0e6610cb88859", "html_url": "https://github.com/rust-lang/rust/commit/cbf53ba2514a0a19ba8fc45348e0e6610cb88859"}, {"sha": "78668f76a084ac3612808db9d54d6f175145af98", "url": "https://api.github.com/repos/rust-lang/rust/commits/78668f76a084ac3612808db9d54d6f175145af98", "html_url": "https://github.com/rust-lang/rust/commit/78668f76a084ac3612808db9d54d6f175145af98"}], "stats": {"total": 45, "additions": 24, "deletions": 21}, "files": [{"sha": "718fbed120696077f6371c54945fd3ef593089e5", "filename": "PRIVACY.md", "status": "modified", "additions": 1, "deletions": 17, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/PRIVACY.md", "raw_url": "https://github.com/rust-lang/rust/raw/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/PRIVACY.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/PRIVACY.md?ref=2980fd430dbe30d5d8fd28091a8c47b3ffd4008f", "patch": "@@ -1,17 +1 @@\n-# Privacy Notes\n-\n-## LSP server binary\n-\n-The LSP server performs no network access in itself, but runs `cargo metadata` which will update or download the crate registry and the source code of the project dependencies.\n-\n-## Visual Studio Code extension\n-\n-The Code extension connects to GitHub to download updated LSP binaries and, if the nightly channel is selected, to perform update checks.\n-\n-## Other editor plugins\n-\n-Any other editor plugins that integrate with `rust-analyzer` are not under the control of the `rust-analyzer` developers. For any privacy concerns, you should check with their respective developers.\n-\n-## Others\n-\n-If `cargo check` is enabled (the default), any build scripts or procedural macros used by the project or its dependencies will be executed. This is also the case when `cargo check` is disabled, but build script or procedural macro support is enabled in `rust-analyzer` (on by default).\n+See the [Privacy](https://rust-analyzer.github.io/manual.html#security) section of the user manual."}, {"sha": "e0154241680c657868d4ea50244590f4a881d36a", "filename": "README.md", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=2980fd430dbe30d5d8fd28091a8c47b3ffd4008f", "patch": "@@ -27,6 +27,10 @@ If you want to **use** rust-analyzer's language server with your editor of\n choice, check [the manual](https://rust-analyzer.github.io/manual.html) folder.\n It also contains some tips & tricks to help you be more productive when using rust-analyzer.\n \n+## Security and Privacy\n+\n+See the corresponding sections of [the manual](https://rust-analyzer.github.io/manual.html#security).\n+\n ## Communication\n \n For usage and troubleshooting requests, please use \"IDEs and Editors\" category of the Rust forum:"}, {"sha": "c32b1bcec2eef0f6163faa2d9e64545aea7d367d", "filename": "docs/user/.gitignore", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/docs%2Fuser%2F.gitignore", "raw_url": "https://github.com/rust-lang/rust/raw/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/docs%2Fuser%2F.gitignore", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2F.gitignore?ref=2980fd430dbe30d5d8fd28091a8c47b3ffd4008f", "patch": "@@ -0,0 +1 @@\n+manual.html"}, {"sha": "816e094c212facec7545894253f6c823bedfff05", "filename": "docs/user/manual.adoc", "status": "modified", "additions": 17, "deletions": 3, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/docs%2Fuser%2Fmanual.adoc", "raw_url": "https://github.com/rust-lang/rust/raw/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/docs%2Fuser%2Fmanual.adoc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Fmanual.adoc?ref=2980fd430dbe30d5d8fd28091a8c47b3ffd4008f", "patch": "@@ -201,6 +201,15 @@ $ eselect repository enable guru && emaint sync -r guru\n $ emerge rust-analyzer-bin\n ----\n \n+==== macOS\n+\n+The `rust-analyzer` binary can be installed via https://brew.sh/[Homebrew].\n+\n+[source,bash]\n+----\n+$ brew install rust-analyzer\n+----\n+\n === Emacs\n \n Note this excellent https://robert.kra.hn/posts/2021-02-07_rust-with-emacs/[guide] from https://github.com/rksm[@rksm].\n@@ -609,9 +618,14 @@ Here is a **non-exhaustive** list of ways to make rust-analyzer execute arbitrar\n * VS Code plugin reads configuration from project directory, and that can be used to override paths to various executables, like `rustfmt` or `rust-analyzer` itself.\n * rust-analyzer's syntax trees library uses a lot of `unsafe` and hasn't been properly audited for memory safety.\n \n-rust-analyzer itself doesn't access the network.\n-The VS Code plugin doesn't access the network unless the nightly channel is selected in the settings.\n-In that case, the plugin uses the GitHub API to check for and download updates.\n+== Privacy\n+\n+The LSP server performs no network access in itself, but runs `cargo metadata` which will update or download the crate registry and the source code of the project dependencies.\n+If enabled (the default), build scripts and procedural macros can do anything.\n+\n+The Code extension automatically connects to GitHub to download updated LSP binaries and, if the nightly channel is selected, to perform update checks using the GitHub API. For `rust-analyzer` developers, using `cargo xtask release` uses the same API to put together the release notes.\n+\n+Any other editor plugins are not under the control of the `rust-analyzer` developers. For any privacy concerns, you should check with their respective developers.\n \n == Features\n "}, {"sha": "aa47bd0edeb5ffc5765aff97a9beeff62ec3c6db", "filename": "editors/code/package.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/2980fd430dbe30d5d8fd28091a8c47b3ffd4008f/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=2980fd430dbe30d5d8fd28091a8c47b3ffd4008f", "patch": "@@ -313,7 +313,7 @@\n                 },\n                 \"rust-analyzer.updates.askBeforeDownload\": {\n                     \"type\": \"boolean\",\n-                    \"default\": true,\n+                    \"default\": false,\n                     \"description\": \"Whether to ask for permission before downloading any files from the Internet.\"\n                 },\n                 \"rust-analyzer.server.path\": {"}]}