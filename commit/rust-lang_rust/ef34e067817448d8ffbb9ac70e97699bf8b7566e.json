{"sha": "ef34e067817448d8ffbb9ac70e97699bf8b7566e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVmMzRlMDY3ODE3NDQ4ZDhmZmJiOWFjNzBlOTc2OTliZjhiNzU2NmU=", "commit": {"author": {"name": "Ngo Iok Ui", "email": "wusyong9104@gmail.com", "date": "2020-11-21T05:45:59Z"}, "committer": {"name": "Ngo Iok Ui", "email": "wusyong9104@gmail.com", "date": "2020-11-21T05:45:59Z"}, "message": "List all variants of TyKind", "tree": {"sha": "fccf3ff58c0d19460399571ac9838021fdfede57", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fccf3ff58c0d19460399571ac9838021fdfede57"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ef34e067817448d8ffbb9ac70e97699bf8b7566e", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE4q3t44r++8ITffjc7N7wAbpdL1QFAl+4qZ4ACgkQ7N7wAbpd\nL1Q0IQ//bLjnCAgCzyCNP2CsoMdV54WY0D8HdWbRIGcuJsGZB0VNIYXBJxCBFhAh\nveqqAKQLgGtQG1hfdpBsBjdBrDNDIfNeUHp34wKdsNHOJWHQzzb/5qXBbfJA0IDc\nAIUEeRR9CvsOHL++kWZI7ttakriaNqdaCR6iZeGSmdKFfxGuovxV3xHkTyRcbC6a\n+VGZpuoWCBzTX+0mmFktQWZhGExy4JEr1Zpbgn/KMZOoNbDakENiQaCmuoP+M7/M\n8iO4wVCDe9L3U/aaOKpo0vkmm9xS8xtGaEsAsZ2VRUgiaOvjfGOmsNtwWJarAsHL\nRi5u7GqF/GX/7Eq9i5O+Bv9MAzl8L3rc13DXE2P9FaAROl/h7Mc40ZgIWu6iKgIO\naz3FJhvb5BN/N+6eH2EvRrPl2qWgf7aZvmkO7Tavg1wTXfn20VkzVkcF6kEaaIuL\n6UJNga5Z6Up6nb1/pSOiJ+QoqrhpgDQreMRsCIE3Ly0swXCPYkaepuwiZmv7pNnj\nd+W3nzDJFlGnVT/0oAa7crfyGkfxxBjeQ85luojqDU9pla7JT8RJ3+//gx3t2ppl\nDz9Adt5gthUD0Oj8GQ0DSxu4+QvnYsRoRpXU79WnJs2f6DaMrFoWgn4WV/ctRPU1\nAlqZu8gxJmu/5OO71YbLsQQIuzeFHi3rkdsihQy1sk5JPEtPXCs=\n=RvZI\n-----END PGP SIGNATURE-----", "payload": "tree fccf3ff58c0d19460399571ac9838021fdfede57\nparent 459c83f98026551bb0d3d86ede21e6d7424d375e\nauthor Ngo Iok Ui <wusyong9104@gmail.com> 1605937559 +0800\ncommitter Ngo Iok Ui <wusyong9104@gmail.com> 1605937559 +0800\n\nList all variants of TyKind\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ef34e067817448d8ffbb9ac70e97699bf8b7566e", "html_url": "https://github.com/rust-lang/rust/commit/ef34e067817448d8ffbb9ac70e97699bf8b7566e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ef34e067817448d8ffbb9ac70e97699bf8b7566e/comments", "author": null, "committer": null, "parents": [{"sha": "459c83f98026551bb0d3d86ede21e6d7424d375e", "url": "https://api.github.com/repos/rust-lang/rust/commits/459c83f98026551bb0d3d86ede21e6d7424d375e", "html_url": "https://github.com/rust-lang/rust/commit/459c83f98026551bb0d3d86ede21e6d7424d375e"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "f666a89ca56decd9af79427d36d37ed196b59af6", "filename": "compiler/rustc_mir/src/interpret/intrinsics.rs", "status": "modified", "additions": 20, "deletions": 1, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/ef34e067817448d8ffbb9ac70e97699bf8b7566e/compiler%2Frustc_mir%2Fsrc%2Finterpret%2Fintrinsics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef34e067817448d8ffbb9ac70e97699bf8b7566e/compiler%2Frustc_mir%2Fsrc%2Finterpret%2Fintrinsics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Finterpret%2Fintrinsics.rs?ref=ef34e067817448d8ffbb9ac70e97699bf8b7566e", "patch": "@@ -83,7 +83,26 @@ crate fn eval_nullary_intrinsic<'tcx>(\n             | ty::Bound(_, _)\n             | ty::Placeholder(_)\n             | ty::Infer(_) => throw_inval!(TooGeneric),\n-            _ => ConstValue::from_machine_usize(0u64, &tcx),\n+            ty::Bool\n+            | ty::Char\n+            | ty::Int(_)\n+            | ty::Uint(_)\n+            | ty::Float(_)\n+            | ty::Foreign(_)\n+            | ty::Str\n+            | ty::Array(_, _)\n+            | ty::Slice(_)\n+            | ty::RawPtr(_)\n+            | ty::Ref(_, _, _)\n+            | ty::FnDef(_, _)\n+            | ty::FnPtr(_)\n+            | ty::Dynamic(_, _)\n+            | ty::Closure(_, _)\n+            | ty::Generator(_, _, _)\n+            | ty::GeneratorWitness(_)\n+            | ty::Never\n+            | ty::Tuple(_)\n+            | ty::Error(_) => ConstValue::from_machine_usize(0u64, &tcx),\n         },\n         other => bug!(\"`{}` is not a zero arg intrinsic\", other),\n     })"}]}