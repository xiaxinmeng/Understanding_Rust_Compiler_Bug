{"sha": "4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f", "node_id": "C_kwDOAAsO6NoAKDRkOWEwYmYyMWI1NDI5YzllM2QwOGI0YTczNWM0MGQ2MDExNGJhNWY", "commit": {"author": {"name": "b-naber", "email": "bn263@gmx.de", "date": "2021-11-30T23:20:57Z"}, "committer": {"name": "b-naber", "email": "bn263@gmx.de", "date": "2021-12-01T11:12:40Z"}, "message": "address review", "tree": {"sha": "5ca0c2e410f0a65897d1dd1ea873fcef0cacd930", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5ca0c2e410f0a65897d1dd1ea873fcef0cacd930"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f", "html_url": "https://github.com/rust-lang/rust/commit/4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f/comments", "author": {"login": "b-naber", "id": 71934879, "node_id": "MDQ6VXNlcjcxOTM0ODc5", "avatar_url": "https://avatars.githubusercontent.com/u/71934879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b-naber", "html_url": "https://github.com/b-naber", "followers_url": "https://api.github.com/users/b-naber/followers", "following_url": "https://api.github.com/users/b-naber/following{/other_user}", "gists_url": "https://api.github.com/users/b-naber/gists{/gist_id}", "starred_url": "https://api.github.com/users/b-naber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b-naber/subscriptions", "organizations_url": "https://api.github.com/users/b-naber/orgs", "repos_url": "https://api.github.com/users/b-naber/repos", "events_url": "https://api.github.com/users/b-naber/events{/privacy}", "received_events_url": "https://api.github.com/users/b-naber/received_events", "type": "User", "site_admin": false}, "committer": {"login": "b-naber", "id": 71934879, "node_id": "MDQ6VXNlcjcxOTM0ODc5", "avatar_url": "https://avatars.githubusercontent.com/u/71934879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b-naber", "html_url": "https://github.com/b-naber", "followers_url": "https://api.github.com/users/b-naber/followers", "following_url": "https://api.github.com/users/b-naber/following{/other_user}", "gists_url": "https://api.github.com/users/b-naber/gists{/gist_id}", "starred_url": "https://api.github.com/users/b-naber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b-naber/subscriptions", "organizations_url": "https://api.github.com/users/b-naber/orgs", "repos_url": "https://api.github.com/users/b-naber/repos", "events_url": "https://api.github.com/users/b-naber/events{/privacy}", "received_events_url": "https://api.github.com/users/b-naber/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "84bcd40927d0547d36df8f6419b4d060c8c5a840", "url": "https://api.github.com/repos/rust-lang/rust/commits/84bcd40927d0547d36df8f6419b4d060c8c5a840", "html_url": "https://github.com/rust-lang/rust/commit/84bcd40927d0547d36df8f6419b4d060c8c5a840"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "8667a6bea11f664eae6186f0ebb5fc4ca923d84a", "filename": "compiler/rustc_middle/src/query/mod.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs?ref=4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f", "patch": "@@ -1644,6 +1644,11 @@ rustc_queries! {\n         desc { \"normalizing `{:?}`\", goal }\n     }\n \n+    // FIXME: Implement `normalize_generic_arg_after_erasing_regions` and\n+    // `normalize_mir_const_after_erasing_regions` in terms of\n+    // `try_normalize_generic_arg_after_erasing_regions` and\n+    // `try_normalize_mir_const_after_erasing_regions`, respectively.\n+\n     /// Do not call this query directly: invoke `normalize_erasing_regions` instead.\n     query normalize_generic_arg_after_erasing_regions(\n         goal: ParamEnvAnd<'tcx, GenericArg<'tcx>>"}, {"sha": "57506bc68345b7c688f02c93daa8c28530085b0b", "filename": "compiler/rustc_middle/src/ty/layout.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f/compiler%2Frustc_middle%2Fsrc%2Fty%2Flayout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f/compiler%2Frustc_middle%2Fsrc%2Fty%2Flayout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Flayout.rs?ref=4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f", "patch": "@@ -240,6 +240,10 @@ fn layout_of<'tcx>(\n             let param_env = param_env.with_reveal_all_normalized(tcx);\n             let unnormalized_ty = ty;\n \n+            // FIXME: We might want to have two different versions of `layout_of`:\n+            // One that can be called after typecheck has completed and can use\n+            // `normalize_erasing_regions` here and another one that can be called\n+            // before typecheck has completed and uses `try_normalize_erasing_regions`.\n             let ty = match tcx.try_normalize_erasing_regions(param_env, ty) {\n                 Ok(t) => t,\n                 Err(normalization_error) => {"}, {"sha": "62fdec15af42091bf4db8381f2d815bf84b09140", "filename": "src/librustdoc/html/render/print_item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs?ref=4d9a0bf21b5429c9e3d08b4a735c40d60114ba5f", "patch": "@@ -1773,7 +1773,7 @@ fn document_type_layout(w: &mut Buffer, cx: &Context<'_>, ty_def_id: DefId) {\n             writeln!(\n                 w,\n                 \"<p><strong>Note:</strong> Encountered an error during type layout; \\\n-                the type was not normalizable.</p>\"\n+                the type failed to be normalized.</p>\"\n             )\n         }\n     }"}]}