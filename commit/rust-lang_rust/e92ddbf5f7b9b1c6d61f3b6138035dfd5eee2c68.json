{"sha": "e92ddbf5f7b9b1c6d61f3b6138035dfd5eee2c68", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU5MmRkYmY1ZjdiOWIxYzZkNjFmM2I2MTM4MDM1ZGZkNWVlZTJjNjg=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2017-08-02T02:13:47Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2017-08-02T02:22:23Z"}, "message": "improve hir::map::Map::get_parent_node doc", "tree": {"sha": "b3f0020860b434722293b63e656fc8f2b0643512", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b3f0020860b434722293b63e656fc8f2b0643512"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e92ddbf5f7b9b1c6d61f3b6138035dfd5eee2c68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e92ddbf5f7b9b1c6d61f3b6138035dfd5eee2c68", "html_url": "https://github.com/rust-lang/rust/commit/e92ddbf5f7b9b1c6d61f3b6138035dfd5eee2c68", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e92ddbf5f7b9b1c6d61f3b6138035dfd5eee2c68/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "640cfc852ae17d51a2f5e75fcae9a93431a3b38c", "url": "https://api.github.com/repos/rust-lang/rust/commits/640cfc852ae17d51a2f5e75fcae9a93431a3b38c", "html_url": "https://github.com/rust-lang/rust/commit/640cfc852ae17d51a2f5e75fcae9a93431a3b38c"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "45b1d6c184101bc2511be389378070dacd0cf715", "filename": "src/librustc/hir/map/mod.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e92ddbf5f7b9b1c6d61f3b6138035dfd5eee2c68/src%2Flibrustc%2Fhir%2Fmap%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e92ddbf5f7b9b1c6d61f3b6138035dfd5eee2c68/src%2Flibrustc%2Fhir%2Fmap%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmap%2Fmod.rs?ref=e92ddbf5f7b9b1c6d61f3b6138035dfd5eee2c68", "patch": "@@ -553,7 +553,9 @@ impl<'hir> Map<'hir> {\n     }\n \n     /// Similar to get_parent, returns the parent node id or id if there is no\n-    /// parent.\n+    /// parent. Note that the parent may be CRATE_NODE_ID, which is not itself\n+    /// present in the map -- so passing the return value of get_parent_node to\n+    /// get may actually panic.\n     /// This function returns the immediate parent in the AST, whereas get_parent\n     /// returns the enclosing item. Note that this might not be the actual parent\n     /// node in the AST - some kinds of nodes are not in the map and these will\n@@ -629,7 +631,7 @@ impl<'hir> Map<'hir> {\n     }\n \n     /// Retrieve the NodeId for `id`'s enclosing method, unless there's a\n-    /// `while` or `loop` before reacing it, as block tail returns are not\n+    /// `while` or `loop` before reaching it, as block tail returns are not\n     /// available in them.\n     ///\n     /// ```"}]}