{"sha": "562c64d86aeea35890841d1c09a731ff13815f95", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU2MmM2NGQ4NmFlZWEzNTg5MDg0MWQxYzA5YTczMWZmMTM4MTVmOTU=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-09-15T14:32:30Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-09-15T14:32:30Z"}, "message": "add some sanity tests", "tree": {"sha": "d44d9ed0ad90d5bdf2d0e4ebf9d392bc99b4c9ee", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d44d9ed0ad90d5bdf2d0e4ebf9d392bc99b4c9ee"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/562c64d86aeea35890841d1c09a731ff13815f95", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJX2rD+AAoJEFbW7qD8Z6xGDfgQAIG+gSOaTF0xmO+4iuNqAm1y\n02dLsyUzl/1XhoGnA/HKlJ5J+eFDxV+GjHL/eybgIqIuzSn9rmjRL1/IZtq6+wm3\nHx42vrLsMaTNjTY/YbGTHYqVP5JVslbEyn7NfqHBIRWcBb7CalM0b8aTI5KrwXY+\nLWAOJCfB7nKNmbwW2fZzMIwRxtl8+ebTKbub/NlBdpVZGJ89MefBeyVKbxTm9pEg\n9QPM2R61jDQ88O/dvWLupvoLjrOZaJ3g3ApYjTytzDgVF41SXeO9hPbgCfwkmYfO\nHhtXbI97TrWIhh7K0cVRHqWFMcN/A1v+foi20zd3Ok1CUSx8lPffjHkV1S7HTNAl\nmDNjFfP65o0Tl/pRtJFb/rWHwFH8qOIDNUdkeqYvTr6J5/7LGKJ5LbTlK9z8turg\naRx+uFvHUQsogKAe7djkjcj4DWMbunIMK88cOtyXCK2R1SmO9ZMMpFMWn19lDgcO\nT6FzTaiD1jMAtyZmak14sGAau7aPr4VDSEIofvAi+JOZZ9uIGqDOnbvGl85xNUCl\nipqECVB5U1l6wLXvo3/MXOQB2J0AZwbI3jKm6CHUqg9BStrsgeiiRo2OC5D4D3QT\nbl1aobZpf93QjCdj9i8BnMnF2tyUi/2l421Hn43lhiqFsr3ZPAxiCgYerQ4UDvnA\nep066wlkmIqRehdB6ms3\n=zMTD\n-----END PGP SIGNATURE-----", "payload": "tree d44d9ed0ad90d5bdf2d0e4ebf9d392bc99b4c9ee\nparent 092f9d52d15198af3baaecb038a4e4ba130bcbfb\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1473949950 +0200\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1473949950 +0200\n\nadd some sanity tests"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/562c64d86aeea35890841d1c09a731ff13815f95", "html_url": "https://github.com/rust-lang/rust/commit/562c64d86aeea35890841d1c09a731ff13815f95", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/562c64d86aeea35890841d1c09a731ff13815f95/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "092f9d52d15198af3baaecb038a4e4ba130bcbfb", "url": "https://api.github.com/repos/rust-lang/rust/commits/092f9d52d15198af3baaecb038a4e4ba130bcbfb", "html_url": "https://github.com/rust-lang/rust/commit/092f9d52d15198af3baaecb038a4e4ba130bcbfb"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "e7368004069f655721ed1aef9bbf1fc98f647326", "filename": "tests/run-pass/function_pointers.rs", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/562c64d86aeea35890841d1c09a731ff13815f95/tests%2Frun-pass%2Ffunction_pointers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/562c64d86aeea35890841d1c09a731ff13815f95/tests%2Frun-pass%2Ffunction_pointers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Ffunction_pointers.rs?ref=562c64d86aeea35890841d1c09a731ff13815f95", "patch": "@@ -2,6 +2,10 @@ fn f() -> i32 {\n     42\n }\n \n+fn g(i: i32) -> i32 {\n+    i*42\n+}\n+\n fn return_fn_ptr() -> fn() -> i32 {\n     f\n }\n@@ -10,8 +14,22 @@ fn call_fn_ptr() -> i32 {\n     return_fn_ptr()()\n }\n \n+fn indirect<F: Fn() -> i32>(f: F) -> i32 { f() }\n+fn indirect_mut<F: FnMut() -> i32>(mut f: F) -> i32 { f() }\n+fn indirect_once<F: FnOnce() -> i32>(f: F) -> i32 { f() }\n+\n+fn indirect2<F: Fn(i32) -> i32>(f: F) -> i32 { f(10) }\n+fn indirect_mut2<F: FnMut(i32) -> i32>(mut f: F) -> i32 { f(10) }\n+fn indirect_once2<F: FnOnce(i32) -> i32>(f: F) -> i32 { f(10) }\n+\n fn main() {\n     assert_eq!(call_fn_ptr(), 42);\n+    assert_eq!(indirect(f), 42);\n+    assert_eq!(indirect_mut(f), 42);\n+    assert_eq!(indirect_once(f), 42);\n+    assert_eq!(indirect2(g), 420);\n+    assert_eq!(indirect_mut2(g), 420);\n+    assert_eq!(indirect_once2(g), 420);\n     assert!(return_fn_ptr() == f);\n     assert!(return_fn_ptr() as unsafe fn() -> i32 == f as fn() -> i32 as unsafe fn() -> i32);\n }"}]}