{"sha": "5b5391e283e591520235d7aafd6f1f0aa3b6ce22", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViNTM5MWUyODNlNTkxNTIwMjM1ZDdhYWZkNmYxZjBhYTNiNmNlMjI=", "commit": {"author": {"name": "Yuki Okushi", "email": "yuki.okushi@huawei.com", "date": "2021-07-29T19:49:08Z"}, "committer": {"name": "Yuki Okushi", "email": "yuki.okushi@huawei.com", "date": "2021-07-29T19:49:08Z"}, "message": "Add some TAIT-related regression tests", "tree": {"sha": "e5242d9e1d69d11bd7e113ace3d14e211002ce70", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e5242d9e1d69d11bd7e113ace3d14e211002ce70"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5b5391e283e591520235d7aafd6f1f0aa3b6ce22", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEx6scKn6IIf/+FpBu2rpbBylhwYoFAmEDBjQACgkQ2rpbBylh\nwYqd4Q//WIzQjDcZkfj9HxPncJnd1fMpF0Fq2VJHU9oAYbFKOfNkOjJxTt7WgUeE\n0FsDDu283/RwlOR66L20CxNXxOztt0PNJPvLT3giP+wa6EbH/9aGLD2itF/2p2NC\nRwsh7pfFmaknzVjOIMYYbCrWx126KYdAVnTwLryTy84hjWtpc3ATz+NUSHHEnObg\n+aPGtfKTkuhGu7e0tjVahsbJzdkO/ohGBMX40pWIAODsF+knZf+eqnnl8kz22kIY\nDMAFU58Uby6e0Yr7chiAQ+NqEIemwZ+R4If6fdHEjyPmCedyx5rk/unKn+f5SRrJ\nqjNQ4pJzHo/QBc4eo7QsmaPi8GIwq/WNsugNTpcl4C1nMiWAj6/WtwiTa4pICuES\nj3dRh6BTUkFacOIAM+KCmi86U+DT/RCokE5hCGR1OFaNZasg96fWnb0WrLGo/0Gb\nlheS7smQW9hwiVVfBw32LDtg4WmjiGd6h5KJSWq1bAml7glucUu9qdGfl1VAu5Q6\nNin4E/4Ug9kiS/+1h46xzUHP/KBgsjJA+sJFKZSjLQk5If9lwqp/lZZDhrR6Sp1G\n79lFCai3BwSoB/n0hmA4nlXlU348VAmDH7BcYic9f2OD7LgYH0wQDX87HcjamyCu\nQ0k7VFDwAhTz4CUGhKHHWn3RW3J7bsnHC/wEwV1tftGs1ew9hfA=\n=krDy\n-----END PGP SIGNATURE-----", "payload": "tree e5242d9e1d69d11bd7e113ace3d14e211002ce70\nparent 5fb3394cbdf0622c9d0c292feb55db0f4c828dc3\nauthor Yuki Okushi <yuki.okushi@huawei.com> 1627588148 +0900\ncommitter Yuki Okushi <yuki.okushi@huawei.com> 1627588148 +0900\n\nAdd some TAIT-related regression tests\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5b5391e283e591520235d7aafd6f1f0aa3b6ce22", "html_url": "https://github.com/rust-lang/rust/commit/5b5391e283e591520235d7aafd6f1f0aa3b6ce22", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5b5391e283e591520235d7aafd6f1f0aa3b6ce22/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5fb3394cbdf0622c9d0c292feb55db0f4c828dc3", "url": "https://api.github.com/repos/rust-lang/rust/commits/5fb3394cbdf0622c9d0c292feb55db0f4c828dc3", "html_url": "https://github.com/rust-lang/rust/commit/5fb3394cbdf0622c9d0c292feb55db0f4c828dc3"}], "stats": {"total": 53, "additions": 53, "deletions": 0}, "files": [{"sha": "d5b90a49b05218641a7e1011b50976157ab313f0", "filename": "src/test/ui/type-alias-impl-trait/issue-74280.rs", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/5b5391e283e591520235d7aafd6f1f0aa3b6ce22/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-74280.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b5391e283e591520235d7aafd6f1f0aa3b6ce22/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-74280.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-74280.rs?ref=5b5391e283e591520235d7aafd6f1f0aa3b6ce22", "patch": "@@ -0,0 +1,13 @@\n+// Regression test for #74280.\n+\n+#![feature(type_alias_impl_trait)]\n+\n+type Test = impl Copy;\n+\n+fn test() -> Test {\n+    let y = || -> Test { () };\n+    //~^ ERROR: concrete type differs from previous defining opaque type use\n+    7\n+}\n+\n+fn main() {}"}, {"sha": "79c7df788f46c21f0ff25b4dad4ba08d6c27c9cb", "filename": "src/test/ui/type-alias-impl-trait/issue-74280.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/5b5391e283e591520235d7aafd6f1f0aa3b6ce22/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-74280.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b5391e283e591520235d7aafd6f1f0aa3b6ce22/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-74280.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-74280.stderr?ref=5b5391e283e591520235d7aafd6f1f0aa3b6ce22", "patch": "@@ -0,0 +1,14 @@\n+error: concrete type differs from previous defining opaque type use\n+  --> $DIR/issue-74280.rs:8:13\n+   |\n+LL |     let y = || -> Test { () };\n+   |             ^^^^^^^^^^^^^^^^^ expected `i32`, got `()`\n+   |\n+note: previous use here\n+  --> $DIR/issue-74280.rs:7:1\n+   |\n+LL | fn test() -> Test {\n+   | ^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "31c45a2093a0478cbdbf179545aca8e6ad05ad5f", "filename": "src/test/ui/type-alias-impl-trait/issue-77179.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/5b5391e283e591520235d7aafd6f1f0aa3b6ce22/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-77179.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b5391e283e591520235d7aafd6f1f0aa3b6ce22/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-77179.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-77179.rs?ref=5b5391e283e591520235d7aafd6f1f0aa3b6ce22", "patch": "@@ -0,0 +1,14 @@\n+// Regression test for #77179.\n+\n+#![feature(type_alias_impl_trait)]\n+\n+type Pointer<T> = impl std::ops::Deref<Target=T>;\n+\n+fn test() -> Pointer<_> {\n+    //~^ ERROR: the type placeholder `_` is not allowed within types\n+    Box::new(1)\n+}\n+\n+fn main() {\n+    test();\n+}"}, {"sha": "593aeeacb83aa1cf5016b63106e688f1805bf827", "filename": "src/test/ui/type-alias-impl-trait/issue-77179.stderr", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/5b5391e283e591520235d7aafd6f1f0aa3b6ce22/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-77179.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b5391e283e591520235d7aafd6f1f0aa3b6ce22/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-77179.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-77179.stderr?ref=5b5391e283e591520235d7aafd6f1f0aa3b6ce22", "patch": "@@ -0,0 +1,12 @@\n+error[E0121]: the type placeholder `_` is not allowed within types on item signatures for return types\n+  --> $DIR/issue-77179.rs:7:22\n+   |\n+LL | fn test() -> Pointer<_> {\n+   |              --------^-\n+   |              |       |\n+   |              |       not allowed in type signatures\n+   |              help: replace with the correct return type: `Box<i32>`\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0121`."}]}