{"sha": "99e943c8b84cf2b077223271e4af7981b25f9064", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk5ZTk0M2M4Yjg0Y2YyYjA3NzIyMzI3MWU0YWY3OTgxYjI1ZjkwNjQ=", "commit": {"author": {"name": "steveklabnik", "email": "steve@steveklabnik.com", "date": "2017-08-10T21:53:36Z"}, "committer": {"name": "steveklabnik", "email": "steve@steveklabnik.com", "date": "2017-08-10T21:53:36Z"}, "message": "Document the doc attribute\n\ncc #42322", "tree": {"sha": "c33bfdb95d172185fbaca26f6959c926756616ec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c33bfdb95d172185fbaca26f6959c926756616ec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/99e943c8b84cf2b077223271e4af7981b25f9064", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/99e943c8b84cf2b077223271e4af7981b25f9064", "html_url": "https://github.com/rust-lang/rust/commit/99e943c8b84cf2b077223271e4af7981b25f9064", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/99e943c8b84cf2b077223271e4af7981b25f9064/comments", "author": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "committer": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b6179602bea71607a9ea63197eca423fcce5f7b0", "url": "https://api.github.com/repos/rust-lang/rust/commits/b6179602bea71607a9ea63197eca423fcce5f7b0", "html_url": "https://github.com/rust-lang/rust/commit/b6179602bea71607a9ea63197eca423fcce5f7b0"}], "stats": {"total": 113, "additions": 109, "deletions": 4}, "files": [{"sha": "1049cc4284a05379280a456b6f9e807bdddd435f", "filename": "src/doc/rustdoc/src/SUMMARY.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99e943c8b84cf2b077223271e4af7981b25f9064/src%2Fdoc%2Frustdoc%2Fsrc%2FSUMMARY.md", "raw_url": "https://github.com/rust-lang/rust/raw/99e943c8b84cf2b077223271e4af7981b25f9064/src%2Fdoc%2Frustdoc%2Fsrc%2FSUMMARY.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2FSUMMARY.md?ref=99e943c8b84cf2b077223271e4af7981b25f9064", "patch": "@@ -2,7 +2,7 @@\n \n - [What is rustdoc?](what-is-rustdoc.md)\n - [Command-line arguments](command-line-arguments.md)\n-- [In-source directives](in-source-directives.md)\n+- [The `#[doc]` attribute](the-doc-attribute.md)\n - [Documentation tests](documentation-tests.md)\n - [Plugins](plugins.md)\n - [Passes](passes.md)\n\\ No newline at end of file"}, {"sha": "83f677fa7f4c5900bfb80882b4a8072b881a28cc", "filename": "src/doc/rustdoc/src/in-source-directives.md", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b6179602bea71607a9ea63197eca423fcce5f7b0/src%2Fdoc%2Frustdoc%2Fsrc%2Fin-source-directives.md", "raw_url": "https://github.com/rust-lang/rust/raw/b6179602bea71607a9ea63197eca423fcce5f7b0/src%2Fdoc%2Frustdoc%2Fsrc%2Fin-source-directives.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Fin-source-directives.md?ref=b6179602bea71607a9ea63197eca423fcce5f7b0", "patch": "@@ -1,3 +0,0 @@\n-# In-source directives\n-\n-Coming soon!\n\\ No newline at end of file"}, {"sha": "18a1814938a082e515892455c19ec0e4f911f915", "filename": "src/doc/rustdoc/src/the-doc-attribute.md", "status": "added", "additions": 108, "deletions": 0, "changes": 108, "blob_url": "https://github.com/rust-lang/rust/blob/99e943c8b84cf2b077223271e4af7981b25f9064/src%2Fdoc%2Frustdoc%2Fsrc%2Fthe-doc-attribute.md", "raw_url": "https://github.com/rust-lang/rust/raw/99e943c8b84cf2b077223271e4af7981b25f9064/src%2Fdoc%2Frustdoc%2Fsrc%2Fthe-doc-attribute.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Fthe-doc-attribute.md?ref=99e943c8b84cf2b077223271e4af7981b25f9064", "patch": "@@ -0,0 +1,108 @@\n+# The `#[doc]` attribute\n+\n+The `#[doc]` attribute lets you control various aspects of how `rustdoc` does\n+its job. \n+\n+The most basic job of `#[doc]` is to be the way that the text of the documentation\n+is handled. That is, `///` is syntax sugar for `#[doc]`. This means that these two\n+are the same:\n+\n+```rust,ignore\n+/// This is a doc comment.\n+#[doc = \"This is a doc comment.\"]\n+```\n+\n+In most cases, `///` is easier to use than `#[doc]`. One case where the latter is easier is\n+when generating documentation in macros; the `collapse-docs` pass will combine multiple\n+`#[doc]` attributes into a single doc comment, letting you generate code like this:\n+\n+```rust,ignore\n+#[doc = \"This is\"]\n+#[doc = \" a \"]\n+#[doc = \"doc comment\"]\n+```\n+\n+Which can feel more flexible.\n+\n+The `doc` attribute has more options though! These don't involve the text of\n+the output, but instead, various aspects of the presentation of the output.\n+We've split them into two kinds below: attributes that are useful at the\n+crate level, and ones that are useful at the item level.\n+\n+## At the crate level\n+\n+These options control how the docs look at a macro level.\n+\n+### `html_favicon_url`\n+\n+This form of the `doc` attribute lets you control the favicon of your docs.\n+\n+```rust,ignore\n+#![doc(html_favicon_url = \"https://foo.com/favicon.ico\")]\n+```\n+\n+This will put `<link rel=\"shortcut icon\" href=\"{}\">` into your docs, where\n+the string for the attribute goes into the `{}`.\n+\n+### `html_logo_url`\n+\n+This form of the `doc` attribute lets you control the logo in the upper\n+left hand side of the docs.\n+\n+```rust,ignore\n+#![doc(html_logo_url = \"https://foo.com/logo.jpg\")]\n+```\n+\n+This will put `<a href='index.html'><img src='{}' alt='logo' width='100'></a>` into\n+your docs, where the string for the attribute goes into the `{}`.\n+\n+### `html_playground_url`\n+\n+This form of the `doc` attribute lets you control where the \"run\" buttons\n+on your documentation examples make requests to.\n+\n+```rust,ignore\n+#![doc(html_playground_url = \"https://playground.foo.com/\")]\n+```\n+\n+Now, when you press \"run\", the button will make a request to this domain.\n+\n+### `issue_tracker_base_url`\n+\n+This form of the `doc` attribute is mostly only useful for the standard library;\n+When a feature is unstable, an issue number for tracking the feature must be\n+given. `rustdoc` uses this number, plus the base URL given here, to link to\n+the tracking issue.\n+\n+```rust,ignore\n+#![doc(issue_tracker_base_url = \"https://github.com/foo/foo/issues/\")]\n+```\n+\n+### `html_no_source`\n+\n+By default, `rustdoc` will include the source code of your program, with links\n+to it in the docs. But if you include this:\n+\n+```rust,ignore\n+#![doc(html_no_source)]\n+```\n+\n+it will not.\n+\n+## At the item level\n+\n+These forms of the `#[doc]` attribute are used on individual items, to control how\n+they are documented.\n+\n+## `#[doc(no_inline)]`\n+\n+## `#[doc(hidden)]`\n+\n+Any item annotated with `#[doc(hidden)]` will not appear in the documentation, unless\n+the `strip-hidden` pass is removed.\n+\n+## `#[doc(primitive)]`\n+\n+Since primitive types are defined in the compiler, there's no place to attach documentation\n+attributes. This attribute is used by the standard library to provide a way to generate\n+documentation for primitive types.\n\\ No newline at end of file"}]}