{"sha": "ab41023fd49ef7776b6bf50be113e4063312a7c5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFiNDEwMjNmZDQ5ZWY3Nzc2YjZiZjUwYmUxMTNlNDA2MzMxMmE3YzU=", "commit": {"author": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2019-03-19T11:38:18Z"}, "committer": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2019-03-19T11:38:18Z"}, "message": "Run branch cleanup after copy prop", "tree": {"sha": "46c38cb6f6b573779e92d193744128ebd81e782d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/46c38cb6f6b573779e92d193744128ebd81e782d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ab41023fd49ef7776b6bf50be113e4063312a7c5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ab41023fd49ef7776b6bf50be113e4063312a7c5", "html_url": "https://github.com/rust-lang/rust/commit/ab41023fd49ef7776b6bf50be113e4063312a7c5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ab41023fd49ef7776b6bf50be113e4063312a7c5/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ef4d1c419525e1510aa650e2bec0d8f7449a2130", "url": "https://api.github.com/repos/rust-lang/rust/commits/ef4d1c419525e1510aa650e2bec0d8f7449a2130", "html_url": "https://github.com/rust-lang/rust/commit/ef4d1c419525e1510aa650e2bec0d8f7449a2130"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "8df0d72407b79e03733e66a731c339d898a6c7ca", "filename": "src/librustc_mir/transform/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ab41023fd49ef7776b6bf50be113e4063312a7c5/src%2Flibrustc_mir%2Ftransform%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab41023fd49ef7776b6bf50be113e4063312a7c5/src%2Flibrustc_mir%2Ftransform%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fmod.rs?ref=ab41023fd49ef7776b6bf50be113e4063312a7c5", "patch": "@@ -285,6 +285,7 @@ fn optimized_mir<'a, 'tcx>(tcx: TyCtxt<'a, 'tcx, 'tcx>, def_id: DefId) -> &'tcx\n         &simplify_branches::SimplifyBranches::new(\"after-const-prop\"),\n         &deaggregator::Deaggregator,\n         &copy_prop::CopyPropagation,\n+        &simplify_branches::SimplifyBranches::new(\"after-copy-prop\"),\n         &remove_noop_landing_pads::RemoveNoopLandingPads,\n         &simplify::SimplifyCfg::new(\"final\"),\n         &simplify::SimplifyLocals,"}, {"sha": "0192aa01d0188422214ce7ce6e4ee405cd15d766", "filename": "src/test/mir-opt/simplify_match.rs", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/ab41023fd49ef7776b6bf50be113e4063312a7c5/src%2Ftest%2Fmir-opt%2Fsimplify_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab41023fd49ef7776b6bf50be113e4063312a7c5/src%2Ftest%2Fmir-opt%2Fsimplify_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_match.rs?ref=ab41023fd49ef7776b6bf50be113e4063312a7c5", "patch": "@@ -0,0 +1,22 @@\n+fn main() {\n+    match { let x = false; x } {\n+        true => println!(\"hello world!\"),\n+        false => {},\n+    }\n+}\n+\n+// END RUST SOURCE\n+// START rustc.main.SimplifyBranches-after-copy-prop.before.mir\n+// bb0: {\n+//     ...\n+//     switchInt(const false) -> [false: bb3, otherwise: bb1];\n+// }\n+// bb1: {\n+// END rustc.main.SimplifyBranches-after-copy-prop.before.mir\n+// START rustc.main.SimplifyBranches-after-copy-prop.after.mir\n+// bb0: {\n+//     ...\n+//     goto -> bb3;\n+// }\n+// bb1: {\n+// END rustc.main.SimplifyBranches-after-copy-prop.after.mir"}]}