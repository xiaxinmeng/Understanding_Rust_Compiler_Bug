{"sha": "668a62984ac51a09987c5b1a7c1589814f7a95d4", "node_id": "C_kwDOAAsO6NoAKDY2OGE2Mjk4NGFjNTFhMDk5ODdjNWIxYTdjMTU4OTgxNGY3YTk1ZDQ", "commit": {"author": {"name": "Tom Martin", "email": "tom.martin1239@gmail.com", "date": "2023-04-07T07:44:19Z"}, "committer": {"name": "Tom Martin", "email": "tom.martin1239@gmail.com", "date": "2023-04-07T07:44:19Z"}, "message": "Change type and field name to be clearer", "tree": {"sha": "1ecac96f9f9369a4403b9adc2bf537762e5110ff", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1ecac96f9f9369a4403b9adc2bf537762e5110ff"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/668a62984ac51a09987c5b1a7c1589814f7a95d4", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE4EiFxdccn1fd6ae9c6cz+WKfWsUFAmQvyesACgkQc6cz+WKf\nWsWLpg//RCE6WIJwgeTsi80xjbNYRsYhY3Ix8YL1yFqWMiXsG+mKlBfNCw0h28iW\nIQ5yDWOLKkV2/EzJi35hc+h3DaQOWlKA/LOelYLjysAL5L9LzLuKCjVPefJfZudy\nOGoYhGUb/Tx7LFfFTmSz9NlutIbC9vK2TaByoS8o7EglLadybQHhURjNLtXIx8Ew\nABtDfar7KJKakP4iFF2hEep2iLnls5B0o1A0HysP/mrLM3kJtgoyi+FSu/vfX8uk\ngiCaqP63fzVU4ixn3OLcUi4TUkK4j61bQcd38M8iHqjQFjXlb3pZV2ERj2vodseC\nU2XANL9QnR5OahNUZrP8RUW/IkUico5xjqRxPqEKbZdvJEfd5iTfu0IinFPq2vdn\n7Abax9fq27+GUlqf16XU6wCaI427u85iLTEM2RD9F+vIVWJwxHg/7llIJJiLHC5x\neuTKvjVaoj6qv9FIWMuLi7h5V/vtVQ9WWCg51DNx2LbTljJFxKRiOmbvDUTxe0em\n4nMhfJ77z00nfLsODD/Itnx06dIdQky+/EXXP97RqLvzvLLutr+FdqIRpoaXVO2e\nHJ/q+SnqG21mTWS1C2Cuw+/CrhiPKc6VD4393Z23KAglQGJBCznEcswSRTtA1ptS\nEHrQeFHtjsqwU/zhzRrQQ9JOnzZiGlXr8HZ+3UjXXiYWsdeej3s=\n=fvPL\n-----END PGP SIGNATURE-----", "payload": "tree 1ecac96f9f9369a4403b9adc2bf537762e5110ff\nparent 18388c9f7372d00fa958a421b3eec639a5b7b5a2\nauthor Tom Martin <tom.martin1239@gmail.com> 1680853459 +0100\ncommitter Tom Martin <tom.martin1239@gmail.com> 1680853459 +0100\n\nChange type and field name to be clearer\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/668a62984ac51a09987c5b1a7c1589814f7a95d4", "html_url": "https://github.com/rust-lang/rust/commit/668a62984ac51a09987c5b1a7c1589814f7a95d4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/668a62984ac51a09987c5b1a7c1589814f7a95d4/comments", "author": {"login": "NotStirred", "id": 16853282, "node_id": "MDQ6VXNlcjE2ODUzMjgy", "avatar_url": "https://avatars.githubusercontent.com/u/16853282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotStirred", "html_url": "https://github.com/NotStirred", "followers_url": "https://api.github.com/users/NotStirred/followers", "following_url": "https://api.github.com/users/NotStirred/following{/other_user}", "gists_url": "https://api.github.com/users/NotStirred/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotStirred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotStirred/subscriptions", "organizations_url": "https://api.github.com/users/NotStirred/orgs", "repos_url": "https://api.github.com/users/NotStirred/repos", "events_url": "https://api.github.com/users/NotStirred/events{/privacy}", "received_events_url": "https://api.github.com/users/NotStirred/received_events", "type": "User", "site_admin": false}, "committer": {"login": "NotStirred", "id": 16853282, "node_id": "MDQ6VXNlcjE2ODUzMjgy", "avatar_url": "https://avatars.githubusercontent.com/u/16853282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotStirred", "html_url": "https://github.com/NotStirred", "followers_url": "https://api.github.com/users/NotStirred/followers", "following_url": "https://api.github.com/users/NotStirred/following{/other_user}", "gists_url": "https://api.github.com/users/NotStirred/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotStirred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotStirred/subscriptions", "organizations_url": "https://api.github.com/users/NotStirred/orgs", "repos_url": "https://api.github.com/users/NotStirred/repos", "events_url": "https://api.github.com/users/NotStirred/events{/privacy}", "received_events_url": "https://api.github.com/users/NotStirred/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "18388c9f7372d00fa958a421b3eec639a5b7b5a2", "url": "https://api.github.com/repos/rust-lang/rust/commits/18388c9f7372d00fa958a421b3eec639a5b7b5a2", "html_url": "https://github.com/rust-lang/rust/commit/18388c9f7372d00fa958a421b3eec639a5b7b5a2"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "660614d34216fd891a458adc4ae97b6096e739ba", "filename": "compiler/rustc_resolve/src/errors.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/668a62984ac51a09987c5b1a7c1589814f7a95d4/compiler%2Frustc_resolve%2Fsrc%2Ferrors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/668a62984ac51a09987c5b1a7c1589814f7a95d4/compiler%2Frustc_resolve%2Fsrc%2Ferrors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Ferrors.rs?ref=668a62984ac51a09987c5b1a7c1589814f7a95d4", "patch": "@@ -484,7 +484,7 @@ pub(crate) struct MacroExpectedFound<'a> {\n     #[subdiagnostic]\n     pub(crate) remove_surrounding_derive: Option<RemoveSurroundingDerive>,\n     #[subdiagnostic]\n-    pub(crate) remove_surrounding_derive_help: Option<RemoveAddAsNonDerive<'a>>,\n+    pub(crate) add_as_non_derive: Option<AddAsNonDerive<'a>>,\n }\n \n #[derive(Subdiagnostic)]\n@@ -496,6 +496,6 @@ pub(crate) struct RemoveSurroundingDerive {\n \n #[derive(Subdiagnostic)]\n #[help(resolve_add_as_non_derive)]\n-pub(crate) struct RemoveAddAsNonDerive<'a> {\n+pub(crate) struct AddAsNonDerive<'a> {\n     pub(crate) macro_path: &'a str,\n }"}, {"sha": "22b014c0651c2168afe16128b98b1c2496f6b67d", "filename": "compiler/rustc_resolve/src/macros.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/668a62984ac51a09987c5b1a7c1589814f7a95d4/compiler%2Frustc_resolve%2Fsrc%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/668a62984ac51a09987c5b1a7c1589814f7a95d4/compiler%2Frustc_resolve%2Fsrc%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Fmacros.rs?ref=668a62984ac51a09987c5b1a7c1589814f7a95d4", "patch": "@@ -1,7 +1,7 @@\n //! A bunch of methods and structures more or less related to resolving macros and\n //! interface provided by `Resolver` to macro expander.\n \n-use crate::errors::{MacroExpectedFound, RemoveAddAsNonDerive, RemoveSurroundingDerive};\n+use crate::errors::{AddAsNonDerive, MacroExpectedFound, RemoveSurroundingDerive};\n use crate::Namespace::*;\n use crate::{BuiltinMacroState, Determinacy};\n use crate::{DeriveData, Finalize, ParentScope, ResolutionError, Resolver, ScopeSet};\n@@ -559,8 +559,7 @@ impl<'a, 'tcx> Resolver<'a, 'tcx> {\n                 && ext.macro_kind() != MacroKind::Derive\n             {\n                 err.remove_surrounding_derive = Some(RemoveSurroundingDerive { span: path.span });\n-                err.remove_surrounding_derive_help =\n-                    Some(RemoveAddAsNonDerive { macro_path: &path_str });\n+                err.add_as_non_derive = Some(AddAsNonDerive { macro_path: &path_str });\n             }\n \n             let mut err = self.tcx.sess.create_err(err);"}]}