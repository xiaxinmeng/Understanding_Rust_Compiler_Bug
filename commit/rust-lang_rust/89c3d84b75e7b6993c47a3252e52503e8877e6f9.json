{"sha": "89c3d84b75e7b6993c47a3252e52503e8877e6f9", "node_id": "C_kwDOAAsO6NoAKDg5YzNkODRiNzVlN2I2OTkzYzQ3YTMyNTJlNTI1MDNlODg3N2U2Zjk", "commit": {"author": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2021-11-01T14:24:39Z"}, "committer": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2021-11-15T09:13:44Z"}, "message": "Give examples of format args capture in the fmt module documentation", "tree": {"sha": "12e776604414351a7a79c618360a9153ef1cf0c0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/12e776604414351a7a79c618360a9153ef1cf0c0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/89c3d84b75e7b6993c47a3252e52503e8877e6f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/89c3d84b75e7b6993c47a3252e52503e8877e6f9", "html_url": "https://github.com/rust-lang/rust/commit/89c3d84b75e7b6993c47a3252e52503e8877e6f9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/89c3d84b75e7b6993c47a3252e52503e8877e6f9/comments", "author": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "committer": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "42054811104bb005ded241ea8846ba7383921c46", "url": "https://api.github.com/repos/rust-lang/rust/commits/42054811104bb005ded241ea8846ba7383921c46", "html_url": "https://github.com/rust-lang/rust/commit/42054811104bb005ded241ea8846ba7383921c46"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "b4d16d74db48807c896e9437dae3d1124193b9e5", "filename": "library/alloc/src/fmt.rs", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/89c3d84b75e7b6993c47a3252e52503e8877e6f9/library%2Falloc%2Fsrc%2Ffmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/89c3d84b75e7b6993c47a3252e52503e8877e6f9/library%2Falloc%2Fsrc%2Ffmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Ffmt.rs?ref=89c3d84b75e7b6993c47a3252e52503e8877e6f9", "patch": "@@ -17,6 +17,8 @@\n //! format!(\"The number is {}\", 1);   // => \"The number is 1\"\n //! format!(\"{:?}\", (3, 4));          // => \"(3, 4)\"\n //! format!(\"{value}\", value=4);      // => \"4\"\n+//! let people = \"Rustaceans\";\n+//! format!(\"Hello {people}!\");       // => \"Hello Rustaceans!\"\n //! format!(\"{} {}\", 1, 2);           // => \"1 2\"\n //! format!(\"{:04}\", 42);             // => \"0042\" with leading zeros\n //! format!(\"{:#?}\", (100, 200));     // => \"(\n@@ -80,6 +82,19 @@\n //! format!(\"{a} {c} {b}\", a=\"a\", b='b', c=3);  // => \"a 3 b\"\n //! ```\n //!\n+//! If a named parameter does not appear in the argument list, `format!` will\n+//! reference a variable with that name in the current scope.\n+//!\n+//! ```\n+//! let argument = 2 + 2;\n+//! format!(\"{argument}\");   // => \"4\"\n+//!\n+//! fn make_string(a: u32, b: &str) -> String {\n+//!     format!(\"{b} {a}\")\n+//! }\n+//! make_string(927, \"label\"); // => \"label 927\"\n+//! ```\n+//!\n //! It is not valid to put positional parameters (those without names) after\n //! arguments that have names. Like with positional parameters, it is not\n //! valid to provide named parameters that are unused by the format string.\n@@ -98,6 +113,8 @@\n //! println!(\"Hello {:1$}!\", \"x\", 5);\n //! println!(\"Hello {1:0$}!\", 5, \"x\");\n //! println!(\"Hello {:width$}!\", \"x\", width = 5);\n+//! let width = 5;\n+//! println!(\"Hello {:width$}!\", \"x\");\n //! ```\n //!\n //! This is a parameter for the \"minimum width\" that the format should take up."}, {"sha": "746dd50ad2224f305fce2576f057dd694755accf", "filename": "library/alloc/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/89c3d84b75e7b6993c47a3252e52503e8877e6f9/library%2Falloc%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/89c3d84b75e7b6993c47a3252e52503e8877e6f9/library%2Falloc%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Flib.rs?ref=89c3d84b75e7b6993c47a3252e52503e8877e6f9", "patch": "@@ -105,6 +105,7 @@\n #![feature(fmt_internals)]\n #![feature(fn_traits)]\n #![feature(inherent_ascii_escape)]\n+#![feature(format_args_capture)]\n #![feature(inplace_iteration)]\n #![feature(iter_advance_by)]\n #![feature(iter_zip)]"}]}