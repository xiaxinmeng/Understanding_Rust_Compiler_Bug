{"sha": "b676e99b605274c48bea04d344ff18c546041a8f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI2NzZlOTliNjA1Mjc0YzQ4YmVhMDRkMzQ0ZmYxOGM1NDYwNDFhOGY=", "commit": {"author": {"name": "Lee Jeffery", "email": "lee@leejeffery.co.uk", "date": "2015-06-29T19:40:18Z"}, "committer": {"name": "Lee Jeffery", "email": "lee@leejeffery.co.uk", "date": "2015-06-29T19:40:18Z"}, "message": "Fix incorrect warning about unused repr attributes.", "tree": {"sha": "5c7b7fc0ca4729164cc5058bb60c99d48eaac925", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5c7b7fc0ca4729164cc5058bb60c99d48eaac925"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b676e99b605274c48bea04d344ff18c546041a8f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b676e99b605274c48bea04d344ff18c546041a8f", "html_url": "https://github.com/rust-lang/rust/commit/b676e99b605274c48bea04d344ff18c546041a8f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b676e99b605274c48bea04d344ff18c546041a8f/comments", "author": null, "committer": null, "parents": [{"sha": "216f6645ef0c93776e9f350f29c02780fb7bf673", "url": "https://api.github.com/repos/rust-lang/rust/commits/216f6645ef0c93776e9f350f29c02780fb7bf673", "html_url": "https://github.com/rust-lang/rust/commit/216f6645ef0c93776e9f350f29c02780fb7bf673"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "16db45c909d8671b25f0dc77d836ca9e72895743", "filename": "src/librustc_lint/builtin.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b676e99b605274c48bea04d344ff18c546041a8f/src%2Flibrustc_lint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b676e99b605274c48bea04d344ff18c546041a8f/src%2Flibrustc_lint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Fbuiltin.rs?ref=b676e99b605274c48bea04d344ff18c546041a8f", "patch": "@@ -821,10 +821,12 @@ impl LintPass for NonCamelCaseTypes {\n     }\n \n     fn check_item(&mut self, cx: &Context, it: &ast::Item) {\n-        let has_extern_repr = it.attrs.iter().any(|attr| {\n+        let extern_repr_count = it.attrs.iter().filter(|attr| {\n             attr::find_repr_attrs(cx.tcx.sess.diagnostic(), attr).iter()\n                 .any(|r| r == &attr::ReprExtern)\n-        });\n+        }).count();\n+        let has_extern_repr = extern_repr_count > 0;\n+\n         if has_extern_repr {\n             return;\n         }"}]}