{"sha": "07aacf53c5105435358e7993b5f8cc96ef454c52", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA3YWFjZjUzYzUxMDU0MzUzNThlNzk5M2I1ZjhjYzk2ZWY0NTRjNTI=", "commit": {"author": {"name": "Anton Golov", "email": "jesyspa@gmail.com", "date": "2021-08-11T11:57:28Z"}, "committer": {"name": "Anton Golov", "email": "jesyspa@gmail.com", "date": "2021-08-11T11:57:28Z"}, "message": "Renamed variable str -> tail for clarity", "tree": {"sha": "f95a11e5ae49be5898e06a379b9f29b8fd15993e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f95a11e5ae49be5898e06a379b9f29b8fd15993e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/07aacf53c5105435358e7993b5f8cc96ef454c52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/07aacf53c5105435358e7993b5f8cc96ef454c52", "html_url": "https://github.com/rust-lang/rust/commit/07aacf53c5105435358e7993b5f8cc96ef454c52", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/07aacf53c5105435358e7993b5f8cc96ef454c52/comments", "author": {"login": "jesyspa", "id": 543293, "node_id": "MDQ6VXNlcjU0MzI5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/543293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jesyspa", "html_url": "https://github.com/jesyspa", "followers_url": "https://api.github.com/users/jesyspa/followers", "following_url": "https://api.github.com/users/jesyspa/following{/other_user}", "gists_url": "https://api.github.com/users/jesyspa/gists{/gist_id}", "starred_url": "https://api.github.com/users/jesyspa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jesyspa/subscriptions", "organizations_url": "https://api.github.com/users/jesyspa/orgs", "repos_url": "https://api.github.com/users/jesyspa/repos", "events_url": "https://api.github.com/users/jesyspa/events{/privacy}", "received_events_url": "https://api.github.com/users/jesyspa/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jesyspa", "id": 543293, "node_id": "MDQ6VXNlcjU0MzI5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/543293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jesyspa", "html_url": "https://github.com/jesyspa", "followers_url": "https://api.github.com/users/jesyspa/followers", "following_url": "https://api.github.com/users/jesyspa/following{/other_user}", "gists_url": "https://api.github.com/users/jesyspa/gists{/gist_id}", "starred_url": "https://api.github.com/users/jesyspa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jesyspa/subscriptions", "organizations_url": "https://api.github.com/users/jesyspa/orgs", "repos_url": "https://api.github.com/users/jesyspa/repos", "events_url": "https://api.github.com/users/jesyspa/events{/privacy}", "received_events_url": "https://api.github.com/users/jesyspa/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "efe069c599d0d0ed96b8e436bed3850b8ba055ae", "url": "https://api.github.com/repos/rust-lang/rust/commits/efe069c599d0d0ed96b8e436bed3850b8ba055ae", "html_url": "https://github.com/rust-lang/rust/commit/efe069c599d0d0ed96b8e436bed3850b8ba055ae"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "b970c9e4911fafb36ff0612c0e30fb417d46437f", "filename": "compiler/rustc_lexer/src/unescape.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/07aacf53c5105435358e7993b5f8cc96ef454c52/compiler%2Frustc_lexer%2Fsrc%2Funescape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07aacf53c5105435358e7993b5f8cc96ef454c52/compiler%2Frustc_lexer%2Fsrc%2Funescape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lexer%2Fsrc%2Funescape.rs?ref=07aacf53c5105435358e7993b5f8cc96ef454c52", "patch": "@@ -319,17 +319,17 @@ where\n     where\n         F: FnMut(Range<usize>, Result<char, EscapeError>),\n     {\n-        let str = chars.as_str();\n-        let first_non_space = str\n+        let tail = chars.as_str();\n+        let first_non_space = tail\n             .bytes()\n             .position(|b| b != b' ' && b != b'\\t' && b != b'\\n' && b != b'\\r')\n-            .unwrap_or(str.len());\n-        if str[1..first_non_space].contains('\\n') {\n+            .unwrap_or(tail.len());\n+        if tail[1..first_non_space].contains('\\n') {\n             // The +1 accounts for the escaping slash.\n             let end = start + first_non_space + 1;\n             callback(start..end, Err(EscapeError::MultipleSkippedLinesWarning));\n         }\n-        let tail = &str[first_non_space..];\n+        let tail = &tail[first_non_space..];\n         if let Some(c) = tail.chars().nth(0) {\n             // For error reporting, we would like the span to contain the character that was not\n             // skipped.  The +1 is necessary to account for the leading \\ that started the escape."}]}