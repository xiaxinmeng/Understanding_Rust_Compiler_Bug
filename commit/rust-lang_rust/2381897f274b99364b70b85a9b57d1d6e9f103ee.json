{"sha": "2381897f274b99364b70b85a9b57d1d6e9f103ee", "node_id": "C_kwDOAAsO6NoAKDIzODE4OTdmMjc0Yjk5MzY0YjcwYjg1YTliNTdkMWQ2ZTlmMTAzZWU", "commit": {"author": {"name": "Dylan DPC", "email": "99973273+Dylan-DPC@users.noreply.github.com", "date": "2022-04-25T23:21:21Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-04-25T23:21:21Z"}, "message": "Rollup merge of #96279 - GuillaumeGomez:remove-woff-fonts, r=camelid,jsha\n\nrustdoc: Remove .woff font files\n\nCopying `@jsha's` great comment:\n\n> Right now we ship 1.5MB of woff files in the rustdoc binary, and 1MB of woff2 files, for a total of 2.5MB.\n>\n> Per:\n>\n> https://caniuse.com/woff\n> https://caniuse.com/woff2\n>\n> The only listed browser that supports woff and not woff2 is IE, which is not supported per https://github.com/rust-lang/rfcs/blob/master/text/1985-tiered-browser-support.md.\n>\n> I propose we stop shipping woff files and save 1.5MB from the rustdoc binary (and from each doc build).\n\nr? `@jsha`", "tree": {"sha": "175d2add39b46be4412b1e6dd93570cb73ddb820", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/175d2add39b46be4412b1e6dd93570cb73ddb820"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2381897f274b99364b70b85a9b57d1d6e9f103ee", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiZyzxCRBK7hj4Ov3rIwAATMYIACYxNukrU9hPTkJwZ9+WbPJw\nyCt2XW9InpIXR0CsctyL58BSUd/G+IQzk2R5VFbaK0z2TCMF9WdnHbBrNt5ME0FC\n9XI+M50pKV9LBfNS0DzEJnTJ1gut1xEWiiA4u2jFnEkBYsjsVqsPaLZzyP/Ae8Ei\npvQ0TWMkJCJ7E7IvUKTvfmHXQrS11SNZ54vY6dnDFWBUpSeaRWBH5Zrc+DfuBB63\n1o+OOKzaW7hWH05iBR/6zVCMT5Q2qyenhAXt9y24o6E/gfc/CS2aMz+ixV6JNOiG\n5R9MSnscguxT0fb8+kJIuQrEwDPCPApUW5ROpCBIfyKsFVavnyY0Wq3TSyLF2Hk=\n=vlY2\n-----END PGP SIGNATURE-----\n", "payload": "tree 175d2add39b46be4412b1e6dd93570cb73ddb820\nparent 93db30aa7f32a08e371774dd3821baab3d808f8d\nparent 5c1965aa7deac8e3031875108c3bdb78776a991a\nauthor Dylan DPC <99973273+Dylan-DPC@users.noreply.github.com> 1650928881 +0200\ncommitter GitHub <noreply@github.com> 1650928881 +0200\n\nRollup merge of #96279 - GuillaumeGomez:remove-woff-fonts, r=camelid,jsha\n\nrustdoc: Remove .woff font files\n\nCopying `@jsha's` great comment:\n\n> Right now we ship 1.5MB of woff files in the rustdoc binary, and 1MB of woff2 files, for a total of 2.5MB.\n>\n> Per:\n>\n> https://caniuse.com/woff\n> https://caniuse.com/woff2\n>\n> The only listed browser that supports woff and not woff2 is IE, which is not supported per https://github.com/rust-lang/rfcs/blob/master/text/1985-tiered-browser-support.md.\n>\n> I propose we stop shipping woff files and save 1.5MB from the rustdoc binary (and from each doc build).\n\nr? `@jsha`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2381897f274b99364b70b85a9b57d1d6e9f103ee", "html_url": "https://github.com/rust-lang/rust/commit/2381897f274b99364b70b85a9b57d1d6e9f103ee", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2381897f274b99364b70b85a9b57d1d6e9f103ee/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "93db30aa7f32a08e371774dd3821baab3d808f8d", "url": "https://api.github.com/repos/rust-lang/rust/commits/93db30aa7f32a08e371774dd3821baab3d808f8d", "html_url": "https://github.com/rust-lang/rust/commit/93db30aa7f32a08e371774dd3821baab3d808f8d"}, {"sha": "5c1965aa7deac8e3031875108c3bdb78776a991a", "url": "https://api.github.com/repos/rust-lang/rust/commits/5c1965aa7deac8e3031875108c3bdb78776a991a", "html_url": "https://github.com/rust-lang/rust/commit/5c1965aa7deac8e3031875108c3bdb78776a991a"}], "stats": {"total": 121, "additions": 33, "deletions": 88}, "files": [{"sha": "7c202e471adbe22d86121716c37bb3a41cdae78c", "filename": "src/librustdoc/html/render/write_shared.rs", "status": "modified", "additions": 9, "deletions": 18, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/2381897f274b99364b70b85a9b57d1d6e9f103ee/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2381897f274b99364b70b85a9b57d1d6e9f103ee/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs?ref=2381897f274b99364b70b85a9b57d1d6e9f103ee", "patch": "@@ -21,27 +21,18 @@ use crate::{try_err, try_none};\n \n static FILES_UNVERSIONED: Lazy<FxHashMap<&str, &[u8]>> = Lazy::new(|| {\n     map! {\n-        \"FiraSans-Regular.woff2\" => static_files::fira_sans::REGULAR2,\n-        \"FiraSans-Medium.woff2\" => static_files::fira_sans::MEDIUM2,\n-        \"FiraSans-Regular.woff\" => static_files::fira_sans::REGULAR,\n-        \"FiraSans-Medium.woff\" => static_files::fira_sans::MEDIUM,\n+        \"FiraSans-Regular.woff2\" => static_files::fira_sans::REGULAR,\n+        \"FiraSans-Medium.woff2\" => static_files::fira_sans::MEDIUM,\n         \"FiraSans-LICENSE.txt\" => static_files::fira_sans::LICENSE,\n-        \"SourceSerif4-Regular.ttf.woff2\" => static_files::source_serif_4::REGULAR2,\n-        \"SourceSerif4-Bold.ttf.woff2\" => static_files::source_serif_4::BOLD2,\n-        \"SourceSerif4-It.ttf.woff2\" => static_files::source_serif_4::ITALIC2,\n-        \"SourceSerif4-Regular.ttf.woff\" => static_files::source_serif_4::REGULAR,\n-        \"SourceSerif4-Bold.ttf.woff\" => static_files::source_serif_4::BOLD,\n-        \"SourceSerif4-It.ttf.woff\" => static_files::source_serif_4::ITALIC,\n+        \"SourceSerif4-Regular.ttf.woff2\" => static_files::source_serif_4::REGULAR,\n+        \"SourceSerif4-Bold.ttf.woff2\" => static_files::source_serif_4::BOLD,\n+        \"SourceSerif4-It.ttf.woff2\" => static_files::source_serif_4::ITALIC,\n         \"SourceSerif4-LICENSE.md\" => static_files::source_serif_4::LICENSE,\n-        \"SourceCodePro-Regular.ttf.woff2\" => static_files::source_code_pro::REGULAR2,\n-        \"SourceCodePro-Semibold.ttf.woff2\" => static_files::source_code_pro::SEMIBOLD2,\n-        \"SourceCodePro-It.ttf.woff2\" => static_files::source_code_pro::ITALIC2,\n-        \"SourceCodePro-Regular.ttf.woff\" => static_files::source_code_pro::REGULAR,\n-        \"SourceCodePro-Semibold.ttf.woff\" => static_files::source_code_pro::SEMIBOLD,\n-        \"SourceCodePro-It.ttf.woff\" => static_files::source_code_pro::ITALIC,\n+        \"SourceCodePro-Regular.ttf.woff2\" => static_files::source_code_pro::REGULAR,\n+        \"SourceCodePro-Semibold.ttf.woff2\" => static_files::source_code_pro::SEMIBOLD,\n+        \"SourceCodePro-It.ttf.woff2\" => static_files::source_code_pro::ITALIC,\n         \"SourceCodePro-LICENSE.txt\" => static_files::source_code_pro::LICENSE,\n-        \"NanumBarunGothic.ttf.woff2\" => static_files::nanum_barun_gothic::REGULAR2,\n-        \"NanumBarunGothic.ttf.woff\" => static_files::nanum_barun_gothic::REGULAR,\n+        \"NanumBarunGothic.ttf.woff2\" => static_files::nanum_barun_gothic::REGULAR,\n         \"NanumBarunGothic-LICENSE.txt\" => static_files::nanum_barun_gothic::LICENSE,\n         \"LICENSE-MIT.txt\" => static_files::LICENSE_MIT,\n         \"LICENSE-APACHE.txt\" => static_files::LICENSE_APACHE,"}, {"sha": "34e48134cc34c9295fe78ce55d383c842b9f076d", "filename": "src/librustdoc/html/static/COPYRIGHT.txt", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/2381897f274b99364b70b85a9b57d1d6e9f103ee/src%2Flibrustdoc%2Fhtml%2Fstatic%2FCOPYRIGHT.txt", "raw_url": "https://github.com/rust-lang/rust/raw/2381897f274b99364b70b85a9b57d1d6e9f103ee/src%2Flibrustdoc%2Fhtml%2Fstatic%2FCOPYRIGHT.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2FCOPYRIGHT.txt?ref=2381897f274b99364b70b85a9b57d1d6e9f103ee", "patch": "@@ -2,8 +2,7 @@ These documentation pages include resources by third parties. This copyright\n file applies only to those resources. The following third party resources are\n included, and carry their own copyright notices and license terms:\n \n-* Fira Sans (FiraSans-Regular.woff2, FiraSans-Medium.woff2,\n-    FiraSans-Regular.woff, FiraSans-Medium.woff):\n+* Fira Sans (FiraSans-Regular.woff2, FiraSans-Medium.woff2):\n \n     Copyright (c) 2014, Mozilla Foundation https://mozilla.org/\n     with Reserved Font Name Fira Sans.\n@@ -25,9 +24,7 @@ included, and carry their own copyright notices and license terms:\n     Licensed under the MIT license (see LICENSE-MIT.txt).\n \n * Source Code Pro (SourceCodePro-Regular.ttf.woff2,\n-    SourceCodePro-Semibold.ttf.woff2, SourceCodePro-It.ttf.woff2,\n-    SourceCodePro-Regular.ttf.woff, SourceCodePro-Semibold.ttf.woff,\n-    SourceCodePro-It.ttf.woff):\n+    SourceCodePro-Semibold.ttf.woff2, SourceCodePro-It.ttf.woff2):\n \n     Copyright 2010, 2012 Adobe Systems Incorporated (http://www.adobe.com/),\n     with Reserved Font Name 'Source'. All Rights Reserved. Source is a trademark\n@@ -37,8 +34,7 @@ included, and carry their own copyright notices and license terms:\n     See SourceCodePro-LICENSE.txt.\n \n * Source Serif 4 (SourceSerif4-Regular.ttf.woff2, SourceSerif4-Bold.ttf.woff2,\n-    SourceSerif4-It.ttf.woff2, SourceSerif4-Regular.ttf.woff,\n-    SourceSerif4-Bold.ttf.woff, SourceSerif4-It.ttf.woff):\n+    SourceSerif4-It.ttf.woff2):\n \n     Copyright 2014-2021 Adobe (http://www.adobe.com/), with Reserved Font Name\n     'Source'. All Rights Reserved. Source is a trademark of Adobe in the United"}, {"sha": "81c12be8e83c0cdf7d4f99264465c608e4da4dc5", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 9, "deletions": 18, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/2381897f274b99364b70b85a9b57d1d6e9f103ee/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/2381897f274b99364b70b85a9b57d1d6e9f103ee/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=2381897f274b99364b70b85a9b57d1d6e9f103ee", "patch": "@@ -4,17 +4,15 @@\n \tfont-style: normal;\n \tfont-weight: 400;\n \tsrc: local('Fira Sans'),\n-\t\turl(\"FiraSans-Regular.woff2\") format(\"woff2\"),\n-\t\turl(\"FiraSans-Regular.woff\") format('woff');\n+\t\turl(\"FiraSans-Regular.woff2\") format(\"woff2\");\n \tfont-display: swap;\n }\n @font-face {\n \tfont-family: 'Fira Sans';\n \tfont-style: normal;\n \tfont-weight: 500;\n \tsrc: local('Fira Sans Medium'),\n-\t\turl(\"FiraSans-Medium.woff2\") format(\"woff2\"),\n-\t\turl(\"FiraSans-Medium.woff\") format('woff');\n+\t\turl(\"FiraSans-Medium.woff2\") format(\"woff2\");\n \tfont-display: swap;\n }\n \n@@ -24,26 +22,23 @@\n \tfont-style: normal;\n \tfont-weight: 400;\n \tsrc: local('Source Serif 4'),\n-\t\turl(\"SourceSerif4-Regular.ttf.woff2\") format(\"woff2\"),\n-\t\turl(\"SourceSerif4-Regular.ttf.woff\") format(\"woff\");\n+\t\turl(\"SourceSerif4-Regular.ttf.woff2\") format(\"woff2\");\n \tfont-display: swap;\n }\n @font-face {\n \tfont-family: 'Source Serif 4';\n \tfont-style: italic;\n \tfont-weight: 400;\n \tsrc: local('Source Serif 4 Italic'),\n-\t\turl(\"SourceSerif4-It.ttf.woff2\") format(\"woff2\"),\n-\t\turl(\"SourceSerif4-It.ttf.woff\") format(\"woff\");\n+\t\turl(\"SourceSerif4-It.ttf.woff2\") format(\"woff2\");\n \tfont-display: swap;\n }\n @font-face {\n \tfont-family: 'Source Serif 4';\n \tfont-style: normal;\n \tfont-weight: 700;\n \tsrc: local('Source Serif 4 Bold'),\n-\t\turl(\"SourceSerif4-Bold.ttf.woff2\") format(\"woff2\"),\n-\t\turl(\"SourceSerif4-Bold.ttf.woff\") format(\"woff\");\n+\t\turl(\"SourceSerif4-Bold.ttf.woff2\") format(\"woff2\");\n \tfont-display: swap;\n }\n \n@@ -54,32 +49,28 @@\n \tfont-weight: 400;\n \t/* Avoid using locally installed font because bad versions are in circulation:\n \t * see https://github.com/rust-lang/rust/issues/24355 */\n-\tsrc: url(\"SourceCodePro-Regular.ttf.woff2\") format(\"woff2\"),\n-\t\turl(\"SourceCodePro-Regular.ttf.woff\") format(\"woff\");\n+\tsrc: url(\"SourceCodePro-Regular.ttf.woff2\") format(\"woff2\");\n \tfont-display: swap;\n }\n @font-face {\n \tfont-family: 'Source Code Pro';\n \tfont-style: italic;\n \tfont-weight: 400;\n-\tsrc: url(\"SourceCodePro-It.ttf.woff2\") format(\"woff2\"),\n-\t\turl(\"SourceCodePro-It.ttf.woff\") format(\"woff\");\n+\tsrc: url(\"SourceCodePro-It.ttf.woff2\") format(\"woff2\");\n \tfont-display: swap;\n }\n @font-face {\n \tfont-family: 'Source Code Pro';\n \tfont-style: normal;\n \tfont-weight: 600;\n-\tsrc: url(\"SourceCodePro-Semibold.ttf.woff2\") format(\"woff2\"),\n-\t\turl(\"SourceCodePro-Semibold.ttf.woff\") format(\"woff\");\n+\tsrc: url(\"SourceCodePro-Semibold.ttf.woff2\") format(\"woff2\");\n \tfont-display: swap;\n }\n \n /* Avoid using legacy CJK serif fonts in Windows like Batang. */\n @font-face {\n \tfont-family: 'NanumBarunGothic';\n-\tsrc: url(\"NanumBarunGothic.ttf.woff2\") format(\"woff2\"),\n-\t\turl(\"NanumBarunGothic.ttf.woff\") format(\"woff\");\n+\tsrc: url(\"NanumBarunGothic.ttf.woff2\") format(\"woff2\");\n \tfont-display: swap;\n \tunicode-range: U+AC00-D7AF, U+1100-11FF, U+3130-318F, U+A960-A97F, U+D7B0-D7FF;\n }"}, {"sha": "7d742c5fb7d4597ae140f8418f52ffe03dc75343", "filename": "src/librustdoc/html/static/fonts/FiraSans-Medium.woff", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FFiraSans-Medium.woff", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FFiraSans-Medium.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FFiraSans-Medium.woff?ref=93db30aa7f32a08e371774dd3821baab3d808f8d"}, {"sha": "d8e0363f4e1a000568d782653291e14c66ee3485", "filename": "src/librustdoc/html/static/fonts/FiraSans-Regular.woff", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FFiraSans-Regular.woff", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FFiraSans-Regular.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FFiraSans-Regular.woff?ref=93db30aa7f32a08e371774dd3821baab3d808f8d"}, {"sha": "fb063e8fb7dc5435c591560e257903a35f76ee6a", "filename": "src/librustdoc/html/static/fonts/NanumBarunGothic.ttf.woff", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FNanumBarunGothic.ttf.woff", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FNanumBarunGothic.ttf.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FNanumBarunGothic.ttf.woff?ref=93db30aa7f32a08e371774dd3821baab3d808f8d"}, {"sha": "8d68f2febddb04dd6e768a4939d63eb7a1f4a139", "filename": "src/librustdoc/html/static/fonts/SourceCodePro-It.ttf.woff", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceCodePro-It.ttf.woff", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceCodePro-It.ttf.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceCodePro-It.ttf.woff?ref=93db30aa7f32a08e371774dd3821baab3d808f8d"}, {"sha": "7be076e1fca99ac23aba68ccfb6e4b94b776b772", "filename": "src/librustdoc/html/static/fonts/SourceCodePro-Regular.ttf.woff", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceCodePro-Regular.ttf.woff", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceCodePro-Regular.ttf.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceCodePro-Regular.ttf.woff?ref=93db30aa7f32a08e371774dd3821baab3d808f8d"}, {"sha": "61bc67b80252dc41fef75b08604adc1a09c34761", "filename": "src/librustdoc/html/static/fonts/SourceCodePro-Semibold.ttf.woff", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceCodePro-Semibold.ttf.woff", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceCodePro-Semibold.ttf.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceCodePro-Semibold.ttf.woff?ref=93db30aa7f32a08e371774dd3821baab3d808f8d"}, {"sha": "8ad41888e6e3f9f4439052ae6b14ece2cdfcd7cb", "filename": "src/librustdoc/html/static/fonts/SourceSerif4-Bold.ttf.woff", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceSerif4-Bold.ttf.woff", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceSerif4-Bold.ttf.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceSerif4-Bold.ttf.woff?ref=93db30aa7f32a08e371774dd3821baab3d808f8d"}, {"sha": "2a34b5c42a8aaca17a3c6a37a33489ab0cf2193f", "filename": "src/librustdoc/html/static/fonts/SourceSerif4-It.ttf.woff", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceSerif4-It.ttf.woff", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceSerif4-It.ttf.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceSerif4-It.ttf.woff?ref=93db30aa7f32a08e371774dd3821baab3d808f8d"}, {"sha": "45a5521ab0c77a02ebf55a3f7305faccc02e2894", "filename": "src/librustdoc/html/static/fonts/SourceSerif4-Regular.ttf.woff", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceSerif4-Regular.ttf.woff", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceSerif4-Regular.ttf.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Ffonts%2FSourceSerif4-Regular.ttf.woff?ref=93db30aa7f32a08e371774dd3821baab3d808f8d"}, {"sha": "bec5c083fed225b7f3afd6fbd55ca5866f2c6a10", "filename": "src/librustdoc/html/static_files.rs", "status": "modified", "additions": 9, "deletions": 42, "changes": 51, "blob_url": "https://github.com/rust-lang/rust/blob/2381897f274b99364b70b85a9b57d1d6e9f103ee/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2381897f274b99364b70b85a9b57d1d6e9f103ee/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs?ref=2381897f274b99364b70b85a9b57d1d6e9f103ee", "patch": "@@ -92,72 +92,47 @@ crate mod themes {\n \n /// Files related to the Fira Sans font.\n crate mod fira_sans {\n-    /// The file `FiraSans-Regular.woff`, the Regular variant of the Fira Sans font.\n-    crate static REGULAR: &[u8] = include_bytes!(\"static/fonts/FiraSans-Regular.woff\");\n-\n     /// The file `FiraSans-Regular.woff2`, the Regular variant of the Fira Sans font in woff2.\n-    crate static REGULAR2: &[u8] = include_bytes!(\"static/fonts/FiraSans-Regular.woff2\");\n-\n-    /// The file `FiraSans-Medium.woff`, the Medium variant of the Fira Sans font.\n-    crate static MEDIUM: &[u8] = include_bytes!(\"static/fonts/FiraSans-Medium.woff\");\n+    crate static REGULAR: &[u8] = include_bytes!(\"static/fonts/FiraSans-Regular.woff2\");\n \n     /// The file `FiraSans-Medium.woff2`, the Medium variant of the Fira Sans font in woff2.\n-    crate static MEDIUM2: &[u8] = include_bytes!(\"static/fonts/FiraSans-Medium.woff2\");\n+    crate static MEDIUM: &[u8] = include_bytes!(\"static/fonts/FiraSans-Medium.woff2\");\n \n     /// The file `FiraSans-LICENSE.txt`, the license text for the Fira Sans font.\n     crate static LICENSE: &[u8] = include_bytes!(\"static/fonts/FiraSans-LICENSE.txt\");\n }\n \n /// Files related to the Source Serif 4 font.\n crate mod source_serif_4 {\n-    /// The file `SourceSerif4-Regular.ttf.woff`, the Regular variant of the Source Serif 4 font.\n-    crate static REGULAR: &[u8] = include_bytes!(\"static/fonts/SourceSerif4-Regular.ttf.woff\");\n-\n     /// The file `SourceSerif4-Regular.ttf.woff2`, the Regular variant of the Source Serif 4 font in\n     /// woff2.\n-    crate static REGULAR2: &[u8] = include_bytes!(\"static/fonts/SourceSerif4-Regular.ttf.woff2\");\n-\n-    /// The file `SourceSerif4-Bold.ttf.woff`, the Bold variant of the Source Serif 4 font.\n-    crate static BOLD: &[u8] = include_bytes!(\"static/fonts/SourceSerif4-Bold.ttf.woff\");\n+    crate static REGULAR: &[u8] = include_bytes!(\"static/fonts/SourceSerif4-Regular.ttf.woff2\");\n \n     /// The file `SourceSerif4-Bold.ttf.woff2`, the Bold variant of the Source Serif 4 font in\n     /// woff2.\n-    crate static BOLD2: &[u8] = include_bytes!(\"static/fonts/SourceSerif4-Bold.ttf.woff2\");\n-\n-    /// The file `SourceSerif4-It.ttf.woff`, the Italic variant of the Source Serif 4 font.\n-    crate static ITALIC: &[u8] = include_bytes!(\"static/fonts/SourceSerif4-It.ttf.woff\");\n+    crate static BOLD: &[u8] = include_bytes!(\"static/fonts/SourceSerif4-Bold.ttf.woff2\");\n \n     /// The file `SourceSerif4-It.ttf.woff2`, the Italic variant of the Source Serif 4 font in\n     /// woff2.\n-    crate static ITALIC2: &[u8] = include_bytes!(\"static/fonts/SourceSerif4-It.ttf.woff2\");\n+    crate static ITALIC: &[u8] = include_bytes!(\"static/fonts/SourceSerif4-It.ttf.woff2\");\n \n     /// The file `SourceSerif4-LICENSE.txt`, the license text for the Source Serif 4 font.\n     crate static LICENSE: &[u8] = include_bytes!(\"static/fonts/SourceSerif4-LICENSE.md\");\n }\n \n /// Files related to the Source Code Pro font.\n crate mod source_code_pro {\n-    /// The file `SourceCodePro-Regular.ttf.woff`, the Regular variant of the Source Code Pro font.\n-    crate static REGULAR: &[u8] = include_bytes!(\"static/fonts/SourceCodePro-Regular.ttf.woff\");\n-\n     /// The file `SourceCodePro-Regular.ttf.woff2`, the Regular variant of the Source Code Pro font\n     /// in woff2.\n-    crate static REGULAR2: &[u8] = include_bytes!(\"static/fonts/SourceCodePro-Regular.ttf.woff2\");\n-\n-    /// The file `SourceCodePro-Semibold.ttf.woff`, the Semibold variant of the Source Code Pro\n-    /// font.\n-    crate static SEMIBOLD: &[u8] = include_bytes!(\"static/fonts/SourceCodePro-Semibold.ttf.woff\");\n+    crate static REGULAR: &[u8] = include_bytes!(\"static/fonts/SourceCodePro-Regular.ttf.woff2\");\n \n     /// The file `SourceCodePro-Semibold.ttf.woff2`, the Semibold variant of the Source Code Pro\n     /// font in woff2.\n-    crate static SEMIBOLD2: &[u8] = include_bytes!(\"static/fonts/SourceCodePro-Semibold.ttf.woff2\");\n-\n-    /// The file `SourceCodePro-It.ttf.woff`, the Italic variant of the Source Code Pro font.\n-    crate static ITALIC: &[u8] = include_bytes!(\"static/fonts/SourceCodePro-It.ttf.woff\");\n+    crate static SEMIBOLD: &[u8] = include_bytes!(\"static/fonts/SourceCodePro-Semibold.ttf.woff2\");\n \n     /// The file `SourceCodePro-It.ttf.woff2`, the Italic variant of the Source Code Pro font in\n     /// woff2.\n-    crate static ITALIC2: &[u8] = include_bytes!(\"static/fonts/SourceCodePro-It.ttf.woff2\");\n+    crate static ITALIC: &[u8] = include_bytes!(\"static/fonts/SourceCodePro-It.ttf.woff2\");\n \n     /// The file `SourceCodePro-LICENSE.txt`, the license text of the Source Code Pro font.\n     crate static LICENSE: &[u8] = include_bytes!(\"static/fonts/SourceCodePro-LICENSE.txt\");\n@@ -176,19 +151,11 @@ crate mod source_code_pro {\n /// ```sh\n /// pyftsubset NanumBarunGothic.ttf \\\n /// --unicodes=U+AC00-D7AF,U+1100-11FF,U+3130-318F,U+A960-A97F,U+D7B0-D7FF \\\n-/// --output-file=NanumBarunGothic.ttf.woff --flavor=woff\n-/// ```\n-/// ```sh\n-/// pyftsubset NanumBarunGothic.ttf \\\n-/// --unicodes=U+AC00-D7AF,U+1100-11FF,U+3130-318F,U+A960-A97F,U+D7B0-D7FF \\\n /// --output-file=NanumBarunGothic.ttf.woff2 --flavor=woff2\n /// ```\n crate mod nanum_barun_gothic {\n-    /// The file `NanumBarunGothic.ttf.woff`, the Regular variant of the Nanum Barun Gothic font.\n-    crate static REGULAR: &[u8] = include_bytes!(\"static/fonts/NanumBarunGothic.ttf.woff\");\n-\n     /// The file `NanumBarunGothic.ttf.woff2`, the Regular variant of the Nanum Barun Gothic font.\n-    crate static REGULAR2: &[u8] = include_bytes!(\"static/fonts/NanumBarunGothic.ttf.woff2\");\n+    crate static REGULAR: &[u8] = include_bytes!(\"static/fonts/NanumBarunGothic.ttf.woff2\");\n \n     /// The file `NanumBarunGothic-LICENSE.txt`, the license text of the Nanum Barun Gothic font.\n     crate static LICENSE: &[u8] = include_bytes!(\"static/fonts/NanumBarunGothic-LICENSE.txt\");"}, {"sha": "9f46883beaaccd86223a1c1694d5a33899718bc6", "filename": "src/test/run-make/emit-shared-files/Makefile", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/2381897f274b99364b70b85a9b57d1d6e9f103ee/src%2Ftest%2Frun-make%2Femit-shared-files%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/2381897f274b99364b70b85a9b57d1d6e9f103ee/src%2Ftest%2Frun-make%2Femit-shared-files%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Femit-shared-files%2FMakefile?ref=2381897f274b99364b70b85a9b57d1d6e9f103ee", "patch": "@@ -14,7 +14,7 @@ invocation-only:\n \t[ -e $(INVOCATION_ONLY)/x/index.html ]\n \t[ -e $(INVOCATION_ONLY)/theme-xxx.css ] # generated from z.css\n \t! [ -e $(INVOCATION_ONLY)/storage-xxx.js ]\n-\t! [ -e $(INVOCATION_ONLY)/SourceSerif4-It.ttf.woff ]\n+\t! [ -e $(INVOCATION_ONLY)/SourceSerif4-It.ttf.woff2 ]\n \n \t# FIXME: this probably shouldn't have a suffix\n \t[ -e $(INVOCATION_ONLY)/y-xxx.css ]\n@@ -24,7 +24,7 @@ invocation-only:\n toolchain-only:\n \t$(RUSTDOC) -Z unstable-options --emit=toolchain-shared-resources --output $(TOOLCHAIN_ONLY) --resource-suffix=-xxx --extend-css z.css x.rs\n \t[ -e $(TOOLCHAIN_ONLY)/storage-xxx.js ]\n-\t! [ -e $(TOOLCHAIN_ONLY)/SourceSerif4-It.ttf.woff ]\n+\t! [ -e $(TOOLCHAIN_ONLY)/SourceSerif4-It.ttf.woff2 ]\n \t! [ -e $(TOOLCHAIN_ONLY)/search-index-xxx.js ]\n \t! [ -e $(TOOLCHAIN_ONLY)/x/index.html ]\n \t! [ -e $(TOOLCHAIN_ONLY)/theme.css ]\n@@ -35,7 +35,7 @@ toolchain-only:\n all-shared:\n \t$(RUSTDOC) -Z unstable-options --emit=toolchain-shared-resources,unversioned-shared-resources --output $(ALL_SHARED) --resource-suffix=-xxx --extend-css z.css x.rs\n \t[ -e $(ALL_SHARED)/storage-xxx.js ]\n-\t[ -e $(ALL_SHARED)/SourceSerif4-It.ttf.woff ]\n+\t[ -e $(ALL_SHARED)/SourceSerif4-It.ttf.woff2 ]\n \t! [ -e $(ALL_SHARED)/search-index-xxx.js ]\n \t! [ -e $(ALL_SHARED)/settings.html ]\n \t! [ -e $(ALL_SHARED)/x ]"}]}