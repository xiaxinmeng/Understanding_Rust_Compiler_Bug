{"sha": "dc6121ca681e3aef09b93afb13637632dcdc0e9a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRjNjEyMWNhNjgxZTNhZWYwOWI5M2FmYjEzNjM3NjMyZGNkYzBlOWE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-12-27T09:55:51Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-12-27T09:55:51Z"}, "message": "Auto merge of #79642 - ijackson:default-theme-stab, r=jyn514\n\nrustdoc: stabilise --default-theme command line option\n\nAs discussed in #77213, this seems like it has bedded in and can be safely and usefully made stable.\n\n(rustdoc already has other stable options that interact quite intimately with the rustdoc-supplied CSS, and also an option for supplying entirely different CSS, so exposing the theme names this way seems a very minor step.)\n\nThere is also a commit to do some minor grammar fixes to the help message.", "tree": {"sha": "9467813295305ecfaedaca1643de0a2f9e102b2d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9467813295305ecfaedaca1643de0a2f9e102b2d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dc6121ca681e3aef09b93afb13637632dcdc0e9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dc6121ca681e3aef09b93afb13637632dcdc0e9a", "html_url": "https://github.com/rust-lang/rust/commit/dc6121ca681e3aef09b93afb13637632dcdc0e9a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dc6121ca681e3aef09b93afb13637632dcdc0e9a/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1d517afcd0929450ded8f644fa8e8da3776db68b", "url": "https://api.github.com/repos/rust-lang/rust/commits/1d517afcd0929450ded8f644fa8e8da3776db68b", "html_url": "https://github.com/rust-lang/rust/commit/1d517afcd0929450ded8f644fa8e8da3776db68b"}, {"sha": "63f3876b856e8e995d2b4960ca9f6f617950ce7b", "url": "https://api.github.com/repos/rust-lang/rust/commits/63f3876b856e8e995d2b4960ca9f6f617950ce7b", "html_url": "https://github.com/rust-lang/rust/commit/63f3876b856e8e995d2b4960ca9f6f617950ce7b"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "80f7851debfbd7a163d1e2e8f6bb667e1b499514", "filename": "src/doc/rustdoc/src/command-line-arguments.md", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/dc6121ca681e3aef09b93afb13637632dcdc0e9a/src%2Fdoc%2Frustdoc%2Fsrc%2Fcommand-line-arguments.md", "raw_url": "https://github.com/rust-lang/rust/raw/dc6121ca681e3aef09b93afb13637632dcdc0e9a/src%2Fdoc%2Frustdoc%2Fsrc%2Fcommand-line-arguments.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Fcommand-line-arguments.md?ref=dc6121ca681e3aef09b93afb13637632dcdc0e9a", "patch": "@@ -237,6 +237,26 @@ for a target triple that's different than your host triple.\n \n All of the usual caveats of cross-compiling code apply.\n \n+## `--default-theme`: set the default theme\n+\n+Using this flag looks like this:\n+\n+```bash\n+$ rustdoc src/lib.rs --default-theme=ayu\n+```\n+\n+Sets the default theme (for users whose browser has not remembered a\n+previous theme selection from the on-page theme picker).\n+\n+The supplied value should be the lowercase version of the theme name.\n+The set of available themes can be seen in the theme picker in the\n+generated output.\n+\n+Note that the set of available themes - and their appearance - is not\n+necessarily stable from one rustdoc version to the next.  If the\n+requested theme does not exist, the builtin default (currently\n+`light`) is used instead.\n+\n ## `--markdown-css`: include more CSS files when rendering markdown\n \n Using this flag looks like this:"}, {"sha": "e8bf664d45c4daa99cd0771c1e061e544a5f1df9", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/dc6121ca681e3aef09b93afb13637632dcdc0e9a/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc6121ca681e3aef09b93afb13637632dcdc0e9a/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=dc6121ca681e3aef09b93afb13637632dcdc0e9a", "patch": "@@ -263,13 +263,13 @@ fn opts() -> Vec<RustcOptGroup> {\n                 \"sort modules by where they appear in the program, rather than alphabetically\",\n             )\n         }),\n-        unstable(\"default-theme\", |o| {\n+        stable(\"default-theme\", |o| {\n             o.optopt(\n                 \"\",\n                 \"default-theme\",\n                 \"Set the default theme. THEME should be the theme name, generally lowercase. \\\n                  If an unknown default theme is specified, the builtin default is used. \\\n-                 The set of themes, and the rustdoc built-in default is not stable.\",\n+                 The set of themes, and the rustdoc built-in default, are not stable.\",\n                 \"THEME\",\n             )\n         }),"}]}