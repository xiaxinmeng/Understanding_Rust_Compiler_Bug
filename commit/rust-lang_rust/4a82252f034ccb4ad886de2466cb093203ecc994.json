{"sha": "4a82252f034ccb4ad886de2466cb093203ecc994", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhODIyNTJmMDM0Y2NiNGFkODg2ZGUyNDY2Y2IwOTMyMDNlY2M5OTQ=", "commit": {"author": {"name": "Emilio Cobos \u00c1lvarez", "email": "emilio@crisal.io", "date": "2018-10-30T02:11:14Z"}, "committer": {"name": "Emilio Cobos \u00c1lvarez", "email": "emilio@crisal.io", "date": "2018-10-30T02:21:28Z"}, "message": "missed-spans: Fix bogus check.\n\nI don't really know what it's trying to do, but forgetting about everything\nyou've seen before when you see whitespace followed by a semicolon doesn't look\nright to me, and absolutely no tests were hitting that.\n\nThis check was introduced in 5ecdd072d6745cd70ec7c37eea8dbf1f3ee42f2e, however\nit was wrong even at that point, and now rustfmt still passes that test,\nregardless of macro name.\n\nFixes #3154.", "tree": {"sha": "06668440224dc87ce1be630a603eba290832379e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/06668440224dc87ce1be630a603eba290832379e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4a82252f034ccb4ad886de2466cb093203ecc994", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEE+uMrE+H37zcdV8pyBWtye7nBAnwFAlvXwFcACgkQBWtye7nB\nAnwn8ggA2/hPEHiZOeB9IKDTBa4e1whfeUAAmTtgDVNW5PXcqBbHkbL2ioiU17Ug\nqF8U/EAOMs1PAOSWqJNwDljT3NHfRdueliN08mdBCohHAQ2SPgnhOPYxZLLruCIx\ndWY/nHo3Di90jRRgR8laZ5/9iNr/qFejctZivi/kU7oCL7yp+3c5h/ta/a8VAq8X\nzktSrjgW+ArQlywMaW7HnrNyoUxdcSdCi7ll8Uo7am3qJkXrMLWT7v23fY9ZCgXT\nuEjVE4bY3xchUN9m/uLsEwLtDxXYOUwj2tGNKOmOYEYcpYa7TZfvI342r+M33lZF\nHEDwRHaXqI85XWQd9tcxIAh7v8tAXA==\n=Qho/\n-----END PGP SIGNATURE-----", "payload": "tree 06668440224dc87ce1be630a603eba290832379e\nparent 7bf0d308f84c05437f31fb275b1db30098dde660\nauthor Emilio Cobos \u00c1lvarez <emilio@crisal.io> 1540865474 +0100\ncommitter Emilio Cobos \u00c1lvarez <emilio@crisal.io> 1540866088 +0100\n\nmissed-spans: Fix bogus check.\n\nI don't really know what it's trying to do, but forgetting about everything\nyou've seen before when you see whitespace followed by a semicolon doesn't look\nright to me, and absolutely no tests were hitting that.\n\nThis check was introduced in 5ecdd072d6745cd70ec7c37eea8dbf1f3ee42f2e, however\nit was wrong even at that point, and now rustfmt still passes that test,\nregardless of macro name.\n\nFixes #3154.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4a82252f034ccb4ad886de2466cb093203ecc994", "html_url": "https://github.com/rust-lang/rust/commit/4a82252f034ccb4ad886de2466cb093203ecc994", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4a82252f034ccb4ad886de2466cb093203ecc994/comments", "author": {"login": "emilio", "id": 1323194, "node_id": "MDQ6VXNlcjEzMjMxOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1323194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emilio", "html_url": "https://github.com/emilio", "followers_url": "https://api.github.com/users/emilio/followers", "following_url": "https://api.github.com/users/emilio/following{/other_user}", "gists_url": "https://api.github.com/users/emilio/gists{/gist_id}", "starred_url": "https://api.github.com/users/emilio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emilio/subscriptions", "organizations_url": "https://api.github.com/users/emilio/orgs", "repos_url": "https://api.github.com/users/emilio/repos", "events_url": "https://api.github.com/users/emilio/events{/privacy}", "received_events_url": "https://api.github.com/users/emilio/received_events", "type": "User", "site_admin": false}, "committer": {"login": "emilio", "id": 1323194, "node_id": "MDQ6VXNlcjEzMjMxOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1323194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emilio", "html_url": "https://github.com/emilio", "followers_url": "https://api.github.com/users/emilio/followers", "following_url": "https://api.github.com/users/emilio/following{/other_user}", "gists_url": "https://api.github.com/users/emilio/gists{/gist_id}", "starred_url": "https://api.github.com/users/emilio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emilio/subscriptions", "organizations_url": "https://api.github.com/users/emilio/orgs", "repos_url": "https://api.github.com/users/emilio/repos", "events_url": "https://api.github.com/users/emilio/events{/privacy}", "received_events_url": "https://api.github.com/users/emilio/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7bf0d308f84c05437f31fb275b1db30098dde660", "url": "https://api.github.com/repos/rust-lang/rust/commits/7bf0d308f84c05437f31fb275b1db30098dde660", "html_url": "https://github.com/rust-lang/rust/commit/7bf0d308f84c05437f31fb275b1db30098dde660"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "28cd9874d9c2e604a210a1205483d6ed7ae9f3c4", "filename": "src/missed_spans.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4a82252f034ccb4ad886de2466cb093203ecc994/src%2Fmissed_spans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4a82252f034ccb4ad886de2466cb093203ecc994/src%2Fmissed_spans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmissed_spans.rs?ref=4a82252f034ccb4ad886de2466cb093203ecc994", "patch": "@@ -308,9 +308,6 @@ impl<'a> FmtVisitor<'a> {\n                 status.line_start = i + 1;\n             } else if c.is_whitespace() && status.last_wspace.is_none() {\n                 status.last_wspace = Some(i);\n-            } else if c == ';' && status.last_wspace.is_some() {\n-                status.line_start = i;\n-                status.last_wspace = None;\n             } else {\n                 status.last_wspace = None;\n             }"}, {"sha": "339382b5bbf23466becf0efc9451960751543fe5", "filename": "tests/source/long-use-statement-issue-3154.rs", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4a82252f034ccb4ad886de2466cb093203ecc994/tests%2Fsource%2Flong-use-statement-issue-3154.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4a82252f034ccb4ad886de2466cb093203ecc994/tests%2Fsource%2Flong-use-statement-issue-3154.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Flong-use-statement-issue-3154.rs?ref=4a82252f034ccb4ad886de2466cb093203ecc994", "patch": "@@ -0,0 +1,3 @@\n+// rustfmt-reorder_imports: false\n+\n+pub use self :: super :: super :: super :: root::mozilla::detail::StringClassFlags as nsTStringRepr_ClassFlags ;"}, {"sha": "339382b5bbf23466becf0efc9451960751543fe5", "filename": "tests/target/long-use-statement-issue-3154.rs", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4a82252f034ccb4ad886de2466cb093203ecc994/tests%2Ftarget%2Flong-use-statement-issue-3154.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4a82252f034ccb4ad886de2466cb093203ecc994/tests%2Ftarget%2Flong-use-statement-issue-3154.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Flong-use-statement-issue-3154.rs?ref=4a82252f034ccb4ad886de2466cb093203ecc994", "patch": "@@ -0,0 +1,3 @@\n+// rustfmt-reorder_imports: false\n+\n+pub use self :: super :: super :: super :: root::mozilla::detail::StringClassFlags as nsTStringRepr_ClassFlags ;"}]}