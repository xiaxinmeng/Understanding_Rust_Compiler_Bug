{"sha": "bd63c594c25e559f49c52169ad4be0778c4c4d12", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJkNjNjNTk0YzI1ZTU1OWY0OWM1MjE2OWFkNGJlMDc3OGM0YzRkMTI=", "commit": {"author": {"name": "cosine", "email": "trash@cosine.online", "date": "2019-11-16T12:12:37Z"}, "committer": {"name": "cosine", "email": "trash@cosine.online", "date": "2019-11-16T12:12:37Z"}, "message": "Use \"field is never read\" instead of \"field is never used\"", "tree": {"sha": "8c47e48e7e5ca8debb66bb35b0db8585bd52b4f0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8c47e48e7e5ca8debb66bb35b0db8585bd52b4f0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bd63c594c25e559f49c52169ad4be0778c4c4d12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bd63c594c25e559f49c52169ad4be0778c4c4d12", "html_url": "https://github.com/rust-lang/rust/commit/bd63c594c25e559f49c52169ad4be0778c4c4d12", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bd63c594c25e559f49c52169ad4be0778c4c4d12/comments", "author": {"login": "CosineP", "id": 3986627, "node_id": "MDQ6VXNlcjM5ODY2Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/3986627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CosineP", "html_url": "https://github.com/CosineP", "followers_url": "https://api.github.com/users/CosineP/followers", "following_url": "https://api.github.com/users/CosineP/following{/other_user}", "gists_url": "https://api.github.com/users/CosineP/gists{/gist_id}", "starred_url": "https://api.github.com/users/CosineP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CosineP/subscriptions", "organizations_url": "https://api.github.com/users/CosineP/orgs", "repos_url": "https://api.github.com/users/CosineP/repos", "events_url": "https://api.github.com/users/CosineP/events{/privacy}", "received_events_url": "https://api.github.com/users/CosineP/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CosineP", "id": 3986627, "node_id": "MDQ6VXNlcjM5ODY2Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/3986627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CosineP", "html_url": "https://github.com/CosineP", "followers_url": "https://api.github.com/users/CosineP/followers", "following_url": "https://api.github.com/users/CosineP/following{/other_user}", "gists_url": "https://api.github.com/users/CosineP/gists{/gist_id}", "starred_url": "https://api.github.com/users/CosineP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CosineP/subscriptions", "organizations_url": "https://api.github.com/users/CosineP/orgs", "repos_url": "https://api.github.com/users/CosineP/repos", "events_url": "https://api.github.com/users/CosineP/events{/privacy}", "received_events_url": "https://api.github.com/users/CosineP/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1d8b6ce89e0874b5e93c9e41bfdd565c56372bb0", "url": "https://api.github.com/repos/rust-lang/rust/commits/1d8b6ce89e0874b5e93c9e41bfdd565c56372bb0", "html_url": "https://github.com/rust-lang/rust/commit/1d8b6ce89e0874b5e93c9e41bfdd565c56372bb0"}], "stats": {"total": 42, "additions": 21, "deletions": 21}, "files": [{"sha": "db661e7f4d2a5f768e2b4009d94f0293a4fa6f65", "filename": "src/librustc_passes/dead.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Flibrustc_passes%2Fdead.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Flibrustc_passes%2Fdead.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_passes%2Fdead.rs?ref=bd63c594c25e559f49c52169ad4be0778c4c4d12", "patch": "@@ -631,7 +631,7 @@ impl Visitor<'tcx> for DeadVisitor<'tcx> {\n \n     fn visit_struct_field(&mut self, field: &'tcx hir::StructField) {\n         if self.should_warn_about_field(&field) {\n-            self.warn_dead_code(field.hir_id, field.span, field.ident.name, \"field\", \"used\");\n+            self.warn_dead_code(field.hir_id, field.span, field.ident.name, \"field\", \"read\");\n         }\n         intravisit::walk_struct_field(self, field);\n     }"}, {"sha": "8bcb1e5ba8c0da19466f2d4dc50a7165dcd0a65f", "filename": "src/test/ui/lint/dead-code/lint-dead-code-4.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Flint%2Fdead-code%2Flint-dead-code-4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Flint%2Fdead-code%2Flint-dead-code-4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fdead-code%2Flint-dead-code-4.rs?ref=bd63c594c25e559f49c52169ad4be0778c4c4d12", "patch": "@@ -4,7 +4,7 @@\n \n struct Foo {\n     x: usize,\n-    b: bool, //~ ERROR: field is never used\n+    b: bool, //~ ERROR: field is never read\n }\n \n fn field_read(f: Foo) -> usize {\n@@ -36,8 +36,8 @@ enum IJK {\n     I, //~ ERROR variant is never constructed\n     J {\n         a: String,\n-        b: i32, //~ ERROR field is never used\n-        c: i32, //~ ERROR field is never used\n+        b: i32, //~ ERROR field is never read\n+        c: i32, //~ ERROR field is never read\n     },\n     K //~ ERROR variant is never constructed\n \n@@ -58,9 +58,9 @@ fn field_match_in_patterns(b: XYZ) -> String {\n }\n \n struct Bar {\n-    x: usize, //~ ERROR: field is never used\n+    x: usize, //~ ERROR: field is never read\n     b: bool,\n-    c: bool, //~ ERROR: field is never used\n+    c: bool, //~ ERROR: field is never read\n     _guard: ()\n }\n "}, {"sha": "cc00fa4e42afd8f6a00b867273260565296f7534", "filename": "src/test/ui/lint/dead-code/lint-dead-code-4.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Flint%2Fdead-code%2Flint-dead-code-4.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Flint%2Fdead-code%2Flint-dead-code-4.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fdead-code%2Flint-dead-code-4.stderr?ref=bd63c594c25e559f49c52169ad4be0778c4c4d12", "patch": "@@ -1,4 +1,4 @@\n-error: field is never used: `b`\n+error: field is never read: `b`\n   --> $DIR/lint-dead-code-4.rs:7:5\n    |\n LL |     b: bool,\n@@ -38,13 +38,13 @@ error: variant is never constructed: `I`\n LL |     I,\n    |     ^\n \n-error: field is never used: `b`\n+error: field is never read: `b`\n   --> $DIR/lint-dead-code-4.rs:39:9\n    |\n LL |         b: i32,\n    |         ^^^^^^\n \n-error: field is never used: `c`\n+error: field is never read: `c`\n   --> $DIR/lint-dead-code-4.rs:40:9\n    |\n LL |         c: i32,\n@@ -56,13 +56,13 @@ error: variant is never constructed: `K`\n LL |     K\n    |     ^\n \n-error: field is never used: `x`\n+error: field is never read: `x`\n   --> $DIR/lint-dead-code-4.rs:61:5\n    |\n LL |     x: usize,\n    |     ^^^^^^^^\n \n-error: field is never used: `c`\n+error: field is never read: `c`\n   --> $DIR/lint-dead-code-4.rs:63:5\n    |\n LL |     c: bool,"}, {"sha": "edef41de159bae806cd36b26a0a9f07e90d3a18e", "filename": "src/test/ui/union/union-fields-1.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Funion%2Funion-fields-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Funion%2Funion-fields-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funion%2Funion-fields-1.rs?ref=bd63c594c25e559f49c52169ad4be0778c4c4d12", "patch": "@@ -3,19 +3,19 @@\n union U1 {\n     a: u8, // should not be reported\n     b: u8, // should not be reported\n-    c: u8, //~ ERROR field is never used\n+    c: u8, //~ ERROR field is never read\n }\n union U2 {\n-    a: u8, //~ ERROR field is never used\n+    a: u8, //~ ERROR field is never read\n     b: u8, // should not be reported\n     c: u8, // should not be reported\n }\n-union NoDropLike { a: u8 } //~ ERROR field is never used\n+union NoDropLike { a: u8 } //~ ERROR field is never read\n \n union U {\n     a: u8, // should not be reported\n     b: u8, // should not be reported\n-    c: u8, //~ ERROR field is never used\n+    c: u8, //~ ERROR field is never read\n }\n type A = U;\n "}, {"sha": "be145c9496c6cd793dead823d6816a2b0f323610", "filename": "src/test/ui/union/union-fields-1.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Funion%2Funion-fields-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Funion%2Funion-fields-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funion%2Funion-fields-1.stderr?ref=bd63c594c25e559f49c52169ad4be0778c4c4d12", "patch": "@@ -1,4 +1,4 @@\n-error: field is never used: `c`\n+error: field is never read: `c`\n   --> $DIR/union-fields-1.rs:6:5\n    |\n LL |     c: u8,\n@@ -10,19 +10,19 @@ note: lint level defined here\n LL | #![deny(dead_code)]\n    |         ^^^^^^^^^\n \n-error: field is never used: `a`\n+error: field is never read: `a`\n   --> $DIR/union-fields-1.rs:9:5\n    |\n LL |     a: u8,\n    |     ^^^^^\n \n-error: field is never used: `a`\n+error: field is never read: `a`\n   --> $DIR/union-fields-1.rs:13:20\n    |\n LL | union NoDropLike { a: u8 }\n    |                    ^^^^^\n \n-error: field is never used: `c`\n+error: field is never read: `c`\n   --> $DIR/union-fields-1.rs:18:5\n    |\n LL |     c: u8,"}, {"sha": "ae5337c618a754d470c8af176689390c56be7c60", "filename": "src/test/ui/union/union-lint-dead-code.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Funion%2Funion-lint-dead-code.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Funion%2Funion-lint-dead-code.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funion%2Funion-lint-dead-code.rs?ref=bd63c594c25e559f49c52169ad4be0778c4c4d12", "patch": "@@ -2,7 +2,7 @@\n \n union Foo {\n     x: usize,\n-    b: bool, //~ ERROR: field is never used\n+    b: bool, //~ ERROR: field is never read\n     _unused: u16,\n }\n "}, {"sha": "5fe26dc25384402bbf5b4fe4497ec31c3525d7db", "filename": "src/test/ui/union/union-lint-dead-code.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Funion%2Funion-lint-dead-code.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/bd63c594c25e559f49c52169ad4be0778c4c4d12/src%2Ftest%2Fui%2Funion%2Funion-lint-dead-code.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funion%2Funion-lint-dead-code.stderr?ref=bd63c594c25e559f49c52169ad4be0778c4c4d12", "patch": "@@ -1,4 +1,4 @@\n-error: field is never used: `b`\n+error: field is never read: `b`\n   --> $DIR/union-lint-dead-code.rs:5:5\n    |\n LL |     b: bool,"}]}