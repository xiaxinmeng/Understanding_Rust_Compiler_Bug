{"sha": "2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "node_id": "C_kwDOAAsO6NoAKDJjOTJjNzJjNDZlNmEzMDBjOTAyYzZkMGUxYzRiNWM2YjliNWMxNzk", "commit": {"author": {"name": "Ezra Shaw", "email": "ezrasure@outlook.com", "date": "2023-01-09T02:44:33Z"}, "committer": {"name": "Ezra Shaw", "email": "ezrasure@outlook.com", "date": "2023-01-09T04:05:56Z"}, "message": "fix: fix CI errors", "tree": {"sha": "cc5d815035b404ae73973f03abd078fd4bd8ca1d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cc5d815035b404ae73973f03abd078fd4bd8ca1d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJJBAABCAAzFiEEYSWD6p+RIeSP1N2eF81cKtrg00QFAmO7kqwVHGV6cmFzdXJl\nQG91dGxvb2suY29tAAoJEBfNXCra4NNEYyQP/iCVVGg+GxlCz6gHZI7X+xBxuien\nKl4sBVNLKX7AWKZthKfyTdynETdE0L/dQe4C9JB6ZAZKRQZq2E4ffmUJaiHQ1OHf\n5bQWMuitdU+l4+qYbhuO7kB6AIUf4XfymIlUwcz/E69+OeDVWrsMo+2SYHRSeKOS\nb+Ut11yPeqRhs+xw4Wz6sijQxZY5P6lUAHd9D9ESnqYkQs69Maa/qcuXVW7aNYDU\nJOMN0Rm2LsMXboxJCl1i7+t7ZqrdllVAGZUj1l5j4D/HYqzR9U42L+TONHaVM9tf\nfKjUSVRmXV8STY+5E/ujBP/tsggs3SjMu6Hyvwn/7gaB6PSK417wIPcluHqJo9Dl\nKrRPMKl0y733Sn2MfG30gn5ABkZR9K1lAzBpmpNXMp/P/U1VfUxrnI8SCAJGJ58k\nSfdu1hZPfzCxEfpmLZyV193dEYwL87Nc4b5qpIDrsFpMeFXDQ+YxIWw/RGl6aRFx\nUPiRu6WMFvBOJogfV6l8gMJizvk/nsWdTo9QgdGphl1RiXw9zuHFWo3aesrHBPKq\nujtVx4qKPGH0KzBbLdP8B+chsaaGoQYzarwNG6TrNsUhzkSla51Cj6N2sc32E8v4\n+5pIlDpWjsEaQG/S1Mi3AJkG1vLEZaYvrOAawgWAs+UY1Tl3wjc3KNkolRzWlw22\nfYs+a9LkZxi+d66d\n=wDMt\n-----END PGP SIGNATURE-----", "payload": "tree cc5d815035b404ae73973f03abd078fd4bd8ca1d\nparent 24ce65c8d6b0ab91426e9f702b49be18a47f48f6\nauthor Ezra Shaw <ezrasure@outlook.com> 1673232273 +1300\ncommitter Ezra Shaw <ezrasure@outlook.com> 1673237156 +1300\n\nfix: fix CI errors\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "html_url": "https://github.com/rust-lang/rust/commit/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/comments", "author": {"login": "Ezrashaw", "id": 38062690, "node_id": "MDQ6VXNlcjM4MDYyNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/38062690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ezrashaw", "html_url": "https://github.com/Ezrashaw", "followers_url": "https://api.github.com/users/Ezrashaw/followers", "following_url": "https://api.github.com/users/Ezrashaw/following{/other_user}", "gists_url": "https://api.github.com/users/Ezrashaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ezrashaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ezrashaw/subscriptions", "organizations_url": "https://api.github.com/users/Ezrashaw/orgs", "repos_url": "https://api.github.com/users/Ezrashaw/repos", "events_url": "https://api.github.com/users/Ezrashaw/events{/privacy}", "received_events_url": "https://api.github.com/users/Ezrashaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Ezrashaw", "id": 38062690, "node_id": "MDQ6VXNlcjM4MDYyNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/38062690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ezrashaw", "html_url": "https://github.com/Ezrashaw", "followers_url": "https://api.github.com/users/Ezrashaw/followers", "following_url": "https://api.github.com/users/Ezrashaw/following{/other_user}", "gists_url": "https://api.github.com/users/Ezrashaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ezrashaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ezrashaw/subscriptions", "organizations_url": "https://api.github.com/users/Ezrashaw/orgs", "repos_url": "https://api.github.com/users/Ezrashaw/repos", "events_url": "https://api.github.com/users/Ezrashaw/events{/privacy}", "received_events_url": "https://api.github.com/users/Ezrashaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "24ce65c8d6b0ab91426e9f702b49be18a47f48f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/24ce65c8d6b0ab91426e9f702b49be18a47f48f6", "html_url": "https://github.com/rust-lang/rust/commit/24ce65c8d6b0ab91426e9f702b49be18a47f48f6"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "1b93d3c96376a81161b9661d2bae1557fefb233f", "filename": "src/test/ui/feature-gates/stability-attribute-consistency.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Ffeature-gates%2Fstability-attribute-consistency.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Ffeature-gates%2Fstability-attribute-consistency.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Fstability-attribute-consistency.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -12,3 +12,4 @@ LL | #[unstable(feature = \"foo\", issue = \"none\")]\n \n error: aborting due to 2 previous errors\n \n+For more information about this error, try `rustc --explain E0711`."}, {"sha": "89a8425f5e78a6adbd6a451d27f3d6f76fbc491b", "filename": "src/test/ui/stability-attribute/stability-attribute-sanity.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -132,5 +132,5 @@ LL | #[stable(feature = \"a\", since = \"1.0.0\")]\n \n error: aborting due to 20 previous errors\n \n-Some errors have detailed explanations: E0539, E0541, E0542, E0543, E0544, E0546, E0547, E0549.\n+Some errors have detailed explanations: E0539, E0541, E0542, E0543, E0544, E0546, E0547, E0549, E0711.\n For more information about an error, try `rustc --explain E0539`."}, {"sha": "f9732d02cb285c57fa06dff908511071f3387a19", "filename": "src/test/ui/variance/variance-associated-consts.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-associated-consts.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-associated-consts.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fvariance%2Fvariance-associated-consts.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -6,3 +6,4 @@ LL | struct Foo<T: Trait> {\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0208`."}, {"sha": "5ce62884e1d83ee15bf557e1a6271b6c6d34a753", "filename": "src/test/ui/variance/variance-associated-types.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-associated-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-associated-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fvariance%2Fvariance-associated-types.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -12,3 +12,4 @@ LL | struct Bar<'a, T : Trait<'a>> {\n \n error: aborting due to 2 previous errors\n \n+For more information about this error, try `rustc --explain E0208`."}, {"sha": "1c3c1a6d1f223ce564326a353016f169af01485d", "filename": "src/test/ui/variance/variance-object-types.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-object-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-object-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fvariance%2Fvariance-object-types.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -6,3 +6,4 @@ LL | struct Foo<'a> {\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0208`."}, {"sha": "27d69b6e82575d319506341a2e3b9b6204e6c980", "filename": "src/test/ui/variance/variance-regions-direct.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-regions-direct.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-regions-direct.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fvariance%2Fvariance-regions-direct.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -42,3 +42,4 @@ LL | enum Test8<'a, 'b, 'c:'b> {\n \n error: aborting due to 7 previous errors\n \n+For more information about this error, try `rustc --explain E0208`."}, {"sha": "535e97db3fb10fce823aa4a53d9182ba5e0fadbc", "filename": "src/test/ui/variance/variance-regions-indirect.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-regions-indirect.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-regions-indirect.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fvariance%2Fvariance-regions-indirect.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -30,3 +30,4 @@ LL | struct Derived4<'a, 'b, 'c:'b> {\n \n error: aborting due to 5 previous errors\n \n+For more information about this error, try `rustc --explain E0208`."}, {"sha": "3f6ca62a64069776d37fb0c7e966ef9f8be3c4ab", "filename": "src/test/ui/variance/variance-trait-bounds.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-trait-bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-trait-bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fvariance%2Fvariance-trait-bounds.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -24,3 +24,4 @@ LL | struct TestBox<U,T:Getter<U>+Setter<U>> {\n \n error: aborting due to 4 previous errors\n \n+For more information about this error, try `rustc --explain E0208`."}, {"sha": "9a2c924b96a9539fc07f2dde3508b91d12f09f96", "filename": "src/test/ui/variance/variance-trait-object-bound.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-trait-object-bound.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-trait-object-bound.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fvariance%2Fvariance-trait-object-bound.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -6,3 +6,4 @@ LL | struct TOption<'a> {\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0208`."}, {"sha": "523763b8a07b44340cf9f47e16278a6516a74d71", "filename": "src/test/ui/variance/variance-types-bounds.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-types-bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-types-bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fvariance%2Fvariance-types-bounds.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -30,3 +30,4 @@ LL | struct TestObject<A, R> {\n \n error: aborting due to 5 previous errors\n \n+For more information about this error, try `rustc --explain E0208`."}, {"sha": "5a5aaecffc5eb8d32ecb0b6b211cc25a66fbb1b4", "filename": "src/test/ui/variance/variance-types.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftest%2Fui%2Fvariance%2Fvariance-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fvariance%2Fvariance-types.stderr?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -36,3 +36,4 @@ LL | enum Enum<A,B,C> {\n \n error: aborting due to 6 previous errors\n \n+For more information about this error, try `rustc --explain E0208`."}, {"sha": "9aacc07e0ab4fd9cee0380e7693ea76e981a0c5e", "filename": "src/tools/tidy/src/error_codes.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -27,7 +27,8 @@ const ERROR_DOCS_PATH: &str = \"compiler/rustc_error_codes/src/error_codes/\";\n const ERROR_TESTS_PATH: &str = \"src/test/ui/error-codes/\";\n \n // Error codes that (for some reason) can't have a doctest in their explanation. Error codes are still expected to provide a code example, even if untested.\n-const IGNORE_DOCTEST_CHECK: &[&str] = &[\"E0464\", \"E0570\", \"E0601\", \"E0602\"];\n+const IGNORE_DOCTEST_CHECK: &[&str] =\n+    &[\"E0208\", \"E0464\", \"E0570\", \"E0601\", \"E0602\", \"E0640\", \"E0717\"];\n \n // Error codes that don't yet have a UI test. This list will eventually be removed.\n const IGNORE_UI_TEST_CHECK: &[&str] = &[\n@@ -193,6 +194,7 @@ fn check_error_codes_docs(\n                 \"warning: Error code `{err_code}` doesn't have a code example, all error codes are expected to have one \\\n                 (even if untested).\"\n             );\n+            return;\n         }\n \n         let test_ignored = IGNORE_DOCTEST_CHECK.contains(&&err_code);"}, {"sha": "2cf8f5c7ca322d439df0dad5c40956a97bbf020b", "filename": "src/tools/tidy/src/style.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftools%2Ftidy%2Fsrc%2Fstyle.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179/src%2Ftools%2Ftidy%2Fsrc%2Fstyle.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fstyle.rs?ref=2c92c72c46e6a300c902c6d0e1c4b5c6b9b5c179", "patch": "@@ -64,6 +64,8 @@ const PROBLEMATIC_CONSTS: &[u32] = &[\n     3735927486, 3735932941, 4027431614, 4276992702,\n ];\n \n+const INTERNAL_COMPILER_DOCS_LINE: &str = \"#### This error code is internal to the compiler and will not be emitted with normal Rust code.\";\n+\n /// Parser states for `line_is_url`.\n #[derive(Clone, Copy, PartialEq)]\n #[allow(non_camel_case_types)]\n@@ -132,6 +134,8 @@ fn long_line_is_ok(extension: &str, is_error_code: bool, max_columns: usize, lin\n         \"ftl\" => true,\n         // non-error code markdown is allowed to be any length\n         \"md\" if !is_error_code => true,\n+        // HACK(Ezrashaw): there is no way to split a markdown header over multiple lines\n+        \"md\" if line == INTERNAL_COMPILER_DOCS_LINE => true,\n         _ => line_is_url(is_error_code, max_columns, line) || should_ignore(line),\n     }\n }"}]}