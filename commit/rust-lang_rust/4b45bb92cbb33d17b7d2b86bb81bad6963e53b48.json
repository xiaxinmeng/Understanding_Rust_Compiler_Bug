{"sha": "4b45bb92cbb33d17b7d2b86bb81bad6963e53b48", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRiNDViYjkyY2JiMzNkMTdiN2QyYjg2YmI4MWJhZDY5NjNlNTNiNDg=", "commit": {"author": {"name": "Patrick Conrad", "email": "7929040+prconrad@users.noreply.github.com", "date": "2021-08-23T21:18:31Z"}, "committer": {"name": "Patrick Conrad", "email": "patrick.conrad@cherishhealth.com", "date": "2021-08-23T21:42:15Z"}, "message": "Doctest persist full binaries when persisting\n\nfix: #88110", "tree": {"sha": "34b9c23d0444ea4ccfbf97e0c53ff142403e489a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/34b9c23d0444ea4ccfbf97e0c53ff142403e489a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4b45bb92cbb33d17b7d2b86bb81bad6963e53b48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4b45bb92cbb33d17b7d2b86bb81bad6963e53b48", "html_url": "https://github.com/rust-lang/rust/commit/4b45bb92cbb33d17b7d2b86bb81bad6963e53b48", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4b45bb92cbb33d17b7d2b86bb81bad6963e53b48/comments", "author": {"login": "prconrad", "id": 7929040, "node_id": "MDQ6VXNlcjc5MjkwNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/7929040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prconrad", "html_url": "https://github.com/prconrad", "followers_url": "https://api.github.com/users/prconrad/followers", "following_url": "https://api.github.com/users/prconrad/following{/other_user}", "gists_url": "https://api.github.com/users/prconrad/gists{/gist_id}", "starred_url": "https://api.github.com/users/prconrad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prconrad/subscriptions", "organizations_url": "https://api.github.com/users/prconrad/orgs", "repos_url": "https://api.github.com/users/prconrad/repos", "events_url": "https://api.github.com/users/prconrad/events{/privacy}", "received_events_url": "https://api.github.com/users/prconrad/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "af140757b4cb1a60d107c690720311ba8e06e7de", "url": "https://api.github.com/repos/rust-lang/rust/commits/af140757b4cb1a60d107c690720311ba8e06e7de", "html_url": "https://github.com/rust-lang/rust/commit/af140757b4cb1a60d107c690720311ba8e06e7de"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "3b2457ef9543f13a4c7b34b1d53b2097f7adbb36", "filename": "src/librustdoc/doctest.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4b45bb92cbb33d17b7d2b86bb81bad6963e53b48/src%2Flibrustdoc%2Fdoctest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4b45bb92cbb33d17b7d2b86bb81bad6963e53b48/src%2Flibrustdoc%2Fdoctest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fdoctest.rs?ref=4b45bb92cbb33d17b7d2b86bb81bad6963e53b48", "patch": "@@ -361,7 +361,7 @@ fn run_test(\n     for debugging_option_str in &options.debugging_opts_strs {\n         compiler.arg(\"-Z\").arg(&debugging_option_str);\n     }\n-    if no_run && !compile_fail {\n+    if no_run && !compile_fail && options.persist_doctests.is_none() {\n         compiler.arg(\"--emit=metadata\");\n     }\n     compiler.arg(\"--target\").arg(match target {"}]}