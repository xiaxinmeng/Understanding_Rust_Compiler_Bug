{"sha": "a979b4a508370cfed030db99b598a39fb6ab8355", "node_id": "C_kwDOAAsO6NoAKGE5NzliNGE1MDgzNzBjZmVkMDMwZGI5OWI1OThhMzlmYjZhYjgzNTU", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-11-19T19:27:40Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-11-19T19:27:40Z"}, "message": "rustdoc: use real buttons for scrape examples controls", "tree": {"sha": "7cfba1d99d32f912d1a2ff6462092e37371a4d47", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7cfba1d99d32f912d1a2ff6462092e37371a4d47"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a979b4a508370cfed030db99b598a39fb6ab8355", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a979b4a508370cfed030db99b598a39fb6ab8355", "html_url": "https://github.com/rust-lang/rust/commit/a979b4a508370cfed030db99b598a39fb6ab8355", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a979b4a508370cfed030db99b598a39fb6ab8355/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "62c627c7a3a9b3e193a5ae6e1ec7348bc5136301", "url": "https://api.github.com/repos/rust-lang/rust/commits/62c627c7a3a9b3e193a5ae6e1ec7348bc5136301", "html_url": "https://github.com/rust-lang/rust/commit/62c627c7a3a9b3e193a5ae6e1ec7348bc5136301"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "647eb69d9a6f6e8d0a6923c0f0026679c86d2330", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a979b4a508370cfed030db99b598a39fb6ab8355/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a979b4a508370cfed030db99b598a39fb6ab8355/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=a979b4a508370cfed030db99b598a39fb6ab8355", "patch": "@@ -2915,7 +2915,7 @@ fn render_call_locations(w: &mut Buffer, cx: &mut Context<'_>, item: &clean::Ite\n         );\n \n         if line_ranges.len() > 1 {\n-            write!(w, r#\"<span class=\"prev\">&pr;</span> <span class=\"next\">&sc;</span>\"#);\n+            write!(w, r#\"<button class=\"prev\">&pr;</button> <button class=\"next\">&sc;</button>\"#);\n         }\n \n         // Look for the example file in the source map if it exists, otherwise return a dummy span"}, {"sha": "54e296959b0ec97fb569a2210d1e0054cece775f", "filename": "src/librustdoc/html/sources.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a979b4a508370cfed030db99b598a39fb6ab8355/src%2Flibrustdoc%2Fhtml%2Fsources.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a979b4a508370cfed030db99b598a39fb6ab8355/src%2Flibrustdoc%2Fhtml%2Fsources.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fsources.rs?ref=a979b4a508370cfed030db99b598a39fb6ab8355", "patch": "@@ -287,8 +287,11 @@ pub(crate) fn print_src(\n             }\n         }\n         SourceContext::Embedded { offset, needs_expansion } => {\n-            extra =\n-                if needs_expansion { Some(r#\"<span class=\"expand\">&varr;</span>\"#) } else { None };\n+            extra = if needs_expansion {\n+                Some(r#\"<button class=\"expand\">&varr;</button>\"#)\n+            } else {\n+                None\n+            };\n             for line_number in 1..=lines {\n                 let line = line_number + offset;\n                 writeln!(line_numbers, \"<span>{line}</span>\")"}, {"sha": "88c25f44d54391c5c46c7ac94b763d7da00e25e6", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a979b4a508370cfed030db99b598a39fb6ab8355/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/a979b4a508370cfed030db99b598a39fb6ab8355/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=a979b4a508370cfed030db99b598a39fb6ab8355", "patch": "@@ -1959,6 +1959,12 @@ in storage.js\n \ttop: 0.25em;\n \tz-index: 1;\n \tcursor: pointer;\n+\tpadding: 0;\n+\tbackground: none;\n+\tborder: none;\n+\t/* iOS button gradient: https://stackoverflow.com/q/5438567 */\n+\t-webkit-appearance: none;\n+\topacity: 1;\n }\n .scraped-example .code-wrapper .prev {\n \tright: 2.25em;"}]}