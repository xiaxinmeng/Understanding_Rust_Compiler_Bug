{"sha": "8bee2b88c075a2f007a7d5762727a840477c0893", "node_id": "C_kwDOAAsO6NoAKDhiZWUyYjg4YzA3NWEyZjAwN2E3ZDU3NjI3MjdhODQwNDc3YzA4OTM", "commit": {"author": {"name": "Esteban Kuber", "email": "esteban@kuber.com.ar", "date": "2021-11-17T23:47:47Z"}, "committer": {"name": "Esteban Kuber", "email": "esteban@kuber.com.ar", "date": "2021-12-03T18:41:39Z"}, "message": "Remove some unnecessarily verbose code", "tree": {"sha": "c5a0782581e779a9841bd553d1ae504ac82cbbce", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c5a0782581e779a9841bd553d1ae504ac82cbbce"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8bee2b88c075a2f007a7d5762727a840477c0893", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8bee2b88c075a2f007a7d5762727a840477c0893", "html_url": "https://github.com/rust-lang/rust/commit/8bee2b88c075a2f007a7d5762727a840477c0893", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8bee2b88c075a2f007a7d5762727a840477c0893/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fa3eebb26e103a8f0fa81b378e8c8525a80baf32", "url": "https://api.github.com/repos/rust-lang/rust/commits/fa3eebb26e103a8f0fa81b378e8c8525a80baf32", "html_url": "https://github.com/rust-lang/rust/commit/fa3eebb26e103a8f0fa81b378e8c8525a80baf32"}], "stats": {"total": 25, "additions": 5, "deletions": 20}, "files": [{"sha": "58b6ef9f9f9844ae1ec9696fc87c092076d8d580", "filename": "compiler/rustc_builtin_macros/src/deriving/generic/mod.rs", "status": "modified", "additions": 5, "deletions": 20, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/8bee2b88c075a2f007a7d5762727a840477c0893/compiler%2Frustc_builtin_macros%2Fsrc%2Fderiving%2Fgeneric%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8bee2b88c075a2f007a7d5762727a840477c0893/compiler%2Frustc_builtin_macros%2Fsrc%2Fderiving%2Fgeneric%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_builtin_macros%2Fsrc%2Fderiving%2Fgeneric%2Fmod.rs?ref=8bee2b88c075a2f007a7d5762727a840477c0893", "patch": "@@ -609,28 +609,13 @@ impl<'a> TraitDef<'a> {\n \n         // and similarly for where clauses\n         where_clause.predicates.extend(generics.where_clause.predicates.iter().map(|clause| {\n-            match *clause {\n-                ast::WherePredicate::BoundPredicate(ref wb) => {\n-                    ast::WherePredicate::BoundPredicate(ast::WhereBoundPredicate {\n-                        span: wb.span,\n-                        bound_generic_params: wb.bound_generic_params.clone(),\n-                        bounded_ty: wb.bounded_ty.clone(),\n-                        bounds: wb.bounds.to_vec(),\n-                    })\n-                }\n-                ast::WherePredicate::RegionPredicate(ref rb) => {\n-                    ast::WherePredicate::RegionPredicate(ast::WhereRegionPredicate {\n-                        span: rb.span,\n-                        lifetime: rb.lifetime,\n-                        bounds: rb.bounds.to_vec(),\n-                    })\n-                }\n-                ast::WherePredicate::EqPredicate(ref we) => {\n+            match clause {\n+                ast::WherePredicate::BoundPredicate(_)\n+                | ast::WherePredicate::RegionPredicate(_) => clause.clone(),\n+                ast::WherePredicate::EqPredicate(we) => {\n                     ast::WherePredicate::EqPredicate(ast::WhereEqPredicate {\n                         id: ast::DUMMY_NODE_ID,\n-                        span: we.span,\n-                        lhs_ty: we.lhs_ty.clone(),\n-                        rhs_ty: we.rhs_ty.clone(),\n+                        ..we.clone()\n                     })\n                 }\n             }"}]}