{"sha": "442d0a783ad28abe821d64a20e15a789254707ed", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ0MmQwYTc4M2FkMjhhYmU4MjFkNjRhMjBlMTVhNzg5MjU0NzA3ZWQ=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-03-23T01:01:08Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-03-29T21:42:31Z"}, "message": "rustc: Move attr, parse, print to rustsyntax", "tree": {"sha": "c4caab6e67f1296b9a674b195938a37752eb0eff", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c4caab6e67f1296b9a674b195938a37752eb0eff"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/442d0a783ad28abe821d64a20e15a789254707ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/442d0a783ad28abe821d64a20e15a789254707ed", "html_url": "https://github.com/rust-lang/rust/commit/442d0a783ad28abe821d64a20e15a789254707ed", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/442d0a783ad28abe821d64a20e15a789254707ed/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "15947f8b193126234b2712beca739bc6c4abbf43", "url": "https://api.github.com/repos/rust-lang/rust/commits/15947f8b193126234b2712beca739bc6c4abbf43", "html_url": "https://github.com/rust-lang/rust/commit/15947f8b193126234b2712beca739bc6c4abbf43"}], "stats": {"total": 67, "additions": 32, "deletions": 35}, "files": [{"sha": "3736c2f374eda6a6775b9ffde9f01af51802993a", "filename": "src/librustsyntax/attr.rs", "status": "renamed", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fattr.rs?ref=442d0a783ad28abe821d64a20e15a789254707ed", "patch": "@@ -3,8 +3,7 @@\n import std::map;\n import std::map::hashmap;\n import either::either;\n-import syntax::{ast, ast_util};\n-import driver::diagnostic::span_handler;\n+import diagnostic::span_handler;\n \n export attr_meta;\n export attr_metas;\n@@ -169,10 +168,10 @@ fn eq(a: @ast::meta_item, b: @ast::meta_item) -> bool {\n \n fn contains(haystack: [@ast::meta_item], needle: @ast::meta_item) -> bool {\n     #debug(\"looking for %s\",\n-           syntax::print::pprust::meta_item_to_str(*needle));\n+           print::pprust::meta_item_to_str(*needle));\n     for item: @ast::meta_item in haystack {\n         #debug(\"looking in %s\",\n-               syntax::print::pprust::meta_item_to_str(*item));\n+               print::pprust::meta_item_to_str(*item));\n         if eq(item, needle) { #debug(\"found it!\"); ret true; }\n     }\n     #debug(\"found it not :(\");", "previous_filename": "src/rustc/front/attr.rs"}, {"sha": "42187ad9c7cd3cf2471c0ea286effe3edbb7511b", "filename": "src/librustsyntax/parse/eval.rs", "status": "renamed", "additions": 6, "deletions": 8, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Fparse%2Feval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Fparse%2Feval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fparse%2Feval.rs?ref=442d0a783ad28abe821d64a20e15a789254707ed", "patch": "@@ -1,9 +1,7 @@\n-import front::attr;\n-import syntax::ast;\n-import syntax::parse::token;\n-import syntax::parse::parser::{parser, new_parser_from_file,\n-                               parse_inner_attrs_and_next,\n-                               parse_mod_items, SOURCE_FILE};\n+import attr;\n+import parser::{parser, new_parser_from_file,\n+                parse_inner_attrs_and_next,\n+                parse_mod_items, SOURCE_FILE};\n \n export eval_crate_directives_to_mod;\n \n@@ -109,8 +107,8 @@ fn eval_crate_directive(cx: ctx, cdir: @ast::crate_directive, prefix: str,\n         let m0 = parse_mod_items(p0, token::EOF, first_item_outer_attrs);\n \n         let i =\n-            syntax::parse::parser::mk_item(p0, cdir.span.lo, cdir.span.hi, id,\n-                                           ast::item_mod(m0), mod_attrs);\n+            parser::mk_item(p0, cdir.span.lo, cdir.span.hi, id,\n+                            ast::item_mod(m0), mod_attrs);\n         // Thread defids, chpos and byte_pos through the parsers\n         cx.sess.chpos = p0.reader.chpos;\n         cx.sess.byte_pos = cx.sess.byte_pos + p0.reader.pos;", "previous_filename": "src/rustc/syntax/parse/eval.rs"}, {"sha": "7d3d30d1a2f45c52fedda1ab61efc0a6702a6a55", "filename": "src/librustsyntax/parse/parser.rs", "status": "renamed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fparse%2Fparser.rs?ref=442d0a783ad28abe821d64a20e15a789254707ed", "patch": "@@ -6,9 +6,7 @@ import codemap::{span,fss_none};\n import util::interner;\n import ast::{node_id, spanned};\n import ast_util::{mk_sp, ident_to_path};\n-import front::attr;\n import lexer::reader;\n-import driver::diagnostic;\n \n enum restriction {\n     UNRESTRICTED,", "previous_filename": "src/rustc/syntax/parse/parser.rs"}, {"sha": "f116bab4fe48a95935e8920d0cb04ca629ea72fc", "filename": "src/librustsyntax/print/pp.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Fprint%2Fpp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Fprint%2Fpp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fprint%2Fpp.rs?ref=442d0a783ad28abe821d64a20e15a789254707ed", "previous_filename": "src/rustc/syntax/print/pp.rs"}, {"sha": "1a4780f78aea40ec547ec68555f498bf450649a7", "filename": "src/librustsyntax/print/pprust.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fprint%2Fpprust.rs?ref=442d0a783ad28abe821d64a20e15a789254707ed", "patch": "@@ -1,9 +1,9 @@\n import parse::lexer;\n-import syntax::codemap::codemap;\n+import codemap::codemap;\n import pp::{break_offset, word, printer,\n             space, zerobreak, hardbreak, breaks, consistent,\n             inconsistent, eof};\n-import driver::diagnostic;\n+import diagnostic;\n \n // The ps is stored here to prevent recursive type.\n enum ann_node {", "previous_filename": "src/rustc/syntax/print/pprust.rs"}, {"sha": "1a321f91554148dfa4567049a935ba87660cffb1", "filename": "src/librustsyntax/rustsyntax.rc", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Frustsyntax.rc", "raw_url": "https://github.com/rust-lang/rust/raw/442d0a783ad28abe821d64a20e15a789254707ed/src%2Flibrustsyntax%2Frustsyntax.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Frustsyntax.rc?ref=442d0a783ad28abe821d64a20e15a789254707ed", "patch": "@@ -6,6 +6,7 @@\n \n use std;\n \n+mod attr;\n mod diagnostic;\n mod codemap;\n mod ast;\n@@ -16,6 +17,13 @@ mod util {\n     mod interner;\n }\n mod parse {\n-    mod token;\n+    mod eval;\n     mod lexer;\n+    mod parser;\n+    mod token;\n+}\n+\n+mod print {\n+    mod pp;\n+    mod pprust;\n }\n\\ No newline at end of file"}, {"sha": "f94decc900bccba64f387daa2bb4fd4f7c0a3ab6", "filename": "src/rustc/front.rs", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/442d0a783ad28abe821d64a20e15a789254707ed/src%2Frustc%2Ffront.rs", "raw_url": "https://github.com/rust-lang/rust/raw/442d0a783ad28abe821d64a20e15a789254707ed/src%2Frustc%2Ffront.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Ffront.rs?ref=442d0a783ad28abe821d64a20e15a789254707ed", "patch": "@@ -0,0 +1,6 @@\n+import rustsyntax::attr;\n+export attr;\n+\n+export config;\n+export test;\n+export core_inject;"}, {"sha": "837a28e5d00eabc402a22960d807b2166e1b0a09", "filename": "src/rustc/rustc.rc", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/442d0a783ad28abe821d64a20e15a789254707ed/src%2Frustc%2Frustc.rc", "raw_url": "https://github.com/rust-lang/rust/raw/442d0a783ad28abe821d64a20e15a789254707ed/src%2Frustc%2Frustc.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Frustc.rc?ref=442d0a783ad28abe821d64a20e15a789254707ed", "patch": "@@ -70,10 +70,6 @@ mod middle {\n \n \n mod syntax {\n-    mod parse {\n-        mod parser;\n-        mod eval;\n-    }\n     mod ext {\n         mod base;\n         mod expand;\n@@ -88,14 +84,9 @@ mod syntax {\n         mod log_syntax;\n         mod auto_serialize;\n     }\n-    mod print {\n-        mod pprust;\n-        mod pp;\n-    }\n }\n \n mod front {\n-    mod attr;\n     mod config;\n     mod test;\n     mod core_inject;"}, {"sha": "a11734a285842131dc5e4ee2bfd87a855b96acea", "filename": "src/rustc/syntax.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/442d0a783ad28abe821d64a20e15a789254707ed/src%2Frustc%2Fsyntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/442d0a783ad28abe821d64a20e15a789254707ed/src%2Frustc%2Fsyntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fsyntax.rs?ref=442d0a783ad28abe821d64a20e15a789254707ed", "patch": "@@ -14,13 +14,17 @@ export visit;\n import rustsyntax::fold;\n export fold;\n \n+import rustsyntax::print;\n+export print;\n+\n+import rustsyntax::parse;\n+export parse;\n+\n export ast;\n export ast_util;\n export visit;\n export fold;\n-export parse;\n export ext;\n-export print;\n export util;\n \n mod util {"}, {"sha": "5fffd171dd7b59758835b0ad7224790abe2196b5", "filename": "src/rustc/syntax/parse.rs", "status": "removed", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/15947f8b193126234b2712beca739bc6c4abbf43/src%2Frustc%2Fsyntax%2Fparse.rs", "raw_url": "https://github.com/rust-lang/rust/raw/15947f8b193126234b2712beca739bc6c4abbf43/src%2Frustc%2Fsyntax%2Fparse.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fsyntax%2Fparse.rs?ref=15947f8b193126234b2712beca739bc6c4abbf43", "patch": "@@ -1,7 +0,0 @@\n-import rustsyntax::parse::token;\n-export token;\n-\n-import rustsyntax::parse::lexer;\n-export lexer;\n-\n-export parser;\n\\ No newline at end of file"}]}