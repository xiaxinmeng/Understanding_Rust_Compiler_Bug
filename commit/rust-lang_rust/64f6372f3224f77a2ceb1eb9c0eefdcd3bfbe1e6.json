{"sha": "64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY0ZjYzNzJmMzIyNGY3N2EyY2ViMWViOWMwZWVmZGNkM2JmYmUxZTY=", "commit": {"author": {"name": "Bastien Orivel", "email": "eijebong@bananium.fr", "date": "2018-03-02T14:20:26Z"}, "committer": {"name": "Bastien Orivel", "email": "eijebong@bananium.fr", "date": "2018-03-02T14:20:26Z"}, "message": "Bump winapi to 0.3", "tree": {"sha": "fcab17f2bef083e49973c9733e6842315d5766de", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fcab17f2bef083e49973c9733e6842315d5766de"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6", "html_url": "https://github.com/rust-lang/rust/commit/64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6/comments", "author": {"login": "Eijebong", "id": 3650385, "node_id": "MDQ6VXNlcjM2NTAzODU=", "avatar_url": "https://avatars.githubusercontent.com/u/3650385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eijebong", "html_url": "https://github.com/Eijebong", "followers_url": "https://api.github.com/users/Eijebong/followers", "following_url": "https://api.github.com/users/Eijebong/following{/other_user}", "gists_url": "https://api.github.com/users/Eijebong/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eijebong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eijebong/subscriptions", "organizations_url": "https://api.github.com/users/Eijebong/orgs", "repos_url": "https://api.github.com/users/Eijebong/repos", "events_url": "https://api.github.com/users/Eijebong/events{/privacy}", "received_events_url": "https://api.github.com/users/Eijebong/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Eijebong", "id": 3650385, "node_id": "MDQ6VXNlcjM2NTAzODU=", "avatar_url": "https://avatars.githubusercontent.com/u/3650385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eijebong", "html_url": "https://github.com/Eijebong", "followers_url": "https://api.github.com/users/Eijebong/followers", "following_url": "https://api.github.com/users/Eijebong/following{/other_user}", "gists_url": "https://api.github.com/users/Eijebong/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eijebong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eijebong/subscriptions", "organizations_url": "https://api.github.com/users/Eijebong/orgs", "repos_url": "https://api.github.com/users/Eijebong/repos", "events_url": "https://api.github.com/users/Eijebong/events{/privacy}", "received_events_url": "https://api.github.com/users/Eijebong/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5f4eb0f17e524a8c3a317a757bb62e5d22af31cb", "url": "https://api.github.com/repos/rust-lang/rust/commits/5f4eb0f17e524a8c3a317a757bb62e5d22af31cb", "html_url": "https://github.com/rust-lang/rust/commit/5f4eb0f17e524a8c3a317a757bb62e5d22af31cb"}], "stats": {"total": 11, "additions": 4, "deletions": 7}, "files": [{"sha": "488b2bb52a5561477947dee39f66da1915ba4fbc", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6", "patch": "@@ -333,7 +333,6 @@ dependencies = [\n  \"diff 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"env_logger 0.5.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.17 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -346,7 +345,7 @@ dependencies = [\n  \"term 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-segmentation 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]"}, {"sha": "dfaf38876dbea873858130872b7d20c891f91f8e", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6", "patch": "@@ -58,5 +58,4 @@ lazy_static = \"1.0.0\"\n libc = \"0.2.11\"\n \n [target.'cfg(windows)'.dependencies]\n-kernel32-sys = \"0.2.2\"\n-winapi = \"0.2.7\"\n+winapi = { version = \"0.3\" }"}, {"sha": "5ec5ee180092aa9a44659e6e9e26a8c5aa84e2eb", "filename": "src/utils.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6/src%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6/src%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Futils.rs?ref=64f6372f3224f77a2ceb1eb9c0eefdcd3bfbe1e6", "patch": "@@ -382,13 +382,12 @@ pub fn isatty() -> bool {\n }\n #[cfg(windows)]\n pub fn isatty() -> bool {\n-    extern crate kernel32;\n     extern crate winapi;\n \n     unsafe {\n-        let handle = kernel32::GetStdHandle(winapi::winbase::STD_OUTPUT_HANDLE);\n+        let handle = winapi::um::processenv::GetStdHandle(winapi::um::winbase::STD_OUTPUT_HANDLE);\n         let mut out = 0;\n-        kernel32::GetConsoleMode(handle, &mut out) != 0\n+        winapi::um::consoleapi::GetConsoleMode(handle, &mut out) != 0\n     }\n }\n "}]}