{"sha": "d9c88460e448efab4f784187f8bcf95c5a945673", "node_id": "C_kwDOAAsO6NoAKGQ5Yzg4NDYwZTQ0OGVmYWI0Zjc4NDE4N2Y4YmNmOTVjNWE5NDU2NzM", "commit": {"author": {"name": "Ariel Davis", "email": "ariel.z.davis@icloud.com", "date": "2023-05-04T23:38:35Z"}, "committer": {"name": "Ariel Davis", "email": "ariel.z.davis@icloud.com", "date": "2023-05-06T07:49:23Z"}, "message": "Use cur", "tree": {"sha": "512b91f428cb3ba4662fc15582759127865124c4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/512b91f428cb3ba4662fc15582759127865124c4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d9c88460e448efab4f784187f8bcf95c5a945673", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d9c88460e448efab4f784187f8bcf95c5a945673", "html_url": "https://github.com/rust-lang/rust/commit/d9c88460e448efab4f784187f8bcf95c5a945673", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d9c88460e448efab4f784187f8bcf95c5a945673/comments", "author": {"login": "azdavis", "id": 6496454, "node_id": "MDQ6VXNlcjY0OTY0NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6496454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azdavis", "html_url": "https://github.com/azdavis", "followers_url": "https://api.github.com/users/azdavis/followers", "following_url": "https://api.github.com/users/azdavis/following{/other_user}", "gists_url": "https://api.github.com/users/azdavis/gists{/gist_id}", "starred_url": "https://api.github.com/users/azdavis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azdavis/subscriptions", "organizations_url": "https://api.github.com/users/azdavis/orgs", "repos_url": "https://api.github.com/users/azdavis/repos", "events_url": "https://api.github.com/users/azdavis/events{/privacy}", "received_events_url": "https://api.github.com/users/azdavis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "azdavis", "id": 6496454, "node_id": "MDQ6VXNlcjY0OTY0NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6496454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azdavis", "html_url": "https://github.com/azdavis", "followers_url": "https://api.github.com/users/azdavis/followers", "following_url": "https://api.github.com/users/azdavis/following{/other_user}", "gists_url": "https://api.github.com/users/azdavis/gists{/gist_id}", "starred_url": "https://api.github.com/users/azdavis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azdavis/subscriptions", "organizations_url": "https://api.github.com/users/azdavis/orgs", "repos_url": "https://api.github.com/users/azdavis/repos", "events_url": "https://api.github.com/users/azdavis/events{/privacy}", "received_events_url": "https://api.github.com/users/azdavis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4b7c759f2f0ab893feb8f13a55a59751e1050a67", "url": "https://api.github.com/repos/rust-lang/rust/commits/4b7c759f2f0ab893feb8f13a55a59751e1050a67", "html_url": "https://github.com/rust-lang/rust/commit/4b7c759f2f0ab893feb8f13a55a59751e1050a67"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "1a4753cbd6727c1719f11f54d2b6e96b7f8fd696", "filename": "lib/line-index/src/lib.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/d9c88460e448efab4f784187f8bcf95c5a945673/lib%2Fline-index%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9c88460e448efab4f784187f8bcf95c5a945673/lib%2Fline-index%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/lib%2Fline-index%2Fsrc%2Flib.rs?ref=d9c88460e448efab4f784187f8bcf95c5a945673", "patch": "@@ -86,31 +86,31 @@ impl LineIndex {\n         let mut newlines = Vec::with_capacity(16);\n         newlines.push(TextSize::from(0));\n \n-        let mut curr_row = 0.into();\n-        let mut curr_col = 0.into();\n+        let mut cur_row = 0.into();\n+        let mut cur_col = 0.into();\n         let mut line = 0;\n         for c in text.chars() {\n             let c_len = TextSize::of(c);\n-            curr_row += c_len;\n+            cur_row += c_len;\n             if c == '\\n' {\n-                newlines.push(curr_row);\n+                newlines.push(cur_row);\n \n                 // Save any utf-16 characters seen in the previous line\n                 if !wide_chars.is_empty() {\n                     line_wide_chars.insert(line, std::mem::take(&mut wide_chars));\n                 }\n \n                 // Prepare for processing the next line\n-                curr_col = 0.into();\n+                cur_col = 0.into();\n                 line += 1;\n                 continue;\n             }\n \n             if !c.is_ascii() {\n-                wide_chars.push(WideChar { start: curr_col, end: curr_col + c_len });\n+                wide_chars.push(WideChar { start: cur_col, end: cur_col + c_len });\n             }\n \n-            curr_col += c_len;\n+            cur_col += c_len;\n         }\n \n         // Save any utf-16 characters seen in the last line"}]}