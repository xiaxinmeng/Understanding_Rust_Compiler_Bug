{"sha": "80cc2ecf1070728a7d006026e0d532d9fc48621c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgwY2MyZWNmMTA3MDcyOGE3ZDAwNjAyNmUwZDUzMmQ5ZmM0ODYyMWM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-12-10T15:20:42Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-12-10T15:20:42Z"}, "message": "Auto merge of #79536 - davidtwco:focal-fossa-ci, r=pietroalbini\n\nci: use 20.04 on x86_64-gnu-nopt builder\n\nSwitch the `x86_64-gnu-nopt` builder to use Ubuntu 20.04.\n\nUbuntu 20.04 has a more recent gdb version than Ubuntu 16.04 (9.1 vs 7.11.1), which is required for rust-lang/rust#77177, as 16.04's gdb 7.11.1 crashes in some cases with Split DWARF. `x86_64-gnu-nopt` is chosen because it runs compare modes, which is how Split DWARF testing is implemented in rust-lang/rust#77177.\n\nI've not confirmed that the issue is resolved with gdb 9.1 (Feb 2020), but system was using gdb 9.2 (May 2020) and that was fine and it seems more likely to me that the bug was resolved between gdb 7.11.1 (May 2016) and gdb 9.1.\n\nUpdating a builder to use 20.04 was suggested by `@Mark-Simulacrum` in https://github.com/rust-lang/rust/pull/77117#issuecomment-731846170. I'm not sure if this is the only change that is required - if more are necessary then I'm happy to do that.\n\nr? `@pietroalbini`\ncc `@Mark-Simulacrum`", "tree": {"sha": "527fbfe4777b01acf28dad363f2a57d8db9afec6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/527fbfe4777b01acf28dad363f2a57d8db9afec6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/80cc2ecf1070728a7d006026e0d532d9fc48621c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/80cc2ecf1070728a7d006026e0d532d9fc48621c", "html_url": "https://github.com/rust-lang/rust/commit/80cc2ecf1070728a7d006026e0d532d9fc48621c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/80cc2ecf1070728a7d006026e0d532d9fc48621c/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d7560e8968b4381f012173f97c166c952f691a56", "url": "https://api.github.com/repos/rust-lang/rust/commits/d7560e8968b4381f012173f97c166c952f691a56", "html_url": "https://github.com/rust-lang/rust/commit/d7560e8968b4381f012173f97c166c952f691a56"}, {"sha": "fb75c329c568e610e5251f7419f10a9a639f3d42", "url": "https://api.github.com/repos/rust-lang/rust/commits/fb75c329c568e610e5251f7419f10a9a639f3d42", "html_url": "https://github.com/rust-lang/rust/commit/fb75c329c568e610e5251f7419f10a9a639f3d42"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "77510d7ac62dc830d6550a6ce80df58763091cf3", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-nopt/Dockerfile", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/80cc2ecf1070728a7d006026e0d532d9fc48621c/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-nopt%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/80cc2ecf1070728a7d006026e0d532d9fc48621c/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-nopt%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-nopt%2FDockerfile?ref=80cc2ecf1070728a7d006026e0d532d9fc48621c", "patch": "@@ -1,6 +1,7 @@\n-FROM ubuntu:16.04\n+FROM ubuntu:20.04\n \n-RUN apt-get update && apt-get install -y --no-install-recommends \\\n+# Avoid interactive prompts while installing `tzdata` dependency with `DEBIAN_FRONTEND`.\n+RUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends \\\n   g++ \\\n   make \\\n   ninja-build \\"}]}