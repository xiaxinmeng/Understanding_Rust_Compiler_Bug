{"sha": "d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ0MTBiMTMxMzk1ZWUwYmEwY2MwMmQ2Y2E4Y2VkYzA0ZTdjMWZkZWQ=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-04-21T11:18:05Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-04-21T11:18:05Z"}, "message": "fix compile-fail ref files", "tree": {"sha": "724930c4fabafeed0c23d72a07596c4e3cb99ddd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/724930c4fabafeed0c23d72a07596c4e3cb99ddd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "html_url": "https://github.com/rust-lang/rust/commit/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0694435650adbd5965a30a14771bc142919bbfe4", "url": "https://api.github.com/repos/rust-lang/rust/commits/0694435650adbd5965a30a14771bc142919bbfe4", "html_url": "https://github.com/rust-lang/rust/commit/0694435650adbd5965a30a14771bc142919bbfe4"}], "stats": {"total": 19, "additions": 9, "deletions": 10}, "files": [{"sha": "61f41363589cae96c1dbf138fadbfa12052ad0ce", "filename": "tests/compile-fail/ctlz_nonzero.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fctlz_nonzero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fctlz_nonzero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fctlz_nonzero.rs?ref=d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "patch": "@@ -10,6 +10,6 @@ pub fn main() {\n     unsafe {\n         use crate::rusti::*;\n \n-        ctlz_nonzero(0u8); //~ ERROR constant evaluation error: ctlz_nonzero called on 0\n+        ctlz_nonzero(0u8); //~ ERROR ctlz_nonzero called on 0\n     }\n }"}, {"sha": "69d2874ce92698e3330073a3304f81065e6aa221", "filename": "tests/compile-fail/cttz_nonzero.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fcttz_nonzero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fcttz_nonzero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fcttz_nonzero.rs?ref=d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "patch": "@@ -10,6 +10,6 @@ pub fn main() {\n     unsafe {\n         use crate::rusti::*;\n \n-        cttz_nonzero(0u8); //~ ERROR constant evaluation error: cttz_nonzero called on 0\n+        cttz_nonzero(0u8); //~ ERROR cttz_nonzero called on 0\n     }\n }"}, {"sha": "ed2ac60f43fe35c6cb45c63a3b15e9325ac959ce", "filename": "tests/compile-fail/deref_fn_ptr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fderef_fn_ptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fderef_fn_ptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fderef_fn_ptr.rs?ref=d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "patch": "@@ -2,7 +2,7 @@ fn f() {}\n \n fn main() {\n     let x: u8 = unsafe {\n-        *std::mem::transmute::<fn(), *const u8>(f) //~ ERROR constant evaluation error: tried to dereference a function pointer\n+        *std::mem::transmute::<fn(), *const u8>(f) //~ ERROR tried to dereference a function pointer\n     };\n     panic!(\"this should never print: {}\", x);\n }"}, {"sha": "246893a5c640f2e30132abeba8431e7a991ed79c", "filename": "tests/compile-fail/getrandom.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fgetrandom.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fgetrandom.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fgetrandom.rs?ref=d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "patch": "@@ -8,6 +8,6 @@ fn main() {\n     let mut buf = [0u8; 5];\n     unsafe {\n         libc::syscall(libc::SYS_getrandom, buf.as_mut_ptr() as *mut libc::c_void, 5 as libc::size_t, 0 as libc::c_uint);\n-        //~^ ERROR constant evaluation error: miri does not support gathering system entropy in deterministic mode!\n+        //~^ ERROR miri does not support gathering system entropy in deterministic mode!\n     }\n }"}, {"sha": "ab25b1ffc7467176bbf849c105fdbfa059dc7acb", "filename": "tests/compile-fail/never_transmute_humans.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fnever_transmute_humans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fnever_transmute_humans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fnever_transmute_humans.rs?ref=d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "patch": "@@ -7,7 +7,6 @@ struct Human;\n \n fn main() {\n     let _x: ! = unsafe {\n-        std::mem::transmute::<Human, !>(Human) //~ ERROR constant evaluation error\n-        //^~ NOTE entered unreachable code\n+        std::mem::transmute::<Human, !>(Human) //~ ERROR entered unreachable code\n     };\n }"}, {"sha": "8bf0392b8903bf690d29f9af22a3f9783b05d0d4", "filename": "tests/compile-fail/null_pointer_deref.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fnull_pointer_deref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fnull_pointer_deref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fnull_pointer_deref.rs?ref=d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "patch": "@@ -1,4 +1,4 @@\n fn main() {\n-    let x: i32 = unsafe { *std::ptr::null() }; //~ ERROR constant evaluation error: invalid use of NULL pointer\n+    let x: i32 = unsafe { *std::ptr::null() }; //~ ERROR invalid use of NULL pointer\n     panic!(\"this should never print: {}\", x);\n }"}, {"sha": "b2800e96292d737270b9e6db42aa13ad30a08d63", "filename": "tests/compile-fail/null_pointer_deref_zst.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fnull_pointer_deref_zst.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fnull_pointer_deref_zst.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fnull_pointer_deref_zst.rs?ref=d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "patch": "@@ -1,4 +1,4 @@\n fn main() {\n-    let x: () = unsafe { *std::ptr::null() }; //~ ERROR constant evaluation error: invalid use of NULL pointer\n+    let x: () = unsafe { *std::ptr::null() }; //~ ERROR invalid use of NULL pointer\n     panic!(\"this should never print: {:?}\", x);\n }"}, {"sha": "1577b2a1b13bcdf5613ba7003c43a5fba461057f", "filename": "tests/compile-fail/null_pointer_write.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fnull_pointer_write.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fnull_pointer_write.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fnull_pointer_write.rs?ref=d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "patch": "@@ -1,3 +1,3 @@\n fn main() {\n-    unsafe { *std::ptr::null_mut() = 0i32 }; //~ ERROR constant evaluation error: invalid use of NULL pointer\n+    unsafe { *std::ptr::null_mut() = 0i32 }; //~ ERROR invalid use of NULL pointer\n }"}, {"sha": "7e91d736bd295ec011eed6a41cfe4353c1a61ef5", "filename": "tests/compile-fail/null_pointer_write_zst.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fnull_pointer_write_zst.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d410b131395ee0ba0cc02d6ca8cedc04e7c1fded/tests%2Fcompile-fail%2Fnull_pointer_write_zst.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fnull_pointer_write_zst.rs?ref=d410b131395ee0ba0cc02d6ca8cedc04e7c1fded", "patch": "@@ -2,5 +2,5 @@ fn main() {\n     // Not using the () type here, as writes of that type do not even have MIR generated.\n     // Also not assigning directly as that's array initialization, not assignment.\n     let zst_val = [1u8; 0];\n-    unsafe { *std::ptr::null_mut() = zst_val }; //~ ERROR constant evaluation error: invalid use of NULL pointer\n+    unsafe { *std::ptr::null_mut() = zst_val }; //~ ERROR invalid use of NULL pointer\n }"}]}