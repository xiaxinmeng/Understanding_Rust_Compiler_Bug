{"sha": "5d1433b1f401d6b2a43a5728924c3725014b8cdc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkMTQzM2IxZjQwMWQ2YjJhNDNhNTcyODkyNGMzNzI1MDE0YjhjZGM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-03-07T07:15:24Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-03-07T07:15:24Z"}, "message": "Rollup merge of #69656 - matthiaskrgr:iter_nth_zero, r=oli-obk\n\nUse .next() instead of .nth(0) on iterators.", "tree": {"sha": "841a48dbf6e741b3877fec126aa4a2b6125ecb26", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/841a48dbf6e741b3877fec126aa4a2b6125ecb26"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5d1433b1f401d6b2a43a5728924c3725014b8cdc", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeY0oNCRBK7hj4Ov3rIwAAdHIIAFx/WD2LDbN0PzwhqTsy6WCy\nZKGSI1h2T1MFt6zcPnRUcr5Akd1mxRXDO7bPnr5BJojCZl7O2hdFERGUbnp9G3Cy\nD1BQh3EUNZajF8vW8EPcg67heIiFkUdA5soWNunBiH2MMKWltuUB+g2z6G4ZxVaC\nLIP+OfeM/SKtsESbkItw3LxBj/h5oOP8xWSn110SkIpZH9pAXCHCJ7rjTAMTmuA5\no7j285ZFraARgtXIFlrIvsTF9Nsd5MBTxg+BrYURuKH7f46gSbUvCmlK6F+blPO9\nOTgcb6aQ61YaMCnq7zQI8+ZRmoD38RazZcmClPJM9ubT39lAwd87kwViBDYpKJ8=\n=uNCV\n-----END PGP SIGNATURE-----\n", "payload": "tree 841a48dbf6e741b3877fec126aa4a2b6125ecb26\nparent 111724f5e2baa8b54612295352ba7b17a29b6059\nparent d3e5177f816d723cbce31ae7a7779feca8a69724\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1583565324 +0100\ncommitter GitHub <noreply@github.com> 1583565324 +0100\n\nRollup merge of #69656 - matthiaskrgr:iter_nth_zero, r=oli-obk\n\nUse .next() instead of .nth(0) on iterators.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5d1433b1f401d6b2a43a5728924c3725014b8cdc", "html_url": "https://github.com/rust-lang/rust/commit/5d1433b1f401d6b2a43a5728924c3725014b8cdc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5d1433b1f401d6b2a43a5728924c3725014b8cdc/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "111724f5e2baa8b54612295352ba7b17a29b6059", "url": "https://api.github.com/repos/rust-lang/rust/commits/111724f5e2baa8b54612295352ba7b17a29b6059", "html_url": "https://github.com/rust-lang/rust/commit/111724f5e2baa8b54612295352ba7b17a29b6059"}, {"sha": "d3e5177f816d723cbce31ae7a7779feca8a69724", "url": "https://api.github.com/repos/rust-lang/rust/commits/d3e5177f816d723cbce31ae7a7779feca8a69724", "html_url": "https://github.com/rust-lang/rust/commit/d3e5177f816d723cbce31ae7a7779feca8a69724"}], "stats": {"total": 28, "additions": 14, "deletions": 14}, "files": [{"sha": "18bdecafecd3cf37f43f3f41f735c70c9d3ccc46", "filename": "src/librustc/mir/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc%2Fmir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc%2Fmir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Fmod.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -1446,7 +1446,7 @@ impl<'tcx> Debug for TerminatorKind<'tcx> {\n         match successor_count {\n             0 => Ok(()),\n \n-            1 => write!(fmt, \" -> {:?}\", self.successors().nth(0).unwrap()),\n+            1 => write!(fmt, \" -> {:?}\", self.successors().next().unwrap()),\n \n             _ => {\n                 write!(fmt, \" -> [\")?;"}, {"sha": "fcebedb2601c2d0775883807737d62479bc2d1a8", "filename": "src/librustc/ty/util.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc%2Fty%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc%2Fty%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Futil.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -357,7 +357,7 @@ impl<'tcx> TyCtxt<'tcx> {\n         let mut dtor_did = None;\n         let ty = self.type_of(adt_did);\n         self.for_each_relevant_impl(drop_trait, ty, |impl_did| {\n-            if let Some(item) = self.associated_items(impl_did).in_definition_order().nth(0) {\n+            if let Some(item) = self.associated_items(impl_did).in_definition_order().next() {\n                 if validate(self, impl_did).is_ok() {\n                     dtor_did = Some(item.def_id);\n                 }"}, {"sha": "597d3f0237a71dc20a2acd61eed75a40e167cf41", "filename": "src/librustc_mir/transform/simplify.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_mir%2Ftransform%2Fsimplify.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_mir%2Ftransform%2Fsimplify.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fsimplify.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -230,7 +230,7 @@ impl<'a, 'tcx> CfgSimplifier<'a, 'tcx> {\n         };\n \n         let first_succ = {\n-            if let Some(&first_succ) = terminator.successors().nth(0) {\n+            if let Some(&first_succ) = terminator.successors().next() {\n                 if terminator.successors().all(|s| *s == first_succ) {\n                     let count = terminator.successors().count();\n                     self.pred_count[first_succ] -= (count - 1) as u32;"}, {"sha": "a928ab6a00979501610aa1a3e6a87f662478e0ef", "filename": "src/librustc_mir/util/elaborate_drops.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_mir%2Futil%2Felaborate_drops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_mir%2Futil%2Felaborate_drops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Futil%2Felaborate_drops.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -549,7 +549,7 @@ where\n         debug!(\"destructor_call_block({:?}, {:?})\", self, succ);\n         let tcx = self.tcx();\n         let drop_trait = tcx.lang_items().drop_trait().unwrap();\n-        let drop_fn = tcx.associated_items(drop_trait).in_definition_order().nth(0).unwrap();\n+        let drop_fn = tcx.associated_items(drop_trait).in_definition_order().next().unwrap();\n         let ty = self.place_ty(self.place);\n         let substs = tcx.mk_substs_trait(ty, &[]);\n "}, {"sha": "ecf0bed6a6e31b7f65185d5ace34e73afd916fb8", "filename": "src/librustc_mir_build/hair/pattern/_match.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_mir_build%2Fhair%2Fpattern%2F_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_mir_build%2Fhair%2Fpattern%2F_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir_build%2Fhair%2Fpattern%2F_match.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -1000,7 +1000,7 @@ impl<'tcx> Constructor<'tcx> {\n                         PatKind::Leaf { subpatterns }\n                     }\n                 }\n-                ty::Ref(..) => PatKind::Deref { subpattern: subpatterns.nth(0).unwrap() },\n+                ty::Ref(..) => PatKind::Deref { subpattern: subpatterns.next().unwrap() },\n                 ty::Slice(_) | ty::Array(..) => bug!(\"bad slice pattern {:?} {:?}\", self, ty),\n                 _ => PatKind::Wild,\n             },"}, {"sha": "505c6139ad63bf2e616ab04551f2a5bf1de4c75d", "filename": "src/librustc_parse/parser/expr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_parse%2Fparser%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_parse%2Fparser%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_parse%2Fparser%2Fexpr.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -1008,7 +1008,7 @@ impl<'a> Parser<'a> {\n         };\n         let kind = if es.len() == 1 && !trailing_comma {\n             // `(e)` is parenthesized `e`.\n-            ExprKind::Paren(es.into_iter().nth(0).unwrap())\n+            ExprKind::Paren(es.into_iter().next().unwrap())\n         } else {\n             // `(e,)` is a tuple with only one field, `e`.\n             ExprKind::Tup(es)"}, {"sha": "4c041fd669d67178f22b62548d5b08933ae9dbad", "filename": "src/librustc_parse/parser/pat.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_parse%2Fparser%2Fpat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_parse%2Fparser%2Fpat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_parse%2Fparser%2Fpat.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -479,7 +479,7 @@ impl<'a> Parser<'a> {\n         // Here, `(pat,)` is a tuple pattern.\n         // For backward compatibility, `(..)` is a tuple pattern as well.\n         Ok(if fields.len() == 1 && !(trailing_comma || fields[0].is_rest()) {\n-            PatKind::Paren(fields.into_iter().nth(0).unwrap())\n+            PatKind::Paren(fields.into_iter().next().unwrap())\n         } else {\n             PatKind::Tuple(fields)\n         })"}, {"sha": "c4469331b66694fdd91a06ed5d5a8b738c416c58", "filename": "src/librustc_parse/parser/ty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_parse%2Fparser%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_parse%2Fparser%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_parse%2Fparser%2Fty.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -198,7 +198,7 @@ impl<'a> Parser<'a> {\n         })?;\n \n         if ts.len() == 1 && !trailing {\n-            let ty = ts.into_iter().nth(0).unwrap().into_inner();\n+            let ty = ts.into_iter().next().unwrap().into_inner();\n             let maybe_bounds = allow_plus == AllowPlus::Yes && self.token.is_like_plus();\n             match ty.kind {\n                 // `(TY_BOUND_NOPAREN) + BOUND + ...`."}, {"sha": "cd2d2c4c3d768c843a6cb7263f0921a046e832df", "filename": "src/librustc_span/source_map.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_span%2Fsource_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_span%2Fsource_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fsource_map.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -620,7 +620,7 @@ impl SourceMap {\n     /// if no character could be found or if an error occurred while retrieving the code snippet.\n     pub fn span_extend_to_prev_char(&self, sp: Span, c: char) -> Span {\n         if let Ok(prev_source) = self.span_to_prev_source(sp) {\n-            let prev_source = prev_source.rsplit(c).nth(0).unwrap_or(\"\").trim_start();\n+            let prev_source = prev_source.rsplit(c).next().unwrap_or(\"\").trim_start();\n             if !prev_source.is_empty() && !prev_source.contains('\\n') {\n                 return sp.with_lo(BytePos(sp.lo().0 - prev_source.len() as u32));\n             }\n@@ -640,7 +640,7 @@ impl SourceMap {\n         for ws in &[\" \", \"\\t\", \"\\n\"] {\n             let pat = pat.to_owned() + ws;\n             if let Ok(prev_source) = self.span_to_prev_source(sp) {\n-                let prev_source = prev_source.rsplit(&pat).nth(0).unwrap_or(\"\").trim_start();\n+                let prev_source = prev_source.rsplit(&pat).next().unwrap_or(\"\").trim_start();\n                 if !prev_source.is_empty() && (!prev_source.contains('\\n') || accept_newlines) {\n                     return sp.with_lo(BytePos(sp.lo().0 - prev_source.len() as u32));\n                 }\n@@ -655,7 +655,7 @@ impl SourceMap {\n     pub fn span_until_char(&self, sp: Span, c: char) -> Span {\n         match self.span_to_snippet(sp) {\n             Ok(snippet) => {\n-                let snippet = snippet.split(c).nth(0).unwrap_or(\"\").trim_end();\n+                let snippet = snippet.split(c).next().unwrap_or(\"\").trim_end();\n                 if !snippet.is_empty() && !snippet.contains('\\n') {\n                     sp.with_hi(BytePos(sp.lo().0 + snippet.len() as u32))\n                 } else {"}, {"sha": "8689db1b1eb56dddecedc8996d439f706abe5a33", "filename": "src/librustc_typeck/check/closure.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_typeck%2Fcheck%2Fclosure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_typeck%2Fcheck%2Fclosure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fclosure.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -675,7 +675,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n         // The `Future` trait has only one associted item, `Output`,\n         // so check that this is what we see.\n         let output_assoc_item =\n-            self.tcx.associated_items(future_trait).in_definition_order().nth(0).unwrap().def_id;\n+            self.tcx.associated_items(future_trait).in_definition_order().next().unwrap().def_id;\n         if output_assoc_item != predicate.projection_ty.item_def_id {\n             span_bug!(\n                 cause_span,"}, {"sha": "f479a992e004feff3baf9abd3daaf748b314e029", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -5244,7 +5244,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                     .tcx\n                     .associated_items(future_trait)\n                     .in_definition_order()\n-                    .nth(0)\n+                    .next()\n                     .unwrap()\n                     .def_id;\n                 let predicate ="}, {"sha": "839d914baa9548ee856e7913ad76bcc9894daa05", "filename": "src/tools/unicode-table-generator/src/main.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Ftools%2Funicode-table-generator%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d1433b1f401d6b2a43a5728924c3725014b8cdc/src%2Ftools%2Funicode-table-generator%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Funicode-table-generator%2Fsrc%2Fmain.rs?ref=5d1433b1f401d6b2a43a5728924c3725014b8cdc", "patch": "@@ -147,7 +147,7 @@ fn main() {\n         eprintln!(\"Must provide path to write unicode tables to\");\n         eprintln!(\n             \"e.g. {} src/libcore/unicode/unicode_data.rs\",\n-            std::env::args().nth(0).unwrap_or_default()\n+            std::env::args().next().unwrap_or_default()\n         );\n         std::process::exit(1);\n     });"}]}