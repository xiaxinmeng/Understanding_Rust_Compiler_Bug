{"sha": "384ce46eef041fe03858428a0b21187717724773", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4NGNlNDZlZWYwNDFmZTAzODU4NDI4YTBiMjExODc3MTc3MjQ3NzM=", "commit": {"author": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2017-05-12T07:30:26Z"}, "committer": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2017-05-12T07:30:26Z"}, "message": "Use vertical layout when args len is larger than fn_call_width", "tree": {"sha": "14211c4918a8692de2725ae3825630c9efb575bf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/14211c4918a8692de2725ae3825630c9efb575bf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/384ce46eef041fe03858428a0b21187717724773", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/384ce46eef041fe03858428a0b21187717724773", "html_url": "https://github.com/rust-lang/rust/commit/384ce46eef041fe03858428a0b21187717724773", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/384ce46eef041fe03858428a0b21187717724773/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "88250c4af2eccb1a5fd5d572893d2c42593c06eb", "url": "https://api.github.com/repos/rust-lang/rust/commits/88250c4af2eccb1a5fd5d572893d2c42593c06eb", "html_url": "https://github.com/rust-lang/rust/commit/88250c4af2eccb1a5fd5d572893d2c42593c06eb"}], "stats": {"total": 23, "additions": 21, "deletions": 2}, "files": [{"sha": "4b34fd8bf6dbd2dffee5d7003839176ec0db5632", "filename": "src/expr.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/384ce46eef041fe03858428a0b21187717724773/src%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/384ce46eef041fe03858428a0b21187717724773/src%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fexpr.rs?ref=384ce46eef041fe03858428a0b21187717724773", "patch": "@@ -1784,7 +1784,8 @@ fn rewrite_call_args(context: &RewriteContext,\n         // and not rewriting macro.\n         Some(ref s) if context.config.fn_call_style == IndentStyle::Block &&\n                        !force_no_trailing_comma &&\n-                       (!s.contains('\\n') && s.len() > one_line_width) => {\n+                       (!s.contains('\\n') &&\n+                        (s.len() > one_line_width || s.len() > context.config.fn_call_width)) => {\n             fmt.trailing_separator = SeparatorTactic::Vertical;\n             write_list(&item_vec, &fmt)\n         }"}, {"sha": "ee79c4ce80552947282ca2e79feaa0e3d1e7fad3", "filename": "tests/source/configs-fn_call_width-zero.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/384ce46eef041fe03858428a0b21187717724773/tests%2Fsource%2Fconfigs-fn_call_width-zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/384ce46eef041fe03858428a0b21187717724773/tests%2Fsource%2Fconfigs-fn_call_width-zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fconfigs-fn_call_width-zero.rs?ref=384ce46eef041fe03858428a0b21187717724773", "patch": "@@ -0,0 +1,7 @@\n+// rustfmt-fn_call_width: 0\n+// rustfmt-fn_call_style: block\n+\n+// #1508\n+fn a() {\n+    let x = f(y);\n+}"}, {"sha": "c9a42cd49522d3ab001739b5500723f7e00e5bdf", "filename": "tests/target/configs-fn_call_style-block.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/384ce46eef041fe03858428a0b21187717724773/tests%2Ftarget%2Fconfigs-fn_call_style-block.rs", "raw_url": "https://github.com/rust-lang/rust/raw/384ce46eef041fe03858428a0b21187717724773/tests%2Ftarget%2Fconfigs-fn_call_style-block.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fconfigs-fn_call_style-block.rs?ref=384ce46eef041fe03858428a0b21187717724773", "patch": "@@ -13,7 +13,9 @@ fn main() {\n         \"elit\",\n     );\n     // #1501\n-    let hyper = Arc::new(Client::with_connector(HttpsConnector::new(TlsClient::new())));\n+    let hyper = Arc::new(\n+        Client::with_connector(HttpsConnector::new(TlsClient::new())),\n+    );\n }\n \n // #1521"}, {"sha": "3193bc228f7d62b875c5553e00059fadf33e5467", "filename": "tests/target/configs-fn_call_width-zero.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/384ce46eef041fe03858428a0b21187717724773/tests%2Ftarget%2Fconfigs-fn_call_width-zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/384ce46eef041fe03858428a0b21187717724773/tests%2Ftarget%2Fconfigs-fn_call_width-zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fconfigs-fn_call_width-zero.rs?ref=384ce46eef041fe03858428a0b21187717724773", "patch": "@@ -0,0 +1,9 @@\n+// rustfmt-fn_call_width: 0\n+// rustfmt-fn_call_style: block\n+\n+// #1508\n+fn a() {\n+    let x = f(\n+        y,\n+    );\n+}"}]}