{"sha": "e0ce092ddcfdad62458596132bdccdb4502dd03b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUwY2UwOTJkZGNmZGFkNjI0NTg1OTYxMzJiZGNjZGI0NTAyZGQwM2I=", "commit": {"author": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-07-04T15:17:30Z"}, "committer": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-07-04T15:17:30Z"}, "message": "Simplify the code a bit.", "tree": {"sha": "b51a07f6cd4bac56f5ed73627a54d098b49dcb7e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b51a07f6cd4bac56f5ed73627a54d098b49dcb7e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e0ce092ddcfdad62458596132bdccdb4502dd03b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e0ce092ddcfdad62458596132bdccdb4502dd03b", "html_url": "https://github.com/rust-lang/rust/commit/e0ce092ddcfdad62458596132bdccdb4502dd03b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e0ce092ddcfdad62458596132bdccdb4502dd03b/comments", "author": null, "committer": null, "parents": [{"sha": "7e7e326ee672e7540ae7274dc5cc96d6af909b6c", "url": "https://api.github.com/repos/rust-lang/rust/commits/7e7e326ee672e7540ae7274dc5cc96d6af909b6c", "html_url": "https://github.com/rust-lang/rust/commit/7e7e326ee672e7540ae7274dc5cc96d6af909b6c"}], "stats": {"total": 11, "additions": 3, "deletions": 8}, "files": [{"sha": "d73ca52f9e2d3077aa201f844d46f4e124a501ff", "filename": "src/comp/driver/rustc.rs", "status": "modified", "additions": 3, "deletions": 8, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/e0ce092ddcfdad62458596132bdccdb4502dd03b/src%2Fcomp%2Fdriver%2Frustc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e0ce092ddcfdad62458596132bdccdb4502dd03b/src%2Fcomp%2Fdriver%2Frustc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fdriver%2Frustc.rs?ref=e0ce092ddcfdad62458596132bdccdb4502dd03b", "patch": "@@ -430,16 +430,11 @@ fn main(vec[str] args) {\n              saved_out_filename, saved_out_filename + \".o\"];\n         auto shared_cmd;\n \n-        alt (sess.get_targ_cfg().os) {\n-            case (session::os_win32) {\n-                shared_cmd = \"-shared\";\n-            }\n-            case (session::os_macos) {\n+        auto os = sess.get_targ_cfg().os;\n+        if (os == session::os_macos) {\n                 shared_cmd = \"-dynamiclib\";\n-            }\n-            case (session::os_linux) {\n+        } else {\n                 shared_cmd = \"-shared\";\n-            }\n         }\n \n         // Converts a library file name into a gcc -l argument"}]}