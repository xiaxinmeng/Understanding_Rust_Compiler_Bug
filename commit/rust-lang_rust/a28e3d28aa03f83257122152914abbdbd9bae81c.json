{"sha": "a28e3d28aa03f83257122152914abbdbd9bae81c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEyOGUzZDI4YWEwM2Y4MzI1NzEyMjE1MjkxNGFiYmRiZDliYWU4MWM=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-07-28T19:36:18Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-07-29T07:12:47Z"}, "message": "Copy the test_data/ RLS tests into a writable directory.\n\nSee rust-lang-nursery/rls#966 for details.", "tree": {"sha": "ad5d6f75599300db94af0d51f1c59755721f4c60", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad5d6f75599300db94af0d51f1c59755721f4c60"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a28e3d28aa03f83257122152914abbdbd9bae81c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAltdaO8ACgkQ/vbIBR0O\nATxUIw//WgF+wGuYQxbdG0iAPdcN3e74eHMpfq3POXdzrqFEe/4QxMLFb501vD4J\nkP13zcfjyYI7LL7iZYuHFtBYt8p8sMznDZR8x3udARTfovws7d58IP+YH7c5wlHr\nlbZAV09SXLZ2NvRqKxYjCYt4xqQ2BaPFV4NCbQfTsHT2EAR20W96q3y0yWfUzhuy\nE+yr7Z1thpQJGGMzOKACaPZ4b8s6C12XYV1lumvPvZcApECToaNtjpS+hcuwx6Pm\nF5+JRXkHO+I0jN+K76cXgIHDerHqXDgaeRaBrbXOFwuJpnVM+M06vNhN+aAmcAFz\noVffw/dAHe2+pV5ia855XzjSj7t6SSOylZmYDBkFA3gunYnOvzrhaWMU6yQWIKfY\n+m4EFowJ/ED4HH+kMQ0Sk5WMjsHXEiNRp3O1hIbl6bIZG6mMh5WPWmiLMDOMdI+v\nB05Mvn0lPUS3Tni65DW5LdzvS32smo1qdBlYvmjnJl7FP+yTa8hziqgwQ9RRVHmo\neupc4nvvLta/pP+DOBywT5TYehAuwCyNvHksOQSumAeFzFoSQhDJa0yVHmldeqJi\nOn70yq0YbIIACKQh7mRz6ptC+7U8+YjR21SbApDtzKlQYThLvh0ADakJr9cvVHCk\nIR/HvvdAPB5JHxmhV5Y7mFK94F5LI5e4AO7lhEOR2vTp1Bp/hiw=\n=+yMk\n-----END PGP SIGNATURE-----", "payload": "tree ad5d6f75599300db94af0d51f1c59755721f4c60\nparent 6a2c97c38d297307dd8554853890f51144f62172\nauthor kennytm <kennytm@gmail.com> 1532806578 +0800\ncommitter kennytm <kennytm@gmail.com> 1532848367 +0800\n\nCopy the test_data/ RLS tests into a writable directory.\n\nSee rust-lang-nursery/rls#966 for details.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a28e3d28aa03f83257122152914abbdbd9bae81c", "html_url": "https://github.com/rust-lang/rust/commit/a28e3d28aa03f83257122152914abbdbd9bae81c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a28e3d28aa03f83257122152914abbdbd9bae81c/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6a2c97c38d297307dd8554853890f51144f62172", "url": "https://api.github.com/repos/rust-lang/rust/commits/6a2c97c38d297307dd8554853890f51144f62172", "html_url": "https://github.com/rust-lang/rust/commit/6a2c97c38d297307dd8554853890f51144f62172"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "24a1dbbde66396c756df043a78cc62974fe27ad0", "filename": "src/bootstrap/test.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a28e3d28aa03f83257122152914abbdbd9bae81c/src%2Fbootstrap%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a28e3d28aa03f83257122152914abbdbd9bae81c/src%2Fbootstrap%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftest.rs?ref=a28e3d28aa03f83257122152914abbdbd9bae81c", "patch": "@@ -290,6 +290,13 @@ impl Step for Rls {\n                                                  \"src/tools/rls\",\n                                                  SourceType::Submodule);\n \n+        // Copy `src/tools/rls/test_data` to a writable drive.\n+        let test_workspace_path = builder.out.join(\"rls-test-data\");\n+        let test_data_path = test_workspace_path.join(\"test_data\");\n+        builder.create_dir(&test_data_path);\n+        builder.cp_r(&builder.src.join(\"src/tools/rls/test_data\"), &test_data_path);\n+        cargo.env(\"RLS_TEST_WORKSPACE_DIR\", test_workspace_path);\n+\n         builder.add_rustc_lib_path(compiler, &mut cargo);\n \n         if try_run(builder, &mut cargo) {"}]}