{"sha": "89fdfe682870bd60e759a38c0509af605eaff759", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg5ZmRmZTY4Mjg3MGJkNjBlNzU5YTM4YzA1MDlhZjYwNWVhZmY3NTk=", "commit": {"author": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2020-10-02T13:28:05Z"}, "committer": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2020-10-02T13:45:48Z"}, "message": "Permit ty::Bool in const generics for v0 mangling", "tree": {"sha": "51fd7ff2efc411e68edb5ad60cbf7c912de3f3fc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/51fd7ff2efc411e68edb5ad60cbf7c912de3f3fc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/89fdfe682870bd60e759a38c0509af605eaff759", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/89fdfe682870bd60e759a38c0509af605eaff759", "html_url": "https://github.com/rust-lang/rust/commit/89fdfe682870bd60e759a38c0509af605eaff759", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/89fdfe682870bd60e759a38c0509af605eaff759/comments", "author": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "154f1f544dd68f7b53ff8d9952811e855f4c2d7c", "url": "https://api.github.com/repos/rust-lang/rust/commits/154f1f544dd68f7b53ff8d9952811e855f4c2d7c", "html_url": "https://github.com/rust-lang/rust/commit/154f1f544dd68f7b53ff8d9952811e855f4c2d7c"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "da9c93143bfb345d7836bb0cfe996c3c9fb2287c", "filename": "compiler/rustc_symbol_mangling/src/v0.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/89fdfe682870bd60e759a38c0509af605eaff759/compiler%2Frustc_symbol_mangling%2Fsrc%2Fv0.rs", "raw_url": "https://github.com/rust-lang/rust/raw/89fdfe682870bd60e759a38c0509af605eaff759/compiler%2Frustc_symbol_mangling%2Fsrc%2Fv0.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_symbol_mangling%2Fsrc%2Fv0.rs?ref=89fdfe682870bd60e759a38c0509af605eaff759", "patch": "@@ -504,6 +504,7 @@ impl Printer<'tcx> for SymbolMangler<'tcx> {\n \n         match ct.ty.kind() {\n             ty::Uint(_) => {}\n+            ty::Bool => {}\n             _ => {\n                 bug!(\"symbol_names: unsupported constant of type `{}` ({:?})\", ct.ty, ct);\n             }"}, {"sha": "61ba255dac04d78d0453617b59161e38a5eb0f30", "filename": "src/test/ui/symbol-names/issue-76365.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/89fdfe682870bd60e759a38c0509af605eaff759/src%2Ftest%2Fui%2Fsymbol-names%2Fissue-76365.rs", "raw_url": "https://github.com/rust-lang/rust/raw/89fdfe682870bd60e759a38c0509af605eaff759/src%2Ftest%2Fui%2Fsymbol-names%2Fissue-76365.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsymbol-names%2Fissue-76365.rs?ref=89fdfe682870bd60e759a38c0509af605eaff759", "patch": "@@ -0,0 +1,18 @@\n+// check-pass\n+// revisions: legacy v0\n+//[legacy]compile-flags: -Z symbol-mangling-version=legacy --crate-type=lib\n+    //[v0]compile-flags: -Z symbol-mangling-version=v0 --crate-type=lib\n+\n+#![feature(min_const_generics)]\n+\n+pub struct Bar<const F: bool>;\n+\n+impl Bar<true> {\n+    pub fn foo() {}\n+}\n+\n+impl<const F: bool> Bar<F> {\n+    pub fn bar() {}\n+}\n+\n+fn main() {}"}]}