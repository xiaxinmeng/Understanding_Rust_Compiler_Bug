{"sha": "6315d0c99eead181e3725623c6a9d01950620640", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYzMTVkMGM5OWVlYWQxODFlMzcyNTYyM2M2YTlkMDE5NTA2MjA2NDA=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-05-26T15:48:29Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-05-26T15:56:27Z"}, "message": "Add test for #71042", "tree": {"sha": "3599c4dad2ec7b8007c6dbc4d3d9b68adab1f006", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3599c4dad2ec7b8007c6dbc4d3d9b68adab1f006"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6315d0c99eead181e3725623c6a9d01950620640", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEXmatGLoofN5+9u4rsJhshcDi2qEFAl7NPCsACgkQsJhshcDi\n2qEQlw/9HDD1Q7grOlsA9b26vX7MD2RcgGhAzDIKqd9g9rwglyXki8cLOfdqPL3Y\nU2lbuomZVOmo5smHXMHKsgl0yeLOe2CuTHnMjbl40py7G+myuIjnqfgW+ApZvUrv\n2na7JsUYZRGnywg4RHIUqU9rhjOhmmUhToBT64A3dmFiQRR6HX8lsC/eOUgTmq0Z\nZAvLXh6prlhJDZIQBRbFFtWkoZTDQIWN73iUuNcoahCFRBnA1UabxvVIHJX1Bbn2\nCl8hOj9gkBuIdM9XeNoip7anYjW+yo/knwxuy0PMElLwX2IBXUdBKP6DjIQ8GjFW\nvfzqEYupz6naMlvIjKuIO2Stpb1e7MHX1AzEBLh9brCwVTLh4stOWcuf8MKHrlQF\nk/9C7bNOk6uFh8iHmQKBLyFzG9lBH80Pooc8LASmErILl81C6g75GRVrqO4t6eBM\nWjwMJFVxb5b8dVI8/+AYpbF/+AkpzwPAQlEoqm3+agmNIOvGbuVMT3CFlG0UD5jm\nm0BmNw7MFFByGlWV/CVwhrDoWjKwKrj6mcJgpPfsBkV3SU0vzrO6yfxvn1BsDec3\nL+0O+AOIaodN5R3clqzTbgR5sa1rx9dfjJogOur2ctyU9mrMU4/FhyXh647DoArh\nW6NMmgxl9HojVF53aHwvVF3HQ55CA+FRL76HmdxLHjHEYDVNr8U=\n=PsJV\n-----END PGP SIGNATURE-----", "payload": "tree 3599c4dad2ec7b8007c6dbc4d3d9b68adab1f006\nparent 4b87f97ca8862ad97272ecafcd4c27334ecb81aa\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1590508109 +0900\ncommitter Yuki Okushi <huyuumi.dev@gmail.com> 1590508587 +0900\n\nAdd test for #71042\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6315d0c99eead181e3725623c6a9d01950620640", "html_url": "https://github.com/rust-lang/rust/commit/6315d0c99eead181e3725623c6a9d01950620640", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6315d0c99eead181e3725623c6a9d01950620640/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4b87f97ca8862ad97272ecafcd4c27334ecb81aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/4b87f97ca8862ad97272ecafcd4c27334ecb81aa", "html_url": "https://github.com/rust-lang/rust/commit/4b87f97ca8862ad97272ecafcd4c27334ecb81aa"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "c5e4a72fb9ff18ed69a61ae52506d7fbf6d8500e", "filename": "src/test/ui/pattern/issue-71042-opaquely-typed-constant-used-in-pattern.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6315d0c99eead181e3725623c6a9d01950620640/src%2Ftest%2Fui%2Fpattern%2Fissue-71042-opaquely-typed-constant-used-in-pattern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6315d0c99eead181e3725623c6a9d01950620640/src%2Ftest%2Fui%2Fpattern%2Fissue-71042-opaquely-typed-constant-used-in-pattern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpattern%2Fissue-71042-opaquely-typed-constant-used-in-pattern.rs?ref=6315d0c99eead181e3725623c6a9d01950620640", "patch": "@@ -0,0 +1,9 @@\n+#![feature(impl_trait_in_bindings)]\n+#![allow(incomplete_features)]\n+\n+fn main() {\n+    const C: impl Copy = 0;\n+    match C {\n+        C | _ => {} //~ ERROR: opaque types cannot be used in patterns\n+    }\n+}"}, {"sha": "7695223f2cf98ef8dfff80d6090302a22769551c", "filename": "src/test/ui/pattern/issue-71042-opaquely-typed-constant-used-in-pattern.stderr", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6315d0c99eead181e3725623c6a9d01950620640/src%2Ftest%2Fui%2Fpattern%2Fissue-71042-opaquely-typed-constant-used-in-pattern.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6315d0c99eead181e3725623c6a9d01950620640/src%2Ftest%2Fui%2Fpattern%2Fissue-71042-opaquely-typed-constant-used-in-pattern.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpattern%2Fissue-71042-opaquely-typed-constant-used-in-pattern.stderr?ref=6315d0c99eead181e3725623c6a9d01950620640", "patch": "@@ -0,0 +1,8 @@\n+error: opaque types cannot be used in patterns\n+  --> $DIR/issue-71042-opaquely-typed-constant-used-in-pattern.rs:7:9\n+   |\n+LL |         C | _ => {}\n+   |         ^\n+\n+error: aborting due to previous error\n+"}]}