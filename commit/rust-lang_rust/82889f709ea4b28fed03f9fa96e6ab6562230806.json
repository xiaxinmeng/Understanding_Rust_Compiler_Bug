{"sha": "82889f709ea4b28fed03f9fa96e6ab6562230806", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyODg5ZjcwOWVhNGIyOGZlZDAzZjlmYTk2ZTZhYjY1NjIyMzA4MDY=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-03-31T22:58:57Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-03-31T22:58:57Z"}, "message": "rollup merge of #23902: freebroccolo/master", "tree": {"sha": "a3c2a631be8d9408649f8e13f6e56c3c07e00a7a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a3c2a631be8d9408649f8e13f6e56c3c07e00a7a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/82889f709ea4b28fed03f9fa96e6ab6562230806", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/82889f709ea4b28fed03f9fa96e6ab6562230806", "html_url": "https://github.com/rust-lang/rust/commit/82889f709ea4b28fed03f9fa96e6ab6562230806", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/82889f709ea4b28fed03f9fa96e6ab6562230806/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "30532884f83c4346f736dee5df03e812bde94ddc", "url": "https://api.github.com/repos/rust-lang/rust/commits/30532884f83c4346f736dee5df03e812bde94ddc", "html_url": "https://github.com/rust-lang/rust/commit/30532884f83c4346f736dee5df03e812bde94ddc"}, {"sha": "9ba7974b357c7f2f69d74c9f8a01e282d7f4da6f", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ba7974b357c7f2f69d74c9f8a01e282d7f4da6f", "html_url": "https://github.com/rust-lang/rust/commit/9ba7974b357c7f2f69d74c9f8a01e282d7f4da6f"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "6b814a685424ef83220f8ce19f02d036bfe58b70", "filename": "src/doc/trpl/concurrency.md", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/82889f709ea4b28fed03f9fa96e6ab6562230806/src%2Fdoc%2Ftrpl%2Fconcurrency.md", "raw_url": "https://github.com/rust-lang/rust/raw/82889f709ea4b28fed03f9fa96e6ab6562230806/src%2Fdoc%2Ftrpl%2Fconcurrency.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Fconcurrency.md?ref=82889f709ea4b28fed03f9fa96e6ab6562230806", "patch": "@@ -280,13 +280,15 @@ it returns an `Result<T, E>`, and because this is just an example, we `unwrap()`\n it to get a reference to the data. Real code would have more robust error handling\n here. We're then free to mutate it, since we have the lock.\n \n-This timer bit is a bit awkward, however. We have picked a reasonable amount of\n-time to wait, but it's entirely possible that we've picked too high, and that\n-we could be taking less time. It's also possible that we've picked too low,\n-and that we aren't actually finishing this computation.\n-\n-Rust's standard library provides a few more mechanisms for two threads to\n-synchronize with each other. Let's talk about one: channels.\n+Lastly, while the threads are running, we wait on a short timer. But\n+this is not ideal: we may have picked a reasonable amount of time to\n+wait but it's more likely we'll either be waiting longer than\n+necessary or not long enough, depending on just how much time the\n+threads actually take to finish computing when the program runs.\n+\n+A more precise alternative to the timer would be to use one of the\n+mechanisms provided by the Rust standard library for synchronizing\n+threads with each other. Let's talk about one of them: channels.\n \n ## Channels\n "}]}