{"sha": "56f830e292f3af241b65fc2bc08279a0b6d9856a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU2ZjgzMGUyOTJmM2FmMjQxYjY1ZmMyYmMwODI3OWEwYjZkOTg1NmE=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-12-08T02:39:43Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-12-08T02:39:43Z"}, "message": "Rollup merge of #66325 - BartMassey:master, r=joshtriplett\n\nChange unused_labels from allow to warn\n\nFixes #66324, making the unused_labels lint warn instead of allow by default. I'm told @rust-lang/lang will need to review this, and perhaps will want to do a crater run.", "tree": {"sha": "883bd1ca3e3d53bca2f2694749b553b36208959b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/883bd1ca3e3d53bca2f2694749b553b36208959b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/56f830e292f3af241b65fc2bc08279a0b6d9856a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJd7GJvCRBK7hj4Ov3rIwAAdHIIAJmtAiDK9rA0W2JGhgg0mFyH\no8VUswzU0EPedOPmHYWJ4Vk6fzAJmL5q4Ck5yp2uSvszyh9HoOypVcnzI9yFdMi7\nH5vwNiIybAyDXARZKNoZ1YqrtqmXgNAQapL7igVlaThVRe4CGgFS9uvoAJfmr4+6\nmxOAjgvuXICH5j9rhuFh7qBNjBwBxjfqjR5UycUxX1RPdhIJqQK61BHXhsS4RsGq\nZtl4w36MPjNu35swJNXMt6i7DoIzzDmQ7Jn/R06gttSzdqDKaOLmSaBUw+luacyn\ncC5VmreXz8SErCMZwgOoFLRuL6WK7gqjnkzHbULnNyzOzEj+2Mx0EMFiLSNFAsQ=\n=WNeI\n-----END PGP SIGNATURE-----\n", "payload": "tree 883bd1ca3e3d53bca2f2694749b553b36208959b\nparent de17464b14e503edca6625daa9cd4c338ffafee2\nparent 34a45a5309dad66025df506a388fbdf1da9afa40\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1575772783 +0100\ncommitter GitHub <noreply@github.com> 1575772783 +0100\n\nRollup merge of #66325 - BartMassey:master, r=joshtriplett\n\nChange unused_labels from allow to warn\n\nFixes #66324, making the unused_labels lint warn instead of allow by default. I'm told @rust-lang/lang will need to review this, and perhaps will want to do a crater run.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/56f830e292f3af241b65fc2bc08279a0b6d9856a", "html_url": "https://github.com/rust-lang/rust/commit/56f830e292f3af241b65fc2bc08279a0b6d9856a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/56f830e292f3af241b65fc2bc08279a0b6d9856a/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "de17464b14e503edca6625daa9cd4c338ffafee2", "url": "https://api.github.com/repos/rust-lang/rust/commits/de17464b14e503edca6625daa9cd4c338ffafee2", "html_url": "https://github.com/rust-lang/rust/commit/de17464b14e503edca6625daa9cd4c338ffafee2"}, {"sha": "34a45a5309dad66025df506a388fbdf1da9afa40", "url": "https://api.github.com/repos/rust-lang/rust/commits/34a45a5309dad66025df506a388fbdf1da9afa40", "html_url": "https://github.com/rust-lang/rust/commit/34a45a5309dad66025df506a388fbdf1da9afa40"}], "stats": {"total": 133, "additions": 68, "deletions": 65}, "files": [{"sha": "c4bc9773d23128369f91c1a7d3d4f1e78535c514", "filename": "src/librustc/lint/builtin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Flibrustc%2Flint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Flibrustc%2Flint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Fbuiltin.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -329,7 +329,7 @@ declare_lint! {\n \n declare_lint! {\n     pub UNUSED_LABELS,\n-    Allow,\n+    Warn,\n     \"detects labels that are never used\"\n }\n "}, {"sha": "c7278dc4fac706fce3ad0907e374ff63d234e539", "filename": "src/librustc/ty/layout.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Flibrustc%2Fty%2Flayout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Flibrustc%2Fty%2Flayout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Flayout.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -2486,7 +2486,7 @@ where\n                     'descend_newtypes: while !fat_pointer_layout.ty.is_unsafe_ptr()\n                         && !fat_pointer_layout.ty.is_region_ptr()\n                     {\n-                        'iter_fields: for i in 0..fat_pointer_layout.fields.count() {\n+                        for i in 0..fat_pointer_layout.fields.count() {\n                             let field_layout = fat_pointer_layout.field(cx, i);\n \n                             if !field_layout.is_zst() {"}, {"sha": "8f954a5629c402b0d696a6e98a42f5dcfcc910c5", "filename": "src/librustc_codegen_ssa/mir/block.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Flibrustc_codegen_ssa%2Fmir%2Fblock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Flibrustc_codegen_ssa%2Fmir%2Fblock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2Fmir%2Fblock.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -718,7 +718,7 @@ impl<'a, 'tcx, Bx: BuilderMethods<'a, 'tcx>> FunctionCx<'a, 'tcx, Bx> {\n                     'descend_newtypes: while !op.layout.ty.is_unsafe_ptr()\n                                     && !op.layout.ty.is_region_ptr()\n                     {\n-                        'iter_fields: for i in 0..op.layout.fields.count() {\n+                        for i in 0..op.layout.fields.count() {\n                             let field = op.extract_field(&mut bx, i);\n                             if !field.layout.is_zst() {\n                                 // we found the one non-zero-sized field that is allowed"}, {"sha": "43a272af244fc3b358006bf94ce7cbec0cdac5fd", "filename": "src/librustc_mir/borrow_check/nll/type_check/liveness/trace.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ftype_check%2Fliveness%2Ftrace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ftype_check%2Fliveness%2Ftrace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ftype_check%2Fliveness%2Ftrace.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -249,7 +249,7 @@ impl LivenessResults<'me, 'typeck, 'flow, 'tcx> {\n         // Reverse DFS. But for drops, we do it a bit differently.\n         // The stack only ever stores *terminators of blocks*. Within\n         // a block, we walk back the statements in an inner loop.\n-        'next_block: while let Some(term_point) = self.stack.pop() {\n+        while let Some(term_point) = self.stack.pop() {\n             self.compute_drop_live_points_for_block(mpi, term_point);\n         }\n     }"}, {"sha": "de7ced332fd1002f96dbbf6d45f5ea1865d3b495", "filename": "src/libstd/keyword_docs.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Flibstd%2Fkeyword_docs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Flibstd%2Fkeyword_docs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fkeyword_docs.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -57,7 +57,7 @@ mod as_keyword { }\n /// 'outer: for i in 1..=5 {\n ///     println!(\"outer iteration (i): {}\", i);\n ///\n-///     'inner: for j in 1..=200 {\n+///     '_inner: for j in 1..=200 {\n ///         println!(\"    inner iteration (j): {}\", j);\n ///         if j >= 3 {\n ///             // breaks from inner loop, let's outer loop continue.\n@@ -178,7 +178,7 @@ mod const_keyword { }\n ///```rust\n /// // Print Odd numbers under 30 with unit <= 5\n /// 'tens: for ten in 0..3 {\n-///     'units: for unit in 0..=9 {\n+///     '_units: for unit in 0..=9 {\n ///         if unit % 2 == 0 {\n ///             continue;\n ///         }"}, {"sha": "18930ac811e80b10c9d414f5980b8b1bd4c7d23c", "filename": "src/test/ui/for-loop-while/label_break_value.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Ffor-loop-while%2Flabel_break_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Ffor-loop-while%2Flabel_break_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffor-loop-while%2Flabel_break_value.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -77,7 +77,7 @@ fn label_break_mixed(v: u32) -> u32 {\n         }\n         // Labeled breaking an outer loop still works\n         'd: loop {\n-            'e: {\n+            {\n                 if v == r {\n                     break 'b;\n                 }"}, {"sha": "9bedde67b78880c2cc8a6ef32fb73d0065541a97", "filename": "src/test/ui/for-loop-while/loop-label-shadowing.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Ffor-loop-while%2Floop-label-shadowing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Ffor-loop-while%2Floop-label-shadowing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffor-loop-while%2Floop-label-shadowing.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -5,6 +5,7 @@\n \n fn main() {\n     let mut foo = Vec::new();\n+    #[allow(unused_labels)]\n     'foo: for i in &[1, 2, 3] {\n         foo.push(*i);\n     }"}, {"sha": "491855d7becd153cd14b1051767942c9b96a6ee5", "filename": "src/test/ui/hygiene/hygienic-labels-in-let.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -1,5 +1,6 @@\n // run-pass\n #![allow(unreachable_code)]\n+#![allow(unused_labels)]\n \n // Test that labels injected by macros do not break hygiene.  This\n // checks cases where the macros invocations are under the rhs of a"}, {"sha": "4acb34f2dcebe2faa103657e3585da410eacb5cd", "filename": "src/test/ui/hygiene/hygienic-labels-in-let.stderr", "status": "modified", "additions": 28, "deletions": 28, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels-in-let.stderr?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -1,5 +1,5 @@\n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:15:9\n+  --> $DIR/hygienic-labels-in-let.rs:16:9\n    |\n LL |         'x: loop { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -11,7 +11,7 @@ LL |             loop_x!(break 'x);\n    |             ------------------ in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:63:9\n+  --> $DIR/hygienic-labels-in-let.rs:64:9\n    |\n LL |         'x: loop {\n    |         -- first declared here\n@@ -20,7 +20,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:63:9\n+  --> $DIR/hygienic-labels-in-let.rs:64:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -29,7 +29,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:15:9\n+  --> $DIR/hygienic-labels-in-let.rs:16:9\n    |\n LL |         'x: loop { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -41,7 +41,7 @@ LL |             loop_x!(break 'x);\n    |             ------------------ in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:15:9\n+  --> $DIR/hygienic-labels-in-let.rs:16:9\n    |\n LL |         'x: loop { $e }\n    |         ^^\n@@ -53,7 +53,7 @@ LL |             loop_x!(break 'x);\n    |             ------------------ in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:15:9\n+  --> $DIR/hygienic-labels-in-let.rs:16:9\n    |\n LL |         'x: loop { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -65,7 +65,7 @@ LL |             loop_x!(break 'x);\n    |             ------------------ in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:75:9\n+  --> $DIR/hygienic-labels-in-let.rs:76:9\n    |\n LL |         'x: loop {\n    |         -- first declared here\n@@ -74,7 +74,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:75:9\n+  --> $DIR/hygienic-labels-in-let.rs:76:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -83,7 +83,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:75:9\n+  --> $DIR/hygienic-labels-in-let.rs:76:9\n    |\n LL |         'x: for _ in 0..1 {\n    |         -- first declared here\n@@ -92,7 +92,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:75:9\n+  --> $DIR/hygienic-labels-in-let.rs:76:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -101,7 +101,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:26:9\n+  --> $DIR/hygienic-labels-in-let.rs:27:9\n    |\n LL |         'x: while 1 + 1 == 2 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -113,7 +113,7 @@ LL |             while_true!(break 'x);\n    |             ---------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:26:9\n+  --> $DIR/hygienic-labels-in-let.rs:27:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -125,7 +125,7 @@ LL |             while_true!(break 'x);\n    |             ---------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:26:9\n+  --> $DIR/hygienic-labels-in-let.rs:27:9\n    |\n LL |         'x: while 1 + 1 == 2 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -137,7 +137,7 @@ LL |             while_true!(break 'x);\n    |             ---------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:26:9\n+  --> $DIR/hygienic-labels-in-let.rs:27:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -149,7 +149,7 @@ LL |             while_true!(break 'x);\n    |             ---------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:26:9\n+  --> $DIR/hygienic-labels-in-let.rs:27:9\n    |\n LL |         'x: while 1 + 1 == 2 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -161,7 +161,7 @@ LL |             while_true!(break 'x);\n    |             ---------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:89:9\n+  --> $DIR/hygienic-labels-in-let.rs:90:9\n    |\n LL |         'x: loop {\n    |         -- first declared here\n@@ -170,7 +170,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:89:9\n+  --> $DIR/hygienic-labels-in-let.rs:90:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -179,7 +179,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:89:9\n+  --> $DIR/hygienic-labels-in-let.rs:90:9\n    |\n LL |         'x: for _ in 0..1 {\n    |         -- first declared here\n@@ -188,7 +188,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:89:9\n+  --> $DIR/hygienic-labels-in-let.rs:90:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -197,7 +197,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:89:9\n+  --> $DIR/hygienic-labels-in-let.rs:90:9\n    |\n LL |         'x: for _ in 0..1 {\n    |         -- first declared here\n@@ -206,7 +206,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:89:9\n+  --> $DIR/hygienic-labels-in-let.rs:90:9\n    |\n LL |         'x: while 1 + 1 == 2 { $e }\n    |         -- first declared here\n@@ -215,7 +215,7 @@ LL |         'x: for _ in 0..1 {\n    |         ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:38:9\n+  --> $DIR/hygienic-labels-in-let.rs:39:9\n    |\n LL |         'x: for _ in 0..1 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -227,7 +227,7 @@ LL |             run_once!(continue 'x);\n    |             ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:38:9\n+  --> $DIR/hygienic-labels-in-let.rs:39:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -239,7 +239,7 @@ LL |             run_once!(continue 'x);\n    |             ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:38:9\n+  --> $DIR/hygienic-labels-in-let.rs:39:9\n    |\n LL |         'x: for _ in 0..1 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -251,7 +251,7 @@ LL |             run_once!(continue 'x);\n    |             ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:38:9\n+  --> $DIR/hygienic-labels-in-let.rs:39:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -263,7 +263,7 @@ LL |             run_once!(continue 'x);\n    |             ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:38:9\n+  --> $DIR/hygienic-labels-in-let.rs:39:9\n    |\n LL |         'x: for _ in 0..1 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -275,7 +275,7 @@ LL |             run_once!(continue 'x);\n    |             ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:38:9\n+  --> $DIR/hygienic-labels-in-let.rs:39:9\n    |\n LL |         'x: while 1 + 1 == 2 { $e }\n    |         -- first declared here\n@@ -287,7 +287,7 @@ LL |             run_once!(continue 'x);\n    |             ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels-in-let.rs:38:9\n+  --> $DIR/hygienic-labels-in-let.rs:39:9\n    |\n LL |         'x: for _ in 0..1 { $e }\n    |         ^^ lifetime 'x already in scope"}, {"sha": "c9f494b68b4a812a5e73599bfec24b70a2127d7f", "filename": "src/test/ui/hygiene/hygienic-labels.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -1,5 +1,6 @@\n // run-pass\n #![allow(unreachable_code)]\n+#![allow(unused_labels)]\n // Test that labels injected by macros do not break hygiene.\n \n // Issue #24278: The label/lifetime shadowing checker from #24162"}, {"sha": "0833825940a8598f3bd644d2c195282c21553f1d", "filename": "src/test/ui/hygiene/hygienic-labels.stderr", "status": "modified", "additions": 28, "deletions": 28, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fhygienic-labels.stderr?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -1,5 +1,5 @@\n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:12:9\n+  --> $DIR/hygienic-labels.rs:13:9\n    |\n LL |         'x: loop { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -11,7 +11,7 @@ LL |         loop_x!(break 'x);\n    |         ------------------ in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:53:5\n+  --> $DIR/hygienic-labels.rs:54:5\n    |\n LL |     'x: for _ in 0..1 {\n    |     -- first declared here\n@@ -20,7 +20,7 @@ LL |     'x: loop {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:53:5\n+  --> $DIR/hygienic-labels.rs:54:5\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -29,7 +29,7 @@ LL |     'x: loop {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:12:9\n+  --> $DIR/hygienic-labels.rs:13:9\n    |\n LL |         'x: loop { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -41,7 +41,7 @@ LL |         loop_x!(break 'x);\n    |         ------------------ in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:12:9\n+  --> $DIR/hygienic-labels.rs:13:9\n    |\n LL |         'x: loop { $e }\n    |         ^^\n@@ -53,7 +53,7 @@ LL |         loop_x!(break 'x);\n    |         ------------------ in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:12:9\n+  --> $DIR/hygienic-labels.rs:13:9\n    |\n LL |         'x: loop { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -65,7 +65,7 @@ LL |         loop_x!(break 'x);\n    |         ------------------ in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:62:5\n+  --> $DIR/hygienic-labels.rs:63:5\n    |\n LL |     'x: for _ in 0..1 {\n    |     -- first declared here\n@@ -74,7 +74,7 @@ LL |     'x: while 1 + 1 == 2 {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:62:5\n+  --> $DIR/hygienic-labels.rs:63:5\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -83,7 +83,7 @@ LL |     'x: while 1 + 1 == 2 {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:62:5\n+  --> $DIR/hygienic-labels.rs:63:5\n    |\n LL |     'x: loop {\n    |     -- first declared here\n@@ -92,7 +92,7 @@ LL |     'x: while 1 + 1 == 2 {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:62:5\n+  --> $DIR/hygienic-labels.rs:63:5\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -101,7 +101,7 @@ LL |     'x: while 1 + 1 == 2 {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:37:9\n+  --> $DIR/hygienic-labels.rs:38:9\n    |\n LL |         'x: while 1 + 1 == 2 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -113,7 +113,7 @@ LL |         while_x!(break 'x);\n    |         ------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:37:9\n+  --> $DIR/hygienic-labels.rs:38:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -125,7 +125,7 @@ LL |         while_x!(break 'x);\n    |         ------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:37:9\n+  --> $DIR/hygienic-labels.rs:38:9\n    |\n LL |         'x: while 1 + 1 == 2 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -137,7 +137,7 @@ LL |         while_x!(break 'x);\n    |         ------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:37:9\n+  --> $DIR/hygienic-labels.rs:38:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -149,7 +149,7 @@ LL |         while_x!(break 'x);\n    |         ------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:37:9\n+  --> $DIR/hygienic-labels.rs:38:9\n    |\n LL |         'x: while 1 + 1 == 2 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -161,7 +161,7 @@ LL |         while_x!(break 'x);\n    |         ------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:72:5\n+  --> $DIR/hygienic-labels.rs:73:5\n    |\n LL |     'x: for _ in 0..1 {\n    |     -- first declared here\n@@ -170,7 +170,7 @@ LL |     'x: for _ in 0..1 {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:72:5\n+  --> $DIR/hygienic-labels.rs:73:5\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -179,7 +179,7 @@ LL |     'x: for _ in 0..1 {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:72:5\n+  --> $DIR/hygienic-labels.rs:73:5\n    |\n LL |     'x: loop {\n    |     -- first declared here\n@@ -188,7 +188,7 @@ LL |     'x: for _ in 0..1 {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:72:5\n+  --> $DIR/hygienic-labels.rs:73:5\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -197,7 +197,7 @@ LL |     'x: for _ in 0..1 {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:72:5\n+  --> $DIR/hygienic-labels.rs:73:5\n    |\n LL |     'x: while 1 + 1 == 2 {\n    |     -- first declared here\n@@ -206,7 +206,7 @@ LL |     'x: for _ in 0..1 {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:72:5\n+  --> $DIR/hygienic-labels.rs:73:5\n    |\n LL |         'x: while 1 + 1 == 2 { $e }\n    |         -- first declared here\n@@ -215,7 +215,7 @@ LL |     'x: for _ in 0..1 {\n    |     ^^ lifetime 'x already in scope\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:23:9\n+  --> $DIR/hygienic-labels.rs:24:9\n    |\n LL |         'x: for _ in 0..1 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -227,7 +227,7 @@ LL |         run_once!(continue 'x);\n    |         ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:23:9\n+  --> $DIR/hygienic-labels.rs:24:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -239,7 +239,7 @@ LL |         run_once!(continue 'x);\n    |         ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:23:9\n+  --> $DIR/hygienic-labels.rs:24:9\n    |\n LL |         'x: for _ in 0..1 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -251,7 +251,7 @@ LL |         run_once!(continue 'x);\n    |         ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:23:9\n+  --> $DIR/hygienic-labels.rs:24:9\n    |\n LL |         'x: loop { $e }\n    |         -- first declared here\n@@ -263,7 +263,7 @@ LL |         run_once!(continue 'x);\n    |         ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:23:9\n+  --> $DIR/hygienic-labels.rs:24:9\n    |\n LL |         'x: for _ in 0..1 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -275,7 +275,7 @@ LL |         run_once!(continue 'x);\n    |         ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:23:9\n+  --> $DIR/hygienic-labels.rs:24:9\n    |\n LL |         'x: for _ in 0..1 { $e }\n    |         ^^ lifetime 'x already in scope\n@@ -287,7 +287,7 @@ LL |         run_once!(continue 'x);\n    |         ----------------------- in this macro invocation\n \n warning: label name `'x` shadows a label name that is already in scope\n-  --> $DIR/hygienic-labels.rs:23:9\n+  --> $DIR/hygienic-labels.rs:24:9\n    |\n LL |         'x: for _ in 0..1 { $e }\n    |         ^^ lifetime 'x already in scope"}, {"sha": "ad54107423d6cdc573ec73f69e3dc6b55dfcd8d5", "filename": "src/test/ui/issues/issue-2216.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fissues%2Fissue-2216.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fissues%2Fissue-2216.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-2216.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -5,7 +5,7 @@ pub fn main() {\n \n     'foo: loop {\n         'bar: loop {\n-            'quux: loop {\n+            loop {\n                 if 1 == 2 {\n                     break 'foo;\n                 }"}, {"sha": "2e9da6f9dc88c4cbce392717a3740df743cd43fb", "filename": "src/test/ui/macros/macro-lifetime-used-with-labels.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fmacros%2Fmacro-lifetime-used-with-labels.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56f830e292f3af241b65fc2bc08279a0b6d9856a/src%2Ftest%2Fui%2Fmacros%2Fmacro-lifetime-used-with-labels.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-lifetime-used-with-labels.rs?ref=56f830e292f3af241b65fc2bc08279a0b6d9856a", "patch": "@@ -1,6 +1,6 @@\n // run-pass\n #![allow(stable_features)]\n-\n+#![allow(unused_labels)]\n #![allow(unreachable_code)]\n \n macro_rules! x {"}]}