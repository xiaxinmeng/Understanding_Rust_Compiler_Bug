{"sha": "e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "node_id": "C_kwDOAAsO6NoAKGU0ZTZiMWViYzZlNzViNDRmNTU0M2ViNzI5NjRmMzcxNmIwYjdkMDc", "commit": {"author": {"name": "Jane Losare-Lusby", "email": "jlusby@yaah.dev", "date": "2022-07-07T22:29:38Z"}, "committer": {"name": "Jane Losare-Lusby", "email": "jlusby@yaah.dev", "date": "2022-07-08T21:18:16Z"}, "message": "fixes post rebase", "tree": {"sha": "1690dd4d00919dcb861a943ef776d155410fa7cc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1690dd4d00919dcb861a943ef776d155410fa7cc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "html_url": "https://github.com/rust-lang/rust/commit/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/comments", "author": {"login": "yaahc", "id": 1993852, "node_id": "MDQ6VXNlcjE5OTM4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1993852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaahc", "html_url": "https://github.com/yaahc", "followers_url": "https://api.github.com/users/yaahc/followers", "following_url": "https://api.github.com/users/yaahc/following{/other_user}", "gists_url": "https://api.github.com/users/yaahc/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaahc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaahc/subscriptions", "organizations_url": "https://api.github.com/users/yaahc/orgs", "repos_url": "https://api.github.com/users/yaahc/repos", "events_url": "https://api.github.com/users/yaahc/events{/privacy}", "received_events_url": "https://api.github.com/users/yaahc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "yaahc", "id": 1993852, "node_id": "MDQ6VXNlcjE5OTM4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1993852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaahc", "html_url": "https://github.com/yaahc", "followers_url": "https://api.github.com/users/yaahc/followers", "following_url": "https://api.github.com/users/yaahc/following{/other_user}", "gists_url": "https://api.github.com/users/yaahc/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaahc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaahc/subscriptions", "organizations_url": "https://api.github.com/users/yaahc/orgs", "repos_url": "https://api.github.com/users/yaahc/repos", "events_url": "https://api.github.com/users/yaahc/events{/privacy}", "received_events_url": "https://api.github.com/users/yaahc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "87eafe82e88074fe6e850919a84f44c5e895b71b", "url": "https://api.github.com/repos/rust-lang/rust/commits/87eafe82e88074fe6e850919a84f44c5e895b71b", "html_url": "https://github.com/rust-lang/rust/commit/87eafe82e88074fe6e850919a84f44c5e895b71b"}], "stats": {"total": 28, "additions": 7, "deletions": 21}, "files": [{"sha": "6397d4e236a07b4311ad6c5189e148500be7250b", "filename": "compiler/rustc_attr/src/builtin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/compiler%2Frustc_attr%2Fsrc%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/compiler%2Frustc_attr%2Fsrc%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_attr%2Fsrc%2Fbuiltin.rs?ref=e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "patch": "@@ -465,7 +465,7 @@ where\n             struct_span_err!(\n                 diagnostic,\n                 item_sp,\n-                E0788,\n+                E0789,\n                 \"`rustc_allowed_through_unstable_modules` attribute must be paired with a `stable` attribute\"\n             )\n             .emit();"}, {"sha": "977318b85895e37d90135cc07a70b6406bcda490", "filename": "compiler/rustc_error_codes/src/error_codes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs?ref=e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "patch": "@@ -644,5 +644,5 @@ E0788: include_str!(\"./error_codes/E0788.md\"),\n //  E0721, // `await` keyword\n //  E0723, // unstable feature in `const` context\n //  E0738, // Removed; errored on `#[track_caller] fn`s in `extern \"Rust\" { ... }`.\n-    E0788, // rustc_allowed_through_unstable_modules without stability attribute\n+    E0789, // rustc_allowed_through_unstable_modules without stability attribute\n }"}, {"sha": "91f6cdd0877e18e465108ae39a19bc96e56d6446", "filename": "compiler/rustc_middle/src/middle/stability.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/compiler%2Frustc_middle%2Fsrc%2Fmiddle%2Fstability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/compiler%2Frustc_middle%2Fsrc%2Fmiddle%2Fstability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fmiddle%2Fstability.rs?ref=e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "patch": "@@ -492,6 +492,8 @@ impl<'tcx> TyCtxt<'tcx> {\n     /// If so, and `id` is not `None`, a deprecated lint attached to `id` will be emitted.\n     ///\n     /// Pass `AllowUnstable::Yes` to `allow_unstable` to force an unstable item to be allowed. Deprecation warnings will be emitted normally.\n+    ///\n+    /// Returns `true` if item is allowed aka, stable or unstable under an enabled feature.\n     pub fn check_stability_allow_unstable(\n         self,\n         def_id: DefId,"}, {"sha": "ef7c3fc0966faac1742c898b53ba752241d8aa40", "filename": "compiler/rustc_passes/src/stability.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/compiler%2Frustc_passes%2Fsrc%2Fstability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/compiler%2Frustc_passes%2Fsrc%2Fstability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Fstability.rs?ref=e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "patch": "@@ -858,7 +858,7 @@ impl<'tcx> Visitor<'tcx> for Checker<'tcx> {\n                             } else {\n                                 AllowUnstable::No\n                             },\n-                        )\n+                        );\n                     }\n                 }\n             }"}, {"sha": "072b9387119ae3ff1eb842e1dbabac2143382900", "filename": "src/test/ui-fulldeps/rustc-encodable-stability.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/src%2Ftest%2Fui-fulldeps%2Frustc-encodable-stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/src%2Ftest%2Fui-fulldeps%2Frustc-encodable-stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Frustc-encodable-stability.rs?ref=e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "previous_filename": "src/test/ui-fulldeps/stability-attribute/rustc-encodable-stability.rs"}, {"sha": "7f942309e049b4c947eccb2ccb0345bfd6b645ca", "filename": "src/test/ui/stability-attribute/allow-through-unstable-misuse.rs", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/87eafe82e88074fe6e850919a84f44c5e895b71b/src%2Ftest%2Fui%2Fstability-attribute%2Fallow-through-unstable-misuse.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87eafe82e88074fe6e850919a84f44c5e895b71b/src%2Ftest%2Fui%2Fstability-attribute%2Fallow-through-unstable-misuse.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fallow-through-unstable-misuse.rs?ref=87eafe82e88074fe6e850919a84f44c5e895b71b", "patch": "@@ -1,8 +0,0 @@\n-#![crate_type = \"lib\"]\n-#![feature(staged_api)]\n-#![feature(rustc_attrs)]\n-#![stable(feature = \"foo\", since = \"1.0.0\")]\n-\n-#[unstable(feature = \"bar\", issue = \"none\")]\n-#[rustc_allowed_through_unstable_modules]\n-pub struct UnstableType(());"}, {"sha": "132c00b89b2296c5701dc74eff2d9153c7f2995e", "filename": "src/test/ui/stability-attribute/allowed-through-unstable.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/src%2Ftest%2Fui%2Fstability-attribute%2Fallowed-through-unstable.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/src%2Ftest%2Fui%2Fstability-attribute%2Fallowed-through-unstable.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fallowed-through-unstable.stderr?ref=e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "patch": "@@ -1,5 +1,5 @@\n error[E0658]: use of unstable library feature 'unstable_test_feature'\n-  --> $DIR/allowed-through-unstable.rs:10:5\n+  --> $DIR/allowed-through-unstable.rs:9:5\n    |\n LL | use allowed_through_unstable_core::unstable_module::NewStableTraitNotAllowedThroughUnstable;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"}, {"sha": "18eff27d9a53cd9a7a8dcc7615511a9746925fff", "filename": "src/test/ui/stability-attribute/rustc-encodable-stability.rs", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/87eafe82e88074fe6e850919a84f44c5e895b71b/src%2Ftest%2Fui%2Fstability-attribute%2Frustc-encodable-stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87eafe82e88074fe6e850919a84f44c5e895b71b/src%2Ftest%2Fui%2Fstability-attribute%2Frustc-encodable-stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Frustc-encodable-stability.rs?ref=87eafe82e88074fe6e850919a84f44c5e895b71b", "patch": "@@ -1,8 +0,0 @@\n-// edition:2018\n-#![allow(deprecated)]\n-extern crate rustc_serialize;\n-\n-#[derive(RustcDecodable, RustcEncodable)]\n-struct ArbitraryTestType(());\n-\n-fn main() {}"}, {"sha": "4ffa1fa8b28d3077bac6eba4ed052adc4ba7c442", "filename": "src/tools/tidy/src/error_codes_check.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes_check.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes_check.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes_check.rs?ref=e4e6b1ebc6e75b44f5543eb72964f3716b0b7d07", "patch": "@@ -11,7 +11,7 @@ use regex::Regex;\n // A few of those error codes can't be tested but all the others can and *should* be tested!\n const EXEMPTED_FROM_TEST: &[&str] = &[\n     \"E0279\", \"E0313\", \"E0377\", \"E0461\", \"E0462\", \"E0465\", \"E0476\", \"E0490\", \"E0514\", \"E0519\",\n-    \"E0523\", \"E0554\", \"E0640\", \"E0717\", \"E0729\",\n+    \"E0523\", \"E0554\", \"E0640\", \"E0717\", \"E0729\", \"E0789\",\n ];\n \n // Some error codes don't have any tests apparently..."}]}