{"sha": "9bc6d2609233cece91803a8163dc3ba5579dfde8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjliYzZkMjYwOTIzM2NlY2U5MTgwM2E4MTYzZGMzYmE1NTc5ZGZkZTg=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2016-10-05T22:36:36Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2016-10-11T19:40:22Z"}, "message": "Stabilise `?`\n\ncc [`?` tracking issue](https://github.com/rust-lang/rust/issues/31436)", "tree": {"sha": "c02ea412e8c99997b845f8babd2f9e828ed26277", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c02ea412e8c99997b845f8babd2f9e828ed26277"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9bc6d2609233cece91803a8163dc3ba5579dfde8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9bc6d2609233cece91803a8163dc3ba5579dfde8", "html_url": "https://github.com/rust-lang/rust/commit/9bc6d2609233cece91803a8163dc3ba5579dfde8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9bc6d2609233cece91803a8163dc3ba5579dfde8/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9d4d0da7af77858f268a66ff144134945c880560", "url": "https://api.github.com/repos/rust-lang/rust/commits/9d4d0da7af77858f268a66ff144134945c880560", "html_url": "https://github.com/rust-lang/rust/commit/9d4d0da7af77858f268a66ff144134945c880560"}], "stats": {"total": 119, "additions": 29, "deletions": 90}, "files": [{"sha": "28101d21fc25ecd691ae7eae8e91f43b270f652d", "filename": "src/libcore/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibcore%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibcore%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -89,7 +89,7 @@\n #![feature(specialization)]\n #![feature(staged_api)]\n #![feature(unboxed_closures)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![feature(never_type)]\n #![feature(prelude_import)]\n "}, {"sha": "a0768089d5264bd392f9084928eb542222b08bc9", "filename": "src/libcore/macros.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibcore%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibcore%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fmacros.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -255,6 +255,9 @@ macro_rules! debug_assert_ne {\n /// Helper macro for reducing boilerplate code for matching `Result` together\n /// with converting downstream errors.\n ///\n+/// Prefer using `?` syntax to `try!`. `?` is built in to the language and is\n+/// more succinct than `try!`, it is the standard method for error propogation.\n+///\n /// `try!` matches the given `Result`. In case of the `Ok` variant, the\n /// expression has the value of the wrapped value.\n ///"}, {"sha": "95c46ec5715e742740963b414c75195050a4ba6c", "filename": "src/libgraphviz/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibgraphviz%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibgraphviz%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibgraphviz%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -295,7 +295,7 @@\n #![cfg_attr(not(stage0), deny(warnings))]\n \n #![feature(str_escape)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n \n use self::LabelText::*;\n "}, {"sha": "5a17b4a733a22d445fdd63326f826fcd8a584328", "filename": "src/liblibc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliblibc?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -1 +1 @@\n-Subproject commit b474785561d58efbd27add9d22339dcabad742ad\n+Subproject commit 5a17b4a733a22d445fdd63326f826fcd8a584328"}, {"sha": "12a1a4255246a43ad64fdd77b39d5180cac56aab", "filename": "src/librustc/diagnostics.rs", "status": "modified", "additions": 0, "deletions": 24, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdiagnostics.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -1327,30 +1327,6 @@ let x: i32 = \"I am not a number!\";\n //      |\n //    type `i32` assigned to variable `x`\n ```\n-\n-Another situation in which this occurs is when you attempt to use the `try!`\n-macro inside a function that does not return a `Result<T, E>`:\n-\n-```compile_fail,E0308\n-use std::fs::File;\n-\n-fn main() {\n-    let mut f = try!(File::create(\"foo.txt\"));\n-}\n-```\n-\n-This code gives an error like this:\n-\n-```text\n-<std macros>:5:8: 6:42 error: mismatched types:\n- expected `()`,\n-     found `core::result::Result<_, _>`\n- (expected (),\n-     found enum `core::result::Result`) [E0308]\n-```\n-\n-`try!` returns a `Result<T, E>`, and so the function must. But `main()` has\n-`()` as its return type, hence the error.\n \"##,\n \n E0309: r##\""}, {"sha": "25731df47785392ce6b91a28f278bf683ce2810a", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -40,7 +40,7 @@\n #![feature(rustc_private)]\n #![feature(slice_patterns)]\n #![feature(staged_api)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![cfg_attr(test, feature(test))]\n \n extern crate arena;"}, {"sha": "e6d1982d31c2d3370adaac3ceafe3e2ccfc6111c", "filename": "src/librustc_back/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_back%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_back%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -37,7 +37,7 @@\n #![feature(rustc_private)]\n #![feature(staged_api)]\n #![feature(step_by)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![cfg_attr(test, feature(test, rand))]\n \n extern crate syntax;"}, {"sha": "d3ab9c931850439f9e6f794db277a439658fed8c", "filename": "src/librustc_borrowck/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_borrowck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_borrowck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -26,7 +26,7 @@\n #![feature(staged_api)]\n #![feature(associated_consts)]\n #![feature(nonzero)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #[macro_use] extern crate log;\n #[macro_use] extern crate syntax;\n extern crate syntax_pos;"}, {"sha": "7b40269ba56ad271ac459e55c88c1d111fbdd762", "filename": "src/librustc_const_eval/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_const_eval%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_const_eval%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_const_eval%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -27,7 +27,7 @@\n #![feature(staged_api)]\n #![feature(rustc_diagnostic_macros)]\n #![feature(slice_patterns)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![feature(box_patterns)]\n #![feature(box_syntax)]\n "}, {"sha": "31fccb41ce573840ec8bcbbed5c5534e0ca07504", "filename": "src/librustc_const_math/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_const_math%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_const_math%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_const_math%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -25,7 +25,7 @@\n \n #![feature(rustc_private)]\n #![feature(staged_api)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n \n #[macro_use] extern crate log;\n #[macro_use] extern crate syntax;"}, {"sha": "0e59ea6560fee85f0e0a4448e7ea95df7b802b10", "filename": "src/librustc_driver/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_driver%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_driver%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -31,7 +31,7 @@\n #![feature(rustc_private)]\n #![feature(set_stdio)]\n #![feature(staged_api)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n \n extern crate arena;\n extern crate flate;"}, {"sha": "af8ac81b4fbb1d916f979e7fdee76bf4bdb68c2f", "filename": "src/librustc_errors/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_errors%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_errors%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -21,7 +21,7 @@\n #![allow(unused_attributes)]\n #![feature(rustc_private)]\n #![feature(staged_api)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![feature(range_contains)]\n #![feature(libc)]\n #![feature(unicode)]"}, {"sha": "67104e912f90ecc9a0a7ecfa9739b5eb1c584976", "filename": "src/librustc_incremental/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_incremental%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_incremental%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_incremental%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -20,7 +20,7 @@\n #![cfg_attr(not(stage0), deny(warnings))]\n \n #![feature(dotdot_in_tuple_patterns)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![feature(rustc_private)]\n #![feature(staged_api)]\n #![feature(rand)]"}, {"sha": "3d8a10f6c31fcc2a24febf28c3e6878844da6f7c", "filename": "src/librustc_metadata/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_metadata%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_metadata%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -23,7 +23,7 @@\n #![feature(dotdot_in_tuple_patterns)]\n #![feature(proc_macro_internals)]\n #![feature(proc_macro_lib)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![feature(quote)]\n #![feature(rustc_diagnostic_macros)]\n #![feature(rustc_private)]"}, {"sha": "02f15602d708b3472a39f42aa391282213a7f8c8", "filename": "src/librustc_mir/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_mir%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_mir%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -26,7 +26,7 @@ Rust MIR: a lowered representation of Rust. Also: an experiment!\n #![feature(rustc_diagnostic_macros)]\n #![feature(rustc_private)]\n #![feature(staged_api)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n \n #[macro_use] extern crate log;\n extern crate graphviz as dot;"}, {"sha": "81c0c184f66b2e76441d1c79ae9443060cbbe449", "filename": "src/librustc_trans/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_trans%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_trans%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -36,7 +36,7 @@\n #![feature(slice_patterns)]\n #![feature(staged_api)]\n #![feature(unicode)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n \n use rustc::dep_graph::WorkProduct;\n "}, {"sha": "cb9b162cabe11911e3180c4acee2ad39c4ad0034", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -82,7 +82,7 @@ This API is completely unstable and subject to change.\n #![feature(rustc_diagnostic_macros)]\n #![feature(rustc_private)]\n #![feature(staged_api)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n \n #[macro_use] extern crate log;\n #[macro_use] extern crate syntax;"}, {"sha": "0be36eb3a85088d7dd7125e95e88fa21468cfd0e", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -28,7 +28,7 @@\n #![feature(staged_api)]\n #![feature(test)]\n #![feature(unicode)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n \n extern crate arena;\n extern crate getopts;"}, {"sha": "884f24ddc4c75a8b739c83096d9322bc30998007", "filename": "src/libserialize/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibserialize%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibserialize%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibserialize%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -35,7 +35,7 @@ Core encoding and decoding interfaces.\n #![feature(specialization)]\n #![feature(staged_api)]\n #![feature(unicode)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![cfg_attr(test, feature(test))]\n \n // test harness access"}, {"sha": "5a2eb1c1dc4bd31886de0d7f2eeca4045607ea91", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -255,7 +255,7 @@\n #![feature(panic_unwind)]\n #![feature(placement_in_syntax)]\n #![feature(prelude_import)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![feature(rand)]\n #![feature(raw)]\n #![feature(reflect_marker)]"}, {"sha": "62b88888fc878849f041d6051c7f9b9b88a43e80", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -253,9 +253,6 @@ declare_features! (\n     // a...b and ...b\n     (active, inclusive_range_syntax, \"1.7.0\", Some(28237)),\n \n-    // `expr?`\n-    (active, question_mark, \"1.9.0\", Some(31436)),\n-\n     // impl specialization (RFC 1210)\n     (active, specialization, \"1.7.0\", Some(31844)),\n \n@@ -348,6 +345,8 @@ declare_features! (\n     (accepted, while_let, \"1.0.0\", None),\n     // Allows `#[deprecated]` attribute\n     (accepted, deprecated, \"1.9.0\", Some(29935)),\n+    // `expr?`\n+    (accepted, question_mark, \"1.14.0\", Some(31436)),\n );\n // (changing above list without updating src/doc/reference.md makes @cmr sad)\n \n@@ -1072,9 +1071,6 @@ impl<'a> Visitor for PostExpansionVisitor<'a> {\n                                   e.span,\n                                   \"inclusive range syntax is experimental\");\n             }\n-            ast::ExprKind::Try(..) => {\n-                gate_feature_post!(&self, question_mark, e.span, \"the `?` operator is not stable\");\n-            }\n             ast::ExprKind::InPlace(..) => {\n                 gate_feature_post!(&self, placement_in_syntax, e.span, EXPLAIN_PLACEMENT_IN);\n             }"}, {"sha": "6e671c9efdcf87b2a5e3abfa0ebd64b9c0f164f5", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -31,7 +31,7 @@\n #![feature(staged_api)]\n #![feature(str_escape)]\n #![feature(unicode)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![feature(rustc_diagnostic_macros)]\n #![feature(specialization)]\n "}, {"sha": "e3feaee5369d1c92474bcaebce3387bbcbcca8a0", "filename": "src/libsyntax_pos/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibsyntax_pos%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibsyntax_pos%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -27,7 +27,7 @@\n #![allow(unused_attributes)]\n #![feature(rustc_private)]\n #![feature(staged_api)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![feature(specialization)]\n \n use std::cell::{Cell, RefCell};"}, {"sha": "caef808f474ec9553fb436adaa39d402aa57a9ee", "filename": "src/libterm/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibterm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibterm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibterm%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -59,7 +59,7 @@\n #![cfg_attr(windows, feature(libc))]\n // Handle rustfmt skips\n #![feature(custom_attribute)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![allow(unused_attributes)]\n \n use std::io::prelude::*;"}, {"sha": "625666e641c6bed6ece2bda4dd1d3f3983a06f6d", "filename": "src/libtest/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibtest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Flibtest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Flib.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -38,7 +38,7 @@\n #![feature(rustc_private)]\n #![feature(set_stdio)]\n #![feature(staged_api)]\n-#![feature(question_mark)]\n+#![cfg_attr(stage0, feature(question_mark))]\n #![feature(panic_unwind)]\n \n extern crate getopts;"}, {"sha": "b05c7323962c576d66d46335463b346ebd3a7532", "filename": "src/test/compile-fail/feature-gate-try-operator.rs", "status": "removed", "additions": 0, "deletions": 18, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/9d4d0da7af77858f268a66ff144134945c880560/src%2Ftest%2Fcompile-fail%2Ffeature-gate-try-operator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d4d0da7af77858f268a66ff144134945c880560/src%2Ftest%2Fcompile-fail%2Ffeature-gate-try-operator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-try-operator.rs?ref=9d4d0da7af77858f268a66ff144134945c880560", "patch": "@@ -1,18 +0,0 @@\n-// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-macro_rules! id {\n-    ($e:expr) => { $e }\n-}\n-\n-fn main() {\n-    id!(x?);  //~ error: the `?` operator is not stable (see issue #31436)\n-    y?;  //~ error: the `?` operator is not stable (see issue #31436)\n-}"}, {"sha": "09538818dcdf9ccf85fc692de32f51bc9e3f43aa", "filename": "src/test/compile-fail/issue-32709.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Fcompile-fail%2Fissue-32709.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Fcompile-fail%2Fissue-32709.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-32709.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -8,12 +8,10 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(question_mark)]\n-\n // Make sure that the span of try shorthand does not include the trailing\n // semicolon;\n fn a() -> Result<i32, ()> {\n-    Err(5)?; //~ ERROR 16:5: 16:12\n+    Err(5)?; //~ ERROR 14:5: 14:12\n     Ok(1)\n }\n "}, {"sha": "0ebe1ca07c77180259d1b97e61ae3a154a256520", "filename": "src/test/run-pass/ifmt.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Fifmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Fifmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fifmt.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -14,7 +14,6 @@\n #![allow(unused_must_use)]\n #![allow(unused_features)]\n #![feature(box_syntax)]\n-#![feature(question_mark)]\n \n use std::fmt::{self, Write};\n use std::usize;"}, {"sha": "e9326ed286aff9c49f880c069f1ea6362e1c1932", "filename": "src/test/run-pass/impl-trait/example-st.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Fimpl-trait%2Fexample-st.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Fimpl-trait%2Fexample-st.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fimpl-trait%2Fexample-st.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(conservative_impl_trait, question_mark)]\n+#![feature(conservative_impl_trait)]\n \n struct State;\n type Error = ();"}, {"sha": "dcbcc2d44b5dd803464e625f0642bd376b10a9d4", "filename": "src/test/run-pass/issue-17121.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Fissue-17121.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Fissue-17121.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-17121.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -10,8 +10,6 @@\n \n // pretty-expanded FIXME #23616\n \n-#![feature(question_mark)]\n-\n use std::fs::File;\n use std::io::{self, BufReader, Read};\n "}, {"sha": "e45582dc2d39a09b11e6c95e4ea11ef5b3368d36", "filename": "src/test/run-pass/issue-20797.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Fissue-20797.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Fissue-20797.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-20797.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -10,8 +10,6 @@\n \n // Regression test for #20797.\n \n-#![feature(question_mark)]\n-\n use std::default::Default;\n use std::io;\n use std::fs;"}, {"sha": "6715b71a5f506eb162792c22a5714e1d4e945ec7", "filename": "src/test/run-pass/issue-21400.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Fissue-21400.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Fissue-21400.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-21400.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -11,8 +11,6 @@\n // Regression test for #21400 which itself was extracted from\n // stackoverflow.com/questions/28031155/is-my-borrow-checker-drunk/28031580\n \n-#![feature(question_mark)]\n-\n fn main() {\n     let mut t = Test;\n     assert_eq!(t.method1(\"one\"), Ok(1));"}, {"sha": "53d6185020a0235ffb5f16b691780e4d66548f20", "filename": "src/test/run-pass/try-operator-hygiene.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Ftry-operator-hygiene.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Ftry-operator-hygiene.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftry-operator-hygiene.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -18,8 +18,6 @@\n // This test verifies that the expansion is hygienic, i.e. it's not affected by other `val` and\n // `err` bindings that may be in scope.\n \n-#![feature(question_mark)]\n-\n use std::num::ParseIntError;\n \n fn main() {"}, {"sha": "29de6364bf14760b6059cc58b143c8c812116919", "filename": "src/test/run-pass/try-operator.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Ftry-operator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftest%2Frun-pass%2Ftry-operator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftry-operator.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(question_mark)]\n-\n use std::fs::File;\n use std::io::{Read, self};\n use std::num::ParseIntError;"}, {"sha": "81478c18d7b24ddac0b102c2b4d28a016299dd5e", "filename": "src/tools/compiletest/src/main.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftools%2Fcompiletest%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftools%2Fcompiletest%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fmain.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -13,7 +13,6 @@\n #![feature(box_syntax)]\n #![feature(rustc_private)]\n #![feature(test)]\n-#![feature(question_mark)]\n #![feature(libc)]\n \n #![deny(warnings)]"}, {"sha": "7bdf1343aa9ccc70a2687c460d1bc081031a0db7", "filename": "src/tools/error_index_generator/main.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftools%2Ferror_index_generator%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftools%2Ferror_index_generator%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ferror_index_generator%2Fmain.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n #![feature(rustc_private, rustdoc)]\n-#![feature(question_mark)]\n \n extern crate syntax;\n extern crate rustdoc;"}, {"sha": "f79cc76e67d0045509a8a1520343f12c9288b6d6", "filename": "src/tools/linkchecker/main.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftools%2Flinkchecker%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftools%2Flinkchecker%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Flinkchecker%2Fmain.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -24,8 +24,6 @@\n //! A few whitelisted exceptions are allowed as there's known bugs in rustdoc,\n //! but this should catch the majority of \"broken link\" cases.\n \n-#![feature(question_mark)]\n-\n extern crate url;\n \n use std::env;"}, {"sha": "906251db1c2f216a4643a5cbd6f15c3b746f2a0d", "filename": "src/tools/rustbook/main.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftools%2Frustbook%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bc6d2609233cece91803a8163dc3ba5579dfde8/src%2Ftools%2Frustbook%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frustbook%2Fmain.rs?ref=9bc6d2609233cece91803a8163dc3ba5579dfde8", "patch": "@@ -12,7 +12,6 @@\n \n #![feature(rustc_private)]\n #![feature(rustdoc)]\n-#![feature(question_mark)]\n \n extern crate rustdoc;\n extern crate rustc_back;"}]}