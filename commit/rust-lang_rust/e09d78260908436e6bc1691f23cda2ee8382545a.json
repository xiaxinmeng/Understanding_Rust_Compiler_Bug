{"sha": "e09d78260908436e6bc1691f23cda2ee8382545a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUwOWQ3ODI2MDkwODQzNmU2YmMxNjkxZjIzY2RhMmVlODM4MjU0NWE=", "commit": {"author": {"name": "Chris Midgley", "email": "chris.midgley@dunecomputers.co.uk", "date": "2021-07-21T09:29:20Z"}, "committer": {"name": "Chris Midgley", "email": "chris.midgley@dunecomputers.co.uk", "date": "2021-07-21T09:29:20Z"}, "message": "add working code example", "tree": {"sha": "59e12fd63347de34d472f23ba963d8c4a75af87c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/59e12fd63347de34d472f23ba963d8c4a75af87c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e09d78260908436e6bc1691f23cda2ee8382545a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e09d78260908436e6bc1691f23cda2ee8382545a", "html_url": "https://github.com/rust-lang/rust/commit/e09d78260908436e6bc1691f23cda2ee8382545a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e09d78260908436e6bc1691f23cda2ee8382545a/comments", "author": {"login": "midgleyc", "id": 25565697, "node_id": "MDQ6VXNlcjI1NTY1Njk3", "avatar_url": "https://avatars.githubusercontent.com/u/25565697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midgleyc", "html_url": "https://github.com/midgleyc", "followers_url": "https://api.github.com/users/midgleyc/followers", "following_url": "https://api.github.com/users/midgleyc/following{/other_user}", "gists_url": "https://api.github.com/users/midgleyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/midgleyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midgleyc/subscriptions", "organizations_url": "https://api.github.com/users/midgleyc/orgs", "repos_url": "https://api.github.com/users/midgleyc/repos", "events_url": "https://api.github.com/users/midgleyc/events{/privacy}", "received_events_url": "https://api.github.com/users/midgleyc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "midgleyc", "id": 25565697, "node_id": "MDQ6VXNlcjI1NTY1Njk3", "avatar_url": "https://avatars.githubusercontent.com/u/25565697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/midgleyc", "html_url": "https://github.com/midgleyc", "followers_url": "https://api.github.com/users/midgleyc/followers", "following_url": "https://api.github.com/users/midgleyc/following{/other_user}", "gists_url": "https://api.github.com/users/midgleyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/midgleyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/midgleyc/subscriptions", "organizations_url": "https://api.github.com/users/midgleyc/orgs", "repos_url": "https://api.github.com/users/midgleyc/repos", "events_url": "https://api.github.com/users/midgleyc/events{/privacy}", "received_events_url": "https://api.github.com/users/midgleyc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "320d049e876579cd5c57be17e791a519f9b852a0", "url": "https://api.github.com/repos/rust-lang/rust/commits/320d049e876579cd5c57be17e791a519f9b852a0", "html_url": "https://github.com/rust-lang/rust/commit/320d049e876579cd5c57be17e791a519f9b852a0"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "1513c4ce0594da5b0b7beb9be62efd1515f7c917", "filename": "compiler/rustc_error_codes/src/error_codes/E0722.md", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/e09d78260908436e6bc1691f23cda2ee8382545a/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0722.md", "raw_url": "https://github.com/rust-lang/rust/raw/e09d78260908436e6bc1691f23cda2ee8382545a/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0722.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0722.md?ref=e09d78260908436e6bc1691f23cda2ee8382545a", "patch": "@@ -19,6 +19,16 @@ The `#[optimize]` attribute should be used as follows:\n - `#[optimize(speed)]` -- instructs the optimization pipeline to generate code\n   that's faster rather than smaller\n \n+For example:\n+```\n+#![feature(optimize_attribute)]\n+\n+#[optimize(size)]\n+pub fn something() {}\n+\n+fn main() {}\n+```\n+\n See [RFC 2412] for more details.\n \n [RFC 2412]: https://rust-lang.github.io/rfcs/2412-optimize-attr.html"}]}