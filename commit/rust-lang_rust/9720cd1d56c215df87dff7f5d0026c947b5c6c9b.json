{"sha": "9720cd1d56c215df87dff7f5d0026c947b5c6c9b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk3MjBjZDFkNTZjMjE1ZGY4N2RmZjdmNWQwMDI2Yzk0N2I1YzZjOWI=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2021-03-01T06:07:32Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-03-01T06:07:32Z"}, "message": "Rollup merge of #82403 - pnkfelix:rustbuild-emit-env-vars-on-verbose-verbose, r=Mark-Simulacrum\n\nrustbuild: print out env vars on verbose rustc invocations\n\nPrint out environment variables related to Rust on sufficiently verbose rustc invocations.\n\nOutput is filtered via heuristic of only printing environment variables whose keys start with \"RUST\" or \"CARGO.\" This filtering is mostly motivated by my not caring to see e.g. \"PATH\" in my own output, though it is also motivated as a way to try to avoid printing out personal secrets like github keys that people might have stored in their environments for better or for worse, especially since build output is often pasted into bug reports or gists.\n\nFix #38686.\n\n<details>\n\n<summary>Click here to see sample output</summary>\n\nSample output looks like:\n\n```\n...\n      Fresh core v0.0.0 (/home/pnkfelix/Dev/Rust/rust.git/library/core)\nrustc env[0]: \"CARGO\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/bin/cargo\"\nrustc env[1]: \"CARGO_CRATE_NAME\"=\"core\"\nrustc env[2]: \"CARGO_INCREMENTAL\"=\"0\"\nrustc env[3]: \"CARGO_MAKEFLAGS\"=\"--jobserver-fds=5,6 -j --jobserver-auth=5,6 -j\"\nrustc env[4]: \"CARGO_MANIFEST_DIR\"=\"/home/pnkfelix/Dev/Rust/rust.git/library/core\"\nrustc env[5]: \"CARGO_PKG_AUTHORS\"=\"The Rust Project Developers\"\nrustc env[6]: \"CARGO_PKG_DESCRIPTION\"=\"\"\nrustc env[7]: \"CARGO_PKG_HOMEPAGE\"=\"\"\nrustc env[8]: \"CARGO_PKG_LICENSE\"=\"\"\nrustc env[9]: \"CARGO_PKG_LICENSE_FILE\"=\"\"\nrustc env[10]: \"CARGO_PKG_NAME\"=\"core\"\nrustc env[11]: \"CARGO_PKG_REPOSITORY\"=\"\"\nrustc env[12]: \"CARGO_PKG_VERSION\"=\"0.0.0\"\nrustc env[13]: \"CARGO_PKG_VERSION_MAJOR\"=\"0\"\nrustc env[14]: \"CARGO_PKG_VERSION_MINOR\"=\"0\"\nrustc env[15]: \"CARGO_PKG_VERSION_PATCH\"=\"0\"\nrustc env[16]: \"CARGO_PKG_VERSION_PRE\"=\"\"\nrustc env[17]: \"CARGO_PROFILE_RELEASE_CODEGEN_UNITS\"=\"256\"\nrustc env[18]: \"CARGO_PROFILE_RELEASE_DEBUG\"=\"0\"\nrustc env[19]: \"CARGO_PROFILE_RELEASE_DEBUG_ASSERTIONS\"=\"false\"\nrustc env[20]: \"CARGO_TARGET_DIR\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0-std\"\nrustc env[21]: \"RUSTBUILD_NATIVE_DIR\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/native\"\nrustc env[22]: \"RUSTC\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/bootstrap/debug/rustc\"\nrustc env[23]: \"RUSTC_BOOTSTRAP\"=\"1\"\nrustc env[24]: \"RUSTC_BREAK_ON_ICE\"=\"1\"\nrustc env[25]: \"RUSTC_ERROR_METADATA_DST\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/tmp/extended-error-metadata\"\nrustc env[26]: \"RUSTC_FORCE_UNSTABLE\"=\"1\"\nrustc env[27]: \"RUSTC_INSTALL_BINDIR\"=\"bin\"\nrustc env[28]: \"RUSTC_LIBDIR\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/lib\"\nrustc env[29]: \"RUSTC_LINT_FLAGS\"=\"-Wrust_2018_idioms -Wunused_lifetimes -Dwarnings\"\nrustc env[30]: \"RUSTC_PRINT_STEP_TIMINGS\"=\"1\"\nrustc env[31]: \"RUSTC_REAL\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/bin/rustc\"\nrustc env[32]: \"RUSTC_SNAPSHOT\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/bin/rustc\"\nrustc env[33]: \"RUSTC_SNAPSHOT_LIBDIR\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/lib\"\nrustc env[34]: \"RUSTC_STAGE\"=\"0\"\nrustc env[35]: \"RUSTC_SYSROOT\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0-sysroot\"\nrustc env[36]: \"RUSTC_VERBOSE\"=\"2\"\nrustc env[37]: \"RUSTDOC\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/bootstrap/debug/rustdoc\"\nrustc env[38]: \"RUSTDOCFLAGS\"=\"--cfg=bootstrap -Dwarnings -Winvalid_codeblock_attributes --crate-version 1.52.0-dev\"\nrustc env[39]: \"RUSTDOC_REAL\"=\"/path/to/nowhere/rustdoc/not/required\"\nrustc env[40]: \"RUSTFLAGS\"=\"--cfg=bootstrap -Zmacro-backtrace -Clink-args=-Wl,-rpath,$ORIGIN/../lib -Cprefer-dynamic\"\nrustc env[41]: \"RUST_COMPILER_RT_ROOT\"=\"/home/pnkfelix/Dev/Rust/rust.git/src/llvm-project/compiler-rt\"\nrustc env[42]: \"RUST_TEST_THREADS\"=\"128\"\nrustc working directory: /home/pnkfelix/Dev/Rust/rust.git\nrustc command: \"LD_LIBRARY_PATH\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/lib:/home/pnkfelix/Dev/Rust/rust.git/objdi\\\nr-default/build/x86_64-unknown-linux-gnu/stage0-std/release/deps:/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/lib\" \"/home\\\n/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/bin/rustc\" \"--crate-name\" \"core\" \"--edition=2018\" \"library/core/src/lib.rs\" \"--er\\\nror-format=json\" \"--json=diagnostic-rendered-ansi,artifacts\" \"--crate-type\" \"lib\" \"--emit=dep-info,metadata,link\" \"-C\" \"opt-level=3\" \"-C\" \"embed-bitcode=no\" \"-C\" \\\n\"codegen-units=256\" \"-C\" \"debuginfo=0\" \"-C\" \"metadata=6748933694d8be19\" \"-C\" \"extra-filename=-6748933694d8be19\" \"--out-dir\" \"/home/pnkfelix/Dev/Rust/rust.git/objd\\\nir-default/build/x86_64-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps\" \"--target\" \"x86_64-unknown-linux-gnu\" \"-L\" \"dependency=/home/pnkfelix/\\\nDev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps\" \"-L\" \"dependency=/home/pnkfelix/Dev/Rust/rust.gi\\\nt/objdir-default/build/x86_64-unknown-linux-gnu/stage0-std/release/deps\" \"--cfg=bootstrap\" \"-Zmacro-backtrace\" \"-Clink-args=-Wl,-rpath,$ORIGIN/../lib\" \"-Cprefer-d\\\nynamic\" \"-Z\" \"binary-dep-depinfo\" \"-Wrust_2018_idioms\" \"-Wunused_lifetimes\" \"-Dwarnings\" \"--sysroot\" \"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64\\\n-unknown-linux-gnu/stage0-sysroot\" \"-Z\" \"force-unstable-if-unmarked\"\n...\n```", "tree": {"sha": "f7d8dda1212ddff3d634529178e0dcd2c6597c8d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f7d8dda1212ddff3d634529178e0dcd2c6597c8d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9720cd1d56c215df87dff7f5d0026c947b5c6c9b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgPISkCRBK7hj4Ov3rIwAAdHIIAG8jdD6KrIN0ztUL7VhYHfur\nIg8dVbs2vKZr38kPpXKgQkIwEALrNG2TlrANuaRnNXLL0Tan2XnAGNDbAB4mD7Rc\niW2ef31pKnDxipT+ZhHwAsCBVAhwz+LtTsaqanHP+pC9h3kdPGmDq88xlfOTEu8p\noFWGD750n8z+vyYm6fNzLyjFtv2aKJkF/4C+GeSvXYAwoDv7U0LbRA+Xrlb1dT5a\nXUqtsEmByCDnG/VnIaZlnUancScmpsrEjNYNDXNUsw2BTok2lh+z+/sZEsJzc48O\nDmEwOdKCO3jRq5vFU+7dImydypB/OeazdwZnQFF92Ol5FMlU/Bm8lS+3JfPUez4=\n=7iFO\n-----END PGP SIGNATURE-----\n", "payload": "tree f7d8dda1212ddff3d634529178e0dcd2c6597c8d\nparent 3de9b418508fa7276d080ea1fc8062ce4462d017\nparent 9fafffd50b50f0c9132dc1098382992b8457cdbb\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1614578852 +0900\ncommitter GitHub <noreply@github.com> 1614578852 +0900\n\nRollup merge of #82403 - pnkfelix:rustbuild-emit-env-vars-on-verbose-verbose, r=Mark-Simulacrum\n\nrustbuild: print out env vars on verbose rustc invocations\n\nPrint out environment variables related to Rust on sufficiently verbose rustc invocations.\n\nOutput is filtered via heuristic of only printing environment variables whose keys start with \"RUST\" or \"CARGO.\" This filtering is mostly motivated by my not caring to see e.g. \"PATH\" in my own output, though it is also motivated as a way to try to avoid printing out personal secrets like github keys that people might have stored in their environments for better or for worse, especially since build output is often pasted into bug reports or gists.\n\nFix #38686.\n\n<details>\n\n<summary>Click here to see sample output</summary>\n\nSample output looks like:\n\n```\n...\n      Fresh core v0.0.0 (/home/pnkfelix/Dev/Rust/rust.git/library/core)\nrustc env[0]: \"CARGO\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/bin/cargo\"\nrustc env[1]: \"CARGO_CRATE_NAME\"=\"core\"\nrustc env[2]: \"CARGO_INCREMENTAL\"=\"0\"\nrustc env[3]: \"CARGO_MAKEFLAGS\"=\"--jobserver-fds=5,6 -j --jobserver-auth=5,6 -j\"\nrustc env[4]: \"CARGO_MANIFEST_DIR\"=\"/home/pnkfelix/Dev/Rust/rust.git/library/core\"\nrustc env[5]: \"CARGO_PKG_AUTHORS\"=\"The Rust Project Developers\"\nrustc env[6]: \"CARGO_PKG_DESCRIPTION\"=\"\"\nrustc env[7]: \"CARGO_PKG_HOMEPAGE\"=\"\"\nrustc env[8]: \"CARGO_PKG_LICENSE\"=\"\"\nrustc env[9]: \"CARGO_PKG_LICENSE_FILE\"=\"\"\nrustc env[10]: \"CARGO_PKG_NAME\"=\"core\"\nrustc env[11]: \"CARGO_PKG_REPOSITORY\"=\"\"\nrustc env[12]: \"CARGO_PKG_VERSION\"=\"0.0.0\"\nrustc env[13]: \"CARGO_PKG_VERSION_MAJOR\"=\"0\"\nrustc env[14]: \"CARGO_PKG_VERSION_MINOR\"=\"0\"\nrustc env[15]: \"CARGO_PKG_VERSION_PATCH\"=\"0\"\nrustc env[16]: \"CARGO_PKG_VERSION_PRE\"=\"\"\nrustc env[17]: \"CARGO_PROFILE_RELEASE_CODEGEN_UNITS\"=\"256\"\nrustc env[18]: \"CARGO_PROFILE_RELEASE_DEBUG\"=\"0\"\nrustc env[19]: \"CARGO_PROFILE_RELEASE_DEBUG_ASSERTIONS\"=\"false\"\nrustc env[20]: \"CARGO_TARGET_DIR\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0-std\"\nrustc env[21]: \"RUSTBUILD_NATIVE_DIR\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/native\"\nrustc env[22]: \"RUSTC\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/bootstrap/debug/rustc\"\nrustc env[23]: \"RUSTC_BOOTSTRAP\"=\"1\"\nrustc env[24]: \"RUSTC_BREAK_ON_ICE\"=\"1\"\nrustc env[25]: \"RUSTC_ERROR_METADATA_DST\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/tmp/extended-error-metadata\"\nrustc env[26]: \"RUSTC_FORCE_UNSTABLE\"=\"1\"\nrustc env[27]: \"RUSTC_INSTALL_BINDIR\"=\"bin\"\nrustc env[28]: \"RUSTC_LIBDIR\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/lib\"\nrustc env[29]: \"RUSTC_LINT_FLAGS\"=\"-Wrust_2018_idioms -Wunused_lifetimes -Dwarnings\"\nrustc env[30]: \"RUSTC_PRINT_STEP_TIMINGS\"=\"1\"\nrustc env[31]: \"RUSTC_REAL\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/bin/rustc\"\nrustc env[32]: \"RUSTC_SNAPSHOT\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/bin/rustc\"\nrustc env[33]: \"RUSTC_SNAPSHOT_LIBDIR\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/lib\"\nrustc env[34]: \"RUSTC_STAGE\"=\"0\"\nrustc env[35]: \"RUSTC_SYSROOT\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0-sysroot\"\nrustc env[36]: \"RUSTC_VERBOSE\"=\"2\"\nrustc env[37]: \"RUSTDOC\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/bootstrap/debug/rustdoc\"\nrustc env[38]: \"RUSTDOCFLAGS\"=\"--cfg=bootstrap -Dwarnings -Winvalid_codeblock_attributes --crate-version 1.52.0-dev\"\nrustc env[39]: \"RUSTDOC_REAL\"=\"/path/to/nowhere/rustdoc/not/required\"\nrustc env[40]: \"RUSTFLAGS\"=\"--cfg=bootstrap -Zmacro-backtrace -Clink-args=-Wl,-rpath,$ORIGIN/../lib -Cprefer-dynamic\"\nrustc env[41]: \"RUST_COMPILER_RT_ROOT\"=\"/home/pnkfelix/Dev/Rust/rust.git/src/llvm-project/compiler-rt\"\nrustc env[42]: \"RUST_TEST_THREADS\"=\"128\"\nrustc working directory: /home/pnkfelix/Dev/Rust/rust.git\nrustc command: \"LD_LIBRARY_PATH\"=\"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/lib:/home/pnkfelix/Dev/Rust/rust.git/objdi\\\nr-default/build/x86_64-unknown-linux-gnu/stage0-std/release/deps:/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/lib\" \"/home\\\n/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0/bin/rustc\" \"--crate-name\" \"core\" \"--edition=2018\" \"library/core/src/lib.rs\" \"--er\\\nror-format=json\" \"--json=diagnostic-rendered-ansi,artifacts\" \"--crate-type\" \"lib\" \"--emit=dep-info,metadata,link\" \"-C\" \"opt-level=3\" \"-C\" \"embed-bitcode=no\" \"-C\" \\\n\"codegen-units=256\" \"-C\" \"debuginfo=0\" \"-C\" \"metadata=6748933694d8be19\" \"-C\" \"extra-filename=-6748933694d8be19\" \"--out-dir\" \"/home/pnkfelix/Dev/Rust/rust.git/objd\\\nir-default/build/x86_64-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps\" \"--target\" \"x86_64-unknown-linux-gnu\" \"-L\" \"dependency=/home/pnkfelix/\\\nDev/Rust/rust.git/objdir-default/build/x86_64-unknown-linux-gnu/stage0-std/x86_64-unknown-linux-gnu/release/deps\" \"-L\" \"dependency=/home/pnkfelix/Dev/Rust/rust.gi\\\nt/objdir-default/build/x86_64-unknown-linux-gnu/stage0-std/release/deps\" \"--cfg=bootstrap\" \"-Zmacro-backtrace\" \"-Clink-args=-Wl,-rpath,$ORIGIN/../lib\" \"-Cprefer-d\\\nynamic\" \"-Z\" \"binary-dep-depinfo\" \"-Wrust_2018_idioms\" \"-Wunused_lifetimes\" \"-Dwarnings\" \"--sysroot\" \"/home/pnkfelix/Dev/Rust/rust.git/objdir-default/build/x86_64\\\n-unknown-linux-gnu/stage0-sysroot\" \"-Z\" \"force-unstable-if-unmarked\"\n...\n```\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9720cd1d56c215df87dff7f5d0026c947b5c6c9b", "html_url": "https://github.com/rust-lang/rust/commit/9720cd1d56c215df87dff7f5d0026c947b5c6c9b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9720cd1d56c215df87dff7f5d0026c947b5c6c9b/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3de9b418508fa7276d080ea1fc8062ce4462d017", "url": "https://api.github.com/repos/rust-lang/rust/commits/3de9b418508fa7276d080ea1fc8062ce4462d017", "html_url": "https://github.com/rust-lang/rust/commit/3de9b418508fa7276d080ea1fc8062ce4462d017"}, {"sha": "9fafffd50b50f0c9132dc1098382992b8457cdbb", "url": "https://api.github.com/repos/rust-lang/rust/commits/9fafffd50b50f0c9132dc1098382992b8457cdbb", "html_url": "https://github.com/rust-lang/rust/commit/9fafffd50b50f0c9132dc1098382992b8457cdbb"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "7cf4311b98578f7cb25f0987ed8dce701da6956e", "filename": "src/bootstrap/bin/rustc.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9720cd1d56c215df87dff7f5d0026c947b5c6c9b/src%2Fbootstrap%2Fbin%2Frustc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9720cd1d56c215df87dff7f5d0026c947b5c6c9b/src%2Fbootstrap%2Fbin%2Frustc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbin%2Frustc.rs?ref=9720cd1d56c215df87dff7f5d0026c947b5c6c9b", "patch": "@@ -139,6 +139,12 @@ fn main() {\n     }\n \n     if verbose > 1 {\n+        let rust_env_vars =\n+            env::vars().filter(|(k, _)| k.starts_with(\"RUST\") || k.starts_with(\"CARGO\"));\n+        for (i, (k, v)) in rust_env_vars.enumerate() {\n+            eprintln!(\"rustc env[{}]: {:?}={:?}\", i, k, v);\n+        }\n+        eprintln!(\"rustc working directory: {}\", env::current_dir().unwrap().display());\n         eprintln!(\n             \"rustc command: {:?}={:?} {:?}\",\n             bootstrap::util::dylib_path_var(),"}]}