{"sha": "b1015f5c5a4dcd6118b86ef5361371f04a7bce8b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIxMDE1ZjVjNWE0ZGNkNjExOGI4NmVmNTM2MTM3MWYwNGE3YmNlOGI=", "commit": {"author": {"name": "Jorge Aparicio", "email": "jorge@japaric.io", "date": "2018-04-04T20:42:56Z"}, "committer": {"name": "Jorge Aparicio", "email": "jorge@japaric.io", "date": "2018-04-04T20:42:56Z"}, "message": "compile other no-std crates", "tree": {"sha": "bd2f37ce2611adc04084908fa946d484baa99cb5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bd2f37ce2611adc04084908fa946d484baa99cb5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b1015f5c5a4dcd6118b86ef5361371f04a7bce8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b1015f5c5a4dcd6118b86ef5361371f04a7bce8b", "html_url": "https://github.com/rust-lang/rust/commit/b1015f5c5a4dcd6118b86ef5361371f04a7bce8b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b1015f5c5a4dcd6118b86ef5361371f04a7bce8b/comments", "author": {"login": "japaric", "id": 5018213, "node_id": "MDQ6VXNlcjUwMTgyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japaric", "html_url": "https://github.com/japaric", "followers_url": "https://api.github.com/users/japaric/followers", "following_url": "https://api.github.com/users/japaric/following{/other_user}", "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}", "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japaric/subscriptions", "organizations_url": "https://api.github.com/users/japaric/orgs", "repos_url": "https://api.github.com/users/japaric/repos", "events_url": "https://api.github.com/users/japaric/events{/privacy}", "received_events_url": "https://api.github.com/users/japaric/received_events", "type": "User", "site_admin": false}, "committer": {"login": "japaric", "id": 5018213, "node_id": "MDQ6VXNlcjUwMTgyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japaric", "html_url": "https://github.com/japaric", "followers_url": "https://api.github.com/users/japaric/followers", "following_url": "https://api.github.com/users/japaric/following{/other_user}", "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}", "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japaric/subscriptions", "organizations_url": "https://api.github.com/users/japaric/orgs", "repos_url": "https://api.github.com/users/japaric/repos", "events_url": "https://api.github.com/users/japaric/events{/privacy}", "received_events_url": "https://api.github.com/users/japaric/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bca569f57c53e219270be72ed5976b8167fcd246", "url": "https://api.github.com/repos/rust-lang/rust/commits/bca569f57c53e219270be72ed5976b8167fcd246", "html_url": "https://github.com/rust-lang/rust/commit/bca569f57c53e219270be72ed5976b8167fcd246"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "51e7a7883158564473b45a81f0b4a07e24bfad2c", "filename": "src/bootstrap/compile.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b1015f5c5a4dcd6118b86ef5361371f04a7bce8b/src%2Fbootstrap%2Fcompile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1015f5c5a4dcd6118b86ef5361371f04a7bce8b/src%2Fbootstrap%2Fcompile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcompile.rs?ref=b1015f5c5a4dcd6118b86ef5361371f04a7bce8b", "patch": "@@ -145,8 +145,11 @@ pub fn std_cargo(build: &Builder,\n     }\n \n     if build.no_std(target) == Some(true) {\n-        // for no-std targets we only compile core and compiler-builtins\n+        // for no-std targets we only compile a few no_std crates\n         cargo.arg(\"--features\").arg(\"c mem\")\n+            .args(&[\"-p\", \"alloc\"])\n+            .args(&[\"-p\", \"compiler_builtins\"])\n+            .args(&[\"-p\", \"std_unicode\"])\n             .arg(\"--manifest-path\")\n             .arg(build.src.join(\"src/rustc/compiler_builtins_shim/Cargo.toml\"));\n     } else {"}]}