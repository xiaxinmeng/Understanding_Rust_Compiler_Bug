{"sha": "4a90366464a109f5959917cce188f73fef6aa225", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhOTAzNjY0NjRhMTA5ZjU5NTk5MTdjY2UxODhmNzNmZWY2YWEyMjU=", "commit": {"author": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2017-10-11T00:22:29Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-10-11T00:22:29Z"}, "message": "Rollup merge of #45180 - 0xAX:fix-help-message-in-configure.py, r=Mark-Simulacrum\n\nFix path to x.py in bootstrap/configure.py script\n\nWe may see a help message in the end of the output of the ./configure script:\n\n```\n$ ./configure\nconfigure: processing command line\nconfigure:\nconfigure: build.configure-args := []\nconfigure:\nconfigure: writing `config.toml` in current directory\nconfigure:\nconfigure: run `python ./src/bootstrap/x.py --help`\nconfigure:\n```\n\nbut the `x.py` script is actually in the rust root directory and\nexecuting of such help string will give us error:\n\n```\n$ python ./src/bootstrap/x.py --help\npython: can't open file './src/bootstrap/x.py': [Errno 2] No such file\nor directory\n```\n\nThis patch fixes path to the x.py script in the output of the ./configure", "tree": {"sha": "db92e3edd7d0c0a715ea4b05755667f90b9411e6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/db92e3edd7d0c0a715ea4b05755667f90b9411e6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4a90366464a109f5959917cce188f73fef6aa225", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4a90366464a109f5959917cce188f73fef6aa225", "html_url": "https://github.com/rust-lang/rust/commit/4a90366464a109f5959917cce188f73fef6aa225", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4a90366464a109f5959917cce188f73fef6aa225/comments", "author": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fa70d04dc581feb52f4d29d0005f7496201d3568", "url": "https://api.github.com/repos/rust-lang/rust/commits/fa70d04dc581feb52f4d29d0005f7496201d3568", "html_url": "https://github.com/rust-lang/rust/commit/fa70d04dc581feb52f4d29d0005f7496201d3568"}, {"sha": "a84c62a7f13cd26faaf79a3a77d30706b73afaf8", "url": "https://api.github.com/repos/rust-lang/rust/commits/a84c62a7f13cd26faaf79a3a77d30706b73afaf8", "html_url": "https://github.com/rust-lang/rust/commit/a84c62a7f13cd26faaf79a3a77d30706b73afaf8"}], "stats": {"total": 7, "additions": 1, "deletions": 6}, "files": [{"sha": "0ea4af386c7cbcb3d10203ea7e357b8dfcf4e99f", "filename": "src/bootstrap/configure.py", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/4a90366464a109f5959917cce188f73fef6aa225/src%2Fbootstrap%2Fconfigure.py", "raw_url": "https://github.com/rust-lang/rust/raw/4a90366464a109f5959917cce188f73fef6aa225/src%2Fbootstrap%2Fconfigure.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfigure.py?ref=4a90366464a109f5959917cce188f73fef6aa225", "patch": "@@ -407,11 +407,6 @@ def configure_section(lines, config):\n     contents = contents.replace(\"$(CFG_PYTHON)\", sys.executable)\n     f.write(contents)\n \n-# Finally, clean up with a bit of a help message\n-relpath = os.path.dirname(__file__)\n-if relpath == '':\n-    relpath = '.'\n-\n p(\"\")\n-p(\"run `python {}/x.py --help`\".format(relpath))\n+p(\"run `python {}/x.py --help`\".format(rust_dir))\n p(\"\")"}]}