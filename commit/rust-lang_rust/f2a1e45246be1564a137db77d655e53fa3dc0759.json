{"sha": "f2a1e45246be1564a137db77d655e53fa3dc0759", "node_id": "C_kwDOAAsO6NoAKGYyYTFlNDUyNDZiZTE1NjRhMTM3ZGI3N2Q2NTVlNTNmYTNkYzA3NTk", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2022-07-03T15:35:24Z"}, "committer": {"name": "Philipp Krones", "email": "hello@philkrones.com", "date": "2022-07-06T08:01:27Z"}, "message": "Build the Clippy book as part of x.py doc", "tree": {"sha": "bb1998c249243764200172477c89d063530cb124", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bb1998c249243764200172477c89d063530cb124"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f2a1e45246be1564a137db77d655e53fa3dc0759", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEij1UXJ/PQTcb99vTHKDfKvWdaKUFAmLFQVcACgkQHKDfKvWd\naKUC3BAArgVvQSvCu9hBVgbOupwv/ImGOeHZBmKlx//ezOsfzYmOxbU94GDPXaiy\ny6UNM4V+prWDViqQYb6Sym7MQEYlBSOfS/f3HHI2y99859QSvqYC9e1kkR2loCt/\nuwrowK6chMG0ySS2A5ADwcMNnfEGC/LD0B70uR7utmusnzExleRHhQO0jNbLpOuf\n1pu5HoC+2v0QUi0aEvgCvLNgnhC5cYP3TiduwHlrHQUZMaO+oF9C4Kx8txubginH\nRyDUyIuPGc1DnQzd6B2BmD/UQ/icm20Vi6FawafchrD3bD6Z0IJEmuwF+zuUXxOE\ncS7mJ6AvvVwdXqW/wcmcN5RE88XX6Sksvs4VfEUHGOvZKJ7oN08cP88kagZFaR3t\nQPZU+Gte6+q1/BamBldaSK9ZycW3FnYW8Ad/y6ZTaWE+lQUx8JCHxi3BzXA39vUR\nwBhd/BDRyTDYXyk4IpTz78mIJvPZ6Bpvo7FHrszH2nwHM5cPNeAR5QCQ2N3wO9H5\nlzLBAp49QcGdDdn13xdB/XE9tzrwLyBbdnh8WNzfjh2UMMPMcxDURepk7qGx6LfD\nSbx98MtuYDyRIgWmiaMGTG3b9SJP2MPSWNG9Cj4vfOfcJItcgd3iEB8RJMto4476\ndVkBGTXxj2UHlnGgRxp2ttsTth+M7m0keqnEip/Z01EYMkHnQPo=\n=Y9WZ\n-----END PGP SIGNATURE-----", "payload": "tree bb1998c249243764200172477c89d063530cb124\nparent f342bea9d19f14616c6559312552e6d0ee529cfd\nauthor flip1995 <hello@philkrones.com> 1656862524 +0200\ncommitter Philipp Krones <hello@philkrones.com> 1657094487 +0200\n\nBuild the Clippy book as part of x.py doc\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f2a1e45246be1564a137db77d655e53fa3dc0759", "html_url": "https://github.com/rust-lang/rust/commit/f2a1e45246be1564a137db77d655e53fa3dc0759", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f2a1e45246be1564a137db77d655e53fa3dc0759/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f342bea9d19f14616c6559312552e6d0ee529cfd", "url": "https://api.github.com/repos/rust-lang/rust/commits/f342bea9d19f14616c6559312552e6d0ee529cfd", "html_url": "https://github.com/rust-lang/rust/commit/f342bea9d19f14616c6559312552e6d0ee529cfd"}], "stats": {"total": 43, "additions": 24, "deletions": 19}, "files": [{"sha": "2f03259ac49ae6fe4cec466e73b880cd33f01a0b", "filename": "src/bootstrap/builder.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Fbootstrap%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Fbootstrap%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbuilder.rs?ref=f2a1e45246be1564a137db77d655e53fa3dc0759", "patch": "@@ -701,6 +701,7 @@ impl<'a> Builder<'a> {\n                 doc::RustcBook,\n                 doc::CargoBook,\n                 doc::Clippy,\n+                doc::ClippyBook,\n                 doc::Miri,\n                 doc::EmbeddedBook,\n                 doc::EditionGuide,"}, {"sha": "2852442d0be6fbb7986a84f211a84a6494cde744", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=f2a1e45246be1564a137db77d655e53fa3dc0759", "patch": "@@ -74,6 +74,7 @@ macro_rules! book {\n // and checking against it?).\n book!(\n     CargoBook, \"src/tools/cargo/src/doc\", \"cargo\", submodule = \"src/tools/cargo\";\n+    ClippyBook, \"src/tools/clippy/book\", \"clippy\";\n     EditionGuide, \"src/doc/edition-guide\", \"edition-guide\", submodule;\n     EmbeddedBook, \"src/doc/embedded-book\", \"embedded-book\", submodule;\n     Nomicon, \"src/doc/nomicon\", \"nomicon\", submodule;"}, {"sha": "6248d588a890b9dc13038eaa051ca56cd46d18b6", "filename": "src/tools/clippy/book/src/README.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2FREADME.md?ref=f2a1e45246be1564a137db77d655e53fa3dc0759", "patch": "@@ -1,7 +1,7 @@\n # Clippy\n \n [![Clippy Test](https://github.com/rust-lang/rust-clippy/workflows/Clippy%20Test/badge.svg?branch=auto&event=push)](https://github.com/rust-lang/rust-clippy/actions?query=workflow%3A%22Clippy+Test%22+event%3Apush+branch%3Aauto)\n-[![License: MIT OR Apache-2.0](https://img.shields.io/crates/l/clippy.svg)](#license)\n+[![License: MIT OR Apache-2.0](https://img.shields.io/crates/l/clippy.svg)](https://github.com/rust-lang/rust-clippy#license)\n \n A collection of lints to catch common mistakes and improve your\n [Rust](https://github.com/rust-lang/rust) code."}, {"sha": "d06297f2e079a23b077f08e5b7bbf5d58f0d0f67", "filename": "src/tools/clippy/book/src/development/adding_lints.md", "status": "modified", "additions": 18, "deletions": 15, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fdevelopment%2Fadding_lints.md", "raw_url": "https://github.com/rust-lang/rust/raw/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fdevelopment%2Fadding_lints.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fdevelopment%2Fadding_lints.md?ref=f2a1e45246be1564a137db77d655e53fa3dc0759", "patch": "@@ -13,7 +13,6 @@ because that's clearly a non-descriptive name.\n   - [Testing](#testing)\n     - [Cargo lints](#cargo-lints)\n   - [Rustfix tests](#rustfix-tests)\n-  - [Edition 2018 tests](#edition-2018-tests)\n   - [Testing manually](#testing-manually)\n   - [Lint declaration](#lint-declaration)\n   - [Lint registration](#lint-registration)\n@@ -402,9 +401,8 @@ need to ensure that the MSRV configured for the project is >= the MSRV of the\n required Rust feature. If multiple features are required, just use the one with\n a lower MSRV.\n \n-First, add an MSRV alias for the required feature in\n-[`clippy_utils::msrvs`](/clippy_utils/src/msrvs.rs). This can be accessed later\n-as `msrvs::STR_STRIP_PREFIX`, for example.\n+First, add an MSRV alias for the required feature in [`clippy_utils::msrvs`].\n+This can be accessed later as `msrvs::STR_STRIP_PREFIX`, for example.\n \n ```rust\n msrv_aliases! {\n@@ -468,6 +466,8 @@ define_Conf! {\n }\n ```\n \n+[`clippy_utils::msrvs`]: https://doc.rust-lang.org/nightly/nightly-rustc/clippy_utils/msrvs/index.html\n+\n ## Author lint\n \n If you have trouble implementing your lint, there is also the internal `author`\n@@ -583,8 +583,7 @@ the workspace directory. Adding a configuration to a lint can be useful for\n thresholds or to constrain some behavior that can be seen as a false positive\n for some users. Adding a configuration is done in the following steps:\n \n-1. Adding a new configuration entry to\n-   [clippy_lints::utils::conf](/clippy_lints/src/utils/conf.rs) like this:\n+1. Adding a new configuration entry to [`clippy_lints::utils::conf`] like this:\n \n    ```rust\n    /// Lint: LINT_NAME.\n@@ -635,9 +634,9 @@ for some users. Adding a configuration is done in the following steps:\n        ```\n 3. Passing the configuration value to the lint impl struct:\n \n-   First find the struct construction in the [clippy_lints lib\n-   file](/clippy_lints/src/lib.rs). The configuration value is now cloned or\n-   copied into a local value that is then passed to the impl struct like this:\n+   First find the struct construction in the [`clippy_lints` lib file]. The\n+   configuration value is now cloned or copied into a local value that is then\n+   passed to the impl struct like this:\n \n    ```rust\n    // Default generated registration:\n@@ -653,12 +652,16 @@ for some users. Adding a configuration is done in the following steps:\n \n 4. Adding tests:\n     1. The default configured value can be tested like any normal lint in\n-       [`tests/ui`](/tests/ui).\n-    2. The configuration itself will be tested separately in\n-       [`tests/ui-toml`](/tests/ui-toml). Simply add a new subfolder with a\n-       fitting name. This folder contains a `clippy.toml` file with the\n-       configuration value and a rust file that should be linted by Clippy. The\n-       test can otherwise be written as usual.\n+       [`tests/ui`].\n+    2. The configuration itself will be tested separately in [`tests/ui-toml`].\n+       Simply add a new subfolder with a fitting name. This folder contains a\n+       `clippy.toml` file with the configuration value and a rust file that\n+       should be linted by Clippy. The test can otherwise be written as usual.\n+\n+[`clippy_lints::utils::conf`]: https://github.com/rust-lang/rust-clippy/blob/master/clippy_lints/src/utils/conf.rs\n+[`clippy_lints` lib file]: https://github.com/rust-lang/rust-clippy/blob/master/clippy_lints/src/lib.rs\n+[`tests/ui`]: https://github.com/rust-lang/rust-clippy/blob/master/tests/ui\n+[`tests/ui-toml`]: https://github.com/rust-lang/rust-clippy/blob/master/tests/ui-toml\n \n ## Cheat Sheet\n "}, {"sha": "605897ff49cdb4dc42d468e2976cef59e7f8d9d2", "filename": "src/tools/clippy/book/src/development/basics.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fdevelopment%2Fbasics.md", "raw_url": "https://github.com/rust-lang/rust/raw/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fdevelopment%2Fbasics.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fdevelopment%2Fbasics.md?ref=f2a1e45246be1564a137db77d655e53fa3dc0759", "patch": "@@ -98,7 +98,7 @@ cargo dev setup intellij\n ```\n \n More about intellij command usage and reasons\n-[here](../CONTRIBUTING.md#intellij-rust)\n+[here](https://github.com/rust-lang/rust-clippy/blob/master/CONTRIBUTING.md#intellij-rust)\n \n ## lintcheck\n "}, {"sha": "15e00c7d7ce4c3e56faea6be845039c50dc6f034", "filename": "src/tools/clippy/book/src/development/common_tools_writing_lints.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fdevelopment%2Fcommon_tools_writing_lints.md", "raw_url": "https://github.com/rust-lang/rust/raw/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fdevelopment%2Fcommon_tools_writing_lints.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fdevelopment%2Fcommon_tools_writing_lints.md?ref=f2a1e45246be1564a137db77d655e53fa3dc0759", "patch": "@@ -276,4 +276,4 @@ functions to deal with macros:\n [LateContext]: https://doc.rust-lang.org/nightly/nightly-rustc/rustc_lint/struct.LateContext.html\n [TyCtxt]: https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/context/struct.TyCtxt.html\n [pat_ty]: https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/context/struct.TypeckResults.html#method.pat_ty\n-[paths]: ../clippy_utils/src/paths.rs\n+[paths]: https://doc.rust-lang.org/nightly/nightly-rustc/clippy_utils/paths/index.html"}, {"sha": "5d858e0da46898210058e2e678697b1f56081417", "filename": "src/tools/clippy/book/src/usage.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fusage.md", "raw_url": "https://github.com/rust-lang/rust/raw/f2a1e45246be1564a137db77d655e53fa3dc0759/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fusage.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fbook%2Fsrc%2Fusage.md?ref=f2a1e45246be1564a137db77d655e53fa3dc0759", "patch": "@@ -148,4 +148,4 @@ clippy-driver --edition 2018 -Cpanic=abort foo.rs\n > that are not optimized as expected, for example.\n \n [Installation]: installation.md\n-[CI]: continuous_integration\n+[CI]: continuous_integration/index.md"}]}