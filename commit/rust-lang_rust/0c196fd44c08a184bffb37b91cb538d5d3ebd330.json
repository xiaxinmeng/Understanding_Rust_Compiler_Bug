{"sha": "0c196fd44c08a184bffb37b91cb538d5d3ebd330", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjMTk2ZmQ0NGMwOGExODRiZmZiMzdiOTFjYjUzOGQ1ZDNlYmQzMzA=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2015-04-22T21:52:35Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2015-04-22T21:52:35Z"}, "message": "configure: Fix CDPATH bug", "tree": {"sha": "8e885bea1bb0cce2f4534b0157451313d3512ebd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8e885bea1bb0cce2f4534b0157451313d3512ebd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0c196fd44c08a184bffb37b91cb538d5d3ebd330", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0c196fd44c08a184bffb37b91cb538d5d3ebd330", "html_url": "https://github.com/rust-lang/rust/commit/0c196fd44c08a184bffb37b91cb538d5d3ebd330", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0c196fd44c08a184bffb37b91cb538d5d3ebd330/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "93b7b411378ac3b5b427cb05ecb96d0bc11eb124", "url": "https://api.github.com/repos/rust-lang/rust/commits/93b7b411378ac3b5b427cb05ecb96d0bc11eb124", "html_url": "https://github.com/rust-lang/rust/commit/93b7b411378ac3b5b427cb05ecb96d0bc11eb124"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "fc8d57999ffde2415fb36319bcca40f0194cd1ad", "filename": "configure", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/0c196fd44c08a184bffb37b91cb538d5d3ebd330/configure", "raw_url": "https://github.com/rust-lang/rust/raw/0c196fd44c08a184bffb37b91cb538d5d3ebd330/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=0c196fd44c08a184bffb37b91cb538d5d3ebd330", "patch": "@@ -337,6 +337,15 @@ to_gnu_triple() {\n     esac\n }\n \n+# Prints the absolute path of a directory to stdout\n+abs_path() {\n+    local _path=\"$1\"\n+    # Unset CDPATH because it causes havok: it makes the destination unpredictable\n+    # and triggers 'cd' to print the path to stdout. Route `cd`'s output to /dev/null\n+    # for good measure.\n+    (unset CDPATH && cd \"$_path\" > /dev/null && pwd)\n+}\n+\n msg \"looking for configure programs\"\n need_cmd cmp\n need_cmd mkdir\n@@ -509,7 +518,7 @@ fi\n \n DEFAULT_BUILD=\"${CFG_CPUTYPE}-${CFG_OSTYPE}\"\n \n-CFG_SRC_DIR=\"$(cd $(dirname $0) && pwd)/\"\n+CFG_SRC_DIR=\"$(abs_path $(dirname $0))/\"\n CFG_BUILD_DIR=\"$(pwd)/\"\n CFG_SELF=\"$0\"\n CFG_CONFIGURE_ARGS=\"$@\""}]}