{"sha": "19437bd452208899a611fa48f5157d2ee9820c35", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE5NDM3YmQ0NTIyMDg4OTlhNjExZmE0OGY1MTU3ZDJlZTk4MjBjMzU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2016-02-22T03:08:39Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2016-02-22T03:08:39Z"}, "message": "Auto merge of #31805 - cuviper:android-lfs, r=alexcrichton\n\nAndroid should use 64-bit LFS symbols for `lseek` and `ftruncate`, lest\nthose offset parameters suffer a lossy cast down to a 32-bit `off_t`.\n\nUnlike GNU/Linux, Android's `stat`, `dirent`, and related functions are\nalways 64-bit LFS compatible, and `open` already implies `O_LARGEFILE`,\nso all those don't need to follow Linux.  It might be nice to unify them\nanyway, but those other LFS symbols aren't present in API 18 bionic.\n\nr? @alexcrichton", "tree": {"sha": "c71442c70f138b7e06537a21df0cf4306bf2b1d9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c71442c70f138b7e06537a21df0cf4306bf2b1d9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/19437bd452208899a611fa48f5157d2ee9820c35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/19437bd452208899a611fa48f5157d2ee9820c35", "html_url": "https://github.com/rust-lang/rust/commit/19437bd452208899a611fa48f5157d2ee9820c35", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/19437bd452208899a611fa48f5157d2ee9820c35/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "24bb648d8442a636bbe2cb6f06bb2b43d2e14bab", "url": "https://api.github.com/repos/rust-lang/rust/commits/24bb648d8442a636bbe2cb6f06bb2b43d2e14bab", "html_url": "https://github.com/rust-lang/rust/commit/24bb648d8442a636bbe2cb6f06bb2b43d2e14bab"}, {"sha": "7e962166dfa1c55489d9637d829cb8e16f6de32a", "url": "https://api.github.com/repos/rust-lang/rust/commits/7e962166dfa1c55489d9637d829cb8e16f6de32a", "html_url": "https://github.com/rust-lang/rust/commit/7e962166dfa1c55489d9637d829cb8e16f6de32a"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "1b1eea2cdd77c63d73ba0b09b905a91910d1c992", "filename": "src/liblibc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliblibc?ref=19437bd452208899a611fa48f5157d2ee9820c35", "patch": "@@ -1 +1 @@\n-Subproject commit 403bdc88394919f297bdb365032044cc0481c319\n+Subproject commit 1b1eea2cdd77c63d73ba0b09b905a91910d1c992"}, {"sha": "250b1b015a069e380c0270903686dc69c46d0636", "filename": "src/libstd/sys/unix/fs.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/19437bd452208899a611fa48f5157d2ee9820c35/src%2Flibstd%2Fsys%2Funix%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19437bd452208899a611fa48f5157d2ee9820c35/src%2Flibstd%2Fsys%2Funix%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Funix%2Ffs.rs?ref=19437bd452208899a611fa48f5157d2ee9820c35", "patch": "@@ -27,7 +27,10 @@ use sys_common::{AsInner, FromInner};\n \n #[cfg(target_os = \"linux\")]\n use libc::{stat64, fstat64, lstat64, off64_t, ftruncate64, lseek64, dirent64, readdir64_r, open64};\n-#[cfg(not(target_os = \"linux\"))]\n+#[cfg(target_os = \"android\")]\n+use libc::{stat as stat64, fstat as fstat64, lstat as lstat64, off64_t, ftruncate64, lseek64,\n+           dirent as dirent64, open as open64};\n+#[cfg(not(any(target_os = \"linux\", target_os = \"android\")))]\n use libc::{stat as stat64, fstat as fstat64, lstat as lstat64, off_t as off64_t,\n            ftruncate as ftruncate64, lseek as lseek64, dirent as dirent64, open as open64};\n #[cfg(not(any(target_os = \"linux\", target_os = \"solaris\")))]"}]}