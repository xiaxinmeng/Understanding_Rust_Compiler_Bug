{"sha": "59cc5e5d59796f5817d46b31450923597d9f8ae7", "node_id": "C_kwDOAAsO6NoAKDU5Y2M1ZTVkNTk3OTZmNTgxN2Q0NmIzMTQ1MDkyMzU5N2Q5ZjhhZTc", "commit": {"author": {"name": "David Wood", "email": "david.wood@huawei.com", "date": "2022-10-14T13:00:06Z"}, "committer": {"name": "David Wood", "email": "david.wood@huawei.com", "date": "2023-01-30T17:11:34Z"}, "message": "errors: add `emit_note`/`create_note` on `Handler`\n\nSupport for emission of notes was added in f8ebc72 but `emit_note` and\n`create_note` functions weren't added to `Handler`.\n\nSigned-off-by: David Wood <david.wood@huawei.com>", "tree": {"sha": "14bf0c1499c49cb4f03e9e31ceabda7a810fcc8d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/14bf0c1499c49cb4f03e9e31ceabda7a810fcc8d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/59cc5e5d59796f5817d46b31450923597d9f8ae7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/59cc5e5d59796f5817d46b31450923597d9f8ae7", "html_url": "https://github.com/rust-lang/rust/commit/59cc5e5d59796f5817d46b31450923597d9f8ae7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/59cc5e5d59796f5817d46b31450923597d9f8ae7/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3f25e56496a07d1848f7c4d0d98f91ec05e0be86", "url": "https://api.github.com/repos/rust-lang/rust/commits/3f25e56496a07d1848f7c4d0d98f91ec05e0be86", "html_url": "https://github.com/rust-lang/rust/commit/3f25e56496a07d1848f7c4d0d98f91ec05e0be86"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "57732db5acab6647e2dcd9d11939ec99173fa97c", "filename": "compiler/rustc_errors/src/lib.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/59cc5e5d59796f5817d46b31450923597d9f8ae7/compiler%2Frustc_errors%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/59cc5e5d59796f5817d46b31450923597d9f8ae7/compiler%2Frustc_errors%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Flib.rs?ref=59cc5e5d59796f5817d46b31450923597d9f8ae7", "patch": "@@ -1157,6 +1157,17 @@ impl Handler {\n         self.create_bug(bug).emit()\n     }\n \n+    pub fn emit_note<'a>(&'a self, note: impl IntoDiagnostic<'a, Noted>) -> Noted {\n+        self.create_note(note).emit()\n+    }\n+\n+    pub fn create_note<'a>(\n+        &'a self,\n+        note: impl IntoDiagnostic<'a, Noted>,\n+    ) -> DiagnosticBuilder<'a, Noted> {\n+        note.into_diagnostic(self)\n+    }\n+\n     fn emit_diag_at_span(\n         &self,\n         mut diag: Diagnostic,"}]}