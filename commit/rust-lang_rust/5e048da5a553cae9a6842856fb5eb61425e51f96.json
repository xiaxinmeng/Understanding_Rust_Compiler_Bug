{"sha": "5e048da5a553cae9a6842856fb5eb61425e51f96", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVlMDQ4ZGE1YTU1M2NhZTlhNjg0Mjg1NmZiNWViNjE0MjVlNTFmOTY=", "commit": {"author": {"name": "Dylan MacKenzie", "email": "ecstaticmorse@gmail.com", "date": "2019-11-11T16:00:49Z"}, "committer": {"name": "Dylan MacKenzie", "email": "ecstaticmorse@gmail.com", "date": "2019-11-13T18:44:14Z"}, "message": "Bless miri unleashed test now that errors are mandatory", "tree": {"sha": "30b236abc9a9611936af105a5327a2be16838e6e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/30b236abc9a9611936af105a5327a2be16838e6e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5e048da5a553cae9a6842856fb5eb61425e51f96", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5e048da5a553cae9a6842856fb5eb61425e51f96", "html_url": "https://github.com/rust-lang/rust/commit/5e048da5a553cae9a6842856fb5eb61425e51f96", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5e048da5a553cae9a6842856fb5eb61425e51f96/comments", "author": {"login": "ecstatic-morse", "id": 29463364, "node_id": "MDQ6VXNlcjI5NDYzMzY0", "avatar_url": "https://avatars.githubusercontent.com/u/29463364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecstatic-morse", "html_url": "https://github.com/ecstatic-morse", "followers_url": "https://api.github.com/users/ecstatic-morse/followers", "following_url": "https://api.github.com/users/ecstatic-morse/following{/other_user}", "gists_url": "https://api.github.com/users/ecstatic-morse/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecstatic-morse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecstatic-morse/subscriptions", "organizations_url": "https://api.github.com/users/ecstatic-morse/orgs", "repos_url": "https://api.github.com/users/ecstatic-morse/repos", "events_url": "https://api.github.com/users/ecstatic-morse/events{/privacy}", "received_events_url": "https://api.github.com/users/ecstatic-morse/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ecstatic-morse", "id": 29463364, "node_id": "MDQ6VXNlcjI5NDYzMzY0", "avatar_url": "https://avatars.githubusercontent.com/u/29463364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecstatic-morse", "html_url": "https://github.com/ecstatic-morse", "followers_url": "https://api.github.com/users/ecstatic-morse/followers", "following_url": "https://api.github.com/users/ecstatic-morse/following{/other_user}", "gists_url": "https://api.github.com/users/ecstatic-morse/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecstatic-morse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecstatic-morse/subscriptions", "organizations_url": "https://api.github.com/users/ecstatic-morse/orgs", "repos_url": "https://api.github.com/users/ecstatic-morse/repos", "events_url": "https://api.github.com/users/ecstatic-morse/events{/privacy}", "received_events_url": "https://api.github.com/users/ecstatic-morse/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "86734b13bb99c83333ca820e01be3aeace18af75", "url": "https://api.github.com/repos/rust-lang/rust/commits/86734b13bb99c83333ca820e01be3aeace18af75", "html_url": "https://github.com/rust-lang/rust/commit/86734b13bb99c83333ca820e01be3aeace18af75"}], "stats": {"total": 20, "additions": 13, "deletions": 7}, "files": [{"sha": "d7cdb0babc5c5827699a2576eda83d833a1b28f1", "filename": "src/test/ui/consts/miri_unleashed/enum_discriminants.rs", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5e048da5a553cae9a6842856fb5eb61425e51f96/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fenum_discriminants.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e048da5a553cae9a6842856fb5eb61425e51f96/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fenum_discriminants.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fenum_discriminants.rs?ref=5e048da5a553cae9a6842856fb5eb61425e51f96", "patch": "@@ -20,9 +20,9 @@ const OVERFLOW: usize = {\n         C(WithWraparoundInvalidValues),\n     }\n \n-    let x = Foo::B; //~ WARNING skipping const checks\n-    match x {\n-        Foo::B => 0, //~ WARNING skipping const checks\n+    let x = Foo::B;\n+    match x { //~ WARNING skipping const checks\n+        Foo::B => 0,\n         _ => panic!(),\n     }\n };\n@@ -87,18 +87,20 @@ const MORE_OVERFLOW: usize = {\n \n     if let E1::V2 { .. } = (E1::V1 { f: true }) {\n         //~^ WARNING skipping const checks\n-        //~| WARNING skipping const checks\n         unreachable!()\n     }\n     if let E1::V1 { .. } = (E1::V1 { f: true }) {\n+        //~^ WARNING skipping const checks\n     } else {\n         unreachable!()\n     }\n \n     if let E2::V1 { .. } = E2::V3::<Infallible> {\n+        //~^ WARNING skipping const checks\n         unreachable!()\n     }\n     if let E2::V3 { .. } = E2::V3::<Infallible> {\n+        //~^ WARNING skipping const checks\n     } else {\n         unreachable!()\n     }"}, {"sha": "b7fce223af80a6afc56f94e57a908db85f51d802", "filename": "src/test/ui/consts/miri_unleashed/enum_discriminants.stderr", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5e048da5a553cae9a6842856fb5eb61425e51f96/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fenum_discriminants.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e048da5a553cae9a6842856fb5eb61425e51f96/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fenum_discriminants.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fenum_discriminants.stderr?ref=5e048da5a553cae9a6842856fb5eb61425e51f96", "patch": "@@ -11,31 +11,35 @@ warning: skipping const checks\n   --> $DIR/enum_discriminants.rs:88:5\n    |\n LL | /     if let E1::V2 { .. } = (E1::V1 { f: true }) {\n+LL | |\n LL | |         unreachable!()\n LL | |     }\n    | |_____^\n \n warning: skipping const checks\n-  --> $DIR/enum_discriminants.rs:91:5\n+  --> $DIR/enum_discriminants.rs:92:5\n    |\n LL | /     if let E1::V1 { .. } = (E1::V1 { f: true }) {\n+LL | |\n LL | |     } else {\n LL | |         unreachable!()\n LL | |     }\n    | |_____^\n \n warning: skipping const checks\n-  --> $DIR/enum_discriminants.rs:96:5\n+  --> $DIR/enum_discriminants.rs:98:5\n    |\n LL | /     if let E2::V1 { .. } = E2::V3::<Infallible> {\n+LL | |\n LL | |         unreachable!()\n LL | |     }\n    | |_____^\n \n warning: skipping const checks\n-  --> $DIR/enum_discriminants.rs:99:5\n+  --> $DIR/enum_discriminants.rs:102:5\n    |\n LL | /     if let E2::V3 { .. } = E2::V3::<Infallible> {\n+LL | |\n LL | |     } else {\n LL | |         unreachable!()\n LL | |     }"}]}