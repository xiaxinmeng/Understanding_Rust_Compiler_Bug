{"sha": "3bc7d3da42280cc96265818918405dcf97e4087c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNiYzdkM2RhNDIyODBjYzk2MjY1ODE4OTE4NDA1ZGNmOTdlNDA4N2M=", "commit": {"author": {"name": "klutzy", "email": "klutzytheklutzy@gmail.com", "date": "2014-09-21T16:25:57Z"}, "committer": {"name": "klutzy", "email": "klutzytheklutzy@gmail.com", "date": "2014-09-21T16:42:28Z"}, "message": "std::rt::backtrace: Fix symbol names on Windows\n\nFixes #17372", "tree": {"sha": "c6c0ffde7e423009443bb5689606de17aea10660", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c6c0ffde7e423009443bb5689606de17aea10660"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3bc7d3da42280cc96265818918405dcf97e4087c", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3bc7d3da42280cc96265818918405dcf97e4087c", "html_url": "https://github.com/rust-lang/rust/commit/3bc7d3da42280cc96265818918405dcf97e4087c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3bc7d3da42280cc96265818918405dcf97e4087c/comments", "author": {"login": "klutzy", "id": 1589355, "node_id": "MDQ6VXNlcjE1ODkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klutzy", "html_url": "https://github.com/klutzy", "followers_url": "https://api.github.com/users/klutzy/followers", "following_url": "https://api.github.com/users/klutzy/following{/other_user}", "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}", "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions", "organizations_url": "https://api.github.com/users/klutzy/orgs", "repos_url": "https://api.github.com/users/klutzy/repos", "events_url": "https://api.github.com/users/klutzy/events{/privacy}", "received_events_url": "https://api.github.com/users/klutzy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "klutzy", "id": 1589355, "node_id": "MDQ6VXNlcjE1ODkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klutzy", "html_url": "https://github.com/klutzy", "followers_url": "https://api.github.com/users/klutzy/followers", "following_url": "https://api.github.com/users/klutzy/following{/other_user}", "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}", "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions", "organizations_url": "https://api.github.com/users/klutzy/orgs", "repos_url": "https://api.github.com/users/klutzy/repos", "events_url": "https://api.github.com/users/klutzy/events{/privacy}", "received_events_url": "https://api.github.com/users/klutzy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b8599ecdb30de6c54852e863d748e70171c8c5f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/b8599ecdb30de6c54852e863d748e70171c8c5f8", "html_url": "https://github.com/rust-lang/rust/commit/b8599ecdb30de6c54852e863d748e70171c8c5f8"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "de5c26e03a3b32e27bd6fb2fe4002fef83953ba0", "filename": "src/libstd/rt/backtrace.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3bc7d3da42280cc96265818918405dcf97e4087c/src%2Flibstd%2Frt%2Fbacktrace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3bc7d3da42280cc96265818918405dcf97e4087c/src%2Flibstd%2Frt%2Fbacktrace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frt%2Fbacktrace.rs?ref=3bc7d3da42280cc96265818918405dcf97e4087c", "patch": "@@ -701,7 +701,7 @@ mod imp {\n     static IMAGE_FILE_MACHINE_IA64: libc::DWORD = 0x0200;\n     static IMAGE_FILE_MACHINE_AMD64: libc::DWORD = 0x8664;\n \n-    #[repr(C, packed)]\n+    #[repr(C)]\n     struct SYMBOL_INFO {\n         SizeOfStruct: libc::c_ulong,\n         TypeIndex: libc::c_ulong,\n@@ -983,8 +983,10 @@ mod imp {\n             try!(write!(w, \"  {:2}: {:#2$x}\", i, addr, super::HEX_WIDTH));\n             let mut info: SYMBOL_INFO = unsafe { intrinsics::init() };\n             info.MaxNameLen = MAX_SYM_NAME as libc::c_ulong;\n-            info.SizeOfStruct = (mem::size_of::<SYMBOL_INFO>() -\n-                                 info.Name.len() + 1) as libc::c_ulong;\n+            // the struct size in C.  the value is different to\n+            // `size_of::<SYMBOL_INFO>() - MAX_SYM_NAME + 1` (== 81)\n+            // due to struct alignment.\n+            info.SizeOfStruct = 88;\n \n             let mut displacement = 0u64;\n             let ret = SymFromAddr(process, addr as u64, &mut displacement,"}]}