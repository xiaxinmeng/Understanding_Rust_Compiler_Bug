{"sha": "be79edba71ed5f6021ba20f55a03f5d7474ef86b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJlNzllZGJhNzFlZDVmNjAyMWJhMjBmNTVhMDNmNWQ3NDc0ZWY4NmI=", "commit": {"author": {"name": "Luqman Aden", "email": "laden@csclub.uwaterloo.ca", "date": "2014-05-18T07:04:50Z"}, "committer": {"name": "Luqman Aden", "email": "laden@csclub.uwaterloo.ca", "date": "2014-05-18T07:04:50Z"}, "message": "Update debuginfo tests.", "tree": {"sha": "b62a5e4459e85e22fd658b353d6e626f7aeb2721", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b62a5e4459e85e22fd658b353d6e626f7aeb2721"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/be79edba71ed5f6021ba20f55a03f5d7474ef86b", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/be79edba71ed5f6021ba20f55a03f5d7474ef86b", "html_url": "https://github.com/rust-lang/rust/commit/be79edba71ed5f6021ba20f55a03f5d7474ef86b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/be79edba71ed5f6021ba20f55a03f5d7474ef86b/comments", "author": {"login": "luqmana", "id": 287063, "node_id": "MDQ6VXNlcjI4NzA2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luqmana", "html_url": "https://github.com/luqmana", "followers_url": "https://api.github.com/users/luqmana/followers", "following_url": "https://api.github.com/users/luqmana/following{/other_user}", "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}", "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions", "organizations_url": "https://api.github.com/users/luqmana/orgs", "repos_url": "https://api.github.com/users/luqmana/repos", "events_url": "https://api.github.com/users/luqmana/events{/privacy}", "received_events_url": "https://api.github.com/users/luqmana/received_events", "type": "User", "site_admin": false}, "committer": {"login": "luqmana", "id": 287063, "node_id": "MDQ6VXNlcjI4NzA2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luqmana", "html_url": "https://github.com/luqmana", "followers_url": "https://api.github.com/users/luqmana/followers", "following_url": "https://api.github.com/users/luqmana/following{/other_user}", "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}", "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions", "organizations_url": "https://api.github.com/users/luqmana/orgs", "repos_url": "https://api.github.com/users/luqmana/repos", "events_url": "https://api.github.com/users/luqmana/events{/privacy}", "received_events_url": "https://api.github.com/users/luqmana/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "28243a5c0ead225f6e7e917d44333359d3428d16", "url": "https://api.github.com/repos/rust-lang/rust/commits/28243a5c0ead225f6e7e917d44333359d3428d16", "html_url": "https://github.com/rust-lang/rust/commit/28243a5c0ead225f6e7e917d44333359d3428d16"}], "stats": {"total": 30, "additions": 16, "deletions": 14}, "files": [{"sha": "803d0aed593a3d8439e2cb379ecfb9c16b7371b6", "filename": "src/test/debuginfo/option-like-enum.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/be79edba71ed5f6021ba20f55a03f5d7474ef86b/src%2Ftest%2Fdebuginfo%2Foption-like-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/be79edba71ed5f6021ba20f55a03f5d7474ef86b/src%2Ftest%2Fdebuginfo%2Foption-like-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Foption-like-enum.rs?ref=be79edba71ed5f6021ba20f55a03f5d7474ef86b", "patch": "@@ -16,10 +16,10 @@\n // gdb-command:finish\n \n // gdb-command:print some\n-// gdb-check:$1 = {0x12345678}\n+// gdb-check:$1 = (u32 *) 0x12345678\n \n // gdb-command:print none\n-// gdb-check:$2 = {0x0}\n+// gdb-check:$2 = (u32 *) 0x0\n \n // gdb-command:print full\n // gdb-check:$3 = {454545, 0x87654321, 9988}\n@@ -41,6 +41,8 @@\n // contains a non-nullable pointer, then this value is used as the discriminator.\n // The test cases in this file make sure that something readable is generated for\n // this kind of types.\n+// If the non-empty variant contains a single non-nullable pointer than the whole\n+// item is represented as just a pointer and not wrapped in a struct.\n // Unfortunately (for these test cases) the content of the non-discriminant fields\n // in the null-case is not defined. So we just read the discriminator field in\n // this case (by casting the value to a memory-equivalent struct)."}, {"sha": "aa13072eb5316606935026b6d77aa9ca5ef61478", "filename": "src/test/debuginfo/recursive-struct.rs", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/be79edba71ed5f6021ba20f55a03f5d7474ef86b/src%2Ftest%2Fdebuginfo%2Frecursive-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/be79edba71ed5f6021ba20f55a03f5d7474ef86b/src%2Ftest%2Fdebuginfo%2Frecursive-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Frecursive-struct.rs?ref=be79edba71ed5f6021ba20f55a03f5d7474ef86b", "patch": "@@ -20,53 +20,53 @@\n \n // gdb-command:print stack_unique.value\n // gdb-check:$1 = 0\n-// gdb-command:print stack_unique.next.val->value\n+// gdb-command:print stack_unique.next->value\n // gdb-check:$2 = 1\n \n // gdb-command:print unique_unique->value\n // gdb-check:$3 = 2\n-// gdb-command:print unique_unique->next.val->value\n+// gdb-command:print unique_unique->next->value\n // gdb-check:$4 = 3\n \n // gdb-command:print box_unique->val.value\n // gdb-check:$5 = 4\n-// gdb-command:print box_unique->val.next.val->value\n+// gdb-command:print box_unique->val.next->value\n // gdb-check:$6 = 5\n \n // gdb-command:print vec_unique[0].value\n // gdb-check:$7 = 6.5\n-// gdb-command:print vec_unique[0].next.val->value\n+// gdb-command:print vec_unique[0].next->value\n // gdb-check:$8 = 7.5\n \n // gdb-command:print borrowed_unique->value\n // gdb-check:$9 = 8.5\n-// gdb-command:print borrowed_unique->next.val->value\n+// gdb-command:print borrowed_unique->next->value\n // gdb-check:$10 = 9.5\n \n // MANAGED\n // gdb-command:print stack_managed.value\n // gdb-check:$11 = 10\n-// gdb-command:print stack_managed.next.val->val.value\n+// gdb-command:print stack_managed.next.val->value\n // gdb-check:$12 = 11\n \n // gdb-command:print unique_managed->value\n // gdb-check:$13 = 12\n-// gdb-command:print unique_managed->next.val->val.value\n+// gdb-command:print unique_managed->next.val->value\n // gdb-check:$14 = 13\n \n-// gdb-command:print box_managed->val.value\n+// gdb-command:print box_managed.val->value\n // gdb-check:$15 = 14\n-// gdb-command:print box_managed->val.next.val->val.value\n+// gdb-command:print box_managed->val->next.val->value\n // gdb-check:$16 = 15\n \n // gdb-command:print vec_managed[0].value\n // gdb-check:$17 = 16.5\n-// gdb-command:print vec_managed[0].next.val->val.value\n+// gdb-command:print vec_managed[0].next.val->value\n // gdb-check:$18 = 17.5\n \n // gdb-command:print borrowed_managed->value\n // gdb-check:$19 = 18.5\n-// gdb-command:print borrowed_managed->next.val->val.value\n+// gdb-command:print borrowed_managed->next.val->value\n // gdb-check:$20 = 19.5\n \n // LONG CYCLE\n@@ -97,7 +97,7 @@\n // gdb-command:print (*****long_cycle_w_anonymous_types).value\n // gdb-check:$31 = 30\n \n-// gdb-command:print (*****((*****long_cycle_w_anonymous_types).next.val)).value\n+// gdb-command:print (*****((*****long_cycle_w_anonymous_types).next)).value\n // gdb-check:$32 = 31\n \n // gdb-command:continue"}]}