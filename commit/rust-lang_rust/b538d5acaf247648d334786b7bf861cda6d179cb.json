{"sha": "b538d5acaf247648d334786b7bf861cda6d179cb", "node_id": "C_kwDOAAsO6NoAKGI1MzhkNWFjYWYyNDc2NDhkMzM0Nzg2YjdiZjg2MWNkYTZkMTc5Y2I", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-07-16T08:53:01Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-07-16T08:53:01Z"}, "message": "Rollup merge of #99253 - pierwill:pierwill/rm-storage-fixme, r=oli-obk\n\nRemove FIXME from MIR `always_storage_live_locals`\n\nSee discussion in https://github.com/rust-lang/rust/pull/99025#issuecomment-1183347428.", "tree": {"sha": "a11502580c4c100054bb1048e6be2855eda3f88b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a11502580c4c100054bb1048e6be2855eda3f88b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b538d5acaf247648d334786b7bf861cda6d179cb", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJi0nxtCRBK7hj4Ov3rIwAAbTAIAD1PMTSGMsCQDlgkHtRHbHyj\nWaeTF/+oX+LzFXe7e0gy364LXbxE+/b54oPQntvsvo/kuAIVrryGsc6/Vz9k408U\njatxO6nzwMTffJWWpFFJ0OCw993suW8wvulArePFb7jIFFqXmZ0IX1aSBuiOw7wE\n6HCKVLp+Kmzj8WwkJnIGw3tmdWW5Qz1dAK4LqemMcj2h8p5sthf/MZEGgPiOQB6s\n7HYKR8+k+591J8zOEdFD/nZYnxM1Y1VYtn9RP8fZVRavO5Yv94uA5+BsTeGmg1JM\n7TpGlCxrq4vE/oJQTGcroWXka2YmEYk8ayeP+85MT1VSZIuc14vUnYd9v3MTQps=\n=bZI9\n-----END PGP SIGNATURE-----\n", "payload": "tree a11502580c4c100054bb1048e6be2855eda3f88b\nparent 06eb90ef634797ee071f8a1653c2f6cc950a2ed5\nparent 0d45977aa552d0d1c8ec89ac470206f8a38a1e1b\nauthor Yuki Okushi <jtitor@2k36.org> 1657961581 +0900\ncommitter GitHub <noreply@github.com> 1657961581 +0900\n\nRollup merge of #99253 - pierwill:pierwill/rm-storage-fixme, r=oli-obk\n\nRemove FIXME from MIR `always_storage_live_locals`\n\nSee discussion in https://github.com/rust-lang/rust/pull/99025#issuecomment-1183347428.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b538d5acaf247648d334786b7bf861cda6d179cb", "html_url": "https://github.com/rust-lang/rust/commit/b538d5acaf247648d334786b7bf861cda6d179cb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b538d5acaf247648d334786b7bf861cda6d179cb/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "06eb90ef634797ee071f8a1653c2f6cc950a2ed5", "url": "https://api.github.com/repos/rust-lang/rust/commits/06eb90ef634797ee071f8a1653c2f6cc950a2ed5", "html_url": "https://github.com/rust-lang/rust/commit/06eb90ef634797ee071f8a1653c2f6cc950a2ed5"}, {"sha": "0d45977aa552d0d1c8ec89ac470206f8a38a1e1b", "url": "https://api.github.com/repos/rust-lang/rust/commits/0d45977aa552d0d1c8ec89ac470206f8a38a1e1b", "html_url": "https://github.com/rust-lang/rust/commit/0d45977aa552d0d1c8ec89ac470206f8a38a1e1b"}], "stats": {"total": 3, "additions": 0, "deletions": 3}, "files": [{"sha": "c909648ea017ebbb49b4f06ccf5cb0c9fe286bfe", "filename": "compiler/rustc_mir_dataflow/src/storage.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b538d5acaf247648d334786b7bf861cda6d179cb/compiler%2Frustc_mir_dataflow%2Fsrc%2Fstorage.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b538d5acaf247648d334786b7bf861cda6d179cb/compiler%2Frustc_mir_dataflow%2Fsrc%2Fstorage.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_dataflow%2Fsrc%2Fstorage.rs?ref=b538d5acaf247648d334786b7bf861cda6d179cb", "patch": "@@ -4,9 +4,6 @@ use rustc_middle::mir::{self, Local};\n /// The set of locals in a MIR body that do not have `StorageLive`/`StorageDead` annotations.\n ///\n /// These locals have fixed storage for the duration of the body.\n-//\n-// FIXME: Currently, we need to traverse the entire MIR to compute this. We should instead store it\n-// as a field in the `LocalDecl` for each `Local`.\n pub fn always_storage_live_locals(body: &mir::Body<'_>) -> BitSet<Local> {\n     let mut always_live_locals = BitSet::new_filled(body.local_decls.len());\n "}]}