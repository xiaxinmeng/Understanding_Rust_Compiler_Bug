{"sha": "e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUxZWY4YmExNDI3ZmIzMTMyOWE0NzAzZWIzZWYzZTcyZWQwZTc0MjU=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@commure.com", "date": "2018-07-18T19:35:20Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@commure.com", "date": "2018-07-20T16:17:18Z"}, "message": "Reword when `_` couldn't be inferred", "tree": {"sha": "9b585b88923d7fb716223230f983cdd354ac9542", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9b585b88923d7fb716223230f983cdd354ac9542"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "html_url": "https://github.com/rust-lang/rust/commit/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/comments", "author": null, "committer": null, "parents": [{"sha": "509cbf3e8ecf1cf92b7051fa54e9360ad7b7449f", "url": "https://api.github.com/repos/rust-lang/rust/commits/509cbf3e8ecf1cf92b7051fa54e9360ad7b7449f", "html_url": "https://github.com/rust-lang/rust/commit/509cbf3e8ecf1cf92b7051fa54e9360ad7b7449f"}], "stats": {"total": 37, "additions": 22, "deletions": 15}, "files": [{"sha": "dbcb63addb846f3ee68ebc05add77f631357dddb", "filename": "src/librustc/infer/error_reporting/need_type_info.rs", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Flibrustc%2Finfer%2Ferror_reporting%2Fneed_type_info.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Flibrustc%2Finfer%2Ferror_reporting%2Fneed_type_info.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Ferror_reporting%2Fneed_type_info.rs?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -97,7 +97,14 @@ impl<'a, 'gcx, 'tcx> InferCtxt<'a, 'gcx, 'tcx> {\n         let name = self.extract_type_name(&ty);\n \n         let mut err_span = span;\n-        let mut labels = vec![(span, format!(\"cannot infer type for `{}`\", name))];\n+        let mut labels = vec![(\n+            span,\n+            if &name == \"_\" {\n+                \"cannot infer type\".to_string()\n+            } else {\n+                format!(\"cannot infer type for `{}`\", name)\n+            },\n+        )];\n \n         let mut local_visitor = FindLocalByTypeVisitor {\n             infcx: &self,"}, {"sha": "6862e2d8688fd6d8b2e09a947bf586c1904b9bba", "filename": "src/test/ui/error-codes/E0282.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Ferror-codes%2FE0282.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Ferror-codes%2FE0282.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0282.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -4,7 +4,7 @@ error[E0282]: type annotations needed\n LL |     let x = \"hello\".chars().rev().collect(); //~ ERROR E0282\n    |         ^\n    |         |\n-   |         cannot infer type for `_`\n+   |         cannot infer type\n    |         consider giving `x` a type\n \n error: aborting due to previous error"}, {"sha": "94afd6aab574f7661684707ca67a0e7bceec4f10", "filename": "src/test/ui/issue-12187-1.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-12187-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-12187-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-12187-1.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -4,7 +4,7 @@ error[E0282]: type annotations needed\n LL |     let &v = new();\n    |         -^\n    |         ||\n-   |         |cannot infer type for `_`\n+   |         |cannot infer type\n    |         consider giving the pattern a type\n \n error: aborting due to previous error"}, {"sha": "90b41e397c6d03f107140e457a46a981f71a8bcf", "filename": "src/test/ui/issue-12187-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-12187-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-12187-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-12187-2.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -4,7 +4,7 @@ error[E0282]: type annotations needed\n LL |     let &v = new();\n    |         -^\n    |         ||\n-   |         |cannot infer type for `_`\n+   |         |cannot infer type\n    |         consider giving the pattern a type\n \n error: aborting due to previous error"}, {"sha": "3162556986e2b0eed2a1942b4defd68eb75a9599", "filename": "src/test/ui/issue-15965.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-15965.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-15965.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-15965.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -4,7 +4,7 @@ error[E0282]: type annotations needed\n LL | /         { return () }\n LL | | //~^ ERROR type annotations needed [E0282]\n LL | |     ()\n-   | |______^ cannot infer type for `_`\n+   | |______^ cannot infer type\n    |\n    = note: type must be known at this point\n "}, {"sha": "084e859111bf133e532f5f5d446e7ce236adcc43", "filename": "src/test/ui/issue-18159.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-18159.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-18159.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-18159.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -4,7 +4,7 @@ error[E0282]: type annotations needed\n LL |     let x; //~ ERROR type annotations needed\n    |         ^\n    |         |\n-   |         cannot infer type for `_`\n+   |         cannot infer type\n    |         consider giving `x` a type\n \n error: aborting due to previous error"}, {"sha": "6cdddcff9291326be0863a5b2a0db157f59cc91b", "filename": "src/test/ui/issue-20261.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-20261.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-20261.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-20261.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -4,7 +4,7 @@ error[E0282]: type annotations needed\n LL |     for (ref i,) in [].iter() {\n    |                     --------- the element type for this iterator is not specified\n LL |         i.clone();\n-   |           ^^^^^ cannot infer type for `_`\n+   |           ^^^^^ cannot infer type\n    |\n    = note: type must be known at this point\n "}, {"sha": "516c5287b319a4e2acd179e826c4a2b111158478", "filename": "src/test/ui/issue-2151.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-2151.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-2151.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-2151.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -4,7 +4,7 @@ error[E0282]: type annotations needed\n LL |     let x = panic!();\n    |         - consider giving `x` a type\n LL |     x.clone(); //~ ERROR type annotations needed\n-   |     ^ cannot infer type for `_`\n+   |     ^ cannot infer type\n    |\n    = note: type must be known at this point\n "}, {"sha": "e97a97fec09f28457de4c18ca2beb68dda8b72d1", "filename": "src/test/ui/issue-23041.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-23041.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-23041.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-23041.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -2,7 +2,7 @@ error[E0282]: type annotations needed\n   --> $DIR/issue-23041.rs:16:22\n    |\n LL |     b.downcast_ref::<fn(_)->_>(); //~ ERROR E0282\n-   |                      ^^^^^^^^ cannot infer type for `_`\n+   |                      ^^^^^^^^ cannot infer type\n \n error: aborting due to previous error\n "}, {"sha": "5729bdf2064f5df6569d2971ec28c391ae9b7092", "filename": "src/test/ui/issue-24013.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-24013.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-24013.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-24013.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -2,7 +2,7 @@ error[E0282]: type annotations needed\n   --> $DIR/issue-24013.rs:15:20\n    |\n LL |     unsafe {swap::<&mut _>(transmute(&a), transmute(&b))};\n-   |                    ^^^^^^ cannot infer type for `_`\n+   |                    ^^^^^^ cannot infer type\n \n error: aborting due to previous error\n "}, {"sha": "3ab01982057b459596581cf8f5ea38ff0658cccd", "filename": "src/test/ui/issue-7813.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-7813.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fissue-7813.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-7813.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -2,7 +2,7 @@ error[E0282]: type annotations needed\n   --> $DIR/issue-7813.rs:12:13\n    |\n LL |     let v = &[]; //~ ERROR type annotations needed\n-   |         -   ^^^ cannot infer type for `_`\n+   |         -   ^^^ cannot infer type\n    |         |\n    |         consider giving `v` a type\n "}, {"sha": "d2d5a4a4b12655707ee49d2196b1989fd6eb744a", "filename": "src/test/ui/span/issue-42234-unknown-receiver-type.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fspan%2Fissue-42234-unknown-receiver-type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fspan%2Fissue-42234-unknown-receiver-type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-42234-unknown-receiver-type.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -13,7 +13,7 @@ error[E0282]: type annotations needed\n    |\n LL | /     data.iter() //~ ERROR 22:5: 23:20: type annotations needed\n LL | |         .sum::<_>()\n-   | |___________________^ cannot infer type for `_`\n+   | |___________________^ cannot infer type\n    |\n    = note: type must be known at this point\n "}, {"sha": "8a8c1e467b9fa7a007eae1063ed4f1a1cec76ae5", "filename": "src/test/ui/span/method-and-field-eager-resolution.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fspan%2Fmethod-and-field-eager-resolution.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Fspan%2Fmethod-and-field-eager-resolution.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fmethod-and-field-eager-resolution.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -4,7 +4,7 @@ error[E0282]: type annotations needed\n LL |     let mut x = Default::default();\n    |         ----- consider giving `x` a type\n LL |     x.0;\n-   |     ^ cannot infer type for `_`\n+   |     ^ cannot infer type\n    |\n    = note: type must be known at this point\n \n@@ -14,7 +14,7 @@ error[E0282]: type annotations needed\n LL |     let mut x = Default::default();\n    |         ----- consider giving `x` a type\n LL |     x[0];\n-   |     ^ cannot infer type for `_`\n+   |     ^ cannot infer type\n    |\n    = note: type must be known at this point\n "}, {"sha": "bfdd614e50d313e562450785ad44507d858a0621", "filename": "src/test/ui/type-check/cannot_infer_local_or_array.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Ftype-check%2Fcannot_infer_local_or_array.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425/src%2Ftest%2Fui%2Ftype-check%2Fcannot_infer_local_or_array.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-check%2Fcannot_infer_local_or_array.stderr?ref=e1ef8ba1427fb31329a4703eb3ef3e72ed0e7425", "patch": "@@ -2,7 +2,7 @@ error[E0282]: type annotations needed\n   --> $DIR/cannot_infer_local_or_array.rs:12:13\n    |\n LL |     let x = []; //~ ERROR type annotations needed\n-   |         -   ^^ cannot infer type for `_`\n+   |         -   ^^ cannot infer type\n    |         |\n    |         consider giving `x` a type\n "}]}