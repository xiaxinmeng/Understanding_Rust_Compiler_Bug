{"sha": "3a863a3f456bf64658256d05cf51df61e957d74b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNhODYzYTNmNDU2YmY2NDY1ODI1NmQwNWNmNTFkZjYxZTk1N2Q3NGI=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-01-25T14:52:15Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-01-25T14:52:15Z"}, "message": "Rollup merge of #47700 - EdSchouten:cc104, r=kennytm\n\nRemove workarounds for cc 1.0.3.\n\nNow that the Rust codebase depends on cc 1.0.4, there is no longer any\nneed to specify a compiler for CloudABI manually. Cargo will\nautomatically call into the right compiler executable.", "tree": {"sha": "f1ebe9a830ae912b85d2d2830a80affeaf471beb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f1ebe9a830ae912b85d2d2830a80affeaf471beb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3a863a3f456bf64658256d05cf51df61e957d74b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3a863a3f456bf64658256d05cf51df61e957d74b", "html_url": "https://github.com/rust-lang/rust/commit/3a863a3f456bf64658256d05cf51df61e957d74b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3a863a3f456bf64658256d05cf51df61e957d74b/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "df55cee0e5f14d16a7a08c6eaa16a6997ef108fc", "url": "https://api.github.com/repos/rust-lang/rust/commits/df55cee0e5f14d16a7a08c6eaa16a6997ef108fc", "html_url": "https://github.com/rust-lang/rust/commit/df55cee0e5f14d16a7a08c6eaa16a6997ef108fc"}, {"sha": "583b382debc028d7003850ca6970798515a2fbee", "url": "https://api.github.com/repos/rust-lang/rust/commits/583b382debc028d7003850ca6970798515a2fbee", "html_url": "https://github.com/rust-lang/rust/commit/583b382debc028d7003850ca6970798515a2fbee"}], "stats": {"total": 13, "additions": 0, "deletions": 13}, "files": [{"sha": "5f342eb570502bd4897e896d20b6692ab201b0c8", "filename": "src/ci/docker/dist-various-2/Dockerfile", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/3a863a3f456bf64658256d05cf51df61e957d74b/src%2Fci%2Fdocker%2Fdist-various-2%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/3a863a3f456bf64658256d05cf51df61e957d74b/src%2Fci%2Fdocker%2Fdist-various-2%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-various-2%2FDockerfile?ref=3a863a3f456bf64658256d05cf51df61e957d74b", "patch": "@@ -47,13 +47,6 @@ ENV \\\n     CC_x86_64_sun_solaris=x86_64-sun-solaris2.10-gcc \\\n     CXX_x86_64_sun_solaris=x86_64-sun-solaris2.10-g++\n \n-# FIXME(EdSchouten): Remove this once cc \u22651.0.4 has been merged. It can\n-# automatically pick the right compiler path.\n-ENV \\\n-    AR_x86_64_unknown_cloudabi=x86_64-unknown-cloudabi-ar \\\n-    CC_x86_64_unknown_cloudabi=x86_64-unknown-cloudabi-clang \\\n-    CXX_x86_64_unknown_cloudabi=x86_64-unknown-cloudabi-clang++\n-\n ENV TARGETS=x86_64-unknown-fuchsia\n ENV TARGETS=$TARGETS,aarch64-unknown-fuchsia\n ENV TARGETS=$TARGETS,sparcv9-sun-solaris"}, {"sha": "8c04d849e8d0a9d5f800c4c8878ed2cde026d22e", "filename": "src/ci/docker/dist-various-2/build-cloudabi-toolchain.sh", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3a863a3f456bf64658256d05cf51df61e957d74b/src%2Fci%2Fdocker%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/3a863a3f456bf64658256d05cf51df61e957d74b/src%2Fci%2Fdocker%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh?ref=3a863a3f456bf64658256d05cf51df61e957d74b", "patch": "@@ -40,12 +40,6 @@ ln -s ../lib/llvm-5.0/bin/clang /usr/bin/${target}-c++\n ln -s ../lib/llvm-5.0/bin/lld /usr/bin/${target}-ld\n ln -s ../../${target} /usr/lib/llvm-5.0/${target}\n \n-# FIXME(EdSchouten): Remove this once cc \u22651.0.4 has been merged. It\n-# can make use of ${target}-cc and ${target}-c++, without incorrectly\n-# assuming it's MSVC.\n-ln -s ../lib/llvm-5.0/bin/clang /usr/bin/${target}-clang\n-ln -s ../lib/llvm-5.0/bin/clang /usr/bin/${target}-clang++\n-\n # Install the C++ runtime libraries from CloudABI Ports.\n echo deb https://nuxi.nl/distfiles/cloudabi-ports/debian/ cloudabi cloudabi > \\\n     /etc/apt/sources.list.d/cloudabi.list"}]}