{"sha": "02e565a187adc0b5a7348852de664be26eb1701c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAyZTU2NWExODdhZGMwYjVhNzM0ODg1MmRlNjY0YmUyNmViMTcwMWM=", "commit": {"author": {"name": "Eric Holk", "email": "eric.holk@gmail.com", "date": "2013-11-19T17:46:28Z"}, "committer": {"name": "Eric Holk", "email": "eric.holk@gmail.com", "date": "2013-11-19T17:46:28Z"}, "message": "Don't use win64 calling convention on 32-bit machines.", "tree": {"sha": "9903d7fc5da54fa51ec5e1da8f42541e48fe237f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9903d7fc5da54fa51ec5e1da8f42541e48fe237f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/02e565a187adc0b5a7348852de664be26eb1701c", "comment_count": 9, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/02e565a187adc0b5a7348852de664be26eb1701c", "html_url": "https://github.com/rust-lang/rust/commit/02e565a187adc0b5a7348852de664be26eb1701c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/02e565a187adc0b5a7348852de664be26eb1701c/comments", "author": {"login": "eholk", "id": 105766, "node_id": "MDQ6VXNlcjEwNTc2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eholk", "html_url": "https://github.com/eholk", "followers_url": "https://api.github.com/users/eholk/followers", "following_url": "https://api.github.com/users/eholk/following{/other_user}", "gists_url": "https://api.github.com/users/eholk/gists{/gist_id}", "starred_url": "https://api.github.com/users/eholk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eholk/subscriptions", "organizations_url": "https://api.github.com/users/eholk/orgs", "repos_url": "https://api.github.com/users/eholk/repos", "events_url": "https://api.github.com/users/eholk/events{/privacy}", "received_events_url": "https://api.github.com/users/eholk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eholk", "id": 105766, "node_id": "MDQ6VXNlcjEwNTc2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/105766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eholk", "html_url": "https://github.com/eholk", "followers_url": "https://api.github.com/users/eholk/followers", "following_url": "https://api.github.com/users/eholk/following{/other_user}", "gists_url": "https://api.github.com/users/eholk/gists{/gist_id}", "starred_url": "https://api.github.com/users/eholk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eholk/subscriptions", "organizations_url": "https://api.github.com/users/eholk/orgs", "repos_url": "https://api.github.com/users/eholk/repos", "events_url": "https://api.github.com/users/eholk/events{/privacy}", "received_events_url": "https://api.github.com/users/eholk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5b534e4a22d914e284c650f4504789c2678961bd", "url": "https://api.github.com/repos/rust-lang/rust/commits/5b534e4a22d914e284c650f4504789c2678961bd", "html_url": "https://github.com/rust-lang/rust/commit/5b534e4a22d914e284c650f4504789c2678961bd"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "41c57831da64fe4443d04a37c02d291fb4ac06af", "filename": "src/test/auxiliary/extern_calling_convention.rs", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/02e565a187adc0b5a7348852de664be26eb1701c/src%2Ftest%2Fauxiliary%2Fextern_calling_convention.rs", "raw_url": "https://github.com/rust-lang/rust/raw/02e565a187adc0b5a7348852de664be26eb1701c/src%2Ftest%2Fauxiliary%2Fextern_calling_convention.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fextern_calling_convention.rs?ref=02e565a187adc0b5a7348852de664be26eb1701c", "patch": "@@ -12,16 +12,26 @@\n // functions.\n \n #[inline(never)]\n+#[cfg(target_arch = \"x86_64\")]\n pub extern \"win64\" fn foo(a: int, b: int, c: int, d: int) {\n     assert!(a == 1);\n     assert!(b == 2);\n     assert!(c == 3);\n     assert!(d == 4);\n-    \n+\n     println!(\"a: {:?}, b: {:?}, c: {:?}, d: {:?}\",\n              a, b, c, d)\n }\n \n-fn main() {\n-    foo(1, 2, 3, 4)\n+#[inline(never)]\n+#[cfg(target_arch = \"x86\")]\n+#[cfg(target_arch = \"arm\")]\n+pub extern fn foo(a: int, b: int, c: int, d: int) {\n+    assert!(a == 1);\n+    assert!(b == 2);\n+    assert!(c == 3);\n+    assert!(d == 4);\n+\n+    println!(\"a: {:?}, b: {:?}, c: {:?}, d: {:?}\",\n+             a, b, c, d)\n }"}]}