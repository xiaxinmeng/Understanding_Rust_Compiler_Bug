{"sha": "85e2bee4a2ca3e63ea47389377b632403db20195", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg1ZTJiZWU0YTJjYTNlNjNlYTQ3Mzg5Mzc3YjYzMjQwM2RiMjAxOTU=", "commit": {"author": {"name": "kwantam", "email": "kwantam@gmail.com", "date": "2014-07-08T18:46:01Z"}, "committer": {"name": "kwantam", "email": "kwantam@gmail.com", "date": "2014-07-09T14:14:46Z"}, "message": "fix test failures\n\n- unicode tests live in coretest crate\n- libcollections str tests need UnicodeChar trait.\n- libregex perlw tests were checking a char in the Alphabetic category,\n  \\x2161. Confirmed perl 5.18 considers this a \\w character. Changed to\n  \\x2961, which is not \\w as the test expects.", "tree": {"sha": "b9c2f10bc016ecb891fabc639953118597643f6f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b9c2f10bc016ecb891fabc639953118597643f6f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/85e2bee4a2ca3e63ea47389377b632403db20195", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/85e2bee4a2ca3e63ea47389377b632403db20195", "html_url": "https://github.com/rust-lang/rust/commit/85e2bee4a2ca3e63ea47389377b632403db20195", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/85e2bee4a2ca3e63ea47389377b632403db20195/comments", "author": {"login": "kwantam", "id": 716593, "node_id": "MDQ6VXNlcjcxNjU5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/716593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwantam", "html_url": "https://github.com/kwantam", "followers_url": "https://api.github.com/users/kwantam/followers", "following_url": "https://api.github.com/users/kwantam/following{/other_user}", "gists_url": "https://api.github.com/users/kwantam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwantam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwantam/subscriptions", "organizations_url": "https://api.github.com/users/kwantam/orgs", "repos_url": "https://api.github.com/users/kwantam/repos", "events_url": "https://api.github.com/users/kwantam/events{/privacy}", "received_events_url": "https://api.github.com/users/kwantam/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kwantam", "id": 716593, "node_id": "MDQ6VXNlcjcxNjU5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/716593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwantam", "html_url": "https://github.com/kwantam", "followers_url": "https://api.github.com/users/kwantam/followers", "following_url": "https://api.github.com/users/kwantam/following{/other_user}", "gists_url": "https://api.github.com/users/kwantam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwantam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwantam/subscriptions", "organizations_url": "https://api.github.com/users/kwantam/orgs", "repos_url": "https://api.github.com/users/kwantam/repos", "events_url": "https://api.github.com/users/kwantam/events{/privacy}", "received_events_url": "https://api.github.com/users/kwantam/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5d4238b6fc8769c35ff5818ed04d16a6deab784f", "url": "https://api.github.com/repos/rust-lang/rust/commits/5d4238b6fc8769c35ff5818ed04d16a6deab784f", "html_url": "https://github.com/rust-lang/rust/commit/5d4238b6fc8769c35ff5818ed04d16a6deab784f"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "48a5bf6caf4cc2fc320be0edce7db7852be5d494", "filename": "mk/crates.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/85e2bee4a2ca3e63ea47389377b632403db20195/mk%2Fcrates.mk", "raw_url": "https://github.com/rust-lang/rust/raw/85e2bee4a2ca3e63ea47389377b632403db20195/mk%2Fcrates.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcrates.mk?ref=85e2bee4a2ca3e63ea47389377b632403db20195", "patch": "@@ -52,7 +52,7 @@\n TARGET_CRATES := libc std green rustuv native flate arena glob term semver \\\n                  uuid serialize sync getopts collections num test time rand \\\n                  url log regex graphviz core rlibc alloc debug rustrt \\\n-\t\t\t\t unicode\n+                 unicode\n HOST_CRATES := syntax rustc rustdoc fourcc hexfloat regex_macros fmt_macros\n CRATES := $(TARGET_CRATES) $(HOST_CRATES)\n TOOLS := compiletest rustdoc rustc"}, {"sha": "2090f89e796cc4313f609cfaecbed03f6dbc0cbe", "filename": "mk/tests.mk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/85e2bee4a2ca3e63ea47389377b632403db20195/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/85e2bee4a2ca3e63ea47389377b632403db20195/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=85e2bee4a2ca3e63ea47389377b632403db20195", "patch": "@@ -15,11 +15,11 @@\n \n # The names of crates that must be tested\n \n-# libcore tests are in a separate crate\n+# libcore/libunicode tests are in a separate crate\n DEPS_coretest :=\n $(eval $(call RUST_CRATE,coretest))\n \n-TEST_TARGET_CRATES = $(filter-out core,$(TARGET_CRATES)) coretest\n+TEST_TARGET_CRATES = $(filter-out core unicode,$(TARGET_CRATES)) coretest\n TEST_DOC_CRATES = $(DOC_CRATES)\n TEST_HOST_CRATES = $(HOST_CRATES)\n TEST_CRATES = $(TEST_TARGET_CRATES) $(TEST_HOST_CRATES)"}, {"sha": "fc99c967e9f278bee0ba06bc8f8285d3d3c6e80f", "filename": "src/libcollections/str.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/85e2bee4a2ca3e63ea47389377b632403db20195/src%2Flibcollections%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85e2bee4a2ca3e63ea47389377b632403db20195/src%2Flibcollections%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fstr.rs?ref=85e2bee4a2ca3e63ea47389377b632403db20195", "patch": "@@ -972,6 +972,8 @@ mod tests {\n     use string::String;\n     use vec::Vec;\n \n+    use unicode::UnicodeChar;\n+\n     #[test]\n     fn test_eq_slice() {\n         assert!((eq_slice(\"foobar\".slice(0, 3), \"foo\")));"}, {"sha": "251ab10ad34e9d47c2950357647522ccf340b238", "filename": "src/libregex/test/tests.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/85e2bee4a2ca3e63ea47389377b632403db20195/src%2Flibregex%2Ftest%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85e2bee4a2ca3e63ea47389377b632403db20195/src%2Flibregex%2Ftest%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibregex%2Ftest%2Ftests.rs?ref=85e2bee4a2ca3e63ea47389377b632403db20195", "patch": "@@ -195,8 +195,8 @@ mat!(uni_case_lower, r\"\\p{Ll}+\", \"\u039b\u0398\u0393\u0394\u03b1\", Some((8, 10)))\n \n // Test the Unicode friendliness of Perl character classes.\n mat!(uni_perl_w, r\"\\w+\", \"d\u03b4d\", Some((0, 4)))\n-mat!(uni_perl_w_not, r\"\\w+\", \"\u2161\", None)\n-mat!(uni_perl_w_neg, r\"\\W+\", \"\u2161\", Some((0, 3)))\n+mat!(uni_perl_w_not, r\"\\w+\", \"\u2961\", None)\n+mat!(uni_perl_w_neg, r\"\\W+\", \"\u2961\", Some((0, 3)))\n mat!(uni_perl_d, r\"\\d+\", \"1\u0968\u09699\", Some((0, 8)))\n mat!(uni_perl_d_not, r\"\\d+\", \"\u2161\", None)\n mat!(uni_perl_d_neg, r\"\\D+\", \"\u2161\", Some((0, 3)))"}]}