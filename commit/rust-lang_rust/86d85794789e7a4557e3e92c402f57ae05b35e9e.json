{"sha": "86d85794789e7a4557e3e92c402f57ae05b35e9e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg2ZDg1Nzk0Nzg5ZTdhNDU1N2UzZTkyYzQwMmY1N2FlMDViMzVlOWU=", "commit": {"author": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2014-12-24T02:47:32Z"}, "committer": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2014-12-24T03:14:31Z"}, "message": "rustdoc: unmarked code fences are doctests too", "tree": {"sha": "e7ef8159d228c140854fa4d449e9e0d041132d7f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e7ef8159d228c140854fa4d449e9e0d041132d7f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/86d85794789e7a4557e3e92c402f57ae05b35e9e", "comment_count": 7, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/86d85794789e7a4557e3e92c402f57ae05b35e9e", "html_url": "https://github.com/rust-lang/rust/commit/86d85794789e7a4557e3e92c402f57ae05b35e9e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/86d85794789e7a4557e3e92c402f57ae05b35e9e/comments", "author": null, "committer": null, "parents": [{"sha": "96a3c7c6a051ab2f5fc01fe9e686f7fffcc87c61", "url": "https://api.github.com/repos/rust-lang/rust/commits/96a3c7c6a051ab2f5fc01fe9e686f7fffcc87c61", "html_url": "https://github.com/rust-lang/rust/commit/96a3c7c6a051ab2f5fc01fe9e686f7fffcc87c61"}], "stats": {"total": 27, "additions": 14, "deletions": 13}, "files": [{"sha": "1c079b3a174bc9a3af3a77cd959195fbaf8d489d", "filename": "src/librustdoc/html/markdown.rs", "status": "modified", "additions": 14, "deletions": 13, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/86d85794789e7a4557e3e92c402f57ae05b35e9e/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/86d85794789e7a4557e3e92c402f57ae05b35e9e/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs?ref=86d85794789e7a4557e3e92c402f57ae05b35e9e", "patch": "@@ -387,7 +387,7 @@ impl LangString {\n             should_fail: false,\n             no_run: false,\n             ignore: false,\n-            rust: false,\n+            rust: true,  // NB This used to be `notrust = false`\n             test_harness: false,\n         }\n     }\n@@ -413,7 +413,7 @@ impl LangString {\n             }\n         }\n \n-        data.rust |=  !seen_other_tags || seen_rust_tags;\n+        data.rust &= !seen_other_tags || seen_rust_tags;\n \n         data\n     }\n@@ -465,17 +465,18 @@ mod tests {\n             })\n         }\n \n-        t(\"\", false,false,false,true,false);\n-        t(\"rust\", false,false,false,true,false);\n-        t(\"sh\", false,false,false,false,false);\n-        t(\"ignore\", false,false,true,true,false);\n-        t(\"should_fail\", true,false,false,true,false);\n-        t(\"no_run\", false,true,false,true,false);\n-        t(\"test_harness\", false,false,false,true,true);\n-        t(\"{.no_run .example}\", false,true,false,true,false);\n-        t(\"{.sh .should_fail}\", true,false,false,true,false);\n-        t(\"{.example .rust}\", false,false,false,true,false);\n-        t(\"{.test_harness .rust}\", false,false,false,true,true);\n+        // marker                | should_fail | no_run | ignore | rust | test_harness\n+        t(\"\",                      false,        false,   false,   true,  false);\n+        t(\"rust\",                  false,        false,   false,   true,  false);\n+        t(\"sh\",                    false,        false,   false,   false, false);\n+        t(\"ignore\",                false,        false,   true,    true,  false);\n+        t(\"should_fail\",           true,         false,   false,   true,  false);\n+        t(\"no_run\",                false,        true,    false,   true,  false);\n+        t(\"test_harness\",          false,        false,   false,   true,  true);\n+        t(\"{.no_run .example}\",    false,        true,    false,   true,  false);\n+        t(\"{.sh .should_fail}\",    true,         false,   false,   true,  false);\n+        t(\"{.example .rust}\",      false,        false,   false,   true,  false);\n+        t(\"{.test_harness .rust}\", false,        false,   false,   true,  true);\n     }\n \n     #[test]"}]}