{"sha": "e596aa294b9f0d2413897da2d6b313d1b8d42bf5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU1OTZhYTI5NGI5ZjBkMjQxMzg5N2RhMmQ2YjMxM2QxYjhkNDJiZjU=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-07-16T17:54:10Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-07-16T17:54:10Z"}, "message": "Rollup merge of #87188 - GuillaumeGomez:gui-test-auto-hide-trait-impl, r=notriddle\n\nAdd GUI test for auto-hide-trait-implementations setting\n\nFixes #85592.\n\nr? ``@notriddle``", "tree": {"sha": "ef17da2dbc8a110b329d2a3c659f2680028756dc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ef17da2dbc8a110b329d2a3c659f2680028756dc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e596aa294b9f0d2413897da2d6b313d1b8d42bf5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJg8cfCCRBK7hj4Ov3rIwAAlOsIAAvYYGWv+LayQJGj9ZU4fq+e\n0cN3ZbDIX8S/jqsc47IFaPCxy9oG5tvxWAp1FzpP2KSuuOrGxl/sE63Sftw7aP3d\nEroa+z3kO7F52hG6ysY6TAzI79ze/B5/bGVMXwLAS8NjVeNT29vUn6DBlhU4JEB8\nMe0Q5CWZFW/sG3uqzt2/KmwmUAELxqTM9iaANfT7/iprzM3SHPRZ0Rq+2kfTWwbK\nV2dqwLxk3mIjCD+nBLojpkDUixLMJlHLKE88oGRXOZYpZuToNvchb0+OVTvrtia6\n4p9WVAVr54QF8SX2b2WQKW3KoF2JXvcgobLKSRDB7FWXHsmyO1aCAnXT+mO38Qk=\n=9Vkn\n-----END PGP SIGNATURE-----\n", "payload": "tree ef17da2dbc8a110b329d2a3c659f2680028756dc\nparent 12ed22ffe44d7b06e94c2fe0003ef96a20cf4b98\nparent f6efa3356622a2b939b93cb4a169c24418cf3446\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1626458050 +0200\ncommitter GitHub <noreply@github.com> 1626458050 +0200\n\nRollup merge of #87188 - GuillaumeGomez:gui-test-auto-hide-trait-impl, r=notriddle\n\nAdd GUI test for auto-hide-trait-implementations setting\n\nFixes #85592.\n\nr? ``@notriddle``\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e596aa294b9f0d2413897da2d6b313d1b8d42bf5", "html_url": "https://github.com/rust-lang/rust/commit/e596aa294b9f0d2413897da2d6b313d1b8d42bf5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e596aa294b9f0d2413897da2d6b313d1b8d42bf5/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "12ed22ffe44d7b06e94c2fe0003ef96a20cf4b98", "url": "https://api.github.com/repos/rust-lang/rust/commits/12ed22ffe44d7b06e94c2fe0003ef96a20cf4b98", "html_url": "https://github.com/rust-lang/rust/commit/12ed22ffe44d7b06e94c2fe0003ef96a20cf4b98"}, {"sha": "f6efa3356622a2b939b93cb4a169c24418cf3446", "url": "https://api.github.com/repos/rust-lang/rust/commits/f6efa3356622a2b939b93cb4a169c24418cf3446", "html_url": "https://github.com/rust-lang/rust/commit/f6efa3356622a2b939b93cb4a169c24418cf3446"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "7b1358fedc3b5e2201ca0adca36d55df3b79c106", "filename": "src/test/rustdoc-gui/auto-hide-trait-implementations.goml", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/e596aa294b9f0d2413897da2d6b313d1b8d42bf5/src%2Ftest%2Frustdoc-gui%2Fauto-hide-trait-implementations.goml", "raw_url": "https://github.com/rust-lang/rust/raw/e596aa294b9f0d2413897da2d6b313d1b8d42bf5/src%2Ftest%2Frustdoc-gui%2Fauto-hide-trait-implementations.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fauto-hide-trait-implementations.goml?ref=e596aa294b9f0d2413897da2d6b313d1b8d42bf5", "patch": "@@ -0,0 +1,13 @@\n+// Checks that the setting \"auto hide trait implementations\" is working as expected.\n+goto: file://|DOC_PATH|/test_docs/struct.Foo.html\n+\n+// By default, the trait implementations are not collapsed.\n+assert-attribute: (\"#trait-implementations-list > details\", {\"open\": \"\"}, ALL)\n+\n+// We now set the setting to auto hide all trait implementations.\n+local-storage: {\"rustdoc-auto-hide-trait-implementations\": \"true\" }\n+// We reload to ensure the trait implementations are collapsed as expected.\n+reload:\n+\n+// We now check that all matching elements don't have the open attributes.\n+assert-attribute-false: (\"#trait-implementations-list > details\", {\"open\": \"\"}, ALL)"}, {"sha": "bed72ccb9f929668f0b3388f2be52e6f00dbcf3e", "filename": "src/test/rustdoc-gui/src/test_docs/lib.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/e596aa294b9f0d2413897da2d6b313d1b8d42bf5/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e596aa294b9f0d2413897da2d6b313d1b8d42bf5/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs?ref=e596aa294b9f0d2413897da2d6b313d1b8d42bf5", "patch": "@@ -5,6 +5,7 @@\n #![feature(doc_keyword)]\n #![feature(doc_cfg)]\n \n+use std::convert::AsRef;\n use std::fmt;\n \n /// Basic function with some code examples:\n@@ -36,6 +37,12 @@ impl Foo {\n     }\n }\n \n+impl AsRef<str> for Foo {\n+    fn as_ref(&self) -> &str {\n+        \"hello\"\n+    }\n+}\n+\n /// Just a normal enum.\n #[doc(alias = \"ThisIsAnAlias\")]\n pub enum WhoLetTheDogOut {"}]}