{"sha": "79d4f09942a2fc6f96f56f7ae85196c4aa7df56c", "node_id": "C_kwDOAAsO6NoAKDc5ZDRmMDk5NDJhMmZjNmY5NmY1NmY3YWU4NTE5NmM0YWE3ZGY1NmM", "commit": {"author": {"name": "JeanCASPAR", "email": "55629512+JeanCASPAR@users.noreply.github.com", "date": "2022-08-30T12:26:09Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-08-30T12:26:09Z"}, "message": "Change fatal diagnostic to an error.\n\nCo-authored-by: Esteban Kuber <estebank@users.noreply.github.com>", "tree": {"sha": "9973caa13fb997a22f2d2b12357e05c064d15b86", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9973caa13fb997a22f2d2b12357e05c064d15b86"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79d4f09942a2fc6f96f56f7ae85196c4aa7df56c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjDgHhCRBK7hj4Ov3rIwAA0SEIACC5ilsiiRGuQzko4W8tryM+\nbov7+NOJQSLJ/Bmyu66Ur/5szy6FsBYnhPlmAQcm46wllteV6d5gs8uNyoVZBFm6\n1LXbVUvvwmpXY0g1VCMEu4MLW10F7MO0xFGQ3vL255mCvWqcUC01Lf/F99AdfNmM\nUmzD3ayFxCqYJZSQ5fLj2bGrqUFV5NOnv+MAubpqhhBiP50JzbbHVLg1AIXBARmq\nbVIgV3NWcmNQI/YuS96YPHjXn7QKaXwe4UmALIuLn3p/1cuHNl4zb2nBTfTITAW/\nCM9EvQQ6qyKQk7sIJUqUGGxl6HY835T6ftgB206RtGUuE6YA8kN94KDbMmAHQgs=\n=g/bl\n-----END PGP SIGNATURE-----\n", "payload": "tree 9973caa13fb997a22f2d2b12357e05c064d15b86\nparent e89d4fcc7d99bcf76464d9c0994d54d12e00dfb7\nauthor JeanCASPAR <55629512+JeanCASPAR@users.noreply.github.com> 1661862369 +0200\ncommitter GitHub <noreply@github.com> 1661862369 +0200\n\nChange fatal diagnostic to an error.\n\nCo-authored-by: Esteban Kuber <estebank@users.noreply.github.com>"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79d4f09942a2fc6f96f56f7ae85196c4aa7df56c", "html_url": "https://github.com/rust-lang/rust/commit/79d4f09942a2fc6f96f56f7ae85196c4aa7df56c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79d4f09942a2fc6f96f56f7ae85196c4aa7df56c/comments", "author": {"login": "JeanCASPAR", "id": 55629512, "node_id": "MDQ6VXNlcjU1NjI5NTEy", "avatar_url": "https://avatars.githubusercontent.com/u/55629512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JeanCASPAR", "html_url": "https://github.com/JeanCASPAR", "followers_url": "https://api.github.com/users/JeanCASPAR/followers", "following_url": "https://api.github.com/users/JeanCASPAR/following{/other_user}", "gists_url": "https://api.github.com/users/JeanCASPAR/gists{/gist_id}", "starred_url": "https://api.github.com/users/JeanCASPAR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JeanCASPAR/subscriptions", "organizations_url": "https://api.github.com/users/JeanCASPAR/orgs", "repos_url": "https://api.github.com/users/JeanCASPAR/repos", "events_url": "https://api.github.com/users/JeanCASPAR/events{/privacy}", "received_events_url": "https://api.github.com/users/JeanCASPAR/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e89d4fcc7d99bcf76464d9c0994d54d12e00dfb7", "url": "https://api.github.com/repos/rust-lang/rust/commits/e89d4fcc7d99bcf76464d9c0994d54d12e00dfb7", "html_url": "https://github.com/rust-lang/rust/commit/e89d4fcc7d99bcf76464d9c0994d54d12e00dfb7"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "176047616881f4a62da9610497adfe3f2b13832b", "filename": "compiler/rustc_ast_lowering/src/expr.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/79d4f09942a2fc6f96f56f7ae85196c4aa7df56c/compiler%2Frustc_ast_lowering%2Fsrc%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79d4f09942a2fc6f96f56f7ae85196c4aa7df56c/compiler%2Frustc_ast_lowering%2Fsrc%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_lowering%2Fsrc%2Fexpr.rs?ref=79d4f09942a2fc6f96f56f7ae85196c4aa7df56c", "patch": "@@ -1264,7 +1264,13 @@ impl<'hir> LoweringContext<'_, 'hir> {\n             (Some(..), Some(..), HalfOpen) => hir::LangItem::Range,\n             (None, Some(..), Closed) => hir::LangItem::RangeToInclusive,\n             (Some(..), Some(..), Closed) => unreachable!(),\n-            (_, None, Closed) => self.tcx.sess.emit_fatal(InclusiveRangeWithNoEnd { span }),\n+            (start, None, Closed) => {\n+                self.tcx.sess.emit_err(InclusiveRangeWithNoEnd { span });\n+                match start {\n+                    Some(..) => hir::LangItem::RangeFrom,\n+                    None => hir::LangItem::RangeFull,\n+                }\n+            }\n         };\n \n         let fields = self.arena.alloc_from_iter("}]}