{"sha": "3730ed9e5b50148d8fb83c4814a19a76ff30de38", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM3MzBlZDllNWI1MDE0OGQ4ZmI4M2M0ODE0YTE5YTc2ZmYzMGRlMzg=", "commit": {"author": {"name": "Saleem Jaffer", "email": "ssaleem1992@gmail.com", "date": "2019-07-23T11:12:46Z"}, "committer": {"name": "Saleem Jaffer", "email": "ssaleem1992@gmail.com", "date": "2019-07-23T11:12:46Z"}, "message": "renames EvalErrorPanic to PanicMessage", "tree": {"sha": "6375d06423e011e588af52502fbf95e0f24da86c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6375d06423e011e588af52502fbf95e0f24da86c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3730ed9e5b50148d8fb83c4814a19a76ff30de38", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3730ed9e5b50148d8fb83c4814a19a76ff30de38", "html_url": "https://github.com/rust-lang/rust/commit/3730ed9e5b50148d8fb83c4814a19a76ff30de38", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3730ed9e5b50148d8fb83c4814a19a76ff30de38/comments", "author": {"login": "saleemjaffer", "id": 19221716, "node_id": "MDQ6VXNlcjE5MjIxNzE2", "avatar_url": "https://avatars.githubusercontent.com/u/19221716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saleemjaffer", "html_url": "https://github.com/saleemjaffer", "followers_url": "https://api.github.com/users/saleemjaffer/followers", "following_url": "https://api.github.com/users/saleemjaffer/following{/other_user}", "gists_url": "https://api.github.com/users/saleemjaffer/gists{/gist_id}", "starred_url": "https://api.github.com/users/saleemjaffer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saleemjaffer/subscriptions", "organizations_url": "https://api.github.com/users/saleemjaffer/orgs", "repos_url": "https://api.github.com/users/saleemjaffer/repos", "events_url": "https://api.github.com/users/saleemjaffer/events{/privacy}", "received_events_url": "https://api.github.com/users/saleemjaffer/received_events", "type": "User", "site_admin": false}, "committer": {"login": "saleemjaffer", "id": 19221716, "node_id": "MDQ6VXNlcjE5MjIxNzE2", "avatar_url": "https://avatars.githubusercontent.com/u/19221716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saleemjaffer", "html_url": "https://github.com/saleemjaffer", "followers_url": "https://api.github.com/users/saleemjaffer/followers", "following_url": "https://api.github.com/users/saleemjaffer/following{/other_user}", "gists_url": "https://api.github.com/users/saleemjaffer/gists{/gist_id}", "starred_url": "https://api.github.com/users/saleemjaffer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saleemjaffer/subscriptions", "organizations_url": "https://api.github.com/users/saleemjaffer/orgs", "repos_url": "https://api.github.com/users/saleemjaffer/repos", "events_url": "https://api.github.com/users/saleemjaffer/events{/privacy}", "received_events_url": "https://api.github.com/users/saleemjaffer/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "90426ed6427f7a7a79eb47f60615d5a62ab1869f", "url": "https://api.github.com/repos/rust-lang/rust/commits/90426ed6427f7a7a79eb47f60615d5a62ab1869f", "html_url": "https://github.com/rust-lang/rust/commit/90426ed6427f7a7a79eb47f60615d5a62ab1869f"}], "stats": {"total": 145, "additions": 70, "deletions": 75}, "files": [{"sha": "6ab07c9679e7a0eb05472797093e737c18d0362e", "filename": "src/librustc/mir/interpret/error.rs", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc%2Fmir%2Finterpret%2Ferror.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc%2Fmir%2Finterpret%2Ferror.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Finterpret%2Ferror.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -229,7 +229,7 @@ impl<'tcx> From<InterpError<'tcx, u64>> for InterpErrorInfo<'tcx> {\n pub type AssertMessage<'tcx> = InterpError<'tcx, mir::Operand<'tcx>>;\n \n #[derive(Clone, RustcEncodable, RustcDecodable, HashStable)]\n-pub enum EvalErrorPanic<O> {\n+pub enum PanicMessage<O> {\n     Panic {\n         msg: Symbol,\n         line: u32,\n@@ -311,7 +311,7 @@ pub enum InterpError<'tcx, O> {\n     HeapAllocZeroBytes,\n     HeapAllocNonPowerOfTwoAlignment(u64),\n     Unreachable,\n-    Panic(EvalErrorPanic<O>),\n+    Panic(PanicMessage<O>),\n     ReadFromReturnPointer,\n     PathNotFound(Vec<String>),\n     UnimplementedTraitSelection,\n@@ -428,31 +428,31 @@ impl<'tcx, O> InterpError<'tcx, O> {\n                 two\",\n             Unreachable =>\n                 \"entered unreachable code\",\n-            Panic(EvalErrorPanic::Panic{..}) =>\n+            Panic(PanicMessage::Panic{..}) =>\n                 \"the evaluated program panicked\",\n-            Panic(EvalErrorPanic::BoundsCheck{..}) =>\n+            Panic(PanicMessage::BoundsCheck{..}) =>\n                 \"array index out of bounds\",\n-            Panic(EvalErrorPanic::Overflow(mir::BinOp::Add)) =>\n+            Panic(PanicMessage::Overflow(mir::BinOp::Add)) =>\n                 \"attempt to add with overflow\",\n-            Panic(EvalErrorPanic::Overflow(mir::BinOp::Sub)) =>\n+            Panic(PanicMessage::Overflow(mir::BinOp::Sub)) =>\n                 \"attempt to subtract with overflow\",\n-            Panic(EvalErrorPanic::Overflow(mir::BinOp::Mul)) =>\n+            Panic(PanicMessage::Overflow(mir::BinOp::Mul)) =>\n                 \"attempt to multiply with overflow\",\n-            Panic(EvalErrorPanic::Overflow(mir::BinOp::Div)) =>\n+            Panic(PanicMessage::Overflow(mir::BinOp::Div)) =>\n                 \"attempt to divide with overflow\",\n-            Panic(EvalErrorPanic::Overflow(mir::BinOp::Rem)) =>\n+            Panic(PanicMessage::Overflow(mir::BinOp::Rem)) =>\n                 \"attempt to calculate the remainder with overflow\",\n-            Panic(EvalErrorPanic::OverflowNeg) =>\n+            Panic(PanicMessage::OverflowNeg) =>\n                 \"attempt to negate with overflow\",\n-            Panic(EvalErrorPanic::Overflow(mir::BinOp::Shr)) =>\n+            Panic(PanicMessage::Overflow(mir::BinOp::Shr)) =>\n                 \"attempt to shift right with overflow\",\n-            Panic(EvalErrorPanic::Overflow(mir::BinOp::Shl)) =>\n+            Panic(PanicMessage::Overflow(mir::BinOp::Shl)) =>\n                 \"attempt to shift left with overflow\",\n-            Panic(EvalErrorPanic::Overflow(op)) =>\n+            Panic(PanicMessage::Overflow(op)) =>\n                 bug!(\"{:?} cannot overflow\", op),\n-            Panic(EvalErrorPanic::DivisionByZero) =>\n+            Panic(PanicMessage::DivisionByZero) =>\n                 \"attempt to divide by zero\",\n-            Panic(EvalErrorPanic::RemainderByZero) =>\n+            Panic(PanicMessage::RemainderByZero) =>\n                 \"attempt to calculate the remainder with a divisor of zero\",\n             ReadFromReturnPointer =>\n                 \"tried to read from the return pointer\",\n@@ -535,9 +535,9 @@ impl<'tcx, O: fmt::Debug> fmt::Debug for InterpError<'tcx, O> {\n                 write!(f, \"incorrect alloc info: expected size {} and align {}, \\\n                            got size {} and align {}\",\n                     size.bytes(), align.bytes(), size2.bytes(), align2.bytes()),\n-            Panic(EvalErrorPanic::Panic { ref msg, line, col, ref file }) =>\n+            Panic(PanicMessage::Panic { ref msg, line, col, ref file }) =>\n                 write!(f, \"the evaluated program panicked at '{}', {}:{}:{}\", msg, file, line, col),\n-            Panic(EvalErrorPanic::BoundsCheck { ref len, ref index }) =>\n+            Panic(PanicMessage::BoundsCheck { ref len, ref index }) =>\n                 write!(f, \"index out of bounds: the len is {:?} but the index is {:?}\", len, index),\n             InvalidDiscriminant(val) =>\n                 write!(f, \"encountered invalid enum discriminant {}\", val),"}, {"sha": "5bec64d39fa62660905b85b8e781883e57b81878", "filename": "src/librustc/mir/interpret/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc%2Fmir%2Finterpret%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc%2Fmir%2Finterpret%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Finterpret%2Fmod.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -12,7 +12,7 @@ mod pointer;\n \n pub use self::error::{\n     InterpErrorInfo, InterpResult, InterpError, AssertMessage, ConstEvalErr, struct_error,\n-    FrameInfo, ConstEvalRawResult, ConstEvalResult, ErrorHandled, EvalErrorPanic\n+    FrameInfo, ConstEvalRawResult, ConstEvalResult, ErrorHandled, PanicMessage\n };\n \n pub use self::value::{Scalar, ScalarMaybeUndef, RawConst, ConstValue};"}, {"sha": "0e3b8459115e30e96c325fc62adc720eac402a29", "filename": "src/librustc/mir/interpret/pointer.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc%2Fmir%2Finterpret%2Fpointer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc%2Fmir%2Finterpret%2Fpointer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Finterpret%2Fpointer.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -5,7 +5,7 @@ use crate::ty::layout::{self, HasDataLayout, Size};\n use rustc_macros::HashStable;\n \n use super::{\n-    AllocId, InterpResult, EvalErrorPanic\n+    AllocId, InterpResult, PanicMessage\n };\n \n /// Used by `check_in_alloc` to indicate context of check\n@@ -76,13 +76,13 @@ pub trait PointerArithmetic: layout::HasDataLayout {\n     #[inline]\n     fn offset<'tcx>(&self, val: u64, i: u64) -> InterpResult<'tcx, u64> {\n         let (res, over) = self.overflowing_offset(val, i);\n-        if over { err!(Panic(EvalErrorPanic::Overflow(mir::BinOp::Add))) } else { Ok(res) }\n+        if over { err!(Panic(PanicMessage::Overflow(mir::BinOp::Add))) } else { Ok(res) }\n     }\n \n     #[inline]\n     fn signed_offset<'tcx>(&self, val: u64, i: i64) -> InterpResult<'tcx, u64> {\n         let (res, over) = self.overflowing_signed_offset(val, i128::from(i));\n-        if over { err!(Panic(EvalErrorPanic::Overflow(mir::BinOp::Add))) } else { Ok(res) }\n+        if over { err!(Panic(PanicMessage::Overflow(mir::BinOp::Add))) } else { Ok(res) }\n     }\n }\n "}, {"sha": "a2f6299450437c88ce45e66973c394df4226f714", "filename": "src/librustc/mir/mod.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc%2Fmir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc%2Fmir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Fmod.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -7,7 +7,7 @@\n use crate::hir::def::{CtorKind, Namespace};\n use crate::hir::def_id::DefId;\n use crate::hir::{self, InlineAsm as HirInlineAsm};\n-use crate::mir::interpret::{ConstValue, EvalErrorPanic, InterpError::Panic, Scalar};\n+use crate::mir::interpret::{ConstValue, PanicMessage, InterpError::Panic, Scalar};\n use crate::mir::visit::MirVisitable;\n use crate::rustc_serialize as serialize;\n use crate::ty::adjustment::PointerCast;\n@@ -3087,8 +3087,8 @@ impl<'tcx> TypeFoldable<'tcx> for Terminator<'tcx> {\n                 }\n             }\n             Assert { ref cond, expected, ref msg, target, cleanup } => {\n-                let msg = if let Panic(EvalErrorPanic::BoundsCheck { ref len, ref index }) = *msg {\n-                    Panic(EvalErrorPanic::BoundsCheck {\n+                let msg = if let Panic(PanicMessage::BoundsCheck { ref len, ref index }) = *msg {\n+                    Panic(PanicMessage::BoundsCheck {\n                         len: len.fold_with(folder),\n                         index: index.fold_with(folder),\n                     })\n@@ -3132,7 +3132,7 @@ impl<'tcx> TypeFoldable<'tcx> for Terminator<'tcx> {\n             }\n             Assert { ref cond, ref msg, .. } => {\n                 if cond.visit_with(visitor) {\n-                    if let Panic(EvalErrorPanic::BoundsCheck { ref len, ref index }) = *msg {\n+                    if let Panic(PanicMessage::BoundsCheck { ref len, ref index }) = *msg {\n                         len.visit_with(visitor) || index.visit_with(visitor)\n                     } else {\n                         false"}, {"sha": "4b194c99a8ebf4bb65cc14188117e15c597d42ca", "filename": "src/librustc/mir/visit.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc%2Fmir%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc%2Fmir%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Fvisit.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -514,7 +514,7 @@ macro_rules! make_mir_visitor {\n                                     msg: & $($mutability)? AssertMessage<'tcx>,\n                                     location: Location) {\n                 use crate::mir::interpret::InterpError::*;\n-                use crate::mir::interpret::EvalErrorPanic::BoundsCheck;\n+                use crate::mir::interpret::PanicMessage::BoundsCheck;\n                 if let Panic(BoundsCheck { len, index }) = msg {\n                     self.visit_operand(len, location);\n                     self.visit_operand(index, location);"}, {"sha": "f6bc1b53ba5fd80180db196e41dc6aa19ae0dd43", "filename": "src/librustc_codegen_ssa/mir/block.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_codegen_ssa%2Fmir%2Fblock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_codegen_ssa%2Fmir%2Fblock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2Fmir%2Fblock.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -2,7 +2,7 @@ use rustc::middle::lang_items;\n use rustc::ty::{self, Ty, TypeFoldable, Instance};\n use rustc::ty::layout::{self, LayoutOf, HasTyCtxt, FnTypeExt};\n use rustc::mir::{self, Place, PlaceBase, Static, StaticKind};\n-use rustc::mir::interpret::{InterpError, EvalErrorPanic};\n+use rustc::mir::interpret::{InterpError, PanicMessage};\n use rustc_target::abi::call::{ArgType, FnType, PassMode, IgnoreMode};\n use rustc_target::spec::abi::Abi;\n use crate::base;\n@@ -368,7 +368,7 @@ impl<'a, 'tcx, Bx: BuilderMethods<'a, 'tcx>> FunctionCx<'a, 'tcx, Bx> {\n         // checked operation, just a comparison with the minimum\n         // value, so we have to check for the assert message.\n         if !bx.check_overflow() {\n-            if let InterpError::Panic(EvalErrorPanic::OverflowNeg) = *msg {\n+            if let InterpError::Panic(PanicMessage::OverflowNeg) = *msg {\n                 const_cond = Some(expected);\n             }\n         }\n@@ -403,7 +403,7 @@ impl<'a, 'tcx, Bx: BuilderMethods<'a, 'tcx>> FunctionCx<'a, 'tcx, Bx> {\n \n         // Put together the arguments to the panic entry point.\n         let (lang_item, args) = match *msg {\n-            InterpError::Panic(EvalErrorPanic::BoundsCheck { ref len, ref index }) => {\n+            InterpError::Panic(PanicMessage::BoundsCheck { ref len, ref index }) => {\n                 let len = self.codegen_operand(&mut bx, len).immediate();\n                 let index = self.codegen_operand(&mut bx, index).immediate();\n "}, {"sha": "09eb42ac0001de57f68c49d502e947f066da89b4", "filename": "src/librustc_mir/borrow_check/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Fborrow_check%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Fborrow_check%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fmod.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -734,8 +734,8 @@ impl<'cx, 'tcx> DataflowResultsConsumer<'cx, 'tcx> for MirBorrowckCtxt<'cx, 'tcx\n                 cleanup: _,\n             } => {\n                 self.consume_operand(loc, (cond, span), flow_state);\n-                use rustc::mir::interpret::{InterpError::Panic, EvalErrorPanic};\n-                if let Panic(EvalErrorPanic::BoundsCheck { ref len, ref index }) = *msg {\n+                use rustc::mir::interpret::{InterpError::Panic, PanicMessage};\n+                if let Panic(PanicMessage::BoundsCheck { ref len, ref index }) = *msg {\n                     self.consume_operand(loc, (len, span), flow_state);\n                     self.consume_operand(loc, (index, span), flow_state);\n                 }"}, {"sha": "90df0c91c7235b43ee33d46701274214c14001f2", "filename": "src/librustc_mir/borrow_check/nll/invalidation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Finvalidation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Finvalidation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Finvalidation.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -207,7 +207,7 @@ impl<'cx, 'tcx> Visitor<'tcx> for InvalidationGenerator<'cx, 'tcx> {\n                 cleanup: _,\n             } => {\n                 self.consume_operand(location, cond);\n-                use rustc::mir::interpret::{InterpError::Panic, EvalErrorPanic::BoundsCheck};\n+                use rustc::mir::interpret::{InterpError::Panic, PanicMessage::BoundsCheck};\n                 if let Panic(BoundsCheck { ref len, ref index }) = *msg {\n                     self.consume_operand(location, len);\n                     self.consume_operand(location, index);"}, {"sha": "8ff63e41700c8d9eaee742f41d0c1f76215897db", "filename": "src/librustc_mir/borrow_check/nll/type_check/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ftype_check%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ftype_check%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ftype_check%2Fmod.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -28,7 +28,7 @@ use rustc::infer::canonical::QueryRegionConstraints;\n use rustc::infer::outlives::env::RegionBoundPairs;\n use rustc::infer::{InferCtxt, InferOk, LateBoundRegionConversionTime, NLLRegionVariableOrigin};\n use rustc::infer::type_variable::{TypeVariableOrigin, TypeVariableOriginKind};\n-use rustc::mir::interpret::{InterpError::Panic, ConstValue, EvalErrorPanic};\n+use rustc::mir::interpret::{InterpError::Panic, ConstValue, PanicMessage};\n use rustc::mir::tcx::PlaceTy;\n use rustc::mir::visit::{PlaceContext, Visitor, NonMutatingUseContext};\n use rustc::mir::*;\n@@ -1589,7 +1589,7 @@ impl<'a, 'tcx> TypeChecker<'a, 'tcx> {\n                     span_mirbug!(self, term, \"bad Assert ({:?}, not bool\", cond_ty);\n                 }\n \n-                if let Panic(EvalErrorPanic::BoundsCheck { ref len, ref index }) = *msg {\n+                if let Panic(PanicMessage::BoundsCheck { ref len, ref index }) = *msg {\n                     if len.ty(body, tcx) != tcx.types.usize {\n                         span_mirbug!(self, len, \"bounds-check length non-usize {:?}\", len)\n                     }"}, {"sha": "61c57f792c3bafaeea09d208e6d4fc5fb84c58d7", "filename": "src/librustc_mir/build/expr/as_place.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_place.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_place.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_place.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -4,7 +4,7 @@ use crate::build::expr::category::Category;\n use crate::build::ForGuard::{OutsideGuard, RefWithinGuard};\n use crate::build::{BlockAnd, BlockAndExtension, Builder};\n use crate::hair::*;\n-use rustc::mir::interpret::{InterpError::Panic, EvalErrorPanic::BoundsCheck};\n+use rustc::mir::interpret::{InterpError::Panic, PanicMessage::BoundsCheck};\n use rustc::mir::*;\n use rustc::ty::{CanonicalUserTypeAnnotation, Variance};\n "}, {"sha": "377674600331a035350bccc86323102f020da85d", "filename": "src/librustc_mir/build/expr/as_rvalue.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_rvalue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_rvalue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_rvalue.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -7,7 +7,7 @@ use crate::build::expr::category::{Category, RvalueFunc};\n use crate::build::{BlockAnd, BlockAndExtension, Builder};\n use crate::hair::*;\n use rustc::middle::region;\n-use rustc::mir::interpret::{InterpError::Panic, EvalErrorPanic};\n+use rustc::mir::interpret::{InterpError::Panic, PanicMessage};\n use rustc::mir::*;\n use rustc::ty::{self, CanonicalUserTypeAnnotation, Ty, UpvarSubsts};\n use syntax_pos::Span;\n@@ -101,7 +101,7 @@ impl<'a, 'tcx> Builder<'a, 'tcx> {\n                         block,\n                         Operand::Move(is_min),\n                         false,\n-                        Panic(EvalErrorPanic::OverflowNeg),\n+                        Panic(PanicMessage::OverflowNeg),\n                         expr_span,\n                     );\n                 }\n@@ -401,7 +401,7 @@ impl<'a, 'tcx> Builder<'a, 'tcx> {\n             let val = result_value.clone().field(val_fld, ty);\n             let of = result_value.field(of_fld, bool_ty);\n \n-            let err = Panic(EvalErrorPanic::Overflow(op));\n+            let err = Panic(PanicMessage::Overflow(op));\n \n             block = self.assert(block, Operand::Move(of), false, err, span);\n \n@@ -412,9 +412,9 @@ impl<'a, 'tcx> Builder<'a, 'tcx> {\n                 // and 2. there are two possible failure cases, divide-by-zero and overflow.\n \n                 let (zero_err, overflow_err) = if op == BinOp::Div {\n-                    (Panic(EvalErrorPanic::DivisionByZero), Panic(EvalErrorPanic::Overflow(op)))\n+                    (Panic(PanicMessage::DivisionByZero), Panic(PanicMessage::Overflow(op)))\n                 } else {\n-                    (Panic(EvalErrorPanic::RemainderByZero), Panic(EvalErrorPanic::Overflow(op)))\n+                    (Panic(PanicMessage::RemainderByZero), Panic(PanicMessage::Overflow(op)))\n                 };\n \n                 // Check for / 0"}, {"sha": "6623661f938fe6cbc2470ddcd83e25c54c15d522", "filename": "src/librustc_mir/interpret/intrinsics.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Finterpret%2Fintrinsics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Finterpret%2Fintrinsics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Finterpret%2Fintrinsics.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -7,7 +7,7 @@ use rustc::ty;\n use rustc::ty::layout::{LayoutOf, Primitive, Size};\n use rustc::mir::BinOp;\n use rustc::mir::interpret::{\n-    InterpResult, InterpError, Scalar, EvalErrorPanic,\n+    InterpResult, InterpError, Scalar, PanicMessage,\n };\n \n use super::{\n@@ -261,7 +261,7 @@ impl<'mir, 'tcx, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n             let file = Symbol::intern(self.read_str(file_place)?);\n             let line = self.read_scalar(line.into())?.to_u32()?;\n             let col = self.read_scalar(col.into())?.to_u32()?;\n-            return Err(InterpError::Panic(EvalErrorPanic::Panic { msg, file, line, col }).into());\n+            return Err(InterpError::Panic(PanicMessage::Panic { msg, file, line, col }).into());\n         } else if Some(def_id) == self.tcx.lang_items().begin_panic_fn() {\n             assert!(args.len() == 2);\n             // &'static str, &(&'static str, u32, u32)\n@@ -279,7 +279,7 @@ impl<'mir, 'tcx, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n             let file = Symbol::intern(self.read_str(file_place)?);\n             let line = self.read_scalar(line.into())?.to_u32()?;\n             let col = self.read_scalar(col.into())?.to_u32()?;\n-            return Err(InterpError::Panic(EvalErrorPanic::Panic { msg, file, line, col }).into());\n+            return Err(InterpError::Panic(PanicMessage::Panic { msg, file, line, col }).into());\n         } else {\n             return Ok(false);\n         }"}, {"sha": "b4edee72a4d19bb901406d5fc9c94e70ac5bd7e4", "filename": "src/librustc_mir/interpret/operator.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Finterpret%2Foperator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Finterpret%2Foperator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Finterpret%2Foperator.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -2,7 +2,7 @@ use rustc::mir;\n use rustc::ty::{self, layout::TyLayout};\n use syntax::ast::FloatTy;\n use rustc_apfloat::Float;\n-use rustc::mir::interpret::{InterpResult, EvalErrorPanic, Scalar};\n+use rustc::mir::interpret::{InterpResult, PanicMessage, Scalar};\n \n use super::{InterpCx, PlaceTy, Immediate, Machine, ImmTy};\n \n@@ -173,8 +173,8 @@ impl<'mir, 'tcx, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n                 return Ok((Scalar::from_bool(op(&l, &r)), false));\n             }\n             let op: Option<fn(i128, i128) -> (i128, bool)> = match bin_op {\n-                Div if r == 0 => return err!(Panic(EvalErrorPanic::DivisionByZero)),\n-                Rem if r == 0 => return err!(Panic(EvalErrorPanic::RemainderByZero)),\n+                Div if r == 0 => return err!(Panic(PanicMessage::DivisionByZero)),\n+                Rem if r == 0 => return err!(Panic(PanicMessage::RemainderByZero)),\n                 Div => Some(i128::overflowing_div),\n                 Rem => Some(i128::overflowing_rem),\n                 Add => Some(i128::overflowing_add),\n@@ -231,8 +231,8 @@ impl<'mir, 'tcx, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n                     Add => u128::overflowing_add,\n                     Sub => u128::overflowing_sub,\n                     Mul => u128::overflowing_mul,\n-                    Div if r == 0 => return err!(Panic(EvalErrorPanic::DivisionByZero)),\n-                    Rem if r == 0 => return err!(Panic(EvalErrorPanic::RemainderByZero)),\n+                    Div if r == 0 => return err!(Panic(PanicMessage::DivisionByZero)),\n+                    Rem if r == 0 => return err!(Panic(PanicMessage::RemainderByZero)),\n                     Div => u128::overflowing_div,\n                     Rem => u128::overflowing_rem,\n                     _ => bug!(),"}, {"sha": "8fe882934dfb58c9934b5a400a39173eb044ef7e", "filename": "src/librustc_mir/interpret/place.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Finterpret%2Fplace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Finterpret%2Fplace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Finterpret%2Fplace.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -13,7 +13,7 @@ use rustc::ty::TypeFoldable;\n \n use super::{\n     GlobalId, AllocId, Allocation, Scalar, InterpResult, Pointer, PointerArithmetic,\n-    InterpCx, Machine, AllocMap, AllocationExtra, EvalErrorPanic,\n+    InterpCx, Machine, AllocMap, AllocationExtra, PanicMessage,\n     RawConst, Immediate, ImmTy, ScalarMaybeUndef, Operand, OpTy, MemoryKind, LocalValue\n };\n \n@@ -356,7 +356,7 @@ where\n                     // This can be violated because this runs during promotion on code where the\n                     // type system has not yet ensured that such things don't happen.\n                     debug!(\"tried to access element {} of array/slice with length {}\", field, len);\n-                    return err!(Panic(EvalErrorPanic::BoundsCheck { len, index: field }));\n+                    return err!(Panic(PanicMessage::BoundsCheck { len, index: field }));\n                 }\n                 stride * field\n             }"}, {"sha": "a85b77c7b8143e397250cca72a2057252d36b6f1", "filename": "src/librustc_mir/interpret/terminator.rs", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Finterpret%2Fterminator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Finterpret%2Fterminator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Finterpret%2Fterminator.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -7,7 +7,7 @@ use syntax::source_map::Span;\n use rustc_target::spec::abi::Abi;\n \n use super::{\n-    InterpResult, PointerArithmetic, InterpError, Scalar, EvalErrorPanic,\n+    InterpResult, PointerArithmetic, InterpError, Scalar, PanicMessage,\n     InterpCx, Machine, Immediate, OpTy, ImmTy, PlaceTy, MPlaceTy, StackPopCleanup, FnVal,\n };\n \n@@ -137,23 +137,23 @@ impl<'mir, 'tcx, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n                     // Compute error message\n                     use rustc::mir::interpret::InterpError::*;\n                     return match *msg {\n-                        Panic(EvalErrorPanic::BoundsCheck { ref len, ref index }) => {\n+                        Panic(PanicMessage::BoundsCheck { ref len, ref index }) => {\n                             let len = self.read_immediate(self.eval_operand(len, None)?)\n                                 .expect(\"can't eval len\").to_scalar()?\n                                 .to_bits(self.memory().pointer_size())? as u64;\n                             let index = self.read_immediate(self.eval_operand(index, None)?)\n                                 .expect(\"can't eval index\").to_scalar()?\n                                 .to_bits(self.memory().pointer_size())? as u64;\n-                            err!(Panic(EvalErrorPanic::BoundsCheck { len, index }))\n+                            err!(Panic(PanicMessage::BoundsCheck { len, index }))\n                         }\n-                        Panic(EvalErrorPanic::Overflow(op)) =>\n-                            Err(Panic(EvalErrorPanic::Overflow(op)).into()),\n-                        Panic(EvalErrorPanic::OverflowNeg) =>\n-                            Err(Panic(EvalErrorPanic::OverflowNeg).into()),\n-                        Panic(EvalErrorPanic::DivisionByZero) =>\n-                            Err(Panic(EvalErrorPanic::DivisionByZero).into()),\n-                        Panic(EvalErrorPanic::RemainderByZero) =>\n-                            Err(Panic(EvalErrorPanic::RemainderByZero).into()),\n+                        Panic(PanicMessage::Overflow(op)) =>\n+                            Err(Panic(PanicMessage::Overflow(op)).into()),\n+                        Panic(PanicMessage::OverflowNeg) =>\n+                            Err(Panic(PanicMessage::OverflowNeg).into()),\n+                        Panic(PanicMessage::DivisionByZero) =>\n+                            Err(Panic(PanicMessage::DivisionByZero).into()),\n+                        Panic(PanicMessage::RemainderByZero) =>\n+                            Err(Panic(PanicMessage::RemainderByZero).into()),\n                         GeneratorResumedAfterReturn |\n                         GeneratorResumedAfterPanic => unimplemented!(),\n                         _ => bug!(),"}, {"sha": "1c4cc02ce01cfd97dc911b57c9fc91bdc5b03f56", "filename": "src/librustc_mir/transform/const_prop.rs", "status": "modified", "additions": 9, "deletions": 14, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3730ed9e5b50148d8fb83c4814a19a76ff30de38/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs?ref=3730ed9e5b50148d8fb83c4814a19a76ff30de38", "patch": "@@ -13,7 +13,7 @@ use rustc::mir::{\n use rustc::mir::visit::{\n     Visitor, PlaceContext, MutatingUseContext, MutVisitor, NonMutatingUseContext,\n };\n-use rustc::mir::interpret::{InterpError::Panic, Scalar, GlobalId, InterpResult, EvalErrorPanic};\n+use rustc::mir::interpret::{InterpError::Panic, Scalar, GlobalId, InterpResult, PanicMessage};\n use rustc::ty::{self, Instance, ParamEnv, Ty, TyCtxt};\n use syntax_pos::{Span, DUMMY_SP};\n use rustc::ty::subst::InternalSubsts;\n@@ -339,12 +339,7 @@ impl<'mir, 'tcx> ConstPropagator<'mir, 'tcx> {\n                     // FIXME: implement\n                     => {},\n \n-                    | Panic(EvalErrorPanic::Panic { .. })\n-                    | Panic(EvalErrorPanic::BoundsCheck{..})\n-                    | Panic(EvalErrorPanic::Overflow(_))\n-                    | Panic(EvalErrorPanic::OverflowNeg)\n-                    | Panic(EvalErrorPanic::DivisionByZero)\n-                    | Panic(EvalErrorPanic::RemainderByZero)\n+                    | Panic(_)\n                     => {\n                         diagnostic.report_as_lint(\n                             self.ecx.tcx,\n@@ -522,7 +517,7 @@ impl<'mir, 'tcx> ConstPropagator<'mir, 'tcx> {\n                             // Need to do overflow check here: For actual CTFE, MIR\n                             // generation emits code that does this before calling the op.\n                             if prim.to_bits()? == (1 << (prim.layout.size.bits() - 1)) {\n-                                return err!(Panic(EvalErrorPanic::OverflowNeg));\n+                                return err!(Panic(PanicMessage::OverflowNeg));\n                             }\n                         }\n                         UnOp::Not => {\n@@ -600,7 +595,7 @@ impl<'mir, 'tcx> ConstPropagator<'mir, 'tcx> {\n                     )\n                 } else {\n                     if overflow {\n-                        let err = Panic(EvalErrorPanic::Overflow(op)).into();\n+                        let err = Panic(PanicMessage::Overflow(op)).into();\n                         let _: Option<()> = self.use_ecx(source_info, |_| Err(err));\n                         return None;\n                     }\n@@ -839,11 +834,11 @@ impl<'mir, 'tcx> MutVisitor<'tcx> for ConstPropagator<'mir, 'tcx> {\n                             .expect(\"some part of a failing const eval must be local\");\n                         use rustc::mir::interpret::InterpError::*;\n                         let msg = match msg {\n-                            Panic(EvalErrorPanic::Overflow(_)) |\n-                            Panic(EvalErrorPanic::OverflowNeg) |\n-                            Panic(EvalErrorPanic::DivisionByZero) |\n-                            Panic(EvalErrorPanic::RemainderByZero) => msg.description().to_owned(),\n-                            Panic(EvalErrorPanic::BoundsCheck { ref len, ref index }) => {\n+                            Panic(PanicMessage::Overflow(_)) |\n+                            Panic(PanicMessage::OverflowNeg) |\n+                            Panic(PanicMessage::DivisionByZero) |\n+                            Panic(PanicMessage::RemainderByZero) => msg.description().to_owned(),\n+                            Panic(PanicMessage::BoundsCheck { ref len, ref index }) => {\n                                 let len = self\n                                     .eval_operand(len, source_info)\n                                     .expect(\"len must be const\");"}]}