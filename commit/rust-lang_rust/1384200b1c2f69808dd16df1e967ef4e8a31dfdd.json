{"sha": "1384200b1c2f69808dd16df1e967ef4e8a31dfdd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEzODQyMDBiMWMyZjY5ODA4ZGQxNmRmMWU5NjdlZjRlOGEzMWRmZGQ=", "commit": {"author": {"name": "Rich Kadel", "email": "richkadel@google.com", "date": "2021-06-04T22:14:32Z"}, "committer": {"name": "Rich Kadel", "email": "richkadel@google.com", "date": "2021-06-04T22:14:32Z"}, "message": "Added a new test demonstrating the issue requiring revert\n\nNote, the `Debug` impl is required.", "tree": {"sha": "3d4fde9c5ece4c99dcbf53a33b7c2b3ed0365c99", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3d4fde9c5ece4c99dcbf53a33b7c2b3ed0365c99"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1384200b1c2f69808dd16df1e967ef4e8a31dfdd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1384200b1c2f69808dd16df1e967ef4e8a31dfdd", "html_url": "https://github.com/rust-lang/rust/commit/1384200b1c2f69808dd16df1e967ef4e8a31dfdd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1384200b1c2f69808dd16df1e967ef4e8a31dfdd/comments", "author": {"login": "richkadel", "id": 3827298, "node_id": "MDQ6VXNlcjM4MjcyOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/3827298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richkadel", "html_url": "https://github.com/richkadel", "followers_url": "https://api.github.com/users/richkadel/followers", "following_url": "https://api.github.com/users/richkadel/following{/other_user}", "gists_url": "https://api.github.com/users/richkadel/gists{/gist_id}", "starred_url": "https://api.github.com/users/richkadel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richkadel/subscriptions", "organizations_url": "https://api.github.com/users/richkadel/orgs", "repos_url": "https://api.github.com/users/richkadel/repos", "events_url": "https://api.github.com/users/richkadel/events{/privacy}", "received_events_url": "https://api.github.com/users/richkadel/received_events", "type": "User", "site_admin": false}, "committer": {"login": "richkadel", "id": 3827298, "node_id": "MDQ6VXNlcjM4MjcyOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/3827298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richkadel", "html_url": "https://github.com/richkadel", "followers_url": "https://api.github.com/users/richkadel/followers", "following_url": "https://api.github.com/users/richkadel/following{/other_user}", "gists_url": "https://api.github.com/users/richkadel/gists{/gist_id}", "starred_url": "https://api.github.com/users/richkadel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richkadel/subscriptions", "organizations_url": "https://api.github.com/users/richkadel/orgs", "repos_url": "https://api.github.com/users/richkadel/repos", "events_url": "https://api.github.com/users/richkadel/events{/privacy}", "received_events_url": "https://api.github.com/users/richkadel/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2a6dd25265807fa63d65d3ead3b0d9fcc7810f36", "url": "https://api.github.com/repos/rust-lang/rust/commits/2a6dd25265807fa63d65d3ead3b0d9fcc7810f36", "html_url": "https://github.com/rust-lang/rust/commit/2a6dd25265807fa63d65d3ead3b0d9fcc7810f36"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "35e42a6857f320cfa429c639e4ae9d6069f538d2", "filename": "src/test/ui/deprecation/deprecation-lint.rs", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/1384200b1c2f69808dd16df1e967ef4e8a31dfdd/src%2Ftest%2Fui%2Fdeprecation%2Fdeprecation-lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1384200b1c2f69808dd16df1e967ef4e8a31dfdd/src%2Ftest%2Fui%2Fdeprecation%2Fdeprecation-lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdeprecation%2Fdeprecation-lint.rs?ref=1384200b1c2f69808dd16df1e967ef4e8a31dfdd", "patch": "@@ -430,6 +430,24 @@ mod this_crate2 {\n             // the patterns are all fine:\n             (..) = x;\n     }\n+\n+    #[derive(Debug)]\n+    #[deprecated(note = \"Use something else instead\")]\n+    enum DeprecatedDebugEnum {\n+        Variant1 { value: Option<String> },\n+    }\n+\n+    #[allow(deprecated)]\n+    impl DeprecatedDebugEnum {\n+        fn new() -> Self {\n+            DeprecatedDebugEnum::Variant1 { value: None }\n+        }\n+    }\n+\n+    #[allow(deprecated)]\n+    pub fn allow_dep() {\n+        let _ = DeprecatedDebugEnum::new();\n+    }\n }\n \n fn main() {}"}]}