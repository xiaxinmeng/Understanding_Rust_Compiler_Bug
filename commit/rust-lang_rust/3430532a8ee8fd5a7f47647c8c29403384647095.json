{"sha": "3430532a8ee8fd5a7f47647c8c29403384647095", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM0MzA1MzJhOGVlOGZkNWE3ZjQ3NjQ3YzhjMjk0MDMzODQ2NDcwOTU=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-08-05T16:20:28Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-08-05T16:20:28Z"}, "message": "Revert \"debuginfo: Bring back some GDB pretty printing autotests that are not actually broken.\"\n\nThis reverts commit 354cf4b56b8e2af67cc68965eb816deec0e79e4b.", "tree": {"sha": "1ac29db0e7280af41064676569a96d1f88ccfa96", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1ac29db0e7280af41064676569a96d1f88ccfa96"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3430532a8ee8fd5a7f47647c8c29403384647095", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3430532a8ee8fd5a7f47647c8c29403384647095", "html_url": "https://github.com/rust-lang/rust/commit/3430532a8ee8fd5a7f47647c8c29403384647095", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3430532a8ee8fd5a7f47647c8c29403384647095/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d03456183e85fe7bd465bbe7c8f67885a2528444", "url": "https://api.github.com/repos/rust-lang/rust/commits/d03456183e85fe7bd465bbe7c8f67885a2528444", "html_url": "https://github.com/rust-lang/rust/commit/d03456183e85fe7bd465bbe7c8f67885a2528444"}], "stats": {"total": 188, "additions": 0, "deletions": 188}, "files": [{"sha": "56a973fa59f668398eff78903937e9d810046630", "filename": "src/test/debuginfo/gdb-pretty-struct-and-enums.rs", "status": "removed", "additions": 0, "deletions": 188, "changes": 188, "blob_url": "https://github.com/rust-lang/rust/blob/d03456183e85fe7bd465bbe7c8f67885a2528444/src%2Ftest%2Fdebuginfo%2Fgdb-pretty-struct-and-enums.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d03456183e85fe7bd465bbe7c8f67885a2528444/src%2Ftest%2Fdebuginfo%2Fgdb-pretty-struct-and-enums.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fgdb-pretty-struct-and-enums.rs?ref=d03456183e85fe7bd465bbe7c8f67885a2528444", "patch": "@@ -1,188 +0,0 @@\n-// Copyright 2013-2014 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-// ignore-windows failing on win32 bot\n-// ignore-freebsd: output doesn't match\n-// ignore-tidy-linelength\n-// ignore-lldb\n-// ignore-android: FIXME(#10381)\n-// compile-flags:-g\n-\n-// This test uses some GDB Python API features (e.g. accessing anonymous fields)\n-// which are only available in newer GDB version. The following directive will\n-// case the test runner to ignore this test if an older GDB version is used:\n-// min-gdb-version 7.7\n-\n-// gdb-command: run\n-\n-// gdb-command: print regular_struct\n-// gdb-check:$1 = RegularStruct = {the_first_field = 101, the_second_field = 102.5, the_third_field = false, the_fourth_field = \"I'm so pretty, oh so pretty...\"}\n-\n-// gdb-command: print tuple\n-// gdb-check:$2 = {true, 103, \"blub\"}\n-\n-// gdb-command: print tuple_struct\n-// gdb-check:$3 = TupleStruct = {-104.5, 105}\n-\n-// gdb-command: print empty_struct\n-// gdb-check:$4 = EmptyStruct\n-\n-// gdb-command: print c_style_enum1\n-// gdb-check:$5 = CStyleEnumVar1\n-\n-// gdb-command: print c_style_enum2\n-// gdb-check:$6 = CStyleEnumVar2\n-\n-// gdb-command: print c_style_enum3\n-// gdb-check:$7 = CStyleEnumVar3\n-\n-// gdb-command: print mixed_enum_c_style_var\n-// gdb-check:$8 = MixedEnumCStyleVar\n-\n-// gdb-command: print mixed_enum_tuple_var\n-// gdb-check:$9 = MixedEnumTupleVar = {106, 107, false}\n-\n-// gdb-command: print mixed_enum_struct_var\n-// gdb-check:$10 = MixedEnumStructVar = {field1 = 108.5, field2 = 109}\n-\n-// gdb-command: print some\n-// gdb-check:$11 = Some = {110}\n-\n-// gdb-command: print none\n-// gdb-check:$12 = None\n-\n-// gdb-command: print some_fat\n-// gdb-check:$13 = Some = {\"abc\"}\n-\n-// gdb-command: print none_fat\n-// gdb-check:$14 = None\n-\n-// gdb-command: print nested_variant1\n-// gdb-check:$15 = NestedVariant1 = {NestedStruct = {regular_struct = RegularStruct = {the_first_field = 111, the_second_field = 112.5, the_third_field = true, the_fourth_field = \"NestedStructString1\"}, tuple_struct = TupleStruct = {113.5, 114}, empty_struct = EmptyStruct, c_style_enum = CStyleEnumVar2, mixed_enum = MixedEnumTupleVar = {115, 116, false}}}\n-\n-// gdb-command: print nested_variant2\n-// gdb-check:$16 = NestedVariant2 = {abc = NestedStruct = {regular_struct = RegularStruct = {the_first_field = 117, the_second_field = 118.5, the_third_field = false, the_fourth_field = \"NestedStructString10\"}, tuple_struct = TupleStruct = {119.5, 120}, empty_struct = EmptyStruct, c_style_enum = CStyleEnumVar3, mixed_enum = MixedEnumStructVar = {field1 = 121.5, field2 = -122}}}\n-\n-// gdb-command: print none_check1\n-// gdb-check:$17 = None\n-\n-// gdb-command: print none_check2\n-// gdb-check:$18 = None\n-\n-#![allow(dead_code, unused_variables)]\n-\n-use self::CStyleEnum::{CStyleEnumVar1, CStyleEnumVar2, CStyleEnumVar3};\n-use self::MixedEnum::{MixedEnumCStyleVar, MixedEnumTupleVar, MixedEnumStructVar};\n-use self::NestedEnum::{NestedVariant1, NestedVariant2};\n-\n-struct RegularStruct {\n-    the_first_field: isize,\n-    the_second_field: f64,\n-    the_third_field: bool,\n-    the_fourth_field: &'static str,\n-}\n-\n-struct TupleStruct(f64, i16);\n-\n-struct EmptyStruct;\n-\n-enum CStyleEnum {\n-    CStyleEnumVar1,\n-    CStyleEnumVar2,\n-    CStyleEnumVar3,\n-}\n-\n-enum MixedEnum {\n-    MixedEnumCStyleVar,\n-    MixedEnumTupleVar(u32, u16, bool),\n-    MixedEnumStructVar { field1: f64, field2: i32 }\n-}\n-\n-struct NestedStruct {\n-    regular_struct: RegularStruct,\n-    tuple_struct: TupleStruct,\n-    empty_struct: EmptyStruct,\n-    c_style_enum: CStyleEnum,\n-    mixed_enum: MixedEnum,\n-}\n-\n-enum NestedEnum {\n-    NestedVariant1(NestedStruct),\n-    NestedVariant2 { abc: NestedStruct }\n-}\n-\n-fn main() {\n-\n-    let regular_struct = RegularStruct {\n-        the_first_field: 101,\n-        the_second_field: 102.5,\n-        the_third_field: false,\n-        the_fourth_field: \"I'm so pretty, oh so pretty...\"\n-    };\n-\n-    let tuple = ( true, 103u32, \"blub\" );\n-\n-    let tuple_struct = TupleStruct(-104.5, 105);\n-\n-    let empty_struct = EmptyStruct;\n-\n-    let c_style_enum1 = CStyleEnumVar1;\n-    let c_style_enum2 = CStyleEnumVar2;\n-    let c_style_enum3 = CStyleEnumVar3;\n-\n-    let mixed_enum_c_style_var = MixedEnumCStyleVar;\n-    let mixed_enum_tuple_var = MixedEnumTupleVar(106, 107, false);\n-    let mixed_enum_struct_var = MixedEnumStructVar { field1: 108.5, field2: 109 };\n-\n-    let some = Some(110_usize);\n-    let none: Option<isize> = None;\n-    let some_fat = Some(\"abc\");\n-    let none_fat: Option<&'static str> = None;\n-\n-    let nested_variant1 = NestedVariant1(\n-        NestedStruct {\n-            regular_struct: RegularStruct {\n-                the_first_field: 111,\n-                the_second_field: 112.5,\n-                the_third_field: true,\n-                the_fourth_field: \"NestedStructString1\",\n-            },\n-            tuple_struct: TupleStruct(113.5, 114),\n-            empty_struct: EmptyStruct,\n-            c_style_enum: CStyleEnumVar2,\n-            mixed_enum: MixedEnumTupleVar(115, 116, false)\n-        }\n-    );\n-\n-    let nested_variant2 = NestedVariant2 {\n-        abc: NestedStruct {\n-            regular_struct: RegularStruct {\n-                the_first_field: 117,\n-                the_second_field: 118.5,\n-                the_third_field: false,\n-                the_fourth_field: \"NestedStructString10\",\n-            },\n-            tuple_struct: TupleStruct(119.5, 120),\n-            empty_struct: EmptyStruct,\n-            c_style_enum: CStyleEnumVar3,\n-            mixed_enum: MixedEnumStructVar {\n-                field1: 121.5,\n-                field2: -122\n-            }\n-        }\n-    };\n-\n-    let none_check1: Option<(usize, Vec<usize>)> = None;\n-    let none_check2: Option<String> = None;\n-\n-    zzz(); // #break\n-}\n-\n-fn zzz() { () }"}]}