{"sha": "3c16c0e1df61755db2267897392529eb9451aa62", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNjMTZjMGUxZGY2MTc1NWRiMjI2Nzg5NzM5MjUyOWViOTQ1MWFhNjI=", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2021-04-29T18:17:44Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2021-05-19T18:38:23Z"}, "message": "Move proc_macro tests to ui test", "tree": {"sha": "9ab609c5c44a85b2092ad3176cb380f60ca7095f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9ab609c5c44a85b2092ad3176cb380f60ca7095f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3c16c0e1df61755db2267897392529eb9451aa62", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmClWx8ACgkQ+boUO5X/\nbYL9PQ/8DQCtUzJ7ls4Alu67nMnvGd7Ux4JY0WUnrkZgaclKBNkJhgZRUaR0gUrl\nYju4YoHBxuOf9LnEYEu6kEKMM7OWiMPzxlA+Ekvgtoeh0J4ecovbrEMD4kRwbylG\n3cOE6fmo98rX7uqE6xGhmeSwNdgfmSEWwSlDR1UHZv8grqjAYBuZXvHAz7mX9yER\noMfI9M/82tClDiTh/KKsTljGSS2x+BTDnd68Jrz1WN9p4dOnAcPXmj559wwCUsbA\nClaP9NCjTCy7DaV2iV3t0L8+0HK4VTVXBb/OCzjF5osq+qaWPOhA3uyTgpiPS61X\nmuu9qD8Wchf72+8nR1vyqUyFRVtjYpkq6FcFupec850nw42RuE7L6QUODv0nFlR9\nyBii2iOqgtpsMCTtu7YL2YA8eQQoeAo0IwCjIxdtEAju9IFUxdRGjj27CdKc+EJY\ntN1DdwR/p/2zeVOrSPssm//sCONiafOAUCECAtoEDa44jywQmrrUSlNq7THFyCan\nUeo5H2NF9dpLnP8l6kPZ8YeqC/PW6itLQwp/Nqwk9jGOAAlywuWJ+6RI7VYMY/vW\nYzG8srRuWSFAoDuLu2FN6oNldzuE8qT+6umPSIA3APxUqdICswVjsKqA5X0xhdgk\n+AQY4F+HTCkwhBuVwK+nHC40jiUb0UkIUCMZ6hFbEB9qxG/eGO0=\n=vRvI\n-----END PGP SIGNATURE-----", "payload": "tree 9ab609c5c44a85b2092ad3176cb380f60ca7095f\nparent 39441bb2c1030884d0f1d200de0a65b146ba6b6d\nauthor David Tolnay <dtolnay@gmail.com> 1619720264 -0700\ncommitter David Tolnay <dtolnay@gmail.com> 1621449503 -0700\n\nMove proc_macro tests to ui test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3c16c0e1df61755db2267897392529eb9451aa62", "html_url": "https://github.com/rust-lang/rust/commit/3c16c0e1df61755db2267897392529eb9451aa62", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3c16c0e1df61755db2267897392529eb9451aa62/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "39441bb2c1030884d0f1d200de0a65b146ba6b6d", "url": "https://api.github.com/repos/rust-lang/rust/commits/39441bb2c1030884d0f1d200de0a65b146ba6b6d", "html_url": "https://github.com/rust-lang/rust/commit/39441bb2c1030884d0f1d200de0a65b146ba6b6d"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "3d17e9e350e64b505526c08214e97d68ee9a8e81", "filename": "src/test/ui/proc-macro/auxiliary/api/cmp.rs", "status": "renamed", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/3c16c0e1df61755db2267897392529eb9451aa62/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fapi%2Fcmp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c16c0e1df61755db2267897392529eb9451aa62/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fapi%2Fcmp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fapi%2Fcmp.rs?ref=3c16c0e1df61755db2267897392529eb9451aa62", "patch": "@@ -1,8 +1,10 @@\n-#![feature(proc_macro_span)]\n-\n use proc_macro::{LineColumn, Punct};\n \n-#[test]\n+pub fn test() {\n+    test_line_column_ord();\n+    test_punct_eq();\n+}\n+\n fn test_line_column_ord() {\n     let line0_column0 = LineColumn { line: 0, column: 0 };\n     let line0_column1 = LineColumn { line: 0, column: 1 };\n@@ -11,7 +13,6 @@ fn test_line_column_ord() {\n     assert!(line0_column1 < line1_column0);\n }\n \n-#[test]\n fn test_punct_eq() {\n     // Good enough if it typechecks, since proc_macro::Punct can't exist in a test.\n     fn _check(punct: Punct) {", "previous_filename": "library/proc_macro/tests/test.rs"}, {"sha": "019fb2e7ec874237196680ba942d7f33401d866e", "filename": "src/test/ui/proc-macro/auxiliary/api/mod.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3c16c0e1df61755db2267897392529eb9451aa62/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fapi%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c16c0e1df61755db2267897392529eb9451aa62/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fapi%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fapi%2Fmod.rs?ref=3c16c0e1df61755db2267897392529eb9451aa62", "patch": "@@ -3,14 +3,18 @@\n \n #![crate_type = \"proc-macro\"]\n #![crate_name = \"proc_macro_api_tests\"]\n+#![feature(proc_macro_span)]\n #![deny(dead_code)] // catch if a test function is never called\n \n extern crate proc_macro;\n \n+mod cmp;\n+\n use proc_macro::TokenStream;\n \n #[proc_macro]\n pub fn run(input: TokenStream) -> TokenStream {\n     assert!(input.is_empty());\n+    cmp::test();\n     TokenStream::new()\n }"}]}