{"sha": "3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "node_id": "C_kwDOAAsO6NoAKDNmNDAxM2Q0NDlkOTBmM2NiZGQwZjg0ZjZkMjg3NzY4MGM4ZWFlOWQ", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2021-12-18T23:38:39Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-12-18T23:38:39Z"}, "message": "Rollup merge of #91834 - GuillaumeGomez:improve-gui-test-readability, r=jsha\n\nUpdate browser-ui-test version and improve rustdoc-gui tests readability\n\nSince the `0.5.1`, we can use trailing commas. I also used the opportunity to clean up the existing tests.\n\nr? `@notriddle`", "tree": {"sha": "11613c3117b3bd78ef85872c13301bd0d7f2621a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/11613c3117b3bd78ef85872c13301bd0d7f2621a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhvnD/CRBK7hj4Ov3rIwAAg7QIAHGYgoZ4MgcuTAC6DGY/+PLU\nu3tft6JJDJvXWQepxxTk60W7NHTXE5b3P4I0CDwWYLqiR3ORxfmsqhabePr16IZy\nJ6Ig7bYsfUAER/ZVEQfr+TJtCUPOz7oJvJs53QRzFhIFPzjqfKttjaU3pwQ8z0k/\n1VQPbwmpWd7w+1LInon51/b8uGkZDimkirTffwHqKrI+7hIb1ZhNSBLSZCqHLTH6\nOWv7ZAM23GLjyGMkFoZCWr1Gdy+NpDEC6XhZjltvcFXrpBaNuvMvwn0Hv2aFmFRf\nl62rThBoKngrJOLkVNM6JGLFo1NwRz4h+EXlVfxdRDx8MnivAYlrQMPweHeWc+s=\n=V8OR\n-----END PGP SIGNATURE-----\n", "payload": "tree 11613c3117b3bd78ef85872c13301bd0d7f2621a\nparent 91a0600a5c22b9d159e3c57526af83e71d1120f8\nparent 632508698a175d0d1cadfa8ad0f64462efdcf9f1\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1639870719 +0100\ncommitter GitHub <noreply@github.com> 1639870719 +0100\n\nRollup merge of #91834 - GuillaumeGomez:improve-gui-test-readability, r=jsha\n\nUpdate browser-ui-test version and improve rustdoc-gui tests readability\n\nSince the `0.5.1`, we can use trailing commas. I also used the opportunity to clean up the existing tests.\n\nr? `@notriddle`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "html_url": "https://github.com/rust-lang/rust/commit/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "91a0600a5c22b9d159e3c57526af83e71d1120f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/91a0600a5c22b9d159e3c57526af83e71d1120f8", "html_url": "https://github.com/rust-lang/rust/commit/91a0600a5c22b9d159e3c57526af83e71d1120f8"}, {"sha": "632508698a175d0d1cadfa8ad0f64462efdcf9f1", "url": "https://api.github.com/repos/rust-lang/rust/commits/632508698a175d0d1cadfa8ad0f64462efdcf9f1", "html_url": "https://github.com/rust-lang/rust/commit/632508698a175d0d1cadfa8ad0f64462efdcf9f1"}], "stats": {"total": 346, "additions": 279, "deletions": 67}, "files": [{"sha": "6e77bb0a09b9e9a32f894eadabc75d106632ff8e", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-tools/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -72,7 +72,7 @@ ENV PATH=\"/node-v14.4.0-linux-x64/bin:${PATH}\"\n # https://github.com/puppeteer/puppeteer/issues/375\n #\n # We also specify the version in case we need to update it to go around cache limitations.\n-RUN npm install -g browser-ui-test@0.5.0 --unsafe-perm=true\n+RUN npm install -g browser-ui-test@0.5.1 --unsafe-perm=true\n \n ENV RUST_CONFIGURE_ARGS \\\n   --build=x86_64-unknown-linux-gnu \\"}, {"sha": "2216b3f1c972843297857bd5af889e3344b8d731", "filename": "src/test/rustdoc-gui/anchors.goml", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fanchors.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fanchors.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fanchors.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -34,15 +34,15 @@ assert-css: (\"#impl a.anchor\", {\"color\": \"rgb(0, 0, 0)\"})\n move-cursor-to: \".top-doc .docblock .section-header:first-child\"\n assert-css: (\n     \".top-doc .docblock .section-header:first-child > a::before\",\n-    {\"left\": \"-10px\", \"padding-right\": \"10px\"}\n+    {\"left\": \"-10px\", \"padding-right\": \"10px\"},\n )\n // We also check that the heading itself has a different indent.\n assert-css: (\".top-doc .docblock .section-header:first-child\", {\"margin-left\": \"15px\"})\n \n move-cursor-to: \".top-doc .docblock .section-header:not(:first-child)\"\n assert-css: (\n     \".top-doc .docblock .section-header:not(:first-child) > a::before\",\n-    {\"left\": \"-25px\", \"padding-right\": \"10px\"}\n+    {\"left\": \"-25px\", \"padding-right\": \"10px\"},\n )\n assert-css: (\".top-doc .docblock .section-header:not(:first-child)\", {\"margin-left\": \"0px\"})\n \n@@ -51,14 +51,14 @@ assert-css: (\".top-doc .docblock .section-header:not(:first-child)\", {\"margin-le\n move-cursor-to: \"#title-for-struct-impl-doc\"\n assert-css: (\n     \"#title-for-struct-impl-doc > a::before\",\n-    {\"left\": \"-25px\", \"padding-right\": \"10px\"}\n+    {\"left\": \"-25px\", \"padding-right\": \"10px\"},\n )\n assert-css: (\"#title-for-struct-impl-doc\", {\"margin-left\": \"0px\"})\n // Now a method docs.\n move-cursor-to: \"#title-for-struct-impl-item-doc\"\n assert-css: (\n     \"#title-for-struct-impl-item-doc > a::before\",\n-    {\"left\": \"-25px\", \"padding-right\": \"10px\"}\n+    {\"left\": \"-25px\", \"padding-right\": \"10px\"},\n )\n assert-css: (\"#title-for-struct-impl-item-doc\", {\"margin-left\": \"0px\"})\n \n@@ -69,6 +69,6 @@ goto: file://|DOC_PATH|/test_docs/enum.WhoLetTheDogOut.html\n move-cursor-to: \".top-doc .docblock .section-header\"\n assert-css: (\n     \".top-doc .docblock .section-header > a::before\",\n-    {\"left\": \"-25px\", \"padding-right\": \"10px\"}\n+    {\"left\": \"-25px\", \"padding-right\": \"10px\"},\n )\n assert-css: (\".top-doc .docblock .section-header\", {\"margin-left\": \"0px\"})"}, {"sha": "baf9651c40de39125595daa4de2a2d15f2ec6e00", "filename": "src/test/rustdoc-gui/docblock-code-block-line-number.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fdocblock-code-block-line-number.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fdocblock-code-block-line-number.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fdocblock-code-block-line-number.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -16,7 +16,7 @@ wait-for: \"pre.line-number\"\n assert-css: (\"pre.line-number\", {\n     \"margin\": \"0px\",\n     \"padding\": \"13px 8px\",\n-    \"text-align\": \"right\"\n+    \"text-align\": \"right\",\n })\n // The first code block has two lines so let's check its `<pre>` elements lists both of them.\n assert-text: (\"pre.line-number\", \"1\\n2\")"}, {"sha": "1b3006155d8b632a7c9314667a0011d6378a4fa4", "filename": "src/test/rustdoc-gui/docblock-table-overflow.goml", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fdocblock-table-overflow.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fdocblock-table-overflow.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fdocblock-table-overflow.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -11,7 +11,11 @@ assert-property: (\".top-doc .docblock table\", {\"scrollWidth\": \"1573\"})\n // Checking it works on other doc blocks as well...\n \n // Logically, the \".docblock\" and the \"<p>\" should have the same scroll width.\n-compare-elements-property: (\"#implementations + details .docblock\", \"#implementations + details .docblock > p\", [\"scrollWidth\"])\n+compare-elements-property: (\n+    \"#implementations + details .docblock\",\n+    \"#implementations + details .docblock > p\",\n+    [\"scrollWidth\"],\n+)\n assert-property: (\"#implementations + details .docblock\", {\"scrollWidth\": \"816\"})\n // However, since there is overflow in the <table>, its scroll width is bigger.\n assert-property: (\"#implementations + details .docblock table\", {\"scrollWidth\": \"1573\"})"}, {"sha": "c9117e2c101d7def38bde591113bac8e0022fff0", "filename": "src/test/rustdoc-gui/font-weight.goml", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Ffont-weight.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Ffont-weight.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ffont-weight.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -1,7 +1,10 @@\n goto: file://|DOC_PATH|/lib2/struct.Foo.html\n // This test checks that the font weight is correctly applied.\n assert-css: (\"//*[@class='docblock item-decl']//a[text()='Alias']\", {\"font-weight\": \"400\"})\n-assert-css: (\"//*[@class='structfield small-section-header']//a[text()='Alias']\", {\"font-weight\": \"400\"})\n+assert-css: (\n+    \"//*[@class='structfield small-section-header']//a[text()='Alias']\",\n+    {\"font-weight\": \"400\"},\n+)\n assert-css: (\"#method\\.a_method > .code-header\", {\"font-weight\": \"600\"})\n assert-css: (\"#associatedtype\\.X > .code-header\", {\"font-weight\": \"600\"})\n assert-css: (\"#associatedconstant\\.Y > .code-header\", {\"font-weight\": \"600\"})\n@@ -25,8 +28,14 @@ goto: file://|DOC_PATH|/lib2/trait.Trait.html\n //\n // This uses '/parent::*' as a proxy for the style of the text node.\n // We can't just select the '<a>' because intermediate tags could be added.\n-assert-count: (\"//*[@class='docblock item-decl']/pre[@class='rust trait']/code/a[@class='constant']//text()/parent::*\", 1)\n-assert-css: (\"//*[@class='docblock item-decl']/pre[@class='rust trait']/code/a[@class='constant']//text()/parent::*\", {\"font-weight\": \"400\"})\n+assert-count: (\n+    \"//*[@class='docblock item-decl']/pre[@class='rust trait']/code/a[@class='constant']//text()/parent::*\",\n+    1,\n+)\n+assert-css: (\n+    \"//*[@class='docblock item-decl']/pre[@class='rust trait']/code/a[@class='constant']//text()/parent::*\",\n+    {\"font-weight\": \"400\"},\n+)\n \n assert-count: (\".methods .type\", 1)\n assert-css: (\".methods .type\", {\"font-weight\": \"600\"})"}, {"sha": "d58ca13a6291fbc855f3e3ae158a27d54485c5de", "filename": "src/test/rustdoc-gui/headers-color.goml", "status": "modified", "additions": 63, "deletions": 13, "changes": 76, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fheaders-color.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fheaders-color.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fheaders-color.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -5,17 +5,36 @@ goto: file://|DOC_PATH|/test_docs/struct.Foo.html\n show-text: true\n \n // Ayu theme\n-local-storage: {\"rustdoc-theme\": \"ayu\", \"rustdoc-preferred-dark-theme\": \"ayu\", \"rustdoc-use-system-theme\": \"false\"}\n+local-storage: {\n+    \"rustdoc-theme\": \"ayu\",\n+    \"rustdoc-preferred-dark-theme\": \"ayu\",\n+    \"rustdoc-use-system-theme\": \"false\",\n+}\n reload:\n \n-assert-css: (\".impl\", {\"color\": \"rgb(197, 197, 197)\", \"background-color\": \"rgba(0, 0, 0, 0)\"}, ALL)\n-assert-css: (\".impl .code-header\", {\"color\": \"rgb(230, 225, 207)\", \"background-color\": \"rgb(15, 20, 25)\"}, ALL)\n+assert-css: (\n+    \".impl\",\n+    {\"color\": \"rgb(197, 197, 197)\", \"background-color\": \"rgba(0, 0, 0, 0)\"},\n+    ALL,\n+)\n+assert-css: (\n+    \".impl .code-header\",\n+    {\"color\": \"rgb(230, 225, 207)\", \"background-color\": \"rgb(15, 20, 25)\"},\n+    ALL,\n+)\n \n goto: file://|DOC_PATH|/test_docs/struct.Foo.html#impl\n-assert-css: (\"#impl\", {\"color\": \"rgb(197, 197, 197)\", \"background-color\": \"rgba(255, 236, 164, 0.06)\"})\n+assert-css: (\n+    \"#impl\",\n+    {\"color\": \"rgb(197, 197, 197)\", \"background-color\": \"rgba(255, 236, 164, 0.06)\"},\n+)\n \n goto: file://|DOC_PATH|/test_docs/struct.Foo.html#method.must_use\n-assert-css: (\"#method\\.must_use\", {\"color\": \"rgb(197, 197, 197)\", \"background-color\": \"rgba(255, 236, 164, 0.06)\"}, ALL)\n+assert-css: (\n+    \"#method\\.must_use\",\n+    {\"color\": \"rgb(197, 197, 197)\", \"background-color\": \"rgba(255, 236, 164, 0.06)\"},\n+    ALL,\n+)\n \n goto: file://|DOC_PATH|/test_docs/index.html\n assert-css: (\".small-section-header a\", {\"color\": \"rgb(197, 197, 197)\"}, ALL)\n@@ -24,17 +43,36 @@ goto: file://|DOC_PATH|/test_docs/struct.HeavilyDocumentedStruct.html\n assert-css: (\".section-header a\", {\"color\": \"rgb(57, 175, 215)\"}, ALL)\n \n // Dark theme\n-local-storage: {\"rustdoc-theme\": \"dark\", \"rustdoc-preferred-dark-theme\": \"dark\", \"rustdoc-use-system-theme\": \"false\"}\n+local-storage: {\n+    \"rustdoc-theme\": \"dark\",\n+    \"rustdoc-preferred-dark-theme\": \"dark\",\n+    \"rustdoc-use-system-theme\": \"false\",\n+}\n goto: file://|DOC_PATH|/test_docs/struct.Foo.html\n \n-assert-css: (\".impl\", {\"color\": \"rgb(221, 221, 221)\", \"background-color\": \"rgba(0, 0, 0, 0)\"}, ALL)\n-assert-css: (\".impl .code-header\", {\"color\": \"rgb(221, 221, 221)\", \"background-color\": \"rgb(53, 53, 53)\"}, ALL)\n+assert-css: (\n+    \".impl\",\n+    {\"color\": \"rgb(221, 221, 221)\", \"background-color\": \"rgba(0, 0, 0, 0)\"},\n+    ALL,\n+)\n+assert-css: (\n+    \".impl .code-header\",\n+    {\"color\": \"rgb(221, 221, 221)\", \"background-color\": \"rgb(53, 53, 53)\"},\n+    ALL,\n+)\n \n goto: file://|DOC_PATH|/test_docs/struct.Foo.html#impl\n-assert-css: (\"#impl\", {\"color\": \"rgb(221, 221, 221)\", \"background-color\": \"rgb(73, 74, 61)\"})\n+assert-css: (\n+    \"#impl\",\n+    {\"color\": \"rgb(221, 221, 221)\", \"background-color\": \"rgb(73, 74, 61)\"},\n+)\n \n goto: file://|DOC_PATH|/test_docs/struct.Foo.html#method.must_use\n-assert-css: (\"#method\\.must_use\", {\"color\": \"rgb(221, 221, 221)\", \"background-color\": \"rgb(73, 74, 61)\"}, ALL)\n+assert-css: (\n+    \"#method\\.must_use\",\n+    {\"color\": \"rgb(221, 221, 221)\", \"background-color\": \"rgb(73, 74, 61)\"},\n+    ALL,\n+)\n \n goto: file://|DOC_PATH|/test_docs/index.html\n assert-css: (\".small-section-header a\", {\"color\": \"rgb(221, 221, 221)\"}, ALL)\n@@ -48,14 +86,26 @@ reload:\n \n goto: file://|DOC_PATH|/test_docs/struct.Foo.html\n \n-assert-css: (\".impl\", {\"color\": \"rgb(0, 0, 0)\", \"background-color\": \"rgba(0, 0, 0, 0)\"}, ALL)\n-assert-css: (\".impl .code-header\", {\"color\": \"rgb(0, 0, 0)\", \"background-color\": \"rgb(255, 255, 255)\"}, ALL)\n+assert-css: (\n+    \".impl\",\n+    {\"color\": \"rgb(0, 0, 0)\", \"background-color\": \"rgba(0, 0, 0, 0)\"},\n+    ALL,\n+)\n+assert-css: (\n+    \".impl .code-header\",\n+    {\"color\": \"rgb(0, 0, 0)\", \"background-color\": \"rgb(255, 255, 255)\"},\n+    ALL,\n+)\n \n goto: file://|DOC_PATH|/test_docs/struct.Foo.html#impl\n assert-css: (\"#impl\", {\"color\": \"rgb(0, 0, 0)\", \"background-color\": \"rgb(253, 255, 211)\"})\n \n goto: file://|DOC_PATH|/test_docs/struct.Foo.html#method.must_use\n-assert-css: (\"#method\\.must_use\", {\"color\": \"rgb(0, 0, 0)\", \"background-color\": \"rgb(253, 255, 211)\"}, ALL)\n+assert-css: (\n+    \"#method\\.must_use\",\n+    {\"color\": \"rgb(0, 0, 0)\", \"background-color\": \"rgb(253, 255, 211)\"},\n+    ALL,\n+)\n \n goto: file://|DOC_PATH|/test_docs/index.html\n assert-css: (\".small-section-header a\", {\"color\": \"rgb(0, 0, 0)\"}, ALL)"}, {"sha": "4f7fe7a212c923628f60dd76c8aa84b6a1348a98", "filename": "src/test/rustdoc-gui/huge-collection-of-constants.goml", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fhuge-collection-of-constants.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fhuge-collection-of-constants.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fhuge-collection-of-constants.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -2,4 +2,8 @@ goto: file://|DOC_PATH|/test_docs/huge_amount_of_consts/index.html\n \n // Make sure that the last two entries are more than 12 pixels apart and not stacked on each other.\n \n-compare-elements-position-near-false: (\"//*[@class='item-table']//div[last()-1]\", \"//*[@class='item-table']//div[last()-3]\", {\"y\": 12})\n+compare-elements-position-near-false: (\n+    \"//*[@class='item-table']//div[last()-1]\",\n+    \"//*[@class='item-table']//div[last()-3]\",\n+    {\"y\": 12},\n+)"}, {"sha": "d17400f5bd9e8b7ba281d8cac5d293d99861d811", "filename": "src/test/rustdoc-gui/jump-to-def-background.goml", "status": "modified", "additions": 25, "deletions": 5, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fjump-to-def-background.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fjump-to-def-background.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fjump-to-def-background.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -2,22 +2,42 @@\n goto: file://|DOC_PATH|/src/link_to_definition/lib.rs.html\n \n // Set the theme to dark.\n-local-storage: {\"rustdoc-theme\": \"dark\", \"rustdoc-preferred-dark-theme\": \"dark\", \"rustdoc-use-system-theme\": \"false\"}\n+local-storage: {\n+    \"rustdoc-theme\": \"dark\",\n+    \"rustdoc-preferred-dark-theme\": \"dark\",\n+    \"rustdoc-use-system-theme\": \"false\",\n+}\n // We reload the page so the local storage settings are being used.\n reload:\n \n-assert-css: (\"body.source .example-wrap pre.rust a\", {\"background-color\": \"rgb(51, 51, 51)\"}, ALL)\n+assert-css: (\n+    \"body.source .example-wrap pre.rust a\",\n+    {\"background-color\": \"rgb(51, 51, 51)\"},\n+    ALL,\n+)\n \n // Set the theme to ayu.\n-local-storage: {\"rustdoc-theme\": \"ayu\", \"rustdoc-preferred-dark-theme\": \"ayu\", \"rustdoc-use-system-theme\": \"false\"}\n+local-storage: {\n+    \"rustdoc-theme\": \"ayu\",\n+    \"rustdoc-preferred-dark-theme\": \"ayu\",\n+    \"rustdoc-use-system-theme\": \"false\",\n+}\n // We reload the page so the local storage settings are being used.\n reload:\n \n-assert-css: (\"body.source .example-wrap pre.rust a\", {\"background-color\": \"rgb(51, 51, 51)\"}, ALL)\n+assert-css: (\n+    \"body.source .example-wrap pre.rust a\",\n+    {\"background-color\": \"rgb(51, 51, 51)\"},\n+    ALL,\n+)\n \n // Set the theme to light.\n local-storage: {\"rustdoc-theme\": \"light\", \"rustdoc-use-system-theme\": \"false\"}\n // We reload the page so the local storage settings are being used.\n reload:\n \n-assert-css: (\"body.source .example-wrap pre.rust a\", {\"background-color\": \"rgb(238, 238, 238)\"}, ALL)\n+assert-css: (\n+    \"body.source .example-wrap pre.rust a\",\n+    {\"background-color\": \"rgb(238, 238, 238)\"},\n+    ALL,\n+)"}, {"sha": "ca3994a08b269deac3346dfbabf3d410fa521598", "filename": "src/test/rustdoc-gui/label-next-to-symbol.goml", "status": "modified", "additions": 53, "deletions": 11, "changes": 64, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Flabel-next-to-symbol.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Flabel-next-to-symbol.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Flabel-next-to-symbol.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -8,29 +8,71 @@ assert: (\".stab.deprecated\")\n assert: (\".stab.portability\")\n \n // make sure that deprecated and portability are different colours\n-assert-css: (\".item-table .item-left .stab.deprecated\", { \"background-color\": \"rgb(255, 196, 196)\" })\n-assert-css: (\".item-table .item-left .stab.portability\", { \"background-color\": \"rgb(243, 223, 255)\" })\n+assert-css: (\n+    \".item-table .item-left .stab.deprecated\",\n+    { \"background-color\": \"rgb(255, 196, 196)\" },\n+)\n+assert-css: (\n+    \".item-table .item-left .stab.portability\",\n+    { \"background-color\": \"rgb(243, 223, 255)\" },\n+)\n \n // table like view\n assert-css: (\".item-right.docblock-short\", { \"padding-left\": \"0px\" })\n-compare-elements-position-near: (\"//*[@class='item-left module-item']//a[text()='replaced_function']\", \".item-left .stab.deprecated\", {\"y\": 2})\n-compare-elements-position: (\".item-left .stab.deprecated\", \".item-left .stab.portability\", (\"y\"))\n+compare-elements-position-near: (\n+    \"//*[@class='item-left module-item']//a[text()='replaced_function']\",\n+    \".item-left .stab.deprecated\",\n+    {\"y\": 2},\n+)\n+compare-elements-position: (\n+    \".item-left .stab.deprecated\",\n+    \".item-left .stab.portability\",\n+    (\"y\"),\n+)\n \n // Ensure no wrap\n-compare-elements-position-near: (\"//*[@class='item-left module-item']//a[text()='replaced_function']\", \"//*[@class='item-right docblock-short']//p[text()='a thing with a label']\", {\"y\": 2})\n+compare-elements-position-near: (\n+    \"//*[@class='item-left module-item']//a[text()='replaced_function']\",\n+    \"//*[@class='item-right docblock-short']//p[text()='a thing with a label']\",\n+    {\"y\": 2},\n+)\n // compare parent elements\n-compare-elements-position: (\"//*[@class='item-left module-item']//a[text()='replaced_function']/..\", \"//*[@class='item-right docblock-short']//p[text()='a thing with a label']/..\", (\"y\"))\n+compare-elements-position: (\n+    \"//*[@class='item-left module-item']//a[text()='replaced_function']/..\",\n+    \"//*[@class='item-right docblock-short']//p[text()='a thing with a label']/..\",\n+    (\"y\"),\n+)\n \n \n // Mobile view\n size: (600, 600)\n // staggered layout with 2em spacing\n assert-css: (\".item-right.docblock-short\", { \"padding-left\": \"32px\" })\n-compare-elements-position-near: (\"//*[@class='item-left module-item']//a[text()='replaced_function']\", \".item-left .stab.deprecated\", {\"y\": 1})\n-compare-elements-position: (\".item-left .stab.deprecated\", \".item-left .stab.portability\", (\"y\"))\n+compare-elements-position-near: (\n+    \"//*[@class='item-left module-item']//a[text()='replaced_function']\",\n+    \".item-left .stab.deprecated\",\n+    {\"y\": 1},\n+)\n+compare-elements-position: (\n+    \".item-left .stab.deprecated\",\n+    \".item-left .stab.portability\",\n+    (\"y\"),\n+)\n \n // Ensure wrap\n-compare-elements-position-near-false: (\"//*[@class='item-left module-item']//a[text()='replaced_function']\", \"//*[@class='item-right docblock-short']//p[text()='a thing with a label']\", {\"y\": 12})\n+compare-elements-position-near-false: (\n+    \"//*[@class='item-left module-item']//a[text()='replaced_function']\",\n+    \"//*[@class='item-right docblock-short']//p[text()='a thing with a label']\",\n+    {\"y\": 12},\n+)\n // compare parent elements\n-compare-elements-position-false: (\"//*[@class='item-left module-item']//a[text()='replaced_function']/..\", \"//*[@class='item-right docblock-short']//p[text()='a thing with a label']/..\", (\"y\"))\n-compare-elements-position-false: (\".item-left .stab.deprecated\", \"//*[@class='item-right docblock-short']//p[text()='a thing with a label']\", (\"y\"))\n+compare-elements-position-false: (\n+    \"//*[@class='item-left module-item']//a[text()='replaced_function']/..\",\n+    \"//*[@class='item-right docblock-short']//p[text()='a thing with a label']/..\",\n+    (\"y\"),\n+)\n+compare-elements-position-false: (\n+    \".item-left .stab.deprecated\",\n+    \"//*[@class='item-right docblock-short']//p[text()='a thing with a label']\",\n+    (\"y\"),\n+)"}, {"sha": "758ee391ae42b3b02224f61ad4c101c880204509", "filename": "src/test/rustdoc-gui/module-items-font.goml", "status": "modified", "additions": 58, "deletions": 14, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fmodule-items-font.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fmodule-items-font.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fmodule-items-font.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -1,23 +1,67 @@\n // This test checks that the correct font is used on module items (in index.html pages).\n goto: file://|DOC_PATH|/test_docs/index.html\n-assert-css: (\".item-table .module-item a\", {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'}, ALL)\n-assert-css: (\".item-table .docblock-short\", {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'}, ALL)\n+assert-css: (\n+    \".item-table .module-item a\",\n+    {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'},\n+    ALL,\n+)\n+assert-css: (\n+    \".item-table .docblock-short\",\n+    {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'},\n+    ALL,\n+)\n \n // modules\n-assert-css: (\"#modules + .item-table .item-left a\", {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'})\n-assert-css: (\"#modules + .item-table .item-right.docblock-short\", {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'})\n+assert-css: (\n+    \"#modules + .item-table .item-left a\",\n+    {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'},\n+)\n+assert-css: (\n+    \"#modules + .item-table .item-right.docblock-short\",\n+    {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'},\n+)\n // structs\n-assert-css: (\"#structs + .item-table .item-left a\", {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'})\n-assert-css: (\"#structs + .item-table .item-right.docblock-short\", {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'})\n+assert-css: (\n+    \"#structs + .item-table .item-left a\",\n+    {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'},\n+)\n+assert-css: (\n+    \"#structs + .item-table .item-right.docblock-short\",\n+    {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'},\n+)\n // enums\n-assert-css: (\"#enums + .item-table .item-left a\", {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'})\n-assert-css: (\"#enums + .item-table .item-right.docblock-short\", {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'})\n+assert-css: (\n+    \"#enums + .item-table .item-left a\",\n+    {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'},\n+)\n+assert-css: (\n+    \"#enums + .item-table .item-right.docblock-short\",\n+    {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'},\n+)\n // traits\n-assert-css: (\"#traits + .item-table .item-left a\", {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'})\n-assert-css: (\"#traits + .item-table .item-right.docblock-short\", {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'})\n+assert-css: (\n+    \"#traits + .item-table .item-left a\",\n+    {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'},\n+)\n+assert-css: (\n+    \"#traits + .item-table .item-right.docblock-short\",\n+    {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'},\n+)\n // functions\n-assert-css: (\"#functions + .item-table .item-left a\", {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'})\n-assert-css: (\"#functions + .item-table .item-right.docblock-short\", {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'})\n+assert-css: (\n+    \"#functions + .item-table .item-left a\",\n+    {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'},\n+)\n+assert-css: (\n+    \"#functions + .item-table .item-right.docblock-short\",\n+    {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'},\n+)\n // keywords\n-assert-css: (\"#keywords + .item-table .item-left a\", {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'})\n-assert-css: (\"#keywords + .item-table .item-right.docblock-short\", {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'})\n+assert-css: (\n+    \"#keywords + .item-table .item-left a\",\n+    {\"font-family\": '\"Fira Sans\", Arial, NanumBarunGothic, sans-serif'},\n+)\n+assert-css: (\n+    \"#keywords + .item-table .item-right.docblock-short\",\n+    {\"font-family\": '\"Source Serif 4\", NanumBarunGothic, serif'},\n+)"}, {"sha": "ffa9362755dd7345399e2c4d043d03a9db311757", "filename": "src/test/rustdoc-gui/search-result-color.goml", "status": "modified", "additions": 46, "deletions": 11, "changes": 57, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fsearch-result-color.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fsearch-result-color.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsearch-result-color.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -5,37 +5,72 @@ goto: file://|DOC_PATH|/test_docs/index.html?search=coo\n show-text: true\n \n // Ayu theme\n-local-storage: {\"rustdoc-theme\": \"ayu\", \"rustdoc-preferred-dark-theme\": \"ayu\", \"rustdoc-use-system-theme\": \"false\"}\n+local-storage: {\n+    \"rustdoc-theme\": \"ayu\",\n+    \"rustdoc-preferred-dark-theme\": \"ayu\",\n+    \"rustdoc-use-system-theme\": \"false\",\n+}\n reload:\n \n // Waiting for the search results to appear...\n wait-for: \"#titles\"\n-assert-css: (\"//*[@class='desc']//*[text()='Just a normal struct.']\", {\"color\": \"rgb(197, 197, 197)\"})\n-assert-css: (\"//*[@class='result-name']/*[text()='test_docs::']\", {\"color\": \"rgb(0, 150, 207)\"})\n+assert-css: (\n+    \"//*[@class='desc']//*[text()='Just a normal struct.']\",\n+    {\"color\": \"rgb(197, 197, 197)\"},\n+)\n+assert-css: (\n+    \"//*[@class='result-name']/*[text()='test_docs::']\",\n+    {\"color\": \"rgb(0, 150, 207)\"},\n+)\n \n // Checking the color for \"keyword\".\n-assert-css: (\"//*[@class='result-name']//*[text()='(keyword)']\", {\"color\": \"rgb(120, 135, 151)\"})\n+assert-css: (\n+    \"//*[@class='result-name']//*[text()='(keyword)']\",\n+    {\"color\": \"rgb(120, 135, 151)\"},\n+)\n \n // Dark theme\n-local-storage: {\"rustdoc-theme\": \"dark\", \"rustdoc-preferred-dark-theme\": \"dark\", \"rustdoc-use-system-theme\": \"false\"}\n+local-storage: {\n+    \"rustdoc-theme\": \"dark\",\n+    \"rustdoc-preferred-dark-theme\": \"dark\",\n+    \"rustdoc-use-system-theme\": \"false\",\n+}\n reload:\n \n // Waiting for the search results to appear...\n wait-for: \"#titles\"\n-assert-css: (\"//*[@class='desc']//*[text()='Just a normal struct.']\", {\"color\": \"rgb(221, 221, 221)\"})\n-assert-css: (\"//*[@class='result-name']/*[text()='test_docs::']\", {\"color\": \"rgb(221, 221, 221)\"})\n+assert-css: (\n+    \"//*[@class='desc']//*[text()='Just a normal struct.']\",\n+    {\"color\": \"rgb(221, 221, 221)\"},\n+)\n+assert-css: (\n+    \"//*[@class='result-name']/*[text()='test_docs::']\",\n+    {\"color\": \"rgb(221, 221, 221)\"},\n+)\n \n // Checking the color for \"keyword\".\n-assert-css: (\"//*[@class='result-name']//*[text()='(keyword)']\", {\"color\": \"rgb(221, 221, 221)\"})\n+assert-css: (\n+    \"//*[@class='result-name']//*[text()='(keyword)']\",\n+    {\"color\": \"rgb(221, 221, 221)\"},\n+)\n \n // Light theme\n local-storage: {\"rustdoc-theme\": \"light\", \"rustdoc-use-system-theme\": \"false\"}\n reload:\n \n // Waiting for the search results to appear...\n wait-for: \"#titles\"\n-assert-css: (\"//*[@class='desc']//*[text()='Just a normal struct.']\", {\"color\": \"rgb(0, 0, 0)\"})\n-assert-css: (\"//*[@class='result-name']/*[text()='test_docs::']\", {\"color\": \"rgb(0, 0, 0)\"})\n+assert-css: (\n+    \"//*[@class='desc']//*[text()='Just a normal struct.']\",\n+    {\"color\": \"rgb(0, 0, 0)\"},\n+)\n+assert-css: (\n+    \"//*[@class='result-name']/*[text()='test_docs::']\",\n+    {\"color\": \"rgb(0, 0, 0)\"},\n+)\n \n // Checking the color for \"keyword\".\n-assert-css: (\"//*[@class='result-name']//*[text()='(keyword)']\", {\"color\": \"rgb(0, 0, 0)\"})\n+assert-css: (\n+    \"//*[@class='result-name']//*[text()='(keyword)']\",\n+    {\"color\": \"rgb(0, 0, 0)\"},\n+)"}, {"sha": "b4eb896af1c7e0d01a59a30237aca2d96534e0dd", "filename": "src/test/rustdoc-gui/search-result-colors.goml", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fsearch-result-colors.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f4013d449d90f3cbdd0f84f6d2877680c8eae9d/src%2Ftest%2Frustdoc-gui%2Fsearch-result-colors.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsearch-result-colors.goml?ref=3f4013d449d90f3cbdd0f84f6d2877680c8eae9d", "patch": "@@ -1,7 +1,11 @@\n goto: file://|DOC_PATH|/test_docs/index.html\n // We set the theme so we're sure that the correct values will be used, whatever the computer\n // this test is running on.\n-local-storage: {\"rustdoc-theme\": \"dark\", \"rustdoc-preferred-dark-theme\": \"dark\", \"rustdoc-use-system-theme\": \"false\"}\n+local-storage: {\n+    \"rustdoc-theme\": \"dark\",\n+    \"rustdoc-preferred-dark-theme\": \"dark\",\n+    \"rustdoc-use-system-theme\": \"false\",\n+}\n // If the text isn't displayed, the browser doesn't compute color style correctly...\n show-text: true\n // We reload the page so the local storage settings are being used."}]}