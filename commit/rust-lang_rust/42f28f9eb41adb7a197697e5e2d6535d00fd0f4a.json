{"sha": "42f28f9eb41adb7a197697e5e2d6535d00fd0f4a", "node_id": "C_kwDOAAsO6NoAKDQyZjI4ZjllYjQxYWRiN2ExOTc2OTdlNWUyZDY1MzVkMDBmZDBmNGE", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-06-05T07:48:47Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-06-05T07:48:47Z"}, "message": "Auto merge of #110221 - jyn514:smaller-debuginfo, r=Mark-Simulacrum\n\nGreatly decrease the size of `rustc_driver.so` when debuginfo is enabled\n\n- Don't include extra unnecessary debuginfo when only debuginfo-level=1 is set\n- Compress debuginfo sections to reduce the size of debuginfo on disk.\n\nbefore: 650 MB\nline tables only: 335 MB\ncompressed only: 216 MB\ncompressed and line tables: 186 MB\nno debuginfo at all: 130 MB\n\nHere's an example backtrace:\n\n<details><summary>with `debuginfo=1` (what we emit currently for `debuginfo-level-rustc = 1`)</summary>\n\n```\nstack backtrace:\n   0:     0x7f480fac6097 - std::backtrace_rs::backtrace::libunwind::trace::h8966ca44d9a34123\n                               at /home/jyn/src/rust3/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\n   1:     0x7f480fac6097 - std::backtrace_rs::backtrace::trace_unsynchronized::h4d58a1c9cd2d9e24\n                               at /home/jyn/src/rust3/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\n   2:     0x7f480faeb577 - std::sys_common::backtrace::_print_fmt::h95c3301848eb0632\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:65:5\n   3:     0x7f480faeb577 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h723a24a56fc95abd\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:44:22\n   4:     0x7f480fb45b39 - core::fmt::write::hfd80e5a0f5ad2c26\n                               at /home/jyn/src/rust3/library/core/src/fmt/mod.rs:1254:17\n   5:     0x7f480fa8a591 - std::io::Write::write_fmt::he06ca70f402de9f9\n                               at /home/jyn/src/rust3/library/std/src/io/mod.rs:1698:15\n   6:     0x7f480faeb3db - std::sys_common::backtrace::_print::h5c042881d187dfdd\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:47:5\n   7:     0x7f480faeb3db - std::sys_common::backtrace::print::h63ca06eeb2d47b55\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:34:9\n   8:     0x7f480fac5397 - std::panicking::default_hook::{{closure}}::h1f5c92be2aff3285\n   9:     0x7f480fac5115 - std::panicking::default_hook::h6dc3715b1746d160\n                               at /home/jyn/src/rust3/library/std/src/panicking.rs:288:9\n  10:     0x7f48108534ff - rustc_driver_impl[51f301ed0be6f62f]::DEFAULT_HOOK::{closure#0}::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_driver_impl/src/lib.rs:1188:17\n  11:     0x7f480fac5aa4 - std::panicking::rust_panic_with_hook::h84ebf72507cc7aca\n                               at /home/jyn/src/rust3/library/std/src/panicking.rs:694:13\n  12:     0x7f480fabfec2 - std::panicking::begin_panic_handler::{{closure}}::h2ee673746838829d\n                               at /home/jyn/src/rust3/library/std/src/panicking.rs:579:13\n  13:     0x7f480fabfe36 - std::sys_common::backtrace::__rust_end_short_backtrace::h5f7b4d3d0568679c\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:150:18\n  14:     0x7f480fac5492 - rust_begin_unwind\n                               at /home/jyn/src/rust3/library/std/src/panicking.rs:577:5\n  15:     0x7f480fa80bd3 - core::panicking::panic_fmt::h53276e9f07775686\n                               at /home/jyn/src/rust3/library/core/src/panicking.rs:67:14\n  16:     0x7f4813a5999a - <rustc_errors[ce8323ca4cc1fd17]::HandlerInner>::panic_if_treat_err_as_bug\n  17:     0x7f4813a5953d - <rustc_errors[ce8323ca4cc1fd17]::HandlerInner>::emit_diagnostic::{closure#2}\n  18:     0x7f481094f589 - rustc_interface[850741d9ad1ee353]::callbacks::track_diagnostic::{closure#0}::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/callbacks.rs:41:53\n  19:     0x7f481094f589 - rustc_middle[42813831790177f8]::ty::context::tls::enter_context::<rustc_interface[850741d9ad1ee353]::callbacks::track_diagnostic::{closure#0}::{closure#0}, ()>::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:82:9\n  20:     0x7f481094f589 - <std[4b96690c503973c9]::thread::local::LocalKey<core[9f6b914a8323238a]::cell::Cell<*const ()>>>::try_with::<rustc_middle[42813831790177f8]::ty::context::tls::enter_context<rustc_interface[850741d9ad1ee353]::callbacks::track_diagnostic::{closure#0}::{closure#0}, ()>::{closure#0}, ()>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:252:16\n  21:     0x7f481094f589 - <std[4b96690c503973c9]::thread::local::LocalKey<core[9f6b914a8323238a]::cell::Cell<*const ()>>>::with::<rustc_middle[42813831790177f8]::ty::context::tls::enter_context<rustc_interface[850741d9ad1ee353]::callbacks::track_diagnostic::{closure#0}::{closure#0}, ()>::{closure#0}, ()>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:228:9\n  22:     0x7f481093ea5a - rustc_middle[42813831790177f8]::ty::context::tls::enter_context::<rustc_interface[850741d9ad1ee353]::callbacks::track_diagnostic::{closure#0}::{closure#0}, ()>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:79:5\n  23:     0x7f481093ea5a - rustc_interface[850741d9ad1ee353]::callbacks::track_diagnostic::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/callbacks.rs:41:20\n  24:     0x7f481093ea5a - rustc_middle[42813831790177f8]::ty::context::tls::with_context_opt::<rustc_interface[850741d9ad1ee353]::callbacks::track_diagnostic::{closure#0}, ()>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:100:18\n  25:     0x7f481093ea5a - rustc_interface[850741d9ad1ee353]::callbacks::track_diagnostic\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/callbacks.rs:31:5\n  26:     0x7f4813a58b31 - <rustc_errors[ce8323ca4cc1fd17]::HandlerInner>::emit_diagnostic\n                               at /home/jyn/src/rust3/compiler/rustc_errors/src/lib.rs:1370:9\n  27:     0x7f4813a576a3 - <rustc_errors[ce8323ca4cc1fd17]::Handler>::emit_diagnostic\n                               at /home/jyn/src/rust3/compiler/rustc_errors/src/lib.rs:1121:9\n  28:     0x7f4813a9a00a - <rustc_span[c31f71685094a917]::ErrorGuaranteed as rustc_errors[ce8323ca4cc1fd17]::diagnostic_builder::EmissionGuarantee>::diagnostic_builder_emit_producing_guarantee\n                               at /home/jyn/src/rust3/compiler/rustc_errors/src/diagnostic_builder.rs:169:28\n  29:     0x7f48116f1e82 - <rustc_resolve[ae3e8cdb7693af44]::Resolver>::report_error\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/diagnostics.rs:533:9\n  30:     0x7f4811799349 - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::report_error\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:3665:13\n  31:     0x7f4811799349 - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::smart_resolve_path_fragment\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:3630:21\n  32:     0x7f48117fb10c - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::with_optional_trait_ref::<(), <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::resolve_implementation::{closure#0}::{closure#0}::{closure#0}::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2680:23\n  33:     0x7f48117fb10c - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::resolve_implementation::{closure#0}::{closure#0}::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2741:29\n  34:     0x7f48117fb10c - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::with_lifetime_rib::<(), <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::resolve_implementation::{closure#0}::{closure#0}::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:1427:19\n  35:     0x7f48117fb10c - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::resolve_implementation::{closure#0}::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2734:21\n  36:     0x7f48117fb10c - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::with_self_rib_ns::<<rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::resolve_implementation::{closure#0}::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2704:9\n  37:     0x7f48117fb10c - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::with_self_rib::<<rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::resolve_implementation::{closure#0}::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2709:9\n  38:     0x7f48117fb10c - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::resolve_implementation::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2733:17\n  39:     0x7f48117fb10c - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::with_generic_param_rib::<<rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::resolve_implementation::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2530:9\n  40:     0x7f481178f9d6 - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::resolve_implementation\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2723:9\n  41:     0x7f481178f9d6 - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::resolve_item\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2280:17\n  42:     0x7f481181041f - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor as rustc_ast[c8db5f01609d59c8]::visit::Visitor>::visit_item::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:638:62\n  43:     0x7f481181041f - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>::with_lifetime_rib::<(), <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor as rustc_ast[c8db5f01609d59c8]::visit::Visitor>::visit_item::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:1427:19\n  44:     0x7f4811788dfc - <rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor as rustc_ast[c8db5f01609d59c8]::visit::Visitor>::visit_item\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:638:9\n  45:     0x7f4811727b72 - rustc_ast[c8db5f01609d59c8]::visit::walk_crate::<rustc_resolve[ae3e8cdb7693af44]::late::LateResolutionVisitor>\n                               at /home/jyn/src/rust3/compiler/rustc_ast/src/visit.rs:266:5\n  46:     0x7f48117009fe - <rustc_resolve[ae3e8cdb7693af44]::Resolver>::late_resolve_crate\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:4355:9\n  47:     0x7f4811718769 - <rustc_resolve[ae3e8cdb7693af44]::Resolver>::resolve_crate::{closure#0}::{closure#4}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/lib.rs:1486:57\n  48:     0x7f4811718769 - <rustc_data_structures[eb5e208c37d0260d]::profiling::VerboseTimingGuard>::run::<(), <rustc_resolve[ae3e8cdb7693af44]::Resolver>::resolve_crate::{closure#0}::{closure#4}>\n                               at /home/jyn/src/rust3/compiler/rustc_data_structures/src/profiling.rs:752:9\n  49:     0x7f4811718769 - <rustc_session[1a3952bb48d6309d]::session::Session>::time::<(), <rustc_resolve[ae3e8cdb7693af44]::Resolver>::resolve_crate::{closure#0}::{closure#4}>\n                               at /home/jyn/src/rust3/compiler/rustc_session/src/utils.rs:11:9\n  50:     0x7f4811718769 - <rustc_resolve[ae3e8cdb7693af44]::Resolver>::resolve_crate::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/lib.rs:1486:13\n  51:     0x7f4811718769 - <rustc_data_structures[eb5e208c37d0260d]::profiling::VerboseTimingGuard>::run::<(), <rustc_resolve[ae3e8cdb7693af44]::Resolver>::resolve_crate::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_data_structures/src/profiling.rs:752:9\n  52:     0x7f4811718769 - <rustc_session[1a3952bb48d6309d]::session::Session>::time::<(), <rustc_resolve[ae3e8cdb7693af44]::Resolver>::resolve_crate::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_session/src/utils.rs:11:9\n  53:     0x7f481170cb11 - <rustc_resolve[ae3e8cdb7693af44]::Resolver>::resolve_crate\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/lib.rs:1477:9\n  54:     0x7f481093a0a2 - rustc_interface[850741d9ad1ee353]::passes::configure_and_expand\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/passes.rs:309:5\n  55:     0x7f481093a0a2 - rustc_interface[850741d9ad1ee353]::passes::resolver_for_lowering\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/passes.rs:566:17\n  56:     0x7f481276b314 - <rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering as rustc_query_system[79c28ca66b9d8600]::query::config::QueryConfig<rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>>::compute\n                               at /home/jyn/src/rust3/compiler/rustc_query_impl/src/plumbing.rs:519:21\n  57:     0x7f481276b314 - rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr::<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:443:72\n  58:     0x7f481276b314 - rustc_middle[42813831790177f8]::ty::context::tls::enter_context::<rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:82:9\n  59:     0x7f481276b314 - <std[4b96690c503973c9]::thread::local::LocalKey<core[9f6b914a8323238a]::cell::Cell<*const ()>>>::try_with::<rustc_middle[42813831790177f8]::ty::context::tls::enter_context<rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:252:16\n  60:     0x7f481276b314 - <std[4b96690c503973c9]::thread::local::LocalKey<core[9f6b914a8323238a]::cell::Cell<*const ()>>>::with::<rustc_middle[42813831790177f8]::ty::context::tls::enter_context<rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:228:9\n  61:     0x7f48125abd27 - rustc_middle[42813831790177f8]::ty::context::tls::enter_context::<rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:79:5\n  62:     0x7f48125abd27 - <rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt as rustc_query_system[79c28ca66b9d8600]::query::QueryContext>::start_query::<&rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>, rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}>::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_query_impl/src/plumbing.rs:127:13\n  63:     0x7f48125abd27 - rustc_middle[42813831790177f8]::ty::context::tls::with_related_context::<<rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt as rustc_query_system[79c28ca66b9d8600]::query::QueryContext>::start_query<&rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>, rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:133:9\n  64:     0x7f48125abd27 - rustc_middle[42813831790177f8]::ty::context::tls::with_context::<rustc_middle[42813831790177f8]::ty::context::tls::with_related_context<<rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt as rustc_query_system[79c28ca66b9d8600]::query::QueryContext>::start_query<&rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>, rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:111:36\n  65:     0x7f48125abd27 - rustc_middle[42813831790177f8]::ty::context::tls::with_context_opt::<rustc_middle[42813831790177f8]::ty::context::tls::with_context<rustc_middle[42813831790177f8]::ty::context::tls::with_related_context<<rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt as rustc_query_system[79c28ca66b9d8600]::query::QueryContext>::start_query<&rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>, rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:100:18\n  66:     0x7f48125abd27 - rustc_middle[42813831790177f8]::ty::context::tls::with_context::<rustc_middle[42813831790177f8]::ty::context::tls::with_related_context<<rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt as rustc_query_system[79c28ca66b9d8600]::query::QueryContext>::start_query<&rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>, rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:111:5\n  67:     0x7f48125abd27 - rustc_middle[42813831790177f8]::ty::context::tls::with_related_context::<<rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt as rustc_query_system[79c28ca66b9d8600]::query::QueryContext>::start_query<&rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>, rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:124:5\n  68:     0x7f48125abd27 - <rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt as rustc_query_system[79c28ca66b9d8600]::query::QueryContext>::start_query::<&rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>, rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_query_impl/src/plumbing.rs:112:9\n  69:     0x7f48125abd27 - rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job_non_incr::<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:443:18\n  70:     0x7f48125abd27 - rustc_query_system[79c28ca66b9d8600]::query::plumbing::execute_job::<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:401:17\n  71:     0x7f48125abd27 - rustc_query_system[79c28ca66b9d8600]::query::plumbing::try_execute_query::<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:357:13\n  72:     0x7f481244276f - rustc_query_system[79c28ca66b9d8600]::query::plumbing::get_query::<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:800:36\n  73:     0x7f481244276f - stacker[d946eb825266a062]::maybe_grow::<(&rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>, core[9f6b914a8323238a]::option::Option<rustc_query_system[79c28ca66b9d8600]::dep_graph::graph::DepNodeIndex>), rustc_query_system[79c28ca66b9d8600]::query::plumbing::get_query<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}>\n                               at /home/jyn/.local/lib/cargo/registry/src/index.crates.io-6f17d22bba15001f/stacker-0.1.15/src/lib.rs:55:9\n  74:     0x7f481244276f - rustc_data_structures[eb5e208c37d0260d]::stack::ensure_sufficient_stack::<(&rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>, core[9f6b914a8323238a]::option::Option<rustc_query_system[79c28ca66b9d8600]::dep_graph::graph::DepNodeIndex>), rustc_query_system[79c28ca66b9d8600]::query::plumbing::get_query<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_data_structures/src/stack.rs:17:5\n  75:     0x7f481244276f - rustc_query_system[79c28ca66b9d8600]::query::plumbing::get_query::<rustc_query_impl[d74f45b2a9c18a73]::queries::resolver_for_lowering, rustc_query_impl[d74f45b2a9c18a73]::plumbing::QueryCtxt>\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:800:9\n  76:     0x7f481244276f - <rustc_query_impl[d74f45b2a9c18a73]::Queries as rustc_middle[42813831790177f8]::ty::query::QueryEngine>::resolver_for_lowering::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_query_impl/src/plumbing.rs:805:17\n  77:     0x7f481244276f - <rustc_query_impl[d74f45b2a9c18a73]::Queries as rustc_middle[42813831790177f8]::ty::query::QueryEngine>::resolver_for_lowering\n                               at /home/jyn/src/rust3/compiler/rustc_query_impl/src/lib.rs:46:1\n  78:     0x7f4810902093 - <rustc_middle[42813831790177f8]::ty::query::TyCtxtAt>::resolver_for_lowering\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/query.rs:400:29\n  79:     0x7f4810902093 - <rustc_middle[42813831790177f8]::ty::context::TyCtxt>::resolver_for_lowering\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/query.rs:386:17\n  80:     0x7f4810902093 - rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}::{closure#2}::{closure#2}\n                               at /home/jyn/src/rust3/compiler/rustc_driver_impl/src/lib.rs:369:48\n  81:     0x7f4810902093 - <rustc_middle[42813831790177f8]::ty::context::GlobalCtxt>::enter::<rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}::{closure#2}::{closure#2}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context.rs:559:37\n  82:     0x7f4810902093 - rustc_middle[42813831790177f8]::ty::context::tls::enter_context::<<rustc_middle[42813831790177f8]::ty::context::GlobalCtxt>::enter<rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}::{closure#2}::{closure#2}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:82:9\n  83:     0x7f4810902093 - <std[4b96690c503973c9]::thread::local::LocalKey<core[9f6b914a8323238a]::cell::Cell<*const ()>>>::try_with::<rustc_middle[42813831790177f8]::ty::context::tls::enter_context<<rustc_middle[42813831790177f8]::ty::context::GlobalCtxt>::enter<rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}::{closure#2}::{closure#2}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:252:16\n  84:     0x7f4810902093 - <std[4b96690c503973c9]::thread::local::LocalKey<core[9f6b914a8323238a]::cell::Cell<*const ()>>>::with::<rustc_middle[42813831790177f8]::ty::context::tls::enter_context<<rustc_middle[42813831790177f8]::ty::context::GlobalCtxt>::enter<rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}::{closure#2}::{closure#2}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:228:9\n  85:     0x7f48108d8388 - rustc_middle[42813831790177f8]::ty::context::tls::enter_context::<<rustc_middle[42813831790177f8]::ty::context::GlobalCtxt>::enter<rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}::{closure#2}::{closure#2}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>::{closure#0}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:79:5\n  86:     0x7f48108d8388 - <rustc_middle[42813831790177f8]::ty::context::GlobalCtxt>::enter::<rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}::{closure#2}::{closure#2}, &rustc_data_structures[eb5e208c37d0260d]::steal::Steal<(rustc_middle[42813831790177f8]::ty::ResolverAstLowering, alloc[7616734a6a699536]::rc::Rc<rustc_ast[c8db5f01609d59c8]::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context.rs:559:9\n  87:     0x7f48108dfcf8 - rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}::{closure#2}\n                               at /home/jyn/src/rust3/compiler/rustc_driver_impl/src/lib.rs:369:13\n  88:     0x7f48108dfcf8 - <rustc_interface[850741d9ad1ee353]::interface::Compiler>::enter::<rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}::{closure#2}, core[9f6b914a8323238a]::result::Result<core[9f6b914a8323238a]::option::Option<rustc_interface[850741d9ad1ee353]::queries::Linker>, rustc_span[c31f71685094a917]::ErrorGuaranteed>>\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/queries.rs:394:19\n  89:     0x7f4810903a60 - rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}\n                               at /home/jyn/src/rust3/compiler/rustc_driver_impl/src/lib.rs:330:22\n  90:     0x7f4810903a60 - rustc_interface[850741d9ad1ee353]::interface::run_compiler::<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/interface.rs:301:21\n  91:     0x7f4810903a60 - rustc_span[c31f71685094a917]::set_source_map::<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_span/src/lib.rs:1040:5\n  92:     0x7f481086922e - rustc_interface[850741d9ad1ee353]::interface::run_compiler::<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/interface.rs:295:13\n  93:     0x7f481086922e - <scoped_tls[edf8690d0b030835]::ScopedKey<rustc_span[c31f71685094a917]::SessionGlobals>>::set::<rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>\n                               at /home/jyn/.local/lib/cargo/registry/src/index.crates.io-6f17d22bba15001f/scoped-tls-1.0.0/src/lib.rs:137:9\n  94:     0x7f48109001e7 - rustc_span[c31f71685094a917]::create_session_globals_then::<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_span/src/lib.rs:120:5\n  95:     0x7f48109001e7 - rustc_interface[850741d9ad1ee353]::util::run_in_thread_pool_with_globals::<rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#0}::{closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/util.rs:152:38\n  96:     0x7f48109001e7 - std[4b96690c503973c9]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[850741d9ad1ee353]::util::run_in_thread_pool_with_globals<rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:134:18\n  97:     0x7f4810900784 - <std[4b96690c503973c9]::thread::Builder>::spawn_unchecked_::<rustc_interface[850741d9ad1ee353]::util::run_in_thread_pool_with_globals<rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#1}::{closure#0}\n                               at /home/jyn/src/rust3/library/std/src/thread/mod.rs:525:17\n  98:     0x7f4810900784 - <core[9f6b914a8323238a]::panic::unwind_safe::AssertUnwindSafe<<std[4b96690c503973c9]::thread::Builder>::spawn_unchecked_<rustc_interface[850741d9ad1ee353]::util::run_in_thread_pool_with_globals<rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#1}::{closure#0}> as core[9f6b914a8323238a]::ops::function::FnOnce<()>>::call_once\n                               at /home/jyn/src/rust3/library/core/src/panic/unwind_safe.rs:271:9\n  99:     0x7f48108dd115 - std[4b96690c503973c9]::panicking::try::do_call::<core[9f6b914a8323238a]::panic::unwind_safe::AssertUnwindSafe<<std[4b96690c503973c9]::thread::Builder>::spawn_unchecked_<rustc_interface[850741d9ad1ee353]::util::run_in_thread_pool_with_globals<rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#1}::{closure#0}>, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>\n                               at /home/jyn/src/rust3/library/std/src/panicking.rs:485:40\n 100:     0x7f48108dd115 - std[4b96690c503973c9]::panicking::try::<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, core[9f6b914a8323238a]::panic::unwind_safe::AssertUnwindSafe<<std[4b96690c503973c9]::thread::Builder>::spawn_unchecked_<rustc_interface[850741d9ad1ee353]::util::run_in_thread_pool_with_globals<rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#1}::{closure#0}>>\n                               at /home/jyn/src/rust3/library/std/src/panicking.rs:449:19\n 101:     0x7f48108ff5a9 - std[4b96690c503973c9]::panic::catch_unwind::<core[9f6b914a8323238a]::panic::unwind_safe::AssertUnwindSafe<<std[4b96690c503973c9]::thread::Builder>::spawn_unchecked_<rustc_interface[850741d9ad1ee353]::util::run_in_thread_pool_with_globals<rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#1}::{closure#0}>, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>\n                               at /home/jyn/src/rust3/library/std/src/panic.rs:140:14\n 102:     0x7f4810906dce - <std[4b96690c503973c9]::thread::Builder>::spawn_unchecked_::<rustc_interface[850741d9ad1ee353]::util::run_in_thread_pool_with_globals<rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#1}\n                               at /home/jyn/src/rust3/library/std/src/thread/mod.rs:524:30\n 103:     0x7f4810906dce - <<std[4b96690c503973c9]::thread::Builder>::spawn_unchecked_<rustc_interface[850741d9ad1ee353]::util::run_in_thread_pool_with_globals<rustc_interface[850741d9ad1ee353]::interface::run_compiler<core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>, rustc_driver_impl[51f301ed0be6f62f]::run_compiler::{closure#1}>::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[9f6b914a8323238a]::result::Result<(), rustc_span[c31f71685094a917]::ErrorGuaranteed>>::{closure#1} as core[9f6b914a8323238a]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}\n                               at /home/jyn/src/rust3/library/core/src/ops/function.rs:250:5\n 104:     0x7f480fade618 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h204dfbd14fd98aa2\n                               at /home/jyn/src/rust3/library/alloc/src/boxed.rs:1976:9\n 105:     0x7f480fade618 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::h86fe0f298afbbb0f\n                               at /home/jyn/src/rust3/library/alloc/src/boxed.rs:1976:9\n 106:     0x7f480faab62f - std::sys::unix::thread::Thread::new::thread_start::h3c9bf2d63800d28c\n                               at /home/jyn/src/rust3/library/std/src/sys/unix/thread.rs:108:17\n 107:     0x7f480f694b43 - start_thread\n                               at ./nptl/./nptl/pthread_create.c:442:8\n 108:     0x7f480f726a00 - clone3\n                               at ./misc/../sysdeps/unix/sysv/linux/x86_64/clone3.S:81\n 109:                0x0 - <unknown>\n```\n\n</details>\n\n<details><summary>with `debuginfo=line-tables-only` (what we'll emit for  `debuginfo-level-rustc = 1`) after this change</summary>\n\n```\nthread 'rustc' panicked at 'aborting due to `-Z treat-err-as-bug=1`', compiler/rustc_errors/src/lib.rs:1705:30\nstack backtrace:\n   0:     0x7fac39acb0b7 - trace\n                               at /home/jyn/src/rust3/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\n   1:     0x7fac39acb0b7 - trace_unsynchronized<std::sys_common::backtrace::_print_fmt::{closure_env#1}>\n                               at /home/jyn/src/rust3/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\n   2:     0x7fac39aaa745 - _print_fmt\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:65:5\n   3:     0x7fac39aaa745 - fmt\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:44:22\n   4:     0x7fac39b67463 - write\n                               at /home/jyn/src/rust3/library/core/src/fmt/mod.rs:1254:17\n   5:     0x7fac39acf2a1 - write_fmt<std::sys::unix::stdio::Stderr>\n                               at /home/jyn/src/rust3/library/std/src/io/mod.rs:1698:15\n   6:     0x7fac39aaa5ad - _print\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:47:5\n   7:     0x7fac39aaa5ad - print\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:34:9\n   8:     0x7fac39ab4d47 - {closure#1}\n   9:     0x7fac39ab4a8c - default_hook\n                               at /home/jyn/src/rust3/library/std/src/panicking.rs:288:9\n  10:     0x7fac3a87f74f - {closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_driver_impl/src/lib.rs:1188:17\n  11:     0x7fac39ab5452 - rust_panic_with_hook\n                               at /home/jyn/src/rust3/library/std/src/panicking.rs:694:13\n  12:     0x7fac39aab252 - {closure#0}\n                               at /home/jyn/src/rust3/library/std/src/panicking.rs:579:13\n  13:     0x7fac39aab1c6 - __rust_end_short_backtrace<std::panicking::begin_panic_handler::{closure_env#0}, !>\n                               at /home/jyn/src/rust3/library/std/src/sys_common/backtrace.rs:150:18\n  14:     0x7fac39ab4e42 - begin_panic_handler\n                               at /home/jyn/src/rust3/library/std/src/panicking.rs:577:5\n  15:     0x7fac39a81e13 - panic_fmt\n                               at /home/jyn/src/rust3/library/core/src/panicking.rs:67:14\n  16:     0x7fac3dbc79ba - panic_if_treat_err_as_bug\n  17:     0x7fac3dbc756b - {closure#2}\n  18:     0x7fac3a966278 - {closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/callbacks.rs:41:53\n  19:     0x7fac3a966278 - {closure#0}<rustc_interface::callbacks::track_diagnostic::{closure#0}::{closure_env#0}, ()>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:82:9\n  20:     0x7fac3a966278 - try_with<core::cell::Cell<*const ()>, rustc_middle::ty::context::tls::enter_context::{closure_env#0}<rustc_interface::callbacks::track_diagnostic::{closure#0}::{closure_env#0}, ()>, ()>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:252:16\n  21:     0x7fac3a966278 - with<core::cell::Cell<*const ()>, rustc_middle::ty::context::tls::enter_context::{closure_env#0}<rustc_interface::callbacks::track_diagnostic::{closure#0}::{closure_env#0}, ()>, ()>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:228:9\n  22:     0x7fac3a954798 - enter_context<rustc_interface::callbacks::track_diagnostic::{closure#0}::{closure_env#0}, ()>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:79:5\n  23:     0x7fac3a954798 - {closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/callbacks.rs:41:20\n  24:     0x7fac3a954798 - with_context_opt<rustc_interface::callbacks::track_diagnostic::{closure_env#0}, ()>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:100:18\n  25:     0x7fac3a954798 - track_diagnostic\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/callbacks.rs:31:5\n  26:     0x7fac3dbc6b6d - emit_diagnostic\n                               at /home/jyn/src/rust3/compiler/rustc_errors/src/lib.rs:1370:9\n  27:     0x7fac3dbc5683 - emit_diagnostic\n                               at /home/jyn/src/rust3/compiler/rustc_errors/src/lib.rs:1121:9\n  28:     0x7fac3dbd974a - diagnostic_builder_emit_producing_guarantee\n                               at /home/jyn/src/rust3/compiler/rustc_errors/src/diagnostic_builder.rs:169:28\n  29:     0x7fac3b7e8012 - <rustc_resolve[f1b0f8896e774b]::Resolver>::report_error\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/diagnostics.rs:533:9\n  30:     0x7fac3b75c083 - report_error\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:3665:13\n  31:     0x7fac3b75c083 - smart_resolve_path_fragment\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:3630:21\n  32:     0x7fac3b7b62d4 - with_optional_trait_ref<(), rustc_resolve::late::{impl#10}::resolve_implementation::{closure#0}::{closure#0}::{closure#0}::{closure_env#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2680:23\n  33:     0x7fac3b7b62d4 - {closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2741:29\n  34:     0x7fac3b7b62d4 - with_lifetime_rib<(), rustc_resolve::late::{impl#10}::resolve_implementation::{closure#0}::{closure#0}::{closure_env#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:1427:19\n  35:     0x7fac3b7b62d4 - {closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2734:21\n  36:     0x7fac3b7b62d4 - with_self_rib_ns<rustc_resolve::late::{impl#10}::resolve_implementation::{closure#0}::{closure_env#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2704:9\n  37:     0x7fac3b7b62d4 - with_self_rib<rustc_resolve::late::{impl#10}::resolve_implementation::{closure#0}::{closure_env#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2709:9\n  38:     0x7fac3b7b62d4 - {closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2733:17\n  39:     0x7fac3b7b62d4 - with_generic_param_rib<rustc_resolve::late::{impl#10}::resolve_implementation::{closure_env#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2530:9\n  40:     0x7fac3b752055 - resolve_implementation\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2723:9\n  41:     0x7fac3b752055 - resolve_item\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:2280:17\n  42:     0x7fac3b7cf6d1 - {closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:638:62\n  43:     0x7fac3b7cf6d1 - with_lifetime_rib<(), rustc_resolve::late::{impl#9}::visit_item::{closure_env#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:1427:19\n  44:     0x7fac3b74b179 - visit_item\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:638:9\n  45:     0x7fac3b84b7e8 - walk_crate<rustc_resolve::late::LateResolutionVisitor>\n                               at /home/jyn/src/rust3/compiler/rustc_ast/src/visit.rs:266:5\n  46:     0x7fac3b7f731e - late_resolve_crate\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/late.rs:4355:9\n  47:     0x7fac3b811562 - {closure#4}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/lib.rs:1486:57\n  48:     0x7fac3b811562 - run<(), rustc_resolve::{impl#17}::resolve_crate::{closure#0}::{closure_env#4}>\n                               at /home/jyn/src/rust3/compiler/rustc_data_structures/src/profiling.rs:752:9\n  49:     0x7fac3b811562 - time<(), rustc_resolve::{impl#17}::resolve_crate::{closure#0}::{closure_env#4}>\n                               at /home/jyn/src/rust3/compiler/rustc_session/src/utils.rs:11:9\n  50:     0x7fac3b811562 - {closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/lib.rs:1486:13\n  51:     0x7fac3b811562 - run<(), rustc_resolve::{impl#17}::resolve_crate::{closure_env#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_data_structures/src/profiling.rs:752:9\n  52:     0x7fac3b811562 - time<(), rustc_resolve::{impl#17}::resolve_crate::{closure_env#0}>\n                               at /home/jyn/src/rust3/compiler/rustc_session/src/utils.rs:11:9\n  53:     0x7fac3b803761 - resolve_crate\n                               at /home/jyn/src/rust3/compiler/rustc_resolve/src/lib.rs:1477:9\n  54:     0x7fac3a96976f - configure_and_expand\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/passes.rs:309:5\n  55:     0x7fac3a96976f - resolver_for_lowering\n                               at /home/jyn/src/rust3/compiler/rustc_interface/src/passes.rs:566:17\n  56:     0x7fac3c61f894 - compute\n                               at /home/jyn/src/rust3/compiler/rustc_query_impl/src/plumbing.rs:519:21\n  57:     0x7fac3c61f894 - {closure#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:443:72\n  58:     0x7fac3c61f894 - {closure#0}<rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:82:9\n  59:     0x7fac3c61f894 - try_with<core::cell::Cell<*const ()>, rustc_middle::ty::context::tls::enter_context::{closure_env#0}<rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:252:16\n  60:     0x7fac3c61f894 - with<core::cell::Cell<*const ()>, rustc_middle::ty::context::tls::enter_context::{closure_env#0}<rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:228:9\n  61:     0x7fac3c73544b - enter_context<rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:79:5\n  62:     0x7fac3c73544b - {closure#0}<&rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>, rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>>\n                               at /home/jyn/src/rust3/compiler/rustc_query_impl/src/plumbing.rs:127:13\n  63:     0x7fac3c73544b - {closure#0}<rustc_query_impl::plumbing::{impl#2}::start_query::{closure_env#0}<&rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>, rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:133:9\n  64:     0x7fac3c73544b - {closure#0}<rustc_middle::ty::context::tls::with_related_context::{closure_env#0}<rustc_query_impl::plumbing::{impl#2}::start_query::{closure_env#0}<&rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>, rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:111:36\n  65:     0x7fac3c73544b - with_context_opt<rustc_middle::ty::context::tls::with_context::{closure_env#0}<rustc_middle::ty::context::tls::with_related_context::{closure_env#0}<rustc_query_impl::plumbing::{impl#2}::start_query::{closure_env#0}<&rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>, rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:100:18\n  66:     0x7fac3c73544b - with_context<rustc_middle::ty::context::tls::with_related_context::{closure_env#0}<rustc_query_impl::plumbing::{impl#2}::start_query::{closure_env#0}<&rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>, rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:111:5\n  67:     0x7fac3c73544b - with_related_context<rustc_query_impl::plumbing::{impl#2}::start_query::{closure_env#0}<&rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>, rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:124:5\n  68:     0x7fac3c73544b - start_query<&rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>, rustc_query_system::query::plumbing::execute_job_non_incr::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>>\n                               at /home/jyn/src/rust3/compiler/rustc_query_impl/src/plumbing.rs:112:9\n  69:     0x7fac3c73544b - execute_job_non_incr<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:443:18\n  70:     0x7fac3c73544b - execute_job<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:401:17\n  71:     0x7fac3c73544b - try_execute_query<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:357:13\n  72:     0x7fac3c3e4191 - {closure#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:800:36\n  73:     0x7fac3c3e4191 - maybe_grow<(&rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>, core::option::Option<rustc_query_system::dep_graph::graph::DepNodeIndex>), rustc_query_system::query::plumbing::get_query::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>>\n                               at /home/jyn/.local/lib/cargo/registry/src/index.crates.io-6f17d22bba15001f/stacker-0.1.15/src/lib.rs:55:9\n  74:     0x7fac3c3e4191 - ensure_sufficient_stack<(&rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>, core::option::Option<rustc_query_system::dep_graph::graph::DepNodeIndex>), rustc_query_system::query::plumbing::get_query::{closure_env#0}<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>>\n                               at /home/jyn/src/rust3/compiler/rustc_data_structures/src/stack.rs:17:5\n  75:     0x7fac3c3e4191 - get_query<rustc_query_impl::queries::resolver_for_lowering, rustc_query_impl::plumbing::QueryCtxt>\n                               at /home/jyn/src/rust3/compiler/rustc_query_system/src/query/plumbing.rs:800:9\n  76:     0x7fac3c3e4191 - {closure#0}\n                               at /home/jyn/src/rust3/compiler/rustc_query_impl/src/plumbing.rs:805:17\n  77:     0x7fac3c3e4191 - resolver_for_lowering\n                               at /home/jyn/src/rust3/compiler/rustc_query_impl/src/lib.rs:46:1\n  78:     0x7fac3a927bc4 - resolver_for_lowering\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/query.rs:400:29\n  79:     0x7fac3a927bc4 - resolver_for_lowering\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/query.rs:386:17\n  80:     0x7fac3a927bc4 - {closure#2}\n                               at /home/jyn/src/rust3/compiler/rustc_driver_impl/src/lib.rs:369:48\n  81:     0x7fac3a927bc4 - {closure#0}<rustc_driver_impl::run_compiler::{closure#1}::{closure#2}::{closure_env#2}, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context.rs:559:37\n  82:     0x7fac3a927bc4 - {closure#0}<rustc_middle::ty::context::{impl#9}::enter::{closure_env#0}<rustc_driver_impl::run_compiler::{closure#1}::{closure#2}::{closure_env#2}, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/compiler/rustc_middle/src/ty/context/tls.rs:82:9\n  83:     0x7fac3a927bc4 - try_with<core::cell::Cell<*const ()>, rustc_middle::ty::context::tls::enter_context::{closure_env#0}<rustc_middle::ty::context::{impl#9}::enter::{closure_env#0}<rustc_driver_impl::run_compiler::{closure#1}::{closure#2}::{closure_env#2}, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>\n                               at /home/jyn/src/rust3/library/std/src/thread/local.rs:252:16\n  84:     0x7fac3a927bc4 - with<core::cell::Cell<*const ()>, rustc_middle::ty::context::tls::enter_context::{closure_env#0}<rustc_middle::ty::context::{impl#9}::enter::{closure_env#0}<rustc_driver_impl::run_compiler::{closure#1}::{closure#2}::{closure_env#2}, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal::Steal<(rustc_middle::ty::ResolverAstLowering, alloc::rc::Rc<rustc_ast::ast::Crate>)>>, &rustc_data_structures::steal:\u2026", "tree": {"sha": "ade98d29942c57ceb9df0ccd663019e5f43a5985", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ade98d29942c57ceb9df0ccd663019e5f43a5985"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/42f28f9eb41adb7a197697e5e2d6535d00fd0f4a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/42f28f9eb41adb7a197697e5e2d6535d00fd0f4a", "html_url": "https://github.com/rust-lang/rust/commit/42f28f9eb41adb7a197697e5e2d6535d00fd0f4a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/42f28f9eb41adb7a197697e5e2d6535d00fd0f4a/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "51f714c8c5021fe25442e46798b1cbef2f2249ed", "url": "https://api.github.com/repos/rust-lang/rust/commits/51f714c8c5021fe25442e46798b1cbef2f2249ed", "html_url": "https://github.com/rust-lang/rust/commit/51f714c8c5021fe25442e46798b1cbef2f2249ed"}, {"sha": "5eeeed1aa1d84145250d1b0f9561bee4d4e7cda7", "url": "https://api.github.com/repos/rust-lang/rust/commits/5eeeed1aa1d84145250d1b0f9561bee4d4e7cda7", "html_url": "https://github.com/rust-lang/rust/commit/5eeeed1aa1d84145250d1b0f9561bee4d4e7cda7"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "131d2566af54c5b925935ab174963931306c8c92", "filename": "src/bootstrap/builder.rs", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/42f28f9eb41adb7a197697e5e2d6535d00fd0f4a/src%2Fbootstrap%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/42f28f9eb41adb7a197697e5e2d6535d00fd0f4a/src%2Fbootstrap%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbuilder.rs?ref=42f28f9eb41adb7a197697e5e2d6535d00fd0f4a", "patch": "@@ -1676,7 +1676,15 @@ impl<'a> Builder<'a> {\n                 self.config.rust_debuginfo_level_tools\n             }\n         };\n-        cargo.env(profile_var(\"DEBUG\"), debuginfo_level.to_string());\n+        if debuginfo_level == 1 {\n+            // Use less debuginfo than the default to save on disk space.\n+            cargo.env(profile_var(\"DEBUG\"), \"line-tables-only\");\n+        } else {\n+            cargo.env(profile_var(\"DEBUG\"), debuginfo_level.to_string());\n+        };\n+        if self.cc[&target].args().iter().any(|arg| arg == \"-gz\") {\n+            rustflags.arg(\"-Clink-arg=-gz\");\n+        }\n         cargo.env(\n             profile_var(\"DEBUG_ASSERTIONS\"),\n             if mode == Mode::Std {"}, {"sha": "db3b69d18c8fc143d260a348ded9b1ad6441c466", "filename": "src/bootstrap/cc_detect.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/42f28f9eb41adb7a197697e5e2d6535d00fd0f4a/src%2Fbootstrap%2Fcc_detect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/42f28f9eb41adb7a197697e5e2d6535d00fd0f4a/src%2Fbootstrap%2Fcc_detect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcc_detect.rs?ref=42f28f9eb41adb7a197697e5e2d6535d00fd0f4a", "patch": "@@ -69,6 +69,8 @@ fn new_cc_build(build: &Build, target: TargetSelection) -> cc::Build {\n         .opt_level(2)\n         .warnings(false)\n         .debug(false)\n+        // Compress debuginfo\n+        .flag_if_supported(\"-gz\")\n         .target(&target.triple)\n         .host(&build.build.triple);\n     match build.crt_static(target) {"}]}