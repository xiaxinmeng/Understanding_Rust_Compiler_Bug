{"sha": "335f91fd69d70ac9c5414d310a8342daed456df3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMzNWY5MWZkNjlkNzBhYzljNTQxNGQzMTBhODM0MmRhZWQ0NTZkZjM=", "commit": {"author": {"name": "Kyle Stachowicz", "email": "kylestach99@gmail.com", "date": "2018-05-18T14:11:44Z"}, "committer": {"name": "Kyle Stachowicz", "email": "kylestach99@gmail.com", "date": "2018-05-18T23:57:16Z"}, "message": "Revert \"Allow `unused_labels` in some compile-fail tests\"\n\nThis reverts commit b9257e2ca161b1bf5aae9d6b667f4d0c6b8d7be6.", "tree": {"sha": "0e74a3dfc215fd3b294446d7ae310b13eec030e4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0e74a3dfc215fd3b294446d7ae310b13eec030e4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/335f91fd69d70ac9c5414d310a8342daed456df3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/335f91fd69d70ac9c5414d310a8342daed456df3", "html_url": "https://github.com/rust-lang/rust/commit/335f91fd69d70ac9c5414d310a8342daed456df3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/335f91fd69d70ac9c5414d310a8342daed456df3/comments", "author": {"login": "kylestach", "id": 9097872, "node_id": "MDQ6VXNlcjkwOTc4NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/9097872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylestach", "html_url": "https://github.com/kylestach", "followers_url": "https://api.github.com/users/kylestach/followers", "following_url": "https://api.github.com/users/kylestach/following{/other_user}", "gists_url": "https://api.github.com/users/kylestach/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylestach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylestach/subscriptions", "organizations_url": "https://api.github.com/users/kylestach/orgs", "repos_url": "https://api.github.com/users/kylestach/repos", "events_url": "https://api.github.com/users/kylestach/events{/privacy}", "received_events_url": "https://api.github.com/users/kylestach/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kylestach", "id": 9097872, "node_id": "MDQ6VXNlcjkwOTc4NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/9097872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylestach", "html_url": "https://github.com/kylestach", "followers_url": "https://api.github.com/users/kylestach/followers", "following_url": "https://api.github.com/users/kylestach/following{/other_user}", "gists_url": "https://api.github.com/users/kylestach/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylestach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylestach/subscriptions", "organizations_url": "https://api.github.com/users/kylestach/orgs", "repos_url": "https://api.github.com/users/kylestach/repos", "events_url": "https://api.github.com/users/kylestach/events{/privacy}", "received_events_url": "https://api.github.com/users/kylestach/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a336aa91db3a21dbbe5d281ece712535b1c9ed7d", "url": "https://api.github.com/repos/rust-lang/rust/commits/a336aa91db3a21dbbe5d281ece712535b1c9ed7d", "html_url": "https://github.com/rust-lang/rust/commit/a336aa91db3a21dbbe5d281ece712535b1c9ed7d"}], "stats": {"total": 18, "additions": 2, "deletions": 16}, "files": [{"sha": "f070ab6799c08bd1ac075f636a1e36af8310846c", "filename": "src/test/compile-fail/associated-types-outlives.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fassociated-types-outlives.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fassociated-types-outlives.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fassociated-types-outlives.rs?ref=335f91fd69d70ac9c5414d310a8342daed456df3", "patch": "@@ -27,7 +27,6 @@ fn denormalise<'a, T>(t: &'a T) -> <T as Foo<'a>>::Bar {\n pub fn free_and_use<T: for<'a> Foo<'a>,\n                     F: for<'a> FnOnce(<T as Foo<'a>>::Bar)>(x: T, f: F) {\n     let y;\n-    #[allow(unused_labels)]\n     'body: loop { // lifetime annotations added for clarity\n         's: loop { y = denormalise(&x); break }\n         drop(x); //~ ERROR cannot move out of `x` because it is borrowed"}, {"sha": "305b43402da0b9bc1a51c29c68d77b773a7935b7", "filename": "src/test/compile-fail/hygienic-label-1.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fhygienic-label-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fhygienic-label-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhygienic-label-1.rs?ref=335f91fd69d70ac9c5414d310a8342daed456df3", "patch": "@@ -13,6 +13,5 @@ macro_rules! foo {\n }\n \n pub fn main() {\n-    #[allow(unused_labels)]\n     'x: loop { foo!() }\n }"}, {"sha": "24194d7bbe9702a6a86b64e41c19ded5b42f506f", "filename": "src/test/compile-fail/hygienic-label-2.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fhygienic-label-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fhygienic-label-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhygienic-label-2.rs?ref=335f91fd69d70ac9c5414d310a8342daed456df3", "patch": "@@ -9,10 +9,7 @@\n // except according to those terms.\n \n macro_rules! foo {\n-    ($e: expr) => {\n-        #[allow(unused_labels)]\n-        'x: loop { $e }\n-    }\n+    ($e: expr) => { 'x: loop { $e } }\n }\n \n pub fn main() {"}, {"sha": "b107b71024dad21de160a6eb21fe51b795ef36f8", "filename": "src/test/compile-fail/hygienic-label-3.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fhygienic-label-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fhygienic-label-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhygienic-label-3.rs?ref=335f91fd69d70ac9c5414d310a8342daed456df3", "patch": "@@ -13,7 +13,6 @@ macro_rules! foo {\n }\n \n pub fn main() {\n-    #[allow(unused_labels)]\n     'x: for _ in 0..1 {\n         foo!()\n     };"}, {"sha": "5bfcb6360e4528b81a354252c792d8e3d06c318f", "filename": "src/test/compile-fail/hygienic-label-4.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fhygienic-label-4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fhygienic-label-4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhygienic-label-4.rs?ref=335f91fd69d70ac9c5414d310a8342daed456df3", "patch": "@@ -9,10 +9,7 @@\n // except according to those terms.\n \n macro_rules! foo {\n-    ($e: expr) => {\n-        #[allow(unused_labels)]\n-        'x: for _ in 0..1 { $e }\n-    }\n+    ($e: expr) => { 'x: for _ in 0..1 { $e } }\n }\n \n pub fn main() {"}, {"sha": "23afa4b629636ac94e3e856b736d840466b9cba8", "filename": "src/test/compile-fail/issue-27042.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fissue-27042.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fissue-27042.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-27042.rs?ref=335f91fd69d70ac9c5414d310a8342daed456df3", "patch": "@@ -10,7 +10,6 @@\n \n // Regression test for #27042. Test that a loop's label is included in its span.\n \n-#[allow(unused_labels)]\n fn main() {\n     let _: i32 =\n         'a: // in this case, the citation is just the `break`:"}, {"sha": "82f55f2c14241b6f8e613a6273735266b7ff1611", "filename": "src/test/compile-fail/issue-46311.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fissue-46311.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fissue-46311.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-46311.rs?ref=335f91fd69d70ac9c5414d310a8342daed456df3", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n fn main() {\n-    #[allow(unused_labels)]\n     'break: loop { //~ ERROR invalid label name `'break`\n     }\n }"}, {"sha": "938f7fba2a0324320b3616e4b68e8acc66ec5ce9", "filename": "src/test/compile-fail/loop-break-value.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Floop-break-value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Floop-break-value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Floop-break-value.rs?ref=335f91fd69d70ac9c5414d310a8342daed456df3", "patch": "@@ -77,7 +77,6 @@ fn main() {\n     }\n \n     let _: i32 = 'a: loop {\n-        #[allow(unused_labels)]\n         let _: () = 'b: loop {\n             break ('c: loop {\n                 break;"}, {"sha": "e411313c273b71d4aab19160f8ad31484cb4a802", "filename": "src/test/compile-fail/loop-proper-liveness.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Floop-proper-liveness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Floop-proper-liveness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Floop-proper-liveness.rs?ref=335f91fd69d70ac9c5414d310a8342daed456df3", "patch": "@@ -32,7 +32,6 @@ fn test2() {\n fn test3() {\n     let x: i32;\n     // Similarly, the use of variable `x` is unreachable.\n-    #[allow(unused_labels)]\n     'a: loop {\n         x = loop { return };\n     }"}, {"sha": "6695e972f333731caa591f8d2c27f4c08b458580", "filename": "src/test/compile-fail/resolve-label.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fresolve-label.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335f91fd69d70ac9c5414d310a8342daed456df3/src%2Ftest%2Fcompile-fail%2Fresolve-label.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fresolve-label.rs?ref=335f91fd69d70ac9c5414d310a8342daed456df3", "patch": "@@ -8,7 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#[allow(unused_labels)]\n fn f() {\n     'l: loop {\n         fn g() {"}]}