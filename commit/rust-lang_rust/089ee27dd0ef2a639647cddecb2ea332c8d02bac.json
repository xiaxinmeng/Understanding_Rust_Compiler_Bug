{"sha": "089ee27dd0ef2a639647cddecb2ea332c8d02bac", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA4OWVlMjdkZDBlZjJhNjM5NjQ3Y2RkZWNiMmVhMzMyYzhkMDJiYWM=", "commit": {"author": {"name": "LeSeulArtichaut", "email": "leseulartichaut@gmail.com", "date": "2021-02-08T23:20:44Z"}, "committer": {"name": "LeSeulArtichaut", "email": "leseulartichaut@gmail.com", "date": "2021-02-10T15:41:48Z"}, "message": "Do not ICE on range patterns in function arguments", "tree": {"sha": "716e4a07230f98f658a4b879e747c588e4a5d8cd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/716e4a07230f98f658a4b879e747c588e4a5d8cd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/089ee27dd0ef2a639647cddecb2ea332c8d02bac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/089ee27dd0ef2a639647cddecb2ea332c8d02bac", "html_url": "https://github.com/rust-lang/rust/commit/089ee27dd0ef2a639647cddecb2ea332c8d02bac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/089ee27dd0ef2a639647cddecb2ea332c8d02bac/comments", "author": {"login": "LeSeulArtichaut", "id": 38361244, "node_id": "MDQ6VXNlcjM4MzYxMjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/38361244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeSeulArtichaut", "html_url": "https://github.com/LeSeulArtichaut", "followers_url": "https://api.github.com/users/LeSeulArtichaut/followers", "following_url": "https://api.github.com/users/LeSeulArtichaut/following{/other_user}", "gists_url": "https://api.github.com/users/LeSeulArtichaut/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeSeulArtichaut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeSeulArtichaut/subscriptions", "organizations_url": "https://api.github.com/users/LeSeulArtichaut/orgs", "repos_url": "https://api.github.com/users/LeSeulArtichaut/repos", "events_url": "https://api.github.com/users/LeSeulArtichaut/events{/privacy}", "received_events_url": "https://api.github.com/users/LeSeulArtichaut/received_events", "type": "User", "site_admin": false}, "committer": {"login": "LeSeulArtichaut", "id": 38361244, "node_id": "MDQ6VXNlcjM4MzYxMjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/38361244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeSeulArtichaut", "html_url": "https://github.com/LeSeulArtichaut", "followers_url": "https://api.github.com/users/LeSeulArtichaut/followers", "following_url": "https://api.github.com/users/LeSeulArtichaut/following{/other_user}", "gists_url": "https://api.github.com/users/LeSeulArtichaut/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeSeulArtichaut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeSeulArtichaut/subscriptions", "organizations_url": "https://api.github.com/users/LeSeulArtichaut/orgs", "repos_url": "https://api.github.com/users/LeSeulArtichaut/repos", "events_url": "https://api.github.com/users/LeSeulArtichaut/events{/privacy}", "received_events_url": "https://api.github.com/users/LeSeulArtichaut/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "793e88ad168a7ca63e9cd95faf8e7833fb5c341b", "url": "https://api.github.com/repos/rust-lang/rust/commits/793e88ad168a7ca63e9cd95faf8e7833fb5c341b", "html_url": "https://github.com/rust-lang/rust/commit/793e88ad168a7ca63e9cd95faf8e7833fb5c341b"}], "stats": {"total": 7, "additions": 2, "deletions": 5}, "files": [{"sha": "5b82954536cdd672dc7122fb8c2a0d7d3c119304", "filename": "src/librustdoc/clean/utils.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/089ee27dd0ef2a639647cddecb2ea332c8d02bac/src%2Flibrustdoc%2Fclean%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/089ee27dd0ef2a639647cddecb2ea332c8d02bac/src%2Flibrustdoc%2Fclean%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Futils.rs?ref=089ee27dd0ef2a639647cddecb2ea332c8d02bac", "patch": "@@ -289,10 +289,7 @@ crate fn name_from_pat(p: &hir::Pat<'_>) -> Symbol {\n             );\n             return Symbol::intern(\"()\");\n         }\n-        PatKind::Range(..) => panic!(\n-            \"tried to get argument name from PatKind::Range, \\\n-             which is not allowed in function arguments\"\n-        ),\n+        PatKind::Range(..) => return kw::Underscore,\n         PatKind::Slice(ref begin, ref mid, ref end) => {\n             let begin = begin.iter().map(|p| name_from_pat(&**p).to_string());\n             let mid = mid.as_ref().map(|p| format!(\"..{}\", name_from_pat(&**p))).into_iter();"}, {"sha": "c08faaad0eccfc6a8dabc6c224f225f7fdfabcab", "filename": "src/test/rustdoc/range-arg-pattern.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/089ee27dd0ef2a639647cddecb2ea332c8d02bac/src%2Ftest%2Frustdoc%2Frange-arg-pattern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/089ee27dd0ef2a639647cddecb2ea332c8d02bac/src%2Ftest%2Frustdoc%2Frange-arg-pattern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Frange-arg-pattern.rs?ref=089ee27dd0ef2a639647cddecb2ea332c8d02bac", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"foo\"]\n \n // @has foo/fn.f.html\n-// @has - '//*[@class=\"rust fn\"]' 'pub fn f(0u8 ...255: u8)'\n+// @has - '//*[@class=\"rust fn\"]' 'pub fn f(_: u8)'\n pub fn f(0u8...255: u8) {}"}]}