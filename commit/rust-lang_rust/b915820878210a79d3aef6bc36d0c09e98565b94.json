{"sha": "b915820878210a79d3aef6bc36d0c09e98565b94", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI5MTU4MjA4NzgyMTBhNzlkM2FlZjZiYzM2ZDBjMDllOTg1NjViOTQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-10-06T03:16:13Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-10-06T03:16:13Z"}, "message": "Auto merge of #44951 - vitiral:incr_struct_defs, r=michaelwoerister\n\nincr compilation struct_defs.rs\n\nI am prematurely openeing this as I need mentoring help from @michaelwoerister (also pinged @nikomatsakis)\n\nFirst, is this the right approach for these changes?\n\nSecond, I'm a bit confused by the results so far.\n\n- Changing `TupleStructFieldType(i32)` -> `...(u32)` changes only Hir and HirBody, not TypeOfItem\n- Chaning `TupleStructAddField(i32)` -> `...(i32, u32)` *does* change TypeOfItem\n\nThis seems wrong. I feel like it should change TypeOfItem in both cases. Is this a bug in incr compilation or is it expected?", "tree": {"sha": "f0b462625c189ff75cd31e261726b1552dfdd6b9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f0b462625c189ff75cd31e261726b1552dfdd6b9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b915820878210a79d3aef6bc36d0c09e98565b94", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b915820878210a79d3aef6bc36d0c09e98565b94", "html_url": "https://github.com/rust-lang/rust/commit/b915820878210a79d3aef6bc36d0c09e98565b94", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b915820878210a79d3aef6bc36d0c09e98565b94/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f5e036a290cae0da2a613a4459f5cd3dee74cd89", "url": "https://api.github.com/repos/rust-lang/rust/commits/f5e036a290cae0da2a613a4459f5cd3dee74cd89", "html_url": "https://github.com/rust-lang/rust/commit/f5e036a290cae0da2a613a4459f5cd3dee74cd89"}, {"sha": "c5c3614c18041c543a20fd2ad51183be73f0d008", "url": "https://api.github.com/repos/rust-lang/rust/commits/c5c3614c18041c543a20fd2ad51183be73f0d008", "html_url": "https://github.com/rust-lang/rust/commit/c5c3614c18041c543a20fd2ad51183be73f0d008"}], "stats": {"total": 181, "additions": 177, "deletions": 4}, "files": [{"sha": "16ca71b6cd32d0da04e62b4d2bcf88d185d98fc0", "filename": "src/test/incremental/hashes/struct_defs.rs", "status": "modified", "additions": 177, "deletions": 4, "changes": 181, "blob_url": "https://github.com/rust-lang/rust/blob/b915820878210a79d3aef6bc36d0c09e98565b94/src%2Ftest%2Fincremental%2Fhashes%2Fstruct_defs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b915820878210a79d3aef6bc36d0c09e98565b94/src%2Ftest%2Fincremental%2Fhashes%2Fstruct_defs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental%2Fhashes%2Fstruct_defs.rs?ref=b915820878210a79d3aef6bc36d0c09e98565b94", "patch": "@@ -36,7 +36,15 @@ pub struct LayoutPacked;\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n #[repr(packed)]\n@@ -47,7 +55,15 @@ struct LayoutC;\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n #[repr(C)]\n@@ -61,9 +77,19 @@ struct TupleStructFieldType(i32);\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_clean(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n+// Note that changing the type of a field does not change the type of the struct or enum, but\n+// adding/removing fields or changing a fields name or visibility does.\n struct TupleStructFieldType(\n     #[rustc_metadata_dirty(cfg=\"cfail2\")]\n     #[rustc_metadata_clean(cfg=\"cfail3\")]\n@@ -78,7 +104,15 @@ struct TupleStructAddField(i32);\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct TupleStructAddField(\n@@ -97,7 +131,15 @@ struct TupleStructFieldVisibility(char);\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct TupleStructFieldVisibility(pub char);\n@@ -110,9 +152,19 @@ struct RecordStructFieldType { x: f32 }\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_clean(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n+// Note that changing the type of a field does not change the type of the struct or enum, but\n+// adding/removing fields or changing a fields name or visibility does.\n struct RecordStructFieldType {\n     #[rustc_metadata_dirty(cfg=\"cfail2\")]\n     #[rustc_metadata_clean(cfg=\"cfail3\")]\n@@ -127,7 +179,15 @@ struct RecordStructFieldName { x: f32 }\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct RecordStructFieldName { y: f32 }\n@@ -140,7 +200,15 @@ struct RecordStructAddField { x: f32 }\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct RecordStructAddField {\n@@ -158,7 +226,15 @@ struct RecordStructFieldVisibility { x: f32 }\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct RecordStructFieldVisibility {\n@@ -175,7 +251,15 @@ struct AddLifetimeParameter<'a>(&'a f32, &'a f64);\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct AddLifetimeParameter<'a, 'b>(&'a f32, &'b f64);\n@@ -188,7 +272,15 @@ struct AddLifetimeParameterBound<'a, 'b>(&'a f32, &'b f64);\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct AddLifetimeParameterBound<'a, 'b: 'a>(\n@@ -205,7 +297,15 @@ struct AddLifetimeParameterBoundWhereClause<'a, 'b>(&'a f32, &'b f64);\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct AddLifetimeParameterBoundWhereClause<'a, 'b>(\n@@ -225,7 +325,15 @@ struct AddTypeParameter<T1>(T1, T1);\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct AddTypeParameter<T1, T2>(\n@@ -247,7 +355,15 @@ struct AddTypeParameterBound<T>(T);\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct AddTypeParameterBound<T: Send>(\n@@ -262,7 +378,15 @@ struct AddTypeParameterBoundWhereClause<T>(T);\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n struct AddTypeParameterBoundWhereClause<T>(\n@@ -273,8 +397,20 @@ struct AddTypeParameterBoundWhereClause<T>(\n \n \n // Empty struct ----------------------------------------------------------------\n-\n+// Since we cannot change anything in this case, we just make sure that the\n+// fingerprint is stable (i.e. that there are no random influences like memory\n+// addresses taken into account by the hashing algorithm).\n+// Note: there is no #[cfg(...)], so this is ALWAYS compiled\n #[rustc_clean(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_clean(cfg=\"cfail2\")]\n pub struct EmptyStruct;\n \n@@ -286,14 +422,19 @@ struct Visibility;\n \n #[cfg(not(cfail1))]\n #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+#[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n #[rustc_metadata_dirty(cfg=\"cfail2\")]\n #[rustc_metadata_clean(cfg=\"cfail3\")]\n pub struct Visibility;\n \n-\n-\n-\n struct ReferencedType1;\n struct ReferencedType2;\n \n@@ -305,7 +446,15 @@ mod tuple_struct_change_field_type_indirectly {\n     use super::ReferencedType2 as FieldType;\n \n     #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+    #[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n     #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n     #[rustc_metadata_clean(cfg=\"cfail2\")]\n     #[rustc_metadata_clean(cfg=\"cfail3\")]\n     struct TupleStruct(\n@@ -324,7 +473,15 @@ mod record_struct_change_field_type_indirectly {\n     use super::ReferencedType2 as FieldType;\n \n     #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+    #[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n     #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n     #[rustc_metadata_clean(cfg=\"cfail2\")]\n     #[rustc_metadata_clean(cfg=\"cfail3\")]\n     struct RecordStruct {\n@@ -348,7 +505,15 @@ mod change_trait_bound_indirectly {\n     use super::ReferencedTrait2 as Trait;\n \n     #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+    #[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+    #[rustc_dirty(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n     #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n     #[rustc_metadata_dirty(cfg=\"cfail2\")]\n     #[rustc_metadata_clean(cfg=\"cfail3\")]\n     struct Struct<T: Trait>(T);\n@@ -362,7 +527,15 @@ mod change_trait_bound_indirectly_in_where_clause {\n     use super::ReferencedTrait2 as Trait;\n \n     #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+    #[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail2\")]\n+    #[rustc_dirty(label=\"PredicatesOfItem\", cfg=\"cfail2\")]\n     #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"TypeOfItem\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"GenericsOfItem\", cfg=\"cfail3\")]\n+    #[rustc_clean(label=\"PredicatesOfItem\", cfg=\"cfail3\")]\n     #[rustc_metadata_dirty(cfg=\"cfail2\")]\n     #[rustc_metadata_clean(cfg=\"cfail3\")]\n     struct Struct<T>(T) where T : Trait;"}]}