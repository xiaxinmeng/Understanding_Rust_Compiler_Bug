{"sha": "436710fa9bf5ea9a601705c2bd276e18751f2c24", "node_id": "C_kwDOAAsO6NoAKDQzNjcxMGZhOWJmNWVhOWE2MDE3MDVjMmJkMjc2ZTE4NzUxZjJjMjQ", "commit": {"author": {"name": "Andy Sadler", "email": "andrewsadler122@gmail.com", "date": "2022-10-02T23:29:51Z"}, "committer": {"name": "Andy Sadler", "email": "andrewsadler122@gmail.com", "date": "2022-10-03T00:04:49Z"}, "message": "simd: enable simd_as intrinsic\n\nThe method context.convert_vector, added to libgccjit for simd_cast,\nappears to give the correct behavior for simd_as.  Instead of\nspecial-casing simd_as, re-use simd_cast's impl for simd_as.\n\nSigned-off-by: Andy Sadler <andrewsadler122@gmail.com>", "tree": {"sha": "92433a9aace8b0737a17b353a6728fc6b7ab1e31", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/92433a9aace8b0737a17b353a6728fc6b7ab1e31"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/436710fa9bf5ea9a601705c2bd276e18751f2c24", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJOBAABCAA4FiEE/gSIuZZ6oleJBl8UelM1fNWBc90FAmM6J+oaHGFuZHJld3Nh\nZGxlcjEyMkBnbWFpbC5jb20ACgkQelM1fNWBc90Zxw//e/2Sj95KpJasKmleNFa9\nyr2dAMUW1bSrGSid0cON2ppJ+qq27CSu7Xd2MUAgH2M5QC9wDkyaaIu4YY7Ib22n\no59CS1+il9CJ55uPyiU8pJv3PV+bYmu4NuTMPqLNiJvek41BllvVXVFyIlteuf6z\nzlurgRZzNQ5RQB6hkQgyqmGUNTy1x1+pRQg9FI5NfwPWgvHOjTTylf5x/ZVfQbbs\nrbLBKZx+61TpR7Wr4ILlLBND3ZTxoTmSJC5yPOdcbN4DzugXKVqQ/j2DQnKQnF3m\nrYnAsRVD75lfrGKILsJb0uFklkMHcyB7c/zWOF29EtvgGz2xF11i8mCd1NWdTzHY\nzZCaKnkUhx4u9IYTF9WARw7E+4UVSHzMQ0Bn/R/sXxkGbkT+GmNZWVv8wXOaSVgz\n+50Nw9+gpJEz5tpKiqo3qHNxOegikybwBTBcUS7CQQGEmrhVzXEQzm+rUi/k4i8Y\nkQe0LX+u/HecM+hRo4z4tPsjgjUs51Iy1BjlpnTXH4kAyvU8ejNT3VYQriW8pGbO\nAHmAsnUcUDQIdOLQPb1n6XyqX3oCdFWfCIXXK6KJlAm4vU0hR4QWLG15AUV7iexc\nGYx/uYo+uOijqVheioLf0qRRnMQKkHy/CaTrxzTfbwkUc0zmgpc4HLGbHnxan6pD\nTWaxci/HBpNVcbZHbMuLuHY=\n=l8Ky\n-----END PGP SIGNATURE-----", "payload": "tree 92433a9aace8b0737a17b353a6728fc6b7ab1e31\nparent 86a3e3bd03a3be2cbd44094878d6ea7528ba5c9c\nauthor Andy Sadler <andrewsadler122@gmail.com> 1664753391 -0500\ncommitter Andy Sadler <andrewsadler122@gmail.com> 1664755489 -0500\n\nsimd: enable simd_as intrinsic\n\nThe method context.convert_vector, added to libgccjit for simd_cast,\nappears to give the correct behavior for simd_as.  Instead of\nspecial-casing simd_as, re-use simd_cast's impl for simd_as.\n\nSigned-off-by: Andy Sadler <andrewsadler122@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/436710fa9bf5ea9a601705c2bd276e18751f2c24", "html_url": "https://github.com/rust-lang/rust/commit/436710fa9bf5ea9a601705c2bd276e18751f2c24", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/436710fa9bf5ea9a601705c2bd276e18751f2c24/comments", "author": {"login": "sadlerap", "id": 20480359, "node_id": "MDQ6VXNlcjIwNDgwMzU5", "avatar_url": "https://avatars.githubusercontent.com/u/20480359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sadlerap", "html_url": "https://github.com/sadlerap", "followers_url": "https://api.github.com/users/sadlerap/followers", "following_url": "https://api.github.com/users/sadlerap/following{/other_user}", "gists_url": "https://api.github.com/users/sadlerap/gists{/gist_id}", "starred_url": "https://api.github.com/users/sadlerap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sadlerap/subscriptions", "organizations_url": "https://api.github.com/users/sadlerap/orgs", "repos_url": "https://api.github.com/users/sadlerap/repos", "events_url": "https://api.github.com/users/sadlerap/events{/privacy}", "received_events_url": "https://api.github.com/users/sadlerap/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sadlerap", "id": 20480359, "node_id": "MDQ6VXNlcjIwNDgwMzU5", "avatar_url": "https://avatars.githubusercontent.com/u/20480359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sadlerap", "html_url": "https://github.com/sadlerap", "followers_url": "https://api.github.com/users/sadlerap/followers", "following_url": "https://api.github.com/users/sadlerap/following{/other_user}", "gists_url": "https://api.github.com/users/sadlerap/gists{/gist_id}", "starred_url": "https://api.github.com/users/sadlerap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sadlerap/subscriptions", "organizations_url": "https://api.github.com/users/sadlerap/orgs", "repos_url": "https://api.github.com/users/sadlerap/repos", "events_url": "https://api.github.com/users/sadlerap/events{/privacy}", "received_events_url": "https://api.github.com/users/sadlerap/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "86a3e3bd03a3be2cbd44094878d6ea7528ba5c9c", "url": "https://api.github.com/repos/rust-lang/rust/commits/86a3e3bd03a3be2cbd44094878d6ea7528ba5c9c", "html_url": "https://github.com/rust-lang/rust/commit/86a3e3bd03a3be2cbd44094878d6ea7528ba5c9c"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "6acd3808445745fe165e222a12c66677e2d0d8a3", "filename": "failing-ui-tests.txt", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/436710fa9bf5ea9a601705c2bd276e18751f2c24/failing-ui-tests.txt", "raw_url": "https://github.com/rust-lang/rust/raw/436710fa9bf5ea9a601705c2bd276e18751f2c24/failing-ui-tests.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/failing-ui-tests.txt?ref=436710fa9bf5ea9a601705c2bd276e18751f2c24", "patch": "@@ -31,7 +31,6 @@ src/test/ui/sepcomp/sepcomp-fns-backwards.rs\n src/test/ui/sepcomp/sepcomp-fns.rs\n src/test/ui/sepcomp/sepcomp-statics.rs\n src/test/ui/simd/intrinsic/generic-arithmetic-pass.rs\n-src/test/ui/simd/intrinsic/generic-as.rs\n src/test/ui/simd/intrinsic/generic-bitmask-pass.rs\n src/test/ui/simd/intrinsic/generic-gather-pass.rs\n src/test/ui/simd/intrinsic/generic-select-pass.rs"}, {"sha": "027c929d2f3d818e461a89c3b62b5ce42d9986e7", "filename": "failing-ui-tests12.txt", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/436710fa9bf5ea9a601705c2bd276e18751f2c24/failing-ui-tests12.txt", "raw_url": "https://github.com/rust-lang/rust/raw/436710fa9bf5ea9a601705c2bd276e18751f2c24/failing-ui-tests12.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/failing-ui-tests12.txt?ref=436710fa9bf5ea9a601705c2bd276e18751f2c24", "patch": "@@ -10,6 +10,7 @@ src/test/ui/packed/packed-tuple-struct-layout.rs\n src/test/ui/simd/array-type.rs\n src/test/ui/simd/intrinsic/float-minmax-pass.rs\n src/test/ui/simd/intrinsic/generic-arithmetic-saturating-pass.rs\n+src/test/ui/simd/intrinsic/generic-as.rs\n src/test/ui/simd/intrinsic/generic-cast-pass.rs\n src/test/ui/simd/intrinsic/generic-cast-pointer-width.rs\n src/test/ui/simd/intrinsic/generic-comparison-pass.rs"}, {"sha": "00c541a8af754a5b74092b7e0526ef3fb6ddc530", "filename": "src/intrinsic/simd.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/436710fa9bf5ea9a601705c2bd276e18751f2c24/src%2Fintrinsic%2Fsimd.rs", "raw_url": "https://github.com/rust-lang/rust/raw/436710fa9bf5ea9a601705c2bd276e18751f2c24/src%2Fintrinsic%2Fsimd.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fintrinsic%2Fsimd.rs?ref=436710fa9bf5ea9a601705c2bd276e18751f2c24", "patch": "@@ -254,7 +254,7 @@ pub fn generic_simd_intrinsic<'a, 'gcc, 'tcx>(bx: &mut Builder<'a, 'gcc, 'tcx>,\n     }\n \n     #[cfg(feature=\"master\")]\n-    if name == sym::simd_cast {\n+    if name == sym::simd_cast || name == sym::simd_as {\n         require_simd!(ret_ty, \"return\");\n         let (out_len, out_elem) = ret_ty.simd_size_and_type(bx.tcx());\n         require!("}]}