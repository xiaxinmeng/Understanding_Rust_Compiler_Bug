{"sha": "794181788d94b7bc9e4717b97313f525054c4710", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5NDE4MTc4OGQ5NGI3YmM5ZTQ3MTdiOTczMTNmNTI1MDU0YzQ3MTA=", "commit": {"author": {"name": "Daniel Frampton", "email": "dframpto@microsoft.com", "date": "2020-04-02T01:49:47Z"}, "committer": {"name": "Daniel Frampton", "email": "dframpto@microsoft.com", "date": "2020-04-03T16:41:58Z"}, "message": "Make panic unwind the default for aarch64-*-windows-msvc targets", "tree": {"sha": "e5cb0936db6339a8e55839eba0e9fde16f6c8b88", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e5cb0936db6339a8e55839eba0e9fde16f6c8b88"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/794181788d94b7bc9e4717b97313f525054c4710", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/794181788d94b7bc9e4717b97313f525054c4710", "html_url": "https://github.com/rust-lang/rust/commit/794181788d94b7bc9e4717b97313f525054c4710", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/794181788d94b7bc9e4717b97313f525054c4710/comments", "author": {"login": "danielframpton", "id": 15899604, "node_id": "MDQ6VXNlcjE1ODk5NjA0", "avatar_url": "https://avatars.githubusercontent.com/u/15899604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielframpton", "html_url": "https://github.com/danielframpton", "followers_url": "https://api.github.com/users/danielframpton/followers", "following_url": "https://api.github.com/users/danielframpton/following{/other_user}", "gists_url": "https://api.github.com/users/danielframpton/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielframpton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielframpton/subscriptions", "organizations_url": "https://api.github.com/users/danielframpton/orgs", "repos_url": "https://api.github.com/users/danielframpton/repos", "events_url": "https://api.github.com/users/danielframpton/events{/privacy}", "received_events_url": "https://api.github.com/users/danielframpton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "danielframpton", "id": 15899604, "node_id": "MDQ6VXNlcjE1ODk5NjA0", "avatar_url": "https://avatars.githubusercontent.com/u/15899604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielframpton", "html_url": "https://github.com/danielframpton", "followers_url": "https://api.github.com/users/danielframpton/followers", "following_url": "https://api.github.com/users/danielframpton/following{/other_user}", "gists_url": "https://api.github.com/users/danielframpton/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielframpton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielframpton/subscriptions", "organizations_url": "https://api.github.com/users/danielframpton/orgs", "repos_url": "https://api.github.com/users/danielframpton/repos", "events_url": "https://api.github.com/users/danielframpton/events{/privacy}", "received_events_url": "https://api.github.com/users/danielframpton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "34f7f55e7aad1cedbddf6fecb4f293377d0cfd1d", "url": "https://api.github.com/repos/rust-lang/rust/commits/34f7f55e7aad1cedbddf6fecb4f293377d0cfd1d", "html_url": "https://github.com/rust-lang/rust/commit/34f7f55e7aad1cedbddf6fecb4f293377d0cfd1d"}], "stats": {"total": 17, "additions": 4, "deletions": 13}, "files": [{"sha": "f791fe82a27e7dcf7182111f50f0eda14ee53a8f", "filename": "src/libpanic_unwind/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/794181788d94b7bc9e4717b97313f525054c4710/src%2Flibpanic_unwind%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/794181788d94b7bc9e4717b97313f525054c4710/src%2Flibpanic_unwind%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_unwind%2Flib.rs?ref=794181788d94b7bc9e4717b97313f525054c4710", "patch": "@@ -47,9 +47,6 @@ cfg_if::cfg_if! {\n     } else if #[cfg(target_os = \"hermit\")] {\n         #[path = \"hermit.rs\"]\n         mod real_imp;\n-    } else if #[cfg(all(target_env = \"msvc\", target_arch = \"aarch64\"))] {\n-        #[path = \"dummy.rs\"]\n-        mod real_imp;\n     } else if #[cfg(target_env = \"msvc\")] {\n         #[path = \"seh.rs\"]\n         mod real_imp;"}, {"sha": "9eff37f17663a4fbcaa470a9883c44dbdccaa6d8", "filename": "src/libpanic_unwind/seh.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/794181788d94b7bc9e4717b97313f525054c4710/src%2Flibpanic_unwind%2Fseh.rs", "raw_url": "https://github.com/rust-lang/rust/raw/794181788d94b7bc9e4717b97313f525054c4710/src%2Flibpanic_unwind%2Fseh.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_unwind%2Fseh.rs?ref=794181788d94b7bc9e4717b97313f525054c4710", "patch": "@@ -117,7 +117,7 @@ mod imp {\n     }\n }\n \n-#[cfg(any(target_arch = \"x86_64\", target_arch = \"arm\"))]\n+#[cfg(not(target_arch = \"x86\"))]\n #[macro_use]\n mod imp {\n     pub type ptr_t = u32;"}, {"sha": "8c03f1e8a7eab9f6ae5d8950b7cc88ae23dbacc4", "filename": "src/librustc_target/spec/aarch64_pc_windows_msvc.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/794181788d94b7bc9e4717b97313f525054c4710/src%2Flibrustc_target%2Fspec%2Faarch64_pc_windows_msvc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/794181788d94b7bc9e4717b97313f525054c4710/src%2Flibrustc_target%2Fspec%2Faarch64_pc_windows_msvc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Faarch64_pc_windows_msvc.rs?ref=794181788d94b7bc9e4717b97313f525054c4710", "patch": "@@ -1,14 +1,11 @@\n-use crate::spec::{LinkerFlavor, PanicStrategy, Target, TargetResult};\n+use crate::spec::{LinkerFlavor, Target, TargetResult};\n \n pub fn target() -> TargetResult {\n     let mut base = super::windows_msvc_base::opts();\n     base.max_atomic_width = Some(64);\n     base.has_elf_tls = true;\n     base.features = \"+neon,+fp-armv8\".to_string();\n \n-    // FIXME: this shouldn't be panic=abort, it should be panic=unwind\n-    base.panic_strategy = PanicStrategy::Abort;\n-\n     Ok(Target {\n         llvm_target: \"aarch64-pc-windows-msvc\".to_string(),\n         target_endian: \"little\".to_string(),"}, {"sha": "6a8d148259ac3603fdf333f440d2598aaa11b4b1", "filename": "src/librustc_target/spec/aarch64_uwp_windows_msvc.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/794181788d94b7bc9e4717b97313f525054c4710/src%2Flibrustc_target%2Fspec%2Faarch64_uwp_windows_msvc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/794181788d94b7bc9e4717b97313f525054c4710/src%2Flibrustc_target%2Fspec%2Faarch64_uwp_windows_msvc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Faarch64_uwp_windows_msvc.rs?ref=794181788d94b7bc9e4717b97313f525054c4710", "patch": "@@ -1,13 +1,10 @@\n-use crate::spec::{LinkerFlavor, PanicStrategy, Target, TargetResult};\n+use crate::spec::{LinkerFlavor, Target, TargetResult};\n \n pub fn target() -> TargetResult {\n     let mut base = super::windows_uwp_msvc_base::opts();\n     base.max_atomic_width = Some(64);\n     base.has_elf_tls = true;\n \n-    // FIXME: this shouldn't be panic=abort, it should be panic=unwind\n-    base.panic_strategy = PanicStrategy::Abort;\n-\n     Ok(Target {\n         llvm_target: \"aarch64-pc-windows-msvc\".to_string(),\n         target_endian: \"little\".to_string(),"}, {"sha": "027e428197f3702599cfbb632883768175f49173", "filename": "src/llvm-project", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fllvm-project?ref=794181788d94b7bc9e4717b97313f525054c4710", "patch": "@@ -1 +1 @@\n-Subproject commit 130721d6f4e6cba3b910ccdf5e0aa62b9dffc95f\n+Subproject commit 027e428197f3702599cfbb632883768175f49173"}]}