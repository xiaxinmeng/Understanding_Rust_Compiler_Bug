{"sha": "bc6ec6fe36c5c902da900fea67cba30fad4b0b6b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJjNmVjNmZlMzZjNWM5MDJkYTkwMGZlYTY3Y2JhMzBmYWQ0YjBiNmI=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-09-23T18:26:29Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-10-03T12:16:24Z"}, "message": "Add test for unclosed_html_tag lint", "tree": {"sha": "085955534a81f481cb6c6caa0c57e95599798cb3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/085955534a81f481cb6c6caa0c57e95599798cb3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b", "html_url": "https://github.com/rust-lang/rust/commit/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5fcbf4668ecab0ff798ea076757e27760c90aff5", "url": "https://api.github.com/repos/rust-lang/rust/commits/5fcbf4668ecab0ff798ea076757e27760c90aff5", "html_url": "https://github.com/rust-lang/rust/commit/5fcbf4668ecab0ff798ea076757e27760c90aff5"}], "stats": {"total": 154, "additions": 89, "deletions": 65}, "files": [{"sha": "8904828b047cab3e5fd20392b75d1cf837001e96", "filename": "src/test/rustdoc-ui/intra-link-errors.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.rs?ref=bc6ec6fe36c5c902da900fea67cba30fad4b0b6b", "patch": "@@ -1,4 +1,4 @@\n-#![allow(unclosed_html_tags)]\n+#![allow(invalid_html_tags)]\n #![deny(broken_intra_doc_links)]\n //~^ NOTE lint level is defined\n "}, {"sha": "798ae0bf011814afda6fd5d53a557061285bcd3a", "filename": "src/test/rustdoc-ui/intra-link-errors.stderr", "status": "modified", "additions": 15, "deletions": 64, "changes": 79, "blob_url": "https://github.com/rust-lang/rust/blob/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.stderr?ref=bc6ec6fe36c5c902da900fea67cba30fad4b0b6b", "patch": "@@ -28,97 +28,68 @@ error: unresolved link to `std::io::not::here`\n LL | /// [std::io::not::here]\n    |      ^^^^^^^^^^^^^^^^^^ the module `io` contains no item named `not`\n \n-<<<<<<< HEAD\n error: unresolved link to `std::io::not::here`\n-  --> $DIR/intra-link-errors.rs:23:6\n-=======\n-error: unresolved link to `std::io::Error::x`\n   --> $DIR/intra-link-errors.rs:24:6\n->>>>>>> Add `unclosed_html_tags` lint\n    |\n LL | /// [type@std::io::not::here]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^ the module `io` contains no item named `not`\n \n error: unresolved link to `std::io::Error::x`\n-  --> $DIR/intra-link-errors.rs:27:6\n+  --> $DIR/intra-link-errors.rs:28:6\n    |\n LL | /// [std::io::Error::x]\n    |      ^^^^^^^^^^^^^^^^^ the struct `Error` has no field or associated item named `x`\n \n error: unresolved link to `std::io::ErrorKind::x`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:31:6\n-=======\n-  --> $DIR/intra-link-errors.rs:28:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:32:6\n    |\n LL | /// [std::io::ErrorKind::x]\n    |      ^^^^^^^^^^^^^^^^^^^^^ the enum `ErrorKind` has no variant or associated item named `x`\n \n error: unresolved link to `f::A`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:35:6\n-=======\n-  --> $DIR/intra-link-errors.rs:32:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:36:6\n    |\n LL | /// [f::A]\n    |      ^^^^ `f` is a function, not a module or type, and cannot have associated items\n \n error: unresolved link to `f::A`\n-  --> $DIR/intra-link-errors.rs:39:6\n+  --> $DIR/intra-link-errors.rs:40:6\n    |\n LL | /// [f::A!]\n    |      ^^^^^ `f` is a function, not a module or type, and cannot have associated items\n \n error: unresolved link to `S::A`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:43:6\n-=======\n-  --> $DIR/intra-link-errors.rs:36:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:44:6\n    |\n LL | /// [S::A]\n    |      ^^^^ the struct `S` has no field or associated item named `A`\n \n error: unresolved link to `S::fmt`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:47:6\n-=======\n-  --> $DIR/intra-link-errors.rs:40:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:48:6\n    |\n LL | /// [S::fmt]\n    |      ^^^^^^ the struct `S` has no field or associated item named `fmt`\n \n error: unresolved link to `E::D`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:51:6\n-=======\n-  --> $DIR/intra-link-errors.rs:44:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:52:6\n    |\n LL | /// [E::D]\n    |      ^^^^ the enum `E` has no variant or associated item named `D`\n \n error: unresolved link to `u8::not_found`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:55:6\n-=======\n-  --> $DIR/intra-link-errors.rs:48:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:56:6\n    |\n LL | /// [u8::not_found]\n    |      ^^^^^^^^^^^^^ the builtin type `u8` has no associated item named `not_found`\n \n error: unresolved link to `std::primitive::u8::not_found`\n-  --> $DIR/intra-link-errors.rs:59:6\n+  --> $DIR/intra-link-errors.rs:60:6\n    |\n LL | /// [std::primitive::u8::not_found]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the builtin type `u8` has no associated item named `not_found`\n \n error: unresolved link to `Vec::into_iter`\n-  --> $DIR/intra-link-errors.rs:63:6\n+  --> $DIR/intra-link-errors.rs:64:6\n    |\n LL | /// [type@Vec::into_iter]\n    |      ^^^^^^^^^^^^^^^^^^^\n@@ -127,11 +98,7 @@ LL | /// [type@Vec::into_iter]\n    |      help: to link to the associated function, add parentheses: `Vec::into_iter()`\n \n error: unresolved link to `S`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:68:6\n-=======\n-  --> $DIR/intra-link-errors.rs:52:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:69:6\n    |\n LL | /// [S!]\n    |      ^^\n@@ -140,11 +107,7 @@ LL | /// [S!]\n    |      help: to link to the struct, prefix with `struct@`: `struct@S`\n \n error: unresolved link to `T::g`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:86:6\n-=======\n-  --> $DIR/intra-link-errors.rs:70:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:87:6\n    |\n LL | /// [type@T::g]\n    |      ^^^^^^^^^\n@@ -153,21 +116,13 @@ LL | /// [type@T::g]\n    |      help: to link to the associated function, add parentheses: `T::g()`\n \n error: unresolved link to `T::h`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:91:6\n-=======\n-  --> $DIR/intra-link-errors.rs:75:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:92:6\n    |\n LL | /// [T::h!]\n    |      ^^^^^ the trait `T` has no macro named `h`\n \n error: unresolved link to `S::h`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:78:6\n-=======\n-  --> $DIR/intra-link-errors.rs:62:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:79:6\n    |\n LL | /// [type@S::h]\n    |      ^^^^^^^^^\n@@ -176,11 +131,7 @@ LL | /// [type@S::h]\n    |      help: to link to the associated function, add parentheses: `S::h()`\n \n error: unresolved link to `m`\n-<<<<<<< HEAD\n-  --> $DIR/intra-link-errors.rs:98:6\n-=======\n-  --> $DIR/intra-link-errors.rs:82:6\n->>>>>>> Add `unclosed_html_tags` lint\n+  --> $DIR/intra-link-errors.rs:99:6\n    |\n LL | /// [m()]\n    |      ^^^"}, {"sha": "2df7c5435733dcee1a2313466ee19d838a87ea64", "filename": "src/test/rustdoc-ui/invalid-html-tags.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b/src%2Ftest%2Frustdoc-ui%2Finvalid-html-tags.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b/src%2Ftest%2Frustdoc-ui%2Finvalid-html-tags.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Finvalid-html-tags.rs?ref=bc6ec6fe36c5c902da900fea67cba30fad4b0b6b", "patch": "@@ -0,0 +1,19 @@\n+#![deny(invalid_html_tags)]\n+\n+/// <script>\n+//~^ ERROR unclosed HTML tag `unknown`\n+//~^^ ERROR unclosed HTML tag `script`\n+/// <img><input>\n+/// </script>\n+/// <unknown>\n+/// < ok\n+/// <script>\n+pub fn foo() {}\n+\n+/// <h1>\n+//~^ ERROR unopened HTML tag `h2`\n+//~^^ ERROR unopened HTML tag `h3`\n+///   <h2>\n+///     <h3>\n+/// </h1>\n+pub fn f() {}"}, {"sha": "f022e0168eba836a5e81e0c2c9a65d053b639095", "filename": "src/test/rustdoc-ui/invalid-html-tags.stderr", "status": "added", "additions": 54, "deletions": 0, "changes": 54, "blob_url": "https://github.com/rust-lang/rust/blob/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b/src%2Ftest%2Frustdoc-ui%2Finvalid-html-tags.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/bc6ec6fe36c5c902da900fea67cba30fad4b0b6b/src%2Ftest%2Frustdoc-ui%2Finvalid-html-tags.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Finvalid-html-tags.stderr?ref=bc6ec6fe36c5c902da900fea67cba30fad4b0b6b", "patch": "@@ -0,0 +1,54 @@\n+error: unclosed HTML tag `unknown`\n+  --> $DIR/invalid-html-tags.rs:3:1\n+   |\n+LL | / /// <script>\n+LL | |\n+LL | |\n+LL | | /// <img><input>\n+...  |\n+LL | | /// < ok\n+LL | | /// <script>\n+   | |____________^\n+   |\n+note: the lint level is defined here\n+  --> $DIR/invalid-html-tags.rs:1:9\n+   |\n+LL | #![deny(invalid_html_tags)]\n+   |         ^^^^^^^^^^^^^^^^^\n+\n+error: unclosed HTML tag `script`\n+  --> $DIR/invalid-html-tags.rs:3:1\n+   |\n+LL | / /// <script>\n+LL | |\n+LL | |\n+LL | | /// <img><input>\n+...  |\n+LL | | /// < ok\n+LL | | /// <script>\n+   | |____________^\n+\n+error: unopened HTML tag `h2`\n+  --> $DIR/invalid-html-tags.rs:13:1\n+   |\n+LL | / /// <h1>\n+LL | |\n+LL | |\n+LL | | ///   <h2>\n+LL | | ///     <h3>\n+LL | | /// </h1>\n+   | |_________^\n+\n+error: unopened HTML tag `h3`\n+  --> $DIR/invalid-html-tags.rs:13:1\n+   |\n+LL | / /// <h1>\n+LL | |\n+LL | |\n+LL | | ///   <h2>\n+LL | | ///     <h3>\n+LL | | /// </h1>\n+   | |_________^\n+\n+error: aborting due to 4 previous errors\n+"}]}