{"sha": "697853117fc959793eb466d029086a7ba9ebc348", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5Nzg1MzExN2ZjOTU5NzkzZWI0NjZkMDI5MDg2YTdiYTllYmMzNDg=", "commit": {"author": {"name": "Mark Mansi", "email": "markm@cs.wisc.edu", "date": "2019-11-30T01:48:29Z"}, "committer": {"name": "Mark Mansi", "email": "markm@cs.wisc.edu", "date": "2019-12-12T03:35:50Z"}, "message": "fix imports", "tree": {"sha": "e2d4d294a38d8490cdff63250d176f257cee3275", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e2d4d294a38d8490cdff63250d176f257cee3275"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/697853117fc959793eb466d029086a7ba9ebc348", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/697853117fc959793eb466d029086a7ba9ebc348", "html_url": "https://github.com/rust-lang/rust/commit/697853117fc959793eb466d029086a7ba9ebc348", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/697853117fc959793eb466d029086a7ba9ebc348/comments", "author": {"login": "mark-i-m", "id": 8827840, "node_id": "MDQ6VXNlcjg4Mjc4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8827840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-i-m", "html_url": "https://github.com/mark-i-m", "followers_url": "https://api.github.com/users/mark-i-m/followers", "following_url": "https://api.github.com/users/mark-i-m/following{/other_user}", "gists_url": "https://api.github.com/users/mark-i-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-i-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-i-m/subscriptions", "organizations_url": "https://api.github.com/users/mark-i-m/orgs", "repos_url": "https://api.github.com/users/mark-i-m/repos", "events_url": "https://api.github.com/users/mark-i-m/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-i-m/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mark-i-m", "id": 8827840, "node_id": "MDQ6VXNlcjg4Mjc4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8827840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-i-m", "html_url": "https://github.com/mark-i-m", "followers_url": "https://api.github.com/users/mark-i-m/followers", "following_url": "https://api.github.com/users/mark-i-m/following{/other_user}", "gists_url": "https://api.github.com/users/mark-i-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-i-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-i-m/subscriptions", "organizations_url": "https://api.github.com/users/mark-i-m/orgs", "repos_url": "https://api.github.com/users/mark-i-m/repos", "events_url": "https://api.github.com/users/mark-i-m/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-i-m/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "52a9eff7ad442ef89da2aa7e818de56b5c72e031", "url": "https://api.github.com/repos/rust-lang/rust/commits/52a9eff7ad442ef89da2aa7e818de56b5c72e031", "html_url": "https://github.com/rust-lang/rust/commit/52a9eff7ad442ef89da2aa7e818de56b5c72e031"}], "stats": {"total": 316, "additions": 187, "deletions": 129}, "files": [{"sha": "28a631a711a871fd9ab0c6695543247705cf4158", "filename": "src/librustc_mir/borrow_check/constraint_generation.rs", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fconstraint_generation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fconstraint_generation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fconstraint_generation.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,9 +1,3 @@\n-use crate::borrow_check::borrow_set::BorrowSet;\n-use crate::borrow_check::location::LocationTable;\n-use crate::borrow_check::nll::ToRegionVid;\n-use crate::borrow_check::nll::facts::AllFacts;\n-use crate::borrow_check::nll::region_infer::values::LivenessValues;\n-use crate::borrow_check::places_conflict;\n use rustc::infer::InferCtxt;\n use rustc::mir::visit::TyContext;\n use rustc::mir::visit::Visitor;\n@@ -15,6 +9,15 @@ use rustc::ty::fold::TypeFoldable;\n use rustc::ty::{self, RegionVid, Ty};\n use rustc::ty::subst::SubstsRef;\n \n+use crate::borrow_check::{\n+    borrow_set::BorrowSet,\n+    location::LocationTable,\n+    nll::ToRegionVid,\n+    facts::AllFacts,\n+    region_infer::values::LivenessValues,\n+    places_conflict,\n+};\n+\n pub(super) fn generate_constraints<'cx, 'tcx>(\n     infcx: &InferCtxt<'cx, 'tcx>,\n     param_env: ty::ParamEnv<'tcx>,"}, {"sha": "3e7aa67ef6c7de3c85814e4ec1957fa5626d19df", "filename": "src/librustc_mir/borrow_check/constraints/graph.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fconstraints%2Fgraph.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fconstraints%2Fgraph.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fconstraints%2Fgraph.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,12 +1,15 @@\n-use crate::borrow_check::nll::type_check::Locations;\n-use crate::borrow_check::nll::constraints::OutlivesConstraintIndex;\n-use crate::borrow_check::nll::constraints::{OutlivesConstraintSet, OutlivesConstraint};\n use rustc::mir::ConstraintCategory;\n use rustc::ty::RegionVid;\n use rustc_data_structures::graph;\n use rustc_index::vec::IndexVec;\n use syntax_pos::DUMMY_SP;\n \n+use crate::borrow_check::{\n+    type_check::Locations,\n+    constraints::OutlivesConstraintIndex,\n+    constraints::{OutlivesConstraintSet, OutlivesConstraint},\n+};\n+\n /// The construct graph organizes the constraints by their end-points.\n /// It can be used to view a `R1: R2` constraint as either an edge `R1\n /// -> R2` or `R2 -> R1` depending on the direction type `D`."}, {"sha": "96982b604c0beb874eef1d9102fd1743236a9304", "filename": "src/librustc_mir/borrow_check/constraints/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fconstraints%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fconstraints%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fconstraints%2Fmod.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,11 +1,12 @@\n-use crate::borrow_check::nll::type_check::Locations;\n use rustc::mir::ConstraintCategory;\n use rustc::ty::RegionVid;\n use rustc_data_structures::graph::scc::Sccs;\n use rustc_index::vec::{Idx, IndexVec};\n use std::fmt;\n use std::ops::Index;\n \n+use crate::borrow_check::type_check::Locations;\n+\n crate mod graph;\n \n /// A set of NLL region constraints. These include \"outlives\""}, {"sha": "a463d2cb2990b572ff231af8794bc528ae5764b3", "filename": "src/librustc_mir/borrow_check/diagnostics/explain_borrow.rs", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fexplain_borrow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fexplain_borrow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fexplain_borrow.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,9 +1,7 @@\n+//! Print diagnostics to explain why values are borrowed.\n+\n use std::collections::VecDeque;\n \n-use crate::borrow_check::borrow_set::BorrowData;\n-use crate::borrow_check::nll::region_infer::Cause;\n-use crate::borrow_check::nll::ConstraintDescription;\n-use crate::borrow_check::{MirBorrowckCtxt, WriteKind};\n use rustc::mir::{\n     CastKind, ConstraintCategory, FakeReadCause, Local, Location, Body, Operand, Place, Rvalue,\n     Statement, StatementKind, TerminatorKind,\n@@ -16,6 +14,13 @@ use rustc_errors::DiagnosticBuilder;\n use syntax_pos::Span;\n use syntax_pos::symbol::Symbol;\n \n+use crate::borrow_check::{\n+    borrow_set::BorrowData,\n+    region_infer::Cause,\n+    nll::ConstraintDescription,\n+    MirBorrowckCtxt, WriteKind,\n+};\n+\n use super::{UseSpans, find_use, RegionName};\n \n #[derive(Debug)]"}, {"sha": "c557e528768c563617783815c333194b74615b66", "filename": "src/librustc_mir/borrow_check/diagnostics/find_use.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Ffind_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Ffind_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Ffind_use.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,8 +1,7 @@\n use std::collections::VecDeque;\n use std::rc::Rc;\n \n-use crate::borrow_check::nll::region_infer::{Cause, RegionInferenceContext};\n-use crate::borrow_check::nll::ToRegionVid;\n+use crate::borrow_check::{nll::ToRegionVid, region_infer::{Cause, RegionInferenceContext}};\n use crate::util::liveness::{self, DefUse};\n use rustc::mir::visit::{MirVisitable, PlaceContext, Visitor};\n use rustc::mir::{Local, Location, Body};"}, {"sha": "b61c37b061396139d974c99c5f668087dc67aba9", "filename": "src/librustc_mir/borrow_check/diagnostics/outlives_suggestion.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Foutlives_suggestion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Foutlives_suggestion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Foutlives_suggestion.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -13,7 +13,7 @@ use syntax_pos::symbol::Symbol;\n \n use smallvec::SmallVec;\n \n-use crate::borrow_check::nll::region_infer::RegionInferenceContext;\n+use crate::borrow_check::region_infer::RegionInferenceContext;\n \n use super::{\n     RegionName, RegionNameSource, ErrorConstraintInfo, ErrorReportingCtx, RegionErrorNamingCtx,"}, {"sha": "8a37e2d02ec71905bc0f4d7d207cb24934ed81ef", "filename": "src/librustc_mir/borrow_check/diagnostics/region_errors.rs", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fregion_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fregion_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fregion_errors.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,10 +1,5 @@\n-use crate::borrow_check::nll::constraints::OutlivesConstraint;\n-use crate::borrow_check::nll::region_infer::RegionInferenceContext;\n-use crate::borrow_check::nll::type_check::Locations;\n-use crate::borrow_check::nll::universal_regions::DefiningTy;\n-use crate::borrow_check::nll::ConstraintDescription;\n-use crate::borrow_check::Upvar;\n-use crate::util::borrowck_errors;\n+//! Error reporting machinery for lifetime errors.\n+\n use rustc::hir::def_id::DefId;\n use rustc::infer::error_reporting::nice_region_error::NiceRegionError;\n use rustc::infer::InferCtxt;\n@@ -19,6 +14,17 @@ use syntax::symbol::kw;\n use syntax_pos::Span;\n use syntax_pos::symbol::Symbol;\n \n+use crate::util::borrowck_errors;\n+\n+use crate::borrow_check::{\n+    constraints::OutlivesConstraint,\n+    region_infer::RegionInferenceContext,\n+    type_check::Locations,\n+    universal_regions::DefiningTy,\n+    nll::ConstraintDescription,\n+    Upvar,\n+};\n+\n use super::{OutlivesSuggestionBuilder, RegionName, RegionNameSource, RegionErrorNamingCtx};\n \n impl ConstraintDescription for ConstraintCategory {"}, {"sha": "720c77beaf8b5409d72a8cceec6d88a1ad464b81", "filename": "src/librustc_mir/borrow_check/diagnostics/region_name.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fregion_name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fregion_name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fregion_name.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -15,14 +15,13 @@ use rustc_data_structures::fx::FxHashMap;\n use syntax_pos::{Span, symbol::Symbol, DUMMY_SP};\n \n use crate::borrow_check::{\n-    nll::region_infer::RegionInferenceContext,\n-    nll::universal_regions::DefiningTy,\n+    diagnostics::region_errors::ErrorReportingCtx,\n+    region_infer::RegionInferenceContext,\n+    universal_regions::DefiningTy,\n     nll::ToRegionVid,\n     Upvar,\n };\n \n-use super::region_errors::ErrorReportingCtx;\n-\n /// A name for a particular region used in emitting diagnostics. This name could be a generated\n /// name like `'1`, a name used by the user like `'a`, or a name like `'static`.\n #[derive(Debug, Clone)]"}, {"sha": "839e09be7af82cf6d7308585d9fe11dd1988291d", "filename": "src/librustc_mir/borrow_check/diagnostics/var_name.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fvar_name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fvar_name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fdiagnostics%2Fvar_name.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,5 +1,4 @@\n-use crate::borrow_check::nll::region_infer::RegionInferenceContext;\n-use crate::borrow_check::nll::ToRegionVid;\n+use crate::borrow_check::{nll::ToRegionVid, region_infer::RegionInferenceContext};\n use crate::borrow_check::Upvar;\n use rustc::mir::{Local, Body};\n use rustc::ty::{RegionVid, TyCtxt};"}, {"sha": "58fac5512d9b6f71337c5dd1a1093b4038b24488", "filename": "src/librustc_mir/borrow_check/invalidation.rs", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Finvalidation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Finvalidation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Finvalidation.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,14 +1,3 @@\n-use crate::borrow_check::borrow_set::BorrowSet;\n-use crate::borrow_check::location::LocationTable;\n-use crate::borrow_check::{JustWrite, WriteAndRead};\n-use crate::borrow_check::{AccessDepth, Deep, Shallow};\n-use crate::borrow_check::{ReadOrWrite, Activation, Read, Reservation, Write};\n-use crate::borrow_check::{LocalMutationIsAllowed, MutateMode};\n-use crate::borrow_check::ArtificialField;\n-use crate::borrow_check::{ReadKind, WriteKind};\n-use crate::borrow_check::nll::facts::AllFacts;\n-use crate::borrow_check::path_utils::*;\n-use crate::dataflow::indexes::BorrowIndex;\n use rustc::ty::{self, TyCtxt};\n use rustc::mir::visit::Visitor;\n use rustc::mir::{BasicBlock, Location, Body, Place, ReadOnlyBodyAndCache, Rvalue};\n@@ -17,6 +6,17 @@ use rustc::mir::TerminatorKind;\n use rustc::mir::{Operand, BorrowKind};\n use rustc_data_structures::graph::dominators::Dominators;\n \n+use crate::dataflow::indexes::BorrowIndex;\n+\n+use crate::borrow_check::{\n+    borrow_set::BorrowSet,\n+    location::LocationTable,\n+    facts::AllFacts,\n+    path_utils::*,\n+    JustWrite, WriteAndRead, AccessDepth, Deep, Shallow, ReadOrWrite, Activation, Read,\n+    Reservation, Write, LocalMutationIsAllowed, MutateMode, ArtificialField, ReadKind, WriteKind,\n+};\n+\n pub(super) fn generate_invalidates<'tcx>(\n     tcx: TyCtxt<'tcx>,\n     param_env: ty::ParamEnv<'tcx>,"}, {"sha": "fb26effc0bc9696ceef0109362748a0b21e27ee2", "filename": "src/librustc_mir/borrow_check/mod.rs", "status": "modified", "additions": 15, "deletions": 6, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fmod.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,6 +1,5 @@\n //! This query borrow-checks the MIR to (further) ensure it is not broken.\n \n-use crate::borrow_check::nll::region_infer::RegionInferenceContext;\n use rustc::hir::{self, HirId};\n use rustc::hir::Node;\n use rustc::hir::def_id::DefId;\n@@ -47,20 +46,30 @@ use self::location::LocationTable;\n use self::prefixes::PrefixSet;\n use self::MutateMode::{JustWrite, WriteAndRead};\n use self::diagnostics::AccessKind;\n+use self::region_infer::RegionInferenceContext;\n \n use self::path_utils::*;\n \n-crate mod borrow_set;\n mod diagnostics;\n mod flows;\n mod location;\n mod path_utils;\n-crate mod place_ext;\n-crate mod places_conflict;\n mod prefixes;\n mod used_muts;\n-\n-pub(crate) mod nll;\n+mod constraint_generation;\n+mod facts;\n+mod invalidation;\n+mod renumber;\n+mod member_constraints;\n+\n+crate mod constraints;\n+crate mod universal_regions;\n+crate mod type_check;\n+crate mod region_infer;\n+crate mod borrow_set;\n+crate mod place_ext;\n+crate mod places_conflict;\n+crate mod nll;\n \n // FIXME(eddyb) perhaps move this somewhere more centrally.\n #[derive(Debug)]"}, {"sha": "61e6b4c8631806a621b3d570791986b5a239588f", "filename": "src/librustc_mir/borrow_check/nll.rs", "status": "modified", "additions": 17, "deletions": 25, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fnll.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fnll.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fnll.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,13 +1,5 @@\n-use crate::borrow_check::borrow_set::BorrowSet;\n-use crate::borrow_check::location::LocationTable;\n-use crate::borrow_check::nll::facts::AllFactsExt;\n-use crate::borrow_check::nll::type_check::{MirTypeckResults, MirTypeckRegionConstraints};\n-use crate::borrow_check::nll::region_infer::values::RegionValueElements;\n-use crate::dataflow::move_paths::{InitLocation, MoveData, InitKind};\n-use crate::dataflow::FlowAtLocation;\n-use crate::dataflow::MaybeInitializedPlaces;\n-use crate::transform::MirSource;\n-use crate::borrow_check::Upvar;\n+//! The entry point of the NLL borrow checker.\n+\n use rustc::hir::def_id::DefId;\n use rustc::infer::InferCtxt;\n use rustc::mir::{ClosureOutlivesSubject, ClosureRegionRequirements,\n@@ -27,24 +19,24 @@ use syntax::symbol::sym;\n \n use self::mir_util::PassWhere;\n use polonius_engine::{Algorithm, Output};\n+\n use crate::util as mir_util;\n use crate::util::pretty;\n+use crate::dataflow::indexes::BorrowIndex;\n+use crate::dataflow::move_paths::{InitLocation, MoveData, MovePathIndex, InitKind};\n+use crate::dataflow::FlowAtLocation;\n+use crate::dataflow::MaybeInitializedPlaces;\n+use crate::transform::MirSource;\n \n-mod constraint_generation;\n-mod facts;\n-mod invalidation;\n-mod renumber;\n-\n-mod member_constraints;\n-\n-crate mod constraints;\n-crate mod universal_regions;\n-crate mod type_check;\n-crate mod region_infer;\n-\n-use self::facts::{AllFacts, RustcFacts};\n-use self::region_infer::RegionInferenceContext;\n-use self::universal_regions::UniversalRegions;\n+use crate::borrow_check::{\n+    borrow_set::BorrowSet,\n+    location::{LocationIndex, LocationTable},\n+    facts::{AllFacts, AllFactsExt, RustcFacts},\n+    region_infer::{RegionInferenceContext, values::RegionValueElements},\n+    universal_regions::UniversalRegions,\n+    type_check::{self, MirTypeckResults, MirTypeckRegionConstraints},\n+    Upvar, renumber, constraint_generation, invalidation,\n+};\n \n crate type PoloniusOutput = Output<RustcFacts>;\n "}, {"sha": "29c6f325263902361134a9dde0b24fbe96517220", "filename": "src/librustc_mir/borrow_check/region_infer/graphviz.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fregion_infer%2Fgraphviz.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fregion_infer%2Fgraphviz.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fregion_infer%2Fgraphviz.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -2,11 +2,12 @@\n //! libgraphviz traits, specialized to attaching borrowck analysis\n //! data to rendered labels.\n \n-use super::*;\n-use crate::borrow_check::nll::constraints::OutlivesConstraint;\n use std::borrow::Cow;\n use std::io::{self, Write};\n \n+use super::*;\n+use crate::borrow_check::constraints::OutlivesConstraint;\n+\n impl<'tcx> RegionInferenceContext<'tcx> {\n     /// Write out the region constraint graph.\n     crate fn dump_graphviz_raw_constraints(&self, mut w: &mut dyn Write) -> io::Result<()> {"}, {"sha": "b6946e2f73fc6f95d1a048db370c9ce5e95f5bb6", "filename": "src/librustc_mir/borrow_check/region_infer/mod.rs", "status": "modified", "additions": 13, "deletions": 16, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fregion_infer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Fregion_infer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fregion_infer%2Fmod.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -23,29 +23,26 @@ use syntax_pos::Span;\n use syntax_pos::symbol::Symbol;\n \n use crate::borrow_check::{\n-    nll::{\n-        constraints::{\n-            graph::NormalConstraintGraph,\n-            ConstraintSccIndex,\n-            OutlivesConstraint,\n-            OutlivesConstraintSet,\n-        },\n-        member_constraints::{MemberConstraintSet, NllMemberConstraintIndex},\n-        region_infer::values::{\n-            PlaceholderIndices, RegionElement, ToElementIndex\n-        },\n-        type_check::{free_region_relations::UniversalRegionRelations, Locations},\n+    constraints::{\n+        graph::NormalConstraintGraph,\n+        ConstraintSccIndex,\n+        OutlivesConstraint,\n+        OutlivesConstraintSet,\n     },\n+    member_constraints::{MemberConstraintSet, NllMemberConstraintIndex},\n+    region_infer::values::{\n+        PlaceholderIndices, RegionElement, ToElementIndex, LivenessValues, RegionValueElements,\n+        RegionValues,\n+    },\n+    type_check::{free_region_relations::UniversalRegionRelations, Locations},\n     diagnostics::{\n         OutlivesSuggestionBuilder, RegionErrorNamingCtx,\n     },\n+    nll::{ToRegionVid, PoloniusOutput},\n+    universal_regions::UniversalRegions,\n     Upvar,\n };\n \n-use self::values::{LivenessValues, RegionValueElements, RegionValues};\n-use super::universal_regions::UniversalRegions;\n-use super::{PoloniusOutput, ToRegionVid};\n-\n mod dump_mir;\n mod graphviz;\n "}, {"sha": "334477dff23623c52677836006933e7fb5835f6c", "filename": "src/librustc_mir/borrow_check/type_check/constraint_conversion.rs", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fconstraint_conversion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fconstraint_conversion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fconstraint_conversion.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,8 +1,3 @@\n-use crate::borrow_check::nll::constraints::OutlivesConstraint;\n-use crate::borrow_check::nll::region_infer::TypeTest;\n-use crate::borrow_check::nll::type_check::{Locations, MirTypeckRegionConstraints};\n-use crate::borrow_check::nll::universal_regions::UniversalRegions;\n-use crate::borrow_check::nll::ToRegionVid;\n use rustc::infer::canonical::QueryRegionConstraints;\n use rustc::infer::canonical::QueryOutlivesConstraint;\n use rustc::infer::outlives::env::RegionBoundPairs;\n@@ -14,6 +9,14 @@ use rustc::ty::subst::GenericArgKind;\n use rustc::ty::{self, TyCtxt};\n use syntax_pos::DUMMY_SP;\n \n+use crate::borrow_check::{\n+    constraints::OutlivesConstraint,\n+    region_infer::TypeTest,\n+    type_check::{Locations, MirTypeckRegionConstraints},\n+    universal_regions::UniversalRegions,\n+    nll::ToRegionVid,\n+};\n+\n crate struct ConstraintConversion<'a, 'tcx> {\n     infcx: &'a InferCtxt<'a, 'tcx>,\n     tcx: TyCtxt<'tcx>,"}, {"sha": "8bbaeaace75b614c3ac497125c1d25a21a51e355", "filename": "src/librustc_mir/borrow_check/type_check/free_region_relations.rs", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Ffree_region_relations.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Ffree_region_relations.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Ffree_region_relations.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,7 +1,4 @@\n-use crate::borrow_check::nll::type_check::constraint_conversion;\n-use crate::borrow_check::nll::type_check::{Locations, MirTypeckRegionConstraints};\n-use crate::borrow_check::nll::universal_regions::UniversalRegions;\n-use crate::borrow_check::nll::ToRegionVid;\n+\n use rustc::infer::canonical::QueryRegionConstraints;\n use rustc::infer::outlives::free_region_map::FreeRegionRelations;\n use rustc::infer::region_constraints::GenericKind;\n@@ -14,6 +11,13 @@ use rustc_data_structures::transitive_relation::TransitiveRelation;\n use std::rc::Rc;\n use syntax_pos::DUMMY_SP;\n \n+use crate::borrow_check::{\n+    type_check::constraint_conversion,\n+    type_check::{Locations, MirTypeckRegionConstraints},\n+    universal_regions::UniversalRegions,\n+    nll::ToRegionVid,\n+};\n+\n #[derive(Debug)]\n crate struct UniversalRegionRelations<'tcx> {\n     universal_regions: Rc<UniversalRegions<'tcx>>,"}, {"sha": "3df04909d0d2fc43cdc804b69cf6644e929c96dd", "filename": "src/librustc_mir/borrow_check/type_check/input_output.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Finput_output.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Finput_output.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Finput_output.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -7,14 +7,15 @@\n //! `RETURN_PLACE` the MIR arguments) are always fully normalized (and\n //! contain revealed `impl Trait` values).\n \n-use crate::borrow_check::nll::universal_regions::UniversalRegions;\n use rustc::infer::LateBoundRegionConversionTime;\n use rustc::mir::*;\n use rustc::ty::Ty;\n \n use rustc_index::vec::Idx;\n use syntax_pos::Span;\n \n+use crate::borrow_check::universal_regions::UniversalRegions;\n+\n use super::{Locations, TypeChecker};\n \n impl<'a, 'tcx> TypeChecker<'a, 'tcx> {"}, {"sha": "75e4f61245f5fd27092e86f4727f7bce91e03c53", "filename": "src/librustc_mir/borrow_check/type_check/liveness/local_use_map.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fliveness%2Flocal_use_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fliveness%2Flocal_use_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fliveness%2Flocal_use_map.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,10 +1,12 @@\n-use crate::borrow_check::nll::region_infer::values::{PointIndex, RegionValueElements};\n-use crate::util::liveness::{categorize, DefUse};\n use rustc::mir::visit::{PlaceContext, Visitor};\n use rustc::mir::{Local, Location, ReadOnlyBodyAndCache};\n use rustc_index::vec::{Idx, IndexVec};\n use rustc_data_structures::vec_linked_list as vll;\n \n+use crate::util::liveness::{categorize, DefUse};\n+\n+use crate::borrow_check::region_infer::values::{PointIndex, RegionValueElements};\n+\n /// A map that cross references each local with the locations where it\n /// is defined (assigned), used, or dropped. Used during liveness\n /// computation."}, {"sha": "ee3d89e741a5431cbc5b8624ac3183797a9c57b4", "filename": "src/librustc_mir/borrow_check/type_check/liveness/mod.rs", "status": "modified", "additions": 13, "deletions": 9, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fliveness%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fliveness%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fliveness%2Fmod.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,17 +1,21 @@\n-use crate::borrow_check::location::LocationTable;\n-use crate::borrow_check::nll::constraints::OutlivesConstraintSet;\n-use crate::borrow_check::nll::facts::{AllFacts, AllFactsExt};\n-use crate::borrow_check::nll::region_infer::values::RegionValueElements;\n-use crate::borrow_check::nll::universal_regions::UniversalRegions;\n-use crate::borrow_check::nll::ToRegionVid;\n-use crate::dataflow::move_paths::MoveData;\n-use crate::dataflow::FlowAtLocation;\n-use crate::dataflow::MaybeInitializedPlaces;\n use rustc::mir::{Body, Local, ReadOnlyBodyAndCache};\n use rustc::ty::{RegionVid, TyCtxt};\n use rustc_data_structures::fx::FxHashSet;\n use std::rc::Rc;\n \n+use crate::dataflow::move_paths::MoveData;\n+use crate::dataflow::FlowAtLocation;\n+use crate::dataflow::MaybeInitializedPlaces;\n+\n+use crate::borrow_check::{\n+    location::LocationTable,\n+    constraints::OutlivesConstraintSet,\n+    facts::{AllFacts, AllFactsExt},\n+    region_infer::values::RegionValueElements,\n+    universal_regions::UniversalRegions,\n+    nll::ToRegionVid,\n+};\n+\n use super::TypeChecker;\n \n mod local_use_map;"}, {"sha": "9afd25a0f7f7e99fe1d16dbb026c94801bc23537", "filename": "src/librustc_mir/borrow_check/type_check/liveness/trace.rs", "status": "modified", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fliveness%2Ftrace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fliveness%2Ftrace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fliveness%2Ftrace.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,11 +1,3 @@\n-use crate::borrow_check::nll::region_infer::values::{self, PointIndex, RegionValueElements};\n-use crate::borrow_check::nll::type_check::liveness::local_use_map::LocalUseMap;\n-use crate::borrow_check::nll::type_check::liveness::polonius;\n-use crate::borrow_check::nll::type_check::NormalizeLocation;\n-use crate::borrow_check::nll::type_check::TypeChecker;\n-use crate::dataflow::indexes::MovePathIndex;\n-use crate::dataflow::move_paths::MoveData;\n-use crate::dataflow::{FlowAtLocation, FlowsAtLocation, MaybeInitializedPlaces};\n use rustc::infer::canonical::QueryRegionConstraints;\n use rustc::mir::{BasicBlock, ConstraintCategory, Local, Location, ReadOnlyBodyAndCache};\n use rustc::traits::query::dropck_outlives::DropckOutlivesResult;\n@@ -16,6 +8,18 @@ use rustc_index::bit_set::HybridBitSet;\n use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n use std::rc::Rc;\n \n+use crate::dataflow::indexes::MovePathIndex;\n+use crate::dataflow::move_paths::MoveData;\n+use crate::dataflow::{FlowAtLocation, FlowsAtLocation, MaybeInitializedPlaces};\n+\n+use crate::borrow_check::{\n+    region_infer::values::{self, PointIndex, RegionValueElements},\n+    type_check::liveness::local_use_map::LocalUseMap,\n+    type_check::liveness::polonius,\n+    type_check::NormalizeLocation,\n+    type_check::TypeChecker,\n+};\n+\n /// This is the heart of the liveness computation. For each variable X\n /// that requires a liveness computation, it walks over all the uses\n /// of X and does a reverse depth-first search (\"trace\") through the"}, {"sha": "5d801a77b25f3b45ee76c877f297bb45a855bee7", "filename": "src/librustc_mir/borrow_check/type_check/mod.rs", "status": "modified", "additions": 24, "deletions": 1, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Fmod.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -55,9 +55,32 @@ use crate::dataflow::MaybeInitializedPlaces;\n use crate::dataflow::move_paths::MoveData;\n use crate::transform::promote_consts::should_suggest_const_in_array_repeat_expressions_attribute;\n \n+use crate::transform::promote_consts::should_suggest_const_in_array_repeat_expressions_attribute;\n+use crate::dataflow::move_paths::MoveData;\n+use crate::dataflow::FlowAtLocation;\n+use crate::dataflow::MaybeInitializedPlaces;\n+\n+use crate::borrow_check::{\n+    borrow_set::BorrowSet,\n+    location::LocationTable,\n+    constraints::{OutlivesConstraintSet, OutlivesConstraint},\n+    member_constraints::MemberConstraintSet,\n+    facts::AllFacts,\n+    region_infer::values::{\n+        LivenessValues, PlaceholderIndex, PlaceholderIndices, RegionValueElements,\n+    },\n+    region_infer::{ClosureRegionRequirementsExt, TypeTest},\n+    type_check::free_region_relations::{\n+        CreateResult, UniversalRegionRelations,\n+    },\n+    universal_regions::{DefiningTy, UniversalRegions},\n+    nll::ToRegionVid,\n+    renumber,\n+};\n+\n macro_rules! span_mirbug {\n     ($context:expr, $elem:expr, $($message:tt)*) => ({\n-        $crate::borrow_check::nll::type_check::mirbug(\n+        $crate::borrow_check::type_check::mirbug(\n             $context.tcx(),\n             $context.last_span,\n             &format!("}, {"sha": "80da8a82c51edabef71385a63b488665f6650379", "filename": "src/librustc_mir/borrow_check/type_check/relate_tys.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Frelate_tys.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Frelate_tys.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Ftype_check%2Frelate_tys.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,5 +1,3 @@\n-use crate::borrow_check::nll::constraints::OutlivesConstraint;\n-use crate::borrow_check::nll::type_check::{BorrowCheckContext, Locations};\n use rustc::infer::nll_relate::{TypeRelating, TypeRelatingDelegate, NormalizationStrategy};\n use rustc::infer::{InferCtxt, NLLRegionVariableOrigin};\n use rustc::mir::ConstraintCategory;\n@@ -8,6 +6,9 @@ use rustc::traits::DomainGoal;\n use rustc::ty::relate::TypeRelation;\n use rustc::ty::{self, Ty};\n \n+use crate::borrow_check::constraints::OutlivesConstraint;\n+use crate::borrow_check::type_check::{BorrowCheckContext, Locations};\n+\n /// Adds sufficient constraints to ensure that `a R b` where `R` depends on `v`:\n ///\n /// - \"Covariant\" `a <: b`"}, {"sha": "c0353039b680cd54b1c9dfa6c6a131a82a0b4cdf", "filename": "src/librustc_mir/borrow_check/universal_regions.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Funiversal_regions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fborrow_check%2Funiversal_regions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Funiversal_regions.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -25,7 +25,7 @@ use rustc_index::vec::{Idx, IndexVec};\n use rustc_errors::DiagnosticBuilder;\n use std::iter;\n \n-use super::ToRegionVid;\n+use crate::borrow_check::nll::ToRegionVid;\n \n #[derive(Debug)]\n pub struct UniversalRegions<'tcx> {"}, {"sha": "d4f26c265e64c7072189b61b08b1513dbc7d99da", "filename": "src/librustc_mir/dataflow/impls/borrows.rs", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fdataflow%2Fimpls%2Fborrows.rs", "raw_url": "https://github.com/rust-lang/rust/raw/697853117fc959793eb466d029086a7ba9ebc348/src%2Flibrustc_mir%2Fdataflow%2Fimpls%2Fborrows.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fdataflow%2Fimpls%2Fborrows.rs?ref=697853117fc959793eb466d029086a7ba9ebc348", "patch": "@@ -1,6 +1,3 @@\n-use crate::borrow_check::borrow_set::{BorrowSet, BorrowData};\n-use crate::borrow_check::place_ext::PlaceExt;\n-\n use rustc::mir::{self, Location, Place, PlaceBase, Body};\n use rustc::ty::{self, TyCtxt};\n use rustc::ty::RegionVid;\n@@ -10,9 +7,14 @@ use rustc_data_structures::fx::FxHashMap;\n use rustc_index::vec::{Idx, IndexVec};\n \n use crate::dataflow::{BitDenotation, BottomValue, GenKillSet};\n-use crate::borrow_check::nll::region_infer::RegionInferenceContext;\n-use crate::borrow_check::nll::ToRegionVid;\n-use crate::borrow_check::places_conflict;\n+\n+use crate::borrow_check::{\n+    borrow_set::{BorrowSet, BorrowData},\n+    place_ext::PlaceExt,\n+    region_infer::RegionInferenceContext,\n+    nll::ToRegionVid,\n+    places_conflict,\n+};\n \n use std::rc::Rc;\n "}]}