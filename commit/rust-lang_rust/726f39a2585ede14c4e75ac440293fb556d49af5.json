{"sha": "726f39a2585ede14c4e75ac440293fb556d49af5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcyNmYzOWEyNTg1ZWRlMTRjNGU3NWFjNDQwMjkzZmI1NTZkNDlhZjU=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-08-02T22:09:07Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-08-02T22:09:07Z"}, "message": "Rollup merge of #63196 - RalfJung:build_helper, r=alexcrichton\n\nbuild_helper: try less confusing method names\n\nbuild_helper's `*_silent` methods were likely called that way because they do not print the command being run to stdout. [In the original file this all makes sense](https://github.com/rust-lang/rust/commit/046e6874c47ec55e23b7a566bca51d2920562485#diff-5c3d6537a43ecae03014e118a7fe3321). But later it also gained `*_suppressed` methods and the difference between `silent` and `suppressed` is far from clear.\n\nSo rename `run` (which prints the command being run) to `run_verbose`. Then we can call the methods that just run a command and show its output but nothing extra `run` and `try_run`.\n\n`run_verbose` (formerly `run`) is unused from what I can tell. Should I remove it?\n\nr? @alexcrichton\nCc @Mark-Simulacrum\nAlso see https://github.com/rust-lang/rust/pull/63089#discussion_r308018890.", "tree": {"sha": "c4519bcb33d61336ba151cbddc47b83d221197c6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c4519bcb33d61336ba151cbddc47b83d221197c6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/726f39a2585ede14c4e75ac440293fb556d49af5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdRLSDCRBK7hj4Ov3rIwAAdHIIAEzMg1N820XiEzNQ+4eQu/xs\nqqlpnZeiD2r4e7YTDiVVikc2ErmCRzzeDgnWcKoPRav3f8QS/UE9bipyxGQSOTIs\nwoe7jXOiimDHXAxcHol7/I0ip955Gci+q9z5pT5e+lmymEk9daq1sg/9Hgc2b4QK\naKnJ+Ls46V0aMWG+ieKL1Y+GJ5Y9NLHBHSp6+ZPcR9w5qbojcJefqA3YnE49DEhf\nidSVM9cAzg6cHopwK99kixkbNvPnJzyVW0wX86SGzgfS6XmQGRhUOof6VmL7DxF9\nzep8AiyZKJMEJ40a8mwzpnVqjblZiN1HUj4jsjgUpFaGi6qUVpv23BPDuzTMZbw=\n=mBJm\n-----END PGP SIGNATURE-----\n", "payload": "tree c4519bcb33d61336ba151cbddc47b83d221197c6\nparent edc846f29eac8a45555f19a9fd951ed414398776\nparent 30f61dec30c01c260587760770da83b29d9cce6a\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1564783747 +0200\ncommitter GitHub <noreply@github.com> 1564783747 +0200\n\nRollup merge of #63196 - RalfJung:build_helper, r=alexcrichton\n\nbuild_helper: try less confusing method names\n\nbuild_helper's `*_silent` methods were likely called that way because they do not print the command being run to stdout. [In the original file this all makes sense](https://github.com/rust-lang/rust/commit/046e6874c47ec55e23b7a566bca51d2920562485#diff-5c3d6537a43ecae03014e118a7fe3321). But later it also gained `*_suppressed` methods and the difference between `silent` and `suppressed` is far from clear.\n\nSo rename `run` (which prints the command being run) to `run_verbose`. Then we can call the methods that just run a command and show its output but nothing extra `run` and `try_run`.\n\n`run_verbose` (formerly `run`) is unused from what I can tell. Should I remove it?\n\nr? @alexcrichton\nCc @Mark-Simulacrum\nAlso see https://github.com/rust-lang/rust/pull/63089#discussion_r308018890.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/726f39a2585ede14c4e75ac440293fb556d49af5", "html_url": "https://github.com/rust-lang/rust/commit/726f39a2585ede14c4e75ac440293fb556d49af5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/726f39a2585ede14c4e75ac440293fb556d49af5/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "edc846f29eac8a45555f19a9fd951ed414398776", "url": "https://api.github.com/repos/rust-lang/rust/commits/edc846f29eac8a45555f19a9fd951ed414398776", "html_url": "https://github.com/rust-lang/rust/commit/edc846f29eac8a45555f19a9fd951ed414398776"}, {"sha": "30f61dec30c01c260587760770da83b29d9cce6a", "url": "https://api.github.com/repos/rust-lang/rust/commits/30f61dec30c01c260587760770da83b29d9cce6a", "html_url": "https://github.com/rust-lang/rust/commit/30f61dec30c01c260587760770da83b29d9cce6a"}], "stats": {"total": 19, "additions": 10, "deletions": 9}, "files": [{"sha": "c8ea3157dc92b5b9dbb0f5fda43f8455ea3b97c1", "filename": "src/bootstrap/lib.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/726f39a2585ede14c4e75ac440293fb556d49af5/src%2Fbootstrap%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/726f39a2585ede14c4e75ac440293fb556d49af5/src%2Fbootstrap%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Flib.rs?ref=726f39a2585ede14c4e75ac440293fb556d49af5", "patch": "@@ -125,7 +125,7 @@ use std::os::unix::fs::symlink as symlink_file;\n use std::os::windows::fs::symlink_file;\n \n use build_helper::{\n-    mtime, output, run_silent, run_suppressed, t, try_run_silent, try_run_suppressed,\n+    mtime, output, run, run_suppressed, t, try_run, try_run_suppressed,\n };\n use filetime::FileTime;\n \n@@ -682,7 +682,7 @@ impl Build {\n     fn run(&self, cmd: &mut Command) {\n         if self.config.dry_run { return; }\n         self.verbose(&format!(\"running: {:?}\", cmd));\n-        run_silent(cmd)\n+        run(cmd)\n     }\n \n     /// Runs a command, printing out nice contextual information if it fails.\n@@ -698,7 +698,7 @@ impl Build {\n     fn try_run(&self, cmd: &mut Command) -> bool {\n         if self.config.dry_run { return true; }\n         self.verbose(&format!(\"running: {:?}\", cmd));\n-        try_run_silent(cmd)\n+        try_run(cmd)\n     }\n \n     /// Runs a command, printing out nice contextual information if it fails."}, {"sha": "1f81efd16a7e4ee35e809553d60cbf741f51650f", "filename": "src/bootstrap/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/726f39a2585ede14c4e75ac440293fb556d49af5/src%2Fbootstrap%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/726f39a2585ede14c4e75ac440293fb556d49af5/src%2Fbootstrap%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftest.rs?ref=726f39a2585ede14c4e75ac440293fb556d49af5", "patch": "@@ -1527,7 +1527,7 @@ impl Step for RustcGuide {\n     fn run(self, builder: &Builder<'_>) {\n         let src = builder.src.join(\"src/doc/rustc-guide\");\n         let mut rustbook_cmd = builder.tool_cmd(Tool::Rustbook);\n-        try_run_quiet(builder, rustbook_cmd.arg(\"linkcheck\").arg(&src));\n+        try_run(builder, rustbook_cmd.arg(\"linkcheck\").arg(&src));\n     }\n }\n "}, {"sha": "a1aa18922b5c5b9ccac1712c0033ce7e13e959d6", "filename": "src/build_helper/lib.rs", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/726f39a2585ede14c4e75ac440293fb556d49af5/src%2Fbuild_helper%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/726f39a2585ede14c4e75ac440293fb556d49af5/src%2Fbuild_helper%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbuild_helper%2Flib.rs?ref=726f39a2585ede14c4e75ac440293fb556d49af5", "patch": "@@ -45,18 +45,19 @@ pub fn restore_library_path() {\n     }\n }\n \n-pub fn run(cmd: &mut Command) {\n+/// Run the command, printing what we are running.\n+pub fn run_verbose(cmd: &mut Command) {\n     println!(\"running: {:?}\", cmd);\n-    run_silent(cmd);\n+    run(cmd);\n }\n \n-pub fn run_silent(cmd: &mut Command) {\n-    if !try_run_silent(cmd) {\n+pub fn run(cmd: &mut Command) {\n+    if !try_run(cmd) {\n         std::process::exit(1);\n     }\n }\n \n-pub fn try_run_silent(cmd: &mut Command) -> bool {\n+pub fn try_run(cmd: &mut Command) -> bool {\n     let status = match cmd.status() {\n         Ok(status) => status,\n         Err(e) => fail(&format!("}]}