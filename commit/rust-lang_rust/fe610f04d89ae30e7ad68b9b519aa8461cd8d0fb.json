{"sha": "fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZlNjEwZjA0ZDg5YWUzMGU3YWQ2OGI5YjUxOWFhODQ2MWNkOGQwZmI=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-03-29T00:01:42Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-03-29T00:02:54Z"}, "message": "use fresh vars in place of _|_ when incorrect # of params supplied", "tree": {"sha": "3914cd6dea89d941424dfdb5c799f93309d4f96b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3914cd6dea89d941424dfdb5c799f93309d4f96b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb", "html_url": "https://github.com/rust-lang/rust/commit/fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "23f92ea3701d515ac617c4c9ad18d4b25ecd4675", "url": "https://api.github.com/repos/rust-lang/rust/commits/23f92ea3701d515ac617c4c9ad18d4b25ecd4675", "html_url": "https://github.com/rust-lang/rust/commit/23f92ea3701d515ac617c4c9ad18d4b25ecd4675"}], "stats": {"total": 24, "additions": 19, "deletions": 5}, "files": [{"sha": "75add819e39196f632ef9b955d4c06d15b4113b1", "filename": "src/rustc/middle/typeck.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb/src%2Frustc%2Fmiddle%2Ftypeck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb/src%2Frustc%2Fmiddle%2Ftypeck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftypeck.rs?ref=fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb", "patch": "@@ -2362,11 +2362,13 @@ fn check_expr_with_unifier(fcx: @fn_ctxt, expr: @ast::expr, unify: unifier,\n                          } else {\n                              \"s were\"\n                          }]);\n-            // HACK: build an arguments list with dummy arguments to\n-            // check against\n-            let dummy = {mode: ast::expl(ast::by_ref),\n-                         ty: ty::mk_bot(fcx.ccx.tcx)};\n-            arg_tys = vec::from_elem(supplied_arg_count, dummy);\n+\n+            // Just use fresh type variables for the types,\n+            // since we don't know them.\n+            arg_tys = vec::from_fn(supplied_arg_count) {|_i|\n+                {mode: ast::expl(ast::by_ref),\n+                 ty: next_ty_var(fcx)}\n+            };\n         }\n \n         // Check the arguments."}, {"sha": "2aeda5a7652345fff01f27e15e6f5200aca28c68", "filename": "src/test/compile-fail/not-enough-arguments.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb/src%2Ftest%2Fcompile-fail%2Fnot-enough-arguments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb/src%2Ftest%2Fcompile-fail%2Fnot-enough-arguments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fnot-enough-arguments.rs?ref=fe610f04d89ae30e7ad68b9b519aa8461cd8d0fb", "patch": "@@ -0,0 +1,12 @@\n+// Check that the only error msg we report is the\n+// mismatch between the # of params, and not other\n+// unrelated errors.\n+\n+fn foo(a: int, b: int, c: int, d:int) {\n+  fail;\n+}\n+\n+fn main() {\n+  foo(1, 2, 3);\n+  //!^ ERROR this function takes 4 parameters but 3\n+}"}]}