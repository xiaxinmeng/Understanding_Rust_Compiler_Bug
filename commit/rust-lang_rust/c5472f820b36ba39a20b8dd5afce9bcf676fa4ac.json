{"sha": "c5472f820b36ba39a20b8dd5afce9bcf676fa4ac", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM1NDcyZjgyMGIzNmJhMzlhMjBiOGRkNWFmY2U5YmNmNjc2ZmE0YWM=", "commit": {"author": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2018-12-15T19:35:49Z"}, "committer": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2018-12-15T19:35:49Z"}, "message": "Merge #277\n\n277: use new clear-terminal feature r=matklad a=matklad\n\n\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "76254f3ce7803157a0a2832188da2f167f3d9076", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/76254f3ce7803157a0a2832188da2f167f3d9076"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c5472f820b36ba39a20b8dd5afce9bcf676fa4ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c5472f820b36ba39a20b8dd5afce9bcf676fa4ac", "html_url": "https://github.com/rust-lang/rust/commit/c5472f820b36ba39a20b8dd5afce9bcf676fa4ac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c5472f820b36ba39a20b8dd5afce9bcf676fa4ac/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "parents": [{"sha": "0156a538089828340a823ed02da8970bf4f1175b", "url": "https://api.github.com/repos/rust-lang/rust/commits/0156a538089828340a823ed02da8970bf4f1175b", "html_url": "https://github.com/rust-lang/rust/commit/0156a538089828340a823ed02da8970bf4f1175b"}, {"sha": "9cfd5ea2b44ece1d2ef521c44f7655bf05c4a61a", "url": "https://api.github.com/repos/rust-lang/rust/commits/9cfd5ea2b44ece1d2ef521c44f7655bf05c4a61a", "html_url": "https://github.com/rust-lang/rust/commit/9cfd5ea2b44ece1d2ef521c44f7655bf05c4a61a"}], "stats": {"total": 30, "additions": 15, "deletions": 15}, "files": [{"sha": "51c72f019e9d19d4525b3d79b1768526f5c051fa", "filename": "editors/code/package-lock.json", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/c5472f820b36ba39a20b8dd5afce9bcf676fa4ac/editors%2Fcode%2Fpackage-lock.json", "raw_url": "https://github.com/rust-lang/rust/raw/c5472f820b36ba39a20b8dd5afce9bcf676fa4ac/editors%2Fcode%2Fpackage-lock.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage-lock.json?ref=c5472f820b36ba39a20b8dd5afce9bcf676fa4ac", "patch": "@@ -2535,27 +2535,27 @@\n             \"integrity\": \"sha512-perEnXQdQOJMTDFNv+UF3h1Y0z4iSiaN9jIlb0OqIYgosPCZGYh/MCUlkFtV2668PL69lRDO32hmvL2yiidUYg==\"\n         },\n         \"vscode-languageclient\": {\n-            \"version\": \"5.1.1\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-languageclient/-/vscode-languageclient-5.1.1.tgz\",\n-            \"integrity\": \"sha512-jMxshi+BPRQFNG8GB00dJv7ldqMda0be26laYYll/udtJuHbog6RqK10GSxHWDN0PgY0b0m5fePyTk3bq8a0TA==\",\n+            \"version\": \"5.2.1\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-languageclient/-/vscode-languageclient-5.2.1.tgz\",\n+            \"integrity\": \"sha512-7jrS/9WnV0ruqPamN1nE7qCxn0phkH5LjSgSp9h6qoJGoeAKzwKz/PF6M+iGA/aklx4GLZg1prddhEPQtuXI1Q==\",\n             \"requires\": {\n                 \"semver\": \"5.5.1\",\n-                \"vscode-languageserver-protocol\": \"3.13.0\"\n+                \"vscode-languageserver-protocol\": \"3.14.1\"\n             }\n         },\n         \"vscode-languageserver-protocol\": {\n-            \"version\": \"3.13.0\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-protocol/-/vscode-languageserver-protocol-3.13.0.tgz\",\n-            \"integrity\": \"sha512-2ZGKwI+P2ovQll2PGAp+2UfJH+FK9eait86VBUdkPd9HRlm8e58aYT9pV/NYanHOcp3pL6x2yTLVCFMcTer0mg==\",\n+            \"version\": \"3.14.1\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-protocol/-/vscode-languageserver-protocol-3.14.1.tgz\",\n+            \"integrity\": \"sha512-IL66BLb2g20uIKog5Y2dQ0IiigW0XKrvmWiOvc0yXw80z3tMEzEnHjaGAb3ENuU7MnQqgnYJ1Cl2l9RvNgDi4g==\",\n             \"requires\": {\n                 \"vscode-jsonrpc\": \"4.0.0\",\n-                \"vscode-languageserver-types\": \"3.13.0\"\n+                \"vscode-languageserver-types\": \"3.14.0\"\n             }\n         },\n         \"vscode-languageserver-types\": {\n-            \"version\": \"3.13.0\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-types/-/vscode-languageserver-types-3.13.0.tgz\",\n-            \"integrity\": \"sha512-BnJIxS+5+8UWiNKCP7W3g9FlE7fErFw0ofP5BXJe7c2tl0VeWh+nNHFbwAS2vmVC4a5kYxHBjRy0UeOtziemVA==\"\n+            \"version\": \"3.14.0\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-types/-/vscode-languageserver-types-3.14.0.tgz\",\n+            \"integrity\": \"sha512-lTmS6AlAlMHOvPQemVwo3CezxBp0sNB95KNPkqp3Nxd5VFEnuG1ByM0zlRWos0zjO3ZWtkvhal0COgiV1xIA4A==\"\n         },\n         \"vso-node-api\": {\n             \"version\": \"6.1.2-preview\","}, {"sha": "d53e44b217019995ec3647f57ef5876864c7d923", "filename": "editors/code/package.json", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c5472f820b36ba39a20b8dd5afce9bcf676fa4ac/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/c5472f820b36ba39a20b8dd5afce9bcf676fa4ac/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=c5472f820b36ba39a20b8dd5afce9bcf676fa4ac", "patch": "@@ -13,7 +13,7 @@\n         \"Other\"\n     ],\n     \"engines\": {\n-        \"vscode\": \"^1.26.0\"\n+        \"vscode\": \"^1.30.0\"\n     },\n     \"scripts\": {\n         \"vscode:prepublish\": \"npm run compile\",\n@@ -31,7 +31,7 @@\n         \"singleQuote\": true\n     },\n     \"dependencies\": {\n-        \"vscode-languageclient\": \"^5.1.1\"\n+        \"vscode-languageclient\": \"^5.2.1\"\n     },\n     \"devDependencies\": {\n         \"@types/mocha\": \"^2.2.42\","}, {"sha": "be17c8944ffb61c7fe739a42a941edd480a08692", "filename": "editors/code/src/commands/runnables.ts", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c5472f820b36ba39a20b8dd5afce9bcf676fa4ac/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts", "raw_url": "https://github.com/rust-lang/rust/raw/c5472f820b36ba39a20b8dd5afce9bcf676fa4ac/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts?ref=c5472f820b36ba39a20b8dd5afce9bcf676fa4ac", "patch": "@@ -44,12 +44,11 @@ function createTask(spec: Runnable): vscode.Task {\n         env: spec.env\n     };\n \n-    const execCmd = `${definition.command} ${definition.args.join(' ')}`;\n     const execOption: vscode.ShellExecutionOptions = {\n         cwd: '.',\n         env: definition.env\n     };\n-    const exec = new vscode.ShellExecution(`clear; ${execCmd}`, execOption);\n+    const exec = new vscode.ShellExecution(definition.command, definition.args, execOption);\n \n     const f = vscode.workspace.workspaceFolders![0];\n     const t = new vscode.Task(\n@@ -60,6 +59,7 @@ function createTask(spec: Runnable): vscode.Task {\n         exec,\n         ['$rustc']\n     );\n+    t.presentationOptions.clear = true\n     return t;\n }\n "}]}