{"sha": "848cfe20a01b3d43d4c9838bd7d9b0da32dace42", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg0OGNmZTIwYTAxYjNkNDNkNGM5ODM4YmQ3ZDliMGRhMzJkYWNlNDI=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2016-09-13T19:27:26Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2016-09-13T19:27:26Z"}, "message": "Link test to compiler builtins and make unstable\n\nThis commit fixes a test which now needs to explicitly link to the\n`compiler_builtins` crate as well as makes the `compiler_builtins` crate\nunstable.", "tree": {"sha": "81fc8a0b269c46394dee3ec2b128a8da8ce05f83", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/81fc8a0b269c46394dee3ec2b128a8da8ce05f83"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/848cfe20a01b3d43d4c9838bd7d9b0da32dace42", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/848cfe20a01b3d43d4c9838bd7d9b0da32dace42", "html_url": "https://github.com/rust-lang/rust/commit/848cfe20a01b3d43d4c9838bd7d9b0da32dace42", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/848cfe20a01b3d43d4c9838bd7d9b0da32dace42/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "265620225d2fa122c27bb6221bf5afe1797e9e6e", "url": "https://api.github.com/repos/rust-lang/rust/commits/265620225d2fa122c27bb6221bf5afe1797e9e6e", "html_url": "https://github.com/rust-lang/rust/commit/265620225d2fa122c27bb6221bf5afe1797e9e6e"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "fbcf5204d2537df68196083b55dd94bc5ec83241", "filename": "src/libcompiler_builtins/lib.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/848cfe20a01b3d43d4c9838bd7d9b0da32dace42/src%2Flibcompiler_builtins%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/848cfe20a01b3d43d4c9838bd7d9b0da32dace42/src%2Flibcompiler_builtins%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcompiler_builtins%2Flib.rs?ref=848cfe20a01b3d43d4c9838bd7d9b0da32dace42", "patch": "@@ -11,6 +11,9 @@\n #![cfg_attr(not(stage0), feature(compiler_builtins))]\n #![no_std]\n #![cfg_attr(not(stage0), compiler_builtins)]\n-\n+#![unstable(feature = \"compiler_builtins_lib\",\n+            reason = \"internal implementation detail of rustc right now\",\n+            issue = \"0\")]\n #![crate_name = \"compiler_builtins\"]\n #![crate_type = \"rlib\"]\n+#![feature(staged_api)]"}, {"sha": "115a24fc83c22366b2d3a1bcfad69aac90cd2ef8", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/848cfe20a01b3d43d4c9838bd7d9b0da32dace42/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/848cfe20a01b3d43d4c9838bd7d9b0da32dace42/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=848cfe20a01b3d43d4c9838bd7d9b0da32dace42", "patch": "@@ -224,6 +224,7 @@\n #![feature(char_internals)]\n #![feature(collections)]\n #![feature(collections_bound)]\n+#![feature(compiler_builtins_lib)]\n #![feature(const_fn)]\n #![feature(core_float)]\n #![feature(core_intrinsics)]"}, {"sha": "b82fdeb8f3696e7a2efa66825f5c80e6a24a85b8", "filename": "src/test/run-make/no-duplicate-libs/bar.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/848cfe20a01b3d43d4c9838bd7d9b0da32dace42/src%2Ftest%2Frun-make%2Fno-duplicate-libs%2Fbar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/848cfe20a01b3d43d4c9838bd7d9b0da32dace42/src%2Ftest%2Frun-make%2Fno-duplicate-libs%2Fbar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fno-duplicate-libs%2Fbar.rs?ref=848cfe20a01b3d43d4c9838bd7d9b0da32dace42", "patch": "@@ -8,11 +8,12 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(lang_items, libc)]\n+#![feature(lang_items, libc, compiler_builtins_lib)]\n #![crate_type = \"dylib\"]\n #![no_std]\n \n extern crate libc;\n+extern crate compiler_builtins;\n \n #[no_mangle]\n pub extern fn bar() {}"}, {"sha": "cbdee356838de80ae6d918793d1f8b429da757d9", "filename": "src/test/run-make/no-duplicate-libs/foo.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/848cfe20a01b3d43d4c9838bd7d9b0da32dace42/src%2Ftest%2Frun-make%2Fno-duplicate-libs%2Ffoo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/848cfe20a01b3d43d4c9838bd7d9b0da32dace42/src%2Ftest%2Frun-make%2Fno-duplicate-libs%2Ffoo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fno-duplicate-libs%2Ffoo.rs?ref=848cfe20a01b3d43d4c9838bd7d9b0da32dace42", "patch": "@@ -8,11 +8,12 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(lang_items, libc)]\n+#![feature(lang_items, libc, compiler_builtins_lib)]\n #![no_std]\n #![crate_type = \"dylib\"]\n \n extern crate libc;\n+extern crate compiler_builtins;\n \n #[no_mangle]\n pub extern fn foo() {}"}]}