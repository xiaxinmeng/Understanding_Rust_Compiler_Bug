{"sha": "dba7f135495a4358472bac6c2704703e957ac68d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRiYTdmMTM1NDk1YTQzNTg0NzJiYWM2YzI3MDQ3MDNlOTU3YWM2OGQ=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-09-25T03:00:32Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-09-28T17:44:46Z"}, "message": "Apply #[inline(never)] to functions that we want in the backtrace", "tree": {"sha": "4c84a8a2c025e24576026f058a27d7f3b90be510", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4c84a8a2c025e24576026f058a27d7f3b90be510"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dba7f135495a4358472bac6c2704703e957ac68d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAl9yIQ4ACgkQtAh+UQ6Y\nsWR1rhAAoFWc2wViK5YAXesSTOfC+w40KNPO1t/f2cjrUOxd6H3/NlV5Hm2edV4L\nndH8XHls6kwElKnEFtsKDJWtd2baMOB+3o8EqBD+YWQCcoHdTc9Ex+Keajpbnb3D\nsCiz76APoqP+C79imf49a3GrP/wlDD5KrCJMzYPl47utinbhNLK2YSIeCBxLaUQa\n5WnXVv7MZVw1Lxq3yMjliNfE6e/js3tRq5OgOuKWcQj3FC5WwVj1hg0Y3iQzuhnJ\n+30WSOF3wX1qq0tnwDHNGen6bQjfbs6w8/w/wdSmBcEJLG2vFNjdMKQjEeXanBcg\n45sH6j9+gMPSH0z+qV0oWadX9ZRwby/7bDhQnQP1f7F8HIoyZzToMkqM+aTrKqq7\n1JiIhafg9RB5f8iJuWb7ZjsNjHZ7HVpQLKUVk/yxj70p8J8IRPrCTZcnoZ0fluKe\nE7YVBqmsz46iUKF5YoMzbN93fLAFUjjLkIW1Mp3LtJu2QEVNBqq1bscWNpst6YtD\nW/9KFyt2CnfFvaJDaItuu43ZczE7Z56KMLKJhmdMoH1r12kudCRUJh+bFnirZWTv\njQD8b2NxYcuf65E9TActYVVxLu7twJID20L4ORIbPXr+gBCzi0jEIi7kF9KRQwBi\nDLDyVNJ3WrlUc5VLjlBH2d9GG4KMxrWJ0QENVYqMG2AiRV+3UGA=\n=2kMo\n-----END PGP SIGNATURE-----", "payload": "tree 4c84a8a2c025e24576026f058a27d7f3b90be510\nparent 11e2dbd51c3241d890c8a980a011c0fa3e099011\nauthor Aaron Hill <aa1ronham@gmail.com> 1601002832 -0400\ncommitter Aaron Hill <aa1ronham@gmail.com> 1601315086 -0400\n\nApply #[inline(never)] to functions that we want in the backtrace\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dba7f135495a4358472bac6c2704703e957ac68d", "html_url": "https://github.com/rust-lang/rust/commit/dba7f135495a4358472bac6c2704703e957ac68d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dba7f135495a4358472bac6c2704703e957ac68d/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "11e2dbd51c3241d890c8a980a011c0fa3e099011", "url": "https://api.github.com/repos/rust-lang/rust/commits/11e2dbd51c3241d890c8a980a011c0fa3e099011", "html_url": "https://github.com/rust-lang/rust/commit/11e2dbd51c3241d890c8a980a011c0fa3e099011"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "1322e15fc9624f3b653c0e4bb9d1e2adf8d0d2d8", "filename": "tests/run-pass/backtrace-api.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/dba7f135495a4358472bac6c2704703e957ac68d/tests%2Frun-pass%2Fbacktrace-api.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dba7f135495a4358472bac6c2704703e957ac68d/tests%2Frun-pass%2Fbacktrace-api.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fbacktrace-api.rs?ref=dba7f135495a4358472bac6c2704703e957ac68d", "patch": "@@ -14,9 +14,9 @@ struct MiriFrame {\n     colno: u32\n }\n \n-fn func_a() -> Box<[*mut ()]> { func_b::<u8>() }\n-fn func_b<T>() -> Box<[*mut ()]> { func_c() }\n-fn func_c() -> Box<[*mut ()]> { unsafe { miri_get_backtrace(0) } }\n+#[inline(never)] fn func_a() -> Box<[*mut ()]> { func_b::<u8>() }\n+#[inline(never)] fn func_b<T>() -> Box<[*mut ()]> { func_c() }\n+#[inline(never)] fn func_c() -> Box<[*mut ()]> { unsafe { miri_get_backtrace(0) } }\n \n fn main() {\n     let mut seen_main = false;"}, {"sha": "d94a7ce4aec229b8df3fdeca3cecd8dcfaa78d2c", "filename": "tests/run-pass/backtrace-api.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/dba7f135495a4358472bac6c2704703e957ac68d/tests%2Frun-pass%2Fbacktrace-api.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/dba7f135495a4358472bac6c2704703e957ac68d/tests%2Frun-pass%2Fbacktrace-api.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fbacktrace-api.stderr?ref=dba7f135495a4358472bac6c2704703e957ac68d", "patch": "@@ -1,6 +1,6 @@\n-$DIR/backtrace-api.rs:19:42 (func_c)\n-$DIR/backtrace-api.rs:18:36 (func_b::<u8>)\n-$DIR/backtrace-api.rs:17:33 (func_a)\n+$DIR/backtrace-api.rs:19:59 (func_c)\n+$DIR/backtrace-api.rs:18:53 (func_b::<u8>)\n+$DIR/backtrace-api.rs:17:50 (func_a)\n $DIR/backtrace-api.rs:23:18 (main)\n RUSTLIB/src/rust/library/core/src/ops/function.rs:LL:COL (<fn() as std::ops::FnOnce<()>>::call_once - shim(fn()))\n RUSTLIB/src/rust/library/std/src/sys_common/backtrace.rs:LL:COL (std::sys_common::backtrace::__rust_begin_short_backtrace::<fn(), ()>)"}, {"sha": "0353f98ed76a449351fdb6cb7d825499a608e525", "filename": "tests/run-pass/backtrace-api.stdout", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/dba7f135495a4358472bac6c2704703e957ac68d/tests%2Frun-pass%2Fbacktrace-api.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/dba7f135495a4358472bac6c2704703e957ac68d/tests%2Frun-pass%2Fbacktrace-api.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fbacktrace-api.stdout?ref=dba7f135495a4358472bac6c2704703e957ac68d", "patch": "@@ -1,4 +1,4 @@\n-$DIR/backtrace-api.rs:19:42 (func_c)\n-$DIR/backtrace-api.rs:18:36 (func_b::<u8>)\n-$DIR/backtrace-api.rs:17:33 (func_a)\n+$DIR/backtrace-api.rs:19:59 (func_c)\n+$DIR/backtrace-api.rs:18:53 (func_b::<u8>)\n+$DIR/backtrace-api.rs:17:50 (func_a)\n $DIR/backtrace-api.rs:23:18 (main)"}]}