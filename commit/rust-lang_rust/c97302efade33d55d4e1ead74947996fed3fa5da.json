{"sha": "c97302efade33d55d4e1ead74947996fed3fa5da", "node_id": "C_kwDOAAsO6NoAKGM5NzMwMmVmYWRlMzNkNTVkNGUxZWFkNzQ5NDc5OTZmZWQzZmE1ZGE", "commit": {"author": {"name": "Xavier Denis", "email": "xldenis@gmail.com", "date": "2022-02-09T15:17:42Z"}, "committer": {"name": "Xavier Denis", "email": "xldenis@gmail.com", "date": "2022-02-09T16:27:58Z"}, "message": "Make a few cleanup MIR passes public", "tree": {"sha": "c36cc77c93754efc854bfaa562636ca6188bfaaa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c36cc77c93754efc854bfaa562636ca6188bfaaa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c97302efade33d55d4e1ead74947996fed3fa5da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c97302efade33d55d4e1ead74947996fed3fa5da", "html_url": "https://github.com/rust-lang/rust/commit/c97302efade33d55d4e1ead74947996fed3fa5da", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c97302efade33d55d4e1ead74947996fed3fa5da/comments", "author": {"login": "xldenis", "id": 451373, "node_id": "MDQ6VXNlcjQ1MTM3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/451373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xldenis", "html_url": "https://github.com/xldenis", "followers_url": "https://api.github.com/users/xldenis/followers", "following_url": "https://api.github.com/users/xldenis/following{/other_user}", "gists_url": "https://api.github.com/users/xldenis/gists{/gist_id}", "starred_url": "https://api.github.com/users/xldenis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xldenis/subscriptions", "organizations_url": "https://api.github.com/users/xldenis/orgs", "repos_url": "https://api.github.com/users/xldenis/repos", "events_url": "https://api.github.com/users/xldenis/events{/privacy}", "received_events_url": "https://api.github.com/users/xldenis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xldenis", "id": 451373, "node_id": "MDQ6VXNlcjQ1MTM3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/451373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xldenis", "html_url": "https://github.com/xldenis", "followers_url": "https://api.github.com/users/xldenis/followers", "following_url": "https://api.github.com/users/xldenis/following{/other_user}", "gists_url": "https://api.github.com/users/xldenis/gists{/gist_id}", "starred_url": "https://api.github.com/users/xldenis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xldenis/subscriptions", "organizations_url": "https://api.github.com/users/xldenis/orgs", "repos_url": "https://api.github.com/users/xldenis/repos", "events_url": "https://api.github.com/users/xldenis/events{/privacy}", "received_events_url": "https://api.github.com/users/xldenis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "128417f40f80ce585414bf5a017540447e6be775", "url": "https://api.github.com/repos/rust-lang/rust/commits/128417f40f80ce585414bf5a017540447e6be775", "html_url": "https://github.com/rust-lang/rust/commit/128417f40f80ce585414bf5a017540447e6be775"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "ca5c72e6b50acd3de178a95128387b6c25632377", "filename": "compiler/rustc_mir_transform/src/lib.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/c97302efade33d55d4e1ead74947996fed3fa5da/compiler%2Frustc_mir_transform%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c97302efade33d55d4e1ead74947996fed3fa5da/compiler%2Frustc_mir_transform%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Flib.rs?ref=c97302efade33d55d4e1ead74947996fed3fa5da", "patch": "@@ -42,7 +42,8 @@ mod add_retag;\n mod check_const_item_mutation;\n mod check_packed_ref;\n pub mod check_unsafety;\n-mod cleanup_post_borrowck;\n+// This pass is public to allow external drivers to perform MIR cleanup\n+pub mod cleanup_post_borrowck;\n mod const_debuginfo;\n mod const_goto;\n mod const_prop;\n@@ -64,7 +65,8 @@ mod match_branches;\n mod multiple_return_terminators;\n mod normalize_array_len;\n mod nrvo;\n-mod remove_false_edges;\n+// This pass is public to allow external drivers to perform MIR cleanup\n+pub mod remove_false_edges;\n mod remove_noop_landing_pads;\n mod remove_storage_markers;\n mod remove_uninit_drops;\n@@ -74,7 +76,8 @@ mod required_consts;\n mod reveal_all;\n mod separate_const_switch;\n mod shim;\n-mod simplify;\n+// This pass is public to allow external drivers to perform MIR cleanup\n+pub mod simplify;\n mod simplify_branches;\n mod simplify_comparison_integral;\n mod simplify_try;"}]}