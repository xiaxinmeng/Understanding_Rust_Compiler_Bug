{"sha": "eb0c996ee26880163896b32d0a4a8ff1f5221123", "node_id": "MDY6Q29tbWl0NzI0NzEyOmViMGM5OTZlZTI2ODgwMTYzODk2YjMyZDBhNGE4ZmYxZjUyMjExMjM=", "commit": {"author": {"name": "Jake Goulding", "email": "jake.goulding@gmail.com", "date": "2020-09-27T17:27:29Z"}, "committer": {"name": "Jake Goulding", "email": "jake.goulding@gmail.com", "date": "2020-10-12T20:36:46Z"}, "message": "Configure jemalloc for cross-compilation to aarch64-apple-darwin", "tree": {"sha": "6372a81995b97beac578980c25a7404009bdb427", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6372a81995b97beac578980c25a7404009bdb427"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eb0c996ee26880163896b32d0a4a8ff1f5221123", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eb0c996ee26880163896b32d0a4a8ff1f5221123", "html_url": "https://github.com/rust-lang/rust/commit/eb0c996ee26880163896b32d0a4a8ff1f5221123", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eb0c996ee26880163896b32d0a4a8ff1f5221123/comments", "author": {"login": "shepmaster", "id": 174509, "node_id": "MDQ6VXNlcjE3NDUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shepmaster", "html_url": "https://github.com/shepmaster", "followers_url": "https://api.github.com/users/shepmaster/followers", "following_url": "https://api.github.com/users/shepmaster/following{/other_user}", "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions", "organizations_url": "https://api.github.com/users/shepmaster/orgs", "repos_url": "https://api.github.com/users/shepmaster/repos", "events_url": "https://api.github.com/users/shepmaster/events{/privacy}", "received_events_url": "https://api.github.com/users/shepmaster/received_events", "type": "User", "site_admin": false}, "committer": {"login": "shepmaster", "id": 174509, "node_id": "MDQ6VXNlcjE3NDUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shepmaster", "html_url": "https://github.com/shepmaster", "followers_url": "https://api.github.com/users/shepmaster/followers", "following_url": "https://api.github.com/users/shepmaster/following{/other_user}", "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions", "organizations_url": "https://api.github.com/users/shepmaster/orgs", "repos_url": "https://api.github.com/users/shepmaster/repos", "events_url": "https://api.github.com/users/shepmaster/events{/privacy}", "received_events_url": "https://api.github.com/users/shepmaster/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5ae5b0e79035a2f858a22536156e1f9eb4b59cad", "url": "https://api.github.com/repos/rust-lang/rust/commits/5ae5b0e79035a2f858a22536156e1f9eb4b59cad", "html_url": "https://github.com/rust-lang/rust/commit/5ae5b0e79035a2f858a22536156e1f9eb4b59cad"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "828a3bc71b87b7a408071789f4703b9c8cb8c790", "filename": ".github/workflows/ci.yml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/eb0c996ee26880163896b32d0a4a8ff1f5221123/.github%2Fworkflows%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/eb0c996ee26880163896b32d0a4a8ff1f5221123/.github%2Fworkflows%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fci.yml?ref=eb0c996ee26880163896b32d0a4a8ff1f5221123", "patch": "@@ -315,6 +315,7 @@ jobs:\n               NO_LLVM_ASSERTIONS: 1\n               NO_DEBUG_ASSERTIONS: 1\n               DIST_REQUIRE_ALL_TOOLS: 1\n+              JEMALLOC_SYS_WITH_LG_PAGE: 14\n             os: macos-latest\n           - name: x86_64-msvc-1\n             env:"}, {"sha": "090b06f2a0a7fb5ee2f0b632ef301e5755c766e4", "filename": "src/ci/github-actions/ci.yml", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/eb0c996ee26880163896b32d0a4a8ff1f5221123/src%2Fci%2Fgithub-actions%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/eb0c996ee26880163896b32d0a4a8ff1f5221123/src%2Fci%2Fgithub-actions%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fgithub-actions%2Fci.yml?ref=eb0c996ee26880163896b32d0a4a8ff1f5221123", "patch": "@@ -482,6 +482,14 @@ jobs:\n               NO_LLVM_ASSERTIONS: 1\n               NO_DEBUG_ASSERTIONS: 1\n               DIST_REQUIRE_ALL_TOOLS: 1\n+              # Corresponds to 16K page size\n+              #\n+              # Shouldn't be needed if jemalloc-sys is updated to\n+              # handle this platform like iOS or if we build on\n+              # aarch64-apple-darwin itself.\n+              #\n+              # https://github.com/gnzlbg/jemallocator/blob/c27a859e98e3cb790dc269773d9da71a1e918458/jemalloc-sys/build.rs#L237\n+              JEMALLOC_SYS_WITH_LG_PAGE: 14\n             <<: *job-macos-xl\n \n           ######################"}]}