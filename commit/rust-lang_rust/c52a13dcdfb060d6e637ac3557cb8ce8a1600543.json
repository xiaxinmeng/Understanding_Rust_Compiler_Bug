{"sha": "c52a13dcdfb060d6e637ac3557cb8ce8a1600543", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM1MmExM2RjZGZiMDYwZDZlNjM3YWMzNTU3Y2I4Y2U4YTE2MDA1NDM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2018-12-16T13:08:25Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-12-16T13:08:25Z"}, "message": "Rollup merge of #56761 - estebank:path-display, r=zackmdavis\n\nSuggest using `.display()` when trying to print a `Path`\n\nFix #38997.", "tree": {"sha": "33da61f3563d51322f5402d0e3afb029f66c2eea", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/33da61f3563d51322f5402d0e3afb029f66c2eea"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c52a13dcdfb060d6e637ac3557cb8ce8a1600543", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcFk5JCRBK7hj4Ov3rIwAAdHIIAGsLReCS4g8zOByx2blEAsTZ\nWpy/4zUElGc3ynz3MFfyY/VAl/Rng1cKql1OXj+r8CTyrtYraTmu6ovMtheQ8geJ\nQbHWK7Kujoiz7iqx/ojkS0lF3e8y4TekaJj3uYup6ZSEViOneUX2uiWvcdr9HYjT\nqpWo/Ih3Ns7/wjSIMt1252A/0t7NGEBNJJTKZnQn3czs4auqCuKL3KAe8CyyGT9h\ntAPcOboVl2W6CIvYPJNTx3UncQV1SAlVA/sUHhxbMVPD7G4evEYqGhrFkzfnim7V\nbxPOvb1rbWQQPPbOpFASAR1ZUhCSZKbOkbRVT1kX9LP3/K2Zkroh4FoCL1gV7Pw=\n=ZSRP\n-----END PGP SIGNATURE-----\n", "payload": "tree 33da61f3563d51322f5402d0e3afb029f66c2eea\nparent af3f9072f541fd9d8da32d981e260df91772fbf8\nparent 33a34b06ac8828ffddc91b822fdec9f862658600\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1544965705 +0100\ncommitter GitHub <noreply@github.com> 1544965705 +0100\n\nRollup merge of #56761 - estebank:path-display, r=zackmdavis\n\nSuggest using `.display()` when trying to print a `Path`\n\nFix #38997.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c52a13dcdfb060d6e637ac3557cb8ce8a1600543", "html_url": "https://github.com/rust-lang/rust/commit/c52a13dcdfb060d6e637ac3557cb8ce8a1600543", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c52a13dcdfb060d6e637ac3557cb8ce8a1600543/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "af3f9072f541fd9d8da32d981e260df91772fbf8", "url": "https://api.github.com/repos/rust-lang/rust/commits/af3f9072f541fd9d8da32d981e260df91772fbf8", "html_url": "https://github.com/rust-lang/rust/commit/af3f9072f541fd9d8da32d981e260df91772fbf8"}, {"sha": "33a34b06ac8828ffddc91b822fdec9f862658600", "url": "https://api.github.com/repos/rust-lang/rust/commits/33a34b06ac8828ffddc91b822fdec9f862658600", "html_url": "https://github.com/rust-lang/rust/commit/33a34b06ac8828ffddc91b822fdec9f862658600"}], "stats": {"total": 30, "additions": 28, "deletions": 2}, "files": [{"sha": "8e0caa5ae330deb3f771b2055bae935b0aec9542", "filename": "src/libcore/fmt/mod.rs", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/c52a13dcdfb060d6e637ac3557cb8ce8a1600543/src%2Flibcore%2Ffmt%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c52a13dcdfb060d6e637ac3557cb8ce8a1600543/src%2Flibcore%2Ffmt%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ffmt%2Fmod.rs?ref=c52a13dcdfb060d6e637ac3557cb8ce8a1600543", "patch": "@@ -609,10 +609,15 @@ pub trait Debug {\n /// println!(\"The origin is: {}\", origin);\n /// ```\n #[rustc_on_unimplemented(\n+    on(\n+        _Self=\"std::path::Path\",\n+        label=\"`{Self}` cannot be formatted with the default formatter; call `.display()` on it\",\n+        note=\"call `.display()` or `.to_string_lossy()` to safely print paths, \\\n+              as they may contain non-Unicode data\"\n+    ),\n     message=\"`{Self}` doesn't implement `{Display}`\",\n     label=\"`{Self}` cannot be formatted with the default formatter\",\n-    note=\"in format strings you may be able to use `{{:?}}` \\\n-          (or {{:#?}} for pretty-print) instead\",\n+    note=\"in format strings you may be able to use `{{:?}}` (or {{:#?}} for pretty-print) instead\",\n )]\n #[doc(alias = \"{}\")]\n #[stable(feature = \"rust1\", since = \"1.0.0\")]"}, {"sha": "62fc9e79f7aa23537de36ec3ec1be43bb973f4ca", "filename": "src/test/ui/suggestions/path-display.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/c52a13dcdfb060d6e637ac3557cb8ce8a1600543/src%2Ftest%2Fui%2Fsuggestions%2Fpath-display.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c52a13dcdfb060d6e637ac3557cb8ce8a1600543/src%2Ftest%2Fui%2Fsuggestions%2Fpath-display.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fpath-display.rs?ref=c52a13dcdfb060d6e637ac3557cb8ce8a1600543", "patch": "@@ -0,0 +1,7 @@\n+use std::path::Path;\n+\n+fn main() {\n+    let path = Path::new(\"/tmp/foo/bar.txt\");\n+    println!(\"{}\", path);\n+    //~^ ERROR E0277\n+}"}, {"sha": "39d236af4f3ae8822b50b6457c09ab883e56776d", "filename": "src/test/ui/suggestions/path-display.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/c52a13dcdfb060d6e637ac3557cb8ce8a1600543/src%2Ftest%2Fui%2Fsuggestions%2Fpath-display.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c52a13dcdfb060d6e637ac3557cb8ce8a1600543/src%2Ftest%2Fui%2Fsuggestions%2Fpath-display.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fpath-display.stderr?ref=c52a13dcdfb060d6e637ac3557cb8ce8a1600543", "patch": "@@ -0,0 +1,14 @@\n+error[E0277]: `std::path::Path` doesn't implement `std::fmt::Display`\n+  --> $DIR/path-display.rs:5:20\n+   |\n+LL |     println!(\"{}\", path);\n+   |                    ^^^^ `std::path::Path` cannot be formatted with the default formatter; call `.display()` on it\n+   |\n+   = help: the trait `std::fmt::Display` is not implemented for `std::path::Path`\n+   = note: call `.display()` or `.to_string_lossy()` to safely print paths, as they may contain non-Unicode data\n+   = note: required because of the requirements on the impl of `std::fmt::Display` for `&std::path::Path`\n+   = note: required by `std::fmt::Display::fmt`\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0277`."}]}