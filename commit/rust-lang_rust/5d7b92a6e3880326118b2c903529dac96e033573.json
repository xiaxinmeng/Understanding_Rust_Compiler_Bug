{"sha": "5d7b92a6e3880326118b2c903529dac96e033573", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkN2I5MmE2ZTM4ODAzMjYxMThiMmM5MDM1MjlkYWM5NmUwMzM1NzM=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-12-19T14:59:32Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2017-01-12T07:40:53Z"}, "message": "fix travis", "tree": {"sha": "7bc499a8077b6716205c1fd1b6e3124acc490678", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7bc499a8077b6716205c1fd1b6e3124acc490678"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5d7b92a6e3880326118b2c903529dac96e033573", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJYdzMFAAoJEFbW7qD8Z6xGP5MQAIyn9tt6dGuJ6Bbzb4MOksXR\nAy1ui7vfubRol+8rVJqczRQUeYA4BdZJEwZsFEYHZfIH9mJRc603HjerUQGfgtWx\n0oXDXERh+KELMq3v2KP5CeHh1Od1fOf7UPPLN+A/xDMX3BlUL7L2pNIG7m21ZYqO\neZaTzIndK4JN3XV99rmxsO6oeuDzwqx3+42afHGkzKbta9OmZaNkvipStd64WPtB\nHWPVdTR2pEfX2jdYJuyT8gqQXfef1anr8IcecIAwNL9h+/Z/niatGbtwOVoR5z4w\ncYYbzjVzk0I51vBZ8CibO3DHN43drmRbxM9sKanmXj7C2Gk/tMDNzYnsTCbwpDBX\nS86rj5+zKsF9Likhuyy5PnddC+aSB+kBIMI92JqUQoyg8dD5Rnc12/osDjwc6WUA\nR7+e3YmuxUU/5+HvC7hZ8iz0IeZqtaYTkJWm0iUzNMwa2ipniubPIO0A767gDcds\nvJ7aaVskTVU5Jjv0vbEBd+e7NWe1UrRs8iQzTyonFS8wwc6oHZY/XH34vswv8szc\n4PT1u57vBzXeqkJCI51IuMcIbIG86tRd6UralS1TYMbhE/Si0bF7SOg21d0TUHq/\nISyNzpYePg1HDy+ZMozUl4s0xukBE5v1mQGQ4iOAAsIZpSP1NQxRa3qIZ8tFDSEE\nFlu5g+8IwzfEZLnfVWLa\n=j/1T\n-----END PGP SIGNATURE-----", "payload": "tree 7bc499a8077b6716205c1fd1b6e3124acc490678\nparent 32cd8efb977b0edec1ddbd1efa2db49dad6faf89\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1482159572 +0100\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1484206853 +0100\n\nfix travis"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5d7b92a6e3880326118b2c903529dac96e033573", "html_url": "https://github.com/rust-lang/rust/commit/5d7b92a6e3880326118b2c903529dac96e033573", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5d7b92a6e3880326118b2c903529dac96e033573/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "32cd8efb977b0edec1ddbd1efa2db49dad6faf89", "url": "https://api.github.com/repos/rust-lang/rust/commits/32cd8efb977b0edec1ddbd1efa2db49dad6faf89", "html_url": "https://github.com/rust-lang/rust/commit/32cd8efb977b0edec1ddbd1efa2db49dad6faf89"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "2d0e65c4c00734a6824d4151cf9cec37e4f259c2", "filename": "tests/compiletest.rs", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/5d7b92a6e3880326118b2c903529dac96e033573/tests%2Fcompiletest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d7b92a6e3880326118b2c903529dac96e033573/tests%2Fcompiletest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompiletest.rs?ref=5d7b92a6e3880326118b2c903529dac96e033573", "patch": "@@ -72,7 +72,14 @@ fn compile_test() {\n             .to_owned(),\n     };\n     run_pass();\n-    let host = toolchain.unwrap().splitn(2, '-').skip(1).next().unwrap();\n+    let host = Path::new(&sysroot).file_name()\n+                                  .unwrap()\n+                                  .to_str()\n+                                  .unwrap()\n+                                  .splitn(2, '-')\n+                                  .skip(1)\n+                                  .next()\n+                                  .unwrap();\n     for_all_targets(&sysroot, |target| {\n         miri_pass(\"tests/run-pass\", &target, host);\n         if let Ok(path) = std::env::var(\"MIRI_RUSTC_TEST\") {"}]}