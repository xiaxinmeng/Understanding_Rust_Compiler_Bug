{"sha": "34b995d9e2f46e10124ac67a6249d9ef022972a9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM0Yjk5NWQ5ZTJmNDZlMTAxMjRhYzY3YTYyNDlkOWVmMDIyOTcyYTk=", "commit": {"author": {"name": "Keegan McAllister", "email": "kmcallister@mozilla.com", "date": "2015-01-03T19:04:46Z"}, "committer": {"name": "Keegan McAllister", "email": "kmcallister@mozilla.com", "date": "2015-01-06T02:21:14Z"}, "message": "Add a test case for accidental macro re-export", "tree": {"sha": "3f3acab16c54279c35bdf7cfe5890248e3750d23", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3f3acab16c54279c35bdf7cfe5890248e3750d23"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/34b995d9e2f46e10124ac67a6249d9ef022972a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/34b995d9e2f46e10124ac67a6249d9ef022972a9", "html_url": "https://github.com/rust-lang/rust/commit/34b995d9e2f46e10124ac67a6249d9ef022972a9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/34b995d9e2f46e10124ac67a6249d9ef022972a9/comments", "author": {"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bbbb85a4ec029e961c01fa95725ee065621c07dc", "url": "https://api.github.com/repos/rust-lang/rust/commits/bbbb85a4ec029e961c01fa95725ee065621c07dc", "html_url": "https://github.com/rust-lang/rust/commit/bbbb85a4ec029e961c01fa95725ee065621c07dc"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "910fcd2e3671d55321f570f364cd4046bfc0e753", "filename": "src/test/auxiliary/macro_non_reexport_2.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/34b995d9e2f46e10124ac67a6249d9ef022972a9/src%2Ftest%2Fauxiliary%2Fmacro_non_reexport_2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/34b995d9e2f46e10124ac67a6249d9ef022972a9/src%2Ftest%2Fauxiliary%2Fmacro_non_reexport_2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fmacro_non_reexport_2.rs?ref=34b995d9e2f46e10124ac67a6249d9ef022972a9", "patch": "@@ -0,0 +1,19 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![crate_type = \"dylib\"]\n+\n+// Since we load a serialized macro with all its attributes, accidentally\n+// re-exporting a `#[macro_export] macro_rules!` is something of a concern!\n+//\n+// We avoid it at the moment only because of the order in which we do things.\n+\n+#[macro_use] #[no_link]\n+extern crate macro_reexport_1;"}, {"sha": "4a427f121fcab23cf6222fd6c309a0a9486780fc", "filename": "src/test/compile-fail/macro-no-implicit-reexport.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/34b995d9e2f46e10124ac67a6249d9ef022972a9/src%2Ftest%2Fcompile-fail%2Fmacro-no-implicit-reexport.rs", "raw_url": "https://github.com/rust-lang/rust/raw/34b995d9e2f46e10124ac67a6249d9ef022972a9/src%2Ftest%2Fcompile-fail%2Fmacro-no-implicit-reexport.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-no-implicit-reexport.rs?ref=34b995d9e2f46e10124ac67a6249d9ef022972a9", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// aux-build:macro_reexport_1.rs\n+// aux-build:macro_non_reexport_2.rs\n+// ignore-stage1\n+\n+#[macro_use] #[no_link]\n+extern crate macro_non_reexport_2;\n+\n+fn main() {\n+    assert_eq!(reexported!(), 3u);  //~ ERROR macro undefined\n+}"}]}