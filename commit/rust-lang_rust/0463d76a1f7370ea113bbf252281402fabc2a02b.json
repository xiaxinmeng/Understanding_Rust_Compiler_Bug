{"sha": "0463d76a1f7370ea113bbf252281402fabc2a02b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA0NjNkNzZhMWY3MzcwZWExMTNiYmYyNTIyODE0MDJmYWJjMmEwMmI=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-06-12T20:39:57Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-06-12T20:40:52Z"}, "message": "internal: cross-crate cov-marks", "tree": {"sha": "2898cf11df836457327495133e249f7fe6f7df5c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2898cf11df836457327495133e249f7fe6f7df5c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0463d76a1f7370ea113bbf252281402fabc2a02b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0463d76a1f7370ea113bbf252281402fabc2a02b", "html_url": "https://github.com/rust-lang/rust/commit/0463d76a1f7370ea113bbf252281402fabc2a02b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0463d76a1f7370ea113bbf252281402fabc2a02b/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "124123a53bfbd32be5d63315885d2d5c9e3a1ee6", "url": "https://api.github.com/repos/rust-lang/rust/commits/124123a53bfbd32be5d63315885d2d5c9e3a1ee6", "html_url": "https://github.com/rust-lang/rust/commit/124123a53bfbd32be5d63315885d2d5c9e3a1ee6"}], "stats": {"total": 27, "additions": 15, "deletions": 12}, "files": [{"sha": "e47b87964776446376477c34c854a8e44445b568", "filename": "Cargo.lock", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -245,9 +245,9 @@ dependencies = [\n \n [[package]]\n name = \"cov-mark\"\n-version = \"1.1.0\"\n+version = \"2.0.0-pre.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"9ffa3d3e0138386cd4361f63537765cac7ee40698028844635a54495a92f67f3\"\n+checksum = \"0d48d8f76bd9331f19fe2aaf3821a9f9fb32c3963e1e3d6ce82a8c09cef7444a\"\n \n [[package]]\n name = \"crc32fast\""}, {"sha": "bb86f6a736577cdf1ac537a62743ffde9328099b", "filename": "crates/hir_def/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fhir_def%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fhir_def%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2FCargo.toml?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -10,7 +10,7 @@ edition = \"2018\"\n doctest = false\n \n [dependencies]\n-cov-mark = { version = \"1.1\", features = [\"thread-local\"] }\n+cov-mark = \"2.0.0-pre.1\"\n dashmap = { version = \"4.0.2\", features = [\"raw-api\"] }\n log = \"0.4.8\"\n once_cell = \"1.3.1\""}, {"sha": "a1894e8d860a970fbe25d107657eee564a862ea2", "filename": "crates/hir_ty/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fhir_ty%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fhir_ty%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2FCargo.toml?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -10,7 +10,7 @@ edition = \"2018\"\n doctest = false\n \n [dependencies]\n-cov-mark = { version = \"1.1\", features = [\"thread-local\"] }\n+cov-mark = \"2.0.0-pre.1\"\n itertools = \"0.10.0\"\n arrayvec = \"0.7\"\n smallvec = \"1.2.0\""}, {"sha": "f26150b77fab404e95b6095e1d6ad8767d5fa4fb", "filename": "crates/hir_ty/src/diagnostics/decl_check.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fhir_ty%2Fsrc%2Fdiagnostics%2Fdecl_check.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fhir_ty%2Fsrc%2Fdiagnostics%2Fdecl_check.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Fdiagnostics%2Fdecl_check.rs?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -116,6 +116,7 @@ impl<'a> DeclValidator<'a> {\n     fn validate_func(&mut self, func: FunctionId) {\n         let data = self.db.function_data(func);\n         if data.is_in_extern_block() {\n+            cov_mark::hit!(extern_func_incorrect_case_ignored);\n             return;\n         }\n \n@@ -572,6 +573,7 @@ impl<'a> DeclValidator<'a> {\n     fn validate_static(&mut self, static_id: StaticId) {\n         let data = self.db.static_data(static_id);\n         if data.is_extern {\n+            cov_mark::hit!(extern_static_incorrect_case_ignored);\n             return;\n         }\n "}, {"sha": "f12928225f9d990637f6d509ca9b9771a4b7ecf5", "filename": "crates/ide/Cargo.toml", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2FCargo.toml?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -10,7 +10,7 @@ edition = \"2018\"\n doctest = false\n \n [dependencies]\n-cov-mark = { version = \"1.1\", features = [\"thread-local\"] }\n+cov-mark = \"2.0.0-pre.1\"\n either = \"1.5.3\"\n indexmap = \"1.4.0\"\n itertools = \"0.10.0\"\n@@ -39,4 +39,3 @@ hir = { path = \"../hir\", version = \"0.0.0\" }\n [dev-dependencies]\n test_utils = { path = \"../test_utils\" }\n expect-test = \"1.1\"\n-cov-mark = \"1.1.0\""}, {"sha": "4193aabf51fc6120c029754f91c9e8861cc6a2f0", "filename": "crates/ide/src/diagnostics.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide%2Fsrc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide%2Fsrc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fdiagnostics.rs?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -2571,6 +2571,8 @@ trait BAD_TRAIT {\n \n     #[test]\n     fn ignores_extern_items() {\n+        cov_mark::check!(extern_func_incorrect_case_ignored);\n+        cov_mark::check!(extern_static_incorrect_case_ignored);\n         check_diagnostics(\n             r#\"\n extern {"}, {"sha": "0d0d1605e23980841023e05c69c58769ab9152f8", "filename": "crates/ide_assists/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide_assists%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide_assists%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2FCargo.toml?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -10,7 +10,7 @@ edition = \"2018\"\n doctest = false\n \n [dependencies]\n-cov-mark = { version = \"1.1\", features = [\"thread-local\"] }\n+cov-mark = \"2.0.0-pre.1\"\n rustc-hash = \"1.1.0\"\n itertools = \"0.10.0\"\n either = \"1.6.1\""}, {"sha": "3c45fe1cb471f80f3a6866dfaaea799f1fa3eb9c", "filename": "crates/ide_completion/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide_completion%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide_completion%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_completion%2FCargo.toml?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -10,7 +10,7 @@ edition = \"2018\"\n doctest = false\n \n [dependencies]\n-cov-mark = { version = \"1.1\", features = [\"thread-local\"] }\n+cov-mark = \"2.0.0-pre.1\"\n itertools = \"0.10.0\"\n log = \"0.4.8\"\n rustc-hash = \"1.1.0\""}, {"sha": "e219c577a18b8e17e84f72a9a01b11077574c89d", "filename": "crates/ide_db/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide_db%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide_db%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_db%2FCargo.toml?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -10,7 +10,7 @@ edition = \"2018\"\n doctest = false\n \n [dependencies]\n-cov-mark = { version = \"1.1\", features = [\"thread-local\"] }\n+cov-mark = \"2.0.0-pre.1\"\n log = \"0.4.8\"\n rayon = \"1.5.0\"\n fst = { version = \"0.4\", default-features = false }"}, {"sha": "727d17baccc976f91f77a2cb8706722f17923e54", "filename": "crates/ide_ssr/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide_ssr%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fide_ssr%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2FCargo.toml?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -11,7 +11,7 @@ edition = \"2018\"\n doctest = false\n \n [dependencies]\n-cov-mark = { version = \"1.1\", features = [\"thread-local\"] }\n+cov-mark = \"2.0.0-pre.1\"\n rustc-hash = \"1.1.0\"\n itertools = \"0.10.0\"\n "}, {"sha": "f3092d9aa95ccec81899541d8fc2449ca1f021fb", "filename": "crates/mbe/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fmbe%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fmbe%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fmbe%2FCargo.toml?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -10,7 +10,7 @@ edition = \"2018\"\n doctest = false\n \n [dependencies]\n-cov-mark = { version = \"1.1\", features = [\"thread-local\"] }\n+cov-mark = \"2.0.0-pre.1\"\n rustc-hash = \"1.1.0\"\n smallvec = \"1.2.0\"\n log = \"0.4.8\""}, {"sha": "f1525a6495286605618da85cf7727076596cf4c5", "filename": "crates/syntax/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fsyntax%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0463d76a1f7370ea113bbf252281402fabc2a02b/crates%2Fsyntax%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2FCargo.toml?ref=0463d76a1f7370ea113bbf252281402fabc2a02b", "patch": "@@ -11,7 +11,7 @@ edition = \"2018\"\n doctest = false\n \n [dependencies]\n-cov-mark = { version = \"1.1\", features = [\"thread-local\"] }\n+cov-mark = \"2.0.0-pre.1\"\n itertools = \"0.10.0\"\n rowan = \"=0.13.0-pre.6\"\n rustc_lexer = { version = \"721.0.0\", package = \"rustc-ap-rustc_lexer\" }"}]}