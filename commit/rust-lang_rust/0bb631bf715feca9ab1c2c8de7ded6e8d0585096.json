{"sha": "0bb631bf715feca9ab1c2c8de7ded6e8d0585096", "node_id": "C_kwDOAAsO6NoAKDBiYjYzMWJmNzE1ZmVjYTlhYjFjMmM4ZGU3ZGVkNmU4ZDA1ODUwOTY", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2022-03-05T22:53:24Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2022-03-05T22:53:24Z"}, "message": "Simplify", "tree": {"sha": "f4cbda8a8f1f04b6594d73a7eedc339bc27740de", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f4cbda8a8f1f04b6594d73a7eedc339bc27740de"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0bb631bf715feca9ab1c2c8de7ded6e8d0585096", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0bb631bf715feca9ab1c2c8de7ded6e8d0585096", "html_url": "https://github.com/rust-lang/rust/commit/0bb631bf715feca9ab1c2c8de7ded6e8d0585096", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0bb631bf715feca9ab1c2c8de7ded6e8d0585096/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b454f11f381ab1122772a0c48c8265baa91c33d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/b454f11f381ab1122772a0c48c8265baa91c33d1", "html_url": "https://github.com/rust-lang/rust/commit/b454f11f381ab1122772a0c48c8265baa91c33d1"}], "stats": {"total": 15, "additions": 6, "deletions": 9}, "files": [{"sha": "550f12dabdcec9e7a15a7ead6f82bd1d2ff2f959", "filename": "crates/hir_def/src/path/lower.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0bb631bf715feca9ab1c2c8de7ded6e8d0585096/crates%2Fhir_def%2Fsrc%2Fpath%2Flower.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0bb631bf715feca9ab1c2c8de7ded6e8d0585096/crates%2Fhir_def%2Fsrc%2Fpath%2Flower.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2Fsrc%2Fpath%2Flower.rs?ref=0bb631bf715feca9ab1c2c8de7ded6e8d0585096", "patch": "@@ -3,7 +3,7 @@\n use crate::intern::Interned;\n \n use either::Either;\n-use hir_expand::name::{known, name, AsName};\n+use hir_expand::name::{name, AsName};\n use syntax::ast::{self, AstNode, HasTypeBounds};\n \n use super::AssociatedTypeBinding;\n@@ -54,7 +54,7 @@ pub(super) fn lower_path(mut path: ast::Path, ctx: &LowerCtx) -> Option<Path> {\n                 }\n             }\n             ast::PathSegmentKind::SelfTypeKw => {\n-                segments.push(known::SELF_TYPE);\n+                segments.push(name![Self]);\n                 generic_args.push(None)\n             }\n             ast::PathSegmentKind::Type { type_ref, trait_ref } => {"}, {"sha": "5e264d0398d8a9a3f37524621e7e83d13a655adf", "filename": "crates/hir_expand/src/mod_path.rs", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/0bb631bf715feca9ab1c2c8de7ded6e8d0585096/crates%2Fhir_expand%2Fsrc%2Fmod_path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0bb631bf715feca9ab1c2c8de7ded6e8d0585096/crates%2Fhir_expand%2Fsrc%2Fmod_path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_expand%2Fsrc%2Fmod_path.rs?ref=0bb631bf715feca9ab1c2c8de7ded6e8d0585096", "patch": "@@ -167,13 +167,10 @@ fn convert_path(\n             }\n         }\n         ast::PathSegmentKind::SelfTypeKw => {\n-            let mut res = prefix.unwrap_or_else(|| {\n-                ModPath::from_kind(\n-                    segment.coloncolon_token().map_or(PathKind::Plain, |_| PathKind::Abs),\n-                )\n-            });\n-            res.segments.push(known::SELF_TYPE);\n-            res\n+            if prefix.is_some() {\n+                return None;\n+            }\n+            ModPath::from_segments(PathKind::Plain, Some(known::SELF_TYPE))\n         }\n         ast::PathSegmentKind::CrateKw => {\n             if prefix.is_some() {"}]}