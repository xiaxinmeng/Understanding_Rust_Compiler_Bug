{"sha": "a3431335118a00130de16857dc3d5e6d0c90c074", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEzNDMxMzM1MTE4YTAwMTMwZGUxNjg1N2RjM2Q1ZTZkMGM5MGMwNzQ=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2010-07-02T18:54:07Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2010-07-02T18:57:04Z"}, "message": "Allow formatting individual decl_params", "tree": {"sha": "219cef2e9e42c21ed1a6b51f579aecba00a5a769", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/219cef2e9e42c21ed1a6b51f579aecba00a5a769"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a3431335118a00130de16857dc3d5e6d0c90c074", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a3431335118a00130de16857dc3d5e6d0c90c074", "html_url": "https://github.com/rust-lang/rust/commit/a3431335118a00130de16857dc3d5e6d0c90c074", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a3431335118a00130de16857dc3d5e6d0c90c074/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "49656f68b8fbb8dc4bba552d9dd1fe8f7245033c", "url": "https://api.github.com/repos/rust-lang/rust/commits/49656f68b8fbb8dc4bba552d9dd1fe8f7245033c", "html_url": "https://github.com/rust-lang/rust/commit/49656f68b8fbb8dc4bba552d9dd1fe8f7245033c"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "7f5774272eb4d93937933f55116ded8b8a863e60", "filename": "src/boot/fe/ast.ml", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/a3431335118a00130de16857dc3d5e6d0c90c074/src%2Fboot%2Ffe%2Fast.ml", "raw_url": "https://github.com/rust-lang/rust/raw/a3431335118a00130de16857dc3d5e6d0c90c074/src%2Fboot%2Ffe%2Fast.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Ffe%2Fast.ml?ref=a3431335118a00130de16857dc3d5e6d0c90c074", "patch": "@@ -1180,6 +1180,13 @@ and fmt_stmt_body (ff:Format.formatter) (s:stmt) : unit =\n       | STMT_slice _ -> fmt ff \"?stmt_slice?\"\n   end\n \n+and fmt_decl_param (ff:Format.formatter) (param:ty_param) : unit =\n+  let (ident, (i, e)) = param in\n+  fmt_effect ff e;\n+  if e <> PURE then fmt ff \" \";\n+  fmt_ident ff ident;\n+  fmt ff \"=<p#%d>\" i\n+\n and fmt_decl_params (ff:Format.formatter) (params:ty_param array) : unit =\n   if Array.length params = 0\n   then ()\n@@ -1190,11 +1197,7 @@ and fmt_decl_params (ff:Format.formatter) (params:ty_param array) : unit =\n       do\n         if i <> 0\n         then fmt ff \", \";\n-        let (ident, (i, e)) = params.(i) in\n-          fmt_effect ff e;\n-          if e <> PURE then fmt ff \" \";\n-          fmt_ident ff ident;\n-          fmt ff \"=<p#%d>\" i\n+        fmt_decl_param ff params.(i)\n       done;\n       fmt ff \"]\"\n     end;\n@@ -1347,6 +1350,7 @@ let sprintf_tag = sprintf_fmt fmt_tag;;\n let sprintf_carg = sprintf_fmt fmt_carg;;\n let sprintf_constr = sprintf_fmt fmt_constr;;\n let sprintf_mod_items = sprintf_fmt fmt_mod_items;;\n+let sprintf_decl_param = sprintf_fmt fmt_decl_param;;\n let sprintf_decl_params = sprintf_fmt fmt_decl_params;;\n let sprintf_app_args = sprintf_fmt fmt_app_args;;\n "}]}