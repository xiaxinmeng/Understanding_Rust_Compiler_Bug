{"sha": "57f7abaf1974b012de39910abadd7487aa14e98f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU3ZjdhYmFmMTk3NGIwMTJkZTM5OTEwYWJhZGQ3NDg3YWExNGU5OGY=", "commit": {"author": {"name": "John Clements", "email": "clements@racket-lang.org", "date": "2013-09-10T03:50:41Z"}, "committer": {"name": "John Clements", "email": "clements@racket-lang.org", "date": "2013-09-10T03:50:41Z"}, "message": "undo cowardly hiding of eq-check\n\nI've reversed my thinking on this restrictive definition of eq after\ntwo separate bugs were hidden by commenting it out; it's better to\nget ICEs than SIGSEGV's, any day.\n\nRE-ENABLING ICE MACHINE!", "tree": {"sha": "7a4966d0720fda853c8770632d02ca5130239049", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7a4966d0720fda853c8770632d02ca5130239049"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/57f7abaf1974b012de39910abadd7487aa14e98f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/57f7abaf1974b012de39910abadd7487aa14e98f", "html_url": "https://github.com/rust-lang/rust/commit/57f7abaf1974b012de39910abadd7487aa14e98f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/57f7abaf1974b012de39910abadd7487aa14e98f/comments", "author": {"login": "jbclements", "id": 226617, "node_id": "MDQ6VXNlcjIyNjYxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/226617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbclements", "html_url": "https://github.com/jbclements", "followers_url": "https://api.github.com/users/jbclements/followers", "following_url": "https://api.github.com/users/jbclements/following{/other_user}", "gists_url": "https://api.github.com/users/jbclements/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbclements/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbclements/subscriptions", "organizations_url": "https://api.github.com/users/jbclements/orgs", "repos_url": "https://api.github.com/users/jbclements/repos", "events_url": "https://api.github.com/users/jbclements/events{/privacy}", "received_events_url": "https://api.github.com/users/jbclements/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jbclements", "id": 226617, "node_id": "MDQ6VXNlcjIyNjYxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/226617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbclements", "html_url": "https://github.com/jbclements", "followers_url": "https://api.github.com/users/jbclements/followers", "following_url": "https://api.github.com/users/jbclements/following{/other_user}", "gists_url": "https://api.github.com/users/jbclements/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbclements/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbclements/subscriptions", "organizations_url": "https://api.github.com/users/jbclements/orgs", "repos_url": "https://api.github.com/users/jbclements/repos", "events_url": "https://api.github.com/users/jbclements/events{/privacy}", "received_events_url": "https://api.github.com/users/jbclements/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "42b1694cca43524ac2cd28ccf0bd1cb465887754", "url": "https://api.github.com/repos/rust-lang/rust/commits/42b1694cca43524ac2cd28ccf0bd1cb465887754", "html_url": "https://github.com/rust-lang/rust/commit/42b1694cca43524ac2cd28ccf0bd1cb465887754"}], "stats": {"total": 15, "additions": 2, "deletions": 13}, "files": [{"sha": "3604762728965f11a2243ece93488f46d601bf76", "filename": "src/libsyntax/ast.rs", "status": "modified", "additions": 2, "deletions": 13, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/57f7abaf1974b012de39910abadd7487aa14e98f/src%2Flibsyntax%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/57f7abaf1974b012de39910abadd7487aa14e98f/src%2Flibsyntax%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fast.rs?ref=57f7abaf1974b012de39910abadd7487aa14e98f", "patch": "@@ -28,25 +28,15 @@ use extra::serialize::{Encodable, Decodable, Encoder, Decoder};\n // table) and a SyntaxContext to track renaming and\n // macro expansion per Flatt et al., \"Macros\n // That Work Together\"\n-#[deriving(Clone, Eq, IterBytes, ToStr)]\n+#[deriving(Clone, IterBytes, ToStr)]\n pub struct Ident { name: Name, ctxt: SyntaxContext }\n \n impl Ident {\n     /// Construct an identifier with the given name and an empty context:\n     pub fn new(name: Name) -> Ident { Ident {name: name, ctxt: EMPTY_CTXT}}\n }\n \n-// defining eq in this way is a way of guaranteeing that later stages of the\n-// compiler don't compare identifiers unhygienically. Unfortunately, some tests\n-// (specifically debuginfo in no-opt) want to do these comparisons, and that\n-// seems fine.  If only I could find a nice way to statically ensure that\n-// the compiler \"proper\" never compares identifiers.... I'm leaving this\n-// code here (commented out) for potential use in debugging. Specifically, if\n-// there's a bug where \"identifiers aren't matching\", it may be because\n-// they should be compared using mtwt_resolve. In such a case, re-enabling this\n-// code (and disabling deriving(Eq) for Idents) could help to isolate the\n-// problem\n-/* impl Eq for Ident {\n+impl Eq for Ident {\n     fn eq(&self, other: &Ident) -> bool {\n         if (self.ctxt == other.ctxt) {\n             self.name == other.name\n@@ -64,7 +54,6 @@ impl Ident {\n         ! self.eq(other)\n     }\n }\n-*/\n \n /// A SyntaxContext represents a chain of macro-expandings\n /// and renamings. Each macro expansion corresponds to"}]}