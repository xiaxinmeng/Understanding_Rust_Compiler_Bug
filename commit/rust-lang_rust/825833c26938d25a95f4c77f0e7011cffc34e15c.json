{"sha": "825833c26938d25a95f4c77f0e7011cffc34e15c", "node_id": "C_kwDOAAsO6NoAKDgyNTgzM2MyNjkzOGQyNWE5NWY0Yzc3ZjBlNzAxMWNmZmMzNGUxNWM", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-03-19T08:11:09Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-03-19T08:11:09Z"}, "message": "Auto merge of #14378 - lowr:patch/bump-chalk-0.89, r=lnicola\n\ninternal: Bump chalk\n\nThis release fixes a problem around GATs (rust-lang/chalk#790). While a regression test is added in chalk's own test suite, I also added one in ours so that we can catch regressions when we move away from chalk.\n\nFixes #14164", "tree": {"sha": "0cab851d983b0bb82234399fee4568e589274a1a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0cab851d983b0bb82234399fee4568e589274a1a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/825833c26938d25a95f4c77f0e7011cffc34e15c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/825833c26938d25a95f4c77f0e7011cffc34e15c", "html_url": "https://github.com/rust-lang/rust/commit/825833c26938d25a95f4c77f0e7011cffc34e15c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/825833c26938d25a95f4c77f0e7011cffc34e15c/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c05f55f0c9e9bec28464b329194fe244ca2c7a9", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c05f55f0c9e9bec28464b329194fe244ca2c7a9", "html_url": "https://github.com/rust-lang/rust/commit/7c05f55f0c9e9bec28464b329194fe244ca2c7a9"}, {"sha": "e12460bbca48ec354c40caf51603ddc9f97c17a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/e12460bbca48ec354c40caf51603ddc9f97c17a5", "html_url": "https://github.com/rust-lang/rust/commit/e12460bbca48ec354c40caf51603ddc9f97c17a5"}], "stats": {"total": 56, "additions": 44, "deletions": 12}, "files": [{"sha": "25242c6028a476fbbc51560e1cbe486d7f489642", "filename": "Cargo.lock", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/825833c26938d25a95f4c77f0e7011cffc34e15c/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/825833c26938d25a95f4c77f0e7011cffc34e15c/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=825833c26938d25a95f4c77f0e7011cffc34e15c", "patch": "@@ -169,9 +169,9 @@ checksum = \"baf1de4339761588bc0619e3cbc0120ee582ebb74b53b4efbf79117bd2da40fd\"\n \n [[package]]\n name = \"chalk-derive\"\n-version = \"0.88.0\"\n+version = \"0.89.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"4df80a3fbc1f0e59f560eeeebca94bf655566a8ad3023c210a109deb6056455a\"\n+checksum = \"ea176c50987dc4765961aa165001e8eb5a722a26308c5797a47303ea91686aab\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\",\n@@ -181,9 +181,9 @@ dependencies = [\n \n [[package]]\n name = \"chalk-ir\"\n-version = \"0.88.0\"\n+version = \"0.89.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f39e5272016916956298cceea5147006f897972c274a768ed4d6e074efe5d3fb\"\n+checksum = \"473b480241695428c14e8f84f1c9a47ef232450a50faf3a4041e5c9dc11e0a3b\"\n dependencies = [\n  \"bitflags\",\n  \"chalk-derive\",\n@@ -192,9 +192,9 @@ dependencies = [\n \n [[package]]\n name = \"chalk-recursive\"\n-version = \"0.88.0\"\n+version = \"0.89.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d9d60b42ad7478d3e027e2f9ea4e99fbbb8fdee0c8c3cf068be269f57e603618\"\n+checksum = \"6764b4fe67cac3a3758185084efbfbd39bf0352795824ba849ddd2b64cd4bb28\"\n dependencies = [\n  \"chalk-derive\",\n  \"chalk-ir\",\n@@ -205,9 +205,9 @@ dependencies = [\n \n [[package]]\n name = \"chalk-solve\"\n-version = \"0.88.0\"\n+version = \"0.89.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"ab30620ea5b36819525eaab2204f4b8e1842fc7ee36826424a28bef59ae7fecf\"\n+checksum = \"55a7e6160966eceb6e7dcc2f479a2af4c477aaf5bccbc640d82515995ab1a6cc\"\n dependencies = [\n  \"chalk-derive\",\n  \"chalk-ir\","}, {"sha": "9b3296df2508a4ba684afb05291ceb82e07f2b1c", "filename": "crates/hir-ty/Cargo.toml", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/825833c26938d25a95f4c77f0e7011cffc34e15c/crates%2Fhir-ty%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/825833c26938d25a95f4c77f0e7011cffc34e15c/crates%2Fhir-ty%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-ty%2FCargo.toml?ref=825833c26938d25a95f4c77f0e7011cffc34e15c", "patch": "@@ -22,10 +22,10 @@ either = \"1.7.0\"\n tracing = \"0.1.35\"\n rustc-hash = \"1.1.0\"\n scoped-tls = \"1.0.0\"\n-chalk-solve = { version = \"0.88.0\", default-features = false }\n-chalk-ir = \"0.88.0\"\n-chalk-recursive = { version = \"0.88.0\", default-features = false }\n-chalk-derive = \"0.88.0\"\n+chalk-solve = { version = \"0.89.0\", default-features = false }\n+chalk-ir = \"0.89.0\"\n+chalk-recursive = { version = \"0.89.0\", default-features = false }\n+chalk-derive = \"0.89.0\"\n la-arena = { version = \"0.3.0\", path = \"../../lib/la-arena\" }\n once_cell = \"1.17.0\"\n typed-arena = \"2.0.1\""}, {"sha": "689f0da44f68036178bf666b6ef8b6ac76a2fe13", "filename": "crates/hir-ty/src/tests/regression.rs", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/825833c26938d25a95f4c77f0e7011cffc34e15c/crates%2Fhir-ty%2Fsrc%2Ftests%2Fregression.rs", "raw_url": "https://github.com/rust-lang/rust/raw/825833c26938d25a95f4c77f0e7011cffc34e15c/crates%2Fhir-ty%2Fsrc%2Ftests%2Fregression.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-ty%2Fsrc%2Ftests%2Fregression.rs?ref=825833c26938d25a95f4c77f0e7011cffc34e15c", "patch": "@@ -1756,3 +1756,35 @@ const C: usize = 2 + 2;\n \"#,\n     );\n }\n+\n+#[test]\n+fn regression_14164() {\n+    check_types(\n+        r#\"\n+trait Rec {\n+    type K;\n+    type Rebind<Tok>: Rec<K = Tok>;\n+}\n+\n+trait Expr<K> {\n+    type Part: Rec<K = K>;\n+    fn foo(_: <Self::Part as Rec>::Rebind<i32>) {}\n+}\n+\n+struct Head<K>(K);\n+impl<K> Rec for Head<K> {\n+    type K = K;\n+    type Rebind<Tok> = Head<Tok>;\n+}\n+\n+fn test<E>()\n+where\n+    E: Expr<usize, Part = Head<usize>>,\n+{\n+    let head;\n+      //^^^^ Head<i32>\n+    E::foo(head);\n+}\n+\"#,\n+    );\n+}"}]}