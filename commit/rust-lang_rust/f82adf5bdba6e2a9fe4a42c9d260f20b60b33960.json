{"sha": "f82adf5bdba6e2a9fe4a42c9d260f20b60b33960", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY4MmFkZjViZGJhNmUyYTlmZTRhNDJjOWQyNjBmMjBiNjBiMzM5NjA=", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2020-10-22T23:08:26Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2020-10-22T23:11:57Z"}, "message": "Add test of incompatible match arm types with multiline arm", "tree": {"sha": "d2e21c2f76ff57f988bd5e24464fe56c194be6b6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d2e21c2f76ff57f988bd5e24464fe56c194be6b6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f82adf5bdba6e2a9fe4a42c9d260f20b60b33960", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAl+SEb0ACgkQ+boUO5X/\nbYIc5A/+KN4o77XSp4s24PjitWl6eMeK+F+xg/fLN0LjR6VzGZOcwLTbzJySghYR\nxo4vw/ZslI8R5yipQPctGkTrqqcevdZs+fLXqPXr+lQ7o0K8P5un4OfKJ5KL5tZc\nZMQPmYFJ70eI1qlwyJ/fDsijf4Doq96SHO1cGF3BYgLICRxaZA3bJh1DzhONDFJS\nsDHy5L91fDh99fnNMLDq9bCep95ThdgO70g0YeZoFlvN/u0maaaVN0osoaccbnpW\n9moFKcAJdMaegvTv89yrPGmERXFFndDQLRq6IpdbXijrVTCsOfEOWjg/o3MaRiH4\nYHH13+k0MfzDCfWKsE/qlJSdvZon/KA4X/bjM34YZd5h9qzsm5gXW5kB243F8tZu\nZ6Chf5Hw5FeRmF+88ZkHpIbuYq5UtZyab+KfaN5vOrViC1f5cNPVxdBW+hYVe6Ge\nflBIk7mRf72b1oTxfr+iv9xC2oPveuV79d4zMkEeE8qrxSiO4uGF2Tgak72oWueg\nDONQv7L1LetgaPdVv/KzCcpslSz1Ftd8WpWKg9EWJXhZgFn/Rt4X3tdvk2eW252S\nXKdxfYV+ofJltgPdH42lNNYEaI1qPvNktvr08QZ7vlFZvAskgv9sE4SrcBGMGduQ\nfPx+G9xJlMh0y7ZIekvKPZSgATeA953YN8Ixs6JmVG6hF59e4rM=\n=O1WN\n-----END PGP SIGNATURE-----", "payload": "tree d2e21c2f76ff57f988bd5e24464fe56c194be6b6\nparent a9cd294cf2775441e713c7ee2918b728733b99f5\nauthor David Tolnay <dtolnay@gmail.com> 1603408106 -0700\ncommitter David Tolnay <dtolnay@gmail.com> 1603408317 -0700\n\nAdd test of incompatible match arm types with multiline arm\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f82adf5bdba6e2a9fe4a42c9d260f20b60b33960", "html_url": "https://github.com/rust-lang/rust/commit/f82adf5bdba6e2a9fe4a42c9d260f20b60b33960", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f82adf5bdba6e2a9fe4a42c9d260f20b60b33960/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a9cd294cf2775441e713c7ee2918b728733b99f5", "url": "https://api.github.com/repos/rust-lang/rust/commits/a9cd294cf2775441e713c7ee2918b728733b99f5", "html_url": "https://github.com/rust-lang/rust/commit/a9cd294cf2775441e713c7ee2918b728733b99f5"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "37f6beabd33028fee52ad5f75bb337ac96dd5b2e", "filename": "src/test/ui/match/match-incompat-type-semi.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f82adf5bdba6e2a9fe4a42c9d260f20b60b33960/src%2Ftest%2Fui%2Fmatch%2Fmatch-incompat-type-semi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f82adf5bdba6e2a9fe4a42c9d260f20b60b33960/src%2Ftest%2Fui%2Fmatch%2Fmatch-incompat-type-semi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmatch%2Fmatch-incompat-type-semi.rs?ref=f82adf5bdba6e2a9fe4a42c9d260f20b60b33960", "patch": "@@ -39,4 +39,14 @@ fn main() {\n         None => { //~ ERROR incompatible types\n         },\n     };\n+\n+    let _ = match Some(42) {\n+        Some(x) => \"rust-lang.org\"\n+            .chars()\n+            .skip(1)\n+            .chain(Some(x as u8 as char))\n+            .take(10)\n+            .any(char::is_alphanumeric),\n+        None => {} //~ ERROR incompatible types\n+    };\n }"}, {"sha": "1a2dbbcc29fb30161fd52d1a65ad26bd8fb260eb", "filename": "src/test/ui/match/match-incompat-type-semi.stderr", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/f82adf5bdba6e2a9fe4a42c9d260f20b60b33960/src%2Ftest%2Fui%2Fmatch%2Fmatch-incompat-type-semi.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f82adf5bdba6e2a9fe4a42c9d260f20b60b33960/src%2Ftest%2Fui%2Fmatch%2Fmatch-incompat-type-semi.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmatch%2Fmatch-incompat-type-semi.stderr?ref=f82adf5bdba6e2a9fe4a42c9d260f20b60b33960", "patch": "@@ -69,6 +69,24 @@ LL | ||         },\n LL |  |     };\n    |  |_____- `match` arms have incompatible types\n \n-error: aborting due to 4 previous errors\n+error[E0308]: `match` arms have incompatible types\n+  --> $DIR/match-incompat-type-semi.rs:50:17\n+   |\n+LL |        let _ = match Some(42) {\n+   |   _____________-\n+LL |  |         Some(x) => \"rust-lang.org\"\n+   |  |____________________-\n+LL | ||             .chars()\n+LL | ||             .skip(1)\n+LL | ||             .chain(Some(x as u8 as char))\n+LL | ||             .take(10)\n+LL | ||             .any(char::is_alphanumeric),\n+   | ||_______________________________________- this is found to be of type `bool`\n+LL |  |         None => {}\n+   |  |                 ^^ expected `bool`, found `()`\n+LL |  |     };\n+   |  |_____- `match` arms have incompatible types\n+\n+error: aborting due to 5 previous errors\n \n For more information about this error, try `rustc --explain E0308`."}]}