{"sha": "7e7a33c72695bae3316bf8b211e4bfb698ed7686", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdlN2EzM2M3MjY5NWJhZTMzMTZiZjhiMjExZTRiZmI2OThlZDc2ODY=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-11-23T20:29:27Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-12-12T06:31:04Z"}, "message": "Check array lengths to prevent OOB access", "tree": {"sha": "20a7dddac1a763992d84a9f8e7a95c18787d4a1a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/20a7dddac1a763992d84a9f8e7a95c18787d4a1a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7e7a33c72695bae3316bf8b211e4bfb698ed7686", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEvUKv4zqIn2RHUgCKtvoGpuDiZlsFAlwQqygACgkQtvoGpuDi\nZlsE8g//agA1QbwH/9dZ0+xZymR+j9jwpNIhOBpR/Sowa1o4XTMDAPzMSNeT94FH\nWhBf9OsynGD/A12DPTB7fWDVOoI28elqT/UymKSPJ5TyCJdxAaYT0pfgcRjt9H8y\n5cfGkJTYzz19QKUIt2a73pV7CAewm4LaoUXzeKykZUsbnWqB03OwrrG1lgGc++vD\nMuJbFB14lr6TnBwcs6LUwGCqzGuxF7k3XPIEieEY/TviVdWP/VxAdJEA3LK8sWY4\nWIwsg/NgUD6G5H4TmoCY+1LxhcIvuLVksfJ1XjhIKpdqDe9dC/xrx21NLozzIB3K\nGICzkcqRGyY6FJ2zlLgSbjZJaemBBJGKqVrFzf5JOtd7fDux4LCYmhaQAftAbc1C\nYfEQ2iCfxrbrNw0BrHKl3kZEv+7Mub1dayozVvSxB8xY6aqGwqEfQZ8aj9S4MfFN\nCQ55SJ6ovWiHSXIwjhn0OOfT/ploh6QxrzRTErPOpjJbQm4mJlv0ekPzkLyySPle\nnf3lmlW444zmI8r5TToHu651rr1heplhQyG1lLBPU+nPJox/JEG9TpIEfgCdorEN\n0uF1dTsEJEJNCUZJ0bJbex1KHbic5N2kq4k7UeCbekgYYQfBaFr5JKh7TNtm/cRw\ndpgfvljVH07jXYkE7bovGqYgc5WL67ZsQmjJ2bocJUlbCZ0NP+g=\n=g102\n-----END PGP SIGNATURE-----", "payload": "tree 20a7dddac1a763992d84a9f8e7a95c18787d4a1a\nparent c4c9d9fc62eb244c0f219cfbf23f19b9240c2827\nauthor Philipp Hansch <dev@phansch.net> 1543004967 +0100\ncommitter Philipp Hansch <dev@phansch.net> 1544596264 +0100\n\nCheck array lengths to prevent OOB access\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7e7a33c72695bae3316bf8b211e4bfb698ed7686", "html_url": "https://github.com/rust-lang/rust/commit/7e7a33c72695bae3316bf8b211e4bfb698ed7686", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7e7a33c72695bae3316bf8b211e4bfb698ed7686/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c4c9d9fc62eb244c0f219cfbf23f19b9240c2827", "url": "https://api.github.com/repos/rust-lang/rust/commits/c4c9d9fc62eb244c0f219cfbf23f19b9240c2827", "html_url": "https://github.com/rust-lang/rust/commit/c4c9d9fc62eb244c0f219cfbf23f19b9240c2827"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "e2b643c4de6ddf015ed6888761627d413a485622", "filename": "clippy_lints/src/explicit_write.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7e7a33c72695bae3316bf8b211e4bfb698ed7686/clippy_lints%2Fsrc%2Fexplicit_write.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7e7a33c72695bae3316bf8b211e4bfb698ed7686/clippy_lints%2Fsrc%2Fexplicit_write.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fexplicit_write.rs?ref=7e7a33c72695bae3316bf8b211e4bfb698ed7686", "patch": "@@ -52,9 +52,12 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for Pass {\n             if let ExprKind::MethodCall(ref write_fun, _, ref write_args) =\n                 unwrap_args[0].node;\n             // Obtain the string that should be printed\n+            if write_args.len() > 1;\n             if let ExprKind::Call(_, ref output_args) = write_args[1].node;\n+            if output_args.len() > 0;\n             if let ExprKind::AddrOf(_, ref output_string_expr) = output_args[0].node;\n             if let ExprKind::Array(ref string_exprs) = output_string_expr.node;\n+            if string_exprs.len() > 0;\n             if let ExprKind::Lit(ref lit) = string_exprs[0].node;\n             if let LitKind::Str(ref write_output, _) = lit.node;\n             if write_fun.ident.name == \"write_fmt\";"}]}