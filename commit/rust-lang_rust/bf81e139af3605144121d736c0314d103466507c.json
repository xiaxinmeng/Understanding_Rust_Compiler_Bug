{"sha": "bf81e139af3605144121d736c0314d103466507c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJmODFlMTM5YWYzNjA1MTQ0MTIxZDczNmMwMzE0ZDEwMzQ2NjUwN2M=", "commit": {"author": {"name": "Jacob Hoffman-Andrews", "email": "github@hoffman-andrews.com", "date": "2021-06-16T21:50:25Z"}, "committer": {"name": "Jacob Hoffman-Andrews", "email": "github@hoffman-andrews.com", "date": "2021-06-17T05:48:31Z"}, "message": "Restore details for Impls on Foreign Types\n\nThese were previously removed along with the details in the\n\"Implementors\" section of trait pages. But for \"Implementations on\nForeign Types,\" we need to include the details because they will not be\ndocumented anywhere else.", "tree": {"sha": "001524dcf1ac5bc1a6e034d9fbc75222f9514a19", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/001524dcf1ac5bc1a6e034d9fbc75222f9514a19"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bf81e139af3605144121d736c0314d103466507c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bf81e139af3605144121d736c0314d103466507c", "html_url": "https://github.com/rust-lang/rust/commit/bf81e139af3605144121d736c0314d103466507c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bf81e139af3605144121d736c0314d103466507c/comments", "author": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2ac5c1721a523c77831a2efbbadb21921b8c8c96", "url": "https://api.github.com/repos/rust-lang/rust/commits/2ac5c1721a523c77831a2efbbadb21921b8c8c96", "html_url": "https://github.com/rust-lang/rust/commit/2ac5c1721a523c77831a2efbbadb21921b8c8c96"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "8fd5353891221c27519036334f1b42fc3532f7b2", "filename": "src/librustdoc/html/render/print_item.rs", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/bf81e139af3605144121d736c0314d103466507c/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf81e139af3605144121d736c0314d103466507c/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs?ref=bf81e139af3605144121d736c0314d103466507c", "patch": "@@ -15,11 +15,12 @@ use rustc_span::symbol::{kw, sym, Symbol};\n use super::{\n     collect_paths_for_type, document, ensure_trailing_slash, item_ty_to_strs, notable_traits_decl,\n     render_assoc_item, render_assoc_items, render_attributes_in_code, render_attributes_in_pre,\n-    render_impl_summary, render_stability_since_raw, write_srclink, AssocItemLink, Context,\n+    render_impl, render_impl_summary, render_stability_since_raw, write_srclink, AssocItemLink,\n+    Context,\n };\n use crate::clean::{self, GetDefId};\n use crate::formats::item_type::ItemType;\n-use crate::formats::{AssocItemRender, Impl};\n+use crate::formats::{AssocItemRender, Impl, RenderMode};\n use crate::html::escape::Escape;\n use crate::html::format::{print_abi_with_space, print_where_clause, Buffer, PrintWithSpace};\n use crate::html::highlight;\n@@ -694,15 +695,20 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n             write_small_section_header(w, \"foreign-impls\", \"Implementations on Foreign Types\", \"\");\n \n             for implementor in foreign {\n-                render_impl_summary(\n+                let provided_methods = implementor.inner_impl().provided_trait_methods(cx.tcx());\n+                let assoc_link =\n+                    AssocItemLink::GotoSource(implementor.impl_item.def_id, &provided_methods);\n+                render_impl(\n                     w,\n                     cx,\n                     &implementor,\n                     it,\n-                    &implementor.impl_item,\n+                    assoc_link,\n+                    RenderMode::Normal,\n                     false,\n                     None,\n                     true,\n+                    false,\n                     &[],\n                 );\n             }"}]}