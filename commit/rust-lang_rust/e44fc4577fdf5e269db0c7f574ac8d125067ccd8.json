{"sha": "e44fc4577fdf5e269db0c7f574ac8d125067ccd8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU0NGZjNDU3N2ZkZjVlMjY5ZGIwYzdmNTc0YWM4ZDEyNTA2N2NjZDg=", "commit": {"author": {"name": "Matthew Healy", "email": "matthew.healy@soundcloud.com", "date": "2019-12-19T19:42:01Z"}, "committer": {"name": "Matthew Healy", "email": "matthew.healy@soundcloud.com", "date": "2019-12-26T22:19:18Z"}, "message": "Skip LLVM rebuild when skip-rebuild is true", "tree": {"sha": "92bcd0be25a4e1271bbb16487a81f2a33b75b2b4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/92bcd0be25a4e1271bbb16487a81f2a33b75b2b4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e44fc4577fdf5e269db0c7f574ac8d125067ccd8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e44fc4577fdf5e269db0c7f574ac8d125067ccd8", "html_url": "https://github.com/rust-lang/rust/commit/e44fc4577fdf5e269db0c7f574ac8d125067ccd8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e44fc4577fdf5e269db0c7f574ac8d125067ccd8/comments", "author": null, "committer": null, "parents": [{"sha": "2297a8b1990930144c240743230f6860899b89f5", "url": "https://api.github.com/repos/rust-lang/rust/commits/2297a8b1990930144c240743230f6860899b89f5", "html_url": "https://github.com/rust-lang/rust/commit/2297a8b1990930144c240743230f6860899b89f5"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "2a4e9903e5527d4a4c801c0c53000499e453253c", "filename": "src/bootstrap/native.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/e44fc4577fdf5e269db0c7f574ac8d125067ccd8/src%2Fbootstrap%2Fnative.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e44fc4577fdf5e269db0c7f574ac8d125067ccd8/src%2Fbootstrap%2Fnative.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fnative.rs?ref=e44fc4577fdf5e269db0c7f574ac8d125067ccd8", "patch": "@@ -70,6 +70,15 @@ impl Step for Llvm {\n         let done_stamp = out_dir.join(\"llvm-finished-building\");\n \n         if done_stamp.exists() {\n+            if builder.config.llvm_skip_rebuild {\n+                builder.info(\n+                    \"Warning: \\\n+                    Using a potentially stale build of LLVM; \\\n+                    This may not behave well.\",\n+                );\n+                return build_llvm_config;\n+            }\n+\n             if let Some(llvm_commit) = llvm_info.sha() {\n                 let done_contents = t!(fs::read(&done_stamp));\n "}]}