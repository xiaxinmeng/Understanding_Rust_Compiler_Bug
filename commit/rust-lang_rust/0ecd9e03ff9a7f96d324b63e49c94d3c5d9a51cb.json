{"sha": "0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlY2Q5ZTAzZmY5YTdmOTZkMzI0YjYzZTQ5Yzk0ZDNjNWQ5YTUxY2I=", "commit": {"author": {"name": "Jyun-Yan You", "email": "jyyou@cs.nctu.edu.tw", "date": "2013-01-29T05:04:51Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-03-04T03:27:01Z"}, "message": "rt: MIPS32 support", "tree": {"sha": "427595fd4675b4f3263ef0155e6efd8997d5d710", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/427595fd4675b4f3263ef0155e6efd8997d5d710"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "html_url": "https://github.com/rust-lang/rust/commit/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/comments", "author": {"login": "crabtw", "id": 36015, "node_id": "MDQ6VXNlcjM2MDE1", "avatar_url": "https://avatars.githubusercontent.com/u/36015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crabtw", "html_url": "https://github.com/crabtw", "followers_url": "https://api.github.com/users/crabtw/followers", "following_url": "https://api.github.com/users/crabtw/following{/other_user}", "gists_url": "https://api.github.com/users/crabtw/gists{/gist_id}", "starred_url": "https://api.github.com/users/crabtw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crabtw/subscriptions", "organizations_url": "https://api.github.com/users/crabtw/orgs", "repos_url": "https://api.github.com/users/crabtw/repos", "events_url": "https://api.github.com/users/crabtw/events{/privacy}", "received_events_url": "https://api.github.com/users/crabtw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d30a4f4e677aa133b1a5ca50e69e4a241c58ab55", "url": "https://api.github.com/repos/rust-lang/rust/commits/d30a4f4e677aa133b1a5ca50e69e4a241c58ab55", "html_url": "https://github.com/rust-lang/rust/commit/d30a4f4e677aa133b1a5ca50e69e4a241c58ab55"}], "stats": {"total": 1171, "additions": 1166, "deletions": 5}, "files": [{"sha": "06dd148cc0e86d7cc6324a103eca2698176890ba", "filename": "configure", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/configure", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -577,9 +577,9 @@ make_dir rt\n for t in $CFG_TARGET_TRIPLES\n do\n   make_dir rt/$t\n-  for i in                                          \\\n-    isaac linenoise sync test arch/i386 arch/x86_64    \\\n-    libuv\n+  for i in                                   \\\n+    isaac linenoise sync test libuv          \\\n+    arch/i386 arch/x86_64 arch/arm arch/mips\n   do\n     make_dir rt/$t/$i\n   done\n@@ -718,7 +718,7 @@ do\n     then\n         msg \"configuring LLVM for $t\"\n \n-        LLVM_TARGETS=\"--enable-targets=x86,x86_64,arm\"\n+        LLVM_TARGETS=\"--enable-targets=x86,x86_64,arm,mips\"\n         LLVM_BUILD=\"--build=$t\"\n         LLVM_HOST=\"--host=$t\"\n         LLVM_TARGET=\"--target=$t\""}, {"sha": "b17f5546016fcb9c386671895aa7e955b684c346", "filename": "mk/libuv/mips/unix/linux/Makefile", "status": "added", "additions": 354, "deletions": 0, "changes": 354, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Flibuv%2Fmips%2Funix%2Flinux%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Flibuv%2Fmips%2Funix%2Flinux%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Flibuv%2Fmips%2Funix%2Flinux%2FMakefile?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,354 @@\n+# We borrow heavily from the kernel build setup, though we are simpler since\n+# we don't have Kconfig tweaking settings on us.\n+\n+# The implicit make rules have it looking for RCS files, among other things.\n+# We instead explicitly write all the rules we care about.\n+# It's even quicker (saves ~200ms) to pass -r on the command line.\n+MAKEFLAGS=-r\n+\n+# The source directory tree.\n+srcdir := ../../../../..\n+abs_srcdir := $(abspath $(srcdir))\n+\n+# The name of the builddir.\n+builddir_name ?= out\n+\n+# The V=1 flag on command line makes us verbosely print command lines.\n+ifdef V\n+  quiet=\n+else\n+  quiet=quiet_\n+endif\n+\n+# Specify BUILDTYPE=Release on the command line for a release build.\n+BUILDTYPE ?= Debug\n+\n+# Directory all our build output goes into.\n+# Note that this must be two directories beneath src/ for unit tests to pass,\n+# as they reach into the src/ directory for data with relative paths.\n+builddir ?= $(builddir_name)/$(BUILDTYPE)\n+abs_builddir := $(abspath $(builddir))\n+depsdir := $(builddir)/.deps\n+\n+# Object output directory.\n+obj := $(builddir)/obj\n+abs_obj := $(abspath $(obj))\n+\n+# We build up a list of every single one of the targets so we can slurp in the\n+# generated dependency rule Makefiles in one pass.\n+all_deps :=\n+\n+\n+\n+# C++ apps need to be linked with g++.\n+#\n+# Note: flock is used to seralize linking. Linking is a memory-intensive\n+# process so running parallel links can often lead to thrashing.  To disable\n+# the serialization, override LINK via an envrionment variable as follows:\n+#\n+#   export LINK=g++\n+#\n+# This will allow make to invoke N linker processes as specified in -jN.\n+LINK ?= flock $(builddir)/linker.lock $(CXX)\n+\n+CC.target ?= $(CC)\n+CFLAGS.target ?= $(CFLAGS)\n+CXX.target ?= $(CXX)\n+CXXFLAGS.target ?= $(CXXFLAGS)\n+LINK.target ?= $(LINK)\n+LDFLAGS.target ?= $(LDFLAGS)\n+AR.target ?= $(AR)\n+ARFLAGS.target ?= crs\n+\n+# N.B.: the logic of which commands to run should match the computation done\n+# in gyp's make.py where ARFLAGS.host etc. is computed.\n+# TODO(evan): move all cross-compilation logic to gyp-time so we don't need\n+# to replicate this environment fallback in make as well.\n+CC.host ?= gcc\n+CFLAGS.host ?=\n+CXX.host ?= g++\n+CXXFLAGS.host ?=\n+LINK.host ?= g++\n+LDFLAGS.host ?=\n+AR.host ?= ar\n+ARFLAGS.host := crs\n+\n+# Define a dir function that can handle spaces.\n+# http://www.gnu.org/software/make/manual/make.html#Syntax-of-Functions\n+# \"leading spaces cannot appear in the text of the first argument as written.\n+# These characters can be put into the argument value by variable substitution.\"\n+empty :=\n+space := $(empty) $(empty)\n+\n+# http://stackoverflow.com/questions/1189781/using-make-dir-or-notdir-on-a-path-with-spaces\n+replace_spaces = $(subst $(space),?,$1)\n+unreplace_spaces = $(subst ?,$(space),$1)\n+dirx = $(call unreplace_spaces,$(dir $(call replace_spaces,$1)))\n+\n+# Flags to make gcc output dependency info.  Note that you need to be\n+# careful here to use the flags that ccache and distcc can understand.\n+# We write to a dep file on the side first and then rename at the end\n+# so we can't end up with a broken dep file.\n+depfile = $(depsdir)/$(call replace_spaces,$@).d\n+DEPFLAGS = -MMD -MF $(depfile).raw\n+\n+# We have to fixup the deps output in a few ways.\n+# (1) the file output should mention the proper .o file.\n+# ccache or distcc lose the path to the target, so we convert a rule of\n+# the form:\n+#   foobar.o: DEP1 DEP2\n+# into\n+#   path/to/foobar.o: DEP1 DEP2\n+# (2) we want missing files not to cause us to fail to build.\n+# We want to rewrite\n+#   foobar.o: DEP1 DEP2 \\\n+#               DEP3\n+# to\n+#   DEP1:\n+#   DEP2:\n+#   DEP3:\n+# so if the files are missing, they're just considered phony rules.\n+# We have to do some pretty insane escaping to get those backslashes\n+# and dollar signs past make, the shell, and sed at the same time.\n+# Doesn't work with spaces, but that's fine: .d files have spaces in\n+# their names replaced with other characters.\n+define fixup_dep\n+# The depfile may not exist if the input file didn't have any #includes.\n+touch $(depfile).raw\n+# Fixup path as in (1).\n+sed -e \"s|^$(notdir $@)|$@|\" $(depfile).raw >> $(depfile)\n+# Add extra rules as in (2).\n+# We remove slashes and replace spaces with new lines;\n+# remove blank lines;\n+# delete the first line and append a colon to the remaining lines.\n+sed -e 's|\\\\||' -e 'y| |\\n|' $(depfile).raw |\\\n+  grep -v '^$$'                             |\\\n+  sed -e 1d -e 's|$$|:|'                     \\\n+    >> $(depfile)\n+rm $(depfile).raw\n+endef\n+\n+# Command definitions:\n+# - cmd_foo is the actual command to run;\n+# - quiet_cmd_foo is the brief-output summary of the command.\n+\n+quiet_cmd_cc = CC($(TOOLSET)) $@\n+cmd_cc = $(CC.$(TOOLSET)) $(GYP_CFLAGS) $(DEPFLAGS) $(CFLAGS.$(TOOLSET)) -c -o $@ $<\n+\n+quiet_cmd_cxx = CXX($(TOOLSET)) $@\n+cmd_cxx = $(CXX.$(TOOLSET)) $(GYP_CXXFLAGS) $(DEPFLAGS) $(CXXFLAGS.$(TOOLSET)) -c -o $@ $<\n+\n+quiet_cmd_touch = TOUCH $@\n+cmd_touch = touch $@\n+\n+quiet_cmd_copy = COPY $@\n+# send stderr to /dev/null to ignore messages when linking directories.\n+cmd_copy = ln -f \"$<\" \"$@\" 2>/dev/null || (rm -rf \"$@\" && cp -af \"$<\" \"$@\")\n+\n+quiet_cmd_alink = AR($(TOOLSET)) $@\n+cmd_alink = rm -f $@ && $(AR.$(TOOLSET)) $(ARFLAGS.$(TOOLSET)) $@ $(filter %.o,$^)\n+\n+# Due to circular dependencies between libraries :(, we wrap the\n+# special \"figure out circular dependencies\" flags around the entire\n+# input list during linking.\n+quiet_cmd_link = LINK($(TOOLSET)) $@\n+cmd_link = $(LINK.$(TOOLSET)) $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -o $@ -Wl,--start-group $(LD_INPUTS) -Wl,--end-group $(LIBS)\n+\n+# We support two kinds of shared objects (.so):\n+# 1) shared_library, which is just bundling together many dependent libraries\n+# into a link line.\n+# 2) loadable_module, which is generating a module intended for dlopen().\n+#\n+# They differ only slightly:\n+# In the former case, we want to package all dependent code into the .so.\n+# In the latter case, we want to package just the API exposed by the\n+# outermost module.\n+# This means shared_library uses --whole-archive, while loadable_module doesn't.\n+# (Note that --whole-archive is incompatible with the --start-group used in\n+# normal linking.)\n+\n+# Other shared-object link notes:\n+# - Set SONAME to the library filename so our binaries don't reference\n+# the local, absolute paths used on the link command-line.\n+quiet_cmd_solink = SOLINK($(TOOLSET)) $@\n+cmd_solink = $(LINK.$(TOOLSET)) -shared $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -Wl,-soname=$(@F) -o $@ -Wl,--whole-archive $(LD_INPUTS) -Wl,--no-whole-archive $(LIBS)\n+\n+quiet_cmd_solink_module = SOLINK_MODULE($(TOOLSET)) $@\n+cmd_solink_module = $(LINK.$(TOOLSET)) -shared $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -Wl,-soname=$(@F) -o $@ -Wl,--start-group $(filter-out FORCE_DO_CMD, $^) -Wl,--end-group $(LIBS)\n+\n+\n+# Define an escape_quotes function to escape single quotes.\n+# This allows us to handle quotes properly as long as we always use\n+# use single quotes and escape_quotes.\n+escape_quotes = $(subst ','\\'',$(1))\n+# This comment is here just to include a ' to unconfuse syntax highlighting.\n+# Define an escape_vars function to escape '$' variable syntax.\n+# This allows us to read/write command lines with shell variables (e.g.\n+# $LD_LIBRARY_PATH), without triggering make substitution.\n+escape_vars = $(subst $$,$$$$,$(1))\n+# Helper that expands to a shell command to echo a string exactly as it is in\n+# make. This uses printf instead of echo because printf's behaviour with respect\n+# to escape sequences is more portable than echo's across different shells\n+# (e.g., dash, bash).\n+exact_echo = printf '%s\\n' '$(call escape_quotes,$(1))'\n+\n+# Helper to compare the command we're about to run against the command\n+# we logged the last time we ran the command.  Produces an empty\n+# string (false) when the commands match.\n+# Tricky point: Make has no string-equality test function.\n+# The kernel uses the following, but it seems like it would have false\n+# positives, where one string reordered its arguments.\n+#   arg_check = $(strip $(filter-out $(cmd_$(1)), $(cmd_$@)) \\\n+#                       $(filter-out $(cmd_$@), $(cmd_$(1))))\n+# We instead substitute each for the empty string into the other, and\n+# say they're equal if both substitutions produce the empty string.\n+# .d files contain ? instead of spaces, take that into account.\n+command_changed = $(or $(subst $(cmd_$(1)),,$(cmd_$(call replace_spaces,$@))),\\\n+                       $(subst $(cmd_$(call replace_spaces,$@)),,$(cmd_$(1))))\n+\n+# Helper that is non-empty when a prerequisite changes.\n+# Normally make does this implicitly, but we force rules to always run\n+# so we can check their command lines.\n+#   $? -- new prerequisites\n+#   $| -- order-only dependencies\n+prereq_changed = $(filter-out FORCE_DO_CMD,$(filter-out $|,$?))\n+\n+# Helper that executes all postbuilds, and deletes the output file when done\n+# if any of the postbuilds failed.\n+define do_postbuilds\n+  @E=0;\\\n+  for p in $(POSTBUILDS); do\\\n+    eval $$p;\\\n+    F=$$?;\\\n+    if [ $$F -ne 0 ]; then\\\n+      E=$$F;\\\n+    fi;\\\n+  done;\\\n+  if [ $$E -ne 0 ]; then\\\n+    rm -rf \"$@\";\\\n+    exit $$E;\\\n+  fi\n+endef\n+\n+# do_cmd: run a command via the above cmd_foo names, if necessary.\n+# Should always run for a given target to handle command-line changes.\n+# Second argument, if non-zero, makes it do asm/C/C++ dependency munging.\n+# Third argument, if non-zero, makes it do POSTBUILDS processing.\n+# Note: We intentionally do NOT call dirx for depfile, since it contains ? for\n+# spaces already and dirx strips the ? characters.\n+define do_cmd\n+$(if $(or $(command_changed),$(prereq_changed)),\n+  @$(call exact_echo,  $($(quiet)cmd_$(1)))\n+  @mkdir -p \"$(call dirx,$@)\" \"$(dir $(depfile))\"\n+  $(if $(findstring flock,$(word 1,$(cmd_$1))),\n+    @$(cmd_$(1))\n+    @echo \"  $(quiet_cmd_$(1)): Finished\",\n+    @$(cmd_$(1))\n+  )\n+  @$(call exact_echo,$(call escape_vars,cmd_$(call replace_spaces,$@) := $(cmd_$(1)))) > $(depfile)\n+  @$(if $(2),$(fixup_dep))\n+  $(if $(and $(3), $(POSTBUILDS)),\n+    $(call do_postbuilds)\n+  )\n+)\n+endef\n+\n+# Declare the \"all\" target first so it is the default,\n+# even though we don't have the deps yet.\n+.PHONY: all\n+all:\n+\n+# Use FORCE_DO_CMD to force a target to run.  Should be coupled with\n+# do_cmd.\n+.PHONY: FORCE_DO_CMD\n+FORCE_DO_CMD:\n+\n+TOOLSET := target\n+# Suffix rules, putting all outputs into $(obj).\n+$(obj).$(TOOLSET)/%.o: $(srcdir)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+$(obj).$(TOOLSET)/%.o: $(srcdir)/%.cc FORCE_DO_CMD\n+\t@$(call do_cmd,cxx,1)\n+$(obj).$(TOOLSET)/%.o: $(srcdir)/%.cpp FORCE_DO_CMD\n+\t@$(call do_cmd,cxx,1)\n+$(obj).$(TOOLSET)/%.o: $(srcdir)/%.cxx FORCE_DO_CMD\n+\t@$(call do_cmd,cxx,1)\n+$(obj).$(TOOLSET)/%.o: $(srcdir)/%.S FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+$(obj).$(TOOLSET)/%.o: $(srcdir)/%.s FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+# Try building from generated source, too.\n+$(obj).$(TOOLSET)/%.o: $(obj).$(TOOLSET)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+$(obj).$(TOOLSET)/%.o: $(obj).$(TOOLSET)/%.cc FORCE_DO_CMD\n+\t@$(call do_cmd,cxx,1)\n+$(obj).$(TOOLSET)/%.o: $(obj).$(TOOLSET)/%.cpp FORCE_DO_CMD\n+\t@$(call do_cmd,cxx,1)\n+$(obj).$(TOOLSET)/%.o: $(obj).$(TOOLSET)/%.cxx FORCE_DO_CMD\n+\t@$(call do_cmd,cxx,1)\n+$(obj).$(TOOLSET)/%.o: $(obj).$(TOOLSET)/%.S FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+$(obj).$(TOOLSET)/%.o: $(obj).$(TOOLSET)/%.s FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+$(obj).$(TOOLSET)/%.o: $(obj)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+$(obj).$(TOOLSET)/%.o: $(obj)/%.cc FORCE_DO_CMD\n+\t@$(call do_cmd,cxx,1)\n+$(obj).$(TOOLSET)/%.o: $(obj)/%.cpp FORCE_DO_CMD\n+\t@$(call do_cmd,cxx,1)\n+$(obj).$(TOOLSET)/%.o: $(obj)/%.cxx FORCE_DO_CMD\n+\t@$(call do_cmd,cxx,1)\n+$(obj).$(TOOLSET)/%.o: $(obj)/%.S FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+$(obj).$(TOOLSET)/%.o: $(obj)/%.s FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+\n+ifeq ($(strip $(foreach prefix,$(NO_LOAD),\\\n+    $(findstring $(join ^,$(prefix)),\\\n+                 $(join ^,src/libuv/run-benchmarks.target.mk)))),)\n+  include src/libuv/run-benchmarks.target.mk\n+endif\n+ifeq ($(strip $(foreach prefix,$(NO_LOAD),\\\n+    $(findstring $(join ^,$(prefix)),\\\n+                 $(join ^,src/libuv/run-tests.target.mk)))),)\n+  include src/libuv/run-tests.target.mk\n+endif\n+ifeq ($(strip $(foreach prefix,$(NO_LOAD),\\\n+    $(findstring $(join ^,$(prefix)),\\\n+                 $(join ^,src/libuv/uv.target.mk)))),)\n+  include src/libuv/uv.target.mk\n+endif\n+\n+#quiet_cmd_regen_makefile = ACTION Regenerating $@\n+#cmd_regen_makefile = ./src/libuv/build/gyp/gyp -fmake --ignore-environment \"--toplevel-dir=.\" -Isrc/libuv/common.gypi \"--depth=.\" \"--generator-output=mk/libuv/mips/unix/linux\" \"-Ddefault_configuration=Default\" \"-Dcomponent=static_library\" \"-Dlibrary=static_library\" \"-Dtarget_arch=mips\" \"-DOS=linux\" src/libuv/uv.gyp\n+#Makefile: $(srcdir)/src/libuv/uv.gyp $(srcdir)/src/libuv/common.gypi\n+#\t$(call do_cmd,regen_makefile)\n+\n+# \"all\" is a concatenation of the \"all\" targets from all the included\n+# sub-makefiles. This is just here to clarify.\n+all:\n+\n+# Add in dependency-tracking rules.  $(all_deps) is the list of every single\n+# target in our tree. Only consider the ones with .d (dependency) info:\n+d_files := $(wildcard $(foreach f,$(all_deps),$(depsdir)/$(f).d))\n+ifneq ($(d_files),)\n+  # Rather than include each individual .d file, concatenate them into a\n+  # single file which make is able to load faster.  We split this into\n+  # commands that take 1000 files at a time to avoid overflowing the\n+  # command line.\n+  $(shell cat $(wordlist 1,1000,$(d_files)) > $(depsdir)/all.deps)\n+\n+  ifneq ($(word 1001,$(d_files)),)\n+    $(error Found unprocessed dependency files (gyp didn't generate enough rules!))\n+  endif\n+\n+  # make looks for ways to re-generate included makefiles, but in our case, we\n+  # don't have a direct way. Explicitly telling make that it has nothing to do\n+  # for them makes it go faster.\n+  $(depsdir)/all.deps: ;\n+\n+  include $(depsdir)/all.deps\n+endif"}, {"sha": "25b01014e79d4d77388813a41830e8d1ad32d84a", "filename": "mk/libuv/mips/unix/linux/src/libuv/run-benchmarks.target.mk", "status": "added", "additions": 122, "deletions": 0, "changes": 122, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Frun-benchmarks.target.mk", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Frun-benchmarks.target.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Frun-benchmarks.target.mk?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,122 @@\n+# This file is generated by gyp; do not edit.\n+\n+TOOLSET := target\n+TARGET := run-benchmarks\n+DEFS_Debug := '-D_LARGEFILE_SOURCE' \\\n+\t'-D_FILE_OFFSET_BITS=64' \\\n+\t'-D_GNU_SOURCE' \\\n+\t'-DEIO_STACKSIZE=262144' \\\n+\t'-DDEBUG' \\\n+\t'-D_DEBUG' \\\n+\t'-DEV_VERIFY=2'\n+\n+# Flags passed to all source files.\n+CFLAGS_Debug := -pthread \\\n+\t-Wall \\\n+\t-ansi \\\n+\t-pthread \\\n+\t-fvisibility=hidden \\\n+\t-g \\\n+\t-O0\n+\n+# Flags passed to only C files.\n+CFLAGS_C_Debug := \n+\n+# Flags passed to only C++ files.\n+CFLAGS_CC_Debug := -fno-rtti \\\n+\t-fno-exceptions\n+\n+INCS_Debug := -I$(srcdir)/src/libuv/include\n+\n+DEFS_Release := '-D_LARGEFILE_SOURCE' \\\n+\t'-D_FILE_OFFSET_BITS=64' \\\n+\t'-D_GNU_SOURCE' \\\n+\t'-DEIO_STACKSIZE=262144' \\\n+\t'-DNDEBUG'\n+\n+# Flags passed to all source files.\n+CFLAGS_Release := -pthread \\\n+\t-Wall \\\n+\t-ansi \\\n+\t-pthread \\\n+\t-fvisibility=hidden \\\n+\t-O3 \\\n+\t-fomit-frame-pointer \\\n+\t-fdata-sections \\\n+\t-ffunction-sections\n+\n+# Flags passed to only C files.\n+CFLAGS_C_Release := \n+\n+# Flags passed to only C++ files.\n+CFLAGS_CC_Release := -fno-rtti \\\n+\t-fno-exceptions\n+\n+INCS_Release := -I$(srcdir)/src/libuv/include\n+\n+OBJS := $(obj).target/$(TARGET)/src/libuv/test/benchmark-ares.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/benchmark-getaddrinfo.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/benchmark-ping-pongs.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/benchmark-pound.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/benchmark-pump.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/benchmark-sizes.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/benchmark-spawn.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/benchmark-thread.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/benchmark-tcp-write-batch.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/benchmark-udp-packet-storm.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/dns-server.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/echo-server.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/blackhole-server.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/run-benchmarks.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/runner.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/runner-unix.o\n+\n+# Add to the list of files we specially track dependencies for.\n+all_deps += $(OBJS)\n+\n+# Make sure our dependencies are built before any of us.\n+$(OBJS): | $(obj).target/src/libuv/libuv.a\n+\n+# CFLAGS et al overrides must be target-local.\n+# See \"Target-specific Variable Values\" in the GNU Make manual.\n+$(OBJS): TOOLSET := $(TOOLSET)\n+$(OBJS): GYP_CFLAGS := $(DEFS_$(BUILDTYPE)) $(INCS_$(BUILDTYPE))  $(CFLAGS_$(BUILDTYPE)) $(CFLAGS_C_$(BUILDTYPE))\n+$(OBJS): GYP_CXXFLAGS := $(DEFS_$(BUILDTYPE)) $(INCS_$(BUILDTYPE))  $(CFLAGS_$(BUILDTYPE)) $(CFLAGS_CC_$(BUILDTYPE))\n+\n+# Suffix rules, putting all outputs into $(obj).\n+\n+$(obj).$(TOOLSET)/$(TARGET)/%.o: $(srcdir)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+# Try building from generated source, too.\n+\n+$(obj).$(TOOLSET)/$(TARGET)/%.o: $(obj).$(TOOLSET)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+$(obj).$(TOOLSET)/$(TARGET)/%.o: $(obj)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+# End of this set of suffix rules\n+### Rules for final target.\n+LDFLAGS_Debug := -pthread\n+\n+LDFLAGS_Release := -pthread\n+\n+LIBS := -lrt\n+\n+$(builddir)/run-benchmarks: GYP_LDFLAGS := $(LDFLAGS_$(BUILDTYPE))\n+$(builddir)/run-benchmarks: LIBS := $(LIBS)\n+$(builddir)/run-benchmarks: LD_INPUTS := $(OBJS) $(obj).target/src/libuv/libuv.a\n+$(builddir)/run-benchmarks: TOOLSET := $(TOOLSET)\n+$(builddir)/run-benchmarks: $(OBJS) $(obj).target/src/libuv/libuv.a FORCE_DO_CMD\n+\t$(call do_cmd,link)\n+\n+all_deps += $(builddir)/run-benchmarks\n+# Add target alias\n+.PHONY: run-benchmarks\n+run-benchmarks: $(builddir)/run-benchmarks\n+\n+# Add executable to \"all\" target.\n+.PHONY: all\n+all: $(builddir)/run-benchmarks\n+"}, {"sha": "a2fe0d2065e230c637dd3c17a8cb946dfad41850", "filename": "mk/libuv/mips/unix/linux/src/libuv/run-tests.target.mk", "status": "added", "additions": 165, "deletions": 0, "changes": 165, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Frun-tests.target.mk", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Frun-tests.target.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Frun-tests.target.mk?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,165 @@\n+# This file is generated by gyp; do not edit.\n+\n+TOOLSET := target\n+TARGET := run-tests\n+DEFS_Debug := '-D_LARGEFILE_SOURCE' \\\n+\t'-D_FILE_OFFSET_BITS=64' \\\n+\t'-D_GNU_SOURCE' \\\n+\t'-DEIO_STACKSIZE=262144' \\\n+\t'-DDEBUG' \\\n+\t'-D_DEBUG' \\\n+\t'-DEV_VERIFY=2'\n+\n+# Flags passed to all source files.\n+CFLAGS_Debug := -pthread \\\n+\t-Wall \\\n+\t-ansi \\\n+\t-pthread \\\n+\t-fvisibility=hidden \\\n+\t-g \\\n+\t-O0\n+\n+# Flags passed to only C files.\n+CFLAGS_C_Debug := \n+\n+# Flags passed to only C++ files.\n+CFLAGS_CC_Debug := -fno-rtti \\\n+\t-fno-exceptions\n+\n+INCS_Debug := -I$(srcdir)/src/libuv/include\n+\n+DEFS_Release := '-D_LARGEFILE_SOURCE' \\\n+\t'-D_FILE_OFFSET_BITS=64' \\\n+\t'-D_GNU_SOURCE' \\\n+\t'-DEIO_STACKSIZE=262144' \\\n+\t'-DNDEBUG'\n+\n+# Flags passed to all source files.\n+CFLAGS_Release := -pthread \\\n+\t-Wall \\\n+\t-ansi \\\n+\t-pthread \\\n+\t-fvisibility=hidden \\\n+\t-O3 \\\n+\t-fomit-frame-pointer \\\n+\t-fdata-sections \\\n+\t-ffunction-sections\n+\n+# Flags passed to only C files.\n+CFLAGS_C_Release := \n+\n+# Flags passed to only C++ files.\n+CFLAGS_CC_Release := -fno-rtti \\\n+\t-fno-exceptions\n+\n+INCS_Release := -I$(srcdir)/src/libuv/include\n+\n+OBJS := $(obj).target/$(TARGET)/src/libuv/test/blackhole-server.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/echo-server.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/run-tests.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/runner.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-get-loadavg.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-util.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-async.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-error.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-callback-stack.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-connection-fail.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-cwd-and-chdir.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-delayed-accept.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-eio-overflow.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-fail-always.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-fs.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-fs-event.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-get-currentexe.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-get-memory.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-getaddrinfo.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-gethostbyname.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-getsockname.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-hrtime.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-idle.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-ipc.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-ipc-threads.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-loop-handles.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-multiple-listen.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-pass-always.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-ping-pong.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-pipe-bind-error.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-pipe-connect-error.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-platform-output.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-process-title.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-ref.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-shutdown-eof.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-spawn.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-stdio-over-pipes.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-tcp-bind-error.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-tcp-bind6-error.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-tcp-close.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-tcp-flags.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-tcp-connect-error.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-tcp-connect6-error.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-tcp-write-error.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-tcp-write-to-half-open-connection.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-tcp-writealot.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-threadpool.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-mutexes.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-thread.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-timer-again.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-timer.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-tty.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-udp-dgram-too-big.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-udp-ipv6.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-udp-options.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-udp-send-and-recv.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-udp-multicast-join.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/test-counters-init.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/test/runner-unix.o\n+\n+# Add to the list of files we specially track dependencies for.\n+all_deps += $(OBJS)\n+\n+# Make sure our dependencies are built before any of us.\n+$(OBJS): | $(obj).target/src/libuv/libuv.a\n+\n+# CFLAGS et al overrides must be target-local.\n+# See \"Target-specific Variable Values\" in the GNU Make manual.\n+$(OBJS): TOOLSET := $(TOOLSET)\n+$(OBJS): GYP_CFLAGS := $(DEFS_$(BUILDTYPE)) $(INCS_$(BUILDTYPE))  $(CFLAGS_$(BUILDTYPE)) $(CFLAGS_C_$(BUILDTYPE))\n+$(OBJS): GYP_CXXFLAGS := $(DEFS_$(BUILDTYPE)) $(INCS_$(BUILDTYPE))  $(CFLAGS_$(BUILDTYPE)) $(CFLAGS_CC_$(BUILDTYPE))\n+\n+# Suffix rules, putting all outputs into $(obj).\n+\n+$(obj).$(TOOLSET)/$(TARGET)/%.o: $(srcdir)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+# Try building from generated source, too.\n+\n+$(obj).$(TOOLSET)/$(TARGET)/%.o: $(obj).$(TOOLSET)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+$(obj).$(TOOLSET)/$(TARGET)/%.o: $(obj)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+# End of this set of suffix rules\n+### Rules for final target.\n+LDFLAGS_Debug := -pthread\n+\n+LDFLAGS_Release := -pthread\n+\n+LIBS := -lrt\n+\n+$(builddir)/run-tests: GYP_LDFLAGS := $(LDFLAGS_$(BUILDTYPE))\n+$(builddir)/run-tests: LIBS := $(LIBS)\n+$(builddir)/run-tests: LD_INPUTS := $(OBJS) $(obj).target/src/libuv/libuv.a\n+$(builddir)/run-tests: TOOLSET := $(TOOLSET)\n+$(builddir)/run-tests: $(OBJS) $(obj).target/src/libuv/libuv.a FORCE_DO_CMD\n+\t$(call do_cmd,link)\n+\n+all_deps += $(builddir)/run-tests\n+# Add target alias\n+.PHONY: run-tests\n+run-tests: $(builddir)/run-tests\n+\n+# Add executable to \"all\" target.\n+.PHONY: all\n+all: $(builddir)/run-tests\n+"}, {"sha": "38379e250013709cbddbb2a5c056a6586a34ac87", "filename": "mk/libuv/mips/unix/linux/src/libuv/uv.Makefile", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Fuv.Makefile", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Fuv.Makefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Fuv.Makefile?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,6 @@\n+# This file is generated by gyp; do not edit.\n+\n+export builddir_name ?= mk/libuv/mips/unix/linux/./src/libuv/out\n+.PHONY: all\n+all:\n+\t$(MAKE) -C ../.. uv run-benchmarks run-tests"}, {"sha": "9404769e23822cddb5c01ae3f33ff8867838a36d", "filename": "mk/libuv/mips/unix/linux/src/libuv/uv.target.mk", "status": "added", "additions": 191, "deletions": 0, "changes": 191, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Fuv.target.mk", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Fuv.target.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Flibuv%2Fmips%2Funix%2Flinux%2Fsrc%2Flibuv%2Fuv.target.mk?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,191 @@\n+# This file is generated by gyp; do not edit.\n+\n+TOOLSET := target\n+TARGET := uv\n+DEFS_Debug := '-D_LARGEFILE_SOURCE' \\\n+\t'-D_FILE_OFFSET_BITS=64' \\\n+\t'-D_GNU_SOURCE' \\\n+\t'-DEIO_STACKSIZE=262144' \\\n+\t'-DHAVE_CONFIG_H' \\\n+\t'-DEV_CONFIG_H=\"config_linux.h\"' \\\n+\t'-DEIO_CONFIG_H=\"config_linux.h\"' \\\n+\t'-DDEBUG' \\\n+\t'-D_DEBUG' \\\n+\t'-DEV_VERIFY=2'\n+\n+# Flags passed to all source files.\n+CFLAGS_Debug := -pthread \\\n+\t-Wall \\\n+\t-ansi \\\n+\t-pthread \\\n+\t-fvisibility=hidden \\\n+\t-g \\\n+\t--std=gnu89 \\\n+\t-pedantic \\\n+\t-Wall \\\n+\t-Wextra \\\n+\t-Wno-unused-parameter \\\n+\t-g \\\n+\t-O0 \\\n+\t-fPIC\n+\n+# Flags passed to only C files.\n+CFLAGS_C_Debug := \n+\n+# Flags passed to only C++ files.\n+CFLAGS_CC_Debug := -fno-rtti \\\n+\t-fno-exceptions\n+\n+INCS_Debug := -I$(srcdir)/src/libuv/include \\\n+\t-I$(srcdir)/src/libuv/include/uv-private \\\n+\t-I$(srcdir)/src/libuv/src \\\n+\t-I$(srcdir)/src/libuv/src/unix/ev \\\n+\t-I$(srcdir)/src/libuv/src/ares/config_linux\n+\n+DEFS_Release := '-D_LARGEFILE_SOURCE' \\\n+\t'-D_FILE_OFFSET_BITS=64' \\\n+\t'-D_GNU_SOURCE' \\\n+\t'-DEIO_STACKSIZE=262144' \\\n+\t'-DHAVE_CONFIG_H' \\\n+\t'-DEV_CONFIG_H=\"config_linux.h\"' \\\n+\t'-DEIO_CONFIG_H=\"config_linux.h\"' \\\n+\t'-DNDEBUG'\n+\n+# Flags passed to all source files.\n+CFLAGS_Release := -pthread \\\n+\t-Wall \\\n+\t-ansi \\\n+\t-pthread \\\n+\t-fvisibility=hidden \\\n+\t-g \\\n+\t--std=gnu89 \\\n+\t-pedantic \\\n+\t-Wall \\\n+\t-Wextra \\\n+\t-Wno-unused-parameter \\\n+\t-O3 \\\n+\t-fomit-frame-pointer \\\n+\t-fdata-sections \\\n+\t-ffunction-sections \\\n+\t-fPIC\n+\n+# Flags passed to only C files.\n+CFLAGS_C_Release := \n+\n+# Flags passed to only C++ files.\n+CFLAGS_CC_Release := -fno-rtti \\\n+\t-fno-exceptions\n+\n+INCS_Release := -I$(srcdir)/src/libuv/include \\\n+\t-I$(srcdir)/src/libuv/include/uv-private \\\n+\t-I$(srcdir)/src/libuv/src \\\n+\t-I$(srcdir)/src/libuv/src/unix/ev \\\n+\t-I$(srcdir)/src/libuv/src/ares/config_linux\n+\n+OBJS := $(obj).target/$(TARGET)/src/libuv/src/uv-common.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_cancel.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares__close_sockets.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_data.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_destroy.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_expand_name.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_expand_string.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_fds.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_free_hostent.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_free_string.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_gethostbyaddr.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_gethostbyname.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares__get_hostent.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_getnameinfo.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_getopt.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_getsock.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_init.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_library_init.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_llist.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_mkquery.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_nowarn.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_options.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_parse_aaaa_reply.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_parse_a_reply.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_parse_mx_reply.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_parse_ns_reply.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_parse_ptr_reply.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_parse_srv_reply.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_parse_txt_reply.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_process.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_query.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares__read_line.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_search.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_send.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_strcasecmp.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_strdup.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_strerror.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_timeout.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares__timeval.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_version.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/ares_writev.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/bitncmp.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/inet_net_pton.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/inet_ntop.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/ares/windows_port.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/core.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/uv-eio.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/fs.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/udp.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/tcp.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/pipe.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/tty.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/stream.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/cares.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/dl.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/error.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/thread.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/process.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/eio/eio.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/ev/ev.o \\\n+\t$(obj).target/$(TARGET)/src/libuv/src/unix/linux.o\n+\n+# Add to the list of files we specially track dependencies for.\n+all_deps += $(OBJS)\n+\n+# CFLAGS et al overrides must be target-local.\n+# See \"Target-specific Variable Values\" in the GNU Make manual.\n+$(OBJS): TOOLSET := $(TOOLSET)\n+$(OBJS): GYP_CFLAGS := $(DEFS_$(BUILDTYPE)) $(INCS_$(BUILDTYPE))  $(CFLAGS_$(BUILDTYPE)) $(CFLAGS_C_$(BUILDTYPE))\n+$(OBJS): GYP_CXXFLAGS := $(DEFS_$(BUILDTYPE)) $(INCS_$(BUILDTYPE))  $(CFLAGS_$(BUILDTYPE)) $(CFLAGS_CC_$(BUILDTYPE))\n+\n+# Suffix rules, putting all outputs into $(obj).\n+\n+$(obj).$(TOOLSET)/$(TARGET)/%.o: $(srcdir)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+# Try building from generated source, too.\n+\n+$(obj).$(TOOLSET)/$(TARGET)/%.o: $(obj).$(TOOLSET)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+$(obj).$(TOOLSET)/$(TARGET)/%.o: $(obj)/%.c FORCE_DO_CMD\n+\t@$(call do_cmd,cc,1)\n+\n+# End of this set of suffix rules\n+### Rules for final target.\n+LDFLAGS_Debug := -pthread\n+\n+LDFLAGS_Release := -pthread\n+\n+LIBS := -lm\n+\n+$(obj).target/src/libuv/libuv.a: GYP_LDFLAGS := $(LDFLAGS_$(BUILDTYPE))\n+$(obj).target/src/libuv/libuv.a: LIBS := $(LIBS)\n+$(obj).target/src/libuv/libuv.a: TOOLSET := $(TOOLSET)\n+$(obj).target/src/libuv/libuv.a: $(OBJS) FORCE_DO_CMD\n+\t$(call do_cmd,alink)\n+\n+all_deps += $(obj).target/src/libuv/libuv.a\n+# Add target alias\n+.PHONY: uv\n+uv: $(obj).target/src/libuv/libuv.a\n+\n+# Add target alias to \"all\" target.\n+.PHONY: all\n+all: uv\n+"}, {"sha": "504d5bc963ebcfa8992d57dc1a232ca0462c35ec", "filename": "mk/rt.mk", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -83,8 +83,12 @@ RUNTIME_S_$(1) := rt/arch/$$(HOST_$(1))/_context.S \\\n \n ifeq ($$(HOST_$(1)), i386)\n   LIBUV_ARCH_$(1) := ia32\n-else\n+else ifeq  ($$(HOST_$(1)), x86_64)\n   LIBUV_ARCH_$(1) := x86_64\n+else ifeq  ($$(HOST_$(1)), arm)\n+  LIBUV_ARCH_$(1) := arm\n+else ifeq  ($$(HOST_$(1)), mips)\n+  LIBUV_ARCH_$(1) := mips\n endif\n \n ifeq ($$(CFG_WINDOWSY), 1)"}, {"sha": "a903557ba6cb110c6d083dbf14a6a3b954146ee9", "filename": "src/rt/arch/mips/_context.S", "status": "added", "additions": 81, "deletions": 0, "changes": 81, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2F_context.S", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2F_context.S", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fmips%2F_context.S?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,81 @@\n+.text\n+.globl swap_registers\n+.align 2\n+.set nomips16\n+.ent swap_registers\n+swap_registers:\n+        .set noreorder\n+        .set nomacro\n+        .set noat\n+        sw $1, 1 * 4($4)\n+        sw $2, 2 * 4($4)\n+        sw $3, 3 * 4($4)\n+        sw $4, 4 * 4($4)\n+        sw $5, 5 * 4($4)\n+        sw $6, 6 * 4($4)\n+        sw $7, 7 * 4($4)\n+\n+        sw $8, 8 * 4($4)\n+        sw $9, 9 * 4($4)\n+        sw $10, 10 * 4($4)\n+        sw $11, 11 * 4($4)\n+        sw $12, 12 * 4($4)\n+        sw $13, 13 * 4($4)\n+        sw $14, 14 * 4($4)\n+        sw $15, 15 * 4($4)\n+\n+        sw $16, 16 * 4($4)\n+        sw $17, 17 * 4($4)\n+        sw $18, 18 * 4($4)\n+        sw $19, 19 * 4($4)\n+        sw $20, 20 * 4($4)\n+        sw $21, 21 * 4($4)\n+        sw $22, 22 * 4($4)\n+        sw $23, 23 * 4($4)\n+\n+        sw $24, 24 * 4($4)\n+        sw $25, 25 * 4($4)\n+        sw $26, 26 * 4($4)\n+        sw $27, 27 * 4($4)\n+        sw $28, 28 * 4($4)\n+        sw $29, 29 * 4($4)\n+        sw $30, 30 * 4($4)\n+        sw $31, 31 * 4($4)\n+\n+        lw $1, 1 * 4($5)\n+        lw $2, 2 * 4($5)\n+        lw $3, 3 * 4($5)\n+        lw $4, 4 * 4($5)\n+        lw $5, 5 * 4($5)\n+        lw $6, 6 * 4($5)\n+        lw $7, 7 * 4($5)\n+\n+        lw $8, 8 * 4($5)\n+        lw $9, 9 * 4($5)\n+        lw $10, 10 * 4($5)\n+        lw $11, 11 * 4($5)\n+        lw $12, 12 * 4($5)\n+        lw $13, 13 * 4($5)\n+        lw $14, 14 * 4($5)\n+        lw $15, 15 * 4($5)\n+\n+        lw $16, 16 * 4($5)\n+        lw $17, 17 * 4($5)\n+        lw $18, 18 * 4($5)\n+        lw $19, 19 * 4($5)\n+        lw $20, 20 * 4($5)\n+        lw $21, 21 * 4($5)\n+        lw $22, 22 * 4($5)\n+        lw $23, 23 * 4($5)\n+\n+        lw $24, 24 * 4($5)\n+        lw $25, 25 * 4($5)\n+        lw $26, 26 * 4($5)\n+        lw $27, 27 * 4($5)\n+        lw $28, 28 * 4($5)\n+        lw $29, 29 * 4($5)\n+        lw $30, 30 * 4($5)\n+        lw $31, 31 * 4($5)\n+\n+        jr $31\n+.end swap_registers"}, {"sha": "184c4cd7e45fecfa826beb8c1e3e2e9f6edaae23", "filename": "src/rt/arch/mips/ccall.S", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fccall.S", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fccall.S", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fmips%2Fccall.S?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,12 @@\n+.text\n+\n+.globl __morestack\n+.hidden __morestack\n+.align 2\n+.set nomips16\n+.ent __morestack\n+__morestack:\n+        .set noreorder\n+        .set nomacro\n+\n+.end __morestack"}, {"sha": "d8c3c38daa6df21e9244b919049eb39ed910ded7", "filename": "src/rt/arch/mips/context.cpp", "status": "added", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fcontext.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fcontext.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fmips%2Fcontext.cpp?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,46 @@\n+// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#include \"context.h\"\n+#include \"../../rust_globals.h\"\n+\n+extern \"C\" void CDECL swap_registers(registers_t *oregs,\n+                                     registers_t *regs)\n+asm (\"swap_registers\");\n+\n+context::context()\n+{\n+    assert((void*)&regs == (void*)this);\n+    memset(&regs, 0, sizeof(regs));\n+}\n+\n+void context::swap(context &out)\n+{\n+    swap_registers(&out.regs, &regs);\n+}\n+\n+void context::call(void *f, void *arg, void *stack)\n+{\n+  // Get the current context, which we will then modify to call the\n+  // given function.\n+  swap(*this);\n+\n+  // set up the stack\n+  uint32_t *sp = (uint32_t *)stack;\n+  //sp = align_down(sp);\n+  // The final return address. 0 indicates the bottom of the stack\n+  *--sp = 0;\n+\n+  regs.data[4] = (uint32_t)arg;\n+  regs.data[29] = (uint32_t)sp;\n+  regs.data[31] = (uint32_t)f;\n+\n+  // Last base pointer on the stack should be 0\n+}"}, {"sha": "5e2364437ec2c1893bac7c502b043cbcdbfeb889", "filename": "src/rt/arch/mips/context.h", "status": "added", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fcontext.h", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fcontext.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fmips%2Fcontext.h?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,51 @@\n+// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#ifndef CONTEXT_H\n+#define CONTEXT_H\n+\n+#include <cstdlib>\n+#include <inttypes.h>\n+#include <stdint.h>\n+//#include <xmmintrin.h>\n+\n+#include \"vg/memcheck.h\"\n+\n+template<typename T>\n+T align_down(T sp)\n+{\n+    // There is no platform we care about that needs more than a\n+    // 16-byte alignment.\n+    return (T)((uint32_t)sp & ~(16 - 1));\n+}\n+\n+// The struct in which we store the saved data.  This is mostly the\n+// volatile registers and instruction pointer, but it also includes\n+// RCX/RDI which are used to pass arguments.  The indices for each\n+// register are found in \"regs.h\".  Note that the alignment must be\n+// 16 bytes so that SSE instructions can be used.\n+#include \"regs.h\"\n+struct registers_t {\n+    uint32_t data[RUSTRT_MAX];\n+} __attribute__((aligned(16)));\n+\n+class context {\n+public:\n+    registers_t regs;\n+\n+    context();\n+\n+    context *next;\n+\n+    void swap(context &out);\n+    void call(void *f, void *arg, void *sp);\n+};\n+\n+#endif"}, {"sha": "da2f515999fdabedec6bc41c0dd9419e2ebece24", "filename": "src/rt/arch/mips/gpr.cpp", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fgpr.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fgpr.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fmips%2Fgpr.cpp?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#include \"gpr.h\"\n+\n+#define LOAD(n) do { \\\n+    uintptr_t tmp; \\\n+    asm(\".set noat; move %0, $\" #n : \"=r\" (tmp) :); \\\n+    this->r##n = tmp; \\\n+} while (0)\n+\n+void rust_gpr::load() {\n+              LOAD(1); LOAD(2); LOAD(3);\n+    LOAD(4); LOAD(5); LOAD(6); LOAD(7);\n+\n+    LOAD(8); LOAD(9); LOAD(10); LOAD(11);\n+    LOAD(12); LOAD(13); LOAD(14); LOAD(15);\n+\n+    LOAD(16); LOAD(17); LOAD(18); LOAD(19);\n+    LOAD(20); LOAD(21); LOAD(22); LOAD(23);\n+\n+    LOAD(24); LOAD(25); LOAD(26); LOAD(27);\n+    LOAD(28); LOAD(29); LOAD(30); LOAD(31);\n+}"}, {"sha": "a174146e6928df2cc3e888eb1a7b681e75b99cd2", "filename": "src/rt/arch/mips/gpr.h", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fgpr.h", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fgpr.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fmips%2Fgpr.h?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,33 @@\n+// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#ifndef GPR_H\n+#define GPR_H\n+\n+#include \"rust_gpr_base.h\"\n+\n+class rust_gpr : public rust_gpr_base {\n+public:\n+    uintptr_t r0, r1, r2, r3, r4, r5, r6, r7;\n+    uintptr_t r8,  r9, r10, r11, r12, r13, r14, r15;\n+    uintptr_t r16, r17, r18, r19, r20, r21, r22, r23;\n+    uintptr_t r24, r25, r26, r27, r28, r29, r30, r31;\n+\n+    inline uintptr_t get_fp() { return r30; }\n+    inline uintptr_t get_ip() { return r0; }\n+\n+    inline void set_fp(uintptr_t new_fp) { r30 = new_fp; }\n+    inline void set_ip(uintptr_t new_ip) { r0 = new_ip; }\n+\n+    void load();\n+};\n+\n+#endif\n+"}, {"sha": "6821b175c9ee5d25a3c8555c72a074b802283e87", "filename": "src/rt/arch/mips/record_sp.S", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Frecord_sp.S", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Frecord_sp.S", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fmips%2Frecord_sp.S?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,44 @@\n+.text\n+\n+.globl record_sp_limit\n+.align 2\n+.set nomips16\n+.ent record_sp_limit\n+record_sp_limit:\n+        .set noreorder\n+        .set nomacro\n+        .set push\n+        .set mips32r2\n+        rdhwr $3, $29\n+        .set pop\n+        addiu $3, $3, -0x7008\n+        sw $4, 4($3)\n+        jr $31\n+.end record_sp_limit\n+\n+.globl get_sp_limit\n+.align 2\n+.set nomips16\n+.ent get_sp_limit\n+get_sp_limit:\n+        .set noreorder\n+        .set nomacro\n+        .set push\n+        .set mips32r2\n+        rdhwr $3, $29\n+        .set pop\n+        addiu $3, $3, -0x7008\n+        lw $2, 4($3)\n+        jr $31\n+.end get_sp_limit\n+\n+.globl get_sp\n+.align 2\n+.set nomips16\n+.ent get_sp\n+get_sp:\n+        .set noreorder\n+        .set nomacro\n+        move $2, $29\n+        jr $31\n+.end get_sp"}, {"sha": "2f38e1507ad0e6bb445fe9c1bf7b62da4cd16c29", "filename": "src/rt/arch/mips/regs.h", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fregs.h", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Farch%2Fmips%2Fregs.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fmips%2Fregs.h?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#define RUSTRT_MAX  32\n+\n+// ARG0 is the register in which the first argument goes.\n+// Naturally this depends on your operating system.\n+#define RUSTRT_ARG0_S r4\n+#define RUSTRT_ARG1_S r5\n+#define RUSTRT_ARG2_S r6\n+#define RUSTRT_ARG3_S r7"}, {"sha": "8c9ec172c45ece67b4745bd3655d9a6d34c68504", "filename": "src/rt/rust_task.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Frust_task.h", "raw_url": "https://github.com/rust-lang/rust/raw/0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb/src%2Frt%2Frust_task.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_task.h?ref=0ecd9e03ff9a7f96d324b63e49c94d3c5d9a51cb", "patch": "@@ -139,6 +139,9 @@\n #ifdef __x86_64__\n #define RED_ZONE_SIZE RZ_LINUX_64\n #endif\n+#ifdef __mips__\n+#define RED_ZONE_SIZE RZ_LINUX_32\n+#endif\n #endif\n #ifdef __APPLE__\n #ifdef __i386__"}]}