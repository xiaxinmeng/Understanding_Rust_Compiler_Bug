{"sha": "e1648bde17542a3fb13496b6b3f15a23d31062ad", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUxNjQ4YmRlMTc1NDJhM2ZiMTM0OTZiNmIzZjE1YTIzZDMxMDYyYWQ=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-03-20T01:59:52Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-03-22T21:11:03Z"}, "message": "Switched from canonicalize_query to canonicalize_response", "tree": {"sha": "a183db3ead9c08ece6b460053a010674cab212a5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a183db3ead9c08ece6b460053a010674cab212a5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e1648bde17542a3fb13496b6b3f15a23d31062ad", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEWwgxPGhT5b/6kagXAXYLT59T8VQFAlq0G+cACgkQAXYLT59T\n8VRxdg/9Em8z3OuHTsQ1OFJBC/fyXvZjtThDLjTStLXfYBfTTKDXLkwBYKBKqdvN\npoX9XlyoTFAnLtAaWYY/lrDHoLw1Rc/gambj6n+/A1il9xBJRDVm0ZwVAfs1CWVm\nwM23ackx0VUP3wi6p/cfjrGZEUY02Be/HLfBc4SR/qyGmdCevarTcDyQoqQoX2rB\nf8EgTIMvEQv/ztw0ln9APurkN7CDjA/eOcagZqWtibuiazjKURLSLF0uFGCEtQYB\nJLWK6D4wAFQU8fJf+MW20UxzfFrtQ/kz4Vc8+/b1PWkChOOdUZaPv2wztsoC+aKh\ngc2JndooL3V6IwyfeD/4wlc1c3dof1gxnXMk3ZcupZsk3yZVpHH/7bi48eyH7B88\nWAF3QQW7Kcbq2Nmlaxf/DapkBe/ZMoKClzOvU5RjSYIzsEY/+0Gnd8AAHBwsma4/\nA7/tIJQJ1Cl2wRMD3pxVodPpm/1NZXMAI7g89plbYxDDYyC9PVe2TE+4GDfTcW3E\nevkeHW7x4VmacSOdzAyEPdRXvXotM18wkG1CrJzW9hWjvDBFIhFpM4bkkfia0lzE\nsEPdqkGcRsCChtioKP+u04NhSVaWp+yAUH90+R3sOaqeFnFCaShgGCIOAl9ndmgn\nAYBsUtAgfN7pL2enR/DmWw3NfHc3GCwb0fz0COReHmhcB3+iqgU=\n=Rvfm\n-----END PGP SIGNATURE-----", "payload": "tree a183db3ead9c08ece6b460053a010674cab212a5\nparent 692a931887b23cf11ddf69191ea8d6d509a7bd10\nauthor David Wood <david@davidtw.co> 1521511192 +0000\ncommitter David Wood <david@davidtw.co> 1521753063 +0000\n\nSwitched from canonicalize_query to canonicalize_response\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e1648bde17542a3fb13496b6b3f15a23d31062ad", "html_url": "https://github.com/rust-lang/rust/commit/e1648bde17542a3fb13496b6b3f15a23d31062ad", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e1648bde17542a3fb13496b6b3f15a23d31062ad/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "692a931887b23cf11ddf69191ea8d6d509a7bd10", "url": "https://api.github.com/repos/rust-lang/rust/commits/692a931887b23cf11ddf69191ea8d6d509a7bd10", "html_url": "https://github.com/rust-lang/rust/commit/692a931887b23cf11ddf69191ea8d6d509a7bd10"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "10dab6afd004cb80b6d662b011eb2e48d78b95f7", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1648bde17542a3fb13496b6b3f15a23d31062ad/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1648bde17542a3fb13496b6b3f15a23d31062ad/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=e1648bde17542a3fb13496b6b3f15a23d31062ad", "patch": "@@ -963,7 +963,7 @@ impl<'a, 'gcx, 'tcx> Visitor<'gcx> for GatherLocalsVisitor<'a, 'gcx, 'tcx> {\n             Some(ref ty) => {\n                 let o_ty = self.fcx.to_ty(&ty);\n \n-                let (c_ty, _orig_values) = self.fcx.inh.infcx.canonicalize_query(&o_ty);\n+                let (c_ty, _orig_values) = self.fcx.inh.infcx.canonicalize_response(&o_ty);\n                 debug!(\"visit_local: ty.hir_id={:?} o_ty={:?} c_ty={:?}\", ty.hir_id, o_ty, c_ty);\n                 self.fcx.tables.borrow_mut().user_provided_tys_mut().insert(ty.hir_id, c_ty);\n "}]}