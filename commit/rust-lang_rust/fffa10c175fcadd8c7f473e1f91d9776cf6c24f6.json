{"sha": "fffa10c175fcadd8c7f473e1f91d9776cf6c24f6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZmZmExMGMxNzVmY2FkZDhjN2Y0NzNlMWY5MWQ5Nzc2Y2Y2YzI0ZjY=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2013-11-29T17:20:27Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2013-11-29T17:20:27Z"}, "message": "Removed some dead code.\n\nWhile tracking down how this function became dead, identified a spot\n(@fn cannot happen) where we probably would prefer to ICE rather than\npass silently; so added fail! invocation.", "tree": {"sha": "523aeb2529128c9ee075a5547569332a60dda93a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/523aeb2529128c9ee075a5547569332a60dda93a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fffa10c175fcadd8c7f473e1f91d9776cf6c24f6", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fffa10c175fcadd8c7f473e1f91d9776cf6c24f6", "html_url": "https://github.com/rust-lang/rust/commit/fffa10c175fcadd8c7f473e1f91d9776cf6c24f6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fffa10c175fcadd8c7f473e1f91d9776cf6c24f6/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6c672ee094a1a8e72c100100f43c73a9741f08a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/6c672ee094a1a8e72c100100f43c73a9741f08a7", "html_url": "https://github.com/rust-lang/rust/commit/6c672ee094a1a8e72c100100f43c73a9741f08a7"}], "stats": {"total": 12, "additions": 1, "deletions": 11}, "files": [{"sha": "bd6e7d528a7e00c7398af7917f37213ebea722bf", "filename": "src/librustc/middle/kind.rs", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/fffa10c175fcadd8c7f473e1f91d9776cf6c24f6/src%2Flibrustc%2Fmiddle%2Fkind.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fffa10c175fcadd8c7f473e1f91d9776cf6c24f6/src%2Flibrustc%2Fmiddle%2Fkind.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fkind.rs?ref=fffa10c175fcadd8c7f473e1f91d9776cf6c24f6", "patch": "@@ -182,17 +182,6 @@ fn with_appropriate_checker(cx: &Context,\n         check_freevar_bounds(cx, fv.span, var_t, bounds, None);\n     }\n \n-    fn check_for_box(cx: &Context, fv: &freevar_entry, bounds: ty::BuiltinBounds) {\n-        // all captured data must be owned\n-        let id = ast_util::def_id_of_def(fv.def).node;\n-        let var_t = ty::node_id_to_type(cx.tcx, id);\n-\n-        // check that only immutable variables are implicitly copied in\n-        check_imm_free_var(cx, fv.def, fv.span);\n-\n-        check_freevar_bounds(cx, fv.span, var_t, bounds, None);\n-    }\n-\n     fn check_for_block(cx: &Context, fv: &freevar_entry,\n                        bounds: ty::BuiltinBounds, region: ty::Region) {\n         let id = ast_util::def_id_of_def(fv.def).node;\n@@ -225,6 +214,7 @@ fn with_appropriate_checker(cx: &Context,\n             ..\n         }) => {\n             // can't happen\n+            fail!(\"internal error: saw closure with managed sigil (@fn)\");\n         }\n         ty::ty_closure(ty::ClosureTy {\n             sigil: BorrowedSigil,"}]}