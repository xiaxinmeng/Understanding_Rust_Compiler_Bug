{"sha": "270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "node_id": "C_kwDOAAsO6NoAKDI3MGNiZWI3MzVlZTU1OGUyZWU3NGJmZTEyN2UxYmFkM2QyZWFjYzU", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-05-18T05:26:33Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-05-18T05:26:33Z"}, "message": "Auto merge of #10674 - c410-f3r:macro-lint, r=Jarcho\n\nRename `integer_arithmetic`\n\nThe lack of official feedback in #10200 made me give up on pursuing the matter but after yet another use-case that is not handled by `integer_arithmetic` (#10615), I think it is worth trying again.\n\n---\n\nchangelog: Move/Deprecation: Rename `integer_arithmetic` to `arithmetic_side_effects`\n[#10674](https://github.com/rust-lang/rust-clippy/pull/10674)\n<!-- changelog_checked -->", "tree": {"sha": "894a49b7709f5d9ebcee76fce1c773c9f305e3aa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/894a49b7709f5d9ebcee76fce1c773c9f305e3aa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "html_url": "https://github.com/rust-lang/rust/commit/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "815a07e667d3b0ce8d59983c181cbdbb505fab98", "url": "https://api.github.com/repos/rust-lang/rust/commits/815a07e667d3b0ce8d59983c181cbdbb505fab98", "html_url": "https://github.com/rust-lang/rust/commit/815a07e667d3b0ce8d59983c181cbdbb505fab98"}, {"sha": "493b2ae8dc8f077a4a54fa5f9aca095dedb15e73", "url": "https://api.github.com/repos/rust-lang/rust/commits/493b2ae8dc8f077a4a54fa5f9aca095dedb15e73", "html_url": "https://github.com/rust-lang/rust/commit/493b2ae8dc8f077a4a54fa5f9aca095dedb15e73"}], "stats": {"total": 488, "additions": 81, "deletions": 407}, "files": [{"sha": "40c64efaa37dfef6db2262433b0b3e8d0160c46c", "filename": "clippy_lints/src/declared_lints.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/clippy_lints%2Fsrc%2Fdeclared_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/clippy_lints%2Fsrc%2Fdeclared_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdeclared_lints.rs?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -491,7 +491,6 @@ pub(crate) static LINTS: &[&crate::LintInfo] = &[\n     crate::operators::FLOAT_EQUALITY_WITHOUT_ABS_INFO,\n     crate::operators::IDENTITY_OP_INFO,\n     crate::operators::INEFFECTIVE_BIT_MASK_INFO,\n-    crate::operators::INTEGER_ARITHMETIC_INFO,\n     crate::operators::INTEGER_DIVISION_INFO,\n     crate::operators::MISREFACTORED_ASSIGN_OP_INFO,\n     crate::operators::MODULO_ARITHMETIC_INFO,"}, {"sha": "d63a836e73d6fcc8964baf8e775906e1e4c55884", "filename": "clippy_lints/src/operators/mod.rs", "status": "modified", "additions": 0, "deletions": 27, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/clippy_lints%2Fsrc%2Foperators%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/clippy_lints%2Fsrc%2Foperators%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Foperators%2Fmod.rs?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -96,32 +96,6 @@ declare_clippy_lint! {\n     \"any arithmetic expression that can cause side effects like overflows or panics\"\n }\n \n-declare_clippy_lint! {\n-    /// ### What it does\n-    /// Checks for integer arithmetic operations which could overflow or panic.\n-    ///\n-    /// Specifically, checks for any operators (`+`, `-`, `*`, `<<`, etc) which are capable\n-    /// of overflowing according to the [Rust\n-    /// Reference](https://doc.rust-lang.org/reference/expressions/operator-expr.html#overflow),\n-    /// or which can panic (`/`, `%`). No bounds analysis or sophisticated reasoning is\n-    /// attempted.\n-    ///\n-    /// ### Why is this bad?\n-    /// Integer overflow will trigger a panic in debug builds or will wrap in\n-    /// release mode. Division by zero will cause a panic in either mode. In some applications one\n-    /// wants explicitly checked, wrapping or saturating arithmetic.\n-    ///\n-    /// ### Example\n-    /// ```rust\n-    /// # let a = 0;\n-    /// a + 1;\n-    /// ```\n-    #[clippy::version = \"pre 1.29.0\"]\n-    pub INTEGER_ARITHMETIC,\n-    restriction,\n-    \"any integer arithmetic expression which could overflow or panic\"\n-}\n-\n declare_clippy_lint! {\n     /// ### What it does\n     /// Checks for float arithmetic.\n@@ -787,7 +761,6 @@ pub struct Operators {\n impl_lint_pass!(Operators => [\n     ABSURD_EXTREME_COMPARISONS,\n     ARITHMETIC_SIDE_EFFECTS,\n-    INTEGER_ARITHMETIC,\n     FLOAT_ARITHMETIC,\n     ASSIGN_OP_PATTERN,\n     MISREFACTORED_ASSIGN_OP,"}, {"sha": "102845ceed095a16a4109293de18e13894581f21", "filename": "clippy_lints/src/operators/numeric_arithmetic.rs", "status": "modified", "additions": 6, "deletions": 39, "changes": 45, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/clippy_lints%2Fsrc%2Foperators%2Fnumeric_arithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/clippy_lints%2Fsrc%2Foperators%2Fnumeric_arithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Foperators%2Fnumeric_arithmetic.rs?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -1,8 +1,6 @@\n-use super::{FLOAT_ARITHMETIC, INTEGER_ARITHMETIC};\n+use super::FLOAT_ARITHMETIC;\n use clippy_utils::consts::constant_simple;\n use clippy_utils::diagnostics::span_lint;\n-use clippy_utils::is_from_proc_macro;\n-use clippy_utils::is_integer_literal;\n use rustc_hir as hir;\n use rustc_lint::LateContext;\n use rustc_span::source_map::Span;\n@@ -45,31 +43,8 @@ impl Context {\n             _ => (),\n         }\n \n-        let (l_ty, r_ty) = (cx.typeck_results().expr_ty(l), cx.typeck_results().expr_ty(r));\n-        if l_ty.peel_refs().is_integral() && r_ty.peel_refs().is_integral() {\n-            if is_from_proc_macro(cx, expr) {\n-                return;\n-            }\n-            match op {\n-                hir::BinOpKind::Div | hir::BinOpKind::Rem => match &r.kind {\n-                    hir::ExprKind::Lit(_lit) => (),\n-                    hir::ExprKind::Unary(hir::UnOp::Neg, expr) => {\n-                        if is_integer_literal(expr, 1) {\n-                            span_lint(cx, INTEGER_ARITHMETIC, expr.span, \"integer arithmetic detected\");\n-                            self.expr_id = Some(expr.hir_id);\n-                        }\n-                    },\n-                    _ => {\n-                        span_lint(cx, INTEGER_ARITHMETIC, expr.span, \"integer arithmetic detected\");\n-                        self.expr_id = Some(expr.hir_id);\n-                    },\n-                },\n-                _ => {\n-                    span_lint(cx, INTEGER_ARITHMETIC, expr.span, \"integer arithmetic detected\");\n-                    self.expr_id = Some(expr.hir_id);\n-                },\n-            }\n-        } else if r_ty.peel_refs().is_floating_point() && r_ty.peel_refs().is_floating_point() {\n+        let (_, r_ty) = (cx.typeck_results().expr_ty(l), cx.typeck_results().expr_ty(r));\n+        if r_ty.peel_refs().is_floating_point() && r_ty.peel_refs().is_floating_point() {\n             span_lint(cx, FLOAT_ARITHMETIC, expr.span, \"floating-point arithmetic detected\");\n             self.expr_id = Some(expr.hir_id);\n         }\n@@ -80,17 +55,9 @@ impl Context {\n             return;\n         }\n         let ty = cx.typeck_results().expr_ty(arg);\n-        if constant_simple(cx, cx.typeck_results(), expr).is_none() {\n-            if ty.is_integral() {\n-                if is_from_proc_macro(cx, expr) {\n-                    return;\n-                }\n-                span_lint(cx, INTEGER_ARITHMETIC, expr.span, \"integer arithmetic detected\");\n-                self.expr_id = Some(expr.hir_id);\n-            } else if ty.is_floating_point() {\n-                span_lint(cx, FLOAT_ARITHMETIC, expr.span, \"floating-point arithmetic detected\");\n-                self.expr_id = Some(expr.hir_id);\n-            }\n+        if constant_simple(cx, cx.typeck_results(), expr).is_none() && ty.is_floating_point() {\n+            span_lint(cx, FLOAT_ARITHMETIC, expr.span, \"floating-point arithmetic detected\");\n+            self.expr_id = Some(expr.hir_id);\n         }\n     }\n "}, {"sha": "79d2ca15988074ffcd0f0ee48c8fc110cdc68bbb", "filename": "clippy_lints/src/renamed_lints.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/clippy_lints%2Fsrc%2Frenamed_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/clippy_lints%2Fsrc%2Frenamed_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Frenamed_lints.rs?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -15,6 +15,7 @@ pub static RENAMED_LINTS: &[(&str, &str)] = &[\n     (\"clippy::eval_order_dependence\", \"clippy::mixed_read_write_in_expression\"),\n     (\"clippy::identity_conversion\", \"clippy::useless_conversion\"),\n     (\"clippy::if_let_some_result\", \"clippy::match_result_ok\"),\n+    (\"clippy::integer_arithmetic\", \"clippy::arithmetic_side_effects\"),\n     (\"clippy::logic_bug\", \"clippy::overly_complex_bool_expr\"),\n     (\"clippy::new_without_default_derive\", \"clippy::new_without_default\"),\n     (\"clippy::option_and_then_some\", \"clippy::bind_instead_of_map\"),"}, {"sha": "a928c35e8bc9934c7c8b54885e760dee1b1ec0b7", "filename": "tests/ui/float_arithmetic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Ffloat_arithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Ffloat_arithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffloat_arithmetic.rs?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -1,4 +1,4 @@\n-#![warn(clippy::integer_arithmetic, clippy::float_arithmetic)]\n+#![warn(clippy::arithmetic_side_effects, clippy::float_arithmetic)]\n #![allow(\n     unused,\n     clippy::shadow_reuse,"}, {"sha": "ab9b6094c2c1d153adab746cee20e995ece8cf86", "filename": "tests/ui/integer_arithmetic.rs", "status": "removed", "additions": 0, "deletions": 109, "changes": 109, "blob_url": "https://github.com/rust-lang/rust/blob/815a07e667d3b0ce8d59983c181cbdbb505fab98/tests%2Fui%2Finteger_arithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/815a07e667d3b0ce8d59983c181cbdbb505fab98/tests%2Fui%2Finteger_arithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finteger_arithmetic.rs?ref=815a07e667d3b0ce8d59983c181cbdbb505fab98", "patch": "@@ -1,109 +0,0 @@\n-//@aux-build:proc_macro_derive.rs\n-\n-#![warn(clippy::integer_arithmetic, clippy::float_arithmetic)]\n-#![allow(clippy::no_effect, clippy::unnecessary_operation, clippy::op_ref)]\n-\n-extern crate proc_macro_derive;\n-\n-#[derive(proc_macro_derive::ShadowDerive)]\n-pub struct Nothing;\n-\n-#[rustfmt::skip]\n-fn main() {\n-    let mut i = 1i32;\n-    let mut var1 = 13i32;\n-    let mut var2 = -1i32;\n-    1 + i;\n-    i * 2;\n-    1 %\n-    i / 2; // no error, this is part of the expression in the preceding line\n-    i - 2 + 2 - i;\n-    -i;\n-    i >> 1;\n-    i << 1;\n-\n-    // no error, overflows are checked by `overflowing_literals`\n-    -1;\n-    -(-1);\n-\n-    i & 1; // no wrapping\n-    i | 1;\n-    i ^ 1;\n-\n-    i += 1;\n-    i -= 1;\n-    i *= 2;\n-    i /= 2;\n-    i /= 0;\n-    i /= -1;\n-    i /= var1;\n-    i /= var2;\n-    i %= 2;\n-    i %= 0;\n-    i %= -1;\n-    i %= var1;\n-    i %= var2;\n-    i <<= 3;\n-    i >>= 2;\n-\n-    // no errors\n-    i |= 1;\n-    i &= 1;\n-    i ^= i;\n-\n-    // No errors for the following items because they are constant expressions\n-    enum Foo {\n-        Bar = -2,\n-    }\n-    struct Baz([i32; 1 + 1]);\n-    union Qux {\n-        field: [i32; 1 + 1],\n-    }\n-    type Alias = [i32; 1 + 1];\n-\n-    const FOO: i32 = -2;\n-    static BAR: i32 = -2;\n-\n-    let _: [i32; 1 + 1] = [0, 0];\n-\n-    let _: [i32; 1 + 1] = {\n-        let a: [i32; 1 + 1] = [0, 0];\n-        a\n-    };\n-\n-    trait Trait {\n-        const ASSOC: i32 = 1 + 1;\n-    }\n-\n-    impl Trait for Foo {\n-        const ASSOC: i32 = {\n-            let _: [i32; 1 + 1];\n-            fn foo() {}\n-            1 + 1\n-        };\n-    }\n-}\n-\n-// warn on references as well! (#5328)\n-pub fn int_arith_ref() {\n-    3 + &1;\n-    &3 + 1;\n-    &3 + &1;\n-}\n-\n-pub fn foo(x: &i32) -> i32 {\n-    let a = 5;\n-    a + x\n-}\n-\n-pub fn bar(x: &i32, y: &i32) -> i32 {\n-    x + y\n-}\n-\n-pub fn baz(x: i32, y: &i32) -> i32 {\n-    x + y\n-}\n-\n-pub fn qux(x: i32, y: i32) -> i32 {\n-    (&x + &y)\n-}"}, {"sha": "add3b6b90fa26108cb534a9f93e11cc8b167582c", "filename": "tests/ui/integer_arithmetic.stderr", "status": "removed", "additions": 0, "deletions": 169, "changes": 169, "blob_url": "https://github.com/rust-lang/rust/blob/815a07e667d3b0ce8d59983c181cbdbb505fab98/tests%2Fui%2Finteger_arithmetic.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/815a07e667d3b0ce8d59983c181cbdbb505fab98/tests%2Fui%2Finteger_arithmetic.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finteger_arithmetic.stderr?ref=815a07e667d3b0ce8d59983c181cbdbb505fab98", "patch": "@@ -1,169 +0,0 @@\n-error: this operation will panic at runtime\n-  --> $DIR/integer_arithmetic.rs:37:5\n-   |\n-LL |     i /= 0;\n-   |     ^^^^^^ attempt to divide `_` by zero\n-   |\n-   = note: `#[deny(unconditional_panic)]` on by default\n-\n-error: this operation will panic at runtime\n-  --> $DIR/integer_arithmetic.rs:42:5\n-   |\n-LL |     i %= 0;\n-   |     ^^^^^^ attempt to calculate the remainder of `_` with a divisor of zero\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:16:5\n-   |\n-LL |     1 + i;\n-   |     ^^^^^\n-   |\n-   = note: `-D clippy::integer-arithmetic` implied by `-D warnings`\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:17:5\n-   |\n-LL |     i * 2;\n-   |     ^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:18:5\n-   |\n-LL | /     1 %\n-LL | |     i / 2; // no error, this is part of the expression in the preceding line\n-   | |_____^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:20:5\n-   |\n-LL |     i - 2 + 2 - i;\n-   |     ^^^^^^^^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:21:5\n-   |\n-LL |     -i;\n-   |     ^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:22:5\n-   |\n-LL |     i >> 1;\n-   |     ^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:23:5\n-   |\n-LL |     i << 1;\n-   |     ^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:33:5\n-   |\n-LL |     i += 1;\n-   |     ^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:34:5\n-   |\n-LL |     i -= 1;\n-   |     ^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:35:5\n-   |\n-LL |     i *= 2;\n-   |     ^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:38:11\n-   |\n-LL |     i /= -1;\n-   |           ^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:39:5\n-   |\n-LL |     i /= var1;\n-   |     ^^^^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:40:5\n-   |\n-LL |     i /= var2;\n-   |     ^^^^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:43:11\n-   |\n-LL |     i %= -1;\n-   |           ^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:44:5\n-   |\n-LL |     i %= var1;\n-   |     ^^^^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:45:5\n-   |\n-LL |     i %= var2;\n-   |     ^^^^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:46:5\n-   |\n-LL |     i <<= 3;\n-   |     ^^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:47:5\n-   |\n-LL |     i >>= 2;\n-   |     ^^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:89:5\n-   |\n-LL |     3 + &1;\n-   |     ^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:90:5\n-   |\n-LL |     &3 + 1;\n-   |     ^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:91:5\n-   |\n-LL |     &3 + &1;\n-   |     ^^^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:96:5\n-   |\n-LL |     a + x\n-   |     ^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:100:5\n-   |\n-LL |     x + y\n-   |     ^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:104:5\n-   |\n-LL |     x + y\n-   |     ^^^^^\n-\n-error: integer arithmetic detected\n-  --> $DIR/integer_arithmetic.rs:108:5\n-   |\n-LL |     (&x + &y)\n-   |     ^^^^^^^^^\n-\n-error: aborting due to 27 previous errors\n-"}, {"sha": "d49ae5d8636f50ce43dbd34141bcee5dca2d5edf", "filename": "tests/ui/needless_return.fixed", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Fneedless_return.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Fneedless_return.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_return.fixed?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -231,8 +231,9 @@ fn needless_return_macro() -> String {\n }\n \n fn issue_9361() -> i32 {\n-    #[allow(clippy::integer_arithmetic)]\n-    return 1 + 2;\n+    let n = 1;\n+    #[allow(clippy::arithmetic_side_effects)]\n+    return n + n;\n }\n \n fn issue8336(x: i32) -> bool {"}, {"sha": "367638261746ccdc0a464d8c9524283338a40420", "filename": "tests/ui/needless_return.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Fneedless_return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Fneedless_return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_return.rs?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -239,8 +239,9 @@ fn needless_return_macro() -> String {\n }\n \n fn issue_9361() -> i32 {\n-    #[allow(clippy::integer_arithmetic)]\n-    return 1 + 2;\n+    let n = 1;\n+    #[allow(clippy::arithmetic_side_effects)]\n+    return n + n;\n }\n \n fn issue8336(x: i32) -> bool {"}, {"sha": "05f6038cd255342ebf30b8edd3ce6669d4aa4bba", "filename": "tests/ui/needless_return.stderr", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Fneedless_return.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Fneedless_return.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_return.stderr?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -328,63 +328,63 @@ LL |     return format!(\"Hello {}\", \"world!\");\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:249:9\n+  --> $DIR/needless_return.rs:250:9\n    |\n LL |         return true;\n    |         ^^^^^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:251:9\n+  --> $DIR/needless_return.rs:252:9\n    |\n LL |         return false;\n    |         ^^^^^^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:258:13\n+  --> $DIR/needless_return.rs:259:13\n    |\n LL |             return 10;\n    |             ^^^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:261:13\n+  --> $DIR/needless_return.rs:262:13\n    |\n LL |             return 100;\n    |             ^^^^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:269:9\n+  --> $DIR/needless_return.rs:270:9\n    |\n LL |         return 0;\n    |         ^^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:276:13\n+  --> $DIR/needless_return.rs:277:13\n    |\n LL |             return *(x as *const isize);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:278:13\n+  --> $DIR/needless_return.rs:279:13\n    |\n LL |             return !*(x as *const isize);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:285:20\n+  --> $DIR/needless_return.rs:286:20\n    |\n LL |           let _ = 42;\n    |  ____________________^\n@@ -395,39 +395,39 @@ LL | |         return;\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:292:20\n+  --> $DIR/needless_return.rs:293:20\n    |\n LL |         let _ = 42; return;\n    |                    ^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:304:9\n+  --> $DIR/needless_return.rs:305:9\n    |\n LL |         return Ok(format!(\"ok!\"));\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:306:9\n+  --> $DIR/needless_return.rs:307:9\n    |\n LL |         return Err(format!(\"err!\"));\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:312:9\n+  --> $DIR/needless_return.rs:313:9\n    |\n LL |         return if true { 1 } else { 2 };\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:316:9\n+  --> $DIR/needless_return.rs:317:9\n    |\n LL |         return if b1 { 0 } else { 1 } | if b2 { 2 } else { 3 } | if b3 { 4 } else { 5 };\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"}, {"sha": "104c8191712b86d3d4d27e41684c276b9d0c5446", "filename": "tests/ui/rename.fixed", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Frename.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Frename.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.fixed?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -16,6 +16,7 @@\n #![allow(clippy::mixed_read_write_in_expression)]\n #![allow(clippy::useless_conversion)]\n #![allow(clippy::match_result_ok)]\n+#![allow(clippy::arithmetic_side_effects)]\n #![allow(clippy::overly_complex_bool_expr)]\n #![allow(clippy::new_without_default)]\n #![allow(clippy::bind_instead_of_map)]\n@@ -53,6 +54,7 @@\n #![warn(clippy::mixed_read_write_in_expression)]\n #![warn(clippy::useless_conversion)]\n #![warn(clippy::match_result_ok)]\n+#![warn(clippy::arithmetic_side_effects)]\n #![warn(clippy::overly_complex_bool_expr)]\n #![warn(clippy::new_without_default)]\n #![warn(clippy::bind_instead_of_map)]"}, {"sha": "c7fc7a47a4a5cb5309ee0ffefe0ceb3d8dec46ef", "filename": "tests/ui/rename.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Frename.rs", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Frename.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.rs?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -16,6 +16,7 @@\n #![allow(clippy::mixed_read_write_in_expression)]\n #![allow(clippy::useless_conversion)]\n #![allow(clippy::match_result_ok)]\n+#![allow(clippy::arithmetic_side_effects)]\n #![allow(clippy::overly_complex_bool_expr)]\n #![allow(clippy::new_without_default)]\n #![allow(clippy::bind_instead_of_map)]\n@@ -53,6 +54,7 @@\n #![warn(clippy::eval_order_dependence)]\n #![warn(clippy::identity_conversion)]\n #![warn(clippy::if_let_some_result)]\n+#![warn(clippy::integer_arithmetic)]\n #![warn(clippy::logic_bug)]\n #![warn(clippy::new_without_default_derive)]\n #![warn(clippy::option_and_then_some)]"}, {"sha": "d44bd9c4d2a71c34b9060bc0bea857835b305304", "filename": "tests/ui/rename.stderr", "status": "modified", "additions": 50, "deletions": 44, "changes": 94, "blob_url": "https://github.com/rust-lang/rust/blob/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Frename.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/270cbeb735ee558e2ee74bfe127e1bad3d2eacc5/tests%2Fui%2Frename.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.stderr?ref=270cbeb735ee558e2ee74bfe127e1bad3d2eacc5", "patch": "@@ -1,262 +1,268 @@\n error: lint `clippy::almost_complete_letter_range` has been renamed to `clippy::almost_complete_range`\n-  --> $DIR/rename.rs:43:9\n+  --> $DIR/rename.rs:44:9\n    |\n LL | #![warn(clippy::almost_complete_letter_range)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::almost_complete_range`\n    |\n    = note: `-D renamed-and-removed-lints` implied by `-D warnings`\n \n error: lint `clippy::blacklisted_name` has been renamed to `clippy::disallowed_names`\n-  --> $DIR/rename.rs:44:9\n+  --> $DIR/rename.rs:45:9\n    |\n LL | #![warn(clippy::blacklisted_name)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_names`\n \n error: lint `clippy::block_in_if_condition_expr` has been renamed to `clippy::blocks_in_if_conditions`\n-  --> $DIR/rename.rs:45:9\n+  --> $DIR/rename.rs:46:9\n    |\n LL | #![warn(clippy::block_in_if_condition_expr)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::blocks_in_if_conditions`\n \n error: lint `clippy::block_in_if_condition_stmt` has been renamed to `clippy::blocks_in_if_conditions`\n-  --> $DIR/rename.rs:46:9\n+  --> $DIR/rename.rs:47:9\n    |\n LL | #![warn(clippy::block_in_if_condition_stmt)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::blocks_in_if_conditions`\n \n error: lint `clippy::box_vec` has been renamed to `clippy::box_collection`\n-  --> $DIR/rename.rs:47:9\n+  --> $DIR/rename.rs:48:9\n    |\n LL | #![warn(clippy::box_vec)]\n    |         ^^^^^^^^^^^^^^^ help: use the new name: `clippy::box_collection`\n \n error: lint `clippy::const_static_lifetime` has been renamed to `clippy::redundant_static_lifetimes`\n-  --> $DIR/rename.rs:48:9\n+  --> $DIR/rename.rs:49:9\n    |\n LL | #![warn(clippy::const_static_lifetime)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::redundant_static_lifetimes`\n \n error: lint `clippy::cyclomatic_complexity` has been renamed to `clippy::cognitive_complexity`\n-  --> $DIR/rename.rs:49:9\n+  --> $DIR/rename.rs:50:9\n    |\n LL | #![warn(clippy::cyclomatic_complexity)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::cognitive_complexity`\n \n error: lint `clippy::derive_hash_xor_eq` has been renamed to `clippy::derived_hash_with_manual_eq`\n-  --> $DIR/rename.rs:50:9\n+  --> $DIR/rename.rs:51:9\n    |\n LL | #![warn(clippy::derive_hash_xor_eq)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::derived_hash_with_manual_eq`\n \n error: lint `clippy::disallowed_method` has been renamed to `clippy::disallowed_methods`\n-  --> $DIR/rename.rs:51:9\n+  --> $DIR/rename.rs:52:9\n    |\n LL | #![warn(clippy::disallowed_method)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_methods`\n \n error: lint `clippy::disallowed_type` has been renamed to `clippy::disallowed_types`\n-  --> $DIR/rename.rs:52:9\n+  --> $DIR/rename.rs:53:9\n    |\n LL | #![warn(clippy::disallowed_type)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_types`\n \n error: lint `clippy::eval_order_dependence` has been renamed to `clippy::mixed_read_write_in_expression`\n-  --> $DIR/rename.rs:53:9\n+  --> $DIR/rename.rs:54:9\n    |\n LL | #![warn(clippy::eval_order_dependence)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::mixed_read_write_in_expression`\n \n error: lint `clippy::identity_conversion` has been renamed to `clippy::useless_conversion`\n-  --> $DIR/rename.rs:54:9\n+  --> $DIR/rename.rs:55:9\n    |\n LL | #![warn(clippy::identity_conversion)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::useless_conversion`\n \n error: lint `clippy::if_let_some_result` has been renamed to `clippy::match_result_ok`\n-  --> $DIR/rename.rs:55:9\n+  --> $DIR/rename.rs:56:9\n    |\n LL | #![warn(clippy::if_let_some_result)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::match_result_ok`\n \n+error: lint `clippy::integer_arithmetic` has been renamed to `clippy::arithmetic_side_effects`\n+  --> $DIR/rename.rs:57:9\n+   |\n+LL | #![warn(clippy::integer_arithmetic)]\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::arithmetic_side_effects`\n+\n error: lint `clippy::logic_bug` has been renamed to `clippy::overly_complex_bool_expr`\n-  --> $DIR/rename.rs:56:9\n+  --> $DIR/rename.rs:58:9\n    |\n LL | #![warn(clippy::logic_bug)]\n    |         ^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::overly_complex_bool_expr`\n \n error: lint `clippy::new_without_default_derive` has been renamed to `clippy::new_without_default`\n-  --> $DIR/rename.rs:57:9\n+  --> $DIR/rename.rs:59:9\n    |\n LL | #![warn(clippy::new_without_default_derive)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::new_without_default`\n \n error: lint `clippy::option_and_then_some` has been renamed to `clippy::bind_instead_of_map`\n-  --> $DIR/rename.rs:58:9\n+  --> $DIR/rename.rs:60:9\n    |\n LL | #![warn(clippy::option_and_then_some)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::bind_instead_of_map`\n \n error: lint `clippy::option_expect_used` has been renamed to `clippy::expect_used`\n-  --> $DIR/rename.rs:59:9\n+  --> $DIR/rename.rs:61:9\n    |\n LL | #![warn(clippy::option_expect_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::expect_used`\n \n error: lint `clippy::option_map_unwrap_or` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:60:9\n+  --> $DIR/rename.rs:62:9\n    |\n LL | #![warn(clippy::option_map_unwrap_or)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::option_map_unwrap_or_else` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:61:9\n+  --> $DIR/rename.rs:63:9\n    |\n LL | #![warn(clippy::option_map_unwrap_or_else)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::option_unwrap_used` has been renamed to `clippy::unwrap_used`\n-  --> $DIR/rename.rs:62:9\n+  --> $DIR/rename.rs:64:9\n    |\n LL | #![warn(clippy::option_unwrap_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::unwrap_used`\n \n error: lint `clippy::ref_in_deref` has been renamed to `clippy::needless_borrow`\n-  --> $DIR/rename.rs:63:9\n+  --> $DIR/rename.rs:65:9\n    |\n LL | #![warn(clippy::ref_in_deref)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::needless_borrow`\n \n error: lint `clippy::result_expect_used` has been renamed to `clippy::expect_used`\n-  --> $DIR/rename.rs:64:9\n+  --> $DIR/rename.rs:66:9\n    |\n LL | #![warn(clippy::result_expect_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::expect_used`\n \n error: lint `clippy::result_map_unwrap_or_else` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:65:9\n+  --> $DIR/rename.rs:67:9\n    |\n LL | #![warn(clippy::result_map_unwrap_or_else)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::result_unwrap_used` has been renamed to `clippy::unwrap_used`\n-  --> $DIR/rename.rs:66:9\n+  --> $DIR/rename.rs:68:9\n    |\n LL | #![warn(clippy::result_unwrap_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::unwrap_used`\n \n error: lint `clippy::single_char_push_str` has been renamed to `clippy::single_char_add_str`\n-  --> $DIR/rename.rs:67:9\n+  --> $DIR/rename.rs:69:9\n    |\n LL | #![warn(clippy::single_char_push_str)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::single_char_add_str`\n \n error: lint `clippy::stutter` has been renamed to `clippy::module_name_repetitions`\n-  --> $DIR/rename.rs:68:9\n+  --> $DIR/rename.rs:70:9\n    |\n LL | #![warn(clippy::stutter)]\n    |         ^^^^^^^^^^^^^^^ help: use the new name: `clippy::module_name_repetitions`\n \n error: lint `clippy::to_string_in_display` has been renamed to `clippy::recursive_format_impl`\n-  --> $DIR/rename.rs:69:9\n+  --> $DIR/rename.rs:71:9\n    |\n LL | #![warn(clippy::to_string_in_display)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::recursive_format_impl`\n \n error: lint `clippy::zero_width_space` has been renamed to `clippy::invisible_characters`\n-  --> $DIR/rename.rs:70:9\n+  --> $DIR/rename.rs:72:9\n    |\n LL | #![warn(clippy::zero_width_space)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::invisible_characters`\n \n error: lint `clippy::clone_double_ref` has been renamed to `suspicious_double_ref_op`\n-  --> $DIR/rename.rs:71:9\n+  --> $DIR/rename.rs:73:9\n    |\n LL | #![warn(clippy::clone_double_ref)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `suspicious_double_ref_op`\n \n error: lint `clippy::drop_bounds` has been renamed to `drop_bounds`\n-  --> $DIR/rename.rs:72:9\n+  --> $DIR/rename.rs:74:9\n    |\n LL | #![warn(clippy::drop_bounds)]\n    |         ^^^^^^^^^^^^^^^^^^^ help: use the new name: `drop_bounds`\n \n error: lint `clippy::for_loop_over_option` has been renamed to `for_loops_over_fallibles`\n-  --> $DIR/rename.rs:73:9\n+  --> $DIR/rename.rs:75:9\n    |\n LL | #![warn(clippy::for_loop_over_option)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `for_loops_over_fallibles`\n \n error: lint `clippy::for_loop_over_result` has been renamed to `for_loops_over_fallibles`\n-  --> $DIR/rename.rs:74:9\n+  --> $DIR/rename.rs:76:9\n    |\n LL | #![warn(clippy::for_loop_over_result)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `for_loops_over_fallibles`\n \n error: lint `clippy::for_loops_over_fallibles` has been renamed to `for_loops_over_fallibles`\n-  --> $DIR/rename.rs:75:9\n+  --> $DIR/rename.rs:77:9\n    |\n LL | #![warn(clippy::for_loops_over_fallibles)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `for_loops_over_fallibles`\n \n error: lint `clippy::into_iter_on_array` has been renamed to `array_into_iter`\n-  --> $DIR/rename.rs:76:9\n+  --> $DIR/rename.rs:78:9\n    |\n LL | #![warn(clippy::into_iter_on_array)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `array_into_iter`\n \n error: lint `clippy::invalid_atomic_ordering` has been renamed to `invalid_atomic_ordering`\n-  --> $DIR/rename.rs:77:9\n+  --> $DIR/rename.rs:79:9\n    |\n LL | #![warn(clippy::invalid_atomic_ordering)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `invalid_atomic_ordering`\n \n error: lint `clippy::invalid_ref` has been renamed to `invalid_value`\n-  --> $DIR/rename.rs:78:9\n+  --> $DIR/rename.rs:80:9\n    |\n LL | #![warn(clippy::invalid_ref)]\n    |         ^^^^^^^^^^^^^^^^^^^ help: use the new name: `invalid_value`\n \n error: lint `clippy::let_underscore_drop` has been renamed to `let_underscore_drop`\n-  --> $DIR/rename.rs:79:9\n+  --> $DIR/rename.rs:81:9\n    |\n LL | #![warn(clippy::let_underscore_drop)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `let_underscore_drop`\n \n error: lint `clippy::mem_discriminant_non_enum` has been renamed to `enum_intrinsics_non_enums`\n-  --> $DIR/rename.rs:80:9\n+  --> $DIR/rename.rs:82:9\n    |\n LL | #![warn(clippy::mem_discriminant_non_enum)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `enum_intrinsics_non_enums`\n \n error: lint `clippy::panic_params` has been renamed to `non_fmt_panics`\n-  --> $DIR/rename.rs:81:9\n+  --> $DIR/rename.rs:83:9\n    |\n LL | #![warn(clippy::panic_params)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `non_fmt_panics`\n \n error: lint `clippy::positional_named_format_parameters` has been renamed to `named_arguments_used_positionally`\n-  --> $DIR/rename.rs:82:9\n+  --> $DIR/rename.rs:84:9\n    |\n LL | #![warn(clippy::positional_named_format_parameters)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `named_arguments_used_positionally`\n \n error: lint `clippy::temporary_cstring_as_ptr` has been renamed to `temporary_cstring_as_ptr`\n-  --> $DIR/rename.rs:83:9\n+  --> $DIR/rename.rs:85:9\n    |\n LL | #![warn(clippy::temporary_cstring_as_ptr)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `temporary_cstring_as_ptr`\n \n error: lint `clippy::unknown_clippy_lints` has been renamed to `unknown_lints`\n-  --> $DIR/rename.rs:84:9\n+  --> $DIR/rename.rs:86:9\n    |\n LL | #![warn(clippy::unknown_clippy_lints)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `unknown_lints`\n \n error: lint `clippy::unused_label` has been renamed to `unused_labels`\n-  --> $DIR/rename.rs:85:9\n+  --> $DIR/rename.rs:87:9\n    |\n LL | #![warn(clippy::unused_label)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `unused_labels`\n \n-error: aborting due to 43 previous errors\n+error: aborting due to 44 previous errors\n "}]}