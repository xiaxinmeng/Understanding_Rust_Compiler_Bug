{"sha": "34657ccbe739d1263d0808e3d1b0226b9e87490a", "node_id": "C_kwDOAAsO6NoAKDM0NjU3Y2NiZTczOWQxMjYzZDA4MDhlM2QxYjAyMjZiOWU4NzQ5MGE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-02-28T19:05:18Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-02-28T19:05:18Z"}, "message": "Rollup merge of #94449 - GuillaumeGomez:explanation-e0726, r=Urgau\n\nAdd long explanation for E0726\n\nThis is the cleaned up version of #87655 with the missing fixes.\n\nPart of https://github.com/rust-lang/rust/issues/61137.\n\nr? `@Urgau`", "tree": {"sha": "3475f4c5d657d246d98959b6ab1a2c7c2cd8daac", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3475f4c5d657d246d98959b6ab1a2c7c2cd8daac"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/34657ccbe739d1263d0808e3d1b0226b9e87490a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiHRzuCRBK7hj4Ov3rIwAAsLoIAD8FXnQgWvlhurrVszhdzyLf\nY+ovkuzju3STPwXprt2S9jlc4STOKUniGOJmeJh4wm9krkFULc5zVAJiWUDgxiON\nSSYsRu919x6R6x+JnnoB15CMXps/M6tjE/uGWdoduiDkK6fHGFngbjUCUBceNG/C\n2z0wGWaI3lf5sr4/1njzAxqOQvb/NTGSAS3WBmXZoGYIna0uUSfz6CFZvvt6ph3N\noxrjobWNfwTFRenf5a4Ph1vPkC5loUwzrMBuTf4lEvvCtgiGbxsvzfU+2EhmCGQ4\nDPhcAU84vKwCdGxKIGN8QmQV5oToJMS1Eu2LUzdjf6uJRAx7lJIMnQJuBZCdSqs=\n=8cHs\n-----END PGP SIGNATURE-----\n", "payload": "tree 3475f4c5d657d246d98959b6ab1a2c7c2cd8daac\nparent 5be38d2bb30272c5f85e3b26c0b9e4ab94c6cad1\nparent 8f36d4a536fd194a3f412e957e176cf2944d9c0a\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1646075118 +0100\ncommitter GitHub <noreply@github.com> 1646075118 +0100\n\nRollup merge of #94449 - GuillaumeGomez:explanation-e0726, r=Urgau\n\nAdd long explanation for E0726\n\nThis is the cleaned up version of #87655 with the missing fixes.\n\nPart of https://github.com/rust-lang/rust/issues/61137.\n\nr? `@Urgau`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/34657ccbe739d1263d0808e3d1b0226b9e87490a", "html_url": "https://github.com/rust-lang/rust/commit/34657ccbe739d1263d0808e3d1b0226b9e87490a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/34657ccbe739d1263d0808e3d1b0226b9e87490a/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5be38d2bb30272c5f85e3b26c0b9e4ab94c6cad1", "url": "https://api.github.com/repos/rust-lang/rust/commits/5be38d2bb30272c5f85e3b26c0b9e4ab94c6cad1", "html_url": "https://github.com/rust-lang/rust/commit/5be38d2bb30272c5f85e3b26c0b9e4ab94c6cad1"}, {"sha": "8f36d4a536fd194a3f412e957e176cf2944d9c0a", "url": "https://api.github.com/repos/rust-lang/rust/commits/8f36d4a536fd194a3f412e957e176cf2944d9c0a", "html_url": "https://github.com/rust-lang/rust/commit/8f36d4a536fd194a3f412e957e176cf2944d9c0a"}], "stats": {"total": 55, "additions": 53, "deletions": 2}, "files": [{"sha": "a185902123d8ab3a37cb09400ec2dd16e2421b67", "filename": "compiler/rustc_error_codes/src/error_codes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/34657ccbe739d1263d0808e3d1b0226b9e87490a/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/34657ccbe739d1263d0808e3d1b0226b9e87490a/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs?ref=34657ccbe739d1263d0808e3d1b0226b9e87490a", "patch": "@@ -429,6 +429,7 @@ E0720: include_str!(\"./error_codes/E0720.md\"),\n E0722: include_str!(\"./error_codes/E0722.md\"),\n E0724: include_str!(\"./error_codes/E0724.md\"),\n E0725: include_str!(\"./error_codes/E0725.md\"),\n+E0726: include_str!(\"./error_codes/E0726.md\"),\n E0727: include_str!(\"./error_codes/E0727.md\"),\n E0728: include_str!(\"./error_codes/E0728.md\"),\n E0729: include_str!(\"./error_codes/E0729.md\"),\n@@ -641,6 +642,5 @@ E0787: include_str!(\"./error_codes/E0787.md\"),\n     E0717, // rustc_promotable without stability attribute\n //  E0721, // `await` keyword\n //  E0723, // unstable feature in `const` context\n-    E0726, // non-explicit (not `'_`) elided lifetime in unsupported position\n //  E0738, // Removed; errored on `#[track_caller] fn`s in `extern \"Rust\" { ... }`.\n }"}, {"sha": "e3794327f2d4d259fd3f61a871ce4ca4830700bb", "filename": "compiler/rustc_error_codes/src/error_codes/E0726.md", "status": "added", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/34657ccbe739d1263d0808e3d1b0226b9e87490a/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0726.md", "raw_url": "https://github.com/rust-lang/rust/raw/34657ccbe739d1263d0808e3d1b0226b9e87490a/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0726.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0726.md?ref=34657ccbe739d1263d0808e3d1b0226b9e87490a", "patch": "@@ -0,0 +1,46 @@\n+An argument lifetime was elided in an async function.\n+\n+Erroneous code example:\n+\n+When a struct or a type is bound/declared with a lifetime it is important for\n+the Rust compiler to know, on usage, the lifespan of the type. When the\n+lifetime is not explicitly mentioned and the Rust Compiler cannot determine\n+the lifetime of your type, the following error occurs.\n+\n+```compile_fail,E0726\n+use futures::executor::block_on;\n+struct Content<'a> {\n+    title: &'a str,\n+    body: &'a str,\n+}\n+async fn create(content: Content) { // error: implicit elided\n+                                    // lifetime not allowed here\n+    println!(\"title: {}\", content.title);\n+    println!(\"body: {}\", content.body);\n+}\n+let content = Content { title: \"Rust\", body: \"is great!\" };\n+let future = create(content);\n+block_on(future);\n+```\n+\n+Specify desired lifetime of parameter `content` or indicate the anonymous\n+lifetime like `content: Content<'_>`. The anonymous lifetime tells the Rust\n+compiler that `content` is only needed until create function is done with\n+it's execution.\n+\n+The `implicit elision` meaning the omission of suggested lifetime that is\n+`pub async fn create<'a>(content: Content<'a>) {}` is not allowed here as\n+lifetime of the `content` can differ from current context:\n+\n+```ignore (needs futures dependency)\n+async fn create(content: Content<'_>) { // ok!\n+    println!(\"title: {}\", content.title);\n+    println!(\"body: {}\", content.body);\n+}\n+```\n+\n+Know more about lifetime elision in this [chapter][lifetime-elision] and a\n+chapter on lifetimes can be found [here][lifetimes].\n+\n+[lifetime-elision]: https://doc.rust-lang.org/book/ch10-03-lifetime-syntax.html#lifetime-elision\n+[lifetimes]: https://doc.rust-lang.org/rust-by-example/scope/lifetime.html"}, {"sha": "3d18d9c4125962970e090809b4b12016320b02b1", "filename": "src/test/ui/async-await/async-fn-path-elision.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/34657ccbe739d1263d0808e3d1b0226b9e87490a/src%2Ftest%2Fui%2Fasync-await%2Fasync-fn-path-elision.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/34657ccbe739d1263d0808e3d1b0226b9e87490a/src%2Ftest%2Fui%2Fasync-await%2Fasync-fn-path-elision.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fasync-fn-path-elision.stderr?ref=34657ccbe739d1263d0808e3d1b0226b9e87490a", "patch": "@@ -8,3 +8,4 @@ LL | async fn error(lt: HasLifetime) {\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0726`."}, {"sha": "90522a885ab90d3df8c8d0f0a905e94645a68dbf", "filename": "src/test/ui/impl-header-lifetime-elision/path-elided.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/34657ccbe739d1263d0808e3d1b0226b9e87490a/src%2Ftest%2Fui%2Fimpl-header-lifetime-elision%2Fpath-elided.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/34657ccbe739d1263d0808e3d1b0226b9e87490a/src%2Ftest%2Fui%2Fimpl-header-lifetime-elision%2Fpath-elided.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimpl-header-lifetime-elision%2Fpath-elided.stderr?ref=34657ccbe739d1263d0808e3d1b0226b9e87490a", "patch": "@@ -8,3 +8,4 @@ LL | impl MyTrait for Foo {\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0726`."}, {"sha": "15bc3f106b9c48169fed5d56eb8af8fe6307fff0", "filename": "src/test/ui/impl-header-lifetime-elision/trait-elided.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/34657ccbe739d1263d0808e3d1b0226b9e87490a/src%2Ftest%2Fui%2Fimpl-header-lifetime-elision%2Ftrait-elided.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/34657ccbe739d1263d0808e3d1b0226b9e87490a/src%2Ftest%2Fui%2Fimpl-header-lifetime-elision%2Ftrait-elided.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimpl-header-lifetime-elision%2Ftrait-elided.stderr?ref=34657ccbe739d1263d0808e3d1b0226b9e87490a", "patch": "@@ -8,3 +8,4 @@ LL | impl MyTrait for u32 {\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0726`."}, {"sha": "a91b3c90ebb25e3328e26e51faab9e56d3dca5f6", "filename": "src/test/ui/issues/issue-10412.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/34657ccbe739d1263d0808e3d1b0226b9e87490a/src%2Ftest%2Fui%2Fissues%2Fissue-10412.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/34657ccbe739d1263d0808e3d1b0226b9e87490a/src%2Ftest%2Fui%2Fissues%2Fissue-10412.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-10412.stderr?ref=34657ccbe739d1263d0808e3d1b0226b9e87490a", "patch": "@@ -67,4 +67,5 @@ LL | trait Serializable<'self, T: ?Sized> {\n \n error: aborting due to 9 previous errors\n \n-For more information about this error, try `rustc --explain E0277`.\n+Some errors have detailed explanations: E0277, E0726.\n+For more information about an error, try `rustc --explain E0277`."}, {"sha": "ba624507c21f0d332f13adb8259c7d786fedf2ab", "filename": "src/test/ui/wf/wf-in-foreign-fn-decls-issue-80468.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/34657ccbe739d1263d0808e3d1b0226b9e87490a/src%2Ftest%2Fui%2Fwf%2Fwf-in-foreign-fn-decls-issue-80468.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/34657ccbe739d1263d0808e3d1b0226b9e87490a/src%2Ftest%2Fui%2Fwf%2Fwf-in-foreign-fn-decls-issue-80468.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwf%2Fwf-in-foreign-fn-decls-issue-80468.stderr?ref=34657ccbe739d1263d0808e3d1b0226b9e87490a", "patch": "@@ -30,3 +30,4 @@ LL | impl Trait for Ref {}\n \n error: aborting due to 2 previous errors\n \n+For more information about this error, try `rustc --explain E0726`."}]}