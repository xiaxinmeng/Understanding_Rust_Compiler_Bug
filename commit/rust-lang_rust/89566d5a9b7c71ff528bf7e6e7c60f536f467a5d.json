{"sha": "89566d5a9b7c71ff528bf7e6e7c60f536f467a5d", "node_id": "C_kwDOAAsO6NoAKDg5NTY2ZDVhOWI3YzcxZmY1MjhiZjdlNmU3YzYwZjUzNmY0NjdhNWQ", "commit": {"author": {"name": "yukang", "email": "moorekang@gmail.com", "date": "2023-03-28T16:00:15Z"}, "committer": {"name": "yukang", "email": "moorekang@gmail.com", "date": "2023-04-26T16:15:55Z"}, "message": "configure --set support list as arguments", "tree": {"sha": "291b0b498cb8dd1865e334f93c74bd38b788ac30", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/291b0b498cb8dd1865e334f93c74bd38b788ac30"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/89566d5a9b7c71ff528bf7e6e7c60f536f467a5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/89566d5a9b7c71ff528bf7e6e7c60f536f467a5d", "html_url": "https://github.com/rust-lang/rust/commit/89566d5a9b7c71ff528bf7e6e7c60f536f467a5d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/89566d5a9b7c71ff528bf7e6e7c60f536f467a5d/comments", "author": {"login": "chenyukang", "id": 230646, "node_id": "MDQ6VXNlcjIzMDY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/230646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenyukang", "html_url": "https://github.com/chenyukang", "followers_url": "https://api.github.com/users/chenyukang/followers", "following_url": "https://api.github.com/users/chenyukang/following{/other_user}", "gists_url": "https://api.github.com/users/chenyukang/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenyukang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenyukang/subscriptions", "organizations_url": "https://api.github.com/users/chenyukang/orgs", "repos_url": "https://api.github.com/users/chenyukang/repos", "events_url": "https://api.github.com/users/chenyukang/events{/privacy}", "received_events_url": "https://api.github.com/users/chenyukang/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chenyukang", "id": 230646, "node_id": "MDQ6VXNlcjIzMDY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/230646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenyukang", "html_url": "https://github.com/chenyukang", "followers_url": "https://api.github.com/users/chenyukang/followers", "following_url": "https://api.github.com/users/chenyukang/following{/other_user}", "gists_url": "https://api.github.com/users/chenyukang/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenyukang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenyukang/subscriptions", "organizations_url": "https://api.github.com/users/chenyukang/orgs", "repos_url": "https://api.github.com/users/chenyukang/repos", "events_url": "https://api.github.com/users/chenyukang/events{/privacy}", "received_events_url": "https://api.github.com/users/chenyukang/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8763965a2c7b68a33af5fc55999f9eff26749fd6", "url": "https://api.github.com/repos/rust-lang/rust/commits/8763965a2c7b68a33af5fc55999f9eff26749fd6", "html_url": "https://github.com/rust-lang/rust/commit/8763965a2c7b68a33af5fc55999f9eff26749fd6"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "fc105b1fdedc8c3f149faa9ca9fb611c9fbc286a", "filename": "src/bootstrap/configure.py", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/89566d5a9b7c71ff528bf7e6e7c60f536f467a5d/src%2Fbootstrap%2Fconfigure.py", "raw_url": "https://github.com/rust-lang/rust/raw/89566d5a9b7c71ff528bf7e6e7c60f536f467a5d/src%2Fbootstrap%2Fconfigure.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfigure.py?ref=89566d5a9b7c71ff528bf7e6e7c60f536f467a5d", "patch": "@@ -182,6 +182,11 @@ def err(msg):\n     print(\"configure: error: \" + msg)\n     sys.exit(1)\n \n+def is_value_list(key):\n+    for option in options:\n+        if option.name == key and option.desc.startswith('List of'):\n+            return True\n+    return False\n \n if '--help' in sys.argv or '-h' in sys.argv:\n     print('Usage: ./configure [options]')\n@@ -295,6 +300,8 @@ def set(key, value, config):\n     parts = key.split('.')\n     for i, part in enumerate(parts):\n         if i == len(parts) - 1:\n+            if is_value_list(part):\n+                value = value.split(',')\n             arr[part] = value\n         else:\n             if part not in arr:"}]}