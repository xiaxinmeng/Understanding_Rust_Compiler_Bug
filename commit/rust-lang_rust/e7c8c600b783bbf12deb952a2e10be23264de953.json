{"sha": "e7c8c600b783bbf12deb952a2e10be23264de953", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU3YzhjNjAwYjc4M2JiZjEyZGViOTUyYTJlMTBiZTIzMjY0ZGU5NTM=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-10-30T07:10:31Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-10-30T07:10:31Z"}, "message": "Merge #6411\n\n6411: remove FIXME after rust 1.47 comes out r=lnicola a=qy3u\n\nRemove 'FIXME' after rust 1.47 comes out.  And for compatibility with versions before 1.47, did't remove 'src'.\n\nCo-authored-by: yuqing <yuqing@ipfsforce.com>", "tree": {"sha": "cb53e26f5333e4a22169a2a3cee91ef7e4f16882", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cb53e26f5333e4a22169a2a3cee91ef7e4f16882"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e7c8c600b783bbf12deb952a2e10be23264de953", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfm7xnCRBK7hj4Ov3rIwAAdHIIADY1vr0GzfpNzFBz/WyJHdV6\nosPFROAOUQVVRfN2haCI+juprPelHn3WLb5/sK9ch3Uh7sRdKtzOS4FmWELwrJhj\nP+e7qb360MLOZx8Did3TYS8kUPB7dnhwUMLAuoQXUMYvDonJlImMyhjVz/0XWpdI\nKVbo8hg6kzVVAKLR1hvd8L1ZZg4W43OQwDxybH7FtiniM2RLQSs12LfwG6aK6Y22\ngUnwgITd81XVd2vrcFYwbe4IDsOrj4BDt/Fohra3Rs+eXlXOVCrTgkO5G9d3KJHg\nrkmmiG5voloNKEugRZ9VURJvWRxfS+hAgbNXQQpXz0cGdxui6dx9Y5IFo2xTgAg=\n=7C9y\n-----END PGP SIGNATURE-----\n", "payload": "tree cb53e26f5333e4a22169a2a3cee91ef7e4f16882\nparent 1b7e350e806540d6cc49bc9a86df8b79c5fe1e07\nparent 6c4bb30e95f72bc0f8ff263064153171d28ac67e\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1604041831 +0000\ncommitter GitHub <noreply@github.com> 1604041831 +0000\n\nMerge #6411\n\n6411: remove FIXME after rust 1.47 comes out r=lnicola a=qy3u\n\nRemove 'FIXME' after rust 1.47 comes out.  And for compatibility with versions before 1.47, did't remove 'src'.\n\nCo-authored-by: yuqing <yuqing@ipfsforce.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e7c8c600b783bbf12deb952a2e10be23264de953", "html_url": "https://github.com/rust-lang/rust/commit/e7c8c600b783bbf12deb952a2e10be23264de953", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e7c8c600b783bbf12deb952a2e10be23264de953/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b7e350e806540d6cc49bc9a86df8b79c5fe1e07", "url": "https://api.github.com/repos/rust-lang/rust/commits/1b7e350e806540d6cc49bc9a86df8b79c5fe1e07", "html_url": "https://github.com/rust-lang/rust/commit/1b7e350e806540d6cc49bc9a86df8b79c5fe1e07"}, {"sha": "6c4bb30e95f72bc0f8ff263064153171d28ac67e", "url": "https://api.github.com/repos/rust-lang/rust/commits/6c4bb30e95f72bc0f8ff263064153171d28ac67e", "html_url": "https://github.com/rust-lang/rust/commit/6c4bb30e95f72bc0f8ff263064153171d28ac67e"}], "stats": {"total": 7, "additions": 1, "deletions": 6}, "files": [{"sha": "f6e883ad170735e9dd7384fcaa6aa7ead9566ec4", "filename": "crates/project_model/src/sysroot.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/e7c8c600b783bbf12deb952a2e10be23264de953/crates%2Fproject_model%2Fsrc%2Fsysroot.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7c8c600b783bbf12deb952a2e10be23264de953/crates%2Fproject_model%2Fsrc%2Fsysroot.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproject_model%2Fsrc%2Fsysroot.rs?ref=e7c8c600b783bbf12deb952a2e10be23264de953", "patch": "@@ -60,9 +60,7 @@ impl Sysroot {\n         let mut sysroot = Sysroot { crates: Arena::default() };\n \n         for name in SYSROOT_CRATES.trim().lines() {\n-            // FIXME: first path when 1.47 comes out\n-            // https://github.com/rust-lang/rust/pull/73265\n-            let root = [format!(\"lib{}/lib.rs\", name), format!(\"{}/src/lib.rs\", name)]\n+            let root = [format!(\"{}/src/lib.rs\", name), format!(\"lib{}/lib.rs\", name)]\n                 .iter()\n                 .map(|it| sysroot_src_dir.join(it))\n                 .find(|it| it.exists());\n@@ -149,9 +147,6 @@ try running `rustup component add rust-src` or set `RUST_SRC_PATH`\",\n \n fn get_rust_src(sysroot_path: &AbsPath) -> Option<AbsPathBuf> {\n     // Try the new path first since the old one still exists.\n-    //\n-    // FIXME: remove `src` when 1.47 comes out\n-    // https://github.com/rust-lang/rust/pull/73265\n     let rust_src = sysroot_path.join(\"lib/rustlib/src/rust\");\n     log::debug!(\"Checking sysroot (looking for `library` and `src` dirs): {}\", rust_src.display());\n     [\"library\", \"src\"].iter().map(|it| rust_src.join(it)).find(|it| it.exists())"}]}