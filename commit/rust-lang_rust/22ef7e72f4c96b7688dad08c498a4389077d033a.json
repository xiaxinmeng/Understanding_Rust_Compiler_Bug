{"sha": "22ef7e72f4c96b7688dad08c498a4389077d033a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIyZWY3ZTcyZjRjOTZiNzY4OGRhZDA4YzQ5OGE0Mzg5MDc3ZDAzM2E=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-09-28T01:42:09Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-09-29T23:21:25Z"}, "message": "Require &Crate instead of @Crate\n\nThis help enable some later refactorings.", "tree": {"sha": "b2b5a8f5dcc7fd84b7f96a437eb8ceb370a160bd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b2b5a8f5dcc7fd84b7f96a437eb8ceb370a160bd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/22ef7e72f4c96b7688dad08c498a4389077d033a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/22ef7e72f4c96b7688dad08c498a4389077d033a", "html_url": "https://github.com/rust-lang/rust/commit/22ef7e72f4c96b7688dad08c498a4389077d033a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/22ef7e72f4c96b7688dad08c498a4389077d033a/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9883a6250b61eb4bb715684f9b25304f4f0d437e", "url": "https://api.github.com/repos/rust-lang/rust/commits/9883a6250b61eb4bb715684f9b25304f4f0d437e", "html_url": "https://github.com/rust-lang/rust/commit/9883a6250b61eb4bb715684f9b25304f4f0d437e"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "3c6ebc9311db59c3da9e0fa99ab93e2a932a9d5d", "filename": "src/librustc/middle/lint.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/22ef7e72f4c96b7688dad08c498a4389077d033a/src%2Flibrustc%2Fmiddle%2Flint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/22ef7e72f4c96b7688dad08c498a4389077d033a/src%2Flibrustc%2Fmiddle%2Flint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Flint.rs?ref=22ef7e72f4c96b7688dad08c498a4389077d033a", "patch": "@@ -135,7 +135,7 @@ pub type LintDict = HashMap<&'static str, LintSpec>;\n enum AttributedNode<'self> {\n     Item(@ast::item),\n     Method(&'self ast::method),\n-    Crate(@ast::Crate),\n+    Crate(&'self ast::Crate),\n }\n \n #[deriving(Eq)]\n@@ -1565,7 +1565,7 @@ impl Visitor<@mut Context> for LintCheckVisitor {\n     }\n }\n \n-pub fn check_crate(tcx: ty::ctxt, crate: @ast::Crate) {\n+pub fn check_crate(tcx: ty::ctxt, crate: &ast::Crate) {\n     let cx = @mut Context {\n         dict: @get_lint_dict(),\n         curr: SmallIntMap::new(),"}, {"sha": "718f8005b74bff032c5f637c9b0b6409d5105917", "filename": "src/librustc/middle/reachable.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/22ef7e72f4c96b7688dad08c498a4389077d033a/src%2Flibrustc%2Fmiddle%2Freachable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/22ef7e72f4c96b7688dad08c498a4389077d033a/src%2Flibrustc%2Fmiddle%2Freachable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Freachable.rs?ref=22ef7e72f4c96b7688dad08c498a4389077d033a", "patch": "@@ -268,7 +268,7 @@ impl ReachableContext {\n \n     // Step 1: Mark all public symbols, and add all public symbols that might\n     // be inlined to a worklist.\n-    fn mark_public_symbols(&self, crate: @Crate) {\n+    fn mark_public_symbols(&self, crate: &Crate) {\n         let reachable_symbols = self.reachable_symbols;\n         let worklist = self.worklist;\n \n@@ -429,7 +429,7 @@ impl ReachableContext {\n \n pub fn find_reachable(tcx: ty::ctxt,\n                       method_map: typeck::method_map,\n-                      crate: @Crate)\n+                      crate: &Crate)\n                       -> @mut HashSet<NodeId> {\n     // XXX(pcwalton): We only need to mark symbols that are exported. But this\n     // is more complicated than just looking at whether the symbol is `pub`,"}]}