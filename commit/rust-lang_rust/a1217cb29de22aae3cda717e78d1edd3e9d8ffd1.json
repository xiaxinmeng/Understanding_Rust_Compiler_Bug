{"sha": "a1217cb29de22aae3cda717e78d1edd3e9d8ffd1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmExMjE3Y2IyOWRlMjJhYWUzY2RhNzE3ZTc4ZDFlZGQzZTlkOGZmZDE=", "commit": {"author": {"name": "David Hewitt", "email": "1939362+davidhewitt@users.noreply.github.com", "date": "2020-06-27T20:18:02Z"}, "committer": {"name": "David Hewitt", "email": "1939362+davidhewitt@users.noreply.github.com", "date": "2020-06-27T21:02:01Z"}, "message": "Add `format_args_capture` to the unstable book", "tree": {"sha": "6bc795b7820949e43796b90d5db7882dcf46a792", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6bc795b7820949e43796b90d5db7882dcf46a792"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a1217cb29de22aae3cda717e78d1edd3e9d8ffd1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a1217cb29de22aae3cda717e78d1edd3e9d8ffd1", "html_url": "https://github.com/rust-lang/rust/commit/a1217cb29de22aae3cda717e78d1edd3e9d8ffd1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a1217cb29de22aae3cda717e78d1edd3e9d8ffd1/comments", "author": {"login": "davidhewitt", "id": 1939362, "node_id": "MDQ6VXNlcjE5MzkzNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1939362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidhewitt", "html_url": "https://github.com/davidhewitt", "followers_url": "https://api.github.com/users/davidhewitt/followers", "following_url": "https://api.github.com/users/davidhewitt/following{/other_user}", "gists_url": "https://api.github.com/users/davidhewitt/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidhewitt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidhewitt/subscriptions", "organizations_url": "https://api.github.com/users/davidhewitt/orgs", "repos_url": "https://api.github.com/users/davidhewitt/repos", "events_url": "https://api.github.com/users/davidhewitt/events{/privacy}", "received_events_url": "https://api.github.com/users/davidhewitt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidhewitt", "id": 1939362, "node_id": "MDQ6VXNlcjE5MzkzNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1939362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidhewitt", "html_url": "https://github.com/davidhewitt", "followers_url": "https://api.github.com/users/davidhewitt/followers", "following_url": "https://api.github.com/users/davidhewitt/following{/other_user}", "gists_url": "https://api.github.com/users/davidhewitt/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidhewitt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidhewitt/subscriptions", "organizations_url": "https://api.github.com/users/davidhewitt/orgs", "repos_url": "https://api.github.com/users/davidhewitt/repos", "events_url": "https://api.github.com/users/davidhewitt/events{/privacy}", "received_events_url": "https://api.github.com/users/davidhewitt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8caf60407033e84592821a3f7b3917fe80d343e0", "url": "https://api.github.com/repos/rust-lang/rust/commits/8caf60407033e84592821a3f7b3917fe80d343e0", "html_url": "https://github.com/rust-lang/rust/commit/8caf60407033e84592821a3f7b3917fe80d343e0"}], "stats": {"total": 47, "additions": 47, "deletions": 0}, "files": [{"sha": "64b1b3d81bd83ce7641905c906e9f92ce8d7b69a", "filename": "src/doc/unstable-book/src/library-features/format-args-capture.md", "status": "added", "additions": 47, "deletions": 0, "changes": 47, "blob_url": "https://github.com/rust-lang/rust/blob/a1217cb29de22aae3cda717e78d1edd3e9d8ffd1/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fformat-args-capture.md", "raw_url": "https://github.com/rust-lang/rust/raw/a1217cb29de22aae3cda717e78d1edd3e9d8ffd1/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fformat-args-capture.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fformat-args-capture.md?ref=a1217cb29de22aae3cda717e78d1edd3e9d8ffd1", "patch": "@@ -0,0 +1,47 @@\n+# `format_args_capture`\n+\n+The tracking issue for this feature is: [#67984]\n+\n+[#67984]: https://github.com/rust-lang/rust/issues/67984\n+\n+------------------------\n+\n+Enables `format_args!` (and macros which use `format_args!` in their implementation, such\n+as `format!`, `print!` and `panic!`) to capture variables from the surrounding scope.\n+This avoids the need to pass named parameters when the binding in question\n+already exists in scope.\n+\n+```rust\n+#![feature(format_args_capture)]\n+\n+let (person, species, name) = (\"Charlie Brown\", \"dog\", \"Snoopy\");\n+\n+// captures named argument `person`\n+print!(\"Hello {person}\");\n+\n+// captures named arguments `species` and `name`\n+format!(\"The {species}'s name is {name}.\");\n+```\n+\n+This also works for formatting parameters such as width and precision:\n+\n+```rust\n+#![feature(format_args_capture)]\n+\n+let precision = 2;\n+let s = format!(\"{:.precision$}\", 1.324223);\n+\n+assert_eq!(&s, \"1.32\");\n+```\n+\n+A non-exhaustive list of macros which benefit from this functionality include:\n+- `format!`\n+- `print!` and `println!`\n+- `eprint!` and `eprintln!`\n+- `write!` and `writeln!`\n+- `panic!`\n+- `unreachable!`\n+- `unimplemented!`\n+- `todo!`\n+- `assert!` and similar\n+- macros in many thirdparty crates, such as `log`"}]}