{"sha": "b844d453b2cf2c7928cf6c4969616d4e089c4e21", "node_id": "C_kwDOAAsO6NoAKGI4NDRkNDUzYjJjZjJjNzkyOGNmNmM0OTY5NjE2ZDRlMDg5YzRlMjE", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-11-18T09:40:59Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-11-18T09:40:59Z"}, "message": "Merge #10795\n\n10795: Remove unwrap in doc path resolution r=Veykril a=udoprog\n\nI keep hitting this constantly in my project, and I haven't dug very deep into the root cause. But seeing as the project otherwise compiles it appears to be something unsupported is being incorrectly parsed in rust-analyzer which for other cases is handled by returning `None`.\n\nCo-authored-by: John-John Tedro <udoprog@tedro.se>", "tree": {"sha": "14e5392d25c0708eafa809192c25549ab5fd9ec2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/14e5392d25c0708eafa809192c25549ab5fd9ec2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b844d453b2cf2c7928cf6c4969616d4e089c4e21", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhlh+rCRBK7hj4Ov3rIwAASawIAHIt9PTuSztkyyHKY/wGOYRP\nj3zLN0A4WQUqE5Fy8c22BjBP2RAQzSO+M2T0/L/Sdql1vkkFGmC02u/vIHUkaTEX\n+N59c5o3vB9s7oQsrTeVYrLYzqXV50iSSfSgiaFrWNKszBrCqhDaXt4Qr/xfUpvZ\nAcGBxEmWqgNIq1uJGdkCYoeDV42Rdt9YK3BUz91Hl+jg2cRKMS06cFXNBvS/zU+w\nSh/mTHBt3c7FO+AWJpjw1Ev+/sKa4qtL5+3Rzi8JRjYCS1p9NoLSIC/KsVr2oeLF\nwTktHT/+a2oJeLjB0aMowzIg64dodpV7wZavvbIgq9x36rV+8/yDI2b14/ebCII=\n=u7oM\n-----END PGP SIGNATURE-----\n", "payload": "tree 14e5392d25c0708eafa809192c25549ab5fd9ec2\nparent 8d24f0e60ab70a3d5ed17b4fbc709bbe6f1f30f8\nparent 76e3feeeb558669620be741ea5985d60d62318ff\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1637228459 +0000\ncommitter GitHub <noreply@github.com> 1637228459 +0000\n\nMerge #10795\n\n10795: Remove unwrap in doc path resolution r=Veykril a=udoprog\n\nI keep hitting this constantly in my project, and I haven't dug very deep into the root cause. But seeing as the project otherwise compiles it appears to be something unsupported is being incorrectly parsed in rust-analyzer which for other cases is handled by returning `None`.\n\nCo-authored-by: John-John Tedro <udoprog@tedro.se>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b844d453b2cf2c7928cf6c4969616d4e089c4e21", "html_url": "https://github.com/rust-lang/rust/commit/b844d453b2cf2c7928cf6c4969616d4e089c4e21", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b844d453b2cf2c7928cf6c4969616d4e089c4e21/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8d24f0e60ab70a3d5ed17b4fbc709bbe6f1f30f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/8d24f0e60ab70a3d5ed17b4fbc709bbe6f1f30f8", "html_url": "https://github.com/rust-lang/rust/commit/8d24f0e60ab70a3d5ed17b4fbc709bbe6f1f30f8"}, {"sha": "76e3feeeb558669620be741ea5985d60d62318ff", "url": "https://api.github.com/repos/rust-lang/rust/commits/76e3feeeb558669620be741ea5985d60d62318ff", "html_url": "https://github.com/rust-lang/rust/commit/76e3feeeb558669620be741ea5985d60d62318ff"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "2f6eed82cb6a0858de096b4f6f13f1664f1643c7", "filename": "crates/hir/src/attrs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b844d453b2cf2c7928cf6c4969616d4e089c4e21/crates%2Fhir%2Fsrc%2Fattrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b844d453b2cf2c7928cf6c4969616d4e089c4e21/crates%2Fhir%2Fsrc%2Fattrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir%2Fsrc%2Fattrs.rs?ref=b844d453b2cf2c7928cf6c4969616d4e089c4e21", "patch": "@@ -147,7 +147,7 @@ fn resolve_doc_path(\n         AttrDefId::MacroDefId(_) => return None,\n     };\n     let path = ast::Path::parse(link).ok()?;\n-    let modpath = ModPath::from_src(db.upcast(), path, &Hygiene::new_unhygienic()).unwrap();\n+    let modpath = ModPath::from_src(db.upcast(), path, &Hygiene::new_unhygienic())?;\n     let resolved = resolver.resolve_module_path_in_items(db.upcast(), &modpath);\n     let resolved = if resolved == PerNs::none() {\n         resolver.resolve_module_path_in_trait_assoc_items(db.upcast(), &modpath)?"}]}