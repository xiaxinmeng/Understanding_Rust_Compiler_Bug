{"sha": "dfb3713cdb7303a250d8b23792fe801319edf36c", "node_id": "C_kwDOAAsO6NoAKGRmYjM3MTNjZGI3MzAzYTI1MGQ4YjIzNzkyZmU4MDEzMTllZGYzNmM", "commit": {"author": {"name": "Scott McMurray", "email": "scottmcm@users.noreply.github.com", "date": "2022-08-10T17:02:03Z"}, "committer": {"name": "Scott McMurray", "email": "scottmcm@users.noreply.github.com", "date": "2022-08-10T17:02:03Z"}, "message": "Update error message to clarify that it's not the enum itself that's non_exhaustive", "tree": {"sha": "f54aeb9880393e6b93fd5d11eff1e5bbe9c86585", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f54aeb9880393e6b93fd5d11eff1e5bbe9c86585"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dfb3713cdb7303a250d8b23792fe801319edf36c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dfb3713cdb7303a250d8b23792fe801319edf36c", "html_url": "https://github.com/rust-lang/rust/commit/dfb3713cdb7303a250d8b23792fe801319edf36c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dfb3713cdb7303a250d8b23792fe801319edf36c/comments", "author": {"login": "scottmcm", "id": 18526288, "node_id": "MDQ6VXNlcjE4NTI2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottmcm", "html_url": "https://github.com/scottmcm", "followers_url": "https://api.github.com/users/scottmcm/followers", "following_url": "https://api.github.com/users/scottmcm/following{/other_user}", "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions", "organizations_url": "https://api.github.com/users/scottmcm/orgs", "repos_url": "https://api.github.com/users/scottmcm/repos", "events_url": "https://api.github.com/users/scottmcm/events{/privacy}", "received_events_url": "https://api.github.com/users/scottmcm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "scottmcm", "id": 18526288, "node_id": "MDQ6VXNlcjE4NTI2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottmcm", "html_url": "https://github.com/scottmcm", "followers_url": "https://api.github.com/users/scottmcm/followers", "following_url": "https://api.github.com/users/scottmcm/following{/other_user}", "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions", "organizations_url": "https://api.github.com/users/scottmcm/orgs", "repos_url": "https://api.github.com/users/scottmcm/repos", "events_url": "https://api.github.com/users/scottmcm/events{/privacy}", "received_events_url": "https://api.github.com/users/scottmcm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a3b84ad197fb209d903857df747af3ca0a1f2c25", "url": "https://api.github.com/repos/rust-lang/rust/commits/a3b84ad197fb209d903857df747af3ca0a1f2c25", "html_url": "https://github.com/rust-lang/rust/commit/a3b84ad197fb209d903857df747af3ca0a1f2c25"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "6c7b2a2889fa49526241835a6ef0c43c6c358b83", "filename": "compiler/rustc_typeck/src/check/cast.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dfb3713cdb7303a250d8b23792fe801319edf36c/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fcast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dfb3713cdb7303a250d8b23792fe801319edf36c/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fcast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fcast.rs?ref=dfb3713cdb7303a250d8b23792fe801319edf36c", "patch": "@@ -601,7 +601,7 @@ impl<'a, 'tcx> CastCheck<'tcx> {\n                     self.cast_ty,\n                     fcx,\n                 )\n-                .note(\"cannot cast a non-exhaustive enum defined in another crate\")\n+                .note(\"cannot cast an enum with a non-exhaustive variant when it's defined in another crate\")\n                 .emit();\n             }\n         }"}, {"sha": "a61dcf8399f17094d8ae373f2b8acb1d365243b4", "filename": "src/test/ui/rfc-2008-non-exhaustive/enum-as-cast.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dfb3713cdb7303a250d8b23792fe801319edf36c/src%2Ftest%2Fui%2Frfc-2008-non-exhaustive%2Fenum-as-cast.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/dfb3713cdb7303a250d8b23792fe801319edf36c/src%2Ftest%2Fui%2Frfc-2008-non-exhaustive%2Fenum-as-cast.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2008-non-exhaustive%2Fenum-as-cast.stderr?ref=dfb3713cdb7303a250d8b23792fe801319edf36c", "patch": "@@ -4,7 +4,7 @@ error[E0606]: casting `FieldLessWithNonExhaustiveVariant` as `u8` is invalid\n LL |     let d = e as u8;\n    |             ^^^^^^^\n    |\n-   = note: cannot cast a non-exhaustive enum defined in another crate\n+   = note: cannot cast an enum with a non-exhaustive variant when it's defined in another crate\n \n error: aborting due to previous error\n "}]}