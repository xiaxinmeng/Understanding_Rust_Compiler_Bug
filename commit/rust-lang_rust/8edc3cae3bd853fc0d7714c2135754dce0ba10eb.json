{"sha": "8edc3cae3bd853fc0d7714c2135754dce0ba10eb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhlZGMzY2FlM2JkODUzZmMwZDc3MTRjMjEzNTc1NGRjZTBiYTEwZWI=", "commit": {"author": {"name": "Paul Woolcock", "email": "paul@woolcock.us", "date": "2017-06-23T15:01:41Z"}, "committer": {"name": "Paul Woolcock", "email": "paul@woolcock.us", "date": "2017-06-24T22:41:05Z"}, "message": "Add compile-fail test for the new feature gate", "tree": {"sha": "04e9864f4ab4e772938a5da1edc6db48cd4c0d62", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/04e9864f4ab4e772938a5da1edc6db48cd4c0d62"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8edc3cae3bd853fc0d7714c2135754dce0ba10eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8edc3cae3bd853fc0d7714c2135754dce0ba10eb", "html_url": "https://github.com/rust-lang/rust/commit/8edc3cae3bd853fc0d7714c2135754dce0ba10eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8edc3cae3bd853fc0d7714c2135754dce0ba10eb/comments", "author": null, "committer": null, "parents": [{"sha": "8e5a3023c9ef299be6a617bca55ad16d12ce1036", "url": "https://api.github.com/repos/rust-lang/rust/commits/8e5a3023c9ef299be6a617bca55ad16d12ce1036", "html_url": "https://github.com/rust-lang/rust/commit/8e5a3023c9ef299be6a617bca55ad16d12ce1036"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "1124740280960de2f7a63106294cec0df364f7b4", "filename": "src/test/compile-fail/feature-gate-allow_fail.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/8edc3cae3bd853fc0d7714c2135754dce0ba10eb/src%2Ftest%2Fcompile-fail%2Ffeature-gate-allow_fail.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8edc3cae3bd853fc0d7714c2135754dce0ba10eb/src%2Ftest%2Fcompile-fail%2Ffeature-gate-allow_fail.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-allow_fail.rs?ref=8edc3cae3bd853fc0d7714c2135754dce0ba10eb", "patch": "@@ -0,0 +1,17 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// check that #[allow_fail] is feature-gated\n+\n+#[allow_fail] //~ ERROR allow_fail attribute is currently unstable\n+fn ok_to_fail() {\n+    assert!(false);\n+}\n+"}, {"sha": "aa9cf76617f6930761001dd74a6217e441122dbd", "filename": "src/test/run-pass/test-allow-fail-attr.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8edc3cae3bd853fc0d7714c2135754dce0ba10eb/src%2Ftest%2Frun-pass%2Ftest-allow-fail-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8edc3cae3bd853fc0d7714c2135754dce0ba10eb/src%2Ftest%2Frun-pass%2Ftest-allow-fail-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftest-allow-fail-attr.rs?ref=8edc3cae3bd853fc0d7714c2135754dce0ba10eb", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // compile-flags: --test\n+#![feature(allow_fail)]\n \n #[test]\n #[allow_fail]"}]}