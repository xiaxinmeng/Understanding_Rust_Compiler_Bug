{"sha": "85804f66be86509d5c2e8ff047e2edd47332986b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg1ODA0ZjY2YmU4NjUwOWQ1YzJlOGZmMDQ3ZTJlZGQ0NzMzMjk4NmI=", "commit": {"author": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2018-06-28T22:07:12Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-06-28T22:07:12Z"}, "message": "Rollup merge of #51765 - jonas-schievink:patch-1, r=KodrAus\n\nUse assert_eq! in copy_from_slice\n\nThis will print both lengths when the assertion fails instead of just saying that they're different.\n\nOutput of current stable and nightly (modulo the exact line number):\n```\nthread 'main' panicked at 'destination and source slices have different lengths', libcore/slice/mod.rs:1645:9\n```\n\nOutput after this PR:\n```\nthread 'main' panicked at 'assertion failed: `(left == right)`\n  left: `123`,\n right: `456`: destination and source slices have different lengths', libcore/slice/mod.rs:1645:9\n```\n\nNote that I have not run the tests locally.", "tree": {"sha": "c147060937241eeb3d9179e47fec829c3dba87b1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c147060937241eeb3d9179e47fec829c3dba87b1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/85804f66be86509d5c2e8ff047e2edd47332986b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbNVwQCRBK7hj4Ov3rIwAAdHIIAHV4eaLdm5SNZdd9x2Mi5e8m\nkikm7KuwJRWlKCUxwx/osRs2PiSZAalMJenSENTGBhkENft+6atVVRG7zaP+KP2O\nIAiqhZtN9D+MKlb8V2gGY06U2GWV3cud07G4Z+N7IbldeBhHg6xAKQzjg7W8BBFi\nACbakDAfmpegXmxvB8sYAubKHJnd8x4K3XLKCcrNpxXJNlfQh72D+IDYLwVvyZgU\ntqacDhWDs6PtE1oSvtoPYqvjDAzpQ/uKcSaOAyUE8ZT4LAQZvwFmz41Wpru4GkMc\npXvU7p4ubaHSCV5ruSy9ZhJBDtxVvGfQodJXd3gXjHwVV0aL5UTb8dCYmM4UpX8=\n=Ru3O\n-----END PGP SIGNATURE-----\n", "payload": "tree c147060937241eeb3d9179e47fec829c3dba87b1\nparent 57aceeecc06b887b885908ffc3df917a9fabaa4b\nparent 6b0c2fd1d6caf3317da930912b9dc85ed92747f7\nauthor Mark Rousskov <mark.simulacrum@gmail.com> 1530223632 -0600\ncommitter GitHub <noreply@github.com> 1530223632 -0600\n\nRollup merge of #51765 - jonas-schievink:patch-1, r=KodrAus\n\nUse assert_eq! in copy_from_slice\n\nThis will print both lengths when the assertion fails instead of just saying that they're different.\n\nOutput of current stable and nightly (modulo the exact line number):\n```\nthread 'main' panicked at 'destination and source slices have different lengths', libcore/slice/mod.rs:1645:9\n```\n\nOutput after this PR:\n```\nthread 'main' panicked at 'assertion failed: `(left == right)`\n  left: `123`,\n right: `456`: destination and source slices have different lengths', libcore/slice/mod.rs:1645:9\n```\n\nNote that I have not run the tests locally.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/85804f66be86509d5c2e8ff047e2edd47332986b", "html_url": "https://github.com/rust-lang/rust/commit/85804f66be86509d5c2e8ff047e2edd47332986b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/85804f66be86509d5c2e8ff047e2edd47332986b/comments", "author": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "57aceeecc06b887b885908ffc3df917a9fabaa4b", "url": "https://api.github.com/repos/rust-lang/rust/commits/57aceeecc06b887b885908ffc3df917a9fabaa4b", "html_url": "https://github.com/rust-lang/rust/commit/57aceeecc06b887b885908ffc3df917a9fabaa4b"}, {"sha": "6b0c2fd1d6caf3317da930912b9dc85ed92747f7", "url": "https://api.github.com/repos/rust-lang/rust/commits/6b0c2fd1d6caf3317da930912b9dc85ed92747f7", "html_url": "https://github.com/rust-lang/rust/commit/6b0c2fd1d6caf3317da930912b9dc85ed92747f7"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "0cbdbc4ad663af99c47a7838c2c66ff44e628641", "filename": "src/libcore/slice/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/85804f66be86509d5c2e8ff047e2edd47332986b/src%2Flibcore%2Fslice%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85804f66be86509d5c2e8ff047e2edd47332986b/src%2Flibcore%2Fslice%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fslice%2Fmod.rs?ref=85804f66be86509d5c2e8ff047e2edd47332986b", "patch": "@@ -1642,8 +1642,8 @@ impl<T> [T] {\n     /// [`split_at_mut`]: #method.split_at_mut\n     #[stable(feature = \"copy_from_slice\", since = \"1.9.0\")]\n     pub fn copy_from_slice(&mut self, src: &[T]) where T: Copy {\n-        assert!(self.len() == src.len(),\n-                \"destination and source slices have different lengths\");\n+        assert_eq!(self.len(), src.len(),\n+                   \"destination and source slices have different lengths\");\n         unsafe {\n             ptr::copy_nonoverlapping(\n                 src.as_ptr(), self.as_mut_ptr(), self.len());"}]}