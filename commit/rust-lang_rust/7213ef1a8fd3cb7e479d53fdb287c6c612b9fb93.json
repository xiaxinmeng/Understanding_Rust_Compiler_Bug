{"sha": "7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcyMTNlZjFhOGZkM2NiN2U0NzlkNTNmZGIyODdjNmM2MTJiOWZiOTM=", "commit": {"author": {"name": "Flavio Percoco", "email": "flaper87@gmail.com", "date": "2015-01-27T00:07:31Z"}, "committer": {"name": "Flavio Percoco", "email": "flaper87@gmail.com", "date": "2015-02-22T01:14:26Z"}, "message": "Test all the things", "tree": {"sha": "9032ce53716586ff272b78a46b1a0beb9da2c96e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9032ce53716586ff272b78a46b1a0beb9da2c96e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "html_url": "https://github.com/rust-lang/rust/commit/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/comments", "author": {"login": "flaper87", "id": 13816, "node_id": "MDQ6VXNlcjEzODE2", "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flaper87", "html_url": "https://github.com/flaper87", "followers_url": "https://api.github.com/users/flaper87/followers", "following_url": "https://api.github.com/users/flaper87/following{/other_user}", "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}", "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions", "organizations_url": "https://api.github.com/users/flaper87/orgs", "repos_url": "https://api.github.com/users/flaper87/repos", "events_url": "https://api.github.com/users/flaper87/events{/privacy}", "received_events_url": "https://api.github.com/users/flaper87/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flaper87", "id": 13816, "node_id": "MDQ6VXNlcjEzODE2", "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flaper87", "html_url": "https://github.com/flaper87", "followers_url": "https://api.github.com/users/flaper87/followers", "following_url": "https://api.github.com/users/flaper87/following{/other_user}", "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}", "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions", "organizations_url": "https://api.github.com/users/flaper87/orgs", "repos_url": "https://api.github.com/users/flaper87/repos", "events_url": "https://api.github.com/users/flaper87/events{/privacy}", "received_events_url": "https://api.github.com/users/flaper87/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0be1e430cf8762095178cb8c94a17f1bab32a191", "url": "https://api.github.com/repos/rust-lang/rust/commits/0be1e430cf8762095178cb8c94a17f1bab32a191", "html_url": "https://github.com/rust-lang/rust/commit/0be1e430cf8762095178cb8c94a17f1bab32a191"}], "stats": {"total": 269, "additions": 269, "deletions": 0}, "files": [{"sha": "bcc3353ba02028a26bf4123255f3a8f11316bc65", "filename": "src/test/compile-fail/coherence-default-trait-impl.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Fcoherence-default-trait-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Fcoherence-default-trait-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcoherence-default-trait-impl.rs?ref=7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "patch": "@@ -0,0 +1,25 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// ignore-tidy-linelength\n+\n+#![feature(optin_builtin_traits)]\n+\n+trait MyTrait {}\n+\n+impl MyTrait for .. {}\n+\n+impl MyTrait for .. {}\n+//~^ ERROR conflicting implementations for trait `MyTrait`\n+\n+impl MyTrait for (i32, i32) {}\n+//~^ ERROR implementations for traits providing default implementations are only allowed on\n+\n+fn main() {}"}, {"sha": "a33cd0edca5b480c6b7f7d00c71f1c437a864d2e", "filename": "src/test/compile-fail/syntaxt-default-trait-impls.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Fsyntaxt-default-trait-impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Fsyntaxt-default-trait-impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fsyntaxt-default-trait-impls.rs?ref=7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(optin_builtin_traits)]\n+\n+trait MyDefaultImpl {}\n+\n+impl<T> MyDefaultImpl for .. {}\n+//~^ ERROR default trait implementations are not allowed to have genercis\n+\n+fn main() {}"}, {"sha": "a27f7f7ebbe0f4b405d5d701bbb8309bd9de464f", "filename": "src/test/compile-fail/typeck-default-trait-impl-constituent-types-2.rs", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-constituent-types-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-constituent-types-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-constituent-types-2.rs?ref=7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "patch": "@@ -0,0 +1,30 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(optin_builtin_traits)]\n+\n+trait MyTrait {}\n+\n+impl MyTrait for .. {}\n+\n+struct MyS;\n+\n+struct MyS2;\n+\n+impl !MyTrait for MyS2 {}\n+\n+fn is_mytrait<T: MyTrait>() {}\n+\n+fn main() {\n+    is_mytrait::<MyS>();\n+\n+    is_mytrait::<(MyS2, MyS)>();\n+    //~^ ERROR the trait `MyTrait` is not implemented for the type `MyS2`\n+}"}, {"sha": "556a0a1a0f3429c1f36c91db2989a4e30984d031", "filename": "src/test/compile-fail/typeck-default-trait-impl-constituent-types.rs", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-constituent-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-constituent-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-constituent-types.rs?ref=7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "patch": "@@ -0,0 +1,36 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(optin_builtin_traits)]\n+\n+trait MyTrait {}\n+\n+impl MyTrait for .. {}\n+impl<T> !MyTrait for *mut T {}\n+\n+struct MyS;\n+\n+struct MyS2;\n+\n+impl !MyTrait for MyS2 {}\n+\n+struct MyS3;\n+\n+fn is_mytrait<T: MyTrait>() {}\n+\n+fn main() {\n+    is_mytrait::<MyS>();\n+\n+    is_mytrait::<MyS2>();\n+    //~^ ERROR the trait `MyTrait` is not implemented for the type `MyS2`\n+\n+    is_mytrait::<Vec<MyS3>>();\n+    //~^ ERROR the trait `MyTrait` is not implemented for the type `*mut MyS3`\n+}"}, {"sha": "db4d1fe485b32d33e13d15601d016f78930c01d4", "filename": "src/test/compile-fail/typeck-default-trait-impl-negation-send.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-negation-send.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-negation-send.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-negation-send.rs?ref=7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(optin_builtin_traits)]\n+\n+struct MySendable {\n+   t: *mut u8\n+}\n+\n+unsafe impl Send for MySendable {}\n+\n+struct MyNotSendable {\n+   t: *mut u8\n+}\n+\n+impl !Send for MyNotSendable {}\n+\n+fn is_send<T: Send>() {}\n+\n+fn main() {\n+    is_send::<MySendable>();\n+    is_send::<MyNotSendable>();\n+    //~^ ERROR the trait `core::marker::Send` is not implemented for the type `MyNotSendable`\n+}"}, {"sha": "d613589e7d77741b74ca333211c22e5c54a9ec9d", "filename": "src/test/compile-fail/typeck-default-trait-impl-negation-sync.rs", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-negation-sync.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-negation-sync.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-negation-sync.rs?ref=7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "patch": "@@ -0,0 +1,50 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// ignore-tidy-linelength\n+\n+#![feature(optin_builtin_traits)]\n+\n+use std::marker::Managed;\n+use std::cell::UnsafeCell;\n+\n+struct MySync {\n+   t: *mut u8\n+}\n+\n+unsafe impl Sync for MySync {}\n+\n+struct MyNotSync {\n+   t: *mut u8\n+}\n+\n+impl !Sync for MyNotSync {}\n+\n+struct MyTypeWUnsafe {\n+   t: UnsafeCell<u8>\n+}\n+\n+struct MyTypeManaged {\n+   t: Managed\n+}\n+\n+fn is_sync<T: Sync>() {}\n+\n+fn main() {\n+    is_sync::<MySync>();\n+    is_sync::<MyNotSync>();\n+    //~^ ERROR the trait `core::marker::Sync` is not implemented for the type `MyNotSync`\n+\n+    is_sync::<MyTypeWUnsafe>();\n+    //~^ ERROR the trait `core::marker::Sync` is not implemented for the type `core::cell::UnsafeCell<u8>`\n+\n+    is_sync::<MyTypeManaged>();\n+    //~^ ERROR the trait `core::marker::Sync` is not implemented for the type `core::marker::Managed`\n+}"}, {"sha": "4b91d0b7a736c6f1c1f5d4b692c23fa854333894", "filename": "src/test/compile-fail/typeck-default-trait-impl-negation.rs", "status": "added", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-negation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-negation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-negation.rs?ref=7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "patch": "@@ -0,0 +1,42 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(optin_builtin_traits)]\n+\n+trait MyTrait {}\n+\n+impl MyTrait for .. {}\n+\n+unsafe trait MyUnsafeTrait {}\n+\n+unsafe impl MyUnsafeTrait for .. {}\n+\n+struct ThisImplsTrait;\n+\n+impl !MyUnsafeTrait for ThisImplsTrait {}\n+\n+\n+struct ThisImplsUnsafeTrait;\n+\n+impl !MyTrait for ThisImplsUnsafeTrait {}\n+\n+fn is_my_trait<T: MyTrait>() {}\n+fn is_my_unsafe_trait<T: MyUnsafeTrait>() {}\n+\n+fn main() {\n+    is_my_trait::<ThisImplsTrait>();\n+    is_my_trait::<ThisImplsUnsafeTrait>();\n+    //~^ ERROR the trait `MyTrait` is not implemented for the type `ThisImplsUnsafeTrait`\n+\n+    is_my_unsafe_trait::<ThisImplsTrait>();\n+    //~^ ERROR the trait `MyUnsafeTrait` is not implemented for the type `ThisImplsTrait`\n+\n+    is_my_unsafe_trait::<ThisImplsUnsafeTrait>();\n+}"}, {"sha": "10ba8c74164830efeed897659da41a04faa5e99b", "filename": "src/test/compile-fail/typeck-default-trait-impl-outside-crate.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-outside-crate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-outside-crate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftypeck-default-trait-impl-outside-crate.rs?ref=7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// ignore-tidy-linelength\n+\n+#![feature(optin_builtin_traits)]\n+\n+impl Copy for .. {}\n+//~^ ERROR cannot create default implementations for traits outside the crate they're defined in; define a new trait instead.\n+\n+fn main() {}"}, {"sha": "a5246b9300c91ad2f1f4149e0d732ad6b19634c5", "filename": "src/test/pretty/default-trait-impl.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fpretty%2Fdefault-trait-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93/src%2Ftest%2Fpretty%2Fdefault-trait-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fdefault-trait-impl.rs?ref=7213ef1a8fd3cb7e479d53fdb287c6c612b9fb93", "patch": "@@ -0,0 +1,19 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(optin_builtin_traits)]\n+\n+// pp-exact\n+\n+trait MyTrait { }\n+\n+impl MyTrait for .. { }\n+\n+pub fn main() { }"}]}