{"sha": "5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU2MTRlODNlODE3YTFkMTUyODZhMWQ0ZWViNmI2NjVkZGY1ZmUzY2I=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-05-12T06:43:07Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-05-14T16:25:18Z"}, "message": "Remove vecs_implicitly_copyable from the compiler", "tree": {"sha": "0f7d3a599d53daa525c9f508a9df945b852b24ad", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0f7d3a599d53daa525c9f508a9df945b852b24ad"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb", "html_url": "https://github.com/rust-lang/rust/commit/5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ccfb3ebf0310444804542c93e079a78c20bf5415", "url": "https://api.github.com/repos/rust-lang/rust/commits/ccfb3ebf0310444804542c93e079a78c20bf5415", "html_url": "https://github.com/rust-lang/rust/commit/ccfb3ebf0310444804542c93e079a78c20bf5415"}], "stats": {"total": 19, "additions": 1, "deletions": 18}, "files": [{"sha": "7ea0840880c33c79a86089e0e7b5fdd2efd87a32", "filename": "src/librustc/middle/lint.rs", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb/src%2Flibrustc%2Fmiddle%2Flint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb/src%2Flibrustc%2Fmiddle%2Flint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Flint.rs?ref=5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb", "patch": "@@ -51,7 +51,6 @@ pub enum lint {\n     implicit_copies,\n     unrecognized_lint,\n     non_implicitly_copyable_typarams,\n-    vecs_implicitly_copyable,\n     deprecated_pattern,\n     non_camel_case_types,\n     type_limits,\n@@ -132,14 +131,6 @@ static lint_table: &'static [(&'static str, LintSpec)] = &[\n         default: warn\n      }),\n \n-    (\"vecs_implicitly_copyable\",\n-     LintSpec {\n-        lint: vecs_implicitly_copyable,\n-        desc: \"make vecs and strs not implicitly copyable \\\n-              (only checked at top level)\",\n-        default: warn\n-     }),\n-\n     (\"implicit_copies\",\n      LintSpec {\n         lint: implicit_copies,"}, {"sha": "fbb84751d030edbb737273dc50d231ce7ac3854e", "filename": "src/librustc/middle/ty.rs", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb/src%2Flibrustc%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb/src%2Flibrustc%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fty.rs?ref=5614e83e817a1d15286a1d4eeb6b665ddf5fe3cb", "patch": "@@ -14,8 +14,6 @@ use metadata::csearch;\n use metadata;\n use middle::const_eval;\n use middle::freevars;\n-use middle::lint::{get_lint_level, allow};\n-use middle::lint;\n use middle::resolve::{Impl, MethodInfo};\n use middle::resolve;\n use middle::ty;\n@@ -241,7 +239,6 @@ struct ctxt_ {\n     diag: @syntax::diagnostic::span_handler,\n     interner: @mut HashMap<intern_key, ~t_box_>,\n     next_id: @mut uint,\n-    vecs_implicitly_copyable: bool,\n     legacy_modes: bool,\n     cstore: @mut metadata::cstore::CStore,\n     sess: session::Session,\n@@ -992,14 +989,10 @@ pub fn mk_ctxt(s: session::Session,\n         }\n     }\n \n-    let vecs_implicitly_copyable =\n-        get_lint_level(s.lint_settings.default_settings,\n-                       lint::vecs_implicitly_copyable) == allow;\n     @ctxt_ {\n         diag: s.diagnostic(),\n         interner: @mut HashMap::new(),\n         next_id: @mut primitives::LAST_PRIMITIVE_ID,\n-        vecs_implicitly_copyable: vecs_implicitly_copyable,\n         legacy_modes: legacy_modes,\n         cstore: s.cstore,\n         sess: s,\n@@ -1946,8 +1939,7 @@ pub impl TypeContents {\n     }\n \n     fn nonimplicitly_copyable(cx: ctxt) -> TypeContents {\n-        let base = TypeContents::noncopyable(cx) + TC_OWNED_POINTER;\n-        if cx.vecs_implicitly_copyable {base} else {base + TC_OWNED_VEC}\n+        TypeContents::noncopyable(cx) + TC_OWNED_POINTER + TC_OWNED_VEC\n     }\n \n     fn needs_drop(&self, cx: ctxt) -> bool {"}]}