{"sha": "4694b9910279f5af7dd9c4616b5870c82aead7f0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ2OTRiOTkxMDI3OWY1YWY3ZGQ5YzQ2MTZiNTg3MGM4MmFlYWQ3ZjA=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-10-17T20:32:22Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-10-17T20:32:22Z"}, "message": "auto merge of #16855 : P1start/rust/help-messages, r=brson\n\nThis adds \u2018help\u2019\u00a0diagnostic messages to rustc. This is used for anything that provides help to the user, particularly the `--explain` messages that were previously integrated into the relevant error message.\r\n\r\nThey look like this:\r\n\r\n```\r\nmatch.rs:10:13: 10:14 error: unreachable pattern [E0001]\r\nmatch.rs:10             1 => {},\r\n                        ^\r\nmatch.rs:3:1: 3:38 note: in expansion of foo!\r\nmatch.rs:7:5: 20:2 note: expansion site\r\nmatch.rs:10:13: 10:14 help: pass `--explain E0001` to see a detailed explanation\r\n```\r\n\r\n(`help` is coloured cyan.) Adding these errors on a separate line stops the lines from being too long, as discussed in #16619.", "tree": {"sha": "d437e6d99b8d5bc3910dc8026581604ff6f3cdf2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d437e6d99b8d5bc3910dc8026581604ff6f3cdf2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4694b9910279f5af7dd9c4616b5870c82aead7f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4694b9910279f5af7dd9c4616b5870c82aead7f0", "html_url": "https://github.com/rust-lang/rust/commit/4694b9910279f5af7dd9c4616b5870c82aead7f0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4694b9910279f5af7dd9c4616b5870c82aead7f0/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "97bf93e405218dbc5e5506fa38572e562a796ac4", "url": "https://api.github.com/repos/rust-lang/rust/commits/97bf93e405218dbc5e5506fa38572e562a796ac4", "html_url": "https://github.com/rust-lang/rust/commit/97bf93e405218dbc5e5506fa38572e562a796ac4"}, {"sha": "06d9cc1d7a8582ff844c21a3fafe09dc97f22895", "url": "https://api.github.com/repos/rust-lang/rust/commits/06d9cc1d7a8582ff844c21a3fafe09dc97f22895", "html_url": "https://github.com/rust-lang/rust/commit/06d9cc1d7a8582ff844c21a3fafe09dc97f22895"}], "stats": {"total": 74, "additions": 52, "deletions": 22}, "files": [{"sha": "55e07321c7101c97b70d729c8f66c3aff3bac780", "filename": "src/librustc/driver/session.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibrustc%2Fdriver%2Fsession.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibrustc%2Fdriver%2Fsession.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdriver%2Fsession.rs?ref=4694b9910279f5af7dd9c4616b5870c82aead7f0", "patch": "@@ -96,12 +96,18 @@ impl Session {\n     pub fn span_end_note(&self, sp: Span, msg: &str) {\n         self.diagnostic().span_end_note(sp, msg)\n     }\n+    pub fn span_help(&self, sp: Span, msg: &str) {\n+        self.diagnostic().span_help(sp, msg)\n+    }\n     pub fn fileline_note(&self, sp: Span, msg: &str) {\n         self.diagnostic().fileline_note(sp, msg)\n     }\n     pub fn note(&self, msg: &str) {\n         self.diagnostic().handler().note(msg)\n     }\n+    pub fn help(&self, msg: &str) {\n+        self.diagnostic().handler().note(msg)\n+    }\n     pub fn span_bug(&self, sp: Span, msg: &str) -> ! {\n         self.diagnostic().span_bug(sp, msg)\n     }"}, {"sha": "804ed8830303e27a6dd2a5e16c10c0080309c57a", "filename": "src/librustc/middle/borrowck/mod.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fmod.rs?ref=4694b9910279f5af7dd9c4616b5870c82aead7f0", "patch": "@@ -618,6 +618,10 @@ impl<'a, 'tcx> BorrowckCtxt<'a, 'tcx> {\n         self.tcx.sess.span_end_note(s, m);\n     }\n \n+    pub fn span_help(&self, s: Span, m: &str) {\n+        self.tcx.sess.span_help(s, m);\n+    }\n+\n     pub fn bckerr_to_string(&self, err: &BckError) -> String {\n         match err.code {\n             err_mutbl => {"}, {"sha": "56f06d7f99caa102d6f9324530f959aedc313c45", "filename": "src/librustc/middle/typeck/infer/error_reporting.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ferror_reporting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ferror_reporting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ferror_reporting.rs?ref=4694b9910279f5af7dd9c4616b5870c82aead7f0", "patch": "@@ -1417,7 +1417,7 @@ impl<'a, 'tcx> ErrorReportingHelpers for InferCtxt<'a, 'tcx> {\n                                               opt_explicit_self, generics);\n         let msg = format!(\"consider using an explicit lifetime \\\n                            parameter as shown: {}\", suggested_fn);\n-        self.tcx.sess.span_note(span, msg.as_slice());\n+        self.tcx.sess.span_help(span, msg.as_slice());\n     }\n \n     fn report_inference_failure(&self,"}, {"sha": "cad648a8ddbb9a53c934e57d4d85b336856fa7f9", "filename": "src/librustc/middle/typeck/infer/test.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ftest.rs?ref=4694b9910279f5af7dd9c4616b5870c82aead7f0", "patch": "@@ -34,7 +34,7 @@ use middle::typeck::infer::lub::Lub;\n use middle::typeck::infer::glb::Glb;\n use syntax::codemap;\n use syntax::codemap::{Span, CodeMap, DUMMY_SP};\n-use syntax::diagnostic::{Level, RenderSpan, Bug, Fatal, Error, Warning, Note};\n+use syntax::diagnostic::{Level, RenderSpan, Bug, Fatal, Error, Warning, Note, Help};\n use syntax::{ast, ast_map};\n use util::ppaux::{ty_to_string, UserString};\n \n@@ -58,7 +58,7 @@ struct ExpectErrorEmitter {\n fn remove_message(e: &mut ExpectErrorEmitter, msg: &str, lvl: Level) {\n     match lvl {\n         Bug | Fatal | Error => { }\n-        Warning | Note => { return; }\n+        Warning | Note | Help => { return; }\n     }\n \n     debug!(\"Error: {}\", msg);"}, {"sha": "9782f3016678c5cf874278eda27275bc55ef2535", "filename": "src/libsyntax/diagnostic.rs", "status": "modified", "additions": 24, "deletions": 11, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibsyntax%2Fdiagnostic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibsyntax%2Fdiagnostic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fdiagnostic.rs?ref=4694b9910279f5af7dd9c4616b5870c82aead7f0", "patch": "@@ -105,6 +105,9 @@ impl SpanHandler {\n     pub fn span_end_note(&self, sp: Span, msg: &str) {\n         self.handler.custom_emit(&self.cm, FullSpan(sp), msg, Note);\n     }\n+    pub fn span_help(&self, sp: Span, msg: &str) {\n+        self.handler.emit(Some((&self.cm, sp)), msg, Help);\n+    }\n     pub fn fileline_note(&self, sp: Span, msg: &str) {\n         self.handler.custom_emit(&self.cm, FileLine(sp), msg, Note);\n     }\n@@ -164,6 +167,9 @@ impl Handler {\n     pub fn note(&self, msg: &str) {\n         self.emit.borrow_mut().emit(None, msg, None, Note);\n     }\n+    pub fn help(&self, msg: &str) {\n+        self.emit.borrow_mut().emit(None, msg, None, Help);\n+    }\n     pub fn bug(&self, msg: &str) -> ! {\n         self.emit.borrow_mut().emit(None, msg, None, Bug);\n         fail!(ExplicitBug);\n@@ -216,6 +222,7 @@ pub enum Level {\n     Error,\n     Warning,\n     Note,\n+    Help,\n }\n \n impl fmt::Show for Level {\n@@ -227,6 +234,7 @@ impl fmt::Show for Level {\n             Fatal | Error => \"error\".fmt(f),\n             Warning => \"warning\".fmt(f),\n             Note => \"note\".fmt(f),\n+            Help => \"help\".fmt(f),\n         }\n     }\n }\n@@ -236,7 +244,8 @@ impl Level {\n         match self {\n             Bug | Fatal | Error => term::color::BRIGHT_RED,\n             Warning => term::color::BRIGHT_YELLOW,\n-            Note => term::color::BRIGHT_GREEN\n+            Note => term::color::BRIGHT_GREEN,\n+            Help => term::color::BRIGHT_CYAN,\n         }\n     }\n }\n@@ -293,15 +302,6 @@ fn print_diagnostic(dst: &mut EmitterWriter, topic: &str, lvl: Level,\n         Some(code) => {\n             let style = term::attr::ForegroundColor(term::color::BRIGHT_MAGENTA);\n             try!(print_maybe_styled(dst, format!(\" [{}]\", code.clone()).as_slice(), style));\n-            match dst.registry.as_ref().and_then(|registry| registry.find_description(code)) {\n-                Some(_) => {\n-                    try!(write!(&mut dst.dst,\n-                        \" (pass `--explain {}` to see a detailed explanation)\",\n-                        code\n-                    ));\n-                }\n-                None => ()\n-            }\n         }\n         None => ()\n     }\n@@ -401,7 +401,20 @@ fn emit(dst: &mut EmitterWriter, cm: &codemap::CodeMap, rsp: RenderSpan,\n             try!(highlight_lines(dst, cm, sp, lvl, lines));\n         }\n     }\n-    print_macro_backtrace(dst, cm, sp)\n+    try!(print_macro_backtrace(dst, cm, sp));\n+    match code {\n+        Some(code) =>\n+            match dst.registry.as_ref().and_then(|registry| registry.find_description(code)) {\n+                Some(_) => {\n+                    try!(print_diagnostic(dst, ss.as_slice(), Help,\n+                                          format!(\"pass `--explain {}` to see a detailed \\\n+                                                   explanation\", code).as_slice(), None));\n+                }\n+                None => ()\n+            },\n+        None => (),\n+    }\n+    Ok(())\n }\n \n fn highlight_lines(err: &mut EmitterWriter,"}, {"sha": "47018ceb648e97daddea971e4761f1e637704712", "filename": "src/libsyntax/ext/base.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibsyntax%2Fext%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibsyntax%2Fext%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fbase.rs?ref=4694b9910279f5af7dd9c4616b5870c82aead7f0", "patch": "@@ -620,6 +620,10 @@ impl<'a> ExtCtxt<'a> {\n         self.print_backtrace();\n         self.parse_sess.span_diagnostic.span_note(sp, msg);\n     }\n+    pub fn span_help(&self, sp: Span, msg: &str) {\n+        self.print_backtrace();\n+        self.parse_sess.span_diagnostic.span_help(sp, msg);\n+    }\n     pub fn bug(&self, msg: &str) -> ! {\n         self.print_backtrace();\n         self.parse_sess.span_diagnostic.handler().bug(msg);"}, {"sha": "17f52bc21c539580cac2b709e1968a553f7b748f", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=4694b9910279f5af7dd9c4616b5870c82aead7f0", "patch": "@@ -959,6 +959,9 @@ impl<'a> Parser<'a> {\n     pub fn span_note(&mut self, sp: Span, m: &str) {\n         self.sess.span_diagnostic.span_note(sp, m)\n     }\n+    pub fn span_help(&mut self, sp: Span, m: &str) {\n+        self.sess.span_diagnostic.span_help(sp, m)\n+    }\n     pub fn bug(&mut self, m: &str) -> ! {\n         self.sess.span_diagnostic.span_bug(self.span, m)\n     }"}, {"sha": "7c514b4e16f0766de914d3a9d8093f17fefc8250", "filename": "src/test/compile-fail/lifetime-inference-give-expl-lifetime-param-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Ftest%2Fcompile-fail%2Flifetime-inference-give-expl-lifetime-param-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Ftest%2Fcompile-fail%2Flifetime-inference-give-expl-lifetime-param-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flifetime-inference-give-expl-lifetime-param-2.rs?ref=4694b9910279f5af7dd9c4616b5870c82aead7f0", "patch": "@@ -22,7 +22,7 @@ impl<'r> Itble<'r, uint, Range<uint>> for (uint, uint) {\n }\n \n fn check<'r, I: Iterator<uint>, T: Itble<'r, uint, I>>(cont: &T) -> bool {\n-//~^ NOTE: consider using an explicit lifetime parameter as shown: fn check<'r, I: Iterator<uint>, T: Itble<'r, uint, I>>(cont: &'r T) -> bool\n+//~^ HELP: consider using an explicit lifetime parameter as shown: fn check<'r, I: Iterator<uint>, T: Itble<'r, uint, I>>(cont: &'r T) -> bool\n     let cont_iter = cont.iter(); //~ ERROR: cannot infer\n     let result = cont_iter.fold(Some(0u16), |state, val| {\n         state.map_or(None, |mask| {"}, {"sha": "29265b8750ca749137b06e1c5fe8391785d98833", "filename": "src/test/compile-fail/lifetime-inference-give-expl-lifetime-param-3.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Ftest%2Fcompile-fail%2Flifetime-inference-give-expl-lifetime-param-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Ftest%2Fcompile-fail%2Flifetime-inference-give-expl-lifetime-param-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flifetime-inference-give-expl-lifetime-param-3.rs?ref=4694b9910279f5af7dd9c4616b5870c82aead7f0", "patch": "@@ -12,15 +12,15 @@\n \n struct Bar<'x, 'y, 'z> { bar: &'y int, baz: int }\n fn bar1<'a>(x: &Bar) -> (&'a int, &'a int, &'a int) {\n-//~^ NOTE: consider using an explicit lifetime parameter as shown: fn bar1<'b, 'c, 'a>(x: &'a Bar<'b, 'a, 'c>) -> (&'a int, &'a int, &'a int)\n+//~^ HELP: consider using an explicit lifetime parameter as shown: fn bar1<'b, 'c, 'a>(x: &'a Bar<'b, 'a, 'c>) -> (&'a int, &'a int, &'a int)\n     (x.bar, &x.baz, &x.baz)\n     //~^ ERROR: cannot infer\n     //~^^ ERROR: cannot infer\n     //~^^^ ERROR: cannot infer\n }\n \n fn bar2<'a, 'b, 'c>(x: &Bar<'a, 'b, 'c>) -> (&'a int, &'a int, &'a int) {\n-//~^ NOTE: consider using an explicit lifetime parameter as shown: fn bar2<'a, 'c>(x: &'a Bar<'a, 'a, 'c>) -> (&'a int, &'a int, &'a int)\n+//~^ HELP: consider using an explicit lifetime parameter as shown: fn bar2<'a, 'c>(x: &'a Bar<'a, 'a, 'c>) -> (&'a int, &'a int, &'a int)\n     (x.bar, &x.baz, &x.baz)\n     //~^ ERROR: cannot infer\n     //~^^ ERROR: cannot infer"}, {"sha": "4abf045501c269de0e47be3cdbaa5fdf91d8e49d", "filename": "src/test/compile-fail/lifetime-inference-give-expl-lifetime-param.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Ftest%2Fcompile-fail%2Flifetime-inference-give-expl-lifetime-param.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4694b9910279f5af7dd9c4616b5870c82aead7f0/src%2Ftest%2Fcompile-fail%2Flifetime-inference-give-expl-lifetime-param.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flifetime-inference-give-expl-lifetime-param.rs?ref=4694b9910279f5af7dd9c4616b5870c82aead7f0", "patch": "@@ -12,23 +12,23 @@\n \n struct Foo<'x> { bar: int }\n fn foo1<'a>(x: &Foo) -> &'a int {\n-//~^ NOTE: consider using an explicit lifetime parameter as shown: fn foo1<'a>(x: &'a Foo) -> &'a int\n+//~^ HELP: consider using an explicit lifetime parameter as shown: fn foo1<'a>(x: &'a Foo) -> &'a int\n     &x.bar //~ ERROR: cannot infer\n }\n \n fn foo2<'a, 'b>(x: &'a Foo) -> &'b int {\n-//~^ NOTE: consider using an explicit lifetime parameter as shown: fn foo2<'a>(x: &'a Foo) -> &'a int\n+//~^ HELP: consider using an explicit lifetime parameter as shown: fn foo2<'a>(x: &'a Foo) -> &'a int\n     &x.bar //~ ERROR: cannot infer\n }\n \n fn foo3<'a>(x: &Foo) -> (&'a int, &'a int) {\n-//~^ NOTE: consider using an explicit lifetime parameter as shown: fn foo3<'a>(x: &'a Foo) -> (&'a int, &'a int)\n+//~^ HELP: consider using an explicit lifetime parameter as shown: fn foo3<'a>(x: &'a Foo) -> (&'a int, &'a int)\n     (&x.bar, &x.bar) //~ ERROR: cannot infer\n     //~^ ERROR: cannot infer\n }\n \n fn foo4<'a, 'b>(x: &'a Foo) -> (&'b int, &'a int, &'b int) {\n-//~^ NOTE: consider using an explicit lifetime parameter as shown: fn foo4<'a>(x: &'a Foo) -> (&'a int, &'a int, &'a int)\n+//~^ HELP: consider using an explicit lifetime parameter as shown: fn foo4<'a>(x: &'a Foo) -> (&'a int, &'a int, &'a int)\n     (&x.bar, &x.bar, &x.bar) //~ ERROR: cannot infer\n     //~^ ERROR: cannot infer\n }\n@@ -37,7 +37,7 @@ struct Cat<'x, T> { cat: &'x int, t: T }\n struct Dog<'y> { dog: &'y int }\n \n fn cat2<'x, 'y>(x: Cat<'x, Dog<'y>>) -> &'x int {\n-//~^ NOTE: consider using an explicit lifetime parameter as shown: fn cat2<'x>(x: Cat<'x, Dog<'x>>) -> &'x int\n+//~^ HELP: consider using an explicit lifetime parameter as shown: fn cat2<'x>(x: Cat<'x, Dog<'x>>) -> &'x int\n     x.t.dog //~ ERROR: cannot infer\n }\n "}]}