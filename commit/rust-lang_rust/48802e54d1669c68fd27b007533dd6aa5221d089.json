{"sha": "48802e54d1669c68fd27b007533dd6aa5221d089", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4ODAyZTU0ZDE2NjljNjhmZDI3YjAwNzUzM2RkNmFhNTIyMWQwODk=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-12-13T13:18:41Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-12-13T13:18:41Z"}, "message": "Merge #6855\n\n6855: Change recommendation when source can't be loaded from sysroot r=matklad a=flodiebold\n\nSince we just tried running `rustup component add`, it doesn't make sense to me to recommend trying that again. If we're reaching this case, it's probably more likely that rustc was installed via package manager, in which case the source should be installed the same way (e.g. if you install the rust-src package on Ubuntu it will install a symlink in the right place to make our sysroot\r\ndetection work, and IMO we should get other distributors to do the same if they aren't already).\n\nCo-authored-by: Florian Diebold <flodiebold@gmail.com>", "tree": {"sha": "2518eb7bb63741d9ea389c84298adfd1c8b430c7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2518eb7bb63741d9ea389c84298adfd1c8b430c7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/48802e54d1669c68fd27b007533dd6aa5221d089", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJf1hSxCRBK7hj4Ov3rIwAAdHIIAAyWBFsUh79Cx8m00tJqSTxP\noz45D2B38QW9+QOX/KrjDDuxBABTjWfUSja0nYjXr/wtihE0yFLhZlwRE5LRr1s3\nM3egOoZy0Os5RcWjGvNQJaMfHzsgr0Cz6Cpf9ALbhSltiIdj3/bAgebLzjzXIi7c\noDoGtm4pV7Pdai6hW/irxELUvKMCSCX1+hIBhNA8OkVyHEqNSujITEUrjsP8oBii\n5TGtgCZixYOUBp0luWjR33M42FTuOg1KSETtK7/az4921oSUt7kE32BvMKCC9jZ6\nEHTUB+NbIuaG0d/ORhrz0wOAYUUfAya2BKMSenRu2Swyac1ENfyu2FrkFu83AWU=\n=52Gn\n-----END PGP SIGNATURE-----\n", "payload": "tree 2518eb7bb63741d9ea389c84298adfd1c8b430c7\nparent ca3a54f0a4b59fb2c4429096a1d5c1bc2b8e761e\nparent 7d7949b31527b30a712dd11a8c977644ae2b9e30\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1607865521 +0000\ncommitter GitHub <noreply@github.com> 1607865521 +0000\n\nMerge #6855\n\n6855: Change recommendation when source can't be loaded from sysroot r=matklad a=flodiebold\n\nSince we just tried running `rustup component add`, it doesn't make sense to me to recommend trying that again. If we're reaching this case, it's probably more likely that rustc was installed via package manager, in which case the source should be installed the same way (e.g. if you install the rust-src package on Ubuntu it will install a symlink in the right place to make our sysroot\r\ndetection work, and IMO we should get other distributors to do the same if they aren't already).\n\nCo-authored-by: Florian Diebold <flodiebold@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/48802e54d1669c68fd27b007533dd6aa5221d089", "html_url": "https://github.com/rust-lang/rust/commit/48802e54d1669c68fd27b007533dd6aa5221d089", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/48802e54d1669c68fd27b007533dd6aa5221d089/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ca3a54f0a4b59fb2c4429096a1d5c1bc2b8e761e", "url": "https://api.github.com/repos/rust-lang/rust/commits/ca3a54f0a4b59fb2c4429096a1d5c1bc2b8e761e", "html_url": "https://github.com/rust-lang/rust/commit/ca3a54f0a4b59fb2c4429096a1d5c1bc2b8e761e"}, {"sha": "7d7949b31527b30a712dd11a8c977644ae2b9e30", "url": "https://api.github.com/repos/rust-lang/rust/commits/7d7949b31527b30a712dd11a8c977644ae2b9e30", "html_url": "https://github.com/rust-lang/rust/commit/7d7949b31527b30a712dd11a8c977644ae2b9e30"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "95b622715fd9780fdf9095343177b25ac6783211", "filename": "crates/project_model/src/sysroot.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48802e54d1669c68fd27b007533dd6aa5221d089/crates%2Fproject_model%2Fsrc%2Fsysroot.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48802e54d1669c68fd27b007533dd6aa5221d089/crates%2Fproject_model%2Fsrc%2Fsysroot.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproject_model%2Fsrc%2Fsysroot.rs?ref=48802e54d1669c68fd27b007533dd6aa5221d089", "patch": "@@ -143,7 +143,7 @@ fn discover_sysroot_src_dir(current_dir: &AbsPath) -> Result<AbsPathBuf> {\n can't load standard library from sysroot\n {}\n (discovered via `rustc --print sysroot`)\n-try running `rustup component add rust-src` or set `RUST_SRC_PATH`\",\n+try installing the Rust source the same way you installed rustc\",\n                 sysroot_path.display(),\n             )\n         })"}]}