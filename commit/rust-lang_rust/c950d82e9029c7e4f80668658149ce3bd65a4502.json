{"sha": "c950d82e9029c7e4f80668658149ce3bd65a4502", "node_id": "C_kwDOAAsO6NoAKGM5NTBkODJlOTAyOWM3ZTRmODA2Njg2NTgxNDljZTNiZDY1YTQ1MDI", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-09-13T19:25:32Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-09-13T19:25:32Z"}, "message": "rustdoc: remove outdated CSS `.content table` etc\n\nThe `.content table` / `.content td` / `.content tr` family of selectors date\nback to 4fd061c426902b0904c65e64a3780b21f9ab3afb, when module indexes and\nother parts of rustdoc used `<table>` tags for layout and content\npresentation. The `.content td h1, .content td h2` has only been changed\nsince then to tweak the font size in\ndd5ff428edbc7cd4fa600b81f27bbec28589704f.\n\nhttps://github.com/rust-lang/rust/blob/4fd061c426902b0904c65e64a3780b21f9ab3afb/src/rustdoc_ng/html/static/main.css#L155-L162\n\nThis CSS would have affected:\n\n  * search result tables, which were removed in\n    b615c0c85469c94041a5e68b9d8b68dcf799f9f1\n  * module item tables, which were removed in\n    6020c79ddeafe8d9760b27c14c39da81bac9b4a6\n  * docblock tables from markdown, which still exist\n\nIt may also have affected a few other tables over the last decade, but\nthey've been gradually replaced with grid layouts and flexbox to make layouts\nthat work better on narrow viewports. For example,\n34bd2b845b3acd84c5a9bddae3ff8081c19ec5e9.\n\nThese rules have no affect on the appearance of docblock tables\n===============================================================\n\n    .content table {\n        border-spacing: 0 5px;\n    }\n\nAccording to MDN, [border-spacing] only has an effect when `border-collapse`\nis `separate`. However, `border-collapse: collapse` is set globally for all\ntables, so this rule does nothing.\n\n[border-spacing]: https://developer.mozilla.org/en-US/docs/Web/CSS/border-spacing\n\n    .content td p:first-child { margin-top: 0; }\n\nTables with paragraphs in them are impossible without dropping down to raw\nHTML. Also, the rustdoc stylesheet sets paragraphs to have no top margin\nanyway, so this rule is a no-op.\n\n    .content td h1, .content td h2 { margin-left: 0; font-size: 1.125rem; }\n\nTables with headers in them are impossible without dropping down to raw HTML.\nThis is considered unlikely, especially since it looks weird right now\n(`.docblock h2` has an underline that is redundant with the table cell's own\nborder).\n\n    .content tr:first-child td { border-top: 0; }\n\nThis has no effect because of border collapsing.\n\nThis rule is removed, because tables look fine without it\n=========================================================\n\n    .content td:first-child { padding-right: 20px; }\n\nBy removing this rule, the first cell in each row has the same padding as all\nother cells in the row.\n\nThis rule is kept, and converted to directly target `.docblock`\n===============================================================\n\n    .content td { vertical-align: top; }\n\nRemoving this rule would cause it to be aligned to the middle instead.", "tree": {"sha": "54bd8a77360f16489bcad011329c5f333e96a9ec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/54bd8a77360f16489bcad011329c5f333e96a9ec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c950d82e9029c7e4f80668658149ce3bd65a4502", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c950d82e9029c7e4f80668658149ce3bd65a4502", "html_url": "https://github.com/rust-lang/rust/commit/c950d82e9029c7e4f80668658149ce3bd65a4502", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c950d82e9029c7e4f80668658149ce3bd65a4502/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1ce51982b8550c782ded466c1abff0d2b2e21c4e", "url": "https://api.github.com/repos/rust-lang/rust/commits/1ce51982b8550c782ded466c1abff0d2b2e21c4e", "html_url": "https://github.com/rust-lang/rust/commit/1ce51982b8550c782ded466c1abff0d2b2e21c4e"}], "stats": {"total": 10, "additions": 1, "deletions": 9}, "files": [{"sha": "16f9490af5f13ac396c6bc701dd350579ea79d07", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c950d82e9029c7e4f80668658149ce3bd65a4502/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/c950d82e9029c7e4f80668658149ce3bd65a4502/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=c950d82e9029c7e4f80668658149ce3bd65a4502", "patch": "@@ -686,15 +686,6 @@ pre, .rustdoc.source .example-wrap {\n \tposition: relative;\n }\n \n-.content table {\n-\tborder-spacing: 0 5px;\n-}\n-.content td { vertical-align: top; }\n-.content td:first-child { padding-right: 20px; }\n-.content td p:first-child { margin-top: 0; }\n-.content td h1, .content td h2 { margin-left: 0; font-size: 1.125rem; }\n-.content tr:first-child td { border-top: 0; }\n-\n .docblock table {\n \tmargin: .5em 0;\n \twidth: calc(100% - 2px);\n@@ -705,6 +696,7 @@ pre, .rustdoc.source .example-wrap {\n .docblock table td {\n \tpadding: .5em;\n \tborder: 1px dashed var(--border-color);\n+\tvertical-align: top;\n }\n \n .docblock table th {"}]}