{"sha": "ac617b628899282f714fd6a91471d1f0b1cc3217", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjNjE3YjYyODg5OTI4MmY3MTRmZDZhOTE0NzFkMWYwYjFjYzMyMTc=", "commit": {"author": {"name": "bcoopers", "email": "coopersmithbrian@gmail.com", "date": "2015-04-12T17:47:10Z"}, "committer": {"name": "bcoopers", "email": "coopersmithbrian@gmail.com", "date": "2015-04-12T17:47:10Z"}, "message": "The panic! macro can't be called with a variable declared\nwith \"let\" when building on stage0. So change the error\nmessage to a static const.", "tree": {"sha": "cf5d5bb5d51094f227f73b586eceb2a69ac00130", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cf5d5bb5d51094f227f73b586eceb2a69ac00130"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ac617b628899282f714fd6a91471d1f0b1cc3217", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ac617b628899282f714fd6a91471d1f0b1cc3217", "html_url": "https://github.com/rust-lang/rust/commit/ac617b628899282f714fd6a91471d1f0b1cc3217", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ac617b628899282f714fd6a91471d1f0b1cc3217/comments", "author": null, "committer": null, "parents": [{"sha": "f8493d0660d5ad92a0c244cd0fed0d72b9630ebb", "url": "https://api.github.com/repos/rust-lang/rust/commits/f8493d0660d5ad92a0c244cd0fed0d72b9630ebb", "html_url": "https://github.com/rust-lang/rust/commit/f8493d0660d5ad92a0c244cd0fed0d72b9630ebb"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "da1ff2901d08a7973883b1488f73f000b2554919", "filename": "src/libcollections/vec.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ac617b628899282f714fd6a91471d1f0b1cc3217/src%2Flibcollections%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ac617b628899282f714fd6a91471d1f0b1cc3217/src%2Flibcollections%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fvec.rs?ref=ac617b628899282f714fd6a91471d1f0b1cc3217", "patch": "@@ -309,10 +309,10 @@ impl<T> Vec<T> {\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub fn reserve(&mut self, additional: usize) {\n         if self.cap - self.len < additional {\n-            let err_msg = \"Vec::reserve: `isize` overflow\";\n+            const ERR_MSG: &'static str  = \"Vec::reserve: `isize` overflow\";\n \n-            let new_min_cap = self.len.checked_add(additional).expect(err_msg);\n-            if new_min_cap > MAX_MEMORY_SIZE { panic!(err_msg) }\n+            let new_min_cap = self.len.checked_add(additional).expect(ERR_MSG);\n+            if new_min_cap > MAX_MEMORY_SIZE { panic!(ERR_MSG) }\n             self.grow_capacity(match new_min_cap.checked_next_power_of_two() {\n                 Some(x) if x > MAX_MEMORY_SIZE => MAX_MEMORY_SIZE,\n                 None => MAX_MEMORY_SIZE,"}]}