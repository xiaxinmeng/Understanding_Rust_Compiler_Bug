{"sha": "b22cb90e0a1c228e3705dc546dd9be7da049dd88", "node_id": "C_kwDOAAsO6NoAKGIyMmNiOTBlMGExYzIyOGUzNzA1ZGM1NDZkZDliZTdkYTA0OWRkODg", "commit": {"author": {"name": "Charles Lew", "email": "crlf0710@gmail.com", "date": "2022-11-15T18:37:00Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2022-11-18T22:46:36Z"}, "message": "Update crate documentation of `rustc_baked_icu_data` crate", "tree": {"sha": "da94ed37b4af681d3dbab6c3563d4004c5a7e64c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/da94ed37b4af681d3dbab6c3563d4004c5a7e64c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b22cb90e0a1c228e3705dc546dd9be7da049dd88", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b22cb90e0a1c228e3705dc546dd9be7da049dd88", "html_url": "https://github.com/rust-lang/rust/commit/b22cb90e0a1c228e3705dc546dd9be7da049dd88", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b22cb90e0a1c228e3705dc546dd9be7da049dd88/comments", "author": {"login": "crlf0710", "id": 451806, "node_id": "MDQ6VXNlcjQ1MTgwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/451806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crlf0710", "html_url": "https://github.com/crlf0710", "followers_url": "https://api.github.com/users/crlf0710/followers", "following_url": "https://api.github.com/users/crlf0710/following{/other_user}", "gists_url": "https://api.github.com/users/crlf0710/gists{/gist_id}", "starred_url": "https://api.github.com/users/crlf0710/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crlf0710/subscriptions", "organizations_url": "https://api.github.com/users/crlf0710/orgs", "repos_url": "https://api.github.com/users/crlf0710/repos", "events_url": "https://api.github.com/users/crlf0710/events{/privacy}", "received_events_url": "https://api.github.com/users/crlf0710/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b21e0b82c5245bb8329564bc328703bd03536dd2", "url": "https://api.github.com/repos/rust-lang/rust/commits/b21e0b82c5245bb8329564bc328703bd03536dd2", "html_url": "https://github.com/rust-lang/rust/commit/b21e0b82c5245bb8329564bc328703bd03536dd2"}], "stats": {"total": 41, "additions": 20, "deletions": 21}, "files": [{"sha": "4651e03f77166857e3d193c190789c89e6b9f24f", "filename": "compiler/rustc_baked_icu_data/src/lib.rs", "status": "modified", "additions": 20, "deletions": 21, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/b22cb90e0a1c228e3705dc546dd9be7da049dd88/compiler%2Frustc_baked_icu_data%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b22cb90e0a1c228e3705dc546dd9be7da049dd88/compiler%2Frustc_baked_icu_data%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_baked_icu_data%2Fsrc%2Flib.rs?ref=b22cb90e0a1c228e3705dc546dd9be7da049dd88", "patch": "@@ -1,28 +1,27 @@\n-//! Baked ICU data for eager translation support.\n+//! This crate contains pre-baked ICU4X data, generated by `icu4x-datagen`. The tool\n+//! fetches locale data from CLDR and transforms them into const code in statics that\n+//! ICU4X can load, via databake. `lib.rs` in this crate is manually written, but all\n+//! other code is generated.\n //!\n+//! This crate can be regenerated when there's a new CLDR version, though that is unlikely\n+//! to result in changes in most cases (currently this only covers list formatting data, which\n+//! is rather stable). It may need to be regenerated when updating ICU4X versions, especially\n+//! across major versions, in case it fails to compile after an update.\n+//!\n+//! It must be regenerated when adding new locales to Rust, or if Rust's usage of ICU4X\n+//! grows to need more kinds of data.\n+//!\n+//! To regenerate the data, run this command:\n+//!\n+//! ```text\n+//! icu4x-datagen -W --pretty --fingerprint --use-separate-crates \\\n+//! --format mod -l en es fr it ja pt ru tr zh zh-Hans zh-Hant \\\n+//! -k list/and@1 fallback/likelysubtags@1 fallback/parents@1 fallback/supplement/co@1 \\\n+//! --cldr-tag latest --icuexport-tag latest -o src/data\n+//! ```\n #![allow(elided_lifetimes_in_paths)]\n \n-/* generated with:\n-```text\n-icu4x-datagen -W --pretty --fingerprint --use-separate-crates --cldr-tag latest --icuexport-tag latest \\\n---format mod -l en es fr it ja pt ru tr zh zh-Hans zh-Hant -k list/and@1 fallback/likelysubtags@1 fallback/parents@1 fallback/supplement/co@1 \\\n--o src/data\n-```\n-*/\n-\n-// FIXME: Workaround https://github.com/unicode-org/icu4x/issues/2815\n mod data {\n-    /*\n-    use super::data::BakedDataProvider;\n-    use icu_provider::{\n-        AnyPayload, AnyProvider, AnyResponse, DataError, DataErrorKind, DataKey, DataRequest,\n-        KeyedDataMarker,\n-    };\n-\n-    use crate::data::fallback;\n-    use crate::data::list;\n-     */\n-\n     include!(\"data/mod.rs\");\n     include!(\"data/any.rs\");\n }"}]}