{"sha": "9f6909c0ce678e738a39789687af8a12e02d0be1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlmNjkwOWMwY2U2NzhlNzM4YTM5Nzg5Njg3YWY4YTEyZTAyZDBiZTE=", "commit": {"author": {"name": "Phil Ellison", "email": "phil.j.ellison@gmail.com", "date": "2019-07-28T11:01:28Z"}, "committer": {"name": "Phil Ellison", "email": "phil.j.ellison@gmail.com", "date": "2019-07-28T11:01:28Z"}, "message": "Inline snapshot for test_file_structure (less clear that this one is a good idea)", "tree": {"sha": "57eb79d63b19753f6f4e38e5e2a4ec20b90564d3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/57eb79d63b19753f6f4e38e5e2a4ec20b90564d3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9f6909c0ce678e738a39789687af8a12e02d0be1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9f6909c0ce678e738a39789687af8a12e02d0be1", "html_url": "https://github.com/rust-lang/rust/commit/9f6909c0ce678e738a39789687af8a12e02d0be1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9f6909c0ce678e738a39789687af8a12e02d0be1/comments", "author": {"login": "theotherphil", "id": 1974256, "node_id": "MDQ6VXNlcjE5NzQyNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1974256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theotherphil", "html_url": "https://github.com/theotherphil", "followers_url": "https://api.github.com/users/theotherphil/followers", "following_url": "https://api.github.com/users/theotherphil/following{/other_user}", "gists_url": "https://api.github.com/users/theotherphil/gists{/gist_id}", "starred_url": "https://api.github.com/users/theotherphil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theotherphil/subscriptions", "organizations_url": "https://api.github.com/users/theotherphil/orgs", "repos_url": "https://api.github.com/users/theotherphil/repos", "events_url": "https://api.github.com/users/theotherphil/events{/privacy}", "received_events_url": "https://api.github.com/users/theotherphil/received_events", "type": "User", "site_admin": false}, "committer": {"login": "theotherphil", "id": 1974256, "node_id": "MDQ6VXNlcjE5NzQyNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1974256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theotherphil", "html_url": "https://github.com/theotherphil", "followers_url": "https://api.github.com/users/theotherphil/followers", "following_url": "https://api.github.com/users/theotherphil/following{/other_user}", "gists_url": "https://api.github.com/users/theotherphil/gists{/gist_id}", "starred_url": "https://api.github.com/users/theotherphil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theotherphil/subscriptions", "organizations_url": "https://api.github.com/users/theotherphil/orgs", "repos_url": "https://api.github.com/users/theotherphil/repos", "events_url": "https://api.github.com/users/theotherphil/events{/privacy}", "received_events_url": "https://api.github.com/users/theotherphil/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a72331f223a120101f6edac51962ac7b2aa48cde", "url": "https://api.github.com/repos/rust-lang/rust/commits/a72331f223a120101f6edac51962ac7b2aa48cde", "html_url": "https://github.com/rust-lang/rust/commit/a72331f223a120101f6edac51962ac7b2aa48cde"}], "stats": {"total": 379, "additions": 187, "deletions": 192}, "files": [{"sha": "102efc0267506d39d615094c19dbf229a6126aea", "filename": "crates/ra_ide_api/src/display/snapshots/tests__file_structure.snap", "status": "removed", "additions": 0, "deletions": 191, "changes": 191, "blob_url": "https://github.com/rust-lang/rust/blob/a72331f223a120101f6edac51962ac7b2aa48cde/crates%2Fra_ide_api%2Fsrc%2Fdisplay%2Fsnapshots%2Ftests__file_structure.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a72331f223a120101f6edac51962ac7b2aa48cde/crates%2Fra_ide_api%2Fsrc%2Fdisplay%2Fsnapshots%2Ftests__file_structure.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fdisplay%2Fsnapshots%2Ftests__file_structure.snap?ref=a72331f223a120101f6edac51962ac7b2aa48cde", "patch": "@@ -1,191 +0,0 @@\n----\n-created: \"2019-06-28T20:46:18.274464142Z\"\n-creator: insta@0.8.1\n-source: crates/ra_ide_api/src/display/structure.rs\n-expression: structure\n----\n-[\n-    StructureNode {\n-        parent: None,\n-        label: \"Foo\",\n-        navigation_range: [8; 11),\n-        node_range: [1; 26),\n-        kind: STRUCT_DEF,\n-        detail: None,\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: Some(\n-            0,\n-        ),\n-        label: \"x\",\n-        navigation_range: [18; 19),\n-        node_range: [18; 24),\n-        kind: NAMED_FIELD_DEF,\n-        detail: Some(\n-            \"i32\",\n-        ),\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: None,\n-        label: \"m\",\n-        navigation_range: [32; 33),\n-        node_range: [28; 158),\n-        kind: MODULE,\n-        detail: None,\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: Some(\n-            2,\n-        ),\n-        label: \"bar1\",\n-        navigation_range: [43; 47),\n-        node_range: [40; 52),\n-        kind: FN_DEF,\n-        detail: Some(\n-            \"fn()\",\n-        ),\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: Some(\n-            2,\n-        ),\n-        label: \"bar2\",\n-        navigation_range: [60; 64),\n-        node_range: [57; 81),\n-        kind: FN_DEF,\n-        detail: Some(\n-            \"fn<T>(t: T) -> T\",\n-        ),\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: Some(\n-            2,\n-        ),\n-        label: \"bar3\",\n-        navigation_range: [89; 93),\n-        node_range: [86; 156),\n-        kind: FN_DEF,\n-        detail: Some(\n-            \"fn<A, B>(a: A, b: B) -> Vec< u32 >\",\n-        ),\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: None,\n-        label: \"E\",\n-        navigation_range: [165; 166),\n-        node_range: [160; 180),\n-        kind: ENUM_DEF,\n-        detail: None,\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: Some(\n-            6,\n-        ),\n-        label: \"X\",\n-        navigation_range: [169; 170),\n-        node_range: [169; 170),\n-        kind: ENUM_VARIANT,\n-        detail: None,\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: Some(\n-            6,\n-        ),\n-        label: \"Y\",\n-        navigation_range: [172; 173),\n-        node_range: [172; 178),\n-        kind: ENUM_VARIANT,\n-        detail: None,\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: None,\n-        label: \"T\",\n-        navigation_range: [186; 187),\n-        node_range: [181; 193),\n-        kind: TYPE_ALIAS_DEF,\n-        detail: Some(\n-            \"()\",\n-        ),\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: None,\n-        label: \"S\",\n-        navigation_range: [201; 202),\n-        node_range: [194; 213),\n-        kind: STATIC_DEF,\n-        detail: Some(\n-            \"i32\",\n-        ),\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: None,\n-        label: \"C\",\n-        navigation_range: [220; 221),\n-        node_range: [214; 232),\n-        kind: CONST_DEF,\n-        detail: Some(\n-            \"i32\",\n-        ),\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: None,\n-        label: \"impl E\",\n-        navigation_range: [239; 240),\n-        node_range: [234; 243),\n-        kind: IMPL_BLOCK,\n-        detail: None,\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: None,\n-        label: \"impl fmt::Debug for E\",\n-        navigation_range: [265; 266),\n-        node_range: [245; 269),\n-        kind: IMPL_BLOCK,\n-        detail: None,\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: None,\n-        label: \"mc\",\n-        navigation_range: [284; 286),\n-        node_range: [271; 303),\n-        kind: MACRO_CALL,\n-        detail: None,\n-        deprecated: false,\n-    },\n-    StructureNode {\n-        parent: None,\n-        label: \"obsolete\",\n-        navigation_range: [322; 330),\n-        node_range: [305; 335),\n-        kind: FN_DEF,\n-        detail: Some(\n-            \"fn()\",\n-        ),\n-        deprecated: true,\n-    },\n-    StructureNode {\n-        parent: None,\n-        label: \"very_obsolete\",\n-        navigation_range: [375; 388),\n-        node_range: [337; 393),\n-        kind: FN_DEF,\n-        detail: Some(\n-            \"fn()\",\n-        ),\n-        deprecated: true,\n-    },\n-]"}, {"sha": "38e1fe3237a207e47890c0a5b516ac6520c1ac7d", "filename": "crates/ra_ide_api/src/display/structure.rs", "status": "modified", "additions": 187, "deletions": 1, "changes": 188, "blob_url": "https://github.com/rust-lang/rust/blob/9f6909c0ce678e738a39789687af8a12e02d0be1/crates%2Fra_ide_api%2Fsrc%2Fdisplay%2Fstructure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f6909c0ce678e738a39789687af8a12e02d0be1/crates%2Fra_ide_api%2Fsrc%2Fdisplay%2Fstructure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fdisplay%2Fstructure.rs?ref=9f6909c0ce678e738a39789687af8a12e02d0be1", "patch": "@@ -204,6 +204,192 @@ fn very_obsolete() {}\n         .ok()\n         .unwrap();\n         let structure = file_structure(&file);\n-        assert_debug_snapshot_matches!(\"file_structure\", structure);\n+        assert_debug_snapshot_matches!(structure,\n+@r#\"[\n+    StructureNode {\n+        parent: None,\n+        label: \"Foo\",\n+        navigation_range: [8; 11),\n+        node_range: [1; 26),\n+        kind: STRUCT_DEF,\n+        detail: None,\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: Some(\n+            0,\n+        ),\n+        label: \"x\",\n+        navigation_range: [18; 19),\n+        node_range: [18; 24),\n+        kind: NAMED_FIELD_DEF,\n+        detail: Some(\n+            \"i32\",\n+        ),\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: None,\n+        label: \"m\",\n+        navigation_range: [32; 33),\n+        node_range: [28; 158),\n+        kind: MODULE,\n+        detail: None,\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: Some(\n+            2,\n+        ),\n+        label: \"bar1\",\n+        navigation_range: [43; 47),\n+        node_range: [40; 52),\n+        kind: FN_DEF,\n+        detail: Some(\n+            \"fn()\",\n+        ),\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: Some(\n+            2,\n+        ),\n+        label: \"bar2\",\n+        navigation_range: [60; 64),\n+        node_range: [57; 81),\n+        kind: FN_DEF,\n+        detail: Some(\n+            \"fn<T>(t: T) -> T\",\n+        ),\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: Some(\n+            2,\n+        ),\n+        label: \"bar3\",\n+        navigation_range: [89; 93),\n+        node_range: [86; 156),\n+        kind: FN_DEF,\n+        detail: Some(\n+            \"fn<A, B>(a: A, b: B) -> Vec< u32 >\",\n+        ),\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: None,\n+        label: \"E\",\n+        navigation_range: [165; 166),\n+        node_range: [160; 180),\n+        kind: ENUM_DEF,\n+        detail: None,\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: Some(\n+            6,\n+        ),\n+        label: \"X\",\n+        navigation_range: [169; 170),\n+        node_range: [169; 170),\n+        kind: ENUM_VARIANT,\n+        detail: None,\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: Some(\n+            6,\n+        ),\n+        label: \"Y\",\n+        navigation_range: [172; 173),\n+        node_range: [172; 178),\n+        kind: ENUM_VARIANT,\n+        detail: None,\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: None,\n+        label: \"T\",\n+        navigation_range: [186; 187),\n+        node_range: [181; 193),\n+        kind: TYPE_ALIAS_DEF,\n+        detail: Some(\n+            \"()\",\n+        ),\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: None,\n+        label: \"S\",\n+        navigation_range: [201; 202),\n+        node_range: [194; 213),\n+        kind: STATIC_DEF,\n+        detail: Some(\n+            \"i32\",\n+        ),\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: None,\n+        label: \"C\",\n+        navigation_range: [220; 221),\n+        node_range: [214; 232),\n+        kind: CONST_DEF,\n+        detail: Some(\n+            \"i32\",\n+        ),\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: None,\n+        label: \"impl E\",\n+        navigation_range: [239; 240),\n+        node_range: [234; 243),\n+        kind: IMPL_BLOCK,\n+        detail: None,\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: None,\n+        label: \"impl fmt::Debug for E\",\n+        navigation_range: [265; 266),\n+        node_range: [245; 269),\n+        kind: IMPL_BLOCK,\n+        detail: None,\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: None,\n+        label: \"mc\",\n+        navigation_range: [284; 286),\n+        node_range: [271; 303),\n+        kind: MACRO_CALL,\n+        detail: None,\n+        deprecated: false,\n+    },\n+    StructureNode {\n+        parent: None,\n+        label: \"obsolete\",\n+        navigation_range: [322; 330),\n+        node_range: [305; 335),\n+        kind: FN_DEF,\n+        detail: Some(\n+            \"fn()\",\n+        ),\n+        deprecated: true,\n+    },\n+    StructureNode {\n+        parent: None,\n+        label: \"very_obsolete\",\n+        navigation_range: [375; 388),\n+        node_range: [337; 393),\n+        kind: FN_DEF,\n+        detail: Some(\n+            \"fn()\",\n+        ),\n+        deprecated: true,\n+    },\n+]\"#\n+        );\n     }\n }"}]}