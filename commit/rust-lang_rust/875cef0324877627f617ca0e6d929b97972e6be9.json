{"sha": "875cef0324877627f617ca0e6d929b97972e6be9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg3NWNlZjAzMjQ4Nzc2MjdmNjE3Y2EwZTZkOTI5Yjk3OTcyZTZiZTk=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-08-02T06:36:08Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-08-02T06:36:08Z"}, "message": "Cleanup 'print_generic_params'.", "tree": {"sha": "29eb98fb793238d1737894c4d86db7aa7fc9b48b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/29eb98fb793238d1737894c4d86db7aa7fc9b48b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/875cef0324877627f617ca0e6d929b97972e6be9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/875cef0324877627f617ca0e6d929b97972e6be9", "html_url": "https://github.com/rust-lang/rust/commit/875cef0324877627f617ca0e6d929b97972e6be9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/875cef0324877627f617ca0e6d929b97972e6be9/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "435236b8877cdb98c82eaebfb7887782277265c5", "url": "https://api.github.com/repos/rust-lang/rust/commits/435236b8877cdb98c82eaebfb7887782277265c5", "html_url": "https://github.com/rust-lang/rust/commit/435236b8877cdb98c82eaebfb7887782277265c5"}], "stats": {"total": 16, "additions": 6, "deletions": 10}, "files": [{"sha": "8c4c90f208521e56d3db19bb8173e398040b8b4a", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 6, "deletions": 10, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/875cef0324877627f617ca0e6d929b97972e6be9/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/875cef0324877627f617ca0e6d929b97972e6be9/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=875cef0324877627f617ca0e6d929b97972e6be9", "patch": "@@ -2639,27 +2639,23 @@ impl<'a> State<'a> {\n         self.s.word(\"<\");\n \n         self.commasep(Inconsistent, &generic_params, |s, param| {\n+            s.print_outer_attributes_inline(&param.attrs);\n+\n             match param.kind {\n                 ast::GenericParamKind::Lifetime => {\n-                    s.print_outer_attributes_inline(&param.attrs);\n                     let lt = ast::Lifetime { id: param.id, ident: param.ident };\n                     s.print_lifetime_bounds(lt, &param.bounds)\n                 }\n                 ast::GenericParamKind::Type { ref default } => {\n-                    s.print_outer_attributes_inline(&param.attrs);\n                     s.print_ident(param.ident);\n                     s.print_type_bounds(\":\", &param.bounds);\n-                    match default {\n-                        Some(ref default) => {\n-                            s.s.space();\n-                            s.word_space(\"=\");\n-                            s.print_type(default)\n-                        }\n-                        _ => {}\n+                    if let Some(ref default) = default {\n+                        s.s.space();\n+                        s.word_space(\"=\");\n+                        s.print_type(default)\n                     }\n                 }\n                 ast::GenericParamKind::Const { ref ty } => {\n-                    s.print_outer_attributes_inline(&param.attrs);\n                     s.word_space(\"const\");\n                     s.print_ident(param.ident);\n                     s.s.space();"}]}