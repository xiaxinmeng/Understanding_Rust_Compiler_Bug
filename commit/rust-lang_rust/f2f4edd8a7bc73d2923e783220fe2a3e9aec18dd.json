{"sha": "f2f4edd8a7bc73d2923e783220fe2a3e9aec18dd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYyZjRlZGQ4YTdiYzczZDI5MjNlNzgzMjIwZmUyYTNlOWFlYzE4ZGQ=", "commit": {"author": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-02-14T22:47:15Z"}, "committer": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-02-14T22:47:15Z"}, "message": "fix bug in uv_ll tests uncovered by not zeroing", "tree": {"sha": "addb3eeff39d62439c47dbb633b9f38a8a54c7a8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/addb3eeff39d62439c47dbb633b9f38a8a54c7a8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f2f4edd8a7bc73d2923e783220fe2a3e9aec18dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f2f4edd8a7bc73d2923e783220fe2a3e9aec18dd", "html_url": "https://github.com/rust-lang/rust/commit/f2f4edd8a7bc73d2923e783220fe2a3e9aec18dd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f2f4edd8a7bc73d2923e783220fe2a3e9aec18dd/comments", "author": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7103ca95ac8e92fd32ab65321cd443a7233a48e0", "url": "https://api.github.com/repos/rust-lang/rust/commits/7103ca95ac8e92fd32ab65321cd443a7233a48e0", "html_url": "https://github.com/rust-lang/rust/commit/7103ca95ac8e92fd32ab65321cd443a7233a48e0"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "f99b2a62f4750ce671ba515499d5f29cf204c252", "filename": "src/libstd/uv_ll.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f2f4edd8a7bc73d2923e783220fe2a3e9aec18dd/src%2Flibstd%2Fuv_ll.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2f4edd8a7bc73d2923e783220fe2a3e9aec18dd/src%2Flibstd%2Fuv_ll.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fuv_ll.rs?ref=f2f4edd8a7bc73d2923e783220fe2a3e9aec18dd", "patch": "@@ -1253,7 +1253,7 @@ pub mod test {\n                       as *request_wrapper;\n                 let buf_base = get_base_from_buf(buf);\n                 let buf_len = get_len_from_buf(buf);\n-                let bytes = vec::from_buf(buf_base, buf_len as uint);\n+                let bytes = vec::from_buf(buf_base, nread as uint);\n                 let read_chan = (*client_data).read_chan.clone();\n                 let msg_from_server = str::from_bytes(bytes);\n                 read_chan.send(msg_from_server);\n@@ -1445,15 +1445,15 @@ pub mod test {\n                                 buf_base as uint,\n                                 buf_len as uint,\n                                 nread));\n-                let bytes = vec::from_buf(buf_base, buf_len);\n+                let bytes = vec::from_buf(buf_base, nread as uint);\n                 let request_str = str::from_bytes(bytes);\n \n                 let client_data = get_data_for_uv_handle(\n                     client_stream_ptr as *libc::c_void) as *tcp_server_data;\n \n                 let server_kill_msg = (*client_data).server_kill_msg;\n                 let write_req = (*client_data).server_write_req;\n-                if (str::contains(request_str, server_kill_msg)) {\n+                if str::contains(request_str, server_kill_msg) {\n                     log(debug, ~\"SERVER: client req contains kill_msg!\");\n                     log(debug, ~\"SERVER: sending response to client\");\n                     read_stop(client_stream_ptr);"}]}