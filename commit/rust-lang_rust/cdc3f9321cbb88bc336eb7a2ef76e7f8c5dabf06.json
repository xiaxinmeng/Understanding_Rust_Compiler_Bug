{"sha": "cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkYzNmOTMyMWNiYjg4YmMzMzZlYjdhMmVmNzZlN2Y4YzVkYWJmMDY=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2017-06-01T23:44:38Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2017-06-01T23:44:38Z"}, "message": "Rename the Style::Default option to Legacy", "tree": {"sha": "349d87e1320770c9ef8837e248fd172d87cd37e5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/349d87e1320770c9ef8837e248fd172d87cd37e5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06", "html_url": "https://github.com/rust-lang/rust/commit/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0480f7e105adf9568c632e1579882e3e40077307", "url": "https://api.github.com/repos/rust-lang/rust/commits/0480f7e105adf9568c632e1579882e3e40077307", "html_url": "https://github.com/rust-lang/rust/commit/0480f7e105adf9568c632e1579882e3e40077307"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "1d912093c2e5f3fb94dd06111a2b0c834fd5b19a", "filename": "src/config.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06/src%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06/src%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fconfig.rs?ref=cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06", "patch": "@@ -33,7 +33,7 @@ macro_rules! configuration_option_enum{\n \n configuration_option_enum! { Style:\n     Rfc, // Follow the style RFCs style.\n-    Default, // Follow the traditional Rustfmt style.\n+    Legacy, // Follow the traditional Rustfmt style.\n }\n \n configuration_option_enum! { NewlineStyle:\n@@ -498,7 +498,7 @@ create_config! {\n     newline_style: NewlineStyle, NewlineStyle::Unix, \"Unix or Windows line endings\";\n     fn_brace_style: BraceStyle, BraceStyle::SameLineWhere, \"Brace style for functions\";\n     item_brace_style: BraceStyle, BraceStyle::SameLineWhere, \"Brace style for structs and enums\";\n-    control_style: Style, Style::Default, \"Indent style for control flow statements\";\n+    control_style: Style, Style::Legacy, \"Indent style for control flow statements\";\n     control_brace_style: ControlBraceStyle, ControlBraceStyle::AlwaysSameLine,\n         \"Brace style for control flow constructs\";\n     impl_empty_single_line: bool, true, \"Put empty-body implementations on a single line\";\n@@ -517,7 +517,7 @@ create_config! {\n         \"Maximum width of an array literal before falling back to vertical formatting\";\n     type_punctuation_density: TypeDensity, TypeDensity::Wide,\n         \"Determines if '+' or '=' are wrapped in spaces in the punctuation of types\";\n-    where_style: Style, Style::Default, \"Overall strategy for where clauses\";\n+    where_style: Style, Style::Legacy, \"Overall strategy for where clauses\";\n     // TODO:\n     // 1. Should we at least try to put the where clause on the same line as the rest of the\n     // function decl?"}, {"sha": "c9b9284bb308048c21844da6a909ef705a6ad780", "filename": "src/expr.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06/src%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06/src%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fexpr.rs?ref=cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06", "patch": "@@ -327,7 +327,7 @@ pub fn rewrite_pair<LHS, RHS>(lhs: &LHS,\n     // Re-evaluate the rhs because we have more space now:\n     let infix = infix.trim_right();\n     let rhs_shape = match context.config.control_style() {\n-        Style::Default => {\n+        Style::Legacy => {\n             try_opt!(shape.sub_width(suffix.len() + prefix.len())).visual_indent(prefix.len())\n         }\n         Style::Rfc => {\n@@ -339,7 +339,7 @@ pub fn rewrite_pair<LHS, RHS>(lhs: &LHS,\n \n     let rhs_result = try_opt!(rhs.rewrite(context, rhs_shape));\n     let lhs_shape = match context.config.control_style() {\n-        Style::Default => {\n+        Style::Legacy => {\n             let lhs_overhead = shape.used_width() + prefix.len() + infix.len();\n             Shape {\n                 width: try_opt!(context.config.max_width().checked_sub(lhs_overhead)),\n@@ -914,7 +914,7 @@ impl<'a> Rewrite for ControlFlow<'a> {\n         let pat_expr_string = match self.cond {\n             Some(cond) => {\n                 let mut cond_shape = match context.config.control_style() {\n-                    Style::Default => try_opt!(constr_shape.shrink_left(add_offset)),\n+                    Style::Legacy => try_opt!(constr_shape.shrink_left(add_offset)),\n                     Style::Rfc => try_opt!(constr_shape.sub_width(add_offset)),\n                 };\n                 if context.config.control_brace_style() != ControlBraceStyle::AlwaysNextLine {"}, {"sha": "e082f863f330385b77ab935a8aff7385133a71bd", "filename": "tests/source/configs-where_style-default.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06/tests%2Fsource%2Fconfigs-where_style-default.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06/tests%2Fsource%2Fconfigs-where_style-default.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fconfigs-where_style-default.rs?ref=cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06", "patch": "@@ -1,4 +1,4 @@\n-// rustfmt-where_style: Default\n+// rustfmt-where_style: Legacy\n // Where style\n \n fn lorem<Ipsum, Dolor, Sit, Amet>() -> T where Ipsum: Eq, Dolor: Eq, Sit: Eq, Amet: Eq {"}, {"sha": "2971ac4c5e6b6414861250184be57d05c95b016a", "filename": "tests/target/configs-where_style-default.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06/tests%2Ftarget%2Fconfigs-where_style-default.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06/tests%2Ftarget%2Fconfigs-where_style-default.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fconfigs-where_style-default.rs?ref=cdc3f9321cbb88bc336eb7a2ef76e7f8c5dabf06", "patch": "@@ -1,4 +1,4 @@\n-// rustfmt-where_style: Default\n+// rustfmt-where_style: Legacy\n // Where style\n \n fn lorem<Ipsum, Dolor, Sit, Amet>() -> T"}]}