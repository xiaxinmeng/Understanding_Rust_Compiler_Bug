{"sha": "0369a41f0e668eda5622055253b91dbb5254f0b4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzNjlhNDFmMGU2NjhlZGE1NjIyMDU1MjUzYjkxZGJiNTI1NGYwYjQ=", "commit": {"author": {"name": "Chris Morgan", "email": "me@chrismorgan.info", "date": "2013-10-29T06:22:49Z"}, "committer": {"name": "Chris Morgan", "email": "me@chrismorgan.info", "date": "2013-11-03T12:49:01Z"}, "message": "Rename files to match current recommendations.\n\nNew standards have arisen in recent months, mostly for the use of\nrustpkg, but the main Rust codebase has not been altered to match these\nnew specifications. This changeset rectifies most of these issues.\n\n- Renamed the crate source files `src/libX/X.rs` to `lib.rs`, for\n  consistency with current styles; this affects extra, rustc, rustdoc,\n  rustpkg, rustuv, std, syntax.\n\n- Renamed `X/X.rs` to `X/mod.rs,` as is now recommended style, for\n  `std::num` and `std::terminfo`.\n\n- Shifted `src/libstd/str/ascii.rs` out of the otherwise unused `str`\n  directory, to be consistent with its import path of `std::ascii`;\n  libstd is flat at present so it's more appropriate thus.\n\nWhile this removes some `#[path = \"...\"]` directives, it does not remove\nall of them, and leaves certain other inconsistencies, such as `std::u8`\net al. which are actually stored in `src/libstd/num/` (one subdirectory\ndown). No quorum has been reached on this issue, so I felt it best to\nleave them all alone at present. #9208 deals with the possibility of\nmaking libstd more hierarchical (such as changing the crate to match the\ncurrent filesystem structure, which would make the module path\n`std::num::u8`).\n\nThere is one thing remaining in which this repository is not\nrustpkg-compliant: rustpkg would have `src/std/` et al. rather than\n`src/libstd/` et al. I have not endeavoured to change that at this point\nas it would guarantee prompt bitrot and confusion. A change of that\nmagnitude needs to be discussed first.", "tree": {"sha": "1cff913f7020f89a9441a0eb19d9e573329bba92", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1cff913f7020f89a9441a0eb19d9e573329bba92"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0369a41f0e668eda5622055253b91dbb5254f0b4", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0369a41f0e668eda5622055253b91dbb5254f0b4", "html_url": "https://github.com/rust-lang/rust/commit/0369a41f0e668eda5622055253b91dbb5254f0b4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0369a41f0e668eda5622055253b91dbb5254f0b4/comments", "author": {"login": "chris-morgan", "id": 392868, "node_id": "MDQ6VXNlcjM5Mjg2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chris-morgan", "html_url": "https://github.com/chris-morgan", "followers_url": "https://api.github.com/users/chris-morgan/followers", "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}", "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}", "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions", "organizations_url": "https://api.github.com/users/chris-morgan/orgs", "repos_url": "https://api.github.com/users/chris-morgan/repos", "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}", "received_events_url": "https://api.github.com/users/chris-morgan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chris-morgan", "id": 392868, "node_id": "MDQ6VXNlcjM5Mjg2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chris-morgan", "html_url": "https://github.com/chris-morgan", "followers_url": "https://api.github.com/users/chris-morgan/followers", "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}", "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}", "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions", "organizations_url": "https://api.github.com/users/chris-morgan/orgs", "repos_url": "https://api.github.com/users/chris-morgan/repos", "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}", "received_events_url": "https://api.github.com/users/chris-morgan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "318e1da4a79533cf8040ef41dc1b1a2ef861906b", "url": "https://api.github.com/repos/rust-lang/rust/commits/318e1da4a79533cf8040ef41dc1b1a2ef861906b", "html_url": "https://github.com/rust-lang/rust/commit/318e1da4a79533cf8040ef41dc1b1a2ef861906b"}], "stats": {"total": 17, "additions": 7, "deletions": 10}, "files": [{"sha": "b927c805220f40cc79c5877bf43a87e5abb495f5", "filename": "Makefile.in", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "patch": "@@ -280,35 +280,35 @@ $(foreach target,$(CFG_TARGET),\\\n # Standard library variables\n ######################################################################\n \n-STDLIB_CRATE := $(S)src/libstd/std.rs\n+STDLIB_CRATE := $(S)src/libstd/lib.rs\n STDLIB_INPUTS := $(wildcard $(addprefix $(S)src/libstd/,        \\\n                                            *.rs */*.rs */*/*rs */*/*/*rs))\n \n ######################################################################\n # Extra library variables\n ######################################################################\n \n-EXTRALIB_CRATE := $(S)src/libextra/extra.rs\n+EXTRALIB_CRATE := $(S)src/libextra/lib.rs\n EXTRALIB_INPUTS := $(wildcard $(addprefix $(S)src/libextra/,          \\\n                                           *.rs */*.rs))\n \n ######################################################################\n # Rust UV library variables\n ######################################################################\n \n-LIBRUSTUV_CRATE := $(S)src/librustuv/rustuv.rs\n+LIBRUSTUV_CRATE := $(S)src/librustuv/lib.rs\n LIBRUSTUV_INPUTS := $(wildcard $(addprefix $(S)src/librustuv/,          \\\n                                           *.rs */*.rs))\n \n ######################################################################\n # rustc crate variables\n ######################################################################\n \n-COMPILER_CRATE := $(S)src/librustc/rustc.rs\n+COMPILER_CRATE := $(S)src/librustc/lib.rs\n COMPILER_INPUTS := $(wildcard $(addprefix $(S)src/librustc/,      \\\n                            *.rs */*.rs */*/*.rs */*/*/*.rs))\n \n-LIBSYNTAX_CRATE := $(S)src/libsyntax/syntax.rs\n+LIBSYNTAX_CRATE := $(S)src/libsyntax/lib.rs\n LIBSYNTAX_INPUTS := $(wildcard $(addprefix $(S)src/libsyntax/, \\\n                            *.rs */*.rs */*/*.rs */*/*/*.rs))\n "}, {"sha": "5ae33cb7fabe9fc0c02eb49f03c4f6a98959cb7a", "filename": "mk/tools.mk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/mk%2Ftools.mk", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/mk%2Ftools.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftools.mk?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "patch": "@@ -16,11 +16,11 @@ COMPILETEST_CRATE := $(S)src/compiletest/compiletest.rs\n COMPILETEST_INPUTS := $(wildcard $(S)src/compiletest/*.rs)\n \n # Rustpkg, the package manager and build system\n-RUSTPKG_LIB := $(S)src/librustpkg/rustpkg.rs\n+RUSTPKG_LIB := $(S)src/librustpkg/lib.rs\n RUSTPKG_INPUTS := $(wildcard $(S)src/librustpkg/*.rs)\n \n # Rustdoc, the documentation tool\n-RUSTDOC_LIB := $(S)src/librustdoc/rustdoc.rs\n+RUSTDOC_LIB := $(S)src/librustdoc/lib.rs\n RUSTDOC_INPUTS := $(wildcard $(addprefix $(S)src/librustdoc/,        \\\n                                            *.rs */*.rs */*/*.rs))\n "}, {"sha": "2ac1237379444d500704185abeb2fb945b343b7f", "filename": "src/libextra/lib.rs", "status": "renamed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibextra%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibextra%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Flib.rs?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "patch": "@@ -98,7 +98,6 @@ pub mod uuid;\n #[cfg(unicode)]\n mod unicode;\n \n-#[path=\"terminfo/terminfo.rs\"]\n pub mod terminfo;\n \n // Compiler support modules", "previous_filename": "src/libextra/extra.rs"}, {"sha": "06bf6e47c329107bd7651e0c215805e467bce4eb", "filename": "src/libextra/terminfo/mod.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibextra%2Fterminfo%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibextra%2Fterminfo%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Fterminfo%2Fmod.rs?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "previous_filename": "src/libextra/terminfo/terminfo.rs"}, {"sha": "ba27b5a5f41b12480fbaa327f8ecbb19bd177882", "filename": "src/librustc/lib.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "previous_filename": "src/librustc/rustc.rs"}, {"sha": "770d535c6ea9e85b9d346c163ff2cda6c3788141", "filename": "src/librustdoc/lib.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "previous_filename": "src/librustdoc/rustdoc.rs"}, {"sha": "517d43432eccf6dc653bdbaf1b09bda03447e8b9", "filename": "src/librustpkg/lib.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibrustpkg%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibrustpkg%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustpkg%2Flib.rs?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "previous_filename": "src/librustpkg/rustpkg.rs"}, {"sha": "9119d1fb4e39374d307b9e12b57d824a4a4e1295", "filename": "src/librustuv/lib.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibrustuv%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibrustuv%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Flib.rs?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "previous_filename": "src/librustuv/rustuv.rs"}, {"sha": "ec2d7566177564e86894e67988693767ea242626", "filename": "src/libstd/ascii.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibstd%2Fascii.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibstd%2Fascii.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fascii.rs?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "previous_filename": "src/libstd/str/ascii.rs"}, {"sha": "68f13dc8992e8cb4f8ec98413d49dca0503ebc5f", "filename": "src/libstd/lib.rs", "status": "renamed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "patch": "@@ -122,7 +122,6 @@ pub mod vec;\n pub mod at_vec;\n pub mod str;\n \n-#[path = \"str/ascii.rs\"]\n pub mod ascii;\n pub mod send_str;\n \n@@ -143,7 +142,6 @@ pub mod rc;\n /* Common traits */\n \n pub mod from_str;\n-#[path = \"num/num.rs\"]\n pub mod num;\n pub mod iter;\n pub mod to_str;", "previous_filename": "src/libstd/std.rs"}, {"sha": "3097a8e138ef0abcb61514ec8250339ea7607c0d", "filename": "src/libstd/num/mod.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibstd%2Fnum%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibstd%2Fnum%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnum%2Fmod.rs?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "previous_filename": "src/libstd/num/num.rs"}, {"sha": "cf2c01e92b43bd145ed38250e8e279b67fa870ae", "filename": "src/libsyntax/lib.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0369a41f0e668eda5622055253b91dbb5254f0b4/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=0369a41f0e668eda5622055253b91dbb5254f0b4", "previous_filename": "src/libsyntax/syntax.rs"}]}