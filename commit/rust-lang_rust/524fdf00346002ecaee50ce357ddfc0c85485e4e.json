{"sha": "524fdf00346002ecaee50ce357ddfc0c85485e4e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUyNGZkZjAwMzQ2MDAyZWNhZWU1MGNlMzU3ZGRmYzBjODU0ODVlNGU=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-03-05T15:19:58Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-03-05T15:26:30Z"}, "message": "Use global variables instead of functions for DOM IDs", "tree": {"sha": "18f724e412b57529fd809a1a106601aeac2ecce6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/18f724e412b57529fd809a1a106601aeac2ecce6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/524fdf00346002ecaee50ce357ddfc0c85485e4e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/524fdf00346002ecaee50ce357ddfc0c85485e4e", "html_url": "https://github.com/rust-lang/rust/commit/524fdf00346002ecaee50ce357ddfc0c85485e4e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/524fdf00346002ecaee50ce357ddfc0c85485e4e/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5dea1f188849e35aee866120958eaf3a2e196a47", "url": "https://api.github.com/repos/rust-lang/rust/commits/5dea1f188849e35aee866120958eaf3a2e196a47", "html_url": "https://github.com/rust-lang/rust/commit/5dea1f188849e35aee866120958eaf3a2e196a47"}], "stats": {"total": 27, "additions": 11, "deletions": 16}, "files": [{"sha": "b1d2d2e731cf819458582d650db580ab20f3cf08", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 11, "deletions": 16, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/524fdf00346002ecaee50ce357ddfc0c85485e4e/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/524fdf00346002ecaee50ce357ddfc0c85485e4e/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=524fdf00346002ecaee50ce357ddfc0c85485e4e", "patch": "@@ -85,20 +85,15 @@ function getSearchElement() {\n     return document.getElementById(\"search\");\n }\n \n-function getThemesElementId() {\n-    return \"theme-choices\";\n-}\n+var THEME_PICKER_ELEMENT_ID = \"theme-picker\";\n+var THEMES_ELEMENT_ID = \"theme-choices\";\n \n function getThemesElement() {\n-    return document.getElementById(getThemesElementId());\n-}\n-\n-function getThemePickerElementId() {\n-    return \"theme-picker\";\n+    return document.getElementById(THEMES_ELEMENT_ID);\n }\n \n function getThemePickerElement() {\n-    return document.getElementById(getThemePickerElementId());\n+    return document.getElementById(THEME_PICKER_ELEMENT_ID);\n }\n \n // Returns the current URL without any query parameter or hash.\n@@ -152,11 +147,11 @@ function hideThemeButtonState() {\n         var active = document.activeElement;\n         var related = e.relatedTarget;\n \n-        if (active.id !== getThemePickerElementId() &&\n-            (!active.parentNode || active.parentNode.id !== getThemesElementId()) &&\n+        if (active.id !== THEME_PICKER_ELEMENT_ID &&\n+            (!active.parentNode || active.parentNode.id !== THEMES_ELEMENT_ID) &&\n             (!related ||\n-             (related.id !== getThemePickerElementId() &&\n-              (!related.parentNode || related.parentNode.id !== getThemesElementId())))) {\n+             (related.id !== THEME_PICKER_ELEMENT_ID &&\n+              (!related.parentNode || related.parentNode.id !== THEMES_ELEMENT_ID)))) {\n             hideThemeButtonState();\n         }\n     }\n@@ -534,7 +529,7 @@ function hideThemeButtonState() {\n         switch (getVirtualKey(ev)) {\n         case \"ArrowUp\":\n             ev.preventDefault();\n-            if (active.previousElementSibling && ev.target.id !== getThemePickerElementId()) {\n+            if (active.previousElementSibling && ev.target.id !== THEME_PICKER_ELEMENT_ID) {\n                 active.previousElementSibling.focus();\n             } else {\n                 showThemeButtonState();\n@@ -543,7 +538,7 @@ function hideThemeButtonState() {\n             break;\n         case \"ArrowDown\":\n             ev.preventDefault();\n-            if (active.nextElementSibling && ev.target.id !== getThemePickerElementId()) {\n+            if (active.nextElementSibling && ev.target.id !== THEME_PICKER_ELEMENT_ID) {\n                 active.nextElementSibling.focus();\n             } else {\n                 showThemeButtonState();\n@@ -553,7 +548,7 @@ function hideThemeButtonState() {\n         case \"Enter\":\n         case \"Return\":\n         case \"Space\":\n-            if (ev.target.id === getThemePickerElementId() && themes.style.display === \"none\") {\n+            if (ev.target.id === THEME_PICKER_ELEMENT_ID && themes.style.display === \"none\") {\n                 ev.preventDefault();\n                 showThemeButtonState();\n                 themes.firstElementChild.focus();"}]}