{"sha": "4e219e6335a04cae15a784063f8cbe021076c933", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRlMjE5ZTYzMzVhMDRjYWUxNWE3ODQwNjNmOGNiZTAyMTA3NmM5MzM=", "commit": {"author": {"name": "Fabian Wolff", "email": "fabian.wolff@alumni.ethz.ch", "date": "2021-06-04T17:48:24Z"}, "committer": {"name": "Fabian Wolff", "email": "fabian.wolff@alumni.ethz.ch", "date": "2021-06-04T20:17:04Z"}, "message": "Remove incorrect assertion in type parsing code", "tree": {"sha": "fa0f13a7cc824087cc9c67909b78d27a3ad8813b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fa0f13a7cc824087cc9c67909b78d27a3ad8813b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4e219e6335a04cae15a784063f8cbe021076c933", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4e219e6335a04cae15a784063f8cbe021076c933", "html_url": "https://github.com/rust-lang/rust/commit/4e219e6335a04cae15a784063f8cbe021076c933", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4e219e6335a04cae15a784063f8cbe021076c933/comments", "author": {"login": "FabianWolff", "id": 16052130, "node_id": "MDQ6VXNlcjE2MDUyMTMw", "avatar_url": "https://avatars.githubusercontent.com/u/16052130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FabianWolff", "html_url": "https://github.com/FabianWolff", "followers_url": "https://api.github.com/users/FabianWolff/followers", "following_url": "https://api.github.com/users/FabianWolff/following{/other_user}", "gists_url": "https://api.github.com/users/FabianWolff/gists{/gist_id}", "starred_url": "https://api.github.com/users/FabianWolff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FabianWolff/subscriptions", "organizations_url": "https://api.github.com/users/FabianWolff/orgs", "repos_url": "https://api.github.com/users/FabianWolff/repos", "events_url": "https://api.github.com/users/FabianWolff/events{/privacy}", "received_events_url": "https://api.github.com/users/FabianWolff/received_events", "type": "User", "site_admin": false}, "committer": {"login": "FabianWolff", "id": 16052130, "node_id": "MDQ6VXNlcjE2MDUyMTMw", "avatar_url": "https://avatars.githubusercontent.com/u/16052130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FabianWolff", "html_url": "https://github.com/FabianWolff", "followers_url": "https://api.github.com/users/FabianWolff/followers", "following_url": "https://api.github.com/users/FabianWolff/following{/other_user}", "gists_url": "https://api.github.com/users/FabianWolff/gists{/gist_id}", "starred_url": "https://api.github.com/users/FabianWolff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FabianWolff/subscriptions", "organizations_url": "https://api.github.com/users/FabianWolff/orgs", "repos_url": "https://api.github.com/users/FabianWolff/repos", "events_url": "https://api.github.com/users/FabianWolff/events{/privacy}", "received_events_url": "https://api.github.com/users/FabianWolff/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c4c2ab57a43737867982fafc8cfacd9b069fee96", "url": "https://api.github.com/repos/rust-lang/rust/commits/c4c2ab57a43737867982fafc8cfacd9b069fee96", "html_url": "https://github.com/rust-lang/rust/commit/c4c2ab57a43737867982fafc8cfacd9b069fee96"}], "stats": {"total": 63, "additions": 62, "deletions": 1}, "files": [{"sha": "de5a5632600e4ee39a1f6c0dd90d01f92fb5ed46", "filename": "compiler/rustc_parse/src/parser/ty.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4e219e6335a04cae15a784063f8cbe021076c933/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e219e6335a04cae15a784063f8cbe021076c933/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fty.rs?ref=4e219e6335a04cae15a784063f8cbe021076c933", "patch": "@@ -334,7 +334,6 @@ impl<'a> Parser<'a> {\n         mut bounds: GenericBounds,\n         plus: bool,\n     ) -> PResult<'a, TyKind> {\n-        assert_ne!(self.token, token::Question);\n         if plus {\n             self.eat_plus(); // `+`, or `+=` gets split and `+` is discarded\n             bounds.append(&mut self.parse_generic_bounds(Some(self.prev_token.span))?);"}, {"sha": "25f7ba4d1f88e8920b6beb754c9fb3d3ad97b24c", "filename": "src/test/ui/parser/issue-84148-1.rs", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4e219e6335a04cae15a784063f8cbe021076c933/src%2Ftest%2Fui%2Fparser%2Fissue-84148-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e219e6335a04cae15a784063f8cbe021076c933/src%2Ftest%2Fui%2Fparser%2Fissue-84148-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-84148-1.rs?ref=4e219e6335a04cae15a784063f8cbe021076c933", "patch": "@@ -0,0 +1,4 @@\n+fn f(t:for<>t?)\n+//~^ ERROR: expected parameter name\n+//~| ERROR: expected one of\n+//~| ERROR: expected one of"}, {"sha": "98506568d82c233519b4d7f75b908925a1bce198", "filename": "src/test/ui/parser/issue-84148-1.stderr", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/4e219e6335a04cae15a784063f8cbe021076c933/src%2Ftest%2Fui%2Fparser%2Fissue-84148-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4e219e6335a04cae15a784063f8cbe021076c933/src%2Ftest%2Fui%2Fparser%2Fissue-84148-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-84148-1.stderr?ref=4e219e6335a04cae15a784063f8cbe021076c933", "patch": "@@ -0,0 +1,23 @@\n+error: expected parameter name, found `?`\n+  --> $DIR/issue-84148-1.rs:1:14\n+   |\n+LL | fn f(t:for<>t?)\n+   |              ^ expected parameter name\n+\n+error: expected one of `(`, `)`, `+`, `,`, `::`, or `<`, found `?`\n+  --> $DIR/issue-84148-1.rs:1:14\n+   |\n+LL | fn f(t:for<>t?)\n+   |              ^\n+   |              |\n+   |              expected one of `(`, `)`, `+`, `,`, `::`, or `<`\n+   |              help: missing `,`\n+\n+error: expected one of `->`, `;`, `where`, or `{`, found `<eof>`\n+  --> $DIR/issue-84148-1.rs:1:15\n+   |\n+LL | fn f(t:for<>t?)\n+   |               ^ expected one of `->`, `;`, `where`, or `{`\n+\n+error: aborting due to 3 previous errors\n+"}, {"sha": "257a3fd67207ec2bd1a045fc7d88117eb787d5fe", "filename": "src/test/ui/parser/issue-84148-2.rs", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4e219e6335a04cae15a784063f8cbe021076c933/src%2Ftest%2Fui%2Fparser%2Fissue-84148-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e219e6335a04cae15a784063f8cbe021076c933/src%2Ftest%2Fui%2Fparser%2Fissue-84148-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-84148-2.rs?ref=4e219e6335a04cae15a784063f8cbe021076c933", "patch": "@@ -0,0 +1,4 @@\n+// error-pattern: this file contains an unclosed delimiter\n+// error-pattern: expected parameter name\n+// error-pattern: expected one of\n+fn f(t:for<>t?"}, {"sha": "6f314da436070371a5f23f93b12aa709dbabe576", "filename": "src/test/ui/parser/issue-84148-2.stderr", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/4e219e6335a04cae15a784063f8cbe021076c933/src%2Ftest%2Fui%2Fparser%2Fissue-84148-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4e219e6335a04cae15a784063f8cbe021076c933/src%2Ftest%2Fui%2Fparser%2Fissue-84148-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-84148-2.stderr?ref=4e219e6335a04cae15a784063f8cbe021076c933", "patch": "@@ -0,0 +1,31 @@\n+error: this file contains an unclosed delimiter\n+  --> $DIR/issue-84148-2.rs:4:16\n+   |\n+LL | fn f(t:for<>t?\n+   |     -          ^\n+   |     |\n+   |     unclosed delimiter\n+\n+error: expected parameter name, found `?`\n+  --> $DIR/issue-84148-2.rs:4:14\n+   |\n+LL | fn f(t:for<>t?\n+   |              ^ expected parameter name\n+\n+error: expected one of `(`, `)`, `+`, `,`, `::`, or `<`, found `?`\n+  --> $DIR/issue-84148-2.rs:4:14\n+   |\n+LL | fn f(t:for<>t?\n+   |              ^\n+   |              |\n+   |              expected one of `(`, `)`, `+`, `,`, `::`, or `<`\n+   |              help: missing `,`\n+\n+error: expected one of `->`, `;`, `where`, or `{`, found `<eof>`\n+  --> $DIR/issue-84148-2.rs:4:16\n+   |\n+LL | fn f(t:for<>t?\n+   |                ^ expected one of `->`, `;`, `where`, or `{`\n+\n+error: aborting due to 4 previous errors\n+"}]}