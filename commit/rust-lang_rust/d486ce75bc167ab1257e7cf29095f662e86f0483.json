{"sha": "d486ce75bc167ab1257e7cf29095f662e86f0483", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ0ODZjZTc1YmMxNjdhYjEyNTdlN2NmMjkwOTVmNjYyZTg2ZjA0ODM=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2021-08-23T18:45:47Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-08-23T18:45:47Z"}, "message": "Rollup merge of #88174 - camelid:clarify-rust-2021-lint-docs, r=m-ou-se\n\nClarify some wording in Rust 2021 lint docs\n\nAlso added some inline code styling.", "tree": {"sha": "2aad9400f4620394af00b96e2f535c400d76f3d7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2aad9400f4620394af00b96e2f535c400d76f3d7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d486ce75bc167ab1257e7cf29095f662e86f0483", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhI+zbCRBK7hj4Ov3rIwAAxjMIAEuXH178aVPw5EmBLi8zpdw7\nwhEAsEcyJ+7qW+S9xPJyss6sq3AaEaMmwZD58cHWqiN/6UQzJfccOPMjFUrSQGsV\nysQDLRod7sgq4w/fwlP4m2wu3u+hhOE/nQIg00AXGpo2AdiikenrASM4iea9baua\nfHOB6/9xLThg90gIjENALOtmezqaJ7V5QEfcEC4aLNQn1vs7A+VouOAGru8dny3y\nRPB+o3T+fTO1l9pY4vNiyxTwJPa9xTN98FaPLJRI/t4v0z0TkEaJPyY7A7BW6/KJ\nmMXyjjoDL2Mf7dCXnNThvDK0UYGHm9yFLJw1xgDJ4Lj9DRLlJO6VASIlPTZ8Clc=\n=4XqP\n-----END PGP SIGNATURE-----\n", "payload": "tree 2aad9400f4620394af00b96e2f535c400d76f3d7\nparent 70aec8d7fb081f2163a88fd7d32f325a108a0d8c\nparent ba9093e8271bb108bc5914cd88e2803af2b6ebba\nauthor Mara Bos <m-ou.se@m-ou.se> 1629744347 +0200\ncommitter GitHub <noreply@github.com> 1629744347 +0200\n\nRollup merge of #88174 - camelid:clarify-rust-2021-lint-docs, r=m-ou-se\n\nClarify some wording in Rust 2021 lint docs\n\nAlso added some inline code styling.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d486ce75bc167ab1257e7cf29095f662e86f0483", "html_url": "https://github.com/rust-lang/rust/commit/d486ce75bc167ab1257e7cf29095f662e86f0483", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d486ce75bc167ab1257e7cf29095f662e86f0483/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "70aec8d7fb081f2163a88fd7d32f325a108a0d8c", "url": "https://api.github.com/repos/rust-lang/rust/commits/70aec8d7fb081f2163a88fd7d32f325a108a0d8c", "html_url": "https://github.com/rust-lang/rust/commit/70aec8d7fb081f2163a88fd7d32f325a108a0d8c"}, {"sha": "ba9093e8271bb108bc5914cd88e2803af2b6ebba", "url": "https://api.github.com/repos/rust-lang/rust/commits/ba9093e8271bb108bc5914cd88e2803af2b6ebba", "html_url": "https://github.com/rust-lang/rust/commit/ba9093e8271bb108bc5914cd88e2803af2b6ebba"}], "stats": {"total": 22, "additions": 13, "deletions": 9}, "files": [{"sha": "457be5e7a58994815e2e4e4bbcb9edc6209de402", "filename": "compiler/rustc_lint_defs/src/builtin.rs", "status": "modified", "additions": 13, "deletions": 9, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/d486ce75bc167ab1257e7cf29095f662e86f0483/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d486ce75bc167ab1257e7cf29095f662e86f0483/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs?ref=d486ce75bc167ab1257e7cf29095f662e86f0483", "patch": "@@ -3070,16 +3070,19 @@ declare_lint! {\n \n declare_lint! {\n     /// The `rust_2021_incompatible_closure_captures` lint detects variables that aren't completely\n-    /// captured in Rust 2021 and affect the Drop order of at least one path starting at this variable.\n-    /// It can also detect when a variable implements a trait, but one of its field does not and\n-    /// the field is captured by a closure and used with the assumption that said field implements\n+    /// captured in Rust 2021, such that the `Drop` order of their fields may differ between\n+    /// Rust 2018 and 2021.\n+    ///\n+    /// It can also detect when a variable implements a trait like `Send`, but one of its fields does not,\n+    /// and the field is captured by a closure and used with the assumption that said field implements\n     /// the same trait as the root variable.\n     ///\n     /// ### Example of drop reorder\n     ///\n     /// ```rust,compile_fail\n-    /// # #![deny(rust_2021_incompatible_closure_captures)]\n+    /// #![deny(rust_2021_incompatible_closure_captures)]\n     /// # #![allow(unused)]\n+    ///\n     /// struct FancyInteger(i32);\n     ///\n     /// impl Drop for FancyInteger {\n@@ -3133,8 +3136,8 @@ declare_lint! {\n     /// ### Explanation\n     ///\n     /// In the above example, only `fptr.0` is captured in Rust 2021.\n-    /// The field is of type *mut i32 which doesn't implement Send, making the code invalid as the\n-    /// field cannot be sent between thread safely.\n+    /// The field is of type `*mut i32`, which doesn't implement `Send`,\n+    /// making the code invalid as the field cannot be sent between threads safely.\n     pub RUST_2021_INCOMPATIBLE_CLOSURE_CAPTURES,\n     Allow,\n     \"detects closures affected by Rust 2021 changes\",\n@@ -3254,6 +3257,7 @@ declare_lint! {\n     ///\n     /// ```rust,compile_fail\n     /// #![deny(rust_2021_incompatible_or_patterns)]\n+    ///\n     /// macro_rules! match_any {\n     ///     ( $expr:expr , $( $( $pat:pat )|+ => $expr_arm:expr ),+ ) => {\n     ///         match $expr {\n@@ -3275,7 +3279,7 @@ declare_lint! {\n     ///\n     /// ### Explanation\n     ///\n-    /// In Rust 2021, the pat matcher will match new patterns, which include the | character.\n+    /// In Rust 2021, the `pat` matcher will match additional patterns, which include the `|` character.\n     pub RUST_2021_INCOMPATIBLE_OR_PATTERNS,\n     Allow,\n     \"detects usage of old versions of or-patterns\",\n@@ -3320,8 +3324,8 @@ declare_lint! {\n     /// In Rust 2021, one of the important introductions is the [prelude changes], which add\n     /// `TryFrom`, `TryInto`, and `FromIterator` into the standard library's prelude. Since this\n     /// results in an ambiguity as to which method/function to call when an existing `try_into`\n-    ///  method is called via dot-call syntax or a `try_from`/`from_iter` associated function\n-    ///  is called directly on a type.\n+    /// method is called via dot-call syntax or a `try_from`/`from_iter` associated function\n+    /// is called directly on a type.\n     ///\n     /// [prelude changes]: https://blog.rust-lang.org/inside-rust/2021/03/04/planning-rust-2021.html#prelude-changes\n     pub RUST_2021_PRELUDE_COLLISIONS,"}]}