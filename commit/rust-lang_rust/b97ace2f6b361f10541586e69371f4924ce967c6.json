{"sha": "b97ace2f6b361f10541586e69371f4924ce967c6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI5N2FjZTJmNmIzNjFmMTA1NDE1ODZlNjkzNzFmNDkyNGNlOTY3YzY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-01-13T17:21:41Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-01-13T17:21:41Z"}, "message": "auto merge of #11513 : huonw/rust/generic-errs, r=alexcrichton\n\nUnsuffixed literals like 1 and 1.1, and free type parameters sometimes\r\nhave to be printed in error messages, which ended up with \\<V0>, \\<VI0>\r\nand \\<VF0>. This change puts the words \"generic\" and \"integer\"/\"float\"\r\ninto the message so it's not a completely black box.", "tree": {"sha": "17367a2e5b6f4b4d7dfd566a94fa3579c8b8fe21", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/17367a2e5b6f4b4d7dfd566a94fa3579c8b8fe21"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b97ace2f6b361f10541586e69371f4924ce967c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b97ace2f6b361f10541586e69371f4924ce967c6", "html_url": "https://github.com/rust-lang/rust/commit/b97ace2f6b361f10541586e69371f4924ce967c6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b97ace2f6b361f10541586e69371f4924ce967c6/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "caf316a31e7de9536b6db834996c67c74c32f53b", "url": "https://api.github.com/repos/rust-lang/rust/commits/caf316a31e7de9536b6db834996c67c74c32f53b", "html_url": "https://github.com/rust-lang/rust/commit/caf316a31e7de9536b6db834996c67c74c32f53b"}, {"sha": "e25d7069b5a6430252e6a411d55debf0a55b955b", "url": "https://api.github.com/repos/rust-lang/rust/commits/e25d7069b5a6430252e6a411d55debf0a55b955b", "html_url": "https://github.com/rust-lang/rust/commit/e25d7069b5a6430252e6a411d55debf0a55b955b"}], "stats": {"total": 29, "additions": 24, "deletions": 5}, "files": [{"sha": "daa5312229e15e97e734c989091eed8d52e0435f", "filename": "src/librustc/middle/ty.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b97ace2f6b361f10541586e69371f4924ce967c6/src%2Flibrustc%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b97ace2f6b361f10541586e69371f4924ce967c6/src%2Flibrustc%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fty.rs?ref=b97ace2f6b361f10541586e69371f4924ce967c6", "patch": "@@ -810,23 +810,23 @@ impl Vid for TyVid {\n }\n \n impl ToStr for TyVid {\n-    fn to_str(&self) -> ~str { format!(\"<V{}>\", self.to_uint()) }\n+    fn to_str(&self) -> ~str { format!(\"<generic \\\\#{}>\", self.to_uint()) }\n }\n \n impl Vid for IntVid {\n     fn to_uint(&self) -> uint { let IntVid(v) = *self; v }\n }\n \n impl ToStr for IntVid {\n-    fn to_str(&self) -> ~str { format!(\"<VI{}>\", self.to_uint()) }\n+    fn to_str(&self) -> ~str { format!(\"<generic integer \\\\#{}>\", self.to_uint()) }\n }\n \n impl Vid for FloatVid {\n     fn to_uint(&self) -> uint { let FloatVid(v) = *self; v }\n }\n \n impl ToStr for FloatVid {\n-    fn to_str(&self) -> ~str { format!(\"<VF{}>\", self.to_uint()) }\n+    fn to_str(&self) -> ~str { format!(\"<generic float \\\\#{}>\", self.to_uint()) }\n }\n \n impl Vid for RegionVid {"}, {"sha": "de2165ff633c111833d73a3c424ebe78481456df", "filename": "src/test/compile-fail/issue-3680.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b97ace2f6b361f10541586e69371f4924ce967c6/src%2Ftest%2Fcompile-fail%2Fissue-3680.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b97ace2f6b361f10541586e69371f4924ce967c6/src%2Ftest%2Fcompile-fail%2Fissue-3680.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-3680.rs?ref=b97ace2f6b361f10541586e69371f4924ce967c6", "patch": "@@ -10,6 +10,6 @@\n \n fn main() {\n     match None {\n-        Err(_) => () //~ ERROR mismatched types: expected `std::option::Option<<V1>>` but found `std::result::Result<<V2>,<V3>>`\n+        Err(_) => () //~ ERROR mismatched types: expected `std::option::Option<<generic #1>>` but found `std::result::Result<<generic #2>,<generic #3>>`\n     }\n }"}, {"sha": "5739f3dc46b909dd96a2cae57c1e89d1a19b44de", "filename": "src/test/compile-fail/issue-4968.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b97ace2f6b361f10541586e69371f4924ce967c6/src%2Ftest%2Fcompile-fail%2Fissue-4968.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b97ace2f6b361f10541586e69371f4924ce967c6/src%2Ftest%2Fcompile-fail%2Fissue-4968.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-4968.rs?ref=b97ace2f6b361f10541586e69371f4924ce967c6", "patch": "@@ -12,5 +12,5 @@\n \n static A: (int,int) = (4,2);\n fn main() {\n-    match 42 { A => () } //~ ERROR mismatched types: expected `<VI0>` but found `(int,int)` (expected integral variable but found tuple)\n+    match 42 { A => () } //~ ERROR mismatched types: expected `<generic integer #0>` but found `(int,int)` (expected integral variable but found tuple)\n }"}, {"sha": "6e5dc7cc102ccca1f78ea9a9b124bb4a49e1ff71", "filename": "src/test/compile-fail/slightly-nice-generic-literal-messages.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/b97ace2f6b361f10541586e69371f4924ce967c6/src%2Ftest%2Fcompile-fail%2Fslightly-nice-generic-literal-messages.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b97ace2f6b361f10541586e69371f4924ce967c6/src%2Ftest%2Fcompile-fail%2Fslightly-nice-generic-literal-messages.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fslightly-nice-generic-literal-messages.rs?ref=b97ace2f6b361f10541586e69371f4924ce967c6", "patch": "@@ -0,0 +1,19 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+struct Foo<T,U>(T);\n+\n+fn main() {\n+    match Foo(1.1) {\n+        1 => {}\n+        //~^ ERROR expected `Foo<<generic float #0>,<generic #2>>` but found `<generic integer #0>`\n+    }\n+\n+}"}]}