{"sha": "b72de9be74dd5ac1d8b23d5ece03a7690274a14c", "node_id": "C_kwDOAAsO6NoAKGI3MmRlOWJlNzRkZDVhYzFkOGIyM2Q1ZWNlMDNhNzY5MDI3NGExNGM", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-09-16T20:40:21Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-09-16T20:59:45Z"}, "message": "rustdoc: clean up CSS for All Items and All Crates lists\n\nThis reduces the amount of CSS, and makes these two pages more consistent\n(which, necessarily, means changing them a bit).", "tree": {"sha": "74d5c31cf3d9cd7d5f6824ecd5658696b480a48f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/74d5c31cf3d9cd7d5f6824ecd5658696b480a48f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b72de9be74dd5ac1d8b23d5ece03a7690274a14c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b72de9be74dd5ac1d8b23d5ece03a7690274a14c", "html_url": "https://github.com/rust-lang/rust/commit/b72de9be74dd5ac1d8b23d5ece03a7690274a14c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b72de9be74dd5ac1d8b23d5ece03a7690274a14c/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "54f20bbb8a7aeab93da17c0019c1aaa10329245a", "url": "https://api.github.com/repos/rust-lang/rust/commits/54f20bbb8a7aeab93da17c0019c1aaa10329245a", "html_url": "https://github.com/rust-lang/rust/commit/54f20bbb8a7aeab93da17c0019c1aaa10329245a"}], "stats": {"total": 48, "additions": 22, "deletions": 26}, "files": [{"sha": "ced0ebdbb864a8e82f7c770379fa3d052ea0a6df", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 17, "deletions": 18, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/b72de9be74dd5ac1d8b23d5ece03a7690274a14c/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b72de9be74dd5ac1d8b23d5ece03a7690274a14c/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=b72de9be74dd5ac1d8b23d5ece03a7690274a14c", "patch": "@@ -294,16 +294,15 @@ impl AllTypes {\n \n impl AllTypes {\n     fn print(self, f: &mut Buffer) {\n-        fn print_entries(f: &mut Buffer, e: &FxHashSet<ItemEntry>, title: &str, class: &str) {\n+        fn print_entries(f: &mut Buffer, e: &FxHashSet<ItemEntry>, title: &str) {\n             if !e.is_empty() {\n                 let mut e: Vec<&ItemEntry> = e.iter().collect();\n                 e.sort();\n                 write!(\n                     f,\n-                    \"<h3 id=\\\"{}\\\">{}</h3><ul class=\\\"{} docblock\\\">\",\n+                    \"<h3 id=\\\"{}\\\">{}</h3><ul class=\\\"all-items\\\">\",\n                     title.replace(' ', \"-\"), // IDs cannot contain whitespaces.\n-                    title,\n-                    class\n+                    title\n                 );\n \n                 for s in e.iter() {\n@@ -321,20 +320,20 @@ impl AllTypes {\n         );\n         // Note: print_entries does not escape the title, because we know the current set of titles\n         // doesn't require escaping.\n-        print_entries(f, &self.structs, \"Structs\", \"structs\");\n-        print_entries(f, &self.enums, \"Enums\", \"enums\");\n-        print_entries(f, &self.unions, \"Unions\", \"unions\");\n-        print_entries(f, &self.primitives, \"Primitives\", \"primitives\");\n-        print_entries(f, &self.traits, \"Traits\", \"traits\");\n-        print_entries(f, &self.macros, \"Macros\", \"macros\");\n-        print_entries(f, &self.attributes, \"Attribute Macros\", \"attributes\");\n-        print_entries(f, &self.derives, \"Derive Macros\", \"derives\");\n-        print_entries(f, &self.functions, \"Functions\", \"functions\");\n-        print_entries(f, &self.typedefs, \"Typedefs\", \"typedefs\");\n-        print_entries(f, &self.trait_aliases, \"Trait Aliases\", \"trait-aliases\");\n-        print_entries(f, &self.opaque_tys, \"Opaque Types\", \"opaque-types\");\n-        print_entries(f, &self.statics, \"Statics\", \"statics\");\n-        print_entries(f, &self.constants, \"Constants\", \"constants\")\n+        print_entries(f, &self.structs, \"Structs\");\n+        print_entries(f, &self.enums, \"Enums\");\n+        print_entries(f, &self.unions, \"Unions\");\n+        print_entries(f, &self.primitives, \"Primitives\");\n+        print_entries(f, &self.traits, \"Traits\");\n+        print_entries(f, &self.macros, \"Macros\");\n+        print_entries(f, &self.attributes, \"Attribute Macros\");\n+        print_entries(f, &self.derives, \"Derive Macros\");\n+        print_entries(f, &self.functions, \"Functions\");\n+        print_entries(f, &self.typedefs, \"Typedefs\");\n+        print_entries(f, &self.trait_aliases, \"Trait Aliases\");\n+        print_entries(f, &self.opaque_tys, \"Opaque Types\");\n+        print_entries(f, &self.statics, \"Statics\");\n+        print_entries(f, &self.constants, \"Constants\");\n     }\n }\n "}, {"sha": "1c88528aa20a9bae31fbd2759648003d11bd9b70", "filename": "src/librustdoc/html/render/write_shared.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b72de9be74dd5ac1d8b23d5ece03a7690274a14c/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b72de9be74dd5ac1d8b23d5ece03a7690274a14c/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs?ref=b72de9be74dd5ac1d8b23d5ece03a7690274a14c", "patch": "@@ -519,12 +519,12 @@ if (typeof exports !== 'undefined') {exports.searchIndex = searchIndex};\n             let content = format!(\n                 \"<h1 class=\\\"fqn\\\">\\\n                      <span class=\\\"in-band\\\">List of all crates</span>\\\n-                </h1><ul class=\\\"crate mod\\\">{}</ul>\",\n+                </h1><ul class=\\\"all-items\\\">{}</ul>\",\n                 krates\n                     .iter()\n                     .map(|s| {\n                         format!(\n-                            \"<li><a class=\\\"crate mod\\\" href=\\\"{}index.html\\\">{}</a></li>\",\n+                            \"<li><a href=\\\"{}index.html\\\">{}</a></li>\",\n                             ensure_trailing_slash(s),\n                             s\n                         )"}, {"sha": "7570c92c211ed8e8cb75508719d19d25e6decfef", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/b72de9be74dd5ac1d8b23d5ece03a7690274a14c/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/b72de9be74dd5ac1d8b23d5ece03a7690274a14c/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=b72de9be74dd5ac1d8b23d5ece03a7690274a14c", "patch": "@@ -207,7 +207,6 @@ a.source,\n .out-of-band,\n span.since,\n details.rustdoc-toggle > summary::before,\n-.content ul.crate a.crate,\n a.srclink,\n #help-button > button,\n details.rustdoc-toggle.top-doc > summary,\n@@ -218,7 +217,7 @@ details.rustdoc-toggle.non-exhaustive > summary::before,\n .more-examples-toggle summary, .more-examples-toggle .hide-more,\n .example-links a,\n /* This selector is for the items listed in the \"all items\" page. */\n-#main-content > ul.docblock > li > a {\n+ul.all-items {\n \tfont-family: \"Fira Sans\", Arial, NanumBarunGothic, sans-serif;\n }\n \n@@ -788,6 +787,7 @@ h2.small-section-header > .anchor {\n \tcontent: '\u00a7';\n }\n \n+.all-items a:hover,\n .docblock a:not(.srclink):not(.test-arrow):not(.scrape-help):hover,\n .docblock-short a:not(.srclink):not(.test-arrow):not(.scrape-help):hover, .item-info a {\n \ttext-decoration: underline;\n@@ -1517,10 +1517,7 @@ kbd {\n \tcursor: default;\n }\n \n-#main-content > ul {\n-\tpadding-left: 10px;\n-}\n-#main-content > ul > li {\n+ul.all-items > li {\n \tlist-style: none;\n }\n "}]}