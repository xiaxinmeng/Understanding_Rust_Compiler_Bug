{"sha": "394d687121edbef644c158e6dcfacdb0f88c9618", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM5NGQ2ODcxMjFlZGJlZjY0NGMxNThlNmRjZmFjZGIwZjg4Yzk2MTg=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2018-09-22T07:56:38Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-09-22T07:56:38Z"}, "message": "Rollup merge of #54412 - jcpst:replace_span_suggestion, r=estebank\n\nadd applicability to span_suggestion call\n\nFound another `span_suggestion` call. Issue #50723\n\nr? @estebank", "tree": {"sha": "8229bd58d3ec47e3653b75a8fe59a64c4e531c98", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8229bd58d3ec47e3653b75a8fe59a64c4e531c98"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/394d687121edbef644c158e6dcfacdb0f88c9618", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbpfW2CRBK7hj4Ov3rIwAAdHIIAJ/+MCKTPmzPRD2NNWZTFSHg\nKgP/7NBHc6itqBCFrE/tw8pcX/ftZIZA6d23RYHwlCY+JYmsB2A38PUsHYNLuoH0\nlfdBzCC+bgyozR1t+Dcc9yHh1gNbxeFVNgrMEYYMe7wpmlzI4u2mrZvyX/RE0SQ6\nH/osDSMQhEU+0rAHGX7asWfX4aj96rzLJ8ErkGgobQPQzM3Qa9kRDNL9qj1l5LtD\nK9Fviv3luIpxP0IhJ8IEZnMGys9TQj5KLuesLHpnUxa96xBaSTIWfg7ofWacCWzf\n1WVQw8thaVHfxn0tyHdVLpRe1JtJavjcqVPOOfDUNUtNHpKy72YlxyT1VksIdvk=\n=7IrU\n-----END PGP SIGNATURE-----\n", "payload": "tree 8229bd58d3ec47e3653b75a8fe59a64c4e531c98\nparent 1eee532eff23b6f0363d615013dd0d39d0cc06ae\nparent 7f9a259d3f05ad49bc7ebec462e6f134da6bb3ed\nauthor Pietro Albini <pietro@pietroalbini.org> 1537602998 +0200\ncommitter GitHub <noreply@github.com> 1537602998 +0200\n\nRollup merge of #54412 - jcpst:replace_span_suggestion, r=estebank\n\nadd applicability to span_suggestion call\n\nFound another `span_suggestion` call. Issue #50723\n\nr? @estebank\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/394d687121edbef644c158e6dcfacdb0f88c9618", "html_url": "https://github.com/rust-lang/rust/commit/394d687121edbef644c158e6dcfacdb0f88c9618", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/394d687121edbef644c158e6dcfacdb0f88c9618/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1eee532eff23b6f0363d615013dd0d39d0cc06ae", "url": "https://api.github.com/repos/rust-lang/rust/commits/1eee532eff23b6f0363d615013dd0d39d0cc06ae", "html_url": "https://github.com/rust-lang/rust/commit/1eee532eff23b6f0363d615013dd0d39d0cc06ae"}, {"sha": "7f9a259d3f05ad49bc7ebec462e6f134da6bb3ed", "url": "https://api.github.com/repos/rust-lang/rust/commits/7f9a259d3f05ad49bc7ebec462e6f134da6bb3ed", "html_url": "https://github.com/rust-lang/rust/commit/7f9a259d3f05ad49bc7ebec462e6f134da6bb3ed"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "67e4394c9aaa0329bdc24376b726f11ff87a94b4", "filename": "src/librustc_mir/borrow_check/nll/region_infer/error_reporting/mod.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/394d687121edbef644c158e6dcfacdb0f88c9618/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fregion_infer%2Ferror_reporting%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/394d687121edbef644c158e6dcfacdb0f88c9618/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fregion_infer%2Ferror_reporting%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fregion_infer%2Ferror_reporting%2Fmod.rs?ref=394d687121edbef644c158e6dcfacdb0f88c9618", "patch": "@@ -22,6 +22,7 @@ use std::collections::VecDeque;\n use std::fmt;\n use syntax::symbol::keywords;\n use syntax_pos::Span;\n+use syntax::errors::Applicability;\n \n mod region_name;\n mod var_name;\n@@ -540,14 +541,15 @@ impl<'tcx> RegionInferenceContext<'tcx> {\n                             RegionName::Named(name) => format!(\"{}\", name),\n                             RegionName::Synthesized(_) => \"'_\".to_string(),\n                         };\n-                        diag.span_suggestion(\n+                        diag.span_suggestion_with_applicability(\n                             span,\n                             &format!(\n                                 \"to allow this impl Trait to capture borrowed data with lifetime \\\n                                  `{}`, add `{}` as a constraint\",\n                                 fr_name, suggestable_fr_name,\n                             ),\n                             format!(\"{} + {}\", snippet, suggestable_fr_name),\n+                            Applicability::MachineApplicable,\n                         );\n                     }\n                 }"}]}