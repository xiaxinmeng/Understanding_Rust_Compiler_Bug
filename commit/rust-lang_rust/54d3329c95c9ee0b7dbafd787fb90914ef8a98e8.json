{"sha": "54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0ZDMzMjljOTVjOWVlMGI3ZGJhZmQ3ODdmYjkwOTE0ZWY4YTk4ZTg=", "commit": {"author": {"name": "Dylan MacKenzie", "email": "ecstaticmorse@gmail.com", "date": "2020-09-24T23:18:49Z"}, "committer": {"name": "Dylan MacKenzie", "email": "ecstaticmorse@gmail.com", "date": "2020-09-27T17:46:41Z"}, "message": "Bless tests", "tree": {"sha": "7d033e67284c675cc7bce0b7f1d108cb400046dd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7d033e67284c675cc7bce0b7f1d108cb400046dd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "html_url": "https://github.com/rust-lang/rust/commit/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/comments", "author": {"login": "ecstatic-morse", "id": 29463364, "node_id": "MDQ6VXNlcjI5NDYzMzY0", "avatar_url": "https://avatars.githubusercontent.com/u/29463364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecstatic-morse", "html_url": "https://github.com/ecstatic-morse", "followers_url": "https://api.github.com/users/ecstatic-morse/followers", "following_url": "https://api.github.com/users/ecstatic-morse/following{/other_user}", "gists_url": "https://api.github.com/users/ecstatic-morse/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecstatic-morse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecstatic-morse/subscriptions", "organizations_url": "https://api.github.com/users/ecstatic-morse/orgs", "repos_url": "https://api.github.com/users/ecstatic-morse/repos", "events_url": "https://api.github.com/users/ecstatic-morse/events{/privacy}", "received_events_url": "https://api.github.com/users/ecstatic-morse/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ecstatic-morse", "id": 29463364, "node_id": "MDQ6VXNlcjI5NDYzMzY0", "avatar_url": "https://avatars.githubusercontent.com/u/29463364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecstatic-morse", "html_url": "https://github.com/ecstatic-morse", "followers_url": "https://api.github.com/users/ecstatic-morse/followers", "following_url": "https://api.github.com/users/ecstatic-morse/following{/other_user}", "gists_url": "https://api.github.com/users/ecstatic-morse/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecstatic-morse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecstatic-morse/subscriptions", "organizations_url": "https://api.github.com/users/ecstatic-morse/orgs", "repos_url": "https://api.github.com/users/ecstatic-morse/repos", "events_url": "https://api.github.com/users/ecstatic-morse/events{/privacy}", "received_events_url": "https://api.github.com/users/ecstatic-morse/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e2622b915a15c06bdedc5e1278f6fb92cdaa03fa", "url": "https://api.github.com/repos/rust-lang/rust/commits/e2622b915a15c06bdedc5e1278f6fb92cdaa03fa", "html_url": "https://github.com/rust-lang/rust/commit/e2622b915a15c06bdedc5e1278f6fb92cdaa03fa"}], "stats": {"total": 150, "additions": 106, "deletions": 44}, "files": [{"sha": "ab18020056b0aeb174310fee3e665fd3730d020f", "filename": "src/test/ui/consts/const-eval/const_fn_ptr.stderr", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_fn_ptr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_fn_ptr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_fn_ptr.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -10,11 +10,23 @@ help: skipping check that does not even have a feature gate\n    |\n LL |     X_CONST(x)\n    |     ^^^^^^^^^^\n+help: skipping check for `const_fn_fn_ptr_basics` feature\n+  --> $DIR/const_fn_ptr.rs:19:14\n+   |\n+LL | const fn foo(x: fn(usize) -> usize, y: usize)  -> usize {\n+   |              ^\n+help: skipping check for `const_fn_fn_ptr_basics` feature\n+  --> $DIR/const_fn_ptr.rs:20:5\n+   |\n+LL |     x(y)\n+   |     ^\n help: skipping check that does not even have a feature gate\n   --> $DIR/const_fn_ptr.rs:20:5\n    |\n LL |     x(y)\n    |     ^^^^\n \n-warning: 1 warning emitted\n+error: `-Zunleash-the-miri-inside-of-you` may not be used to circumvent feature gates, except when testing error paths in the CTFE engine\n+\n+error: aborting due to previous error; 1 warning emitted\n "}, {"sha": "822d4af83064ea8dbedcc2c18976632c002651fd", "filename": "src/test/ui/consts/const-eval/const_fn_ptr_fail2.stderr", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_fn_ptr_fail2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_fn_ptr_fail2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_fn_ptr_fail2.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -20,6 +20,16 @@ LL |     assert_eq!(Z, 4);\n \n warning: skipping const checks\n    |\n+help: skipping check for `const_fn_fn_ptr_basics` feature\n+  --> $DIR/const_fn_ptr_fail2.rs:12:14\n+   |\n+LL | const fn bar(x: fn(usize) -> usize, y: usize) -> usize {\n+   |              ^\n+help: skipping check for `const_fn_fn_ptr_basics` feature\n+  --> $DIR/const_fn_ptr_fail2.rs:13:5\n+   |\n+LL |     x(y)\n+   |     ^\n help: skipping check that does not even have a feature gate\n   --> $DIR/const_fn_ptr_fail2.rs:13:5\n    |"}, {"sha": "455a822e2d0855e316b3b2f1c6b923a3e6df6b3c", "filename": "src/test/ui/consts/const-extern-fn/const-extern-fn-min-const-fn.stderr", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fconst-extern-fn%2Fconst-extern-fn-min-const-fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fconst-extern-fn%2Fconst-extern-fn-min-const-fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-extern-fn%2Fconst-extern-fn-min-const-fn.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -1,11 +1,11 @@\n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/const-extern-fn-min-const-fn.rs:4:41\n    |\n LL | const unsafe extern \"C\" fn closure() -> fn() { || {} }\n    |                                         ^^^^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n error[E0658]: floating point arithmetic is not allowed in constant functions\n   --> $DIR/const-extern-fn-min-const-fn.rs:6:38\n@@ -27,5 +27,4 @@ LL | const extern \"C\" fn ptr_cast(val: *const u8) { val as usize; }\n \n error: aborting due to 3 previous errors\n \n-Some errors have detailed explanations: E0658, E0723.\n-For more information about an error, try `rustc --explain E0658`.\n+For more information about this error, try `rustc --explain E0658`."}, {"sha": "500af0a40069a2e0171a180e336e0e0442cdab29", "filename": "src/test/ui/consts/issue-56164.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fissue-56164.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fissue-56164.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fissue-56164.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -5,7 +5,7 @@ LL | const fn foo() { (||{})() }\n    |                  ^^^^^^^^\n \n error: function pointers are not allowed in const fn\n-  --> $DIR/issue-56164.rs:8:5\n+  --> $DIR/issue-56164.rs:7:5\n    |\n LL |     input()\n    |     ^^^^^^^"}, {"sha": "94f6cda209749c199049bf3f7a2c12cce52d28d3", "filename": "src/test/ui/consts/min_const_fn/allow_const_fn_ptr.stderr", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fallow_const_fn_ptr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fallow_const_fn_ptr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fallow_const_fn_ptr.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -1,12 +1,14 @@\n-error[E0723]: function pointers in const fn are unstable\n-  --> $DIR/allow_const_fn_ptr.rs:5:16\n+error: const-stable function cannot use `#[feature(const_fn_fn_ptr_basics)]`\n+  --> $DIR/allow_const_fn_ptr.rs:6:16\n    |\n LL | const fn error(_: fn()) {}\n    |                ^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = note: otherwise `#[allow_internal_unstable]` can be used to bypass stability checks\n+help: if it is not part of the public API, make this function unstably const\n+   |\n+LL | #[rustc_const_unstable(feature = \"...\", issue = \"...\")]\n+   |\n \n error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0723`."}, {"sha": "23e31c80c435a2dc1c6e3efe6498bc5ff0bc9a0a", "filename": "src/test/ui/consts/min_const_fn/allow_const_fn_ptr_feature_gate.stderr", "status": "modified", "additions": 28, "deletions": 6, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fallow_const_fn_ptr_feature_gate.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fallow_const_fn_ptr_feature_gate.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fallow_const_fn_ptr_feature_gate.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -1,11 +1,33 @@\n-error[E0658]: internal implementation detail\n-  --> $DIR/allow_const_fn_ptr_feature_gate.rs:7:1\n+error: stable const functions must have either `rustc_const_stable` or `rustc_const_unstable` attribute\n+  --> $DIR/allow_const_fn_ptr_feature_gate.rs:4:1\n    |\n-LL | #[rustc_allow_const_fn_ptr]\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+LL | const fn error(_: fn()) {}\n+   | ^^^^^^^^^^^^^^^^^^^^^^^\n+\n+error: stable const functions must have either `rustc_const_stable` or `rustc_const_unstable` attribute\n+  --> $DIR/allow_const_fn_ptr_feature_gate.rs:4:1\n+   |\n+LL | const fn error(_: fn()) {}\n+   | ^^^^^^^^^^^^^^^^^^^^^^^\n+\n+error[E0658]: function pointers cannot appear in constant functions\n+  --> $DIR/allow_const_fn_ptr_feature_gate.rs:4:16\n+   |\n+LL | const fn error(_: fn()) {}\n+   |                ^\n+   |\n+   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n+\n+error[E0658]: function pointers cannot appear in constant functions\n+  --> $DIR/allow_const_fn_ptr_feature_gate.rs:11:19\n+   |\n+LL | const fn compiles(_: fn()) {}\n+   |                   ^\n    |\n-   = help: add `#![feature(rustc_attrs)]` to the crate attributes to enable\n+   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n-error: aborting due to previous error\n+error: aborting due to 4 previous errors\n \n For more information about this error, try `rustc --explain E0658`."}, {"sha": "ac77c181afda8468c9a30f240fcdf17cc0e283c6", "filename": "src/test/ui/consts/min_const_fn/cast_errors.stderr", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fcast_errors.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fcast_errors.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fcast_errors.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -1,39 +1,39 @@\n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/cast_errors.rs:4:23\n    |\n LL | const fn closure() -> fn() { || {} }\n    |                       ^^^^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/cast_errors.rs:7:5\n    |\n LL |     (|| {}) as fn();\n    |     ^^^^^^^^^^^^^^^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/cast_errors.rs:10:28\n    |\n LL | const fn reify(f: fn()) -> unsafe fn() { f }\n    |                            ^^^^^^^^^^^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/cast_errors.rs:12:21\n    |\n LL | const fn reify2() { main as unsafe fn(); }\n    |                     ^^^^^^^^^^^^^^^^^^^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n error: aborting due to 4 previous errors\n \n-For more information about this error, try `rustc --explain E0723`.\n+For more information about this error, try `rustc --explain E0658`."}, {"sha": "e913b187feeae55f610f41e2310b57d9b91a5854", "filename": "src/test/ui/consts/min_const_fn/cmp_fn_pointers.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fcmp_fn_pointers.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fcmp_fn_pointers.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fcmp_fn_pointers.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -1,12 +1,12 @@\n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/cmp_fn_pointers.rs:1:14\n    |\n LL | const fn cmp(x: fn(), y: fn()) -> bool {\n    |              ^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0723`.\n+For more information about this error, try `rustc --explain E0658`."}, {"sha": "5e6bf7ef890349fe31ec7c42f9601f538e76d0c0", "filename": "src/test/ui/consts/min_const_fn/min_const_fn.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -209,23 +209,23 @@ LL | const fn really_no_traits_i_mean_it() { (&() as &dyn std::fmt::Debug, ()).1\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n    = help: add `#![feature(const_fn)]` to the crate attributes to enable\n \n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/min_const_fn.rs:130:21\n    |\n LL | const fn no_fn_ptrs(_x: fn()) {}\n    |                     ^^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/min_const_fn.rs:132:27\n    |\n LL | const fn no_fn_ptrs2() -> fn() { fn foo() {} foo }\n    |                           ^^^^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n error: aborting due to 26 previous errors\n "}, {"sha": "52269c1e2ac59df24504508e030dc5cae70b5d7a", "filename": "src/test/ui/consts/min_const_fn/min_const_fn_fn_ptr.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_fn_ptr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_fn_ptr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_fn_ptr.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -1,21 +1,21 @@\n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/min_const_fn_fn_ptr.rs:11:5\n    |\n LL |     x.0.field;\n    |     ^^^^^^^^^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/min_const_fn_fn_ptr.rs:14:59\n    |\n LL | const fn no_inner_dyn_trait_ret() -> Hide { Hide(HasPtr { field }) }\n    |                                                           ^^^^^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0723`.\n+For more information about this error, try `rustc --explain E0658`."}, {"sha": "8fd562c5dae84223391052dbd3e5570123f9a973", "filename": "src/test/ui/consts/miri_unleashed/abi-mismatch.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fabi-mismatch.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fabi-mismatch.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fabi-mismatch.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -12,12 +12,12 @@ LL | static VAL: () = call_rust_fn(unsafe { std::mem::transmute(c_fn as extern \"\n \n warning: skipping const checks\n    |\n-help: skipping check for `const_fn` feature\n+help: skipping check for `const_fn_fn_ptr_basics` feature\n   --> $DIR/abi-mismatch.rs:9:23\n    |\n LL | const fn call_rust_fn(my_fn: extern \"Rust\" fn()) {\n    |                       ^^^^^\n-help: skipping check for `const_fn` feature\n+help: skipping check for `const_fn_fn_ptr_basics` feature\n   --> $DIR/abi-mismatch.rs:10:5\n    |\n LL |     my_fn();"}, {"sha": "54b60df70fd2671982f5e116e5687a10c57ec1e9", "filename": "src/test/ui/issues/issue-37550.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fissues%2Fissue-37550.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Fissues%2Fissue-37550.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-37550.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -1,12 +1,12 @@\n-error[E0723]: function pointers in const fn are unstable\n+error[E0658]: function pointers cannot appear in constant functions\n   --> $DIR/issue-37550.rs:3:9\n    |\n LL |     let x = || t;\n    |         ^\n    |\n    = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n-   = help: add `#![feature(const_fn)]` to the crate attributes to enable\n+   = help: add `#![feature(const_fn_fn_ptr_basics)]` to the crate attributes to enable\n \n error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0723`.\n+For more information about this error, try `rustc --explain E0658`."}, {"sha": "0291a52633358eeef277f3d4b32e06adf875a758", "filename": "src/test/ui/rfc-2091-track-caller/caller-location-fnptr-rt-ctfe-equiv.stderr", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Frfc-2091-track-caller%2Fcaller-location-fnptr-rt-ctfe-equiv.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54d3329c95c9ee0b7dbafd787fb90914ef8a98e8/src%2Ftest%2Fui%2Frfc-2091-track-caller%2Fcaller-location-fnptr-rt-ctfe-equiv.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2091-track-caller%2Fcaller-location-fnptr-rt-ctfe-equiv.stderr?ref=54d3329c95c9ee0b7dbafd787fb90914ef8a98e8", "patch": "@@ -1,10 +1,27 @@\n warning: skipping const checks\n    |\n+help: skipping check for `const_fn_fn_ptr_basics` feature\n+  --> $DIR/caller-location-fnptr-rt-ctfe-equiv.rs:20:9\n+   |\n+LL |     let ptr: fn() -> L = attributed;\n+   |         ^^^\n+help: skipping check for `const_fn_fn_ptr_basics` feature\n+  --> $DIR/caller-location-fnptr-rt-ctfe-equiv.rs:21:5\n+   |\n+LL |     ptr()\n+   |     ^^^\n+help: skipping check for `const_fn_fn_ptr_basics` feature\n+  --> $DIR/caller-location-fnptr-rt-ctfe-equiv.rs:20:26\n+   |\n+LL |     let ptr: fn() -> L = attributed;\n+   |                          ^^^^^^^^^^\n help: skipping check that does not even have a feature gate\n   --> $DIR/caller-location-fnptr-rt-ctfe-equiv.rs:21:5\n    |\n LL |     ptr()\n    |     ^^^^^\n \n-warning: 1 warning emitted\n+error: `-Zunleash-the-miri-inside-of-you` may not be used to circumvent feature gates, except when testing error paths in the CTFE engine\n+\n+error: aborting due to previous error; 1 warning emitted\n "}]}