{"sha": "1c57f0ab9c58d8394b531de15423fbb4c57a2613", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFjNTdmMGFiOWM1OGQ4Mzk0YjUzMWRlMTU0MjNmYmI0YzU3YTI2MTM=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-11-22T09:37:45Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-11-22T09:37:45Z"}, "message": "Rollup merge of #55485 - petertodd:2018-10-manuallydrop-deref, r=TimNN\n\nReturn &T / &mut T in ManuallyDrop Deref(Mut) impl\n\nWithout this change the generated documentation looks like this:\n\n    fn deref(&self) -> &<ManuallyDrop<T> as Deref>::Target\n\nReturning the actual type directly makes the generated docs more clear:\n\n    fn deref(&self) -> &T\n\nBasically, compare how the impl for `Box<T>` and `ManuallyDrop<T>` looks in this screenshot:\n\n![rust docs for ManuallyDrop as Deref](https://user-images.githubusercontent.com/7042/47673083-fc9dc280-db89-11e8-89b0-c6bde663feef.png)", "tree": {"sha": "8af1b6d0306c8dd7c0500f364dd2c885000cde77", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8af1b6d0306c8dd7c0500f364dd2c885000cde77"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1c57f0ab9c58d8394b531de15423fbb4c57a2613", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJb9njpCRBK7hj4Ov3rIwAAdHIIADBe0aoWMDIgw1eeS/YqeLUs\ngzvmE+fMRsNo0Fc0MZX5zAjd7nbHHGDA/horsLWsfdWmHO9dLzI42WuTl6fXnWSX\nGBdZZ2KcCuNS9ZXVjZ0dSd3neJNBYKXnbJ47fennrXS7WjCLz/pc/TxnIYDa1L9A\nPK7BR8XEjYZhwI/wdp+LOCpn5Lf/ohR+WlseED8O6t4n/vlQVGdNNYmAdWDh7O90\nIaT/VxMpRC9VCRC6cl+HpLiSjW6SyL2ZZ/k8ocfEeKRerVqiwCHL56YUJOAZ4FvE\n8z+Zmv+aQ5TIqD4eBytRzMMx3IhQ+sVNvVu1rIOlY3F4OfUjvtVU/56V8Xj0W6E=\n=LVnq\n-----END PGP SIGNATURE-----\n", "payload": "tree 8af1b6d0306c8dd7c0500f364dd2c885000cde77\nparent 9aedfd5a3bb4e4b4d900cf19780f8ed892c92af0\nparent bc1885703cb46a462a4be1eea7c4e0f9abbe7a95\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1542879465 +0100\ncommitter GitHub <noreply@github.com> 1542879465 +0100\n\nRollup merge of #55485 - petertodd:2018-10-manuallydrop-deref, r=TimNN\n\nReturn &T / &mut T in ManuallyDrop Deref(Mut) impl\n\nWithout this change the generated documentation looks like this:\n\n    fn deref(&self) -> &<ManuallyDrop<T> as Deref>::Target\n\nReturning the actual type directly makes the generated docs more clear:\n\n    fn deref(&self) -> &T\n\nBasically, compare how the impl for `Box<T>` and `ManuallyDrop<T>` looks in this screenshot:\n\n![rust docs for ManuallyDrop as Deref](https://user-images.githubusercontent.com/7042/47673083-fc9dc280-db89-11e8-89b0-c6bde663feef.png)\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1c57f0ab9c58d8394b531de15423fbb4c57a2613", "html_url": "https://github.com/rust-lang/rust/commit/1c57f0ab9c58d8394b531de15423fbb4c57a2613", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1c57f0ab9c58d8394b531de15423fbb4c57a2613/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9aedfd5a3bb4e4b4d900cf19780f8ed892c92af0", "url": "https://api.github.com/repos/rust-lang/rust/commits/9aedfd5a3bb4e4b4d900cf19780f8ed892c92af0", "html_url": "https://github.com/rust-lang/rust/commit/9aedfd5a3bb4e4b4d900cf19780f8ed892c92af0"}, {"sha": "bc1885703cb46a462a4be1eea7c4e0f9abbe7a95", "url": "https://api.github.com/repos/rust-lang/rust/commits/bc1885703cb46a462a4be1eea7c4e0f9abbe7a95", "html_url": "https://github.com/rust-lang/rust/commit/bc1885703cb46a462a4be1eea7c4e0f9abbe7a95"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "56ba10c49f41f7d01c84ef509f904d481bd71eab", "filename": "src/libcore/mem.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1c57f0ab9c58d8394b531de15423fbb4c57a2613/src%2Flibcore%2Fmem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1c57f0ab9c58d8394b531de15423fbb4c57a2613/src%2Flibcore%2Fmem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fmem.rs?ref=1c57f0ab9c58d8394b531de15423fbb4c57a2613", "patch": "@@ -1016,15 +1016,15 @@ impl<T: ?Sized> ManuallyDrop<T> {\n impl<T: ?Sized> Deref for ManuallyDrop<T> {\n     type Target = T;\n     #[inline]\n-    fn deref(&self) -> &Self::Target {\n+    fn deref(&self) -> &T {\n         &self.value\n     }\n }\n \n #[stable(feature = \"manually_drop\", since = \"1.20.0\")]\n impl<T: ?Sized> DerefMut for ManuallyDrop<T> {\n     #[inline]\n-    fn deref_mut(&mut self) -> &mut Self::Target {\n+    fn deref_mut(&mut self) -> &mut T {\n         &mut self.value\n     }\n }"}]}