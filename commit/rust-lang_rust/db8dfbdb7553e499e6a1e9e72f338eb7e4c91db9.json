{"sha": "db8dfbdb7553e499e6a1e9e72f338eb7e4c91db9", "node_id": "C_kwDOAAsO6NoAKGRiOGRmYmRiNzU1M2U0OTllNmExZTllNzJmMzM4ZWI3ZTRjOTFkYjk", "commit": {"author": {"name": "Chris Denton", "email": "chris@chrisdenton.dev", "date": "2023-04-16T22:42:59Z"}, "committer": {"name": "Chris Denton", "email": "chris@chrisdenton.dev", "date": "2023-04-16T22:42:59Z"}, "message": "Windows: map a few more error codes to ErrorKind\n\nNotFound errors:\n\n* `ERROR_INVALID_DRIVE`: The system cannot find the drive specified\n* `ERROR_BAD_NETPATH`: The network path was not found\n* `ERROR_BAD_NET_NAME`: The network name cannot be found.\n\nInvalidFilename:\n\n* `ERROR_BAD_PATHNAME`: The specified path is invalid.", "tree": {"sha": "b64a24f239bf2b6c8bbd2c695b08c2c6ada02b16", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b64a24f239bf2b6c8bbd2c695b08c2c6ada02b16"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/db8dfbdb7553e499e6a1e9e72f338eb7e4c91db9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+p/jD6jrzmnSIWJLcTRy8vRWJ94FAmQ8efMACgkQcTRy8vRW\nJ95C/w//bBdTSTH5t5it4GbcmqjrWI2spoKPhq0sxHmvr0zVkMvpqCSUgRXW+czk\nnCuW35wscKX9EaBx+eRE/PsJx7R6ivlAYKW9yf/te3858pLipEZC8QAtrzb9VTOy\n3kSCjwG5fU3KU4JgQlGDJfwuBbQ83AunC6cnPiuTwqmY8/l8cmq2QgpEX0OLAoIx\nNKFrqtft2U4p/vYWW/ApYPDPHsXsgr6cTGrBnVHUdgvjNAbYtC95nvi3dh0oaRtc\n2ItAlsNdTkH0WpMqvg3YY1+Q+7/judaORJUp7RghXyDoHhIwjq6Mih3x8Z4Tk/M1\nN1rbjQxen2gtlh7sBXdZDPPwzCHak7+dKQnLl8lIrAFqnzS9GtPNsshzYVL6ihO2\nmAqFMV/qYgrfqUtz+4nZSgX1LNndv2UG0tfs4JTQKRQMHVMzD20lP8AROsYCwBNG\nldn9oMCCzpW5FElf5jbNfCIdb37FNCWatho5SawxyqfX5xzwFGTdI9yCkjADdYMM\nL9/U0kDqovBsB6Va7I1O5qzlRR/cjgEaalZx/Klm64rNU5/vFoF0OOEA5PF/8Wcs\n2rfTqK6ljPJiZVFM7NAZUV0i426vSG7CmN27iQWJ7cSxMWwe82AQp9Q/ioj0YXPz\nRdBnMGuUbmsC5h/dUUTsYnQuHEJ2hUBbupghUjPdplSv5WFD4Vk=\n=YML+\n-----END PGP SIGNATURE-----", "payload": "tree b64a24f239bf2b6c8bbd2c695b08c2c6ada02b16\nparent d0f204e4d750b62f9d6c2593405e828757126832\nauthor Chris Denton <chris@chrisdenton.dev> 1681684979 +0100\ncommitter Chris Denton <chris@chrisdenton.dev> 1681684979 +0100\n\nWindows: map a few more error codes to ErrorKind\n\nNotFound errors:\n\n* `ERROR_INVALID_DRIVE`: The system cannot find the drive specified\n* `ERROR_BAD_NETPATH`: The network path was not found\n* `ERROR_BAD_NET_NAME`: The network name cannot be found.\n\nInvalidFilename:\n\n* `ERROR_BAD_PATHNAME`: The specified path is invalid.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/db8dfbdb7553e499e6a1e9e72f338eb7e4c91db9", "html_url": "https://github.com/rust-lang/rust/commit/db8dfbdb7553e499e6a1e9e72f338eb7e4c91db9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/db8dfbdb7553e499e6a1e9e72f338eb7e4c91db9/comments", "author": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d0f204e4d750b62f9d6c2593405e828757126832", "url": "https://api.github.com/repos/rust-lang/rust/commits/d0f204e4d750b62f9d6c2593405e828757126832", "html_url": "https://github.com/rust-lang/rust/commit/d0f204e4d750b62f9d6c2593405e828757126832"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "bcc172b0fae36a08101efb86ad00a1ed9ee56839", "filename": "library/std/src/sys/windows/mod.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/db8dfbdb7553e499e6a1e9e72f338eb7e4c91db9/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db8dfbdb7553e499e6a1e9e72f338eb7e4c91db9/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fmod.rs?ref=db8dfbdb7553e499e6a1e9e72f338eb7e4c91db9", "patch": "@@ -68,10 +68,13 @@ pub fn decode_error_kind(errno: i32) -> ErrorKind {\n         c::ERROR_ALREADY_EXISTS => return AlreadyExists,\n         c::ERROR_FILE_EXISTS => return AlreadyExists,\n         c::ERROR_BROKEN_PIPE => return BrokenPipe,\n-        c::ERROR_FILE_NOT_FOUND => return NotFound,\n-        c::ERROR_PATH_NOT_FOUND => return NotFound,\n+        c::ERROR_FILE_NOT_FOUND\n+        | c::ERROR_PATH_NOT_FOUND\n+        | c::ERROR_INVALID_DRIVE\n+        | c::ERROR_BAD_NETPATH\n+        | c::ERROR_BAD_NET_NAME => return NotFound,\n         c::ERROR_NO_DATA => return BrokenPipe,\n-        c::ERROR_INVALID_NAME => return InvalidFilename,\n+        c::ERROR_INVALID_NAME | c::ERROR_BAD_PATHNAME => return InvalidFilename,\n         c::ERROR_INVALID_PARAMETER => return InvalidInput,\n         c::ERROR_NOT_ENOUGH_MEMORY | c::ERROR_OUTOFMEMORY => return OutOfMemory,\n         c::ERROR_SEM_TIMEOUT"}]}