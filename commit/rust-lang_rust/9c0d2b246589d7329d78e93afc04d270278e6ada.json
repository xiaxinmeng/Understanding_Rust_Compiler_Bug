{"sha": "9c0d2b246589d7329d78e93afc04d270278e6ada", "node_id": "MDY6Q29tbWl0NzI0NzEyOjljMGQyYjI0NjU4OWQ3MzI5ZDc4ZTkzYWZjMDRkMjcwMjc4ZTZhZGE=", "commit": {"author": {"name": "Nathan Kleyn", "email": "nathan@nathankleyn.com", "date": "2015-08-12T17:07:56Z"}, "committer": {"name": "Nathan Kleyn", "email": "nathan@nathankleyn.com", "date": "2015-08-13T08:06:29Z"}, "message": "Add detailed diagnostics for E0383.\n\nThis adds detailed diagnostics for E0383, 'partial reinitialization of\nuninitialized structure'.\n\nThis is part of rust-lang/rust#24407.", "tree": {"sha": "fb4255d430b27a236db9c535c515c168fcfd5872", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fb4255d430b27a236db9c535c515c168fcfd5872"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9c0d2b246589d7329d78e93afc04d270278e6ada", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9c0d2b246589d7329d78e93afc04d270278e6ada", "html_url": "https://github.com/rust-lang/rust/commit/9c0d2b246589d7329d78e93afc04d270278e6ada", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9c0d2b246589d7329d78e93afc04d270278e6ada/comments", "author": {"login": "nathankleyn", "id": 220826, "node_id": "MDQ6VXNlcjIyMDgyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/220826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathankleyn", "html_url": "https://github.com/nathankleyn", "followers_url": "https://api.github.com/users/nathankleyn/followers", "following_url": "https://api.github.com/users/nathankleyn/following{/other_user}", "gists_url": "https://api.github.com/users/nathankleyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathankleyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathankleyn/subscriptions", "organizations_url": "https://api.github.com/users/nathankleyn/orgs", "repos_url": "https://api.github.com/users/nathankleyn/repos", "events_url": "https://api.github.com/users/nathankleyn/events{/privacy}", "received_events_url": "https://api.github.com/users/nathankleyn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nathankleyn", "id": 220826, "node_id": "MDQ6VXNlcjIyMDgyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/220826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathankleyn", "html_url": "https://github.com/nathankleyn", "followers_url": "https://api.github.com/users/nathankleyn/followers", "following_url": "https://api.github.com/users/nathankleyn/following{/other_user}", "gists_url": "https://api.github.com/users/nathankleyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathankleyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathankleyn/subscriptions", "organizations_url": "https://api.github.com/users/nathankleyn/orgs", "repos_url": "https://api.github.com/users/nathankleyn/repos", "events_url": "https://api.github.com/users/nathankleyn/events{/privacy}", "received_events_url": "https://api.github.com/users/nathankleyn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b5948d5bf08f27bf443356549a25b39d40c159d", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b5948d5bf08f27bf443356549a25b39d40c159d", "html_url": "https://github.com/rust-lang/rust/commit/8b5948d5bf08f27bf443356549a25b39d40c159d"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "acd2bf3fba9d6f5a6b1632156b5adbe4c11e8d39", "filename": "src/librustc_borrowck/diagnostics.rs", "status": "modified", "additions": 24, "deletions": 1, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/9c0d2b246589d7329d78e93afc04d270278e6ada/src%2Flibrustc_borrowck%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9c0d2b246589d7329d78e93afc04d270278e6ada/src%2Flibrustc_borrowck%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fdiagnostics.rs?ref=9c0d2b246589d7329d78e93afc04d270278e6ada", "patch": "@@ -138,6 +138,30 @@ Book:\n https://doc.rust-lang.org/book/ownership.html\n \"##,\n \n+E0383: r##\"\n+This error occurs when an attempt is made to partially reinitialize a\n+structure that is currently uninitialized.\n+\n+For example, this can happen when a transfer of ownership has taken place:\n+\n+```\n+let mut t = Test { a: 1, b: None};\n+let mut u = Test { a: 2, b: Some(Box::new(t))}; // `t` is now uninitialized\n+                                                // because ownership has been\n+                                                // transferred\n+t.b = Some(Box::new(u)); // error, partial reinitialization of uninitialized\n+                         //        structure `t`\n+```\n+\n+This error can be fixed by fully reinitializing the structure in question:\n+\n+```\n+let mut t = Test { a: 1, b: None};\n+let mut u = Test { a: 2, b: Some(Box::new(t))};\n+t = Test { a: 1, b: Some(Box::new(u))};\n+```\n+\"##,\n+\n E0384: r##\"\n This error occurs when an attempt is made to reassign an immutable variable.\n For example:\n@@ -217,7 +241,6 @@ https://doc.rust-lang.org/std/cell/\n }\n \n register_diagnostics! {\n-    E0383, // partial reinitialization of uninitialized structure\n     E0385, // {} in an aliasable location\n     E0386, // {} in an immutable container\n     E0388, // {} in a static location"}]}