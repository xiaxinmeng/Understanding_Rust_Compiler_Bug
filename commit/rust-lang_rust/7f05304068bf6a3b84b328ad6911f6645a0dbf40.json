{"sha": "7f05304068bf6a3b84b328ad6911f6645a0dbf40", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdmMDUzMDQwNjhiZjZhM2I4NGIzMjhhZDY5MTFmNjY0NWEwZGJmNDA=", "commit": {"author": {"name": "Masaki Hara", "email": "ackie.h.gmai@gmail.com", "date": "2018-05-28T15:10:09Z"}, "committer": {"name": "Masaki Hara", "email": "ackie.h.gmai@gmail.com", "date": "2018-08-18T23:07:33Z"}, "message": "Add #![feature(unsized_locals)].", "tree": {"sha": "ce57c85df05560464ae02a566d2a3d636b8b05d1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ce57c85df05560464ae02a566d2a3d636b8b05d1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7f05304068bf6a3b84b328ad6911f6645a0dbf40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7f05304068bf6a3b84b328ad6911f6645a0dbf40", "html_url": "https://github.com/rust-lang/rust/commit/7f05304068bf6a3b84b328ad6911f6645a0dbf40", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7f05304068bf6a3b84b328ad6911f6645a0dbf40/comments", "author": {"login": "qnighy", "id": 41755, "node_id": "MDQ6VXNlcjQxNzU1", "avatar_url": "https://avatars.githubusercontent.com/u/41755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qnighy", "html_url": "https://github.com/qnighy", "followers_url": "https://api.github.com/users/qnighy/followers", "following_url": "https://api.github.com/users/qnighy/following{/other_user}", "gists_url": "https://api.github.com/users/qnighy/gists{/gist_id}", "starred_url": "https://api.github.com/users/qnighy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qnighy/subscriptions", "organizations_url": "https://api.github.com/users/qnighy/orgs", "repos_url": "https://api.github.com/users/qnighy/repos", "events_url": "https://api.github.com/users/qnighy/events{/privacy}", "received_events_url": "https://api.github.com/users/qnighy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "qnighy", "id": 41755, "node_id": "MDQ6VXNlcjQxNzU1", "avatar_url": "https://avatars.githubusercontent.com/u/41755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qnighy", "html_url": "https://github.com/qnighy", "followers_url": "https://api.github.com/users/qnighy/followers", "following_url": "https://api.github.com/users/qnighy/following{/other_user}", "gists_url": "https://api.github.com/users/qnighy/gists{/gist_id}", "starred_url": "https://api.github.com/users/qnighy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qnighy/subscriptions", "organizations_url": "https://api.github.com/users/qnighy/orgs", "repos_url": "https://api.github.com/users/qnighy/repos", "events_url": "https://api.github.com/users/qnighy/events{/privacy}", "received_events_url": "https://api.github.com/users/qnighy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cd0476a390bbaf754501859bc56328b0078c88f5", "url": "https://api.github.com/repos/rust-lang/rust/commits/cd0476a390bbaf754501859bc56328b0078c88f5", "html_url": "https://github.com/rust-lang/rust/commit/cd0476a390bbaf754501859bc56328b0078c88f5"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "e8245a553eb485b730de0caf81f9c00addbd3570", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7f05304068bf6a3b84b328ad6911f6645a0dbf40/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7f05304068bf6a3b84b328ad6911f6645a0dbf40/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=7f05304068bf6a3b84b328ad6911f6645a0dbf40", "patch": "@@ -503,6 +503,9 @@ declare_features! (\n \n     // Allows `Self` in type definitions\n     (active, self_in_typedefs, \"1.30.0\", Some(49303), None),\n+\n+    // unsized rvalues at arguments and parameters\n+    (active, unsized_locals, \"1.30.0\", Some(48055), None),\n );\n \n declare_features! ("}, {"sha": "7f1f22fa38fb1f1254256a16b824c17c70fbbf31", "filename": "src/test/ui/feature-gate-unsized_locals.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/7f05304068bf6a3b84b328ad6911f6645a0dbf40/src%2Ftest%2Fui%2Ffeature-gate-unsized_locals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7f05304068bf6a3b84b328ad6911f6645a0dbf40/src%2Ftest%2Fui%2Ffeature-gate-unsized_locals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-unsized_locals.rs?ref=7f05304068bf6a3b84b328ad6911f6645a0dbf40", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+fn f(f: FnOnce()) {}\n+//~^ ERROR E0277\n+\n+fn main() {\n+}"}, {"sha": "3cb0aa3b3eca5a8962c52962d12106dbddcd1522", "filename": "src/test/ui/feature-gate-unsized_locals.stderr", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/7f05304068bf6a3b84b328ad6911f6645a0dbf40/src%2Ftest%2Fui%2Ffeature-gate-unsized_locals.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7f05304068bf6a3b84b328ad6911f6645a0dbf40/src%2Ftest%2Fui%2Ffeature-gate-unsized_locals.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-unsized_locals.stderr?ref=7f05304068bf6a3b84b328ad6911f6645a0dbf40", "patch": "@@ -0,0 +1,13 @@\n+error[E0277]: the size for values of type `(dyn std::ops::FnOnce() + 'static)` cannot be known at compilation time\n+  --> $DIR/feature-gate-unsized_locals.rs:11:6\n+   |\n+LL | fn f(f: FnOnce()) {}\n+   |      ^ doesn't have a size known at compile-time\n+   |\n+   = help: the trait `std::marker::Sized` is not implemented for `(dyn std::ops::FnOnce() + 'static)`\n+   = note: to learn more, visit <https://doc.rust-lang.org/book/second-edition/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n+   = note: all local variables must have a statically known size\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0277`."}]}