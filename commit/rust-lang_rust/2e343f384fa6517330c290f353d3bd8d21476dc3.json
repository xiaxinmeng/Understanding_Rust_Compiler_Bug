{"sha": "2e343f384fa6517330c290f353d3bd8d21476dc3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlMzQzZjM4NGZhNjUxNzMzMGMyOTBmMzUzZDNiZDhkMjE0NzZkYzM=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-06-09T15:30:22Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-06-13T19:18:55Z"}, "message": "Add help for intra-link lint", "tree": {"sha": "5c5a78f4292b32f94b640a4d8866cddab9a5f9aa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5c5a78f4292b32f94b640a4d8866cddab9a5f9aa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2e343f384fa6517330c290f353d3bd8d21476dc3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2e343f384fa6517330c290f353d3bd8d21476dc3", "html_url": "https://github.com/rust-lang/rust/commit/2e343f384fa6517330c290f353d3bd8d21476dc3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2e343f384fa6517330c290f353d3bd8d21476dc3/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8c43c93e6d8526ef6a3beb656003dd723aa0e952", "url": "https://api.github.com/repos/rust-lang/rust/commits/8c43c93e6d8526ef6a3beb656003dd723aa0e952", "html_url": "https://github.com/rust-lang/rust/commit/8c43c93e6d8526ef6a3beb656003dd723aa0e952"}], "stats": {"total": 28, "additions": 25, "deletions": 3}, "files": [{"sha": "6842f1fae496fc896ad29d6ec365ff18ac602b5e", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/2e343f384fa6517330c290f353d3bd8d21476dc3/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2e343f384fa6517330c290f353d3bd8d21476dc3/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=2e343f384fa6517330c290f353d3bd8d21476dc3", "patch": "@@ -1311,10 +1311,12 @@ fn resolution_failure(\n         diag\n     } else {\n         cx.tcx.struct_span_lint_node(lint::builtin::INTRA_LINK_RESOLUTION_FAILURE,\n-                                                NodeId::new(0),\n-                                                sp,\n-                                                &msg)\n+                                     NodeId::new(0),\n+                                     sp,\n+                                     &msg)\n     };\n+    diag.help(\"to escape `[` and `]` characters, either put them into \\\"`[]`\\\" or \\\n+               use HTML values `&#91;` and `&#93;`\");\n     diag.emit();\n }\n "}, {"sha": "40a7427d733b2311e3819e8969aea51e629d2018", "filename": "src/test/rustdoc-ui/deny-intra-link-resolution-failure.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2e343f384fa6517330c290f353d3bd8d21476dc3/src%2Ftest%2Frustdoc-ui%2Fdeny-intra-link-resolution-failure.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2e343f384fa6517330c290f353d3bd8d21476dc3/src%2Ftest%2Frustdoc-ui%2Fdeny-intra-link-resolution-failure.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fdeny-intra-link-resolution-failure.stderr?ref=2e343f384fa6517330c290f353d3bd8d21476dc3", "patch": "@@ -9,4 +9,5 @@ note: lint level defined here\n    |\n 11 | #![deny(intra_link_resolution_failure)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n "}, {"sha": "d19ea93fa6344cfe4e88a50e4b071c34e31c9ff2", "filename": "src/test/rustdoc-ui/intra-links-warning.stderr", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/2e343f384fa6517330c290f353d3bd8d21476dc3/src%2Ftest%2Frustdoc-ui%2Fintra-links-warning.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2e343f384fa6517330c290f353d3bd8d21476dc3/src%2Ftest%2Frustdoc-ui%2Fintra-links-warning.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-links-warning.stderr?ref=2e343f384fa6517330c290f353d3bd8d21476dc3", "patch": "@@ -5,48 +5,63 @@ warning: `[Foo::baz]` cannot be resolved, ignoring it...\n    |                       ^^^^^^^^ cannot be resolved, ignoring\n    |\n    = note: #[warn(intra_link_resolution_failure)] on by default\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[Bar::foo]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:13:35\n    |\n 13 |        //! Test with [Foo::baz], [Bar::foo], ...\n    |                                   ^^^^^^^^ cannot be resolved, ignoring\n+   |\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[Uniooon::X]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:14:13\n    |\n 14 |      //! , [Uniooon::X] and [Qux::Z].\n    |             ^^^^^^^^^^ cannot be resolved, ignoring\n+   |\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[Qux::Z]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:14:30\n    |\n 14 |      //! , [Uniooon::X] and [Qux::Z].\n    |                              ^^^^^^ cannot be resolved, ignoring\n+   |\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[Uniooon::X]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:16:14\n    |\n 16 |       //! , [Uniooon::X] and [Qux::Z].\n    |              ^^^^^^^^^^ cannot be resolved, ignoring\n+   |\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[Qux::Z]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:16:31\n    |\n 16 |       //! , [Uniooon::X] and [Qux::Z].\n    |                               ^^^^^^ cannot be resolved, ignoring\n+   |\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[Qux:Y]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:18:13\n    |\n 18 |        /// [Qux:Y]\n    |             ^^^^^ cannot be resolved, ignoring\n+   |\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[BarA]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:24:10\n    |\n 24 | /// bar [BarA] bar\n    |          ^^^^ cannot be resolved, ignoring\n+   |\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[BarB]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:28:1\n@@ -62,6 +77,7 @@ warning: `[BarB]` cannot be resolved, ignoring it...\n            \n             bar [BarB] bar\n                  ^^^^\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[BarC]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:35:1\n@@ -79,6 +95,7 @@ warning: `[BarC]` cannot be resolved, ignoring it...\n            \n            bar [BarC] bar\n                 ^^^^\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[BarD]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:48:1\n@@ -90,6 +107,7 @@ warning: `[BarD]` cannot be resolved, ignoring it...\n            \n            bar [BarD] bar\n                 ^^^^\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n \n warning: `[BarF]` cannot be resolved, ignoring it...\n   --> $DIR/intra-links-warning.rs:53:9\n@@ -104,4 +122,5 @@ warning: `[BarF]` cannot be resolved, ignoring it...\n            \n            bar [BarF] bar\n                 ^^^^\n+   = help: to escape `[` and `]` characters, either put them into \"`[]`\" or use HTML values `&#91;` and `&#93;`\n "}]}