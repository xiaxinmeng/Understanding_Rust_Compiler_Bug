{"sha": "3d0f9fb544cc73ea4016696e43868b71bf3c8226", "node_id": "C_kwDOAAsO6NoAKDNkMGY5ZmI1NDRjYzczZWE0MDE2Njk2ZTQzODY4YjcxYmYzYzgyMjY", "commit": {"author": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-05-20T04:49:41Z"}, "committer": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-05-20T14:04:44Z"}, "message": "report ambiguous type parameters when their parents are impl or fn\n\nfix ci error\n\nemit err for `impl_item`", "tree": {"sha": "22652854fcd39d055fdf260b8a3e52d36ae0d2d8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/22652854fcd39d055fdf260b8a3e52d36ae0d2d8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3d0f9fb544cc73ea4016696e43868b71bf3c8226", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3d0f9fb544cc73ea4016696e43868b71bf3c8226", "html_url": "https://github.com/rust-lang/rust/commit/3d0f9fb544cc73ea4016696e43868b71bf3c8226", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3d0f9fb544cc73ea4016696e43868b71bf3c8226/comments", "author": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "910979a6d4a8e1945933cc989e6b22a675fc1d42", "url": "https://api.github.com/repos/rust-lang/rust/commits/910979a6d4a8e1945933cc989e6b22a675fc1d42", "html_url": "https://github.com/rust-lang/rust/commit/910979a6d4a8e1945933cc989e6b22a675fc1d42"}], "stats": {"total": 103, "additions": 97, "deletions": 6}, "files": [{"sha": "e1a2a237c2324525d6d0ef882b96a1a9cfbb0706", "filename": "compiler/rustc_infer/src/infer/error_reporting/need_type_info.rs", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fneed_type_info.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fneed_type_info.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fneed_type_info.rs?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -941,15 +941,16 @@ impl<'a, 'tcx> InferCtxt<'a, 'tcx> {\n             let mut inner = self.inner.borrow_mut();\n             let ty_vars = &inner.type_variables();\n             let var_origin = ty_vars.var_origin(ty_vid);\n-            if let TypeVariableOriginKind::TypeParameterDefinition(name, Some(def_id)) =\n+            if let TypeVariableOriginKind::TypeParameterDefinition(_, Some(def_id)) =\n                 var_origin.kind\n                 && let Some(parent_def_id) = self.tcx.parent(def_id).as_local()\n-                && let Some(hir::Node::Item(item)) = self.tcx.hir().find_by_def_id(parent_def_id)\n-                && let hir::ItemKind::Impl(impl_item) = item.kind\n-                && let Some(trait_ref) = &impl_item.of_trait\n-                && let Some(did) = trait_ref.trait_def_id()\n-                && self.tcx.generics_of(did).params.iter().any(|param| param.name == name)\n+                && let Some(node) = self.tcx.hir().find_by_def_id(parent_def_id)\n             {\n+                match node {\n+                    hir::Node::Item(item) if matches!(item.kind, hir::ItemKind::Impl(_) | hir::ItemKind::Fn(..)) => (),\n+                    hir::Node::ImplItem(impl_item) if matches!(impl_item.kind, hir::ImplItemKind::Fn(..)) => (),\n+                    _ => return,\n+                }\n                 err.span_help(self.tcx.def_span(def_id), \"type parameter declared here\");\n             }\n         }"}, {"sha": "3f44a54e80adc9cd5a284e96c19ec3c73b5eed8a", "filename": "src/test/ui/const-generics/issues/issue-83249.stderr", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-83249.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-83249.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-83249.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -5,6 +5,12 @@ LL |     let _ = foo([0; 1]);\n    |         -   ^^^ cannot infer type for type parameter `T` declared on the function `foo`\n    |         |\n    |         consider giving this pattern a type\n+   |\n+help: type parameter declared here\n+  --> $DIR/issue-83249.rs:12:8\n+   |\n+LL | fn foo<T: Foo>(_: [u8; T::N]) -> T {\n+   |        ^\n \n error: aborting due to previous error\n "}, {"sha": "caa582d87f527295e587364270f9893ff04077d9", "filename": "src/test/ui/consts/issue-64662.stderr", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Fconsts%2Fissue-64662.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Fconsts%2Fissue-64662.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fissue-64662.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -3,12 +3,24 @@ error[E0282]: type annotations needed\n    |\n LL |     A = foo(),\n    |         ^^^ cannot infer type for type parameter `T` declared on the function `foo`\n+   |\n+help: type parameter declared here\n+  --> $DIR/issue-64662.rs:6:14\n+   |\n+LL | const fn foo<T>() -> isize {\n+   |              ^\n \n error[E0282]: type annotations needed\n   --> $DIR/issue-64662.rs:3:9\n    |\n LL |     B = foo(),\n    |         ^^^ cannot infer type for type parameter `T` declared on the function `foo`\n+   |\n+help: type parameter declared here\n+  --> $DIR/issue-64662.rs:6:14\n+   |\n+LL | const fn foo<T>() -> isize {\n+   |              ^\n \n error: aborting due to 2 previous errors\n "}, {"sha": "e58c9d3116a1c6af71b47ae788e1aaf43c63b37d", "filename": "src/test/ui/error-codes/E0401.stderr", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Ferror-codes%2FE0401.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Ferror-codes%2FE0401.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0401.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -37,6 +37,12 @@ error[E0282]: type annotations needed\n    |\n LL |     bfnr(x);\n    |     ^^^^ cannot infer type for type parameter `U` declared on the function `bfnr`\n+   |\n+help: type parameter declared here\n+  --> $DIR/E0401.rs:4:13\n+   |\n+LL |     fn bfnr<U, V: Baz<U>, W: Fn()>(y: T) {\n+   |             ^\n \n error: aborting due to 4 previous errors\n "}, {"sha": "51fac5f79df475c54592504c9bef7914a09d745d", "filename": "src/test/ui/inference/erase-type-params-in-label.stderr", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Finference%2Ferase-type-params-in-label.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Finference%2Ferase-type-params-in-label.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finference%2Ferase-type-params-in-label.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -6,6 +6,11 @@ LL |     let foo = foo(1, \"\");\n    |         |\n    |         consider giving `foo` the explicit type `Foo<_, _, W, Z>`, where the type parameter `W` is specified\n    |\n+help: type parameter declared here\n+  --> $DIR/erase-type-params-in-label.rs:25:14\n+   |\n+LL | fn foo<T, K, W: Default, Z: Default>(t: T, k: K) -> Foo<T, K, W, Z> {\n+   |              ^\n    = note: cannot satisfy `_: Default`\n note: required by a bound in `foo`\n   --> $DIR/erase-type-params-in-label.rs:25:17\n@@ -25,6 +30,11 @@ LL |     let bar = bar(1, \"\");\n    |         |\n    |         consider giving `bar` the explicit type `Bar<_, _, Z>`, where the type parameter `Z` is specified\n    |\n+help: type parameter declared here\n+  --> $DIR/erase-type-params-in-label.rs:14:14\n+   |\n+LL | fn bar<T, K, Z: Default>(t: T, k: K) -> Bar<T, K, Z> {\n+   |              ^\n    = note: cannot satisfy `_: Default`\n note: required by a bound in `bar`\n   --> $DIR/erase-type-params-in-label.rs:14:17"}, {"sha": "edf97c0aed47ee04b51a62d76543e763a82a06e5", "filename": "src/test/ui/inference/issue-86162-1.stderr", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Finference%2Fissue-86162-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Finference%2Fissue-86162-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finference%2Fissue-86162-1.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -4,6 +4,11 @@ error[E0283]: type annotations needed\n LL |     foo(gen()); //<- Do not suggest `foo::<impl Clone>()`!\n    |     ^^^ cannot infer type for type parameter `impl Clone` declared on the function `foo`\n    |\n+help: type parameter declared here\n+  --> $DIR/issue-86162-1.rs:3:11\n+   |\n+LL | fn foo(x: impl Clone) {}\n+   |           ^^^^^^^^^^\n    = note: cannot satisfy `_: Clone`\n note: required by a bound in `foo`\n   --> $DIR/issue-86162-1.rs:3:16"}, {"sha": "c642ebb057603b51aba7d53ffb803e103e2a48d5", "filename": "src/test/ui/inference/issue-86162-2.stderr", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Finference%2Fissue-86162-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Finference%2Fissue-86162-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finference%2Fissue-86162-2.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -4,6 +4,11 @@ error[E0283]: type annotations needed\n LL |     Foo::bar(gen()); //<- Do not suggest `Foo::bar::<impl Clone>()`!\n    |     ^^^^^^^^ cannot infer type for type parameter `impl Clone` declared on the associated function `bar`\n    |\n+help: type parameter declared here\n+  --> $DIR/issue-86162-2.rs:8:15\n+   |\n+LL |     fn bar(x: impl Clone) {}\n+   |               ^^^^^^^^^^\n    = note: cannot satisfy `_: Clone`\n note: required by a bound in `Foo::bar`\n   --> $DIR/issue-86162-2.rs:8:20"}, {"sha": "f548692d785830f649b0ba637b89f75da3aac0e7", "filename": "src/test/ui/issues/issue-6458.stderr", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Fissues%2Fissue-6458.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Fissues%2Fissue-6458.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-6458.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -3,6 +3,12 @@ error[E0282]: type annotations needed\n    |\n LL |    foo(TypeWithState(marker::PhantomData));\n    |    ^^^ cannot infer type for type parameter `State` declared on the function `foo`\n+   |\n+help: type parameter declared here\n+  --> $DIR/issue-6458.rs:6:12\n+   |\n+LL | pub fn foo<State>(_: TypeWithState<State>) {}\n+   |            ^^^^^\n \n error: aborting due to previous error\n "}, {"sha": "2aa2b0e6a3c2c062071485cf219f489948fd4c30", "filename": "src/test/ui/missing/missing-items/missing-type-parameter.stderr", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Fmissing%2Fmissing-items%2Fmissing-type-parameter.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Fmissing%2Fmissing-items%2Fmissing-type-parameter.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmissing%2Fmissing-items%2Fmissing-type-parameter.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -3,6 +3,12 @@ error[E0282]: type annotations needed\n    |\n LL |     foo();\n    |     ^^^ cannot infer type for type parameter `X` declared on the function `foo`\n+   |\n+help: type parameter declared here\n+  --> $DIR/missing-type-parameter.rs:1:8\n+   |\n+LL | fn foo<X>() { }\n+   |        ^\n \n error: aborting due to previous error\n "}, {"sha": "a4cfee55633731c2c43a6924a26e3f8e76e294f8", "filename": "src/test/ui/suggestions/fn-needing-specified-return-type-param.stderr", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Fsuggestions%2Ffn-needing-specified-return-type-param.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Fsuggestions%2Ffn-needing-specified-return-type-param.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Ffn-needing-specified-return-type-param.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -5,6 +5,12 @@ LL |     let _ = f;\n    |         -   ^ cannot infer type for type parameter `A` declared on the function `f`\n    |         |\n    |         consider giving this pattern the explicit type `fn() -> A`, where the type parameter `A` is specified\n+   |\n+help: type parameter declared here\n+  --> $DIR/fn-needing-specified-return-type-param.rs:1:6\n+   |\n+LL | fn f<A>() -> A { unimplemented!() }\n+   |      ^\n \n error: aborting due to previous error\n "}, {"sha": "da7461347106ffa68a2ca0c6b8061bce17aeb9c7", "filename": "src/test/ui/traits/multidispatch-convert-ambig-dest.stderr", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Ftraits%2Fmultidispatch-convert-ambig-dest.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Ftraits%2Fmultidispatch-convert-ambig-dest.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Fmultidispatch-convert-ambig-dest.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -3,13 +3,24 @@ error[E0282]: type annotations needed\n    |\n LL |     test(22, std::default::Default::default());\n    |     ^^^^ cannot infer type for type parameter `U` declared on the function `test`\n+   |\n+help: type parameter declared here\n+  --> $DIR/multidispatch-convert-ambig-dest.rs:20:11\n+   |\n+LL | fn test<T,U>(_: T, _: U)\n+   |           ^\n \n error[E0283]: type annotations needed\n   --> $DIR/multidispatch-convert-ambig-dest.rs:26:5\n    |\n LL |     test(22, std::default::Default::default());\n    |     ^^^^ cannot infer type for type parameter `U` declared on the function `test`\n    |\n+help: type parameter declared here\n+  --> $DIR/multidispatch-convert-ambig-dest.rs:20:11\n+   |\n+LL | fn test<T,U>(_: T, _: U)\n+   |           ^\n note: multiple `impl`s satisfying `i32: Convert<_>` found\n   --> $DIR/multidispatch-convert-ambig-dest.rs:8:1\n    |"}, {"sha": "501fa7c8c67c198adfc54c5abeb899e5dd40fcbb", "filename": "src/test/ui/type-inference/unbounded-type-param-in-fn-with-assoc-type.stderr", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Ftype-inference%2Funbounded-type-param-in-fn-with-assoc-type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Ftype-inference%2Funbounded-type-param-in-fn-with-assoc-type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-inference%2Funbounded-type-param-in-fn-with-assoc-type.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -3,6 +3,12 @@ error[E0282]: type annotations needed\n    |\n LL |     foo();\n    |     ^^^ cannot infer type for type parameter `T` declared on the function `foo`\n+   |\n+help: type parameter declared here\n+  --> $DIR/unbounded-type-param-in-fn-with-assoc-type.rs:3:8\n+   |\n+LL | fn foo<T, U = u64>() -> (T, U) {\n+   |        ^\n \n error: aborting due to previous error\n "}, {"sha": "d01c3a7d4e220258e1d35aeed2765c4948704dab", "filename": "src/test/ui/type-inference/unbounded-type-param-in-fn.stderr", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Ftype-inference%2Funbounded-type-param-in-fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Ftype-inference%2Funbounded-type-param-in-fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-inference%2Funbounded-type-param-in-fn.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -3,6 +3,12 @@ error[E0282]: type annotations needed\n    |\n LL |     foo();\n    |     ^^^ cannot infer type for type parameter `T` declared on the function `foo`\n+   |\n+help: type parameter declared here\n+  --> $DIR/unbounded-type-param-in-fn.rs:1:8\n+   |\n+LL | fn foo<T>() -> T {\n+   |        ^\n \n error: aborting due to previous error\n "}, {"sha": "64fdbfe7db4c899d1fe8352d268966d7aa01cfcd", "filename": "src/test/ui/type/type-annotation-needed.stderr", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Ftype%2Ftype-annotation-needed.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d0f9fb544cc73ea4016696e43868b71bf3c8226/src%2Ftest%2Fui%2Ftype%2Ftype-annotation-needed.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype%2Ftype-annotation-needed.stderr?ref=3d0f9fb544cc73ea4016696e43868b71bf3c8226", "patch": "@@ -4,6 +4,11 @@ error[E0283]: type annotations needed\n LL |     foo(42);\n    |     ^^^ cannot infer type for type parameter `T` declared on the function `foo`\n    |\n+help: type parameter declared here\n+  --> $DIR/type-annotation-needed.rs:1:8\n+   |\n+LL | fn foo<T: Into<String>>(x: i32) {}\n+   |        ^\n    = note: cannot satisfy `_: Into<String>`\n note: required by a bound in `foo`\n   --> $DIR/type-annotation-needed.rs:1:11"}]}