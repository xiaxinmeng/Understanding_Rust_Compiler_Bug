{"sha": "54f80a5b7c254d1df302680eac6552665b4c8945", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0ZjgwYTViN2MyNTRkMWRmMzAyNjgwZWFjNjU1MjY2NWI0Yzg5NDU=", "commit": {"author": {"name": "nathanwhit", "email": "nathan.whitaker01@gmail.com", "date": "2019-08-22T16:01:37Z"}, "committer": {"name": "Nathan", "email": "nathan.whitaker01@gmail.com", "date": "2019-08-22T22:53:50Z"}, "message": "Add header flag to check run-pass test output", "tree": {"sha": "0f53ee80629d379df6701041c599e24c93f8e38d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0f53ee80629d379df6701041c599e24c93f8e38d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/54f80a5b7c254d1df302680eac6552665b4c8945", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/54f80a5b7c254d1df302680eac6552665b4c8945", "html_url": "https://github.com/rust-lang/rust/commit/54f80a5b7c254d1df302680eac6552665b4c8945", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/54f80a5b7c254d1df302680eac6552665b4c8945/comments", "author": {"login": "nathanwhit", "id": 17734409, "node_id": "MDQ6VXNlcjE3NzM0NDA5", "avatar_url": "https://avatars.githubusercontent.com/u/17734409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathanwhit", "html_url": "https://github.com/nathanwhit", "followers_url": "https://api.github.com/users/nathanwhit/followers", "following_url": "https://api.github.com/users/nathanwhit/following{/other_user}", "gists_url": "https://api.github.com/users/nathanwhit/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathanwhit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathanwhit/subscriptions", "organizations_url": "https://api.github.com/users/nathanwhit/orgs", "repos_url": "https://api.github.com/users/nathanwhit/repos", "events_url": "https://api.github.com/users/nathanwhit/events{/privacy}", "received_events_url": "https://api.github.com/users/nathanwhit/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nathanwhit", "id": 17734409, "node_id": "MDQ6VXNlcjE3NzM0NDA5", "avatar_url": "https://avatars.githubusercontent.com/u/17734409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathanwhit", "html_url": "https://github.com/nathanwhit", "followers_url": "https://api.github.com/users/nathanwhit/followers", "following_url": "https://api.github.com/users/nathanwhit/following{/other_user}", "gists_url": "https://api.github.com/users/nathanwhit/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathanwhit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathanwhit/subscriptions", "organizations_url": "https://api.github.com/users/nathanwhit/orgs", "repos_url": "https://api.github.com/users/nathanwhit/repos", "events_url": "https://api.github.com/users/nathanwhit/events{/privacy}", "received_events_url": "https://api.github.com/users/nathanwhit/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "201e52e5fe73ccf3dd22946b1216ad8d64f8c2ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/201e52e5fe73ccf3dd22946b1216ad8d64f8c2ba", "html_url": "https://github.com/rust-lang/rust/commit/201e52e5fe73ccf3dd22946b1216ad8d64f8c2ba"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "dcd4f14f354d1d2bf433d0c569c708b2c83ba239", "filename": "src/tools/compiletest/src/header.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/54f80a5b7c254d1df302680eac6552665b4c8945/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54f80a5b7c254d1df302680eac6552665b4c8945/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs?ref=54f80a5b7c254d1df302680eac6552665b4c8945", "patch": "@@ -326,6 +326,8 @@ pub struct TestProps {\n     pub force_host: bool,\n     // Check stdout for error-pattern output as well as stderr\n     pub check_stdout: bool,\n+    // Check stdout & stderr for output of run-pass test\n+    pub check_run_results: bool,\n     // For UI tests, allows compiler to generate arbitrary output to stdout\n     pub dont_check_compiler_stdout: bool,\n     // For UI tests, allows compiler to generate arbitrary output to stderr\n@@ -388,6 +390,7 @@ impl TestProps {\n             build_aux_docs: false,\n             force_host: false,\n             check_stdout: false,\n+            check_run_results: false,\n             dont_check_compiler_stdout: false,\n             dont_check_compiler_stderr: false,\n             no_prefer_dynamic: false,\n@@ -468,6 +471,10 @@ impl TestProps {\n                 self.check_stdout = config.parse_check_stdout(ln);\n             }\n \n+            if !self.check_run_results {\n+                self.check_run_results = config.parse_check_run_results(ln);\n+            }\n+\n             if !self.dont_check_compiler_stdout {\n                 self.dont_check_compiler_stdout = config.parse_dont_check_compiler_stdout(ln);\n             }\n@@ -712,6 +719,10 @@ impl Config {\n         self.parse_name_directive(line, \"check-stdout\")\n     }\n \n+    fn parse_check_run_results(&self, line: &str) -> bool {\n+        self.parse_name_directive(line, \"check-run-results\")\n+    }\n+\n     fn parse_dont_check_compiler_stdout(&self, line: &str) -> bool {\n         self.parse_name_directive(line, \"dont-check-compiler-stdout\")\n     }"}]}