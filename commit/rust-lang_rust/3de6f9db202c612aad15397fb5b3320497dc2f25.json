{"sha": "3de6f9db202c612aad15397fb5b3320497dc2f25", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkZTZmOWRiMjAyYzYxMmFhZDE1Mzk3ZmI1YjMzMjA0OTdkYzJmMjU=", "commit": {"author": {"name": "Arnavion", "email": "arnavion@gmail.com", "date": "2016-12-11T07:57:19Z"}, "committer": {"name": "Arnavion", "email": "arnavion@gmail.com", "date": "2016-12-11T07:57:19Z"}, "message": "Use inputs/output getters for rustc::ty::FnSig instead of the now non-existent fields.", "tree": {"sha": "a7c5e9f883bea043204913842611c29bc186748c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a7c5e9f883bea043204913842611c29bc186748c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3de6f9db202c612aad15397fb5b3320497dc2f25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3de6f9db202c612aad15397fb5b3320497dc2f25", "html_url": "https://github.com/rust-lang/rust/commit/3de6f9db202c612aad15397fb5b3320497dc2f25", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3de6f9db202c612aad15397fb5b3320497dc2f25/comments", "author": null, "committer": null, "parents": [{"sha": "778ce4dfd359eb8071ad76aa6447b23ce7a0c752", "url": "https://api.github.com/repos/rust-lang/rust/commits/778ce4dfd359eb8071ad76aa6447b23ce7a0c752", "html_url": "https://github.com/rust-lang/rust/commit/778ce4dfd359eb8071ad76aa6447b23ce7a0c752"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "fc9e25c7707ef7fbc07f12e51ce1bd3b5e0d0198", "filename": "clippy_lints/src/cyclomatic_complexity.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Fcyclomatic_complexity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Fcyclomatic_complexity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcyclomatic_complexity.rs?ref=3de6f9db202c612aad15397fb5b3320497dc2f25", "patch": "@@ -142,7 +142,7 @@ impl<'a, 'tcx> Visitor<'tcx> for CCHelper<'a, 'tcx> {\n                 let ty = self.cx.tcx.tables().node_id_to_type(callee.id);\n                 match ty.sty {\n                     ty::TyFnDef(_, _, ty) |\n-                    ty::TyFnPtr(ty) if ty.sig.skip_binder().output.sty == ty::TyNever => {\n+                    ty::TyFnPtr(ty) if ty.sig.skip_binder().output().sty == ty::TyNever => {\n                         self.divergence += 1;\n                     }\n                     _ => (),"}, {"sha": "2bf91f8d1bce109a836dd830935ce6fd099e53ae", "filename": "clippy_lints/src/eta_reduction.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Feta_reduction.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Feta_reduction.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feta_reduction.rs?ref=3de6f9db202c612aad15397fb5b3320497dc2f25", "patch": "@@ -66,7 +66,7 @@ fn check_closure(cx: &LateContext, expr: &Expr) {\n                 ty::TyFnDef(_, _, fn_ty) |\n                 ty::TyFnPtr(fn_ty) => {\n                     if fn_ty.unsafety == Unsafety::Unsafe ||\n-                       fn_ty.sig.skip_binder().output.sty == ty::TyNever {\n+                       fn_ty.sig.skip_binder().output().sty == ty::TyNever {\n                         return;\n                     }\n                 }"}, {"sha": "88e1180067a754aa3c90b65497c1e1359a2a7760", "filename": "clippy_lints/src/eval_order_dependence.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Feval_order_dependence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Feval_order_dependence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feval_order_dependence.rs?ref=3de6f9db202c612aad15397fb5b3320497dc2f25", "patch": "@@ -132,7 +132,7 @@ impl<'a, 'tcx> Visitor<'tcx> for DivergenceVisitor<'a, 'tcx> {\n             ExprRet(_) => self.report_diverging_sub_expr(e),\n             ExprCall(ref func, _) => match self.cx.tcx.tables().expr_ty(func).sty {\n                 ty::TyFnDef(_, _, fn_ty) |\n-                ty::TyFnPtr(fn_ty) => if let ty::TyNever = self.cx.tcx.erase_late_bound_regions(&fn_ty.sig).output.sty {\n+                ty::TyFnPtr(fn_ty) => if let ty::TyNever = self.cx.tcx.erase_late_bound_regions(&fn_ty.sig).output().sty {\n                     self.report_diverging_sub_expr(e);\n                 },\n                 _ => {},"}, {"sha": "0242fb523ee57aa3d1f78a61aeb11b012fa26102", "filename": "clippy_lints/src/len_zero.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Flen_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Flen_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flen_zero.rs?ref=3de6f9db202c612aad15397fb5b3320497dc2f25", "patch": "@@ -188,7 +188,7 @@ fn has_is_empty(cx: &LateContext, expr: &Expr) -> bool {\n         if let ty::AssociatedKind::Method = item.kind {\n             if &*item.name.as_str() == \"is_empty\" {\n                 let ty = cx.tcx.item_type(item.def_id).fn_sig().skip_binder();\n-                ty.inputs.len() == 1\n+                ty.inputs().len() == 1\n             } else {\n                 false\n             }"}, {"sha": "d2cd0a329143d8aac88c8de403c9972699c0bd81", "filename": "clippy_lints/src/mut_reference.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Fmut_reference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Fmut_reference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmut_reference.rs?ref=3de6f9db202c612aad15397fb5b3320497dc2f25", "patch": "@@ -60,7 +60,7 @@ fn check_arguments(cx: &LateContext, arguments: &[Expr], type_definition: &TyS,\n     match type_definition.sty {\n         TypeVariants::TyFnDef(_, _, fn_type) |\n         TypeVariants::TyFnPtr(fn_type) => {\n-            let parameters = &fn_type.sig.skip_binder().inputs;\n+            let parameters = fn_type.sig.skip_binder().inputs();\n             for (argument, parameter) in arguments.iter().zip(parameters.iter()) {\n                 match parameter.sty {\n                     TypeVariants::TyRef(_, TypeAndMut { mutbl: MutImmutable, .. }) |"}, {"sha": "1461189946c15005f63413258675265e8141795c", "filename": "clippy_lints/src/ptr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Fptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Fptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fptr.rs?ref=3de6f9db202c612aad15397fb5b3320497dc2f25", "patch": "@@ -94,7 +94,7 @@ fn check_fn(cx: &LateContext, decl: &FnDecl, fn_id: NodeId) {\n     let fn_def_id = cx.tcx.map.local_def_id(fn_id);\n     let fn_ty = cx.tcx.item_type(fn_def_id).fn_sig().skip_binder();\n \n-    for (arg, ty) in decl.inputs.iter().zip(&fn_ty.inputs) {\n+    for (arg, ty) in decl.inputs.iter().zip(fn_ty.inputs()) {\n         if let ty::TyRef(_, ty::TypeAndMut { ty, mutbl: MutImmutable }) = ty.sty {\n             if match_type(cx, ty, &paths::VEC) {\n                 span_lint(cx,"}, {"sha": "d8afb96298d4bf9e4c07ffeae338d4e27f52f09b", "filename": "clippy_lints/src/utils/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3de6f9db202c612aad15397fb5b3320497dc2f25/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fmod.rs?ref=3de6f9db202c612aad15397fb5b3320497dc2f25", "patch": "@@ -751,7 +751,7 @@ pub fn return_ty<'a, 'tcx>(cx: &LateContext<'a, 'tcx>, fn_item: NodeId) -> ty::T\n     let fn_def_id = cx.tcx.map.local_def_id(fn_item);\n     let fn_sig = cx.tcx.item_type(fn_def_id).fn_sig();\n     let fn_sig = cx.tcx.liberate_late_bound_regions(parameter_env.free_id_outlive, fn_sig);\n-    fn_sig.output\n+    fn_sig.output()\n }\n \n /// Check if two types are the same."}]}