{"sha": "91846fe12ad2296b6acc808e79f89020ddd194eb", "node_id": "C_kwDOAAsO6NoAKDkxODQ2ZmUxMmFkMjI5NmI2YWNjODA4ZTc5Zjg5MDIwZGRkMTk0ZWI", "commit": {"author": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2022-03-17T15:36:12Z"}, "committer": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2022-03-17T17:38:27Z"}, "message": "This test now works", "tree": {"sha": "9ce6c2df5ffe280de0d5216a21423e697d9df80e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9ce6c2df5ffe280de0d5216a21423e697d9df80e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/91846fe12ad2296b6acc808e79f89020ddd194eb", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEF0ntrgrd9qf9uuThgTGiTgx5768FAmIzchQACgkQgTGiTgx5\n76+Q1RAAg2DfmypsQtW/lJ6MuBy6v3H6E71KSgaaNB9qBZnvHp2tjMytbBC2uLlT\nkQQE0PyDiWTyvIBIzP6r8y1fBq0VYBqc7rlUBMJW2KlgnEUl3SqKOIebJtPP5bjA\nw4NJIpD4hDnFkUHnaqPwKBDBkDXJpYruXNrMOeeKDUOX5q6KESJ4hE/OOMbSRvvG\n+RIhUfR+FpWzPJxERplBjldb1ZvWkXlkheDjzpWbcHIZEpmi60mJTCUYFN5BiGKW\nZILXtTsuk8YfSo4z96umnmVEL5pe7SUPA3vX4mW1WxuFUfLRzeL1PmrLq+FMKp9k\nbByM93C7A8wkxTQaK0bWYjGefohXjtgqzYv+T/LZi4B4hlcwD32OxRNuloeP45Rf\n8i40gptvpoGKhM4IUIXx3/pU0XIBbuEGeQ/d6JAmRLkaZFusjqkYHZeh0fX+mEP0\ntXBSIbJAZZO+l1y3PF1M6fEOhX7xBqlWAQsIti3mVhedSdSrXnKEEr4/bGyq53v1\nPO1KxW8LMuKOjoxcGCs4IQbrtGwM+wbnR4424fj1CVMA1Jp0O8RntcQGsMUFobwj\nXjMtip7n6E6AqmRXK3VK2+dKMMJO0dZnEx1CJSYBNESoOomoQ6n1qGQYsBdRUDuv\nPr28cESMs7Qc7XcGYGUZN0U6qmIS4qQ04va6laWWgQH/xjHsLvQ=\n=LG/e\n-----END PGP SIGNATURE-----", "payload": "tree 9ce6c2df5ffe280de0d5216a21423e697d9df80e\nparent 61a05ef8d6a0f5b506dc0d29ef04036238a474a9\nauthor Santiago Pastorino <spastorino@gmail.com> 1647531372 -0300\ncommitter Santiago Pastorino <spastorino@gmail.com> 1647538707 -0300\n\nThis test now works\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/91846fe12ad2296b6acc808e79f89020ddd194eb", "html_url": "https://github.com/rust-lang/rust/commit/91846fe12ad2296b6acc808e79f89020ddd194eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/91846fe12ad2296b6acc808e79f89020ddd194eb/comments", "author": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "committer": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "61a05ef8d6a0f5b506dc0d29ef04036238a474a9", "url": "https://api.github.com/repos/rust-lang/rust/commits/61a05ef8d6a0f5b506dc0d29ef04036238a474a9", "html_url": "https://github.com/rust-lang/rust/commit/61a05ef8d6a0f5b506dc0d29ef04036238a474a9"}], "stats": {"total": 16, "additions": 3, "deletions": 13}, "files": [{"sha": "63aacbe2e85630bdf73bcec60752154359df672d", "filename": "compiler/rustc_trait_selection/src/traits/coherence.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/91846fe12ad2296b6acc808e79f89020ddd194eb/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fcoherence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/91846fe12ad2296b6acc808e79f89020ddd194eb/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fcoherence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fcoherence.rs?ref=91846fe12ad2296b6acc808e79f89020ddd194eb", "patch": "@@ -366,6 +366,7 @@ fn negative_impl_exists<'cx, 'tcx>(\n         return true;\n     }\n \n+    // FIXME we should implement an `assemble_neg_candidates` fn\n     for o in util::elaborate_predicates(infcx.tcx, iter::once(o.predicate)) {\n         if resolve_negative_obligation(infcx, param_env, region_context, &o) {\n             return true;"}, {"sha": "48dffc921a31bb0fa2015996673ca62b1369e1d9", "filename": "src/test/ui/coherence/coherence-overlap-negate-alias-strict.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/91846fe12ad2296b6acc808e79f89020ddd194eb/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-overlap-negate-alias-strict.rs", "raw_url": "https://github.com/rust-lang/rust/raw/91846fe12ad2296b6acc808e79f89020ddd194eb/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-overlap-negate-alias-strict.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-overlap-negate-alias-strict.rs?ref=91846fe12ad2296b6acc808e79f89020ddd194eb", "patch": "@@ -1,3 +1,5 @@\n+// check-pass\n+\n #![feature(negative_impls)]\n #![feature(rustc_attrs)]\n #![feature(trait_alias)]\n@@ -13,7 +15,5 @@ impl !A for u32 {}\n trait C {}\n impl<T: AB> C for T {}\n impl C for u32 {}\n-//~^ ERROR: conflicting implementations of trait `C` for type `u32` [E0119]\n-// FIXME this should work, we should implement an `assemble_neg_candidates` fn\n \n fn main() {}"}, {"sha": "30d837a5c5019d28dd3af83857354089f5be01d2", "filename": "src/test/ui/coherence/coherence-overlap-negate-alias-strict.stderr", "status": "removed", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/61a05ef8d6a0f5b506dc0d29ef04036238a474a9/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-overlap-negate-alias-strict.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/61a05ef8d6a0f5b506dc0d29ef04036238a474a9/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-overlap-negate-alias-strict.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-overlap-negate-alias-strict.stderr?ref=61a05ef8d6a0f5b506dc0d29ef04036238a474a9", "patch": "@@ -1,11 +0,0 @@\n-error[E0119]: conflicting implementations of trait `C` for type `u32`\n-  --> $DIR/coherence-overlap-negate-alias-strict.rs:15:1\n-   |\n-LL | impl<T: AB> C for T {}\n-   | ------------------- first implementation here\n-LL | impl C for u32 {}\n-   | ^^^^^^^^^^^^^^ conflicting implementation for `u32`\n-\n-error: aborting due to previous error\n-\n-For more information about this error, try `rustc --explain E0119`."}]}