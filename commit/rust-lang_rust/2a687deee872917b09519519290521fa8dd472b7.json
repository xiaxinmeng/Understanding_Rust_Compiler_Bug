{"sha": "2a687deee872917b09519519290521fa8dd472b7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJhNjg3ZGVlZTg3MjkxN2IwOTUxOTUxOTI5MDUyMWZhOGRkNDcyYjc=", "commit": {"author": {"name": "danakj", "email": "danakj@chromium.org", "date": "2021-09-07T19:38:29Z"}, "committer": {"name": "danakj", "email": "danakj@chromium.org", "date": "2021-09-07T19:41:30Z"}, "message": "Move documentation to the unstable book", "tree": {"sha": "95d09f26ddd5a8c15a7c301330f822ce18f26614", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/95d09f26ddd5a8c15a7c301330f822ce18f26614"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2a687deee872917b09519519290521fa8dd472b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2a687deee872917b09519519290521fa8dd472b7", "html_url": "https://github.com/rust-lang/rust/commit/2a687deee872917b09519519290521fa8dd472b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2a687deee872917b09519519290521fa8dd472b7/comments", "author": {"login": "danakj", "id": 342377, "node_id": "MDQ6VXNlcjM0MjM3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/342377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danakj", "html_url": "https://github.com/danakj", "followers_url": "https://api.github.com/users/danakj/followers", "following_url": "https://api.github.com/users/danakj/following{/other_user}", "gists_url": "https://api.github.com/users/danakj/gists{/gist_id}", "starred_url": "https://api.github.com/users/danakj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danakj/subscriptions", "organizations_url": "https://api.github.com/users/danakj/orgs", "repos_url": "https://api.github.com/users/danakj/repos", "events_url": "https://api.github.com/users/danakj/events{/privacy}", "received_events_url": "https://api.github.com/users/danakj/received_events", "type": "User", "site_admin": false}, "committer": {"login": "danakj", "id": 342377, "node_id": "MDQ6VXNlcjM0MjM3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/342377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danakj", "html_url": "https://github.com/danakj", "followers_url": "https://api.github.com/users/danakj/followers", "following_url": "https://api.github.com/users/danakj/following{/other_user}", "gists_url": "https://api.github.com/users/danakj/gists{/gist_id}", "starred_url": "https://api.github.com/users/danakj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danakj/subscriptions", "organizations_url": "https://api.github.com/users/danakj/orgs", "repos_url": "https://api.github.com/users/danakj/repos", "events_url": "https://api.github.com/users/danakj/events{/privacy}", "received_events_url": "https://api.github.com/users/danakj/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ce35f8ec56ec7e89d351cd95001f4d819c97e07d", "url": "https://api.github.com/repos/rust-lang/rust/commits/ce35f8ec56ec7e89d351cd95001f4d819c97e07d", "html_url": "https://github.com/rust-lang/rust/commit/ce35f8ec56ec7e89d351cd95001f4d819c97e07d"}], "stats": {"total": 37, "additions": 24, "deletions": 13}, "files": [{"sha": "7f482f0f2b1a084fd0c1501a4dac6f8906ffcb35", "filename": "src/doc/rustc/src/command-line-arguments.md", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/2a687deee872917b09519519290521fa8dd472b7/src%2Fdoc%2Frustc%2Fsrc%2Fcommand-line-arguments.md", "raw_url": "https://github.com/rust-lang/rust/raw/2a687deee872917b09519519290521fa8dd472b7/src%2Fdoc%2Frustc%2Fsrc%2Fcommand-line-arguments.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fcommand-line-arguments.md?ref=2a687deee872917b09519519290521fa8dd472b7", "patch": "@@ -345,19 +345,6 @@ replacement is purely textual, with no consideration of the current system's\n pathname syntax. For example `--remap-path-prefix foo=bar` will match\n `foo/lib.rs` but not `./foo/lib.rs`.\n \n-<a id=\"option-remap-cwd-prefix\"></a>\n-## `--remap-cwd-prefix`: remap paths under the cwd in output\n-\n-Remap all absolute paths that are rooted under the current working directory to\n-be under the given value instead. The given value may be absolute or relative,\n-or empty. This switch takes precidence over `--remap-path-prefix` in case they\n-would both match a given path.\n-\n-This flag allows the command line to be universally reproducible, such that the\n-same execution will work on all machines, regardless of build environment.\n-\n-This is an unstable option. Use `-Z remap-cwd-prefix=val` to specify a value.\n-\n <a id=\"option-json\"></a>\n ## `--json`: configure json messages printed by the compiler\n "}, {"sha": "977d258529f8c41a5b1f48895f955dfbe35efb3a", "filename": "src/doc/unstable-book/src/compiler-flags/remap-cwd-prefix.md", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/2a687deee872917b09519519290521fa8dd472b7/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fremap-cwd-prefix.md", "raw_url": "https://github.com/rust-lang/rust/raw/2a687deee872917b09519519290521fa8dd472b7/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fremap-cwd-prefix.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fremap-cwd-prefix.md?ref=2a687deee872917b09519519290521fa8dd472b7", "patch": "@@ -0,0 +1,24 @@\n+# `remap-cwd-prefix`\n+\n+The tracking issue for this feature is: [#87325](https://github.com/rust-lang/rust/issues/87325).\n+\n+------------------------\n+\n+This flag will rewrite absolute paths under the current working directory,\n+replacing the current working directory prefix with a specified value.\n+\n+The given value may be absolute or relative, or empty. This switch takes\n+precidence over `--remap-path-prefix` in case they would both match a given\n+path.\n+\n+This flag helps to produce deterministic output, by removing the current working\n+directory from build output, while allowing the command line to be universally\n+reproducible, such that the same execution will work on all machines, regardless\n+of build environment.\n+\n+## Example\n+```sh\n+# This would produce an absolute path to main.rs in build outputs of\n+# \"./main.rs\".\n+rustc -Z remap-cwd-prefix=. main.rs\n+```"}]}