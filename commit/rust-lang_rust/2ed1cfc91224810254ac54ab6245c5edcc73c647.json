{"sha": "2ed1cfc91224810254ac54ab6245c5edcc73c647", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlZDFjZmM5MTIyNDgxMDI1NGFjNTRhYjYyNDVjNWVkY2M3M2M2NDc=", "commit": {"author": {"name": "Jens Nockert", "email": "jens@nockert.se", "date": "2013-07-08T18:22:19Z"}, "committer": {"name": "Jens Nockert", "email": "jens@nockert.se", "date": "2013-07-08T18:22:19Z"}, "message": "And I forgot to run the benchmarks after rebasing", "tree": {"sha": "92ff54d264a6587cb23001353626df008f214333", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/92ff54d264a6587cb23001353626df008f214333"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2ed1cfc91224810254ac54ab6245c5edcc73c647", "comment_count": 4, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2ed1cfc91224810254ac54ab6245c5edcc73c647", "html_url": "https://github.com/rust-lang/rust/commit/2ed1cfc91224810254ac54ab6245c5edcc73c647", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2ed1cfc91224810254ac54ab6245c5edcc73c647/comments", "author": {"login": "auroranockert", "id": 49616, "node_id": "MDQ6VXNlcjQ5NjE2", "avatar_url": "https://avatars.githubusercontent.com/u/49616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auroranockert", "html_url": "https://github.com/auroranockert", "followers_url": "https://api.github.com/users/auroranockert/followers", "following_url": "https://api.github.com/users/auroranockert/following{/other_user}", "gists_url": "https://api.github.com/users/auroranockert/gists{/gist_id}", "starred_url": "https://api.github.com/users/auroranockert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auroranockert/subscriptions", "organizations_url": "https://api.github.com/users/auroranockert/orgs", "repos_url": "https://api.github.com/users/auroranockert/repos", "events_url": "https://api.github.com/users/auroranockert/events{/privacy}", "received_events_url": "https://api.github.com/users/auroranockert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auroranockert", "id": 49616, "node_id": "MDQ6VXNlcjQ5NjE2", "avatar_url": "https://avatars.githubusercontent.com/u/49616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auroranockert", "html_url": "https://github.com/auroranockert", "followers_url": "https://api.github.com/users/auroranockert/followers", "following_url": "https://api.github.com/users/auroranockert/following{/other_user}", "gists_url": "https://api.github.com/users/auroranockert/gists{/gist_id}", "starred_url": "https://api.github.com/users/auroranockert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auroranockert/subscriptions", "organizations_url": "https://api.github.com/users/auroranockert/orgs", "repos_url": "https://api.github.com/users/auroranockert/repos", "events_url": "https://api.github.com/users/auroranockert/events{/privacy}", "received_events_url": "https://api.github.com/users/auroranockert/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "59e6a4d44c329ddf37d9ff33df874e7800647ec2", "url": "https://api.github.com/repos/rust-lang/rust/commits/59e6a4d44c329ddf37d9ff33df874e7800647ec2", "html_url": "https://github.com/rust-lang/rust/commit/59e6a4d44c329ddf37d9ff33df874e7800647ec2"}], "stats": {"total": 17, "additions": 7, "deletions": 10}, "files": [{"sha": "a8742b3073f61deca9ab8c05a645c7d6fbeea3ed", "filename": "src/test/bench/noise.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/2ed1cfc91224810254ac54ab6245c5edcc73c647/src%2Ftest%2Fbench%2Fnoise.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2ed1cfc91224810254ac54ab6245c5edcc73c647/src%2Ftest%2Fbench%2Fnoise.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fnoise.rs?ref=2ed1cfc91224810254ac54ab6245c5edcc73c647", "patch": "@@ -1,6 +1,5 @@\n // Perlin noise benchmark from https://gist.github.com/1170424\n \n-use std::f32;\n use std::float;\n use std::int;\n use std::rand::{Rng, RngUtil};\n@@ -20,8 +19,8 @@ fn smooth(v: f32) -> f32 { v * v * (3.0 - 2.0 * v) }\n fn random_gradient<R:Rng>(r: &mut R) -> Vec2 {\n     let v = 2.0 * float::consts::pi * r.gen();\n     Vec2 {\n-        x: float::cos(v) as f32,\n-        y: float::sin(v) as f32,\n+        x: v.cos() as f32,\n+        y: v.sin() as f32,\n     }\n }\n \n@@ -66,8 +65,8 @@ impl Noise2DContext {\n                          origins: &mut [Vec2, ..4],\n                          x: f32,\n                          y: f32) {\n-        let x0f = f32::floor(x);\n-        let y0f = f32::floor(y);\n+        let x0f = x.floor();\n+        let y0f = y.floor();\n         let x0 = x0f as int;\n         let y0 = y0f as int;\n         let x1 = x0 + 1;"}, {"sha": "a56d1f44fa246e531d65eb676f1b2fcf4b34776a", "filename": "src/test/bench/shootout-nbody.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/2ed1cfc91224810254ac54ab6245c5edcc73c647/src%2Ftest%2Fbench%2Fshootout-nbody.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2ed1cfc91224810254ac54ab6245c5edcc73c647/src%2Ftest%2Fbench%2Fshootout-nbody.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-nbody.rs?ref=2ed1cfc91224810254ac54ab6245c5edcc73c647", "patch": "@@ -1,4 +1,3 @@\n-use std::f64;\n use std::from_str::FromStr;\n use std::os;\n use std::uint::range;\n@@ -90,7 +89,7 @@ fn advance(bodies: &mut [Planet, ..N_BODIES], dt: f64, steps: i32) {\n                 d[2] = bodies[i].x[2] - bodies[j].x[2];\n \n                 let d2 = d[0]*d[0] + d[1]*d[1] + d[2]*d[2];\n-                let mag = dt / (d2 * f64::sqrt(d2));\n+                let mag = dt / (d2 * d2.sqrt());\n \n                 let a_mass = bodies[i].mass;\n                 let b_mass = bodies[j].mass;\n@@ -124,7 +123,7 @@ fn energy(bodies: &[Planet, ..N_BODIES]) -> f64 {\n             for range(0, 3) |k| {\n                 d[k] = bodies[i].x[k] - bodies[j].x[k];\n             }\n-            let dist = f64::sqrt(d[0]*d[0] + d[1]*d[1] + d[2]*d[2]);\n+            let dist = (d[0]*d[0] + d[1]*d[1] + d[2]*d[2]).sqrt();\n             e -= bodies[i].mass * bodies[j].mass / dist;\n         }\n     }"}, {"sha": "3e3df53eaad97d556112e0acfef34b695e90bc05", "filename": "src/test/bench/shootout-spectralnorm.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2ed1cfc91224810254ac54ab6245c5edcc73c647/src%2Ftest%2Fbench%2Fshootout-spectralnorm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2ed1cfc91224810254ac54ab6245c5edcc73c647/src%2Ftest%2Fbench%2Fshootout-spectralnorm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-spectralnorm.rs?ref=2ed1cfc91224810254ac54ab6245c5edcc73c647", "patch": "@@ -8,7 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-use std::f64;\n use std::from_str::FromStr;\n use std::os;\n use std::vec;\n@@ -62,5 +61,5 @@ fn main() {\n         mult_AtAv(v, u, tmp);\n     }\n \n-    println(fmt!(\"%.9f\", f64::sqrt(dot(u,v) / dot(v,v)) as float));\n+    println(fmt!(\"%.9f\", (dot(u,v) / dot(v,v)).sqrt() as float));\n }"}]}