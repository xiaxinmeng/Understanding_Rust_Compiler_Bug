{"sha": "97668a558955ded299db6ef145933be7677e7fbc", "node_id": "C_kwDOAAsO6NoAKDk3NjY4YTU1ODk1NWRlZDI5OWRiNmVmMTQ1OTMzYmU3Njc3ZTdmYmM", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-09-08T02:42:00Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-09-08T02:52:57Z"}, "message": "We can print futures with {integer} too", "tree": {"sha": "c603b900b863acf71f3ffe30c1292c1975f5a7d1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c603b900b863acf71f3ffe30c1292c1975f5a7d1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/97668a558955ded299db6ef145933be7677e7fbc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/97668a558955ded299db6ef145933be7677e7fbc", "html_url": "https://github.com/rust-lang/rust/commit/97668a558955ded299db6ef145933be7677e7fbc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/97668a558955ded299db6ef145933be7677e7fbc/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2c94102df522aa6c2f69175ad929761cfbe284ac", "url": "https://api.github.com/repos/rust-lang/rust/commits/2c94102df522aa6c2f69175ad929761cfbe284ac", "html_url": "https://github.com/rust-lang/rust/commit/2c94102df522aa6c2f69175ad929761cfbe284ac"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "979a72d400fe85a5eba178edccf3bde67d1cfd28", "filename": "compiler/rustc_middle/src/ty/print/pretty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/97668a558955ded299db6ef145933be7677e7fbc/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fpretty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/97668a558955ded299db6ef145933be7677e7fbc/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fpretty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fpretty.rs?ref=97668a558955ded299db6ef145933be7677e7fbc", "patch": "@@ -923,7 +923,7 @@ pub trait PrettyPrinter<'tcx>:\n                         {\n                             if let ty::Generator(_, substs, _) = substs.type_at(0).kind() {\n                                 let return_ty = substs.as_generator().return_ty();\n-                                if !return_ty.is_ty_infer() {\n+                                if !return_ty.is_ty_var() {\n                                     return_ty.into()\n                                 } else {\n                                     continue;"}, {"sha": "77cef485f30e9a477108aa3e29914a0544e46f80", "filename": "src/test/ui/suggestions/expected-boxed-future-isnt-pinned.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/97668a558955ded299db6ef145933be7677e7fbc/src%2Ftest%2Fui%2Fsuggestions%2Fexpected-boxed-future-isnt-pinned.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/97668a558955ded299db6ef145933be7677e7fbc/src%2Ftest%2Fui%2Fsuggestions%2Fexpected-boxed-future-isnt-pinned.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fexpected-boxed-future-isnt-pinned.stderr?ref=97668a558955ded299db6ef145933be7677e7fbc", "patch": "@@ -91,7 +91,7 @@ LL |   pub const fn from_generator<T>(gen: T) -> impl Future<Output = T::Return>\n    |                                             ------------------------------- the found opaque type\n    |\n    = note:   expected struct `Pin<Box<(dyn Future<Output = i32> + Send + 'static)>>`\n-           found opaque type `impl Future`\n+           found opaque type `impl Future<Output = {integer}>`\n help: you need to pin and box this expression\n    |\n LL ~     Box::pin(async {"}]}