{"sha": "acf95adfe2e1cee70ddb30abc42f1c47becbdc55", "node_id": "C_kwDOAAsO6NoAKGFjZjk1YWRmZTJlMWNlZTcwZGRiMzBhYmM0MmYxYzQ3YmVjYmRjNTU", "commit": {"author": {"name": "Markus Everling", "email": "markuseverling@gmail.com", "date": "2022-11-26T22:08:57Z"}, "committer": {"name": "Markus Everling", "email": "markuseverling@gmail.com", "date": "2022-11-26T22:08:57Z"}, "message": "Add second test case in `make_contiguous_head_to_end`", "tree": {"sha": "ba3051721cb00fe1a768b1ae1be47caf51c42366", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ba3051721cb00fe1a768b1ae1be47caf51c42366"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/acf95adfe2e1cee70ddb30abc42f1c47becbdc55", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/acf95adfe2e1cee70ddb30abc42f1c47becbdc55", "html_url": "https://github.com/rust-lang/rust/commit/acf95adfe2e1cee70ddb30abc42f1c47becbdc55", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/acf95adfe2e1cee70ddb30abc42f1c47becbdc55/comments", "author": {"login": "Sp00ph", "id": 61327188, "node_id": "MDQ6VXNlcjYxMzI3MTg4", "avatar_url": "https://avatars.githubusercontent.com/u/61327188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sp00ph", "html_url": "https://github.com/Sp00ph", "followers_url": "https://api.github.com/users/Sp00ph/followers", "following_url": "https://api.github.com/users/Sp00ph/following{/other_user}", "gists_url": "https://api.github.com/users/Sp00ph/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sp00ph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sp00ph/subscriptions", "organizations_url": "https://api.github.com/users/Sp00ph/orgs", "repos_url": "https://api.github.com/users/Sp00ph/repos", "events_url": "https://api.github.com/users/Sp00ph/events{/privacy}", "received_events_url": "https://api.github.com/users/Sp00ph/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Sp00ph", "id": 61327188, "node_id": "MDQ6VXNlcjYxMzI3MTg4", "avatar_url": "https://avatars.githubusercontent.com/u/61327188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sp00ph", "html_url": "https://github.com/Sp00ph", "followers_url": "https://api.github.com/users/Sp00ph/followers", "following_url": "https://api.github.com/users/Sp00ph/following{/other_user}", "gists_url": "https://api.github.com/users/Sp00ph/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sp00ph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sp00ph/subscriptions", "organizations_url": "https://api.github.com/users/Sp00ph/orgs", "repos_url": "https://api.github.com/users/Sp00ph/repos", "events_url": "https://api.github.com/users/Sp00ph/events{/privacy}", "received_events_url": "https://api.github.com/users/Sp00ph/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "451259811a7b0783ef413945e176a65d8b2162bb", "url": "https://api.github.com/repos/rust-lang/rust/commits/451259811a7b0783ef413945e176a65d8b2162bb", "html_url": "https://github.com/rust-lang/rust/commit/451259811a7b0783ef413945e176a65d8b2162bb"}], "stats": {"total": 59, "additions": 49, "deletions": 10}, "files": [{"sha": "220ad71beabd43081f01769b53551fd16e3139ce", "filename": "library/alloc/src/collections/vec_deque/tests.rs", "status": "modified", "additions": 49, "deletions": 10, "changes": 59, "blob_url": "https://github.com/rust-lang/rust/blob/acf95adfe2e1cee70ddb30abc42f1c47becbdc55/library%2Falloc%2Fsrc%2Fcollections%2Fvec_deque%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/acf95adfe2e1cee70ddb30abc42f1c47becbdc55/library%2Falloc%2Fsrc%2Fcollections%2Fvec_deque%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fcollections%2Fvec_deque%2Ftests.rs?ref=acf95adfe2e1cee70ddb30abc42f1c47becbdc55", "patch": "@@ -549,16 +549,55 @@ fn make_contiguous_small_free() {\n \n #[test]\n fn make_contiguous_head_to_end() {\n-    let mut dq = VecDeque::with_capacity(3);\n-    dq.push_front('B');\n-    dq.push_front('A');\n-    dq.push_back('C');\n-    dq.make_contiguous();\n-    let expected_head = 0;\n-    let expected_len = 3;\n-    assert_eq!(expected_head, dq.head);\n-    assert_eq!(expected_len, dq.len);\n-    assert_eq!((&['A', 'B', 'C'] as &[_], &[] as &[_]), dq.as_slices());\n+    let mut tester = VecDeque::with_capacity(16);\n+\n+    for i in b'A'..b'L' {\n+        tester.push_back(i as char);\n+    }\n+\n+    for i in b'L'..b'Q' {\n+        tester.push_front(i as char);\n+    }\n+\n+    assert_eq!(\n+        tester,\n+        ['P', 'O', 'N', 'M', 'L', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K']\n+    );\n+\n+    // ABCDEFGHIJKPONML\n+    let expected_start = 0;\n+    tester.make_contiguous();\n+    assert_eq!(tester.head, expected_start);\n+    assert_eq!(\n+        (\n+            &['P', 'O', 'N', 'M', 'L', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K']\n+                as &[_],\n+            &[] as &[_]\n+        ),\n+        tester.as_slices()\n+    );\n+\n+    tester.clear();\n+    for i in b'L'..b'Q' {\n+        tester.push_back(i as char);\n+    }\n+\n+    for i in b'A'..b'L' {\n+        tester.push_front(i as char);\n+    }\n+\n+    // LMNOPKJIHGFEDCBA\n+    let expected_start = 0;\n+    tester.make_contiguous();\n+    assert_eq!(tester.head, expected_start);\n+    assert_eq!(\n+        (\n+            &['K', 'J', 'I', 'H', 'G', 'F', 'E', 'D', 'C', 'B', 'A', 'L', 'M', 'N', 'O', 'P']\n+                as &[_],\n+            &[] as &[_]\n+        ),\n+        tester.as_slices()\n+    );\n }\n \n #[test]"}]}