{"sha": "5b0a0d8254fa9c4d799d501b2a5b280170d4fd95", "node_id": "C_kwDOAAsO6NoAKDViMGEwZDgyNTRmYTljNGQ3OTlkNTAxYjJhNWIyODAxNzBkNGZkOTU", "commit": {"author": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2023-03-16T10:19:30Z"}, "committer": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2023-04-03T08:23:11Z"}, "message": "add support for ignore-gdb-version", "tree": {"sha": "c541c7a083c7b8070bc522ab56d8be541c133269", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c541c7a083c7b8070bc522ab56d8be541c133269"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5b0a0d8254fa9c4d799d501b2a5b280170d4fd95", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMycKYjxLY0eb13b7zXazX3c0dp4FAmQqjO8ACgkQzXazX3c0\ndp6TSw/+KDDgbNAI91NF8H+g4/d9+Ff8mWDaHGoJzvS0jvIF5n9U8AHvcCfelgva\nE7ZXKubnCMEGpq/JhEF8Iw6y/ie+u42KwKkap5RMkYjuBovCxZbA2n8V2VISczSy\nYAmdFHIHzpOUo92+0HEQFc6LjqwqYteCK3EmyselF4D7gHu9cZTMU/KcCdoX0KrP\n6Q6sD8pid700Hmlw0SOQGvI3UZjX1QJSMCQkCCzp5DBExgwXnEJryXs9Bf4LuA93\n9tja5Qjqj+Q09ZzbKnP2tA2Ve8C0Rtxuc19vOEFx7/Zxg4+tKmx72ZRWFdCOXeNE\nmCIfaEYJd+O6iTQ651hZEgib5V3Wm7hGc0PDb1ofZH9k8FU1I06XA7cc/O8IVwAa\nv5B1wBNJfGgMy/PW2u5HfKIGg5mIhGx71gJvvEUTITqsUcPZeT18eZuJrnCh0ZiN\nUTGVtq3LRHtymM01VUJH1xH8PSU/iR+rH9I7BPpzTle04wNiIlRAceRsTW8KSeLl\nTP+AWsvGMTd7i4DcWcKgR2yJ6WfHAPjzZQRJwhGa+BUKTBXSLhpDcNY0ovdLUK3u\nKupqaHmKGHpP7XONZxIzSLVaCy1Vk90LMNOFyVcoDCsEewXqad8LG286R5+49Hbm\nEwn1jOS1I2aoP9YTevL5fQvHgMc1Xpuk3sZ7uxKcq9XY0Y9zCTA=\n=/A9i\n-----END PGP SIGNATURE-----", "payload": "tree c541c7a083c7b8070bc522ab56d8be541c133269\nparent 8f8873e386e6bab091b50f24d746b3ed0487524f\nauthor Pietro Albini <pietro.albini@ferrous-systems.com> 1678961970 +0100\ncommitter Pietro Albini <pietro.albini@ferrous-systems.com> 1680510191 +0200\n\nadd support for ignore-gdb-version\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5b0a0d8254fa9c4d799d501b2a5b280170d4fd95", "html_url": "https://github.com/rust-lang/rust/commit/5b0a0d8254fa9c4d799d501b2a5b280170d4fd95", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5b0a0d8254fa9c4d799d501b2a5b280170d4fd95/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8f8873e386e6bab091b50f24d746b3ed0487524f", "url": "https://api.github.com/repos/rust-lang/rust/commits/8f8873e386e6bab091b50f24d746b3ed0487524f", "html_url": "https://github.com/rust-lang/rust/commit/8f8873e386e6bab091b50f24d746b3ed0487524f"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "da4af98ce91eb21a8fffcb1c30d532332caf6d29", "filename": "src/tools/compiletest/src/header/cfg.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5b0a0d8254fa9c4d799d501b2a5b280170d4fd95/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader%2Fcfg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b0a0d8254fa9c4d799d501b2a5b280170d4fd95/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader%2Fcfg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader%2Fcfg.rs?ref=5b0a0d8254fa9c4d799d501b2a5b280170d4fd95", "patch": "@@ -187,6 +187,12 @@ pub(super) fn parse_cfg_name_directive<'a>(\n         if name == \"llvm-version\" {\n             outcome = MatchOutcome::External;\n         }\n+\n+        // Don't error out for ignore-llvm-version, that has a custom syntax and is handled\n+        // elsewhere.\n+        if name == \"gdb-version\" {\n+            outcome = MatchOutcome::External;\n+        }\n     }\n \n     ParsedNameDirective {"}]}