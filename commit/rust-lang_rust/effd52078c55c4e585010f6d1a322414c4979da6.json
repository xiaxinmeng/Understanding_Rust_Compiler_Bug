{"sha": "effd52078c55c4e585010f6d1a322414c4979da6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVmZmQ1MjA3OGM1NWM0ZTU4NTAxMGY2ZDFhMzIyNDE0YzQ5NzlkYTY=", "commit": {"author": {"name": "Dylan MacKenzie", "email": "ecstaticmorse@gmail.com", "date": "2020-01-21T02:36:54Z"}, "committer": {"name": "Dylan MacKenzie", "email": "ecstaticmorse@gmail.com", "date": "2020-02-09T18:33:06Z"}, "message": "Print `after` effect in default graphviz formatter\n\nNow the line for each statement will show the diff resulting from the\ncombination of `before_statement_effect` and `statement_effect`. It's\nstill possible to observe each in isolation via\n`borrowck_graphviz_format = \"two_phase\"`.", "tree": {"sha": "6a4ce450888f7341ceb319ce2b7b34e7298765ae", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6a4ce450888f7341ceb319ce2b7b34e7298765ae"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/effd52078c55c4e585010f6d1a322414c4979da6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/effd52078c55c4e585010f6d1a322414c4979da6", "html_url": "https://github.com/rust-lang/rust/commit/effd52078c55c4e585010f6d1a322414c4979da6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/effd52078c55c4e585010f6d1a322414c4979da6/comments", "author": {"login": "ecstatic-morse", "id": 29463364, "node_id": "MDQ6VXNlcjI5NDYzMzY0", "avatar_url": "https://avatars.githubusercontent.com/u/29463364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecstatic-morse", "html_url": "https://github.com/ecstatic-morse", "followers_url": "https://api.github.com/users/ecstatic-morse/followers", "following_url": "https://api.github.com/users/ecstatic-morse/following{/other_user}", "gists_url": "https://api.github.com/users/ecstatic-morse/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecstatic-morse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecstatic-morse/subscriptions", "organizations_url": "https://api.github.com/users/ecstatic-morse/orgs", "repos_url": "https://api.github.com/users/ecstatic-morse/repos", "events_url": "https://api.github.com/users/ecstatic-morse/events{/privacy}", "received_events_url": "https://api.github.com/users/ecstatic-morse/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ecstatic-morse", "id": 29463364, "node_id": "MDQ6VXNlcjI5NDYzMzY0", "avatar_url": "https://avatars.githubusercontent.com/u/29463364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecstatic-morse", "html_url": "https://github.com/ecstatic-morse", "followers_url": "https://api.github.com/users/ecstatic-morse/followers", "following_url": "https://api.github.com/users/ecstatic-morse/following{/other_user}", "gists_url": "https://api.github.com/users/ecstatic-morse/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecstatic-morse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecstatic-morse/subscriptions", "organizations_url": "https://api.github.com/users/ecstatic-morse/orgs", "repos_url": "https://api.github.com/users/ecstatic-morse/repos", "events_url": "https://api.github.com/users/ecstatic-morse/events{/privacy}", "received_events_url": "https://api.github.com/users/ecstatic-morse/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a29424a2265411dda7d7446516ac5fd7499e2b55", "url": "https://api.github.com/repos/rust-lang/rust/commits/a29424a2265411dda7d7446516ac5fd7499e2b55", "html_url": "https://github.com/rust-lang/rust/commit/a29424a2265411dda7d7446516ac5fd7499e2b55"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "2917807482cc855400951e8746023fc080ac6c56", "filename": "src/librustc_mir/dataflow/generic/graphviz.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/effd52078c55c4e585010f6d1a322414c4979da6/src%2Flibrustc_mir%2Fdataflow%2Fgeneric%2Fgraphviz.rs", "raw_url": "https://github.com/rust-lang/rust/raw/effd52078c55c4e585010f6d1a322414c4979da6/src%2Flibrustc_mir%2Fdataflow%2Fgeneric%2Fgraphviz.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fdataflow%2Fgeneric%2Fgraphviz.rs?ref=effd52078c55c4e585010f6d1a322414c4979da6", "patch": "@@ -418,7 +418,7 @@ where\n \n         self.prev_loc = location;\n         write!(w, r#\"<td {fmt} align=\"left\">\"#, fmt = fmt)?;\n-        results.seek_before(location);\n+        results.seek_after(location);\n         let curr_state = results.get();\n         write_diff(&mut w, results.analysis(), &self.prev_state, curr_state)?;\n         self.prev_state.overwrite(curr_state);\n@@ -445,7 +445,7 @@ where\n     A: Analysis<'tcx>,\n {\n     fn column_names(&self) -> &[&str] {\n-        &[\"ENTRY\", \" EXIT\"]\n+        &[\"BEFORE\", \" AFTER\"]\n     }\n \n     fn write_state_for_location(\n@@ -465,7 +465,7 @@ where\n \n         self.prev_loc = location;\n \n-        // Entry\n+        // Before\n \n         write!(w, r#\"<td {fmt} align=\"left\">\"#, fmt = fmt)?;\n         results.seek_before(location);\n@@ -474,7 +474,7 @@ where\n         self.prev_state.overwrite(curr_state);\n         write!(w, \"</td>\")?;\n \n-        // Exit\n+        // After\n \n         write!(w, r#\"<td {fmt} align=\"left\">\"#, fmt = fmt)?;\n         results.seek_after(location);"}]}