{"sha": "65c1d3597309063635f2d846db6ebab334492eb2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY1YzFkMzU5NzMwOTA2MzYzNWYyZDg0NmRiNmViYWIzMzQ0OTJlYjI=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2021-06-14T14:44:50Z"}, "committer": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2021-06-14T14:44:50Z"}, "message": "Stabilize {std, core}::prelude::rust_*.", "tree": {"sha": "0534493e8c8ec8d42f4f6ecb8afbe818d4c8423f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0534493e8c8ec8d42f4f6ecb8afbe818d4c8423f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/65c1d3597309063635f2d846db6ebab334492eb2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/65c1d3597309063635f2d846db6ebab334492eb2", "html_url": "https://github.com/rust-lang/rust/commit/65c1d3597309063635f2d846db6ebab334492eb2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/65c1d3597309063635f2d846db6ebab334492eb2/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7510b0ca45d1204f8f0e9dc1bb2dc7d95b279c9a", "url": "https://api.github.com/repos/rust-lang/rust/commits/7510b0ca45d1204f8f0e9dc1bb2dc7d95b279c9a", "html_url": "https://github.com/rust-lang/rust/commit/7510b0ca45d1204f8f0e9dc1bb2dc7d95b279c9a"}], "stats": {"total": 49, "additions": 31, "deletions": 18}, "files": [{"sha": "ccd36a428e29679bc766ff5008bc8c8d6d32919e", "filename": "library/core/src/prelude/mod.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/65c1d3597309063635f2d846db6ebab334492eb2/library%2Fcore%2Fsrc%2Fprelude%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65c1d3597309063635f2d846db6ebab334492eb2/library%2Fcore%2Fsrc%2Fprelude%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fprelude%2Fmod.rs?ref=65c1d3597309063635f2d846db6ebab334492eb2", "patch": "@@ -11,37 +11,37 @@ pub mod v1;\n /// The 2015 version of the core prelude.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2015\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2015\", since = \"1.55.0\")]\n pub mod rust_2015 {\n-    #[unstable(feature = \"prelude_2015\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2015\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n }\n \n /// The 2018 version of the core prelude.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2018\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2018\", since = \"1.55.0\")]\n pub mod rust_2018 {\n-    #[unstable(feature = \"prelude_2018\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2018\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n }\n \n /// The 2021 version of the core prelude.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n pub mod rust_2021 {\n-    #[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n \n-    #[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use crate::iter::FromIterator;\n \n-    #[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use crate::convert::{TryFrom, TryInto};\n }"}, {"sha": "b4b94405dfc285ea6cf59c4e5b4700c3687fa3b0", "filename": "library/std/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/65c1d3597309063635f2d846db6ebab334492eb2/library%2Fstd%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65c1d3597309063635f2d846db6ebab334492eb2/library%2Fstd%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Flib.rs?ref=65c1d3597309063635f2d846db6ebab334492eb2", "patch": "@@ -302,7 +302,6 @@\n #![feature(panic_internals)]\n #![feature(panic_unwind)]\n #![feature(pin_static_ref)]\n-#![feature(prelude_2021)]\n #![feature(prelude_import)]\n #![feature(ptr_internals)]\n #![feature(raw)]"}, {"sha": "d4bf6aeefee57279bdf2375969bab5efd6949bdf", "filename": "library/std/src/prelude/mod.rs", "status": "modified", "additions": 23, "deletions": 9, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/65c1d3597309063635f2d846db6ebab334492eb2/library%2Fstd%2Fsrc%2Fprelude%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65c1d3597309063635f2d846db6ebab334492eb2/library%2Fstd%2Fsrc%2Fprelude%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fprelude%2Fmod.rs?ref=65c1d3597309063635f2d846db6ebab334492eb2", "patch": "@@ -25,8 +25,10 @@\n //!\n //! # Prelude contents\n //!\n-//! The current version of the prelude (version 1) lives in\n-//! [`std::prelude::v1`], and re-exports the following:\n+//! The first version of the prelude is used in Rust 2015 and Rust 2018,\n+//! and lives in [`std::prelude::v1`].\n+//! [`std::prelude::rust_2015`] and [`std::prelude::rust_2018`] re-export this prelude.\n+//! It re-exports the following:\n //!\n //! * <code>[std::marker]::{[Copy], [Send], [Sized], [Sync], [Unpin]}</code>,\n //!   marker traits that indicate fundamental properties of types.\n@@ -58,6 +60,12 @@\n //! * <code>[std::string]::{[String], [ToString]}</code>, heap-allocated strings.\n //! * <code>[std::vec]::[Vec]</code>, a growable, heap-allocated vector.\n //!\n+//! The prelude used in Rust 2021, [`std::prelude::rust_2021`], includes all of the above,\n+//! and in addition re-exports:\n+//!\n+//! * <code>[std::convert]::{[TryFrom], [TryInto]}</code>,\n+//! * <code>[std::iter]::[FromIterator]</code>.\n+//!\n //! [mem::drop]: crate::mem::drop\n //! [std::borrow]: crate::borrow\n //! [std::boxed]: crate::boxed\n@@ -71,10 +79,16 @@\n //! [std::ops]: crate::ops\n //! [std::option]: crate::option\n //! [`std::prelude::v1`]: v1\n+//! [`std::prelude::rust_2015`]: rust_2015\n+//! [`std::prelude::rust_2018`]: rust_2018\n+//! [`std::prelude::rust_2021`]: rust_2021\n //! [std::result]: crate::result\n //! [std::slice]: crate::slice\n //! [std::string]: crate::string\n //! [std::vec]: mod@crate::vec\n+//! [TryFrom]: crate::convert::TryFrom\n+//! [TryInto]: crate::convert::TryInto\n+//! [FromIterator]: crate::iter::FromIterator\n //! [`to_owned`]: crate::borrow::ToOwned::to_owned\n //! [book-closures]: ../../book/ch13-01-closures.html\n //! [book-dtor]: ../../book/ch15-03-drop.html\n@@ -88,33 +102,33 @@ pub mod v1;\n /// The 2015 version of the prelude of The Rust Standard Library.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2015\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2015\", since = \"1.55.0\")]\n pub mod rust_2015 {\n-    #[unstable(feature = \"prelude_2015\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2015\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n }\n \n /// The 2018 version of the prelude of The Rust Standard Library.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2018\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2018\", since = \"1.55.0\")]\n pub mod rust_2018 {\n-    #[unstable(feature = \"prelude_2018\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2018\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n }\n \n /// The 2021 version of the prelude of The Rust Standard Library.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n pub mod rust_2021 {\n-    #[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n \n-    #[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use core::prelude::rust_2021::*;\n }"}]}