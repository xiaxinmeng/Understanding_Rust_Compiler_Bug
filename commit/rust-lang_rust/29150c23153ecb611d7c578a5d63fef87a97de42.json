{"sha": "29150c23153ecb611d7c578a5d63fef87a97de42", "node_id": "C_kwDOAAsO6NoAKDI5MTUwYzIzMTUzZWNiNjExZDdjNTc4YTVkNjNmZWY4N2E5N2RlNDI", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2023-03-03T20:34:00Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2023-03-03T21:41:41Z"}, "message": "Disable pattern type mismatches again", "tree": {"sha": "0f59dc7466f8464b49d80b2e7d9b3d5d00df06d9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0f59dc7466f8464b49d80b2e7d9b3d5d00df06d9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/29150c23153ecb611d7c578a5d63fef87a97de42", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/29150c23153ecb611d7c578a5d63fef87a97de42", "html_url": "https://github.com/rust-lang/rust/commit/29150c23153ecb611d7c578a5d63fef87a97de42", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/29150c23153ecb611d7c578a5d63fef87a97de42/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c092a13bf9779239cc99fe4b473af20b8f95482", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c092a13bf9779239cc99fe4b473af20b8f95482", "html_url": "https://github.com/rust-lang/rust/commit/7c092a13bf9779239cc99fe4b473af20b8f95482"}], "stats": {"total": 13, "additions": 3, "deletions": 10}, "files": [{"sha": "20009698f9182876027730b141538f00fdf61490", "filename": "crates/hir/src/lib.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/29150c23153ecb611d7c578a5d63fef87a97de42/crates%2Fhir%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29150c23153ecb611d7c578a5d63fef87a97de42/crates%2Fhir%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir%2Fsrc%2Flib.rs?ref=29150c23153ecb611d7c578a5d63fef87a97de42", "patch": "@@ -1466,6 +1466,9 @@ impl DefWithBody {\n         for (pat_or_expr, mismatch) in infer.type_mismatches() {\n             let expr_or_pat = match pat_or_expr {\n                 ExprOrPatId::ExprId(expr) => source_map.expr_syntax(expr).map(Either::Left),\n+                // FIXME: Re-enable these once we have less false positives\n+                ExprOrPatId::PatId(_pat) => continue,\n+                #[allow(unreachable_patterns)]\n                 ExprOrPatId::PatId(pat) => source_map.pat_syntax(pat).map(Either::Right),\n             };\n             let expr_or_pat = match expr_or_pat {"}, {"sha": "5ded2f22309c4ff75be13109d28b333881ae4dde", "filename": "crates/ide-diagnostics/src/handlers/missing_match_arms.rs", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/29150c23153ecb611d7c578a5d63fef87a97de42/crates%2Fide-diagnostics%2Fsrc%2Fhandlers%2Fmissing_match_arms.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29150c23153ecb611d7c578a5d63fef87a97de42/crates%2Fide-diagnostics%2Fsrc%2Fhandlers%2Fmissing_match_arms.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-diagnostics%2Fsrc%2Fhandlers%2Fmissing_match_arms.rs?ref=29150c23153ecb611d7c578a5d63fef87a97de42", "patch": "@@ -273,20 +273,15 @@ enum Either2 { C, D }\n fn main() {\n     match Either::A {\n         Either2::C => (),\n-     // ^^^^^^^^^^  error: expected Either, found Either2\n         Either2::D => (),\n-     // ^^^^^^^^^^  error: expected Either, found Either2\n     }\n     match (true, false) {\n         (true, false, true) => (),\n-     // ^^^^^^^^^^^^^^^^^^^  error: expected (bool, bool), found (bool, bool, bool)\n         (true) => (),\n       // ^^^^  error: expected (bool, bool), found bool\n     }\n     match (true, false) { (true,) => {} }\n-                       // ^^^^^^^  error: expected (bool, bool), found (bool,)\n     match (0) { () => () }\n-             // ^^  error: expected i32, found ()\n     match Unresolved::Bar { Unresolved::Baz => () }\n }\n         \"#,\n@@ -300,9 +295,7 @@ fn main() {\n             r#\"\n fn main() {\n     match false { true | () => {} }\n-                      // ^^  error: expected bool, found ()\n     match (false,) { (true | (),) => {} }\n-                          // ^^  error: expected bool, found ()\n }\n \"#,\n         );\n@@ -1050,7 +1043,6 @@ fn main() {\n fn main() {\n     match (&false,) {\n         (true,) => {}\n-     // ^^^^^^^  error: expected (&bool,), found (bool,)\n     }\n     match (&false,) {\n         (&true,) => {}"}, {"sha": "b57a13e53e6b6ba7d7df87e87d33b8777efee387", "filename": "crates/ide-diagnostics/src/handlers/type_mismatch.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/29150c23153ecb611d7c578a5d63fef87a97de42/crates%2Fide-diagnostics%2Fsrc%2Fhandlers%2Ftype_mismatch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29150c23153ecb611d7c578a5d63fef87a97de42/crates%2Fide-diagnostics%2Fsrc%2Fhandlers%2Ftype_mismatch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-diagnostics%2Fsrc%2Fhandlers%2Ftype_mismatch.rs?ref=29150c23153ecb611d7c578a5d63fef87a97de42", "patch": "@@ -617,10 +617,8 @@ fn f() -> i32 {\n             r#\"\n fn f() {\n     let &() = &mut ();\n-      //^^^ error: expected &mut (), found &()\n     match &() {\n         &9 => ()\n-      //^^ error: expected &(), found &i32\n        //^ error: expected (), found i32\n     }\n }"}]}