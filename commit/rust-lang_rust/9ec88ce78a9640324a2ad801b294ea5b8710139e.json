{"sha": "9ec88ce78a9640324a2ad801b294ea5b8710139e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjllYzg4Y2U3OGE5NjQwMzI0YTJhZDgwMWIyOTRlYTViODcxMDEzOWU=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-05-21T18:06:08Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-05-21T18:06:08Z"}, "message": "Rollup merge of #85550 - pnkfelix:fix-max-rss-division-on-mac, r=Mark-Simulacrum\n\nfacepalm: operator precedence fail on my part.\n\nThis bug was only visible on mac. Also, print_step_rusage is a relatively new\ninternal feature, that is not heavily used, and has no tests. All of these\nfactors contributed to how this went uncaught this long. Thanks to Josh Triplett\nfor pointing it out!", "tree": {"sha": "c872c57739a4e692c16838ce6cab52d3af3ea418", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c872c57739a4e692c16838ce6cab52d3af3ea418"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9ec88ce78a9640324a2ad801b294ea5b8710139e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgp/aQCRBK7hj4Ov3rIwAAERcIACLQXjsRIbU9QIlAn01bmqMr\nu/VN9OE20R6DJv8Tu8/2p6cZgJyHdg9SsGdVxl+WpvnaupMhO3IC0EmDGpcfNwEm\nEzjm7dxc/gH2JLIS3wVSDPvqhp9pB2xSrI4XgAZPE1pQ9X+UY9Kn3VAc71aZbeVt\nwxXQ4lv1Dx8UjzMZJc5+cVwD3aHqAEYRAfF4OxKHutq5FJGfv4I0Er1ls2HiHQlp\nX1OYGKX2DWHe4HlmpA0gqzaLuGK0UFQYFlRre6ttyhgHG55GyRDHlri4F27GoNmC\nwBfgkfGQ8YhsoCuO8+0krfhl/l9IdsfAKa2Is23lomfVchlzb0dTIb5Cd0I0wOw=\n=0iDe\n-----END PGP SIGNATURE-----\n", "payload": "tree c872c57739a4e692c16838ce6cab52d3af3ea418\nparent 3f0bc5c23ba537be1f88eab5520711b3f400efcc\nparent b3218d3d5d4aeed5f08bf761bbeabdbadb922f02\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1621620368 +0200\ncommitter GitHub <noreply@github.com> 1621620368 +0200\n\nRollup merge of #85550 - pnkfelix:fix-max-rss-division-on-mac, r=Mark-Simulacrum\n\nfacepalm: operator precedence fail on my part.\n\nThis bug was only visible on mac. Also, print_step_rusage is a relatively new\ninternal feature, that is not heavily used, and has no tests. All of these\nfactors contributed to how this went uncaught this long. Thanks to Josh Triplett\nfor pointing it out!\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9ec88ce78a9640324a2ad801b294ea5b8710139e", "html_url": "https://github.com/rust-lang/rust/commit/9ec88ce78a9640324a2ad801b294ea5b8710139e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9ec88ce78a9640324a2ad801b294ea5b8710139e/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3f0bc5c23ba537be1f88eab5520711b3f400efcc", "url": "https://api.github.com/repos/rust-lang/rust/commits/3f0bc5c23ba537be1f88eab5520711b3f400efcc", "html_url": "https://github.com/rust-lang/rust/commit/3f0bc5c23ba537be1f88eab5520711b3f400efcc"}, {"sha": "b3218d3d5d4aeed5f08bf761bbeabdbadb922f02", "url": "https://api.github.com/repos/rust-lang/rust/commits/b3218d3d5d4aeed5f08bf761bbeabdbadb922f02", "html_url": "https://github.com/rust-lang/rust/commit/b3218d3d5d4aeed5f08bf761bbeabdbadb922f02"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "4b98abfb308bf9921f2b436f7a50ffc8811b1b84", "filename": "src/bootstrap/bin/rustc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9ec88ce78a9640324a2ad801b294ea5b8710139e/src%2Fbootstrap%2Fbin%2Frustc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ec88ce78a9640324a2ad801b294ea5b8710139e/src%2Fbootstrap%2Fbin%2Frustc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbin%2Frustc.rs?ref=9ec88ce78a9640324a2ad801b294ea5b8710139e", "patch": "@@ -305,7 +305,7 @@ fn format_rusage_data(_child: Child) -> Option<String> {\n     };\n     // Mac OS X reports the maxrss in bytes, not kb.\n     let divisor = if env::consts::OS == \"macos\" { 1024 } else { 1 };\n-    let maxrss = rusage.ru_maxrss + (divisor - 1) / divisor;\n+    let maxrss = (rusage.ru_maxrss + (divisor - 1)) / divisor;\n \n     let mut init_str = format!(\n         \"user: {USER_SEC}.{USER_USEC:03} \\"}]}