{"sha": "5f52669296bceac4907608a6ac3bfba41de7dab9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVmNTI2NjkyOTZiY2VhYzQ5MDc2MDhhNmFjM2JmYmE0MWRlN2RhYjk=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2013-03-26T13:41:27Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2013-03-26T18:12:13Z"}, "message": "Fix #4855: handle bot in regionck", "tree": {"sha": "32d8f930bf170d632e9f9dfa1bd703acf0cc786b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/32d8f930bf170d632e9f9dfa1bd703acf0cc786b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5f52669296bceac4907608a6ac3bfba41de7dab9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5f52669296bceac4907608a6ac3bfba41de7dab9", "html_url": "https://github.com/rust-lang/rust/commit/5f52669296bceac4907608a6ac3bfba41de7dab9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5f52669296bceac4907608a6ac3bfba41de7dab9/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7f5d7e1c2e7464916694e55ba4f31bf5b8f9a4f9", "url": "https://api.github.com/repos/rust-lang/rust/commits/7f5d7e1c2e7464916694e55ba4f31bf5b8f9a4f9", "html_url": "https://github.com/rust-lang/rust/commit/7f5d7e1c2e7464916694e55ba4f31bf5b8f9a4f9"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "d6a7e6103b14f224c8a8760d5ff62cd4a3e25538", "filename": "src/librustc/middle/typeck/check/regionck.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5f52669296bceac4907608a6ac3bfba41de7dab9/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fregionck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5f52669296bceac4907608a6ac3bfba41de7dab9/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fregionck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fregionck.rs?ref=5f52669296bceac4907608a6ac3bfba41de7dab9", "patch": "@@ -615,7 +615,7 @@ pub mod guarantor {\n         // expressions, both of which always yield a region variable, so\n         // mk_subr should never fail.\n         let rptr_ty = rcx.resolve_node_type(id);\n-        if !ty::type_is_error(rptr_ty) {\n+        if !ty::type_is_error(rptr_ty) && !ty::type_is_bot(rptr_ty) {\n             let tcx = rcx.fcx.ccx.tcx;\n             debug!(\"rptr_ty=%s\", ty_to_str(tcx, rptr_ty));\n             let r = ty::ty_region(tcx, span, rptr_ty);"}]}