{"sha": "9e4c3f41c105a93178a6962bfc2e416f520134a9", "node_id": "C_kwDOAAsO6NoAKDllNGMzZjQxYzEwNWE5MzE3OGE2OTYyYmZjMmU0MTZmNTIwMTM0YTk", "commit": {"author": {"name": "Oli Scherer", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2022-11-17T13:06:37Z"}, "committer": {"name": "Oli Scherer", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2022-11-21T20:34:28Z"}, "message": "Use iterators instead of slices at more sites", "tree": {"sha": "d720c5574b8d6212b64969016c3dc0eb9dc2a763", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d720c5574b8d6212b64969016c3dc0eb9dc2a763"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9e4c3f41c105a93178a6962bfc2e416f520134a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9e4c3f41c105a93178a6962bfc2e416f520134a9", "html_url": "https://github.com/rust-lang/rust/commit/9e4c3f41c105a93178a6962bfc2e416f520134a9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9e4c3f41c105a93178a6962bfc2e416f520134a9/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ec8d01fdccbe68d9a2ad6f2c2fbe000a9a6da530", "url": "https://api.github.com/repos/rust-lang/rust/commits/ec8d01fdccbe68d9a2ad6f2c2fbe000a9a6da530", "html_url": "https://github.com/rust-lang/rust/commit/ec8d01fdccbe68d9a2ad6f2c2fbe000a9a6da530"}], "stats": {"total": 19, "additions": 10, "deletions": 9}, "files": [{"sha": "558c9789cf09998941ac86f6f1f0e17eefb1553c", "filename": "compiler/rustc_hir_analysis/src/coherence/builtin.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Fbuiltin.rs?ref=9e4c3f41c105a93178a6962bfc2e416f520134a9", "patch": "@@ -316,7 +316,7 @@ fn visit_implementation_of_dispatch_from_dyn<'tcx>(tcx: TyCtxt<'tcx>, impl_did:\n                             dispatch_from_dyn_trait,\n                             0,\n                             field.ty(tcx, substs_a),\n-                            &[field.ty(tcx, substs_b).into()],\n+                            [field.ty(tcx, substs_b).into()],\n                         )\n                     }),\n                 );\n@@ -558,7 +558,7 @@ pub fn coerce_unsized_info<'tcx>(tcx: TyCtxt<'tcx>, impl_did: DefId) -> CoerceUn\n     // Register an obligation for `A: Trait<B>`.\n     let cause = traits::ObligationCause::misc(span, impl_hir_id);\n     let predicate =\n-        predicate_for_trait_def(tcx, param_env, cause, trait_def_id, 0, source, &[target.into()]);\n+        predicate_for_trait_def(tcx, param_env, cause, trait_def_id, 0, source, [target.into()]);\n     let errors = traits::fully_solve_obligation(&infcx, predicate);\n     if !errors.is_empty() {\n         infcx.err_ctxt().report_fulfillment_errors(&errors, None);"}, {"sha": "30cc7de07ac715cc65e9af7e2737082cce174433", "filename": "compiler/rustc_hir_typeck/src/coercion.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_hir_typeck%2Fsrc%2Fcoercion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_hir_typeck%2Fsrc%2Fcoercion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fcoercion.rs?ref=9e4c3f41c105a93178a6962bfc2e416f520134a9", "patch": "@@ -631,7 +631,7 @@ impl<'f, 'tcx> Coerce<'f, 'tcx> {\n             coerce_unsized_did,\n             0,\n             coerce_source,\n-            &[coerce_target.into()]\n+            [coerce_target.into()]\n         )];\n \n         let mut has_unsized_tuple_coercion = false;"}, {"sha": "1ed954bdd46aa844b487c62a875fd3fdce6dd907", "filename": "compiler/rustc_mir_build/src/thir/pattern/const_to_pat.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fconst_to_pat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fconst_to_pat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fconst_to_pat.rs?ref=9e4c3f41c105a93178a6962bfc2e416f520134a9", "patch": "@@ -241,7 +241,7 @@ impl<'tcx> ConstToPat<'tcx> {\n             partial_eq_trait_id,\n             0,\n             ty,\n-            &[any_ty],\n+            [any_ty],\n         );\n         // FIXME: should this call a `predicate_must_hold` variant instead?\n "}, {"sha": "975ff31a60788fd8eea66b85c5eff1dfc2b76c6f", "filename": "compiler/rustc_trait_selection/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_trait_selection%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_trait_selection%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Flib.rs?ref=9e4c3f41c105a93178a6962bfc2e416f520134a9", "patch": "@@ -11,6 +11,7 @@\n //! This API is completely unstable and subject to change.\n \n #![doc(html_root_url = \"https://doc.rust-lang.org/nightly/nightly-rustc/\")]\n+#![feature(associated_type_bounds)]\n #![feature(box_patterns)]\n #![feature(control_flow_enum)]\n #![feature(drain_filter)]"}, {"sha": "32683eb9822dd3bd1fae99d17c02e9266fe791e0", "filename": "compiler/rustc_trait_selection/src/traits/select/confirmation.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fconfirmation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fconfirmation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fconfirmation.rs?ref=9e4c3f41c105a93178a6962bfc2e416f520134a9", "patch": "@@ -1108,7 +1108,7 @@ impl<'cx, 'tcx> SelectionContext<'cx, 'tcx> {\n                     obligation.predicate.def_id(),\n                     obligation.recursion_depth + 1,\n                     source_tail,\n-                    &[target_tail.into()],\n+                    [target_tail.into()],\n                 ));\n             }\n \n@@ -1139,7 +1139,7 @@ impl<'cx, 'tcx> SelectionContext<'cx, 'tcx> {\n                         obligation.predicate.def_id(),\n                         obligation.recursion_depth + 1,\n                         a_last,\n-                        &[b_last.into()],\n+                        [b_last.into()],\n                     )\n                 }));\n             }"}, {"sha": "06e507eb72912cdf3758a653141f31d2f5498941", "filename": "compiler/rustc_trait_selection/src/traits/select/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fmod.rs?ref=9e4c3f41c105a93178a6962bfc2e416f520134a9", "patch": "@@ -2101,7 +2101,7 @@ impl<'cx, 'tcx> SelectionContext<'cx, 'tcx> {\n                     trait_def_id,\n                     recursion_depth,\n                     normalized_ty,\n-                    &[],\n+                    [],\n                 );\n                 obligations.push(placeholder_obligation);\n                 obligations"}, {"sha": "87c534bad96a907ea8b6b30b98051975b8bf91e8", "filename": "compiler/rustc_trait_selection/src/traits/util.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e4c3f41c105a93178a6962bfc2e416f520134a9/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Futil.rs?ref=9e4c3f41c105a93178a6962bfc2e416f520134a9", "patch": "@@ -239,9 +239,9 @@ pub fn predicate_for_trait_def<'tcx>(\n     trait_def_id: DefId,\n     recursion_depth: usize,\n     self_ty: Ty<'tcx>,\n-    params: &[GenericArg<'tcx>],\n+    params: impl IntoIterator<Item = GenericArg<'tcx>, IntoIter: ExactSizeIterator>,\n ) -> PredicateObligation<'tcx> {\n-    let trait_ref = tcx.mk_trait_ref(trait_def_id, self_ty, params.iter().copied());\n+    let trait_ref = tcx.mk_trait_ref(trait_def_id, self_ty, params);\n     predicate_for_trait_ref(tcx, cause, param_env, trait_ref, recursion_depth)\n }\n "}]}