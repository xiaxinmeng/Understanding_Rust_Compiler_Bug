{"sha": "a50d9e7af641d52e066b111014993b042b0be5a7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE1MGQ5ZTdhZjY0MWQ1MmUwNjZiMTExMDE0OTkzYjA0MmIwYmU1YTc=", "commit": {"author": {"name": "Eduardo Broto", "email": "ebroto@tutanota.com", "date": "2020-10-28T21:32:13Z"}, "committer": {"name": "Eduardo Broto", "email": "ebroto@tutanota.com", "date": "2020-10-28T21:34:45Z"}, "message": "Deprecate temporary_cstr_as_ptr", "tree": {"sha": "1511e22900799fd1733355566a574f0182850045", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1511e22900799fd1733355566a574f0182850045"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a50d9e7af641d52e066b111014993b042b0be5a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a50d9e7af641d52e066b111014993b042b0be5a7", "html_url": "https://github.com/rust-lang/rust/commit/a50d9e7af641d52e066b111014993b042b0be5a7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a50d9e7af641d52e066b111014993b042b0be5a7/comments", "author": {"login": "ebroto", "id": 816908, "node_id": "MDQ6VXNlcjgxNjkwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/816908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebroto", "html_url": "https://github.com/ebroto", "followers_url": "https://api.github.com/users/ebroto/followers", "following_url": "https://api.github.com/users/ebroto/following{/other_user}", "gists_url": "https://api.github.com/users/ebroto/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebroto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebroto/subscriptions", "organizations_url": "https://api.github.com/users/ebroto/orgs", "repos_url": "https://api.github.com/users/ebroto/repos", "events_url": "https://api.github.com/users/ebroto/events{/privacy}", "received_events_url": "https://api.github.com/users/ebroto/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ebroto", "id": 816908, "node_id": "MDQ6VXNlcjgxNjkwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/816908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebroto", "html_url": "https://github.com/ebroto", "followers_url": "https://api.github.com/users/ebroto/followers", "following_url": "https://api.github.com/users/ebroto/following{/other_user}", "gists_url": "https://api.github.com/users/ebroto/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebroto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebroto/subscriptions", "organizations_url": "https://api.github.com/users/ebroto/orgs", "repos_url": "https://api.github.com/users/ebroto/repos", "events_url": "https://api.github.com/users/ebroto/events{/privacy}", "received_events_url": "https://api.github.com/users/ebroto/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c42a22d2dcae233b43e1d8b8a2f90dd580ca2136", "url": "https://api.github.com/repos/rust-lang/rust/commits/c42a22d2dcae233b43e1d8b8a2f90dd580ca2136", "html_url": "https://github.com/rust-lang/rust/commit/c42a22d2dcae233b43e1d8b8a2f90dd580ca2136"}], "stats": {"total": 23, "additions": 22, "deletions": 1}, "files": [{"sha": "aa47930b520dbbf6f18aa3fe5d29a2f97d002256", "filename": "CHANGELOG.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a50d9e7af641d52e066b111014993b042b0be5a7/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/a50d9e7af641d52e066b111014993b042b0be5a7/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=a50d9e7af641d52e066b111014993b042b0be5a7", "patch": "@@ -1962,6 +1962,7 @@ Released 2018-09-13\n [`suspicious_unary_op_formatting`]: https://rust-lang.github.io/rust-clippy/master/index.html#suspicious_unary_op_formatting\n [`tabs_in_doc_comments`]: https://rust-lang.github.io/rust-clippy/master/index.html#tabs_in_doc_comments\n [`temporary_assignment`]: https://rust-lang.github.io/rust-clippy/master/index.html#temporary_assignment\n+[`temporary_cstring_as_ptr`]: https://rust-lang.github.io/rust-clippy/master/index.html#temporary_cstring_as_ptr\n [`to_digit_is_some`]: https://rust-lang.github.io/rust-clippy/master/index.html#to_digit_is_some\n [`to_string_in_display`]: https://rust-lang.github.io/rust-clippy/master/index.html#to_string_in_display\n [`todo`]: https://rust-lang.github.io/rust-clippy/master/index.html#todo"}, {"sha": "461c6e31d3eb40b2ad099246f598caf7f69714b9", "filename": "clippy_lints/src/deprecated_lints.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a50d9e7af641d52e066b111014993b042b0be5a7/clippy_lints%2Fsrc%2Fdeprecated_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a50d9e7af641d52e066b111014993b042b0be5a7/clippy_lints%2Fsrc%2Fdeprecated_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdeprecated_lints.rs?ref=a50d9e7af641d52e066b111014993b042b0be5a7", "patch": "@@ -172,3 +172,12 @@ declare_deprecated_lint! {\n     pub DROP_BOUNDS,\n     \"this lint has been uplifted to rustc and is now called `drop_bounds`\"\n }\n+\n+declare_deprecated_lint! {\n+    /// **What it does:** Nothing. This lint has been deprecated.\n+    ///\n+    /// **Deprecation reason:** This lint has been uplifted to rustc and is now called\n+    /// `temporary_cstring_as_ptr`.\n+    pub TEMPORARY_CSTRING_AS_PTR,\n+    \"this lint has been uplifted to rustc and is now called `temporary_cstring_as_ptr`\"\n+}"}, {"sha": "2d37496984609b213df72b51794fcb1ca0be4cba", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a50d9e7af641d52e066b111014993b042b0be5a7/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a50d9e7af641d52e066b111014993b042b0be5a7/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=a50d9e7af641d52e066b111014993b042b0be5a7", "patch": "@@ -488,6 +488,10 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         \"clippy::drop_bounds\",\n         \"this lint has been uplifted to rustc and is now called `drop_bounds`\",\n     );\n+    store.register_removed(\n+        \"clippy::temporary_cstring_as_ptr\",\n+        \"this lint has been uplifted to rustc and is now called `temporary_cstring_as_ptr`\",\n+    );\n     // end deprecated lints, do not remove this comment, it\u2019s used in `update_lints`\n \n     // begin register lints, do not remove this comment, it\u2019s used in `update_lints`"}, {"sha": "56755596c97fc646faee8d75531021c79660b22d", "filename": "tests/ui/deprecated.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a50d9e7af641d52e066b111014993b042b0be5a7/tests%2Fui%2Fdeprecated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a50d9e7af641d52e066b111014993b042b0be5a7/tests%2Fui%2Fdeprecated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdeprecated.rs?ref=a50d9e7af641d52e066b111014993b042b0be5a7", "patch": "@@ -9,5 +9,6 @@\n #[warn(clippy::unused_label)]\n #[warn(clippy::regex_macro)]\n #[warn(clippy::drop_bounds)]\n+#[warn(clippy::temporary_cstring_as_ptr)]\n \n fn main() {}"}, {"sha": "37b726fc00f1c414e76421db7b6bb12f8918262d", "filename": "tests/ui/deprecated.stderr", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a50d9e7af641d52e066b111014993b042b0be5a7/tests%2Fui%2Fdeprecated.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a50d9e7af641d52e066b111014993b042b0be5a7/tests%2Fui%2Fdeprecated.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdeprecated.stderr?ref=a50d9e7af641d52e066b111014993b042b0be5a7", "patch": "@@ -66,11 +66,17 @@ error: lint `clippy::drop_bounds` has been removed: `this lint has been uplifted\n LL | #[warn(clippy::drop_bounds)]\n    |        ^^^^^^^^^^^^^^^^^^^\n \n+error: lint `clippy::temporary_cstring_as_ptr` has been removed: `this lint has been uplifted to rustc and is now called `temporary_cstring_as_ptr``\n+  --> $DIR/deprecated.rs:12:8\n+   |\n+LL | #[warn(clippy::temporary_cstring_as_ptr)]\n+   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n error: lint `clippy::str_to_string` has been removed: `using `str::to_string` is common even today and specialization will likely happen soon`\n   --> $DIR/deprecated.rs:1:8\n    |\n LL | #[warn(clippy::str_to_string)]\n    |        ^^^^^^^^^^^^^^^^^^^^^\n \n-error: aborting due to 12 previous errors\n+error: aborting due to 13 previous errors\n "}]}