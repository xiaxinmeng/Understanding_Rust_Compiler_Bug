{"sha": "5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "node_id": "C_kwDOAAsO6NoAKDViMzMwMGRjMjljOGNjY2UzZTM0YWMzN2Q1Yjc5ZTVjYTFiNWU0YzE", "commit": {"author": {"name": "Samuel E. Moelius III", "email": "sam@moeli.us", "date": "2022-07-17T22:10:01Z"}, "committer": {"name": "Samuel E. Moelius III", "email": "sam@moeli.us", "date": "2022-07-18T02:17:58Z"}, "message": "Add `ui_cargo_toml_metadata` test", "tree": {"sha": "95c46b151f3daac4be4e80dfb6ebd594ae8b6616", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/95c46b151f3daac4be4e80dfb6ebd594ae8b6616"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "html_url": "https://github.com/rust-lang/rust/commit/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/comments", "author": {"login": "smoelius", "id": 35515885, "node_id": "MDQ6VXNlcjM1NTE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/35515885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smoelius", "html_url": "https://github.com/smoelius", "followers_url": "https://api.github.com/users/smoelius/followers", "following_url": "https://api.github.com/users/smoelius/following{/other_user}", "gists_url": "https://api.github.com/users/smoelius/gists{/gist_id}", "starred_url": "https://api.github.com/users/smoelius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smoelius/subscriptions", "organizations_url": "https://api.github.com/users/smoelius/orgs", "repos_url": "https://api.github.com/users/smoelius/repos", "events_url": "https://api.github.com/users/smoelius/events{/privacy}", "received_events_url": "https://api.github.com/users/smoelius/received_events", "type": "User", "site_admin": false}, "committer": {"login": "smoelius", "id": 35515885, "node_id": "MDQ6VXNlcjM1NTE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/35515885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smoelius", "html_url": "https://github.com/smoelius", "followers_url": "https://api.github.com/users/smoelius/followers", "following_url": "https://api.github.com/users/smoelius/following{/other_user}", "gists_url": "https://api.github.com/users/smoelius/gists{/gist_id}", "starred_url": "https://api.github.com/users/smoelius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smoelius/subscriptions", "organizations_url": "https://api.github.com/users/smoelius/orgs", "repos_url": "https://api.github.com/users/smoelius/repos", "events_url": "https://api.github.com/users/smoelius/events{/privacy}", "received_events_url": "https://api.github.com/users/smoelius/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4562dd0a8e45af4fc2a49951df07ce5d3f1108ec", "url": "https://api.github.com/repos/rust-lang/rust/commits/4562dd0a8e45af4fc2a49951df07ce5d3f1108ec", "html_url": "https://github.com/rust-lang/rust/commit/4562dd0a8e45af4fc2a49951df07ce5d3f1108ec"}], "stats": {"total": 124, "additions": 90, "deletions": 34}, "files": [{"sha": "69deaca0b4b8e9f5827dd99dad7b52948c0fb3ac", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -32,6 +32,7 @@ compiletest_rs = { version = \"0.8\", features = [\"tmp\"] }\n tester = \"0.9\"\n regex = \"1.5\"\n toml = \"0.5\"\n+walkdir = \"2.3\"\n # This is used by the `collect-metadata` alias.\n filetime = \"0.2\"\n "}, {"sha": "92ac1a2be56142e896c4ea0a9226055bbda56ea3", "filename": "tests/compile-test.rs", "status": "modified", "additions": 40, "deletions": 1, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fcompile-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fcompile-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-test.rs?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -433,7 +433,7 @@ fn rustfix_coverage_known_exceptions_accuracy() {\n         let rs_path = Path::new(\"tests/ui\").join(filename);\n         assert!(\n             rs_path.exists(),\n-            \"`{}` does not exists\",\n+            \"`{}` does not exist\",\n             rs_path.strip_prefix(env!(\"CARGO_MANIFEST_DIR\")).unwrap().display()\n         );\n         let fixed_path = rs_path.with_extension(\"fixed\");\n@@ -445,6 +445,45 @@ fn rustfix_coverage_known_exceptions_accuracy() {\n     }\n }\n \n+#[test]\n+fn ui_cargo_toml_metadata() {\n+    let ui_cargo_path = Path::new(\"tests/ui-cargo\");\n+    let cargo_common_metadata_path = ui_cargo_path.join(\"cargo_common_metadata\");\n+    let publish_exceptions =\n+        [\"fail_publish\", \"fail_publish_true\", \"pass_publish_empty\"].map(|path| cargo_common_metadata_path.join(path));\n+\n+    for entry in walkdir::WalkDir::new(ui_cargo_path) {\n+        let entry = entry.unwrap();\n+        let path = entry.path();\n+        if path.file_name() != Some(OsStr::new(\"Cargo.toml\")) {\n+            continue;\n+        }\n+\n+        let toml = fs::read_to_string(path).unwrap().parse::<toml::Value>().unwrap();\n+\n+        let package = toml.as_table().unwrap().get(\"package\").unwrap().as_table().unwrap();\n+\n+        let name = package.get(\"name\").unwrap().as_str().unwrap().replace('-', \"_\");\n+        assert!(\n+            path.parent()\n+                .unwrap()\n+                .components()\n+                .map(|component| component.as_os_str().to_string_lossy().replace('-', \"_\"))\n+                .any(|s| *s == name)\n+                || path.starts_with(&cargo_common_metadata_path),\n+            \"{:?} has incorrect package name\",\n+            path\n+        );\n+\n+        let publish = package.get(\"publish\").and_then(toml::Value::as_bool).unwrap_or(true);\n+        assert!(\n+            !publish || publish_exceptions.contains(&path.parent().unwrap().to_path_buf()),\n+            \"{:?} lacks `publish = false`\",\n+            path\n+        );\n+    }\n+}\n+\n /// Restores an env var on drop\n #[must_use]\n struct VarGuard {"}, {"sha": "bc8e428f8595b5b3e7c721681e803226f90308ef", "filename": "tests/ui-cargo/cargo_common_metadata/fail/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,5 +1,5 @@\n [package]\n-name = \"cargo_common_metadata\"\n+name = \"cargo_common_metadata_fail\"\n version = \"0.1.0\"\n publish = false\n "}, {"sha": "86953142befadcfd65ee86c8a807fb0db0a1f4b7", "filename": "tests/ui-cargo/cargo_common_metadata/fail/src/main.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail%2Fsrc%2Fmain.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail%2Fsrc%2Fmain.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail%2Fsrc%2Fmain.stderr?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,16 +1,16 @@\n-error: package `cargo_common_metadata` is missing `package.description` metadata\n+error: package `cargo_common_metadata_fail` is missing `package.description` metadata\n    |\n    = note: `-D clippy::cargo-common-metadata` implied by `-D warnings`\n \n-error: package `cargo_common_metadata` is missing `either package.license or package.license_file` metadata\n+error: package `cargo_common_metadata_fail` is missing `either package.license or package.license_file` metadata\n \n-error: package `cargo_common_metadata` is missing `package.repository` metadata\n+error: package `cargo_common_metadata_fail` is missing `package.repository` metadata\n \n-error: package `cargo_common_metadata` is missing `package.readme` metadata\n+error: package `cargo_common_metadata_fail` is missing `package.readme` metadata\n \n-error: package `cargo_common_metadata` is missing `package.keywords` metadata\n+error: package `cargo_common_metadata_fail` is missing `package.keywords` metadata\n \n-error: package `cargo_common_metadata` is missing `package.categories` metadata\n+error: package `cargo_common_metadata_fail` is missing `package.categories` metadata\n \n error: aborting due to 6 previous errors\n "}, {"sha": "5005b83f59d14e2370c37ee28c7cfc1fe9798702", "filename": "tests/ui-cargo/cargo_common_metadata/fail_publish/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,5 +1,5 @@\n [package]\n-name = \"cargo_common_metadata\"\n+name = \"cargo_common_metadata_fail_publish\"\n version = \"0.1.0\"\n publish = [\"some-registry-name\"]\n "}, {"sha": "ac1b5e8e90347d742fc6346f220b34cb1178217e", "filename": "tests/ui-cargo/cargo_common_metadata/fail_publish/src/main.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish%2Fsrc%2Fmain.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish%2Fsrc%2Fmain.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish%2Fsrc%2Fmain.stderr?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,16 +1,16 @@\n-error: package `cargo_common_metadata` is missing `package.description` metadata\n+error: package `cargo_common_metadata_fail_publish` is missing `package.description` metadata\n    |\n    = note: `-D clippy::cargo-common-metadata` implied by `-D warnings`\n \n-error: package `cargo_common_metadata` is missing `either package.license or package.license_file` metadata\n+error: package `cargo_common_metadata_fail_publish` is missing `either package.license or package.license_file` metadata\n \n-error: package `cargo_common_metadata` is missing `package.repository` metadata\n+error: package `cargo_common_metadata_fail_publish` is missing `package.repository` metadata\n \n-error: package `cargo_common_metadata` is missing `package.readme` metadata\n+error: package `cargo_common_metadata_fail_publish` is missing `package.readme` metadata\n \n-error: package `cargo_common_metadata` is missing `package.keywords` metadata\n+error: package `cargo_common_metadata_fail_publish` is missing `package.keywords` metadata\n \n-error: package `cargo_common_metadata` is missing `package.categories` metadata\n+error: package `cargo_common_metadata_fail_publish` is missing `package.categories` metadata\n \n error: aborting due to 6 previous errors\n "}, {"sha": "51858eecd0a6f87eac742028a8524ce099f677b1", "filename": "tests/ui-cargo/cargo_common_metadata/fail_publish_true/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish_true%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish_true%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish_true%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,5 +1,5 @@\n [package]\n-name = \"cargo_common_metadata\"\n+name = \"cargo_common_metadata_fail_publish_true\"\n version = \"0.1.0\"\n publish = true\n "}, {"sha": "be32c0dc418fa5637056dc1918ead33092df0213", "filename": "tests/ui-cargo/cargo_common_metadata/fail_publish_true/src/main.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish_true%2Fsrc%2Fmain.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish_true%2Fsrc%2Fmain.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_common_metadata%2Ffail_publish_true%2Fsrc%2Fmain.stderr?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,16 +1,16 @@\n-error: package `cargo_common_metadata` is missing `package.description` metadata\n+error: package `cargo_common_metadata_fail_publish_true` is missing `package.description` metadata\n    |\n    = note: `-D clippy::cargo-common-metadata` implied by `-D warnings`\n \n-error: package `cargo_common_metadata` is missing `either package.license or package.license_file` metadata\n+error: package `cargo_common_metadata_fail_publish_true` is missing `either package.license or package.license_file` metadata\n \n-error: package `cargo_common_metadata` is missing `package.repository` metadata\n+error: package `cargo_common_metadata_fail_publish_true` is missing `package.repository` metadata\n \n-error: package `cargo_common_metadata` is missing `package.readme` metadata\n+error: package `cargo_common_metadata_fail_publish_true` is missing `package.readme` metadata\n \n-error: package `cargo_common_metadata` is missing `package.keywords` metadata\n+error: package `cargo_common_metadata_fail_publish_true` is missing `package.keywords` metadata\n \n-error: package `cargo_common_metadata` is missing `package.categories` metadata\n+error: package `cargo_common_metadata_fail_publish_true` is missing `package.categories` metadata\n \n error: aborting due to 6 previous errors\n "}, {"sha": "9f6e51fb4d9f0e9627b691183b5bf69778f5459f", "filename": "tests/ui-cargo/cargo_common_metadata/pass/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Fpass%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Fpass%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_common_metadata%2Fpass%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,5 +1,5 @@\n [package]\n-name = \"cargo_common_metadata\"\n+name = \"cargo_common_metadata_pass\"\n version = \"0.1.0\"\n publish = false\n description = \"A test package for the cargo_common_metadata lint\""}, {"sha": "828efee3a8f8b7a7bae04d4f7072c8dc92556fac", "filename": "tests/ui-cargo/cargo_common_metadata/pass_publish_empty/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Fpass_publish_empty%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Fpass_publish_empty%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_common_metadata%2Fpass_publish_empty%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,5 +1,5 @@\n [package]\n-name = \"cargo_common_metadata\"\n+name = \"cargo_common_metadata_pass_publish_empty\"\n version = \"0.1.0\"\n publish = []\n "}, {"sha": "45a5bf7c57459b4f0dec0e6f0adcee5bd349d2e1", "filename": "tests/ui-cargo/cargo_common_metadata/pass_publish_false/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Fpass_publish_false%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_common_metadata%2Fpass_publish_false%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_common_metadata%2Fpass_publish_false%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,5 +1,5 @@\n [package]\n-name = \"cargo_common_metadata\"\n+name = \"cargo_common_metadata_pass_publish_false\"\n version = \"0.1.0\"\n publish = false\n "}, {"sha": "946d1b366f0995f97da653586ad5d65cec7c9a3b", "filename": "tests/ui-cargo/cargo_rust_version/fail_both_diff/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_both_diff%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_both_diff%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_both_diff%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -2,6 +2,7 @@\n name = \"fail-both-diff\"\n version = \"0.1.0\"\n rust-version = \"1.56\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "46b92a1050e3136d6871e498532a3637fbd05d72", "filename": "tests/ui-cargo/cargo_rust_version/fail_both_same/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_both_same%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_both_same%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_both_same%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -2,6 +2,7 @@\n name = \"fail-both-same\"\n version = \"0.1.0\"\n rust-version = \"1.57.0\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "189cc9f68dc4bcaf1ba0c132f57dd4ee707f2d30", "filename": "tests/ui-cargo/cargo_rust_version/fail_cargo/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_cargo%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_cargo%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_cargo%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -2,6 +2,7 @@\n name = \"fail-cargo\"\n version = \"0.1.0\"\n rust-version = \"1.56.1\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "bdb7f261d9e4ff29204ee204bbc6846672b3d791", "filename": "tests/ui-cargo/cargo_rust_version/fail_clippy/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_clippy%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_clippy%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_clippy%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,6 +1,7 @@\n [package]\n name = \"fail-clippy\"\n version = \"0.1.0\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "84448ea41f647346543f89548205bfdd4fe7bfb9", "filename": "tests/ui-cargo/cargo_rust_version/fail_file_attr/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_file_attr%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_file_attr%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_rust_version%2Ffail_file_attr%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -2,6 +2,7 @@\n name = \"fail-file-attr\"\n version = \"0.1.0\"\n rust-version = \"1.13\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "809c0e74875b9ff01d7edb7a73f4a67191f5148e", "filename": "tests/ui-cargo/cargo_rust_version/pass_both_same/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_both_same%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_both_same%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_both_same%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,7 +1,8 @@\n [package]\n-name = \"fail-both-same\"\n+name = \"pass-both-same\"\n version = \"0.1.0\"\n rust-version = \"1.13.0\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "32d404f842cf455edbf9a392e2e85dcbb3a5e2a0", "filename": "tests/ui-cargo/cargo_rust_version/pass_cargo/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_cargo%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_cargo%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_cargo%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,7 +1,8 @@\n [package]\n-name = \"fail-cargo\"\n+name = \"pass-cargo\"\n version = \"0.1.0\"\n rust-version = \"1.13.0\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "cc937d6e625478dbb6726a584256a262c6a09134", "filename": "tests/ui-cargo/cargo_rust_version/pass_clippy/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_clippy%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_clippy%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_clippy%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,6 +1,7 @@\n [package]\n-name = \"fail-clippy\"\n+name = \"pass-clippy\"\n version = \"0.1.0\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "8ef689880d4146298722d24c8677aecc95b6285a", "filename": "tests/ui-cargo/cargo_rust_version/pass_file_attr/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_file_attr%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_file_attr%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_rust_version%2Fpass_file_attr%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,7 +1,8 @@\n [package]\n-name = \"fail-file-attr\"\n+name = \"pass-file-attr\"\n version = \"0.1.0\"\n rust-version = \"1.59\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "e9f94594f702c1d247203bf0dab34b0032d4bc65", "filename": "tests/ui-cargo/cargo_rust_version/warn_both_diff/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Fwarn_both_diff%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fcargo_rust_version%2Fwarn_both_diff%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fcargo_rust_version%2Fwarn_both_diff%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -2,6 +2,7 @@\n name = \"warn-both-diff\"\n version = \"0.1.0\"\n rust-version = \"1.56.0\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "b3d36a9fb64574fe8b8e59d5ed42870c9a91dc19", "filename": "tests/ui-cargo/module_style/fail_mod/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmodule_style%2Ffail_mod%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmodule_style%2Ffail_mod%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fmodule_style%2Ffail_mod%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,7 +1,8 @@\n [package]\n-name = \"fail\"\n+name = \"fail-mod\"\n version = \"0.1.0\"\n edition = \"2018\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "3610d13c1f30d24c09af7ce556b6770477d13098", "filename": "tests/ui-cargo/module_style/fail_no_mod/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmodule_style%2Ffail_no_mod%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmodule_style%2Ffail_no_mod%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fmodule_style%2Ffail_no_mod%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,7 +1,8 @@\n [package]\n-name = \"fail\"\n+name = \"fail-no-mod\"\n version = \"0.1.0\"\n edition = \"2018\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "1c2991695bc0c66530356996a38a4bf23f0f0f6d", "filename": "tests/ui-cargo/module_style/pass_mod/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmodule_style%2Fpass_mod%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmodule_style%2Fpass_mod%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fmodule_style%2Fpass_mod%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,7 +1,8 @@\n [package]\n-name = \"fail\"\n+name = \"pass-mod\"\n version = \"0.1.0\"\n edition = \"2018\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "4180aaf5185cf4fb77a2d399245cc877e0139c15", "filename": "tests/ui-cargo/module_style/pass_no_mod/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmodule_style%2Fpass_no_mod%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmodule_style%2Fpass_no_mod%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fmodule_style%2Fpass_no_mod%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,7 +1,8 @@\n [package]\n-name = \"pass\"\n+name = \"pass-no-mod\"\n version = \"0.1.0\"\n edition = \"2018\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "7eb56cc4e9d97aae3bc56e7d28ee9acc70f17648", "filename": "tests/ui-cargo/multiple_config_files/no_warn/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmultiple_config_files%2Fno_warn%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmultiple_config_files%2Fno_warn%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fmultiple_config_files%2Fno_warn%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -2,6 +2,7 @@\n name = \"no_warn\"\n version = \"0.1.0\"\n edition = \"2021\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "b4847d070aab83899029e01fb0fded2129966cae", "filename": "tests/ui-cargo/multiple_config_files/warn/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmultiple_config_files%2Fwarn%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmultiple_config_files%2Fwarn%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fmultiple_config_files%2Fwarn%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -2,6 +2,7 @@\n name = \"warn\"\n version = \"0.1.0\"\n edition = \"2021\"\n+publish = false\n \n # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n "}, {"sha": "6c46571c5bf6e21b556727caf43248ae16370aa9", "filename": "tests/ui-cargo/multiple_crate_versions/pass/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmultiple_crate_versions%2Fpass%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1/tests%2Fui-cargo%2Fmultiple_crate_versions%2Fpass%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-cargo%2Fmultiple_crate_versions%2Fpass%2FCargo.toml?ref=5b3300dc29c8ccce3e34ac37d5b79e5ca1b5e4c1", "patch": "@@ -1,5 +1,5 @@\n [package]\n-name = \"cargo_common_metadata\"\n+name = \"multiple_crate_versions\"\n version = \"0.1.0\"\n publish = false\n "}]}