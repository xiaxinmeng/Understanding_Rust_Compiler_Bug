{"sha": "7165e610a21ff78a76775ad2941ef882814f4342", "node_id": "C_kwDOAAsO6NoAKDcxNjVlNjEwYTIxZmY3OGE3Njc3NWFkMjk0MWVmODgyODE0ZjQzNDI", "commit": {"author": {"name": "joboet", "email": "jonasboettiger@icloud.com", "date": "2023-01-27T09:09:38Z"}, "committer": {"name": "joboet", "email": "jonasboettiger@icloud.com", "date": "2023-01-27T09:09:38Z"}, "message": "std: fix `Debug` implementation on `LazyLock`", "tree": {"sha": "9b3c601ecb2e45df5cf01e4912ab187693dedded", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9b3c601ecb2e45df5cf01e4912ab187693dedded"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7165e610a21ff78a76775ad2941ef882814f4342", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEVuz3PwcqDyifNyYbcE4BSbAZSzwFAmPTlNIACgkQcE4BSbAZ\nSzx5Hw/9EcrnBzNASF8DyIOLZLGiRQlPnxawcywkI5/ZCkkOiTNh5hY0hKXw4TU7\nHH1ljtx7EJ4i1S3KIhIs5/tP213Ykm6VSv9E7rnv+h28t4uWP4NDE2VcrfCbdxhU\nAXqN8ICuEiP0JAhQhYfFnHKCPbZRyZyKNgHAQCsPi0+PIwT/Ypi172qsFkq0uTF4\n3jRDtgnCsvkr7vIMSSzpRfaNq4TOiMfW2fclrqFV00Grakpp8sfcY/cuN5xHDERk\nGaa5fJWLikngAi1DMA+0IAoYLXTQRQzPPviTmalQSs9teN+BJZ60Z/1+50KBlUDl\n4xTGOBVKOwoukt1/kiQlEV3zAaClVx0LiUi9EVbf+sL7FxAv7eD/ckq6MftSxPlk\nCAf4+qa1YkSrhjxyrZxNXQ1nK/AA0qPyXgON0ahu06IvRyrLU2Dk8Bn/IXLBq54q\nqaSQDAkgC+69WNTKtXjiUCt5+ID3Gf6Pg7CLXs7bSy4riQCyjLCEf7Li26G4lzbr\nO7IvvGRYz1mc3hi5eG/1/4g+b7ZX1iXXraTSrbMvoXzi0SPiW9KE1wVGrePV3wu8\n5XPmAbV5e9Xw7j+2QZjAWHLykcEX3aBnBmJ1vIR8Ofz6e4c0HOlLumoy7dH4v2qh\nliJc5wQyOKKjeuJv4hDX5avGxEslVmN6lTQVHWK13F3trIndaTc=\n=sj6A\n-----END PGP SIGNATURE-----", "payload": "tree 9b3c601ecb2e45df5cf01e4912ab187693dedded\nparent c1cced8d040a26f27490531e7dbffda54642982f\nauthor joboet <jonasboettiger@icloud.com> 1674810578 +0100\ncommitter joboet <jonasboettiger@icloud.com> 1674810578 +0100\n\nstd: fix `Debug` implementation on `LazyLock`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7165e610a21ff78a76775ad2941ef882814f4342", "html_url": "https://github.com/rust-lang/rust/commit/7165e610a21ff78a76775ad2941ef882814f4342", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7165e610a21ff78a76775ad2941ef882814f4342/comments", "author": {"login": "joboet", "id": 25721079, "node_id": "MDQ6VXNlcjI1NzIxMDc5", "avatar_url": "https://avatars.githubusercontent.com/u/25721079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joboet", "html_url": "https://github.com/joboet", "followers_url": "https://api.github.com/users/joboet/followers", "following_url": "https://api.github.com/users/joboet/following{/other_user}", "gists_url": "https://api.github.com/users/joboet/gists{/gist_id}", "starred_url": "https://api.github.com/users/joboet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joboet/subscriptions", "organizations_url": "https://api.github.com/users/joboet/orgs", "repos_url": "https://api.github.com/users/joboet/repos", "events_url": "https://api.github.com/users/joboet/events{/privacy}", "received_events_url": "https://api.github.com/users/joboet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "joboet", "id": 25721079, "node_id": "MDQ6VXNlcjI1NzIxMDc5", "avatar_url": "https://avatars.githubusercontent.com/u/25721079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joboet", "html_url": "https://github.com/joboet", "followers_url": "https://api.github.com/users/joboet/followers", "following_url": "https://api.github.com/users/joboet/following{/other_user}", "gists_url": "https://api.github.com/users/joboet/gists{/gist_id}", "starred_url": "https://api.github.com/users/joboet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joboet/subscriptions", "organizations_url": "https://api.github.com/users/joboet/orgs", "repos_url": "https://api.github.com/users/joboet/repos", "events_url": "https://api.github.com/users/joboet/events{/privacy}", "received_events_url": "https://api.github.com/users/joboet/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c1cced8d040a26f27490531e7dbffda54642982f", "url": "https://api.github.com/repos/rust-lang/rust/commits/c1cced8d040a26f27490531e7dbffda54642982f", "html_url": "https://github.com/rust-lang/rust/commit/c1cced8d040a26f27490531e7dbffda54642982f"}], "stats": {"total": 13, "additions": 5, "deletions": 8}, "files": [{"sha": "98da015423a5a803446003844a560ebc33c9b236", "filename": "library/std/src/sync/lazy_lock.rs", "status": "modified", "additions": 5, "deletions": 8, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/7165e610a21ff78a76775ad2941ef882814f4342/library%2Fstd%2Fsrc%2Fsync%2Flazy_lock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7165e610a21ff78a76775ad2941ef882814f4342/library%2Fstd%2Fsrc%2Fsync%2Flazy_lock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsync%2Flazy_lock.rs?ref=7165e610a21ff78a76775ad2941ef882814f4342", "patch": "@@ -1,7 +1,6 @@\n-use crate::mem::ManuallyDrop;\n-\n use crate::cell::UnsafeCell;\n use crate::fmt;\n+use crate::mem::ManuallyDrop;\n use crate::ops::Deref;\n use crate::panic::{RefUnwindSafe, UnwindSafe};\n use crate::sync::Once;\n@@ -151,12 +150,10 @@ impl<T: Default> Default for LazyLock<T> {\n #[unstable(feature = \"once_cell\", issue = \"74465\")]\n impl<T: fmt::Debug, F> fmt::Debug for LazyLock<T, F> {\n     fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n-        f.debug_tuple(\"LazyLock\")\n-            .field(match self.get() {\n-                Some(v) => v,\n-                None => &\"Uninit\",\n-            })\n-            .finish()\n+        match self.get() {\n+            Some(v) => f.debug_tuple(\"LazyLock\").field(v).finish(),\n+            None => f.write_str(\"LazyLock(Uninit)\"),\n+        }\n     }\n }\n "}]}