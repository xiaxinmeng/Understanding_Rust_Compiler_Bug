{"sha": "079ffa362fbec884c6397581c5f9898c4aba392e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA3OWZmYTM2MmZiZWM4ODRjNjM5NzU4MWM1Zjk4OThjNGFiYTM5MmU=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-06-14T04:46:17Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-06-14T04:48:16Z"}, "message": "Correctly parse commands for rusti\n\nCloses #7120", "tree": {"sha": "990a666369dd7974a0975fe819f9704a2ef021e0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/990a666369dd7974a0975fe819f9704a2ef021e0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/079ffa362fbec884c6397581c5f9898c4aba392e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/079ffa362fbec884c6397581c5f9898c4aba392e", "html_url": "https://github.com/rust-lang/rust/commit/079ffa362fbec884c6397581c5f9898c4aba392e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/079ffa362fbec884c6397581c5f9898c4aba392e/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a90fffe3671cb70c37d493efe8cebafab2a4705d", "url": "https://api.github.com/repos/rust-lang/rust/commits/a90fffe3671cb70c37d493efe8cebafab2a4705d", "html_url": "https://github.com/rust-lang/rust/commit/a90fffe3671cb70c37d493efe8cebafab2a4705d"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "7d221ce378890113e0091b8aa00c5f01d8802505", "filename": "src/librusti/rusti.rc", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/079ffa362fbec884c6397581c5f9898c4aba392e/src%2Flibrusti%2Frusti.rc", "raw_url": "https://github.com/rust-lang/rust/raw/079ffa362fbec884c6397581c5f9898c4aba392e/src%2Flibrusti%2Frusti.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrusti%2Frusti.rc?ref=079ffa362fbec884c6397581c5f9898c4aba392e", "patch": "@@ -424,7 +424,7 @@ pub fn run_line(repl: &mut Repl, in: @io::Reader, out: @io::Writer, line: ~str,\n         use std::iterator::IteratorUtil;\n \n         // drop the : and the \\n (one byte each)\n-        let full = line.slice(1, line.len() - 1);\n+        let full = line.slice(1, line.len());\n         let split: ~[~str] = full.word_iter().transform(|s| s.to_owned()).collect();\n         let len = split.len();\n \n@@ -649,4 +649,14 @@ mod tests {\n             f()\n         \");\n     }\n+\n+    #[test]\n+    fn exit_quits() {\n+        let mut r = repl();\n+        assert!(r.running);\n+        let result = run_line(&mut r, io::stdin(), io::stdout(),\n+                              ~\":exit\", false);\n+        assert!(result.is_none());\n+        assert!(!r.running);\n+    }\n }"}]}