{"sha": "cd3b032e11f71ecdb640d9270c63a2d2019eb315", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkM2IwMzJlMTFmNzFlY2RiNjQwZDkyNzBjNjNhMmQyMDE5ZWIzMTU=", "commit": {"author": {"name": "Oliver Schneider", "email": "git1984941651981@oli-obk.de", "date": "2015-05-04T12:32:48Z"}, "committer": {"name": "Oliver Schneider", "email": "git1984941651981@oli-obk.de", "date": "2015-05-04T12:32:48Z"}, "message": "prevent bogus whitespace error messages due to \\r", "tree": {"sha": "c7ad8dd052a1cfbd86994b8a692bd09307d68b50", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c7ad8dd052a1cfbd86994b8a692bd09307d68b50"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cd3b032e11f71ecdb640d9270c63a2d2019eb315", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cd3b032e11f71ecdb640d9270c63a2d2019eb315", "html_url": "https://github.com/rust-lang/rust/commit/cd3b032e11f71ecdb640d9270c63a2d2019eb315", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cd3b032e11f71ecdb640d9270c63a2d2019eb315/comments", "author": null, "committer": null, "parents": [{"sha": "1655583b02578150d2ef08e16bda0c8bfe8194aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/1655583b02578150d2ef08e16bda0c8bfe8194aa", "html_url": "https://github.com/rust-lang/rust/commit/1655583b02578150d2ef08e16bda0c8bfe8194aa"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "34a801dd36935de9ba631dcc8eca90474c9a952d", "filename": "src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/cd3b032e11f71ecdb640d9270c63a2d2019eb315/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd3b032e11f71ecdb640d9270c63a2d2019eb315/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=cd3b032e11f71ecdb640d9270c63a2d2019eb315", "patch": "@@ -127,7 +127,8 @@ fn fmt_lines(changes: &mut ChangeSet) {\n         let mut cur_line = 1;\n         let mut newline_count = 0;\n         for (c, b) in text.chars() {\n-            if c == '\\n' { // TOOD test for \\r too\n+            if c == '\\r' { continue; }\n+            if c == '\\n' {\n                 // Check for (and record) trailing whitespace.\n                 if let Some(lw) = last_wspace {\n                     trims.push((cur_line, lw, b));"}]}