{"sha": "af8c1e303f16b032655eaa15587adbdccaac7f3e", "node_id": "C_kwDOAAsO6NoAKGFmOGMxZTMwM2YxNmIwMzI2NTVlYWExNTU4N2FkYmRjY2FhYzdmM2U", "commit": {"author": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2022-06-13T13:17:19Z"}, "committer": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2022-06-13T13:17:19Z"}, "message": "fix error message for download-ci-llvm", "tree": {"sha": "8593a9ef78fc8975b1a6916d018f01dbfa0cc6c7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8593a9ef78fc8975b1a6916d018f01dbfa0cc6c7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/af8c1e303f16b032655eaa15587adbdccaac7f3e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMycKYjxLY0eb13b7zXazX3c0dp4FAmKnOOYACgkQzXazX3c0\ndp5BFA//eTut0hkKKX/XnmQM738ADRAoVsUAbAYyGCpapGsm69yOy4+I5A3xQoAU\nIx+K6G/MZJ3L4hqzIBM/ugD05f0ixXWYRnCSIoWO6G9BfoImB33O7uRdla+rmnhB\n1euvYcqJTIxTyuA3egPluYJImdx8x/QDkfbgu/9jqRLjDz163ubKmXhDUsGD8pv1\nr59wxinEae3c6182WP3GLQSndDCpB6QftyU2mfX2dIeTvoMyDeM//wbwRmZQ3S4w\nVDnj6whoTSLpt1klNHasf0KSm54w7827i9KLyicEk4MYb/R1tuS2wKTkbV9+y7VJ\nO134tmdHL37RHnfKfpL7osA6JU8ulmup6SRmq7kcnR9coYz3cIGT10hlUCsqGvNz\nn86t0Pv0rsdOZHJtfMRoafinIymbdV++tcWMLm3MzgfMeI9g+dwLvgMy75N31G+x\ncM9UWPfCW5yPgVqqfFm30zzLeUF248YIE7SOeQ5cIHKb/1h0r3b6d7TWZ9QRt03F\nfPfXW8amRWFTtz7r6swBsU8joFT6vSStNZe09J/WpVRYGjwa4i/BfbQArTCHCHt5\nGHomxCIMOVCPIxd016bpqyDRdH3tiDWSXEChZKUQyUSSclSG0DG4hrRHwDX/CpZ3\nTcUsFw1WmDMZStJ1+gpkyeES7rG2fZI/B2l4keItaLxjNDc6qjM=\n=3blR\n-----END PGP SIGNATURE-----", "payload": "tree 8593a9ef78fc8975b1a6916d018f01dbfa0cc6c7\nparent 083721a1a7365d3afe1521cd2661b2201aac0450\nauthor Pietro Albini <pietro.albini@ferrous-systems.com> 1655126239 +0200\ncommitter Pietro Albini <pietro.albini@ferrous-systems.com> 1655126239 +0200\n\nfix error message for download-ci-llvm\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/af8c1e303f16b032655eaa15587adbdccaac7f3e", "html_url": "https://github.com/rust-lang/rust/commit/af8c1e303f16b032655eaa15587adbdccaac7f3e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/af8c1e303f16b032655eaa15587adbdccaac7f3e/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "083721a1a7365d3afe1521cd2661b2201aac0450", "url": "https://api.github.com/repos/rust-lang/rust/commits/083721a1a7365d3afe1521cd2661b2201aac0450", "html_url": "https://github.com/rust-lang/rust/commit/083721a1a7365d3afe1521cd2661b2201aac0450"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "2b0b7f65b07ed78456d6a0f4e10962ac264fba96", "filename": "src/bootstrap/native.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/af8c1e303f16b032655eaa15587adbdccaac7f3e/src%2Fbootstrap%2Fnative.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af8c1e303f16b032655eaa15587adbdccaac7f3e/src%2Fbootstrap%2Fnative.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fnative.rs?ref=af8c1e303f16b032655eaa15587adbdccaac7f3e", "patch": "@@ -179,13 +179,13 @@ fn download_ci_llvm(builder: &Builder<'_>, llvm_sha: &str) {\n     let filename = format!(\"rust-dev-nightly-{}.tar.xz\", builder.build.build.triple);\n     let tarball = rustc_cache.join(&filename);\n     if !tarball.exists() {\n-        let help_on_error = \"error: failed to download llvm from ci\\n\n-\\nhelp: old builds get deleted after a certain time\n-\\nhelp: if trying to compile an old commit of rustc, disable `download-ci-llvm` in config.toml:\n-\\n\n-\\n[llvm]\n-\\ndownload-ci-llvm = false\n-\\n\n+        let help_on_error = \"error: failed to download llvm from ci\n+\n+help: old builds get deleted after a certain time\n+help: if trying to compile an old commit of rustc, disable `download-ci-llvm` in config.toml:\n+\n+[llvm]\n+download-ci-llvm = false\n \";\n         builder.download_component(base, &format!(\"{}/{}\", url, filename), &tarball, help_on_error);\n     }"}]}