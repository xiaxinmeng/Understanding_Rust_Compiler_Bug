{"sha": "ddaf8580d58b859701a94695368120023ba0ef34", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRkYWY4NTgwZDU4Yjg1OTcwMWE5NDY5NTM2ODEyMDAyM2JhMGVmMzQ=", "commit": {"author": {"name": "clippered", "email": "clarke_overkill@yahoo.com", "date": "2017-11-06T09:23:18Z"}, "committer": {"name": "clippered", "email": "clarke_overkill@yahoo.com", "date": "2017-11-06T09:23:18Z"}, "message": "remove duplicate tests with float_cmp", "tree": {"sha": "3585ccb186a7017bbca0fd44fa9025ed10531642", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3585ccb186a7017bbca0fd44fa9025ed10531642"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ddaf8580d58b859701a94695368120023ba0ef34", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ddaf8580d58b859701a94695368120023ba0ef34", "html_url": "https://github.com/rust-lang/rust/commit/ddaf8580d58b859701a94695368120023ba0ef34", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ddaf8580d58b859701a94695368120023ba0ef34/comments", "author": {"login": "clippered", "id": 5051900, "node_id": "MDQ6VXNlcjUwNTE5MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5051900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clippered", "html_url": "https://github.com/clippered", "followers_url": "https://api.github.com/users/clippered/followers", "following_url": "https://api.github.com/users/clippered/following{/other_user}", "gists_url": "https://api.github.com/users/clippered/gists{/gist_id}", "starred_url": "https://api.github.com/users/clippered/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clippered/subscriptions", "organizations_url": "https://api.github.com/users/clippered/orgs", "repos_url": "https://api.github.com/users/clippered/repos", "events_url": "https://api.github.com/users/clippered/events{/privacy}", "received_events_url": "https://api.github.com/users/clippered/received_events", "type": "User", "site_admin": false}, "committer": {"login": "clippered", "id": 5051900, "node_id": "MDQ6VXNlcjUwNTE5MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5051900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clippered", "html_url": "https://github.com/clippered", "followers_url": "https://api.github.com/users/clippered/followers", "following_url": "https://api.github.com/users/clippered/following{/other_user}", "gists_url": "https://api.github.com/users/clippered/gists{/gist_id}", "starred_url": "https://api.github.com/users/clippered/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clippered/subscriptions", "organizations_url": "https://api.github.com/users/clippered/orgs", "repos_url": "https://api.github.com/users/clippered/repos", "events_url": "https://api.github.com/users/clippered/events{/privacy}", "received_events_url": "https://api.github.com/users/clippered/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cd3106d99fd95390a870622e22eef0cedbefaac9", "url": "https://api.github.com/repos/rust-lang/rust/commits/cd3106d99fd95390a870622e22eef0cedbefaac9", "html_url": "https://github.com/rust-lang/rust/commit/cd3106d99fd95390a870622e22eef0cedbefaac9"}], "stats": {"total": 59, "additions": 3, "deletions": 56}, "files": [{"sha": "990a837306811bba60629850fd4861b4ff8f267d", "filename": "tests/ui/float_cmp_const.rs", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ddaf8580d58b859701a94695368120023ba0ef34/tests%2Fui%2Ffloat_cmp_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddaf8580d58b859701a94695368120023ba0ef34/tests%2Fui%2Ffloat_cmp_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffloat_cmp_const.rs?ref=ddaf8580d58b859701a94695368120023ba0ef34", "patch": "@@ -29,16 +29,12 @@ fn main() {\n     v <= ONE;\n     v >= ONE;\n \n-    // has float_cmp warns (as expected), no float constants\n-    let w = 1.1;\n-    v == w;\n-    v != w;\n-    v == 1.0;\n-    v != 1.0;\n-\n     // no errors, zero and infinity values\n     ONE != 0f32;\n     TWO == 0f32;\n     ONE != ::std::f32::INFINITY;\n     ONE == ::std::f32::NEG_INFINITY;\n+\n+    // Note: float_cmp will warn as expected on cases where there are no float constants\n+    //       e.g. v == 1.0\n }"}, {"sha": "0bdbb6770dc97c9c0f17749838393030f08aea8b", "filename": "tests/ui/float_cmp_const.stderr", "status": "modified", "additions": 0, "deletions": 49, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/ddaf8580d58b859701a94695368120023ba0ef34/tests%2Fui%2Ffloat_cmp_const.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ddaf8580d58b859701a94695368120023ba0ef34/tests%2Fui%2Ffloat_cmp_const.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffloat_cmp_const.stderr?ref=ddaf8580d58b859701a94695368120023ba0ef34", "patch": "@@ -83,52 +83,3 @@ note: std::f32::EPSILON and std::f64::EPSILON are available.\n 24 |     v != ONE;\n    |     ^^^^^^^^\n \n-error: strict comparison of f32 or f64\n-  --> $DIR/float_cmp_const.rs:34:5\n-   |\n-34 |     v == w;\n-   |     ^^^^^^ help: consider comparing them within some error: `(v - w).abs() < error`\n-   |\n-   = note: `-D float-cmp` implied by `-D warnings`\n-note: std::f32::EPSILON and std::f64::EPSILON are available.\n-  --> $DIR/float_cmp_const.rs:34:5\n-   |\n-34 |     v == w;\n-   |     ^^^^^^\n-\n-error: strict comparison of f32 or f64\n-  --> $DIR/float_cmp_const.rs:35:5\n-   |\n-35 |     v != w;\n-   |     ^^^^^^ help: consider comparing them within some error: `(v - w).abs() < error`\n-   |\n-note: std::f32::EPSILON and std::f64::EPSILON are available.\n-  --> $DIR/float_cmp_const.rs:35:5\n-   |\n-35 |     v != w;\n-   |     ^^^^^^\n-\n-error: strict comparison of f32 or f64\n-  --> $DIR/float_cmp_const.rs:36:5\n-   |\n-36 |     v == 1.0;\n-   |     ^^^^^^^^ help: consider comparing them within some error: `(v - 1.0).abs() < error`\n-   |\n-note: std::f32::EPSILON and std::f64::EPSILON are available.\n-  --> $DIR/float_cmp_const.rs:36:5\n-   |\n-36 |     v == 1.0;\n-   |     ^^^^^^^^\n-\n-error: strict comparison of f32 or f64\n-  --> $DIR/float_cmp_const.rs:37:5\n-   |\n-37 |     v != 1.0;\n-   |     ^^^^^^^^ help: consider comparing them within some error: `(v - 1.0).abs() < error`\n-   |\n-note: std::f32::EPSILON and std::f64::EPSILON are available.\n-  --> $DIR/float_cmp_const.rs:37:5\n-   |\n-37 |     v != 1.0;\n-   |     ^^^^^^^^\n-"}]}