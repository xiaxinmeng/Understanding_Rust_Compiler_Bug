{"sha": "f1b7349e7a929cd55f916fc6cdfa171467ac897d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYxYjczNDllN2E5MjljZDU1ZjkxNmZjNmNkZmExNzE0NjdhYzg5N2Q=", "commit": {"author": {"name": "nmio", "email": "kristo.koert@gmail.com", "date": "2020-02-25T20:56:24Z"}, "committer": {"name": "nmio", "email": "kristo.koert@gmail.com", "date": "2020-02-25T20:56:24Z"}, "message": "clean up", "tree": {"sha": "e267d720bf07d0c3399ccafbbef3f1cdf77487ce", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e267d720bf07d0c3399ccafbbef3f1cdf77487ce"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f1b7349e7a929cd55f916fc6cdfa171467ac897d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f1b7349e7a929cd55f916fc6cdfa171467ac897d", "html_url": "https://github.com/rust-lang/rust/commit/f1b7349e7a929cd55f916fc6cdfa171467ac897d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f1b7349e7a929cd55f916fc6cdfa171467ac897d/comments", "author": {"login": "not-much-io", "id": 5730578, "node_id": "MDQ6VXNlcjU3MzA1Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/5730578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/not-much-io", "html_url": "https://github.com/not-much-io", "followers_url": "https://api.github.com/users/not-much-io/followers", "following_url": "https://api.github.com/users/not-much-io/following{/other_user}", "gists_url": "https://api.github.com/users/not-much-io/gists{/gist_id}", "starred_url": "https://api.github.com/users/not-much-io/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/not-much-io/subscriptions", "organizations_url": "https://api.github.com/users/not-much-io/orgs", "repos_url": "https://api.github.com/users/not-much-io/repos", "events_url": "https://api.github.com/users/not-much-io/events{/privacy}", "received_events_url": "https://api.github.com/users/not-much-io/received_events", "type": "User", "site_admin": false}, "committer": {"login": "not-much-io", "id": 5730578, "node_id": "MDQ6VXNlcjU3MzA1Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/5730578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/not-much-io", "html_url": "https://github.com/not-much-io", "followers_url": "https://api.github.com/users/not-much-io/followers", "following_url": "https://api.github.com/users/not-much-io/following{/other_user}", "gists_url": "https://api.github.com/users/not-much-io/gists{/gist_id}", "starred_url": "https://api.github.com/users/not-much-io/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/not-much-io/subscriptions", "organizations_url": "https://api.github.com/users/not-much-io/orgs", "repos_url": "https://api.github.com/users/not-much-io/repos", "events_url": "https://api.github.com/users/not-much-io/events{/privacy}", "received_events_url": "https://api.github.com/users/not-much-io/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "39bd3b2bd719289a8dd03fb52d5060cdb10f9169", "url": "https://api.github.com/repos/rust-lang/rust/commits/39bd3b2bd719289a8dd03fb52d5060cdb10f9169", "html_url": "https://github.com/rust-lang/rust/commit/39bd3b2bd719289a8dd03fb52d5060cdb10f9169"}], "stats": {"total": 9, "additions": 2, "deletions": 7}, "files": [{"sha": "cfebf36f88afb0f337f770f44409a49f09618ebd", "filename": "crates/ra_project_model/src/lib.rs", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f1b7349e7a929cd55f916fc6cdfa171467ac897d/crates%2Fra_project_model%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1b7349e7a929cd55f916fc6cdfa171467ac897d/crates%2Fra_project_model%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_project_model%2Fsrc%2Flib.rs?ref=f1b7349e7a929cd55f916fc6cdfa171467ac897d", "patch": "@@ -421,19 +421,14 @@ fn find_cargo_toml_down_the_fs(path: &Path) -> Option<PathBuf> {\n }\n \n fn find_cargo_toml_up_the_fs(path: &Path) -> Option<PathBuf> {\n-    log::info!(\"find_cargo_toml_up_the_fs()\");\n     let entities = match read_dir(path) {\n         Ok(entities) => entities,\n-        Err(e) => {\n-            log::info!(\"err {}\", e);\n-            return None\n-        }\n+        Err(_) => return None\n     };\n \n-    log::info!(\"entities: {:?}\", entities);\n+    // Only one level up to avoid cycles the easy way and stop a runaway scan with large projects\n     for entity in entities.filter_map(Result::ok) {\n         let candidate = entity.path().join(\"Cargo.toml\");\n-        log::info!(\"candidate: {:?}, exists: {}\", candidate, candidate.exists());\n         if candidate.exists() {\n             return Some(candidate);\n         }"}]}