{"sha": "1c523ba772490088ed4b5cd9345a8f46d2f7bf42", "node_id": "C_kwDOAAsO6NoAKDFjNTIzYmE3NzI0OTAwODhlZDRiNWNkOTM0NWE4ZjQ2ZDJmN2JmNDI", "commit": {"author": {"name": "Maximilian K\u00f6hl", "email": "mail@koehlma.de", "date": "2022-03-21T10:40:25Z"}, "committer": {"name": "Maximilian K\u00f6hl", "email": "mail@koehlma.de", "date": "2022-03-21T10:40:25Z"}, "message": "add tests for \ud83d\udd12", "tree": {"sha": "19e8a48ebbbef50fce032c0fce0c1553e16ec74c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/19e8a48ebbbef50fce032c0fce0c1553e16ec74c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1c523ba772490088ed4b5cd9345a8f46d2f7bf42", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1c523ba772490088ed4b5cd9345a8f46d2f7bf42", "html_url": "https://github.com/rust-lang/rust/commit/1c523ba772490088ed4b5cd9345a8f46d2f7bf42", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1c523ba772490088ed4b5cd9345a8f46d2f7bf42/comments", "author": {"login": "koehlma", "id": 509209, "node_id": "MDQ6VXNlcjUwOTIwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/509209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/koehlma", "html_url": "https://github.com/koehlma", "followers_url": "https://api.github.com/users/koehlma/followers", "following_url": "https://api.github.com/users/koehlma/following{/other_user}", "gists_url": "https://api.github.com/users/koehlma/gists{/gist_id}", "starred_url": "https://api.github.com/users/koehlma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/koehlma/subscriptions", "organizations_url": "https://api.github.com/users/koehlma/orgs", "repos_url": "https://api.github.com/users/koehlma/repos", "events_url": "https://api.github.com/users/koehlma/events{/privacy}", "received_events_url": "https://api.github.com/users/koehlma/received_events", "type": "User", "site_admin": false}, "committer": {"login": "koehlma", "id": 509209, "node_id": "MDQ6VXNlcjUwOTIwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/509209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/koehlma", "html_url": "https://github.com/koehlma", "followers_url": "https://api.github.com/users/koehlma/followers", "following_url": "https://api.github.com/users/koehlma/following{/other_user}", "gists_url": "https://api.github.com/users/koehlma/gists{/gist_id}", "starred_url": "https://api.github.com/users/koehlma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/koehlma/subscriptions", "organizations_url": "https://api.github.com/users/koehlma/orgs", "repos_url": "https://api.github.com/users/koehlma/repos", "events_url": "https://api.github.com/users/koehlma/events{/privacy}", "received_events_url": "https://api.github.com/users/koehlma/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4df867c4a3d6d5e05b0193bf43e888673d5b64a9", "url": "https://api.github.com/repos/rust-lang/rust/commits/4df867c4a3d6d5e05b0193bf43e888673d5b64a9", "html_url": "https://github.com/rust-lang/rust/commit/4df867c4a3d6d5e05b0193bf43e888673d5b64a9"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "c573e1b77f901c8e547360cbb19178c9ee6b64d1", "filename": "src/test/rustdoc/visibility.rs", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/1c523ba772490088ed4b5cd9345a8f46d2f7bf42/src%2Ftest%2Frustdoc%2Fvisibility.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1c523ba772490088ed4b5cd9345a8f46d2f7bf42/src%2Ftest%2Frustdoc%2Fvisibility.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fvisibility.rs?ref=1c523ba772490088ed4b5cd9345a8f46d2f7bf42", "patch": "@@ -4,42 +4,68 @@\n \n #![crate_name = \"foo\"]\n \n+// @!has 'foo/index.html' '//a[@href=\"struct.FooPublic.html\"]/..' 'FooPublic \ud83d\udd12'\n // @has 'foo/struct.FooPublic.html' '//pre' 'pub struct FooPublic'\n pub struct FooPublic;\n+// @has 'foo/index.html' '//a[@href=\"struct.FooJustCrate.html\"]/..' 'FooJustCrate \ud83d\udd12'\n // @has 'foo/struct.FooJustCrate.html' '//pre' 'pub(crate) struct FooJustCrate'\n crate struct FooJustCrate;\n+// @has 'foo/index.html' '//a[@href=\"struct.FooPubCrate.html\"]/..' 'FooPubCrate \ud83d\udd12'\n // @has 'foo/struct.FooPubCrate.html' '//pre' 'pub(crate) struct FooPubCrate'\n pub(crate) struct FooPubCrate;\n+// @has 'foo/index.html' '//a[@href=\"struct.FooSelf.html\"]/..' 'FooSelf \ud83d\udd12'\n // @has 'foo/struct.FooSelf.html' '//pre' 'pub(crate) struct FooSelf'\n pub(self) struct FooSelf;\n+// @has 'foo/index.html' '//a[@href=\"struct.FooInSelf.html\"]/..' 'FooInSelf \ud83d\udd12'\n // @has 'foo/struct.FooInSelf.html' '//pre' 'pub(crate) struct FooInSelf'\n pub(in self) struct FooInSelf;\n+// @has 'foo/index.html' '//a[@href=\"struct.FooPriv.html\"]/..' 'FooPriv \ud83d\udd12'\n // @has 'foo/struct.FooPriv.html' '//pre' 'pub(crate) struct FooPriv'\n struct FooPriv;\n \n+// @!has 'foo/index.html' '//a[@href=\"pub_mod/index.html\"]/..' 'pub_mod \ud83d\udd12'\n+pub mod pub_mod {}\n+\n+// @has 'foo/index.html' '//a[@href=\"pub_crate_mod/index.html\"]/..' 'pub_crate_mod \ud83d\udd12'\n+pub(crate) mod pub_crate_mod {}\n+\n+// @has 'foo/index.html' '//a[@href=\"a/index.html\"]/..' 'a \ud83d\udd12'\n mod a {\n+    // @has 'foo/a/index.html' '//a[@href=\"struct.FooASuper.html\"]/..' 'FooASuper \ud83d\udd12'\n     // @has 'foo/a/struct.FooASuper.html' '//pre' 'pub(crate) struct FooASuper'\n     pub(super) struct FooASuper;\n+    // @has 'foo/a/index.html' '//a[@href=\"struct.FooAInSuper.html\"]/..' 'FooAInSuper \ud83d\udd12'\n     // @has 'foo/a/struct.FooAInSuper.html' '//pre' 'pub(crate) struct FooAInSuper'\n     pub(in super) struct FooAInSuper;\n+    // @has 'foo/a/index.html' '//a[@href=\"struct.FooAInA.html\"]/..' 'FooAInA \ud83d\udd12'\n     // @has 'foo/a/struct.FooAInA.html' '//pre' 'struct FooAInA'\n     // @!has 'foo/a/struct.FooAInA.html' '//pre' 'pub'\n     pub(in a) struct FooAInA;\n+    // @has 'foo/a/index.html' '//a[@href=\"struct.FooAPriv.html\"]/..' 'FooAPriv \ud83d\udd12'\n     // @has 'foo/a/struct.FooAPriv.html' '//pre' 'struct FooAPriv'\n     // @!has 'foo/a/struct.FooAPriv.html' '//pre' 'pub'\n     struct FooAPriv;\n \n+    // @has 'foo/a/index.html' '//a[@href=\"b/index.html\"]/..' 'b \ud83d\udd12'\n     mod b {\n+        // @has 'foo/a/b/index.html' '//a[@href=\"struct.FooBSuper.html\"]/..' 'FooBSuper \ud83d\udd12'\n         // @has 'foo/a/b/struct.FooBSuper.html' '//pre' 'pub(super) struct FooBSuper'\n         pub(super) struct FooBSuper;\n+        // @has 'foo/a/b/index.html' '//a[@href=\"struct.FooBInSuperSuper.html\"]/..' 'FooBInSuperSuper \ud83d\udd12'\n         // @has 'foo/a/b/struct.FooBInSuperSuper.html' '//pre' 'pub(crate) struct FooBInSuperSuper'\n         pub(in super::super) struct FooBInSuperSuper;\n+        // @has 'foo/a/b/index.html' '//a[@href=\"struct.FooBInAB.html\"]/..' 'FooBInAB \ud83d\udd12'\n         // @has 'foo/a/b/struct.FooBInAB.html' '//pre' 'struct FooBInAB'\n         // @!has 'foo/a/b/struct.FooBInAB.html' '//pre' 'pub'\n         pub(in a::b) struct FooBInAB;\n+        // @has 'foo/a/b/index.html' '//a[@href=\"struct.FooBPriv.html\"]/..' 'FooBPriv \ud83d\udd12'\n         // @has 'foo/a/b/struct.FooBPriv.html' '//pre' 'struct FooBPriv'\n         // @!has 'foo/a/b/struct.FooBPriv.html' '//pre' 'pub'\n         struct FooBPriv;\n+\n+        // @!has 'foo/a/b/index.html' '//a[@href=\"struct.FooBPub.html\"]/..' 'FooBPub \ud83d\udd12'\n+        // @has 'foo/a/b/struct.FooBPub.html' '//pre' 'pub struct FooBPub'\n+        pub struct FooBPub;\n     }\n }\n \n@@ -53,13 +79,18 @@ mod a {\n //\n // @has 'foo/trait.PubTrait.html' '//pre' 'fn function();'\n // @!has 'foo/trait.PubTrait.html' '//pre' 'pub fn function();'\n+//\n+// @!has 'foo/index.html' '//a[@href=\"trait.PubTrait.html\"]/..' 'PubTrait \ud83d\udd12'\n \n pub trait PubTrait {\n     type Type;\n     const CONST: usize;\n     fn function();\n }\n \n+// @has 'foo/index.html' '//a[@href=\"trait.PrivTrait.html\"]/..' 'PrivTrait \ud83d\udd12'\n+trait PrivTrait {}\n+\n // @has 'foo/struct.FooPublic.html' '//h4[@class=\"code-header\"]' 'type Type'\n // @!has 'foo/struct.FooPublic.html' '//h4[@class=\"code-header\"]' 'pub type Type'\n //"}]}