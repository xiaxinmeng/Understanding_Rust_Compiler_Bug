{"sha": "2fa18b8864be68948fdd5df2170bf75e5bb0b158", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmYTE4Yjg4NjRiZTY4OTQ4ZmRkNWRmMjE3MGJmNzVlNWJiMGIxNTg=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2021-05-03T16:36:38Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2021-05-03T16:41:59Z"}, "message": "Remove obsolete crate exceptions", "tree": {"sha": "12f51c4405a16fa31f78f79854921844bfd99cdb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/12f51c4405a16fa31f78f79854921844bfd99cdb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2fa18b8864be68948fdd5df2170bf75e5bb0b158", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2fa18b8864be68948fdd5df2170bf75e5bb0b158", "html_url": "https://github.com/rust-lang/rust/commit/2fa18b8864be68948fdd5df2170bf75e5bb0b158", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2fa18b8864be68948fdd5df2170bf75e5bb0b158/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d7cd6e24264d75b7771e63fc15bfcb40a0678d92", "url": "https://api.github.com/repos/rust-lang/rust/commits/d7cd6e24264d75b7771e63fc15bfcb40a0678d92", "html_url": "https://github.com/rust-lang/rust/commit/d7cd6e24264d75b7771e63fc15bfcb40a0678d92"}], "stats": {"total": 15, "additions": 0, "deletions": 15}, "files": [{"sha": "86231946bb725d8e3011fe897a493134e44a88ed", "filename": "src/tools/tidy/src/deps.rs", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/2fa18b8864be68948fdd5df2170bf75e5bb0b158/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2fa18b8864be68948fdd5df2170bf75e5bb0b158/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs?ref=2fa18b8864be68948fdd5df2170bf75e5bb0b158", "patch": "@@ -244,13 +244,6 @@ fn check_exceptions(metadata: &Metadata, bad: &mut bool) {\n         }\n         // Check that the license hasn't changed.\n         for pkg in metadata.packages.iter().filter(|p| p.name == *name) {\n-            if pkg.name == \"fuchsia-cprng\" {\n-                // This package doesn't declare a license expression. Manual\n-                // inspection of the license file is necessary, which appears\n-                // to be BSD-3-Clause.\n-                assert!(pkg.license.is_none());\n-                continue;\n-            }\n             match &pkg.license {\n                 None => {\n                     tidy_error!(\n@@ -261,14 +254,6 @@ fn check_exceptions(metadata: &Metadata, bad: &mut bool) {\n                 }\n                 Some(pkg_license) => {\n                     if pkg_license.as_str() != *license {\n-                        if *name == \"crossbeam-queue\"\n-                            && *license == \"MIT/Apache-2.0 AND BSD-2-Clause\"\n-                        {\n-                            // We have two versions of crossbeam-queue and both\n-                            // are fine.\n-                            continue;\n-                        }\n-\n                         println!(\"dependency exception `{}` license has changed\", name);\n                         println!(\"    previously `{}` now `{}`\", license, pkg_license);\n                         println!(\"    update EXCEPTIONS for the new license\");"}]}