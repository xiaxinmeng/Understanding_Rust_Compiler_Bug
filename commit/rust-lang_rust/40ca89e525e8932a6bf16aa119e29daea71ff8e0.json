{"sha": "40ca89e525e8932a6bf16aa119e29daea71ff8e0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQwY2E4OWU1MjVlODkzMmE2YmYxNmFhMTE5ZTI5ZGFlYTcxZmY4ZTA=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-06-19T19:21:26Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-06-19T19:21:26Z"}, "message": "auto merge of #15037 : zzmp/rust/doc/hotkeys, r=alexcrichton\n\nContinuing from #15012, this makes four changes to the `rustdoc` static files.\r\n\r\n- Change the placeholder text of the search bar to `Click or press 'S' to search, '?' for more options...` to make keyboard hotkeys more apparent (capitalizing the `S` to match the help text).\r\n- Change the `main.js` file to use browser-normalized key codes (`e.which`, from `jQuery`), instead of `e.keyCode`.\r\n- Change the key code for `?` to be the correct `191` instead of `188`, so that the hotkey works to bring up search information.\r\n- Change the search information to display `tab` and `shift+tab` instead of `up` and `down`, as those do not yet work outside of Firefox (see #15011). Also, adjust the height so it does not cut off the help text.\r\n\r\n<s>I've also opened up #15038 about the non-functional `up` and `down` functionality, although this does nothing to fix it.</s>", "tree": {"sha": "b3dad2ce82b4fdc8ac20e3d4f75f0019a952632b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b3dad2ce82b4fdc8ac20e3d4f75f0019a952632b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/40ca89e525e8932a6bf16aa119e29daea71ff8e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/40ca89e525e8932a6bf16aa119e29daea71ff8e0", "html_url": "https://github.com/rust-lang/rust/commit/40ca89e525e8932a6bf16aa119e29daea71ff8e0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/40ca89e525e8932a6bf16aa119e29daea71ff8e0/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "22d62fc8e1472fdc30a83bc18c8e10687f7e8c6e", "url": "https://api.github.com/repos/rust-lang/rust/commits/22d62fc8e1472fdc30a83bc18c8e10687f7e8c6e", "html_url": "https://github.com/rust-lang/rust/commit/22d62fc8e1472fdc30a83bc18c8e10687f7e8c6e"}, {"sha": "677e6ed6035b12a3ccb6becc9c9f6ea3d74ce37b", "url": "https://api.github.com/repos/rust-lang/rust/commits/677e6ed6035b12a3ccb6becc9c9f6ea3d74ce37b", "html_url": "https://github.com/rust-lang/rust/commit/677e6ed6035b12a3ccb6becc9c9f6ea3d74ce37b"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "61a2d3c5d9cc890d0a17e95ee3f7d2a8e2c0719f", "filename": "src/librustdoc/html/layout.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/40ca89e525e8932a6bf16aa119e29daea71ff8e0/src%2Flibrustdoc%2Fhtml%2Flayout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ca89e525e8932a6bf16aa119e29daea71ff8e0/src%2Flibrustdoc%2Fhtml%2Flayout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Flayout.rs?ref=40ca89e525e8932a6bf16aa119e29daea71ff8e0", "patch": "@@ -63,7 +63,7 @@ r##\"<!DOCTYPE html>\n             <div class=\"search-container\">\n                 <input class=\"search-input\" name=\"search\"\n                        autocomplete=\"off\"\n-                       placeholder=\"Click or press 's' to search, '?' for more options...\"\n+                       placeholder=\"Click or press 'S' to search, '?' for more options...\"\n                        type=\"search\">\n             </div>\n         </form>\n@@ -82,9 +82,9 @@ r##\"<!DOCTYPE html>\n                 <dd>Show this help dialog</dd>\n                 <dt>S</dt>\n                 <dd>Focus the search field</dd>\n-                <dt>&uarr;</dt>\n+                <dt>&larrb;</dt>\n                 <dd>Move up in search results</dd>\n-                <dt>&darr;</dt>\n+                <dt>&rarrb;</dt>\n                 <dd>Move down in search results</dd>\n                 <dt>&#9166;</dt>\n                 <dd>Go to active search result</dd>"}, {"sha": "a88992f6c4c508344f3ebac359ff0bdfb0f69072", "filename": "src/librustdoc/html/static/main.css", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ca89e525e8932a6bf16aa119e29daea71ff8e0/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "raw_url": "https://github.com/rust-lang/rust/raw/40ca89e525e8932a6bf16aa119e29daea71ff8e0/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css?ref=40ca89e525e8932a6bf16aa119e29daea71ff8e0", "patch": "@@ -347,7 +347,7 @@ p a:hover { text-decoration: underline; }\n     margin-top: -125px;\n     margin-left: -275px;\n     width: 550px;\n-    height: 250px;\n+    height: 300px;\n     border: 1px solid #bfbfbf;\n }\n "}, {"sha": "fc1e480f6afcf0731bad841f2a9e459e65a6d564", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/40ca89e525e8932a6bf16aa119e29daea71ff8e0/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/40ca89e525e8932a6bf16aa119e29daea71ff8e0/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=40ca89e525e8932a6bf16aa119e29daea71ff8e0", "patch": "@@ -71,10 +71,10 @@\n             return;\n         }\n \n-        if (e.keyCode === 188 && $('#help').hasClass('hidden')) { // question mark\n+        if (e.which === 191 && $('#help').hasClass('hidden')) { // question mark\n             e.preventDefault();\n             $('#help').removeClass('hidden');\n-        } else if (e.keyCode === 27) { // esc\n+        } else if (e.which === 27) { // esc\n             if (!$('#help').hasClass('hidden')) {\n                 e.preventDefault();\n                 $('#help').addClass('hidden');\n@@ -83,7 +83,7 @@\n                 $('#search').addClass('hidden');\n                 $('#main').removeClass('hidden');\n             }\n-        } else if (e.keyCode === 83) { // S\n+        } else if (e.which === 83) { // S\n             e.preventDefault();\n             $('.search-input').focus();\n         }\n@@ -361,23 +361,23 @@\n             $(document).on('keypress.searchnav', function(e) {\n                 var $active = $results.filter('.highlighted');\n \n-                if (e.keyCode === 38) { // up\n+                if (e.which === 38) { // up\n                     e.preventDefault();\n                     if (!$active.length || !$active.prev()) {\n                         return;\n                     }\n \n                     $active.prev().addClass('highlighted');\n                     $active.removeClass('highlighted');\n-                } else if (e.keyCode === 40) { // down\n+                } else if (e.which === 40) { // down\n                     e.preventDefault();\n                     if (!$active.length) {\n                         $results.first().addClass('highlighted');\n                     } else if ($active.next().length) {\n                         $active.next().addClass('highlighted');\n                         $active.removeClass('highlighted');\n                     }\n-                } else if (e.keyCode === 13) { // return\n+                } else if (e.which === 13) { // return\n                     e.preventDefault();\n                     if ($active.length) {\n                         document.location.href = $active.find('a').prop('href');"}]}