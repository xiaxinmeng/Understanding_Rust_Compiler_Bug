{"sha": "7192ef3efd7b353f3e7207dbf286362bc637c43e", "node_id": "C_kwDOAAsO6NoAKDcxOTJlZjNlZmQ3YjM1M2YzZTcyMDdkYmYyODYzNjJiYzYzN2M0M2U", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-04-03T06:58:52Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-04-03T06:58:52Z"}, "message": "Rollup merge of #109526 - bzEq:aix-libpath, r=Mark-Simulacrum\n\nLIBPATH is used as dylib's path environment variable on AIX\n\nSee https://4js.com/online_documentation/fjs-fgl-3.00.05-manual-html/c_fgl_installation_017.html.", "tree": {"sha": "689912317b2f72c9c5c57b525d9716b1c7ee1be5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/689912317b2f72c9c5c57b525d9716b1c7ee1be5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7192ef3efd7b353f3e7207dbf286362bc637c43e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkKnksCRBK7hj4Ov3rIwAANJsIADy3TaM1GNO2mM/sl3Nn905B\nWPd39vSEwQXyWC0EwrcReidK6K4oy+Im5cXqcTPyOozmkpwenrjqiYftqxEuBaTV\nw/pjrfFOAicdCxJpAUtVXgt5TyH1Cg5r6MWxIYBOkZ4k4janq/Vzsg9GPTwalJob\nhwFic2jbSd/bqLMvQQXCK6c5dC+ZWThyRersrl3xK3twuyOZdh5twIWch2s+w1Ou\nTRd4Jh1+fobsxQvQEOsV45DI1CU1RA9vG7vJ9iWHea3WLNCZNle6KrYbsjXaHxdo\nFYTdrFH/5g3vw0oQY+/sWSr5A8OGF55opkGNfWJ1pEB+S9MvccYJOxKIE2WGTH0=\n=VLy/\n-----END PGP SIGNATURE-----\n", "payload": "tree 689912317b2f72c9c5c57b525d9716b1c7ee1be5\nparent 33289132ecc1805250f63801fded10fceb2300d8\nparent d3cc2f76465b854129daa4dca2a10b137a8699bf\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1680505132 +0200\ncommitter GitHub <noreply@github.com> 1680505132 +0200\n\nRollup merge of #109526 - bzEq:aix-libpath, r=Mark-Simulacrum\n\nLIBPATH is used as dylib's path environment variable on AIX\n\nSee https://4js.com/online_documentation/fjs-fgl-3.00.05-manual-html/c_fgl_installation_017.html.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7192ef3efd7b353f3e7207dbf286362bc637c43e", "html_url": "https://github.com/rust-lang/rust/commit/7192ef3efd7b353f3e7207dbf286362bc637c43e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7192ef3efd7b353f3e7207dbf286362bc637c43e/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "33289132ecc1805250f63801fded10fceb2300d8", "url": "https://api.github.com/repos/rust-lang/rust/commits/33289132ecc1805250f63801fded10fceb2300d8", "html_url": "https://github.com/rust-lang/rust/commit/33289132ecc1805250f63801fded10fceb2300d8"}, {"sha": "d3cc2f76465b854129daa4dca2a10b137a8699bf", "url": "https://api.github.com/repos/rust-lang/rust/commits/d3cc2f76465b854129daa4dca2a10b137a8699bf", "html_url": "https://github.com/rust-lang/rust/commit/d3cc2f76465b854129daa4dca2a10b137a8699bf"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "d12781cc33af05fba9289088a08d19dd3d380aff", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7192ef3efd7b353f3e7207dbf286362bc637c43e/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/7192ef3efd7b353f3e7207dbf286362bc637c43e/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=7192ef3efd7b353f3e7207dbf286362bc637c43e", "patch": "@@ -741,6 +741,9 @@ def build_bootstrap(self, color, verbose_count):\n         env[\"LIBRARY_PATH\"] = os.path.join(self.bin_root(), \"lib\") + \\\n             (os.pathsep + env[\"LIBRARY_PATH\"]) \\\n             if \"LIBRARY_PATH\" in env else \"\"\n+        env[\"LIBPATH\"] = os.path.join(self.bin_root(), \"lib\") + \\\n+            (os.pathsep + env[\"LIBPATH\"]) \\\n+            if \"LIBPATH\" in env else \"\"\n \n         # Export Stage0 snapshot compiler related env variables\n         build_section = \"target.{}\".format(self.build)"}, {"sha": "b14c0bed66c2c3f2a366188d8161367fcbad90d9", "filename": "src/bootstrap/dylib_util.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7192ef3efd7b353f3e7207dbf286362bc637c43e/src%2Fbootstrap%2Fdylib_util.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7192ef3efd7b353f3e7207dbf286362bc637c43e/src%2Fbootstrap%2Fdylib_util.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdylib_util.rs?ref=7192ef3efd7b353f3e7207dbf286362bc637c43e", "patch": "@@ -12,6 +12,8 @@ pub fn dylib_path_var() -> &'static str {\n         \"DYLD_LIBRARY_PATH\"\n     } else if cfg!(target_os = \"haiku\") {\n         \"LIBRARY_PATH\"\n+    } else if cfg!(target_os = \"aix\") {\n+        \"LIBPATH\"\n     } else {\n         \"LD_LIBRARY_PATH\"\n     }"}, {"sha": "748240cc94bc6577f5182fcc207eac15207e4668", "filename": "src/tools/compiletest/src/util.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7192ef3efd7b353f3e7207dbf286362bc637c43e/src%2Ftools%2Fcompiletest%2Fsrc%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7192ef3efd7b353f3e7207dbf286362bc637c43e/src%2Ftools%2Fcompiletest%2Fsrc%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Futil.rs?ref=7192ef3efd7b353f3e7207dbf286362bc637c43e", "patch": "@@ -156,6 +156,8 @@ pub fn dylib_env_var() -> &'static str {\n         \"DYLD_LIBRARY_PATH\"\n     } else if cfg!(target_os = \"haiku\") {\n         \"LIBRARY_PATH\"\n+    } else if cfg!(target_os = \"aix\") {\n+        \"LIBPATH\"\n     } else {\n         \"LD_LIBRARY_PATH\"\n     }"}]}