{"sha": "560559bafe1d61bca3d815ce80c53ae2d48e1829", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU2MDU1OWJhZmUxZDYxYmNhM2Q4MTVjZTgwYzUzYWUyZDQ4ZTE4Mjk=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-02-11T10:07:38Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-02-14T13:37:55Z"}, "message": "Make Lint::by_lint_group take impl Iterator as argument", "tree": {"sha": "fc8da0036fe959da93c329b64551e56ea0ac78d6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fc8da0036fe959da93c329b64551e56ea0ac78d6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/560559bafe1d61bca3d815ce80c53ae2d48e1829", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAl5GorMACgkQaTCGhp1Q\nZjeU1g/7BYy+qYrQy1NOmeXNBveeeD9TpsG/N7W2pH+7lhFNluVH+mvscRXaZtk4\nhxsniGFpdNhLOWCrQWNPu5B2+3TAFg7e+3Pdr56PFKy57RHq7PR9TmXsgX/26Lhv\nVbqbmIZwhu5CQ1I4hBBPdkvs1g15h7pSJEmqPRqzpeNlZkwXs2x4ZTqR6aRKqeh7\nNrZ5W4dyE6vvxPbm194Sa5GYyHWqkQjvzRfHqx03hW8StEIlKF3ioS+7HQ8EmTBZ\nuPMPekoYN5Z4f/ZXQ5/lNSArKCkhuQkgGyBNcBCIMl12Zt/uy38uMuBAhAqHUVbi\njpN4RxCZNy/VwD4gKAmYIV12PBJGxVzMBCrJYBgMXtR5j3dozdIxEtqgYMQRDHIn\nBaGmpP+Voy0z6qgJ8yMgcpbioQinHtQeq3Fz5bUs5sONGIpQ4448/GmG2pcWmPpw\ndpbTxsm/limrBPSGOKCAR7ccI/0GgFC1ReeZVrmciC48rc9HhGuMQTRjiyG0BZq9\n13Yx6tWlfFQedVYCOknGcQJVtZ0yoDq/gHw2mYjXmLvl0euvccfUGTEGGWrLARFN\nebZE9Mf/3YwfybfhtfL1SASnMdmipe128mIEU/13ZXgSM9BHZpUtMiZNDeUan8dE\nNa0HJ6dNf6CTobbNkTKPfeEVDMOfmwvThUQsP7TaP/go4z9iv1c=\n=3OXO\n-----END PGP SIGNATURE-----", "payload": "tree fc8da0036fe959da93c329b64551e56ea0ac78d6\nparent 41d90d3b8e633ab53005b8f7459dd10e4526bd41\nauthor flip1995 <hello@philkrones.com> 1581415658 +0100\ncommitter flip1995 <hello@philkrones.com> 1581687475 +0100\n\nMake Lint::by_lint_group take impl Iterator as argument\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/560559bafe1d61bca3d815ce80c53ae2d48e1829", "html_url": "https://github.com/rust-lang/rust/commit/560559bafe1d61bca3d815ce80c53ae2d48e1829", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/560559bafe1d61bca3d815ce80c53ae2d48e1829/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "41d90d3b8e633ab53005b8f7459dd10e4526bd41", "url": "https://api.github.com/repos/rust-lang/rust/commits/41d90d3b8e633ab53005b8f7459dd10e4526bd41", "html_url": "https://github.com/rust-lang/rust/commit/41d90d3b8e633ab53005b8f7459dd10e4526bd41"}], "stats": {"total": 13, "additions": 5, "deletions": 8}, "files": [{"sha": "67a9abd29d67eaa7d2ba630e1140a615c8aa945d", "filename": "clippy_dev/src/lib.rs", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/560559bafe1d61bca3d815ce80c53ae2d48e1829/clippy_dev%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/560559bafe1d61bca3d815ce80c53ae2d48e1829/clippy_dev%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Flib.rs?ref=560559bafe1d61bca3d815ce80c53ae2d48e1829", "patch": "@@ -63,11 +63,8 @@ impl Lint {\n \n     /// Returns the lints in a `HashMap`, grouped by the different lint groups\n     #[must_use]\n-    pub fn by_lint_group(lints: &[Self]) -> HashMap<String, Vec<Self>> {\n-        lints\n-            .iter()\n-            .map(|lint| (lint.group.to_string(), lint.clone()))\n-            .into_group_map()\n+    pub fn by_lint_group(lints: impl Iterator<Item = Self>) -> HashMap<String, Vec<Self>> {\n+        lints.map(|lint| (lint.group.to_string(), lint)).into_group_map()\n     }\n \n     #[must_use]\n@@ -449,7 +446,7 @@ fn test_by_lint_group() {\n         \"group2\".to_string(),\n         vec![Lint::new(\"should_assert_eq2\", \"group2\", \"abc\", None, \"module_name\")],\n     );\n-    assert_eq!(expected, Lint::by_lint_group(&lints));\n+    assert_eq!(expected, Lint::by_lint_group(lints.into_iter()));\n }\n \n #[test]"}, {"sha": "2808aafc690515af46b954196fd0d931d5d8d6cb", "filename": "clippy_dev/src/main.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/560559bafe1d61bca3d815ce80c53ae2d48e1829/clippy_dev%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/560559bafe1d61bca3d815ce80c53ae2d48e1829/clippy_dev%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fmain.rs?ref=560559bafe1d61bca3d815ce80c53ae2d48e1829", "patch": "@@ -136,7 +136,7 @@ fn print_lints() {\n     let lint_list = gather_all();\n     let usable_lints: Vec<Lint> = Lint::usable_lints(lint_list).collect();\n     let lint_count = usable_lints.len();\n-    let grouped_by_lint_group = Lint::by_lint_group(&usable_lints);\n+    let grouped_by_lint_group = Lint::by_lint_group(usable_lints.into_iter());\n \n     for (lint_group, mut lints) in grouped_by_lint_group {\n         if lint_group == \"Deprecated\" {\n@@ -267,7 +267,7 @@ fn update_lints(update_mode: UpdateMode) {\n     .changed;\n \n     // Generate the list of lints for all other lint groups\n-    for (lint_group, lints) in Lint::by_lint_group(&usable_lints) {\n+    for (lint_group, lints) in Lint::by_lint_group(usable_lints.into_iter()) {\n         file_change |= replace_region_in_file(\n             Path::new(\"clippy_lints/src/lib.rs\"),\n             &format!(\"store.register_group\\\\(true, \\\"clippy::{}\\\"\", lint_group),"}]}