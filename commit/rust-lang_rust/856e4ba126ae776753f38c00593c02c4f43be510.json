{"sha": "856e4ba126ae776753f38c00593c02c4f43be510", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg1NmU0YmExMjZhZTc3Njc1M2YzOGMwMDU5M2MwMmM0ZjQzYmU1MTA=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-02-02T14:05:23Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-02-02T14:05:23Z"}, "message": "Merge #2979\n\n2979: vscode: now we are actually using tslib r=matklad a=Veetaha\n\nWe had an incorrect setup where `tslib` was in `devDependencies`.\r\nFYI:\r\ntslib is a runtime dependency, it contains functions that are used by transpiled JavaScript in order not to inline them in each file.\r\nFor example:\r\n```ts\r\n// foo.ts (source code)\r\nimport * as foo from \"foo\";\r\n// ---------------------------\r\n// foo.js (compiled output)\r\n\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst foo = __importStar(require(\"foo\"));\r\n```\r\nAs you see, `tsc` generated that `__importStar` helper function in compiled output. And it generates it per each file if you don't enable `\"importHelpers\": true`. Now with `importHelpers` enabled we get the following picture:\r\n```ts\r\n// foo.ts (source code)\r\nimport * as foo from \"foo\";\r\n// ---------------------------\r\n// foo.js (compiled output)\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst tslib_1 = require(\"tslib\");\r\nconst foo = tslib_1.__importStar(require(\"foo\"));\r\n```\r\nIt saves some bundle size, but I am not entirely sure wheter we want that. Discussions are welcome!\n\nCo-authored-by: Veetaha <gerzoh1@gmail.com>", "tree": {"sha": "94671175f90d50e215b6ead77de44fd8a39d3f8e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/94671175f90d50e215b6ead77de44fd8a39d3f8e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/856e4ba126ae776753f38c00593c02c4f43be510", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeNtcjCRBK7hj4Ov3rIwAAdHIIAACK5cd5Ye1i7TM4rqb5LoUt\nT5tQuhS71kYiA1HMNCCwyC7SjTEvWhdBcCrvt3S7GubZ/+VSPl2gKDhBXDHgFNWh\nlWFqR9m6pXQO5/14lVANMVm89UjquTJInDnzPY8IFPM35sMsh0tRliCR/ltAKFZv\nOPkXQF8IWxnvoGxLwQ7UUkrOPkiON/IFNkbhPntJ4sEATPO6t/NcGhh781i3+Uvw\nTH620UVfECWCbVpilsF4eWZvHDM5tlkyTfLWon5dX91KbKiFXitagJlJvrcYBQhU\nf5cxRYzHHmrxCL+v75h/gsjg4EmNZe6Aw6x187VCBEG8MMjbo35FoM+e1QJ+yUw=\n=1xkC\n-----END PGP SIGNATURE-----\n", "payload": "tree 94671175f90d50e215b6ead77de44fd8a39d3f8e\nparent 9006cec4928a28e4b70f536fc740fad5e82319d1\nparent f08297983faac35e0b0fd475bc935ba0bc0726cb\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1580652323 +0000\ncommitter GitHub <noreply@github.com> 1580652323 +0000\n\nMerge #2979\n\n2979: vscode: now we are actually using tslib r=matklad a=Veetaha\n\nWe had an incorrect setup where `tslib` was in `devDependencies`.\r\nFYI:\r\ntslib is a runtime dependency, it contains functions that are used by transpiled JavaScript in order not to inline them in each file.\r\nFor example:\r\n```ts\r\n// foo.ts (source code)\r\nimport * as foo from \"foo\";\r\n// ---------------------------\r\n// foo.js (compiled output)\r\n\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst foo = __importStar(require(\"foo\"));\r\n```\r\nAs you see, `tsc` generated that `__importStar` helper function in compiled output. And it generates it per each file if you don't enable `\"importHelpers\": true`. Now with `importHelpers` enabled we get the following picture:\r\n```ts\r\n// foo.ts (source code)\r\nimport * as foo from \"foo\";\r\n// ---------------------------\r\n// foo.js (compiled output)\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst tslib_1 = require(\"tslib\");\r\nconst foo = tslib_1.__importStar(require(\"foo\"));\r\n```\r\nIt saves some bundle size, but I am not entirely sure wheter we want that. Discussions are welcome!\n\nCo-authored-by: Veetaha <gerzoh1@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/856e4ba126ae776753f38c00593c02c4f43be510", "html_url": "https://github.com/rust-lang/rust/commit/856e4ba126ae776753f38c00593c02c4f43be510", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/856e4ba126ae776753f38c00593c02c4f43be510/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9006cec4928a28e4b70f536fc740fad5e82319d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/9006cec4928a28e4b70f536fc740fad5e82319d1", "html_url": "https://github.com/rust-lang/rust/commit/9006cec4928a28e4b70f536fc740fad5e82319d1"}, {"sha": "f08297983faac35e0b0fd475bc935ba0bc0726cb", "url": "https://api.github.com/repos/rust-lang/rust/commits/f08297983faac35e0b0fd475bc935ba0bc0726cb", "html_url": "https://github.com/rust-lang/rust/commit/f08297983faac35e0b0fd475bc935ba0bc0726cb"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "02e17d1846a02904677236e28e9920d11b872e8c", "filename": "editors/code/package-lock.json", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/856e4ba126ae776753f38c00593c02c4f43be510/editors%2Fcode%2Fpackage-lock.json", "raw_url": "https://github.com/rust-lang/rust/raw/856e4ba126ae776753f38c00593c02c4f43be510/editors%2Fcode%2Fpackage-lock.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage-lock.json?ref=856e4ba126ae776753f38c00593c02c4f43be510", "patch": "@@ -749,8 +749,7 @@\n         \"tslib\": {\n             \"version\": \"1.10.0\",\n             \"resolved\": \"https://registry.npmjs.org/tslib/-/tslib-1.10.0.tgz\",\n-            \"integrity\": \"sha512-qOebF53frne81cf0S9B41ByenJ3/IuH8yJKngAX35CmiZySA0khhkovshKK+jGCaMnVomla7gVlIcc3EvKPbTQ==\",\n-            \"dev\": true\n+            \"integrity\": \"sha512-qOebF53frne81cf0S9B41ByenJ3/IuH8yJKngAX35CmiZySA0khhkovshKK+jGCaMnVomla7gVlIcc3EvKPbTQ==\"\n         },\n         \"tslint\": {\n             \"version\": \"5.20.1\","}, {"sha": "beb7212105b3e1fd85dab23bbc870bd80b2bc55a", "filename": "editors/code/package.json", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/856e4ba126ae776753f38c00593c02c4f43be510/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/856e4ba126ae776753f38c00593c02c4f43be510/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=856e4ba126ae776753f38c00593c02c4f43be510", "patch": "@@ -26,7 +26,8 @@\n     \"dependencies\": {\n         \"jsonc-parser\": \"^2.1.0\",\n         \"seedrandom\": \"^3.0.5\",\n-        \"vscode-languageclient\": \"^6.1.0\"\n+        \"vscode-languageclient\": \"^6.1.0\",\n+        \"tslib\": \"^1.10.0\"\n     },\n     \"devDependencies\": {\n         \"@rollup/plugin-commonjs\": \"^11.0.1\",\n@@ -36,7 +37,6 @@\n         \"@types/seedrandom\": \"^2.4.28\",\n         \"@types/vscode\": \"^1.41.0\",\n         \"rollup\": \"^1.30.1\",\n-        \"tslib\": \"^1.10.0\",\n         \"tslint\": \"^5.20.1\",\n         \"typescript\": \"^3.7.5\",\n         \"typescript-formatter\": \"^7.2.2\","}, {"sha": "1e17e4510b3789e3edef726faae7a6a9826d8d7c", "filename": "editors/code/tsconfig.json", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/856e4ba126ae776753f38c00593c02c4f43be510/editors%2Fcode%2Ftsconfig.json", "raw_url": "https://github.com/rust-lang/rust/raw/856e4ba126ae776753f38c00593c02c4f43be510/editors%2Fcode%2Ftsconfig.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Ftsconfig.json?ref=856e4ba126ae776753f38c00593c02c4f43be510", "patch": "@@ -15,6 +15,7 @@\n         \"noFallthroughCasesInSwitch\": true,\n         \"newLine\": \"LF\",\n         \"esModuleInterop\": true,\n+        \"importHelpers\": true\n     },\n     \"exclude\": [\n         \"node_modules\""}]}