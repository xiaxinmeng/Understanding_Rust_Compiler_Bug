{"sha": "a9484d464741689383a93d7bc2f85c26416fcd57", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE5NDg0ZDQ2NDc0MTY4OTM4M2E5M2Q3YmMyZjg1YzI2NDE2ZmNkNTc=", "commit": {"author": {"name": "Thomas B\u00e4chler", "email": "thomas.baechler@gmx.de", "date": "2020-03-25T15:11:04Z"}, "committer": {"name": "Thomas B\u00e4chler", "email": "thomas.baechler@gmx.de", "date": "2020-03-25T15:11:46Z"}, "message": "Make x.py compatible with python 3.8.\n\nPython 3.8 removes the time.clock() function, use time.perf_counter() instead.", "tree": {"sha": "c2af7aeeb5cb94ed83df9cea30178486a15ecdd1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c2af7aeeb5cb94ed83df9cea30178486a15ecdd1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a9484d464741689383a93d7bc2f85c26416fcd57", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a9484d464741689383a93d7bc2f85c26416fcd57", "html_url": "https://github.com/rust-lang/rust/commit/a9484d464741689383a93d7bc2f85c26416fcd57", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a9484d464741689383a93d7bc2f85c26416fcd57/comments", "author": null, "committer": null, "parents": [{"sha": "cdb50c6f2507319f29104a25765bfb79ad53395c", "url": "https://api.github.com/repos/rust-lang/rust/commits/cdb50c6f2507319f29104a25765bfb79ad53395c", "html_url": "https://github.com/rust-lang/rust/commit/cdb50c6f2507319f29104a25765bfb79ad53395c"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "629c8e04ec533b0fc66f923b63794080c0dbc966", "filename": "src/etc/lldb_batchmode.py", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/a9484d464741689383a93d7bc2f85c26416fcd57/src%2Fetc%2Flldb_batchmode.py", "raw_url": "https://github.com/rust-lang/rust/raw/a9484d464741689383a93d7bc2f85c26416fcd57/src%2Fetc%2Flldb_batchmode.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Flldb_batchmode.py?ref=a9484d464741689383a93d7bc2f85c26416fcd57", "patch": "@@ -139,11 +139,17 @@ def listen():\n def start_watchdog():\n     \"\"\"Starts a watchdog thread that will terminate the process after a certain\n     period of time\"\"\"\n-    watchdog_start_time = time.clock()\n+\n+    try:\n+        from time import clock\n+    except ImportError:\n+        from time import perf_counter as clock\n+\n+    watchdog_start_time = clock()\n     watchdog_max_time = watchdog_start_time + 30\n \n     def watchdog():\n-        while time.clock() < watchdog_max_time:\n+        while clock() < watchdog_max_time:\n             time.sleep(1)\n         print(\"TIMEOUT: lldb_batchmode.py has been running for too long. Aborting!\")\n         thread.interrupt_main()"}]}