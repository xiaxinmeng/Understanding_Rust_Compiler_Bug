{"sha": "e1873ba007149e69bb996f7becadc796ed87fc0c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUxODczYmEwMDcxNDllNjliYjk5NmY3YmVjYWRjNzk2ZWQ4N2ZjMGM=", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2021-09-11T23:41:14Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2021-09-11T23:42:42Z"}, "message": "cleanup(rustc_trait_selection): remove vestigial code from rustc_on_unimplemented\n\nThis isn't allowed by the validator, and seems to be unused.\nWhen it was added in ed10a3faae1fd1176b2edf4a61438e0542c103b9,\nit was used on `Sized`, and that usage is gone.", "tree": {"sha": "29d69ec69228a03838878d52fca9de0d8ddf8f1d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/29d69ec69228a03838878d52fca9de0d8ddf8f1d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e1873ba007149e69bb996f7becadc796ed87fc0c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e1873ba007149e69bb996f7becadc796ed87fc0c", "html_url": "https://github.com/rust-lang/rust/commit/e1873ba007149e69bb996f7becadc796ed87fc0c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e1873ba007149e69bb996f7becadc796ed87fc0c/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "641e02f388acc6b1d316a59c605a32d1711a8758", "url": "https://api.github.com/repos/rust-lang/rust/commits/641e02f388acc6b1d316a59c605a32d1711a8758", "html_url": "https://github.com/rust-lang/rust/commit/641e02f388acc6b1d316a59c605a32d1711a8758"}], "stats": {"total": 4, "additions": 0, "deletions": 4}, "files": [{"sha": "41ef0795f255332a0e328200004c7ae51e24b19e", "filename": "compiler/rustc_span/src/symbol.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e1873ba007149e69bb996f7becadc796ed87fc0c/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1873ba007149e69bb996f7becadc796ed87fc0c/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs?ref=e1873ba007149e69bb996f7becadc796ed87fc0c", "patch": "@@ -934,7 +934,6 @@ symbols! {\n         panic_unwind,\n         panicking,\n         param_attrs,\n-        parent_trait,\n         partial_cmp,\n         partial_ord,\n         passes,"}, {"sha": "6128c119b6b765568a68dc692cccdfca332c368f", "filename": "compiler/rustc_trait_selection/src/traits/error_reporting/on_unimplemented.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e1873ba007149e69bb996f7becadc796ed87fc0c/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fon_unimplemented.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1873ba007149e69bb996f7becadc796ed87fc0c/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fon_unimplemented.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fon_unimplemented.rs?ref=e1873ba007149e69bb996f7becadc796ed87fc0c", "patch": "@@ -154,9 +154,6 @@ impl<'a, 'tcx> InferCtxtExt<'tcx> for InferCtxt<'a, 'tcx> {\n                 flags.push((sym::from_method, Some(method.to_string())));\n             }\n         }\n-        if let Some((t, _)) = self.get_parent_trait_ref(&obligation.cause.code) {\n-            flags.push((sym::parent_trait, Some(t)));\n-        }\n \n         if let Some(k) = obligation.cause.span.desugaring_kind() {\n             flags.push((sym::from_desugaring, None));"}]}