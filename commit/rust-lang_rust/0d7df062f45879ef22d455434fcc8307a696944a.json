{"sha": "0d7df062f45879ef22d455434fcc8307a696944a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBkN2RmMDYyZjQ1ODc5ZWYyMmQ0NTU0MzRmY2M4MzA3YTY5Njk0NGE=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-01-19T21:08:01Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-01-19T21:10:14Z"}, "message": "Teach configure to search for multiple commands-with-similar-names. Add NaturalDocs (vs. naturaldocs).", "tree": {"sha": "b21a759a02b1ab7d1945bf6c054ab6c196d8aad6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b21a759a02b1ab7d1945bf6c054ab6c196d8aad6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0d7df062f45879ef22d455434fcc8307a696944a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0d7df062f45879ef22d455434fcc8307a696944a", "html_url": "https://github.com/rust-lang/rust/commit/0d7df062f45879ef22d455434fcc8307a696944a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0d7df062f45879ef22d455434fcc8307a696944a/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0c237254b377168a999c41e45e988c2527b108a6", "url": "https://api.github.com/repos/rust-lang/rust/commits/0c237254b377168a999c41e45e988c2527b108a6", "html_url": "https://github.com/rust-lang/rust/commit/0c237254b377168a999c41e45e988c2527b108a6"}], "stats": {"total": 33, "additions": 17, "deletions": 16}, "files": [{"sha": "329ac38afd99c91e721188dd69681ab72c837e05", "filename": "configure", "status": "modified", "additions": 17, "deletions": 16, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/0d7df062f45879ef22d455434fcc8307a696944a/configure", "raw_url": "https://github.com/rust-lang/rust/raw/0d7df062f45879ef22d455434fcc8307a696944a/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=0d7df062f45879ef22d455434fcc8307a696944a", "patch": "@@ -61,25 +61,30 @@ putvar() {\n \n probe() {\n     local V=$1\n-    local P=$2\n+    shift\n+    local P\n     local T\n-    T=$(which $P 2>&1)\n-    if [ $? -ne 0 ]\n-    then\n-        T=\"\"\n-    fi\n+    for P\n+    do\n+        T=$(which $P 2>&1)\n+        if [ $? -eq 0 ]\n+        then\n+            break\n+        else\n+            T=\"\"\n+        fi\n+    done\n     eval $V=\\$T\n     putvar $V\n }\n \n probe_need() {\n     local V=$1\n-    local P=$2\n-    probe $V $P\n+    probe $*\n     eval VV=\\$$V\n     if [ -z \"$VV\" ]\n     then\n-        err \"required program '$P' not found\"\n+        err \"needed, but unable to find any of: $*\"\n     fi\n }\n \n@@ -275,7 +280,7 @@ fi\n step_msg \"looking for build programs\"\n \n probe_need CFG_PERL         perl\n-probe_need CFG_PYTHON       python\n+probe_need CFG_PYTHON       python python2.6 python2 python3\n probe_need CFG_CURL         curl\n \n probe CFG_GIT              git\n@@ -285,18 +290,14 @@ probe CFG_LLVM_CONFIG      llvm-config\n probe CFG_VALGRIND         valgrind\n probe CFG_PERF             perf\n probe CFG_MAKENSIS         makensis\n-probe CFG_NATURALDOCS      naturaldocs\n+probe CFG_NATURALDOCS      NaturalDocs naturaldocs\n probe CFG_LLNEXTGEN        LLnextgen\n probe CFG_PANDOC           pandoc\n probe CFG_PDFLATEX         pdflatex\n probe CFG_XETEX            xetex\n probe CFG_LUATEX           luatex\n-probe CFG_NODE             node\n+probe CFG_NODE             nodejs node\n \n-if [ -z \"$CFG_NODE\" ]\n-then\n-    probe CFG_NODE         nodejs\n-fi\n \n if [ ! -z \"$CFG_PANDOC\" ]\n then"}]}