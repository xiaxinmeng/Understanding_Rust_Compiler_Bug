{"sha": "631cbd2e11eda1937cefcd7d8ba7831cadec21cf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYzMWNiZDJlMTFlZGExOTM3Y2VmY2Q3ZDhiYTc4MzFjYWRlYzIxY2Y=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-11-29T17:36:40Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-11-29T17:36:40Z"}, "message": "auto merge of #10726 : pnkfelix/rust/fsk-remove-at-fn-artifact, r=thestinger\n\nWhile tracking down how this function became dead, identified a spot\r\n(@fn cannot happen) where we probably would prefer to ICE rather than\r\npass silently; so added fail! invocation.", "tree": {"sha": "523aeb2529128c9ee075a5547569332a60dda93a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/523aeb2529128c9ee075a5547569332a60dda93a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/631cbd2e11eda1937cefcd7d8ba7831cadec21cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/631cbd2e11eda1937cefcd7d8ba7831cadec21cf", "html_url": "https://github.com/rust-lang/rust/commit/631cbd2e11eda1937cefcd7d8ba7831cadec21cf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/631cbd2e11eda1937cefcd7d8ba7831cadec21cf/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6c672ee094a1a8e72c100100f43c73a9741f08a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/6c672ee094a1a8e72c100100f43c73a9741f08a7", "html_url": "https://github.com/rust-lang/rust/commit/6c672ee094a1a8e72c100100f43c73a9741f08a7"}, {"sha": "fffa10c175fcadd8c7f473e1f91d9776cf6c24f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/fffa10c175fcadd8c7f473e1f91d9776cf6c24f6", "html_url": "https://github.com/rust-lang/rust/commit/fffa10c175fcadd8c7f473e1f91d9776cf6c24f6"}], "stats": {"total": 12, "additions": 1, "deletions": 11}, "files": [{"sha": "bd6e7d528a7e00c7398af7917f37213ebea722bf", "filename": "src/librustc/middle/kind.rs", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/631cbd2e11eda1937cefcd7d8ba7831cadec21cf/src%2Flibrustc%2Fmiddle%2Fkind.rs", "raw_url": "https://github.com/rust-lang/rust/raw/631cbd2e11eda1937cefcd7d8ba7831cadec21cf/src%2Flibrustc%2Fmiddle%2Fkind.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fkind.rs?ref=631cbd2e11eda1937cefcd7d8ba7831cadec21cf", "patch": "@@ -182,17 +182,6 @@ fn with_appropriate_checker(cx: &Context,\n         check_freevar_bounds(cx, fv.span, var_t, bounds, None);\n     }\n \n-    fn check_for_box(cx: &Context, fv: &freevar_entry, bounds: ty::BuiltinBounds) {\n-        // all captured data must be owned\n-        let id = ast_util::def_id_of_def(fv.def).node;\n-        let var_t = ty::node_id_to_type(cx.tcx, id);\n-\n-        // check that only immutable variables are implicitly copied in\n-        check_imm_free_var(cx, fv.def, fv.span);\n-\n-        check_freevar_bounds(cx, fv.span, var_t, bounds, None);\n-    }\n-\n     fn check_for_block(cx: &Context, fv: &freevar_entry,\n                        bounds: ty::BuiltinBounds, region: ty::Region) {\n         let id = ast_util::def_id_of_def(fv.def).node;\n@@ -225,6 +214,7 @@ fn with_appropriate_checker(cx: &Context,\n             ..\n         }) => {\n             // can't happen\n+            fail!(\"internal error: saw closure with managed sigil (@fn)\");\n         }\n         ty::ty_closure(ty::ClosureTy {\n             sigil: BorrowedSigil,"}]}