{"sha": "78f3e9c3446425f01a2ec32056852b949f186ec2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc4ZjNlOWMzNDQ2NDI1ZjAxYTJlYzMyMDU2ODUyYjk0OWYxODZlYzI=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-06-19T06:56:08Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-06-19T06:56:08Z"}, "message": "Rollup merge of #73142 - ehuss:std-benches, r=dtolnay\n\nEnsure std benchmarks get tested.\n\nThis ensures that the std benchmarks don't break in the future. Currently they aren't compiled or tested on CI, so they can easily bitrot.  Testing a benchmark runs it with one iteration. Adding these should only add a few seconds to CI.\n\nCloses #54176\nCloses #61913", "tree": {"sha": "3aba5ee8988ff7a49bb214d2ce8fa68426663bcc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3aba5ee8988ff7a49bb214d2ce8fa68426663bcc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/78f3e9c3446425f01a2ec32056852b949f186ec2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJe7GGICRBK7hj4Ov3rIwAAdHIIACxK3MzdZxeI84w7UY0ekeYx\n7+Fl8jyzvMtZtPHecd3iH56jupUFBFRG/q6vWp94Obar7zPSeLRo0KYkHwSfI9Ww\nQY2S48QW/MpugwylpliXBz/hAgPxg8ak+fd8FwPed6axQLfMoMqHzliCtyR9OCXd\n/EIj3BXbQwI6hXMfCJkE80s6YYObQAPkeL3nOe9cm04zHJAmuS4WeRwG4hf5gks8\nPpUE0EM8dxmWiZLGnYXn+x/29j/b1ZZi9+s66m5grLGXDFfu9oeXuJBSVqYAOSHF\n1jkOpsskqI+Sf8+VHljpAcNjTnVKeWSdZf6Qef4BdWQRRqECCeJW4fF8xKaMFoM=\n=OyU4\n-----END PGP SIGNATURE-----\n", "payload": "tree 3aba5ee8988ff7a49bb214d2ce8fa68426663bcc\nparent 098949b50404dc2866f2e7236f74e7fe9bffc990\nparent 5a9ff052b4879e4ef6748c2f85563a7db0548c0b\nauthor Ralf Jung <post@ralfj.de> 1592549768 +0200\ncommitter GitHub <noreply@github.com> 1592549768 +0200\n\nRollup merge of #73142 - ehuss:std-benches, r=dtolnay\n\nEnsure std benchmarks get tested.\n\nThis ensures that the std benchmarks don't break in the future. Currently they aren't compiled or tested on CI, so they can easily bitrot.  Testing a benchmark runs it with one iteration. Adding these should only add a few seconds to CI.\n\nCloses #54176\nCloses #61913\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/78f3e9c3446425f01a2ec32056852b949f186ec2", "html_url": "https://github.com/rust-lang/rust/commit/78f3e9c3446425f01a2ec32056852b949f186ec2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/78f3e9c3446425f01a2ec32056852b949f186ec2/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "098949b50404dc2866f2e7236f74e7fe9bffc990", "url": "https://api.github.com/repos/rust-lang/rust/commits/098949b50404dc2866f2e7236f74e7fe9bffc990", "html_url": "https://github.com/rust-lang/rust/commit/098949b50404dc2866f2e7236f74e7fe9bffc990"}, {"sha": "5a9ff052b4879e4ef6748c2f85563a7db0548c0b", "url": "https://api.github.com/repos/rust-lang/rust/commits/5a9ff052b4879e4ef6748c2f85563a7db0548c0b", "html_url": "https://github.com/rust-lang/rust/commit/5a9ff052b4879e4ef6748c2f85563a7db0548c0b"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "914195f015b5a83daf9325285aa6074c61c79dec", "filename": "src/liballoc/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/78f3e9c3446425f01a2ec32056852b949f186ec2/src%2Fliballoc%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/78f3e9c3446425f01a2ec32056852b949f186ec2/src%2Fliballoc%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2FCargo.toml?ref=78f3e9c3446425f01a2ec32056852b949f186ec2", "patch": "@@ -25,6 +25,7 @@ path = \"../liballoc/tests/lib.rs\"\n [[bench]]\n name = \"collectionsbenches\"\n path = \"../liballoc/benches/lib.rs\"\n+test = true\n \n [[bench]]\n name = \"vec_deque_append_bench\""}, {"sha": "42c555cafac86f187ddeb681fe62eecf85e86c9d", "filename": "src/libcore/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/78f3e9c3446425f01a2ec32056852b949f186ec2/src%2Flibcore%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/78f3e9c3446425f01a2ec32056852b949f186ec2/src%2Flibcore%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2FCargo.toml?ref=78f3e9c3446425f01a2ec32056852b949f186ec2", "patch": "@@ -19,6 +19,7 @@ path = \"../libcore/tests/lib.rs\"\n [[bench]]\n name = \"corebenches\"\n path = \"../libcore/benches/lib.rs\"\n+test = true\n \n [dev-dependencies]\n rand = \"0.7\""}, {"sha": "de4ef7949f344a6842fe1d7c8d2a3214f59e18a1", "filename": "src/libcore/benches/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/78f3e9c3446425f01a2ec32056852b949f186ec2/src%2Flibcore%2Fbenches%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/78f3e9c3446425f01a2ec32056852b949f186ec2/src%2Flibcore%2Fbenches%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fbenches%2Flib.rs?ref=78f3e9c3446425f01a2ec32056852b949f186ec2", "patch": "@@ -1,3 +1,5 @@\n+// wasm32 does not support benches (no time).\n+#![cfg(not(target_arch = \"wasm32\"))]\n #![feature(flt2dec)]\n #![feature(test)]\n "}, {"sha": "490afb5a0438f9088c545d4ede084e4b3797d927", "filename": "src/libstd/Cargo.toml", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/78f3e9c3446425f01a2ec32056852b949f186ec2/src%2Flibstd%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/78f3e9c3446425f01a2ec32056852b949f186ec2/src%2Flibstd%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2FCargo.toml?ref=78f3e9c3446425f01a2ec32056852b949f186ec2", "patch": "@@ -74,3 +74,8 @@ std_detect_dlsym_getauxval = []\n threads = 125\n # Maximum heap size\n heap_size = 0x8000000\n+\n+[[bench]]\n+name = \"stdbenches\"\n+path = \"benches/lib.rs\"\n+test = true"}]}