{"sha": "4abcd4042c34a80872d0e687b9aa325e68b58d08", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhYmNkNDA0MmMzNGE4MDg3MmQwZTY4N2I5YWEzMjVlNjhiNThkMDg=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2021-03-19T14:03:14Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-03-19T14:03:14Z"}, "message": "Rollup merge of #82500 - CDirkx:hermit-pipe, r=joshtriplett\n\nReuse `std::sys::unsupported::pipe` on `hermit`\n\nPipes are not supported on `hermit` and `hermit/pipe.rs` is identical to `unsupported/pipe.rs`. This PR reduces duplication between the two by doing the following on `hermit`:\n\n```rust\n#[path = \"../unsupported/pipe.rs\"]\npub mod pipe;\n```", "tree": {"sha": "ef56d035215cec61e39ad46f9bf57c886f233532", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ef56d035215cec61e39ad46f9bf57c886f233532"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4abcd4042c34a80872d0e687b9aa325e68b58d08", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgVK8jCRBK7hj4Ov3rIwAAdHIIAAeJ107/SuFSZpPRXZPC3R1M\nxBMvkf8fXSIl9O1S9hN59H7uSoscFy8vWvLbcrkCodpGha8qvz1IPZuQx4m1KYHT\nnQCUbWV11vHbm+gjczFRyTiYGJJhW1U88GNld+dyph+ummvuj9iFHQ1Ic56ou9Qn\nNao9uP7AlDUhDXCNUhFITGEHLCzlYxXRBPtPMUdv6XB34TqoAXWT8G0vVYzLzt/L\nfuwiLjerFRnYFahTaqroBfDtqoqorkOIgl55mniy9hC4UXwfEDqmeu3KrWNUz86v\nPvBkk3MZaXH3vi0qaQtQqS0NB1fJf4+HRaF96V3YXXebQGmHaNT/L7vMJHu6CTM=\n=Oy11\n-----END PGP SIGNATURE-----\n", "payload": "tree ef56d035215cec61e39ad46f9bf57c886f233532\nparent eb95acea8aeaeef834214eaffb15d64095fe9271\nparent 2cbea9f98e6d93b85d5f603be311313d41b87525\nauthor Dylan DPC <dylan.dpc@gmail.com> 1616162594 +0100\ncommitter GitHub <noreply@github.com> 1616162594 +0100\n\nRollup merge of #82500 - CDirkx:hermit-pipe, r=joshtriplett\n\nReuse `std::sys::unsupported::pipe` on `hermit`\n\nPipes are not supported on `hermit` and `hermit/pipe.rs` is identical to `unsupported/pipe.rs`. This PR reduces duplication between the two by doing the following on `hermit`:\n\n```rust\n#[path = \"../unsupported/pipe.rs\"]\npub mod pipe;\n```\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4abcd4042c34a80872d0e687b9aa325e68b58d08", "html_url": "https://github.com/rust-lang/rust/commit/4abcd4042c34a80872d0e687b9aa325e68b58d08", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4abcd4042c34a80872d0e687b9aa325e68b58d08/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eb95acea8aeaeef834214eaffb15d64095fe9271", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb95acea8aeaeef834214eaffb15d64095fe9271", "html_url": "https://github.com/rust-lang/rust/commit/eb95acea8aeaeef834214eaffb15d64095fe9271"}, {"sha": "2cbea9f98e6d93b85d5f603be311313d41b87525", "url": "https://api.github.com/repos/rust-lang/rust/commits/2cbea9f98e6d93b85d5f603be311313d41b87525", "html_url": "https://github.com/rust-lang/rust/commit/2cbea9f98e6d93b85d5f603be311313d41b87525"}], "stats": {"total": 39, "additions": 1, "deletions": 38}, "files": [{"sha": "17a51abeb0ef67d6c5e21f21d45499704febdc13", "filename": "library/std/src/sys/hermit/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4abcd4042c34a80872d0e687b9aa325e68b58d08/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4abcd4042c34a80872d0e687b9aa325e68b58d08/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fmod.rs?ref=4abcd4042c34a80872d0e687b9aa325e68b58d08", "patch": "@@ -32,6 +32,7 @@ pub mod mutex;\n pub mod net;\n pub mod os;\n pub mod path;\n+#[path = \"../unsupported/pipe.rs\"]\n pub mod pipe;\n #[path = \"../unsupported/process.rs\"]\n pub mod process;"}, {"sha": "10d0925823eb94660278ce2390c892c093d7e3c6", "filename": "library/std/src/sys/hermit/pipe.rs", "status": "removed", "additions": 0, "deletions": 38, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/eb95acea8aeaeef834214eaffb15d64095fe9271/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fpipe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb95acea8aeaeef834214eaffb15d64095fe9271/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fpipe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fpipe.rs?ref=eb95acea8aeaeef834214eaffb15d64095fe9271", "patch": "@@ -1,38 +0,0 @@\n-use crate::io::{self, IoSlice, IoSliceMut};\n-use crate::sys::Void;\n-\n-pub struct AnonPipe(Void);\n-\n-impl AnonPipe {\n-    pub fn read(&self, _buf: &mut [u8]) -> io::Result<usize> {\n-        match self.0 {}\n-    }\n-\n-    pub fn read_vectored(&self, _bufs: &mut [IoSliceMut<'_>]) -> io::Result<usize> {\n-        match self.0 {}\n-    }\n-\n-    pub fn is_read_vectored(&self) -> bool {\n-        match self.0 {}\n-    }\n-\n-    pub fn write(&self, _buf: &[u8]) -> io::Result<usize> {\n-        match self.0 {}\n-    }\n-\n-    pub fn write_vectored(&self, _bufs: &[IoSlice<'_>]) -> io::Result<usize> {\n-        match self.0 {}\n-    }\n-\n-    pub fn is_write_vectored(&self) -> bool {\n-        match self.0 {}\n-    }\n-\n-    pub fn diverge(&self) -> ! {\n-        match self.0 {}\n-    }\n-}\n-\n-pub fn read2(p1: AnonPipe, _v1: &mut Vec<u8>, _p2: AnonPipe, _v2: &mut Vec<u8>) -> io::Result<()> {\n-    match p1.0 {}\n-}"}]}