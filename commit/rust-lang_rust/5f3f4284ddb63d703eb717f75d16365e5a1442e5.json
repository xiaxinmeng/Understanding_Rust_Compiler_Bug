{"sha": "5f3f4284ddb63d703eb717f75d16365e5a1442e5", "node_id": "C_kwDOAAsO6NoAKDVmM2Y0Mjg0ZGRiNjNkNzAzZWI3MTdmNzVkMTYzNjVlNWExNDQyZTU", "commit": {"author": {"name": "Amos Wenger", "email": "amoswenger@gmail.com", "date": "2022-07-22T16:16:46Z"}, "committer": {"name": "Amos Wenger", "email": "amoswenger@gmail.com", "date": "2022-07-24T08:38:19Z"}, "message": "Don't run slow tests in Rust CI, only RA CI", "tree": {"sha": "f3d78d955a2eb48d204e9172b178e1de3f7cd5dd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f3d78d955a2eb48d204e9172b178e1de3f7cd5dd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5f3f4284ddb63d703eb717f75d16365e5a1442e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5f3f4284ddb63d703eb717f75d16365e5a1442e5", "html_url": "https://github.com/rust-lang/rust/commit/5f3f4284ddb63d703eb717f75d16365e5a1442e5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5f3f4284ddb63d703eb717f75d16365e5a1442e5/comments", "author": {"login": "fasterthanlime", "id": 7998310, "node_id": "MDQ6VXNlcjc5OTgzMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/7998310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fasterthanlime", "html_url": "https://github.com/fasterthanlime", "followers_url": "https://api.github.com/users/fasterthanlime/followers", "following_url": "https://api.github.com/users/fasterthanlime/following{/other_user}", "gists_url": "https://api.github.com/users/fasterthanlime/gists{/gist_id}", "starred_url": "https://api.github.com/users/fasterthanlime/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fasterthanlime/subscriptions", "organizations_url": "https://api.github.com/users/fasterthanlime/orgs", "repos_url": "https://api.github.com/users/fasterthanlime/repos", "events_url": "https://api.github.com/users/fasterthanlime/events{/privacy}", "received_events_url": "https://api.github.com/users/fasterthanlime/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fasterthanlime", "id": 7998310, "node_id": "MDQ6VXNlcjc5OTgzMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/7998310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fasterthanlime", "html_url": "https://github.com/fasterthanlime", "followers_url": "https://api.github.com/users/fasterthanlime/followers", "following_url": "https://api.github.com/users/fasterthanlime/following{/other_user}", "gists_url": "https://api.github.com/users/fasterthanlime/gists{/gist_id}", "starred_url": "https://api.github.com/users/fasterthanlime/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fasterthanlime/subscriptions", "organizations_url": "https://api.github.com/users/fasterthanlime/orgs", "repos_url": "https://api.github.com/users/fasterthanlime/repos", "events_url": "https://api.github.com/users/fasterthanlime/events{/privacy}", "received_events_url": "https://api.github.com/users/fasterthanlime/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "977e12a0bdc3e329af179ef3a9d466af9eb613bb", "url": "https://api.github.com/repos/rust-lang/rust/commits/977e12a0bdc3e329af179ef3a9d466af9eb613bb", "html_url": "https://github.com/rust-lang/rust/commit/977e12a0bdc3e329af179ef3a9d466af9eb613bb"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "8a9cfb6c22e45e5dd8af957ea16a4bb1245c64aa", "filename": "crates/test-utils/src/lib.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/5f3f4284ddb63d703eb717f75d16365e5a1442e5/crates%2Ftest-utils%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5f3f4284ddb63d703eb717f75d16365e5a1442e5/crates%2Ftest-utils%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Ftest-utils%2Fsrc%2Flib.rs?ref=5f3f4284ddb63d703eb717f75d16365e5a1442e5", "patch": "@@ -8,9 +8,9 @@\n \n #![warn(rust_2018_idioms, unused_lifetimes, semicolon_in_expressions_from_macros)]\n \n+mod assert_linear;\n pub mod bench_fixture;\n mod fixture;\n-mod assert_linear;\n \n use std::{\n     collections::BTreeMap,\n@@ -391,7 +391,8 @@ fn main() {\n /// also creates a file at `./target/.slow_tests_cookie` which serves as a flag\n /// that slow tests did run.\n pub fn skip_slow_tests() -> bool {\n-    let should_skip = std::env::var(\"CI\").is_err() && std::env::var(\"RUN_SLOW_TESTS\").is_err();\n+    let should_skip = (std::env::var(\"CI\").is_err() && std::env::var(\"RUN_SLOW_TESTS\").is_err())\n+        || std::env::var(\"SKIP_SLOW_TESTS\").is_ok();\n     if should_skip {\n         eprintln!(\"ignoring slow test\");\n     } else {\n@@ -475,7 +476,7 @@ pub fn ensure_file_contents(file: &Path, contents: &str) {\n pub fn try_ensure_file_contents(file: &Path, contents: &str) -> Result<(), ()> {\n     match std::fs::read_to_string(file) {\n         Ok(old_contents) if normalize_newlines(&old_contents) == normalize_newlines(contents) => {\n-            return Ok(())\n+            return Ok(());\n         }\n         _ => (),\n     }"}]}