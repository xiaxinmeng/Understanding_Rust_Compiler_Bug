{"sha": "9d80c65be20ec1567c00859226fdaccae796524d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlkODBjNjViZTIwZWMxNTY3YzAwODU5MjI2ZmRhY2NhZTc5NjUyNGQ=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-09-01T13:14:07Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-09-01T13:14:07Z"}, "message": "Rollup merge of #53622 - petrochenkov:nomain, r=oli-obk\n\ncleanup: Add main functions to some UI tests", "tree": {"sha": "f1c5e3f457e4fbe22ff5f04c3698c9932faf40a6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f1c5e3f457e4fbe22ff5f04c3698c9932faf40a6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9d80c65be20ec1567c00859226fdaccae796524d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbipCfCRBK7hj4Ov3rIwAAdHIIAAnTZ1DjcVHDmmBu0fv6N5Uv\nzRM3Y3UcmxaxfcTK6vV0vN2eqxMySsQL+PInP4AbnnGFWSyaYp/nreYMbfDZp98W\nMJB6RV6ng0Zy6MqvaDR9UQEn5ZPkfFlpTuEsdKmBF80VxgPo8rvLosP9/CoqfMhI\nSyG3CmX2+8rtsE8kTBChlJvqHwUXCQDnQRGP9Lv3DLaCZhzdJudl8hNFdAMXC2t3\nvWpedSpHByIR+dgi0gkxEaYg8fii7qOTnRi4Sly4tdDWfyjMlFa234Y5W9wFUkad\nt2XeuLg3+xR/Nx+GQ2fWmEM4/SOHc/VenGhTBep+lu4xyv1bJxXbBuMJClvq+To=\n=kuuU\n-----END PGP SIGNATURE-----\n", "payload": "tree f1c5e3f457e4fbe22ff5f04c3698c9932faf40a6\nparent e6381a7f37402dd5f346256b3773ae2e72853fc3\nparent c56adf64136aba153cac4600986787e8646c0811\nauthor kennytm <kennytm@gmail.com> 1535807647 +0800\ncommitter GitHub <noreply@github.com> 1535807647 +0800\n\nRollup merge of #53622 - petrochenkov:nomain, r=oli-obk\n\ncleanup: Add main functions to some UI tests\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9d80c65be20ec1567c00859226fdaccae796524d", "html_url": "https://github.com/rust-lang/rust/commit/9d80c65be20ec1567c00859226fdaccae796524d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9d80c65be20ec1567c00859226fdaccae796524d/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e6381a7f37402dd5f346256b3773ae2e72853fc3", "url": "https://api.github.com/repos/rust-lang/rust/commits/e6381a7f37402dd5f346256b3773ae2e72853fc3", "html_url": "https://github.com/rust-lang/rust/commit/e6381a7f37402dd5f346256b3773ae2e72853fc3"}, {"sha": "c56adf64136aba153cac4600986787e8646c0811", "url": "https://api.github.com/repos/rust-lang/rust/commits/c56adf64136aba153cac4600986787e8646c0811", "html_url": "https://github.com/rust-lang/rust/commit/c56adf64136aba153cac4600986787e8646c0811"}], "stats": {"total": 256, "additions": 91, "deletions": 165}, "files": [{"sha": "dab22de1b6e58101ae13cfa0a110baa78f739bc1", "filename": "src/test/ui/enum/enum-discrim-autosizing.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fenum%2Fenum-discrim-autosizing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fenum%2Fenum-discrim-autosizing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fenum%2Fenum-discrim-autosizing.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -18,3 +18,4 @@ enum Eu64 {\n     Bu64 = 0x8000_0000_0000_0000 //~ERROR already exists\n }\n \n+fn main() {}"}, {"sha": "e4419d6285127a5312a94f04b1f3f331ee8547c9", "filename": "src/test/ui/enum/enum-discrim-autosizing.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fenum%2Fenum-discrim-autosizing.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fenum%2Fenum-discrim-autosizing.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fenum%2Fenum-discrim-autosizing.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -1,7 +1,3 @@\n-error[E0601]: `main` function not found in crate `enum_discrim_autosizing`\n-   |\n-   = note: consider adding a `main` function to `$DIR/enum-discrim-autosizing.rs`\n-\n error[E0081]: discriminant value `0` already exists\n   --> $DIR/enum-discrim-autosizing.rs:18:12\n    |\n@@ -10,7 +6,6 @@ LL |     Au64 = 0,\n LL |     Bu64 = 0x8000_0000_0000_0000 //~ERROR already exists\n    |            ^^^^^^^^^^^^^^^^^^^^^ enum already has `0`\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0081, E0601.\n-For more information about an error, try `rustc --explain E0081`.\n+For more information about this error, try `rustc --explain E0081`."}, {"sha": "0d74f9011c3ecdbac0c029c9ad94dd5b667b22cc", "filename": "src/test/ui/gated-bad-feature.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fgated-bad-feature.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fgated-bad-feature.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgated-bad-feature.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -20,3 +20,5 @@\n #![feature = \"foo\"] //~ ERROR: malformed feature\n \n #![feature(test_removed_feature)] //~ ERROR: feature has been removed\n+\n+fn main() {}"}, {"sha": "68be49a7277d26bb0b71a78fd4a4b89ed7c4d5a1", "filename": "src/test/ui/gated-bad-feature.stderr", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fgated-bad-feature.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fgated-bad-feature.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgated-bad-feature.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -28,11 +28,7 @@ error[E0557]: feature has been removed\n LL | #![feature(test_removed_feature)] //~ ERROR: feature has been removed\n    |            ^^^^^^^^^^^^^^^^^^^^\n \n-error[E0601]: `main` function not found in crate `gated_bad_feature`\n-   |\n-   = note: consider adding a `main` function to `$DIR/gated-bad-feature.rs`\n-\n-error: aborting due to 6 previous errors\n+error: aborting due to 5 previous errors\n \n-Some errors occurred: E0555, E0556, E0557, E0601.\n+Some errors occurred: E0555, E0556, E0557.\n For more information about an error, try `rustc --explain E0555`."}, {"sha": "efb3696cf851376557fb1f39a118a54422bda97e", "filename": "src/test/ui/hygiene/generate-mod.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fhygiene%2Fgenerate-mod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fhygiene%2Fgenerate-mod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fgenerate-mod.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -55,3 +55,5 @@ fn check_legacy() {\n     struct FromOutside;\n     genmod_legacy!();\n }\n+\n+fn main() {}"}, {"sha": "f86444bae77e817d3a884ae0fb80cb4b416f786e", "filename": "src/test/ui/hygiene/generate-mod.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fhygiene%2Fgenerate-mod.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fhygiene%2Fgenerate-mod.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fgenerate-mod.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -46,11 +46,6 @@ LL |         type Inner = Outer; //~ ERROR cannot find type `Outer` in this scop\n LL |     genmod_legacy!();\n    |     ----------------- in this macro invocation\n \n-error[E0601]: `main` function not found in crate `generate_mod`\n-   |\n-   = note: consider adding a `main` function to `$DIR/generate-mod.rs`\n-\n-error: aborting due to 7 previous errors\n+error: aborting due to 6 previous errors\n \n-Some errors occurred: E0412, E0601.\n-For more information about an error, try `rustc --explain E0412`.\n+For more information about this error, try `rustc --explain E0412`."}, {"sha": "bf07bc05491cc3752afd543338b08af9a5ff4c09", "filename": "src/test/ui/hygiene/no_implicit_prelude.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -23,3 +23,5 @@ mod bar {\n     }\n     fn f() { ::foo::m!(); }\n }\n+\n+fn main() {}"}, {"sha": "463fdbf00ce54bbc3783b5042395a90c36c82456", "filename": "src/test/ui/hygiene/no_implicit_prelude.stderr", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -7,10 +7,6 @@ LL |     fn f() { ::bar::m!(); }\n LL |         Vec::new(); //~ ERROR failed to resolve\n    |         ^^^ Use of undeclared type or module `Vec`\n \n-error[E0601]: `main` function not found in crate `no_implicit_prelude`\n-   |\n-   = note: consider adding a `main` function to `$DIR/no_implicit_prelude.rs`\n-\n error[E0599]: no method named `clone` found for type `()` in the current scope\n   --> $DIR/no_implicit_prelude.rs:22:12\n    |\n@@ -24,7 +20,7 @@ LL |         ().clone() //~ ERROR no method named `clone` found\n    = note: the following trait is implemented but not in scope, perhaps add a `use` for it:\n            `use std::clone::Clone;`\n \n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n-Some errors occurred: E0433, E0599, E0601.\n+Some errors occurred: E0433, E0599.\n For more information about an error, try `rustc --explain E0433`."}, {"sha": "b2e92fe0e1bf9212c78ce8dc0f4a29dddc5f4af5", "filename": "src/test/ui/imports/import-glob-circular.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fimports%2Fimport-glob-circular.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fimports%2Fimport-glob-circular.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fimport-glob-circular.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -25,3 +25,5 @@ mod test {\n \n     fn test() { f1066(); } //~ ERROR cannot find function `f1066` in this scope\n }\n+\n+fn main() {}"}, {"sha": "fdff04cc2414892bb320ab77f6e3336b4e75557d", "filename": "src/test/ui/imports/import-glob-circular.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fimports%2Fimport-glob-circular.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fimports%2Fimport-glob-circular.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fimport-glob-circular.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -4,11 +4,6 @@ error[E0425]: cannot find function `f1066` in this scope\n LL |     fn test() { f1066(); } //~ ERROR cannot find function `f1066` in this scope\n    |                 ^^^^^ not found in this scope\n \n-error[E0601]: `main` function not found in crate `import_glob_circular`\n-   |\n-   = note: consider adding a `main` function to `$DIR/import-glob-circular.rs`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0425, E0601.\n-For more information about an error, try `rustc --explain E0425`.\n+For more information about this error, try `rustc --explain E0425`."}, {"sha": "0bc968872db5bcc2a10b249ebaf378957e8f3614", "filename": "src/test/ui/imports/import-loop-2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fimports%2Fimport-loop-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fimports%2Fimport-loop-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fimport-loop-2.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -19,3 +19,5 @@ mod b {\n \n     fn main() { let y = x; }\n }\n+\n+fn main() {}"}, {"sha": "09c2e7918f37627fe213297e2b0eef074e1cec34", "filename": "src/test/ui/imports/import-loop-2.stderr", "status": "modified", "additions": 2, "deletions": 12, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fimports%2Fimport-loop-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fimports%2Fimport-loop-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fimport-loop-2.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -4,16 +4,6 @@ error[E0432]: unresolved import `a::x`\n LL |     pub use a::x;\n    |             ^^^^ no `x` in `a`\n \n-error[E0601]: `main` function not found in crate `import_loop_2`\n-   |\n-   = note: the main function must be defined at the crate level but you have one or more functions named 'main' that are not defined at the crate level. Either move the definition or attach the `#[main]` attribute to override this behavior.\n-note: here is a function named 'main'\n-  --> $DIR/import-loop-2.rs:20:5\n-   |\n-LL |     fn main() { let y = x; }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0432, E0601.\n-For more information about an error, try `rustc --explain E0432`.\n+For more information about this error, try `rustc --explain E0432`."}, {"sha": "904a9acf9e53097f41f00996de95307aa4f85f16", "filename": "src/test/ui/invalid_crate_type_syntax.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Finvalid_crate_type_syntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Finvalid_crate_type_syntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finvalid_crate_type_syntax.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -12,3 +12,5 @@\n #![crate_type(lib)]  //~ ERROR `crate_type` requires a value\n \n fn my_lib_fn() {}\n+\n+fn main() {}"}, {"sha": "6f02f96faca93e91c7a753c734d42cf037f75669", "filename": "src/test/ui/invalid_crate_type_syntax.stderr", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Finvalid_crate_type_syntax.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Finvalid_crate_type_syntax.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finvalid_crate_type_syntax.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -6,10 +6,5 @@ LL | #![crate_type(lib)]  //~ ERROR `crate_type` requires a value\n    |\n    = note: for example: `#![crate_type=\"lib\"]`\n \n-error[E0601]: `main` function not found in crate `invalid_crate_type_syntax`\n-   |\n-   = note: consider adding a `main` function to `$DIR/invalid_crate_type_syntax.rs`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0601`."}, {"sha": "5c745d1fab3b5374a367f8cf2f0af04d9abd753c", "filename": "src/test/ui/issues/issue-38715.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-38715.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-38715.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-38715.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -14,3 +14,5 @@ macro_rules! foo { ($i:ident) => {} }\n #[macro_export]\n macro_rules! foo { () => {} } //~ ERROR a macro named `foo` has already been exported\n                               //~| WARN this was previously accepted\n+\n+fn main() {}"}, {"sha": "67b27cc83cc897e74ea42ea3b41039dd525c8b88", "filename": "src/test/ui/issues/issue-38715.stderr", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-38715.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-38715.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-38715.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -13,10 +13,5 @@ note: previous macro export is now shadowed\n LL | macro_rules! foo { ($i:ident) => {} }\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0601]: `main` function not found in crate `issue_38715`\n-   |\n-   = note: consider adding a `main` function to `$DIR/issue-38715.rs`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0601`."}, {"sha": "46c8cb740ded7cfc3b101d87a2039115490963b2", "filename": "src/test/ui/issues/issue-42755.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-42755.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-42755.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-42755.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -15,3 +15,5 @@ macro_rules! foo {\n }\n \n foo!(a);\n+\n+fn main() {}"}, {"sha": "fa736edc47f5bf8207b045f332a00575764ab0d4", "filename": "src/test/ui/issues/issue-42755.stderr", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-42755.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-42755.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-42755.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -4,10 +4,5 @@ error: repetition matches empty token tree\n LL |     ($($p:vis)*) => {} //~ ERROR repetition matches empty token tree\n    |       ^^^^^^^^\n \n-error[E0601]: `main` function not found in crate `issue_42755`\n-   |\n-   = note: consider adding a `main` function to `$DIR/issue-42755.rs`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0601`."}, {"sha": "1ff1238ec54b83724b806bca0bd5875ed8aeee6f", "filename": "src/test/ui/issues/issue-43784-associated-type.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-43784-associated-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-43784-associated-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-43784-associated-type.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -23,3 +23,5 @@ impl<T> Partial<T> for T::Assoc where\n impl<T> Complete for T { //~ ERROR the trait bound `T: std::marker::Copy` is not satisfied\n     type Assoc = T;\n }\n+\n+fn main() {}"}, {"sha": "18e97e24b733a334315853005787a5d2fdbfa769", "filename": "src/test/ui/issues/issue-43784-associated-type.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-43784-associated-type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-43784-associated-type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-43784-associated-type.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -1,7 +1,3 @@\n-error[E0601]: `main` function not found in crate `issue_43784_associated_type`\n-   |\n-   = note: consider adding a `main` function to `$DIR/issue-43784-associated-type.rs`\n-\n error[E0277]: the trait bound `T: std::marker::Copy` is not satisfied\n   --> $DIR/issue-43784-associated-type.rs:23:9\n    |\n@@ -10,7 +6,6 @@ LL | impl<T> Complete for T { //~ ERROR the trait bound `T: std::marker::Copy` i\n    |\n    = help: consider adding a `where T: std::marker::Copy` bound\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0277, E0601.\n-For more information about an error, try `rustc --explain E0277`.\n+For more information about this error, try `rustc --explain E0277`."}, {"sha": "30132c3be88a7a4f9bc700db7bb1c6c5ecef5b0f", "filename": "src/test/ui/issues/issue-43784-supertrait.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-43784-supertrait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-43784-supertrait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-43784-supertrait.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -16,3 +16,5 @@ pub trait Complete: Partial {\n \n impl<T> Partial for T where T: Complete {}\n impl<T> Complete for T {} //~ ERROR the trait bound `T: std::marker::Copy` is not satisfied\n+\n+fn main() {}"}, {"sha": "422075f62aa0d086771646a276a8b9e3ae13645a", "filename": "src/test/ui/issues/issue-43784-supertrait.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-43784-supertrait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fissues%2Fissue-43784-supertrait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-43784-supertrait.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -1,7 +1,3 @@\n-error[E0601]: `main` function not found in crate `issue_43784_supertrait`\n-   |\n-   = note: consider adding a `main` function to `$DIR/issue-43784-supertrait.rs`\n-\n error[E0277]: the trait bound `T: std::marker::Copy` is not satisfied\n   --> $DIR/issue-43784-supertrait.rs:18:9\n    |\n@@ -10,7 +6,6 @@ LL | impl<T> Complete for T {} //~ ERROR the trait bound `T: std::marker::Copy`\n    |\n    = help: consider adding a `where T: std::marker::Copy` bound\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0277, E0601.\n-For more information about an error, try `rustc --explain E0277`.\n+For more information about this error, try `rustc --explain E0277`."}, {"sha": "fefc6ff6ca615559862dfa7f8188f7d30bd499df", "filename": "src/test/ui/macros/macro-use-bad-args-1.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-1.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -13,3 +13,5 @@\n #[allow(unused_extern_crates)]\n #[macro_use(foo(bar))]  //~ ERROR bad macro import\n extern crate std;\n+\n+fn main() {}"}, {"sha": "308fb6c76e1b9444d9bc862235281e6f7c4bed16", "filename": "src/test/ui/macros/macro-use-bad-args-1.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-1.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -4,11 +4,6 @@ error[E0466]: bad macro import\n LL | #[macro_use(foo(bar))]  //~ ERROR bad macro import\n    |             ^^^^^^^^\n \n-error[E0601]: `main` function not found in crate `macro_use_bad_args_1`\n-   |\n-   = note: consider adding a `main` function to `$DIR/macro-use-bad-args-1.rs`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0466, E0601.\n-For more information about an error, try `rustc --explain E0466`.\n+For more information about this error, try `rustc --explain E0466`."}, {"sha": "81352cf2e427de855c7972fb4cd9adcedf1e08de", "filename": "src/test/ui/macros/macro-use-bad-args-2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-2.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -13,3 +13,5 @@\n #[allow(unused_extern_crates)]\n #[macro_use(foo=\"bar\")]  //~ ERROR bad macro import\n extern crate std;\n+\n+fn main() {}"}, {"sha": "62e3c22fab3ec5b2e256dc49a280d233b60fc9c3", "filename": "src/test/ui/macros/macro-use-bad-args-2.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-bad-args-2.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -4,11 +4,6 @@ error[E0466]: bad macro import\n LL | #[macro_use(foo=\"bar\")]  //~ ERROR bad macro import\n    |             ^^^^^^^^^\n \n-error[E0601]: `main` function not found in crate `macro_use_bad_args_2`\n-   |\n-   = note: consider adding a `main` function to `$DIR/macro-use-bad-args-2.rs`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0466, E0601.\n-For more information about an error, try `rustc --explain E0466`.\n+For more information about this error, try `rustc --explain E0466`."}, {"sha": "2378cccf56f76c34e8590116e9755cde779f3adf", "filename": "src/test/ui/nested-ty-params.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fnested-ty-params.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fnested-ty-params.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnested-ty-params.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -14,3 +14,5 @@ fn hd<U>(v: Vec<U> ) -> U {\n \n     return hd1(v);\n }\n+\n+fn main() {}"}, {"sha": "58b6cd18989f2171db70f3c272bfac407acdf64b", "filename": "src/test/ui/nested-ty-params.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fnested-ty-params.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fnested-ty-params.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnested-ty-params.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -18,11 +18,6 @@ LL |     fn hd1(w: [U]) -> U { return w[0]; }\n    |        |\n    |        help: try using a local type parameter instead: `hd1<U>`\n \n-error[E0601]: `main` function not found in crate `nested_ty_params`\n-   |\n-   = note: consider adding a `main` function to `$DIR/nested-ty-params.rs`\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n-Some errors occurred: E0401, E0601.\n-For more information about an error, try `rustc --explain E0401`.\n+For more information about this error, try `rustc --explain E0401`."}, {"sha": "be6f3cf9eb205e96af215e105084299595dc8019", "filename": "src/test/ui/repr/repr-transparent-other-items.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-items.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -36,3 +36,5 @@ fn cant_repr_this() {}\n \n #[repr(transparent)] //~ ERROR should be applied to struct\n static CANT_REPR_THIS: u32 = 0;\n+\n+fn main() {}"}, {"sha": "5a1978991480e62041e155fc916f556063301710", "filename": "src/test/ui/repr/repr-transparent-other-items.stderr", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-items.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-items.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-items.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -1,7 +1,3 @@\n-error[E0601]: `main` function not found in crate `repr_transparent_other_items`\n-   |\n-   = note: consider adding a `main` function to `$DIR/repr-transparent-other-items.rs`\n-\n error[E0517]: attribute should be applied to struct\n   --> $DIR/repr-transparent-other-items.rs:13:8\n    |\n@@ -67,7 +63,7 @@ LL | #[repr(transparent)] //~ ERROR unsupported representation for zero-variant\n LL | enum Void {}         //~| ERROR should be applied to struct\n    | ------------ zero-variant enum\n \n-error: aborting due to 8 previous errors\n+error: aborting due to 7 previous errors\n \n-Some errors occurred: E0084, E0517, E0601.\n+Some errors occurred: E0084, E0517.\n For more information about an error, try `rustc --explain E0084`."}, {"sha": "aed8a69f66ef81e6518799a3fa58b31fdcfd1a12", "filename": "src/test/ui/repr/repr-transparent-other-reprs.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-reprs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-reprs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-reprs.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -26,3 +26,5 @@ struct TransparentPlusAlign(u8);\n #[repr(transparent)] //~ ERROR cannot have other repr\n #[repr(C)]\n struct SeparateAttributes(*mut u8);\n+\n+fn main() {}"}, {"sha": "c8f5dea3c1242e60b1d5cd4193ea089d8d954239", "filename": "src/test/ui/repr/repr-transparent-other-reprs.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-reprs.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-reprs.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frepr%2Frepr-transparent-other-reprs.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -1,7 +1,3 @@\n-error[E0601]: `main` function not found in crate `repr_transparent_other_reprs`\n-   |\n-   = note: consider adding a `main` function to `$DIR/repr-transparent-other-reprs.rs`\n-\n error[E0692]: transparent struct cannot have other repr hints\n   --> $DIR/repr-transparent-other-reprs.rs:15:8\n    |\n@@ -28,7 +24,6 @@ LL | #[repr(transparent)] //~ ERROR cannot have other repr\n LL | #[repr(C)]\n    |        ^\n \n-error: aborting due to 5 previous errors\n+error: aborting due to 4 previous errors\n \n-Some errors occurred: E0601, E0692.\n-For more information about an error, try `rustc --explain E0601`.\n+For more information about this error, try `rustc --explain E0692`."}, {"sha": "f5b99af156ee0567d3c7547aba9a143f21ba0f00", "filename": "src/test/ui/repr/repr-transparent.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frepr%2Frepr-transparent.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -48,3 +48,5 @@ struct ZstAlign32<T>(PhantomData<T>);\n \n #[repr(transparent)]\n struct GenericAlign<T>(ZstAlign32<T>, u32); //~ ERROR alignment larger than 1\n+\n+fn main() {}"}, {"sha": "f7bfdbdc625bbd70e4db39276416365adec948a8", "filename": "src/test/ui/repr/repr-transparent.stderr", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Frepr%2Frepr-transparent.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frepr%2Frepr-transparent.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -1,7 +1,3 @@\n-error[E0601]: `main` function not found in crate `repr_transparent`\n-   |\n-   = note: consider adding a `main` function to `$DIR/repr-transparent.rs`\n-\n error[E0690]: transparent struct needs exactly one non-zero-sized field, but has 0\n   --> $DIR/repr-transparent.rs:21:1\n    |\n@@ -70,7 +66,7 @@ error[E0691]: zero-sized field in transparent struct has alignment larger than 1\n LL | struct GenericAlign<T>(ZstAlign32<T>, u32); //~ ERROR alignment larger than 1\n    |                        ^^^^^^^^^^^^^\n \n-error: aborting due to 9 previous errors\n+error: aborting due to 8 previous errors\n \n-Some errors occurred: E0601, E0690, E0691.\n-For more information about an error, try `rustc --explain E0601`.\n+Some errors occurred: E0690, E0691.\n+For more information about an error, try `rustc --explain E0690`."}, {"sha": "05bf4b928b7251abc421ec09afb31e8bc3a0c8a0", "filename": "src/test/ui/resolve/resolve-unknown-trait.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fresolve%2Fresolve-unknown-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fresolve%2Fresolve-unknown-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fresolve-unknown-trait.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -17,3 +17,5 @@ impl SomeNonExistentTrait for isize {}\n \n fn f<T:SomeNonExistentTrait>() {}\n //~^ ERROR cannot find trait `SomeNonExistentTrait` in this scope\n+\n+fn main() {}"}, {"sha": "74b190f86845fcd23369cd7c83a970efc03b4d7a", "filename": "src/test/ui/resolve/resolve-unknown-trait.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fresolve%2Fresolve-unknown-trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fresolve%2Fresolve-unknown-trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fresolve-unknown-trait.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -16,11 +16,6 @@ error[E0405]: cannot find trait `SomeNonExistentTrait` in this scope\n LL | fn f<T:SomeNonExistentTrait>() {}\n    |        ^^^^^^^^^^^^^^^^^^^^ not found in this scope\n \n-error[E0601]: `main` function not found in crate `resolve_unknown_trait`\n-   |\n-   = note: consider adding a `main` function to `$DIR/resolve-unknown-trait.rs`\n-\n-error: aborting due to 4 previous errors\n+error: aborting due to 3 previous errors\n \n-Some errors occurred: E0405, E0601.\n-For more information about an error, try `rustc --explain E0405`.\n+For more information about this error, try `rustc --explain E0405`."}, {"sha": "c5dd367c0ab88e21fd4f25e87b51e9869d207a93", "filename": "src/test/ui/resolve_self_super_hint.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fresolve_self_super_hint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fresolve_self_super_hint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve_self_super_hint.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -32,3 +32,5 @@ mod a {\n         }\n     }\n }\n+\n+fn main() {}"}, {"sha": "40b2a4bf9684254a705c763c258e139b15200124", "filename": "src/test/ui/resolve_self_super_hint.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fresolve_self_super_hint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fresolve_self_super_hint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve_self_super_hint.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -22,11 +22,6 @@ error[E0432]: unresolved import `alloc`\n LL |                 use alloc::HashMap;\n    |                     ^^^^^ Did you mean `a::alloc`?\n \n-error[E0601]: `main` function not found in crate `resolve_self_super_hint`\n-   |\n-   = note: consider adding a `main` function to `$DIR/resolve_self_super_hint.rs`\n-\n-error: aborting due to 5 previous errors\n+error: aborting due to 4 previous errors\n \n-Some errors occurred: E0432, E0601.\n-For more information about an error, try `rustc --explain E0432`.\n+For more information about this error, try `rustc --explain E0432`."}, {"sha": "068eb7a448556cc02d3e639cb14dbcb3b1993c36", "filename": "src/test/ui/specialization/defaultimpl/validation.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fspecialization%2Fdefaultimpl%2Fvalidation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fspecialization%2Fdefaultimpl%2Fvalidation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspecialization%2Fdefaultimpl%2Fvalidation.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -21,3 +21,5 @@ default impl !Send for Z {} //~ ERROR impls of auto traits cannot be default\n \n trait Tr {}\n default impl !Tr for S {} //~ ERROR negative impls are only allowed for auto traits\n+\n+fn main() {}"}, {"sha": "c25c428eb4e9403d9a3138cdbd1b86577150cdc7", "filename": "src/test/ui/specialization/defaultimpl/validation.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fspecialization%2Fdefaultimpl%2Fvalidation.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fspecialization%2Fdefaultimpl%2Fvalidation.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspecialization%2Fdefaultimpl%2Fvalidation.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -6,10 +6,6 @@ LL | default impl S {} //~ ERROR inherent impls cannot be default\n    |\n    = note: only trait implementations may be annotated with default\n \n-error[E0601]: `main` function not found in crate `validation`\n-   |\n-   = note: consider adding a `main` function to `$DIR/validation.rs`\n-\n error: impls of auto traits cannot be default\n   --> $DIR/validation.rs:19:1\n    |\n@@ -28,7 +24,6 @@ error[E0192]: negative impls are only allowed for auto traits (e.g., `Send` and\n LL | default impl !Tr for S {} //~ ERROR negative impls are only allowed for auto traits\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error: aborting due to 5 previous errors\n+error: aborting due to 4 previous errors\n \n-Some errors occurred: E0192, E0601.\n-For more information about an error, try `rustc --explain E0192`.\n+For more information about this error, try `rustc --explain E0192`."}, {"sha": "c8b77bfabdb9568733a0c085818b7fd3e2ea38d7", "filename": "src/test/ui/tuple/tuple-struct-fields/test.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Ftuple%2Ftuple-struct-fields%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Ftuple%2Ftuple-struct-fields%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftuple%2Ftuple-struct-fields%2Ftest.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -15,3 +15,5 @@ mod foo {\n     //~^ ERROR expected one of `)` or `,`, found `(`\n     //~| ERROR cannot find type `foo` in this scope\n }\n+\n+fn main() {}"}, {"sha": "f83e9dd5458fbad6d370fa68d4f36ea0684dfe80", "filename": "src/test/ui/tuple/tuple-struct-fields/test.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Ftuple%2Ftuple-struct-fields%2Ftest.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Ftuple%2Ftuple-struct-fields%2Ftest.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftuple%2Ftuple-struct-fields%2Ftest.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -10,11 +10,6 @@ error[E0412]: cannot find type `foo` in this scope\n LL |     struct S2(pub((foo)) ());\n    |                    ^^^ not found in this scope\n \n-error[E0601]: `main` function not found in crate `test`\n-   |\n-   = note: consider adding a `main` function to `$DIR/test.rs`\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n-Some errors occurred: E0412, E0601.\n-For more information about an error, try `rustc --explain E0412`.\n+For more information about this error, try `rustc --explain E0412`."}, {"sha": "efa7494647691a28ed57e277e0cdfce0e398bbac", "filename": "src/test/ui/unresolved/unresolved-import.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Funresolved%2Funresolved-import.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Funresolved%2Funresolved-import.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funresolved%2Funresolved-import.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -55,3 +55,5 @@ mod items {\n \n     fn item() {}\n }\n+\n+fn main() {}"}, {"sha": "9bcebb0011a75d9336ae2c4a362bb99b395597ca", "filename": "src/test/ui/unresolved/unresolved-import.stderr", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Funresolved%2Funresolved-import.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Funresolved%2Funresolved-import.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funresolved%2Funresolved-import.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -34,11 +34,6 @@ error[E0432]: unresolved import `Enum`\n LL |     use Enum::*; //~ ERROR unresolved import `Enum` [E0432]\n    |         ^^^^ Did you mean `self::Enum`?\n \n-error[E0601]: `main` function not found in crate `unresolved_import`\n-   |\n-   = note: consider adding a `main` function to `$DIR/unresolved-import.rs`\n-\n-error: aborting due to 7 previous errors\n+error: aborting due to 6 previous errors\n \n-Some errors occurred: E0432, E0601.\n-For more information about an error, try `rustc --explain E0432`.\n+For more information about this error, try `rustc --explain E0432`."}, {"sha": "fe76d58f1ef76d26444eaf809ba38e4df62d77a7", "filename": "src/test/ui/user-defined-macro-rules.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fuser-defined-macro-rules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fuser-defined-macro-rules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuser-defined-macro-rules.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -11,3 +11,5 @@\n #![allow(unused_macros)]\n \n macro_rules! macro_rules { () => {} } //~ ERROR user-defined macros may not be named `macro_rules`\n+\n+fn main() {}"}, {"sha": "1f8b18166c9c96124461bc2fc5eb14522e2f5113", "filename": "src/test/ui/user-defined-macro-rules.stderr", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fuser-defined-macro-rules.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fuser-defined-macro-rules.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuser-defined-macro-rules.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -4,10 +4,5 @@ error: user-defined macros may not be named `macro_rules`\n LL | macro_rules! macro_rules { () => {} } //~ ERROR user-defined macros may not be named `macro_rules`\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0601]: `main` function not found in crate `user_defined_macro_rules`\n-   |\n-   = note: consider adding a `main` function to `$DIR/user-defined-macro-rules.rs`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0601`."}, {"sha": "9f431e78061391e98e473977a799faea28ab4c4a", "filename": "src/test/ui/wasm-custom-section-relocations.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fwasm-custom-section-relocations.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fwasm-custom-section-relocations.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwasm-custom-section-relocations.rs?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -21,3 +21,5 @@ pub static C: usize = 3;\n \n #[link_section = \"test\"]\n pub static D: &usize = &C; //~ ERROR: no extra levels of indirection\n+\n+fn main() {}"}, {"sha": "cea6e5c41923a1013a1d5e754d7c5ee29829172c", "filename": "src/test/ui/wasm-custom-section-relocations.stderr", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fwasm-custom-section-relocations.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9d80c65be20ec1567c00859226fdaccae796524d/src%2Ftest%2Fui%2Fwasm-custom-section-relocations.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwasm-custom-section-relocations.stderr?ref=9d80c65be20ec1567c00859226fdaccae796524d", "patch": "@@ -1,7 +1,3 @@\n-error[E0601]: `main` function not found in crate `wasm_custom_section_relocations`\n-   |\n-   = note: consider adding a `main` function to `$DIR/wasm-custom-section-relocations.rs`\n-\n error: statics with a custom `#[link_section]` must be a simple list of bytes on the wasm target with no extra levels of indirection such as references\n   --> $DIR/wasm-custom-section-relocations.rs:14:1\n    |\n@@ -14,6 +10,5 @@ error: statics with a custom `#[link_section]` must be a simple list of bytes on\n LL | pub static D: &usize = &C; //~ ERROR: no extra levels of indirection\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0601`."}]}