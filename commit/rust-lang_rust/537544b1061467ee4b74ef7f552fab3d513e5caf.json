{"sha": "537544b1061467ee4b74ef7f552fab3d513e5caf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUzNzU0NGIxMDYxNDY3ZWU0Yjc0ZWY3ZjU1MmZhYjNkNTEzZTVjYWY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-04-28T02:45:03Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-04-28T02:45:03Z"}, "message": "Auto merge of #84498 - workingjubilee:update-grab-bag, r=Mark-Simulacrum\n\nUpdate grab bag\n\nThis PR slides a bunch of crate versions forward until suddenly a bunch of deps fall out of the tree!\nIn doing so this mostly picks up a version bump in the `redox_users` crate which makes most of the features default to optional.\n\ncrossbeam-utils 0.7 => 0.8.3 (where applicable)\nhttps://github.com/crossbeam-rs/crossbeam/blob/master/crossbeam-utils/CHANGELOG.md\ndirectories 3.0.1 => 3.0.2\nignore 0.4.16 => 0.4.17\ntempfile 3.0.5 => tempfile 3.2\n\nRemoves constant_time_eq from deps exceptions\nRemoves arrayref from deps exceptions\nAnd also removes:\n- blake2b_simd\n- const_fn (the package, not the feature)\n- constant_time_eq\n- redox_users 0.3.4\n- rust-argon2", "tree": {"sha": "afeaca6af3f962c7398f27cf06b430070ad47790", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/afeaca6af3f962c7398f27cf06b430070ad47790"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/537544b1061467ee4b74ef7f552fab3d513e5caf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/537544b1061467ee4b74ef7f552fab3d513e5caf", "html_url": "https://github.com/rust-lang/rust/commit/537544b1061467ee4b74ef7f552fab3d513e5caf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/537544b1061467ee4b74ef7f552fab3d513e5caf/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "27bd3f51a90733aabee45a9019a3aa785eccfd05", "url": "https://api.github.com/repos/rust-lang/rust/commits/27bd3f51a90733aabee45a9019a3aa785eccfd05", "html_url": "https://github.com/rust-lang/rust/commit/27bd3f51a90733aabee45a9019a3aa785eccfd05"}, {"sha": "7d3186d92a485f549b7ada938cb3cf3bf5f7f769", "url": "https://api.github.com/repos/rust-lang/rust/commits/7d3186d92a485f549b7ada938cb3cf3bf5f7f769", "html_url": "https://github.com/rust-lang/rust/commit/7d3186d92a485f549b7ada938cb3cf3bf5f7f769"}], "stats": {"total": 115, "additions": 28, "deletions": 87}, "files": [{"sha": "b3fa511839b1d3cda830d93edc0cb62d15d80db9", "filename": "Cargo.lock", "status": "modified", "additions": 22, "deletions": 80, "changes": 102, "blob_url": "https://github.com/rust-lang/rust/blob/537544b1061467ee4b74ef7f552fab3d513e5caf/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/537544b1061467ee4b74ef7f552fab3d513e5caf/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=537544b1061467ee4b74ef7f552fab3d513e5caf", "patch": "@@ -103,12 +103,6 @@ version = \"1.0.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"8f8cb5d814eb646a863c4f24978cff2880c4be96ad8cde2c0f0678732902e271\"\n \n-[[package]]\n-name = \"arrayref\"\n-version = \"0.3.6\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a4c527152e37cf757a3f78aae5a06fbeefdb07ccc535c980a3208ee3060dd544\"\n-\n [[package]]\n name = \"arrayvec\"\n version = \"0.5.2\"\n@@ -138,12 +132,6 @@ version = \"1.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"f8aac770f1885fd7e387acedd76065302551364496e46b3dd00860b2f8359b9d\"\n \n-[[package]]\n-name = \"base64\"\n-version = \"0.11.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b41b7ea54a0c9d92199de89e20e58d49f02f8e699814ef3fdf266f6f748d15c7\"\n-\n [[package]]\n name = \"bitflags\"\n version = \"1.2.1\"\n@@ -159,17 +147,6 @@ dependencies = [\n  \"typenum\",\n ]\n \n-[[package]]\n-name = \"blake2b_simd\"\n-version = \"0.5.10\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d8fb2d74254a3a0b5cac33ac9f8ed0e44aa50378d9dbb2e5d83bd21ed1dc2c8a\"\n-dependencies = [\n- \"arrayref\",\n- \"arrayvec 0.5.2\",\n- \"constant_time_eq\",\n-]\n-\n [[package]]\n name = \"block-buffer\"\n version = \"0.7.3\"\n@@ -298,7 +275,7 @@ dependencies = [\n  \"cargo-util\",\n  \"clap\",\n  \"crates-io\",\n- \"crossbeam-utils 0.8.0\",\n+ \"crossbeam-utils 0.8.3\",\n  \"curl\",\n  \"curl-sys\",\n  \"env_logger 0.8.1\",\n@@ -729,18 +706,6 @@ dependencies = [\n  \"winapi 0.3.9\",\n ]\n \n-[[package]]\n-name = \"const_fn\"\n-version = \"0.4.3\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c478836e029dcef17fb47c89023448c64f781a046e0300e257ad8225ae59afab\"\n-\n-[[package]]\n-name = \"constant_time_eq\"\n-version = \"0.1.5\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"245097e9a4535ee1e3e3931fcfcd55a796a44c643e8596ff6566d68f09b87bbc\"\n-\n [[package]]\n name = \"core\"\n version = \"0.0.0\"\n@@ -802,7 +767,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"dca26ee1f8d361640700bde38b2c37d8c22b3ce2d360e1fc1c74ea4b0aa7d775\"\n dependencies = [\n  \"cfg-if 1.0.0\",\n- \"crossbeam-utils 0.8.0\",\n+ \"crossbeam-utils 0.8.3\",\n ]\n \n [[package]]\n@@ -855,13 +820,12 @@ dependencies = [\n \n [[package]]\n name = \"crossbeam-utils\"\n-version = \"0.8.0\"\n+version = \"0.8.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"ec91540d98355f690a86367e566ecad2e9e579f230230eb7c21398372be73ea5\"\n+checksum = \"e7e9d99fa91428effe99c5c6d4634cdeba32b8cf784fc428a2a687f61a952c49\"\n dependencies = [\n  \"autocfg\",\n  \"cfg-if 1.0.0\",\n- \"const_fn\",\n  \"lazy_static\",\n ]\n \n@@ -988,9 +952,9 @@ dependencies = [\n \n [[package]]\n name = \"directories\"\n-version = \"3.0.1\"\n+version = \"3.0.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f8fed639d60b58d0f53498ab13d26f621fd77569cc6edb031f4cc36a2ad9da0f\"\n+checksum = \"e69600ff1703123957937708eb27f7a564e48885c537782722ed0ba3189ce1d7\"\n dependencies = [\n  \"dirs-sys\",\n ]\n@@ -1017,12 +981,12 @@ dependencies = [\n \n [[package]]\n name = \"dirs-sys\"\n-version = \"0.3.5\"\n+version = \"0.3.6\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"8e93d7f5705de3e49895a2b5e0b8855a1c27f080192ae9c32a6432d50741a57a\"\n+checksum = \"03d86534ed367a67548dc68113a0f5db55432fdfbb6e6f9d77704397d95d5780\"\n dependencies = [\n  \"libc\",\n- \"redox_users 0.3.4\",\n+ \"redox_users\",\n  \"winapi 0.3.9\",\n ]\n \n@@ -1033,7 +997,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"4ebda144c4fe02d1f7ea1a7d9641b6fc6b580adcfa024ae48797ecdeb6825b4d\"\n dependencies = [\n  \"libc\",\n- \"redox_users 0.4.0\",\n+ \"redox_users\",\n  \"winapi 0.3.9\",\n ]\n \n@@ -1649,11 +1613,11 @@ checksum = \"c3360c7b59e5ffa2653671fb74b4741a5d343c03f331c0a4aeda42b5c2b0ec7d\"\n \n [[package]]\n name = \"ignore\"\n-version = \"0.4.16\"\n+version = \"0.4.17\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"22dcbf2a4a289528dbef21686354904e1c694ac642610a9bff9e7df730d9ec72\"\n+checksum = \"b287fb45c60bb826a0dc68ff08742b9d88a2fea13d6e0c286b3172065aaf878c\"\n dependencies = [\n- \"crossbeam-utils 0.7.2\",\n+ \"crossbeam-utils 0.8.3\",\n  \"globset\",\n  \"lazy_static\",\n  \"log\",\n@@ -3049,17 +3013,6 @@ dependencies = [\n  \"bitflags\",\n ]\n \n-[[package]]\n-name = \"redox_users\"\n-version = \"0.3.4\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"09b23093265f8d200fa7b4c2c76297f47e681c655f6f1285a8780d6a022f7431\"\n-dependencies = [\n- \"getrandom 0.1.14\",\n- \"redox_syscall 0.1.57\",\n- \"rust-argon2\",\n-]\n-\n [[package]]\n name = \"redox_users\"\n version = \"0.4.0\"\n@@ -3236,18 +3189,6 @@ dependencies = [\n  \"rls-span\",\n ]\n \n-[[package]]\n-name = \"rust-argon2\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"2bc8af4bda8e1ff4932523b94d3dd20ee30a87232323eda55903ffd71d2fb017\"\n-dependencies = [\n- \"base64\",\n- \"blake2b_simd\",\n- \"constant_time_eq\",\n- \"crossbeam-utils 0.7.2\",\n-]\n-\n [[package]]\n name = \"rust-demangler\"\n version = \"0.0.1\"\n@@ -3653,11 +3594,12 @@ name = \"rustc-workspace-hack\"\n version = \"1.0.0\"\n dependencies = [\n  \"byteorder\",\n- \"crossbeam-utils 0.7.2\",\n+ \"crossbeam-utils 0.8.3\",\n  \"libc\",\n  \"libz-sys\",\n  \"proc-macro2\",\n  \"quote\",\n+ \"rand_core 0.5.1\",\n  \"serde\",\n  \"serde_json\",\n  \"smallvec\",\n@@ -3845,7 +3787,7 @@ dependencies = [\n  \"arrayvec 0.7.0\",\n  \"bitflags\",\n  \"cfg-if 0.1.10\",\n- \"crossbeam-utils 0.7.2\",\n+ \"crossbeam-utils 0.8.3\",\n  \"ena\",\n  \"indexmap\",\n  \"jobserver\",\n@@ -5163,14 +5105,14 @@ dependencies = [\n \n [[package]]\n name = \"tempfile\"\n-version = \"3.1.0\"\n+version = \"3.2.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7a6e24d9338a0a5be79593e2fa15a648add6138caa803e2d5bc782c371732ca9\"\n+checksum = \"dac1c663cfc93810f88aed9b8941d48cabf856a1b111c29a40439018d870eb22\"\n dependencies = [\n- \"cfg-if 0.1.10\",\n+ \"cfg-if 1.0.0\",\n  \"libc\",\n- \"rand 0.7.3\",\n- \"redox_syscall 0.1.57\",\n+ \"rand 0.8.3\",\n+ \"redox_syscall 0.2.5\",\n  \"remove_dir_all\",\n  \"winapi 0.3.9\",\n ]\n@@ -5305,7 +5247,7 @@ name = \"tidy\"\n version = \"0.1.0\"\n dependencies = [\n  \"cargo_metadata 0.11.1\",\n- \"crossbeam-utils 0.8.0\",\n+ \"crossbeam-utils 0.8.3\",\n  \"lazy_static\",\n  \"regex\",\n  \"walkdir\","}, {"sha": "7a3d715df6dcd55df6b9eeaab051e58e44945d5a", "filename": "compiler/rustc_codegen_ssa/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/537544b1061467ee4b74ef7f552fab3d513e5caf/compiler%2Frustc_codegen_ssa%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/537544b1061467ee4b74ef7f552fab3d513e5caf/compiler%2Frustc_codegen_ssa%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_ssa%2FCargo.toml?ref=537544b1061467ee4b74ef7f552fab3d513e5caf", "patch": "@@ -14,7 +14,7 @@ itertools = \"0.9\"\n tracing = \"0.1\"\n libc = \"0.2.50\"\n jobserver = \"0.1.22\"\n-tempfile = \"3.1\"\n+tempfile = \"3.2\"\n pathdiff = \"0.2.0\"\n \n rustc_serialize = { path = \"../rustc_serialize\" }"}, {"sha": "507425d64e3721e2277c45152a9a539bf605ce84", "filename": "compiler/rustc_data_structures/Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/537544b1061467ee4b74ef7f552fab3d513e5caf/compiler%2Frustc_data_structures%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/537544b1061467ee4b74ef7f552fab3d513e5caf/compiler%2Frustc_data_structures%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_data_structures%2FCargo.toml?ref=537544b1061467ee4b74ef7f552fab3d513e5caf", "patch": "@@ -17,7 +17,7 @@ rustc_serialize = { path = \"../rustc_serialize\" }\n rustc_macros = { path = \"../rustc_macros\" }\n rustc_graphviz = { path = \"../rustc_graphviz\" }\n cfg-if = \"0.1.2\"\n-crossbeam-utils = { version = \"0.7\", features = [\"nightly\"] }\n+crossbeam-utils = { version = \"0.8\", features = [\"nightly\"] }\n stable_deref_trait = \"1.0.0\"\n rayon = { version = \"0.3.1\", package = \"rustc-rayon\" }\n rayon-core = { version = \"0.3.1\", package = \"rustc-rayon-core\" }\n@@ -28,7 +28,7 @@ bitflags = \"1.2.1\"\n measureme = \"9.1.0\"\n libc = \"0.2\"\n stacker = \"0.1.12\"\n-tempfile = \"3.0.5\"\n+tempfile = \"3.2\"\n \n [dependencies.parking_lot]\n version = \"0.11\""}, {"sha": "194464dd0bf9c974c76392cd03c100569d9eebfb", "filename": "compiler/rustc_interface/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/537544b1061467ee4b74ef7f552fab3d513e5caf/compiler%2Frustc_interface%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/537544b1061467ee4b74ef7f552fab3d513e5caf/compiler%2Frustc_interface%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_interface%2FCargo.toml?ref=537544b1061467ee4b74ef7f552fab3d513e5caf", "patch": "@@ -45,7 +45,7 @@ rustc_query_impl = { path = \"../rustc_query_impl\" }\n rustc_resolve = { path = \"../rustc_resolve\" }\n rustc_trait_selection = { path = \"../rustc_trait_selection\" }\n rustc_ty_utils = { path = \"../rustc_ty_utils\" }\n-tempfile = \"3.0.5\"\n+tempfile = \"3.2\"\n \n [target.'cfg(windows)'.dependencies]\n winapi = { version = \"0.3\", features = [\"libloaderapi\"] }"}, {"sha": "d39cb597b21c8af1b404599a88c3e9710bb3eaec", "filename": "src/tools/rustc-workspace-hack/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/537544b1061467ee4b74ef7f552fab3d513e5caf/src%2Ftools%2Frustc-workspace-hack%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/537544b1061467ee4b74ef7f552fab3d513e5caf/src%2Ftools%2Frustc-workspace-hack%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frustc-workspace-hack%2FCargo.toml?ref=537544b1061467ee4b74ef7f552fab3d513e5caf", "patch": "@@ -63,12 +63,13 @@ features = [\n [dependencies]\n byteorder = { version = \"1\", features = ['default', 'std'] }\n curl-sys = { version = \"0.4.13\", features = [\"http2\", \"libnghttp2-sys\"], optional = true }\n-crossbeam-utils = { version = \"0.7.2\", features = [\"nightly\"] }\n+crossbeam-utils = { version = \"0.8.0\", features = [\"nightly\"] }\n libc = { version = \"0.2.79\", features = [\"align\"] }\n # Ensure default features of libz-sys, which are disabled in some scenarios.\n libz-sys = { version = \"1.1.2\" }\n proc-macro2 = { version = \"1\", features = [\"default\"] }\n quote = { version = \"1\", features = [\"default\"] }\n+rand_core_0_5 = { package = \"rand_core\", version = \"0.5.1\", features = [\"getrandom\", \"alloc\", \"std\"] }\n serde = { version = \"1.0.82\", features = ['derive'] }\n serde_json = { version = \"1.0.31\", features = [\"raw_value\", \"unbounded_depth\"] }\n smallvec = { version = \"1.6.1\", features = ['union', 'may_dangle'] }"}, {"sha": "5a843ea61ec6f72335cdf0df44340811ae27421e", "filename": "src/tools/tidy/src/deps.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/537544b1061467ee4b74ef7f552fab3d513e5caf/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/537544b1061467ee4b74ef7f552fab3d513e5caf/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs?ref=537544b1061467ee4b74ef7f552fab3d513e5caf", "patch": "@@ -35,11 +35,9 @@ const EXCEPTIONS: &[(&str, &str)] = &[\n     (\"ryu\", \"Apache-2.0 OR BSL-1.0\"),   // rls/cargo/... (because of serde)\n     (\"bytesize\", \"Apache-2.0\"),         // cargo\n     (\"im-rc\", \"MPL-2.0+\"),              // cargo\n-    (\"constant_time_eq\", \"CC0-1.0\"),    // rustfmt\n     (\"sized-chunks\", \"MPL-2.0+\"),       // cargo via im-rc\n     (\"bitmaps\", \"MPL-2.0+\"),            // cargo via im-rc\n     (\"crossbeam-queue\", \"MIT/Apache-2.0 AND BSD-2-Clause\"), // rls via rayon\n-    (\"arrayref\", \"BSD-2-Clause\"),       // cargo-miri/directories/.../rust-argon2 (redox)\n     (\"instant\", \"BSD-3-Clause\"),        // rustc_driver/tracing-subscriber/parking_lot\n     (\"snap\", \"BSD-3-Clause\"),           // rustc\n     // FIXME: this dependency violates the documentation comment above:"}]}