{"sha": "2fb33b2d0d14f09ee06a42bca252dccbf57185e1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmYjMzYjJkMGQxNGYwOWVlMDZhNDJiY2EyNTJkY2NiZjU3MTg1ZTE=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-02-11T08:57:05Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-02-11T08:57:05Z"}, "message": "G: placeholder types", "tree": {"sha": "466298401a342259c20c27b141b157a8d5e61fe3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/466298401a342259c20c27b141b157a8d5e61fe3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2fb33b2d0d14f09ee06a42bca252dccbf57185e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2fb33b2d0d14f09ee06a42bca252dccbf57185e1", "html_url": "https://github.com/rust-lang/rust/commit/2fb33b2d0d14f09ee06a42bca252dccbf57185e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eb4c05d572ff0c4e92452232d6591d7a2796e785", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb4c05d572ff0c4e92452232d6591d7a2796e785", "html_url": "https://github.com/rust-lang/rust/commit/eb4c05d572ff0c4e92452232d6591d7a2796e785"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "e3010b0092fea02078ac961fec9a8639a082550c", "filename": "grammar.ron", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/grammar.ron", "raw_url": "https://github.com/rust-lang/rust/raw/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/grammar.ron", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/grammar.ron?ref=2fb33b2d0d14f09ee06a42bca252dccbf57185e1", "patch": "@@ -109,6 +109,7 @@ Grammar(\n         \"ARRAY_TYPE\",\n         \"SLICE_TYPE\",\n         \"REFERENCE_TYPE\",\n+        \"PLACEHOLDER_TYPE\",\n \n         \"EXTERN_BLOCK\",\n         \"ENUM_VARIANT\","}, {"sha": "37b74bfe75c0b863370b07a0f053c4294ac4b412", "filename": "src/parser/grammar/types.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/src%2Fparser%2Fgrammar%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/src%2Fparser%2Fgrammar%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Ftypes.rs?ref=2fb33b2d0d14f09ee06a42bca252dccbf57185e1", "patch": "@@ -7,6 +7,7 @@ pub(super) fn type_(p: &mut Parser) {\n         STAR => pointer_type(p),\n         L_BRACK => array_or_slice_type(p),\n         AMPERSAND => reference_type(p),\n+        UNDERSCORE => placeholder_type(p),\n         IDENT => path_type(p),\n         _ => {\n             p.error(\"expected type\");\n@@ -130,6 +131,15 @@ fn reference_type(p: &mut Parser) {\n     m.complete(p, REFERENCE_TYPE);\n }\n \n+// test placeholder_type\n+// type Placeholder = _;\n+fn placeholder_type(p: &mut Parser) {\n+    assert!(p.at(UNDERSCORE));\n+    let m = p.start();\n+    p.bump();\n+    m.complete(p, PLACEHOLDER_TYPE);\n+}\n+\n fn path_type(p: &mut Parser) {\n     assert!(p.at(IDENT));\n     let m = p.start();"}, {"sha": "73539d6d48c7cbfaf804b3d2d3f8f60063926e7d", "filename": "src/syntax_kinds.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/src%2Fsyntax_kinds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/src%2Fsyntax_kinds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsyntax_kinds.rs?ref=2fb33b2d0d14f09ee06a42bca252dccbf57185e1", "patch": "@@ -107,6 +107,7 @@ pub enum SyntaxKind {\n     ARRAY_TYPE,\n     SLICE_TYPE,\n     REFERENCE_TYPE,\n+    PLACEHOLDER_TYPE,\n     EXTERN_BLOCK,\n     ENUM_VARIANT,\n     NAMED_FIELD,\n@@ -240,6 +241,7 @@ impl SyntaxKind {\n             ARRAY_TYPE => &SyntaxInfo { name: \"ARRAY_TYPE\" },\n             SLICE_TYPE => &SyntaxInfo { name: \"SLICE_TYPE\" },\n             REFERENCE_TYPE => &SyntaxInfo { name: \"REFERENCE_TYPE\" },\n+            PLACEHOLDER_TYPE => &SyntaxInfo { name: \"PLACEHOLDER_TYPE\" },\n             EXTERN_BLOCK => &SyntaxInfo { name: \"EXTERN_BLOCK\" },\n             ENUM_VARIANT => &SyntaxInfo { name: \"ENUM_VARIANT\" },\n             NAMED_FIELD => &SyntaxInfo { name: \"NAMED_FIELD\" },"}, {"sha": "7952dbd57d67b2d8780d2e4a995c48e8be157e4e", "filename": "tests/data/parser/inline/0027_placeholder_type.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/tests%2Fdata%2Fparser%2Finline%2F0027_placeholder_type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/tests%2Fdata%2Fparser%2Finline%2F0027_placeholder_type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0027_placeholder_type.rs?ref=2fb33b2d0d14f09ee06a42bca252dccbf57185e1", "patch": "@@ -0,0 +1 @@\n+type Placeholder = _;"}, {"sha": "ab848836c59332e8e16ca90da3a90ce6fca3e10d", "filename": "tests/data/parser/inline/0027_placeholder_type.txt", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/tests%2Fdata%2Fparser%2Finline%2F0027_placeholder_type.txt", "raw_url": "https://github.com/rust-lang/rust/raw/2fb33b2d0d14f09ee06a42bca252dccbf57185e1/tests%2Fdata%2Fparser%2Finline%2F0027_placeholder_type.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0027_placeholder_type.txt?ref=2fb33b2d0d14f09ee06a42bca252dccbf57185e1", "patch": "@@ -0,0 +1,13 @@\n+FILE@[0; 22)\n+  TYPE_ITEM@[0; 22)\n+    TYPE_KW@[0; 4)\n+    NAME@[4; 17)\n+      WHITESPACE@[4; 5)\n+      IDENT@[5; 16) \"Placeholder\"\n+      WHITESPACE@[16; 17)\n+    EQ@[17; 18)\n+    PLACEHOLDER_TYPE@[18; 20)\n+      WHITESPACE@[18; 19)\n+      UNDERSCORE@[19; 20)\n+    SEMI@[20; 21)\n+    WHITESPACE@[21; 22)"}]}