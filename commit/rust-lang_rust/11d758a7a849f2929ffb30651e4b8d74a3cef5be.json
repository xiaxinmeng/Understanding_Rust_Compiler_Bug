{"sha": "11d758a7a849f2929ffb30651e4b8d74a3cef5be", "node_id": "MDY6Q29tbWl0NzI0NzEyOjExZDc1OGE3YTg0OWYyOTI5ZmZiMzA2NTFlNGI4ZDc0YTNjZWY1YmU=", "commit": {"author": {"name": "Laurent Arnoud", "email": "laurent@spkdev.net", "date": "2017-10-24T20:07:50Z"}, "committer": {"name": "Laurent Arnoud", "email": "laurent@spkdev.net", "date": "2017-10-26T16:29:48Z"}, "message": "Use expect for current_dir on librustc/session mod", "tree": {"sha": "382f237084c1fdcb592c09d5c0e0bf15e741198e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/382f237084c1fdcb592c09d5c0e0bf15e741198e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/11d758a7a849f2929ffb30651e4b8d74a3cef5be", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJHBAABCAAxFiEEjHncEhK+7kEhMKfKp52rI3T5XdUFAlnyDXwTHGxhdXJlbnRA\nc3BrZGV2Lm5ldAAKCRCnnasjdPld1aqZD/9L/2zacDNxnoRjt86mV6I+sTgjcZWJ\njhZJa3ZuD22Dl2EP7kIAW4mwUwnyi3EkFyk5XGe4wQiXjQEO7L/bws8vQ7siV0Nd\n8HN/92oWlCRbZ0/WLXaQ+wbC/PVUFu5VXKphs2BkgIjx7kJrZbcSfc86TRRC4DLq\n5VPwVna1Pr2xcbdVnmmpItWQVwPFalRhcn8x2v8qRIS+dlsM/3nDNyxzGZAnKkbf\n6HSviK/rJhV2tZqtYzwn/GbRRg52fa323QgCYCHbzTGSTrQvsUMHoohLDio1I9K1\nsAy61HWO3tSCWjdLIz1A92PB8duhe0C1F/eR/+eKSNJQ2rwzNPZhGTQA0aztU3SA\nUPfqjxEDGyKdeeow9AXgbY3PFfgeuvGFjgZ0lMePLpK8MBpRIm8yIZ9LgVdNMiIy\nsf/P+hYj2ftoDiiMIZk7AgtKPeipN+l6OHvJNsVmbg359bAAori6k5d72h28Y8H1\nOxF47IaXIejEAuf0DMST3BeucLSyLkK9+ykWAtgcJIeGgGQCeXKmRapTezlvizVj\nBHk2Wk+5WV9L/werFYvJ+k5Y2U+CDScpjK0n0rVwwyKKzIMwxuEdME8/AuZt4Gti\nlHFRamsvMFgQwWUS8TiphvHSAVELkI93yTcsCYQQx4T8LluA8uesAIulbiuuK96G\nfI8RPr+RGXjdHg==\n=1vPm\n-----END PGP SIGNATURE-----", "payload": "tree 382f237084c1fdcb592c09d5c0e0bf15e741198e\nparent e0febe71449008fd35ccc762b0a42d106aa8e4f7\nauthor Laurent Arnoud <laurent@spkdev.net> 1508875670 +0200\ncommitter Laurent Arnoud <laurent@spkdev.net> 1509035388 +0200\n\nUse expect for current_dir on librustc/session mod\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/11d758a7a849f2929ffb30651e4b8d74a3cef5be", "html_url": "https://github.com/rust-lang/rust/commit/11d758a7a849f2929ffb30651e4b8d74a3cef5be", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/11d758a7a849f2929ffb30651e4b8d74a3cef5be/comments", "author": {"login": "spk", "id": 98590, "node_id": "MDQ6VXNlcjk4NTkw", "avatar_url": "https://avatars.githubusercontent.com/u/98590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spk", "html_url": "https://github.com/spk", "followers_url": "https://api.github.com/users/spk/followers", "following_url": "https://api.github.com/users/spk/following{/other_user}", "gists_url": "https://api.github.com/users/spk/gists{/gist_id}", "starred_url": "https://api.github.com/users/spk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spk/subscriptions", "organizations_url": "https://api.github.com/users/spk/orgs", "repos_url": "https://api.github.com/users/spk/repos", "events_url": "https://api.github.com/users/spk/events{/privacy}", "received_events_url": "https://api.github.com/users/spk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "spk", "id": 98590, "node_id": "MDQ6VXNlcjk4NTkw", "avatar_url": "https://avatars.githubusercontent.com/u/98590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spk", "html_url": "https://github.com/spk", "followers_url": "https://api.github.com/users/spk/followers", "following_url": "https://api.github.com/users/spk/following{/other_user}", "gists_url": "https://api.github.com/users/spk/gists{/gist_id}", "starred_url": "https://api.github.com/users/spk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spk/subscriptions", "organizations_url": "https://api.github.com/users/spk/orgs", "repos_url": "https://api.github.com/users/spk/repos", "events_url": "https://api.github.com/users/spk/events{/privacy}", "received_events_url": "https://api.github.com/users/spk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e0febe71449008fd35ccc762b0a42d106aa8e4f7", "url": "https://api.github.com/repos/rust-lang/rust/commits/e0febe71449008fd35ccc762b0a42d106aa8e4f7", "html_url": "https://github.com/rust-lang/rust/commit/e0febe71449008fd35ccc762b0a42d106aa8e4f7"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "cc27f61e369b719a2206a5ca5887e056ab5881ac", "filename": "src/librustc/session/mod.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/11d758a7a849f2929ffb30651e4b8d74a3cef5be/src%2Flibrustc%2Fsession%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/11d758a7a849f2929ffb30651e4b8d74a3cef5be/src%2Flibrustc%2Fsession%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fmod.rs?ref=11d758a7a849f2929ffb30651e4b8d74a3cef5be", "patch": "@@ -776,7 +776,9 @@ pub fn build_session_(sopts: config::Options,\n     let print_fuel_crate = sopts.debugging_opts.print_fuel.clone();\n     let print_fuel = Cell::new(0);\n \n-    let working_dir = env::current_dir().unwrap().to_string_lossy().into_owned();\n+    let working_dir = env::current_dir()\n+        .expect(\"Could not find current working directory\")\n+        .to_string_lossy().into_owned();\n     let working_dir = file_path_mapping.map_prefix(working_dir);\n \n     let sess = Session {"}]}