{"sha": "1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "node_id": "C_kwDOAAsO6NoAKDFlNmNlZDM1MzIxNTQxOWY5ZTgzOGJmYmMzZDYxZmU5ZWIwYzAwNGQ", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2021-10-30T15:44:50Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2021-11-24T20:57:18Z"}, "message": "Create rustdoc_internals feature gate", "tree": {"sha": "509862899a0cb744c1e846e3c59c58cea06bc737", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/509862899a0cb744c1e846e3c59c58cea06bc737"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "html_url": "https://github.com/rust-lang/rust/commit/1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e8423e6c449ad3f4b0dab442175462004554e499", "url": "https://api.github.com/repos/rust-lang/rust/commits/e8423e6c449ad3f4b0dab442175462004554e499", "html_url": "https://github.com/rust-lang/rust/commit/e8423e6c449ad3f4b0dab442175462004554e499"}], "stats": {"total": 66, "additions": 30, "deletions": 36}, "files": [{"sha": "3ba2a50133bb5710bf8ec21d37fc3a34999b7e66", "filename": "compiler/rustc_ast_passes/src/feature_gate.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -325,8 +325,12 @@ impl<'a> Visitor<'a> for PostExpansionVisitor<'a> {\n                     cfg_hide => doc_cfg_hide\n                     masked => doc_masked\n                     notable_trait => doc_notable_trait\n-                    keyword => doc_keyword\n                 );\n+\n+                if nested_meta.has_name(sym::keyword) {\n+                    let msg = concat!(\"`#[doc(keyword)]` is meant for internal use only\");\n+                    gate_feature_post!(self, rustdoc_internals, attr.span, msg);\n+                }\n             }\n         }\n "}, {"sha": "a374b3be06c4ad7c8f0a28f79332eec23194f792", "filename": "compiler/rustc_feature/src/active.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Factive.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -206,6 +206,8 @@ declare_features! (\n     (active, rustc_allow_const_fn_unstable, \"1.49.0\", Some(69399), None),\n     /// Allows using compiler's own crates.\n     (active, rustc_private, \"1.0.0\", Some(27812), None),\n+    /// Allows using internal rustdoc features like `doc(primitive)` or `doc(keyword)`.\n+    (active, rustdoc_internals, \"1.58.0\", Some(90418), None),\n     /// Allows using `#[start]` on a function indicating that it is the program entrypoint.\n     (active, start, \"1.0.0\", Some(29633), None),\n     /// Allows using `#[structural_match]` which indicates that a type is structurally matchable.\n@@ -366,12 +368,8 @@ declare_features! (\n     (active, doc_cfg, \"1.21.0\", Some(43781), None),\n     /// Allows `#[doc(cfg_hide(...))]`.\n     (active, doc_cfg_hide, \"1.57.0\", Some(43781), None),\n-    /// Allows using `#[doc(keyword = \"...\")]`.\n-    (active, doc_keyword, \"1.28.0\", Some(51315), None),\n     /// Allows `#[doc(masked)]`.\n     (active, doc_masked, \"1.21.0\", Some(44027), None),\n-    /// Allows using doc(primitive) without a future-incompat warning\n-    (active, doc_primitive, \"1.56.0\", Some(88070), None),\n     /// Allows `X..Y` patterns.\n     (active, exclusive_range_pattern, \"1.11.0\", Some(37854), None),\n     /// Allows exhaustive pattern matching on types that contain uninhabited types."}, {"sha": "b9f3b5ad1b1fce8b5c6aebbf821dbcaa0306b5af", "filename": "compiler/rustc_feature/src/removed.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/compiler%2Frustc_feature%2Fsrc%2Fremoved.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/compiler%2Frustc_feature%2Fsrc%2Fremoved.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Fremoved.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -76,6 +76,12 @@ declare_features! (\n     /// Allows the use of `#[derive(Anything)]` as sugar for `#[derive_Anything]`.\n     (removed, custom_derive, \"1.32.0\", Some(29644), None,\n      Some(\"subsumed by `#[proc_macro_derive]`\")),\n+    /// Allows using `#[doc(keyword = \"...\")]`.\n+    (removed, doc_keyword, \"1.28.0\", Some(51315), None,\n+     Some(\"merged into `#![feature(rustdoc_internals)]`\")),\n+    /// Allows using `doc(primitive)` without a future-incompat warning.\n+    (removed, doc_primitive, \"1.56.0\", Some(88070), None,\n+     Some(\"merged into `#![feature(rustdoc_internals)]`\")),\n     /// Allows `#[doc(spotlight)]`.\n     /// The attribute was renamed to `#[doc(notable_trait)]`\n     /// and the feature to `doc_notable_trait`."}, {"sha": "ecb8bf6f8753b6373273992395d5ae904dad969b", "filename": "compiler/rustc_passes/src/check_attr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/compiler%2Frustc_passes%2Fsrc%2Fcheck_attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/compiler%2Frustc_passes%2Fsrc%2Fcheck_attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Fcheck_attr.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -963,7 +963,7 @@ impl CheckAttrVisitor<'tcx> {\n                         }\n \n                         sym::primitive => {\n-                            if !self.tcx.features().doc_primitive {\n+                            if !self.tcx.features().rustdoc_internals {\n                                 self.tcx.struct_span_lint_hir(\n                                     INVALID_DOC_ATTRIBUTES,\n                                     hir_id,"}, {"sha": "38edefbd803f799236a3e30726bc3671bfe3635a", "filename": "compiler/rustc_span/src/symbol.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -1154,6 +1154,7 @@ symbols! {\n         rustc_unsafe_specialization_marker,\n         rustc_variance,\n         rustdoc,\n+        rustdoc_internals,\n         rustfmt,\n         rvalue_static_promotion,\n         s,"}, {"sha": "333a40ec0e1fbc2760d52321354de979669ff8d8", "filename": "library/core/src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/library%2Fcore%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/library%2Fcore%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Flib.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -165,7 +165,8 @@\n #![feature(decl_macro)]\n #![feature(doc_cfg)]\n #![feature(doc_notable_trait)]\n-#![feature(doc_primitive)]\n+#![cfg_attr(bootstrap, feature(doc_primitive))]\n+#![cfg_attr(not(bootstrap), feature(rustdoc_internals))]\n #![feature(exhaustive_patterns)]\n #![feature(doc_cfg_hide)]\n #![feature(extern_types)]"}, {"sha": "11c63e0968a340c8c6da2f00002c2d5a274a25f8", "filename": "library/std/src/lib.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/library%2Fstd%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/library%2Fstd%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Flib.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -275,10 +275,11 @@\n #![feature(decl_macro)]\n #![feature(doc_cfg)]\n #![feature(doc_cfg_hide)]\n-#![feature(doc_keyword)]\n+#![cfg_attr(bootstrap, feature(doc_primitive))]\n+#![cfg_attr(bootstrap, feature(doc_keyword))]\n+#![cfg_attr(not(bootstrap), feature(rustdoc_internals))]\n #![feature(doc_masked)]\n #![feature(doc_notable_trait)]\n-#![feature(doc_primitive)]\n #![feature(dropck_eyepatch)]\n #![feature(duration_checked_float)]\n #![feature(duration_constants)]"}, {"sha": "efb1b6e44ca7dced1a8b4730784ac7acc18e11d4", "filename": "src/doc/rustdoc/src/unstable-features.md", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Fdoc%2Frustdoc%2Fsrc%2Funstable-features.md", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Fdoc%2Frustdoc%2Fsrc%2Funstable-features.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Funstable-features.md?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -138,7 +138,8 @@ This is for Rust compiler internal use only.\n \n Since primitive types are defined in the compiler, there's no place to attach documentation\n attributes. The `#[doc(primitive)]` attribute is used by the standard library to provide a way\n-to generate documentation for primitive types, and requires `#![feature(doc_primitive)]` to enable.\n+to generate documentation for primitive types, and requires `#![feature(rustdoc_internals)]` to\n+enable.\n \n ## Document keywords\n \n@@ -149,7 +150,7 @@ Rust keywords are documented in the standard library (look for `match` for examp\n To do so, the `#[doc(keyword = \"...\")]` attribute is used. Example:\n \n ```rust\n-#![feature(doc_keyword)]\n+#![feature(rustdoc_internals)]\n \n /// Some documentation about the keyword.\n #[doc(keyword = \"keyword\")]"}, {"sha": "458bcc4780c6c5abfa909b611982fd7439e8b85b", "filename": "src/test/rustdoc-gui/src/test_docs/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -2,7 +2,7 @@\n //! documentation generated so we can test each different features.\n \n #![crate_name = \"test_docs\"]\n-#![feature(doc_keyword)]\n+#![feature(rustdoc_internals)]\n #![feature(doc_cfg)]\n \n use std::convert::AsRef;"}, {"sha": "b84c2f7c6ac39e440090cfb83ebbe7e2ed9c4147", "filename": "src/test/rustdoc-json/primitive.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc-json%2Fprimitive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc-json%2Fprimitive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Fprimitive.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -1,6 +1,6 @@\n // edition:2018\n \n-#![feature(doc_primitive)]\n+#![feature(rustdoc_internals)]\n \n #[doc(primitive = \"usize\")]\n mod usize {}"}, {"sha": "72b70d6980bf3f9e54997334b35b60e4c470086a", "filename": "src/test/rustdoc-ui/coverage/exotic.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc-ui%2Fcoverage%2Fexotic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc-ui%2Fcoverage%2Fexotic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fcoverage%2Fexotic.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -1,8 +1,7 @@\n // compile-flags:-Z unstable-options --show-coverage\n // check-pass\n \n-#![feature(doc_keyword)]\n-#![feature(doc_primitive)]\n+#![feature(rustdoc_internals)]\n \n //! the features only used in std also have entries in the table, so make sure those get pulled out\n //! properly as well"}, {"sha": "2d70471c85e111f3f93672079d234c25ee81b20c", "filename": "src/test/rustdoc-ui/invalid-keyword.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc-ui%2Finvalid-keyword.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc-ui%2Finvalid-keyword.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Finvalid-keyword.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -1,4 +1,4 @@\n-#![feature(doc_keyword)]\n+#![feature(rustdoc_internals)]\n \n #[doc(keyword = \"foo df\")] //~ ERROR\n mod foo {}"}, {"sha": "16f7cac5f51cc77774a6372c1e8ec22280bbbf0a", "filename": "src/test/rustdoc/keyword.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc%2Fkeyword.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc%2Fkeyword.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fkeyword.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -1,6 +1,6 @@\n #![crate_name = \"foo\"]\n \n-#![feature(doc_keyword)]\n+#![feature(rustdoc_internals)]\n \n // @has foo/index.html '//h2[@id=\"keywords\"]' 'Keywords'\n // @has foo/index.html '//a[@href=\"keyword.match.html\"]' 'match'"}, {"sha": "0cc4f147e1c071fc4f5cd19986e10ba303957c92", "filename": "src/test/rustdoc/tab_title.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc%2Ftab_title.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Frustdoc%2Ftab_title.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Ftab_title.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"foo\"]\n-#![feature(doc_keyword)]\n+#![feature(rustdoc_internals)]\n \n // tests for the html <title> element\n "}, {"sha": "4bb9a40deb0dd844c71635354d13e4606abb3c46", "filename": "src/test/ui/feature-gates/feature-gate-doc_keyword.rs", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/e8423e6c449ad3f4b0dab442175462004554e499/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-doc_keyword.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8423e6c449ad3f4b0dab442175462004554e499/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-doc_keyword.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-doc_keyword.rs?ref=e8423e6c449ad3f4b0dab442175462004554e499", "patch": "@@ -1,5 +0,0 @@\n-#[doc(keyword = \"match\")] //~ ERROR: `#[doc(keyword)]` is experimental\n-/// wonderful\n-mod foo{}\n-\n-fn main() {}"}, {"sha": "c5dc7d537fd887e0f87090ef165ab8b9a42a9242", "filename": "src/test/ui/feature-gates/feature-gate-doc_keyword.stderr", "status": "removed", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/e8423e6c449ad3f4b0dab442175462004554e499/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-doc_keyword.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e8423e6c449ad3f4b0dab442175462004554e499/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-doc_keyword.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-doc_keyword.stderr?ref=e8423e6c449ad3f4b0dab442175462004554e499", "patch": "@@ -1,12 +0,0 @@\n-error[E0658]: `#[doc(keyword)]` is experimental\n-  --> $DIR/feature-gate-doc_keyword.rs:1:1\n-   |\n-LL | #[doc(keyword = \"match\")]\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |\n-   = note: see issue #51315 <https://github.com/rust-lang/rust/issues/51315> for more information\n-   = help: add `#![feature(doc_keyword)]` to the crate attributes to enable\n-\n-error: aborting due to previous error\n-\n-For more information about this error, try `rustc --explain E0658`."}, {"sha": "43b84e5018cda2c17385b533d71b2ca795a38d35", "filename": "src/test/ui/rustdoc/doc_keyword.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Fui%2Frustdoc%2Fdoc_keyword.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e6ced353215419f9e838bfbc3d61fe9eb0c004d/src%2Ftest%2Fui%2Frustdoc%2Fdoc_keyword.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frustdoc%2Fdoc_keyword.rs?ref=1e6ced353215419f9e838bfbc3d61fe9eb0c004d", "patch": "@@ -1,5 +1,5 @@\n #![crate_type = \"lib\"]\n-#![feature(doc_keyword)]\n+#![feature(rustdoc_internals)]\n \n #![doc(keyword = \"hello\")] //~ ERROR\n "}]}