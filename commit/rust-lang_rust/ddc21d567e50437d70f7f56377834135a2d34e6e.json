{"sha": "ddc21d567e50437d70f7f56377834135a2d34e6e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRkYzIxZDU2N2U1MDQzN2Q3MGY3ZjU2Mzc3ODM0MTM1YTJkMzRlNmU=", "commit": {"author": {"name": "Michael Hewson", "email": "michael@michaelhewson.ca", "date": "2017-11-09T16:03:27Z"}, "committer": {"name": "Michael Hewson", "email": "michael@michaelhewson.ca", "date": "2017-11-09T16:03:27Z"}, "message": "Don't emit the feature error if it's an invalid self type", "tree": {"sha": "77ac5c916c679b5e6f4909d502517c323ab71e60", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/77ac5c916c679b5e6f4909d502517c323ab71e60"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ddc21d567e50437d70f7f56377834135a2d34e6e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ddc21d567e50437d70f7f56377834135a2d34e6e", "html_url": "https://github.com/rust-lang/rust/commit/ddc21d567e50437d70f7f56377834135a2d34e6e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ddc21d567e50437d70f7f56377834135a2d34e6e/comments", "author": {"login": "mikeyhew", "id": 6751033, "node_id": "MDQ6VXNlcjY3NTEwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/6751033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeyhew", "html_url": "https://github.com/mikeyhew", "followers_url": "https://api.github.com/users/mikeyhew/followers", "following_url": "https://api.github.com/users/mikeyhew/following{/other_user}", "gists_url": "https://api.github.com/users/mikeyhew/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeyhew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeyhew/subscriptions", "organizations_url": "https://api.github.com/users/mikeyhew/orgs", "repos_url": "https://api.github.com/users/mikeyhew/repos", "events_url": "https://api.github.com/users/mikeyhew/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeyhew/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mikeyhew", "id": 6751033, "node_id": "MDQ6VXNlcjY3NTEwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/6751033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeyhew", "html_url": "https://github.com/mikeyhew", "followers_url": "https://api.github.com/users/mikeyhew/followers", "following_url": "https://api.github.com/users/mikeyhew/following{/other_user}", "gists_url": "https://api.github.com/users/mikeyhew/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeyhew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeyhew/subscriptions", "organizations_url": "https://api.github.com/users/mikeyhew/orgs", "repos_url": "https://api.github.com/users/mikeyhew/repos", "events_url": "https://api.github.com/users/mikeyhew/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeyhew/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5d170f0a3c3591b000a0400e7029fc8622144be2", "url": "https://api.github.com/repos/rust-lang/rust/commits/5d170f0a3c3591b000a0400e7029fc8622144be2", "html_url": "https://github.com/rust-lang/rust/commit/5d170f0a3c3591b000a0400e7029fc8622144be2"}], "stats": {"total": 17, "additions": 2, "deletions": 15}, "files": [{"sha": "37cf67fe53ef646de897fcab94d7e2fa6f4ef550", "filename": "src/librustc_typeck/check/wfcheck.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ddc21d567e50437d70f7f56377834135a2d34e6e/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddc21d567e50437d70f7f56377834135a2d34e6e/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs?ref=ddc21d567e50437d70f7f56377834135a2d34e6e", "patch": "@@ -505,7 +505,7 @@ impl<'a, 'gcx> CheckTypeWellFormedVisitor<'a, 'gcx> {\n                 .help(\"consider changing to `self`, `&self`, `&mut self`, or `self: Box<Self>`\")\n                 .code(DiagnosticId::Error(\"E0307\".into()))\n                 .emit();\n-                break\n+                return\n             }\n         }\n "}, {"sha": "7ddd56229ceb772c0a7dd04864b905949a000e92", "filename": "src/test/compile-fail/issue-26194.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ddc21d567e50437d70f7f56377834135a2d34e6e/src%2Ftest%2Fcompile-fail%2Fissue-26194.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddc21d567e50437d70f7f56377834135a2d34e6e/src%2Ftest%2Fcompile-fail%2Fissue-26194.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-26194.rs?ref=ddc21d567e50437d70f7f56377834135a2d34e6e", "patch": "@@ -13,7 +13,6 @@ struct S(String);\n impl S {\n     fn f(self: *mut S) -> String { self.0 }\n     //~^ ERROR invalid `self` type\n-    //~| ERROR arbitrary `self` types are unstable\n }\n \n fn main() { S(\"\".to_owned()).f(); }"}, {"sha": "a0d1f2dc3312e4b5784ac7d726303659ef0b6b48", "filename": "src/test/compile-fail/ufcs-explicit-self-bad.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ddc21d567e50437d70f7f56377834135a2d34e6e/src%2Ftest%2Fcompile-fail%2Fufcs-explicit-self-bad.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddc21d567e50437d70f7f56377834135a2d34e6e/src%2Ftest%2Fcompile-fail%2Fufcs-explicit-self-bad.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fufcs-explicit-self-bad.rs?ref=ddc21d567e50437d70f7f56377834135a2d34e6e", "patch": "@@ -17,7 +17,6 @@ struct Foo {\n impl Foo {\n     fn foo(self: isize, x: isize) -> isize {\n         //~^ ERROR invalid `self` type\n-        //~| ERROR arbitrary `self` types are unstable\n         self.f + x\n     }\n }\n@@ -29,12 +28,10 @@ struct Bar<T> {\n impl<T> Bar<T> {\n     fn foo(self: Bar<isize>, x: isize) -> isize {\n         //~^ ERROR invalid `self` type\n-        //~| ERROR arbitrary `self` types are unstable\n         x\n     }\n     fn bar(self: &Bar<usize>, x: isize) -> isize {\n         //~^ ERROR invalid `self` type\n-        //~| ERROR arbitrary `self` types are unstable\n         x\n     }\n }"}, {"sha": "e12fb57f15dc9aa45d74746b009e6613a362fa2d", "filename": "src/test/ui/span/issue-27522.stderr", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/ddc21d567e50437d70f7f56377834135a2d34e6e/src%2Ftest%2Fui%2Fspan%2Fissue-27522.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ddc21d567e50437d70f7f56377834135a2d34e6e/src%2Ftest%2Fui%2Fspan%2Fissue-27522.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-27522.stderr?ref=ddc21d567e50437d70f7f56377834135a2d34e6e", "patch": "@@ -7,14 +7,5 @@ error[E0307]: invalid `self` type: &SomeType\n    = note: type must be `Self` or a type that dereferences to it`\n    = help: consider changing to `self`, `&self`, `&mut self`, or `self: Box<Self>`\n \n-error: arbitrary `self` types are unstable (see issue #44874)\n-  --> $DIR/issue-27522.rs:16:22\n-   |\n-16 |     fn handler(self: &SomeType);\n-   |                      ^^^^^^^^^\n-   |\n-   = help: add #![feature(arbitrary_self_types)] to the crate attributes to enable\n-   = help: consider changing to `self`, `&self`, `&mut self`, or `self: Box<Self>`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n "}]}