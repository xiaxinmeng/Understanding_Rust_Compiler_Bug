{"sha": "2420d346c57557fa42b25f0bcc2cb50db3922b47", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI0MjBkMzQ2YzU3NTU3ZmE0MmIyNWYwYmNjMmNiNTBkYjM5MjJiNDc=", "commit": {"author": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2018-01-11T07:55:50Z"}, "committer": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2018-01-11T07:57:12Z"}, "message": "Put attributes and struct fields on different line", "tree": {"sha": "822eabbdf3fb04109e920b807dd6424f61d2511d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/822eabbdf3fb04109e920b807dd6424f61d2511d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2420d346c57557fa42b25f0bcc2cb50db3922b47", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2420d346c57557fa42b25f0bcc2cb50db3922b47", "html_url": "https://github.com/rust-lang/rust/commit/2420d346c57557fa42b25f0bcc2cb50db3922b47", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2420d346c57557fa42b25f0bcc2cb50db3922b47/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6e05ca87b0c5326ff4f2f7938ba923f8ddd11467", "url": "https://api.github.com/repos/rust-lang/rust/commits/6e05ca87b0c5326ff4f2f7938ba923f8ddd11467", "html_url": "https://github.com/rust-lang/rust/commit/6e05ca87b0c5326ff4f2f7938ba923f8ddd11467"}], "stats": {"total": 13, "additions": 5, "deletions": 8}, "files": [{"sha": "7f2273c6f6926a481a8e31c0156641ae3225ac8a", "filename": "src/file_lines.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2420d346c57557fa42b25f0bcc2cb50db3922b47/src%2Ffile_lines.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2420d346c57557fa42b25f0bcc2cb50db3922b47/src%2Ffile_lines.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ffile_lines.rs?ref=2420d346c57557fa42b25f0bcc2cb50db3922b47", "patch": "@@ -204,7 +204,8 @@ impl str::FromStr for FileLines {\n // For JSON decoding.\n #[derive(Clone, Debug, Deserialize)]\n struct JsonSpan {\n-    #[serde(deserialize_with = \"deserialize_filename\")] file: FileName,\n+    #[serde(deserialize_with = \"deserialize_filename\")]\n+    file: FileName,\n     range: (usize, usize),\n }\n "}, {"sha": "39fb129cd4de3b2dca11c3d9a09aa1b39b73ef2f", "filename": "src/items.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/2420d346c57557fa42b25f0bcc2cb50db3922b47/src%2Fitems.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2420d346c57557fa42b25f0bcc2cb50db3922b47/src%2Fitems.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fitems.rs?ref=2420d346c57557fa42b25f0bcc2cb50db3922b47", "patch": "@@ -558,15 +558,13 @@ impl<'a> FmtVisitor<'a> {\n             }\n         };\n \n-        let attrs_extendable = attrs_str.is_empty()\n-            || (context.config.same_line_attributes() && is_attributes_extendable(&attrs_str));\n         combine_strs_with_missing_comments(\n             &context,\n             &attrs_str,\n             &variant_body,\n             span,\n             shape,\n-            attrs_extendable,\n+            is_attributes_extendable(&attrs_str),\n         )\n     }\n }\n@@ -1439,8 +1437,7 @@ pub fn rewrite_struct_field(\n     let prefix = rewrite_struct_field_prefix(context, field)?;\n \n     let attrs_str = field.attrs.rewrite(context, shape)?;\n-    let attrs_extendable = attrs_str.is_empty()\n-        || (context.config.same_line_attributes() && is_attributes_extendable(&attrs_str));\n+    let attrs_extendable = field.ident.is_none() && is_attributes_extendable(&attrs_str);\n     let missing_span = if field.attrs.is_empty() {\n         mk_sp(field.span.lo(), field.span.lo())\n     } else {"}, {"sha": "e56410202eb92f9a6f006e5c8575c7a7ca3593e7", "filename": "src/vertical.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2420d346c57557fa42b25f0bcc2cb50db3922b47/src%2Fvertical.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2420d346c57557fa42b25f0bcc2cb50db3922b47/src%2Fvertical.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fvertical.rs?ref=2420d346c57557fa42b25f0bcc2cb50db3922b47", "patch": "@@ -54,8 +54,7 @@ impl AlignedItem for ast::StructField {\n         } else {\n             mk_sp(self.attrs.last().unwrap().span.hi(), self.span.lo())\n         };\n-        let attrs_extendable =\n-            context.config.same_line_attributes() && is_attributes_extendable(&attrs_str);\n+        let attrs_extendable = self.ident.is_none() && is_attributes_extendable(&attrs_str);\n         rewrite_struct_field_prefix(context, self).and_then(|field_str| {\n             combine_strs_with_missing_comments(\n                 context,"}]}