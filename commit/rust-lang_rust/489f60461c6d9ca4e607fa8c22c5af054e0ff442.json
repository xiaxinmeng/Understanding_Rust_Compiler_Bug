{"sha": "489f60461c6d9ca4e607fa8c22c5af054e0ff442", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4OWY2MDQ2MWM2ZDljYTRlNjA3ZmE4YzIyYzVhZjA1NGUwZmY0NDI=", "commit": {"author": {"name": "Eunji Jeong", "email": "eun-ji.jeong@samsung.com", "date": "2015-02-03T04:42:05Z"}, "committer": {"name": "Eunji Jeong", "email": "eun-ji.jeong@samsung.com", "date": "2015-02-10T12:53:33Z"}, "message": "Remove duplicated configuration for android", "tree": {"sha": "378f3ec2736693a16231b73c3fde4fe65d4395e1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/378f3ec2736693a16231b73c3fde4fe65d4395e1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/489f60461c6d9ca4e607fa8c22c5af054e0ff442", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/489f60461c6d9ca4e607fa8c22c5af054e0ff442", "html_url": "https://github.com/rust-lang/rust/commit/489f60461c6d9ca4e607fa8c22c5af054e0ff442", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/489f60461c6d9ca4e607fa8c22c5af054e0ff442/comments", "author": {"login": "ejjeong", "id": 10492346, "node_id": "MDQ6VXNlcjEwNDkyMzQ2", "avatar_url": "https://avatars.githubusercontent.com/u/10492346?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ejjeong", "html_url": "https://github.com/ejjeong", "followers_url": "https://api.github.com/users/ejjeong/followers", "following_url": "https://api.github.com/users/ejjeong/following{/other_user}", "gists_url": "https://api.github.com/users/ejjeong/gists{/gist_id}", "starred_url": "https://api.github.com/users/ejjeong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ejjeong/subscriptions", "organizations_url": "https://api.github.com/users/ejjeong/orgs", "repos_url": "https://api.github.com/users/ejjeong/repos", "events_url": "https://api.github.com/users/ejjeong/events{/privacy}", "received_events_url": "https://api.github.com/users/ejjeong/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ejjeong", "id": 10492346, "node_id": "MDQ6VXNlcjEwNDkyMzQ2", "avatar_url": "https://avatars.githubusercontent.com/u/10492346?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ejjeong", "html_url": "https://github.com/ejjeong", "followers_url": "https://api.github.com/users/ejjeong/followers", "following_url": "https://api.github.com/users/ejjeong/following{/other_user}", "gists_url": "https://api.github.com/users/ejjeong/gists{/gist_id}", "starred_url": "https://api.github.com/users/ejjeong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ejjeong/subscriptions", "organizations_url": "https://api.github.com/users/ejjeong/orgs", "repos_url": "https://api.github.com/users/ejjeong/repos", "events_url": "https://api.github.com/users/ejjeong/events{/privacy}", "received_events_url": "https://api.github.com/users/ejjeong/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "abd7fd924b6fcf6734d63fd2277f9db472b6a30f", "url": "https://api.github.com/repos/rust-lang/rust/commits/abd7fd924b6fcf6734d63fd2277f9db472b6a30f", "html_url": "https://github.com/rust-lang/rust/commit/abd7fd924b6fcf6734d63fd2277f9db472b6a30f"}], "stats": {"total": 18, "additions": 7, "deletions": 11}, "files": [{"sha": "8850cd778035f745b12b5d0df27eb9aedce045fc", "filename": "mk/install.mk", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/489f60461c6d9ca4e607fa8c22c5af054e0ff442/mk%2Finstall.mk", "raw_url": "https://github.com/rust-lang/rust/raw/489f60461c6d9ca4e607fa8c22c5af054e0ff442/mk%2Finstall.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Finstall.mk?ref=489f60461c6d9ca4e607fa8c22c5af054e0ff442", "patch": "@@ -58,14 +58,13 @@ tmp/empty_dir:\n # Android runtime setup\n # FIXME: This probably belongs somewhere else\n \n-# target platform specific variables\n-# for arm-linux-androidabi\n+# target platform specific variables for android\n define DEF_ADB_DEVICE_STATUS\n CFG_ADB_DEVICE_STATUS=$(1)\n endef\n \n $(foreach target,$(CFG_TARGET), \\\n-  $(if $(or $(findstring $(target),\"arm-linux-androideabi\"),$(findstring $(target),\"aarch64-linux-android\")), \\\n+  $(if $(findstring android, $(target)), \\\n     $(if $(findstring adb,$(CFG_ADB)), \\\n       $(if $(findstring device,$(shell $(CFG_ADB) devices 2>/dev/null | grep -E '^[_A-Za-z0-9-]+[[:blank:]]+device')), \\\n         $(info install: install-runtime-target for $(target) enabled \\"}, {"sha": "527485c502936607f41846d4e3e8e7dc118f051c", "filename": "mk/rt.mk", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/489f60461c6d9ca4e607fa8c22c5af054e0ff442/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/489f60461c6d9ca4e607fa8c22c5af054e0ff442/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=489f60461c6d9ca4e607fa8c22c5af054e0ff442", "patch": "@@ -139,9 +139,7 @@ ifeq ($$(CFG_WINDOWSY_$(1)), 1)\n   JEMALLOC_ARGS_$(1) := --enable-lazy-lock\n else ifeq ($(OSTYPE_$(1)), apple-ios)\n   JEMALLOC_ARGS_$(1) := --disable-tls\n-else ifeq ($(OSTYPE_$(1)), linux-androideabi)\n-  JEMALLOC_ARGS_$(1) := --disable-tls\n-else ifeq ($(OSTYPE_$(1)), linux-android)\n+else ifeq ($(findstring android, $(OSTYPE_$(1))), android)\n   JEMALLOC_ARGS_$(1) := --disable-tls\n endif\n "}, {"sha": "3007056dcfb14a870c40c81232f092ba80494215", "filename": "mk/tests.mk", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/489f60461c6d9ca4e607fa8c22c5af054e0ff442/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/489f60461c6d9ca4e607fa8c22c5af054e0ff442/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=489f60461c6d9ca4e607fa8c22c5af054e0ff442", "patch": "@@ -107,14 +107,13 @@ endef\n $(foreach target,$(CFG_TARGET), \\\n   $(eval $(call DEF_TARGET_COMMANDS,$(target))))\n \n-# Target platform specific variables\n-# for arm-linux-androidabi\n+# Target platform specific variables for android\n define DEF_ADB_DEVICE_STATUS\n CFG_ADB_DEVICE_STATUS=$(1)\n endef\n \n $(foreach target,$(CFG_TARGET), \\\n-  $(if $(or $(findstring $(target),\"arm-linux-androideabi\"),$(findstring $(target),\"aarch64-linux-android\")), \\\n+  $(if $(findstring android, $(target)), \\\n     $(if $(findstring adb,$(CFG_ADB)), \\\n       $(if $(findstring device,$(shell $(CFG_ADB) devices 2>/dev/null | grep -E '^[:_A-Za-z0-9-]+[[:blank:]]+device')), \\\n         $(info check: android device attached) \\\n@@ -137,7 +136,7 @@ $(info check: android device test dir $(CFG_ADB_TEST_DIR) ready \\\n  $(shell $(CFG_ADB) shell mkdir $(CFG_ADB_TEST_DIR)) \\\n  $(shell $(CFG_ADB) push $(S)src/etc/adb_run_wrapper.sh $(CFG_ADB_TEST_DIR) 1>/dev/null) \\\n  $(foreach target,$(CFG_TARGET), \\\n-  $(if $(or $(findstring $(target),\"arm-linux-androideabi\"),$(findstring $(target),\"aarch64-linux-android\")), \\\n+  $(if $(findstring android, $(target)), \\\n    $(shell $(CFG_ADB) shell mkdir $(CFG_ADB_TEST_DIR)/$(target)) \\\n    $(foreach crate,$(TARGET_CRATES), \\\n     $(shell $(CFG_ADB) push $(TLIB2_T_$(target)_H_$(CFG_BUILD))/$(call CFG_LIB_GLOB_$(target),$(crate)) \\\n@@ -436,7 +435,7 @@ $(foreach host,$(CFG_HOST), \\\n    $(foreach crate, $(TEST_CRATES), \\\n     $(if $(findstring $(target),$(CFG_BUILD)), \\\n      $(eval $(call DEF_TEST_CRATE_RULES,$(stage),$(target),$(host),$(crate))), \\\n-     $(if $(or $(findstring $(target),\"arm-linux-androideabi\"), $(findstring $(target),\"aarch64-linux-android\")), \\\n+     $(if $(findstring android, $(target)), \\\n       $(if $(findstring $(CFG_ADB_DEVICE_STATUS),\"true\"), \\\n        $(eval $(call DEF_TEST_CRATE_RULES_android,$(stage),$(target),$(host),$(crate))), \\\n        $(eval $(call DEF_TEST_CRATE_RULES_null,$(stage),$(target),$(host),$(crate))) \\"}]}