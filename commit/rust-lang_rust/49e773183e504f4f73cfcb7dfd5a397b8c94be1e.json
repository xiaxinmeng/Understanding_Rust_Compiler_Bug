{"sha": "49e773183e504f4f73cfcb7dfd5a397b8c94be1e", "node_id": "C_kwDOAAsO6NoAKDQ5ZTc3MzE4M2U1MDRmNGY3M2NmY2I3ZGZkNWEzOTdiOGM5NGJlMWU", "commit": {"author": {"name": "Afonso Bordado", "email": "afonso360@users.noreply.github.com", "date": "2022-07-28T19:08:05Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-07-28T19:08:05Z"}, "message": "Update to cranelift 0.86 (#1250)", "tree": {"sha": "9b95eb230658ed1bc406b8f7026d58c4a922b992", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9b95eb230658ed1bc406b8f7026d58c4a922b992"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/49e773183e504f4f73cfcb7dfd5a397b8c94be1e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJi4t6VCRBK7hj4Ov3rIwAAKhAIAEByDfT+pOS5RxoCvZIGfPgk\nVcJ7owu4LPfZWJIxXHtiFk11qtaxer+uvx//TzeAmVtp8Vpn55JQ+rxI7CmIuIM/\nmjs85gi/SifI5+ZW5hkCso8/biAmbOMXhgP05Rb06pq5UBVWJBKcFd+mX0jkakoV\noWYhvfJrW8UV9IJEXWobi9BL9Vip9+zkZMx83fxZV3Sr6vsX82/8JUZUiUdoD7Po\nCuZw4bnAHXodtsVI//jTnGMnjNu0+5oiOb4cgrfAFmS9OgTEgvXtwJgxOfQT2IGa\n9UBT+gZpXSNF/NwAygM7wO14r6MYouqtal74ZljUZM7DnmAxtZBWKW4n3X0FlOc=\n=LeAQ\n-----END PGP SIGNATURE-----\n", "payload": "tree 9b95eb230658ed1bc406b8f7026d58c4a922b992\nparent e34bb03197af68ef03a52ba0acbb9a44c958c253\nauthor Afonso Bordado <afonso360@users.noreply.github.com> 1659035285 +0100\ncommitter GitHub <noreply@github.com> 1659035285 +0200\n\nUpdate to cranelift 0.86 (#1250)\n\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/49e773183e504f4f73cfcb7dfd5a397b8c94be1e", "html_url": "https://github.com/rust-lang/rust/commit/49e773183e504f4f73cfcb7dfd5a397b8c94be1e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/comments", "author": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e34bb03197af68ef03a52ba0acbb9a44c958c253", "url": "https://api.github.com/repos/rust-lang/rust/commits/e34bb03197af68ef03a52ba0acbb9a44c958c253", "html_url": "https://github.com/rust-lang/rust/commit/e34bb03197af68ef03a52ba0acbb9a44c958c253"}], "stats": {"total": 151, "additions": 97, "deletions": 54}, "files": [{"sha": "352fd39a3082655445adf88716a2c1002c56b97b", "filename": "Cargo.lock", "status": "modified", "additions": 86, "deletions": 43, "changes": 129, "blob_url": "https://github.com/rust-lang/rust/blob/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=49e773183e504f4f73cfcb7dfd5a397b8c94be1e", "patch": "@@ -15,9 +15,9 @@ dependencies = [\n \n [[package]]\n name = \"anyhow\"\n-version = \"1.0.56\"\n+version = \"1.0.58\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"4361135be9122e0870de935d7c439aef945b9f9ddd4199a553b5270b49c82a27\"\n+checksum = \"bb07d2053ccdbe10e2af2995a2f116c1330396493dc1269f6a91d0ae82e19704\"\n \n [[package]]\n name = \"ar\"\n@@ -50,18 +50,18 @@ checksum = \"baf1de4339761588bc0619e3cbc0120ee582ebb74b53b4efbf79117bd2da40fd\"\n \n [[package]]\n name = \"cranelift-bforest\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"749d0d6022c9038dccf480bdde2a38d435937335bf2bb0f14e815d94517cdce8\"\n+checksum = \"529ffacce2249ac60edba2941672dfedf3d96558b415d0d8083cd007456e0f55\"\n dependencies = [\n  \"cranelift-entity\",\n ]\n \n [[package]]\n name = \"cranelift-codegen\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e94370cc7b37bf652ccd8bb8f09bd900997f7ccf97520edfc75554bb5c4abbea\"\n+checksum = \"427d105f617efc8cb55f8d036a7fded2e227892d8780b4985e5551f8d27c4a92\"\n dependencies = [\n  \"cranelift-bforest\",\n  \"cranelift-codegen-meta\",\n@@ -77,30 +77,30 @@ dependencies = [\n \n [[package]]\n name = \"cranelift-codegen-meta\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e0a3cea8fdab90e44018c5b9a1dfd460d8ee265ac354337150222a354628bdb6\"\n+checksum = \"551674bed85b838d45358e3eab4f0ffaa6790c70dc08184204b9a54b41cdb7d1\"\n dependencies = [\n  \"cranelift-codegen-shared\",\n ]\n \n [[package]]\n name = \"cranelift-codegen-shared\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5ac72f76f2698598951ab26d8c96eaa854810e693e7dd52523958b5909fde6b2\"\n+checksum = \"2b3a63ae57498c3eb495360944a33571754241e15e47e3bcae6082f40fec5866\"\n \n [[package]]\n name = \"cranelift-entity\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"09eaeacfcd2356fe0e66b295e8f9d59fdd1ac3ace53ba50de14d628ec902f72d\"\n+checksum = \"11aa8aa624c72cc1c94ea3d0739fa61248260b5b14d3646f51593a88d67f3e6e\"\n \n [[package]]\n name = \"cranelift-frontend\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"dba69c9980d5ffd62c18a2bde927855fcd7c8dc92f29feaf8636052662cbd99c\"\n+checksum = \"544ee8f4d1c9559c9aa6d46e7aaeac4a13856d620561094f35527356c7d21bd0\"\n dependencies = [\n  \"cranelift-codegen\",\n  \"log\",\n@@ -110,15 +110,15 @@ dependencies = [\n \n [[package]]\n name = \"cranelift-isle\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d2920dc1e05cac40304456ed3301fde2c09bd6a9b0210bcfa2f101398d628d5b\"\n+checksum = \"ed16b14363d929b8c37e3c557d0a7396791b383ecc302141643c054343170aad\"\n \n [[package]]\n name = \"cranelift-jit\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"1c3c5ed067f2c81577e431f3039148a9c187b33cc79e0d1731fede27d801ec56\"\n+checksum = \"0308e7418208639fb96c1a3dc04955fa41c4bc92dfce9106635185f71d5caf46\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n@@ -129,24 +129,24 @@ dependencies = [\n  \"log\",\n  \"region\",\n  \"target-lexicon\",\n- \"winapi\",\n+ \"windows-sys\",\n ]\n \n [[package]]\n name = \"cranelift-module\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"eee6784303bf9af235237a4885f7417e09a35df896d38ea969a0081064b3ede4\"\n+checksum = \"76979aac10dbcf0c222cd5902565bc93597ac30bbe9d879a2aa5f2402d1561f2\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n ]\n \n [[package]]\n name = \"cranelift-native\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f04dfa45f9b2a6f587c564d6b63388e00cd6589d2df6ea2758cf79e1a13285e6\"\n+checksum = \"51617cf8744634f2ed3c989c3c40cd6444f63377c6d994adab0d85807f3eb682\"\n dependencies = [\n  \"cranelift-codegen\",\n  \"libc\",\n@@ -155,9 +155,9 @@ dependencies = [\n \n [[package]]\n name = \"cranelift-object\"\n-version = \"0.85.3\"\n+version = \"0.86.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"0bf38b2c505db749276793116c0cb30bd096206c7810e471677a453134881881\"\n+checksum = \"50e649a13f3951ad3b8cb13a3a774481c12159a98eb386b04583573c57d7cf56\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n@@ -187,9 +187,9 @@ dependencies = [\n \n [[package]]\n name = \"getrandom\"\n-version = \"0.2.6\"\n+version = \"0.2.7\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"9be70c98951c83b8d2f8f60d7065fa6d5146873094452a1008da8c2f1e4205ad\"\n+checksum = \"4eb1a864a501629691edf6c15a593b7a51eebaa1e8468e9ddc623de7c9b58ec6\"\n dependencies = [\n  \"cfg-if\",\n  \"libc\",\n@@ -198,9 +198,9 @@ dependencies = [\n \n [[package]]\n name = \"gimli\"\n-version = \"0.26.1\"\n+version = \"0.26.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"78cc372d058dcf6d5ecd98510e7fbc9e5aec4d21de70f65fea8fecebcd881bd4\"\n+checksum = \"22030e2c5a68ec659fde1e949a745124b48e6fa8b045b7ed5bd1fe4ccc5c4e5d\"\n dependencies = [\n  \"indexmap\",\n ]\n@@ -248,9 +248,9 @@ dependencies = [\n \n [[package]]\n name = \"log\"\n-version = \"0.4.14\"\n+version = \"0.4.17\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"51b9bbe6c47d51fc3e1a9b945965946b4c44142ab8792c50835a980d362c2710\"\n+checksum = \"abb12e687cfb44aa40f41fc3978ef76448f9b6038cad6aef4259d3c095a2382e\"\n dependencies = [\n  \"cfg-if\",\n ]\n@@ -266,9 +266,9 @@ dependencies = [\n \n [[package]]\n name = \"memchr\"\n-version = \"2.4.1\"\n+version = \"2.5.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"308cc39be01b73d0d18f82a0e7b2a3df85245f84af96fdddc5d202d27e47b86a\"\n+checksum = \"2dffe52ecf27772e601905b7522cb4ef790d2cc203488bbd0e2fe85fcb74566d\"\n \n [[package]]\n name = \"object\"\n@@ -284,15 +284,15 @@ dependencies = [\n \n [[package]]\n name = \"once_cell\"\n-version = \"1.10.0\"\n+version = \"1.13.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"87f3e037eac156d1775da914196f0f37741a274155e34a0b7e427c35d2a2ecb9\"\n+checksum = \"18a6dbe30758c9f83eb00cbea4ac95966305f5a7772f3f42ebfc7fc7eddbd8e1\"\n \n [[package]]\n name = \"regalloc2\"\n-version = \"0.2.3\"\n+version = \"0.3.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"4a8d23b35d7177df3b9d31ed8a9ab4bf625c668be77a319d4f5efd4a5257701c\"\n+checksum = \"76ff2e57a7d050308b3fde0f707aa240b491b190e3855f212860f11bb3af4205\"\n dependencies = [\n  \"fxhash\",\n  \"log\",\n@@ -340,15 +340,15 @@ checksum = \"03b634d87b960ab1a38c4fe143b508576f075e7c978bfad18217645ebfdfa2ec\"\n \n [[package]]\n name = \"smallvec\"\n-version = \"1.8.1\"\n+version = \"1.9.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"cc88c725d61fc6c3132893370cac4a0200e3fedf5da8331c570664b1987f5ca2\"\n+checksum = \"2fd0db749597d91ff862fd1d55ea87f7855a744a8425a64695b6fca237d1dad1\"\n \n [[package]]\n name = \"target-lexicon\"\n-version = \"0.12.3\"\n+version = \"0.12.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d7fa7e55043acb85fca6b3c01485a2eeb6b69c5d21002e273c79e465f43b7ac1\"\n+checksum = \"c02424087780c9b71cc96799eaeddff35af2bc513278cda5c99fc1f5d026d3c1\"\n \n [[package]]\n name = \"version_check\"\n@@ -358,9 +358,9 @@ checksum = \"49874b5167b65d7193b8aba1567f5c7d93d001cafc34600cee003eda787e483f\"\n \n [[package]]\n name = \"wasi\"\n-version = \"0.10.2+wasi-snapshot-preview1\"\n+version = \"0.11.0+wasi-snapshot-preview1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"fd6fbd9a79829dd1ad0cc20627bf1ed606756a7f77edff7b66b7064f9cb327c6\"\n+checksum = \"9c8d87e72b64a3b4db28d11ce29237c246188f4f51057d65a7eab63b7987e423\"\n \n [[package]]\n name = \"winapi\"\n@@ -383,3 +383,46 @@ name = \"winapi-x86_64-pc-windows-gnu\"\n version = \"0.4.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"712e227841d057c1ee1cd2fb22fa7e5a5461ae8e48fa2ca79ec42cfc1931183f\"\n+\n+[[package]]\n+name = \"windows-sys\"\n+version = \"0.36.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"ea04155a16a59f9eab786fe12a4a450e75cdb175f9e0d80da1e17db09f55b8d2\"\n+dependencies = [\n+ \"windows_aarch64_msvc\",\n+ \"windows_i686_gnu\",\n+ \"windows_i686_msvc\",\n+ \"windows_x86_64_gnu\",\n+ \"windows_x86_64_msvc\",\n+]\n+\n+[[package]]\n+name = \"windows_aarch64_msvc\"\n+version = \"0.36.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"9bb8c3fd39ade2d67e9874ac4f3db21f0d710bee00fe7cab16949ec184eeaa47\"\n+\n+[[package]]\n+name = \"windows_i686_gnu\"\n+version = \"0.36.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"180e6ccf01daf4c426b846dfc66db1fc518f074baa793aa7d9b9aaeffad6a3b6\"\n+\n+[[package]]\n+name = \"windows_i686_msvc\"\n+version = \"0.36.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"e2e7917148b2812d1eeafaeb22a97e4813dfa60a3f8f78ebe204bcc88f12f024\"\n+\n+[[package]]\n+name = \"windows_x86_64_gnu\"\n+version = \"0.36.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"4dcd171b8776c41b97521e5da127a2d86ad280114807d0b2ab1e462bc764d9e1\"\n+\n+[[package]]\n+name = \"windows_x86_64_msvc\"\n+version = \"0.36.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"c811ca4a8c853ef420abd8592ba53ddbbac90410fab6903b3e79972a631f7680\""}, {"sha": "3f343a49e0ceed5e58f1a4a52f8bfc738baca423", "filename": "Cargo.toml", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=49e773183e504f4f73cfcb7dfd5a397b8c94be1e", "patch": "@@ -8,12 +8,12 @@ crate-type = [\"dylib\"]\n \n [dependencies]\n # These have to be in sync with each other\n-cranelift-codegen = { version = \"0.85.3\", features = [\"unwind\", \"all-arch\"] }\n-cranelift-frontend = \"0.85.3\"\n-cranelift-module = \"0.85.3\"\n-cranelift-native = \"0.85.3\"\n-cranelift-jit = { version = \"0.85.3\", optional = true }\n-cranelift-object = \"0.85.3\"\n+cranelift-codegen = { version = \"0.86.1\", features = [\"unwind\", \"all-arch\"] }\n+cranelift-frontend = \"0.86.1\"\n+cranelift-module = \"0.86.1\"\n+cranelift-native = \"0.86.1\"\n+cranelift-jit = { version = \"0.86.1\", optional = true }\n+cranelift-object = \"0.86.1\"\n target-lexicon = \"0.12.0\"\n gimli = { version = \"0.26.0\", default-features = false, features = [\"write\"]}\n object = { version = \"0.28.0\", default-features = false, features = [\"std\", \"read_core\", \"write\", \"archive\", \"coff\", \"elf\", \"macho\", \"pe\"] }"}, {"sha": "2f8c697bd1e02ce0b48f28034f795fb96086f763", "filename": "src/abi/pass_mode.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/src%2Fabi%2Fpass_mode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/src%2Fabi%2Fpass_mode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fabi%2Fpass_mode.rs?ref=49e773183e504f4f73cfcb7dfd5a397b8c94be1e", "patch": "@@ -23,7 +23,7 @@ fn reg_to_abi_param(reg: Reg) -> AbiParam {\n         (RegKind::Integer, 9..=16) => types::I128,\n         (RegKind::Float, 4) => types::F32,\n         (RegKind::Float, 8) => types::F64,\n-        (RegKind::Vector, size) => types::I8.by(u16::try_from(size).unwrap()).unwrap(),\n+        (RegKind::Vector, size) => types::I8.by(u32::try_from(size).unwrap()).unwrap(),\n         _ => unreachable!(\"{:?}\", reg),\n     };\n     AbiParam::new(clif_ty)"}, {"sha": "fc4953cea6fe0b12e56b501731f44b111c784c70", "filename": "src/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/src%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/src%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcommon.rs?ref=49e773183e504f4f73cfcb7dfd5a397b8c94be1e", "patch": "@@ -74,7 +74,7 @@ fn clif_type_from_ty<'tcx>(tcx: TyCtxt<'tcx>, ty: Ty<'tcx>) -> Option<types::Typ\n                 _ => unreachable!(),\n             };\n \n-            match scalar_to_clif_type(tcx, element).by(u16::try_from(count).unwrap()) {\n+            match scalar_to_clif_type(tcx, element).by(u32::try_from(count).unwrap()) {\n                 // Cranelift currently only implements icmp for 128bit vectors.\n                 Some(vector_ty) if vector_ty.bits() == 128 => vector_ty,\n                 _ => return None,"}, {"sha": "f552c13958d579b5b8cb82ed29a1e3b590eab365", "filename": "src/intrinsics/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/src%2Fintrinsics%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/src%2Fintrinsics%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fintrinsics%2Fmod.rs?ref=49e773183e504f4f73cfcb7dfd5a397b8c94be1e", "patch": "@@ -53,7 +53,7 @@ pub(crate) fn clif_vector_type<'tcx>(tcx: TyCtxt<'tcx>, layout: TyAndLayout<'tcx\n         _ => unreachable!(),\n     };\n \n-    match scalar_to_clif_type(tcx, element).by(u16::try_from(count).unwrap()) {\n+    match scalar_to_clif_type(tcx, element).by(u32::try_from(count).unwrap()) {\n         // Cranelift currently only implements icmp for 128bit vectors.\n         Some(vector_ty) if vector_ty.bits() == 128 => Some(vector_ty),\n         _ => None,"}, {"sha": "e48d095d1396219b089e09542baac80f49717751", "filename": "src/value_and_place.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/src%2Fvalue_and_place.rs", "raw_url": "https://github.com/rust-lang/rust/raw/49e773183e504f4f73cfcb7dfd5a397b8c94be1e/src%2Fvalue_and_place.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fvalue_and_place.rs?ref=49e773183e504f4f73cfcb7dfd5a397b8c94be1e", "patch": "@@ -122,7 +122,7 @@ impl<'tcx> CValue<'tcx> {\n                 let clif_ty = match layout.abi {\n                     Abi::Scalar(scalar) => scalar_to_clif_type(fx.tcx, scalar),\n                     Abi::Vector { element, count } => scalar_to_clif_type(fx.tcx, element)\n-                        .by(u16::try_from(count).unwrap())\n+                        .by(u32::try_from(count).unwrap())\n                         .unwrap(),\n                     _ => unreachable!(\"{:?}\", layout.ty),\n                 };\n@@ -519,7 +519,7 @@ impl<'tcx> CPlace<'tcx> {\n                 if let ty::Array(element, len) = dst_layout.ty.kind() {\n                     // Can only happen for vector types\n                     let len =\n-                        u16::try_from(len.eval_usize(fx.tcx, ParamEnv::reveal_all())).unwrap();\n+                        u32::try_from(len.eval_usize(fx.tcx, ParamEnv::reveal_all())).unwrap();\n                     let vector_ty = fx.clif_type(*element).unwrap().by(len).unwrap();\n \n                     let data = match from.0 {"}]}