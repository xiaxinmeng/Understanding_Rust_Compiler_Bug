{"sha": "248988923195a17b14b740a4f550d87d33477916", "node_id": "C_kwDOAAsO6NoAKDI0ODk4ODkyMzE5NWExN2IxNGI3NDBhNGY1NTBkODdkMzM0Nzc5MTY", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2023-01-20T02:05:57Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2023-01-21T16:37:33Z"}, "message": "Add compare-mode-next-solver", "tree": {"sha": "8c0829fd1c26c30e0310d7ba0b22824478bed687", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8c0829fd1c26c30e0310d7ba0b22824478bed687"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/248988923195a17b14b740a4f550d87d33477916", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/248988923195a17b14b740a4f550d87d33477916", "html_url": "https://github.com/rust-lang/rust/commit/248988923195a17b14b740a4f550d87d33477916", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/248988923195a17b14b740a4f550d87d33477916/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "21f683935257713eae8549e8b328367006097053", "url": "https://api.github.com/repos/rust-lang/rust/commits/21f683935257713eae8549e8b328367006097053", "html_url": "https://github.com/rust-lang/rust/commit/21f683935257713eae8549e8b328367006097053"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "3676f69b100db0136b8701413a1e15513a634399", "filename": "src/tools/compiletest/src/common.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/248988923195a17b14b740a4f550d87d33477916/src%2Ftools%2Fcompiletest%2Fsrc%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/248988923195a17b14b740a4f550d87d33477916/src%2Ftools%2Fcompiletest%2Fsrc%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fcommon.rs?ref=248988923195a17b14b740a4f550d87d33477916", "patch": "@@ -123,6 +123,7 @@ pub enum FailMode {\n pub enum CompareMode {\n     Polonius,\n     Chalk,\n+    NextSolver,\n     SplitDwarf,\n     SplitDwarfSingle,\n }\n@@ -132,6 +133,7 @@ impl CompareMode {\n         match *self {\n             CompareMode::Polonius => \"polonius\",\n             CompareMode::Chalk => \"chalk\",\n+            CompareMode::NextSolver => \"next-solver\",\n             CompareMode::SplitDwarf => \"split-dwarf\",\n             CompareMode::SplitDwarfSingle => \"split-dwarf-single\",\n         }\n@@ -141,6 +143,7 @@ impl CompareMode {\n         match s.as_str() {\n             \"polonius\" => CompareMode::Polonius,\n             \"chalk\" => CompareMode::Chalk,\n+            \"next-solver\" => CompareMode::NextSolver,\n             \"split-dwarf\" => CompareMode::SplitDwarf,\n             \"split-dwarf-single\" => CompareMode::SplitDwarfSingle,\n             x => panic!(\"unknown --compare-mode option: {}\", x),"}, {"sha": "9d99231e4c7b9078d3fb6ad02677bfeccb2281ec", "filename": "src/tools/compiletest/src/header.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/248988923195a17b14b740a4f550d87d33477916/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/248988923195a17b14b740a4f550d87d33477916/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs?ref=248988923195a17b14b740a4f550d87d33477916", "patch": "@@ -701,6 +701,7 @@ impl Config {\n             match self.compare_mode {\n                 Some(CompareMode::Polonius) => name == \"compare-mode-polonius\",\n                 Some(CompareMode::Chalk) => name == \"compare-mode-chalk\",\n+                Some(CompareMode::NextSolver) => name == \"compare-mode-next-solver\",\n                 Some(CompareMode::SplitDwarf) => name == \"compare-mode-split-dwarf\",\n                 Some(CompareMode::SplitDwarfSingle) => name == \"compare-mode-split-dwarf-single\",\n                 None => false,"}, {"sha": "a181cdf2da60a960aede247a7632218a115bdaa0", "filename": "src/tools/compiletest/src/runtest.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/248988923195a17b14b740a4f550d87d33477916/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/248988923195a17b14b740a4f550d87d33477916/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs?ref=248988923195a17b14b740a4f550d87d33477916", "patch": "@@ -2013,6 +2013,9 @@ impl<'test> TestCx<'test> {\n             Some(CompareMode::Chalk) => {\n                 rustc.args(&[\"-Ztrait-solver=chalk\"]);\n             }\n+            Some(CompareMode::NextSolver) => {\n+                rustc.args(&[\"-Ztrait-solver=next\"]);\n+            }\n             Some(CompareMode::SplitDwarf) if self.config.target.contains(\"windows\") => {\n                 rustc.args(&[\"-Csplit-debuginfo=unpacked\", \"-Zunstable-options\"]);\n             }"}]}