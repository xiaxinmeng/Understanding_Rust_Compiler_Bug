{"sha": "d830fcc6eb5173061888d4b128c0670a49515f58", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ4MzBmY2M2ZWI1MTczMDYxODg4ZDRiMTI4YzA2NzBhNDk1MTVmNTg=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-12-13T02:07:23Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-12-25T03:59:52Z"}, "message": "make: Add all the make support for lib{native,green}\n\nThis should now begin distribution of lib{green,native} in rlib/dylib format as\nwell as building them as part of the normal build process.", "tree": {"sha": "9d0d129d6caa09de0a4469a904fc868943390bfe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9d0d129d6caa09de0a4469a904fc868943390bfe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d830fcc6eb5173061888d4b128c0670a49515f58", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d830fcc6eb5173061888d4b128c0670a49515f58", "html_url": "https://github.com/rust-lang/rust/commit/d830fcc6eb5173061888d4b128c0670a49515f58", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d830fcc6eb5173061888d4b128c0670a49515f58/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "780afeaf0a2c063c68d91660eb15a3314f1eadcb", "url": "https://api.github.com/repos/rust-lang/rust/commits/780afeaf0a2c063c68d91660eb15a3314f1eadcb", "html_url": "https://github.com/rust-lang/rust/commit/780afeaf0a2c063c68d91660eb15a3314f1eadcb"}], "stats": {"total": 183, "additions": 156, "deletions": 27}, "files": [{"sha": "d5a62f11e05c20ae9e1b629459962bcb64272438", "filename": "Makefile.in", "status": "modified", "additions": 42, "deletions": 2, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/d830fcc6eb5173061888d4b128c0670a49515f58/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/d830fcc6eb5173061888d4b128c0670a49515f58/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=d830fcc6eb5173061888d4b128c0670a49515f58", "patch": "@@ -235,6 +235,8 @@ CFG_LIBSYNTAX_$(1) :=$(call CFG_LIB_NAME_$(1),syntax)\n CFG_LIBRUSTPKG_$(1) :=$(call CFG_LIB_NAME_$(1),rustpkg)\n CFG_LIBRUSTDOC_$(1) :=$(call CFG_LIB_NAME_$(1),rustdoc)\n CFG_LIBRUSTUV_$(1) :=$(call CFG_LIB_NAME_$(1),rustuv)\n+CFG_LIBGREEN_$(1) :=$(call CFG_LIB_NAME_$(1),green)\n+CFG_LIBNATIVE_$(1) :=$(call CFG_LIB_NAME_$(1),native)\n \n EXTRALIB_GLOB_$(1) :=$(call CFG_LIB_GLOB_$(1),extra)\n STDLIB_GLOB_$(1) :=$(call CFG_LIB_GLOB_$(1),std)\n@@ -243,19 +245,25 @@ LIBSYNTAX_GLOB_$(1) :=$(call CFG_LIB_GLOB_$(1),syntax)\n LIBRUSTPKG_GLOB_$(1) :=$(call CFG_LIB_GLOB_$(1),rustpkg)\n LIBRUSTDOC_GLOB_$(1) :=$(call CFG_LIB_GLOB_$(1),rustdoc)\n LIBRUSTUV_GLOB_$(1) :=$(call CFG_LIB_GLOB_$(1),rustuv)\n+LIBGREEN_GLOB_$(1) :=$(call CFG_LIB_GLOB_$(1),green)\n+LIBNATIVE_GLOB_$(1) :=$(call CFG_LIB_GLOB_$(1),native)\n EXTRALIB_DSYM_GLOB_$(1) :=$(call CFG_LIB_DSYM_GLOB_$(1),extra)\n STDLIB_DSYM_GLOB_$(1) :=$(call CFG_LIB_DSYM_GLOB_$(1),std)\n LIBRUSTC_DSYM_GLOB_$(1) :=$(call CFG_LIB_DSYM_GLOB_$(1),rustc)\n LIBSYNTAX_DSYM_GLOB_$(1) :=$(call CFG_LIB_DSYM_GLOB_$(1),syntax)\n LIBRUSTPKG_DSYM_GLOB_$(1) :=$(call CFG_LIB_DSYM_GLOB_$(1),rustpkg)\n LIBRUSTDOC_DSYM_GLOB_$(1) :=$(call CFG_LIB_DSYM_GLOB_$(1),rustdoc)\n LIBRUSTUV_DSYM_GLOB_$(1) :=$(call CFG_LIB_DSYM_GLOB_$(1),rustuv)\n+LIBGREEN_DSYM_GLOB_$(1) :=$(call CFG_LIB_DSYM_GLOB_$(1),green)\n+LIBNATIVE_DSYM_GLOB_$(1) :=$(call CFG_LIB_DSYM_GLOB_$(1),native)\n \n EXTRALIB_RGLOB_$(1) :=$(call CFG_RLIB_GLOB,extra)\n STDLIB_RGLOB_$(1) :=$(call CFG_RLIB_GLOB,std)\n LIBRUSTUV_RGLOB_$(1) :=$(call CFG_RLIB_GLOB,rustuv)\n LIBSYNTAX_RGLOB_$(1) :=$(call CFG_RLIB_GLOB,syntax)\n LIBRUSTC_RGLOB_$(1) :=$(call CFG_RLIB_GLOB,rustc)\n+LIBNATIVE_RGLOB_$(1) :=$(call CFG_RLIB_GLOB,native)\n+LIBGREEN_RGLOB_$(1) :=$(call CFG_RLIB_GLOB,green)\n \n endef\n \n@@ -319,6 +327,22 @@ LIBRUSTUV_CRATE := $(S)src/librustuv/lib.rs\n LIBRUSTUV_INPUTS := $(wildcard $(addprefix $(S)src/librustuv/,          \\\n                                           *.rs */*.rs))\n \n+######################################################################\n+# Green threading library variables\n+######################################################################\n+\n+LIBGREEN_CRATE := $(S)src/libgreen/lib.rs\n+LIBGREEN_INPUTS := $(wildcard $(addprefix $(S)src/libgreen/,          \\\n+                                          *.rs */*.rs))\n+\n+######################################################################\n+# Native threading library variables\n+######################################################################\n+\n+LIBNATIVE_CRATE := $(S)src/libnative/lib.rs\n+LIBNATIVE_INPUTS := $(wildcard $(addprefix $(S)src/libnative/,          \\\n+                                          *.rs */*.rs))\n+\n ######################################################################\n # rustc crate variables\n ######################################################################\n@@ -430,6 +454,16 @@ HLIBRUSTUV_DEFAULT$(1)_H_$(3) = \\\n TLIBRUSTUV_DEFAULT$(1)_T_$(2)_H_$(3) = \\\n   $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTUV_$(2))\n \n+HLIBGREEN_DEFAULT$(1)_H_$(3) = \\\n+  $$(HLIB$(1)_H_$(3))/$(CFG_LIBGREEN_$(3))\n+TLIBGREEN_DEFAULT$(1)_T_$(2)_H_$(3) = \\\n+  $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBGREEN_$(2))\n+\n+HLIBNATIVE_DEFAULT$(1)_H_$(3) = \\\n+  $$(HLIB$(1)_H_$(3))/$(CFG_LIBNATIVE_$(3))\n+TLIBNATIVE_DEFAULT$(1)_T_$(2)_H_$(3) = \\\n+  $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBNATIVE_$(2))\n+\n # Preqrequisites for using the stageN compiler\n ifeq ($(1),0)\n HSREQ$(1)_H_$(3) = $$(HBIN$(1)_H_$(3))/rustc$$(X_$(3))\n@@ -441,6 +475,8 @@ HSREQ$(1)_H_$(3) = \\\n \t$$(HLIBSYNTAX_DEFAULT$(1)_H_$(3)) \\\n \t$$(HLIBRUSTC_DEFAULT$(1)_H_$(3)) \\\n \t$$(HLIBRUSTUV_DEFAULT$(1)_H_$(3)) \\\n+\t$$(HLIBGREEN_DEFAULT$(1)_H_$(3)) \\\n+\t$$(HLIBNATIVE_DEFAULT$(1)_H_$(3)) \\\n \t$$(MKFILE_DEPS)\n endif\n \n@@ -455,7 +491,9 @@ SREQ$(1)_T_$(2)_H_$(3) = \\\n \t$$(TSREQ$(1)_T_$(2)_H_$(3)) \\\n \t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_STDLIB_$(2)) \\\n \t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_EXTRALIB_$(2)) \\\n-\t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTUV_$(2))\n+\t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTUV_$(2)) \\\n+\t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBGREEN_$(2)) \\\n+\t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBNATIVE_$(2))\n \n # Prerequisites for a working stageN compiler and libraries, for a specific target\n CSREQ$(1)_T_$(2)_H_$(3) = \\\n@@ -470,7 +508,9 @@ CSREQ$(1)_T_$(2)_H_$(3) = \\\n \t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTC_$(2)) \\\n \t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTPKG_$(2)) \\\n \t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTDOC_$(2)) \\\n-\t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTUV_$(2))\n+\t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTUV_$(2)) \\\n+\t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBGREEN_$(2)) \\\n+\t$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBNATIVE_$(2))\n \n ifeq ($(1),0)\n # Don't run the the stage0 compiler under valgrind - that ship has sailed"}, {"sha": "c59298d1ecb63d4bddc06aadcaafea2e8068235a", "filename": "mk/clean.mk", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Fclean.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Fclean.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fclean.mk?ref=d830fcc6eb5173061888d4b128c0670a49515f58", "patch": "@@ -90,6 +90,8 @@ clean$(1)_H_$(2):\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_STDLIB_$(2))\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_EXTRALIB_$(2))\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBRUSTUV_$(2))\n+\t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBNATIVE_$(2))\n+\t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBGREEN_$(2))\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBRUSTC_$(2))\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBSYNTAX_$(2))\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(STDLIB_GLOB_$(2))\n@@ -98,6 +100,10 @@ clean$(1)_H_$(2):\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(EXTRALIB_RGLOB_$(2))\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBRUSTUV_GLOB_$(2))\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBRUSTUV_RGLOB_$(2))\n+\t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBNATIVE_GLOB_$(2))\n+\t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBNATIVE_RGLOB_$(2))\n+\t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBGREEN_GLOB_$(2))\n+\t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBGREEN_RGLOB_$(2))\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBRUSTC_GLOB_$(2))\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBSYNTAX_GLOB_$(2))\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBRUSTPKG_GLOB_$(2))\n@@ -124,6 +130,8 @@ clean$(1)_T_$(2)_H_$(3):\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_STDLIB_$(2))\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_EXTRALIB_$(2))\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTUV_$(2))\n+\t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBGREEN_$(2))\n+\t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBNATIVE_$(2))\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTC_$(2))\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBSYNTAX_$(2))\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(STDLIB_GLOB_$(2))\n@@ -132,6 +140,10 @@ clean$(1)_T_$(2)_H_$(3):\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(EXTRALIB_RGLOB_$(2))\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(LIBRUSTUV_GLOB_$(2))\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(LIBRUSTUV_RGLOB_$(2))\n+\t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(LIBNATIVE_GLOB_$(2))\n+\t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(LIBNATIVE_RGLOB_$(2))\n+\t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(LIBGREEN_GLOB_$(2))\n+\t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(LIBGREEN_RGLOB_$(2))\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(LIBRUSTC_GLOB_$(2))\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(LIBRUSTC_RGLOB_$(2))\n \t$(Q)rm -f $$(TLIB$(1)_T_$(2)_H_$(3))/$(LIBSYNTAX_GLOB_$(2))"}, {"sha": "9f0f64f4c6561a4b0408f5d8eb9ea5b87984e093", "filename": "mk/dist.mk", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Fdist.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Fdist.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdist.mk?ref=d830fcc6eb5173061888d4b128c0670a49515f58", "patch": "@@ -35,6 +35,9 @@ PKG_FILES := \\\n       libextra                                 \\\n       libstd                                   \\\n       libsyntax                                \\\n+      librustuv\t\t\t\t       \\\n+      libgreen \t\t\t\t       \\\n+      libnative \t\t\t       \\\n       rt                                       \\\n       librustdoc                               \\\n       rustllvm                                 \\"}, {"sha": "7aabff52bc48e3c0bfdaa8e7f1323fd1d0c5f753", "filename": "mk/host.mk", "status": "modified", "additions": 35, "deletions": 17, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Fhost.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Fhost.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fhost.mk?ref=d830fcc6eb5173061888d4b128c0670a49515f58", "patch": "@@ -24,25 +24,15 @@ define CP_HOST_STAGE_N\n # Note: $(3) and $(4) are both the same!\n \n $$(HBIN$(2)_H_$(4))/rustc$$(X_$(4)): \\\n-\t$$(TBIN$(1)_T_$(4)_H_$(3))/rustc$$(X_$(4)) \\\n-\t$$(HLIB$(2)_H_$(4))/$(CFG_RUNTIME_$(4)) \\\n-\t$$(HLIB$(2)_H_$(4))/$(CFG_LIBRUSTC_$(4)) \\\n-\t$$(HSTDLIB_DEFAULT$(2)_H_$(4)) \\\n-\t$$(HEXTRALIB_DEFAULT$(2)_H_$(4)) \\\n-\t$$(HLIBRUSTUV_DEFAULT$(2)_H_$(4)) \\\n+\t$$(TBIN$(1)_T_$(4)_H_$(3))/rustc$$(X_$(4))\n \t$$(HLIBRUSTC_DEFAULT$(2)_H_$(4)) \\\n-\t$$(HLIBSYNTAX_DEFAULT$(2)_H_$(4)) \\\n \t| $$(HBIN$(2)_H_$(4))/\n \t@$$(call E, cp: $$@)\n \t$$(Q)cp $$< $$@\n \n $$(HLIB$(2)_H_$(4))/$(CFG_LIBRUSTC_$(4)): \\\n \t$$(TLIB$(1)_T_$(4)_H_$(3))/$(CFG_LIBRUSTC_$(4)) \\\n-\t$$(HLIB$(2)_H_$(4))/$(CFG_LIBSYNTAX_$(4)) \\\n-\t$$(HLIB$(2)_H_$(4))/$(CFG_RUNTIME_$(4)) \\\n-\t$$(HSTDLIB_DEFAULT$(2)_H_$(4)) \\\n-\t$$(HEXTRALIB_DEFAULT$(2)_H_$(4)) \\\n-\t$$(HLIBRUSTUV_DEFAULT$(2)_H_$(4)) \\\n+\t$$(HLIBSYNTAX_DEFAULT$(2)_H_$(4)) \\\n \t| $$(HLIB$(2)_H_$(4))/\n \n \t@$$(call E, cp: $$@)\n@@ -55,10 +45,11 @@ $$(HLIB$(2)_H_$(4))/$(CFG_LIBRUSTC_$(4)): \\\n \n $$(HLIB$(2)_H_$(4))/$(CFG_LIBSYNTAX_$(4)): \\\n \t$$(TLIB$(1)_T_$(4)_H_$(3))/$(CFG_LIBSYNTAX_$(4)) \\\n-\t$$(HLIB$(2)_H_$(4))/$(CFG_RUNTIME_$(4)) \\\n \t$$(HSTDLIB_DEFAULT$(2)_H_$(4)) \\\n \t$$(HEXTRALIB_DEFAULT$(2)_H_$(4)) \\\n \t$$(HLIBRUSTUV_DEFAULT$(2)_H_$(4)) \\\n+\t$$(HLIBGREEN_DEFAULT$(2)_H_$(4)) \\\n+\t$$(HLIBNATIVE_DEFAULT$(2)_H_$(4)) \\\n \t| $$(HLIB$(2)_H_$(4))/\n \t@$$(call E, cp: $$@)\n \t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBSYNTAX_GLOB_$(4)),$$(notdir $$@))\n@@ -76,7 +67,6 @@ $$(HLIB$(2)_H_$(4))/$(CFG_RUNTIME_$(4)): \\\n \n $$(HLIB$(2)_H_$(4))/$(CFG_STDLIB_$(4)): \\\n \t$$(TLIB$(1)_T_$(4)_H_$(3))/$(CFG_STDLIB_$(4)) \\\n-\t$$(HLIB$(2)_H_$(4))/$(CFG_RUNTIME_$(4)) \\\n \t| $$(HLIB$(2)_H_$(4))/\n \t@$$(call E, cp: $$@)\n \t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(STDLIB_GLOB_$(4)),$$(notdir $$@))\n@@ -98,8 +88,7 @@ $$(HLIB$(2)_H_$(4))/$(CFG_STDLIB_$(4)): \\\n \n $$(HLIB$(2)_H_$(4))/$(CFG_EXTRALIB_$(4)): \\\n \t$$(TLIB$(1)_T_$(4)_H_$(3))/$(CFG_EXTRALIB_$(4)) \\\n-\t$$(HLIB$(2)_H_$(4))/$(CFG_STDLIB_$(4)) \\\n-\t$$(HLIB$(2)_H_$(4))/$(CFG_RUNTIME_$(4)) \\\n+\t$$(HSTDLIB_DEFAULT$(2)_H_$(4)) \\\n \t| $$(HLIB$(2)_H_$(4))/\n \t@$$(call E, cp: $$@)\n \t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(EXTRALIB_GLOB_$(4)),$$(notdir $$@))\n@@ -115,7 +104,6 @@ $$(HLIB$(2)_H_$(4))/$(CFG_EXTRALIB_$(4)): \\\n $$(HLIB$(2)_H_$(4))/$(CFG_LIBRUSTUV_$(4)): \\\n \t$$(TLIB$(1)_T_$(4)_H_$(3))/$(CFG_LIBRUSTUV_$(4)) \\\n \t$$(HLIB$(2)_H_$(4))/$(CFG_STDLIB_$(4)) \\\n-\t$$(HLIB$(2)_H_$(4))/$(CFG_RUNTIME_$(4)) \\\n \t| $$(HLIB$(2)_H_$(4))/\n \t@$$(call E, cp: $$@)\n \t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBRUSTUV_GLOB_$(4)),$$(notdir $$@))\n@@ -128,6 +116,36 @@ $$(HLIB$(2)_H_$(4))/$(CFG_LIBRUSTUV_$(4)): \\\n \t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBRUSTUV_GLOB_$(4)),$$(notdir $$@))\n \t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBRUSTUV_RGLOB_$(4)),$$(notdir $$@))\n \n+$$(HLIB$(2)_H_$(4))/$(CFG_LIBGREEN_$(4)): \\\n+\t$$(TLIB$(1)_T_$(4)_H_$(3))/$(CFG_LIBGREEN_$(4)) \\\n+\t$$(HLIB$(2)_H_$(4))/$(CFG_STDLIB_$(4)) \\\n+\t| $$(HLIB$(2)_H_$(4))/\n+\t@$$(call E, cp: $$@)\n+\t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBGREEN_GLOB_$(4)),$$(notdir $$@))\n+\t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBGREEN_RGLOB_$(4)),$$(notdir $$@))\n+\t$$(Q)cp $$< $$@\n+\t$$(Q)cp -R $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBGREEN_GLOB_$(4)) \\\n+\t\t$$(wildcard $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBGREEN_RGLOB_$(4))) \\\n+\t\t$$(wildcard $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBGREEN_DSYM_GLOB_$(4))) \\\n+\t        $$(HLIB$(2)_H_$(4))\n+\t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBGREEN_GLOB_$(4)),$$(notdir $$@))\n+\t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBGREEN_RGLOB_$(4)),$$(notdir $$@))\n+\n+$$(HLIB$(2)_H_$(4))/$(CFG_LIBNATIVE_$(4)): \\\n+\t$$(TLIB$(1)_T_$(4)_H_$(3))/$(CFG_LIBNATIVE_$(4)) \\\n+\t$$(HLIB$(2)_H_$(4))/$(CFG_STDLIB_$(4)) \\\n+\t| $$(HLIB$(2)_H_$(4))/\n+\t@$$(call E, cp: $$@)\n+\t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBNATIVE_GLOB_$(4)),$$(notdir $$@))\n+\t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBNATIVE_RGLOB_$(4)),$$(notdir $$@))\n+\t$$(Q)cp $$< $$@\n+\t$$(Q)cp -R $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBNATIVE_GLOB_$(4)) \\\n+\t\t$$(wildcard $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBNATIVE_RGLOB_$(4))) \\\n+\t\t$$(wildcard $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBNATIVE_DSYM_GLOB_$(4))) \\\n+\t        $$(HLIB$(2)_H_$(4))\n+\t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBNATIVE_GLOB_$(4)),$$(notdir $$@))\n+\t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBNATIVE_RGLOB_$(4)),$$(notdir $$@))\n+\n $$(HBIN$(2)_H_$(4))/:\n \tmkdir -p $$@\n "}, {"sha": "f81367010ed71cf855307391e2d9d4de2bfff8f0", "filename": "mk/install.mk", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Finstall.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Finstall.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Finstall.mk?ref=d830fcc6eb5173061888d4b128c0670a49515f58", "patch": "@@ -94,6 +94,10 @@ install-target-$(1)-host-$(2): $$(TSREQ$$(ISTAGE)_T_$(1)_H_$(2)) $$(SREQ$$(ISTAG\n \t$$(Q)$$(call INSTALL_LIB,$$(EXTRALIB_RGLOB_$(1)))\n \t$$(Q)$$(call INSTALL_LIB,$$(LIBRUSTUV_GLOB_$(1)))\n \t$$(Q)$$(call INSTALL_LIB,$$(LIBRUSTUV_RGLOB_$(1)))\n+\t$$(Q)$$(call INSTALL_LIB,$$(LIBGREEN_GLOB_$(1)))\n+\t$$(Q)$$(call INSTALL_LIB,$$(LIBGREEN_RGLOB_$(1)))\n+\t$$(Q)$$(call INSTALL_LIB,$$(LIBNATIVE_GLOB_$(1)))\n+\t$$(Q)$$(call INSTALL_LIB,$$(LIBNATIVE_RGLOB_$(1)))\n \t$$(Q)$$(call INSTALL_LIB,libmorestack.a)\n \n endef\n@@ -109,6 +113,10 @@ install-target-$(1)-host-$(2): $$(CSREQ$$(ISTAGE)_T_$(1)_H_$(2))\n \t$$(Q)$$(call INSTALL_LIB,$$(EXTRALIB_RGLOB_$(1)))\n \t$$(Q)$$(call INSTALL_LIB,$$(LIBRUSTUV_GLOB_$(1)))\n \t$$(Q)$$(call INSTALL_LIB,$$(LIBRUSTUV_RGLOB_$(1)))\n+\t$$(Q)$$(call INSTALL_LIB,$$(LIBGREEN_GLOB_$(1)))\n+\t$$(Q)$$(call INSTALL_LIB,$$(LIBGREEN_RGLOB_$(1)))\n+\t$$(Q)$$(call INSTALL_LIB,$$(LIBNATIVE_GLOB_$(1)))\n+\t$$(Q)$$(call INSTALL_LIB,$$(LIBNATIVE_RGLOB_$(1)))\n \t$$(Q)$$(call INSTALL_LIB,$$(LIBRUSTC_GLOB_$(1)))\n \t$$(Q)$$(call INSTALL_LIB,$$(LIBSYNTAX_GLOB_$(1)))\n \t$$(Q)$$(call INSTALL_LIB,$$(LIBRUSTPKG_GLOB_$(1)))\n@@ -149,6 +157,7 @@ install-host: $(CSREQ$(ISTAGE)_T_$(CFG_BUILD_)_H_$(CFG_BUILD_))\n \t$(Q)$(call INSTALL_LIB,$(STDLIB_GLOB_$(CFG_BUILD)))\n \t$(Q)$(call INSTALL_LIB,$(EXTRALIB_GLOB_$(CFG_BUILD)))\n \t$(Q)$(call INSTALL_LIB,$(LIBRUSTUV_GLOB_$(CFG_BUILD)))\n+\t$(Q)$(call INSTALL_LIB,$(LIBGREEN_GLOB_$(CFG_BUILD)))\n \t$(Q)$(call INSTALL_LIB,$(LIBRUSTC_GLOB_$(CFG_BUILD)))\n \t$(Q)$(call INSTALL_LIB,$(LIBSYNTAX_GLOB_$(CFG_BUILD)))\n \t$(Q)$(call INSTALL_LIB,$(LIBRUSTPKG_GLOB_$(CFG_BUILD)))\n@@ -174,6 +183,10 @@ uninstall:\n           $(call HOST_LIB_FROM_HL_GLOB,$(EXTRALIB_RGLOB_$(CFG_BUILD))) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(LIBRUSTUV_GLOB_$(CFG_BUILD))) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(LIBRUSTUV_RGLOB_$(CFG_BUILD))) \\\n+          $(call HOST_LIB_FROM_HL_GLOB,$(LIBGREEN_GLOB_$(CFG_BUILD))) \\\n+          $(call HOST_LIB_FROM_HL_GLOB,$(LIBGREEN_RGLOB_$(CFG_BUILD))) \\\n+          $(call HOST_LIB_FROM_HL_GLOB,$(LIBNATIVE_GLOB_$(CFG_BUILD))) \\\n+          $(call HOST_LIB_FROM_HL_GLOB,$(LIBNATIVE_RGLOB_$(CFG_BUILD))) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(LIBRUSTC_GLOB_$(CFG_BUILD))) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(LIBSYNTAX_GLOB_$(CFG_BUILD))) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(LIBRUSTPKG_GLOB_$(CFG_BUILD))) \\\n@@ -237,6 +250,7 @@ install-runtime-target-$(1)-host-$(2): $$(TSREQ$$(ISTAGE)_T_$(1)_H_$(2)) $$(SREQ\n \t$(Q)$(call ADB_PUSH,$$(TL$(1)$(2))/$$(STDLIB_GLOB_$(1)),$(CFG_RUNTIME_PUSH_DIR))\n \t$(Q)$(call ADB_PUSH,$$(TL$(1)$(2))/$$(EXTRALIB_GLOB_$(1)),$(CFG_RUNTIME_PUSH_DIR))\n \t$(Q)$(call ADB_PUSH,$$(TL$(1)$(2))/$$(LIBRUSTUV_GLOB_$(1)),$(CFG_RUNTIME_PUSH_DIR))\n+\t$(Q)$(call ADB_PUSH,$$(TL$(1)$(2))/$$(LIBGREEN_GLOB_$(1)),$(CFG_RUNTIME_PUSH_DIR))\n endef\n \n define INSTALL_RUNTIME_TARGET_CLEANUP_N\n@@ -245,6 +259,7 @@ install-runtime-target-$(1)-cleanup:\n \t$(Q)$(call ADB_SHELL,rm,$(CFG_RUNTIME_PUSH_DIR)/$(STDLIB_GLOB_$(1)))\n \t$(Q)$(call ADB_SHELL,rm,$(CFG_RUNTIME_PUSH_DIR)/$(EXTRALIB_GLOB_$(1)))\n \t$(Q)$(call ADB_SHELL,rm,$(CFG_RUNTIME_PUSH_DIR)/$(LIBRUSTUV_GLOB_$(1)))\n+\t$(Q)$(call ADB_SHELL,rm,$(CFG_RUNTIME_PUSH_DIR)/$(LIBGREEN_GLOB_$(1)))\n endef\n \n $(eval $(call INSTALL_RUNTIME_TARGET_N,arm-linux-androideabi,$(CFG_BUILD)))"}, {"sha": "3746a4eafc0e66ca6a4f9d07d41b037a59a47198", "filename": "mk/target.mk", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Ftarget.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Ftarget.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftarget.mk?ref=d830fcc6eb5173061888d4b128c0670a49515f58", "patch": "@@ -94,6 +94,32 @@ $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBRUSTUV_$(2)): \\\n \t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBRUSTUV_GLOB_$(2)),$$(notdir $$@))\n \t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBRUSTUV_RGLOB_$(2)),$$(notdir $$@))\n \n+$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBGREEN_$(2)): \\\n+\t\t$$(LIBGREEN_CRATE) $$(LIBGREEN_INPUTS) \\\n+\t        $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_STDLIB_$(2)) \\\n+\t\t$$(TSREQ$(1)_T_$(2)_H_$(3)) \\\n+\t\t| $$(TLIB$(1)_T_$(2)_H_$(3))/\n+\t@$$(call E, compile_and_link: $$@)\n+\t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBGREEN_GLOB_$(2)),$$(notdir $$@))\n+\t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBGREEN_RGLOB_$(2)),$$(notdir $$@))\n+\t$$(STAGE$(1)_T_$(2)_H_$(3)) $$(WFLAGS_ST$(1)) \\\n+\t\t--out-dir $$(@D) $$< && touch $$@\n+\t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBGREEN_GLOB_$(2)),$$(notdir $$@))\n+\t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBGREEN_RGLOB_$(2)),$$(notdir $$@))\n+\n+$$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBNATIVE_$(2)): \\\n+\t\t$$(LIBNATIVE_CRATE) $$(LIBNATIVE_INPUTS) \\\n+\t        $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_STDLIB_$(2)) \\\n+\t\t$$(TSREQ$(1)_T_$(2)_H_$(3)) \\\n+\t\t| $$(TLIB$(1)_T_$(2)_H_$(3))/\n+\t@$$(call E, compile_and_link: $$@)\n+\t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBNATIVE_GLOB_$(2)),$$(notdir $$@))\n+\t$$(call REMOVE_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBNATIVE_RGLOB_$(2)),$$(notdir $$@))\n+\t$$(STAGE$(1)_T_$(2)_H_$(3)) $$(WFLAGS_ST$(1)) \\\n+\t\t--out-dir $$(@D) $$< && touch $$@\n+\t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBNATIVE_GLOB_$(2)),$$(notdir $$@))\n+\t$$(call LIST_ALL_OLD_GLOB_MATCHES_EXCEPT,$$(dir $$@),$(LIBNATIVE_RGLOB_$(2)),$$(notdir $$@))\n+\n $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_LIBSYNTAX_$(3)): \\\n                 $$(LIBSYNTAX_CRATE) $$(LIBSYNTAX_INPUTS) \\\n \t\t$$(TSREQ$(1)_T_$(2)_H_$(3))\t\t\t\\"}, {"sha": "179e41ad3307acff140121608390bbb6f17f40ad", "filename": "mk/tests.mk", "status": "modified", "additions": 23, "deletions": 8, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d830fcc6eb5173061888d4b128c0670a49515f58/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=d830fcc6eb5173061888d4b128c0670a49515f58", "patch": "@@ -14,7 +14,7 @@\n ######################################################################\n \n # The names of crates that must be tested\n-TEST_TARGET_CRATES = std extra rustuv\n+TEST_TARGET_CRATES = std extra rustuv green native\n TEST_DOC_CRATES = std extra\n TEST_HOST_CRATES = rustpkg rustc rustdoc syntax\n TEST_CRATES = $(TEST_TARGET_CRATES) $(TEST_HOST_CRATES)\n@@ -162,6 +162,8 @@ $(info check: android device test dir $(CFG_ADB_TEST_DIR) ready \\\n                   $(CFG_ADB_TEST_DIR)) \\\n  $(shell adb push $(TLIB2_T_arm-linux-androideabi_H_$(CFG_BUILD))/$(LIBRUSTUV_GLOB_arm-linux-androideabi) \\\n                   $(CFG_ADB_TEST_DIR)) \\\n+ $(shell adb push $(TLIB2_T_arm-linux-androideabi_H_$(CFG_BUILD))/$(LIBGREEN_GLOB_arm-linux-androideabi) \\\n+                  $(CFG_ADB_TEST_DIR)) \\\n  )\n else\n CFG_ADB_TEST_DIR=\n@@ -187,7 +189,7 @@ check-test: cleantestlibs cleantmptestlogs all check-stage2-rfail\n \n check-lite: cleantestlibs cleantmptestlogs \\\n \tcheck-stage2-std check-stage2-extra check-stage2-rpass \\\n-\tcheck-stage2-rustuv \\\n+\tcheck-stage2-rustuv check-stage2-native check-stage2-green \\\n \tcheck-stage2-rustpkg \\\n \tcheck-stage2-rfail check-stage2-cfail check-stage2-rmake\n \t$(Q)$(CFG_PYTHON) $(S)src/etc/check-summary.py tmp/*.log\n@@ -339,7 +341,8 @@ define TEST_RUNNER\n ifeq ($(NO_REBUILD),)\n STDTESTDEP_$(1)_$(2)_$(3) = $$(SREQ$(1)_T_$(2)_H_$(3)) \\\n                             $$(TLIB$(1)_T_$(2)_H_$(3))/$$(CFG_EXTRALIB_$(2)) \\\n-                            $$(TLIB$(1)_T_$(2)_H_$(3))/$$(CFG_LIBRUSTUV_$(2))\n+                            $$(TLIB$(1)_T_$(2)_H_$(3))/$$(CFG_LIBRUSTUV_$(2)) \\\n+                            $$(TLIB$(1)_T_$(2)_H_$(3))/$$(CFG_LIBGREEN_$(2))\n else\n STDTESTDEP_$(1)_$(2)_$(3) =\n endif\n@@ -364,6 +367,18 @@ $(3)/stage$(1)/test/rustuvtest-$(2)$$(X_$(2)):\t\t\t\\\n \t\t-L $$(UV_SUPPORT_DIR_$(2)) \\\n \t\t-L $$(dir $$(LIBUV_LIB_$(2)))\n \n+$(3)/stage$(1)/test/nativetest-$(2)$$(X_$(2)):\t\t\t\\\n+\t\t$$(LIBNATIVE_CRATE) $$(LIBNATIVE_INPUTS)\t\\\n+\t\t$$(STDTESTDEP_$(1)_$(2)_$(3))\n+\t@$$(call E, compile_and_link: $$@)\n+\t$$(STAGE$(1)_T_$(2)_H_$(3)) -o $$@ $$< --test\n+\n+$(3)/stage$(1)/test/greentest-$(2)$$(X_$(2)):\t\t\t\\\n+\t\t$$(LIBGREEN_CRATE) $$(LIBGREEN_INPUTS)\t\\\n+\t\t$$(STDTESTDEP_$(1)_$(2)_$(3))\n+\t@$$(call E, compile_and_link: $$@)\n+\t$$(STAGE$(1)_T_$(2)_H_$(3)) -o $$@ $$< --test\n+\n $(3)/stage$(1)/test/syntaxtest-$(2)$$(X_$(2)):\t\t\t\\\n \t\t$$(LIBSYNTAX_CRATE) $$(LIBSYNTAX_INPUTS)\t\\\n \t\t$$(STDTESTDEP_$(1)_$(2)_$(3))\n@@ -375,7 +390,7 @@ $(3)/stage$(1)/test/rustctest-$(2)$$(X_$(2)):\t\t\t\t\t\\\n \t\t$$(COMPILER_CRATE) $$(COMPILER_INPUTS) \\\n \t\t$$(SREQ$(1)_T_$(2)_H_$(3)) \\\n \t\t$$(TLIB$(1)_T_$(2)_H_$(3))/$$(CFG_RUSTLLVM_$(2)) \\\n-                $$(TLIB$(1)_T_$(2)_H_$(3))/$$(CFG_LIBSYNTAX_$(2))\n+\t\t$$(TLIB$(1)_T_$(2)_H_$(3))/$$(CFG_LIBSYNTAX_$(2))\n \t@$$(call E, compile_and_link: $$@)\n \t$$(STAGE$(1)_T_$(2)_H_$(3)) -o $$@ $$< --test \\\n \t    -L \"$$(LLVM_LIBDIR_$(2))\"\n@@ -416,10 +431,10 @@ check-stage$(1)-T-$(2)-H-$(3)-$(4)-exec: $$(call TEST_OK_FILE,$(1),$(2),$(3),$(4\n $$(call TEST_OK_FILE,$(1),$(2),$(3),$(4)): \\\n \t\t$(3)/stage$(1)/test/$(4)test-$(2)$$(X_$(2))\n \t@$$(call E, run: $$<)\n-\t$$(Q)$$(call CFG_RUN_TEST_$(2),$$<,$(2),$(3)) $$(TESTARGS)\t\\\n-\t--logfile $$(call TEST_LOG_FILE,$(1),$(2),$(3),$(4)) \\\n-\t$$(call CRATE_TEST_EXTRA_ARGS,$(1),$(2),$(3),$(4)) \\\n-\t&& touch $$@\n+\t$$(Q)$$(call CFG_RUN_TEST_$(2),$$<,$(2),$(3)) $$(TESTARGS) \\\n+\t    --logfile $$(call TEST_LOG_FILE,$(1),$(2),$(3),$(4)) \\\n+\t    $$(call CRATE_TEST_EXTRA_ARGS,$(1),$(2),$(3),$(4)) \\\n+\t    && touch $$@\n endef\n \n define DEF_TEST_CRATE_RULES_arm-linux-androideabi"}]}