{"sha": "a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE1NDY2ZmM1YWQzYjcxZDgwZWUxMDQwZTZlN2Y4OTg1YzU1NmI2ZTc=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-06-03T05:35:39Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-06-03T05:35:39Z"}, "message": "Rollup merge of #85911 - cjgillot:one-output, r=Aaron1011\n\nAvoid a clone of output_filenames.\n\nPart of #85153", "tree": {"sha": "6ba3669befd175a7a807a990e4c9be46e9b11b92", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6ba3669befd175a7a807a990e4c9be46e9b11b92"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJguGorCRBK7hj4Ov3rIwAA020IABI8kdo84SheZx3VKq5oQvlO\nRr769Q63gGb/u3jCXnbFiBuswBmfBKZhvIBBOdNckr7pqmagdTGoIze4p1sJw65I\nX72UA9RQS+KkAmq2J1TVg3szCmmPp1U5l+84KDSWEDCvxhUIaMsBNNZYVIqL4hIz\nVgFV5mDrzjF561jqgYLGduUJ3RqEHwY1yVg9Srzai+NtegKEzRp0w81WvoMRfKAH\nt0WILcriDj49ha8ISuzT4AEPdrQkZ8VvXX2oecP4eOlzjx84vanQIcwsRbmcKUv6\nhlstuXjjnBqeN1ULQ6PfVRvYMD8xlJwH9EmfBAVOdMBTB8hhwj5mm1jlxa3/TBk=\n=GYrK\n-----END PGP SIGNATURE-----\n", "payload": "tree 6ba3669befd175a7a807a990e4c9be46e9b11b92\nparent ad7b56e1f404b0ece418dc3cb14b4e0869aa94dc\nparent ba0ac88cd5280795765f6fb1e5106447c98d81cc\nauthor Yuki Okushi <jtitor@2k36.org> 1622698539 +0900\ncommitter GitHub <noreply@github.com> 1622698539 +0900\n\nRollup merge of #85911 - cjgillot:one-output, r=Aaron1011\n\nAvoid a clone of output_filenames.\n\nPart of #85153\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7", "html_url": "https://github.com/rust-lang/rust/commit/a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ad7b56e1f404b0ece418dc3cb14b4e0869aa94dc", "url": "https://api.github.com/repos/rust-lang/rust/commits/ad7b56e1f404b0ece418dc3cb14b4e0869aa94dc", "html_url": "https://github.com/rust-lang/rust/commit/ad7b56e1f404b0ece418dc3cb14b4e0869aa94dc"}, {"sha": "ba0ac88cd5280795765f6fb1e5106447c98d81cc", "url": "https://api.github.com/repos/rust-lang/rust/commits/ba0ac88cd5280795765f6fb1e5106447c98d81cc", "html_url": "https://github.com/rust-lang/rust/commit/ba0ac88cd5280795765f6fb1e5106447c98d81cc"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "1666754d29ac696cc57e9111b09c299f284d3d42", "filename": "compiler/rustc_interface/src/passes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7/compiler%2Frustc_interface%2Fsrc%2Fpasses.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7/compiler%2Frustc_interface%2Fsrc%2Fpasses.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_interface%2Fsrc%2Fpasses.rs?ref=a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7", "patch": "@@ -799,7 +799,7 @@ pub fn create_global_ctxt<'tcx>(\n                 query_result_on_disk_cache,\n                 queries.as_dyn(),\n                 &crate_name,\n-                &outputs,\n+                outputs,\n             )\n         })\n     });"}, {"sha": "970e669c16f7024fc9cea806d567855c4f0001c6", "filename": "compiler/rustc_middle/src/ty/context.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcontext.rs?ref=a5466fc5ad3b71d80ee1040e6e7f8985c556b6e7", "patch": "@@ -1135,7 +1135,7 @@ impl<'tcx> TyCtxt<'tcx> {\n         on_disk_cache: Option<query::OnDiskCache<'tcx>>,\n         queries: &'tcx dyn query::QueryEngine<'tcx>,\n         crate_name: &str,\n-        output_filenames: &OutputFilenames,\n+        output_filenames: OutputFilenames,\n     ) -> GlobalCtxt<'tcx> {\n         let data_layout = TargetDataLayout::parse(&s.target).unwrap_or_else(|err| {\n             s.fatal(&err);\n@@ -1179,7 +1179,7 @@ impl<'tcx> TyCtxt<'tcx> {\n             stability_interner: Default::default(),\n             const_stability_interner: Default::default(),\n             alloc_map: Lock::new(interpret::AllocMap::new()),\n-            output_filenames: Arc::new(output_filenames.clone()),\n+            output_filenames: Arc::new(output_filenames),\n             main_def: resolutions.main_def,\n         }\n     }"}]}