{"sha": "947a09a4a88f97aa0ab59a5d21afd8ca3d429e60", "node_id": "C_kwDOAAsO6NoAKDk0N2EwOWE0YTg4Zjk3YWEwYWI1OWE1ZDIxYWZkOGNhM2Q0MjllNjA", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-01-19T03:18:47Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-01-19T03:18:47Z"}, "message": "Replace `if` + `unwrap` with `if let` in check_stack", "tree": {"sha": "57c38475b674aca61c0e3a171ffa12103dd7e6ac", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/57c38475b674aca61c0e3a171ffa12103dd7e6ac"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/947a09a4a88f97aa0ab59a5d21afd8ca3d429e60", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmHngxcACgkQ+boUO5X/\nbYJ83w//cY1WA716kxO/UQaMSUrUVJczrJ6NdGWbrcJg9xT6v747pfBSWIz/5NVe\nV0KHnGuOKGE41smspwznuxGoxD/KSDBiwH64lHh3/wYjc+rwlEADzJ1XZMC8hLxX\nBKHYqjEbigO9AsLj/zZGZdncDT+gWS1LI96wNOA+wggw33VwUOtrsst+R0ddbNj/\nrINEKtjBcRRRhsWG3gHuharVXsN6cLWuM9H8EtlifOshLdK6IY1j7SwgYEocPGyp\nTBePqz2Kukhd2dH7f9sndlmIKHa9gULl6kp05dEG1c09Ugpl8aqNQJioieENDzdJ\n8Ope6l51sLYC9cLRkp7aQQ8XgyA+U3ZJRheQE/VeSH0KZB05y9djF+6jqqVk1mVv\niZnN/JgAL/Sv5u8swMT3qqauxUcHamgaGM/NwYD8UclgqSxankjCyZQSR9p8130O\nb4uYHWqKQ09iG28eYcIOFLlzHtiFtd9dDno9PgddrrV4l/WWC4xxMGdm7uNfcuat\n2AGiWxl1rRKh1vyn9p3GJRx4bMZpGLD2HrItn7VKzwFj8VIV4wCmJH+VXSu7biKB\ni/9Z7IEQ2Lv2bhmNpkK0Bm8KUHBPGjQUToPanZyjzzj4E+5Ml+smcie+MRLgFjvr\nbUa3uNavFoW8akSt9utZgRnozb1DkGdcS7FD2U3EJY0/3f2uC90=\n=wjNd\n-----END PGP SIGNATURE-----", "payload": "tree 57c38475b674aca61c0e3a171ffa12103dd7e6ac\nparent 80139a0f02ef04dc759f47ad59ece2138117c41c\nauthor David Tolnay <dtolnay@gmail.com> 1642562327 -0800\ncommitter David Tolnay <dtolnay@gmail.com> 1642562327 -0800\n\nReplace `if` + `unwrap` with `if let` in check_stack\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/947a09a4a88f97aa0ab59a5d21afd8ca3d429e60", "html_url": "https://github.com/rust-lang/rust/commit/947a09a4a88f97aa0ab59a5d21afd8ca3d429e60", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/947a09a4a88f97aa0ab59a5d21afd8ca3d429e60/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "80139a0f02ef04dc759f47ad59ece2138117c41c", "url": "https://api.github.com/repos/rust-lang/rust/commits/80139a0f02ef04dc759f47ad59ece2138117c41c", "html_url": "https://github.com/rust-lang/rust/commit/80139a0f02ef04dc759f47ad59ece2138117c41c"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "b2870ac2734fa2c3685c2a1bf319a8a50a087a47", "filename": "compiler/rustc_ast_pretty/src/pp.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/947a09a4a88f97aa0ab59a5d21afd8ca3d429e60/compiler%2Frustc_ast_pretty%2Fsrc%2Fpp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947a09a4a88f97aa0ab59a5d21afd8ca3d429e60/compiler%2Frustc_ast_pretty%2Fsrc%2Fpp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_pretty%2Fsrc%2Fpp.rs?ref=947a09a4a88f97aa0ab59a5d21afd8ca3d429e60", "patch": "@@ -379,8 +379,7 @@ impl Printer {\n     }\n \n     fn check_stack(&mut self, k: usize) {\n-        if !self.scan_stack.is_empty() {\n-            let x = *self.scan_stack.front().unwrap();\n+        if let Some(&x) = self.scan_stack.front() {\n             match self.buf[x].token {\n                 Token::Begin(_) => {\n                     if k > 0 {"}]}