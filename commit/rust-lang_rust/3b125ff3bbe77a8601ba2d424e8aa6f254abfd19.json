{"sha": "3b125ff3bbe77a8601ba2d424e8aa6f254abfd19", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNiMTI1ZmYzYmJlNzdhODYwMWJhMmQ0MjRlOGFhNmYyNTRhYmZkMTk=", "commit": {"author": {"name": "Eduard Burtescu", "email": "edy.burt@gmail.com", "date": "2014-02-26T21:02:35Z"}, "committer": {"name": "Eduard Burtescu", "email": "edy.burt@gmail.com", "date": "2014-03-04T14:41:48Z"}, "message": "Add the DerefImm and DerefMut traits.", "tree": {"sha": "605d8e873a83ebf13c640b861873aa8af1d6c25a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/605d8e873a83ebf13c640b861873aa8af1d6c25a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3b125ff3bbe77a8601ba2d424e8aa6f254abfd19", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3b125ff3bbe77a8601ba2d424e8aa6f254abfd19", "html_url": "https://github.com/rust-lang/rust/commit/3b125ff3bbe77a8601ba2d424e8aa6f254abfd19", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3b125ff3bbe77a8601ba2d424e8aa6f254abfd19/comments", "author": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "19fadf6567859bd46d3235c29d61917efc0e0685", "url": "https://api.github.com/repos/rust-lang/rust/commits/19fadf6567859bd46d3235c29d61917efc0e0685", "html_url": "https://github.com/rust-lang/rust/commit/19fadf6567859bd46d3235c29d61917efc0e0685"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "ba5d9663c3bfdf333f1164bd948c44b743c7a9f6", "filename": "src/librustc/middle/lang_items.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3b125ff3bbe77a8601ba2d424e8aa6f254abfd19/src%2Flibrustc%2Fmiddle%2Flang_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b125ff3bbe77a8601ba2d424e8aa6f254abfd19/src%2Flibrustc%2Fmiddle%2Flang_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Flang_items.rs?ref=3b125ff3bbe77a8601ba2d424e8aa6f254abfd19", "patch": "@@ -232,6 +232,9 @@ lets_do_this! {\n     ShrTraitLangItem,                \"shr\",                     shr_trait;\n     IndexTraitLangItem,              \"index\",                   index_trait;\n \n+    DerefTraitLangItem,              \"deref\",                   deref_trait;\n+    DerefMutTraitLangItem,           \"deref_mut\",               deref_mut_trait;\n+\n     EqTraitLangItem,                 \"eq\",                      eq_trait;\n     OrdTraitLangItem,                \"ord\",                     ord_trait;\n "}, {"sha": "2d5d37e1abc5115cbb0f0e6bed6f8e5e3308889e", "filename": "src/libstd/ops.rs", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/3b125ff3bbe77a8601ba2d424e8aa6f254abfd19/src%2Flibstd%2Fops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b125ff3bbe77a8601ba2d424e8aa6f254abfd19/src%2Flibstd%2Fops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fops.rs?ref=3b125ff3bbe77a8601ba2d424e8aa6f254abfd19", "patch": "@@ -464,6 +464,28 @@ pub trait Index<Index,Result> {\n     fn index(&self, index: &Index) -> Result;\n }\n \n+#[cfg(stage0)]\n+pub trait Deref<Result> {\n+    fn deref<'a>(&'a self) -> &'a Result;\n+}\n+\n+#[cfg(not(stage0))]\n+#[lang=\"deref\"]\n+pub trait Deref<Result> {\n+    fn deref<'a>(&'a self) -> &'a Result;\n+}\n+\n+#[cfg(stage0)]\n+pub trait DerefMut<Result>: Deref<Result> {\n+    fn deref_mut<'a>(&'a mut self) -> &'a mut Result;\n+}\n+\n+#[cfg(not(stage0))]\n+#[lang=\"deref_mut\"]\n+pub trait DerefMut<Result>: Deref<Result> {\n+    fn deref_mut<'a>(&'a mut self) -> &'a mut Result;\n+}\n+\n #[cfg(test)]\n mod bench {\n     extern crate test;"}, {"sha": "531833acfb120481fb2bf82f0a92bfa59daf86fd", "filename": "src/libstd/prelude.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3b125ff3bbe77a8601ba2d424e8aa6f254abfd19/src%2Flibstd%2Fprelude.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b125ff3bbe77a8601ba2d424e8aa6f254abfd19/src%2Flibstd%2Fprelude.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fprelude.rs?ref=3b125ff3bbe77a8601ba2d424e8aa6f254abfd19", "patch": "@@ -23,7 +23,7 @@ generally useful to many Rust programs.\n pub use kinds::{Freeze, Pod, Send, Sized};\n pub use ops::{Add, Sub, Mul, Div, Rem, Neg, Not};\n pub use ops::{BitAnd, BitOr, BitXor};\n-pub use ops::{Drop};\n+pub use ops::{Drop, Deref, DerefMut};\n pub use ops::{Shl, Shr, Index};\n pub use option::{Option, Some, None};\n pub use result::{Result, Ok, Err};"}]}