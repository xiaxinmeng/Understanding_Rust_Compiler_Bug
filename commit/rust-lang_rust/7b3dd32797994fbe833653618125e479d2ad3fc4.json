{"sha": "7b3dd32797994fbe833653618125e479d2ad3fc4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiM2RkMzI3OTc5OTRmYmU4MzM2NTM2MTgxMjVlNDc5ZDJhZDNmYzQ=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-09-04T07:45:01Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-09-05T06:34:09Z"}, "message": "Move the `rt` build directory under $target\n\nCloses #2302", "tree": {"sha": "d08eef0159122473c61dffb32cb17808571980c3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d08eef0159122473c61dffb32cb17808571980c3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7b3dd32797994fbe833653618125e479d2ad3fc4", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7b3dd32797994fbe833653618125e479d2ad3fc4", "html_url": "https://github.com/rust-lang/rust/commit/7b3dd32797994fbe833653618125e479d2ad3fc4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7b3dd32797994fbe833653618125e479d2ad3fc4/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6b3c7cb4e2e15dc9873a47ac2b3b9bf421e2858f", "url": "https://api.github.com/repos/rust-lang/rust/commits/6b3c7cb4e2e15dc9873a47ac2b3b9bf421e2858f", "html_url": "https://github.com/rust-lang/rust/commit/6b3c7cb4e2e15dc9873a47ac2b3b9bf421e2858f"}], "stats": {"total": 86, "additions": 45, "deletions": 41}, "files": [{"sha": "fff961b734c04dbcdd10d8ac0fa3087fde1f8f03", "filename": "configure", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/7b3dd32797994fbe833653618125e479d2ad3fc4/configure", "raw_url": "https://github.com/rust-lang/rust/raw/7b3dd32797994fbe833653618125e479d2ad3fc4/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=7b3dd32797994fbe833653618125e479d2ad3fc4", "patch": "@@ -674,20 +674,19 @@ do\n     make_dir $t/rustllvm\n done\n \n-make_dir rt\n for t in $CFG_TARGET_TRIPLES\n do\n-  make_dir rt/$t\n+  make_dir $t/rt\n   for s in 0 1 2 3\n   do\n-    make_dir rt/$t/stage$s\n+    make_dir $t/rt/stage$s\n     for i in                                          \\\n       isaac linenoise sync test \\\n       arch/i386 arch/x86_64 arch/arm arch/mips  \\\n       libuv libuv/src/ares libuv/src/eio libuv/src/ev \\\n       jemalloc\n     do\n-      make_dir rt/$t/stage$s/$i\n+      make_dir $t/rt/stage$s/$i\n     done\n   done\n done"}, {"sha": "f38396cafff19e29db3cb0917c78007e7b47bf85", "filename": "mk/clean.mk", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/7b3dd32797994fbe833653618125e479d2ad3fc4/mk%2Fclean.mk", "raw_url": "https://github.com/rust-lang/rust/raw/7b3dd32797994fbe833653618125e479d2ad3fc4/mk%2Fclean.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fclean.mk?ref=7b3dd32797994fbe833653618125e479d2ad3fc4", "patch": "@@ -33,15 +33,17 @@ clean: clean-misc $(CLEAN_STAGE_RULES)\n \n clean-misc:\n \t@$(call E, cleaning)\n-\t$(Q)find $(CFG_BUILD_TRIPLE)/rustllvm rt $(CFG_BUILD_TRIPLE)/test \\\n+\t$(Q)find $(CFG_BUILD_TRIPLE)/rustllvm \\\n+\t         $(CFG_BUILD_TRIPLE)/rt \\\n+\t\t $(CFG_BUILD_TRIPLE)/test \\\n          -name '*.[odasS]' -o \\\n          -name '*.so' -o      \\\n          -name '*.dylib' -o   \\\n          -name '*.dll' -o     \\\n          -name '*.def' -o     \\\n          -name '*.bc'         \\\n          | xargs rm -f\n-\t$(Q)find rustllvm rt $(CFG_BUILD_TRIPLE)\\\n+\t$(Q)find $(CFG_BUILD_TRIPLE)\\\n          -name '*.dSYM'       \\\n          | xargs rm -Rf\n \t$(Q)rm -f $(RUNTIME_OBJS) $(RUNTIME_DEF)"}, {"sha": "cfa26b8e97cb7da727572c7b780296550d5de4dd", "filename": "mk/rt.mk", "status": "modified", "additions": 35, "deletions": 32, "changes": 67, "blob_url": "https://github.com/rust-lang/rust/blob/7b3dd32797994fbe833653618125e479d2ad3fc4/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/7b3dd32797994fbe833653618125e479d2ad3fc4/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=7b3dd32797994fbe833653618125e479d2ad3fc4", "patch": "@@ -92,61 +92,64 @@ RUNTIME_S_$(1)_$(2) := rt/arch/$$(HOST_$(1))/_context.S \\\n \t\t\trt/arch/$$(HOST_$(1))/ccall.S \\\n \t\t\trt/arch/$$(HOST_$(1))/record_sp.S\n \n+RT_OUTPUT_DIR_$(1) := $(1)/rt\n+RT_BUILD_DIR_$(1)_$(2) := $$(RT_OUTPUT_DIR_$(1))/stage$(2)\n+\n ifeq ($$(CFG_WINDOWSY_$(1)), 1)\n   LIBUV_OSTYPE_$(1)_$(2) := win\n-  LIBUV_LIB_$(1)_$(2) := rt/$(1)/stage$(2)/libuv/libuv.a\n-  JEMALLOC_LIB_$(1)_$(2) := rt/$(1)/stage$(2)/jemalloc/lib/jemalloc.lib\n+  LIBUV_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/libuv/libuv.a\n+  JEMALLOC_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc/lib/jemalloc.lib\n else ifeq ($(OSTYPE_$(1)), apple-darwin)\n   LIBUV_OSTYPE_$(1)_$(2) := mac\n-  LIBUV_LIB_$(1)_$(2) := rt/$(1)/stage$(2)/libuv/libuv.a\n-  JEMALLOC_LIB_$(1)_$(2) := rt/$(1)/stage$(2)/jemalloc/lib/libjemalloc_pic.a\n+  LIBUV_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/libuv/libuv.a\n+  JEMALLOC_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc/lib/libjemalloc_pic.a\n else ifeq ($(OSTYPE_$(1)), unknown-freebsd)\n   LIBUV_OSTYPE_$(1)_$(2) := unix/freebsd\n-  LIBUV_LIB_$(1)_$(2) := rt/$(1)/stage$(2)/libuv/libuv.a\n-  JEMALLOC_LIB_$(1)_$(2) := rt/$(1)/stage$(2)/jemalloc/lib/libjemalloc_pic.a\n+  LIBUV_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/libuv/libuv.a\n+  JEMALLOC_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc/lib/libjemalloc_pic.a\n else ifeq ($(OSTYPE_$(1)), linux-androideabi)\n   LIBUV_OSTYPE_$(1)_$(2) := unix/android\n-  LIBUV_LIB_$(1)_$(2) := rt/$(1)/stage$(2)/libuv/libuv.a\n-  JEMALLOC_LIB_$(1)_$(2) := rt/$(1)/stage$(2)/jemalloc/lib/libjemalloc_pic.a\n+  LIBUV_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/libuv/libuv.a\n+  JEMALLOC_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc/lib/libjemalloc_pic.a\n else\n   LIBUV_OSTYPE_$(1)_$(2) := unix/linux\n-  LIBUV_LIB_$(1)_$(2) := rt/$(1)/stage$(2)/libuv/libuv.a\n-  JEMALLOC_LIB_$(1)_$(2) := rt/$(1)/stage$(2)/jemalloc/lib/libjemalloc_pic.a\n+  LIBUV_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/libuv/libuv.a\n+  JEMALLOC_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc/lib/libjemalloc_pic.a\n endif\n \n-RUNTIME_DEF_$(1)_$(2) := rt/rustrt$(CFG_DEF_SUFFIX_$(1))\n+RUNTIME_DEF_$(1)_$(2) := $$(RT_OUTPUT_DIR_$(1))/rustrt$$(CFG_DEF_SUFFIX_$(1))\n RUNTIME_INCS_$(1)_$(2) := -I $$(S)src/rt -I $$(S)src/rt/isaac -I $$(S)src/rt/uthash \\\n                      -I $$(S)src/rt/arch/$$(HOST_$(1)) \\\n                      -I $$(S)src/rt/linenoise \\\n                      -I $$(S)src/libuv/include\n-RUNTIME_OBJS_$(1)_$(2) := $$(RUNTIME_CXXS_$(1)_$(2):rt/%.cpp=rt/$(1)/stage$(2)/%.o) \\\n-                     $$(RUNTIME_CS_$(1)_$(2):rt/%.c=rt/$(1)/stage$(2)/%.o) \\\n-                     $$(RUNTIME_S_$(1)_$(2):rt/%.S=rt/$(1)/stage$(2)/%.o)\n+RUNTIME_OBJS_$(1)_$(2) := $$(RUNTIME_CXXS_$(1)_$(2):rt/%.cpp=$$(RT_BUILD_DIR_$(1)_$(2))/%.o) \\\n+                     $$(RUNTIME_CS_$(1)_$(2):rt/%.c=$$(RT_BUILD_DIR_$(1)_$(2))/%.o) \\\n+                     $$(RUNTIME_S_$(1)_$(2):rt/%.S=$$(RT_BUILD_DIR_$(1)_$(2))/%.o)\n ALL_OBJ_FILES += $$(RUNTIME_OBJS_$(1)_$(2))\n \n-MORESTACK_OBJ_$(1)_$(2) := rt/$(1)/stage$(2)/arch/$$(HOST_$(1))/morestack.o\n+MORESTACK_OBJ_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/arch/$$(HOST_$(1))/morestack.o\n ALL_OBJ_FILES += $$(MORESTACK_OBJS_$(1)_$(2))\n \n-rt/$(1)/stage$(2)/%.o: rt/%.cpp $$(MKFILE_DEPS)\n+$$(RT_BUILD_DIR_$(1)_$(2))/%.o: rt/%.cpp $$(MKFILE_DEPS)\n \t@$$(call E, compile: $$@)\n \t$$(Q)$$(call CFG_COMPILE_CXX_$(1), $$@, $$(RUNTIME_INCS_$(1)_$(2)) \\\n                  $$(SNAP_DEFINES) $$(RUNTIME_CXXFLAGS_$(1)_$(2))) $$<\n \n-rt/$(1)/stage$(2)/%.o: rt/%.c $$(MKFILE_DEPS)\n+$$(RT_BUILD_DIR_$(1)_$(2))/%.o: rt/%.c $$(MKFILE_DEPS)\n \t@$$(call E, compile: $$@)\n \t$$(Q)$$(call CFG_COMPILE_C_$(1), $$@, $$(RUNTIME_INCS_$(1)_$(2)) \\\n                  $$(SNAP_DEFINES) $$(RUNTIME_CFLAGS_$(1)_$(2))) $$<\n \n-rt/$(1)/stage$(2)/%.o: rt/%.S  $$(MKFILE_DEPS) \\\n+$$(RT_BUILD_DIR_$(1)_$(2))/%.o: rt/%.S  $$(MKFILE_DEPS) \\\n                      $$(LLVM_CONFIG_$$(CFG_BUILD_TRIPLE))\n \t@$$(call E, compile: $$@)\n \t$$(Q)$$(call CFG_ASSEMBLE_$(1),$$@,$$<)\n \n-rt/$(1)/stage$(2)/arch/$$(HOST_$(1))/libmorestack.a: $$(MORESTACK_OBJ_$(1)_$(2))\n+$$(RT_BUILD_DIR_$(1)_$(2))/arch/$$(HOST_$(1))/libmorestack.a: $$(MORESTACK_OBJ_$(1)_$(2))\n \t@$$(call E, link: $$@)\n \t$$(Q)$(AR_$(1)) rcs $$@ $$<\n \n-rt/$(1)/stage$(2)/$(CFG_RUNTIME_$(1)): $$(RUNTIME_OBJS_$(1)_$(2)) $$(MKFILE_DEPS) \\\n+$$(RT_BUILD_DIR_$(1)_$(2))/$(CFG_RUNTIME_$(1)): $$(RUNTIME_OBJS_$(1)_$(2)) $$(MKFILE_DEPS) \\\n                         $$(RUNTIME_DEF_$(1)_$(2)) $$(LIBUV_LIB_$(1)_$(2)) $$(JEMALLOC_LIB_$(1)_$(2))\n \t@$$(call E, link: $$@)\n \t$$(Q)$$(call CFG_LINK_CXX_$(1),$$@, $$(RUNTIME_OBJS_$(1)_$(2)) \\\n@@ -172,7 +175,7 @@ endif\n ifdef CFG_WINDOWSY_$(1)\n $$(LIBUV_LIB_$(1)_$(2)): $$(LIBUV_DEPS)\n \t$$(Q)$$(MAKE) -C $$(S)src/libuv/ \\\n-\t\tbuilddir_name=\"$$(CFG_BUILD_DIR)/rt/$(1)/stage$(2)/libuv\" \\\n+\t\tbuilddir_name=\"$$(CFG_BUILD_DIR)/$$(RT_BUILD_DIR_$(1)_$(2))/libuv\" \\\n \t\tOS=mingw \\\n \t\tV=$$(VERBOSE)\n else ifeq ($(OSTYPE_$(1)), linux-androideabi)\n@@ -186,7 +189,7 @@ $$(LIBUV_LIB_$(1)_$(2)): $$(LIBUV_DEPS)\n \t\tAR=\"$$(AR_$(1))\" \\\n \t\tPLATFORM=android \\\n \t\tBUILDTYPE=Release \\\n-\t\tbuilddir_name=\"$$(CFG_BUILD_DIR)/rt/$(1)/stage$(2)/libuv\" \\\n+\t\tbuilddir_name=\"$$(CFG_BUILD_DIR)/$$(RT_BUILD_DIR_$(1)_$(2))/libuv\" \\\n \t\thost=android OS=linux \\\n \t\tV=$$(VERBOSE)\n else\n@@ -197,59 +200,59 @@ $$(LIBUV_LIB_$(1)_$(2)): $$(LIBUV_DEPS)\n \t\tCC=\"$$(CC_$(1))\" \\\n \t\tCXX=\"$$(CXX_$(1))\" \\\n \t\tAR=\"$$(AR_$(1))\" \\\n-\t\tbuilddir_name=\"$$(CFG_BUILD_DIR)/rt/$(1)/stage$(2)/libuv\" \\\n+\t\tbuilddir_name=\"$$(CFG_BUILD_DIR)/$$(RT_BUILD_DIR_$(1)_$(2))/libuv\" \\\n \t\tV=$$(VERBOSE)\n endif\n \n ifeq ($(OSTYPE_$(1)), linux-androideabi)\n $$(JEMALLOC_LIB_$(1)_$(2)):\n-\tcd $$(CFG_BUILD_DIR)/rt/$(1)/stage$(2)/jemalloc; $(S)src/rt/jemalloc/configure \\\n+\tcd $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc; $(S)src/rt/jemalloc/configure \\\n \t\t--disable-experimental --build=$(CFG_BUILD_TRIPLE) --host=$(1) --disable-tls \\\n \t\tEXTRA_CFLAGS=\"$$(CFG_GCCISH_CFLAGS) $$(LIBUV_FLAGS_$$(HOST_$(1))) $$(SNAP_DEFINES)\" \\\n \t\tLDFLAGS=\"$$(CFG_GCCISH_LINK_FLAGS) $$(LIBUV_FLAGS_$$(HOST_$(1)))\" \\\n \t\tCC=\"$$(CC_$(1))\" \\\n \t\tCXX=\"$$(CXX_$(1))\" \\\n \t\tAR=\"$$(AR_$(1))\"\n-\t$$(Q)$$(MAKE) -C $$(CFG_BUILD_DIR)/rt/$(1)/stage$(2)/jemalloc\n+\t$$(Q)$$(MAKE) -C $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc\n else\n $$(JEMALLOC_LIB_$(1)_$(2)):\n-\tcd $$(CFG_BUILD_DIR)/rt/$(1)/stage$(2)/jemalloc; $(S)src/rt/jemalloc/configure \\\n+\tcd $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc; $(S)src/rt/jemalloc/configure \\\n \t\t--disable-experimental --build=$(CFG_BUILD_TRIPLE) --host=$(1) \\\n \t\tEXTRA_CFLAGS=\"$$(CFG_GCCISH_CFLAGS) $$(LIBUV_FLAGS_$$(HOST_$(1))) $$(SNAP_DEFINES)\" \\\n \t\tLDFLAGS=\"$$(CFG_GCCISH_LINK_FLAGS) $$(LIBUV_FLAGS_$$(HOST_$(1)))\" \\\n \t\tCC=\"$$(CC_$(1))\" \\\n \t\tCXX=\"$$(CXX_$(1))\" \\\n \t\tAR=\"$$(AR_$(1))\"\n-\t$$(Q)$$(MAKE) -C $$(CFG_BUILD_DIR)/rt/$(1)/stage$(2)/jemalloc\n+\t$$(Q)$$(MAKE) -C $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc\n endif\n \n \n # These could go in rt.mk or rustllvm.mk, they're needed for both.\n \n # This regexp has a single $, escaped twice\n-%.bsd.def:    %.def.in $$(MKFILE_DEPS)\n+$(1)/%.bsd.def:    %.def.in $$(MKFILE_DEPS)\n \t@$$(call E, def: $$@)\n \t$$(Q)echo \"{\" > $$@\n \t$$(Q)sed 's/.$$$$/&;/' $$< >> $$@\n \t$$(Q)echo \"};\" >> $$@\n \n-%.linux.def:    %.def.in $$(MKFILE_DEPS)\n+$(1)/%.linux.def:    %.def.in $$(MKFILE_DEPS)\n \t@$$(call E, def: $$@)\n \t$$(Q)echo \"{\" > $$@\n \t$$(Q)sed 's/.$$$$/&;/' $$< >> $$@\n \t$$(Q)echo \"};\" >> $$@\n \n-%.darwin.def:\t%.def.in $$(MKFILE_DEPS)\n+$(1)/%.darwin.def:\t%.def.in $$(MKFILE_DEPS)\n \t@$$(call E, def: $$@)\n \t$$(Q)sed 's/^./_&/' $$< > $$@\n \n-%.android.def:  %.def.in $$(MKFILE_DEPS)\n+$(1)/%.android.def:  %.def.in $$(MKFILE_DEPS)\n \t@$$(call E, def: $$@)\n \t$$(Q)echo \"{\" > $$@\n \t$$(Q)sed 's/.$$$$/&;/' $$< >> $$@\n \t$$(Q)echo \"};\" >> $$@\n \n-%.mingw32.def:\t%.def.in $$(MKFILE_DEPS)\n+$(1)/%.mingw32.def:\t%.def.in $$(MKFILE_DEPS)\n \t@$$(call E, def: $$@)\n \t$$(Q)echo LIBRARY $$* > $$@\n \t$$(Q)echo EXPORTS >> $$@"}, {"sha": "8c3bf4e05b934e68d82ced050d6ec8a61ed82f32", "filename": "mk/rustllvm.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7b3dd32797994fbe833653618125e479d2ad3fc4/mk%2Frustllvm.mk", "raw_url": "https://github.com/rust-lang/rust/raw/7b3dd32797994fbe833653618125e479d2ad3fc4/mk%2Frustllvm.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frustllvm.mk?ref=7b3dd32797994fbe833653618125e479d2ad3fc4", "patch": "@@ -24,7 +24,7 @@ endif\n \n RUSTLLVM_OBJS_CS_$(1) := $$(addprefix rustllvm/, RustWrapper.cpp PassWrapper.cpp)\n \n-RUSTLLVM_DEF_$(1) := rustllvm/rustllvm$(CFG_DEF_SUFFIX_$(1))\n+RUSTLLVM_DEF_$(1) := $(1)/rustllvm/rustllvm$(CFG_DEF_SUFFIX_$(1))\n \n RUSTLLVM_INCS_$(1) = $$(LLVM_EXTRA_INCDIRS_$(1)) \\\n                      -iquote $$(LLVM_INCDIR_$(1)) \\"}, {"sha": "e540d856ecd27055abeb3c60f4405e3373a5b275", "filename": "mk/target.mk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7b3dd32797994fbe833653618125e479d2ad3fc4/mk%2Ftarget.mk", "raw_url": "https://github.com/rust-lang/rust/raw/7b3dd32797994fbe833653618125e479d2ad3fc4/mk%2Ftarget.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftarget.mk?ref=7b3dd32797994fbe833653618125e479d2ad3fc4", "patch": "@@ -39,14 +39,14 @@ WFLAGS_ST2 = -D warnings\n define TARGET_STAGE_N\n \n $$(TLIB$(1)_T_$(2)_H_$(3))/libmorestack.a: \\\n-\t\trt/$(2)/stage$(1)/arch/$$(HOST_$(2))/libmorestack.a \\\n+\t\t$(2)/rt/stage$(1)/arch/$$(HOST_$(2))/libmorestack.a \\\n \t\t| $$(TLIB$(1)_T_$(2)_H_$(3))/ \\\n \t\t  $(SNAPSHOT_RUSTC_POST_CLEANUP)\n \t@$$(call E, cp: $$@)\n \t$$(Q)cp $$< $$@\n \n $$(TLIB$(1)_T_$(2)_H_$(3))/$(CFG_RUNTIME_$(2)): \\\n-\t\trt/$(2)/stage$(1)/$(CFG_RUNTIME_$(2)) \\\n+\t\t$(2)/rt/stage$(1)/$(CFG_RUNTIME_$(2)) \\\n \t\t| $$(TLIB$(1)_T_$(2)_H_$(3))/ \\\n \t\t  $(SNAPSHOT_RUSTC_POST_CLEANUP)\n \t@$$(call E, cp: $$@)"}]}