{"sha": "7012c42c4155198df282ac4ebf0000cb25fa10f3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwMTJjNDJjNDE1NTE5OGRmMjgyYWM0ZWJmMDAwMGNiMjVmYTEwZjM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-05-15T23:07:44Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-05-15T23:07:44Z"}, "message": "auto merge of #6500 : kud1ing/rust/cleanup, r=bstrie\n\nFixes #6445", "tree": {"sha": "f370022c046092fb36ee05bf327b6a8025769935", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f370022c046092fb36ee05bf327b6a8025769935"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7012c42c4155198df282ac4ebf0000cb25fa10f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7012c42c4155198df282ac4ebf0000cb25fa10f3", "html_url": "https://github.com/rust-lang/rust/commit/7012c42c4155198df282ac4ebf0000cb25fa10f3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7012c42c4155198df282ac4ebf0000cb25fa10f3/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "08b4cdd395264c51db79908b6a5b543f089ae8f7", "url": "https://api.github.com/repos/rust-lang/rust/commits/08b4cdd395264c51db79908b6a5b543f089ae8f7", "html_url": "https://github.com/rust-lang/rust/commit/08b4cdd395264c51db79908b6a5b543f089ae8f7"}, {"sha": "017df987b8f7877f5be04bc137ea830a9c82343e", "url": "https://api.github.com/repos/rust-lang/rust/commits/017df987b8f7877f5be04bc137ea830a9c82343e", "html_url": "https://github.com/rust-lang/rust/commit/017df987b8f7877f5be04bc137ea830a9c82343e"}], "stats": {"total": 53, "additions": 0, "deletions": 53}, "files": [{"sha": "51e127ab60f2f12fdc4c52f10319df956333c121", "filename": "src/libsyntax/ext/base.rs", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/7012c42c4155198df282ac4ebf0000cb25fa10f3/src%2Flibsyntax%2Fext%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7012c42c4155198df282ac4ebf0000cb25fa10f3/src%2Flibsyntax%2Fext%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fbase.rs?ref=7012c42c4155198df282ac4ebf0000cb25fa10f3", "patch": "@@ -148,15 +148,6 @@ pub fn syntax_expander_table() -> SyntaxEnv {\n     syntax_expanders.insert(@~\"deriving\",\n                             @SE(ItemDecorator(\n                                 ext::deriving::expand_meta_deriving)));\n-    syntax_expanders.insert(@~\"deriving_eq\",\n-                            @SE(ItemDecorator(\n-                                ext::deriving::eq::expand_deriving_obsolete)));\n-    syntax_expanders.insert(@~\"deriving_iter_bytes\",\n-                            @SE(ItemDecorator(\n-                                ext::deriving::iter_bytes::expand_deriving_obsolete)));\n-    syntax_expanders.insert(@~\"deriving_clone\",\n-                            @SE(ItemDecorator(\n-                                ext::deriving::clone::expand_deriving_obsolete)));\n \n     // Quasi-quoting expanders\n     syntax_expanders.insert(@~\"quote_tokens\","}, {"sha": "e2d6685ec655309b80cc774e21b17ed769e42dde", "filename": "src/libsyntax/ext/deriving/clone.rs", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/7012c42c4155198df282ac4ebf0000cb25fa10f3/src%2Flibsyntax%2Fext%2Fderiving%2Fclone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7012c42c4155198df282ac4ebf0000cb25fa10f3/src%2Flibsyntax%2Fext%2Fderiving%2Fclone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fderiving%2Fclone.rs?ref=7012c42c4155198df282ac4ebf0000cb25fa10f3", "patch": "@@ -42,15 +42,6 @@ pub fn expand_deriving_clone(cx: @ext_ctxt,\n                             &trait_def)\n }\n \n-pub fn expand_deriving_obsolete(cx: @ext_ctxt,\n-                                span: span,\n-                                _mitem: @meta_item,\n-                                in_items: ~[@item])\n-                             -> ~[@item] {\n-    cx.span_err(span, ~\"`#[deriving_clone]` is obsolete; use `#[deriving(Clone)]` instead\");\n-    in_items\n-}\n-\n fn cs_clone(cx: @ext_ctxt, span: span,\n             substr: &Substructure) -> @expr {\n     let clone_ident = substr.method_ident;"}, {"sha": "3d93f844ea3bb466cd2685c6650048a9ce7b92e2", "filename": "src/libsyntax/ext/deriving/cmp/eq.rs", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7012c42c4155198df282ac4ebf0000cb25fa10f3/src%2Flibsyntax%2Fext%2Fderiving%2Fcmp%2Feq.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7012c42c4155198df282ac4ebf0000cb25fa10f3/src%2Flibsyntax%2Fext%2Fderiving%2Fcmp%2Feq.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fderiving%2Fcmp%2Feq.rs?ref=7012c42c4155198df282ac4ebf0000cb25fa10f3", "patch": "@@ -56,11 +56,3 @@ pub fn expand_deriving_eq(cx: @ext_ctxt,\n     expand_deriving_generic(cx, span, mitem, in_items,\n                             &trait_def)\n }\n-\n-pub fn expand_deriving_obsolete(cx: @ext_ctxt,\n-                                span: span,\n-                                _mitem: @meta_item,\n-                                in_items: ~[@item]) -> ~[@item] {\n-    cx.span_err(span, ~\"`#[deriving_eq]` is obsolete; use `#[deriving(Eq)]` instead\");\n-    in_items\n-}"}, {"sha": "1c9ec6ece2e1d21ff486f3e9bbeea84ba9e31373", "filename": "src/libsyntax/ext/deriving/iter_bytes.rs", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/7012c42c4155198df282ac4ebf0000cb25fa10f3/src%2Flibsyntax%2Fext%2Fderiving%2Fiter_bytes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7012c42c4155198df282ac4ebf0000cb25fa10f3/src%2Flibsyntax%2Fext%2Fderiving%2Fiter_bytes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fderiving%2Fiter_bytes.rs?ref=7012c42c4155198df282ac4ebf0000cb25fa10f3", "patch": "@@ -41,16 +41,6 @@ pub fn expand_deriving_iter_bytes(cx: @ext_ctxt,\n     expand_deriving_generic(cx, span, mitem, in_items, &trait_def)\n }\n \n-pub fn expand_deriving_obsolete(cx: @ext_ctxt,\n-                                span: span,\n-                                _mitem: @meta_item,\n-                                in_items: ~[@item])\n-                             -> ~[@item] {\n-    cx.span_err(span, ~\"`#[deriving_iter_bytes]` is obsolete; use `#[deriving(IterBytes)]` \\\n-                        instead\");\n-    in_items\n-}\n-\n fn iter_bytes_substructure(cx: @ext_ctxt, span: span, substr: &Substructure) -> @expr {\n     let lsb0_f = match substr.nonself_args {\n         [l, f] => ~[l, f],"}, {"sha": "298dced1e21ed67e948dff8a91cdfd71be5e629e", "filename": "src/test/compile-fail/deriving-obsolete.rs", "status": "removed", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/08b4cdd395264c51db79908b6a5b543f089ae8f7/src%2Ftest%2Fcompile-fail%2Fderiving-obsolete.rs", "raw_url": "https://github.com/rust-lang/rust/raw/08b4cdd395264c51db79908b6a5b543f089ae8f7/src%2Ftest%2Fcompile-fail%2Fderiving-obsolete.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-obsolete.rs?ref=08b4cdd395264c51db79908b6a5b543f089ae8f7", "patch": "@@ -1,17 +0,0 @@\n-// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-#[deriving_clone] //~ ERROR `#[deriving_clone]` is obsolete; use `#[deriving(Clone)]` instead\n-#[deriving_eq] //~ ERROR `#[deriving_eq]` is obsolete; use `#[deriving(Eq)]` instead\n-#[deriving_iter_bytes]\n-//~^ ERROR `#[deriving_iter_bytes]` is obsolete; use `#[deriving(IterBytes)]` instead\n-struct Foo;\n-\n-pub fn main() { }"}]}