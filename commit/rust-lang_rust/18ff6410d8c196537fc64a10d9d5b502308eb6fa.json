{"sha": "18ff6410d8c196537fc64a10d9d5b502308eb6fa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE4ZmY2NDEwZDhjMTk2NTM3ZmM2NGExMGQ5ZDViNTAyMzA4ZWI2ZmE=", "commit": {"author": {"name": "Stjepan Glavina", "email": "stjepang@gmail.com", "date": "2016-12-17T16:36:33Z"}, "committer": {"name": "Stjepan Glavina", "email": "stjepang@gmail.com", "date": "2016-12-17T16:48:17Z"}, "message": "Minor fix in the merge_sort comments\n\nThere was an off-by-one error discovered by @tbelaire.\nSo, the two invariants we are enforcing are:\n\n1. Run lengths are decreasing.\n2. Sum of lengths of any two adjacent runs is less than the length of\ntheir predecessor.\n\nThis commit changes the comment to be clearer and have correct bounds on `i`.", "tree": {"sha": "ab791d0752aa80e6d519f9825935f889d7467a82", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ab791d0752aa80e6d519f9825935f889d7467a82"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/18ff6410d8c196537fc64a10d9d5b502308eb6fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/18ff6410d8c196537fc64a10d9d5b502308eb6fa", "html_url": "https://github.com/rust-lang/rust/commit/18ff6410d8c196537fc64a10d9d5b502308eb6fa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/18ff6410d8c196537fc64a10d9d5b502308eb6fa/comments", "author": null, "committer": null, "parents": [{"sha": "dea7ef3424ec77f855c41bc285603c2d6affef5b", "url": "https://api.github.com/repos/rust-lang/rust/commits/dea7ef3424ec77f855c41bc285603c2d6affef5b", "html_url": "https://github.com/rust-lang/rust/commit/dea7ef3424ec77f855c41bc285603c2d6affef5b"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "b5e6669220535282c1694e44c79264c970e62540", "filename": "src/libcollections/slice.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/18ff6410d8c196537fc64a10d9d5b502308eb6fa/src%2Flibcollections%2Fslice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/18ff6410d8c196537fc64a10d9d5b502308eb6fa/src%2Flibcollections%2Fslice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fslice.rs?ref=18ff6410d8c196537fc64a10d9d5b502308eb6fa", "patch": "@@ -1496,10 +1496,10 @@ unsafe fn merge<T, F>(v: &mut [T], mid: usize, buf: *mut T, compare: &mut F)\n /// The algorithm identifies strictly descending and non-descending subsequences, which are called\n /// natural runs. There is a stack of pending runs yet to be merged. Each newly found run is pushed\n /// onto the stack, and then some pairs of adjacent runs are merged until these two invariants are\n-/// satisfied, for every `i` in `0 .. runs.len() - 2`:\n+/// satisfied:\n ///\n-/// 1. `runs[i].len > runs[i + 1].len`\n-/// 2. `runs[i].len > runs[i + 1].len + runs[i + 2].len`\n+/// 1. for every `i` in `1..runs.len()`: `runs[i - 1].len > runs[i].len`\n+/// 2. for every `i` in `2..runs.len()`: `runs[i - 2].len > runs[i - 1].len + runs[i].len`\n ///\n /// The invariants ensure that the total running time is `O(n log n)` worst-case.\n fn merge_sort<T, F>(v: &mut [T], mut compare: F)"}]}