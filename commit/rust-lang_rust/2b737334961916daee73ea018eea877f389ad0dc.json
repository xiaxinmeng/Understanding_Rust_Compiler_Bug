{"sha": "2b737334961916daee73ea018eea877f389ad0dc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJiNzM3MzM0OTYxOTE2ZGFlZTczZWEwMThlZWE4NzdmMzg5YWQwZGM=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-01-25T19:40:33Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-01-25T19:40:33Z"}, "message": "Add description to field and method", "tree": {"sha": "ad0f13e3dd4f376dda54420d79b6f40e61c15f25", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad0f13e3dd4f376dda54420d79b6f40e61c15f25"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2b737334961916daee73ea018eea877f389ad0dc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2b737334961916daee73ea018eea877f389ad0dc", "html_url": "https://github.com/rust-lang/rust/commit/2b737334961916daee73ea018eea877f389ad0dc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2b737334961916daee73ea018eea877f389ad0dc/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "482f7f19785455242dc3dfe36858847dd6f280cf", "url": "https://api.github.com/repos/rust-lang/rust/commits/482f7f19785455242dc3dfe36858847dd6f280cf", "html_url": "https://github.com/rust-lang/rust/commit/482f7f19785455242dc3dfe36858847dd6f280cf"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "84ac2c0225350f411f2092f97f7a7371dcd3041b", "filename": "src/librustc_errors/lib.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/2b737334961916daee73ea018eea877f389ad0dc/src%2Flibrustc_errors%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2b737334961916daee73ea018eea877f389ad0dc/src%2Flibrustc_errors%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Flib.rs?ref=2b737334961916daee73ea018eea877f389ad0dc", "patch": "@@ -244,6 +244,10 @@ pub struct Handler {\n     continue_after_error: Cell<bool>,\n     delayed_span_bug: RefCell<Option<Diagnostic>>,\n     tracked_diagnostics: RefCell<Option<Vec<Diagnostic>>>,\n+\n+    // This set contains the `DiagnosticId` of all emitted diagnostics to avoid\n+    // emitting the same diagnostic with extended help (`--teach`) twice, which\n+    // would be uneccessary repetition.\n     tracked_diagnostic_codes: RefCell<FxHashSet<DiagnosticId>>,\n \n     // This set contains a hash of every diagnostic that has been emitted by\n@@ -577,6 +581,10 @@ impl Handler {\n         (ret, diagnostics)\n     }\n \n+    /// `true` if a diagnostic with this code has already been emitted in this handler.\n+    ///\n+    /// Used to suppress emitting the same error multiple times with extended explanation when\n+    /// calling `-Zteach`.\n     pub fn code_emitted(&self, code: &DiagnosticId) -> bool {\n         self.tracked_diagnostic_codes.borrow().contains(code)\n     }"}]}