{"sha": "9c6ef4ae38078a9619fa840e264f0bef569abbd0", "node_id": "C_kwDOAAsO6NoAKDljNmVmNGFlMzgwNzhhOTYxOWZhODQwZTI2NGYwYmVmNTY5YWJiZDA", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-09-17T03:37:16Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-17T03:37:16Z"}, "message": "Rollup merge of #101898 - GuillaumeGomez:rm-unused-css, r=notriddle\n\nRemove some unused CSS rules\n\nSince we now have list of items for the ones on the page, we don't need the CSS rules anymore in the sidebar (`.sidebar a`). As for the `.content` ones, they are used to highlight the items in the page (for definitions and others). Surprisingly enough, `method` and `tymethod` are all replaced with `fnname`.\n\nI also used this opportunity to remove these rules in `ayu.css`:\n\n```css\n.stab.unstable {}\nh2,\nh3:not(.impl):not(.method):not(.type):not(.tymethod), h4:not(.method):not(.type):not(.tymethod) {}\n```\n\nIn the second commit, I removed the `.block a.current*` CSS rules as they're overridden by `.sidebar a.current*` CSS rules.\n\nIn the third commit I removed unneeded empty rules (that were there to satisfy the `--check-theme` option).\n\ncc ``@jsha``\nr? ``@notriddle``", "tree": {"sha": "b3057bdc873b06f14d4cd0401538a4a19d82c562", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b3057bdc873b06f14d4cd0401538a4a19d82c562"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9c6ef4ae38078a9619fa840e264f0bef569abbd0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjJUDsCRBK7hj4Ov3rIwAAcvQIAKlLcfMV2kBPoBR5jlLbzZvx\nFL1XBbOlB/tipfjFydcwvACQHRHni38fo54SczRu7LXcwjkyS6SR6bzjlwbbGERG\nLS52tkhqpXiQDLw8lXbWcAV1uHiAfmjmlYr+SIfunfQ6fOmnlicP1qvdzwejflQm\ni3uXJw8hk6l3htXKgcd7cRxU7EAvuVoLAQDuMNtpyTwYhwJjr9JMGUX2TOh717Kp\nlcWsxWBHaQq8jEXeKn2CaKKQZ1L7qklVNfZk4caGvHsxxwbWZMdXeYaYPe9LYbei\nVVyTd6ZAZy/bFbuzb+dG3IMR+GWaSdwnBBWBCGa6XXrsNCGa+Z63/5ItomwTnvI=\n=6en5\n-----END PGP SIGNATURE-----\n", "payload": "tree b3057bdc873b06f14d4cd0401538a4a19d82c562\nparent 8b88370ee584b720e4321655d50dc5042950e9fb\nparent 28956d18d15b80d639d83b9dc0d31240bff90e32\nauthor Michael Howell <michael@notriddle.com> 1663385836 -0700\ncommitter GitHub <noreply@github.com> 1663385836 -0700\n\nRollup merge of #101898 - GuillaumeGomez:rm-unused-css, r=notriddle\n\nRemove some unused CSS rules\n\nSince we now have list of items for the ones on the page, we don't need the CSS rules anymore in the sidebar (`.sidebar a`). As for the `.content` ones, they are used to highlight the items in the page (for definitions and others). Surprisingly enough, `method` and `tymethod` are all replaced with `fnname`.\n\nI also used this opportunity to remove these rules in `ayu.css`:\n\n```css\n.stab.unstable {}\nh2,\nh3:not(.impl):not(.method):not(.type):not(.tymethod), h4:not(.method):not(.type):not(.tymethod) {}\n```\n\nIn the second commit, I removed the `.block a.current*` CSS rules as they're overridden by `.sidebar a.current*` CSS rules.\n\nIn the third commit I removed unneeded empty rules (that were there to satisfy the `--check-theme` option).\n\ncc ``@jsha``\nr? ``@notriddle``\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9c6ef4ae38078a9619fa840e264f0bef569abbd0", "html_url": "https://github.com/rust-lang/rust/commit/9c6ef4ae38078a9619fa840e264f0bef569abbd0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9c6ef4ae38078a9619fa840e264f0bef569abbd0/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b88370ee584b720e4321655d50dc5042950e9fb", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b88370ee584b720e4321655d50dc5042950e9fb", "html_url": "https://github.com/rust-lang/rust/commit/8b88370ee584b720e4321655d50dc5042950e9fb"}, {"sha": "28956d18d15b80d639d83b9dc0d31240bff90e32", "url": "https://api.github.com/repos/rust-lang/rust/commits/28956d18d15b80d639d83b9dc0d31240bff90e32", "html_url": "https://github.com/rust-lang/rust/commit/28956d18d15b80d639d83b9dc0d31240bff90e32"}], "stats": {"total": 151, "additions": 46, "deletions": 105}, "files": [{"sha": "c292a8a7ef70b196ec97ec0949b344e9ca88db4d", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 9, "deletions": 48, "changes": 57, "blob_url": "https://github.com/rust-lang/rust/blob/9c6ef4ae38078a9619fa840e264f0bef569abbd0/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/9c6ef4ae38078a9619fa840e264f0bef569abbd0/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=9c6ef4ae38078a9619fa840e264f0bef569abbd0", "patch": "@@ -118,8 +118,7 @@ pre, .rustdoc.source .example-wrap {\n .content span.primitive, .content a.primitive { color: #ffa0a5; }\n .content span.traitalias, .content a.traitalias { color: #39AFD7; }\n .content span.keyword, .content a.keyword { color: #39AFD7; }\n-\n-.content span.externcrate, .content span.mod, .content a.mod {\n+.content span.mod, .content a.mod {\n \tcolor: #39AFD7;\n }\n .content span.struct, .content a.struct {\n@@ -131,28 +130,17 @@ pre, .rustdoc.source .example-wrap {\n .content span.trait, .content a.trait {\n \tcolor: #39AFD7;\n }\n-.content span.type, .content a.type {\n-\tcolor: #39AFD7;\n-}\n-.content span.type,\n-.content a.type,\n-.block a.current.type { color: #39AFD7; }\n-.content span.associatedtype,\n-.content a.associatedtype,\n-.block a.current.associatedtype { color: #39AFD7; }\n-.content span.fn, .content a.fn, .content span.method,\n-.content a.method, .content span.tymethod,\n-.content a.tymethod, .content .fnname {\n-\tcolor: #fdd687;\n-}\n+.content span.type, .content a.type { color: #39AFD7; }\n+.content span.associatedtype, .content a.associatedtype { color: #39AFD7; }\n+.content span.fn, .content a.fn,\n+.content .fnname { color: #fdd687; }\n .content span.attr, .content a.attr, .content span.derive,\n .content a.derive, .content span.macro, .content a.macro {\n \tcolor: #a37acc;\n }\n \n .sidebar a { color: #53b1db; }\n .sidebar a.current.type { color: #53b1db; }\n-.sidebar a.current.associatedtype { color: #53b1db; }\n \n pre.rust .comment { color: #788797; }\n pre.rust .doccomment { color: #a1ac88; }\n@@ -290,34 +278,11 @@ individually rather than as a group) */\n /* FIXME: these rules should be at the bottom of the file but currently must be\n above the `@media (max-width: 700px)` rules due to a bug in the css checker */\n /* see https://github.com/rust-lang/rust/pull/71237#issuecomment-618170143 */\n-.content span.attr,.content a.attr,.block a.current.attr,.content span.derive,.content a.derive,\n-.block a.current.derive,.content span.macro,.content a.macro,.block a.current.macro {}\n-.content span.struct,.content a.struct,.block a.current.struct {}\n-#titles>button:hover,#titles>button.selected {}\n-.content span.typedef,.content a.typedef,.block a.current.typedef {}\n-.content span.union,.content a.union,.block a.current.union {}\n pre.rust .lifetime {}\n-.stab.unstable {}\n-h2,\n-h3:not(.impl):not(.method):not(.type):not(.tymethod), h4:not(.method):not(.type):not(.tymethod) {}\n-.content span.enum,.content a.enum,.block a.current.enum {}\n-.content span.constant,.content a.constant,.block a.current.constant,.content span.static,\n-.content a.static, .block a.current.static {}\n-.content span.keyword,.content a.keyword,.block a.current.keyword {}\n-.content span.traitalias,.content a.traitalias,.block a.current.traitalias {}\n-.content span.fn,.content a.fn,.block a.current.fn,.content span.method,.content a.method,\n-.block a.current.method,.content span.tymethod,.content a.tymethod,.block a.current.tymethod,\n-.content .fnname {}\n pre.rust .kw {}\n-pre.rust .self,pre.rust .bool-val,pre.rust .prelude-val,pre.rust .attribute {}\n-.content span.foreigntype,.content a.foreigntype,.block a.current.foreigntype {}\n-.stab.deprecated {}\n-.content a.attr,.content a.derive,.content a.macro {}\n-.stab.portability {}\n-.content span.primitive,.content a.primitive,.block a.current.primitive {}\n-.content span.externcrate,.content span.mod,.content a.mod,.block a.current.mod {}\n-pre.rust .kw-2,pre.rust .prelude-ty {}\n-.content span.trait,.content a.trait,.block a.current.trait {}\n+#titles > button:hover, #titles > button.selected {}\n+pre.rust .self, pre.rust .bool-val, pre.rust .prelude-val, pre.rust .attribute {}\n+pre.rust .kw-2, pre.rust .prelude-ty {}\n \n .search-results a:focus span {}\n a.result-trait:focus {}\n@@ -353,13 +318,9 @@ a.result-keyword:focus {}\n .sidebar a.current.constant\n .sidebar a.current.static {}\n .sidebar a.current.primitive {}\n-.sidebar a.current.externcrate\n-.sidebar a.current.mod {}\n .sidebar a.current.trait {}\n .sidebar a.current.traitalias {}\n-.sidebar a.current.fn,\n-.sidebar a.current.method,\n-.sidebar a.current.tymethod {}\n+.sidebar a.current.fn {}\n .sidebar a.current.keyword {}\n \n kbd {"}, {"sha": "68542d3305ca04f4ccbcb6125a8247eb62256afa", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 19, "deletions": 29, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/9c6ef4ae38078a9619fa840e264f0bef569abbd0/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/9c6ef4ae38078a9619fa840e264f0bef569abbd0/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=9c6ef4ae38078a9619fa840e264f0bef569abbd0", "patch": "@@ -83,35 +83,29 @@ a.result-keyword:focus { background-color: #884719; }\n \n .content .item-info::before { color: #ccc; }\n \n-.content span.enum, .content a.enum, .block a.current.enum { color: #2dbfb8; }\n-.content span.struct, .content a.struct, .block a.current.struct { color: #2dbfb8; }\n-.content span.type, .content a.type, .block a.current.type { color: #2dbfb8; }\n-.content span.associatedtype,\n-.content a.associatedtype,\n-.block a.current.associatedtype { color: #D2991D; }\n-.content span.foreigntype, .content a.foreigntype, .block a.current.foreigntype { color: #2dbfb8; }\n-.content span.attr, .content a.attr, .block a.current.attr,\n-.content span.derive, .content a.derive, .block a.current.derive,\n-.content span.macro, .content a.macro, .block a.current.macro { color: #09bd00; }\n-.content span.union, .content a.union, .block a.current.union { color: #2dbfb8; }\n-.content span.constant, .content a.constant, .block a.current.constant,\n-.content span.static, .content a.static, .block a.current.static { color: #D2991D; }\n-.content span.primitive, .content a.primitive, .block a.current.primitive { color: #2dbfb8; }\n-.content span.externcrate,\n-.content span.mod, .content a.mod, .block a.current.mod { color: #D2991D; }\n-.content span.trait, .content a.trait, .block a.current.trait { color: #b78cf2; }\n-.content span.traitalias, .content a.traitalias, .block a.current.traitalias { color: #b78cf2; }\n-.content span.fn, .content a.fn, .block a.current.fn,\n-.content span.method, .content a.method, .block a.current.method,\n-.content span.tymethod, .content a.tymethod, .block a.current.tymethod,\n-.content .fnname{ color: #2BAB63; }\n-.content span.keyword, .content a.keyword, .block a.current.keyword { color: #D2991D; }\n+.content span.enum, .content a.enum { color: #2dbfb8; }\n+.content span.struct, .content a.struct { color: #2dbfb8; }\n+.content span.type, .content a.type { color: #2dbfb8; }\n+.content span.associatedtype, .content a.associatedtype { color: #D2991D; }\n+.content span.foreigntype, .content a.foreigntype { color: #2dbfb8; }\n+.content span.attr, .content a.attr,\n+.content span.derive, .content a.derive,\n+.content span.macro, .content a.macro { color: #09bd00; }\n+.content span.union, .content a.union { color: #2dbfb8; }\n+.content span.constant, .content a.constant,\n+.content span.static, .content a.static { color: #D2991D; }\n+.content span.primitive, .content a.primitive { color: #2dbfb8; }\n+.content span.mod, .content a.mod { color: #D2991D; }\n+.content span.trait, .content a.trait { color: #b78cf2; }\n+.content span.traitalias, .content a.traitalias { color: #b78cf2; }\n+.content span.fn, .content a.fn,\n+.content .fnname { color: #2BAB63; }\n+.content span.keyword, .content a.keyword { color: #D2991D; }\n \n .sidebar a { color: #fdbf35; }\n .sidebar a.current.enum { color: #12ece2; }\n .sidebar a.current.struct { color: #12ece2; }\n .sidebar a.current.type { color: #12ece2; }\n-.sidebar a.current.associatedtype { color: #fdbf35; }\n .sidebar a.current.foreigntype { color: #12ece2; }\n .sidebar a.current.attr,\n .sidebar a.current.derive,\n@@ -120,13 +114,9 @@ a.result-keyword:focus { background-color: #884719; }\n .sidebar a.current.constant\n .sidebar a.current.static { color: #fdbf35; }\n .sidebar a.current.primitive { color: #12ece2; }\n-.sidebar a.current.externcrate\n-.sidebar a.current.mod { color: #fdbf35; }\n .sidebar a.current.trait { color: #cca7ff; }\n .sidebar a.current.traitalias { color: #cca7ff; }\n-.sidebar a.current.fn,\n-.sidebar a.current.method,\n-.sidebar a.current.tymethod { color: #32d479; }\n+.sidebar a.current.fn { color: #32d479; }\n .sidebar a.current.keyword { color: #fdbf35; }\n \n pre.rust .comment { color: #8d8d8b; }"}, {"sha": "0b7d1600e7aa47e94474fdd8a9d4a0e8b859fa3e", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 18, "deletions": 28, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/9c6ef4ae38078a9619fa840e264f0bef569abbd0/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/9c6ef4ae38078a9619fa840e264f0bef569abbd0/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=9c6ef4ae38078a9619fa840e264f0bef569abbd0", "patch": "@@ -82,35 +82,29 @@ a.result-keyword:focus { background-color: #afc6e4; }\n \n .content .item-info::before { color: #ccc; }\n \n-.content span.enum, .content a.enum, .block a.current.enum { color: #AD378A; }\n-.content span.struct, .content a.struct, .block a.current.struct { color: #AD378A; }\n-.content span.type, .content a.type, .block a.current.type { color:  #AD378A; }\n-.content span.foreigntype, .content a.foreigntype, .block a.current.foreigntype { color: #3873AD; }\n-.content span.associatedtype,\n-.content a.associatedtype,\n-.block a.current.associatedtype { color: #3873AD; }\n-.content span.attr, .content a.attr, .block a.current.attr,\n-.content span.derive, .content a.derive, .block a.current.derive,\n-.content span.macro, .content a.macro, .block a.current.macro { color: #068000; }\n-.content span.union, .content a.union, .block a.current.union { color: #AD378A; }\n-.content span.constant, .content a.constant, .block a.current.constant,\n-.content span.static, .content a.static, .block a.current.static { color: #3873AD; }\n-.content span.primitive, .content a.primitive, .block a.current.primitive { color: #AD378A; }\n-.content span.externcrate,\n-.content span.mod, .content a.mod, .block a.current.mod { color: #3873AD; }\n-.content span.trait, .content a.trait, .block a.current.trait { color: #6E4FC9; }\n-.content span.traitalias, .content a.traitalias, .block a.current.traitalias { color: #5137AD; }\n-.content span.fn, .content a.fn, .block a.current.fn,\n-.content span.method, .content a.method, .block a.current.method,\n-.content span.tymethod, .content a.tymethod, .block a.current.tymethod,\n+.content span.enum, .content a.enum { color: #AD378A; }\n+.content span.struct, .content a.struct { color: #AD378A; }\n+.content span.type, .content a.type { color:  #AD378A; }\n+.content span.associatedtype, .content a.associatedtype { color: #3873AD; }\n+.content span.foreigntype, .content a.foreigntype { color: #3873AD; }\n+.content span.attr, .content a.attr,\n+.content span.derive, .content a.derive,\n+.content span.macro, .content a.macro { color: #068000; }\n+.content span.union, .content a.union { color: #AD378A; }\n+.content span.constant, .content a.constant,\n+.content span.static, .content a.static { color: #3873AD; }\n+.content span.primitive, .content a.primitive { color: #AD378A; }\n+.content span.mod, .content a.mod { color: #3873AD; }\n+.content span.trait, .content a.trait { color: #6E4FC9; }\n+.content span.traitalias, .content a.traitalias { color: #5137AD; }\n+.content span.fn, .content a.fn,\n .content .fnname { color: #AD7C37; }\n-.content span.keyword, .content a.keyword, .block a.current.keyword { color: #3873AD; }\n+.content span.keyword, .content a.keyword { color: #3873AD; }\n \n .sidebar a { color: #356da4; }\n .sidebar a.current.enum { color: #a63283; }\n .sidebar a.current.struct { color: #a63283; }\n .sidebar a.current.type { color: #a63283; }\n-.sidebar a.current.associatedtype { color: #356da4; }\n .sidebar a.current.foreigntype { color: #356da4; }\n .sidebar a.current.attr,\n .sidebar a.current.derive,\n@@ -119,13 +113,9 @@ a.result-keyword:focus { background-color: #afc6e4; }\n .sidebar a.current.constant\n .sidebar a.current.static { color: #356da4; }\n .sidebar a.current.primitive { color: #a63283; }\n-.sidebar a.current.externcrate\n-.sidebar a.current.mod { color: #356da4; }\n .sidebar a.current.trait { color: #6849c3; }\n .sidebar a.current.traitalias { color: #4b349e; }\n-.sidebar a.current.fn,\n-.sidebar a.current.method,\n-.sidebar a.current.tymethod { color: #a67736; }\n+.sidebar a.current.fn { color: #a67736; }\n .sidebar a.current.keyword { color: #356da4; }\n \n a {"}]}