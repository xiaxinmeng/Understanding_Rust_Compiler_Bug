{"sha": "87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg3ZjNmODE0NTFmNzJmYzdiNWFjYjRhNTY5YmI3OWE1MWE4NjA0YzM=", "commit": {"author": {"name": "Camelid", "email": "camelidcamel@gmail.com", "date": "2020-10-02T21:32:14Z"}, "committer": {"name": "Camelid", "email": "camelidcamel@gmail.com", "date": "2020-10-02T21:36:34Z"}, "message": "Improve rustdoc error for failed intra-doc link resolution\n\nThe previous error was confusing since it made it sound like you can't\nlink to items that are defined outside the current module.\n\nAlso suggested importing the item.", "tree": {"sha": "5d39605ce3ea3b0bb836e93dd0805ecbc052bee2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5d39605ce3ea3b0bb836e93dd0805ecbc052bee2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "html_url": "https://github.com/rust-lang/rust/commit/87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/comments", "author": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "committer": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2ad6187ce51eb3a304ca448b8676870f95ab5b11", "url": "https://api.github.com/repos/rust-lang/rust/commits/2ad6187ce51eb3a304ca448b8676870f95ab5b11", "html_url": "https://github.com/rust-lang/rust/commit/2ad6187ce51eb3a304ca448b8676870f95ab5b11"}], "stats": {"total": 160, "additions": 102, "deletions": 58}, "files": [{"sha": "632e6c9f91c1140c4bc2d86c2d0070e9a2bfcd1d", "filename": "src/librustdoc/passes/collect_intra_doc_links.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs?ref=87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "patch": "@@ -1575,17 +1575,17 @@ fn resolution_failure(\n                         _ => None,\n                     };\n                     // See if this was a module: `[path]` or `[std::io::nope]`\n-                    if let Some(module) = last_found_module {\n-                        let module_name = collector.cx.tcx.item_name(module);\n+                    if let Some(_module) = last_found_module {\n                         let note = format!(\n-                            \"the module `{}` contains no item named `{}`\",\n-                            module_name, unresolved\n+                            \"there is no item named `{}` in scope\",\n+                            unresolved\n                         );\n                         if let Some(span) = sp {\n                             diag.span_label(span, &note);\n                         } else {\n                             diag.note(&note);\n                         }\n+                        diag.help(&format!(\"did you mean to import `{}`?\", unresolved));\n                         // If the link has `::` in it, assume it was meant to be an intra-doc link.\n                         // Otherwise, the `[]` might be unrelated.\n                         // FIXME: don't show this for autolinks (`<>`), `()` style links, or reference links"}, {"sha": "96b805dbc82a3b84e824b372a109cbd6978dcdf6", "filename": "src/test/rustdoc-ui/deny-intra-link-resolution-failure.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fdeny-intra-link-resolution-failure.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fdeny-intra-link-resolution-failure.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fdeny-intra-link-resolution-failure.stderr?ref=87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "patch": "@@ -2,13 +2,14 @@ error: unresolved link to `v2`\n   --> $DIR/deny-intra-link-resolution-failure.rs:3:6\n    |\n LL | /// [v2]\n-   |      ^^ the module `deny_intra_link_resolution_failure` contains no item named `v2`\n+   |      ^^ there is no item named `v2` in scope\n    |\n note: the lint level is defined here\n   --> $DIR/deny-intra-link-resolution-failure.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n+   = help: did you mean to import `v2`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n error: aborting due to previous error"}, {"sha": "babcc3c43b4aecc461c99e54adcd33e12efebff5", "filename": "src/test/rustdoc-ui/intra-link-errors.rs", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.rs?ref=87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "patch": "@@ -6,23 +6,28 @@\n \n /// [path::to::nonexistent::module]\n //~^ ERROR unresolved link\n-//~| NOTE `intra_link_errors` contains no item named `path`\n+//~| NOTE there is no item named `path` in scope\n+//~| HELP did you mean to import `path`?\n \n /// [path::to::nonexistent::macro!]\n //~^ ERROR unresolved link\n-//~| NOTE `intra_link_errors` contains no item named `path`\n+//~| NOTE there is no item named `path` in scope\n+//~| HELP did you mean to import `path`?\n \n /// [type@path::to::nonexistent::type]\n //~^ ERROR unresolved link\n-//~| NOTE `intra_link_errors` contains no item named `path`\n+//~| NOTE there is no item named `path` in scope\n+//~| HELP did you mean to import `path`?\n \n /// [std::io::not::here]\n //~^ ERROR unresolved link\n-//~| NOTE `io` contains no item named `not`\n+//~| NOTE there is no item named `not` in scope\n+//~| HELP did you mean to import `not`?\n \n /// [type@std::io::not::here]\n //~^ ERROR unresolved link\n-//~| NOTE `io` contains no item named `not`\n+//~| NOTE there is no item named `not` in scope\n+//~| HELP did you mean to import `not`?\n \n /// [std::io::Error::x]\n //~^ ERROR unresolved link"}, {"sha": "f9af1a9fb93854d71940c64d4200278cf2f92e84", "filename": "src/test/rustdoc-ui/intra-link-errors.stderr", "status": "modified", "additions": 33, "deletions": 24, "changes": 57, "blob_url": "https://github.com/rust-lang/rust/blob/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-link-errors.stderr?ref=87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "patch": "@@ -2,94 +2,103 @@ error: unresolved link to `path::to::nonexistent::module`\n   --> $DIR/intra-link-errors.rs:7:6\n    |\n LL | /// [path::to::nonexistent::module]\n-   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the module `intra_link_errors` contains no item named `path`\n+   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ there is no item named `path` in scope\n    |\n note: the lint level is defined here\n   --> $DIR/intra-link-errors.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n+   = help: did you mean to import `path`?\n \n error: unresolved link to `path::to::nonexistent::macro`\n-  --> $DIR/intra-link-errors.rs:11:6\n+  --> $DIR/intra-link-errors.rs:12:6\n    |\n LL | /// [path::to::nonexistent::macro!]\n-   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the module `intra_link_errors` contains no item named `path`\n+   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ there is no item named `path` in scope\n+   |\n+   = help: did you mean to import `path`?\n \n error: unresolved link to `path::to::nonexistent::type`\n-  --> $DIR/intra-link-errors.rs:15:6\n+  --> $DIR/intra-link-errors.rs:17:6\n    |\n LL | /// [type@path::to::nonexistent::type]\n-   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the module `intra_link_errors` contains no item named `path`\n+   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ there is no item named `path` in scope\n+   |\n+   = help: did you mean to import `path`?\n \n error: unresolved link to `std::io::not::here`\n-  --> $DIR/intra-link-errors.rs:19:6\n+  --> $DIR/intra-link-errors.rs:22:6\n    |\n LL | /// [std::io::not::here]\n-   |      ^^^^^^^^^^^^^^^^^^ the module `io` contains no item named `not`\n+   |      ^^^^^^^^^^^^^^^^^^ there is no item named `not` in scope\n+   |\n+   = help: did you mean to import `not`?\n \n error: unresolved link to `std::io::not::here`\n-  --> $DIR/intra-link-errors.rs:23:6\n+  --> $DIR/intra-link-errors.rs:27:6\n    |\n LL | /// [type@std::io::not::here]\n-   |      ^^^^^^^^^^^^^^^^^^^^^^^ the module `io` contains no item named `not`\n+   |      ^^^^^^^^^^^^^^^^^^^^^^^ there is no item named `not` in scope\n+   |\n+   = help: did you mean to import `not`?\n \n error: unresolved link to `std::io::Error::x`\n-  --> $DIR/intra-link-errors.rs:27:6\n+  --> $DIR/intra-link-errors.rs:32:6\n    |\n LL | /// [std::io::Error::x]\n    |      ^^^^^^^^^^^^^^^^^ the struct `Error` has no field or associated item named `x`\n \n error: unresolved link to `std::io::ErrorKind::x`\n-  --> $DIR/intra-link-errors.rs:31:6\n+  --> $DIR/intra-link-errors.rs:36:6\n    |\n LL | /// [std::io::ErrorKind::x]\n    |      ^^^^^^^^^^^^^^^^^^^^^ the enum `ErrorKind` has no variant or associated item named `x`\n \n error: unresolved link to `f::A`\n-  --> $DIR/intra-link-errors.rs:35:6\n+  --> $DIR/intra-link-errors.rs:40:6\n    |\n LL | /// [f::A]\n    |      ^^^^ `f` is a function, not a module or type, and cannot have associated items\n \n error: unresolved link to `f::A`\n-  --> $DIR/intra-link-errors.rs:39:6\n+  --> $DIR/intra-link-errors.rs:44:6\n    |\n LL | /// [f::A!]\n    |      ^^^^^ `f` is a function, not a module or type, and cannot have associated items\n \n error: unresolved link to `S::A`\n-  --> $DIR/intra-link-errors.rs:43:6\n+  --> $DIR/intra-link-errors.rs:48:6\n    |\n LL | /// [S::A]\n    |      ^^^^ the struct `S` has no field or associated item named `A`\n \n error: unresolved link to `S::fmt`\n-  --> $DIR/intra-link-errors.rs:47:6\n+  --> $DIR/intra-link-errors.rs:52:6\n    |\n LL | /// [S::fmt]\n    |      ^^^^^^ the struct `S` has no field or associated item named `fmt`\n \n error: unresolved link to `E::D`\n-  --> $DIR/intra-link-errors.rs:51:6\n+  --> $DIR/intra-link-errors.rs:56:6\n    |\n LL | /// [E::D]\n    |      ^^^^ the enum `E` has no variant or associated item named `D`\n \n error: unresolved link to `u8::not_found`\n-  --> $DIR/intra-link-errors.rs:55:6\n+  --> $DIR/intra-link-errors.rs:60:6\n    |\n LL | /// [u8::not_found]\n    |      ^^^^^^^^^^^^^ the builtin type `u8` has no associated item named `not_found`\n \n error: unresolved link to `std::primitive::u8::not_found`\n-  --> $DIR/intra-link-errors.rs:59:6\n+  --> $DIR/intra-link-errors.rs:64:6\n    |\n LL | /// [std::primitive::u8::not_found]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the builtin type `u8` has no associated item named `not_found`\n \n error: unresolved link to `Vec::into_iter`\n-  --> $DIR/intra-link-errors.rs:63:6\n+  --> $DIR/intra-link-errors.rs:68:6\n    |\n LL | /// [type@Vec::into_iter]\n    |      ^^^^^^^^^^^^^^^^^^^\n@@ -98,7 +107,7 @@ LL | /// [type@Vec::into_iter]\n    |      help: to link to the associated function, add parentheses: `Vec::into_iter()`\n \n error: unresolved link to `S`\n-  --> $DIR/intra-link-errors.rs:68:6\n+  --> $DIR/intra-link-errors.rs:73:6\n    |\n LL | /// [S!]\n    |      ^^\n@@ -107,7 +116,7 @@ LL | /// [S!]\n    |      help: to link to the struct, prefix with `struct@`: `struct@S`\n \n error: unresolved link to `T::g`\n-  --> $DIR/intra-link-errors.rs:86:6\n+  --> $DIR/intra-link-errors.rs:91:6\n    |\n LL | /// [type@T::g]\n    |      ^^^^^^^^^\n@@ -116,13 +125,13 @@ LL | /// [type@T::g]\n    |      help: to link to the associated function, add parentheses: `T::g()`\n \n error: unresolved link to `T::h`\n-  --> $DIR/intra-link-errors.rs:91:6\n+  --> $DIR/intra-link-errors.rs:96:6\n    |\n LL | /// [T::h!]\n    |      ^^^^^ the trait `T` has no macro named `h`\n \n error: unresolved link to `S::h`\n-  --> $DIR/intra-link-errors.rs:78:6\n+  --> $DIR/intra-link-errors.rs:83:6\n    |\n LL | /// [type@S::h]\n    |      ^^^^^^^^^\n@@ -131,7 +140,7 @@ LL | /// [type@S::h]\n    |      help: to link to the associated function, add parentheses: `S::h()`\n \n error: unresolved link to `m`\n-  --> $DIR/intra-link-errors.rs:98:6\n+  --> $DIR/intra-link-errors.rs:103:6\n    |\n LL | /// [m()]\n    |      ^^^"}, {"sha": "57061b6778c29f30118b9be8a2eb4f3fd10d8a52", "filename": "src/test/rustdoc-ui/intra-link-span-ice-55723.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fintra-link-span-ice-55723.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fintra-link-span-ice-55723.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-link-span-ice-55723.stderr?ref=87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "patch": "@@ -2,13 +2,14 @@ error: unresolved link to `i`\n   --> $DIR/intra-link-span-ice-55723.rs:9:10\n    |\n LL | /// \uff08arr[i]\uff09\n-   |           ^ the module `intra_link_span_ice_55723` contains no item named `i`\n+   |           ^ there is no item named `i` in scope\n    |\n note: the lint level is defined here\n   --> $DIR/intra-link-span-ice-55723.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n+   = help: did you mean to import `i`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n error: aborting due to previous error"}, {"sha": "0c934e3bb082c96075d7f4d4d5998453f2928f3f", "filename": "src/test/rustdoc-ui/intra-links-warning-crlf.stderr", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fintra-links-warning-crlf.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fintra-links-warning-crlf.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-links-warning-crlf.stderr?ref=87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "patch": "@@ -2,33 +2,37 @@ warning: unresolved link to `error`\n   --> $DIR/intra-links-warning-crlf.rs:7:6\n    |\n LL | /// [error]\n-   |      ^^^^^ the module `intra_links_warning_crlf` contains no item named `error`\n+   |      ^^^^^ there is no item named `error` in scope\n    |\n    = note: `#[warn(broken_intra_doc_links)]` on by default\n+   = help: did you mean to import `error`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error1`\n   --> $DIR/intra-links-warning-crlf.rs:12:11\n    |\n LL | /// docs [error1]\n-   |           ^^^^^^ the module `intra_links_warning_crlf` contains no item named `error1`\n+   |           ^^^^^^ there is no item named `error1` in scope\n    |\n+   = help: did you mean to import `error1`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error2`\n   --> $DIR/intra-links-warning-crlf.rs:15:11\n    |\n LL | /// docs [error2]\n-   |           ^^^^^^ the module `intra_links_warning_crlf` contains no item named `error2`\n+   |           ^^^^^^ there is no item named `error2` in scope\n    |\n+   = help: did you mean to import `error2`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n   --> $DIR/intra-links-warning-crlf.rs:23:20\n    |\n LL |  * It also has an [error].\n-   |                    ^^^^^ the module `intra_links_warning_crlf` contains no item named `error`\n+   |                    ^^^^^ there is no item named `error` in scope\n    |\n+   = help: did you mean to import `error`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: 4 warnings emitted"}, {"sha": "d64f62924d3c29ef75281172db42c065070dbca9", "filename": "src/test/rustdoc-ui/intra-links-warning.stderr", "status": "modified", "additions": 41, "deletions": 18, "changes": 59, "blob_url": "https://github.com/rust-lang/rust/blob/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fintra-links-warning.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Fintra-links-warning.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-links-warning.stderr?ref=87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "patch": "@@ -10,54 +10,67 @@ warning: unresolved link to `Bar::foo`\n   --> $DIR/intra-links-warning.rs:3:35\n    |\n LL |        //! Test with [Foo::baz], [Bar::foo], ...\n-   |                                   ^^^^^^^^ the module `intra_links_warning` contains no item named `Bar`\n+   |                                   ^^^^^^^^ there is no item named `Bar` in scope\n+   |\n+   = help: did you mean to import `Bar`?\n \n warning: unresolved link to `Uniooon::X`\n   --> $DIR/intra-links-warning.rs:6:13\n    |\n LL |      //! , [Uniooon::X] and [Qux::Z].\n-   |             ^^^^^^^^^^ the module `intra_links_warning` contains no item named `Uniooon`\n+   |             ^^^^^^^^^^ there is no item named `Uniooon` in scope\n+   |\n+   = help: did you mean to import `Uniooon`?\n \n warning: unresolved link to `Qux::Z`\n   --> $DIR/intra-links-warning.rs:6:30\n    |\n LL |      //! , [Uniooon::X] and [Qux::Z].\n-   |                              ^^^^^^ the module `intra_links_warning` contains no item named `Qux`\n+   |                              ^^^^^^ there is no item named `Qux` in scope\n+   |\n+   = help: did you mean to import `Qux`?\n \n warning: unresolved link to `Uniooon::X`\n   --> $DIR/intra-links-warning.rs:10:14\n    |\n LL |       //! , [Uniooon::X] and [Qux::Z].\n-   |              ^^^^^^^^^^ the module `intra_links_warning` contains no item named `Uniooon`\n+   |              ^^^^^^^^^^ there is no item named `Uniooon` in scope\n+   |\n+   = help: did you mean to import `Uniooon`?\n \n warning: unresolved link to `Qux::Z`\n   --> $DIR/intra-links-warning.rs:10:31\n    |\n LL |       //! , [Uniooon::X] and [Qux::Z].\n-   |                               ^^^^^^ the module `intra_links_warning` contains no item named `Qux`\n+   |                               ^^^^^^ there is no item named `Qux` in scope\n+   |\n+   = help: did you mean to import `Qux`?\n \n warning: unresolved link to `Qux:Y`\n   --> $DIR/intra-links-warning.rs:14:13\n    |\n LL |        /// [Qux:Y]\n-   |             ^^^^^ the module `intra_links_warning` contains no item named `Qux:Y`\n+   |             ^^^^^ there is no item named `Qux:Y` in scope\n    |\n+   = help: did you mean to import `Qux:Y`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n   --> $DIR/intra-links-warning.rs:58:30\n    |\n LL |  * time to introduce a link [error]*/\n-   |                              ^^^^^ the module `intra_links_warning` contains no item named `error`\n+   |                              ^^^^^ there is no item named `error` in scope\n    |\n+   = help: did you mean to import `error`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n   --> $DIR/intra-links-warning.rs:64:30\n    |\n LL |  * time to introduce a link [error]\n-   |                              ^^^^^ the module `intra_links_warning` contains no item named `error`\n+   |                              ^^^^^ there is no item named `error` in scope\n    |\n+   = help: did you mean to import `error`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n@@ -70,7 +83,8 @@ LL | #[doc = \"single line [error]\"]\n            \n            single line [error]\n                         ^^^^^\n-   = note: the module `intra_links_warning` contains no item named `error`\n+   = note: there is no item named `error` in scope\n+   = help: did you mean to import `error`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n@@ -83,7 +97,8 @@ LL | #[doc = \"single line with \\\"escaping\\\" [error]\"]\n            \n            single line with \"escaping\" [error]\n                                         ^^^^^\n-   = note: the module `intra_links_warning` contains no item named `error`\n+   = note: there is no item named `error` in scope\n+   = help: did you mean to import `error`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n@@ -98,47 +113,53 @@ LL | | /// [error]\n            \n            [error]\n             ^^^^^\n-   = note: the module `intra_links_warning` contains no item named `error`\n+   = note: there is no item named `error` in scope\n+   = help: did you mean to import `error`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error1`\n   --> $DIR/intra-links-warning.rs:80:11\n    |\n LL | /// docs [error1]\n-   |           ^^^^^^ the module `intra_links_warning` contains no item named `error1`\n+   |           ^^^^^^ there is no item named `error1` in scope\n    |\n+   = help: did you mean to import `error1`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error2`\n   --> $DIR/intra-links-warning.rs:82:11\n    |\n LL | /// docs [error2]\n-   |           ^^^^^^ the module `intra_links_warning` contains no item named `error2`\n+   |           ^^^^^^ there is no item named `error2` in scope\n    |\n+   = help: did you mean to import `error2`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `BarA`\n   --> $DIR/intra-links-warning.rs:21:10\n    |\n LL | /// bar [BarA] bar\n-   |          ^^^^ the module `intra_links_warning` contains no item named `BarA`\n+   |          ^^^^ there is no item named `BarA` in scope\n    |\n+   = help: did you mean to import `BarA`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `BarB`\n   --> $DIR/intra-links-warning.rs:27:9\n    |\n LL |  * bar [BarB] bar\n-   |         ^^^^ the module `intra_links_warning` contains no item named `BarB`\n+   |         ^^^^ there is no item named `BarB` in scope\n    |\n+   = help: did you mean to import `BarB`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `BarC`\n   --> $DIR/intra-links-warning.rs:34:6\n    |\n LL | bar [BarC] bar\n-   |      ^^^^ the module `intra_links_warning` contains no item named `BarC`\n+   |      ^^^^ there is no item named `BarC` in scope\n    |\n+   = help: did you mean to import `BarC`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `BarD`\n@@ -151,7 +172,8 @@ LL | #[doc = \"Foo\\nbar [BarD] bar\\nbaz\"]\n            \n            bar [BarD] bar\n                 ^^^^\n-   = note: the module `intra_links_warning` contains no item named `BarD`\n+   = note: there is no item named `BarD` in scope\n+   = help: did you mean to import `BarD`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `BarF`\n@@ -167,7 +189,8 @@ LL | f!(\"Foo\\nbar [BarF] bar\\nbaz\");\n            \n            bar [BarF] bar\n                 ^^^^\n-   = note: the module `intra_links_warning` contains no item named `BarF`\n+   = note: there is no item named `BarF` in scope\n+   = help: did you mean to import `BarF`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n    = note: this warning originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n "}, {"sha": "1fe33b4116733488d0f21b4a74b9d21e37c410aa", "filename": "src/test/rustdoc-ui/lint-group.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Flint-group.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/87f3f81451f72fc7b5acb4a569bb79a51a8604c3/src%2Ftest%2Frustdoc-ui%2Flint-group.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Flint-group.stderr?ref=87f3f81451f72fc7b5acb4a569bb79a51a8604c3", "patch": "@@ -32,14 +32,15 @@ error: unresolved link to `error`\n   --> $DIR/lint-group.rs:9:29\n    |\n LL | /// what up, let's make an [error]\n-   |                             ^^^^^ the module `lint_group` contains no item named `error`\n+   |                             ^^^^^ there is no item named `error` in scope\n    |\n note: the lint level is defined here\n   --> $DIR/lint-group.rs:7:9\n    |\n LL | #![deny(rustdoc)]\n    |         ^^^^^^^\n    = note: `#[deny(broken_intra_doc_links)]` implied by `#[deny(rustdoc)]`\n+   = help: did you mean to import `error`?\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n error: aborting due to 3 previous errors"}]}