{"sha": "031a2143f0ef78e9b080b20481507ec0268e7bab", "node_id": "C_kwDOAAsO6NoAKDAzMWEyMTQzZjBlZjc4ZTliMDgwYjIwNDgxNTA3ZWMwMjY4ZTdiYWI", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-12-29T12:16:06Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-12-29T12:16:06Z"}, "message": "Rollup merge of #106242 - estebank:diff-markers, r=jyn514\n\nDetect diff markers in the parser\n\nPartly address #32059.", "tree": {"sha": "3f09df0b5e60fd60fadea3fd1a8cd8abee15bbb1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3f09df0b5e60fd60fadea3fd1a8cd8abee15bbb1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/031a2143f0ef78e9b080b20481507ec0268e7bab", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjrYUGCRBK7hj4Ov3rIwAA+sMIADNygUODTMjTwqyoTjEECJmq\n5Et1WsGdCdGGoSm8lHxny8L3yAGcTtWDvwcdEuzW/+cgSd/Q+ogQz80QqBoNiyOj\nQm7T2rZsAS32LT0Zw+6+8mIH7ey9xAvNZxQmKnYcuQg3rgYiH/VsjO7u9owz55ec\nM1DITYcxBb2clVObbbAHZ1/GdaoO+mWLLBkWIIQiuNJ/NngTDPPnJaJccfMwoz1A\nX+GRApD6MT0RiWtCaKOIzAEke+tisqpPeNk38r9T5Ic9Kch6ViKYloDLIb7klfq+\nW+Eq83kDtq/4vZZ4/MfmpZg3kAp0jxtcqYVjy3iHwtLcEzuUBhrQb+WEAByA/xA=\n=DAjc\n-----END PGP SIGNATURE-----\n", "payload": "tree 3f09df0b5e60fd60fadea3fd1a8cd8abee15bbb1\nparent 98f2409c82a9527428abd6514aba36444f8428dc\nparent 62c8e3144a8bc7d07d66bc14c8a7cce94a3dbce5\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1672316166 +0100\ncommitter GitHub <noreply@github.com> 1672316166 +0100\n\nRollup merge of #106242 - estebank:diff-markers, r=jyn514\n\nDetect diff markers in the parser\n\nPartly address #32059.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/031a2143f0ef78e9b080b20481507ec0268e7bab", "html_url": "https://github.com/rust-lang/rust/commit/031a2143f0ef78e9b080b20481507ec0268e7bab", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/031a2143f0ef78e9b080b20481507ec0268e7bab/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "98f2409c82a9527428abd6514aba36444f8428dc", "url": "https://api.github.com/repos/rust-lang/rust/commits/98f2409c82a9527428abd6514aba36444f8428dc", "html_url": "https://github.com/rust-lang/rust/commit/98f2409c82a9527428abd6514aba36444f8428dc"}, {"sha": "62c8e3144a8bc7d07d66bc14c8a7cce94a3dbce5", "url": "https://api.github.com/repos/rust-lang/rust/commits/62c8e3144a8bc7d07d66bc14c8a7cce94a3dbce5", "html_url": "https://github.com/rust-lang/rust/commit/62c8e3144a8bc7d07d66bc14c8a7cce94a3dbce5"}], "stats": {"total": 443, "additions": 438, "deletions": 5}, "files": [{"sha": "b3231f55bc6e64375960c8e09b56b2ebccb19587", "filename": "compiler/rustc_parse/src/parser/diagnostics.rs", "status": "modified", "additions": 71, "deletions": 1, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -31,7 +31,8 @@ use rustc_ast::{\n use rustc_ast_pretty::pprust;\n use rustc_data_structures::fx::FxHashSet;\n use rustc_errors::{\n-    fluent, Applicability, DiagnosticBuilder, DiagnosticMessage, Handler, MultiSpan, PResult,\n+    fluent, Applicability, DiagnosticBuilder, DiagnosticMessage, FatalError, Handler, MultiSpan,\n+    PResult,\n };\n use rustc_errors::{pluralize, Diagnostic, ErrorGuaranteed, IntoDiagnostic};\n use rustc_session::errors::ExprParenthesesNeeded;\n@@ -2556,6 +2557,75 @@ impl<'a> Parser<'a> {\n         Ok(())\n     }\n \n+    pub fn is_diff_marker(&mut self, long_kind: &TokenKind, short_kind: &TokenKind) -> bool {\n+        (0..3).all(|i| self.look_ahead(i, |tok| tok == long_kind))\n+            && self.look_ahead(3, |tok| tok == short_kind)\n+    }\n+\n+    fn diff_marker(&mut self, long_kind: &TokenKind, short_kind: &TokenKind) -> Option<Span> {\n+        if self.is_diff_marker(long_kind, short_kind) {\n+            let lo = self.token.span;\n+            for _ in 0..4 {\n+                self.bump();\n+            }\n+            return Some(lo.to(self.prev_token.span));\n+        }\n+        None\n+    }\n+\n+    pub fn recover_diff_marker(&mut self) {\n+        let Some(start) = self.diff_marker(&TokenKind::BinOp(token::Shl), &TokenKind::Lt) else {\n+            return;\n+        };\n+        let mut spans = Vec::with_capacity(3);\n+        spans.push(start);\n+        let mut middlediff3 = None;\n+        let mut middle = None;\n+        let mut end = None;\n+        loop {\n+            if self.token.kind == TokenKind::Eof {\n+                break;\n+            }\n+            if let Some(span) = self.diff_marker(&TokenKind::OrOr, &TokenKind::BinOp(token::Or)) {\n+                middlediff3 = Some(span);\n+            }\n+            if let Some(span) = self.diff_marker(&TokenKind::EqEq, &TokenKind::Eq) {\n+                middle = Some(span);\n+            }\n+            if let Some(span) = self.diff_marker(&TokenKind::BinOp(token::Shr), &TokenKind::Gt) {\n+                spans.push(span);\n+                end = Some(span);\n+                break;\n+            }\n+            self.bump();\n+        }\n+        let mut err = self.struct_span_err(spans, \"encountered diff marker\");\n+        err.span_label(start, \"after this is the code before the merge\");\n+        if let Some(middle) = middlediff3 {\n+            err.span_label(middle, \"\");\n+        }\n+        if let Some(middle) = middle {\n+            err.span_label(middle, \"\");\n+        }\n+        if let Some(end) = end {\n+            err.span_label(end, \"above this are the incoming code changes\");\n+        }\n+        err.help(\n+            \"if you're having merge conflicts after pulling new code, the top section is the code \\\n+             you already had and the bottom section is the remote code\",\n+        );\n+        err.help(\n+            \"if you're in the middle of a rebase, the top section is the code being rebased onto \\\n+             and the bottom section is the code coming from the current commit being rebased\",\n+        );\n+        err.note(\n+            \"for an explanation on these markers from the `git` documentation, visit \\\n+             <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\",\n+        );\n+        err.emit();\n+        FatalError.raise()\n+    }\n+\n     /// Parse and throw away a parenthesized comma separated\n     /// sequence of patterns until `)` is reached.\n     fn skip_pat_list(&mut self) -> PResult<'a, ()> {"}, {"sha": "1fc1ffd6cb6ed39e70463a7743fc48d8c9fabecd", "filename": "compiler/rustc_parse/src/parser/expr.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fexpr.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -3039,6 +3039,7 @@ impl<'a> Parser<'a> {\n     /// Parses `ident (COLON expr)?`.\n     fn parse_expr_field(&mut self) -> PResult<'a, ExprField> {\n         let attrs = self.parse_outer_attributes()?;\n+        self.recover_diff_marker();\n         self.collect_tokens_trailing_token(attrs, ForceCollect::No, |this, attrs| {\n             let lo = this.token.span;\n "}, {"sha": "c6b6c04de85042afabc17e2463f60e4a8a205128", "filename": "compiler/rustc_parse/src/parser/item.rs", "status": "modified", "additions": 38, "deletions": 4, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -98,7 +98,9 @@ impl<'a> Parser<'a> {\n         fn_parse_mode: FnParseMode,\n         force_collect: ForceCollect,\n     ) -> PResult<'a, Option<Item>> {\n+        self.recover_diff_marker();\n         let attrs = self.parse_outer_attributes()?;\n+        self.recover_diff_marker();\n         self.parse_item_common(attrs, true, false, fn_parse_mode, force_collect)\n     }\n \n@@ -704,6 +706,7 @@ impl<'a> Parser<'a> {\n             if self.recover_doc_comment_before_brace() {\n                 continue;\n             }\n+            self.recover_diff_marker();\n             match parse_item(self) {\n                 Ok(None) => {\n                     let mut is_unnecessary_semicolon = !items.is_empty()\n@@ -1039,8 +1042,11 @@ impl<'a> Parser<'a> {\n     /// USE_TREE_LIST = \u00d8 | (USE_TREE `,`)* USE_TREE [`,`]\n     /// ```\n     fn parse_use_tree_list(&mut self) -> PResult<'a, Vec<(UseTree, ast::NodeId)>> {\n-        self.parse_delim_comma_seq(Delimiter::Brace, |p| Ok((p.parse_use_tree()?, DUMMY_NODE_ID)))\n-            .map(|(r, _)| r)\n+        self.parse_delim_comma_seq(Delimiter::Brace, |p| {\n+            p.recover_diff_marker();\n+            Ok((p.parse_use_tree()?, DUMMY_NODE_ID))\n+        })\n+        .map(|(r, _)| r)\n     }\n \n     fn parse_rename(&mut self) -> PResult<'a, Option<Ident>> {\n@@ -1379,7 +1385,9 @@ impl<'a> Parser<'a> {\n     }\n \n     fn parse_enum_variant(&mut self) -> PResult<'a, Option<Variant>> {\n+        self.recover_diff_marker();\n         let variant_attrs = self.parse_outer_attributes()?;\n+        self.recover_diff_marker();\n         self.collect_tokens_trailing_token(\n             variant_attrs,\n             ForceCollect::No,\n@@ -1573,9 +1581,32 @@ impl<'a> Parser<'a> {\n         self.parse_paren_comma_seq(|p| {\n             let attrs = p.parse_outer_attributes()?;\n             p.collect_tokens_trailing_token(attrs, ForceCollect::No, |p, attrs| {\n+                let mut snapshot = None;\n+                if p.is_diff_marker(&TokenKind::BinOp(token::Shl), &TokenKind::Lt) {\n+                    // Account for `<<<<<<<` diff markers. We can't proactively error here because\n+                    // that can be a valid type start, so we snapshot and reparse only we've\n+                    // encountered another parse error.\n+                    snapshot = Some(p.create_snapshot_for_diagnostic());\n+                }\n                 let lo = p.token.span;\n-                let vis = p.parse_visibility(FollowedByType::Yes)?;\n-                let ty = p.parse_ty()?;\n+                let vis = match p.parse_visibility(FollowedByType::Yes) {\n+                    Ok(vis) => vis,\n+                    Err(err) => {\n+                        if let Some(ref mut snapshot) = snapshot {\n+                            snapshot.recover_diff_marker();\n+                        }\n+                        return Err(err);\n+                    }\n+                };\n+                let ty = match p.parse_ty() {\n+                    Ok(ty) => ty,\n+                    Err(err) => {\n+                        if let Some(ref mut snapshot) = snapshot {\n+                            snapshot.recover_diff_marker();\n+                        }\n+                        return Err(err);\n+                    }\n+                };\n \n                 Ok((\n                     FieldDef {\n@@ -1596,7 +1627,9 @@ impl<'a> Parser<'a> {\n \n     /// Parses an element of a struct declaration.\n     fn parse_field_def(&mut self, adt_ty: &str) -> PResult<'a, FieldDef> {\n+        self.recover_diff_marker();\n         let attrs = self.parse_outer_attributes()?;\n+        self.recover_diff_marker();\n         self.collect_tokens_trailing_token(attrs, ForceCollect::No, |this, attrs| {\n             let lo = this.token.span;\n             let vis = this.parse_visibility(FollowedByType::No)?;\n@@ -2427,6 +2460,7 @@ impl<'a> Parser<'a> {\n         let mut first_param = true;\n         // Parse the arguments, starting out with `self` being allowed...\n         let (mut params, _) = self.parse_paren_comma_seq(|p| {\n+            p.recover_diff_marker();\n             let param = p.parse_param_general(req_name, first_param).or_else(|mut e| {\n                 e.emit();\n                 let lo = p.prev_token.span;"}, {"sha": "0daae457d30224caee7db8d154d93c01537c167e", "filename": "compiler/rustc_parse/src/parser/stmt.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fstmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fstmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fstmt.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -531,13 +531,23 @@ impl<'a> Parser<'a> {\n         recover: AttemptLocalParseRecovery,\n     ) -> PResult<'a, P<Block>> {\n         let mut stmts = vec![];\n+        let mut snapshot = None;\n         while !self.eat(&token::CloseDelim(Delimiter::Brace)) {\n             if self.token == token::Eof {\n                 break;\n             }\n+            if self.is_diff_marker(&TokenKind::BinOp(token::Shl), &TokenKind::Lt) {\n+                // Account for `<<<<<<<` diff markers. We can't proactively error here because\n+                // that can be a valid path start, so we snapshot and reparse only we've\n+                // encountered another parse error.\n+                snapshot = Some(self.create_snapshot_for_diagnostic());\n+            }\n             let stmt = match self.parse_full_stmt(recover) {\n                 Err(mut err) if recover.yes() => {\n                     self.maybe_annotate_with_ascription(&mut err, false);\n+                    if let Some(ref mut snapshot) = snapshot {\n+                        snapshot.recover_diff_marker();\n+                    }\n                     err.emit();\n                     self.recover_stmt_(SemiColonMode::Ignore, BlockMode::Ignore);\n                     Some(self.mk_stmt_err(self.token.span))"}, {"sha": "76ea980fc628d562a351a626cf37a20686d2cdd0", "filename": "src/test/ui/parser/diff-markers/enum-2.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum-2.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,11 @@\n+enum E {\n+    Foo {\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+        x: u8,\n+|||||||\n+        z: (),\n+=======\n+        y: i8,\n+>>>>>>> branch\n+    }\n+}"}, {"sha": "63da5c2a6e1f3b8d57ac8f74c2bbcccbd2f3a89c", "filename": "src/test/ui/parser/diff-markers/enum-2.stderr", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum-2.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,21 @@\n+error: encountered diff marker\n+  --> $DIR/enum-2.rs:3:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL |         x: u8,\n+LL | |||||||\n+   | -------\n+LL |         z: (),\n+LL | =======\n+   | -------\n+LL |         y: i8,\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}, {"sha": "45df6e3251d763d0dfb0ba5a24ca3cd2b0fbfc75", "filename": "src/test/ui/parser/diff-markers/enum.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,7 @@\n+enum E {\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+    Foo(u8),\n+=======\n+    Bar(i8),\n+>>>>>>> branch\n+}"}, {"sha": "abbf3fb41e790a871427069b56e1b22189f50aec", "filename": "src/test/ui/parser/diff-markers/enum.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fenum.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,18 @@\n+error: encountered diff marker\n+  --> $DIR/enum.rs:2:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL |     Foo(u8),\n+LL | =======\n+   | -------\n+LL |     Bar(i8),\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}, {"sha": "86c355628ab67fcff3aa90c2c61f1547bb7df162", "filename": "src/test/ui/parser/diff-markers/fn-arg.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,16 @@\n+trait T {\n+    fn foo(\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+        x: u8,\n+=======\n+        x: i8,\n+>>>>>>> branch\n+    ) {}\n+}\n+\n+struct S;\n+impl T for S {}\n+\n+fn main() {\n+    S::foo(42);\n+}"}, {"sha": "933a206410e10803d8850a2213a6bb8cc3c6b75b", "filename": "src/test/ui/parser/diff-markers/fn-arg.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,18 @@\n+error: encountered diff marker\n+  --> $DIR/fn-arg.rs:3:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL |         x: u8,\n+LL | =======\n+   | -------\n+LL |         x: i8,\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}, {"sha": "985907c08b28ce62afcb82a3207f366e81058045", "filename": "src/test/ui/parser/diff-markers/item-with-attr.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,10 @@\n+#[attribute]\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+fn foo() {}\n+=======\n+fn bar() {}\n+>>>>>>> branch\n+\n+fn main() {\n+    foo();\n+}"}, {"sha": "850e2368e55d1aef0ef6fc5854a9938a05d62edd", "filename": "src/test/ui/parser/diff-markers/item-with-attr.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,18 @@\n+error: encountered diff marker\n+  --> $DIR/item-with-attr.rs:2:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL | fn foo() {}\n+LL | =======\n+   | -------\n+LL | fn bar() {}\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}, {"sha": "4ed36b7b42bcd5cdb9a8aa0b54060410505d75f1", "filename": "src/test/ui/parser/diff-markers/item.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,9 @@\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+fn foo() {}\n+=======\n+fn bar() {}\n+>>>>>>> branch\n+\n+fn main() {\n+    foo();\n+}"}, {"sha": "9ab3631a60e899cbb1ef21ba83b35cba04af29be", "filename": "src/test/ui/parser/diff-markers/item.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,18 @@\n+error: encountered diff marker\n+  --> $DIR/item.rs:1:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL | fn foo() {}\n+LL | =======\n+   | -------\n+LL | fn bar() {}\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}, {"sha": "e55d16d3bbb8eb112b7167aa0d4ce457ffd41264", "filename": "src/test/ui/parser/diff-markers/statement.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,15 @@\n+trait T {\n+    fn foo() {}\n+    fn bar() {}\n+}\n+\n+struct S;\n+impl T for S {}\n+\n+fn main() {\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+    S::foo();\n+=======\n+    S::bar();\n+>>>>>>> branch\n+}"}, {"sha": "7ca2495b829e4e8ad2dc62cd6519269e28286021", "filename": "src/test/ui/parser/diff-markers/statement.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,18 @@\n+error: encountered diff marker\n+  --> $DIR/statement.rs:10:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL |     S::foo();\n+LL | =======\n+   | -------\n+LL |     S::bar();\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}, {"sha": "99d2fd662c69ca70084ba1b6e1cf00adeec49f11", "filename": "src/test/ui/parser/diff-markers/struct-expr.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct-expr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct-expr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct-expr.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,12 @@\n+struct S {\n+    x: u8,\n+}\n+fn main() {\n+    let _ = S {\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+        x: 42,\n+=======\n+        x: 0,\n+>>>>>>> branch\n+    }\n+}"}, {"sha": "d70476a983310e0eadecab6da9165903c99d88b7", "filename": "src/test/ui/parser/diff-markers/struct-expr.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct-expr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct-expr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct-expr.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,18 @@\n+error: encountered diff marker\n+  --> $DIR/struct-expr.rs:6:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL |         x: 42,\n+LL | =======\n+   | -------\n+LL |         x: 0,\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}, {"sha": "d26464d47bcef1b0801891c03d0f7586f8f47f18", "filename": "src/test/ui/parser/diff-markers/struct.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,7 @@\n+struct S {\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+    x: u8,\n+=======\n+    x: i8,\n+>>>>>>> branch\n+}"}, {"sha": "cc0b3da664e7ba222932484598d20b0f621dce12", "filename": "src/test/ui/parser/diff-markers/struct.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstruct.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,18 @@\n+error: encountered diff marker\n+  --> $DIR/struct.rs:2:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL |     x: u8,\n+LL | =======\n+   | -------\n+LL |     x: i8,\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}, {"sha": "3227c8212c96d39ede6d4da2e80a4fab93731d63", "filename": "src/test/ui/parser/diff-markers/trait-item.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,14 @@\n+trait T {\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+    fn foo() {}\n+=======\n+    fn bar() {}\n+>>>>>>> branch\n+}\n+\n+struct S;\n+impl T for S {}\n+\n+fn main() {\n+    S::foo();\n+}"}, {"sha": "cdc19f8e0765a38be671184a61c5a42d0b3471d4", "filename": "src/test/ui/parser/diff-markers/trait-item.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,18 @@\n+error: encountered diff marker\n+  --> $DIR/trait-item.rs:2:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL |     fn foo() {}\n+LL | =======\n+   | -------\n+LL |     fn bar() {}\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}, {"sha": "7eec35c968da30e7d286e77f1151413621f7e3bb", "filename": "src/test/ui/parser/diff-markers/tuple-struct.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftuple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftuple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftuple-struct.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,7 @@\n+struct S(\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+    u8,\n+=======\n+    i8,\n+>>>>>>> branch\n+);"}, {"sha": "d673db89837e7c70ec97d661dfec0559eaa60c6a", "filename": "src/test/ui/parser/diff-markers/tuple-struct.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftuple-struct.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftuple-struct.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftuple-struct.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,18 @@\n+error: encountered diff marker\n+  --> $DIR/tuple-struct.rs:2:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL |     u8,\n+LL | =======\n+   | -------\n+LL |     i8,\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}, {"sha": "6306243a5141a434e112a6548a7061ee102d6f4e", "filename": "src/test/ui/parser/diff-markers/use-statement.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.rs?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,9 @@\n+use foo::{\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+    bar,\n+=======\n+    baz,\n+>>>>>>> branch\n+};\n+\n+fn main() {}"}, {"sha": "12e6f57dd501bb4a919f16efbb756f632c2e33c7", "filename": "src/test/ui/parser/diff-markers/use-statement.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031a2143f0ef78e9b080b20481507ec0268e7bab/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.stderr?ref=031a2143f0ef78e9b080b20481507ec0268e7bab", "patch": "@@ -0,0 +1,18 @@\n+error: encountered diff marker\n+  --> $DIR/use-statement.rs:2:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ after this is the code before the merge\n+LL |     bar,\n+LL | =======\n+   | -------\n+LL |     baz,\n+LL | >>>>>>> branch\n+   | ^^^^^^^ above this are the incoming code changes\n+   |\n+   = help: if you're having merge conflicts after pulling new code, the top section is the code you already had and the bottom section is the remote code\n+   = help: if you're in the middle of a rebase, the top section is the code being rebased onto and the bottom section is the code coming from the current commit being rebased\n+   = note: for an explanation on these markers from the `git` documentation, visit <https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_checking_out_conflicts>\n+\n+error: aborting due to previous error\n+"}]}