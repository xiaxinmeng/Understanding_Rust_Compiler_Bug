{"sha": "3056630d8f2b08447b9d37bbb0016c04a36bc984", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwNTY2MzBkOGYyYjA4NDQ3YjlkMzdiYmIwMDE2YzA0YTM2YmM5ODQ=", "commit": {"author": {"name": "Jonathan Turner", "email": "jonathandturner@users.noreply.github.com", "date": "2016-09-22T18:25:01Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-09-22T18:25:01Z"}, "message": "Rollup merge of #36539 - mikhail-m1:36530, r=jonathandturner\n\nfix top level attr spans\n\nissue #36530\n?r @jonathandturner", "tree": {"sha": "3b2b3f4dfd620d996fd41db88c7f1fc2bdc99f0e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3b2b3f4dfd620d996fd41db88c7f1fc2bdc99f0e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3056630d8f2b08447b9d37bbb0016c04a36bc984", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3056630d8f2b08447b9d37bbb0016c04a36bc984", "html_url": "https://github.com/rust-lang/rust/commit/3056630d8f2b08447b9d37bbb0016c04a36bc984", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3056630d8f2b08447b9d37bbb0016c04a36bc984/comments", "author": {"login": "jonathandturner", "id": 111457284, "node_id": "O_kgDOBqS0BA", "avatar_url": "https://avatars.githubusercontent.com/u/111457284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathandturner", "html_url": "https://github.com/jonathandturner", "followers_url": "https://api.github.com/users/jonathandturner/followers", "following_url": "https://api.github.com/users/jonathandturner/following{/other_user}", "gists_url": "https://api.github.com/users/jonathandturner/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathandturner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathandturner/subscriptions", "organizations_url": "https://api.github.com/users/jonathandturner/orgs", "repos_url": "https://api.github.com/users/jonathandturner/repos", "events_url": "https://api.github.com/users/jonathandturner/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathandturner/received_events", "type": "Organization", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b60fc5d16ab5b089f0eba395a838375f5a92f11c", "url": "https://api.github.com/repos/rust-lang/rust/commits/b60fc5d16ab5b089f0eba395a838375f5a92f11c", "html_url": "https://github.com/rust-lang/rust/commit/b60fc5d16ab5b089f0eba395a838375f5a92f11c"}, {"sha": "82639d4f0429eedd868d25d78b69a9fd96e5d200", "url": "https://api.github.com/repos/rust-lang/rust/commits/82639d4f0429eedd868d25d78b69a9fd96e5d200", "html_url": "https://github.com/rust-lang/rust/commit/82639d4f0429eedd868d25d78b69a9fd96e5d200"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "9eac024edb17eeccedcb829c2564ea46840b592a", "filename": "src/libsyntax/parse/attr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3056630d8f2b08447b9d37bbb0016c04a36bc984/src%2Flibsyntax%2Fparse%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3056630d8f2b08447b9d37bbb0016c04a36bc984/src%2Flibsyntax%2Fparse%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fattr.rs?ref=3056630d8f2b08447b9d37bbb0016c04a36bc984", "patch": "@@ -125,8 +125,8 @@ impl<'a> Parser<'a> {\n \n                 self.expect(&token::OpenDelim(token::Bracket))?;\n                 let meta_item = self.parse_meta_item()?;\n-                let hi = self.last_span.hi;\n                 self.expect(&token::CloseDelim(token::Bracket))?;\n+                let hi = self.last_span.hi;\n \n                 (mk_sp(lo, hi), meta_item, style)\n             }"}, {"sha": "893c2168c2e1631f6035671b1c79ad024552fd65", "filename": "src/test/ui/span/issue-36530.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/3056630d8f2b08447b9d37bbb0016c04a36bc984/src%2Ftest%2Fui%2Fspan%2Fissue-36530.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3056630d8f2b08447b9d37bbb0016c04a36bc984/src%2Ftest%2Fui%2Fspan%2Fissue-36530.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-36530.rs?ref=3056630d8f2b08447b9d37bbb0016c04a36bc984", "patch": "@@ -0,0 +1,14 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[foo]\n+mod foo {\n+    #![foo]\n+}"}, {"sha": "dc6190c2e76b0f28afee368623308f022d13cb96", "filename": "src/test/ui/span/issue-36530.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/3056630d8f2b08447b9d37bbb0016c04a36bc984/src%2Ftest%2Fui%2Fspan%2Fissue-36530.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3056630d8f2b08447b9d37bbb0016c04a36bc984/src%2Ftest%2Fui%2Fspan%2Fissue-36530.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-36530.stderr?ref=3056630d8f2b08447b9d37bbb0016c04a36bc984", "patch": "@@ -0,0 +1,18 @@\n+error: The attribute `foo` is currently unknown to the compiler and may have meaning added to it in the future (see issue #29642)\n+  --> $DIR/issue-36530.rs:11:1\n+   |\n+11 | #[foo]\n+   | ^^^^^^\n+   |\n+   = help: add #![feature(custom_attribute)] to the crate attributes to enable\n+\n+error: The attribute `foo` is currently unknown to the compiler and may have meaning added to it in the future (see issue #29642)\n+  --> $DIR/issue-36530.rs:13:5\n+   |\n+13 |     #![foo]\n+   |     ^^^^^^^\n+   |\n+   = help: add #![feature(custom_attribute)] to the crate attributes to enable\n+\n+error: aborting due to 2 previous errors\n+"}]}