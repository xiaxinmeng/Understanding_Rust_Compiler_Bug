{"sha": "3124d2b8df3f9a2f265778555f67a6eb54f81834", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMxMjRkMmI4ZGYzZjlhMmYyNjU3Nzg1NTVmNjdhNmViNTRmODE4MzQ=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2015-09-17T00:01:41Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2015-09-17T00:02:29Z"}, "message": "Rustup to rustc 1.5.0-nightly (fc4d566b4 2015-09-16)\n\nfixes #334", "tree": {"sha": "95a1ca21ca4cda29ee5aed04894e13e213c5769e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/95a1ca21ca4cda29ee5aed04894e13e213c5769e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3124d2b8df3f9a2f265778555f67a6eb54f81834", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3124d2b8df3f9a2f265778555f67a6eb54f81834", "html_url": "https://github.com/rust-lang/rust/commit/3124d2b8df3f9a2f265778555f67a6eb54f81834", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3124d2b8df3f9a2f265778555f67a6eb54f81834/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "68d4b3af127372c02aab0c2308f5c2bc81fec785", "url": "https://api.github.com/repos/rust-lang/rust/commits/68d4b3af127372c02aab0c2308f5c2bc81fec785", "html_url": "https://github.com/rust-lang/rust/commit/68d4b3af127372c02aab0c2308f5c2bc81fec785"}], "stats": {"total": 41, "additions": 37, "deletions": 4}, "files": [{"sha": "0ac40f29cb6a9395d357809ffcdef5105c3714f0", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -1,6 +1,6 @@\n [package]\n name = \"clippy\"\n-version = \"0.0.13\"\n+version = \"0.0.14\"\n authors = [\n \t\"Manish Goregaokar <manishsmail@gmail.com>\",\n \t\"Andre Bogus <bogusandre@gmail.com>\","}, {"sha": "b357c2dc40a3a39d5fbad89774462297705e7d41", "filename": "src/approx_const.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fapprox_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fapprox_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fapprox_const.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -2,6 +2,9 @@ use rustc::lint::*;\n use rustc_front::hir::*;\n use std::f64::consts as f64;\n use utils::span_lint;\n+use syntax::ast::Lit_::*;\n+use syntax::ast::Lit;\n+use syntax::ast::FloatTy::*;\n \n declare_lint! {\n     pub APPROX_CONSTANT,"}, {"sha": "a80d19d32a19928c69ea676009fab656d2e442de", "filename": "src/attrs.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fattrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fattrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fattrs.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -4,7 +4,8 @@ use rustc::lint::*;\n use rustc_front::hir::*;\n use reexport::*;\n use syntax::codemap::Span;\n-\n+use syntax::attr::*;\n+use syntax::ast::{Attribute, MetaList, MetaWord};\n use utils::{in_macro, match_path, span_lint};\n \n declare_lint! { pub INLINE_ALWAYS, Warn,"}, {"sha": "58d0f3f6085f0df74c38a73df38a0e5de3a045b7", "filename": "src/bit_mask.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fbit_mask.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fbit_mask.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbit_mask.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -4,6 +4,7 @@ use rustc::middle::def::*;\n use rustc_front::hir::*;\n use rustc_front::util::is_comparison_binop;\n use syntax::codemap::Span;\n+use syntax::ast::Lit_::*;\n \n use utils::span_lint;\n "}, {"sha": "5a97a5d3f7adb9aeea5f699427508b012a7f5957", "filename": "src/consts.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fconsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fconsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fconsts.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -13,6 +13,16 @@ use std::ops::Deref;\n use self::Constant::*;\n use self::FloatWidth::*;\n \n+use syntax::ast::Lit_::*;\n+use syntax::ast::Lit_;\n+use syntax::ast::LitIntType::*;\n+use syntax::ast::LitIntType;\n+use syntax::ast::{UintTy, FloatTy, StrStyle};\n+use syntax::ast::UintTy::*;\n+use syntax::ast::FloatTy::*;\n+use syntax::ast::Sign::{self, Plus, Minus};\n+\n+\n #[derive(PartialEq, Eq, Debug, Copy, Clone)]\n pub enum FloatWidth {\n     Fw32,"}, {"sha": "22aa75f8c9da9702b132e5a8f5a7fc8d2645fd83", "filename": "src/len_zero.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Flen_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Flen_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flen_zero.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -5,6 +5,9 @@ use syntax::codemap::{Span, Spanned};\n use rustc::middle::def_id::DefId;\n use rustc::middle::ty::{self, MethodTraitItemId, ImplOrTraitItemId};\n \n+use syntax::ast::Lit_::*;\n+use syntax::ast::Lit;\n+\n use utils::{get_item_name, snippet, span_lint, walk_ptrs_ty};\n \n declare_lint!(pub LEN_ZERO, Warn,"}, {"sha": "5995b4be8af8040968268f925a239a99eff8ccf0", "filename": "src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -1,6 +1,6 @@\n #![feature(plugin_registrar, box_syntax)]\n #![feature(rustc_private, core, collections)]\n-#![feature(str_split_at, num_bits_bytes)]\n+#![feature(num_bits_bytes)]\n #![allow(unknown_lints)]\n \n #[macro_use]"}, {"sha": "bcb9744b3f2ba902851ce09e411602f8a81285d4", "filename": "src/loops.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Floops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Floops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Floops.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -7,6 +7,7 @@ use rustc::middle::def::DefLocal;\n use consts::{constant_simple, Constant};\n use rustc::front::map::Node::{NodeBlock};\n use std::collections::{HashSet,HashMap};\n+use syntax::ast::Lit_::*;\n \n use utils::{snippet, span_lint, get_parent_expr, match_trait_method, match_type,\n             in_external_macro, expr_block, span_help_and_lint, is_integer_literal};"}, {"sha": "7947839426d78ffe73e2987b6bf5650cc842ce16", "filename": "src/needless_bool.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fneedless_bool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fneedless_bool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fneedless_bool.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -5,6 +5,8 @@\n use rustc::lint::*;\n use rustc_front::hir::*;\n \n+use syntax::ast::Lit_::*;\n+\n use utils::{span_lint, snippet};\n \n declare_lint! {"}, {"sha": "c55e65b3a6bd6824230396545fe3f3b0b6cabcc6", "filename": "src/precedence.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fprecedence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Fprecedence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fprecedence.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -1,7 +1,7 @@\n use rustc::lint::*;\n use rustc_front::hir::*;\n use syntax::codemap::Spanned;\n-\n+use syntax::ast::Lit_::*;\n use utils::span_lint;\n \n declare_lint!(pub PRECEDENCE, Warn,"}, {"sha": "d8d2c7a94388dd3efeaaf9554a174961d67162f4", "filename": "src/types.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftypes.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -5,6 +5,9 @@ use rustc_front::util::{is_comparison_binop, binop_to_string};\n use syntax::codemap::Span;\n use rustc_front::visit::{FnKind, Visitor, walk_ty};\n use rustc::middle::ty;\n+use syntax::ast::IntTy::*;\n+use syntax::ast::UintTy::*;\n+use syntax::ast::FloatTy::*;\n \n use utils::{match_type, snippet, span_lint, span_help_and_lint, in_macro, in_external_macro};\n use utils::{LL_PATH, VEC_PATH};"}, {"sha": "16f2653429fc21d0c02ec7b35424cc7dc4bc5a8b", "filename": "src/unicode.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Funicode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Funicode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Funicode.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -2,6 +2,8 @@ use rustc::lint::*;\n use rustc_front::hir::*;\n use syntax::codemap::Span;\n \n+use syntax::ast::Lit_::*;\n+\n use unicode_normalization::UnicodeNormalization;\n \n use utils::{snippet, span_help_and_lint};"}, {"sha": "da288db60ca8d52797b1adf17b86c080ec7b1a99", "filename": "src/utils.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/src%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Futils.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -6,6 +6,7 @@ use rustc::front::map::Node::*;\n use rustc::middle::def_id::DefId;\n use rustc::middle::ty;\n use std::borrow::Cow;\n+use syntax::ast::Lit_::*;\n \n // module DefPaths for certain structs/enums we check for\n pub const OPTION_PATH: [&'static str; 3] = [\"core\", \"option\", \"Option\"];"}, {"sha": "66a7953994bfcec81b0948159df77951223a2749", "filename": "tests/consts.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3124d2b8df3f9a2f265778555f67a6eb54f81834/tests%2Fconsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3124d2b8df3f9a2f265778555f67a6eb54f81834/tests%2Fconsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fconsts.rs?ref=3124d2b8df3f9a2f265778555f67a6eb54f81834", "patch": "@@ -11,6 +11,12 @@ use syntax::parse::token::InternedString;\n use syntax::ptr::P;\n use syntax::codemap::{Spanned, COMMAND_LINE_SP};\n \n+use syntax::ast::Lit_::*;\n+use syntax::ast::Lit_;\n+use syntax::ast::LitIntType::*;\n+use syntax::ast::StrStyle::*;\n+use syntax::ast::Sign::*;\n+\n use clippy::consts::{constant_simple, Constant};\n use clippy::consts::Constant::*;\n "}]}