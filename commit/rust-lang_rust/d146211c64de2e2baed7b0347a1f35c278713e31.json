{"sha": "d146211c64de2e2baed7b0347a1f35c278713e31", "node_id": "C_kwDOAAsO6NoAKGQxNDYyMTFjNjRkZTJlMmJhZWQ3YjAzNDdhMWYzNWMyNzg3MTNlMzE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-04-13T19:58:35Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-04-13T19:58:35Z"}, "message": "Rollup merge of #109036 - chenyukang:yukang/fix-testcase, r=jyn514\n\nFix diff option conflict in UI test\n\nTrivial fix for test case `tests/run-make/rustdoc-verify-output-files`,\nit's failing on MacOS, the `-u` option specifies the unified context format, while the `-q` option specifies only brief output. These two options are incompatible, since the unified context format produces a more detailed output than the brief output format.", "tree": {"sha": "9ef563c35be1774305910eed54ea95e54d9f5711", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9ef563c35be1774305910eed54ea95e54d9f5711"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d146211c64de2e2baed7b0347a1f35c278713e31", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkOF7rCRBK7hj4Ov3rIwAAD0QIABbQUANryiq8IY3iNv3iKuza\nKoGPsLD5Zz8EyujIh+0cc46WcB/ijJN5rwiJ13dPjHlHg2kzbgnUE90TlWwKH+Sb\nOOgVdNntXWleRWxjv1tXWm3Nkrn/S/bqoqGKqjOjPwkmCJ4FxqgrvulvLBbC+QnJ\nBr/Pci1aVY5WBBdzl9pU7qyq/plXyusBgbS3KiO82etkx74TDIExOY4r5DrriZPA\nmhe6suIrB0W6l+kY7BUmF+MObxkzfD7cVW6yEjDhQ4db3nZy4gHOD1/9iSuN6KjG\nFBseOwGsJWWBhJrePxz/ZnyEjLaiuJGyKDlsyvfyRl8pTqOWRDnDungH6QmlQ6s=\n=U2ka\n-----END PGP SIGNATURE-----\n", "payload": "tree 9ef563c35be1774305910eed54ea95e54d9f5711\nparent e4dae0dac76436ada630b519f5fbf0b373bc5974\nparent 2c66c8f9c623b03bc0d11d214936a51f28effaff\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1681415915 +0200\ncommitter GitHub <noreply@github.com> 1681415915 +0200\n\nRollup merge of #109036 - chenyukang:yukang/fix-testcase, r=jyn514\n\nFix diff option conflict in UI test\n\nTrivial fix for test case `tests/run-make/rustdoc-verify-output-files`,\nit's failing on MacOS, the `-u` option specifies the unified context format, while the `-q` option specifies only brief output. These two options are incompatible, since the unified context format produces a more detailed output than the brief output format.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d146211c64de2e2baed7b0347a1f35c278713e31", "html_url": "https://github.com/rust-lang/rust/commit/d146211c64de2e2baed7b0347a1f35c278713e31", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d146211c64de2e2baed7b0347a1f35c278713e31/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e4dae0dac76436ada630b519f5fbf0b373bc5974", "url": "https://api.github.com/repos/rust-lang/rust/commits/e4dae0dac76436ada630b519f5fbf0b373bc5974", "html_url": "https://github.com/rust-lang/rust/commit/e4dae0dac76436ada630b519f5fbf0b373bc5974"}, {"sha": "2c66c8f9c623b03bc0d11d214936a51f28effaff", "url": "https://api.github.com/repos/rust-lang/rust/commits/2c66c8f9c623b03bc0d11d214936a51f28effaff", "html_url": "https://github.com/rust-lang/rust/commit/2c66c8f9c623b03bc0d11d214936a51f28effaff"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "76f233ab445d00dd0184e98ed740a59c47b88af8", "filename": "tests/run-make/rustdoc-verify-output-files/Makefile", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d146211c64de2e2baed7b0347a1f35c278713e31/tests%2Frun-make%2Frustdoc-verify-output-files%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/d146211c64de2e2baed7b0347a1f35c278713e31/tests%2Frun-make%2Frustdoc-verify-output-files%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make%2Frustdoc-verify-output-files%2FMakefile?ref=d146211c64de2e2baed7b0347a1f35c278713e31", "patch": "@@ -14,7 +14,7 @@ all:\n \t$(RUSTDOC) src/lib.rs --crate-name foobar --crate-type lib --out-dir $(OUTPUT_DIR)\n \n \t# Check if everything exactly same\n-\t$(DIFF) -r -q $(OUTPUT_DIR) $(TMP_OUTPUT_DIR)\n+\t$(DIFF) -r $(OUTPUT_DIR) $(TMP_OUTPUT_DIR)\n \n \t# Generate json doc on the same output\n \t$(RUSTDOC) src/lib.rs --crate-name foobar --crate-type lib --out-dir $(OUTPUT_DIR) -Z unstable-options --output-format json\n@@ -29,4 +29,4 @@ all:\n \t$(RUSTDOC) src/lib.rs --crate-name foobar --crate-type lib --out-dir $(OUTPUT_DIR) -Z unstable-options --output-format json\n \n \t# Check if all docs(including both json and html formats) are still the same after multiple compilations\n-\t$(DIFF) -r -q $(OUTPUT_DIR) $(TMP_OUTPUT_DIR)\n+\t$(DIFF) -r $(OUTPUT_DIR) $(TMP_OUTPUT_DIR)"}]}