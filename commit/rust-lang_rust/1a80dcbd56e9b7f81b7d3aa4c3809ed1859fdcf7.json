{"sha": "1a80dcbd56e9b7f81b7d3aa4c3809ed1859fdcf7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhODBkY2JkNTZlOWI3ZjgxYjdkM2FhNGMzODA5ZWQxODU5ZmRjZjc=", "commit": {"author": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2014-08-02T02:55:15Z"}, "committer": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2014-08-02T02:58:01Z"}, "message": "Use cargo new.\n\nNow that this feature exists, we should use it.\n\nFixes #16078", "tree": {"sha": "f765ed8f30180ec3662e150f660016695a3da39f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f765ed8f30180ec3662e150f660016695a3da39f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1a80dcbd56e9b7f81b7d3aa4c3809ed1859fdcf7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1a80dcbd56e9b7f81b7d3aa4c3809ed1859fdcf7", "html_url": "https://github.com/rust-lang/rust/commit/1a80dcbd56e9b7f81b7d3aa4c3809ed1859fdcf7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1a80dcbd56e9b7f81b7d3aa4c3809ed1859fdcf7/comments", "author": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "committer": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d7cfc34a222c0280670690be0d618b67014cc28d", "url": "https://api.github.com/repos/rust-lang/rust/commits/d7cfc34a222c0280670690be0d618b67014cc28d", "html_url": "https://github.com/rust-lang/rust/commit/d7cfc34a222c0280670690be0d618b67014cc28d"}], "stats": {"total": 71, "additions": 18, "deletions": 53}, "files": [{"sha": "c0dca1e0d0a4b56c2cf698e2312b5411a7304290", "filename": "src/doc/guide.md", "status": "modified", "additions": 18, "deletions": 53, "changes": 71, "blob_url": "https://github.com/rust-lang/rust/blob/1a80dcbd56e9b7f81b7d3aa4c3809ed1859fdcf7/src%2Fdoc%2Fguide.md", "raw_url": "https://github.com/rust-lang/rust/raw/1a80dcbd56e9b7f81b7d3aa4c3809ed1859fdcf7/src%2Fdoc%2Fguide.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fguide.md?ref=1a80dcbd56e9b7f81b7d3aa4c3809ed1859fdcf7", "patch": "@@ -316,7 +316,7 @@ Put this inside:\n \n name = \"hello_world\"\n version = \"0.1.0\"\n-authors = [ \"someone@example.com\" ]\n+authors = [ \"Your name <you@example.com>\" ]\n \n [[bin]]\n \n@@ -1594,41 +1594,45 @@ taken to the screen. Sound good?\n \n ## Set up\n \n-Let's set up a new project. Go to your projects directory, and make a new\n-directory for the project, as well as a `src` directory for our code:\n+Let's set up a new project. Go to your projects directory. Remember how we\n+had to create our directory structure and a `Cargo.toml` for `hello_world`? Cargo\n+has a command that does that for us. Let's give it a shot:\n \n ```{bash}\n $ cd ~/projects\n-$ mkdir guessing_game\n+$ cargo new guessing_game --bin\n $ cd guessing_game\n-$ mkdir src\n ```\n \n-Great. Next, let's make a `Cargo.toml` file so Cargo knows how to build our\n-project:\n+We pass the name of our project to `cargo new`, and then the `--bin` flag,\n+since we're making a binary, rather than a library.\n+\n+Check out the generated `Cargo.toml`:\n \n ```{ignore}\n [package]\n \n name = \"guessing_game\"\n version = \"0.1.0\"\n-authors = [ \"someone@example.com\" ]\n+authors = [\"Your Name <you@example.com>\"]\n \n [[bin]]\n \n name = \"guessing_game\"\n ```\n \n-Finally, we need our source file. Let's just make it hello world for now, so we\n-can check that our setup works. In `src/guessing_game.rs`:\n+Cargo gets this information from your environment. If it's not correct, go ahead\n+and fix that.\n+\n+Finally, Cargo generated a hello, world for us. Check out `src/main.rs`:\n \n ```{rust}\n fn main() {\n     println!(\"Hello world!\");\n }\n ```\n \n-Let's make sure that worked:\n+Let's try compiling what Cargo gave us:\n \n ```{bash}\n $ cargo build\n@@ -1883,7 +1887,6 @@ fn cmp(a: int, b: int) -> Ordering {\n If we try to compile, we'll get some errors:\n \n ```{notrust,ignore}\n-$ cargo build\n $ cargo build\n    Compiling guessing_game v0.1.0 (file:/home/you/projects/guessing_game)\n src/guessing_game.rs:20:15: 20:20 error: mismatched types: expected `int` but found `collections::string::String` (expected int but found struct collections::string::String)\n@@ -2486,27 +2489,7 @@ Enough talk, let's build something! Let's make a new project called `modules`.\n \n ```{bash,ignore}\n $ cd ~/projects\n-$ mkdir modules\n-$ cd modules\n-$ mkdir src\n-```\n-\n-We need to make our two 'hello world' files. In `src/main.rs`:\n-\n-```{rust}\n-fn main() {\n-    println!(\"Hello, world!\");\n-}\n-```\n-\n-And in `Cargo.toml`:\n-\n-```{notrust,ignore}\n-[package]\n-\n-name = \"modules\"\n-version = \"0.1.0\"\n-authors = [ \"someone@example.com\" ]\n+$ cargo new modules --bin\n ```\n \n Let's double check our work by compiling:\n@@ -2924,34 +2907,16 @@ now: make a new project:\n \n ```{bash,ignore}\n $ cd ~/projects\n-$ mkdir testing\n+$ cargo new testing --bin\n $ cd testing\n-$ mkdir test\n-```\n-\n-In `src/main.rs`:\n-\n-```{rust}\n-fn main() {\n-    println!(\"Hello, world!\");\n-}\n-```\n-\n-And in `Cargo.toml`:\n-\n-```{notrust,ignore}\n-[package]\n-\n-name = \"testing\"\n-version = \"0.1.0\"\n-authors = [ \"someone@example.com\" ]\n ```\n \n And try it out:\n \n ```{notrust,ignore}\n $ cargo run\n    Compiling testing v0.1.0 (file:/home/you/projects/testing)\n+     Running `target/testing`\n Hello, world!\n $\n ```"}]}