{"sha": "a50f502766a508e18ead740d5ec1b6df42beb394", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE1MGY1MDI3NjZhNTA4ZTE4ZWFkNzQwZDVlYzFiNmRmNDJiZWIzOTQ=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-04-23T18:44:11Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-04-23T18:44:11Z"}, "message": "Rollup merge of #84433 - GuillaumeGomez:search-input-blur, r=jsha\n\nPrevent control, shift and alt keys to make search input lose focus\n\nPart of #84384.\n\nr? ````@jsha````", "tree": {"sha": "c59d5d67aaa8db1b8c3f4b34c8a789cab04a32ec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c59d5d67aaa8db1b8c3f4b34c8a789cab04a32ec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a50f502766a508e18ead740d5ec1b6df42beb394", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJggxV8CRBK7hj4Ov3rIwAA9JoIAChStX8oNZP+78EQYYMu1JfJ\nB5ys8z94jEwz9RCveiVdmKX0DX774btfU35Jbkyd5fsiOhkflztZ0H9e8TL0y/Mj\nR96iE+VD37YVQZMXY+2pX/cg9OY/x66yj3iGRtWjcemWx7gGSkFLqtkaAF/St0ea\njeZK2RT2MjxZuWMGAA4lAXBRqFqCvf4ItihoBCGavN1yQbrV7xrDPURq7i3gDzI3\nUgLAFkKbDNCz5S45WOXSOgrWiomwlTFqvNbZusBYH5nCUKRmDj1SLUTx2LWK8M/f\nG131CGI2ij939SW3yvc9A1MKnHBXbpBXylThe50k5eiVaAMMUIfnYi/TLH3PaMo=\n=uyX1\n-----END PGP SIGNATURE-----\n", "payload": "tree c59d5d67aaa8db1b8c3f4b34c8a789cab04a32ec\nparent a050a49ca30ed63c9e039aff7046003a819cef4a\nparent a03cba38f1aac7685f91957e9eaa00ab9962019d\nauthor Yuki Okushi <jtitor@2k36.org> 1619203451 +0900\ncommitter GitHub <noreply@github.com> 1619203451 +0900\n\nRollup merge of #84433 - GuillaumeGomez:search-input-blur, r=jsha\n\nPrevent control, shift and alt keys to make search input lose focus\n\nPart of #84384.\n\nr? ````@jsha````\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a50f502766a508e18ead740d5ec1b6df42beb394", "html_url": "https://github.com/rust-lang/rust/commit/a50f502766a508e18ead740d5ec1b6df42beb394", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a50f502766a508e18ead740d5ec1b6df42beb394/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a050a49ca30ed63c9e039aff7046003a819cef4a", "url": "https://api.github.com/repos/rust-lang/rust/commits/a050a49ca30ed63c9e039aff7046003a819cef4a", "html_url": "https://github.com/rust-lang/rust/commit/a050a49ca30ed63c9e039aff7046003a819cef4a"}, {"sha": "a03cba38f1aac7685f91957e9eaa00ab9962019d", "url": "https://api.github.com/repos/rust-lang/rust/commits/a03cba38f1aac7685f91957e9eaa00ab9962019d", "html_url": "https://github.com/rust-lang/rust/commit/a03cba38f1aac7685f91957e9eaa00ab9962019d"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "9fab435de49c8b8c8739cbf7d3ec37224e7ab411", "filename": "src/librustdoc/html/static/search.js", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a50f502766a508e18ead740d5ec1b6df42beb394/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsearch.js", "raw_url": "https://github.com/rust-lang/rust/raw/a50f502766a508e18ead740d5ec1b6df42beb394/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsearch.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsearch.js?ref=a50f502766a508e18ead740d5ec1b6df42beb394", "patch": "@@ -935,6 +935,9 @@ window.initSearch = function(rawSearchIndex) {\n                 });\n                 current += 1;\n             });\n+            var SHIFT = 16;\n+            var CTRL = 17;\n+            var ALT = 18;\n \n             var currentTab = searchState.currentTab;\n             if (e.which === 38) { // up\n@@ -967,10 +970,10 @@ window.initSearch = function(rawSearchIndex) {\n                 e.preventDefault();\n             } else if (e.which === 13) { // return\n                 if (actives[currentTab].length) {\n-                    document.location.href =\n-                        actives[currentTab][0].getElementsByTagName(\"a\")[0].href;\n+                    var elem = actives[currentTab][0].getElementsByTagName(\"a\")[0];\n+                    document.location.href = elem.href;\n                 }\n-            } else if (e.which === 16) { // shift\n+            } else if ([SHIFT, CTRL, ALT].indexOf(e.which) !== -1) {\n                 // Does nothing, it's just to avoid losing \"focus\" on the highlighted element.\n             } else if (actives[currentTab].length > 0) {\n                 removeClass(actives[currentTab][0], \"highlighted\");"}]}