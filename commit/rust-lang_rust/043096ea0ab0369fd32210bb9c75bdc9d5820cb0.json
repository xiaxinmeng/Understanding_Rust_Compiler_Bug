{"sha": "043096ea0ab0369fd32210bb9c75bdc9d5820cb0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA0MzA5NmVhMGFiMDM2OWZkMzIyMTBiYjljNzViZGM5ZDU4MjBjYjA=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-07-12T20:58:48Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-07-12T21:28:11Z"}, "message": "stdlib: Remove exterior vectors from termivec", "tree": {"sha": "ccaad925aa1abfea47b13b0b5f48810ca36a4764", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ccaad925aa1abfea47b13b0b5f48810ca36a4764"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/043096ea0ab0369fd32210bb9c75bdc9d5820cb0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/043096ea0ab0369fd32210bb9c75bdc9d5820cb0", "html_url": "https://github.com/rust-lang/rust/commit/043096ea0ab0369fd32210bb9c75bdc9d5820cb0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/043096ea0ab0369fd32210bb9c75bdc9d5820cb0/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f7a1006a07b396ed239c08d3576597dad103e064", "url": "https://api.github.com/repos/rust-lang/rust/commits/f7a1006a07b396ed239c08d3576597dad103e064", "html_url": "https://github.com/rust-lang/rust/commit/f7a1006a07b396ed239c08d3576597dad103e064"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "9810f78673759b3f77890ab5add485a0301b80c1", "filename": "src/lib/termivec.rs", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/043096ea0ab0369fd32210bb9c75bdc9d5820cb0/src%2Flib%2Ftermivec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/043096ea0ab0369fd32210bb9c75bdc9d5820cb0/src%2Flib%2Ftermivec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Ftermivec.rs?ref=043096ea0ab0369fd32210bb9c75bdc9d5820cb0", "patch": "@@ -48,10 +48,15 @@ fn reset(ioivec::buf_writer writer) {\n }\n \n fn color_supported() -> bool {\n-    auto supported_terms = [\"xterm-color\", \"xterm\", \"screen-bce\"];\n+    auto supported_terms = ~[\"xterm-color\", \"xterm\", \"screen-bce\"];\n     ret alt (generic_os::getenv(\"TERM\")) {\n-            case (option::some(?env)) { vec::member(env, supported_terms) }\n-            case (option::none) { false }\n+          case (option::some(?env)) {\n+            for (str term in supported_terms) {\n+                if (str::eq(term, env)) { true }\n+            }\n+            false\n+          }\n+          case (option::none) { false }\n         };\n }\n "}]}