{"sha": "b595e259b59454ac7450626d2a0b5840179daacd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI1OTVlMjU5YjU5NDU0YWM3NDUwNjI2ZDJhMGI1ODQwMTc5ZGFhY2Q=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-10-01T07:19:46Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-10-01T07:19:46Z"}, "message": "Merge pull request #462 from RalfJung/needs-drop\n\nremove needs_drop impl", "tree": {"sha": "5500be8527ff849fdd6f6675ee9c19e83dd8701e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5500be8527ff849fdd6f6675ee9c19e83dd8701e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b595e259b59454ac7450626d2a0b5840179daacd", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbscqSCRBK7hj4Ov3rIwAAdHIIAEg073TSnZkmJ3CmIh/qm7PQ\n78j91srOwaoJhY50PiT8JflKlnakUcFTOZiNVhrJoOQdry/AXavc1ckU60H+bEgh\nVgs+lWtiwVQqk8ny2apBYoSMB3HvpCPl69rWtcCO/MArSaKylLsVgKhH2CH8hjGQ\nUpBKIOh7AK0Bj+gdEcxfwM7MTPRFMH17POLS3vV84LDuFo7HOq+Tn/N8OmLZpSBV\nQxNR7ZOtWNEgjZB6v7b/58meJi5D/WRpCLhXKbQ7+XIAKsCElIVfBhtHk7mKHNeZ\ne5x8DrYNIsI6vT3qY9MNLWy4aX189PJey+GD1vBmM9/ySHLr1G2QmrCkHCxulj4=\n=e7TT\n-----END PGP SIGNATURE-----\n", "payload": "tree 5500be8527ff849fdd6f6675ee9c19e83dd8701e\nparent 110c98ba162d4baba8118e1e2522512797309982\nparent eaff451d5e8e489ec34b161022d4b82360362465\nauthor Ralf Jung <post@ralfj.de> 1538378386 +0200\ncommitter GitHub <noreply@github.com> 1538378386 +0200\n\nMerge pull request #462 from RalfJung/needs-drop\n\nremove needs_drop impl"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b595e259b59454ac7450626d2a0b5840179daacd", "html_url": "https://github.com/rust-lang/rust/commit/b595e259b59454ac7450626d2a0b5840179daacd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b595e259b59454ac7450626d2a0b5840179daacd/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "110c98ba162d4baba8118e1e2522512797309982", "url": "https://api.github.com/repos/rust-lang/rust/commits/110c98ba162d4baba8118e1e2522512797309982", "html_url": "https://github.com/rust-lang/rust/commit/110c98ba162d4baba8118e1e2522512797309982"}, {"sha": "eaff451d5e8e489ec34b161022d4b82360362465", "url": "https://api.github.com/repos/rust-lang/rust/commits/eaff451d5e8e489ec34b161022d4b82360362465", "html_url": "https://github.com/rust-lang/rust/commit/eaff451d5e8e489ec34b161022d4b82360362465"}], "stats": {"total": 22, "additions": 6, "deletions": 16}, "files": [{"sha": "414b407e92fe8645f22fc381d20767d59747f208", "filename": ".travis.yml", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b595e259b59454ac7450626d2a0b5840179daacd/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/b595e259b59454ac7450626d2a0b5840179daacd/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=b595e259b59454ac7450626d2a0b5840179daacd", "patch": "@@ -38,7 +38,10 @@ script:\n   xargo/build.sh &&\n   export MIRI_SYSROOT=~/.xargo/HOST\n - |\n-  # Test `cargo miri`\n+  # run all tests with full mir\n+  cargo test --release --all-features\n+- |\n+  # test `cargo miri`\n   cd cargo-miri-test &&\n   if [[ \"$TRAVIS_OS_NAME\" == \"osx\" ]]; then\n     cargo miri -q -- -Zmiri-start-fn\n@@ -50,12 +53,9 @@ script:\n     diff -u stdout.ref stdout.real &&\n     diff -u stderr.ref stderr.real\n   fi &&\n-  # Test `cargo miri test`\n+  # test `cargo miri test`\n   cargo miri test &&\n   cd ..\n-- |\n-  # and run all tests with full mir\n-  cargo test --release --all-features\n \n notifications:\n   email:"}, {"sha": "c062614a6f936b1cf2254e0929e5db5d6fbabaed", "filename": "rust-toolchain", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b595e259b59454ac7450626d2a0b5840179daacd/rust-toolchain", "raw_url": "https://github.com/rust-lang/rust/raw/b595e259b59454ac7450626d2a0b5840179daacd/rust-toolchain", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rust-toolchain?ref=b595e259b59454ac7450626d2a0b5840179daacd", "patch": "@@ -1 +1 @@\n-nightly-2018-09-29\n+nightly-2018-10-01"}, {"sha": "53462488b6f730ca17f152e990caf93e08672888", "filename": "src/intrinsic.rs", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b595e259b59454ac7450626d2a0b5840179daacd/src%2Fintrinsic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b595e259b59454ac7450626d2a0b5840179daacd/src%2Fintrinsic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fintrinsic.rs?ref=b595e259b59454ac7450626d2a0b5840179daacd", "patch": "@@ -272,16 +272,6 @@ impl<'a, 'mir, 'tcx> EvalContextExt<'tcx> for EvalContext<'a, 'mir, 'tcx, super:\n                 self.copy_op(args[1], ptr.into())?;\n             }\n \n-            \"needs_drop\" => {\n-                let ty = substs.type_at(0);\n-                let env = ty::ParamEnv::reveal_all();\n-                let needs_drop = ty.needs_drop(self.tcx.tcx, env);\n-                self.write_scalar(\n-                    Scalar::from_bool(needs_drop),\n-                    dest,\n-                )?;\n-            }\n-\n             \"offset\" => {\n                 let offset = self.read_scalar(args[1])?.to_isize(&self)?;\n                 let ptr = self.read_scalar(args[0])?.not_undef()?;"}]}