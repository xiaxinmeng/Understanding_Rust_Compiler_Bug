{"sha": "ab784b7de522c358e682e00c3a01d44d32c56943", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFiNzg0YjdkZTUyMmMzNThlNjgyZTAwYzNhMDFkNDRkMzJjNTY5NDM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-02-22T00:42:35Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-02-22T00:42:35Z"}, "message": "auto merge of #5059 : Kimundi/rust/incoming, r=catamorphism\n\ncompiles-as-is, but needs a snapshot to remove the `stage0`ed extfmt export in core.\r\n\r\nCloses #4750", "tree": {"sha": "5660d31622f4e2583184cb6e7d68d0a97971d3a0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5660d31622f4e2583184cb6e7d68d0a97971d3a0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ab784b7de522c358e682e00c3a01d44d32c56943", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ab784b7de522c358e682e00c3a01d44d32c56943", "html_url": "https://github.com/rust-lang/rust/commit/ab784b7de522c358e682e00c3a01d44d32c56943", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ab784b7de522c358e682e00c3a01d44d32c56943/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e0767bf24f7a526430472290825ebd9158cb1dcc", "url": "https://api.github.com/repos/rust-lang/rust/commits/e0767bf24f7a526430472290825ebd9158cb1dcc", "html_url": "https://github.com/rust-lang/rust/commit/e0767bf24f7a526430472290825ebd9158cb1dcc"}, {"sha": "3792eb2a3847f7891a7d3a1941aa7833626baa5c", "url": "https://api.github.com/repos/rust-lang/rust/commits/3792eb2a3847f7891a7d3a1941aa7833626baa5c", "html_url": "https://github.com/rust-lang/rust/commit/3792eb2a3847f7891a7d3a1941aa7833626baa5c"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "eab66bc0e3776c433eb79f733d10061b72d5d927", "filename": "src/libcore/core.rc", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ab784b7de522c358e682e00c3a01d44d32c56943/src%2Flibcore%2Fcore.rc", "raw_url": "https://github.com/rust-lang/rust/raw/ab784b7de522c358e682e00c3a01d44d32c56943/src%2Flibcore%2Fcore.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcore.rc?ref=ab784b7de522c358e682e00c3a01d44d32c56943", "patch": "@@ -225,6 +225,8 @@ pub const debug : u32 = 4_u32;\n // The runtime interface used by the compiler\n #[cfg(notest)] pub mod rt;\n // The runtime and compiler interface to fmt!\n+#[cfg(stage0)]\n+#[path = \"private/extfmt.rs\"]\n pub mod extfmt;\n // Private APIs\n pub mod private;"}, {"sha": "1b2bfef5ecd453d44b27d8ea0edce0e109e35953", "filename": "src/libcore/prelude.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ab784b7de522c358e682e00c3a01d44d32c56943/src%2Flibcore%2Fprelude.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab784b7de522c358e682e00c3a01d44d32c56943/src%2Flibcore%2Fprelude.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fprelude.rs?ref=ab784b7de522c358e682e00c3a01d44d32c56943", "patch": "@@ -52,7 +52,6 @@ pub use char;\n pub use cmp;\n pub use dvec;\n pub use either;\n-pub use extfmt;\n pub use f32;\n pub use f64;\n pub use float;"}, {"sha": "a2656a9f73b945051051a7ab754a6f9c50a068ca", "filename": "src/libcore/private.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ab784b7de522c358e682e00c3a01d44d32c56943/src%2Flibcore%2Fprivate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab784b7de522c358e682e00c3a01d44d32c56943/src%2Flibcore%2Fprivate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fprivate.rs?ref=ab784b7de522c358e682e00c3a01d44d32c56943", "patch": "@@ -34,6 +34,8 @@ pub mod weak_task;\n pub mod exchange_alloc;\n #[path = \"private/intrinsics.rs\"]\n pub mod intrinsics;\n+#[path = \"private/extfmt.rs\"]\n+pub mod extfmt;\n \n extern mod rustrt {\n     pub unsafe fn rust_create_little_lock() -> rust_little_lock;"}, {"sha": "36ea67ea6954e8ace732c3a65022a9bb9807b093", "filename": "src/libcore/private/extfmt.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ab784b7de522c358e682e00c3a01d44d32c56943/src%2Flibcore%2Fprivate%2Fextfmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab784b7de522c358e682e00c3a01d44d32c56943/src%2Flibcore%2Fprivate%2Fextfmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fprivate%2Fextfmt.rs?ref=ab784b7de522c358e682e00c3a01d44d32c56943", "previous_filename": "src/libcore/extfmt.rs"}, {"sha": "937bcef5c253b891404f814704386f9ae12b5ac8", "filename": "src/libsyntax/ext/fmt.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ab784b7de522c358e682e00c3a01d44d32c56943/src%2Flibsyntax%2Fext%2Ffmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab784b7de522c358e682e00c3a01d44d32c56943/src%2Flibsyntax%2Fext%2Ffmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Ffmt.rs?ref=ab784b7de522c358e682e00c3a01d44d32c56943", "patch": "@@ -23,7 +23,7 @@ use codemap::span;\n use ext::base::*;\n use ext::base;\n use ext::build::*;\n-use extfmt::ct::*;\n+use private::extfmt::ct::*;\n \n pub fn expand_syntax_ext(cx: ext_ctxt, sp: span, tts: ~[ast::token_tree])\n     -> base::MacResult {\n@@ -56,8 +56,8 @@ fn pieces_to_expr(cx: ext_ctxt, sp: span,\n    -> @ast::expr {\n     fn make_path_vec(cx: ext_ctxt, ident: @~str) -> ~[ast::ident] {\n         let intr = cx.parse_sess().interner;\n-        return ~[intr.intern(@~\"extfmt\"), intr.intern(@~\"rt\"),\n-                 intr.intern(ident)];\n+        return ~[intr.intern(@~\"private\"), intr.intern(@~\"extfmt\"),\n+                 intr.intern(@~\"rt\"), intr.intern(ident)];\n     }\n     fn make_rt_path_expr(cx: ext_ctxt, sp: span, nm: @~str) -> @ast::expr {\n         let path = make_path_vec(cx, nm);"}]}