{"sha": "66c27c9161b2aa70c2902807be12952bd4a0a62b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY2YzI3YzkxNjFiMmFhNzBjMjkwMjgwN2JlMTI5NTJiZDRhMGE2MmI=", "commit": {"author": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2019-07-16T10:36:23Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-07-16T10:36:23Z"}, "message": "Add #[ignore] to test that runs external process (#3690)", "tree": {"sha": "ac682e4a15eb6353bc9b778fe93f70aca28391de", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ac682e4a15eb6353bc9b778fe93f70aca28391de"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/66c27c9161b2aa70c2902807be12952bd4a0a62b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdLainCRBK7hj4Ov3rIwAAdHIIAGPNq8MJv0BStq9C05ANTiSk\nW564ASaP367SPzqx/ZIKFm5JzzNNcVlb5tWfAyFemg618F8IHfOazVGX/a3rYHFa\n2b9Zjg5R1Hn8f4qk6Cq1MFfOZybVdhgHsQokZjNrBEuTFWFs+iqbLyvvxIYpwHv0\n1nt41bsexAK8lg7FXqzeaG45Ei8Sekem6apxOZNT4aybaJV0gtARG8YKY8nbbJ3t\nvdnjp5avQgLAEt+l+8VeXVE0x9I3nCvzLkNpWQ9p3ia4isGF8Ky2g5KF5fFY9zkr\no+LHl9JE721I9IvL338eiPHu9ANciQqSLtmcwE7+0Sdz1nBfa9q5qQZZYcvok/Y=\n=xwN/\n-----END PGP SIGNATURE-----\n", "payload": "tree ac682e4a15eb6353bc9b778fe93f70aca28391de\nparent 640b8d0257613bee58f6fdb81356a6167a399737\nauthor Seiichi Uchida <seuchida@gmail.com> 1563273383 +0900\ncommitter GitHub <noreply@github.com> 1563273383 +0900\n\nAdd #[ignore] to test that runs external process (#3690)\n\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/66c27c9161b2aa70c2902807be12952bd4a0a62b", "html_url": "https://github.com/rust-lang/rust/commit/66c27c9161b2aa70c2902807be12952bd4a0a62b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/66c27c9161b2aa70c2902807be12952bd4a0a62b/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "640b8d0257613bee58f6fdb81356a6167a399737", "url": "https://api.github.com/repos/rust-lang/rust/commits/640b8d0257613bee58f6fdb81356a6167a399737", "html_url": "https://github.com/rust-lang/rust/commit/640b8d0257613bee58f6fdb81356a6167a399737"}], "stats": {"total": 34, "additions": 20, "deletions": 14}, "files": [{"sha": "966b7d7bac47e8e323f431308ff5214d09b85e09", "filename": ".travis.yml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/66c27c9161b2aa70c2902807be12952bd4a0a62b/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/66c27c9161b2aa70c2902807be12952bd4a0a62b/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=66c27c9161b2aa70c2902807be12952bd4a0a62b", "patch": "@@ -49,6 +49,7 @@ script:\n     if [ -z ${INTEGRATION} ]; then\n       cargo build\n       cargo test\n+      cargo test -- --ignored\n     else\n       ./ci/integration.sh\n     fi"}, {"sha": "1d3b06152a9ad2d7f2610f4941acaa4e0fb7e2ff", "filename": "appveyor.yml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/66c27c9161b2aa70c2902807be12952bd4a0a62b/appveyor.yml", "raw_url": "https://github.com/rust-lang/rust/raw/66c27c9161b2aa70c2902807be12952bd4a0a62b/appveyor.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/appveyor.yml?ref=66c27c9161b2aa70c2902807be12952bd4a0a62b", "patch": "@@ -50,3 +50,4 @@ build: false\n test_script:\r\n   - cargo build --verbose\r\n   - cargo test\r\n+  - cargo test -- --ignored\r"}, {"sha": "c7acf19ee0cea6e42bb41891bb371a394b829b23", "filename": "src/chains.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/66c27c9161b2aa70c2902807be12952bd4a0a62b/src%2Fchains.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66c27c9161b2aa70c2902807be12952bd4a0a62b/src%2Fchains.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fchains.rs?ref=66c27c9161b2aa70c2902807be12952bd4a0a62b", "patch": "@@ -16,7 +16,7 @@\n //! following values of `chain_indent`:\n //! Block:\n //!\n-//! ```ignore\n+//! ```text\n //! let foo = {\n //!     aaaa;\n //!     bbb;\n@@ -27,7 +27,7 @@\n //!\n //! Visual:\n //!\n-//! ```ignore\n+//! ```text\n //! let foo = {\n //!               aaaa;\n //!               bbb;\n@@ -41,15 +41,15 @@\n //! the braces.\n //! Block:\n //!\n-//! ```ignore\n+//! ```text\n //! let a = foo.bar\n //!     .baz()\n //!     .qux\n //! ```\n //!\n //! Visual:\n //!\n-//! ```ignore\n+//! ```text\n //! let a = foo.bar\n //!            .baz()\n //!            .qux\n@@ -454,7 +454,7 @@ trait ChainFormatter {\n     // Parent is the first item in the chain, e.g., `foo` in `foo.bar.baz()`.\n     // Root is the parent plus any other chain items placed on the first line to\n     // avoid an orphan. E.g.,\n-    // ```ignore\n+    // ```text\n     // foo.bar\n     //     .baz()\n     // ```\n@@ -516,7 +516,7 @@ impl<'a> ChainFormatterShared<'a> {\n     // know whether 'overflowing' the last child make a better formatting:\n     //\n     // A chain with overflowing the last child:\n-    // ```ignore\n+    // ```text\n     // parent.child1.child2.last_child(\n     //     a,\n     //     b,\n@@ -525,7 +525,7 @@ impl<'a> ChainFormatterShared<'a> {\n     // ```\n     //\n     // A chain without overflowing the last child (in vertical layout):\n-    // ```ignore\n+    // ```text\n     // parent\n     //     .child1\n     //     .child2\n@@ -534,7 +534,7 @@ impl<'a> ChainFormatterShared<'a> {\n     //\n     // In particular, overflowing is effective when the last child is a method with a multi-lined\n     // block-like argument (e.g., closure):\n-    // ```ignore\n+    // ```text\n     // parent.child1.child2.last_child(|a, b, c| {\n     //     let x = foo(a, b, c);\n     //     let y = bar(a, b, c);"}, {"sha": "121a1b1c151f4cc1d3f42531e3ed302d01cc7a0e", "filename": "src/config/license.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/66c27c9161b2aa70c2902807be12952bd4a0a62b/src%2Fconfig%2Flicense.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66c27c9161b2aa70c2902807be12952bd4a0a62b/src%2Fconfig%2Flicense.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fconfig%2Flicense.rs?ref=66c27c9161b2aa70c2902807be12952bd4a0a62b", "patch": "@@ -82,7 +82,7 @@ impl TemplateParser {\n     ///\n     /// # Examples\n     ///\n-    /// ```ignore\n+    /// ```text\n     /// assert_eq!(\n     ///     TemplateParser::parse(\n     ///         r\""}, {"sha": "c42010f77b2f4bb0d2b9830500757a2a8b038663", "filename": "src/macros.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/66c27c9161b2aa70c2902807be12952bd4a0a62b/src%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66c27c9161b2aa70c2902807be12952bd4a0a62b/src%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmacros.rs?ref=66c27c9161b2aa70c2902807be12952bd4a0a62b", "patch": "@@ -1417,7 +1417,7 @@ impl MacroBranch {\n ///\n /// # Expected syntax\n ///\n-/// ```ignore\n+/// ```text\n /// lazy_static! {\n ///     [pub] static ref NAME_1: TYPE_1 = EXPR_1;\n ///     [pub] static ref NAME_2: TYPE_2 = EXPR_2;"}, {"sha": "1a4941aa72ecc5aadb51baf7035749b14a817d3f", "filename": "src/utils.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/66c27c9161b2aa70c2902807be12952bd4a0a62b/src%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66c27c9161b2aa70c2902807be12952bd4a0a62b/src%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Futils.rs?ref=66c27c9161b2aa70c2902807be12952bd4a0a62b", "patch": "@@ -507,7 +507,7 @@ pub(crate) fn remove_trailing_white_spaces(text: &str) -> String {\n /// Indent each line according to the specified `indent`.\n /// e.g.\n ///\n-/// ```rust,ignore\n+/// ```rust,compile_fail\n /// foo!{\n /// x,\n /// y,\n@@ -521,7 +521,7 @@ pub(crate) fn remove_trailing_white_spaces(text: &str) -> String {\n ///\n /// will become\n ///\n-/// ```rust,ignore\n+/// ```rust,compile_fail\n /// foo!{\n ///     x,\n ///     y,"}, {"sha": "5493b09e4aa63a177f809837070a353e5ca2a13f", "filename": "tests/cargo-fmt/main.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/66c27c9161b2aa70c2902807be12952bd4a0a62b/tests%2Fcargo-fmt%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66c27c9161b2aa70c2902807be12952bd4a0a62b/tests%2Fcargo-fmt%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcargo-fmt%2Fmain.rs?ref=66c27c9161b2aa70c2902807be12952bd4a0a62b", "patch": "@@ -46,6 +46,7 @@ macro_rules! assert_that {\n     };\n }\n \n+#[ignore]\n #[test]\n fn version() {\n     assert_that!(&[\"--version\"], starts_with(\"rustfmt \"));\n@@ -54,6 +55,7 @@ fn version() {\n     assert_that!(&[\"--\", \"--version\"], starts_with(\"rustfmt \"));\n }\n \n+#[ignore]\n #[test]\n fn print_config() {\n     assert_that!(\n@@ -62,6 +64,7 @@ fn print_config() {\n     );\n }\n \n+#[ignore]\n #[test]\n fn rustfmt_help() {\n     assert_that!(&[\"--\", \"--help\"], contains(\"Format Rust code\"));"}, {"sha": "18ef9b609634fa6be46be8ee8f75ff0b20ba9483", "filename": "tests/rustfmt/main.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/66c27c9161b2aa70c2902807be12952bd4a0a62b/tests%2Frustfmt%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66c27c9161b2aa70c2902807be12952bd4a0a62b/tests%2Frustfmt%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustfmt%2Fmain.rs?ref=66c27c9161b2aa70c2902807be12952bd4a0a62b", "patch": "@@ -48,6 +48,7 @@ macro_rules! assert_that {\n     };\n }\n \n+#[ignore]\n #[test]\n fn print_config() {\n     assert_that!("}, {"sha": "45e58473a4a86d69800f02010c4fb48fb04f24c1", "filename": "tests/source/issue-3055/original.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/66c27c9161b2aa70c2902807be12952bd4a0a62b/tests%2Fsource%2Fissue-3055%2Foriginal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66c27c9161b2aa70c2902807be12952bd4a0a62b/tests%2Fsource%2Fissue-3055%2Foriginal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fissue-3055%2Foriginal.rs?ref=66c27c9161b2aa70c2902807be12952bd4a0a62b", "patch": "@@ -17,7 +17,7 @@\n /// ```\n ///\n /// Should not format with ignore attribute\n-/// ```ignore\n+/// ```text\n ///           .--------------.\n ///           |              v\n /// Park <- Idle -> Poll -> Probe -> Download -> Install -> Reboot"}, {"sha": "2df6adbb5e2e5708e3e7b6855950e3ae578d0b64", "filename": "tests/target/issue-3055/original.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/66c27c9161b2aa70c2902807be12952bd4a0a62b/tests%2Ftarget%2Fissue-3055%2Foriginal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66c27c9161b2aa70c2902807be12952bd4a0a62b/tests%2Ftarget%2Fissue-3055%2Foriginal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fissue-3055%2Foriginal.rs?ref=66c27c9161b2aa70c2902807be12952bd4a0a62b", "patch": "@@ -18,7 +18,7 @@\n /// ```\n ///\n /// Should not format with ignore attribute\n-/// ```ignore\n+/// ```text\n ///           .--------------.\n ///           |              v\n /// Park <- Idle -> Poll -> Probe -> Download -> Install -> Reboot"}]}