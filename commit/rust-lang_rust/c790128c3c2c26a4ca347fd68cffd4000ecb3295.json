{"sha": "c790128c3c2c26a4ca347fd68cffd4000ecb3295", "node_id": "C_kwDOAAsO6NoAKGM3OTAxMjhjM2MyYzI2YTRjYTM0N2ZkNjhjZmZkNDAwMGVjYjMyOTU", "commit": {"author": {"name": "Jacob Hoffman-Andrews", "email": "github@hoffman-andrews.com", "date": "2022-01-28T13:21:34Z"}, "committer": {"name": "Jacob Hoffman-Andrews", "email": "github@hoffman-andrews.com", "date": "2022-01-31T09:46:10Z"}, "message": "Improve wrapping on settings page\n\nPreviously, the radio button choices for themes would wrap awkwardly on\nnarrow screens. With this change, the group of choices will prefer\nbumping down to the next line together, leaving the setting name on its\nown line.\n\nAlso fix some minor spacing issues:\n\n - Align the setting name vertically with the radio button choices.\n - Use margin instead of padding for most spacing choices.\n - Use no margin/padding on the right-hand side.", "tree": {"sha": "2a14604da16e74835eb500eab996fe87d56caf65", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2a14604da16e74835eb500eab996fe87d56caf65"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c790128c3c2c26a4ca347fd68cffd4000ecb3295", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c790128c3c2c26a4ca347fd68cffd4000ecb3295", "html_url": "https://github.com/rust-lang/rust/commit/c790128c3c2c26a4ca347fd68cffd4000ecb3295", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c790128c3c2c26a4ca347fd68cffd4000ecb3295/comments", "author": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e0e70c0c2c4fc8d150a56c181994e3a3b3e9999a", "url": "https://api.github.com/repos/rust-lang/rust/commits/e0e70c0c2c4fc8d150a56c181994e3a3b3e9999a", "html_url": "https://github.com/rust-lang/rust/commit/e0e70c0c2c4fc8d150a56c181994e3a3b3e9999a"}], "stats": {"total": 24, "additions": 16, "deletions": 8}, "files": [{"sha": "a512511cff3b0dab4ff8fe71a6d78c5c99b5c1a6", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c790128c3c2c26a4ca347fd68cffd4000ecb3295/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c790128c3c2c26a4ca347fd68cffd4000ecb3295/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=c790128c3c2c26a4ca347fd68cffd4000ecb3295", "patch": "@@ -376,7 +376,7 @@ impl Setting {\n                 description,\n             ),\n             Setting::Select { js_data_name, description, default_value, ref options } => format!(\n-                \"<div class=\\\"setting-line\\\"><div class=\\\"radio-line\\\" id=\\\"{}\\\"><span class=\\\"setting-name\\\">{}</span>{}</div></div>\",\n+                \"<div class=\\\"setting-line\\\"><div class=\\\"radio-line\\\" id=\\\"{}\\\"><span class=\\\"setting-name\\\">{}</span><div class=\\\"choices\\\">{}</div></div></div>\",\n                 js_data_name,\n                 description,\n                 options"}, {"sha": "7b337c2bc7a3356b4ba78835ba8305b8aded84c3", "filename": "src/librustdoc/html/static/css/settings.css", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/c790128c3c2c26a4ca347fd68cffd4000ecb3295/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css", "raw_url": "https://github.com/rust-lang/rust/raw/c790128c3c2c26a4ca347fd68cffd4000ecb3295/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css?ref=c790128c3c2c26a4ca347fd68cffd4000ecb3295", "patch": "@@ -1,5 +1,5 @@\n .setting-line {\n-\tpadding: 5px;\n+\tmargin: 0.6em 0 0.6em 0.3em;\n \tposition: relative;\n }\n \n@@ -17,17 +17,16 @@\n \tborder-bottom: 1px solid;\n }\n \n-.setting-line .radio-line {\n+.setting-line .radio-line,\n+.setting-line .choices {\n \tdisplay: flex;\n \tflex-wrap: wrap;\n }\n \n-.setting-line .radio-line > * {\n-\tpadding: 0.3em;\n-}\n-\n .setting-line .radio-line .setting-name {\n \tflex-grow: 1;\n+\tmargin-top: auto;\n+\tmargin-bottom: auto;\n }\n \n .setting-line .radio-line input {\n@@ -38,7 +37,10 @@\n \tborder-radius: 0.1em;\n \tborder: 1px solid;\n \tmargin-left: 0.5em;\n-\tmin-width: 3.5em;\n+\tmargin-top: 0.1em;\n+\tmargin-bottom: 0.1em;\n+\tmin-width: 3.8em;\n+\tpadding: 0.3em;\n }\n \n .toggle {"}, {"sha": "9edf662976d59ab3742cd29f78d937e67e9e09e3", "filename": "src/test/rustdoc-gui/mobile.goml", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c790128c3c2c26a4ca347fd68cffd4000ecb3295/src%2Ftest%2Frustdoc-gui%2Fmobile.goml", "raw_url": "https://github.com/rust-lang/rust/raw/c790128c3c2c26a4ca347fd68cffd4000ecb3295/src%2Ftest%2Frustdoc-gui%2Fmobile.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fmobile.goml?ref=c790128c3c2c26a4ca347fd68cffd4000ecb3295", "patch": "@@ -15,3 +15,9 @@ assert-css: (\".content .out-of-band .since::before\", { \"content\": \"\\\"Since \\\"\" }\n \n size: (1000, 1000)\n assert-css-false: (\".content .out-of-band .since::before\", { \"content\": \"\\\"Since \\\"\" })\n+\n+// On the settings page, the theme buttons should not line-wrap. Instead, they should\n+// all be placed as a group on a line below the setting name \"Theme.\"\n+goto: file://|DOC_PATH|/settings.html\n+size: (400, 600)\n+compare-elements-position-near-false: (\"#preferred-light-theme .setting-name\", \"#preferred-light-theme .choice\", {\"y\": 16})"}]}