{"sha": "239e41df311e5fe29138c8e0ffd8d4326e4a6be0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIzOWU0MWRmMzExZTVmZTI5MTM4YzhlMGZmZDhkNDMyNmU0YTZiZTA=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2021-02-25T21:06:17Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-02-25T21:06:17Z"}, "message": "Rollup merge of #82431 - Aaron1011:fix/bug-env, r=jyn514\n\nSet RUST_BACKTRACE=0 when running `treat-err-as-bug` tests\n\nThese ensure that these tests pass regardless of what RUST_BACKTRACE is\nset to in the user's shell.", "tree": {"sha": "92b65711d510ece54eda6b321d9a3b23f2d41bed", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/92b65711d510ece54eda6b321d9a3b23f2d41bed"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/239e41df311e5fe29138c8e0ffd8d4326e4a6be0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgOBFJCRBK7hj4Ov3rIwAAdHIIAAzS4NYjGlszZ9ZGFGpr9IgG\nayEd6MszL+Uo5dzXw9aB95/HG6Rg/+KPY8W1bP9nqsTkXSodlKAprgeLOCivYFXM\nP4W7O3sWgbrapBk1ccmVBG0G51Baew9ao05nluh+14VddJt+u07r5MvVctXyLT4P\nrwTFOKd2M00dlaoDxkBKXiy7xbC9x8WBI1sCreFi9dyD3S+83GzSuSzxExitRFRp\nat76bC511xFzwmG/nD6poAlLmQUeBngCPUjAGFQSWTJcXtOR7PPf13pC5sus6kdB\nARvs5ON/W4DSxB/g/elTI+lPr4yrzaUW4NkLnveNT0CiD23pBuEgABgUU/esKhI=\n=2lsm\n-----END PGP SIGNATURE-----\n", "payload": "tree 92b65711d510ece54eda6b321d9a3b23f2d41bed\nparent 8c0119da775280a55749b868fed573f2ea59b54f\nparent c9d86aae835aab2538ba0adaa876ba33e88032a0\nauthor Aaron Hill <aa1ronham@gmail.com> 1614287177 -0500\ncommitter GitHub <noreply@github.com> 1614287177 -0500\n\nRollup merge of #82431 - Aaron1011:fix/bug-env, r=jyn514\n\nSet RUST_BACKTRACE=0 when running `treat-err-as-bug` tests\n\nThese ensure that these tests pass regardless of what RUST_BACKTRACE is\nset to in the user's shell.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/239e41df311e5fe29138c8e0ffd8d4326e4a6be0", "html_url": "https://github.com/rust-lang/rust/commit/239e41df311e5fe29138c8e0ffd8d4326e4a6be0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/239e41df311e5fe29138c8e0ffd8d4326e4a6be0/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8c0119da775280a55749b868fed573f2ea59b54f", "url": "https://api.github.com/repos/rust-lang/rust/commits/8c0119da775280a55749b868fed573f2ea59b54f", "html_url": "https://github.com/rust-lang/rust/commit/8c0119da775280a55749b868fed573f2ea59b54f"}, {"sha": "c9d86aae835aab2538ba0adaa876ba33e88032a0", "url": "https://api.github.com/repos/rust-lang/rust/commits/c9d86aae835aab2538ba0adaa876ba33e88032a0", "html_url": "https://github.com/rust-lang/rust/commit/c9d86aae835aab2538ba0adaa876ba33e88032a0"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "d4d44049c9186d15e96a24f0063aef0e11a667a6", "filename": "src/test/ui/treat-err-as-bug/delay_span_bug.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/239e41df311e5fe29138c8e0ffd8d4326e4a6be0/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Fdelay_span_bug.rs", "raw_url": "https://github.com/rust-lang/rust/raw/239e41df311e5fe29138c8e0ffd8d4326e4a6be0/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Fdelay_span_bug.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Fdelay_span_bug.rs?ref=239e41df311e5fe29138c8e0ffd8d4326e4a6be0", "patch": "@@ -4,6 +4,7 @@\n // error-pattern: [trigger_delay_span_bug] trigger a delay span bug\n // normalize-stderr-test \"note: .*\\n\\n\" -> \"\"\n // normalize-stderr-test \"thread 'rustc' panicked.*\\n\" -> \"\"\n+// rustc-env:RUST_BACKTRACE=0\n \n #![feature(rustc_attrs)]\n "}, {"sha": "c23c2b81b9767904dec24a0ddbc5c7101c31cb45", "filename": "src/test/ui/treat-err-as-bug/delay_span_bug.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/239e41df311e5fe29138c8e0ffd8d4326e4a6be0/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Fdelay_span_bug.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/239e41df311e5fe29138c8e0ffd8d4326e4a6be0/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Fdelay_span_bug.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Fdelay_span_bug.stderr?ref=239e41df311e5fe29138c8e0ffd8d4326e4a6be0", "patch": "@@ -1,5 +1,5 @@\n error: internal compiler error: delayed span bug triggered by #[rustc_error(delay_span_bug_from_inside_query)]\n-  --> $DIR/delay_span_bug.rs:11:1\n+  --> $DIR/delay_span_bug.rs:12:1\n    |\n LL | fn main() {}\n    | ^^^^^^^^^"}, {"sha": "de3e9ed6cf910e5cda2d8c97bf10b83da0c0993e", "filename": "src/test/ui/treat-err-as-bug/err.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/239e41df311e5fe29138c8e0ffd8d4326e4a6be0/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Ferr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/239e41df311e5fe29138c8e0ffd8d4326e4a6be0/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Ferr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Ferr.rs?ref=239e41df311e5fe29138c8e0ffd8d4326e4a6be0", "patch": "@@ -4,6 +4,7 @@\n // error-pattern: [eval_to_allocation_raw] const-evaluating + checking `C`\n // normalize-stderr-test \"note: .*\\n\\n\" -> \"\"\n // normalize-stderr-test \"thread 'rustc' panicked.*\\n\" -> \"\"\n+// rustc-env:RUST_BACKTRACE=0\n \n #![crate_type = \"rlib\"]\n "}, {"sha": "8f67571c2990ea56a1c2494fd2331fb36cb5423f", "filename": "src/test/ui/treat-err-as-bug/err.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/239e41df311e5fe29138c8e0ffd8d4326e4a6be0/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Ferr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/239e41df311e5fe29138c8e0ffd8d4326e4a6be0/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Ferr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftreat-err-as-bug%2Ferr.stderr?ref=239e41df311e5fe29138c8e0ffd8d4326e4a6be0", "patch": "@@ -1,5 +1,5 @@\n error[E0080]: could not evaluate static initializer\n-  --> $DIR/err.rs:10:21\n+  --> $DIR/err.rs:11:21\n    |\n LL | pub static C: u32 = 0 - 1;\n    |                     ^^^^^ attempt to compute `0_u32 - 1_u32`, which would overflow"}]}