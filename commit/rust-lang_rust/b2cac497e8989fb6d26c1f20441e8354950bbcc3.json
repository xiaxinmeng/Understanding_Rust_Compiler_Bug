{"sha": "b2cac497e8989fb6d26c1f20441e8354950bbcc3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIyY2FjNDk3ZTg5ODlmYjZkMjZjMWYyMDQ0MWU4MzU0OTUwYmJjYzM=", "commit": {"author": {"name": "Adrien T\u00e9tar", "email": "adri-from-59@hotmail.fr", "date": "2014-01-17T18:38:48Z"}, "committer": {"name": "Adrien T\u00e9tar", "email": "adri-from-59@hotmail.fr", "date": "2014-01-17T18:38:51Z"}, "message": "doc: fix version stamp for TeX files\n\nThis fixes a regression introduced in\n3d57b240ab1fd038b3a41fe2042dc9a0544ea53e.", "tree": {"sha": "7dbaecb9c0558de19af697190a8e96a686581bcf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7dbaecb9c0558de19af697190a8e96a686581bcf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b2cac497e8989fb6d26c1f20441e8354950bbcc3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b2cac497e8989fb6d26c1f20441e8354950bbcc3", "html_url": "https://github.com/rust-lang/rust/commit/b2cac497e8989fb6d26c1f20441e8354950bbcc3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b2cac497e8989fb6d26c1f20441e8354950bbcc3/comments", "author": {"login": "adrientetar", "id": 1250894, "node_id": "MDQ6VXNlcjEyNTA4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1250894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrientetar", "html_url": "https://github.com/adrientetar", "followers_url": "https://api.github.com/users/adrientetar/followers", "following_url": "https://api.github.com/users/adrientetar/following{/other_user}", "gists_url": "https://api.github.com/users/adrientetar/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrientetar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrientetar/subscriptions", "organizations_url": "https://api.github.com/users/adrientetar/orgs", "repos_url": "https://api.github.com/users/adrientetar/repos", "events_url": "https://api.github.com/users/adrientetar/events{/privacy}", "received_events_url": "https://api.github.com/users/adrientetar/received_events", "type": "User", "site_admin": false}, "committer": {"login": "adrientetar", "id": 1250894, "node_id": "MDQ6VXNlcjEyNTA4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1250894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrientetar", "html_url": "https://github.com/adrientetar", "followers_url": "https://api.github.com/users/adrientetar/followers", "following_url": "https://api.github.com/users/adrientetar/following{/other_user}", "gists_url": "https://api.github.com/users/adrientetar/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrientetar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrientetar/subscriptions", "organizations_url": "https://api.github.com/users/adrientetar/orgs", "repos_url": "https://api.github.com/users/adrientetar/repos", "events_url": "https://api.github.com/users/adrientetar/events{/privacy}", "received_events_url": "https://api.github.com/users/adrientetar/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4098327b1fe1112ddf661b587be9eeec1d80adde", "url": "https://api.github.com/repos/rust-lang/rust/commits/4098327b1fe1112ddf661b587be9eeec1d80adde", "html_url": "https://github.com/rust-lang/rust/commit/4098327b1fe1112ddf661b587be9eeec1d80adde"}], "stats": {"total": 15, "additions": 8, "deletions": 7}, "files": [{"sha": "bacf39e1307db520f3346e37514a9c1421f06932", "filename": "mk/docs.mk", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/b2cac497e8989fb6d26c1f20441e8354950bbcc3/mk%2Fdocs.mk", "raw_url": "https://github.com/rust-lang/rust/raw/b2cac497e8989fb6d26c1f20441e8354950bbcc3/mk%2Fdocs.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdocs.mk?ref=b2cac497e8989fb6d26c1f20441e8354950bbcc3", "patch": "@@ -17,16 +17,16 @@ CDOCS :=\n DOCS_L10N :=\n HTML_DEPS :=\n \n-BASE_DOC_OPTS := --include-before-body=doc/version_info.html --standalone  \\\n-                                --toc --number-sections\n-HTML_OPTS = $(BASE_DOC_OPTS) \t--to=html5  --section-divs --css=rust.css  \\\n-\t\t\t\t\t\t\t\t--include-in-header=doc/favicon.inc\n-TEX_OPTS = $(BASE_DOC_OPTS) --to=latex\n+BASE_DOC_OPTS := --standalone --toc --number-sections\n+HTML_OPTS = $(BASE_DOC_OPTS) --to=html5 --section-divs --css=rust.css \\\n+    --include-before-body=doc/version_info.html --include-in-header=doc/favicon.inc\n+TEX_OPTS = $(BASE_DOC_OPTS) --include-before-body=doc/version.md --to=latex\n EPUB_OPTS = $(BASE_DOC_OPTS) --to=epub\n \n ######################################################################\n # Rust version\n ######################################################################\n+\n doc/version.md: $(MKFILE_DEPS) $(wildcard $(S)doc/*.*)\n \t@$(call E, version-stamp: $@)\n \t$(Q)echo \"$(CFG_VERSION)\" >$@\n@@ -84,7 +84,7 @@ doc/rust.tex: rust.md doc/version.md\n \t$(CFG_PANDOC) $(TEX_OPTS) --output=$@\n \n DOCS += doc/rust.epub\n-doc/rust.epub: rust.md doc/version_info.html doc/rust.css\n+doc/rust.epub: rust.md\n \t@$(call E, pandoc: $@)\n \t$(Q)$(CFG_NODE) $(S)doc/prep.js --highlight $< | \\\n \t$(CFG_PANDOC) $(EPUB_OPTS) --output=$@\n@@ -114,7 +114,7 @@ doc/tutorial.tex: tutorial.md doc/version.md\n \t$(CFG_PANDOC) $(TEX_OPTS) --output=$@\n \n DOCS += doc/tutorial.epub\n-doc/tutorial.epub: tutorial.md doc/version_info.html doc/rust.css\n+doc/tutorial.epub: tutorial.md\n \t@$(call E, pandoc: $@)\n \t$(Q)$(CFG_NODE) $(S)doc/prep.js --highlight $< | \\\n \t$(CFG_PANDOC) $(EPUB_OPTS) --output=$@\n@@ -265,6 +265,7 @@ endif # No pandoc / node\n ######################################################################\n # LLnextgen (grammar analysis from refman)\n ######################################################################\n+\n ifeq ($(CFG_LLNEXTGEN),)\n   $(info cfg: no llnextgen found, omitting grammar-verification)\n else"}]}