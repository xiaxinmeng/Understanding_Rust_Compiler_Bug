{"sha": "a0997481133e02ec0034991e913d69b8b21bba64", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEwOTk3NDgxMTMzZTAyZWMwMDM0OTkxZTkxM2Q2OWI4YjIxYmJhNjQ=", "commit": {"author": {"name": "Yati Sagade", "email": "yati.sagade@gmail.com", "date": "2017-04-09T12:09:54Z"}, "committer": {"name": "Yati Sagade", "email": "yati.sagade@gmail.com", "date": "2017-04-09T12:09:54Z"}, "message": "utils: Add tests for the `align_blocks` helper in utils.", "tree": {"sha": "978b90a0e5834b84f57a7629ae47a7ed3c543618", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/978b90a0e5834b84f57a7629ae47a7ed3c543618"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a0997481133e02ec0034991e913d69b8b21bba64", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a0997481133e02ec0034991e913d69b8b21bba64", "html_url": "https://github.com/rust-lang/rust/commit/a0997481133e02ec0034991e913d69b8b21bba64", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a0997481133e02ec0034991e913d69b8b21bba64/comments", "author": {"login": "yati-sagade", "id": 966274, "node_id": "MDQ6VXNlcjk2NjI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/966274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yati-sagade", "html_url": "https://github.com/yati-sagade", "followers_url": "https://api.github.com/users/yati-sagade/followers", "following_url": "https://api.github.com/users/yati-sagade/following{/other_user}", "gists_url": "https://api.github.com/users/yati-sagade/gists{/gist_id}", "starred_url": "https://api.github.com/users/yati-sagade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yati-sagade/subscriptions", "organizations_url": "https://api.github.com/users/yati-sagade/orgs", "repos_url": "https://api.github.com/users/yati-sagade/repos", "events_url": "https://api.github.com/users/yati-sagade/events{/privacy}", "received_events_url": "https://api.github.com/users/yati-sagade/received_events", "type": "User", "site_admin": false}, "committer": {"login": "yati-sagade", "id": 966274, "node_id": "MDQ6VXNlcjk2NjI3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/966274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yati-sagade", "html_url": "https://github.com/yati-sagade", "followers_url": "https://api.github.com/users/yati-sagade/followers", "following_url": "https://api.github.com/users/yati-sagade/following{/other_user}", "gists_url": "https://api.github.com/users/yati-sagade/gists{/gist_id}", "starred_url": "https://api.github.com/users/yati-sagade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yati-sagade/subscriptions", "organizations_url": "https://api.github.com/users/yati-sagade/orgs", "repos_url": "https://api.github.com/users/yati-sagade/repos", "events_url": "https://api.github.com/users/yati-sagade/events{/privacy}", "received_events_url": "https://api.github.com/users/yati-sagade/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8ea6d6a8d285d8a09885ebb535051346bf22cd79", "url": "https://api.github.com/repos/rust-lang/rust/commits/8ea6d6a8d285d8a09885ebb535051346bf22cd79", "html_url": "https://github.com/rust-lang/rust/commit/8ea6d6a8d285d8a09885ebb535051346bf22cd79"}], "stats": {"total": 74, "additions": 74, "deletions": 0}, "files": [{"sha": "f6a80036b3513455d990877f1cef147a78e1c2cf", "filename": "tests/test_align_snippets.rs", "status": "added", "additions": 74, "deletions": 0, "changes": 74, "blob_url": "https://github.com/rust-lang/rust/blob/a0997481133e02ec0034991e913d69b8b21bba64/tests%2Ftest_align_snippets.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a0997481133e02ec0034991e913d69b8b21bba64/tests%2Ftest_align_snippets.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftest_align_snippets.rs?ref=a0997481133e02ec0034991e913d69b8b21bba64", "patch": "@@ -0,0 +1,74 @@\n+extern crate clippy_lints;\n+\n+use clippy_lints::utils::align_snippets;\n+\n+#[test]\n+fn test_align_snippets_single_line() {\n+    assert_eq!(\"\", align_snippets(&[\"\"]));\n+    assert_eq!(\"...\", align_snippets(&[\"...\"]));\n+}\n+\n+#[test]\n+#[cfg_attr(rustfmt, rustfmt_skip)]\n+fn test_align_snippets_multiline() {\n+    let expected = \"\\\n+if condition() {\n+    do_something();\n+    do_another_thing();\n+    yet_another_thing();\n+    {\n+        and_then_an_indented_block();\n+    }\n+        and_then_something_the_user_indented();\"; // expected\n+\n+    let input = &[\n+\"\\\n+if condition() {\n+    do_something();\",\n+\"       do_another_thing();\",\n+\"            yet_another_thing();\n+            {\n+                and_then_an_indented_block();\n+            }\n+                and_then_something_the_user_indented();\",\n+    ]; // input\n+\n+    let got = align_snippets(input);\n+    assert_eq!(expected, got);\n+\n+}\n+\n+#[test]\n+#[cfg_attr(rustfmt, rustfmt_skip)]\n+fn test_align_snippets_multiline_with_empty_lines() {\n+    let expected = \"\\\n+if condition() {\n+    do_something();\n+    do_another_thing();\n+    yet_another_thing();\n+    {\n+\n+        and_then_an_indented_block();\n+    }\n+\n+        and_then_something_the_user_indented();\"; // expected\n+\n+    let input = &[\n+\"\\\n+if condition() {\n+    do_something();\",\n+\"       do_another_thing();\",\n+\"            yet_another_thing();\n+            {\n+\n+                and_then_an_indented_block();\n+            }\n+\n+                and_then_something_the_user_indented();\",\n+    ]; // input\n+\n+    let got = align_snippets(input);\n+    println!(\"Input: {}\\nExpected: {}\\nGot: {}\", input.join(\"\\n\"), &expected, &got);\n+    assert_eq!(expected, got);\n+}\n+"}]}