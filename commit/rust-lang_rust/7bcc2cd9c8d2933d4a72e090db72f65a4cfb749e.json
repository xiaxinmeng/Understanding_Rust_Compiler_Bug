{"sha": "7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiY2MyY2Q5YzhkMjkzM2Q0YTcyZTA5MGRiNzJmNjVhNGNmYjc0OWU=", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2018-12-10T05:27:19Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2018-12-10T07:22:07Z"}, "message": "update test stderr", "tree": {"sha": "a026514424a9da71ca1c89a748a3fefc27380623", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a026514424a9da71ca1c89a748a3fefc27380623"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "html_url": "https://github.com/rust-lang/rust/commit/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "435299be3062c67dc3c61b36c5e30bbfa876ee1e", "url": "https://api.github.com/repos/rust-lang/rust/commits/435299be3062c67dc3c61b36c5e30bbfa876ee1e", "html_url": "https://github.com/rust-lang/rust/commit/435299be3062c67dc3c61b36c5e30bbfa876ee1e"}], "stats": {"total": 10112, "additions": 5203, "deletions": 4909}, "files": [{"sha": "dfc5ad99e0c1509d9b4d1d831e2f5cf8139d6f84", "filename": "ci/base-tests.sh", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/ci%2Fbase-tests.sh", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/ci%2Fbase-tests.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ci%2Fbase-tests.sh?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -28,6 +28,9 @@ cd clippy_dev && cargo test && cd ..\n ./util/dev update_lints --check\n cargo +nightly fmt --all -- --check\n \n+\n+#avoid loop spam\n+set +ex\n # make sure tests are formatted\n \n # some lints are sensitive to formatting, exclude some files\n@@ -36,7 +39,9 @@ for file in `find tests -not -path \"tests/ui/methods.rs\" -not -path \"tests/ui/fo\n rustfmt ${file} --check  || echo \"${file} needs reformatting!\" ; needs_formatting=true\n done\n \n-if $needs_reformatting\n-    \"Tests need reformatting!\"\n+if [ \"${needs_reformatting}\" = true] ; then\n+    echo \"Tests need reformatting!\"\n     exit 2\n fi\n+\n+set -ex"}, {"sha": "e67cdd8f9dd567c41e0d8121103bd690d9c0f65f", "filename": "tests/ui-toml/toml_blacklist/conf_french_blacklisted_name.stderr", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui-toml%2Ftoml_blacklist%2Fconf_french_blacklisted_name.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui-toml%2Ftoml_blacklist%2Fconf_french_blacklisted_name.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Ftoml_blacklist%2Fconf_french_blacklisted_name.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,45 +1,45 @@\n error: use of a blacklisted/placeholder name `toto`\n-  --> $DIR/conf_french_blacklisted_name.rs:19:9\n+  --> $DIR/conf_french_blacklisted_name.rs:15:9\n    |\n-19 | fn test(toto: ()) {}\n+15 | fn test(toto: ()) {}\n    |         ^^^^\n    |\n    = note: `-D clippy::blacklisted-name` implied by `-D warnings`\n \n error: use of a blacklisted/placeholder name `toto`\n-  --> $DIR/conf_french_blacklisted_name.rs:22:9\n+  --> $DIR/conf_french_blacklisted_name.rs:18:9\n    |\n-22 |     let toto = 42;\n+18 |     let toto = 42;\n    |         ^^^^\n \n error: use of a blacklisted/placeholder name `tata`\n-  --> $DIR/conf_french_blacklisted_name.rs:23:9\n+  --> $DIR/conf_french_blacklisted_name.rs:19:9\n    |\n-23 |     let tata = 42;\n+19 |     let tata = 42;\n    |         ^^^^\n \n error: use of a blacklisted/placeholder name `titi`\n-  --> $DIR/conf_french_blacklisted_name.rs:24:9\n+  --> $DIR/conf_french_blacklisted_name.rs:20:9\n    |\n-24 |     let titi = 42;\n+20 |     let titi = 42;\n    |         ^^^^\n \n error: use of a blacklisted/placeholder name `toto`\n-  --> $DIR/conf_french_blacklisted_name.rs:30:10\n+  --> $DIR/conf_french_blacklisted_name.rs:26:10\n    |\n-30 |         (toto, Some(tata), titi @ Some(_)) => (),\n+26 |         (toto, Some(tata), titi @ Some(_)) => (),\n    |          ^^^^\n \n error: use of a blacklisted/placeholder name `tata`\n-  --> $DIR/conf_french_blacklisted_name.rs:30:21\n+  --> $DIR/conf_french_blacklisted_name.rs:26:21\n    |\n-30 |         (toto, Some(tata), titi @ Some(_)) => (),\n+26 |         (toto, Some(tata), titi @ Some(_)) => (),\n    |                     ^^^^\n \n error: use of a blacklisted/placeholder name `titi`\n-  --> $DIR/conf_french_blacklisted_name.rs:30:28\n+  --> $DIR/conf_french_blacklisted_name.rs:26:28\n    |\n-30 |         (toto, Some(tata), titi @ Some(_)) => (),\n+26 |         (toto, Some(tata), titi @ Some(_)) => (),\n    |                            ^^^^\n \n error: aborting due to 7 previous errors"}, {"sha": "efa9223bde81b02efd32eb42ef48209a4403b07d", "filename": "tests/ui-toml/toml_trivially_copy/test.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui-toml%2Ftoml_trivially_copy%2Ftest.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui-toml%2Ftoml_trivially_copy%2Ftest.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Ftoml_trivially_copy%2Ftest.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/test.rs:23:11\n+  --> $DIR/test.rs:20:11\n    |\n-23 | fn bad(x: &u16, y: &Foo) {\n+20 | fn bad(x: &u16, y: &Foo) {}\n    |           ^^^^ help: consider passing by value instead: `u16`\n    |\n    = note: `-D clippy::trivially-copy-pass-by-ref` implied by `-D warnings`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/test.rs:23:20\n+  --> $DIR/test.rs:20:20\n    |\n-23 | fn bad(x: &u16, y: &Foo) {\n+20 | fn bad(x: &u16, y: &Foo) {}\n    |                    ^^^^ help: consider passing by value instead: `Foo`\n \n error: aborting due to 2 previous errors"}, {"sha": "00f7086dc5516894507485d8278c3b4ee676ecaf", "filename": "tests/ui/absurd-extreme-comparisons.stderr", "status": "modified", "additions": 36, "deletions": 36, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fabsurd-extreme-comparisons.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fabsurd-extreme-comparisons.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fabsurd-extreme-comparisons.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,144 +1,144 @@\n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:17:5\n+  --> $DIR/absurd-extreme-comparisons.rs:23:5\n    |\n-17 |     u <= 0;\n+23 |     u <= 0;\n    |     ^^^^^^\n    |\n    = note: `-D clippy::absurd-extreme-comparisons` implied by `-D warnings`\n    = help: because 0 is the minimum value for this type, the case where the two sides are not equal never occurs, consider using u == 0 instead\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:18:5\n+  --> $DIR/absurd-extreme-comparisons.rs:24:5\n    |\n-18 |     u <= Z;\n+24 |     u <= Z;\n    |     ^^^^^^\n    |\n    = help: because Z is the minimum value for this type, the case where the two sides are not equal never occurs, consider using u == Z instead\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:19:5\n+  --> $DIR/absurd-extreme-comparisons.rs:25:5\n    |\n-19 |     u < Z;\n+25 |     u < Z;\n    |     ^^^^^\n    |\n    = help: because Z is the minimum value for this type, this comparison is always false\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:20:5\n+  --> $DIR/absurd-extreme-comparisons.rs:26:5\n    |\n-20 |     Z >= u;\n+26 |     Z >= u;\n    |     ^^^^^^\n    |\n    = help: because Z is the minimum value for this type, the case where the two sides are not equal never occurs, consider using Z == u instead\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:21:5\n+  --> $DIR/absurd-extreme-comparisons.rs:27:5\n    |\n-21 |     Z > u;\n+27 |     Z > u;\n    |     ^^^^^\n    |\n    = help: because Z is the minimum value for this type, this comparison is always false\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:22:5\n+  --> $DIR/absurd-extreme-comparisons.rs:28:5\n    |\n-22 |     u > std::u32::MAX;\n+28 |     u > std::u32::MAX;\n    |     ^^^^^^^^^^^^^^^^^\n    |\n    = help: because std::u32::MAX is the maximum value for this type, this comparison is always false\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:23:5\n+  --> $DIR/absurd-extreme-comparisons.rs:29:5\n    |\n-23 |     u >= std::u32::MAX;\n+29 |     u >= std::u32::MAX;\n    |     ^^^^^^^^^^^^^^^^^^\n    |\n    = help: because std::u32::MAX is the maximum value for this type, the case where the two sides are not equal never occurs, consider using u == std::u32::MAX instead\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:24:5\n+  --> $DIR/absurd-extreme-comparisons.rs:30:5\n    |\n-24 |     std::u32::MAX < u;\n+30 |     std::u32::MAX < u;\n    |     ^^^^^^^^^^^^^^^^^\n    |\n    = help: because std::u32::MAX is the maximum value for this type, this comparison is always false\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:25:5\n+  --> $DIR/absurd-extreme-comparisons.rs:31:5\n    |\n-25 |     std::u32::MAX <= u;\n+31 |     std::u32::MAX <= u;\n    |     ^^^^^^^^^^^^^^^^^^\n    |\n    = help: because std::u32::MAX is the maximum value for this type, the case where the two sides are not equal never occurs, consider using std::u32::MAX == u instead\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:26:5\n+  --> $DIR/absurd-extreme-comparisons.rs:32:5\n    |\n-26 |     1-1 > u;\n+32 |     1-1 > u;\n    |     ^^^^^^^\n    |\n    = help: because 1-1 is the minimum value for this type, this comparison is always false\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:27:5\n+  --> $DIR/absurd-extreme-comparisons.rs:33:5\n    |\n-27 |     u >= !0;\n+33 |     u >= !0;\n    |     ^^^^^^^\n    |\n    = help: because !0 is the maximum value for this type, the case where the two sides are not equal never occurs, consider using u == !0 instead\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:28:5\n+  --> $DIR/absurd-extreme-comparisons.rs:34:5\n    |\n-28 |     u <= 12 - 2*6;\n+34 |     u <= 12 - 2*6;\n    |     ^^^^^^^^^^^^^\n    |\n    = help: because 12 - 2*6 is the minimum value for this type, the case where the two sides are not equal never occurs, consider using u == 12 - 2*6 instead\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:30:5\n+  --> $DIR/absurd-extreme-comparisons.rs:36:5\n    |\n-30 |     i < -127 - 1;\n+36 |     i < -127 - 1;\n    |     ^^^^^^^^^^^^\n    |\n    = help: because -127 - 1 is the minimum value for this type, this comparison is always false\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:31:5\n+  --> $DIR/absurd-extreme-comparisons.rs:37:5\n    |\n-31 |     std::i8::MAX >= i;\n+37 |     std::i8::MAX >= i;\n    |     ^^^^^^^^^^^^^^^^^\n    |\n    = help: because std::i8::MAX is the maximum value for this type, this comparison is always true\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:32:5\n+  --> $DIR/absurd-extreme-comparisons.rs:38:5\n    |\n-32 |     3-7 < std::i32::MIN;\n+38 |     3-7 < std::i32::MIN;\n    |     ^^^^^^^^^^^^^^^^^^^\n    |\n    = help: because std::i32::MIN is the minimum value for this type, this comparison is always false\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:34:5\n+  --> $DIR/absurd-extreme-comparisons.rs:40:5\n    |\n-34 |     b >= true;\n+40 |     b >= true;\n    |     ^^^^^^^^^\n    |\n    = help: because true is the maximum value for this type, the case where the two sides are not equal never occurs, consider using b == true instead\n \n error: this comparison involving the minimum or maximum element for this type contains a case that is always true or always false\n-  --> $DIR/absurd-extreme-comparisons.rs:35:5\n+  --> $DIR/absurd-extreme-comparisons.rs:41:5\n    |\n-35 |     false > b;\n+41 |     false > b;\n    |     ^^^^^^^^^\n    |\n    = help: because false is the minimum value for this type, this comparison is always false\n \n error: <-comparison of unit values detected. This will always be false\n-  --> $DIR/absurd-extreme-comparisons.rs:38:5\n+  --> $DIR/absurd-extreme-comparisons.rs:44:5\n    |\n-38 |     () < {};\n+44 |     () < {};\n    |     ^^^^^^^\n    |\n    = note: #[deny(clippy::unit_cmp)] on by default"}, {"sha": "cee7fe6919a3f9a42a52c15f75213bed9cdea8f4", "filename": "tests/ui/approx_const.stderr", "status": "modified", "additions": 38, "deletions": 38, "changes": 76, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fapprox_const.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fapprox_const.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fapprox_const.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,117 +1,117 @@\n error: approximate value of `f{32, 64}::consts::E` found. Consider using it directly\n-  --> $DIR/approx_const.rs:17:16\n+  --> $DIR/approx_const.rs:13:16\n    |\n-17 |     let my_e = 2.7182;\n+13 |     let my_e = 2.7182;\n    |                ^^^^^^\n    |\n    = note: `-D clippy::approx-constant` implied by `-D warnings`\n \n error: approximate value of `f{32, 64}::consts::E` found. Consider using it directly\n-  --> $DIR/approx_const.rs:18:20\n+  --> $DIR/approx_const.rs:14:20\n    |\n-18 |     let almost_e = 2.718;\n+14 |     let almost_e = 2.718;\n    |                    ^^^^^\n \n error: approximate value of `f{32, 64}::consts::FRAC_1_PI` found. Consider using it directly\n-  --> $DIR/approx_const.rs:21:24\n+  --> $DIR/approx_const.rs:17:24\n    |\n-21 |     let my_1_frac_pi = 0.3183;\n+17 |     let my_1_frac_pi = 0.3183;\n    |                        ^^^^^^\n \n error: approximate value of `f{32, 64}::consts::FRAC_1_SQRT_2` found. Consider using it directly\n-  --> $DIR/approx_const.rs:24:28\n+  --> $DIR/approx_const.rs:20:28\n    |\n-24 |     let my_frac_1_sqrt_2 = 0.70710678;\n+20 |     let my_frac_1_sqrt_2 = 0.70710678;\n    |                            ^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::FRAC_1_SQRT_2` found. Consider using it directly\n-  --> $DIR/approx_const.rs:25:32\n+  --> $DIR/approx_const.rs:21:32\n    |\n-25 |     let almost_frac_1_sqrt_2 = 0.70711;\n+21 |     let almost_frac_1_sqrt_2 = 0.70711;\n    |                                ^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::FRAC_2_PI` found. Consider using it directly\n-  --> $DIR/approx_const.rs:28:24\n+  --> $DIR/approx_const.rs:24:24\n    |\n-28 |     let my_frac_2_pi = 0.63661977;\n+24 |     let my_frac_2_pi = 0.63661977;\n    |                        ^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::FRAC_2_SQRT_PI` found. Consider using it directly\n-  --> $DIR/approx_const.rs:31:27\n+  --> $DIR/approx_const.rs:27:27\n    |\n-31 |     let my_frac_2_sq_pi = 1.128379;\n+27 |     let my_frac_2_sq_pi = 1.128379;\n    |                           ^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::FRAC_PI_2` found. Consider using it directly\n-  --> $DIR/approx_const.rs:34:24\n+  --> $DIR/approx_const.rs:30:24\n    |\n-34 |     let my_frac_pi_2 = 1.57079632679;\n+30 |     let my_frac_pi_2 = 1.57079632679;\n    |                        ^^^^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::FRAC_PI_3` found. Consider using it directly\n-  --> $DIR/approx_const.rs:37:24\n+  --> $DIR/approx_const.rs:33:24\n    |\n-37 |     let my_frac_pi_3 = 1.04719755119;\n+33 |     let my_frac_pi_3 = 1.04719755119;\n    |                        ^^^^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::FRAC_PI_4` found. Consider using it directly\n-  --> $DIR/approx_const.rs:40:24\n+  --> $DIR/approx_const.rs:36:24\n    |\n-40 |     let my_frac_pi_4 = 0.785398163397;\n+36 |     let my_frac_pi_4 = 0.785398163397;\n    |                        ^^^^^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::FRAC_PI_6` found. Consider using it directly\n-  --> $DIR/approx_const.rs:43:24\n+  --> $DIR/approx_const.rs:39:24\n    |\n-43 |     let my_frac_pi_6 = 0.523598775598;\n+39 |     let my_frac_pi_6 = 0.523598775598;\n    |                        ^^^^^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::FRAC_PI_8` found. Consider using it directly\n-  --> $DIR/approx_const.rs:46:24\n+  --> $DIR/approx_const.rs:42:24\n    |\n-46 |     let my_frac_pi_8 = 0.3926990816987;\n+42 |     let my_frac_pi_8 = 0.3926990816987;\n    |                        ^^^^^^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::LN_10` found. Consider using it directly\n-  --> $DIR/approx_const.rs:49:20\n+  --> $DIR/approx_const.rs:45:20\n    |\n-49 |     let my_ln_10 = 2.302585092994046;\n+45 |     let my_ln_10 = 2.302585092994046;\n    |                    ^^^^^^^^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::LN_2` found. Consider using it directly\n-  --> $DIR/approx_const.rs:52:19\n+  --> $DIR/approx_const.rs:48:19\n    |\n-52 |     let my_ln_2 = 0.6931471805599453;\n+48 |     let my_ln_2 = 0.6931471805599453;\n    |                   ^^^^^^^^^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::LOG10_E` found. Consider using it directly\n-  --> $DIR/approx_const.rs:55:22\n+  --> $DIR/approx_const.rs:51:22\n    |\n-55 |     let my_log10_e = 0.4342944819032518;\n+51 |     let my_log10_e = 0.4342944819032518;\n    |                      ^^^^^^^^^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::LOG2_E` found. Consider using it directly\n-  --> $DIR/approx_const.rs:58:21\n+  --> $DIR/approx_const.rs:54:21\n    |\n-58 |     let my_log2_e = 1.4426950408889634;\n+54 |     let my_log2_e = 1.4426950408889634;\n    |                     ^^^^^^^^^^^^^^^^^^\n \n error: approximate value of `f{32, 64}::consts::PI` found. Consider using it directly\n-  --> $DIR/approx_const.rs:61:17\n+  --> $DIR/approx_const.rs:57:17\n    |\n-61 |     let my_pi = 3.1415;\n+57 |     let my_pi = 3.1415;\n    |                 ^^^^^^\n \n error: approximate value of `f{32, 64}::consts::PI` found. Consider using it directly\n-  --> $DIR/approx_const.rs:62:21\n+  --> $DIR/approx_const.rs:58:21\n    |\n-62 |     let almost_pi = 3.14;\n+58 |     let almost_pi = 3.14;\n    |                     ^^^^\n \n error: approximate value of `f{32, 64}::consts::SQRT_2` found. Consider using it directly\n-  --> $DIR/approx_const.rs:65:18\n+  --> $DIR/approx_const.rs:61:18\n    |\n-65 |     let my_sq2 = 1.4142;\n+61 |     let my_sq2 = 1.4142;\n    |                  ^^^^^^\n \n error: aborting due to 19 previous errors"}, {"sha": "1dff9941bb2d0b7d0683528d88d803a3046c51c3", "filename": "tests/ui/arithmetic.stderr", "status": "modified", "additions": 23, "deletions": 23, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Farithmetic.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Farithmetic.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Farithmetic.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,72 +1,72 @@\n error: integer arithmetic detected\n-  --> $DIR/arithmetic.rs:17:5\n+  --> $DIR/arithmetic.rs:22:5\n    |\n-17 |     1 + i;\n+22 |     1 + i;\n    |     ^^^^^\n    |\n    = note: `-D clippy::integer-arithmetic` implied by `-D warnings`\n \n error: integer arithmetic detected\n-  --> $DIR/arithmetic.rs:18:5\n+  --> $DIR/arithmetic.rs:23:5\n    |\n-18 |     i * 2;\n+23 |     i * 2;\n    |     ^^^^^\n \n error: integer arithmetic detected\n-  --> $DIR/arithmetic.rs:19:5\n+  --> $DIR/arithmetic.rs:24:5\n    |\n-19 | /     1 %\n-20 | |     i / 2; // no error, this is part of the expression in the preceding line\n+24 | /     1 %\n+25 | |     i / 2; // no error, this is part of the expression in the preceding line\n    | |_________^\n \n error: integer arithmetic detected\n-  --> $DIR/arithmetic.rs:21:5\n+  --> $DIR/arithmetic.rs:26:5\n    |\n-21 |     i - 2 + 2 - i;\n+26 |     i - 2 + 2 - i;\n    |     ^^^^^^^^^^^^^\n \n error: integer arithmetic detected\n-  --> $DIR/arithmetic.rs:22:5\n+  --> $DIR/arithmetic.rs:27:5\n    |\n-22 |     -i;\n+27 |     -i;\n    |     ^^\n \n error: floating-point arithmetic detected\n-  --> $DIR/arithmetic.rs:32:5\n+  --> $DIR/arithmetic.rs:37:5\n    |\n-32 |     f * 2.0;\n+37 |     f * 2.0;\n    |     ^^^^^^^\n    |\n    = note: `-D clippy::float-arithmetic` implied by `-D warnings`\n \n error: floating-point arithmetic detected\n-  --> $DIR/arithmetic.rs:34:5\n+  --> $DIR/arithmetic.rs:39:5\n    |\n-34 |     1.0 + f;\n+39 |     1.0 + f;\n    |     ^^^^^^^\n \n error: floating-point arithmetic detected\n-  --> $DIR/arithmetic.rs:35:5\n+  --> $DIR/arithmetic.rs:40:5\n    |\n-35 |     f * 2.0;\n+40 |     f * 2.0;\n    |     ^^^^^^^\n \n error: floating-point arithmetic detected\n-  --> $DIR/arithmetic.rs:36:5\n+  --> $DIR/arithmetic.rs:41:5\n    |\n-36 |     f / 2.0;\n+41 |     f / 2.0;\n    |     ^^^^^^^\n \n error: floating-point arithmetic detected\n-  --> $DIR/arithmetic.rs:37:5\n+  --> $DIR/arithmetic.rs:42:5\n    |\n-37 |     f - 2.0 * 4.2;\n+42 |     f - 2.0 * 4.2;\n    |     ^^^^^^^^^^^^^\n \n error: floating-point arithmetic detected\n-  --> $DIR/arithmetic.rs:38:5\n+  --> $DIR/arithmetic.rs:43:5\n    |\n-38 |     -f;\n+43 |     -f;\n    |     ^^\n \n error: aborting due to 11 previous errors"}, {"sha": "7acbdc899846b0065d1c1e2c7baa4d3bd2927019", "filename": "tests/ui/assign_ops.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fassign_ops.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fassign_ops.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fassign_ops.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,57 +1,57 @@\n error: manual implementation of an assign operation\n-  --> $DIR/assign_ops.rs:17:5\n+  --> $DIR/assign_ops.rs:14:5\n    |\n-17 |     a = a + 1;\n+14 |     a = a + 1;\n    |     ^^^^^^^^^ help: replace it with: `a += 1`\n    |\n    = note: `-D clippy::assign-op-pattern` implied by `-D warnings`\n \n error: manual implementation of an assign operation\n-  --> $DIR/assign_ops.rs:18:5\n+  --> $DIR/assign_ops.rs:15:5\n    |\n-18 |     a = 1 + a;\n+15 |     a = 1 + a;\n    |     ^^^^^^^^^ help: replace it with: `a += 1`\n \n error: manual implementation of an assign operation\n-  --> $DIR/assign_ops.rs:19:5\n+  --> $DIR/assign_ops.rs:16:5\n    |\n-19 |     a = a - 1;\n+16 |     a = a - 1;\n    |     ^^^^^^^^^ help: replace it with: `a -= 1`\n \n error: manual implementation of an assign operation\n-  --> $DIR/assign_ops.rs:20:5\n+  --> $DIR/assign_ops.rs:17:5\n    |\n-20 |     a = a * 99;\n+17 |     a = a * 99;\n    |     ^^^^^^^^^^ help: replace it with: `a *= 99`\n \n error: manual implementation of an assign operation\n-  --> $DIR/assign_ops.rs:21:5\n+  --> $DIR/assign_ops.rs:18:5\n    |\n-21 |     a = 42 * a;\n+18 |     a = 42 * a;\n    |     ^^^^^^^^^^ help: replace it with: `a *= 42`\n \n error: manual implementation of an assign operation\n-  --> $DIR/assign_ops.rs:22:5\n+  --> $DIR/assign_ops.rs:19:5\n    |\n-22 |     a = a / 2;\n+19 |     a = a / 2;\n    |     ^^^^^^^^^ help: replace it with: `a /= 2`\n \n error: manual implementation of an assign operation\n-  --> $DIR/assign_ops.rs:23:5\n+  --> $DIR/assign_ops.rs:20:5\n    |\n-23 |     a = a % 5;\n+20 |     a = a % 5;\n    |     ^^^^^^^^^ help: replace it with: `a %= 5`\n \n error: manual implementation of an assign operation\n-  --> $DIR/assign_ops.rs:24:5\n+  --> $DIR/assign_ops.rs:21:5\n    |\n-24 |     a = a & 1;\n+21 |     a = a & 1;\n    |     ^^^^^^^^^ help: replace it with: `a &= 1`\n \n error: manual implementation of an assign operation\n-  --> $DIR/assign_ops.rs:30:5\n+  --> $DIR/assign_ops.rs:27:5\n    |\n-30 |     s = s + \"bla\";\n+27 |     s = s + \"bla\";\n    |     ^^^^^^^^^^^^^ help: replace it with: `s += \"bla\"`\n \n error: aborting due to 9 previous errors"}, {"sha": "26ff079ad62ed7dedae55f9c6f7a7178d4361a73", "filename": "tests/ui/assign_ops2.stderr", "status": "modified", "additions": 38, "deletions": 38, "changes": 76, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fassign_ops2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fassign_ops2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fassign_ops2.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,135 +1,135 @@\n error: variable appears on both sides of an assignment operation\n-  --> $DIR/assign_ops2.rs:18:5\n+  --> $DIR/assign_ops2.rs:14:5\n    |\n-18 |     a += a + 1;\n+14 |     a += a + 1;\n    |     ^^^^^^^^^^\n    |\n    = note: `-D clippy::misrefactored-assign-op` implied by `-D warnings`\n help: Did you mean a = a + 1 or a = a + a + 1? Consider replacing it with\n    |\n-18 |     a += 1;\n+14 |     a += 1;\n    |     ^^^^^^\n help: or\n    |\n-18 |     a = a + a + 1;\n+14 |     a = a + a + 1;\n    |     ^^^^^^^^^^^^^\n \n error: variable appears on both sides of an assignment operation\n-  --> $DIR/assign_ops2.rs:19:5\n+  --> $DIR/assign_ops2.rs:15:5\n    |\n-19 |     a += 1 + a;\n+15 |     a += 1 + a;\n    |     ^^^^^^^^^^\n help: Did you mean a = a + 1 or a = a + 1 + a? Consider replacing it with\n    |\n-19 |     a += 1;\n+15 |     a += 1;\n    |     ^^^^^^\n help: or\n    |\n-19 |     a = a + 1 + a;\n+15 |     a = a + 1 + a;\n    |     ^^^^^^^^^^^^^\n \n error: variable appears on both sides of an assignment operation\n-  --> $DIR/assign_ops2.rs:20:5\n+  --> $DIR/assign_ops2.rs:16:5\n    |\n-20 |     a -= a - 1;\n+16 |     a -= a - 1;\n    |     ^^^^^^^^^^\n help: Did you mean a = a - 1 or a = a - (a - 1)? Consider replacing it with\n    |\n-20 |     a -= 1;\n+16 |     a -= 1;\n    |     ^^^^^^\n help: or\n    |\n-20 |     a = a - (a - 1);\n+16 |     a = a - (a - 1);\n    |     ^^^^^^^^^^^^^^^\n \n error: variable appears on both sides of an assignment operation\n-  --> $DIR/assign_ops2.rs:21:5\n+  --> $DIR/assign_ops2.rs:17:5\n    |\n-21 |     a *= a * 99;\n+17 |     a *= a * 99;\n    |     ^^^^^^^^^^^\n help: Did you mean a = a * 99 or a = a * a * 99? Consider replacing it with\n    |\n-21 |     a *= 99;\n+17 |     a *= 99;\n    |     ^^^^^^^\n help: or\n    |\n-21 |     a = a * a * 99;\n+17 |     a = a * a * 99;\n    |     ^^^^^^^^^^^^^^\n \n error: variable appears on both sides of an assignment operation\n-  --> $DIR/assign_ops2.rs:22:5\n+  --> $DIR/assign_ops2.rs:18:5\n    |\n-22 |     a *= 42 * a;\n+18 |     a *= 42 * a;\n    |     ^^^^^^^^^^^\n help: Did you mean a = a * 42 or a = a * 42 * a? Consider replacing it with\n    |\n-22 |     a *= 42;\n+18 |     a *= 42;\n    |     ^^^^^^^\n help: or\n    |\n-22 |     a = a * 42 * a;\n+18 |     a = a * 42 * a;\n    |     ^^^^^^^^^^^^^^\n \n error: variable appears on both sides of an assignment operation\n-  --> $DIR/assign_ops2.rs:23:5\n+  --> $DIR/assign_ops2.rs:19:5\n    |\n-23 |     a /= a / 2;\n+19 |     a /= a / 2;\n    |     ^^^^^^^^^^\n help: Did you mean a = a / 2 or a = a / (a / 2)? Consider replacing it with\n    |\n-23 |     a /= 2;\n+19 |     a /= 2;\n    |     ^^^^^^\n help: or\n    |\n-23 |     a = a / (a / 2);\n+19 |     a = a / (a / 2);\n    |     ^^^^^^^^^^^^^^^\n \n error: variable appears on both sides of an assignment operation\n-  --> $DIR/assign_ops2.rs:24:5\n+  --> $DIR/assign_ops2.rs:20:5\n    |\n-24 |     a %= a % 5;\n+20 |     a %= a % 5;\n    |     ^^^^^^^^^^\n help: Did you mean a = a % 5 or a = a % (a % 5)? Consider replacing it with\n    |\n-24 |     a %= 5;\n+20 |     a %= 5;\n    |     ^^^^^^\n help: or\n    |\n-24 |     a = a % (a % 5);\n+20 |     a = a % (a % 5);\n    |     ^^^^^^^^^^^^^^^\n \n error: variable appears on both sides of an assignment operation\n-  --> $DIR/assign_ops2.rs:25:5\n+  --> $DIR/assign_ops2.rs:21:5\n    |\n-25 |     a &= a & 1;\n+21 |     a &= a & 1;\n    |     ^^^^^^^^^^\n help: Did you mean a = a & 1 or a = a & a & 1? Consider replacing it with\n    |\n-25 |     a &= 1;\n+21 |     a &= 1;\n    |     ^^^^^^\n help: or\n    |\n-25 |     a = a & a & 1;\n+21 |     a = a & a & 1;\n    |     ^^^^^^^^^^^^^\n \n error: variable appears on both sides of an assignment operation\n-  --> $DIR/assign_ops2.rs:26:5\n+  --> $DIR/assign_ops2.rs:22:5\n    |\n-26 |     a *= a * a;\n+22 |     a *= a * a;\n    |     ^^^^^^^^^^\n help: Did you mean a = a * a or a = a * a * a? Consider replacing it with\n    |\n-26 |     a *= a;\n+22 |     a *= a;\n    |     ^^^^^^\n help: or\n    |\n-26 |     a = a * a * a;\n+22 |     a = a * a * a;\n    |     ^^^^^^^^^^^^^\n \n error: manual implementation of an assign operation\n-  --> $DIR/assign_ops2.rs:63:5\n+  --> $DIR/assign_ops2.rs:59:5\n    |\n-63 |     buf = buf + cows.clone();\n+59 |     buf = buf + cows.clone();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `buf += cows.clone()`\n    |\n    = note: `-D clippy::assign-op-pattern` implied by `-D warnings`"}, {"sha": "1331fa2912c72e3077b4047bd62c243fa9c24171", "filename": "tests/ui/attrs.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fattrs.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fattrs.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fattrs.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,23 +1,23 @@\n error: you have declared `#[inline(always)]` on `test_attr_lint`. This is usually a bad idea\n-  --> $DIR/attrs.rs:16:1\n+  --> $DIR/attrs.rs:12:1\n    |\n-16 | #[inline(always)]\n+12 | #[inline(always)]\n    | ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::inline-always` implied by `-D warnings`\n \n error: the since field must contain a semver-compliant version\n-  --> $DIR/attrs.rs:37:14\n+  --> $DIR/attrs.rs:32:14\n    |\n-37 | #[deprecated(since = \"forever\")]\n+32 | #[deprecated(since = \"forever\")]\n    |              ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::deprecated-semver` implied by `-D warnings`\n \n error: the since field must contain a semver-compliant version\n-  --> $DIR/attrs.rs:40:14\n+  --> $DIR/attrs.rs:35:14\n    |\n-40 | #[deprecated(since = \"1\")]\n+35 | #[deprecated(since = \"1\")]\n    |              ^^^^^^^^^^^\n \n error: aborting due to 3 previous errors"}, {"sha": "4b895b0b8e3ddb189898ac911ebcea93e3d7c5b7", "filename": "tests/ui/author/matches.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fauthor%2Fmatches.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fauthor%2Fmatches.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fauthor%2Fmatches.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,14 +1,14 @@\n error: returning the result of a let binding from a block. Consider returning the expression directly.\n-  --> $DIR/matches.rs:19:13\n+  --> $DIR/matches.rs:18:13\n    |\n-19 |             x\n+18 |             x\n    |             ^\n    |\n    = note: `-D clippy::let-and-return` implied by `-D warnings`\n note: this expression can be directly returned\n-  --> $DIR/matches.rs:18:21\n+  --> $DIR/matches.rs:17:21\n    |\n-18 |             let x = 3;\n+17 |             let x = 3;\n    |                     ^\n \n error: aborting due to previous error"}, {"sha": "853f5a992f3b12d003bf8b87a9f2f3c8f04a0359", "filename": "tests/ui/bit_masks.stderr", "status": "modified", "additions": 34, "deletions": 34, "changes": 68, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbit_masks.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbit_masks.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fbit_masks.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,109 +1,109 @@\n error: &-masking with zero\n-  --> $DIR/bit_masks.rs:22:5\n+  --> $DIR/bit_masks.rs:23:5\n    |\n-22 |     x & 0 == 0;\n+23 |     x & 0 == 0;\n    |     ^^^^^^^^^^\n    |\n    = note: `-D clippy::bad-bit-mask` implied by `-D warnings`\n \n error: this operation will always return zero. This is likely not the intended outcome\n-  --> $DIR/bit_masks.rs:22:5\n+  --> $DIR/bit_masks.rs:23:5\n    |\n-22 |     x & 0 == 0;\n+23 |     x & 0 == 0;\n    |     ^^^^^\n    |\n    = note: #[deny(clippy::erasing_op)] on by default\n \n error: incompatible bit mask: `_ & 2` can never be equal to `1`\n-  --> $DIR/bit_masks.rs:25:5\n+  --> $DIR/bit_masks.rs:26:5\n    |\n-25 |     x & 2 == 1;\n+26 |     x & 2 == 1;\n    |     ^^^^^^^^^^\n \n error: incompatible bit mask: `_ | 3` can never be equal to `2`\n-  --> $DIR/bit_masks.rs:29:5\n+  --> $DIR/bit_masks.rs:30:5\n    |\n-29 |     x | 3 == 2;\n+30 |     x | 3 == 2;\n    |     ^^^^^^^^^^\n \n error: incompatible bit mask: `_ & 1` will never be higher than `1`\n-  --> $DIR/bit_masks.rs:31:5\n+  --> $DIR/bit_masks.rs:32:5\n    |\n-31 |     x & 1 > 1;\n+32 |     x & 1 > 1;\n    |     ^^^^^^^^^\n \n error: incompatible bit mask: `_ | 2` will always be higher than `1`\n-  --> $DIR/bit_masks.rs:35:5\n+  --> $DIR/bit_masks.rs:36:5\n    |\n-35 |     x | 2 > 1;\n+36 |     x | 2 > 1;\n    |     ^^^^^^^^^\n \n error: incompatible bit mask: `_ & 7` can never be equal to `8`\n-  --> $DIR/bit_masks.rs:42:5\n+  --> $DIR/bit_masks.rs:43:5\n    |\n-42 |     x & THREE_BITS == 8;\n+43 |     x & THREE_BITS == 8;\n    |     ^^^^^^^^^^^^^^^^^^^\n \n error: incompatible bit mask: `_ | 7` will never be lower than `7`\n-  --> $DIR/bit_masks.rs:43:5\n+  --> $DIR/bit_masks.rs:44:5\n    |\n-43 |     x | EVEN_MORE_REDIRECTION < 7;\n+44 |     x | EVEN_MORE_REDIRECTION < 7;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: &-masking with zero\n-  --> $DIR/bit_masks.rs:45:5\n+  --> $DIR/bit_masks.rs:46:5\n    |\n-45 |     0 & x == 0;\n+46 |     0 & x == 0;\n    |     ^^^^^^^^^^\n \n error: this operation will always return zero. This is likely not the intended outcome\n-  --> $DIR/bit_masks.rs:45:5\n+  --> $DIR/bit_masks.rs:46:5\n    |\n-45 |     0 & x == 0;\n+46 |     0 & x == 0;\n    |     ^^^^^\n \n error: incompatible bit mask: `_ | 2` will always be higher than `1`\n-  --> $DIR/bit_masks.rs:49:5\n+  --> $DIR/bit_masks.rs:50:5\n    |\n-49 |     1 < 2 | x;\n+50 |     1 < 2 | x;\n    |     ^^^^^^^^^\n \n error: incompatible bit mask: `_ | 3` can never be equal to `2`\n-  --> $DIR/bit_masks.rs:50:5\n+  --> $DIR/bit_masks.rs:51:5\n    |\n-50 |     2 == 3 | x;\n+51 |     2 == 3 | x;\n    |     ^^^^^^^^^^\n \n error: incompatible bit mask: `_ & 2` can never be equal to `1`\n-  --> $DIR/bit_masks.rs:51:5\n+  --> $DIR/bit_masks.rs:52:5\n    |\n-51 |     1 == x & 2;\n+52 |     1 == x & 2;\n    |     ^^^^^^^^^^\n \n error: ineffective bit mask: `x | 1` compared to `3`, is the same as x compared directly\n-  --> $DIR/bit_masks.rs:62:5\n+  --> $DIR/bit_masks.rs:63:5\n    |\n-62 |     x | 1 > 3;\n+63 |     x | 1 > 3;\n    |     ^^^^^^^^^\n    |\n    = note: `-D clippy::ineffective-bit-mask` implied by `-D warnings`\n \n error: ineffective bit mask: `x | 1` compared to `4`, is the same as x compared directly\n-  --> $DIR/bit_masks.rs:63:5\n+  --> $DIR/bit_masks.rs:64:5\n    |\n-63 |     x | 1 < 4;\n+64 |     x | 1 < 4;\n    |     ^^^^^^^^^\n \n error: ineffective bit mask: `x | 1` compared to `3`, is the same as x compared directly\n-  --> $DIR/bit_masks.rs:64:5\n+  --> $DIR/bit_masks.rs:65:5\n    |\n-64 |     x | 1 <= 3;\n+65 |     x | 1 <= 3;\n    |     ^^^^^^^^^^\n \n error: ineffective bit mask: `x | 1` compared to `8`, is the same as x compared directly\n-  --> $DIR/bit_masks.rs:65:5\n+  --> $DIR/bit_masks.rs:66:5\n    |\n-65 |     x | 1 >= 8;\n+66 |     x | 1 >= 8;\n    |     ^^^^^^^^^^\n \n error: aborting due to 17 previous errors"}, {"sha": "707d36b24b27f3e84ae675ac6124dfb6bfaaf59a", "filename": "tests/ui/blacklisted_name.stderr", "status": "modified", "additions": 28, "deletions": 28, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fblacklisted_name.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fblacklisted_name.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fblacklisted_name.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,87 +1,87 @@\n error: use of a blacklisted/placeholder name `foo`\n-  --> $DIR/blacklisted_name.rs:17:9\n+  --> $DIR/blacklisted_name.rs:20:9\n    |\n-17 | fn test(foo: ()) {}\n+20 | fn test(foo: ()) {}\n    |         ^^^\n    |\n    = note: `-D clippy::blacklisted-name` implied by `-D warnings`\n \n error: use of a blacklisted/placeholder name `foo`\n-  --> $DIR/blacklisted_name.rs:20:9\n+  --> $DIR/blacklisted_name.rs:23:9\n    |\n-20 |     let foo = 42;\n+23 |     let foo = 42;\n    |         ^^^\n \n error: use of a blacklisted/placeholder name `bar`\n-  --> $DIR/blacklisted_name.rs:21:9\n+  --> $DIR/blacklisted_name.rs:24:9\n    |\n-21 |     let bar = 42;\n+24 |     let bar = 42;\n    |         ^^^\n \n error: use of a blacklisted/placeholder name `baz`\n-  --> $DIR/blacklisted_name.rs:22:9\n+  --> $DIR/blacklisted_name.rs:25:9\n    |\n-22 |     let baz = 42;\n+25 |     let baz = 42;\n    |         ^^^\n \n error: use of a blacklisted/placeholder name `foo`\n-  --> $DIR/blacklisted_name.rs:28:10\n+  --> $DIR/blacklisted_name.rs:31:10\n    |\n-28 |         (foo, Some(bar), baz @ Some(_)) => (),\n+31 |         (foo, Some(bar), baz @ Some(_)) => (),\n    |          ^^^\n \n error: use of a blacklisted/placeholder name `bar`\n-  --> $DIR/blacklisted_name.rs:28:20\n+  --> $DIR/blacklisted_name.rs:31:20\n    |\n-28 |         (foo, Some(bar), baz @ Some(_)) => (),\n+31 |         (foo, Some(bar), baz @ Some(_)) => (),\n    |                    ^^^\n \n error: use of a blacklisted/placeholder name `baz`\n-  --> $DIR/blacklisted_name.rs:28:26\n+  --> $DIR/blacklisted_name.rs:31:26\n    |\n-28 |         (foo, Some(bar), baz @ Some(_)) => (),\n+31 |         (foo, Some(bar), baz @ Some(_)) => (),\n    |                          ^^^\n \n error: use of a blacklisted/placeholder name `foo`\n-  --> $DIR/blacklisted_name.rs:33:19\n+  --> $DIR/blacklisted_name.rs:36:19\n    |\n-33 | fn issue_1647(mut foo: u8) {\n+36 | fn issue_1647(mut foo: u8) {\n    |                   ^^^\n \n error: use of a blacklisted/placeholder name `bar`\n-  --> $DIR/blacklisted_name.rs:34:13\n+  --> $DIR/blacklisted_name.rs:37:13\n    |\n-34 |     let mut bar = 0;\n+37 |     let mut bar = 0;\n    |             ^^^\n \n error: use of a blacklisted/placeholder name `baz`\n-  --> $DIR/blacklisted_name.rs:35:21\n+  --> $DIR/blacklisted_name.rs:38:21\n    |\n-35 |     if let Some(mut baz) = Some(42) {}\n+38 |     if let Some(mut baz) = Some(42) {}\n    |                     ^^^\n \n error: use of a blacklisted/placeholder name `bar`\n-  --> $DIR/blacklisted_name.rs:39:13\n+  --> $DIR/blacklisted_name.rs:42:13\n    |\n-39 |     let ref bar = 0;\n+42 |     let ref bar = 0;\n    |             ^^^\n \n error: use of a blacklisted/placeholder name `baz`\n-  --> $DIR/blacklisted_name.rs:40:21\n+  --> $DIR/blacklisted_name.rs:43:21\n    |\n-40 |     if let Some(ref baz) = Some(42) {}\n+43 |     if let Some(ref baz) = Some(42) {}\n    |                     ^^^\n \n error: use of a blacklisted/placeholder name `bar`\n-  --> $DIR/blacklisted_name.rs:44:17\n+  --> $DIR/blacklisted_name.rs:47:17\n    |\n-44 |     let ref mut bar = 0;\n+47 |     let ref mut bar = 0;\n    |                 ^^^\n \n error: use of a blacklisted/placeholder name `baz`\n-  --> $DIR/blacklisted_name.rs:45:25\n+  --> $DIR/blacklisted_name.rs:48:25\n    |\n-45 |     if let Some(ref mut baz) = Some(42) {}\n+48 |     if let Some(ref mut baz) = Some(42) {}\n    |                         ^^^\n \n error: aborting due to 14 previous errors"}, {"sha": "d83cef26a8b558d879c0637c5ed559d0b474af96", "filename": "tests/ui/block_in_if_condition.stderr", "status": "modified", "additions": 25, "deletions": 17, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fblock_in_if_condition.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fblock_in_if_condition.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fblock_in_if_condition.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,11 +1,11 @@\n error: in an 'if' condition, avoid complex blocks or closures with blocks; instead, move the block or closure higher and bind it with a 'let'\n-  --> $DIR/block_in_if_condition.rs:40:8\n+  --> $DIR/block_in_if_condition.rs:35:8\n    |\n-40 |       if {\n+35 |       if {\n    |  ________^\n-41 | |         let x = 3;\n-42 | |         x == 3\n-43 | |     } {\n+36 | |         let x = 3;\n+37 | |         x == 3\n+38 | |     } {\n    | |_____^\n    |\n    = note: `-D clippy::block-in-if-condition-stmt` implied by `-D warnings`\n@@ -19,9 +19,9 @@ error: in an 'if' condition, avoid complex blocks or closures with blocks; inste\n            } ... \n \n error: omit braces around single expression condition\n-  --> $DIR/block_in_if_condition.rs:51:8\n+  --> $DIR/block_in_if_condition.rs:46:8\n    |\n-51 |     if { true } {\n+46 |     if { true } {\n    |        ^^^^^^^^\n    |\n    = note: `-D clippy::block-in-if-condition-expr` implied by `-D warnings`\n@@ -31,21 +31,29 @@ error: omit braces around single expression condition\n            } ... \n \n error: in an 'if' condition, avoid complex blocks or closures with blocks; instead, move the block or closure higher and bind it with a 'let'\n-  --> $DIR/block_in_if_condition.rs:68:49\n-   |\n-68 |     if v == 3 && sky == \"blue\" && predicate(|x| { let target = 3; x == target }, v) {\n-   |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  --> $DIR/block_in_if_condition.rs:66:17\n+   |\n+66 |               |x| {\n+   |  _________________^\n+67 | |                 let target = 3;\n+68 | |                 x == target\n+69 | |             },\n+   | |_____________^\n \n error: in an 'if' condition, avoid complex blocks or closures with blocks; instead, move the block or closure higher and bind it with a 'let'\n-  --> $DIR/block_in_if_condition.rs:71:22\n-   |\n-71 |     if predicate(|x| { let target = 3; x == target }, v) {\n-   |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  --> $DIR/block_in_if_condition.rs:75:13\n+   |\n+75 |           |x| {\n+   |  _____________^\n+76 | |             let target = 3;\n+77 | |             x == target\n+78 | |         },\n+   | |_________^\n \n error: this boolean expression can be simplified\n-  --> $DIR/block_in_if_condition.rs:77:8\n+  --> $DIR/block_in_if_condition.rs:85:8\n    |\n-77 |     if true && x == 3 {\n+85 |     if true && x == 3 {\n    |        ^^^^^^^^^^^^^^ help: try: `x == 3`\n    |\n    = note: `-D clippy::nonminimal-bool` implied by `-D warnings`"}, {"sha": "d136bc656b6d62c35978b7f9205f854489f158fb", "filename": "tests/ui/bool_comparison.stderr", "status": "modified", "additions": 15, "deletions": 15, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbool_comparison.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbool_comparison.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fbool_comparison.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,51 +1,51 @@\n error: equality checks against true are unnecessary\n-  --> $DIR/bool_comparison.rs:17:8\n+  --> $DIR/bool_comparison.rs:13:8\n    |\n-17 |     if x == true { \"yes\" } else { \"no\" };\n+13 |     if x == true {\n    |        ^^^^^^^^^ help: try simplifying it as shown: `x`\n    |\n    = note: `-D clippy::bool-comparison` implied by `-D warnings`\n \n error: equality checks against false can be replaced by a negation\n   --> $DIR/bool_comparison.rs:18:8\n    |\n-18 |     if x == false { \"yes\" } else { \"no\" };\n+18 |     if x == false {\n    |        ^^^^^^^^^^ help: try simplifying it as shown: `!x`\n \n error: equality checks against true are unnecessary\n-  --> $DIR/bool_comparison.rs:19:8\n+  --> $DIR/bool_comparison.rs:23:8\n    |\n-19 |     if true == x { \"yes\" } else { \"no\" };\n+23 |     if true == x {\n    |        ^^^^^^^^^ help: try simplifying it as shown: `x`\n \n error: equality checks against false can be replaced by a negation\n-  --> $DIR/bool_comparison.rs:20:8\n+  --> $DIR/bool_comparison.rs:28:8\n    |\n-20 |     if false == x { \"yes\" } else { \"no\" };\n+28 |     if false == x {\n    |        ^^^^^^^^^^ help: try simplifying it as shown: `!x`\n \n error: inequality checks against true can be replaced by a negation\n-  --> $DIR/bool_comparison.rs:21:8\n+  --> $DIR/bool_comparison.rs:33:8\n    |\n-21 |     if x != true { \"yes\" } else { \"no\" };\n+33 |     if x != true {\n    |        ^^^^^^^^^ help: try simplifying it as shown: `!x`\n \n error: inequality checks against false are unnecessary\n-  --> $DIR/bool_comparison.rs:22:8\n+  --> $DIR/bool_comparison.rs:38:8\n    |\n-22 |     if x != false { \"yes\" } else { \"no\" };\n+38 |     if x != false {\n    |        ^^^^^^^^^^ help: try simplifying it as shown: `x`\n \n error: inequality checks against true can be replaced by a negation\n-  --> $DIR/bool_comparison.rs:23:8\n+  --> $DIR/bool_comparison.rs:43:8\n    |\n-23 |     if true != x { \"yes\" } else { \"no\" };\n+43 |     if true != x {\n    |        ^^^^^^^^^ help: try simplifying it as shown: `!x`\n \n error: inequality checks against false are unnecessary\n-  --> $DIR/bool_comparison.rs:24:8\n+  --> $DIR/bool_comparison.rs:48:8\n    |\n-24 |     if false != x { \"yes\" } else { \"no\" };\n+48 |     if false != x {\n    |        ^^^^^^^^^^ help: try simplifying it as shown: `x`\n \n error: aborting due to 8 previous errors"}, {"sha": "45205b978ef65e082ab0da84def4ffebd692f828", "filename": "tests/ui/booleans.stderr", "status": "modified", "additions": 66, "deletions": 66, "changes": 132, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbooleans.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbooleans.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fbooleans.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,202 +1,202 @@\n error: this boolean expression contains a logic bug\n-  --> $DIR/booleans.rs:22:13\n+  --> $DIR/booleans.rs:19:13\n    |\n-22 |     let _ = a && b || a;\n+19 |     let _ = a && b || a;\n    |             ^^^^^^^^^^^ help: it would look like the following: `a`\n    |\n    = note: `-D clippy::logic-bug` implied by `-D warnings`\n help: this expression can be optimized out by applying boolean operations to the outer expression\n-  --> $DIR/booleans.rs:22:18\n+  --> $DIR/booleans.rs:19:18\n    |\n-22 |     let _ = a && b || a;\n+19 |     let _ = a && b || a;\n    |                  ^\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:24:13\n+  --> $DIR/booleans.rs:21:13\n    |\n-24 |     let _ = !true;\n+21 |     let _ = !true;\n    |             ^^^^^ help: try: `false`\n    |\n    = note: `-D clippy::nonminimal-bool` implied by `-D warnings`\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:25:13\n+  --> $DIR/booleans.rs:22:13\n    |\n-25 |     let _ = !false;\n+22 |     let _ = !false;\n    |             ^^^^^^ help: try: `true`\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:26:13\n+  --> $DIR/booleans.rs:23:13\n    |\n-26 |     let _ = !!a;\n+23 |     let _ = !!a;\n    |             ^^^ help: try: `a`\n \n error: this boolean expression contains a logic bug\n-  --> $DIR/booleans.rs:27:13\n+  --> $DIR/booleans.rs:24:13\n    |\n-27 |     let _ = false && a;\n+24 |     let _ = false && a;\n    |             ^^^^^^^^^^ help: it would look like the following: `false`\n    |\n help: this expression can be optimized out by applying boolean operations to the outer expression\n-  --> $DIR/booleans.rs:27:22\n+  --> $DIR/booleans.rs:24:22\n    |\n-27 |     let _ = false && a;\n+24 |     let _ = false && a;\n    |                      ^\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:28:13\n+  --> $DIR/booleans.rs:25:13\n    |\n-28 |     let _ = false || a;\n+25 |     let _ = false || a;\n    |             ^^^^^^^^^^ help: try: `a`\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:33:13\n+  --> $DIR/booleans.rs:30:13\n    |\n-33 |     let _ = !(!a && b);\n+30 |     let _ = !(!a && b);\n    |             ^^^^^^^^^^ help: try: `!b || a`\n \n error: this boolean expression contains a logic bug\n-  --> $DIR/booleans.rs:43:13\n+  --> $DIR/booleans.rs:40:13\n    |\n-43 |     let _ = a == b && a != b;\n+40 |     let _ = a == b && a != b;\n    |             ^^^^^^^^^^^^^^^^ help: it would look like the following: `false`\n    |\n help: this expression can be optimized out by applying boolean operations to the outer expression\n-  --> $DIR/booleans.rs:43:13\n+  --> $DIR/booleans.rs:40:13\n    |\n-43 |     let _ = a == b && a != b;\n+40 |     let _ = a == b && a != b;\n    |             ^^^^^^\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:44:13\n+  --> $DIR/booleans.rs:41:13\n    |\n-44 |     let _ = a == b && c == 5 && a == b;\n+41 |     let _ = a == b && c == 5 && a == b;\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^\n help: try\n    |\n-44 |     let _ = a == b && c == 5;\n+41 |     let _ = a == b && c == 5;\n    |             ^^^^^^^^^^^^^^^^\n-44 |     let _ = !(c != 5 || a != b);\n+41 |     let _ = !(c != 5 || a != b);\n    |             ^^^^^^^^^^^^^^^^^^^\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:45:13\n+  --> $DIR/booleans.rs:42:13\n    |\n-45 |     let _ = a == b && c == 5 && b == a;\n+42 |     let _ = a == b && c == 5 && b == a;\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^\n help: try\n    |\n-45 |     let _ = a == b && c == 5;\n+42 |     let _ = a == b && c == 5;\n    |             ^^^^^^^^^^^^^^^^\n-45 |     let _ = !(c != 5 || a != b);\n+42 |     let _ = !(c != 5 || a != b);\n    |             ^^^^^^^^^^^^^^^^^^^\n \n error: this boolean expression contains a logic bug\n-  --> $DIR/booleans.rs:46:13\n+  --> $DIR/booleans.rs:43:13\n    |\n-46 |     let _ = a < b && a >= b;\n+43 |     let _ = a < b && a >= b;\n    |             ^^^^^^^^^^^^^^^ help: it would look like the following: `false`\n    |\n help: this expression can be optimized out by applying boolean operations to the outer expression\n-  --> $DIR/booleans.rs:46:13\n+  --> $DIR/booleans.rs:43:13\n    |\n-46 |     let _ = a < b && a >= b;\n+43 |     let _ = a < b && a >= b;\n    |             ^^^^^\n \n error: this boolean expression contains a logic bug\n-  --> $DIR/booleans.rs:47:13\n+  --> $DIR/booleans.rs:44:13\n    |\n-47 |     let _ = a > b && a <= b;\n+44 |     let _ = a > b && a <= b;\n    |             ^^^^^^^^^^^^^^^ help: it would look like the following: `false`\n    |\n help: this expression can be optimized out by applying boolean operations to the outer expression\n-  --> $DIR/booleans.rs:47:13\n+  --> $DIR/booleans.rs:44:13\n    |\n-47 |     let _ = a > b && a <= b;\n+44 |     let _ = a > b && a <= b;\n    |             ^^^^^\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:49:13\n+  --> $DIR/booleans.rs:46:13\n    |\n-49 |     let _ = a != b || !(a != b || c == d);\n+46 |     let _ = a != b || !(a != b || c == d);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n help: try\n    |\n-49 |     let _ = c != d || a != b;\n+46 |     let _ = c != d || a != b;\n    |             ^^^^^^^^^^^^^^^^\n-49 |     let _ = !(a == b && c == d);\n+46 |     let _ = !(a == b && c == d);\n    |             ^^^^^^^^^^^^^^^^^^^\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:57:13\n+  --> $DIR/booleans.rs:54:13\n    |\n-57 |     let _ = !a.is_some();\n+54 |     let _ = !a.is_some();\n    |             ^^^^^^^^^^^^ help: try: `a.is_none()`\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:59:13\n+  --> $DIR/booleans.rs:56:13\n    |\n-59 |     let _ = !a.is_none();\n+56 |     let _ = !a.is_none();\n    |             ^^^^^^^^^^^^ help: try: `a.is_some()`\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:61:13\n+  --> $DIR/booleans.rs:58:13\n    |\n-61 |     let _ = !b.is_err();\n+58 |     let _ = !b.is_err();\n    |             ^^^^^^^^^^^ help: try: `b.is_ok()`\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:63:13\n+  --> $DIR/booleans.rs:60:13\n    |\n-63 |     let _ = !b.is_ok();\n+60 |     let _ = !b.is_ok();\n    |             ^^^^^^^^^^ help: try: `b.is_err()`\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:65:13\n+  --> $DIR/booleans.rs:62:13\n    |\n-65 |     let _ = !(a.is_some() && !c);\n+62 |     let _ = !(a.is_some() && !c);\n    |             ^^^^^^^^^^^^^^^^^^^^ help: try: `c || a.is_none()`\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:66:13\n+  --> $DIR/booleans.rs:63:13\n    |\n-66 |     let _ = !(!c ^ c) || !a.is_some();\n+63 |     let _ = !(!c ^ c) || !a.is_some();\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `!(!c ^ c) || a.is_none()`\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:67:13\n+  --> $DIR/booleans.rs:64:13\n    |\n-67 |     let _ = (!c ^ c) || !a.is_some();\n+64 |     let _ = (!c ^ c) || !a.is_some();\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `(!c ^ c) || a.is_none()`\n \n error: this boolean expression can be simplified\n-  --> $DIR/booleans.rs:68:13\n+  --> $DIR/booleans.rs:65:13\n    |\n-68 |     let _ = !c ^ c || !a.is_some();\n+65 |     let _ = !c ^ c || !a.is_some();\n    |             ^^^^^^^^^^^^^^^^^^^^^^ help: try: `!c ^ c || a.is_none()`\n \n error: this boolean expression can be simplified\n-   --> $DIR/booleans.rs:120:8\n+   --> $DIR/booleans.rs:137:8\n     |\n-120 |     if !res.is_ok() { }\n+137 |     if !res.is_ok() {}\n     |        ^^^^^^^^^^^^ help: try: `res.is_err()`\n \n error: this boolean expression can be simplified\n-   --> $DIR/booleans.rs:121:8\n+   --> $DIR/booleans.rs:138:8\n     |\n-121 |     if !res.is_err() { }\n+138 |     if !res.is_err() {}\n     |        ^^^^^^^^^^^^^ help: try: `res.is_ok()`\n \n error: this boolean expression can be simplified\n-   --> $DIR/booleans.rs:124:8\n+   --> $DIR/booleans.rs:141:8\n     |\n-124 |     if !res.is_some() { }\n+141 |     if !res.is_some() {}\n     |        ^^^^^^^^^^^^^^ help: try: `res.is_none()`\n \n error: this boolean expression can be simplified\n-   --> $DIR/booleans.rs:125:8\n+   --> $DIR/booleans.rs:142:8\n     |\n-125 |     if !res.is_none() { }\n+142 |     if !res.is_none() {}\n     |        ^^^^^^^^^^^^^^ help: try: `res.is_some()`\n \n error: aborting due to 25 previous errors"}, {"sha": "0e42fe177ba970993f440db47bd8fc7b490da4f4", "filename": "tests/ui/borrow_box.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fborrow_box.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fborrow_box.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fborrow_box.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,31 +1,31 @@\n error: you seem to be trying to use `&Box<T>`. Consider using just `&T`\n-  --> $DIR/borrow_box.rs:19:19\n+  --> $DIR/borrow_box.rs:15:19\n    |\n-19 | pub fn test1(foo: &mut Box<bool>) {\n+15 | pub fn test1(foo: &mut Box<bool>) {\n    |                   ^^^^^^^^^^^^^^ help: try: `&mut bool`\n    |\n note: lint level defined here\n-  --> $DIR/borrow_box.rs:14:9\n+  --> $DIR/borrow_box.rs:10:9\n    |\n-14 | #![deny(clippy::borrowed_box)]\n+10 | #![deny(clippy::borrowed_box)]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: you seem to be trying to use `&Box<T>`. Consider using just `&T`\n-  --> $DIR/borrow_box.rs:24:14\n+  --> $DIR/borrow_box.rs:20:14\n    |\n-24 |     let foo: &Box<bool>;\n+20 |     let foo: &Box<bool>;\n    |              ^^^^^^^^^^ help: try: `&bool`\n \n error: you seem to be trying to use `&Box<T>`. Consider using just `&T`\n-  --> $DIR/borrow_box.rs:28:10\n+  --> $DIR/borrow_box.rs:24:10\n    |\n-28 |     foo: &'a Box<bool>\n+24 |     foo: &'a Box<bool>,\n    |          ^^^^^^^^^^^^^ help: try: `&'a bool`\n \n error: you seem to be trying to use `&Box<T>`. Consider using just `&T`\n-  --> $DIR/borrow_box.rs:32:17\n+  --> $DIR/borrow_box.rs:28:17\n    |\n-32 |     fn test4(a: &Box<bool>);\n+28 |     fn test4(a: &Box<bool>);\n    |                 ^^^^^^^^^^ help: try: `&bool`\n \n error: aborting due to 4 previous errors"}, {"sha": "84c0b6c36e3ce79c104fc7cdc21c0fd35c70792c", "filename": "tests/ui/box_vec.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbox_vec.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbox_vec.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fbox_vec.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,7 +1,7 @@\n error: you seem to be trying to use `Box<Vec<T>>`. Consider using just `Vec<T>`\n-  --> $DIR/box_vec.rs:27:18\n+  --> $DIR/box_vec.rs:23:18\n    |\n-27 | pub fn test(foo: Box<Vec<bool>>) {\n+23 | pub fn test(foo: Box<Vec<bool>>) {\n    |                  ^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::box-vec` implied by `-D warnings`"}, {"sha": "540d9f4f45849546cc598b173b3514736764804f", "filename": "tests/ui/builtin-type-shadow.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbuiltin-type-shadow.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbuiltin-type-shadow.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fbuiltin-type-shadow.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,17 +1,17 @@\n error: This generic shadows the built-in type `u32`\n-  --> $DIR/builtin-type-shadow.rs:15:8\n+  --> $DIR/builtin-type-shadow.rs:12:8\n    |\n-15 | fn foo<u32>(a: u32) -> u32 {\n+12 | fn foo<u32>(a: u32) -> u32 {\n    |        ^^^\n    |\n    = note: `-D clippy::builtin-type-shadow` implied by `-D warnings`\n \n error[E0308]: mismatched types\n-  --> $DIR/builtin-type-shadow.rs:16:5\n+  --> $DIR/builtin-type-shadow.rs:13:5\n    |\n-15 | fn foo<u32>(a: u32) -> u32 {\n+12 | fn foo<u32>(a: u32) -> u32 {\n    |                        --- expected `u32` because of return type\n-16 |     42\n+13 |     42\n    |     ^^ expected type parameter, found integral variable\n    |\n    = note: expected type `u32`"}, {"sha": "605cf287419dd78cb395625d26420245aeabb52e", "filename": "tests/ui/bytecount.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbytecount.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fbytecount.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fbytecount.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,25 +1,25 @@\n error: You appear to be counting bytes the naive way\n-  --> $DIR/bytecount.rs:18:13\n+  --> $DIR/bytecount.rs:14:13\n    |\n-18 |     let _ = x.iter().filter(|&&a| a == 0).count(); // naive byte count\n+14 |     let _ = x.iter().filter(|&&a| a == 0).count(); // naive byte count\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: Consider using the bytecount crate: `bytecount::count(x, 0)`\n    |\n note: lint level defined here\n-  --> $DIR/bytecount.rs:14:8\n+  --> $DIR/bytecount.rs:10:8\n    |\n-14 | #[deny(clippy::naive_bytecount)]\n+10 | #[deny(clippy::naive_bytecount)]\n    |        ^^^^^^^^^^^^^^^^^^^^^^^\n \n error: You appear to be counting bytes the naive way\n-  --> $DIR/bytecount.rs:20:13\n+  --> $DIR/bytecount.rs:16:13\n    |\n-20 |     let _ = (&x[..]).iter().filter(|&a| *a == 0).count(); // naive byte count\n+16 |     let _ = (&x[..]).iter().filter(|&a| *a == 0).count(); // naive byte count\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: Consider using the bytecount crate: `bytecount::count((&x[..]), 0)`\n \n error: You appear to be counting bytes the naive way\n-  --> $DIR/bytecount.rs:32:13\n+  --> $DIR/bytecount.rs:28:13\n    |\n-32 |     let _ = x.iter().filter(|a| b + 1 == **a).count(); // naive byte count\n+28 |     let _ = x.iter().filter(|a| b + 1 == **a).count(); // naive byte count\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: Consider using the bytecount crate: `bytecount::count(x, b + 1)`\n \n error: aborting due to 3 previous errors"}, {"sha": "1b6b1e6319cd7b75ce388c7f304c0d21af88df92", "filename": "tests/ui/cast.stderr", "status": "modified", "additions": 56, "deletions": 56, "changes": 112, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcast.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcast.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcast.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,181 +1,181 @@\n error: casting i32 to f32 causes a loss of precision (i32 is 32 bits wide, but f32's mantissa is only 23 bits wide)\n-  --> $DIR/cast.rs:18:5\n+  --> $DIR/cast.rs:20:5\n    |\n-18 |     1i32 as f32;\n+20 |     1i32 as f32;\n    |     ^^^^^^^^^^^\n    |\n    = note: `-D clippy::cast-precision-loss` implied by `-D warnings`\n \n error: casting i64 to f32 causes a loss of precision (i64 is 64 bits wide, but f32's mantissa is only 23 bits wide)\n-  --> $DIR/cast.rs:19:5\n+  --> $DIR/cast.rs:21:5\n    |\n-19 |     1i64 as f32;\n+21 |     1i64 as f32;\n    |     ^^^^^^^^^^^\n \n error: casting i64 to f64 causes a loss of precision (i64 is 64 bits wide, but f64's mantissa is only 52 bits wide)\n-  --> $DIR/cast.rs:20:5\n+  --> $DIR/cast.rs:22:5\n    |\n-20 |     1i64 as f64;\n+22 |     1i64 as f64;\n    |     ^^^^^^^^^^^\n \n error: casting u32 to f32 causes a loss of precision (u32 is 32 bits wide, but f32's mantissa is only 23 bits wide)\n-  --> $DIR/cast.rs:21:5\n+  --> $DIR/cast.rs:23:5\n    |\n-21 |     1u32 as f32;\n+23 |     1u32 as f32;\n    |     ^^^^^^^^^^^\n \n error: casting u64 to f32 causes a loss of precision (u64 is 64 bits wide, but f32's mantissa is only 23 bits wide)\n-  --> $DIR/cast.rs:22:5\n+  --> $DIR/cast.rs:24:5\n    |\n-22 |     1u64 as f32;\n+24 |     1u64 as f32;\n    |     ^^^^^^^^^^^\n \n error: casting u64 to f64 causes a loss of precision (u64 is 64 bits wide, but f64's mantissa is only 52 bits wide)\n-  --> $DIR/cast.rs:23:5\n+  --> $DIR/cast.rs:25:5\n    |\n-23 |     1u64 as f64;\n+25 |     1u64 as f64;\n    |     ^^^^^^^^^^^\n \n error: casting f32 to i32 may truncate the value\n-  --> $DIR/cast.rs:25:5\n+  --> $DIR/cast.rs:27:5\n    |\n-25 |     1f32 as i32;\n+27 |     1f32 as i32;\n    |     ^^^^^^^^^^^\n    |\n    = note: `-D clippy::cast-possible-truncation` implied by `-D warnings`\n \n error: casting f32 to u32 may truncate the value\n-  --> $DIR/cast.rs:26:5\n+  --> $DIR/cast.rs:28:5\n    |\n-26 |     1f32 as u32;\n+28 |     1f32 as u32;\n    |     ^^^^^^^^^^^\n \n error: casting f32 to u32 may lose the sign of the value\n-  --> $DIR/cast.rs:26:5\n+  --> $DIR/cast.rs:28:5\n    |\n-26 |     1f32 as u32;\n+28 |     1f32 as u32;\n    |     ^^^^^^^^^^^\n    |\n    = note: `-D clippy::cast-sign-loss` implied by `-D warnings`\n \n error: casting f64 to f32 may truncate the value\n-  --> $DIR/cast.rs:27:5\n+  --> $DIR/cast.rs:29:5\n    |\n-27 |     1f64 as f32;\n+29 |     1f64 as f32;\n    |     ^^^^^^^^^^^\n \n error: casting i32 to i8 may truncate the value\n-  --> $DIR/cast.rs:28:5\n+  --> $DIR/cast.rs:30:5\n    |\n-28 |     1i32 as i8;\n+30 |     1i32 as i8;\n    |     ^^^^^^^^^^\n \n error: casting i32 to u8 may lose the sign of the value\n-  --> $DIR/cast.rs:29:5\n+  --> $DIR/cast.rs:31:5\n    |\n-29 |     1i32 as u8;\n+31 |     1i32 as u8;\n    |     ^^^^^^^^^^\n \n error: casting i32 to u8 may truncate the value\n-  --> $DIR/cast.rs:29:5\n+  --> $DIR/cast.rs:31:5\n    |\n-29 |     1i32 as u8;\n+31 |     1i32 as u8;\n    |     ^^^^^^^^^^\n \n error: casting f64 to isize may truncate the value\n-  --> $DIR/cast.rs:30:5\n+  --> $DIR/cast.rs:32:5\n    |\n-30 |     1f64 as isize;\n+32 |     1f64 as isize;\n    |     ^^^^^^^^^^^^^\n \n error: casting f64 to usize may truncate the value\n-  --> $DIR/cast.rs:31:5\n+  --> $DIR/cast.rs:33:5\n    |\n-31 |     1f64 as usize;\n+33 |     1f64 as usize;\n    |     ^^^^^^^^^^^^^\n \n error: casting f64 to usize may lose the sign of the value\n-  --> $DIR/cast.rs:31:5\n+  --> $DIR/cast.rs:33:5\n    |\n-31 |     1f64 as usize;\n+33 |     1f64 as usize;\n    |     ^^^^^^^^^^^^^\n \n error: casting u8 to i8 may wrap around the value\n-  --> $DIR/cast.rs:33:5\n+  --> $DIR/cast.rs:35:5\n    |\n-33 |     1u8 as i8;\n+35 |     1u8 as i8;\n    |     ^^^^^^^^^\n    |\n    = note: `-D clippy::cast-possible-wrap` implied by `-D warnings`\n \n error: casting u16 to i16 may wrap around the value\n-  --> $DIR/cast.rs:34:5\n+  --> $DIR/cast.rs:36:5\n    |\n-34 |     1u16 as i16;\n+36 |     1u16 as i16;\n    |     ^^^^^^^^^^^\n \n error: casting u32 to i32 may wrap around the value\n-  --> $DIR/cast.rs:35:5\n+  --> $DIR/cast.rs:37:5\n    |\n-35 |     1u32 as i32;\n+37 |     1u32 as i32;\n    |     ^^^^^^^^^^^\n \n error: casting u64 to i64 may wrap around the value\n-  --> $DIR/cast.rs:36:5\n+  --> $DIR/cast.rs:38:5\n    |\n-36 |     1u64 as i64;\n+38 |     1u64 as i64;\n    |     ^^^^^^^^^^^\n \n error: casting usize to isize may wrap around the value\n-  --> $DIR/cast.rs:37:5\n+  --> $DIR/cast.rs:39:5\n    |\n-37 |     1usize as isize;\n+39 |     1usize as isize;\n    |     ^^^^^^^^^^^^^^^\n \n error: casting f32 to f64 may become silently lossy if types change\n-  --> $DIR/cast.rs:39:5\n+  --> $DIR/cast.rs:41:5\n    |\n-39 |     1.0f32 as f64;\n+41 |     1.0f32 as f64;\n    |     ^^^^^^^^^^^^^ help: try: `f64::from(1.0f32)`\n    |\n    = note: `-D clippy::cast-lossless` implied by `-D warnings`\n \n error: casting u8 to u16 may become silently lossy if types change\n-  --> $DIR/cast.rs:41:5\n+  --> $DIR/cast.rs:43:5\n    |\n-41 |     (1u8 + 1u8) as u16;\n+43 |     (1u8 + 1u8) as u16;\n    |     ^^^^^^^^^^^^^^^^^^ help: try: `u16::from(1u8 + 1u8)`\n \n error: casting i32 to u32 may lose the sign of the value\n-  --> $DIR/cast.rs:43:5\n+  --> $DIR/cast.rs:45:5\n    |\n-43 |     1i32 as u32;\n+45 |     1i32 as u32;\n    |     ^^^^^^^^^^^\n \n error: casting isize to usize may lose the sign of the value\n-  --> $DIR/cast.rs:44:5\n+  --> $DIR/cast.rs:46:5\n    |\n-44 |     1isize as usize;\n+46 |     1isize as usize;\n    |     ^^^^^^^^^^^^^^^\n \n error: casting to the same type is unnecessary (`i32` -> `i32`)\n-  --> $DIR/cast.rs:47:5\n+  --> $DIR/cast.rs:49:5\n    |\n-47 |     1i32 as i32;\n+49 |     1i32 as i32;\n    |     ^^^^^^^^^^^\n    |\n    = note: `-D clippy::unnecessary-cast` implied by `-D warnings`\n \n error: casting to the same type is unnecessary (`f32` -> `f32`)\n-  --> $DIR/cast.rs:48:5\n+  --> $DIR/cast.rs:50:5\n    |\n-48 |     1f32 as f32;\n+50 |     1f32 as f32;\n    |     ^^^^^^^^^^^\n \n error: casting to the same type is unnecessary (`bool` -> `bool`)\n-  --> $DIR/cast.rs:49:5\n+  --> $DIR/cast.rs:51:5\n    |\n-49 |     false as bool;\n+51 |     false as bool;\n    |     ^^^^^^^^^^^^^\n \n error: aborting due to 28 previous errors"}, {"sha": "1c7d53c3ce7083bc2825ec1477e9b0ec092d3695", "filename": "tests/ui/cast_alignment.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcast_alignment.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcast_alignment.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcast_alignment.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: casting from `*const u8` to a more-strictly-aligned pointer (`*const u16`)\n-  --> $DIR/cast_alignment.rs:25:5\n+  --> $DIR/cast_alignment.rs:22:5\n    |\n-25 |     (&1u8 as *const u8) as *const u16;\n+22 |     (&1u8 as *const u8) as *const u16;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::cast-ptr-alignment` implied by `-D warnings`\n \n error: casting from `*mut u8` to a more-strictly-aligned pointer (`*mut u16`)\n-  --> $DIR/cast_alignment.rs:26:5\n+  --> $DIR/cast_alignment.rs:23:5\n    |\n-26 |     (&mut 1u8 as *mut u8) as *mut u16;\n+23 |     (&mut 1u8 as *mut u8) as *mut u16;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 2 previous errors"}, {"sha": "8380c7c84e237ca649478c665886d4239f1cc9be", "filename": "tests/ui/cast_lossless_float.stderr", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcast_lossless_float.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcast_lossless_float.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcast_lossless_float.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,63 +1,63 @@\n error: casting i8 to f32 may become silently lossy if types change\n-  --> $DIR/cast_lossless_float.rs:17:5\n+  --> $DIR/cast_lossless_float.rs:14:5\n    |\n-17 |     1i8 as f32;\n+14 |     1i8 as f32;\n    |     ^^^^^^^^^^ help: try: `f32::from(1i8)`\n    |\n    = note: `-D clippy::cast-lossless` implied by `-D warnings`\n \n error: casting i8 to f64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_float.rs:18:5\n+  --> $DIR/cast_lossless_float.rs:15:5\n    |\n-18 |     1i8 as f64;\n+15 |     1i8 as f64;\n    |     ^^^^^^^^^^ help: try: `f64::from(1i8)`\n \n error: casting u8 to f32 may become silently lossy if types change\n-  --> $DIR/cast_lossless_float.rs:19:5\n+  --> $DIR/cast_lossless_float.rs:16:5\n    |\n-19 |     1u8 as f32;\n+16 |     1u8 as f32;\n    |     ^^^^^^^^^^ help: try: `f32::from(1u8)`\n \n error: casting u8 to f64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_float.rs:20:5\n+  --> $DIR/cast_lossless_float.rs:17:5\n    |\n-20 |     1u8 as f64;\n+17 |     1u8 as f64;\n    |     ^^^^^^^^^^ help: try: `f64::from(1u8)`\n \n error: casting i16 to f32 may become silently lossy if types change\n-  --> $DIR/cast_lossless_float.rs:21:5\n+  --> $DIR/cast_lossless_float.rs:18:5\n    |\n-21 |     1i16 as f32;\n+18 |     1i16 as f32;\n    |     ^^^^^^^^^^^ help: try: `f32::from(1i16)`\n \n error: casting i16 to f64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_float.rs:22:5\n+  --> $DIR/cast_lossless_float.rs:19:5\n    |\n-22 |     1i16 as f64;\n+19 |     1i16 as f64;\n    |     ^^^^^^^^^^^ help: try: `f64::from(1i16)`\n \n error: casting u16 to f32 may become silently lossy if types change\n-  --> $DIR/cast_lossless_float.rs:23:5\n+  --> $DIR/cast_lossless_float.rs:20:5\n    |\n-23 |     1u16 as f32;\n+20 |     1u16 as f32;\n    |     ^^^^^^^^^^^ help: try: `f32::from(1u16)`\n \n error: casting u16 to f64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_float.rs:24:5\n+  --> $DIR/cast_lossless_float.rs:21:5\n    |\n-24 |     1u16 as f64;\n+21 |     1u16 as f64;\n    |     ^^^^^^^^^^^ help: try: `f64::from(1u16)`\n \n error: casting i32 to f64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_float.rs:25:5\n+  --> $DIR/cast_lossless_float.rs:22:5\n    |\n-25 |     1i32 as f64;\n+22 |     1i32 as f64;\n    |     ^^^^^^^^^^^ help: try: `f64::from(1i32)`\n \n error: casting u32 to f64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_float.rs:26:5\n+  --> $DIR/cast_lossless_float.rs:23:5\n    |\n-26 |     1u32 as f64;\n+23 |     1u32 as f64;\n    |     ^^^^^^^^^^^ help: try: `f64::from(1u32)`\n \n error: aborting due to 10 previous errors"}, {"sha": "e5558b66681f5ac77eb289371776e37e0c2c46c5", "filename": "tests/ui/cast_lossless_integer.stderr", "status": "modified", "additions": 36, "deletions": 36, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcast_lossless_integer.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcast_lossless_integer.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcast_lossless_integer.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,111 +1,111 @@\n error: casting i8 to i16 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:16:5\n+  --> $DIR/cast_lossless_integer.rs:14:5\n    |\n-16 |     1i8 as i16;\n+14 |     1i8 as i16;\n    |     ^^^^^^^^^^ help: try: `i16::from(1i8)`\n    |\n    = note: `-D clippy::cast-lossless` implied by `-D warnings`\n \n error: casting i8 to i32 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:17:5\n+  --> $DIR/cast_lossless_integer.rs:15:5\n    |\n-17 |     1i8 as i32;\n+15 |     1i8 as i32;\n    |     ^^^^^^^^^^ help: try: `i32::from(1i8)`\n \n error: casting i8 to i64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:18:5\n+  --> $DIR/cast_lossless_integer.rs:16:5\n    |\n-18 |     1i8 as i64;\n+16 |     1i8 as i64;\n    |     ^^^^^^^^^^ help: try: `i64::from(1i8)`\n \n error: casting u8 to i16 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:19:5\n+  --> $DIR/cast_lossless_integer.rs:17:5\n    |\n-19 |     1u8 as i16;\n+17 |     1u8 as i16;\n    |     ^^^^^^^^^^ help: try: `i16::from(1u8)`\n \n error: casting u8 to i32 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:20:5\n+  --> $DIR/cast_lossless_integer.rs:18:5\n    |\n-20 |     1u8 as i32;\n+18 |     1u8 as i32;\n    |     ^^^^^^^^^^ help: try: `i32::from(1u8)`\n \n error: casting u8 to i64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:21:5\n+  --> $DIR/cast_lossless_integer.rs:19:5\n    |\n-21 |     1u8 as i64;\n+19 |     1u8 as i64;\n    |     ^^^^^^^^^^ help: try: `i64::from(1u8)`\n \n error: casting u8 to u16 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:22:5\n+  --> $DIR/cast_lossless_integer.rs:20:5\n    |\n-22 |     1u8 as u16;\n+20 |     1u8 as u16;\n    |     ^^^^^^^^^^ help: try: `u16::from(1u8)`\n \n error: casting u8 to u32 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:23:5\n+  --> $DIR/cast_lossless_integer.rs:21:5\n    |\n-23 |     1u8 as u32;\n+21 |     1u8 as u32;\n    |     ^^^^^^^^^^ help: try: `u32::from(1u8)`\n \n error: casting u8 to u64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:24:5\n+  --> $DIR/cast_lossless_integer.rs:22:5\n    |\n-24 |     1u8 as u64;\n+22 |     1u8 as u64;\n    |     ^^^^^^^^^^ help: try: `u64::from(1u8)`\n \n error: casting i16 to i32 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:25:5\n+  --> $DIR/cast_lossless_integer.rs:23:5\n    |\n-25 |     1i16 as i32;\n+23 |     1i16 as i32;\n    |     ^^^^^^^^^^^ help: try: `i32::from(1i16)`\n \n error: casting i16 to i64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:26:5\n+  --> $DIR/cast_lossless_integer.rs:24:5\n    |\n-26 |     1i16 as i64;\n+24 |     1i16 as i64;\n    |     ^^^^^^^^^^^ help: try: `i64::from(1i16)`\n \n error: casting u16 to i32 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:27:5\n+  --> $DIR/cast_lossless_integer.rs:25:5\n    |\n-27 |     1u16 as i32;\n+25 |     1u16 as i32;\n    |     ^^^^^^^^^^^ help: try: `i32::from(1u16)`\n \n error: casting u16 to i64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:28:5\n+  --> $DIR/cast_lossless_integer.rs:26:5\n    |\n-28 |     1u16 as i64;\n+26 |     1u16 as i64;\n    |     ^^^^^^^^^^^ help: try: `i64::from(1u16)`\n \n error: casting u16 to u32 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:29:5\n+  --> $DIR/cast_lossless_integer.rs:27:5\n    |\n-29 |     1u16 as u32;\n+27 |     1u16 as u32;\n    |     ^^^^^^^^^^^ help: try: `u32::from(1u16)`\n \n error: casting u16 to u64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:30:5\n+  --> $DIR/cast_lossless_integer.rs:28:5\n    |\n-30 |     1u16 as u64;\n+28 |     1u16 as u64;\n    |     ^^^^^^^^^^^ help: try: `u64::from(1u16)`\n \n error: casting i32 to i64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:31:5\n+  --> $DIR/cast_lossless_integer.rs:29:5\n    |\n-31 |     1i32 as i64;\n+29 |     1i32 as i64;\n    |     ^^^^^^^^^^^ help: try: `i64::from(1i32)`\n \n error: casting u32 to i64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:32:5\n+  --> $DIR/cast_lossless_integer.rs:30:5\n    |\n-32 |     1u32 as i64;\n+30 |     1u32 as i64;\n    |     ^^^^^^^^^^^ help: try: `i64::from(1u32)`\n \n error: casting u32 to u64 may become silently lossy if types change\n-  --> $DIR/cast_lossless_integer.rs:33:5\n+  --> $DIR/cast_lossless_integer.rs:31:5\n    |\n-33 |     1u32 as u64;\n+31 |     1u32 as u64;\n    |     ^^^^^^^^^^^ help: try: `u64::from(1u32)`\n \n error: aborting due to 18 previous errors"}, {"sha": "9f658d40523671eeae46f16be0031c09ae02d7b2", "filename": "tests/ui/cast_size.stderr", "status": "modified", "additions": 38, "deletions": 38, "changes": 76, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcast_size.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcast_size.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcast_size.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,123 +1,123 @@\n error: casting isize to i8 may truncate the value\n-  --> $DIR/cast_size.rs:17:5\n+  --> $DIR/cast_size.rs:20:5\n    |\n-17 |     1isize as i8;\n+20 |     1isize as i8;\n    |     ^^^^^^^^^^^^\n    |\n    = note: `-D clippy::cast-possible-truncation` implied by `-D warnings`\n \n error: casting isize to f64 causes a loss of precision on targets with 64-bit wide pointers (isize is 64 bits wide, but f64's mantissa is only 52 bits wide)\n-  --> $DIR/cast_size.rs:18:5\n+  --> $DIR/cast_size.rs:21:5\n    |\n-18 |     1isize as f64;\n+21 |     1isize as f64;\n    |     ^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::cast-precision-loss` implied by `-D warnings`\n \n error: casting usize to f64 causes a loss of precision on targets with 64-bit wide pointers (usize is 64 bits wide, but f64's mantissa is only 52 bits wide)\n-  --> $DIR/cast_size.rs:19:5\n+  --> $DIR/cast_size.rs:22:5\n    |\n-19 |     1usize as f64;\n+22 |     1usize as f64;\n    |     ^^^^^^^^^^^^^\n \n error: casting isize to f32 causes a loss of precision (isize is 32 or 64 bits wide, but f32's mantissa is only 23 bits wide)\n-  --> $DIR/cast_size.rs:20:5\n+  --> $DIR/cast_size.rs:23:5\n    |\n-20 |     1isize as f32;\n+23 |     1isize as f32;\n    |     ^^^^^^^^^^^^^\n \n error: casting usize to f32 causes a loss of precision (usize is 32 or 64 bits wide, but f32's mantissa is only 23 bits wide)\n-  --> $DIR/cast_size.rs:21:5\n+  --> $DIR/cast_size.rs:24:5\n    |\n-21 |     1usize as f32;\n+24 |     1usize as f32;\n    |     ^^^^^^^^^^^^^\n \n error: casting isize to i32 may truncate the value on targets with 64-bit wide pointers\n-  --> $DIR/cast_size.rs:22:5\n+  --> $DIR/cast_size.rs:25:5\n    |\n-22 |     1isize as i32;\n+25 |     1isize as i32;\n    |     ^^^^^^^^^^^^^\n \n error: casting isize to u32 may lose the sign of the value\n-  --> $DIR/cast_size.rs:23:5\n+  --> $DIR/cast_size.rs:26:5\n    |\n-23 |     1isize as u32;\n+26 |     1isize as u32;\n    |     ^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::cast-sign-loss` implied by `-D warnings`\n \n error: casting isize to u32 may truncate the value on targets with 64-bit wide pointers\n-  --> $DIR/cast_size.rs:23:5\n+  --> $DIR/cast_size.rs:26:5\n    |\n-23 |     1isize as u32;\n+26 |     1isize as u32;\n    |     ^^^^^^^^^^^^^\n \n error: casting usize to u32 may truncate the value on targets with 64-bit wide pointers\n-  --> $DIR/cast_size.rs:24:5\n+  --> $DIR/cast_size.rs:27:5\n    |\n-24 |     1usize as u32;\n+27 |     1usize as u32;\n    |     ^^^^^^^^^^^^^\n \n error: casting usize to i32 may truncate the value on targets with 64-bit wide pointers\n-  --> $DIR/cast_size.rs:25:5\n+  --> $DIR/cast_size.rs:28:5\n    |\n-25 |     1usize as i32;\n+28 |     1usize as i32;\n    |     ^^^^^^^^^^^^^\n \n error: casting usize to i32 may wrap around the value on targets with 32-bit wide pointers\n-  --> $DIR/cast_size.rs:25:5\n+  --> $DIR/cast_size.rs:28:5\n    |\n-25 |     1usize as i32;\n+28 |     1usize as i32;\n    |     ^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::cast-possible-wrap` implied by `-D warnings`\n \n error: casting i64 to isize may truncate the value on targets with 32-bit wide pointers\n-  --> $DIR/cast_size.rs:27:5\n+  --> $DIR/cast_size.rs:30:5\n    |\n-27 |     1i64 as isize;\n+30 |     1i64 as isize;\n    |     ^^^^^^^^^^^^^\n \n error: casting i64 to usize may lose the sign of the value\n-  --> $DIR/cast_size.rs:28:5\n+  --> $DIR/cast_size.rs:31:5\n    |\n-28 |     1i64 as usize;\n+31 |     1i64 as usize;\n    |     ^^^^^^^^^^^^^\n \n error: casting i64 to usize may truncate the value on targets with 32-bit wide pointers\n-  --> $DIR/cast_size.rs:28:5\n+  --> $DIR/cast_size.rs:31:5\n    |\n-28 |     1i64 as usize;\n+31 |     1i64 as usize;\n    |     ^^^^^^^^^^^^^\n \n error: casting u64 to isize may truncate the value on targets with 32-bit wide pointers\n-  --> $DIR/cast_size.rs:29:5\n+  --> $DIR/cast_size.rs:32:5\n    |\n-29 |     1u64 as isize;\n+32 |     1u64 as isize;\n    |     ^^^^^^^^^^^^^\n \n error: casting u64 to isize may wrap around the value on targets with 64-bit wide pointers\n-  --> $DIR/cast_size.rs:29:5\n+  --> $DIR/cast_size.rs:32:5\n    |\n-29 |     1u64 as isize;\n+32 |     1u64 as isize;\n    |     ^^^^^^^^^^^^^\n \n error: casting u64 to usize may truncate the value on targets with 32-bit wide pointers\n-  --> $DIR/cast_size.rs:30:5\n+  --> $DIR/cast_size.rs:33:5\n    |\n-30 |     1u64 as usize;\n+33 |     1u64 as usize;\n    |     ^^^^^^^^^^^^^\n \n error: casting u32 to isize may wrap around the value on targets with 32-bit wide pointers\n-  --> $DIR/cast_size.rs:31:5\n+  --> $DIR/cast_size.rs:34:5\n    |\n-31 |     1u32 as isize;\n+34 |     1u32 as isize;\n    |     ^^^^^^^^^^^^^\n \n error: casting i32 to usize may lose the sign of the value\n-  --> $DIR/cast_size.rs:34:5\n+  --> $DIR/cast_size.rs:37:5\n    |\n-34 |     1i32 as usize;\n+37 |     1i32 as usize;\n    |     ^^^^^^^^^^^^^\n \n error: aborting due to 19 previous errors"}, {"sha": "cee27df2a7df20b3e0c9bfd55670e25667075c7e", "filename": "tests/ui/char_lit_as_u8.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fchar_lit_as_u8.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fchar_lit_as_u8.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fchar_lit_as_u8.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,7 +1,7 @@\n error: casting character literal to u8. `char`s are 4 bytes wide in rust, so casting to u8 truncates them\n-  --> $DIR/char_lit_as_u8.rs:17:13\n+  --> $DIR/char_lit_as_u8.rs:13:13\n    |\n-17 |     let c = 'a' as u8;\n+13 |     let c = 'a' as u8;\n    |             ^^^^^^^^^\n    |\n    = note: `-D clippy::char-lit-as-u8` implied by `-D warnings`"}, {"sha": "bce37d5022684a786a94cd1394f7391ea897e2de", "filename": "tests/ui/checked_unwrap.stderr", "status": "modified", "additions": 113, "deletions": 113, "changes": 226, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fchecked_unwrap.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fchecked_unwrap.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fchecked_unwrap.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,312 +1,312 @@\n error: You checked before that `unwrap()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:19:9\n+  --> $DIR/checked_unwrap.rs:16:9\n    |\n-18 |     if x.is_some() {\n+15 |     if x.is_some() {\n    |        ----------- the check is happening here\n-19 |         x.unwrap(); // unnecessary\n+16 |         x.unwrap(); // unnecessary\n    |         ^^^^^^^^^^\n    |\n note: lint level defined here\n-  --> $DIR/checked_unwrap.rs:13:35\n+  --> $DIR/checked_unwrap.rs:10:35\n    |\n-13 | #![deny(clippy::panicking_unwrap, clippy::unnecessary_unwrap)]\n+10 | #![deny(clippy::panicking_unwrap, clippy::unnecessary_unwrap)]\n    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-  --> $DIR/checked_unwrap.rs:21:9\n+  --> $DIR/checked_unwrap.rs:18:9\n    |\n-18 |     if x.is_some() {\n+15 |     if x.is_some() {\n    |        ----------- because of this check\n ...\n-21 |         x.unwrap(); // will panic\n+18 |         x.unwrap(); // will panic\n    |         ^^^^^^^^^^\n    |\n note: lint level defined here\n-  --> $DIR/checked_unwrap.rs:13:9\n+  --> $DIR/checked_unwrap.rs:10:9\n    |\n-13 | #![deny(clippy::panicking_unwrap, clippy::unnecessary_unwrap)]\n+10 | #![deny(clippy::panicking_unwrap, clippy::unnecessary_unwrap)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-  --> $DIR/checked_unwrap.rs:24:9\n+  --> $DIR/checked_unwrap.rs:21:9\n    |\n-23 |     if x.is_none() {\n+20 |     if x.is_none() {\n    |        ----------- because of this check\n-24 |         x.unwrap(); // will panic\n+21 |         x.unwrap(); // will panic\n    |         ^^^^^^^^^^\n \n error: You checked before that `unwrap()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:26:9\n+  --> $DIR/checked_unwrap.rs:23:9\n    |\n-23 |     if x.is_none() {\n+20 |     if x.is_none() {\n    |        ----------- the check is happening here\n ...\n-26 |         x.unwrap(); // unnecessary\n+23 |         x.unwrap(); // unnecessary\n    |         ^^^^^^^^^^\n \n error: You checked before that `unwrap()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:30:9\n+  --> $DIR/checked_unwrap.rs:27:9\n    |\n-29 |     if x.is_ok() {\n+26 |     if x.is_ok() {\n    |        --------- the check is happening here\n-30 |         x.unwrap(); // unnecessary\n+27 |         x.unwrap(); // unnecessary\n    |         ^^^^^^^^^^\n \n error: This call to `unwrap_err()` will always panic.\n-  --> $DIR/checked_unwrap.rs:31:9\n+  --> $DIR/checked_unwrap.rs:28:9\n    |\n-29 |     if x.is_ok() {\n+26 |     if x.is_ok() {\n    |        --------- because of this check\n-30 |         x.unwrap(); // unnecessary\n-31 |         x.unwrap_err(); // will panic\n+27 |         x.unwrap(); // unnecessary\n+28 |         x.unwrap_err(); // will panic\n    |         ^^^^^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-  --> $DIR/checked_unwrap.rs:33:9\n+  --> $DIR/checked_unwrap.rs:30:9\n    |\n-29 |     if x.is_ok() {\n+26 |     if x.is_ok() {\n    |        --------- because of this check\n ...\n-33 |         x.unwrap(); // will panic\n+30 |         x.unwrap(); // will panic\n    |         ^^^^^^^^^^\n \n error: You checked before that `unwrap_err()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:34:9\n+  --> $DIR/checked_unwrap.rs:31:9\n    |\n-29 |     if x.is_ok() {\n+26 |     if x.is_ok() {\n    |        --------- the check is happening here\n ...\n-34 |         x.unwrap_err(); // unnecessary\n+31 |         x.unwrap_err(); // unnecessary\n    |         ^^^^^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-  --> $DIR/checked_unwrap.rs:37:9\n+  --> $DIR/checked_unwrap.rs:34:9\n    |\n-36 |     if x.is_err() {\n+33 |     if x.is_err() {\n    |        ---------- because of this check\n-37 |         x.unwrap(); // will panic\n+34 |         x.unwrap(); // will panic\n    |         ^^^^^^^^^^\n \n error: You checked before that `unwrap_err()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:38:9\n+  --> $DIR/checked_unwrap.rs:35:9\n    |\n-36 |     if x.is_err() {\n+33 |     if x.is_err() {\n    |        ---------- the check is happening here\n-37 |         x.unwrap(); // will panic\n-38 |         x.unwrap_err(); // unnecessary\n+34 |         x.unwrap(); // will panic\n+35 |         x.unwrap_err(); // unnecessary\n    |         ^^^^^^^^^^^^^^\n \n error: You checked before that `unwrap()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:40:9\n+  --> $DIR/checked_unwrap.rs:37:9\n    |\n-36 |     if x.is_err() {\n+33 |     if x.is_err() {\n    |        ---------- the check is happening here\n ...\n-40 |         x.unwrap(); // unnecessary\n+37 |         x.unwrap(); // unnecessary\n    |         ^^^^^^^^^^\n \n error: This call to `unwrap_err()` will always panic.\n-  --> $DIR/checked_unwrap.rs:41:9\n+  --> $DIR/checked_unwrap.rs:38:9\n    |\n-36 |     if x.is_err() {\n+33 |     if x.is_err() {\n    |        ---------- because of this check\n ...\n-41 |         x.unwrap_err(); // will panic\n+38 |         x.unwrap_err(); // will panic\n    |         ^^^^^^^^^^^^^^\n \n error: You checked before that `unwrap()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:58:9\n+  --> $DIR/checked_unwrap.rs:55:9\n    |\n-57 |     if x.is_ok() && y.is_err() {\n+54 |     if x.is_ok() && y.is_err() {\n    |        --------- the check is happening here\n-58 |         x.unwrap(); // unnecessary\n+55 |         x.unwrap(); // unnecessary\n    |         ^^^^^^^^^^\n \n error: This call to `unwrap_err()` will always panic.\n-  --> $DIR/checked_unwrap.rs:59:9\n+  --> $DIR/checked_unwrap.rs:56:9\n    |\n-57 |     if x.is_ok() && y.is_err() {\n+54 |     if x.is_ok() && y.is_err() {\n    |        --------- because of this check\n-58 |         x.unwrap(); // unnecessary\n-59 |         x.unwrap_err(); // will panic\n+55 |         x.unwrap(); // unnecessary\n+56 |         x.unwrap_err(); // will panic\n    |         ^^^^^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-  --> $DIR/checked_unwrap.rs:60:9\n+  --> $DIR/checked_unwrap.rs:57:9\n    |\n-57 |     if x.is_ok() && y.is_err() {\n+54 |     if x.is_ok() && y.is_err() {\n    |                     ---------- because of this check\n ...\n-60 |         y.unwrap(); // will panic\n+57 |         y.unwrap(); // will panic\n    |         ^^^^^^^^^^\n \n error: You checked before that `unwrap_err()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:61:9\n+  --> $DIR/checked_unwrap.rs:58:9\n    |\n-57 |     if x.is_ok() && y.is_err() {\n+54 |     if x.is_ok() && y.is_err() {\n    |                     ---------- the check is happening here\n ...\n-61 |         y.unwrap_err(); // unnecessary\n+58 |         y.unwrap_err(); // unnecessary\n    |         ^^^^^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-  --> $DIR/checked_unwrap.rs:75:9\n+  --> $DIR/checked_unwrap.rs:72:9\n    |\n-70 |     if x.is_ok() || y.is_ok() {\n+67 |     if x.is_ok() || y.is_ok() {\n    |        --------- because of this check\n ...\n-75 |         x.unwrap(); // will panic\n+72 |         x.unwrap(); // will panic\n    |         ^^^^^^^^^^\n \n error: You checked before that `unwrap_err()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:76:9\n+  --> $DIR/checked_unwrap.rs:73:9\n    |\n-70 |     if x.is_ok() || y.is_ok() {\n+67 |     if x.is_ok() || y.is_ok() {\n    |        --------- the check is happening here\n ...\n-76 |         x.unwrap_err(); // unnecessary\n+73 |         x.unwrap_err(); // unnecessary\n    |         ^^^^^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-  --> $DIR/checked_unwrap.rs:77:9\n+  --> $DIR/checked_unwrap.rs:74:9\n    |\n-70 |     if x.is_ok() || y.is_ok() {\n+67 |     if x.is_ok() || y.is_ok() {\n    |                     --------- because of this check\n ...\n-77 |         y.unwrap(); // will panic\n+74 |         y.unwrap(); // will panic\n    |         ^^^^^^^^^^\n \n error: You checked before that `unwrap_err()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:78:9\n+  --> $DIR/checked_unwrap.rs:75:9\n    |\n-70 |     if x.is_ok() || y.is_ok() {\n+67 |     if x.is_ok() || y.is_ok() {\n    |                     --------- the check is happening here\n ...\n-78 |         y.unwrap_err(); // unnecessary\n+75 |         y.unwrap_err(); // unnecessary\n    |         ^^^^^^^^^^^^^^\n \n error: You checked before that `unwrap()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:82:9\n+  --> $DIR/checked_unwrap.rs:79:9\n    |\n-81 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n+78 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n    |        --------- the check is happening here\n-82 |         x.unwrap(); // unnecessary\n+79 |         x.unwrap(); // unnecessary\n    |         ^^^^^^^^^^\n \n error: This call to `unwrap_err()` will always panic.\n-  --> $DIR/checked_unwrap.rs:83:9\n+  --> $DIR/checked_unwrap.rs:80:9\n    |\n-81 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n+78 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n    |        --------- because of this check\n-82 |         x.unwrap(); // unnecessary\n-83 |         x.unwrap_err(); // will panic\n+79 |         x.unwrap(); // unnecessary\n+80 |         x.unwrap_err(); // will panic\n    |         ^^^^^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-  --> $DIR/checked_unwrap.rs:84:9\n+  --> $DIR/checked_unwrap.rs:81:9\n    |\n-81 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n+78 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n    |                       --------- because of this check\n ...\n-84 |         y.unwrap(); // will panic\n+81 |         y.unwrap(); // will panic\n    |         ^^^^^^^^^^\n \n error: You checked before that `unwrap_err()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:85:9\n+  --> $DIR/checked_unwrap.rs:82:9\n    |\n-81 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n+78 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n    |                       --------- the check is happening here\n ...\n-85 |         y.unwrap_err(); // unnecessary\n+82 |         y.unwrap_err(); // unnecessary\n    |         ^^^^^^^^^^^^^^\n \n error: You checked before that `unwrap()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:86:9\n+  --> $DIR/checked_unwrap.rs:83:9\n    |\n-81 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n+78 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n    |                                    ---------- the check is happening here\n ...\n-86 |         z.unwrap(); // unnecessary\n+83 |         z.unwrap(); // unnecessary\n    |         ^^^^^^^^^^\n \n error: This call to `unwrap_err()` will always panic.\n-  --> $DIR/checked_unwrap.rs:87:9\n+  --> $DIR/checked_unwrap.rs:84:9\n    |\n-81 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n+78 |     if x.is_ok() && !(y.is_ok() || z.is_err()) {\n    |                                    ---------- because of this check\n ...\n-87 |         z.unwrap_err(); // will panic\n+84 |         z.unwrap_err(); // will panic\n    |         ^^^^^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-  --> $DIR/checked_unwrap.rs:95:9\n+  --> $DIR/checked_unwrap.rs:92:9\n    |\n-89 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n+86 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n    |        --------- because of this check\n ...\n-95 |         x.unwrap(); // will panic\n+92 |         x.unwrap(); // will panic\n    |         ^^^^^^^^^^\n \n error: You checked before that `unwrap_err()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:96:9\n+  --> $DIR/checked_unwrap.rs:93:9\n    |\n-89 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n+86 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n    |        --------- the check is happening here\n ...\n-96 |         x.unwrap_err(); // unnecessary\n+93 |         x.unwrap_err(); // unnecessary\n    |         ^^^^^^^^^^^^^^\n \n error: You checked before that `unwrap()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-  --> $DIR/checked_unwrap.rs:97:9\n+  --> $DIR/checked_unwrap.rs:94:9\n    |\n-89 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n+86 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n    |                       --------- the check is happening here\n ...\n-97 |         y.unwrap(); // unnecessary\n+94 |         y.unwrap(); // unnecessary\n    |         ^^^^^^^^^^\n \n error: This call to `unwrap_err()` will always panic.\n-  --> $DIR/checked_unwrap.rs:98:9\n+  --> $DIR/checked_unwrap.rs:95:9\n    |\n-89 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n+86 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n    |                       --------- because of this check\n ...\n-98 |         y.unwrap_err(); // will panic\n+95 |         y.unwrap_err(); // will panic\n    |         ^^^^^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-  --> $DIR/checked_unwrap.rs:99:9\n+  --> $DIR/checked_unwrap.rs:96:9\n    |\n-89 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n+86 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n    |                                    ---------- because of this check\n ...\n-99 |         z.unwrap(); // will panic\n+96 |         z.unwrap(); // will panic\n    |         ^^^^^^^^^^\n \n error: You checked before that `unwrap_err()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-   --> $DIR/checked_unwrap.rs:100:9\n-    |\n-89  |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n-    |                                    ---------- the check is happening here\n+  --> $DIR/checked_unwrap.rs:97:9\n+   |\n+86 |     if x.is_ok() || !(y.is_ok() && z.is_err()) {\n+   |                                    ---------- the check is happening here\n ...\n-100 |         z.unwrap_err(); // unnecessary\n-    |         ^^^^^^^^^^^^^^\n+97 |         z.unwrap_err(); // unnecessary\n+   |         ^^^^^^^^^^^^^^\n \n error: You checked before that `unwrap()` cannot fail. Instead of checking and unwrapping, it's better to use `if let` or `match`.\n-   --> $DIR/checked_unwrap.rs:108:13\n+   --> $DIR/checked_unwrap.rs:105:13\n     |\n-107 |         if x.is_some() {\n+104 |         if x.is_some() {\n     |            ----------- the check is happening here\n-108 |             x.unwrap(); // unnecessary\n+105 |             x.unwrap(); // unnecessary\n     |             ^^^^^^^^^^\n \n error: This call to `unwrap()` will always panic.\n-   --> $DIR/checked_unwrap.rs:110:13\n+   --> $DIR/checked_unwrap.rs:107:13\n     |\n-107 |         if x.is_some() {\n+104 |         if x.is_some() {\n     |            ----------- because of this check\n ...\n-110 |             x.unwrap(); // will panic\n+107 |             x.unwrap(); // will panic\n     |             ^^^^^^^^^^\n \n error: aborting due to 34 previous errors"}, {"sha": "6838e6ad7aefacc5ed352d706158dfb2f326d6dd", "filename": "tests/ui/cmp_nan.stderr", "status": "modified", "additions": 24, "deletions": 24, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcmp_nan.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcmp_nan.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcmp_nan.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,75 +1,75 @@\n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:18:5\n+  --> $DIR/cmp_nan.rs:14:5\n    |\n-18 |     x == std::f32::NAN;\n+14 |     x == std::f32::NAN;\n    |     ^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::cmp-nan` implied by `-D warnings`\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:19:5\n+  --> $DIR/cmp_nan.rs:15:5\n    |\n-19 |     x != std::f32::NAN;\n+15 |     x != std::f32::NAN;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:20:5\n+  --> $DIR/cmp_nan.rs:16:5\n    |\n-20 |     x < std::f32::NAN;\n+16 |     x < std::f32::NAN;\n    |     ^^^^^^^^^^^^^^^^^\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:21:5\n+  --> $DIR/cmp_nan.rs:17:5\n    |\n-21 |     x > std::f32::NAN;\n+17 |     x > std::f32::NAN;\n    |     ^^^^^^^^^^^^^^^^^\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:22:5\n+  --> $DIR/cmp_nan.rs:18:5\n    |\n-22 |     x <= std::f32::NAN;\n+18 |     x <= std::f32::NAN;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:23:5\n+  --> $DIR/cmp_nan.rs:19:5\n    |\n-23 |     x >= std::f32::NAN;\n+19 |     x >= std::f32::NAN;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:26:5\n+  --> $DIR/cmp_nan.rs:22:5\n    |\n-26 |     y == std::f64::NAN;\n+22 |     y == std::f64::NAN;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:27:5\n+  --> $DIR/cmp_nan.rs:23:5\n    |\n-27 |     y != std::f64::NAN;\n+23 |     y != std::f64::NAN;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:28:5\n+  --> $DIR/cmp_nan.rs:24:5\n    |\n-28 |     y < std::f64::NAN;\n+24 |     y < std::f64::NAN;\n    |     ^^^^^^^^^^^^^^^^^\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:29:5\n+  --> $DIR/cmp_nan.rs:25:5\n    |\n-29 |     y > std::f64::NAN;\n+25 |     y > std::f64::NAN;\n    |     ^^^^^^^^^^^^^^^^^\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:30:5\n+  --> $DIR/cmp_nan.rs:26:5\n    |\n-30 |     y <= std::f64::NAN;\n+26 |     y <= std::f64::NAN;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: doomed comparison with NAN, use `std::{f32,f64}::is_nan()` instead\n-  --> $DIR/cmp_nan.rs:31:5\n+  --> $DIR/cmp_nan.rs:27:5\n    |\n-31 |     y >= std::f64::NAN;\n+27 |     y >= std::f64::NAN;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 12 previous errors"}, {"sha": "5038298d9c46c1612b76b52d8c3dd9e46713c846", "filename": "tests/ui/cmp_null.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcmp_null.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcmp_null.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcmp_null.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: Comparing with null is better expressed by the .is_null() method\n-  --> $DIR/cmp_null.rs:21:8\n+  --> $DIR/cmp_null.rs:18:8\n    |\n-21 |     if p == ptr::null() {\n+18 |     if p == ptr::null() {\n    |        ^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::cmp-null` implied by `-D warnings`\n \n error: Comparing with null is better expressed by the .is_null() method\n-  --> $DIR/cmp_null.rs:26:8\n+  --> $DIR/cmp_null.rs:23:8\n    |\n-26 |     if m == ptr::null_mut() {\n+23 |     if m == ptr::null_mut() {\n    |        ^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 2 previous errors"}, {"sha": "2d06f736967f4470b03b9fd083aa7e3e3dd267b3", "filename": "tests/ui/cmp_owned.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcmp_owned.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcmp_owned.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcmp_owned.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,57 +1,57 @@\n error: this creates an owned instance just for comparison\n-  --> $DIR/cmp_owned.rs:18:14\n+  --> $DIR/cmp_owned.rs:14:14\n    |\n-18 |         x != \"foo\".to_string();\n+14 |         x != \"foo\".to_string();\n    |              ^^^^^^^^^^^^^^^^^ help: try: `\"foo\"`\n    |\n    = note: `-D clippy::cmp-owned` implied by `-D warnings`\n \n error: this creates an owned instance just for comparison\n-  --> $DIR/cmp_owned.rs:20:9\n+  --> $DIR/cmp_owned.rs:16:9\n    |\n-20 |         \"foo\".to_string() != x;\n+16 |         \"foo\".to_string() != x;\n    |         ^^^^^^^^^^^^^^^^^ help: try: `\"foo\"`\n \n error: this creates an owned instance just for comparison\n-  --> $DIR/cmp_owned.rs:27:10\n+  --> $DIR/cmp_owned.rs:23:10\n    |\n-27 |     x != \"foo\".to_owned();\n+23 |     x != \"foo\".to_owned();\n    |          ^^^^^^^^^^^^^^^^ help: try: `\"foo\"`\n \n error: this creates an owned instance just for comparison\n-  --> $DIR/cmp_owned.rs:29:10\n+  --> $DIR/cmp_owned.rs:25:10\n    |\n-29 |     x != String::from(\"foo\");\n+25 |     x != String::from(\"foo\");\n    |          ^^^^^^^^^^^^^^^^^^^ help: try: `\"foo\"`\n \n error: this creates an owned instance just for comparison\n-  --> $DIR/cmp_owned.rs:33:5\n+  --> $DIR/cmp_owned.rs:29:5\n    |\n-33 |     Foo.to_owned() == Foo;\n+29 |     Foo.to_owned() == Foo;\n    |     ^^^^^^^^^^^^^^ help: try: `Foo`\n \n error: this creates an owned instance just for comparison\n-  --> $DIR/cmp_owned.rs:35:30\n+  --> $DIR/cmp_owned.rs:31:30\n    |\n-35 |     \"abc\".chars().filter(|c| c.to_owned() != 'X');\n+31 |     \"abc\".chars().filter(|c| c.to_owned() != 'X');\n    |                              ^^^^^^^^^^^^ help: try: `*c`\n \n error: this creates an owned instance just for comparison\n-  --> $DIR/cmp_owned.rs:42:5\n+  --> $DIR/cmp_owned.rs:38:5\n    |\n-42 |     y.to_owned() == *x;\n+38 |     y.to_owned() == *x;\n    |     ^^^^^^^^^^^^^^^^^^ try implementing the comparison without allocating\n \n error: this creates an owned instance just for comparison\n-  --> $DIR/cmp_owned.rs:47:5\n+  --> $DIR/cmp_owned.rs:43:5\n    |\n-47 |     y.to_owned() == **x;\n+43 |     y.to_owned() == **x;\n    |     ^^^^^^^^^^^^^^^^^^^ try implementing the comparison without allocating\n \n error: this creates an owned instance just for comparison\n-  --> $DIR/cmp_owned.rs:54:9\n+  --> $DIR/cmp_owned.rs:50:9\n    |\n-54 |         self.to_owned() == *other\n+50 |         self.to_owned() == *other\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^ try implementing the comparison without allocating\n \n error: aborting due to 9 previous errors"}, {"sha": "1884045a2db45c0a2d22d6aa6a0ff1511862ef17", "filename": "tests/ui/collapsible_if.stderr", "status": "modified", "additions": 152, "deletions": 152, "changes": 304, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcollapsible_if.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcollapsible_if.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcollapsible_if.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,259 +1,259 @@\n error: this if statement can be collapsed\n-  --> $DIR/collapsible_if.rs:16:5\n+  --> $DIR/collapsible_if.rs:15:5\n    |\n-16 | /     if x == \"hello\" {\n-17 | |         if y == \"world\" {\n-18 | |             println!(\"Hello world!\");\n-19 | |         }\n-20 | |     }\n+15 | /     if x == \"hello\" {\n+16 | |         if y == \"world\" {\n+17 | |             println!(\"Hello world!\");\n+18 | |         }\n+19 | |     }\n    | |_____^\n    |\n    = note: `-D clippy::collapsible-if` implied by `-D warnings`\n help: try\n    |\n-16 |     if x == \"hello\" && y == \"world\" {\n-17 |     println!(\"Hello world!\");\n-18 | }\n+15 |     if x == \"hello\" && y == \"world\" {\n+16 |     println!(\"Hello world!\");\n+17 | }\n    |\n \n error: this if statement can be collapsed\n-  --> $DIR/collapsible_if.rs:22:5\n+  --> $DIR/collapsible_if.rs:21:5\n    |\n-22 | /     if x == \"hello\" || x == \"world\" {\n-23 | |         if y == \"world\" || y == \"hello\" {\n-24 | |             println!(\"Hello world!\");\n-25 | |         }\n-26 | |     }\n+21 | /     if x == \"hello\" || x == \"world\" {\n+22 | |         if y == \"world\" || y == \"hello\" {\n+23 | |             println!(\"Hello world!\");\n+24 | |         }\n+25 | |     }\n    | |_____^\n help: try\n    |\n-22 |     if (x == \"hello\" || x == \"world\") && (y == \"world\" || y == \"hello\") {\n-23 |     println!(\"Hello world!\");\n-24 | }\n+21 |     if (x == \"hello\" || x == \"world\") && (y == \"world\" || y == \"hello\") {\n+22 |     println!(\"Hello world!\");\n+23 | }\n    |\n \n error: this if statement can be collapsed\n-  --> $DIR/collapsible_if.rs:28:5\n+  --> $DIR/collapsible_if.rs:27:5\n    |\n-28 | /     if x == \"hello\" && x == \"world\" {\n-29 | |         if y == \"world\" || y == \"hello\" {\n-30 | |             println!(\"Hello world!\");\n-31 | |         }\n-32 | |     }\n+27 | /     if x == \"hello\" && x == \"world\" {\n+28 | |         if y == \"world\" || y == \"hello\" {\n+29 | |             println!(\"Hello world!\");\n+30 | |         }\n+31 | |     }\n    | |_____^\n help: try\n    |\n-28 |     if x == \"hello\" && x == \"world\" && (y == \"world\" || y == \"hello\") {\n-29 |     println!(\"Hello world!\");\n-30 | }\n+27 |     if x == \"hello\" && x == \"world\" && (y == \"world\" || y == \"hello\") {\n+28 |     println!(\"Hello world!\");\n+29 | }\n    |\n \n error: this if statement can be collapsed\n-  --> $DIR/collapsible_if.rs:34:5\n+  --> $DIR/collapsible_if.rs:33:5\n    |\n-34 | /     if x == \"hello\" || x == \"world\" {\n-35 | |         if y == \"world\" && y == \"hello\" {\n-36 | |             println!(\"Hello world!\");\n-37 | |         }\n-38 | |     }\n+33 | /     if x == \"hello\" || x == \"world\" {\n+34 | |         if y == \"world\" && y == \"hello\" {\n+35 | |             println!(\"Hello world!\");\n+36 | |         }\n+37 | |     }\n    | |_____^\n help: try\n    |\n-34 |     if (x == \"hello\" || x == \"world\") && y == \"world\" && y == \"hello\" {\n-35 |     println!(\"Hello world!\");\n-36 | }\n+33 |     if (x == \"hello\" || x == \"world\") && y == \"world\" && y == \"hello\" {\n+34 |     println!(\"Hello world!\");\n+35 | }\n    |\n \n error: this if statement can be collapsed\n-  --> $DIR/collapsible_if.rs:40:5\n+  --> $DIR/collapsible_if.rs:39:5\n    |\n-40 | /     if x == \"hello\" && x == \"world\" {\n-41 | |         if y == \"world\" && y == \"hello\" {\n-42 | |             println!(\"Hello world!\");\n-43 | |         }\n-44 | |     }\n+39 | /     if x == \"hello\" && x == \"world\" {\n+40 | |         if y == \"world\" && y == \"hello\" {\n+41 | |             println!(\"Hello world!\");\n+42 | |         }\n+43 | |     }\n    | |_____^\n help: try\n    |\n-40 |     if x == \"hello\" && x == \"world\" && y == \"world\" && y == \"hello\" {\n-41 |     println!(\"Hello world!\");\n-42 | }\n+39 |     if x == \"hello\" && x == \"world\" && y == \"world\" && y == \"hello\" {\n+40 |     println!(\"Hello world!\");\n+41 | }\n    |\n \n error: this if statement can be collapsed\n-  --> $DIR/collapsible_if.rs:46:5\n+  --> $DIR/collapsible_if.rs:45:5\n    |\n-46 | /     if 42 == 1337 {\n-47 | |         if 'a' != 'A' {\n-48 | |             println!(\"world!\")\n-49 | |         }\n-50 | |     }\n+45 | /     if 42 == 1337 {\n+46 | |         if 'a' != 'A' {\n+47 | |             println!(\"world!\")\n+48 | |         }\n+49 | |     }\n    | |_____^\n help: try\n    |\n-46 |     if 42 == 1337 && 'a' != 'A' {\n-47 |     println!(\"world!\")\n-48 | }\n+45 |     if 42 == 1337 && 'a' != 'A' {\n+46 |     println!(\"world!\")\n+47 | }\n    |\n \n error: this `else { if .. }` block can be collapsed\n-  --> $DIR/collapsible_if.rs:55:12\n+  --> $DIR/collapsible_if.rs:54:12\n    |\n-55 |       } else {\n+54 |       } else {\n    |  ____________^\n-56 | |         if y == \"world\" {\n-57 | |             println!(\"world!\")\n-58 | |         }\n-59 | |     }\n+55 | |         if y == \"world\" {\n+56 | |             println!(\"world!\")\n+57 | |         }\n+58 | |     }\n    | |_____^\n help: try\n    |\n-55 |     } else if y == \"world\" {\n-56 |     println!(\"world!\")\n-57 | }\n+54 |     } else if y == \"world\" {\n+55 |     println!(\"world!\")\n+56 | }\n    |\n \n error: this `else { if .. }` block can be collapsed\n-  --> $DIR/collapsible_if.rs:63:12\n+  --> $DIR/collapsible_if.rs:62:12\n    |\n-63 |       } else {\n+62 |       } else {\n    |  ____________^\n-64 | |         if let Some(42) = Some(42) {\n-65 | |             println!(\"world!\")\n-66 | |         }\n-67 | |     }\n+63 | |         if let Some(42) = Some(42) {\n+64 | |             println!(\"world!\")\n+65 | |         }\n+66 | |     }\n    | |_____^\n help: try\n    |\n-63 |     } else if let Some(42) = Some(42) {\n-64 |     println!(\"world!\")\n-65 | }\n+62 |     } else if let Some(42) = Some(42) {\n+63 |     println!(\"world!\")\n+64 | }\n    |\n \n error: this `else { if .. }` block can be collapsed\n-  --> $DIR/collapsible_if.rs:71:12\n+  --> $DIR/collapsible_if.rs:70:12\n    |\n-71 |       } else {\n+70 |       } else {\n    |  ____________^\n-72 | |         if y == \"world\" {\n-73 | |             println!(\"world\")\n-74 | |         }\n+71 | |         if y == \"world\" {\n+72 | |             println!(\"world\")\n+73 | |         }\n ...  |\n-77 | |         }\n-78 | |     }\n+76 | |         }\n+77 | |     }\n    | |_____^\n help: try\n    |\n-71 |     } else if y == \"world\" {\n-72 |     println!(\"world\")\n-73 | }\n-74 | else {\n-75 |     println!(\"!\")\n-76 | }\n+70 |     } else if y == \"world\" {\n+71 |     println!(\"world\")\n+72 | }\n+73 | else {\n+74 |     println!(\"!\")\n+75 | }\n    |\n \n error: this `else { if .. }` block can be collapsed\n-  --> $DIR/collapsible_if.rs:82:12\n+  --> $DIR/collapsible_if.rs:81:12\n    |\n-82 |       } else {\n+81 |       } else {\n    |  ____________^\n-83 | |         if let Some(42) = Some(42) {\n-84 | |             println!(\"world\")\n-85 | |         }\n+82 | |         if let Some(42) = Some(42) {\n+83 | |             println!(\"world\")\n+84 | |         }\n ...  |\n-88 | |         }\n-89 | |     }\n+87 | |         }\n+88 | |     }\n    | |_____^\n help: try\n    |\n-82 |     } else if let Some(42) = Some(42) {\n-83 |     println!(\"world\")\n-84 | }\n-85 | else {\n-86 |     println!(\"!\")\n-87 | }\n+81 |     } else if let Some(42) = Some(42) {\n+82 |     println!(\"world\")\n+83 | }\n+84 | else {\n+85 |     println!(\"!\")\n+86 | }\n    |\n \n error: this `else { if .. }` block can be collapsed\n-   --> $DIR/collapsible_if.rs:93:12\n-    |\n-93  |       } else {\n-    |  ____________^\n-94  | |         if let Some(42) = Some(42) {\n-95  | |             println!(\"world\")\n-96  | |         }\n-...   |\n-99  | |         }\n-100 | |     }\n-    | |_____^\n+  --> $DIR/collapsible_if.rs:92:12\n+   |\n+92 |       } else {\n+   |  ____________^\n+93 | |         if let Some(42) = Some(42) {\n+94 | |             println!(\"world\")\n+95 | |         }\n+...  |\n+98 | |         }\n+99 | |     }\n+   | |_____^\n help: try\n-    |\n-93  |     } else if let Some(42) = Some(42) {\n-94  |     println!(\"world\")\n-95  | }\n-96  | else {\n-97  |     println!(\"!\")\n-98  | }\n-    |\n+   |\n+92 |     } else if let Some(42) = Some(42) {\n+93 |     println!(\"world\")\n+94 | }\n+95 | else {\n+96 |     println!(\"!\")\n+97 | }\n+   |\n \n error: this `else { if .. }` block can be collapsed\n-   --> $DIR/collapsible_if.rs:104:12\n+   --> $DIR/collapsible_if.rs:103:12\n     |\n-104 |       } else {\n+103 |       } else {\n     |  ____________^\n-105 | |         if x == \"hello\" {\n-106 | |             println!(\"world\")\n-107 | |         }\n+104 | |         if x == \"hello\" {\n+105 | |             println!(\"world\")\n+106 | |         }\n ...   |\n-110 | |         }\n-111 | |     }\n+109 | |         }\n+110 | |     }\n     | |_____^\n help: try\n     |\n-104 |     } else if x == \"hello\" {\n-105 |     println!(\"world\")\n-106 | }\n-107 | else {\n-108 |     println!(\"!\")\n-109 | }\n+103 |     } else if x == \"hello\" {\n+104 |     println!(\"world\")\n+105 | }\n+106 | else {\n+107 |     println!(\"!\")\n+108 | }\n     |\n \n error: this `else { if .. }` block can be collapsed\n-   --> $DIR/collapsible_if.rs:115:12\n+   --> $DIR/collapsible_if.rs:114:12\n     |\n-115 |       } else {\n+114 |       } else {\n     |  ____________^\n-116 | |         if let Some(42) = Some(42) {\n-117 | |             println!(\"world\")\n-118 | |         }\n+115 | |         if let Some(42) = Some(42) {\n+116 | |             println!(\"world\")\n+117 | |         }\n ...   |\n-121 | |         }\n-122 | |     }\n+120 | |         }\n+121 | |     }\n     | |_____^\n help: try\n     |\n-115 |     } else if let Some(42) = Some(42) {\n-116 |     println!(\"world\")\n-117 | }\n-118 | else {\n-119 |     println!(\"!\")\n-120 | }\n+114 |     } else if let Some(42) = Some(42) {\n+115 |     println!(\"world\")\n+116 | }\n+117 | else {\n+118 |     println!(\"!\")\n+119 | }\n     |\n \n error: this if statement can be collapsed\n-   --> $DIR/collapsible_if.rs:174:5\n+   --> $DIR/collapsible_if.rs:173:5\n     |\n-174 | /     if x == \"hello\" {\n-175 | |         if y == \"world\" { // Collapsible\n-176 | |             println!(\"Hello world!\");\n-177 | |         }\n-178 | |     }\n+173 | /     if x == \"hello\" {\n+174 | |         if y == \"world\" { // Collapsible\n+175 | |             println!(\"Hello world!\");\n+176 | |         }\n+177 | |     }\n     | |_____^\n help: try\n     |\n-174 |     if x == \"hello\" && y == \"world\" { // Collapsible\n-175 |     println!(\"Hello world!\");\n-176 | }\n+173 |     if x == \"hello\" && y == \"world\" { // Collapsible\n+174 |     println!(\"Hello world!\");\n+175 | }\n     |\n \n error: aborting due to 14 previous errors"}, {"sha": "80f133fd1ce8dbcb63963fecb48392eca5e4017b", "filename": "tests/ui/complex_types.stderr", "status": "modified", "additions": 30, "deletions": 30, "changes": 60, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcomplex_types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcomplex_types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcomplex_types.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,93 +1,93 @@\n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:19:12\n+  --> $DIR/complex_types.rs:16:12\n    |\n-19 | const CST: (u32, (u32, (u32, (u32, u32)))) = (0, (0, (0, (0, 0))));\n+16 | const CST: (u32, (u32, (u32, (u32, u32)))) = (0, (0, (0, (0, 0))));\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::type-complexity` implied by `-D warnings`\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:20:12\n+  --> $DIR/complex_types.rs:17:12\n    |\n-20 | static ST: (u32, (u32, (u32, (u32, u32)))) = (0, (0, (0, (0, 0))));\n+17 | static ST: (u32, (u32, (u32, (u32, u32)))) = (0, (0, (0, (0, 0))));\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:23:8\n+  --> $DIR/complex_types.rs:20:8\n    |\n-23 |     f: Vec<Vec<Box<(u32, u32, u32, u32)>>>,\n+20 |     f: Vec<Vec<Box<(u32, u32, u32, u32)>>>,\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:26:11\n+  --> $DIR/complex_types.rs:23:11\n    |\n-26 | struct TS(Vec<Vec<Box<(u32, u32, u32, u32)>>>);\n+23 | struct TS(Vec<Vec<Box<(u32, u32, u32, u32)>>>);\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:29:11\n+  --> $DIR/complex_types.rs:26:11\n    |\n-29 |     Tuple(Vec<Vec<Box<(u32, u32, u32, u32)>>>),\n+26 |     Tuple(Vec<Vec<Box<(u32, u32, u32, u32)>>>),\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:30:17\n+  --> $DIR/complex_types.rs:27:17\n    |\n-30 |     Struct { f: Vec<Vec<Box<(u32, u32, u32, u32)>>> },\n+27 |     Struct { f: Vec<Vec<Box<(u32, u32, u32, u32)>>> },\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:34:14\n+  --> $DIR/complex_types.rs:31:14\n    |\n-34 |     const A: (u32, (u32, (u32, (u32, u32)))) = (0, (0, (0, (0, 0))));\n+31 |     const A: (u32, (u32, (u32, (u32, u32)))) = (0, (0, (0, (0, 0))));\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:35:30\n+  --> $DIR/complex_types.rs:32:30\n    |\n-35 |     fn impl_method(&self, p: Vec<Vec<Box<(u32, u32, u32, u32)>>>) { }\n+32 |     fn impl_method(&self, p: Vec<Vec<Box<(u32, u32, u32, u32)>>>) {}\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:39:14\n+  --> $DIR/complex_types.rs:36:14\n    |\n-39 |     const A: Vec<Vec<Box<(u32, u32, u32, u32)>>>;\n+36 |     const A: Vec<Vec<Box<(u32, u32, u32, u32)>>>;\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:40:14\n+  --> $DIR/complex_types.rs:37:14\n    |\n-40 |     type B = Vec<Vec<Box<(u32, u32, u32, u32)>>>;\n+37 |     type B = Vec<Vec<Box<(u32, u32, u32, u32)>>>;\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:41:25\n+  --> $DIR/complex_types.rs:38:25\n    |\n-41 |     fn method(&self, p: Vec<Vec<Box<(u32, u32, u32, u32)>>>);\n+38 |     fn method(&self, p: Vec<Vec<Box<(u32, u32, u32, u32)>>>);\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:42:29\n+  --> $DIR/complex_types.rs:39:29\n    |\n-42 |     fn def_method(&self, p: Vec<Vec<Box<(u32, u32, u32, u32)>>>) { }\n+39 |     fn def_method(&self, p: Vec<Vec<Box<(u32, u32, u32, u32)>>>) {}\n    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:45:15\n+  --> $DIR/complex_types.rs:42:15\n    |\n-45 | fn test1() -> Vec<Vec<Box<(u32, u32, u32, u32)>>> { vec![] }\n+42 | fn test1() -> Vec<Vec<Box<(u32, u32, u32, u32)>>> {\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:47:14\n+  --> $DIR/complex_types.rs:46:14\n    |\n-47 | fn test2(_x: Vec<Vec<Box<(u32, u32, u32, u32)>>>) { }\n+46 | fn test2(_x: Vec<Vec<Box<(u32, u32, u32, u32)>>>) {}\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: very complex type used. Consider factoring parts into `type` definitions\n-  --> $DIR/complex_types.rs:50:13\n+  --> $DIR/complex_types.rs:49:13\n    |\n-50 |     let _y: Vec<Vec<Box<(u32, u32, u32, u32)>>> = vec![];\n+49 |     let _y: Vec<Vec<Box<(u32, u32, u32, u32)>>> = vec![];\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 15 previous errors"}, {"sha": "ba53d0718fcb59d74b0c91b3e42cfd4d908289e0", "filename": "tests/ui/const_static_lifetime.stderr", "status": "modified", "additions": 26, "deletions": 26, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fconst_static_lifetime.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fconst_static_lifetime.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fconst_static_lifetime.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,81 +1,81 @@\n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:14:17\n+  --> $DIR/const_static_lifetime.rs:13:17\n    |\n-14 | const VAR_ONE: &'static str = \"Test constant #1\"; // ERROR Consider removing 'static.\n+13 | const VAR_ONE: &'static str = \"Test constant #1\"; // ERROR Consider removing 'static.\n    |                -^^^^^^^---- help: consider removing `'static`: `&str`\n    |\n    = note: `-D clippy::const-static-lifetime` implied by `-D warnings`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:18:21\n+  --> $DIR/const_static_lifetime.rs:17:21\n    |\n-18 | const VAR_THREE: &[&'static str] = &[\"one\", \"two\"]; // ERROR Consider removing 'static\n+17 | const VAR_THREE: &[&'static str] = &[\"one\", \"two\"]; // ERROR Consider removing 'static\n    |                    -^^^^^^^---- help: consider removing `'static`: `&str`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:20:32\n+  --> $DIR/const_static_lifetime.rs:19:32\n    |\n-20 | const VAR_FOUR: (&str, (&str, &'static str), &'static str) = (\"on\", (\"th\", \"th\"), \"on\"); // ERROR Consider removing 'static\n+19 | const VAR_FOUR: (&str, (&str, &'static str), &'static str) = (\"on\", (\"th\", \"th\"), \"on\"); // ERROR Consider removing 'static\n    |                               -^^^^^^^---- help: consider removing `'static`: `&str`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:20:47\n+  --> $DIR/const_static_lifetime.rs:19:47\n    |\n-20 | const VAR_FOUR: (&str, (&str, &'static str), &'static str) = (\"on\", (\"th\", \"th\"), \"on\"); // ERROR Consider removing 'static\n+19 | const VAR_FOUR: (&str, (&str, &'static str), &'static str) = (\"on\", (\"th\", \"th\"), \"on\"); // ERROR Consider removing 'static\n    |                                              -^^^^^^^---- help: consider removing `'static`: `&str`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:22:18\n+  --> $DIR/const_static_lifetime.rs:21:18\n    |\n-22 | const VAR_FIVE: &'static [&[&'static str]] = &[&[\"test\"], &[\"other one\"]]; // ERROR Consider removing 'static\n+21 | const VAR_FIVE: &'static [&[&'static str]] = &[&[\"test\"], &[\"other one\"]]; // ERROR Consider removing 'static\n    |                 -^^^^^^^------------------ help: consider removing `'static`: `&[&[&'static str]]`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:22:30\n+  --> $DIR/const_static_lifetime.rs:21:30\n    |\n-22 | const VAR_FIVE: &'static [&[&'static str]] = &[&[\"test\"], &[\"other one\"]]; // ERROR Consider removing 'static\n+21 | const VAR_FIVE: &'static [&[&'static str]] = &[&[\"test\"], &[\"other one\"]]; // ERROR Consider removing 'static\n    |                             -^^^^^^^---- help: consider removing `'static`: `&str`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:24:17\n+  --> $DIR/const_static_lifetime.rs:23:17\n    |\n-24 | const VAR_SIX: &'static u8 = &5;\n+23 | const VAR_SIX: &'static u8 = &5;\n    |                -^^^^^^^--- help: consider removing `'static`: `&u8`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:26:29\n+  --> $DIR/const_static_lifetime.rs:25:29\n    |\n-26 | const VAR_SEVEN: &[&(&str, &'static [&'static str])] = &[&(\"one\", &[\"other one\"])];\n+25 | const VAR_SEVEN: &[&(&str, &'static [&'static str])] = &[&(\"one\", &[\"other one\"])];\n    |                            -^^^^^^^--------------- help: consider removing `'static`: `&[&'static str]`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:26:39\n+  --> $DIR/const_static_lifetime.rs:25:39\n    |\n-26 | const VAR_SEVEN: &[&(&str, &'static [&'static str])] = &[&(\"one\", &[\"other one\"])];\n+25 | const VAR_SEVEN: &[&(&str, &'static [&'static str])] = &[&(\"one\", &[\"other one\"])];\n    |                                      -^^^^^^^---- help: consider removing `'static`: `&str`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:28:20\n+  --> $DIR/const_static_lifetime.rs:27:20\n    |\n-28 | const VAR_HEIGHT: &'static Foo = &Foo {};\n+27 | const VAR_HEIGHT: &'static Foo = &Foo {};\n    |                   -^^^^^^^---- help: consider removing `'static`: `&Foo`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:30:19\n+  --> $DIR/const_static_lifetime.rs:29:19\n    |\n-30 | const VAR_SLICE: &'static [u8] = b\"Test constant #1\"; // ERROR Consider removing 'static.\n+29 | const VAR_SLICE: &'static [u8] = b\"Test constant #1\"; // ERROR Consider removing 'static.\n    |                  -^^^^^^^----- help: consider removing `'static`: `&[u8]`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:32:19\n+  --> $DIR/const_static_lifetime.rs:31:19\n    |\n-32 | const VAR_TUPLE: &'static (u8, u8) = &(1, 2); // ERROR Consider removing 'static.\n+31 | const VAR_TUPLE: &'static (u8, u8) = &(1, 2); // ERROR Consider removing 'static.\n    |                  -^^^^^^^--------- help: consider removing `'static`: `&(u8, u8)`\n \n error: Constants have by default a `'static` lifetime\n-  --> $DIR/const_static_lifetime.rs:34:19\n+  --> $DIR/const_static_lifetime.rs:33:19\n    |\n-34 | const VAR_ARRAY: &'static [u8; 1] = b\"T\"; // ERROR Consider removing 'static.\n+33 | const VAR_ARRAY: &'static [u8; 1] = b\"T\"; // ERROR Consider removing 'static.\n    |                  -^^^^^^^-------- help: consider removing `'static`: `&[u8; 1]`\n \n error: aborting due to 13 previous errors"}, {"sha": "e41fac0f68699fa70f4d0ac0cc75e3c64c6584d5", "filename": "tests/ui/copies.stderr", "status": "modified", "additions": 199, "deletions": 192, "changes": 391, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcopies.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcopies.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcopies.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,385 +1,392 @@\n error: this `if` has identical blocks\n-  --> $DIR/copies.rs:41:10\n+  --> $DIR/copies.rs:50:12\n    |\n-41 |       else { //~ ERROR same body as `if` block\n-   |  __________^\n-42 | |         Foo { bar: 42 };\n-43 | |         0..10;\n-44 | |         ..;\n+50 |       } else {\n+   |  ____________^\n+51 | |         //~ ERROR same body as `if` block\n+52 | |         Foo { bar: 42 };\n+53 | |         0..10;\n ...  |\n-48 | |         foo();\n-49 | |     }\n+58 | |         foo();\n+59 | |     }\n    | |_____^\n    |\n    = note: `-D clippy::if-same-then-else` implied by `-D warnings`\n note: same as this\n-  --> $DIR/copies.rs:32:13\n+  --> $DIR/copies.rs:42:13\n    |\n-32 |       if true {\n+42 |       if true {\n    |  _____________^\n-33 | |         Foo { bar: 42 };\n-34 | |         0..10;\n-35 | |         ..;\n+43 | |         Foo { bar: 42 };\n+44 | |         0..10;\n+45 | |         ..;\n ...  |\n-39 | |         foo();\n-40 | |     }\n+49 | |         foo();\n+50 | |     } else {\n    | |_____^\n \n error: this `match` has identical arm bodies\n-  --> $DIR/copies.rs:90:14\n-   |\n-90 |           _ => { //~ ERROR match arms have same body\n-   |  ______________^\n-91 | |             foo();\n-92 | |             let mut a = 42 + [23].len() as i32;\n-93 | |             if true {\n-...  |\n-97 | |             a\n-98 | |         }\n-   | |_________^\n-   |\n-   = note: `-D clippy::match-same-arms` implied by `-D warnings`\n+   --> $DIR/copies.rs:96:14\n+    |\n+96  |           _ => {\n+    |  ______________^\n+97  | |             //~ ERROR match arms have same body\n+98  | |             foo();\n+99  | |             let mut a = 42 + [23].len() as i32;\n+...   |\n+104 | |             a\n+105 | |         },\n+    | |_________^\n+    |\n+    = note: `-D clippy::match-same-arms` implied by `-D warnings`\n note: same as this\n-  --> $DIR/copies.rs:81:15\n-   |\n-81 |           42 => {\n-   |  _______________^\n-82 | |             foo();\n-83 | |             let mut a = 42 + [23].len() as i32;\n-84 | |             if true {\n-...  |\n-88 | |             a\n-89 | |         }\n-   | |_________^\n+   --> $DIR/copies.rs:87:15\n+    |\n+87  |           42 => {\n+    |  _______________^\n+88  | |             foo();\n+89  | |             let mut a = 42 + [23].len() as i32;\n+90  | |             if true {\n+...   |\n+94  | |             a\n+95  | |         },\n+    | |_________^\n note: `42` has the same arm body as the `_` wildcard, consider removing it`\n-  --> $DIR/copies.rs:81:15\n-   |\n-81 |           42 => {\n-   |  _______________^\n-82 | |             foo();\n-83 | |             let mut a = 42 + [23].len() as i32;\n-84 | |             if true {\n-...  |\n-88 | |             a\n-89 | |         }\n-   | |_________^\n+   --> $DIR/copies.rs:87:15\n+    |\n+87  |           42 => {\n+    |  _______________^\n+88  | |             foo();\n+89  | |             let mut a = 42 + [23].len() as i32;\n+90  | |             if true {\n+...   |\n+94  | |             a\n+95  | |         },\n+    | |_________^\n \n error: this `match` has identical arm bodies\n-   --> $DIR/copies.rs:104:14\n+   --> $DIR/copies.rs:111:14\n     |\n-104 |         _ => 0, //~ ERROR match arms have same body\n+111 |         _ => 0, //~ ERROR match arms have same body\n     |              ^\n     |\n note: same as this\n-   --> $DIR/copies.rs:102:19\n+   --> $DIR/copies.rs:109:19\n     |\n-102 |         Abc::A => 0,\n+109 |         Abc::A => 0,\n     |                   ^\n note: `Abc::A` has the same arm body as the `_` wildcard, consider removing it`\n-   --> $DIR/copies.rs:102:19\n+   --> $DIR/copies.rs:109:19\n     |\n-102 |         Abc::A => 0,\n+109 |         Abc::A => 0,\n     |                   ^\n \n error: this `if` has identical blocks\n-   --> $DIR/copies.rs:114:10\n+   --> $DIR/copies.rs:120:12\n     |\n-114 |       else { //~ ERROR same body as `if` block\n-    |  __________^\n-115 | |         42\n-116 | |     };\n+120 |       } else {\n+    |  ____________^\n+121 | |         //~ ERROR same body as `if` block\n+122 | |         42\n+123 | |     };\n     | |_____^\n     |\n note: same as this\n-   --> $DIR/copies.rs:111:21\n+   --> $DIR/copies.rs:118:21\n     |\n-111 |       let _ = if true {\n+118 |       let _ = if true {\n     |  _____________________^\n-112 | |         42\n-113 | |     }\n+119 | |         42\n+120 | |     } else {\n     | |_____^\n \n error: this `if` has identical blocks\n-   --> $DIR/copies.rs:128:10\n+   --> $DIR/copies.rs:134:12\n     |\n-128 |       else { //~ ERROR same body as `if` block\n-    |  __________^\n-129 | |         for _ in &[42] {\n-130 | |             let foo: &Option<_> = &Some::<u8>(42);\n-131 | |             if true {\n+134 |       } else {\n+    |  ____________^\n+135 | |         //~ ERROR same body as `if` block\n+136 | |         for _ in &[42] {\n+137 | |             let foo: &Option<_> = &Some::<u8>(42);\n ...   |\n-136 | |         }\n-137 | |     }\n+143 | |         }\n+144 | |     }\n     | |_____^\n     |\n note: same as this\n-   --> $DIR/copies.rs:118:13\n+   --> $DIR/copies.rs:125:13\n     |\n-118 |       if true {\n+125 |       if true {\n     |  _____________^\n-119 | |         for _ in &[42] {\n-120 | |             let foo: &Option<_> = &Some::<u8>(42);\n-121 | |             if true {\n+126 | |         for _ in &[42] {\n+127 | |             let foo: &Option<_> = &Some::<u8>(42);\n+128 | |             if true {\n ...   |\n-126 | |         }\n-127 | |     }\n+133 | |         }\n+134 | |     } else {\n     | |_____^\n \n error: this `if` has identical blocks\n-   --> $DIR/copies.rs:150:10\n+   --> $DIR/copies.rs:153:12\n     |\n-150 |       else { //~ ERROR same body as `if` block\n-    |  __________^\n-151 | |         let bar = if true {\n-152 | |             42\n-153 | |         }\n+153 |       } else {\n+    |  ____________^\n+154 | |         //~ ERROR same body as `if` block\n+155 | |         let bar = if true { 42 } else { 43 };\n+156 | |\n ...   |\n-159 | |         bar + 1;\n-160 | |     }\n+160 | |         bar + 1;\n+161 | |     }\n     | |_____^\n     |\n note: same as this\n-   --> $DIR/copies.rs:139:13\n+   --> $DIR/copies.rs:146:13\n     |\n-139 |       if true {\n+146 |       if true {\n     |  _____________^\n-140 | |         let bar = if true {\n-141 | |             42\n-142 | |         }\n+147 | |         let bar = if true { 42 } else { 43 };\n+148 | |\n+149 | |         while foo() {\n ...   |\n-148 | |         bar + 1;\n-149 | |     }\n+152 | |         bar + 1;\n+153 | |     } else {\n     | |_____^\n \n error: this `if` has identical blocks\n-   --> $DIR/copies.rs:185:10\n+   --> $DIR/copies.rs:183:12\n     |\n-185 |       else { //~ ERROR same body as `if` block\n-    |  __________^\n-186 | |         if let Some(a) = Some(42) {}\n-187 | |     }\n+183 |       } else {\n+    |  ____________^\n+184 | |         //~ ERROR same body as `if` block\n+185 | |         if let Some(a) = Some(42) {}\n+186 | |     }\n     | |_____^\n     |\n note: same as this\n-   --> $DIR/copies.rs:182:13\n+   --> $DIR/copies.rs:181:13\n     |\n-182 |       if true {\n+181 |       if true {\n     |  _____________^\n-183 | |         if let Some(a) = Some(42) {}\n-184 | |     }\n+182 | |         if let Some(a) = Some(42) {}\n+183 | |     } else {\n     | |_____^\n \n error: this `if` has identical blocks\n-   --> $DIR/copies.rs:192:10\n+   --> $DIR/copies.rs:190:12\n     |\n-192 |       else { //~ ERROR same body as `if` block\n-    |  __________^\n-193 | |         if let (1, .., 3) = (1, 2, 3) {}\n-194 | |     }\n+190 |       } else {\n+    |  ____________^\n+191 | |         //~ ERROR same body as `if` block\n+192 | |         if let (1, .., 3) = (1, 2, 3) {}\n+193 | |     }\n     | |_____^\n     |\n note: same as this\n-   --> $DIR/copies.rs:189:13\n+   --> $DIR/copies.rs:188:13\n     |\n-189 |       if true {\n+188 |       if true {\n     |  _____________^\n-190 | |         if let (1, .., 3) = (1, 2, 3) {}\n-191 | |     }\n+189 | |         if let (1, .., 3) = (1, 2, 3) {}\n+190 | |     } else {\n     | |_____^\n \n error: this `match` has identical arm bodies\n-   --> $DIR/copies.rs:247:15\n+   --> $DIR/copies.rs:239:15\n     |\n-247 |         51 => foo(), //~ ERROR match arms have same body\n+239 |         51 => foo(), //~ ERROR match arms have same body\n     |               ^^^^^\n     |\n note: same as this\n-   --> $DIR/copies.rs:246:15\n+   --> $DIR/copies.rs:238:15\n     |\n-246 |         42 => foo(),\n+238 |         42 => foo(),\n     |               ^^^^^\n note: consider refactoring into `42 | 51`\n-   --> $DIR/copies.rs:246:15\n+   --> $DIR/copies.rs:238:15\n     |\n-246 |         42 => foo(),\n+238 |         42 => foo(),\n     |               ^^^^^\n \n error: this `match` has identical arm bodies\n-   --> $DIR/copies.rs:253:17\n+   --> $DIR/copies.rs:245:17\n     |\n-253 |         None => 24, //~ ERROR match arms have same body\n+245 |         None => 24, //~ ERROR match arms have same body\n     |                 ^^\n     |\n note: same as this\n-   --> $DIR/copies.rs:252:20\n+   --> $DIR/copies.rs:244:20\n     |\n-252 |         Some(_) => 24,\n+244 |         Some(_) => 24,\n     |                    ^^\n note: consider refactoring into `Some(_) | None`\n-   --> $DIR/copies.rs:252:20\n+   --> $DIR/copies.rs:244:20\n     |\n-252 |         Some(_) => 24,\n+244 |         Some(_) => 24,\n     |                    ^^\n \n error: this `match` has identical arm bodies\n-   --> $DIR/copies.rs:275:28\n+   --> $DIR/copies.rs:267:28\n     |\n-275 |         (None, Some(a)) => bar(a), //~ ERROR match arms have same body\n+267 |         (None, Some(a)) => bar(a), //~ ERROR match arms have same body\n     |                            ^^^^^^\n     |\n note: same as this\n-   --> $DIR/copies.rs:274:28\n+   --> $DIR/copies.rs:266:28\n     |\n-274 |         (Some(a), None) => bar(a),\n+266 |         (Some(a), None) => bar(a),\n     |                            ^^^^^^\n note: consider refactoring into `(Some(a), None) | (None, Some(a))`\n-   --> $DIR/copies.rs:274:28\n+   --> $DIR/copies.rs:266:28\n     |\n-274 |         (Some(a), None) => bar(a),\n+266 |         (Some(a), None) => bar(a),\n     |                            ^^^^^^\n \n error: this `match` has identical arm bodies\n-   --> $DIR/copies.rs:281:26\n+   --> $DIR/copies.rs:273:26\n     |\n-281 |         (.., Some(a)) => bar(a), //~ ERROR match arms have same body\n+273 |         (.., Some(a)) => bar(a), //~ ERROR match arms have same body\n     |                          ^^^^^^\n     |\n note: same as this\n-   --> $DIR/copies.rs:280:26\n+   --> $DIR/copies.rs:272:26\n     |\n-280 |         (Some(a), ..) => bar(a),\n+272 |         (Some(a), ..) => bar(a),\n     |                          ^^^^^^\n note: consider refactoring into `(Some(a), ..) | (.., Some(a))`\n-   --> $DIR/copies.rs:280:26\n+   --> $DIR/copies.rs:272:26\n     |\n-280 |         (Some(a), ..) => bar(a),\n+272 |         (Some(a), ..) => bar(a),\n     |                          ^^^^^^\n \n error: this `match` has identical arm bodies\n-   --> $DIR/copies.rs:287:20\n+   --> $DIR/copies.rs:279:20\n     |\n-287 |         (.., 3) => 42, //~ ERROR match arms have same body\n+279 |         (.., 3) => 42, //~ ERROR match arms have same body\n     |                    ^^\n     |\n note: same as this\n-   --> $DIR/copies.rs:286:23\n+   --> $DIR/copies.rs:278:23\n     |\n-286 |         (1, .., 3) => 42,\n+278 |         (1, .., 3) => 42,\n     |                       ^^\n note: consider refactoring into `(1, .., 3) | (.., 3)`\n-   --> $DIR/copies.rs:286:23\n+   --> $DIR/copies.rs:278:23\n     |\n-286 |         (1, .., 3) => 42,\n+278 |         (1, .., 3) => 42,\n     |                       ^^\n \n error: this `if` has identical blocks\n-   --> $DIR/copies.rs:293:12\n+   --> $DIR/copies.rs:285:12\n     |\n-293 |       } else { //~ ERROR same body as `if` block\n+285 |       } else {\n     |  ____________^\n-294 | |         0.0\n-295 | |     };\n+286 | |         //~ ERROR same body as `if` block\n+287 | |         0.0\n+288 | |     };\n     | |_____^\n     |\n note: same as this\n-   --> $DIR/copies.rs:291:21\n+   --> $DIR/copies.rs:283:21\n     |\n-291 |       let _ = if true {\n+283 |       let _ = if true {\n     |  _____________________^\n-292 | |         0.0\n-293 | |     } else { //~ ERROR same body as `if` block\n+284 | |         0.0\n+285 | |     } else {\n     | |_____^\n \n error: this `if` has identical blocks\n-   --> $DIR/copies.rs:299:12\n+   --> $DIR/copies.rs:292:12\n     |\n-299 |       } else { //~ ERROR same body as `if` block\n+292 |       } else {\n     |  ____________^\n-300 | |         -0.0\n-301 | |     };\n+293 | |         //~ ERROR same body as `if` block\n+294 | |         -0.0\n+295 | |     };\n     | |_____^\n     |\n note: same as this\n-   --> $DIR/copies.rs:297:21\n+   --> $DIR/copies.rs:290:21\n     |\n-297 |       let _ = if true {\n+290 |       let _ = if true {\n     |  _____________________^\n-298 | |         -0.0\n-299 | |     } else { //~ ERROR same body as `if` block\n+291 | |         -0.0\n+292 | |     } else {\n     | |_____^\n \n error: this `if` has identical blocks\n-   --> $DIR/copies.rs:319:12\n+   --> $DIR/copies.rs:305:12\n     |\n-319 |       } else { //~ ERROR same body as `if` block\n+305 |       } else {\n     |  ____________^\n-320 | |         std::f32::NAN\n-321 | |     };\n+306 | |         //~ ERROR same body as `if` block\n+307 | |         std::f32::NAN\n+308 | |     };\n     | |_____^\n     |\n note: same as this\n-   --> $DIR/copies.rs:317:21\n+   --> $DIR/copies.rs:303:21\n     |\n-317 |       let _ = if true {\n+303 |       let _ = if true {\n     |  _____________________^\n-318 | |         std::f32::NAN\n-319 | |     } else { //~ ERROR same body as `if` block\n+304 | |         std::f32::NAN\n+305 | |     } else {\n     | |_____^\n \n error: this `if` has identical blocks\n-   --> $DIR/copies.rs:337:10\n+   --> $DIR/copies.rs:323:12\n     |\n-337 |       else { //~ ERROR same body as `if` block\n-    |  __________^\n-338 | |         try!(Ok(\"foo\"));\n-339 | |     }\n+323 |       } else {\n+    |  ____________^\n+324 | |         //~ ERROR same body as `if` block\n+325 | |         try!(Ok(\"foo\"));\n+326 | |     }\n     | |_____^\n     |\n note: same as this\n-   --> $DIR/copies.rs:334:13\n+   --> $DIR/copies.rs:321:13\n     |\n-334 |       if true {\n+321 |       if true {\n     |  _____________^\n-335 | |         try!(Ok(\"foo\"));\n-336 | |     }\n+322 | |         try!(Ok(\"foo\"));\n+323 | |     } else {\n     | |_____^\n \n error: this `if` has the same condition as a previous if\n-   --> $DIR/copies.rs:363:13\n+   --> $DIR/copies.rs:347:15\n     |\n-363 |     else if b { //~ ERROR ifs same condition\n-    |             ^\n+347 |     } else if b {\n+    |               ^\n     |\n     = note: `-D clippy::ifs-same-cond` implied by `-D warnings`\n note: same as this\n-   --> $DIR/copies.rs:361:8\n+   --> $DIR/copies.rs:346:8\n     |\n-361 |     if b {\n+346 |     if b {\n     |        ^\n \n error: this `if` has the same condition as a previous if\n-   --> $DIR/copies.rs:368:13\n+   --> $DIR/copies.rs:352:15\n     |\n-368 |     else if a == 1 { //~ ERROR ifs same condition\n-    |             ^^^^^^\n+352 |     } else if a == 1 {\n+    |               ^^^^^^\n     |\n note: same as this\n-   --> $DIR/copies.rs:366:8\n+   --> $DIR/copies.rs:351:8\n     |\n-366 |     if a == 1 {\n+351 |     if a == 1 {\n     |        ^^^^^^\n \n error: this `if` has the same condition as a previous if\n-   --> $DIR/copies.rs:375:13\n+   --> $DIR/copies.rs:358:15\n     |\n-375 |     else if 2*a == 1 { //~ ERROR ifs same condition\n-    |             ^^^^^^^^\n+358 |     } else if 2 * a == 1 {\n+    |               ^^^^^^^^^^\n     |\n note: same as this\n-   --> $DIR/copies.rs:371:8\n+   --> $DIR/copies.rs:356:8\n     |\n-371 |     if 2*a == 1 {\n-    |        ^^^^^^^^\n+356 |     if 2 * a == 1 {\n+    |        ^^^^^^^^^^\n \n error: aborting due to 20 previous errors\n "}, {"sha": "ced9293d1dc928f31943685ab99dcfb11e645430", "filename": "tests/ui/copy_iterator.stderr", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcopy_iterator.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcopy_iterator.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcopy_iterator.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,13 +1,13 @@\n error: you are implementing `Iterator` on a `Copy` type\n-  --> $DIR/copy_iterator.rs:18:1\n+  --> $DIR/copy_iterator.rs:15:1\n    |\n-18 | / impl Iterator for Countdown {\n-19 | |     type Item = u8;\n-20 | |\n-21 | |     fn next(&mut self) -> Option<u8> {\n+15 | / impl Iterator for Countdown {\n+16 | |     type Item = u8;\n+17 | |\n+18 | |     fn next(&mut self) -> Option<u8> {\n ...  |\n-26 | |     }\n-27 | | }\n+23 | |     }\n+24 | | }\n    | |_^\n    |\n    = note: `-D clippy::copy-iterator` implied by `-D warnings`"}, {"sha": "490a655ca262190eb1d13e2948dc956a8867162b", "filename": "tests/ui/cstring.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcstring.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcstring.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcstring.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: you are getting the inner pointer of a temporary `CString`\n-  --> $DIR/cstring.rs:19:5\n+  --> $DIR/cstring.rs:16:5\n    |\n-19 |     CString::new(\"foo\").unwrap().as_ptr();\n+16 |     CString::new(\"foo\").unwrap().as_ptr();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: #[deny(clippy::temporary_cstring_as_ptr)] on by default\n    = note: that pointer will be invalid outside this expression\n help: assign the `CString` to a variable to extend its lifetime\n-  --> $DIR/cstring.rs:19:5\n+  --> $DIR/cstring.rs:16:5\n    |\n-19 |     CString::new(\"foo\").unwrap().as_ptr();\n+16 |     CString::new(\"foo\").unwrap().as_ptr();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to previous error"}, {"sha": "de9e5c77f1b2a7204f5fd73eed3f8cb01b260207", "filename": "tests/ui/cyclomatic_complexity.stderr", "status": "modified", "additions": 136, "deletions": 137, "changes": 273, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcyclomatic_complexity.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcyclomatic_complexity.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcyclomatic_complexity.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,270 +1,269 @@\n error: the function has a cyclomatic complexity of 28\n-  --> $DIR/cyclomatic_complexity.rs:16:1\n+  --> $DIR/cyclomatic_complexity.rs:15:1\n    |\n-16 | / fn main() {\n-17 | |     if true {\n-18 | |         println!(\"a\");\n-19 | |     }\n+15 | / fn main() {\n+16 | |     if true {\n+17 | |         println!(\"a\");\n+18 | |     }\n ...  |\n-97 | |     }\n-98 | | }\n+96 | |     }\n+97 | | }\n    | |_^\n    |\n    = note: `-D clippy::cyclomatic-complexity` implied by `-D warnings`\n    = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 7\n-   --> $DIR/cyclomatic_complexity.rs:101:1\n+   --> $DIR/cyclomatic_complexity.rs:100:1\n     |\n-101 | / fn kaboom() {\n-102 | |     let n = 0;\n-103 | |     'a: for i in 0..20 {\n-104 | |         'b: for j in i..20 {\n+100 | / fn kaboom() {\n+101 | |     let n = 0;\n+102 | |     'a: for i in 0..20 {\n+103 | |         'b: for j in i..20 {\n ...   |\n-119 | |     }\n-120 | | }\n+118 | |     }\n+119 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n-   --> $DIR/cyclomatic_complexity.rs:147:1\n+   --> $DIR/cyclomatic_complexity.rs:146:1\n     |\n-147 | / fn lots_of_short_circuits() -> bool {\n-148 | |     true && false && true && false && true && false && true\n-149 | | }\n+146 | / fn lots_of_short_circuits() -> bool {\n+147 | |     true && false && true && false && true && false && true\n+148 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n-   --> $DIR/cyclomatic_complexity.rs:152:1\n+   --> $DIR/cyclomatic_complexity.rs:151:1\n     |\n-152 | / fn lots_of_short_circuits2() -> bool {\n-153 | |     true || false || true || false || true || false || true\n-154 | | }\n+151 | / fn lots_of_short_circuits2() -> bool {\n+152 | |     true || false || true || false || true || false || true\n+153 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n-   --> $DIR/cyclomatic_complexity.rs:157:1\n+   --> $DIR/cyclomatic_complexity.rs:156:1\n     |\n-157 | / fn baa() {\n-158 | |     let x = || match 99 {\n-159 | |         0 => 0,\n-160 | |         1 => 1,\n+156 | / fn baa() {\n+157 | |     let x = || match 99 {\n+158 | |         0 => 0,\n+159 | |         1 => 1,\n ...   |\n-171 | |     }\n-172 | | }\n+170 | |     }\n+171 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n-   --> $DIR/cyclomatic_complexity.rs:158:13\n+   --> $DIR/cyclomatic_complexity.rs:157:13\n     |\n-158 |       let x = || match 99 {\n+157 |       let x = || match 99 {\n     |  _____________^\n-159 | |         0 => 0,\n-160 | |         1 => 1,\n-161 | |         2 => 2,\n+158 | |         0 => 0,\n+159 | |         1 => 1,\n+160 | |         2 => 2,\n ...   |\n-165 | |         _ => 42,\n-166 | |     };\n+164 | |         _ => 42,\n+165 | |     };\n     | |_____^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n-   --> $DIR/cyclomatic_complexity.rs:175:1\n-    |\n-175 | / fn bar() {\n-176 | |     match 99 {\n-177 | |         0 => println!(\"hi\"),\n-178 | |         _ => println!(\"bye\"),\n-179 | |     }\n-180 | | }\n+   --> $DIR/cyclomatic_complexity.rs:174:1\n+    |\n+174 | / fn bar() {\n+175 | |     match 99 {\n+176 | |         0 => println!(\"hi\"),\n+177 | |         _ => println!(\"bye\"),\n+178 | |     }\n+179 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n-   --> $DIR/cyclomatic_complexity.rs:194:1\n+   --> $DIR/cyclomatic_complexity.rs:193:1\n     |\n-194 | / fn barr() {\n-195 | |     match 99 {\n-196 | |         0 => println!(\"hi\"),\n-197 | |         1 => println!(\"bla\"),\n+193 | / fn barr() {\n+194 | |     match 99 {\n+195 | |         0 => println!(\"hi\"),\n+196 | |         1 => println!(\"bla\"),\n ...   |\n-200 | |     }\n-201 | | }\n+199 | |     }\n+200 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 3\n-   --> $DIR/cyclomatic_complexity.rs:204:1\n+   --> $DIR/cyclomatic_complexity.rs:203:1\n     |\n-204 | / fn barr2() {\n-205 | |     match 99 {\n-206 | |         0 => println!(\"hi\"),\n-207 | |         1 => println!(\"bla\"),\n+203 | / fn barr2() {\n+204 | |     match 99 {\n+205 | |         0 => println!(\"hi\"),\n+206 | |         1 => println!(\"bla\"),\n ...   |\n-216 | |     }\n-217 | | }\n+215 | |     }\n+216 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n-   --> $DIR/cyclomatic_complexity.rs:220:1\n+   --> $DIR/cyclomatic_complexity.rs:219:1\n     |\n-220 | / fn barrr() {\n-221 | |     match 99 {\n-222 | |         0 => println!(\"hi\"),\n-223 | |         1 => panic!(\"bla\"),\n+219 | / fn barrr() {\n+220 | |     match 99 {\n+221 | |         0 => println!(\"hi\"),\n+222 | |         1 => panic!(\"bla\"),\n ...   |\n-226 | |     }\n-227 | | }\n+225 | |     }\n+226 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 3\n-   --> $DIR/cyclomatic_complexity.rs:230:1\n+   --> $DIR/cyclomatic_complexity.rs:229:1\n     |\n-230 | / fn barrr2() {\n-231 | |     match 99 {\n-232 | |         0 => println!(\"hi\"),\n-233 | |         1 => panic!(\"bla\"),\n+229 | / fn barrr2() {\n+230 | |     match 99 {\n+231 | |         0 => println!(\"hi\"),\n+232 | |         1 => panic!(\"bla\"),\n ...   |\n-242 | |     }\n-243 | | }\n+241 | |     }\n+242 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n-   --> $DIR/cyclomatic_complexity.rs:246:1\n+   --> $DIR/cyclomatic_complexity.rs:245:1\n     |\n-246 | / fn barrrr() {\n-247 | |     match 99 {\n-248 | |         0 => println!(\"hi\"),\n-249 | |         1 => println!(\"bla\"),\n+245 | / fn barrrr() {\n+246 | |     match 99 {\n+247 | |         0 => println!(\"hi\"),\n+248 | |         1 => println!(\"bla\"),\n ...   |\n-252 | |     }\n-253 | | }\n+251 | |     }\n+252 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 3\n-   --> $DIR/cyclomatic_complexity.rs:256:1\n+   --> $DIR/cyclomatic_complexity.rs:255:1\n     |\n-256 | / fn barrrr2() {\n-257 | |     match 99 {\n-258 | |         0 => println!(\"hi\"),\n-259 | |         1 => println!(\"bla\"),\n+255 | / fn barrrr2() {\n+256 | |     match 99 {\n+257 | |         0 => println!(\"hi\"),\n+258 | |         1 => println!(\"bla\"),\n ...   |\n-268 | |     }\n-269 | | }\n+267 | |     }\n+268 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n-   --> $DIR/cyclomatic_complexity.rs:272:1\n+   --> $DIR/cyclomatic_complexity.rs:271:1\n     |\n-272 | / fn cake() {\n-273 | |     if 4 == 5 {\n-274 | |         println!(\"yea\");\n-275 | |     } else {\n+271 | / fn cake() {\n+272 | |     if 4 == 5 {\n+273 | |         println!(\"yea\");\n+274 | |     } else {\n ...   |\n-278 | |     println!(\"whee\");\n-279 | | }\n+277 | |     println!(\"whee\");\n+278 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 4\n-   --> $DIR/cyclomatic_complexity.rs:283:1\n+   --> $DIR/cyclomatic_complexity.rs:281:1\n     |\n-283 | / pub fn read_file(input_path: &str) -> String {\n-284 | |     use std::fs::File;\n-285 | |     use std::io::{Read, Write};\n-286 | |     use std::path::Path;\n+281 | / pub fn read_file(input_path: &str) -> String {\n+282 | |     use std::fs::File;\n+283 | |     use std::io::{Read, Write};\n+284 | |     use std::path::Path;\n ...   |\n-308 | |     }\n-309 | | }\n+306 | |     }\n+307 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n-   --> $DIR/cyclomatic_complexity.rs:314:1\n-    |\n-314 | / fn void(void: Void) {\n-315 | |     if true {\n-316 | |         match void {\n-317 | |         }\n-318 | |     }\n-319 | | }\n+   --> $DIR/cyclomatic_complexity.rs:312:1\n+    |\n+312 | / fn void(void: Void) {\n+313 | |     if true {\n+314 | |         match void {}\n+315 | |     }\n+316 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n-   --> $DIR/cyclomatic_complexity.rs:328:1\n-    |\n-328 | / fn try() -> Result<i32, &'static str> {\n-329 | |     match 5 {\n-330 | |         5 => Ok(5),\n-331 | |         _ => return Err(\"bla\"),\n-332 | |     }\n-333 | | }\n+   --> $DIR/cyclomatic_complexity.rs:325:1\n+    |\n+325 | / fn try() -> Result<i32, &'static str> {\n+326 | |     match 5 {\n+327 | |         5 => Ok(5),\n+328 | |         _ => return Err(\"bla\"),\n+329 | |     }\n+330 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n-   --> $DIR/cyclomatic_complexity.rs:336:1\n+   --> $DIR/cyclomatic_complexity.rs:333:1\n     |\n-336 | / fn try_again() -> Result<i32, &'static str> {\n-337 | |     let _ = try!(Ok(42));\n-338 | |     let _ = try!(Ok(43));\n-339 | |     let _ = try!(Ok(44));\n+333 | / fn try_again() -> Result<i32, &'static str> {\n+334 | |     let _ = try!(Ok(42));\n+335 | |     let _ = try!(Ok(43));\n+336 | |     let _ = try!(Ok(44));\n ...   |\n-348 | |     }\n-349 | | }\n+345 | |     }\n+346 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n-   --> $DIR/cyclomatic_complexity.rs:352:1\n+   --> $DIR/cyclomatic_complexity.rs:349:1\n     |\n-352 | / fn early() -> Result<i32, &'static str> {\n-353 | |     return Ok(5);\n-354 | |     return Ok(5);\n-355 | |     return Ok(5);\n+349 | / fn early() -> Result<i32, &'static str> {\n+350 | |     return Ok(5);\n+351 | |     return Ok(5);\n+352 | |     return Ok(5);\n ...   |\n-361 | |     return Ok(5);\n-362 | | }\n+358 | |     return Ok(5);\n+359 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 8\n-   --> $DIR/cyclomatic_complexity.rs:366:1\n+   --> $DIR/cyclomatic_complexity.rs:363:1\n     |\n-366 | / fn early_ret() -> i32 {\n-367 | |     let a = if true { 42 } else { return 0; };\n-368 | |     let a = if a < 99 { 42 } else { return 0; };\n-369 | |     let a = if a < 99 { 42 } else { return 0; };\n+363 | / fn early_ret() -> i32 {\n+364 | |     let a = if true { 42 } else { return 0; };\n+365 | |     let a = if a < 99 { 42 } else { return 0; };\n+366 | |     let a = if a < 99 { 42 } else { return 0; };\n ...   |\n-382 | |     }\n-383 | | }\n+379 | |     }\n+380 | | }\n     | |_^\n     |\n     = help: you could split it up into multiple smaller functions"}, {"sha": "3493c0d9ea54e49ae11c4ba26acbda300af31940", "filename": "tests/ui/cyclomatic_complexity_attr_used.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcyclomatic_complexity_attr_used.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fcyclomatic_complexity_attr_used.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcyclomatic_complexity_attr_used.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,13 +1,13 @@\n error: the function has a cyclomatic complexity of 3\n-  --> $DIR/cyclomatic_complexity_attr_used.rs:21:1\n+  --> $DIR/cyclomatic_complexity_attr_used.rs:18:1\n    |\n-21 | / fn kaboom() {\n-22 | |     if 42 == 43 {\n-23 | |         panic!();\n-24 | |     } else if \"cake\" == \"lie\" {\n-25 | |         println!(\"what?\");\n-26 | |     }\n-27 | | }\n+18 | / fn kaboom() {\n+19 | |     if 42 == 43 {\n+20 | |         panic!();\n+21 | |     } else if \"cake\" == \"lie\" {\n+22 | |         println!(\"what?\");\n+23 | |     }\n+24 | | }\n    | |_^\n    |\n    = note: `-D clippy::cyclomatic-complexity` implied by `-D warnings`"}, {"sha": "42f8a6e3bc54b525e9116c94e3df5effd0bc2c86", "filename": "tests/ui/decimal_literal_representation.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdecimal_literal_representation.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdecimal_literal_representation.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdecimal_literal_representation.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: integer literal has a better hexadecimal representation\n-  --> $DIR/decimal_literal_representation.rs:28:9\n+  --> $DIR/decimal_literal_representation.rs:26:9\n    |\n-28 |         32_773,        // 0x8005\n+26 |         32_773,        // 0x8005\n    |         ^^^^^^ help: consider: `0x8005`\n    |\n    = note: `-D clippy::decimal-literal-representation` implied by `-D warnings`\n \n error: integer literal has a better hexadecimal representation\n-  --> $DIR/decimal_literal_representation.rs:29:9\n+  --> $DIR/decimal_literal_representation.rs:27:9\n    |\n-29 |         65_280,        // 0xFF00\n+27 |         65_280,        // 0xFF00\n    |         ^^^^^^ help: consider: `0xFF00`\n \n error: integer literal has a better hexadecimal representation\n-  --> $DIR/decimal_literal_representation.rs:30:9\n+  --> $DIR/decimal_literal_representation.rs:28:9\n    |\n-30 |         2_131_750_927, // 0x7F0F_F00F\n+28 |         2_131_750_927, // 0x7F0F_F00F\n    |         ^^^^^^^^^^^^^ help: consider: `0x7F0F_F00F`\n \n error: integer literal has a better hexadecimal representation\n-  --> $DIR/decimal_literal_representation.rs:31:9\n+  --> $DIR/decimal_literal_representation.rs:29:9\n    |\n-31 |         2_147_483_647, // 0x7FFF_FFFF\n+29 |         2_147_483_647, // 0x7FFF_FFFF\n    |         ^^^^^^^^^^^^^ help: consider: `0x7FFF_FFFF`\n \n error: integer literal has a better hexadecimal representation\n-  --> $DIR/decimal_literal_representation.rs:32:9\n+  --> $DIR/decimal_literal_representation.rs:30:9\n    |\n-32 |         4_042_322_160, // 0xF0F0_F0F0\n+30 |         4_042_322_160, // 0xF0F0_F0F0\n    |         ^^^^^^^^^^^^^ help: consider: `0xF0F0_F0F0`\n \n error: aborting due to 5 previous errors"}, {"sha": "b838f6a3bf4e08181753fcb5f4d993e0debce51d", "filename": "tests/ui/default_trait_access.stderr", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdefault_trait_access.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdefault_trait_access.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdefault_trait_access.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,51 +1,51 @@\n error: Calling std::string::String::default() is more clear than this expression\n-  --> $DIR/default_trait_access.rs:20:22\n+  --> $DIR/default_trait_access.rs:17:22\n    |\n-20 |     let s1: String = Default::default();\n+17 |     let s1: String = Default::default();\n    |                      ^^^^^^^^^^^^^^^^^^ help: try: `std::string::String::default()`\n    |\n    = note: `-D clippy::default-trait-access` implied by `-D warnings`\n \n error: Calling std::string::String::default() is more clear than this expression\n-  --> $DIR/default_trait_access.rs:24:22\n+  --> $DIR/default_trait_access.rs:21:22\n    |\n-24 |     let s3: String = D2::default();\n+21 |     let s3: String = D2::default();\n    |                      ^^^^^^^^^^^^^ help: try: `std::string::String::default()`\n \n error: Calling std::string::String::default() is more clear than this expression\n-  --> $DIR/default_trait_access.rs:26:22\n+  --> $DIR/default_trait_access.rs:23:22\n    |\n-26 |     let s4: String = std::default::Default::default();\n+23 |     let s4: String = std::default::Default::default();\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::string::String::default()`\n \n error: Calling std::string::String::default() is more clear than this expression\n-  --> $DIR/default_trait_access.rs:30:22\n+  --> $DIR/default_trait_access.rs:27:22\n    |\n-30 |     let s6: String = default::Default::default();\n+27 |     let s6: String = default::Default::default();\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::string::String::default()`\n \n error: Calling GenericDerivedDefault<std::string::String>::default() is more clear than this expression\n-  --> $DIR/default_trait_access.rs:40:46\n+  --> $DIR/default_trait_access.rs:37:46\n    |\n-40 |     let s11: GenericDerivedDefault<String> = Default::default();\n+37 |     let s11: GenericDerivedDefault<String> = Default::default();\n    |                                              ^^^^^^^^^^^^^^^^^^ help: try: `GenericDerivedDefault<std::string::String>::default()`\n \n error: Calling TupleDerivedDefault::default() is more clear than this expression\n-  --> $DIR/default_trait_access.rs:46:36\n+  --> $DIR/default_trait_access.rs:43:36\n    |\n-46 |     let s14: TupleDerivedDefault = Default::default();\n+43 |     let s14: TupleDerivedDefault = Default::default();\n    |                                    ^^^^^^^^^^^^^^^^^^ help: try: `TupleDerivedDefault::default()`\n \n error: Calling ArrayDerivedDefault::default() is more clear than this expression\n-  --> $DIR/default_trait_access.rs:48:36\n+  --> $DIR/default_trait_access.rs:45:36\n    |\n-48 |     let s15: ArrayDerivedDefault = Default::default();\n+45 |     let s15: ArrayDerivedDefault = Default::default();\n    |                                    ^^^^^^^^^^^^^^^^^^ help: try: `ArrayDerivedDefault::default()`\n \n error: Calling TupleStructDerivedDefault::default() is more clear than this expression\n-  --> $DIR/default_trait_access.rs:52:42\n+  --> $DIR/default_trait_access.rs:49:42\n    |\n-52 |     let s17: TupleStructDerivedDefault = Default::default();\n+49 |     let s17: TupleStructDerivedDefault = Default::default();\n    |                                          ^^^^^^^^^^^^^^^^^^ help: try: `TupleStructDerivedDefault::default()`\n \n error: aborting due to 8 previous errors"}, {"sha": "335f6451e592c3deac09b145b4126530e3af5c75", "filename": "tests/ui/deprecated.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdeprecated.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdeprecated.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdeprecated.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: lint `str_to_string` has been removed: `using `str::to_string` is common even today and specialization will likely happen soon`\n-  --> $DIR/deprecated.rs:14:8\n+  --> $DIR/deprecated.rs:10:8\n    |\n-14 | #[warn(str_to_string)]\n+10 | #[warn(str_to_string)]\n    |        ^^^^^^^^^^^^^\n    |\n    = note: `-D renamed-and-removed-lints` implied by `-D warnings`\n \n error: lint `string_to_string` has been removed: `using `string::to_string` is common even today and specialization will likely happen soon`\n-  --> $DIR/deprecated.rs:16:8\n+  --> $DIR/deprecated.rs:11:8\n    |\n-16 | #[warn(string_to_string)]\n+11 | #[warn(string_to_string)]\n    |        ^^^^^^^^^^^^^^^^\n \n error: lint `unstable_as_slice` has been removed: ``Vec::as_slice` has been stabilized in 1.7`\n-  --> $DIR/deprecated.rs:18:8\n+  --> $DIR/deprecated.rs:12:8\n    |\n-18 | #[warn(unstable_as_slice)]\n+12 | #[warn(unstable_as_slice)]\n    |        ^^^^^^^^^^^^^^^^^\n \n error: lint `unstable_as_mut_slice` has been removed: ``Vec::as_mut_slice` has been stabilized in 1.7`\n-  --> $DIR/deprecated.rs:20:8\n+  --> $DIR/deprecated.rs:13:8\n    |\n-20 | #[warn(unstable_as_mut_slice)]\n+13 | #[warn(unstable_as_mut_slice)]\n    |        ^^^^^^^^^^^^^^^^^^^^^\n \n error: lint `misaligned_transmute` has been removed: `this lint has been split into cast_ptr_alignment and transmute_ptr_to_ptr`\n-  --> $DIR/deprecated.rs:22:8\n+  --> $DIR/deprecated.rs:14:8\n    |\n-22 | #[warn(misaligned_transmute)]\n+14 | #[warn(misaligned_transmute)]\n    |        ^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 5 previous errors"}, {"sha": "dd36f773337c28ced82aef78eebc8f89ed4fbbc1", "filename": "tests/ui/derive.stderr", "status": "modified", "additions": 70, "deletions": 50, "changes": 120, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fderive.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fderive.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fderive.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,17 @@\n error: you are deriving `Hash` but have implemented `PartialEq` explicitly\n-  --> $DIR/derive.rs:27:10\n+  --> $DIR/derive.rs:25:10\n    |\n-27 | #[derive(Hash)]\n+25 | #[derive(Hash)]\n    |          ^^^^\n    |\n    = note: #[deny(clippy::derive_hash_xor_eq)] on by default\n note: `PartialEq` implemented here\n-  --> $DIR/derive.rs:30:1\n+  --> $DIR/derive.rs:28:1\n    |\n-30 | / impl PartialEq for Bar {\n-31 | |     fn eq(&self, _: &Bar) -> bool { true }\n+28 | / impl PartialEq for Bar {\n+29 | |     fn eq(&self, _: &Bar) -> bool {\n+30 | |         true\n+31 | |     }\n 32 | | }\n    | |_^\n \n@@ -23,88 +25,106 @@ note: `PartialEq` implemented here\n   --> $DIR/derive.rs:37:1\n    |\n 37 | / impl PartialEq<Baz> for Baz {\n-38 | |     fn eq(&self, _: &Baz) -> bool { true }\n-39 | | }\n+38 | |     fn eq(&self, _: &Baz) -> bool {\n+39 | |         true\n+40 | |     }\n+41 | | }\n    | |_^\n \n error: you are implementing `Hash` explicitly but have derived `PartialEq`\n-  --> $DIR/derive.rs:44:1\n+  --> $DIR/derive.rs:46:1\n    |\n-44 | / impl Hash for Bah {\n-45 | |     fn hash<H: Hasher>(&self, _: &mut H) {}\n-46 | | }\n+46 | / impl Hash for Bah {\n+47 | |     fn hash<H: Hasher>(&self, _: &mut H) {}\n+48 | | }\n    | |_^\n    |\n note: `PartialEq` implemented here\n-  --> $DIR/derive.rs:41:10\n+  --> $DIR/derive.rs:43:10\n    |\n-41 | #[derive(PartialEq)]\n+43 | #[derive(PartialEq)]\n    |          ^^^^^^^^^\n \n error: you are implementing `Clone` explicitly on a `Copy` type\n-  --> $DIR/derive.rs:51:1\n+  --> $DIR/derive.rs:53:1\n    |\n-51 | / impl Clone for Qux {\n-52 | |     fn clone(&self) -> Self { Qux }\n-53 | | }\n+53 | / impl Clone for Qux {\n+54 | |     fn clone(&self) -> Self {\n+55 | |         Qux\n+56 | |     }\n+57 | | }\n    | |_^\n    |\n    = note: `-D clippy::expl-impl-clone-on-copy` implied by `-D warnings`\n note: consider deriving `Clone` or removing `Copy`\n-  --> $DIR/derive.rs:51:1\n+  --> $DIR/derive.rs:53:1\n    |\n-51 | / impl Clone for Qux {\n-52 | |     fn clone(&self) -> Self { Qux }\n-53 | | }\n+53 | / impl Clone for Qux {\n+54 | |     fn clone(&self) -> Self {\n+55 | |         Qux\n+56 | |     }\n+57 | | }\n    | |_^\n \n error: you are implementing `Clone` explicitly on a `Copy` type\n-  --> $DIR/derive.rs:75:1\n+  --> $DIR/derive.rs:77:1\n    |\n-75 | / impl<'a> Clone for Lt<'a> {\n-76 | |     fn clone(&self) -> Self { unimplemented!() }\n-77 | | }\n+77 | / impl<'a> Clone for Lt<'a> {\n+78 | |     fn clone(&self) -> Self {\n+79 | |         unimplemented!()\n+80 | |     }\n+81 | | }\n    | |_^\n    |\n note: consider deriving `Clone` or removing `Copy`\n-  --> $DIR/derive.rs:75:1\n+  --> $DIR/derive.rs:77:1\n    |\n-75 | / impl<'a> Clone for Lt<'a> {\n-76 | |     fn clone(&self) -> Self { unimplemented!() }\n-77 | | }\n+77 | / impl<'a> Clone for Lt<'a> {\n+78 | |     fn clone(&self) -> Self {\n+79 | |         unimplemented!()\n+80 | |     }\n+81 | | }\n    | |_^\n \n error: you are implementing `Clone` explicitly on a `Copy` type\n-  --> $DIR/derive.rs:85:1\n+  --> $DIR/derive.rs:89:1\n    |\n-85 | / impl Clone for BigArray {\n-86 | |     fn clone(&self) -> Self { unimplemented!() }\n-87 | | }\n+89 | / impl Clone for BigArray {\n+90 | |     fn clone(&self) -> Self {\n+91 | |         unimplemented!()\n+92 | |     }\n+93 | | }\n    | |_^\n    |\n note: consider deriving `Clone` or removing `Copy`\n-  --> $DIR/derive.rs:85:1\n+  --> $DIR/derive.rs:89:1\n    |\n-85 | / impl Clone for BigArray {\n-86 | |     fn clone(&self) -> Self { unimplemented!() }\n-87 | | }\n+89 | / impl Clone for BigArray {\n+90 | |     fn clone(&self) -> Self {\n+91 | |         unimplemented!()\n+92 | |     }\n+93 | | }\n    | |_^\n \n error: you are implementing `Clone` explicitly on a `Copy` type\n-  --> $DIR/derive.rs:95:1\n-   |\n-95 | / impl Clone for FnPtr {\n-96 | |     fn clone(&self) -> Self { unimplemented!() }\n-97 | | }\n-   | |_^\n-   |\n+   --> $DIR/derive.rs:101:1\n+    |\n+101 | / impl Clone for FnPtr {\n+102 | |     fn clone(&self) -> Self {\n+103 | |         unimplemented!()\n+104 | |     }\n+105 | | }\n+    | |_^\n+    |\n note: consider deriving `Clone` or removing `Copy`\n-  --> $DIR/derive.rs:95:1\n-   |\n-95 | / impl Clone for FnPtr {\n-96 | |     fn clone(&self) -> Self { unimplemented!() }\n-97 | | }\n-   | |_^\n+   --> $DIR/derive.rs:101:1\n+    |\n+101 | / impl Clone for FnPtr {\n+102 | |     fn clone(&self) -> Self {\n+103 | |         unimplemented!()\n+104 | |     }\n+105 | | }\n+    | |_^\n \n error: aborting due to 7 previous errors\n "}, {"sha": "f2ca4dab9974030d96e77eae239ccc2ffaeb138d", "filename": "tests/ui/dlist.stderr", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdlist.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdlist.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdlist.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,48 +1,48 @@\n error: I see you're using a LinkedList! Perhaps you meant some other data structure?\n-  --> $DIR/dlist.rs:24:16\n+  --> $DIR/dlist.rs:19:16\n    |\n-24 |     type Baz = LinkedList<u8>;\n+19 |     type Baz = LinkedList<u8>;\n    |                ^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::linkedlist` implied by `-D warnings`\n    = help: a VecDeque might work\n \n error: I see you're using a LinkedList! Perhaps you meant some other data structure?\n-  --> $DIR/dlist.rs:25:12\n+  --> $DIR/dlist.rs:20:12\n    |\n-25 |     fn foo(LinkedList<u8>);\n+20 |     fn foo(LinkedList<u8>);\n    |            ^^^^^^^^^^^^^^\n    |\n    = help: a VecDeque might work\n \n error: I see you're using a LinkedList! Perhaps you meant some other data structure?\n-  --> $DIR/dlist.rs:26:24\n+  --> $DIR/dlist.rs:21:23\n    |\n-26 |     const BAR : Option<LinkedList<u8>>;\n-   |                        ^^^^^^^^^^^^^^\n+21 |     const BAR: Option<LinkedList<u8>>;\n+   |                       ^^^^^^^^^^^^^^\n    |\n    = help: a VecDeque might work\n \n error: I see you're using a LinkedList! Perhaps you meant some other data structure?\n-  --> $DIR/dlist.rs:37:15\n+  --> $DIR/dlist.rs:32:15\n    |\n-37 |     fn foo(_: LinkedList<u8>) {}\n+32 |     fn foo(_: LinkedList<u8>) {}\n    |               ^^^^^^^^^^^^^^\n    |\n    = help: a VecDeque might work\n \n error: I see you're using a LinkedList! Perhaps you meant some other data structure?\n-  --> $DIR/dlist.rs:40:39\n+  --> $DIR/dlist.rs:35:39\n    |\n-40 | pub fn test(my_favourite_linked_list: LinkedList<u8>) {\n+35 | pub fn test(my_favourite_linked_list: LinkedList<u8>) {\n    |                                       ^^^^^^^^^^^^^^\n    |\n    = help: a VecDeque might work\n \n error: I see you're using a LinkedList! Perhaps you meant some other data structure?\n-  --> $DIR/dlist.rs:44:29\n+  --> $DIR/dlist.rs:39:29\n    |\n-44 | pub fn test_ret() -> Option<LinkedList<u8>> {\n+39 | pub fn test_ret() -> Option<LinkedList<u8>> {\n    |                             ^^^^^^^^^^^^^^\n    |\n    = help: a VecDeque might work"}, {"sha": "a06f278efc002306555570074834fb01398f92e5", "filename": "tests/ui/double_comparison.stderr", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdouble_comparison.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdouble_comparison.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdouble_comparison.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,51 +1,51 @@\n error: This binary expression can be simplified\n-  --> $DIR/double_comparison.rs:14:8\n+  --> $DIR/double_comparison.rs:13:8\n    |\n-14 |     if x == y || x < y {\n+13 |     if x == y || x < y {\n    |        ^^^^^^^^^^^^^^^ help: try: `x <= y`\n    |\n    = note: `-D clippy::double-comparisons` implied by `-D warnings`\n \n error: This binary expression can be simplified\n-  --> $DIR/double_comparison.rs:17:8\n+  --> $DIR/double_comparison.rs:16:8\n    |\n-17 |     if x < y || x == y {\n+16 |     if x < y || x == y {\n    |        ^^^^^^^^^^^^^^^ help: try: `x <= y`\n \n error: This binary expression can be simplified\n-  --> $DIR/double_comparison.rs:20:8\n+  --> $DIR/double_comparison.rs:19:8\n    |\n-20 |     if x == y || x > y {\n+19 |     if x == y || x > y {\n    |        ^^^^^^^^^^^^^^^ help: try: `x >= y`\n \n error: This binary expression can be simplified\n-  --> $DIR/double_comparison.rs:23:8\n+  --> $DIR/double_comparison.rs:22:8\n    |\n-23 |     if x > y || x == y {\n+22 |     if x > y || x == y {\n    |        ^^^^^^^^^^^^^^^ help: try: `x >= y`\n \n error: This binary expression can be simplified\n-  --> $DIR/double_comparison.rs:26:8\n+  --> $DIR/double_comparison.rs:25:8\n    |\n-26 |     if x < y || x > y {\n+25 |     if x < y || x > y {\n    |        ^^^^^^^^^^^^^^ help: try: `x != y`\n \n error: This binary expression can be simplified\n-  --> $DIR/double_comparison.rs:29:8\n+  --> $DIR/double_comparison.rs:28:8\n    |\n-29 |     if x > y || x < y {\n+28 |     if x > y || x < y {\n    |        ^^^^^^^^^^^^^^ help: try: `x != y`\n \n error: This binary expression can be simplified\n-  --> $DIR/double_comparison.rs:32:8\n+  --> $DIR/double_comparison.rs:31:8\n    |\n-32 |     if x <= y && x >= y {\n+31 |     if x <= y && x >= y {\n    |        ^^^^^^^^^^^^^^^^ help: try: `x == y`\n \n error: This binary expression can be simplified\n-  --> $DIR/double_comparison.rs:35:8\n+  --> $DIR/double_comparison.rs:34:8\n    |\n-35 |     if x >= y && x <= y {\n+34 |     if x >= y && x <= y {\n    |        ^^^^^^^^^^^^^^^^ help: try: `x == y`\n \n error: aborting due to 8 previous errors"}, {"sha": "11ad56012862c995e9fd847116f8b6ce5203f835", "filename": "tests/ui/double_neg.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdouble_neg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdouble_neg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdouble_neg.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,7 +1,7 @@\n error: `--x` could be misinterpreted as pre-decrement by C programmers, is usually a no-op\n-  --> $DIR/double_neg.rs:19:5\n+  --> $DIR/double_neg.rs:15:5\n    |\n-19 |     --x;\n+15 |     --x;\n    |     ^^^\n    |\n    = note: `-D clippy::double-neg` implied by `-D warnings`"}, {"sha": "3b950eaebe38a598585a4681b7ed0cd4835731ae", "filename": "tests/ui/drop_forget_copy.stderr", "status": "modified", "additions": 24, "deletions": 24, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdrop_forget_copy.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdrop_forget_copy.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdrop_forget_copy.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,75 +1,75 @@\n error: calls to `std::mem::drop` with a value that implements Copy. Dropping a copy leaves the original intact.\n-  --> $DIR/drop_forget_copy.rs:43:5\n+  --> $DIR/drop_forget_copy.rs:42:5\n    |\n-43 |     drop(s1);\n+42 |     drop(s1);\n    |     ^^^^^^^^\n    |\n    = note: `-D clippy::drop-copy` implied by `-D warnings`\n note: argument has type SomeStruct\n-  --> $DIR/drop_forget_copy.rs:43:10\n+  --> $DIR/drop_forget_copy.rs:42:10\n    |\n-43 |     drop(s1);\n+42 |     drop(s1);\n    |          ^^\n \n error: calls to `std::mem::drop` with a value that implements Copy. Dropping a copy leaves the original intact.\n-  --> $DIR/drop_forget_copy.rs:44:5\n+  --> $DIR/drop_forget_copy.rs:43:5\n    |\n-44 |     drop(s2);\n+43 |     drop(s2);\n    |     ^^^^^^^^\n    |\n note: argument has type SomeStruct\n-  --> $DIR/drop_forget_copy.rs:44:10\n+  --> $DIR/drop_forget_copy.rs:43:10\n    |\n-44 |     drop(s2);\n+43 |     drop(s2);\n    |          ^^\n \n error: calls to `std::mem::drop` with a value that implements Copy. Dropping a copy leaves the original intact.\n-  --> $DIR/drop_forget_copy.rs:46:5\n+  --> $DIR/drop_forget_copy.rs:45:5\n    |\n-46 |     drop(s4);\n+45 |     drop(s4);\n    |     ^^^^^^^^\n    |\n note: argument has type SomeStruct\n-  --> $DIR/drop_forget_copy.rs:46:10\n+  --> $DIR/drop_forget_copy.rs:45:10\n    |\n-46 |     drop(s4);\n+45 |     drop(s4);\n    |          ^^\n \n error: calls to `std::mem::forget` with a value that implements Copy. Forgetting a copy leaves the original intact.\n-  --> $DIR/drop_forget_copy.rs:49:5\n+  --> $DIR/drop_forget_copy.rs:48:5\n    |\n-49 |     forget(s1);\n+48 |     forget(s1);\n    |     ^^^^^^^^^^\n    |\n    = note: `-D clippy::forget-copy` implied by `-D warnings`\n note: argument has type SomeStruct\n-  --> $DIR/drop_forget_copy.rs:49:12\n+  --> $DIR/drop_forget_copy.rs:48:12\n    |\n-49 |     forget(s1);\n+48 |     forget(s1);\n    |            ^^\n \n error: calls to `std::mem::forget` with a value that implements Copy. Forgetting a copy leaves the original intact.\n-  --> $DIR/drop_forget_copy.rs:50:5\n+  --> $DIR/drop_forget_copy.rs:49:5\n    |\n-50 |     forget(s2);\n+49 |     forget(s2);\n    |     ^^^^^^^^^^\n    |\n note: argument has type SomeStruct\n-  --> $DIR/drop_forget_copy.rs:50:12\n+  --> $DIR/drop_forget_copy.rs:49:12\n    |\n-50 |     forget(s2);\n+49 |     forget(s2);\n    |            ^^\n \n error: calls to `std::mem::forget` with a value that implements Copy. Forgetting a copy leaves the original intact.\n-  --> $DIR/drop_forget_copy.rs:52:5\n+  --> $DIR/drop_forget_copy.rs:51:5\n    |\n-52 |     forget(s4);\n+51 |     forget(s4);\n    |     ^^^^^^^^^^\n    |\n note: argument has type SomeStruct\n-  --> $DIR/drop_forget_copy.rs:52:12\n+  --> $DIR/drop_forget_copy.rs:51:12\n    |\n-52 |     forget(s4);\n+51 |     forget(s4);\n    |            ^^\n \n error: aborting due to 6 previous errors"}, {"sha": "972ab298c4cd8a6705a094b6146f80a2262c7b92", "filename": "tests/ui/drop_forget_ref.stderr", "status": "modified", "additions": 72, "deletions": 72, "changes": 144, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdrop_forget_ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fdrop_forget_ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdrop_forget_ref.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,219 +1,219 @@\n error: calls to `std::mem::drop` with a reference instead of an owned value. Dropping a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:22:5\n+  --> $DIR/drop_forget_ref.rs:18:5\n    |\n-22 |     drop(&SomeStruct);\n+18 |     drop(&SomeStruct);\n    |     ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::drop-ref` implied by `-D warnings`\n note: argument has type &SomeStruct\n-  --> $DIR/drop_forget_ref.rs:22:10\n+  --> $DIR/drop_forget_ref.rs:18:10\n    |\n-22 |     drop(&SomeStruct);\n+18 |     drop(&SomeStruct);\n    |          ^^^^^^^^^^^\n \n error: calls to `std::mem::forget` with a reference instead of an owned value. Forgetting a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:23:5\n+  --> $DIR/drop_forget_ref.rs:19:5\n    |\n-23 |     forget(&SomeStruct);\n+19 |     forget(&SomeStruct);\n    |     ^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::forget-ref` implied by `-D warnings`\n note: argument has type &SomeStruct\n-  --> $DIR/drop_forget_ref.rs:23:12\n+  --> $DIR/drop_forget_ref.rs:19:12\n    |\n-23 |     forget(&SomeStruct);\n+19 |     forget(&SomeStruct);\n    |            ^^^^^^^^^^^\n \n error: calls to `std::mem::drop` with a reference instead of an owned value. Dropping a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:26:5\n+  --> $DIR/drop_forget_ref.rs:22:5\n    |\n-26 |     drop(&owned1);\n+22 |     drop(&owned1);\n    |     ^^^^^^^^^^^^^\n    |\n note: argument has type &SomeStruct\n-  --> $DIR/drop_forget_ref.rs:26:10\n+  --> $DIR/drop_forget_ref.rs:22:10\n    |\n-26 |     drop(&owned1);\n+22 |     drop(&owned1);\n    |          ^^^^^^^\n \n error: calls to `std::mem::drop` with a reference instead of an owned value. Dropping a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:27:5\n+  --> $DIR/drop_forget_ref.rs:23:5\n    |\n-27 |     drop(&&owned1);\n+23 |     drop(&&owned1);\n    |     ^^^^^^^^^^^^^^\n    |\n note: argument has type &&SomeStruct\n-  --> $DIR/drop_forget_ref.rs:27:10\n+  --> $DIR/drop_forget_ref.rs:23:10\n    |\n-27 |     drop(&&owned1);\n+23 |     drop(&&owned1);\n    |          ^^^^^^^^\n \n error: calls to `std::mem::drop` with a reference instead of an owned value. Dropping a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:28:5\n+  --> $DIR/drop_forget_ref.rs:24:5\n    |\n-28 |     drop(&mut owned1);\n+24 |     drop(&mut owned1);\n    |     ^^^^^^^^^^^^^^^^^\n    |\n note: argument has type &mut SomeStruct\n-  --> $DIR/drop_forget_ref.rs:28:10\n+  --> $DIR/drop_forget_ref.rs:24:10\n    |\n-28 |     drop(&mut owned1);\n+24 |     drop(&mut owned1);\n    |          ^^^^^^^^^^^\n \n error: calls to `std::mem::forget` with a reference instead of an owned value. Forgetting a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:31:5\n+  --> $DIR/drop_forget_ref.rs:27:5\n    |\n-31 |     forget(&owned2);\n+27 |     forget(&owned2);\n    |     ^^^^^^^^^^^^^^^\n    |\n note: argument has type &SomeStruct\n-  --> $DIR/drop_forget_ref.rs:31:12\n+  --> $DIR/drop_forget_ref.rs:27:12\n    |\n-31 |     forget(&owned2);\n+27 |     forget(&owned2);\n    |            ^^^^^^^\n \n error: calls to `std::mem::forget` with a reference instead of an owned value. Forgetting a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:32:5\n+  --> $DIR/drop_forget_ref.rs:28:5\n    |\n-32 |     forget(&&owned2);\n+28 |     forget(&&owned2);\n    |     ^^^^^^^^^^^^^^^^\n    |\n note: argument has type &&SomeStruct\n-  --> $DIR/drop_forget_ref.rs:32:12\n+  --> $DIR/drop_forget_ref.rs:28:12\n    |\n-32 |     forget(&&owned2);\n+28 |     forget(&&owned2);\n    |            ^^^^^^^^\n \n error: calls to `std::mem::forget` with a reference instead of an owned value. Forgetting a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:33:5\n+  --> $DIR/drop_forget_ref.rs:29:5\n    |\n-33 |     forget(&mut owned2);\n+29 |     forget(&mut owned2);\n    |     ^^^^^^^^^^^^^^^^^^^\n    |\n note: argument has type &mut SomeStruct\n-  --> $DIR/drop_forget_ref.rs:33:12\n+  --> $DIR/drop_forget_ref.rs:29:12\n    |\n-33 |     forget(&mut owned2);\n+29 |     forget(&mut owned2);\n    |            ^^^^^^^^^^^\n \n error: calls to `std::mem::drop` with a reference instead of an owned value. Dropping a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:37:5\n+  --> $DIR/drop_forget_ref.rs:33:5\n    |\n-37 |     drop(reference1);\n+33 |     drop(reference1);\n    |     ^^^^^^^^^^^^^^^^\n    |\n note: argument has type &SomeStruct\n-  --> $DIR/drop_forget_ref.rs:37:10\n+  --> $DIR/drop_forget_ref.rs:33:10\n    |\n-37 |     drop(reference1);\n+33 |     drop(reference1);\n    |          ^^^^^^^^^^\n \n error: calls to `std::mem::forget` with a reference instead of an owned value. Forgetting a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:38:5\n+  --> $DIR/drop_forget_ref.rs:34:5\n    |\n-38 |     forget(&*reference1);\n+34 |     forget(&*reference1);\n    |     ^^^^^^^^^^^^^^^^^^^^\n    |\n note: argument has type &SomeStruct\n-  --> $DIR/drop_forget_ref.rs:38:12\n+  --> $DIR/drop_forget_ref.rs:34:12\n    |\n-38 |     forget(&*reference1);\n+34 |     forget(&*reference1);\n    |            ^^^^^^^^^^^^\n \n error: calls to `std::mem::drop` with a reference instead of an owned value. Dropping a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:41:5\n+  --> $DIR/drop_forget_ref.rs:37:5\n    |\n-41 |     drop(reference2);\n+37 |     drop(reference2);\n    |     ^^^^^^^^^^^^^^^^\n    |\n note: argument has type &mut SomeStruct\n-  --> $DIR/drop_forget_ref.rs:41:10\n+  --> $DIR/drop_forget_ref.rs:37:10\n    |\n-41 |     drop(reference2);\n+37 |     drop(reference2);\n    |          ^^^^^^^^^^\n \n error: calls to `std::mem::forget` with a reference instead of an owned value. Forgetting a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:43:5\n+  --> $DIR/drop_forget_ref.rs:39:5\n    |\n-43 |     forget(reference3);\n+39 |     forget(reference3);\n    |     ^^^^^^^^^^^^^^^^^^\n    |\n note: argument has type &mut SomeStruct\n-  --> $DIR/drop_forget_ref.rs:43:12\n+  --> $DIR/drop_forget_ref.rs:39:12\n    |\n-43 |     forget(reference3);\n+39 |     forget(reference3);\n    |            ^^^^^^^^^^\n \n error: calls to `std::mem::drop` with a reference instead of an owned value. Dropping a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:46:5\n+  --> $DIR/drop_forget_ref.rs:42:5\n    |\n-46 |     drop(reference4);\n+42 |     drop(reference4);\n    |     ^^^^^^^^^^^^^^^^\n    |\n note: argument has type &SomeStruct\n-  --> $DIR/drop_forget_ref.rs:46:10\n+  --> $DIR/drop_forget_ref.rs:42:10\n    |\n-46 |     drop(reference4);\n+42 |     drop(reference4);\n    |          ^^^^^^^^^^\n \n error: calls to `std::mem::forget` with a reference instead of an owned value. Forgetting a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:47:5\n+  --> $DIR/drop_forget_ref.rs:43:5\n    |\n-47 |     forget(reference4);\n+43 |     forget(reference4);\n    |     ^^^^^^^^^^^^^^^^^^\n    |\n note: argument has type &SomeStruct\n-  --> $DIR/drop_forget_ref.rs:47:12\n+  --> $DIR/drop_forget_ref.rs:43:12\n    |\n-47 |     forget(reference4);\n+43 |     forget(reference4);\n    |            ^^^^^^^^^^\n \n error: calls to `std::mem::drop` with a reference instead of an owned value. Dropping a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:52:5\n+  --> $DIR/drop_forget_ref.rs:48:5\n    |\n-52 |     drop(&val);\n+48 |     drop(&val);\n    |     ^^^^^^^^^^\n    |\n note: argument has type &T\n-  --> $DIR/drop_forget_ref.rs:52:10\n+  --> $DIR/drop_forget_ref.rs:48:10\n    |\n-52 |     drop(&val);\n+48 |     drop(&val);\n    |          ^^^^\n \n error: calls to `std::mem::forget` with a reference instead of an owned value. Forgetting a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:58:5\n+  --> $DIR/drop_forget_ref.rs:54:5\n    |\n-58 |     forget(&val);\n+54 |     forget(&val);\n    |     ^^^^^^^^^^^^\n    |\n note: argument has type &T\n-  --> $DIR/drop_forget_ref.rs:58:12\n+  --> $DIR/drop_forget_ref.rs:54:12\n    |\n-58 |     forget(&val);\n+54 |     forget(&val);\n    |            ^^^^\n \n error: calls to `std::mem::drop` with a reference instead of an owned value. Dropping a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:66:5\n+  --> $DIR/drop_forget_ref.rs:62:5\n    |\n-66 |     std::mem::drop(&SomeStruct);\n+62 |     std::mem::drop(&SomeStruct);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n note: argument has type &SomeStruct\n-  --> $DIR/drop_forget_ref.rs:66:20\n+  --> $DIR/drop_forget_ref.rs:62:20\n    |\n-66 |     std::mem::drop(&SomeStruct);\n+62 |     std::mem::drop(&SomeStruct);\n    |                    ^^^^^^^^^^^\n \n error: calls to `std::mem::forget` with a reference instead of an owned value. Forgetting a reference does nothing.\n-  --> $DIR/drop_forget_ref.rs:69:5\n+  --> $DIR/drop_forget_ref.rs:65:5\n    |\n-69 |     std::mem::forget(&SomeStruct);\n+65 |     std::mem::forget(&SomeStruct);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n note: argument has type &SomeStruct\n-  --> $DIR/drop_forget_ref.rs:69:22\n+  --> $DIR/drop_forget_ref.rs:65:22\n    |\n-69 |     std::mem::forget(&SomeStruct);\n+65 |     std::mem::forget(&SomeStruct);\n    |                      ^^^^^^^^^^^\n \n error: aborting due to 18 previous errors"}, {"sha": "ba1b5b1ded7105bce6a2032039d0592f4b8459b2", "filename": "tests/ui/duplicate_underscore_argument.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fduplicate_underscore_argument.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fduplicate_underscore_argument.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fduplicate_underscore_argument.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,7 +1,7 @@\n error: `darth` already exists, having another argument having almost the same name makes code comprehension and documentation more difficult\n-  --> $DIR/duplicate_underscore_argument.rs:17:23\n+  --> $DIR/duplicate_underscore_argument.rs:13:23\n    |\n-17 | fn join_the_dark_side(darth: i32, _darth: i32) {}\n+13 | fn join_the_dark_side(darth: i32, _darth: i32) {}\n    |                       ^^^^^\n    |\n    = note: `-D clippy::duplicate-underscore-argument` implied by `-D warnings`"}, {"sha": "1310ac123406e57b684227b3c4799d2f0aae64da", "filename": "tests/ui/duration_subsec.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fduration_subsec.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fduration_subsec.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fduration_subsec.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: Calling `subsec_millis()` is more concise than this calculation\n-  --> $DIR/duration_subsec.rs:20:24\n+  --> $DIR/duration_subsec.rs:17:24\n    |\n-20 |     let bad_millis_1 = dur.subsec_micros() / 1_000;\n+17 |     let bad_millis_1 = dur.subsec_micros() / 1_000;\n    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `dur.subsec_millis()`\n    |\n    = note: `-D clippy::duration-subsec` implied by `-D warnings`\n \n error: Calling `subsec_millis()` is more concise than this calculation\n-  --> $DIR/duration_subsec.rs:21:24\n+  --> $DIR/duration_subsec.rs:18:24\n    |\n-21 |     let bad_millis_2 = dur.subsec_nanos() / 1_000_000;\n+18 |     let bad_millis_2 = dur.subsec_nanos() / 1_000_000;\n    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `dur.subsec_millis()`\n \n error: Calling `subsec_micros()` is more concise than this calculation\n-  --> $DIR/duration_subsec.rs:26:22\n+  --> $DIR/duration_subsec.rs:23:22\n    |\n-26 |     let bad_micros = dur.subsec_nanos() / 1_000;\n+23 |     let bad_micros = dur.subsec_nanos() / 1_000;\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `dur.subsec_micros()`\n \n error: Calling `subsec_micros()` is more concise than this calculation\n-  --> $DIR/duration_subsec.rs:31:13\n+  --> $DIR/duration_subsec.rs:28:13\n    |\n-31 |     let _ = (&dur).subsec_nanos() / 1_000;\n+28 |     let _ = (&dur).subsec_nanos() / 1_000;\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `(&dur).subsec_micros()`\n \n error: Calling `subsec_micros()` is more concise than this calculation\n-  --> $DIR/duration_subsec.rs:35:13\n+  --> $DIR/duration_subsec.rs:32:13\n    |\n-35 |     let _ = dur.subsec_nanos() / NANOS_IN_MICRO;\n+32 |     let _ = dur.subsec_nanos() / NANOS_IN_MICRO;\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `dur.subsec_micros()`\n \n error: aborting due to 5 previous errors"}, {"sha": "8771df872971ff68b632cfe76481b1545240fc00", "filename": "tests/ui/else_if_without_else.stderr", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Felse_if_without_else.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Felse_if_without_else.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Felse_if_without_else.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,22 +1,24 @@\n error: if expression with an `else if`, but without a final `else`\n-  --> $DIR/else_if_without_else.rs:51:12\n+  --> $DIR/else_if_without_else.rs:54:12\n    |\n-51 |       } else if bla2() { //~ ERROR else if without else\n+54 |       } else if bla2() {\n    |  ____________^\n-52 | |         println!(\"else if\");\n-53 | |     }\n+55 | |         //~ ERROR else if without else\n+56 | |         println!(\"else if\");\n+57 | |     }\n    | |_____^\n    |\n    = note: `-D clippy::else-if-without-else` implied by `-D warnings`\n    = help: add an `else` block here\n \n error: if expression with an `else if`, but without a final `else`\n-  --> $DIR/else_if_without_else.rs:59:12\n+  --> $DIR/else_if_without_else.rs:63:12\n    |\n-59 |       } else if bla3() { //~ ERROR else if without else\n+63 |       } else if bla3() {\n    |  ____________^\n-60 | |         println!(\"else if 2\");\n-61 | |     }\n+64 | |         //~ ERROR else if without else\n+65 | |         println!(\"else if 2\");\n+66 | |     }\n    | |_____^\n    |\n    = help: add an `else` block here"}, {"sha": "fd981f2210f0a84788b2ca125686274fb6fff2a6", "filename": "tests/ui/empty_enum.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fempty_enum.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fempty_enum.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fempty_enum.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,14 +1,14 @@\n error: enum with no variants\n-  --> $DIR/empty_enum.rs:17:1\n+  --> $DIR/empty_enum.rs:13:1\n    |\n-17 | enum Empty {}\n+13 | enum Empty {}\n    | ^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::empty-enum` implied by `-D warnings`\n help: consider using the uninhabited type `!` or a wrapper around it\n-  --> $DIR/empty_enum.rs:17:1\n+  --> $DIR/empty_enum.rs:13:1\n    |\n-17 | enum Empty {}\n+13 | enum Empty {}\n    | ^^^^^^^^^^^^^\n \n error: aborting due to previous error"}, {"sha": "9a4e0ba31eeead46ef59286501e6b02bdea9af87", "filename": "tests/ui/entry.stderr", "status": "modified", "additions": 49, "deletions": 21, "changes": 70, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fentry.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fentry.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fentry.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,46 +1,74 @@\n error: usage of `contains_key` followed by `insert` on a `HashMap`\n-  --> $DIR/entry.rs:23:5\n+  --> $DIR/entry.rs:19:5\n    |\n-23 |     if !m.contains_key(&k) { m.insert(k, v); }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `m.entry(k).or_insert(v)`\n+19 | /     if !m.contains_key(&k) {\n+20 | |         m.insert(k, v);\n+21 | |     }\n+   | |_____^ help: consider using: `m.entry(k).or_insert(v)`\n    |\n    = note: `-D clippy::map-entry` implied by `-D warnings`\n \n error: usage of `contains_key` followed by `insert` on a `HashMap`\n-  --> $DIR/entry.rs:27:5\n+  --> $DIR/entry.rs:25:5\n    |\n-27 |     if !m.contains_key(&k) { foo(); m.insert(k, v); }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `m.entry(k)`\n+25 | /     if !m.contains_key(&k) {\n+26 | |         foo();\n+27 | |         m.insert(k, v);\n+28 | |     }\n+   | |_____^ help: consider using: `m.entry(k)`\n \n error: usage of `contains_key` followed by `insert` on a `HashMap`\n-  --> $DIR/entry.rs:31:5\n+  --> $DIR/entry.rs:32:5\n    |\n-31 |     if !m.contains_key(&k) { m.insert(k, v) } else { None };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `m.entry(k)`\n+32 | /     if !m.contains_key(&k) {\n+33 | |         m.insert(k, v)\n+34 | |     } else {\n+35 | |         None\n+36 | |     };\n+   | |_____^ help: consider using: `m.entry(k)`\n \n error: usage of `contains_key` followed by `insert` on a `HashMap`\n-  --> $DIR/entry.rs:35:5\n+  --> $DIR/entry.rs:40:5\n    |\n-35 |     if m.contains_key(&k) { None } else { m.insert(k, v) };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `m.entry(k)`\n+40 | /     if m.contains_key(&k) {\n+41 | |         None\n+42 | |     } else {\n+43 | |         m.insert(k, v)\n+44 | |     };\n+   | |_____^ help: consider using: `m.entry(k)`\n \n error: usage of `contains_key` followed by `insert` on a `HashMap`\n-  --> $DIR/entry.rs:39:5\n+  --> $DIR/entry.rs:48:5\n    |\n-39 |     if !m.contains_key(&k) { foo(); m.insert(k, v) } else { None };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `m.entry(k)`\n+48 | /     if !m.contains_key(&k) {\n+49 | |         foo();\n+50 | |         m.insert(k, v)\n+51 | |     } else {\n+52 | |         None\n+53 | |     };\n+   | |_____^ help: consider using: `m.entry(k)`\n \n error: usage of `contains_key` followed by `insert` on a `HashMap`\n-  --> $DIR/entry.rs:43:5\n+  --> $DIR/entry.rs:57:5\n    |\n-43 |     if m.contains_key(&k) { None } else { foo(); m.insert(k, v) };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `m.entry(k)`\n+57 | /     if m.contains_key(&k) {\n+58 | |         None\n+59 | |     } else {\n+60 | |         foo();\n+61 | |         m.insert(k, v)\n+62 | |     };\n+   | |_____^ help: consider using: `m.entry(k)`\n \n error: usage of `contains_key` followed by `insert` on a `BTreeMap`\n-  --> $DIR/entry.rs:47:5\n+  --> $DIR/entry.rs:66:5\n    |\n-47 |     if !m.contains_key(&k) { foo(); m.insert(k, v) } else { None };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `m.entry(k)`\n+66 | /     if !m.contains_key(&k) {\n+67 | |         foo();\n+68 | |         m.insert(k, v)\n+69 | |     } else {\n+70 | |         None\n+71 | |     };\n+   | |_____^ help: consider using: `m.entry(k)`\n \n error: aborting due to 7 previous errors\n "}, {"sha": "58c6f4d3301fb3bde277aac68f9f0c6357ec8dc7", "filename": "tests/ui/enum_glob_use.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fenum_glob_use.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fenum_glob_use.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fenum_glob_use.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: don't use glob imports for enum variants\n-  --> $DIR/enum_glob_use.rs:16:1\n+  --> $DIR/enum_glob_use.rs:13:1\n    |\n-16 | use std::cmp::Ordering::*;\n+13 | use std::cmp::Ordering::*;\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::enum-glob-use` implied by `-D warnings`\n \n error: don't use glob imports for enum variants\n-  --> $DIR/enum_glob_use.rs:22:1\n+  --> $DIR/enum_glob_use.rs:19:1\n    |\n-22 | use self::Enum::*;\n+19 | use self::Enum::*;\n    | ^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 2 previous errors"}, {"sha": "ff8f9b82ae6d6ac8347803d894aaf703357a1b84", "filename": "tests/ui/enum_variants.stderr", "status": "modified", "additions": 26, "deletions": 26, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fenum_variants.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fenum_variants.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fenum_variants.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,61 +1,61 @@\n error: Variant name ends with the enum's name\n-  --> $DIR/enum_variants.rs:26:5\n+  --> $DIR/enum_variants.rs:24:5\n    |\n-26 |     cFoo,\n+24 |     cFoo,\n    |     ^^^^\n    |\n    = note: `-D clippy::enum-variant-names` implied by `-D warnings`\n \n error: Variant name starts with the enum's name\n-  --> $DIR/enum_variants.rs:37:5\n+  --> $DIR/enum_variants.rs:35:5\n    |\n-37 |     FoodGood,\n+35 |     FoodGood,\n    |     ^^^^^^^^\n \n error: Variant name starts with the enum's name\n-  --> $DIR/enum_variants.rs:38:5\n+  --> $DIR/enum_variants.rs:36:5\n    |\n-38 |     FoodMiddle,\n+36 |     FoodMiddle,\n    |     ^^^^^^^^^^\n \n error: Variant name starts with the enum's name\n-  --> $DIR/enum_variants.rs:39:5\n+  --> $DIR/enum_variants.rs:37:5\n    |\n-39 |     FoodBad,\n+37 |     FoodBad,\n    |     ^^^^^^^\n \n error: All variants have the same prefix: `Food`\n-  --> $DIR/enum_variants.rs:36:1\n+  --> $DIR/enum_variants.rs:34:1\n    |\n-36 | / enum Food {\n-37 | |     FoodGood,\n-38 | |     FoodMiddle,\n-39 | |     FoodBad,\n-40 | | }\n+34 | / enum Food {\n+35 | |     FoodGood,\n+36 | |     FoodMiddle,\n+37 | |     FoodBad,\n+38 | | }\n    | |_^\n    |\n    = help: remove the prefixes and use full paths to the variants instead of glob imports\n \n error: All variants have the same prefix: `CallType`\n-  --> $DIR/enum_variants.rs:46:1\n+  --> $DIR/enum_variants.rs:44:1\n    |\n-46 | / enum BadCallType {\n-47 | |     CallTypeCall,\n-48 | |     CallTypeCreate,\n-49 | |     CallTypeDestroy,\n-50 | | }\n+44 | / enum BadCallType {\n+45 | |     CallTypeCall,\n+46 | |     CallTypeCreate,\n+47 | |     CallTypeDestroy,\n+48 | | }\n    | |_^\n    |\n    = help: remove the prefixes and use full paths to the variants instead of glob imports\n \n error: All variants have the same prefix: `Constant`\n-  --> $DIR/enum_variants.rs:57:1\n+  --> $DIR/enum_variants.rs:56:1\n    |\n-57 | / enum Consts {\n-58 | |     ConstantInt,\n-59 | |     ConstantCake,\n-60 | |     ConstantLie,\n-61 | | }\n+56 | / enum Consts {\n+57 | |     ConstantInt,\n+58 | |     ConstantCake,\n+59 | |     ConstantLie,\n+60 | | }\n    | |_^\n    |\n    = help: remove the prefixes and use full paths to the variants instead of glob imports"}, {"sha": "0756b9a80d40abc9286eafed9f329397e46c985d", "filename": "tests/ui/enums_clike.stderr", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fenums_clike.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fenums_clike.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fenums_clike.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,51 +1,51 @@\n error: Clike enum variant discriminant is not portable to 32-bit targets\n-  --> $DIR/enums_clike.rs:22:5\n+  --> $DIR/enums_clike.rs:17:5\n    |\n-22 |     X = 0x1_0000_0000,\n+17 |     X = 0x1_0000_0000,\n    |     ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::enum-clike-unportable-variant` implied by `-D warnings`\n \n error: Clike enum variant discriminant is not portable to 32-bit targets\n-  --> $DIR/enums_clike.rs:29:5\n+  --> $DIR/enums_clike.rs:24:5\n    |\n-29 |     X = 0x1_0000_0000,\n+24 |     X = 0x1_0000_0000,\n    |     ^^^^^^^^^^^^^^^^^\n \n error: Clike enum variant discriminant is not portable to 32-bit targets\n-  --> $DIR/enums_clike.rs:32:5\n+  --> $DIR/enums_clike.rs:27:5\n    |\n-32 |     A = 0xFFFF_FFFF,\n+27 |     A = 0xFFFF_FFFF,\n    |     ^^^^^^^^^^^^^^^\n \n error: Clike enum variant discriminant is not portable to 32-bit targets\n-  --> $DIR/enums_clike.rs:39:5\n+  --> $DIR/enums_clike.rs:34:5\n    |\n-39 |     Z = 0xFFFF_FFFF,\n+34 |     Z = 0xFFFF_FFFF,\n    |     ^^^^^^^^^^^^^^^\n \n error: Clike enum variant discriminant is not portable to 32-bit targets\n-  --> $DIR/enums_clike.rs:40:5\n+  --> $DIR/enums_clike.rs:35:5\n    |\n-40 |     A = 0x1_0000_0000,\n+35 |     A = 0x1_0000_0000,\n    |     ^^^^^^^^^^^^^^^^^\n \n error: Clike enum variant discriminant is not portable to 32-bit targets\n-  --> $DIR/enums_clike.rs:42:5\n+  --> $DIR/enums_clike.rs:37:5\n    |\n-42 |     C = (std::i32::MIN as isize) - 1,\n+37 |     C = (std::i32::MIN as isize) - 1,\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: Clike enum variant discriminant is not portable to 32-bit targets\n-  --> $DIR/enums_clike.rs:48:5\n+  --> $DIR/enums_clike.rs:43:5\n    |\n-48 |     Z = 0xFFFF_FFFF,\n+43 |     Z = 0xFFFF_FFFF,\n    |     ^^^^^^^^^^^^^^^\n \n error: Clike enum variant discriminant is not portable to 32-bit targets\n-  --> $DIR/enums_clike.rs:49:5\n+  --> $DIR/enums_clike.rs:44:5\n    |\n-49 |     A = 0x1_0000_0000,\n+44 |     A = 0x1_0000_0000,\n    |     ^^^^^^^^^^^^^^^^^\n \n error: aborting due to 8 previous errors"}, {"sha": "a500a132af7df839deae3ed08968c843a23486f0", "filename": "tests/ui/erasing_op.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ferasing_op.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ferasing_op.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ferasing_op.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,21 +1,21 @@\n error: this operation will always return zero. This is likely not the intended outcome\n-  --> $DIR/erasing_op.rs:19:5\n+  --> $DIR/erasing_op.rs:15:5\n    |\n-19 |     x * 0;\n+15 |     x * 0;\n    |     ^^^^^\n    |\n    = note: `-D clippy::erasing-op` implied by `-D warnings`\n \n error: this operation will always return zero. This is likely not the intended outcome\n-  --> $DIR/erasing_op.rs:20:5\n+  --> $DIR/erasing_op.rs:16:5\n    |\n-20 |     0 & x;\n+16 |     0 & x;\n    |     ^^^^^\n \n error: this operation will always return zero. This is likely not the intended outcome\n-  --> $DIR/erasing_op.rs:21:5\n+  --> $DIR/erasing_op.rs:17:5\n    |\n-21 |     0 / x;\n+17 |     0 / x;\n    |     ^^^^^\n \n error: aborting due to 3 previous errors"}, {"sha": "ec9b7317eedf98e0757118850fddb2e7f92c62d0", "filename": "tests/ui/escape_analysis.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fescape_analysis.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fescape_analysis.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fescape_analysis.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: local variable doesn't need to be boxed here\n-  --> $DIR/escape_analysis.rs:45:13\n+  --> $DIR/escape_analysis.rs:43:13\n    |\n-45 | fn warn_arg(x: Box<A>) {\n+43 | fn warn_arg(x: Box<A>) {\n    |             ^\n    |\n    = note: `-D clippy::boxed-local` implied by `-D warnings`\n \n error: local variable doesn't need to be boxed here\n-   --> $DIR/escape_analysis.rs:137:12\n+   --> $DIR/escape_analysis.rs:134:12\n     |\n-137 | pub fn new(_needs_name: Box<PeekableSeekable<&()>>) -> () {\n+134 | pub fn new(_needs_name: Box<PeekableSeekable<&()>>) -> () {}\n     |            ^^^^^^^^^^^\n \n error: aborting due to 2 previous errors"}, {"sha": "cd14855c49df491ded2759bedfd1fcafe4d1abd8", "filename": "tests/ui/eta.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Feta.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Feta.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Feta.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,35 +1,35 @@\n error: redundant closure found\n-  --> $DIR/eta.rs:17:27\n+  --> $DIR/eta.rs:22:27\n    |\n-17 |     let a = Some(1u8).map(|a| foo(a));\n+22 |     let a = Some(1u8).map(|a| foo(a));\n    |                           ^^^^^^^^^^ help: remove closure as shown: `foo`\n    |\n    = note: `-D clippy::redundant-closure` implied by `-D warnings`\n \n error: redundant closure found\n-  --> $DIR/eta.rs:18:10\n+  --> $DIR/eta.rs:23:10\n    |\n-18 |     meta(|a| foo(a));\n+23 |     meta(|a| foo(a));\n    |          ^^^^^^^^^^ help: remove closure as shown: `foo`\n \n error: redundant closure found\n-  --> $DIR/eta.rs:19:27\n+  --> $DIR/eta.rs:24:27\n    |\n-19 |     let c = Some(1u8).map(|a| {1+2; foo}(a));\n+24 |     let c = Some(1u8).map(|a| {1+2; foo}(a));\n    |                           ^^^^^^^^^^^^^^^^^ help: remove closure as shown: `{1+2; foo}`\n \n error: this expression borrows a reference that is immediately dereferenced by the compiler\n-  --> $DIR/eta.rs:21:21\n+  --> $DIR/eta.rs:26:21\n    |\n-21 |     all(&[1, 2, 3], &&2, |x, y| below(x, y)); //is adjusted\n+26 |     all(&[1, 2, 3], &&2, |x, y| below(x, y)); //is adjusted\n    |                     ^^^ help: change this to: `&2`\n    |\n    = note: `-D clippy::needless-borrow` implied by `-D warnings`\n \n error: redundant closure found\n-  --> $DIR/eta.rs:28:27\n+  --> $DIR/eta.rs:33:27\n    |\n-28 |     let e = Some(1u8).map(|a| generic(a));\n+33 |     let e = Some(1u8).map(|a| generic(a));\n    |                           ^^^^^^^^^^^^^^ help: remove closure as shown: `generic`\n \n error: aborting due to 5 previous errors"}, {"sha": "38317376fc4e3cb8de6b2bc2b54845b70050b66c", "filename": "tests/ui/eval_order_dependence.stderr", "status": "modified", "additions": 22, "deletions": 22, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Feval_order_dependence.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Feval_order_dependence.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Feval_order_dependence.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,51 +1,51 @@\n error: unsequenced read of a variable\n-  --> $DIR/eval_order_dependence.rs:18:28\n+  --> $DIR/eval_order_dependence.rs:24:9\n    |\n-18 |     let a = { x = 1; 1 } + x;\n-   |                            ^\n+24 |     } + x;\n+   |         ^\n    |\n    = note: `-D clippy::eval-order-dependence` implied by `-D warnings`\n note: whether read occurs before this write depends on evaluation order\n-  --> $DIR/eval_order_dependence.rs:18:15\n+  --> $DIR/eval_order_dependence.rs:22:9\n    |\n-18 |     let a = { x = 1; 1 } + x;\n-   |               ^^^^^\n+22 |         x = 1;\n+   |         ^^^^^\n \n error: unsequenced read of a variable\n-  --> $DIR/eval_order_dependence.rs:21:5\n+  --> $DIR/eval_order_dependence.rs:27:5\n    |\n-21 |     x += { x = 20; 2 };\n+27 |     x += {\n    |     ^\n    |\n note: whether read occurs before this write depends on evaluation order\n-  --> $DIR/eval_order_dependence.rs:21:12\n+  --> $DIR/eval_order_dependence.rs:28:9\n    |\n-21 |     x += { x = 20; 2 };\n-   |            ^^^^^^\n+28 |         x = 20;\n+   |         ^^^^^^\n \n error: unsequenced read of a variable\n-  --> $DIR/eval_order_dependence.rs:27:24\n+  --> $DIR/eval_order_dependence.rs:40:12\n    |\n-27 |     let foo = Foo { a: x, .. { x = 6; base } };\n-   |                        ^\n+40 |         a: x,\n+   |            ^\n    |\n note: whether read occurs before this write depends on evaluation order\n-  --> $DIR/eval_order_dependence.rs:27:32\n+  --> $DIR/eval_order_dependence.rs:42:13\n    |\n-27 |     let foo = Foo { a: x, .. { x = 6; base } };\n-   |                                ^^^^^\n+42 |             x = 6;\n+   |             ^^^^^\n \n error: unsequenced read of a variable\n-  --> $DIR/eval_order_dependence.rs:31:9\n+  --> $DIR/eval_order_dependence.rs:49:9\n    |\n-31 |         x += { x = 20; 2 };\n+49 |         x += {\n    |         ^\n    |\n note: whether read occurs before this write depends on evaluation order\n-  --> $DIR/eval_order_dependence.rs:31:16\n+  --> $DIR/eval_order_dependence.rs:50:13\n    |\n-31 |         x += { x = 20; 2 };\n-   |                ^^^^^^\n+50 |             x = 20;\n+   |             ^^^^^^\n \n error: aborting due to 4 previous errors\n "}, {"sha": "a69652373d511bad912ac357271bd98a35dda64d", "filename": "tests/ui/excessive_precision.stderr", "status": "modified", "additions": 36, "deletions": 36, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fexcessive_precision.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fexcessive_precision.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fexcessive_precision.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,111 +1,111 @@\n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:25:26\n+  --> $DIR/excessive_precision.rs:23:26\n    |\n-25 |     const BAD32_1: f32 = 0.123_456_789_f32;\n+23 |     const BAD32_1: f32 = 0.123_456_789_f32;\n    |                          ^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.123_456_79`\n    |\n    = note: `-D clippy::excessive-precision` implied by `-D warnings`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:26:26\n+  --> $DIR/excessive_precision.rs:24:26\n    |\n-26 |     const BAD32_2: f32 = 0.123_456_789;\n+24 |     const BAD32_2: f32 = 0.123_456_789;\n    |                          ^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.123_456_79`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:27:26\n+  --> $DIR/excessive_precision.rs:25:26\n    |\n-27 |     const BAD32_3: f32 = 0.100_000_000_000_1;\n+25 |     const BAD32_3: f32 = 0.100_000_000_000_1;\n    |                          ^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.1`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:28:29\n+  --> $DIR/excessive_precision.rs:26:29\n    |\n-28 |     const BAD32_EDGE: f32 = 1.000_000_9;\n+26 |     const BAD32_EDGE: f32 = 1.000_000_9;\n    |                             ^^^^^^^^^^^ help: consider changing the type or truncating it to: `1.000_001`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:30:26\n+  --> $DIR/excessive_precision.rs:28:26\n    |\n-30 |     const BAD64_1: f64 = 0.123_456_789_012_345_67f64;\n+28 |     const BAD64_1: f64 = 0.123_456_789_012_345_67f64;\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.123_456_789_012_345_66`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:31:26\n+  --> $DIR/excessive_precision.rs:29:26\n    |\n-31 |     const BAD64_2: f64 = 0.123_456_789_012_345_67;\n+29 |     const BAD64_2: f64 = 0.123_456_789_012_345_67;\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.123_456_789_012_345_66`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:32:26\n+  --> $DIR/excessive_precision.rs:30:26\n    |\n-32 |     const BAD64_3: f64 = 0.100_000_000_000_000_000_1;\n+30 |     const BAD64_3: f64 = 0.100_000_000_000_000_000_1;\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.1`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:35:22\n+  --> $DIR/excessive_precision.rs:33:22\n    |\n-35 |     println!(\"{:?}\", 8.888_888_888_888_888_888_888);\n+33 |     println!(\"{:?}\", 8.888_888_888_888_888_888_888);\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `8.888_888_888_888_89`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:46:22\n+  --> $DIR/excessive_precision.rs:44:22\n    |\n-46 |     let bad32: f32 = 1.123_456_789;\n+44 |     let bad32: f32 = 1.123_456_789;\n    |                      ^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `1.123_456_8`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:47:26\n+  --> $DIR/excessive_precision.rs:45:26\n    |\n-47 |     let bad32_suf: f32 = 1.123_456_789_f32;\n+45 |     let bad32_suf: f32 = 1.123_456_789_f32;\n    |                          ^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `1.123_456_8`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:48:21\n+  --> $DIR/excessive_precision.rs:46:21\n    |\n-48 |     let bad32_inf = 1.123_456_789_f32;\n+46 |     let bad32_inf = 1.123_456_789_f32;\n    |                     ^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `1.123_456_8`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:50:22\n+  --> $DIR/excessive_precision.rs:48:22\n    |\n-50 |     let bad64: f64 = 0.123_456_789_012_345_67;\n+48 |     let bad64: f64 = 0.123_456_789_012_345_67;\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.123_456_789_012_345_66`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:51:26\n+  --> $DIR/excessive_precision.rs:49:26\n    |\n-51 |     let bad64_suf: f64 = 0.123_456_789_012_345_67f64;\n+49 |     let bad64_suf: f64 = 0.123_456_789_012_345_67f64;\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.123_456_789_012_345_66`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:52:21\n+  --> $DIR/excessive_precision.rs:50:21\n    |\n-52 |     let bad64_inf = 0.123_456_789_012_345_67;\n+50 |     let bad64_inf = 0.123_456_789_012_345_67;\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.123_456_789_012_345_66`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:58:36\n+  --> $DIR/excessive_precision.rs:56:36\n    |\n-58 |     let bad_vec32: Vec<f32> = vec![0.123_456_789];\n+56 |     let bad_vec32: Vec<f32> = vec![0.123_456_789];\n    |                                    ^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.123_456_79`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:59:36\n+  --> $DIR/excessive_precision.rs:57:36\n    |\n-59 |     let bad_vec64: Vec<f64> = vec![0.123_456_789_123_456_789];\n+57 |     let bad_vec64: Vec<f64> = vec![0.123_456_789_123_456_789];\n    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `0.123_456_789_123_456_78`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:63:24\n+  --> $DIR/excessive_precision.rs:61:24\n    |\n-63 |     let bad_e32: f32 = 1.123_456_788_888e-10;\n+61 |     let bad_e32: f32 = 1.123_456_788_888e-10;\n    |                        ^^^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `1.123_456_8e-10`\n \n error: float has excessive precision\n-  --> $DIR/excessive_precision.rs:66:27\n+  --> $DIR/excessive_precision.rs:64:27\n    |\n-66 |     let bad_bige32: f32 = 1.123_456_788_888E-10;\n+64 |     let bad_bige32: f32 = 1.123_456_788_888E-10;\n    |                           ^^^^^^^^^^^^^^^^^^^^^ help: consider changing the type or truncating it to: `1.123_456_8E-10`\n \n error: aborting due to 18 previous errors"}, {"sha": "ad8fe14e9a032f33fc792d2e201bfd417ae9250a", "filename": "tests/ui/expect_fun_call.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fexpect_fun_call.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fexpect_fun_call.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fexpect_fun_call.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,39 +1,39 @@\n error: use of `expect` followed by a function call\n-  --> $DIR/expect_fun_call.rs:34:26\n+  --> $DIR/expect_fun_call.rs:36:26\n    |\n-34 |     with_none_and_format.expect(&format!(\"Error {}: fake error\", error_code));\n+36 |     with_none_and_format.expect(&format!(\"Error {}: fake error\", error_code));\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(|| panic!(\"Error {}: fake error\", error_code))`\n    |\n    = note: `-D clippy::expect-fun-call` implied by `-D warnings`\n \n error: use of `expect` followed by a function call\n-  --> $DIR/expect_fun_call.rs:37:26\n+  --> $DIR/expect_fun_call.rs:39:26\n    |\n-37 |     with_none_and_as_str.expect(format!(\"Error {}: fake error\", error_code).as_str());\n+39 |     with_none_and_as_str.expect(format!(\"Error {}: fake error\", error_code).as_str());\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(|| panic!(\"Error {}: fake error\", error_code))`\n \n error: use of `expect` followed by a function call\n-  --> $DIR/expect_fun_call.rs:47:25\n+  --> $DIR/expect_fun_call.rs:49:25\n    |\n-47 |     with_err_and_format.expect(&format!(\"Error {}: fake error\", error_code));\n+49 |     with_err_and_format.expect(&format!(\"Error {}: fake error\", error_code));\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(|_| panic!(\"Error {}: fake error\", error_code))`\n \n error: use of `expect` followed by a function call\n-  --> $DIR/expect_fun_call.rs:50:25\n+  --> $DIR/expect_fun_call.rs:52:25\n    |\n-50 |     with_err_and_as_str.expect(format!(\"Error {}: fake error\", error_code).as_str());\n+52 |     with_err_and_as_str.expect(format!(\"Error {}: fake error\", error_code).as_str());\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(|_| panic!(\"Error {}: fake error\", error_code))`\n \n error: use of `expect` followed by a function call\n-  --> $DIR/expect_fun_call.rs:65:17\n+  --> $DIR/expect_fun_call.rs:67:17\n    |\n-65 |     Some(\"foo\").expect({ &format!(\"error\") });\n+67 |     Some(\"foo\").expect({ &format!(\"error\") });\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(|| { let msg = { &format!(\"error\") }; panic!(msg) }))`\n \n error: use of `expect` followed by a function call\n-  --> $DIR/expect_fun_call.rs:66:17\n+  --> $DIR/expect_fun_call.rs:68:17\n    |\n-66 |     Some(\"foo\").expect(format!(\"error\").as_ref());\n+68 |     Some(\"foo\").expect(format!(\"error\").as_ref());\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(|| panic!(\"error\"))`\n \n error: aborting due to 6 previous errors"}, {"sha": "caafd2375f006b500b9a0bdbffcb2ce01e9801fe", "filename": "tests/ui/explicit_counter_loop.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fexplicit_counter_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fexplicit_counter_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fexplicit_counter_loop.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -13,15 +13,15 @@ error: the variable `_index` is used as a loop counter. Consider using `for (_in\n    |               ^^^^\n \n error: the variable `count` is used as a loop counter. Consider using `for (count, item) in text.chars().enumerate()` or similar iterators\n-  --> $DIR/explicit_counter_loop.rs:58:19\n+  --> $DIR/explicit_counter_loop.rs:60:19\n    |\n-58 |         for ch in text.chars() {\n+60 |         for ch in text.chars() {\n    |                   ^^^^^^^^^^^^\n \n error: the variable `count` is used as a loop counter. Consider using `for (count, item) in text.chars().enumerate()` or similar iterators\n-  --> $DIR/explicit_counter_loop.rs:69:19\n+  --> $DIR/explicit_counter_loop.rs:71:19\n    |\n-69 |         for ch in text.chars() {\n+71 |         for ch in text.chars() {\n    |                   ^^^^^^^^^^^^\n \n error: aborting due to 4 previous errors"}, {"sha": "171bf312a9bdf78daf2c5a10510c7abd4799444f", "filename": "tests/ui/explicit_write.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fexplicit_write.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fexplicit_write.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fexplicit_write.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,39 +1,39 @@\n error: use of `write!(stdout(), ...).unwrap()`. Consider using `print!` instead\n-  --> $DIR/explicit_write.rs:28:9\n+  --> $DIR/explicit_write.rs:24:9\n    |\n-28 |         write!(std::io::stdout(), \"test\").unwrap();\n+24 |         write!(std::io::stdout(), \"test\").unwrap();\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::explicit-write` implied by `-D warnings`\n \n error: use of `write!(stderr(), ...).unwrap()`. Consider using `eprint!` instead\n-  --> $DIR/explicit_write.rs:29:9\n+  --> $DIR/explicit_write.rs:25:9\n    |\n-29 |         write!(std::io::stderr(), \"test\").unwrap();\n+25 |         write!(std::io::stderr(), \"test\").unwrap();\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: use of `writeln!(stdout(), ...).unwrap()`. Consider using `println!` instead\n-  --> $DIR/explicit_write.rs:30:9\n+  --> $DIR/explicit_write.rs:26:9\n    |\n-30 |         writeln!(std::io::stdout(), \"test\").unwrap();\n+26 |         writeln!(std::io::stdout(), \"test\").unwrap();\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: use of `writeln!(stderr(), ...).unwrap()`. Consider using `eprintln!` instead\n-  --> $DIR/explicit_write.rs:31:9\n+  --> $DIR/explicit_write.rs:27:9\n    |\n-31 |         writeln!(std::io::stderr(), \"test\").unwrap();\n+27 |         writeln!(std::io::stderr(), \"test\").unwrap();\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: use of `stdout().write_fmt(...).unwrap()`. Consider using `print!` instead\n-  --> $DIR/explicit_write.rs:32:9\n+  --> $DIR/explicit_write.rs:28:9\n    |\n-32 |         std::io::stdout().write_fmt(format_args!(\"test\")).unwrap();\n+28 |         std::io::stdout().write_fmt(format_args!(\"test\")).unwrap();\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: use of `stderr().write_fmt(...).unwrap()`. Consider using `eprint!` instead\n-  --> $DIR/explicit_write.rs:33:9\n+  --> $DIR/explicit_write.rs:29:9\n    |\n-33 |         std::io::stderr().write_fmt(format_args!(\"test\")).unwrap();\n+29 |         std::io::stderr().write_fmt(format_args!(\"test\")).unwrap();\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 6 previous errors"}, {"sha": "8af5933a9f8406555718246b386ddcc28cd3858f", "filename": "tests/ui/fallible_impl_from.stderr", "status": "modified", "additions": 42, "deletions": 42, "changes": 84, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffallible_impl_from.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffallible_impl_from.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffallible_impl_from.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,91 +1,91 @@\n error: consider implementing `TryFrom` instead\n-  --> $DIR/fallible_impl_from.rs:17:1\n+  --> $DIR/fallible_impl_from.rs:14:1\n    |\n-17 | / impl From<String> for Foo {\n-18 | |     fn from(s: String) -> Self {\n-19 | |         Foo(s.parse().unwrap())\n-20 | |     }\n-21 | | }\n+14 | / impl From<String> for Foo {\n+15 | |     fn from(s: String) -> Self {\n+16 | |         Foo(s.parse().unwrap())\n+17 | |     }\n+18 | | }\n    | |_^\n    |\n note: lint level defined here\n-  --> $DIR/fallible_impl_from.rs:13:9\n+  --> $DIR/fallible_impl_from.rs:10:9\n    |\n-13 | #![deny(clippy::fallible_impl_from)]\n+10 | #![deny(clippy::fallible_impl_from)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = help: `From` is intended for infallible conversions only. Use `TryFrom` if there's a possibility for the conversion to fail.\n note: potential failure(s)\n-  --> $DIR/fallible_impl_from.rs:19:13\n+  --> $DIR/fallible_impl_from.rs:16:13\n    |\n-19 |         Foo(s.parse().unwrap())\n+16 |         Foo(s.parse().unwrap())\n    |             ^^^^^^^^^^^^^^^^^^\n \n error: consider implementing `TryFrom` instead\n-  --> $DIR/fallible_impl_from.rs:40:1\n+  --> $DIR/fallible_impl_from.rs:35:1\n    |\n-40 | / impl From<usize> for Invalid {\n-41 | |     fn from(i: usize) -> Invalid {\n-42 | |         if i != 42 {\n-43 | |             panic!();\n+35 | / impl From<usize> for Invalid {\n+36 | |     fn from(i: usize) -> Invalid {\n+37 | |         if i != 42 {\n+38 | |             panic!();\n ...  |\n-46 | |     }\n-47 | | }\n+41 | |     }\n+42 | | }\n    | |_^\n    |\n    = help: `From` is intended for infallible conversions only. Use `TryFrom` if there's a possibility for the conversion to fail.\n note: potential failure(s)\n-  --> $DIR/fallible_impl_from.rs:43:13\n+  --> $DIR/fallible_impl_from.rs:38:13\n    |\n-43 |             panic!();\n+38 |             panic!();\n    |             ^^^^^^^^^\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: consider implementing `TryFrom` instead\n-  --> $DIR/fallible_impl_from.rs:49:1\n+  --> $DIR/fallible_impl_from.rs:44:1\n    |\n-49 | / impl From<Option<String>> for Invalid {\n-50 | |     fn from(s: Option<String>) -> Invalid {\n-51 | |         let s = s.unwrap();\n-52 | |         if !s.is_empty() {\n+44 | / impl From<Option<String>> for Invalid {\n+45 | |     fn from(s: Option<String>) -> Invalid {\n+46 | |         let s = s.unwrap();\n+47 | |         if !s.is_empty() {\n ...  |\n-58 | |     }\n-59 | | }\n+53 | |     }\n+54 | | }\n    | |_^\n    |\n    = help: `From` is intended for infallible conversions only. Use `TryFrom` if there's a possibility for the conversion to fail.\n note: potential failure(s)\n-  --> $DIR/fallible_impl_from.rs:51:17\n+  --> $DIR/fallible_impl_from.rs:46:17\n    |\n-51 |         let s = s.unwrap();\n+46 |         let s = s.unwrap();\n    |                 ^^^^^^^^^^\n-52 |         if !s.is_empty() {\n-53 |             panic!(42);\n+47 |         if !s.is_empty() {\n+48 |             panic!(42);\n    |             ^^^^^^^^^^^\n-54 |         } else if s.parse::<u32>().unwrap() != 42 {\n+49 |         } else if s.parse::<u32>().unwrap() != 42 {\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^\n-55 |             panic!(\"{:?}\", s);\n+50 |             panic!(\"{:?}\", s);\n    |             ^^^^^^^^^^^^^^^^^^\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: consider implementing `TryFrom` instead\n-  --> $DIR/fallible_impl_from.rs:67:1\n+  --> $DIR/fallible_impl_from.rs:62:1\n    |\n-67 | / impl<'a> From<&'a mut <Box<u32> as ProjStrTrait>::ProjString> for Invalid {\n-68 | |     fn from(s: &'a mut <Box<u32> as ProjStrTrait>::ProjString) -> Invalid {\n-69 | |         if s.parse::<u32>().ok().unwrap() != 42 {\n-70 | |             panic!(\"{:?}\", s);\n+62 | / impl<'a> From<&'a mut <Box<u32> as ProjStrTrait>::ProjString> for Invalid {\n+63 | |     fn from(s: &'a mut <Box<u32> as ProjStrTrait>::ProjString) -> Invalid {\n+64 | |         if s.parse::<u32>().ok().unwrap() != 42 {\n+65 | |             panic!(\"{:?}\", s);\n ...  |\n-73 | |     }\n-74 | | }\n+68 | |     }\n+69 | | }\n    | |_^\n    |\n    = help: `From` is intended for infallible conversions only. Use `TryFrom` if there's a possibility for the conversion to fail.\n note: potential failure(s)\n-  --> $DIR/fallible_impl_from.rs:69:12\n+  --> $DIR/fallible_impl_from.rs:64:12\n    |\n-69 |         if s.parse::<u32>().ok().unwrap() != 42 {\n+64 |         if s.parse::<u32>().ok().unwrap() != 42 {\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-70 |             panic!(\"{:?}\", s);\n+65 |             panic!(\"{:?}\", s);\n    |             ^^^^^^^^^^^^^^^^^^\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n "}, {"sha": "8fde78ca5a7226eaa3e6ee191fc9bcb62832c9ec", "filename": "tests/ui/filter_methods.stderr", "status": "modified", "additions": 21, "deletions": 21, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffilter_methods.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffilter_methods.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffilter_methods.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,40 +1,40 @@\n error: called `filter(p).map(q)` on an `Iterator`. This is more succinctly expressed by calling `.filter_map(..)` instead.\n-  --> $DIR/filter_methods.rs:18:21\n+  --> $DIR/filter_methods.rs:14:21\n    |\n-18 |       let _: Vec<_> = vec![5; 6].into_iter()\n-   |  _____________________^\n-19 | |                               .filter(|&x| x == 0)\n-20 | |                               .map(|x| x * 2)\n-   | |_____________________________________________^\n+14 |     let _: Vec<_> = vec![5; 6].into_iter().filter(|&x| x == 0).map(|x| x * 2).collect();\n+   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::filter-map` implied by `-D warnings`\n \n error: called `filter(p).flat_map(q)` on an `Iterator`. This is more succinctly expressed by calling `.flat_map(..)` and filtering by returning an empty Iterator.\n-  --> $DIR/filter_methods.rs:23:21\n+  --> $DIR/filter_methods.rs:16:21\n    |\n-23 |       let _: Vec<_> = vec![5_i8; 6].into_iter()\n+16 |       let _: Vec<_> = vec![5_i8; 6]\n    |  _____________________^\n-24 | |                                 .filter(|&x| x == 0)\n-25 | |                                 .flat_map(|x| x.checked_mul(2))\n-   | |_______________________________________________________________^\n+17 | |         .into_iter()\n+18 | |         .filter(|&x| x == 0)\n+19 | |         .flat_map(|x| x.checked_mul(2))\n+   | |_______________________________________^\n \n error: called `filter_map(p).flat_map(q)` on an `Iterator`. This is more succinctly expressed by calling `.flat_map(..)` and filtering by returning an empty Iterator.\n-  --> $DIR/filter_methods.rs:28:21\n+  --> $DIR/filter_methods.rs:22:21\n    |\n-28 |       let _: Vec<_> = vec![5_i8; 6].into_iter()\n+22 |       let _: Vec<_> = vec![5_i8; 6]\n    |  _____________________^\n-29 | |                                 .filter_map(|x| x.checked_mul(2))\n-30 | |                                 .flat_map(|x| x.checked_mul(2))\n-   | |_______________________________________________________________^\n+23 | |         .into_iter()\n+24 | |         .filter_map(|x| x.checked_mul(2))\n+25 | |         .flat_map(|x| x.checked_mul(2))\n+   | |_______________________________________^\n \n error: called `filter_map(p).map(q)` on an `Iterator`. This is more succinctly expressed by only calling `.filter_map(..)` instead.\n-  --> $DIR/filter_methods.rs:33:21\n+  --> $DIR/filter_methods.rs:28:21\n    |\n-33 |       let _: Vec<_> = vec![5_i8; 6].into_iter()\n+28 |       let _: Vec<_> = vec![5_i8; 6]\n    |  _____________________^\n-34 | |                                 .filter_map(|x| x.checked_mul(2))\n-35 | |                                 .map(|x| x.checked_mul(2))\n-   | |__________________________________________________________^\n+29 | |         .into_iter()\n+30 | |         .filter_map(|x| x.checked_mul(2))\n+31 | |         .map(|x| x.checked_mul(2))\n+   | |__________________________________^\n \n error: aborting due to 4 previous errors\n "}, {"sha": "3acd71eb99bc3303b5c06085edb98a1bec21f1f2", "filename": "tests/ui/float_cmp.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffloat_cmp.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffloat_cmp.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffloat_cmp.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,38 +1,38 @@\n error: strict comparison of f32 or f64\n-  --> $DIR/float_cmp.rs:59:5\n+  --> $DIR/float_cmp.rs:69:5\n    |\n-59 |     ONE as f64 != 2.0;\n+69 |     ONE as f64 != 2.0;\n    |     ^^^^^^^^^^^^^^^^^ help: consider comparing them within some error: `(ONE as f64 - 2.0).abs() < error`\n    |\n    = note: `-D clippy::float-cmp` implied by `-D warnings`\n note: std::f32::EPSILON and std::f64::EPSILON are available.\n-  --> $DIR/float_cmp.rs:59:5\n+  --> $DIR/float_cmp.rs:69:5\n    |\n-59 |     ONE as f64 != 2.0;\n+69 |     ONE as f64 != 2.0;\n    |     ^^^^^^^^^^^^^^^^^\n \n error: strict comparison of f32 or f64\n-  --> $DIR/float_cmp.rs:64:5\n+  --> $DIR/float_cmp.rs:74:5\n    |\n-64 |     x == 1.0;\n+74 |     x == 1.0;\n    |     ^^^^^^^^ help: consider comparing them within some error: `(x - 1.0).abs() < error`\n    |\n note: std::f32::EPSILON and std::f64::EPSILON are available.\n-  --> $DIR/float_cmp.rs:64:5\n+  --> $DIR/float_cmp.rs:74:5\n    |\n-64 |     x == 1.0;\n+74 |     x == 1.0;\n    |     ^^^^^^^^\n \n error: strict comparison of f32 or f64\n-  --> $DIR/float_cmp.rs:67:5\n+  --> $DIR/float_cmp.rs:77:5\n    |\n-67 |     twice(x) != twice(ONE as f64);\n+77 |     twice(x) != twice(ONE as f64);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider comparing them within some error: `(twice(x) - twice(ONE as f64)).abs() < error`\n    |\n note: std::f32::EPSILON and std::f64::EPSILON are available.\n-  --> $DIR/float_cmp.rs:67:5\n+  --> $DIR/float_cmp.rs:77:5\n    |\n-67 |     twice(x) != twice(ONE as f64);\n+77 |     twice(x) != twice(ONE as f64);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 3 previous errors"}, {"sha": "640cee1bc2f9b690b82c95ec5d2e1b8c984e33d4", "filename": "tests/ui/for_loop.stderr", "status": "modified", "additions": 139, "deletions": 139, "changes": 278, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffor_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffor_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffor_loop.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,420 +1,420 @@\n error: the loop variable `i` is only used to index `vec`.\n-  --> $DIR/for_loop.rs:38:14\n+  --> $DIR/for_loop.rs:50:14\n    |\n-38 |     for i in 0..vec.len() {\n+50 |     for i in 0..vec.len() {\n    |              ^^^^^^^^^^^^\n    |\n    = note: `-D clippy::needless-range-loop` implied by `-D warnings`\n help: consider using an iterator\n    |\n-38 |     for <item> in &vec {\n+50 |     for <item> in &vec {\n    |         ^^^^^^    ^^^^\n \n error: the loop variable `i` is only used to index `vec`.\n-  --> $DIR/for_loop.rs:47:14\n+  --> $DIR/for_loop.rs:59:14\n    |\n-47 |     for i in 0..vec.len() {\n+59 |     for i in 0..vec.len() {\n    |              ^^^^^^^^^^^^\n help: consider using an iterator\n    |\n-47 |     for <item> in &vec {\n+59 |     for <item> in &vec {\n    |         ^^^^^^    ^^^^\n \n error: the loop variable `j` is only used to index `STATIC`.\n-  --> $DIR/for_loop.rs:52:14\n+  --> $DIR/for_loop.rs:64:14\n    |\n-52 |     for j in 0..4 {\n+64 |     for j in 0..4 {\n    |              ^^^^\n help: consider using an iterator\n    |\n-52 |     for <item> in &STATIC {\n+64 |     for <item> in &STATIC {\n    |         ^^^^^^    ^^^^^^^\n \n error: the loop variable `j` is only used to index `CONST`.\n-  --> $DIR/for_loop.rs:56:14\n+  --> $DIR/for_loop.rs:68:14\n    |\n-56 |     for j in 0..4 {\n+68 |     for j in 0..4 {\n    |              ^^^^\n help: consider using an iterator\n    |\n-56 |     for <item> in &CONST {\n+68 |     for <item> in &CONST {\n    |         ^^^^^^    ^^^^^^\n \n error: the loop variable `i` is used to index `vec`\n-  --> $DIR/for_loop.rs:60:14\n+  --> $DIR/for_loop.rs:72:14\n    |\n-60 |     for i in 0..vec.len() {\n+72 |     for i in 0..vec.len() {\n    |              ^^^^^^^^^^^^\n help: consider using an iterator\n    |\n-60 |     for (i, <item>) in vec.iter().enumerate() {\n+72 |     for (i, <item>) in vec.iter().enumerate() {\n    |         ^^^^^^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is only used to index `vec2`.\n-  --> $DIR/for_loop.rs:68:14\n+  --> $DIR/for_loop.rs:80:14\n    |\n-68 |     for i in 0..vec.len() {\n+80 |     for i in 0..vec.len() {\n    |              ^^^^^^^^^^^^\n help: consider using an iterator\n    |\n-68 |     for <item> in vec2.iter().take(vec.len()) {\n+80 |     for <item> in vec2.iter().take(vec.len()) {\n    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is only used to index `vec`.\n-  --> $DIR/for_loop.rs:72:14\n+  --> $DIR/for_loop.rs:84:14\n    |\n-72 |     for i in 5..vec.len() {\n+84 |     for i in 5..vec.len() {\n    |              ^^^^^^^^^^^^\n help: consider using an iterator\n    |\n-72 |     for <item> in vec.iter().skip(5) {\n+84 |     for <item> in vec.iter().skip(5) {\n    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is only used to index `vec`.\n-  --> $DIR/for_loop.rs:76:14\n+  --> $DIR/for_loop.rs:88:14\n    |\n-76 |     for i in 0..MAX_LEN {\n+88 |     for i in 0..MAX_LEN {\n    |              ^^^^^^^^^^\n help: consider using an iterator\n    |\n-76 |     for <item> in vec.iter().take(MAX_LEN) {\n+88 |     for <item> in vec.iter().take(MAX_LEN) {\n    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is only used to index `vec`.\n-  --> $DIR/for_loop.rs:80:14\n+  --> $DIR/for_loop.rs:92:14\n    |\n-80 |     for i in 0..=MAX_LEN {\n+92 |     for i in 0..=MAX_LEN {\n    |              ^^^^^^^^^^^\n help: consider using an iterator\n    |\n-80 |     for <item> in vec.iter().take(MAX_LEN + 1) {\n+92 |     for <item> in vec.iter().take(MAX_LEN + 1) {\n    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is only used to index `vec`.\n-  --> $DIR/for_loop.rs:84:14\n+  --> $DIR/for_loop.rs:96:14\n    |\n-84 |     for i in 5..10 {\n+96 |     for i in 5..10 {\n    |              ^^^^^\n help: consider using an iterator\n    |\n-84 |     for <item> in vec.iter().take(10).skip(5) {\n+96 |     for <item> in vec.iter().take(10).skip(5) {\n    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is only used to index `vec`.\n-  --> $DIR/for_loop.rs:88:14\n-   |\n-88 |     for i in 5..=10 {\n-   |              ^^^^^^\n+   --> $DIR/for_loop.rs:100:14\n+    |\n+100 |     for i in 5..=10 {\n+    |              ^^^^^^\n help: consider using an iterator\n-   |\n-88 |     for <item> in vec.iter().take(10 + 1).skip(5) {\n-   |         ^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+    |\n+100 |     for <item> in vec.iter().take(10 + 1).skip(5) {\n+    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is used to index `vec`\n-  --> $DIR/for_loop.rs:92:14\n-   |\n-92 |     for i in 5..vec.len() {\n-   |              ^^^^^^^^^^^^\n+   --> $DIR/for_loop.rs:104:14\n+    |\n+104 |     for i in 5..vec.len() {\n+    |              ^^^^^^^^^^^^\n help: consider using an iterator\n-   |\n-92 |     for (i, <item>) in vec.iter().enumerate().skip(5) {\n-   |         ^^^^^^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+    |\n+104 |     for (i, <item>) in vec.iter().enumerate().skip(5) {\n+    |         ^^^^^^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is used to index `vec`\n-  --> $DIR/for_loop.rs:96:14\n-   |\n-96 |     for i in 5..10 {\n-   |              ^^^^^\n+   --> $DIR/for_loop.rs:108:14\n+    |\n+108 |     for i in 5..10 {\n+    |              ^^^^^\n help: consider using an iterator\n-   |\n-96 |     for (i, <item>) in vec.iter().enumerate().take(10).skip(5) {\n-   |         ^^^^^^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+    |\n+108 |     for (i, <item>) in vec.iter().enumerate().take(10).skip(5) {\n+    |         ^^^^^^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: this range is empty so this for loop will never run\n-   --> $DIR/for_loop.rs:100:14\n+   --> $DIR/for_loop.rs:112:14\n     |\n-100 |     for i in 10..0 {\n+112 |     for i in 10..0 {\n     |              ^^^^^\n     |\n     = note: `-D clippy::reverse-range-loop` implied by `-D warnings`\n help: consider using the following if you are attempting to iterate over this range in reverse\n     |\n-100 |     for i in (0..10).rev() {\n+112 |     for i in (0..10).rev() {\n     |              ^^^^^^^^^^^^^\n \n error: this range is empty so this for loop will never run\n-   --> $DIR/for_loop.rs:104:14\n+   --> $DIR/for_loop.rs:116:14\n     |\n-104 |     for i in 10..=0 {\n+116 |     for i in 10..=0 {\n     |              ^^^^^^\n help: consider using the following if you are attempting to iterate over this range in reverse\n     |\n-104 |     for i in (0...10).rev() {\n+116 |     for i in (0...10).rev() {\n     |              ^^^^^^^^^^^^^^\n \n error: this range is empty so this for loop will never run\n-   --> $DIR/for_loop.rs:108:14\n+   --> $DIR/for_loop.rs:120:14\n     |\n-108 |     for i in MAX_LEN..0 {\n+120 |     for i in MAX_LEN..0 {\n     |              ^^^^^^^^^^\n help: consider using the following if you are attempting to iterate over this range in reverse\n     |\n-108 |     for i in (0..MAX_LEN).rev() {\n+120 |     for i in (0..MAX_LEN).rev() {\n     |              ^^^^^^^^^^^^^^^^^^\n \n error: this range is empty so this for loop will never run\n-   --> $DIR/for_loop.rs:112:14\n+   --> $DIR/for_loop.rs:124:14\n     |\n-112 |     for i in 5..5 {\n+124 |     for i in 5..5 {\n     |              ^^^^\n \n error: this range is empty so this for loop will never run\n-   --> $DIR/for_loop.rs:137:14\n+   --> $DIR/for_loop.rs:149:14\n     |\n-137 |     for i in 10..5 + 4 {\n+149 |     for i in 10..5 + 4 {\n     |              ^^^^^^^^^\n help: consider using the following if you are attempting to iterate over this range in reverse\n     |\n-137 |     for i in (5 + 4..10).rev() {\n+149 |     for i in (5 + 4..10).rev() {\n     |              ^^^^^^^^^^^^^^^^^\n \n error: this range is empty so this for loop will never run\n-   --> $DIR/for_loop.rs:141:14\n+   --> $DIR/for_loop.rs:153:14\n     |\n-141 |     for i in (5 + 2)..(3 - 1) {\n+153 |     for i in (5 + 2)..(3 - 1) {\n     |              ^^^^^^^^^^^^^^^^\n help: consider using the following if you are attempting to iterate over this range in reverse\n     |\n-141 |     for i in ((3 - 1)..(5 + 2)).rev() {\n+153 |     for i in ((3 - 1)..(5 + 2)).rev() {\n     |              ^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: this range is empty so this for loop will never run\n-   --> $DIR/for_loop.rs:145:14\n+   --> $DIR/for_loop.rs:157:14\n     |\n-145 |     for i in (5 + 2)..(8 - 1) {\n+157 |     for i in (5 + 2)..(8 - 1) {\n     |              ^^^^^^^^^^^^^^^^\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:167:15\n+   --> $DIR/for_loop.rs:179:15\n     |\n-167 |     for _v in vec.iter() {}\n+179 |     for _v in vec.iter() {}\n     |               ^^^^^^^^^^ help: to write this more concisely, try: `&vec`\n     |\n     = note: `-D clippy::explicit-iter-loop` implied by `-D warnings`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:169:15\n+   --> $DIR/for_loop.rs:181:15\n     |\n-169 |     for _v in vec.iter_mut() {}\n+181 |     for _v in vec.iter_mut() {}\n     |               ^^^^^^^^^^^^^^ help: to write this more concisely, try: `&mut vec`\n \n error: it is more concise to loop over containers instead of using explicit iteration methods`\n-   --> $DIR/for_loop.rs:172:15\n+   --> $DIR/for_loop.rs:184:15\n     |\n-172 |     for _v in out_vec.into_iter() {}\n+184 |     for _v in out_vec.into_iter() {}\n     |               ^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `out_vec`\n     |\n     = note: `-D clippy::explicit-into-iter-loop` implied by `-D warnings`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:175:15\n+   --> $DIR/for_loop.rs:187:15\n     |\n-175 |     for _v in array.into_iter() {}\n+187 |     for _v in array.into_iter() {}\n     |               ^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&array`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:180:15\n+   --> $DIR/for_loop.rs:192:15\n     |\n-180 |     for _v in [1, 2, 3].iter() {}\n+192 |     for _v in [1, 2, 3].iter() {}\n     |               ^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&[1, 2, 3]`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:184:15\n+   --> $DIR/for_loop.rs:196:15\n     |\n-184 |     for _v in [0; 32].iter() {}\n+196 |     for _v in [0; 32].iter() {}\n     |               ^^^^^^^^^^^^^^ help: to write this more concisely, try: `&[0; 32]`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:189:15\n+   --> $DIR/for_loop.rs:201:15\n     |\n-189 |     for _v in ll.iter() {}\n+201 |     for _v in ll.iter() {}\n     |               ^^^^^^^^^ help: to write this more concisely, try: `&ll`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:192:15\n+   --> $DIR/for_loop.rs:204:15\n     |\n-192 |     for _v in vd.iter() {}\n+204 |     for _v in vd.iter() {}\n     |               ^^^^^^^^^ help: to write this more concisely, try: `&vd`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:195:15\n+   --> $DIR/for_loop.rs:207:15\n     |\n-195 |     for _v in bh.iter() {}\n+207 |     for _v in bh.iter() {}\n     |               ^^^^^^^^^ help: to write this more concisely, try: `&bh`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:198:15\n+   --> $DIR/for_loop.rs:210:15\n     |\n-198 |     for _v in hm.iter() {}\n+210 |     for _v in hm.iter() {}\n     |               ^^^^^^^^^ help: to write this more concisely, try: `&hm`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:201:15\n+   --> $DIR/for_loop.rs:213:15\n     |\n-201 |     for _v in bt.iter() {}\n+213 |     for _v in bt.iter() {}\n     |               ^^^^^^^^^ help: to write this more concisely, try: `&bt`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:204:15\n+   --> $DIR/for_loop.rs:216:15\n     |\n-204 |     for _v in hs.iter() {}\n+216 |     for _v in hs.iter() {}\n     |               ^^^^^^^^^ help: to write this more concisely, try: `&hs`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n-   --> $DIR/for_loop.rs:207:15\n+   --> $DIR/for_loop.rs:219:15\n     |\n-207 |     for _v in bs.iter() {}\n+219 |     for _v in bs.iter() {}\n     |               ^^^^^^^^^ help: to write this more concisely, try: `&bs`\n \n error: you are iterating over `Iterator::next()` which is an Option; this will compile but is probably not what you want\n-   --> $DIR/for_loop.rs:209:15\n+   --> $DIR/for_loop.rs:221:15\n     |\n-209 |     for _v in vec.iter().next() {}\n+221 |     for _v in vec.iter().next() {}\n     |               ^^^^^^^^^^^^^^^^^\n     |\n     = note: `-D clippy::iter-next-loop` implied by `-D warnings`\n \n error: you are collect()ing an iterator and throwing away the result. Consider using an explicit for loop to exhaust the iterator\n-   --> $DIR/for_loop.rs:216:5\n+   --> $DIR/for_loop.rs:228:5\n     |\n-216 |     vec.iter().cloned().map(|x| out.push(x)).collect::<Vec<_>>();\n+228 |     vec.iter().cloned().map(|x| out.push(x)).collect::<Vec<_>>();\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n     |\n     = note: `-D clippy::unused-collect` implied by `-D warnings`\n \n error: you seem to want to iterate on a map's values\n-   --> $DIR/for_loop.rs:325:19\n+   --> $DIR/for_loop.rs:337:19\n     |\n-325 |     for (_, v) in &m {\n+337 |     for (_, v) in &m {\n     |                   ^^\n     |\n     = note: `-D clippy::for-kv-map` implied by `-D warnings`\n help: use the corresponding method\n     |\n-325 |     for v in m.values() {\n+337 |     for v in m.values() {\n     |         ^    ^^^^^^^^^^\n \n error: you seem to want to iterate on a map's values\n-   --> $DIR/for_loop.rs:330:19\n+   --> $DIR/for_loop.rs:342:19\n     |\n-330 |     for (_, v) in &*m {\n+342 |     for (_, v) in &*m {\n     |                   ^^^\n help: use the corresponding method\n     |\n-330 |     for v in (*m).values() {\n+342 |     for v in (*m).values() {\n     |         ^    ^^^^^^^^^^^^^\n \n error: you seem to want to iterate on a map's values\n-   --> $DIR/for_loop.rs:338:19\n+   --> $DIR/for_loop.rs:350:19\n     |\n-338 |     for (_, v) in &mut m {\n+350 |     for (_, v) in &mut m {\n     |                   ^^^^^^\n help: use the corresponding method\n     |\n-338 |     for v in m.values_mut() {\n+350 |     for v in m.values_mut() {\n     |         ^    ^^^^^^^^^^^^^^\n \n error: you seem to want to iterate on a map's values\n-   --> $DIR/for_loop.rs:343:19\n+   --> $DIR/for_loop.rs:355:19\n     |\n-343 |     for (_, v) in &mut *m {\n+355 |     for (_, v) in &mut *m {\n     |                   ^^^^^^^\n help: use the corresponding method\n     |\n-343 |     for v in (*m).values_mut() {\n+355 |     for v in (*m).values_mut() {\n     |         ^    ^^^^^^^^^^^^^^^^^\n \n error: you seem to want to iterate on a map's keys\n-   --> $DIR/for_loop.rs:349:24\n+   --> $DIR/for_loop.rs:361:24\n     |\n-349 |     for (k, _value) in rm {\n+361 |     for (k, _value) in rm {\n     |                        ^^\n help: use the corresponding method\n     |\n-349 |     for k in rm.keys() {\n+361 |     for k in rm.keys() {\n     |         ^    ^^^^^^^^^\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:402:14\n+   --> $DIR/for_loop.rs:414:14\n     |\n-402 |     for i in 0..src.len() {\n+414 |     for i in 0..src.len() {\n     |              ^^^^^^^^^^^^ help: try replacing the loop by: `dst[..src.len()].clone_from_slice(&src[..])`\n     |\n     = note: `-D clippy::manual-memcpy` implied by `-D warnings`\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:407:14\n+   --> $DIR/for_loop.rs:419:14\n     |\n-407 |     for i in 0..src.len() {\n+419 |     for i in 0..src.len() {\n     |              ^^^^^^^^^^^^ help: try replacing the loop by: `dst[10..(src.len() + 10)].clone_from_slice(&src[..])`\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:412:14\n+   --> $DIR/for_loop.rs:424:14\n     |\n-412 |     for i in 0..src.len() {\n+424 |     for i in 0..src.len() {\n     |              ^^^^^^^^^^^^ help: try replacing the loop by: `dst[..src.len()].clone_from_slice(&src[10..])`\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:417:14\n+   --> $DIR/for_loop.rs:429:14\n     |\n-417 |     for i in 11..src.len() {\n+429 |     for i in 11..src.len() {\n     |              ^^^^^^^^^^^^^ help: try replacing the loop by: `dst[11..src.len()].clone_from_slice(&src[(11 - 10)..(src.len() - 10)])`\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:422:14\n+   --> $DIR/for_loop.rs:434:14\n     |\n-422 |     for i in 0..dst.len() {\n+434 |     for i in 0..dst.len() {\n     |              ^^^^^^^^^^^^ help: try replacing the loop by: `dst.clone_from_slice(&src[..dst.len()])`\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:435:14\n+   --> $DIR/for_loop.rs:447:14\n     |\n-435 |     for i in 10..256 {\n+447 |     for i in 10..256 {\n     |              ^^^^^^^\n help: try replacing the loop by\n     |\n-435 |     for i in dst[10..256].clone_from_slice(&src[(10 - 5)..(256 - 5)])\n-436 |     dst2[(10 + 500)..(256 + 500)].clone_from_slice(&src[10..256]) {\n+447 |     for i in dst[10..256].clone_from_slice(&src[(10 - 5)..(256 - 5)])\n+448 |     dst2[(10 + 500)..(256 + 500)].clone_from_slice(&src[10..256]) {\n     |\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:447:14\n+   --> $DIR/for_loop.rs:459:14\n     |\n-447 |     for i in 10..LOOP_OFFSET {\n+459 |     for i in 10..LOOP_OFFSET {\n     |              ^^^^^^^^^^^^^^^ help: try replacing the loop by: `dst[(10 + LOOP_OFFSET)..(LOOP_OFFSET + LOOP_OFFSET)].clone_from_slice(&src[(10 - some_var)..(LOOP_OFFSET - some_var)])`\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:460:14\n+   --> $DIR/for_loop.rs:472:14\n     |\n-460 |     for i in 0..src_vec.len() {\n+472 |     for i in 0..src_vec.len() {\n     |              ^^^^^^^^^^^^^^^^ help: try replacing the loop by: `dst_vec[..src_vec.len()].clone_from_slice(&src_vec[..])`\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:489:14\n+   --> $DIR/for_loop.rs:501:14\n     |\n-489 |     for i in from..from + src.len() {\n+501 |     for i in from..from + src.len() {\n     |              ^^^^^^^^^^^^^^^^^^^^^^ help: try replacing the loop by: `dst[from..from + src.len()].clone_from_slice(&src[0..(from + src.len() - from)])`\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:493:14\n+   --> $DIR/for_loop.rs:505:14\n     |\n-493 |     for i in from..from + 3 {\n+505 |     for i in from..from + 3 {\n     |              ^^^^^^^^^^^^^^ help: try replacing the loop by: `dst[from..from + 3].clone_from_slice(&src[0..(from + 3 - from)])`\n \n error: it looks like you're manually copying between slices\n-   --> $DIR/for_loop.rs:500:14\n+   --> $DIR/for_loop.rs:512:14\n     |\n-500 |     for i in 0..src.len() {\n+512 |     for i in 0..src.len() {\n     |              ^^^^^^^^^^^^ help: try replacing the loop by: `dst[..src.len()].clone_from_slice(&src[..])`\n \n error: aborting due to 51 previous errors"}, {"sha": "84749b6caac30ce0113547a41e3908d38cbe7a54", "filename": "tests/ui/formatting.stderr", "status": "modified", "additions": 7, "deletions": 78, "changes": 85, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fformatting.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fformatting.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fformatting.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,90 +1,19 @@\n-error: this looks like an `else if` but the `else` is missing\n-  --> $DIR/formatting.rs:25:6\n-   |\n-25 |     } if foo() {\n-   |      ^\n-   |\n-   = note: `-D clippy::suspicious-else-formatting` implied by `-D warnings`\n-   = note: to remove this lint, add the missing `else` or add a new line before the second `if`\n-\n-error: this looks like an `else if` but the `else` is missing\n-  --> $DIR/formatting.rs:32:10\n-   |\n-32 |         } if foo() {\n-   |          ^\n-   |\n-   = note: to remove this lint, add the missing `else` or add a new line before the second `if`\n-\n-error: this looks like an `else if` but the `else` is missing\n-  --> $DIR/formatting.rs:40:10\n-   |\n-40 |         } if foo() {\n-   |          ^\n-   |\n-   = note: to remove this lint, add the missing `else` or add a new line before the second `if`\n-\n-error: this is an `else if` but the formatting might hide it\n-  --> $DIR/formatting.rs:49:6\n-   |\n-49 |       } else\n-   |  ______^\n-50 | |     if foo() { // the span of the above error should continue here\n-   | |____^\n-   |\n-   = note: to remove this lint, remove the `else` or remove the new line between `else` and `if`\n-\n-error: this is an `else if` but the formatting might hide it\n-  --> $DIR/formatting.rs:54:6\n-   |\n-54 |       }\n-   |  ______^\n-55 | |     else\n-56 | |     if foo() { // the span of the above error should continue here\n-   | |____^\n-   |\n-   = note: to remove this lint, remove the `else` or remove the new line between `else` and `if`\n-\n-error: this looks like you are trying to use `.. -= ..`, but you really are doing `.. = (- ..)`\n-  --> $DIR/formatting.rs:81:6\n-   |\n-81 |     a =- 35;\n-   |      ^^^^\n-   |\n-   = note: `-D clippy::suspicious-assignment-formatting` implied by `-D warnings`\n-   = note: to remove this lint, use either `-=` or `= -`\n-\n-error: this looks like you are trying to use `.. *= ..`, but you really are doing `.. = (* ..)`\n-  --> $DIR/formatting.rs:82:6\n-   |\n-82 |     a =* &191;\n-   |      ^^^^\n-   |\n-   = note: to remove this lint, use either `*=` or `= *`\n-\n-error: this looks like you are trying to use `.. != ..`, but you really are doing `.. = (! ..)`\n-  --> $DIR/formatting.rs:85:6\n-   |\n-85 |     b =! false;\n-   |      ^^^^\n-   |\n-   = note: to remove this lint, use either `!=` or `= !`\n-\n error: possibly missing a comma here\n-  --> $DIR/formatting.rs:94:19\n+  --> $DIR/formatting.rs:88:11\n    |\n-94 |         -1, -2, -3 // <= no comma here\n-   |                   ^\n+88 |         -3 // <= no comma here\n+   |           ^\n    |\n    = note: `-D clippy::possible-missing-comma` implied by `-D warnings`\n    = note: to remove this lint, add a comma or write the expr in a single line\n \n error: possibly missing a comma here\n-  --> $DIR/formatting.rs:98:19\n+  --> $DIR/formatting.rs:96:11\n    |\n-98 |         -1, -2, -3 // <= no comma here\n-   |                   ^\n+96 |         -3 // <= no comma here\n+   |           ^\n    |\n    = note: to remove this lint, add a comma or write the expr in a single line\n \n-error: aborting due to 10 previous errors\n+error: aborting due to 2 previous errors\n "}, {"sha": "206d04d6a395b23b6b048b9bdede5ebc92190cdb", "filename": "tests/ui/functions.stderr", "status": "modified", "additions": 25, "deletions": 26, "changes": 51, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffunctions.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffunctions.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffunctions.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,78 +1,77 @@\n error: this function has too many arguments (8/7)\n-  --> $DIR/functions.rs:21:1\n+  --> $DIR/functions.rs:17:1\n    |\n-21 | / fn bad(_one: u32, _two: u32, _three: &str, _four: bool, _five: f32, _six: f32, _seven: bool, _eight: ()) {\n-22 | | }\n-   | |_^\n+17 | fn bad(_one: u32, _two: u32, _three: &str, _four: bool, _five: f32, _six: f32, _seven: bool, _eight: ()) {}\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::too-many-arguments` implied by `-D warnings`\n \n error: this function has too many arguments (8/7)\n-  --> $DIR/functions.rs:29:5\n+  --> $DIR/functions.rs:34:5\n    |\n-29 |     fn bad(_one: u32, _two: u32, _three: &str, _four: bool, _five: f32, _six: f32, _seven: bool, _eight: ());\n+34 |     fn bad(_one: u32, _two: u32, _three: &str, _four: bool, _five: f32, _six: f32, _seven: bool, _eight: ());\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: this function has too many arguments (8/7)\n-  --> $DIR/functions.rs:38:5\n+  --> $DIR/functions.rs:43:5\n    |\n-38 |     fn bad_method(_one: u32, _two: u32, _three: &str, _four: bool, _five: f32, _six: f32, _seven: bool, _eight: ()) {}\n+43 |     fn bad_method(_one: u32, _two: u32, _three: &str, _four: bool, _five: f32, _six: f32, _seven: bool, _eight: ()) {}\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: this public function dereferences a raw pointer but is not marked `unsafe`\n-  --> $DIR/functions.rs:47:34\n+  --> $DIR/functions.rs:52:34\n    |\n-47 |         println!(\"{}\", unsafe { *p });\n+52 |         println!(\"{}\", unsafe { *p });\n    |                                  ^\n    |\n    = note: `-D clippy::not-unsafe-ptr-arg-deref` implied by `-D warnings`\n \n error: this public function dereferences a raw pointer but is not marked `unsafe`\n-  --> $DIR/functions.rs:48:35\n+  --> $DIR/functions.rs:53:35\n    |\n-48 |         println!(\"{:?}\", unsafe { p.as_ref() });\n+53 |         println!(\"{:?}\", unsafe { p.as_ref() });\n    |                                   ^\n \n error: this public function dereferences a raw pointer but is not marked `unsafe`\n-  --> $DIR/functions.rs:49:33\n+  --> $DIR/functions.rs:54:33\n    |\n-49 |         unsafe { std::ptr::read(p) };\n+54 |         unsafe { std::ptr::read(p) };\n    |                                 ^\n \n error: this public function dereferences a raw pointer but is not marked `unsafe`\n-  --> $DIR/functions.rs:60:30\n+  --> $DIR/functions.rs:65:30\n    |\n-60 |     println!(\"{}\", unsafe { *p });\n+65 |     println!(\"{}\", unsafe { *p });\n    |                              ^\n \n error: this public function dereferences a raw pointer but is not marked `unsafe`\n-  --> $DIR/functions.rs:61:31\n+  --> $DIR/functions.rs:66:31\n    |\n-61 |     println!(\"{:?}\", unsafe { p.as_ref() });\n+66 |     println!(\"{:?}\", unsafe { p.as_ref() });\n    |                               ^\n \n error: this public function dereferences a raw pointer but is not marked `unsafe`\n-  --> $DIR/functions.rs:62:29\n+  --> $DIR/functions.rs:67:29\n    |\n-62 |     unsafe { std::ptr::read(p) };\n+67 |     unsafe { std::ptr::read(p) };\n    |                             ^\n \n error: this public function dereferences a raw pointer but is not marked `unsafe`\n-  --> $DIR/functions.rs:71:34\n+  --> $DIR/functions.rs:76:34\n    |\n-71 |         println!(\"{}\", unsafe { *p });\n+76 |         println!(\"{}\", unsafe { *p });\n    |                                  ^\n \n error: this public function dereferences a raw pointer but is not marked `unsafe`\n-  --> $DIR/functions.rs:72:35\n+  --> $DIR/functions.rs:77:35\n    |\n-72 |         println!(\"{:?}\", unsafe { p.as_ref() });\n+77 |         println!(\"{:?}\", unsafe { p.as_ref() });\n    |                                   ^\n \n error: this public function dereferences a raw pointer but is not marked `unsafe`\n-  --> $DIR/functions.rs:73:33\n+  --> $DIR/functions.rs:78:33\n    |\n-73 |         unsafe { std::ptr::read(p) };\n+78 |         unsafe { std::ptr::read(p) };\n    |                                 ^\n \n error: aborting due to 12 previous errors"}, {"sha": "a1e50401b46e0247ba18721940d35dbb79c1ff94", "filename": "tests/ui/fxhash.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffxhash.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ffxhash.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffxhash.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,39 +1,39 @@\n error: Prefer FxHashMap over HashMap, it has better performance and we don't need any collision prevention in clippy\n-  --> $DIR/fxhash.rs:18:24\n+  --> $DIR/fxhash.rs:16:24\n    |\n-18 | use std::collections::{HashMap, HashSet};\n+16 | use std::collections::{HashMap, HashSet};\n    |                        ^^^^^^^ help: use: `FxHashMap`\n    |\n    = note: `-D clippy::default-hash-types` implied by `-D warnings`\n \n error: Prefer FxHashSet over HashSet, it has better performance and we don't need any collision prevention in clippy\n-  --> $DIR/fxhash.rs:18:33\n+  --> $DIR/fxhash.rs:16:33\n    |\n-18 | use std::collections::{HashMap, HashSet};\n+16 | use std::collections::{HashMap, HashSet};\n    |                                 ^^^^^^^ help: use: `FxHashSet`\n \n error: Prefer FxHashMap over HashMap, it has better performance and we don't need any collision prevention in clippy\n-  --> $DIR/fxhash.rs:22:15\n+  --> $DIR/fxhash.rs:19:15\n    |\n-22 |     let _map: HashMap<String, String> = HashMap::default();\n+19 |     let _map: HashMap<String, String> = HashMap::default();\n    |               ^^^^^^^ help: use: `FxHashMap`\n \n error: Prefer FxHashMap over HashMap, it has better performance and we don't need any collision prevention in clippy\n-  --> $DIR/fxhash.rs:22:41\n+  --> $DIR/fxhash.rs:19:41\n    |\n-22 |     let _map: HashMap<String, String> = HashMap::default();\n+19 |     let _map: HashMap<String, String> = HashMap::default();\n    |                                         ^^^^^^^ help: use: `FxHashMap`\n \n error: Prefer FxHashSet over HashSet, it has better performance and we don't need any collision prevention in clippy\n-  --> $DIR/fxhash.rs:23:15\n+  --> $DIR/fxhash.rs:20:15\n    |\n-23 |     let _set: HashSet<String> = HashSet::default();\n+20 |     let _set: HashSet<String> = HashSet::default();\n    |               ^^^^^^^ help: use: `FxHashSet`\n \n error: Prefer FxHashSet over HashSet, it has better performance and we don't need any collision prevention in clippy\n-  --> $DIR/fxhash.rs:23:33\n+  --> $DIR/fxhash.rs:20:33\n    |\n-23 |     let _set: HashSet<String> = HashSet::default();\n+20 |     let _set: HashSet<String> = HashSet::default();\n    |                                 ^^^^^^^ help: use: `FxHashSet`\n \n error: aborting due to 6 previous errors"}, {"sha": "8b07e740a9a40c9304bcc838eed457df012dedf7", "filename": "tests/ui/get_unwrap.stderr", "status": "modified", "additions": 24, "deletions": 24, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fget_unwrap.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fget_unwrap.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fget_unwrap.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,75 +1,75 @@\n error: called `.get().unwrap()` on a slice. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:37:17\n+  --> $DIR/get_unwrap.rs:41:17\n    |\n-37 |         let _ = boxed_slice.get(1).unwrap();\n+41 |         let _ = boxed_slice.get(1).unwrap();\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `&boxed_slice[1]`\n    |\n    = note: `-D clippy::get-unwrap` implied by `-D warnings`\n \n error: called `.get().unwrap()` on a slice. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:38:17\n+  --> $DIR/get_unwrap.rs:42:17\n    |\n-38 |         let _ = some_slice.get(0).unwrap();\n+42 |         let _ = some_slice.get(0).unwrap();\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `&some_slice[0]`\n \n error: called `.get().unwrap()` on a Vec. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:39:17\n+  --> $DIR/get_unwrap.rs:43:17\n    |\n-39 |         let _ = some_vec.get(0).unwrap();\n+43 |         let _ = some_vec.get(0).unwrap();\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `&some_vec[0]`\n \n error: called `.get().unwrap()` on a VecDeque. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:40:17\n+  --> $DIR/get_unwrap.rs:44:17\n    |\n-40 |         let _ = some_vecdeque.get(0).unwrap();\n+44 |         let _ = some_vecdeque.get(0).unwrap();\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `&some_vecdeque[0]`\n \n error: called `.get().unwrap()` on a HashMap. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:41:17\n+  --> $DIR/get_unwrap.rs:45:17\n    |\n-41 |         let _ = some_hashmap.get(&1).unwrap();\n+45 |         let _ = some_hashmap.get(&1).unwrap();\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `&some_hashmap[&1]`\n \n error: called `.get().unwrap()` on a BTreeMap. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:42:17\n+  --> $DIR/get_unwrap.rs:46:17\n    |\n-42 |         let _ = some_btreemap.get(&1).unwrap();\n+46 |         let _ = some_btreemap.get(&1).unwrap();\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `&some_btreemap[&1]`\n \n error: called `.get_mut().unwrap()` on a slice. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:47:10\n+  --> $DIR/get_unwrap.rs:52:10\n    |\n-47 |         *boxed_slice.get_mut(0).unwrap() = 1;\n+52 |         *boxed_slice.get_mut(0).unwrap() = 1;\n    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `&mut boxed_slice[0]`\n \n error: called `.get_mut().unwrap()` on a slice. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:48:10\n+  --> $DIR/get_unwrap.rs:53:10\n    |\n-48 |         *some_slice.get_mut(0).unwrap() = 1;\n+53 |         *some_slice.get_mut(0).unwrap() = 1;\n    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `&mut some_slice[0]`\n \n error: called `.get_mut().unwrap()` on a Vec. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:49:10\n+  --> $DIR/get_unwrap.rs:54:10\n    |\n-49 |         *some_vec.get_mut(0).unwrap() = 1;\n+54 |         *some_vec.get_mut(0).unwrap() = 1;\n    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `&mut some_vec[0]`\n \n error: called `.get_mut().unwrap()` on a VecDeque. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:50:10\n+  --> $DIR/get_unwrap.rs:55:10\n    |\n-50 |         *some_vecdeque.get_mut(0).unwrap() = 1;\n+55 |         *some_vecdeque.get_mut(0).unwrap() = 1;\n    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `&mut some_vecdeque[0]`\n \n error: called `.get().unwrap()` on a Vec. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:58:17\n+  --> $DIR/get_unwrap.rs:64:17\n    |\n-58 |         let _ = some_vec.get(0..1).unwrap().to_vec();\n+64 |         let _ = some_vec.get(0..1).unwrap().to_vec();\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `some_vec[0..1]`\n \n error: called `.get_mut().unwrap()` on a Vec. Using `[]` is more clear and more concise\n-  --> $DIR/get_unwrap.rs:59:17\n+  --> $DIR/get_unwrap.rs:65:17\n    |\n-59 |         let _ = some_vec.get_mut(0..1).unwrap().to_vec();\n+65 |         let _ = some_vec.get_mut(0..1).unwrap().to_vec();\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `some_vec[0..1]`\n \n error: aborting due to 12 previous errors"}, {"sha": "aab6bf7f218e338fc9d7546f6ecdbec8d4ffae93", "filename": "tests/ui/identity_conversion.stderr", "status": "modified", "additions": 22, "deletions": 22, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fidentity_conversion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fidentity_conversion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fidentity_conversion.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,67 +1,67 @@\n error: identical conversion\n-  --> $DIR/identity_conversion.rs:16:13\n+  --> $DIR/identity_conversion.rs:13:13\n    |\n-16 |     let _ = T::from(val);\n+13 |     let _ = T::from(val);\n    |             ^^^^^^^^^^^^ help: consider removing `T::from()`: `val`\n    |\n note: lint level defined here\n-  --> $DIR/identity_conversion.rs:13:9\n+  --> $DIR/identity_conversion.rs:10:9\n    |\n-13 | #![deny(clippy::identity_conversion)]\n+10 | #![deny(clippy::identity_conversion)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: identical conversion\n-  --> $DIR/identity_conversion.rs:17:5\n+  --> $DIR/identity_conversion.rs:14:5\n    |\n-17 |     val.into()\n+14 |     val.into()\n    |     ^^^^^^^^^^ help: consider removing `.into()`: `val`\n \n error: identical conversion\n-  --> $DIR/identity_conversion.rs:29:22\n+  --> $DIR/identity_conversion.rs:26:22\n    |\n-29 |         let _: i32 = 0i32.into();\n+26 |         let _: i32 = 0i32.into();\n    |                      ^^^^^^^^^^^ help: consider removing `.into()`: `0i32`\n \n error: identical conversion\n-  --> $DIR/identity_conversion.rs:50:21\n+  --> $DIR/identity_conversion.rs:47:21\n    |\n-50 |     let _: String = \"foo\".to_string().into();\n+47 |     let _: String = \"foo\".to_string().into();\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider removing `.into()`: `\"foo\".to_string()`\n \n error: identical conversion\n-  --> $DIR/identity_conversion.rs:51:21\n+  --> $DIR/identity_conversion.rs:48:21\n    |\n-51 |     let _: String = From::from(\"foo\".to_string());\n+48 |     let _: String = From::from(\"foo\".to_string());\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider removing `From::from()`: `\"foo\".to_string()`\n \n error: identical conversion\n-  --> $DIR/identity_conversion.rs:52:13\n+  --> $DIR/identity_conversion.rs:49:13\n    |\n-52 |     let _ = String::from(\"foo\".to_string());\n+49 |     let _ = String::from(\"foo\".to_string());\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider removing `String::from()`: `\"foo\".to_string()`\n \n error: identical conversion\n-  --> $DIR/identity_conversion.rs:53:13\n+  --> $DIR/identity_conversion.rs:50:13\n    |\n-53 |     let _ = String::from(format!(\"A: {:04}\", 123));\n+50 |     let _ = String::from(format!(\"A: {:04}\", 123));\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider removing `String::from()`: `format!(\"A: {:04}\", 123)`\n \n error: identical conversion\n-  --> $DIR/identity_conversion.rs:54:13\n+  --> $DIR/identity_conversion.rs:51:13\n    |\n-54 |     let _ = \"\".lines().into_iter();\n+51 |     let _ = \"\".lines().into_iter();\n    |             ^^^^^^^^^^^^^^^^^^^^^^ help: consider removing `.into_iter()`: `\"\".lines()`\n \n error: identical conversion\n-  --> $DIR/identity_conversion.rs:55:13\n+  --> $DIR/identity_conversion.rs:52:13\n    |\n-55 |     let _ = vec![1, 2, 3].into_iter().into_iter();\n+52 |     let _ = vec![1, 2, 3].into_iter().into_iter();\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider removing `.into_iter()`: `vec![1, 2, 3].into_iter()`\n \n error: identical conversion\n-  --> $DIR/identity_conversion.rs:56:21\n+  --> $DIR/identity_conversion.rs:53:21\n    |\n-56 |     let _: String = format!(\"Hello {}\", \"world\").into();\n+53 |     let _: String = format!(\"Hello {}\", \"world\").into();\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider removing `.into()`: `format!(\"Hello {}\", \"world\")`\n \n error: aborting due to 10 previous errors"}, {"sha": "e2b6efa7dbe1b7ea6a833b7a0377ee321e37ef2c", "filename": "tests/ui/identity_op.stderr", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fidentity_op.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fidentity_op.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fidentity_op.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,51 +1,51 @@\n error: the operation is ineffective. Consider reducing it to `x`\n-  --> $DIR/identity_op.rs:23:5\n+  --> $DIR/identity_op.rs:24:5\n    |\n-23 |     x + 0;\n+24 |     x + 0;\n    |     ^^^^^\n    |\n    = note: `-D clippy::identity-op` implied by `-D warnings`\n \n error: the operation is ineffective. Consider reducing it to `x`\n-  --> $DIR/identity_op.rs:24:5\n+  --> $DIR/identity_op.rs:25:5\n    |\n-24 |     x + (1 - 1);\n+25 |     x + (1 - 1);\n    |     ^^^^^^^^^^^\n \n error: the operation is ineffective. Consider reducing it to `x`\n-  --> $DIR/identity_op.rs:26:5\n+  --> $DIR/identity_op.rs:27:5\n    |\n-26 |     0 + x;\n+27 |     0 + x;\n    |     ^^^^^\n \n error: the operation is ineffective. Consider reducing it to `x`\n-  --> $DIR/identity_op.rs:29:5\n+  --> $DIR/identity_op.rs:30:5\n    |\n-29 |     x | (0);\n+30 |     x | (0);\n    |     ^^^^^^^\n \n error: the operation is ineffective. Consider reducing it to `x`\n-  --> $DIR/identity_op.rs:32:5\n+  --> $DIR/identity_op.rs:33:5\n    |\n-32 |     x * 1;\n+33 |     x * 1;\n    |     ^^^^^\n \n error: the operation is ineffective. Consider reducing it to `x`\n-  --> $DIR/identity_op.rs:33:5\n+  --> $DIR/identity_op.rs:34:5\n    |\n-33 |     1 * x;\n+34 |     1 * x;\n    |     ^^^^^\n \n error: the operation is ineffective. Consider reducing it to `x`\n-  --> $DIR/identity_op.rs:39:5\n+  --> $DIR/identity_op.rs:40:5\n    |\n-39 |     -1 & x;\n+40 |     -1 & x;\n    |     ^^^^^^\n \n error: the operation is ineffective. Consider reducing it to `u`\n-  --> $DIR/identity_op.rs:42:5\n+  --> $DIR/identity_op.rs:43:5\n    |\n-42 |     u & 255;\n+43 |     u & 255;\n    |     ^^^^^^^\n \n error: aborting due to 8 previous errors"}, {"sha": "0393e49a2ee7605b4435900e00941d00f4b6df81", "filename": "tests/ui/if_not_else.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fif_not_else.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fif_not_else.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fif_not_else.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,24 +1,24 @@\n error: Unnecessary boolean `not` operation\n-  --> $DIR/if_not_else.rs:19:5\n+  --> $DIR/if_not_else.rs:18:5\n    |\n-19 | /     if !bla() {\n-20 | |         println!(\"Bugs\");\n-21 | |     } else {\n-22 | |         println!(\"Bunny\");\n-23 | |     }\n+18 | /     if !bla() {\n+19 | |         println!(\"Bugs\");\n+20 | |     } else {\n+21 | |         println!(\"Bunny\");\n+22 | |     }\n    | |_____^\n    |\n    = note: `-D clippy::if-not-else` implied by `-D warnings`\n    = help: remove the `!` and swap the blocks of the if/else\n \n error: Unnecessary `!=` operation\n-  --> $DIR/if_not_else.rs:24:5\n+  --> $DIR/if_not_else.rs:23:5\n    |\n-24 | /     if 4 != 5 {\n-25 | |         println!(\"Bugs\");\n-26 | |     } else {\n-27 | |         println!(\"Bunny\");\n-28 | |     }\n+23 | /     if 4 != 5 {\n+24 | |         println!(\"Bugs\");\n+25 | |     } else {\n+26 | |         println!(\"Bunny\");\n+27 | |     }\n    | |_____^\n    |\n    = help: change to `==` and swap the blocks of the if/else"}, {"sha": "adad754bffee7be91dec6d2d4ccba996702707b3", "filename": "tests/ui/impl.stderr", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fimpl.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fimpl.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fimpl.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,34 +1,34 @@\n error: Multiple implementations of this structure\n-  --> $DIR/impl.rs:22:1\n+  --> $DIR/impl.rs:19:1\n    |\n-22 | / impl MyStruct {\n-23 | |     fn second() {}\n-24 | | }\n+19 | / impl MyStruct {\n+20 | |     fn second() {}\n+21 | | }\n    | |_^\n    |\n    = note: `-D clippy::multiple-inherent-impl` implied by `-D warnings`\n note: First implementation here\n-  --> $DIR/impl.rs:18:1\n+  --> $DIR/impl.rs:15:1\n    |\n-18 | / impl MyStruct {\n-19 | |     fn first() {}\n-20 | | }\n+15 | / impl MyStruct {\n+16 | |     fn first() {}\n+17 | | }\n    | |_^\n \n error: Multiple implementations of this structure\n-  --> $DIR/impl.rs:36:5\n+  --> $DIR/impl.rs:33:5\n    |\n-36 | /     impl super::MyStruct {\n-37 | |         fn third() {}\n-38 | |     }\n+33 | /     impl super::MyStruct {\n+34 | |         fn third() {}\n+35 | |     }\n    | |_____^\n    |\n note: First implementation here\n-  --> $DIR/impl.rs:18:1\n+  --> $DIR/impl.rs:15:1\n    |\n-18 | / impl MyStruct {\n-19 | |     fn first() {}\n-20 | | }\n+15 | / impl MyStruct {\n+16 | |     fn first() {}\n+17 | | }\n    | |_^\n \n error: aborting due to 2 previous errors"}, {"sha": "58b823e6ca1826f35c32d812ceb521d74e17441c", "filename": "tests/ui/implicit_hasher.stderr", "status": "modified", "additions": 40, "deletions": 40, "changes": 80, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fimplicit_hasher.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fimplicit_hasher.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fimplicit_hasher.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,136 +1,136 @@\n error: impl for `HashMap` should be generalized over different hashers\n-  --> $DIR/implicit_hasher.rs:21:35\n+  --> $DIR/implicit_hasher.rs:20:35\n    |\n-21 | impl<K: Hash + Eq, V> Foo<i8> for HashMap<K, V> {\n+20 | impl<K: Hash + Eq, V> Foo<i8> for HashMap<K, V> {\n    |                                   ^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::implicit-hasher` implied by `-D warnings`\n help: consider adding a type parameter\n    |\n-21 | impl<K: Hash + Eq, V, S: ::std::hash::BuildHasher + Default> Foo<i8> for HashMap<K, V, S> {\n+20 | impl<K: Hash + Eq, V, S: ::std::hash::BuildHasher + Default> Foo<i8> for HashMap<K, V, S> {\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^             ^^^^^^^^^^^^^^^^\n help: ...and use generic constructor\n    |\n-27 |         (HashMap::default(), HashMap::with_capacity_and_hasher(10, Default::default()))\n+26 |         (HashMap::default(), HashMap::with_capacity_and_hasher(10, Default::default()))\n    |          ^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: impl for `HashMap` should be generalized over different hashers\n-  --> $DIR/implicit_hasher.rs:30:36\n+  --> $DIR/implicit_hasher.rs:29:36\n    |\n-30 | impl<K: Hash + Eq, V> Foo<i8> for (HashMap<K, V>,) {\n+29 | impl<K: Hash + Eq, V> Foo<i8> for (HashMap<K, V>,) {\n    |                                    ^^^^^^^^^^^^^\n help: consider adding a type parameter\n    |\n-30 | impl<K: Hash + Eq, V, S: ::std::hash::BuildHasher + Default> Foo<i8> for (HashMap<K, V, S>,) {\n+29 | impl<K: Hash + Eq, V, S: ::std::hash::BuildHasher + Default> Foo<i8> for (HashMap<K, V, S>,) {\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^              ^^^^^^^^^^^^^^^^\n help: ...and use generic constructor\n    |\n-32 |         ((HashMap::default(),), (HashMap::with_capacity_and_hasher(10, Default::default()),))\n+31 |         ((HashMap::default(),), (HashMap::with_capacity_and_hasher(10, Default::default()),))\n    |           ^^^^^^^^^^^^^^^^^^     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: impl for `HashMap` should be generalized over different hashers\n-  --> $DIR/implicit_hasher.rs:35:19\n+  --> $DIR/implicit_hasher.rs:34:19\n    |\n-35 | impl Foo<i16> for HashMap<String, String> {\n+34 | impl Foo<i16> for HashMap<String, String> {\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^\n help: consider adding a type parameter\n    |\n-35 | impl<S: ::std::hash::BuildHasher + Default> Foo<i16> for HashMap<String, String, S> {\n+34 | impl<S: ::std::hash::BuildHasher + Default> Foo<i16> for HashMap<String, String, S> {\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n help: ...and use generic constructor\n    |\n-37 |         (HashMap::default(), HashMap::with_capacity_and_hasher(10, Default::default()))\n+36 |         (HashMap::default(), HashMap::with_capacity_and_hasher(10, Default::default()))\n    |          ^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: impl for `HashSet` should be generalized over different hashers\n-  --> $DIR/implicit_hasher.rs:53:32\n+  --> $DIR/implicit_hasher.rs:51:32\n    |\n-53 | impl<T: Hash + Eq> Foo<i8> for HashSet<T> {\n+51 | impl<T: Hash + Eq> Foo<i8> for HashSet<T> {\n    |                                ^^^^^^^^^^\n help: consider adding a type parameter\n    |\n-53 | impl<T: Hash + Eq, S: ::std::hash::BuildHasher + Default> Foo<i8> for HashSet<T, S> {\n+51 | impl<T: Hash + Eq, S: ::std::hash::BuildHasher + Default> Foo<i8> for HashSet<T, S> {\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^             ^^^^^^^^^^^^^\n help: ...and use generic constructor\n    |\n-55 |         (HashSet::default(), HashSet::with_capacity_and_hasher(10, Default::default()))\n+53 |         (HashSet::default(), HashSet::with_capacity_and_hasher(10, Default::default()))\n    |          ^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: impl for `HashSet` should be generalized over different hashers\n-  --> $DIR/implicit_hasher.rs:58:19\n+  --> $DIR/implicit_hasher.rs:56:19\n    |\n-58 | impl Foo<i16> for HashSet<String> {\n+56 | impl Foo<i16> for HashSet<String> {\n    |                   ^^^^^^^^^^^^^^^\n help: consider adding a type parameter\n    |\n-58 | impl<S: ::std::hash::BuildHasher + Default> Foo<i16> for HashSet<String, S> {\n+56 | impl<S: ::std::hash::BuildHasher + Default> Foo<i16> for HashSet<String, S> {\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^              ^^^^^^^^^^^^^^^^^^\n help: ...and use generic constructor\n    |\n-60 |         (HashSet::default(), HashSet::with_capacity_and_hasher(10, Default::default()))\n+58 |         (HashSet::default(), HashSet::with_capacity_and_hasher(10, Default::default()))\n    |          ^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: parameter of type `HashMap` should be generalized over different hashers\n-  --> $DIR/implicit_hasher.rs:75:23\n+  --> $DIR/implicit_hasher.rs:73:23\n    |\n-75 | pub fn foo(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32>) {\n+73 | pub fn foo(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32>) {}\n    |                       ^^^^^^^^^^^^^^^^^\n help: consider adding a type parameter\n    |\n-75 | pub fn foo<S: ::std::hash::BuildHasher>(_map: &mut HashMap<i32, i32, S>, _set: &mut HashSet<i32>) {\n+73 | pub fn foo<S: ::std::hash::BuildHasher>(_map: &mut HashMap<i32, i32, S>, _set: &mut HashSet<i32>) {}\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^            ^^^^^^^^^^^^^^^^^^^^\n \n error: parameter of type `HashSet` should be generalized over different hashers\n-  --> $DIR/implicit_hasher.rs:75:53\n+  --> $DIR/implicit_hasher.rs:73:53\n    |\n-75 | pub fn foo(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32>) {\n+73 | pub fn foo(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32>) {}\n    |                                                     ^^^^^^^^^^^^\n help: consider adding a type parameter\n    |\n-75 | pub fn foo<S: ::std::hash::BuildHasher>(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32, S>) {\n+73 | pub fn foo<S: ::std::hash::BuildHasher>(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32, S>) {}\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                          ^^^^^^^^^^^^^^^\n \n error: impl for `HashMap` should be generalized over different hashers\n-  --> $DIR/implicit_hasher.rs:80:43\n+  --> $DIR/implicit_hasher.rs:77:43\n    |\n-80 |         impl<K: Hash + Eq, V> Foo<u8> for HashMap<K, V> {\n+77 |         impl<K: Hash + Eq, V> Foo<u8> for HashMap<K, V> {\n    |                                           ^^^^^^^^^^^^^\n ...\n-93 | gen!(impl);\n-   | ----------- in this macro invocation\n+89 | gen!(impl );\n+   | ------------ in this macro invocation\n help: consider adding a type parameter\n    |\n-80 |         impl<K: Hash + Eq, V, S: ::std::hash::BuildHasher + Default> Foo<u8> for HashMap<K, V, S> {\n+77 |         impl<K: Hash + Eq, V, S: ::std::hash::BuildHasher + Default> Foo<u8> for HashMap<K, V, S> {\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^             ^^^^^^^^^^^^^^^^\n help: ...and use generic constructor\n    |\n-82 |                 (HashMap::default(), HashMap::with_capacity_and_hasher(10, Default::default()))\n+79 |                 (HashMap::default(), HashMap::with_capacity_and_hasher(10, Default::default()))\n    |                  ^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: parameter of type `HashMap` should be generalized over different hashers\n-  --> $DIR/implicit_hasher.rs:88:33\n+  --> $DIR/implicit_hasher.rs:85:33\n    |\n-88 |         pub fn $name(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32>) {\n+85 |         pub fn $name(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32>) {}\n    |                                 ^^^^^^^^^^^^^^^^^\n ...\n-94 | gen!(fn bar);\n+90 | gen!(fn bar);\n    | ------------- in this macro invocation\n help: consider adding a type parameter\n    |\n-88 |         pub fn $name<S: ::std::hash::BuildHasher>(_map: &mut HashMap<i32, i32, S>, _set: &mut HashSet<i32>) {\n+85 |         pub fn $name<S: ::std::hash::BuildHasher>(_map: &mut HashMap<i32, i32, S>, _set: &mut HashSet<i32>) {}\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^            ^^^^^^^^^^^^^^^^^^^^\n \n error: parameter of type `HashSet` should be generalized over different hashers\n-  --> $DIR/implicit_hasher.rs:88:63\n+  --> $DIR/implicit_hasher.rs:85:63\n    |\n-88 |         pub fn $name(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32>) {\n+85 |         pub fn $name(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32>) {}\n    |                                                               ^^^^^^^^^^^^\n ...\n-94 | gen!(fn bar);\n+90 | gen!(fn bar);\n    | ------------- in this macro invocation\n help: consider adding a type parameter\n    |\n-88 |         pub fn $name<S: ::std::hash::BuildHasher>(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32, S>) {\n+85 |         pub fn $name<S: ::std::hash::BuildHasher>(_map: &mut HashMap<i32, i32>, _set: &mut HashSet<i32, S>) {}\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                          ^^^^^^^^^^^^^^^\n \n error: aborting due to 10 previous errors"}, {"sha": "26474aab4b8f7e3dc03205046d4baf50995e66bf", "filename": "tests/ui/implicit_return.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fimplicit_return.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fimplicit_return.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fimplicit_return.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,51 +1,51 @@\n error: missing return statement\n-  --> $DIR/implicit_return.rs:21:5\n+  --> $DIR/implicit_return.rs:17:5\n    |\n-21 |     true\n+17 |     true\n    |     ^^^^ help: add `return` as shown: `return true`\n    |\n    = note: `-D clippy::implicit-return` implied by `-D warnings`\n \n error: missing return statement\n-  --> $DIR/implicit_return.rs:27:9\n+  --> $DIR/implicit_return.rs:23:9\n    |\n-27 |         true\n+23 |         true\n    |         ^^^^ help: add `return` as shown: `return true`\n \n error: missing return statement\n-  --> $DIR/implicit_return.rs:29:9\n+  --> $DIR/implicit_return.rs:25:9\n    |\n-29 |         false\n+25 |         false\n    |         ^^^^^ help: add `return` as shown: `return false`\n \n error: missing return statement\n-  --> $DIR/implicit_return.rs:36:17\n+  --> $DIR/implicit_return.rs:32:17\n    |\n-36 |         true => false,\n+32 |         true => false,\n    |                 ^^^^^ help: add `return` as shown: `return false`\n \n error: missing return statement\n-  --> $DIR/implicit_return.rs:38:13\n+  --> $DIR/implicit_return.rs:33:18\n    |\n-38 |             true\n-   |             ^^^^ help: add `return` as shown: `return true`\n+33 |         false => true,\n+   |                  ^^^^ help: add `return` as shown: `return true`\n \n error: missing return statement\n-  --> $DIR/implicit_return.rs:46:9\n+  --> $DIR/implicit_return.rs:40:9\n    |\n-46 |         break true;\n+40 |         break true;\n    |         ^^^^^^^^^^ help: change `break` to `return` as shown: `return true`\n \n error: missing return statement\n-  --> $DIR/implicit_return.rs:52:9\n+  --> $DIR/implicit_return.rs:45:16\n    |\n-52 |         true\n-   |         ^^^^ help: add `return` as shown: `return true`\n+45 |     let _ = || true;\n+   |                ^^^^ help: add `return` as shown: `return true`\n \n error: missing return statement\n-  --> $DIR/implicit_return.rs:54:16\n+  --> $DIR/implicit_return.rs:46:16\n    |\n-54 |     let _ = || true;\n+46 |     let _ = || true;\n    |                ^^^^ help: add `return` as shown: `return true`\n \n error: aborting due to 8 previous errors"}, {"sha": "77e2f3bd41b2596a8694648f23656099f73b4237", "filename": "tests/ui/inconsistent_digit_grouping.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finconsistent_digit_grouping.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finconsistent_digit_grouping.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finconsistent_digit_grouping.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: digits grouped inconsistently by underscores\n-  --> $DIR/inconsistent_digit_grouping.rs:17:16\n+  --> $DIR/inconsistent_digit_grouping.rs:22:16\n    |\n-17 |     let bad = (1_23_456, 1_234_5678, 1234_567, 1_234.5678_f32, 1.234_5678_f32);\n+22 |     let bad = (1_23_456, 1_234_5678, 1234_567, 1_234.5678_f32, 1.234_5678_f32);\n    |                ^^^^^^^^ help: consider: `123_456`\n    |\n    = note: `-D clippy::inconsistent-digit-grouping` implied by `-D warnings`\n \n error: digits grouped inconsistently by underscores\n-  --> $DIR/inconsistent_digit_grouping.rs:17:26\n+  --> $DIR/inconsistent_digit_grouping.rs:22:26\n    |\n-17 |     let bad = (1_23_456, 1_234_5678, 1234_567, 1_234.5678_f32, 1.234_5678_f32);\n+22 |     let bad = (1_23_456, 1_234_5678, 1234_567, 1_234.5678_f32, 1.234_5678_f32);\n    |                          ^^^^^^^^^^ help: consider: `12_345_678`\n \n error: digits grouped inconsistently by underscores\n-  --> $DIR/inconsistent_digit_grouping.rs:17:38\n+  --> $DIR/inconsistent_digit_grouping.rs:22:38\n    |\n-17 |     let bad = (1_23_456, 1_234_5678, 1234_567, 1_234.5678_f32, 1.234_5678_f32);\n+22 |     let bad = (1_23_456, 1_234_5678, 1234_567, 1_234.5678_f32, 1.234_5678_f32);\n    |                                      ^^^^^^^^ help: consider: `1_234_567`\n \n error: digits grouped inconsistently by underscores\n-  --> $DIR/inconsistent_digit_grouping.rs:17:48\n+  --> $DIR/inconsistent_digit_grouping.rs:22:48\n    |\n-17 |     let bad = (1_23_456, 1_234_5678, 1234_567, 1_234.5678_f32, 1.234_5678_f32);\n+22 |     let bad = (1_23_456, 1_234_5678, 1234_567, 1_234.5678_f32, 1.234_5678_f32);\n    |                                                ^^^^^^^^^^^^^^ help: consider: `1_234.567_8_f32`\n \n error: digits grouped inconsistently by underscores\n-  --> $DIR/inconsistent_digit_grouping.rs:17:64\n+  --> $DIR/inconsistent_digit_grouping.rs:22:64\n    |\n-17 |     let bad = (1_23_456, 1_234_5678, 1234_567, 1_234.5678_f32, 1.234_5678_f32);\n+22 |     let bad = (1_23_456, 1_234_5678, 1234_567, 1_234.5678_f32, 1.234_5678_f32);\n    |                                                                ^^^^^^^^^^^^^^ help: consider: `1.234_567_8_f32`\n \n error: aborting due to 5 previous errors"}, {"sha": "c9a45bc4084784cafdf8cdfce2c44a0a396d61c1", "filename": "tests/ui/indexing_slicing.stderr", "status": "modified", "additions": 86, "deletions": 86, "changes": 172, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Findexing_slicing.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Findexing_slicing.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Findexing_slicing.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,308 +1,308 @@\n error: index out of bounds: the len is 4 but the index is 4\n-  --> $DIR/indexing_slicing.rs:28:5\n+  --> $DIR/indexing_slicing.rs:25:5\n    |\n-28 |     x[4]; // Ok, let rustc's `const_err` lint handle `usize` indexing on arrays.\n+25 |     x[4]; // Ok, let rustc's `const_err` lint handle `usize` indexing on arrays.\n    |     ^^^^\n    |\n    = note: #[deny(const_err)] on by default\n \n error: index out of bounds: the len is 4 but the index is 8\n-  --> $DIR/indexing_slicing.rs:29:5\n+  --> $DIR/indexing_slicing.rs:26:5\n    |\n-29 |     x[1 << 3]; // Ok, let rustc's `const_err` lint handle `usize` indexing on arrays.\n+26 |     x[1 << 3]; // Ok, let rustc's `const_err` lint handle `usize` indexing on arrays.\n    |     ^^^^^^^^^\n \n error: index out of bounds: the len is 0 but the index is 0\n-  --> $DIR/indexing_slicing.rs:59:5\n+  --> $DIR/indexing_slicing.rs:56:5\n    |\n-59 |     empty[0]; // Ok, let rustc's `const_err` lint handle `usize` indexing on arrays.\n+56 |     empty[0]; // Ok, let rustc's `const_err` lint handle `usize` indexing on arrays.\n    |     ^^^^^^^^\n \n error: index out of bounds: the len is 4 but the index is 15\n-  --> $DIR/indexing_slicing.rs:90:5\n+  --> $DIR/indexing_slicing.rs:87:5\n    |\n-90 |     x[N]; // Ok, let rustc's `const_err` lint handle `usize` indexing on arrays.\n+87 |     x[N]; // Ok, let rustc's `const_err` lint handle `usize` indexing on arrays.\n    |     ^^^^\n \n error: indexing may panic.\n-  --> $DIR/indexing_slicing.rs:23:5\n+  --> $DIR/indexing_slicing.rs:20:5\n    |\n-23 |     x[index];\n+20 |     x[index];\n    |     ^^^^^^^^\n    |\n    = note: `-D clippy::indexing-slicing` implied by `-D warnings`\n    = help: Consider using `.get(n)` or `.get_mut(n)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:24:6\n+  --> $DIR/indexing_slicing.rs:21:6\n    |\n-24 |     &x[index..];\n+21 |     &x[index..];\n    |      ^^^^^^^^^^\n    |\n    = help: Consider using `.get(n..)` or .get_mut(n..)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:25:6\n+  --> $DIR/indexing_slicing.rs:22:6\n    |\n-25 |     &x[..index];\n+22 |     &x[..index];\n    |      ^^^^^^^^^^\n    |\n    = help: Consider using `.get(..n)`or `.get_mut(..n)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:26:6\n+  --> $DIR/indexing_slicing.rs:23:6\n    |\n-26 |     &x[index_from..index_to];\n+23 |     &x[index_from..index_to];\n    |      ^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: Consider using `.get(n..m)` or `.get_mut(n..m)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:27:6\n+  --> $DIR/indexing_slicing.rs:24:6\n    |\n-27 |     &x[index_from..][..index_to]; // Two lint reports, one for [index_from..] and another for [..index_to].\n+24 |     &x[index_from..][..index_to]; // Two lint reports, one for [index_from..] and another for [..index_to].\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: Consider using `.get(..n)`or `.get_mut(..n)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:27:6\n+  --> $DIR/indexing_slicing.rs:24:6\n    |\n-27 |     &x[index_from..][..index_to]; // Two lint reports, one for [index_from..] and another for [..index_to].\n+24 |     &x[index_from..][..index_to]; // Two lint reports, one for [index_from..] and another for [..index_to].\n    |      ^^^^^^^^^^^^^^^\n    |\n    = help: Consider using `.get(n..)` or .get_mut(n..)` instead\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:30:11\n+  --> $DIR/indexing_slicing.rs:27:11\n    |\n-30 |     &x[..=4];\n+27 |     &x[..=4];\n    |           ^\n    |\n    = note: `-D clippy::out-of-bounds-indexing` implied by `-D warnings`\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:31:11\n+  --> $DIR/indexing_slicing.rs:28:11\n    |\n-31 |     &x[1..5];\n+28 |     &x[1..5];\n    |           ^\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:32:6\n+  --> $DIR/indexing_slicing.rs:29:6\n    |\n-32 |     &x[5..][..10]; // Two lint reports, one for [5..] and another for [..10].\n+29 |     &x[5..][..10]; // Two lint reports, one for [5..] and another for [..10].\n    |      ^^^^^^^^^^^^\n    |\n    = help: Consider using `.get(..n)`or `.get_mut(..n)` instead\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:32:8\n+  --> $DIR/indexing_slicing.rs:29:8\n    |\n-32 |     &x[5..][..10]; // Two lint reports, one for [5..] and another for [..10].\n+29 |     &x[5..][..10]; // Two lint reports, one for [5..] and another for [..10].\n    |        ^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:33:8\n+  --> $DIR/indexing_slicing.rs:30:8\n    |\n-33 |     &x[5..];\n+30 |     &x[5..];\n    |        ^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:34:10\n+  --> $DIR/indexing_slicing.rs:31:10\n    |\n-34 |     &x[..5];\n+31 |     &x[..5];\n    |          ^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:35:8\n+  --> $DIR/indexing_slicing.rs:32:8\n    |\n-35 |     &x[5..].iter().map(|x| 2 * x).collect::<Vec<i32>>();\n+32 |     &x[5..].iter().map(|x| 2 * x).collect::<Vec<i32>>();\n    |        ^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:36:12\n+  --> $DIR/indexing_slicing.rs:33:12\n    |\n-36 |     &x[0..=4];\n+33 |     &x[0..=4];\n    |            ^\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:37:6\n+  --> $DIR/indexing_slicing.rs:34:6\n    |\n-37 |     &x[0..][..3];\n+34 |     &x[0..][..3];\n    |      ^^^^^^^^^^^\n    |\n    = help: Consider using `.get(..n)`or `.get_mut(..n)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:38:6\n+  --> $DIR/indexing_slicing.rs:35:6\n    |\n-38 |     &x[1..][..5];\n+35 |     &x[1..][..5];\n    |      ^^^^^^^^^^^\n    |\n    = help: Consider using `.get(..n)`or `.get_mut(..n)` instead\n \n error: indexing may panic.\n-  --> $DIR/indexing_slicing.rs:51:5\n+  --> $DIR/indexing_slicing.rs:48:5\n    |\n-51 |     y[0];\n+48 |     y[0];\n    |     ^^^^\n    |\n    = help: Consider using `.get(n)` or `.get_mut(n)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:52:6\n+  --> $DIR/indexing_slicing.rs:49:6\n    |\n-52 |     &y[1..2];\n+49 |     &y[1..2];\n    |      ^^^^^^^\n    |\n    = help: Consider using `.get(n..m)` or `.get_mut(n..m)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:53:6\n+  --> $DIR/indexing_slicing.rs:50:6\n    |\n-53 |     &y[0..=4];\n+50 |     &y[0..=4];\n    |      ^^^^^^^^\n    |\n    = help: Consider using `.get(n..m)` or `.get_mut(n..m)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:54:6\n+  --> $DIR/indexing_slicing.rs:51:6\n    |\n-54 |     &y[..=4];\n+51 |     &y[..=4];\n    |      ^^^^^^^\n    |\n    = help: Consider using `.get(..n)`or `.get_mut(..n)` instead\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:60:12\n+  --> $DIR/indexing_slicing.rs:57:12\n    |\n-60 |     &empty[1..5];\n+57 |     &empty[1..5];\n    |            ^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:61:16\n+  --> $DIR/indexing_slicing.rs:58:16\n    |\n-61 |     &empty[0..=4];\n+58 |     &empty[0..=4];\n    |                ^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:62:15\n+  --> $DIR/indexing_slicing.rs:59:15\n    |\n-62 |     &empty[..=4];\n+59 |     &empty[..=4];\n    |               ^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:63:12\n+  --> $DIR/indexing_slicing.rs:60:12\n    |\n-63 |     &empty[1..];\n+60 |     &empty[1..];\n    |            ^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:64:14\n+  --> $DIR/indexing_slicing.rs:61:14\n    |\n-64 |     &empty[..4];\n+61 |     &empty[..4];\n    |              ^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:65:16\n+  --> $DIR/indexing_slicing.rs:62:16\n    |\n-65 |     &empty[0..=0];\n+62 |     &empty[0..=0];\n    |                ^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:66:15\n+  --> $DIR/indexing_slicing.rs:63:15\n    |\n-66 |     &empty[..=0];\n+63 |     &empty[..=0];\n    |               ^\n \n error: indexing may panic.\n-  --> $DIR/indexing_slicing.rs:74:5\n+  --> $DIR/indexing_slicing.rs:71:5\n    |\n-74 |     v[0];\n+71 |     v[0];\n    |     ^^^^\n    |\n    = help: Consider using `.get(n)` or `.get_mut(n)` instead\n \n error: indexing may panic.\n-  --> $DIR/indexing_slicing.rs:75:5\n+  --> $DIR/indexing_slicing.rs:72:5\n    |\n-75 |     v[10];\n+72 |     v[10];\n    |     ^^^^^\n    |\n    = help: Consider using `.get(n)` or `.get_mut(n)` instead\n \n error: indexing may panic.\n-  --> $DIR/indexing_slicing.rs:76:5\n+  --> $DIR/indexing_slicing.rs:73:5\n    |\n-76 |     v[1 << 3];\n+73 |     v[1 << 3];\n    |     ^^^^^^^^^\n    |\n    = help: Consider using `.get(n)` or `.get_mut(n)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:77:6\n+  --> $DIR/indexing_slicing.rs:74:6\n    |\n-77 |     &v[10..100];\n+74 |     &v[10..100];\n    |      ^^^^^^^^^^\n    |\n    = help: Consider using `.get(n..m)` or `.get_mut(n..m)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:78:6\n+  --> $DIR/indexing_slicing.rs:75:6\n    |\n-78 |     &x[10..][..100]; // Two lint reports, one for [10..] and another for [..100].\n+75 |     &x[10..][..100]; // Two lint reports, one for [10..] and another for [..100].\n    |      ^^^^^^^^^^^^^^\n    |\n    = help: Consider using `.get(..n)`or `.get_mut(..n)` instead\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:78:8\n+  --> $DIR/indexing_slicing.rs:75:8\n    |\n-78 |     &x[10..][..100]; // Two lint reports, one for [10..] and another for [..100].\n+75 |     &x[10..][..100]; // Two lint reports, one for [10..] and another for [..100].\n    |        ^^\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:79:6\n+  --> $DIR/indexing_slicing.rs:76:6\n    |\n-79 |     &v[10..];\n+76 |     &v[10..];\n    |      ^^^^^^^\n    |\n    = help: Consider using `.get(n..)` or .get_mut(n..)` instead\n \n error: slicing may panic.\n-  --> $DIR/indexing_slicing.rs:80:6\n+  --> $DIR/indexing_slicing.rs:77:6\n    |\n-80 |     &v[..100];\n+77 |     &v[..100];\n    |      ^^^^^^^^\n    |\n    = help: Consider using `.get(..n)`or `.get_mut(..n)` instead\n \n error: indexing may panic.\n-  --> $DIR/indexing_slicing.rs:92:5\n+  --> $DIR/indexing_slicing.rs:89:5\n    |\n-92 |     v[N];\n+89 |     v[N];\n    |     ^^^^\n    |\n    = help: Consider using `.get(n)` or `.get_mut(n)` instead\n \n error: indexing may panic.\n-  --> $DIR/indexing_slicing.rs:93:5\n+  --> $DIR/indexing_slicing.rs:90:5\n    |\n-93 |     v[M];\n+90 |     v[M];\n    |     ^^^^\n    |\n    = help: Consider using `.get(n)` or `.get_mut(n)` instead\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:97:13\n+  --> $DIR/indexing_slicing.rs:94:13\n    |\n-97 |     &x[num..10]; // should trigger out of bounds error\n+94 |     &x[num..10]; // should trigger out of bounds error\n    |             ^^\n \n error: range is out of bounds\n-  --> $DIR/indexing_slicing.rs:98:8\n+  --> $DIR/indexing_slicing.rs:95:8\n    |\n-98 |     &x[10..num]; // should trigger out of bounds error\n+95 |     &x[10..num]; // should trigger out of bounds error\n    |        ^^\n \n error: aborting due to 43 previous errors"}, {"sha": "62588a2ad7ce2d62fbe2a664a7d0b71dd15268df", "filename": "tests/ui/infallible_destructuring_match.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finfallible_destructuring_match.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finfallible_destructuring_match.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finfallible_destructuring_match.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,27 +1,27 @@\n error: you seem to be trying to use match to destructure a single infallible pattern. Consider using `let`\n-  --> $DIR/infallible_destructuring_match.rs:28:5\n+  --> $DIR/infallible_destructuring_match.rs:25:5\n    |\n-28 | /     let data = match wrapper {\n-29 | |         SingleVariantEnum::Variant(i) => i,\n-30 | |     };\n+25 | /     let data = match wrapper {\n+26 | |         SingleVariantEnum::Variant(i) => i,\n+27 | |     };\n    | |______^ help: try this: `let SingleVariantEnum::Variant(data) = wrapper;`\n    |\n    = note: `-D clippy::infallible-destructuring-match` implied by `-D warnings`\n \n error: you seem to be trying to use match to destructure a single infallible pattern. Consider using `let`\n-  --> $DIR/infallible_destructuring_match.rs:49:5\n+  --> $DIR/infallible_destructuring_match.rs:46:5\n    |\n-49 | /     let data = match wrapper {\n-50 | |         TupleStruct(i) => i,\n-51 | |     };\n+46 | /     let data = match wrapper {\n+47 | |         TupleStruct(i) => i,\n+48 | |     };\n    | |______^ help: try this: `let TupleStruct(data) = wrapper;`\n \n error: you seem to be trying to use match to destructure a single infallible pattern. Consider using `let`\n-  --> $DIR/infallible_destructuring_match.rs:70:5\n+  --> $DIR/infallible_destructuring_match.rs:67:5\n    |\n-70 | /     let data = match wrapper {\n-71 | |         Ok(i) => i,\n-72 | |     };\n+67 | /     let data = match wrapper {\n+68 | |         Ok(i) => i,\n+69 | |     };\n    | |______^ help: try this: `let Ok(data) = wrapper;`\n \n error: aborting due to 3 previous errors"}, {"sha": "2c3b05aaff32a092f332a9d7ff0a9635047c9e2c", "filename": "tests/ui/infinite_iter.stderr", "status": "modified", "additions": 44, "deletions": 35, "changes": 79, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finfinite_iter.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finfinite_iter.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finfinite_iter.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,99 +1,108 @@\n error: you are collect()ing an iterator and throwing away the result. Consider using an explicit for loop to exhaust the iterator\n-  --> $DIR/infinite_iter.rs:20:5\n+  --> $DIR/infinite_iter.rs:19:5\n    |\n-20 |     repeat(0_u8).collect::<Vec<_>>(); // infinite iter\n+19 |     repeat(0_u8).collect::<Vec<_>>(); // infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::unused-collect` implied by `-D warnings`\n \n error: infinite iteration detected\n-  --> $DIR/infinite_iter.rs:20:5\n+  --> $DIR/infinite_iter.rs:19:5\n    |\n-20 |     repeat(0_u8).collect::<Vec<_>>(); // infinite iter\n+19 |     repeat(0_u8).collect::<Vec<_>>(); // infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n note: lint level defined here\n-  --> $DIR/infinite_iter.rs:18:8\n+  --> $DIR/infinite_iter.rs:17:8\n    |\n-18 | #[deny(clippy::infinite_iter)]\n+17 | #[deny(clippy::infinite_iter)]\n    |        ^^^^^^^^^^^^^^^^^^^^^\n \n error: infinite iteration detected\n-  --> $DIR/infinite_iter.rs:21:5\n+  --> $DIR/infinite_iter.rs:20:5\n    |\n-21 |     (0..8_u32).take_while(square_is_lower_64).cycle().count(); // infinite iter\n+20 |     (0..8_u32).take_while(square_is_lower_64).cycle().count(); // infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: infinite iteration detected\n-  --> $DIR/infinite_iter.rs:22:5\n+  --> $DIR/infinite_iter.rs:21:5\n    |\n-22 |     (0..8_u64).chain(0..).max(); // infinite iter\n+21 |     (0..8_u64).chain(0..).max(); // infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: infinite iteration detected\n-  --> $DIR/infinite_iter.rs:24:5\n+  --> $DIR/infinite_iter.rs:26:5\n    |\n-24 |     (0..8_u32).rev().cycle().map(|x| x + 1_u32).for_each(|x| println!(\"{}\", x)); // infinite iter\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+26 | /     (0..8_u32)\n+27 | |         .rev()\n+28 | |         .cycle()\n+29 | |         .map(|x| x + 1_u32)\n+30 | |         .for_each(|x| println!(\"{}\", x)); // infinite iter\n+   | |________________________________________^\n \n error: infinite iteration detected\n-  --> $DIR/infinite_iter.rs:26:5\n+  --> $DIR/infinite_iter.rs:32:5\n    |\n-26 |     (0_usize..).flat_map(|x| 0..x).product::<usize>();  // infinite iter\n+32 |     (0_usize..).flat_map(|x| 0..x).product::<usize>(); // infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: infinite iteration detected\n-  --> $DIR/infinite_iter.rs:27:5\n+  --> $DIR/infinite_iter.rs:33:5\n    |\n-27 |     (0_u64..).filter(|x| x % 2 == 0).last(); // infinite iter\n+33 |     (0_u64..).filter(|x| x % 2 == 0).last(); // infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: possible infinite iteration detected\n-  --> $DIR/infinite_iter.rs:34:5\n+  --> $DIR/infinite_iter.rs:40:5\n    |\n-34 |     (0..).zip((0..).take_while(square_is_lower_64)).count(); // maybe infinite iter\n+40 |     (0..).zip((0..).take_while(square_is_lower_64)).count(); // maybe infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n note: lint level defined here\n-  --> $DIR/infinite_iter.rs:32:8\n+  --> $DIR/infinite_iter.rs:38:8\n    |\n-32 | #[deny(clippy::maybe_infinite_iter)]\n+38 | #[deny(clippy::maybe_infinite_iter)]\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: possible infinite iteration detected\n-  --> $DIR/infinite_iter.rs:35:5\n+  --> $DIR/infinite_iter.rs:41:5\n    |\n-35 |     repeat(42).take_while(|x| *x == 42).chain(0..42).max(); // maybe infinite iter\n+41 |     repeat(42).take_while(|x| *x == 42).chain(0..42).max(); // maybe infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: possible infinite iteration detected\n-  --> $DIR/infinite_iter.rs:36:5\n-   |\n-36 |     (1..).scan(0, |state, x| { *state += x; Some(*state) }).min(); // maybe infinite iter\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+  --> $DIR/infinite_iter.rs:42:5\n+   |\n+42 | /     (1..)\n+43 | |         .scan(0, |state, x| {\n+44 | |             *state += x;\n+45 | |             Some(*state)\n+46 | |         })\n+47 | |         .min(); // maybe infinite iter\n+   | |______________^\n \n error: possible infinite iteration detected\n-  --> $DIR/infinite_iter.rs:37:5\n+  --> $DIR/infinite_iter.rs:48:5\n    |\n-37 |     (0..).find(|x| *x == 24); // maybe infinite iter\n+48 |     (0..).find(|x| *x == 24); // maybe infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: possible infinite iteration detected\n-  --> $DIR/infinite_iter.rs:38:5\n+  --> $DIR/infinite_iter.rs:49:5\n    |\n-38 |     (0..).position(|x| x == 24); // maybe infinite iter\n+49 |     (0..).position(|x| x == 24); // maybe infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: possible infinite iteration detected\n-  --> $DIR/infinite_iter.rs:39:5\n+  --> $DIR/infinite_iter.rs:50:5\n    |\n-39 |     (0..).any(|x| x == 24); // maybe infinite iter\n+50 |     (0..).any(|x| x == 24); // maybe infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n error: possible infinite iteration detected\n-  --> $DIR/infinite_iter.rs:40:5\n+  --> $DIR/infinite_iter.rs:51:5\n    |\n-40 |     (0..).all(|x| x == 24); // maybe infinite iter\n+51 |     (0..).all(|x| x == 24); // maybe infinite iter\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 14 previous errors"}, {"sha": "de7851519ec7f967380326ccb6907a6f9fe7d908", "filename": "tests/ui/infinite_loop.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finfinite_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finfinite_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finfinite_loop.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,57 +1,57 @@\n error: Variable in the condition are not mutated in the loop body. This either leads to an infinite or to a never running loop.\n-  --> $DIR/infinite_loop.rs:26:11\n+  --> $DIR/infinite_loop.rs:32:11\n    |\n-26 |     while y < 10 {\n+32 |     while y < 10 {\n    |           ^^^^^^\n    |\n    = note: #[deny(clippy::while_immutable_condition)] on by default\n \n error: Variable in the condition are not mutated in the loop body. This either leads to an infinite or to a never running loop.\n-  --> $DIR/infinite_loop.rs:31:11\n+  --> $DIR/infinite_loop.rs:37:11\n    |\n-31 |     while y < 10 && x < 3 {\n+37 |     while y < 10 && x < 3 {\n    |           ^^^^^^^^^^^^^^^\n \n error: Variable in the condition are not mutated in the loop body. This either leads to an infinite or to a never running loop.\n-  --> $DIR/infinite_loop.rs:38:11\n+  --> $DIR/infinite_loop.rs:44:11\n    |\n-38 |     while !cond {\n+44 |     while !cond {\n    |           ^^^^^\n \n error: Variable in the condition are not mutated in the loop body. This either leads to an infinite or to a never running loop.\n-  --> $DIR/infinite_loop.rs:82:11\n+  --> $DIR/infinite_loop.rs:88:11\n    |\n-82 |     while i < 3 {\n+88 |     while i < 3 {\n    |           ^^^^^\n \n error: Variable in the condition are not mutated in the loop body. This either leads to an infinite or to a never running loop.\n-  --> $DIR/infinite_loop.rs:87:11\n+  --> $DIR/infinite_loop.rs:93:11\n    |\n-87 |     while i < 3 && j > 0 {\n+93 |     while i < 3 && j > 0 {\n    |           ^^^^^^^^^^^^^^\n \n error: Variable in the condition are not mutated in the loop body. This either leads to an infinite or to a never running loop.\n-  --> $DIR/infinite_loop.rs:91:11\n+  --> $DIR/infinite_loop.rs:97:11\n    |\n-91 |     while i < 3 {\n+97 |     while i < 3 {\n    |           ^^^^^\n \n error: Variable in the condition are not mutated in the loop body. This either leads to an infinite or to a never running loop.\n-   --> $DIR/infinite_loop.rs:106:11\n+   --> $DIR/infinite_loop.rs:112:11\n     |\n-106 |     while i < 3 {\n+112 |     while i < 3 {\n     |           ^^^^^\n \n error: Variable in the condition are not mutated in the loop body. This either leads to an infinite or to a never running loop.\n-   --> $DIR/infinite_loop.rs:111:11\n+   --> $DIR/infinite_loop.rs:117:11\n     |\n-111 |     while i < 3 {\n+117 |     while i < 3 {\n     |           ^^^^^\n \n error: Variable in the condition are not mutated in the loop body. This either leads to an infinite or to a never running loop.\n-   --> $DIR/infinite_loop.rs:174:15\n+   --> $DIR/infinite_loop.rs:183:15\n     |\n-174 |         while self.count < n {\n+183 |         while self.count < n {\n     |               ^^^^^^^^^^^^^^\n \n error: aborting due to 9 previous errors"}, {"sha": "0eaee7c7b257286a1bc3f5c7ca0e9a7454c85d00", "filename": "tests/ui/inline_fn_without_body.stderr", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finline_fn_without_body.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finline_fn_without_body.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finline_fn_without_body.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,25 +1,27 @@\n error: use of `#[inline]` on trait method `default_inline` which has no body\n-  --> $DIR/inline_fn_without_body.rs:18:5\n+  --> $DIR/inline_fn_without_body.rs:14:5\n    |\n-18 |       #[inline]\n+14 |       #[inline]\n    |  _____-^^^^^^^^\n-19 | |     fn default_inline();\n+15 | |     fn default_inline();\n    | |____- help: remove\n    |\n    = note: `-D clippy::inline-fn-without-body` implied by `-D warnings`\n \n error: use of `#[inline]` on trait method `always_inline` which has no body\n-  --> $DIR/inline_fn_without_body.rs:21:5\n+  --> $DIR/inline_fn_without_body.rs:17:5\n    |\n-21 |     #[inline(always)]fn always_inline();\n-   |     ^^^^^^^^^^^^^^^^^ help: remove\n+17 |       #[inline(always)]\n+   |  _____-^^^^^^^^^^^^^^^^\n+18 | |     fn always_inline();\n+   | |____- help: remove\n \n error: use of `#[inline]` on trait method `never_inline` which has no body\n-  --> $DIR/inline_fn_without_body.rs:23:5\n+  --> $DIR/inline_fn_without_body.rs:20:5\n    |\n-23 |       #[inline(never)]\n+20 |       #[inline(never)]\n    |  _____-^^^^^^^^^^^^^^^\n-24 | |     fn never_inline();\n+21 | |     fn never_inline();\n    | |____- help: remove\n \n error: aborting due to 3 previous errors"}, {"sha": "4a81e911157b3579ef913e6289477651e44de405", "filename": "tests/ui/int_plus_one.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fint_plus_one.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fint_plus_one.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fint_plus_one.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,43 +1,43 @@\n error: Unnecessary `>= y + 1` or `x - 1 >=`\n-  --> $DIR/int_plus_one.rs:20:5\n+  --> $DIR/int_plus_one.rs:16:5\n    |\n-20 |     x >= y + 1;\n+16 |     x >= y + 1;\n    |     ^^^^^^^^^^\n    |\n    = note: `-D clippy::int-plus-one` implied by `-D warnings`\n help: change `>= y + 1` to `> y` as shown\n    |\n-20 |     x > y;\n+16 |     x > y;\n    |     ^^^^^\n \n error: Unnecessary `>= y + 1` or `x - 1 >=`\n-  --> $DIR/int_plus_one.rs:21:5\n+  --> $DIR/int_plus_one.rs:17:5\n    |\n-21 |     y + 1 <= x;\n+17 |     y + 1 <= x;\n    |     ^^^^^^^^^^\n help: change `>= y + 1` to `> y` as shown\n    |\n-21 |     y < x;\n+17 |     y < x;\n    |     ^^^^^\n \n error: Unnecessary `>= y + 1` or `x - 1 >=`\n-  --> $DIR/int_plus_one.rs:23:5\n+  --> $DIR/int_plus_one.rs:19:5\n    |\n-23 |     x - 1 >= y;\n+19 |     x - 1 >= y;\n    |     ^^^^^^^^^^\n help: change `>= y + 1` to `> y` as shown\n    |\n-23 |     x > y;\n+19 |     x > y;\n    |     ^^^^^\n \n error: Unnecessary `>= y + 1` or `x - 1 >=`\n-  --> $DIR/int_plus_one.rs:24:5\n+  --> $DIR/int_plus_one.rs:20:5\n    |\n-24 |     y <= x - 1;\n+20 |     y <= x - 1;\n    |     ^^^^^^^^^^\n help: change `>= y + 1` to `> y` as shown\n    |\n-24 |     y < x;\n+20 |     y < x;\n    |     ^^^^^\n \n error: aborting due to 4 previous errors"}, {"sha": "f6d6fe35d7f519b7bef1f93236a9f4d5a2e9e232", "filename": "tests/ui/into_iter_on_ref.stderr", "status": "modified", "additions": 21, "deletions": 21, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finto_iter_on_ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finto_iter_on_ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finto_iter_on_ref.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,8 +1,8 @@\n error: this .into_iter() call is equivalent to .iter() and will not move the array\n-  --> $DIR/into_iter_on_ref.rs:11:22\n+  --> $DIR/into_iter_on_ref.rs:11:24\n    |\n-11 |     for _ in [1,2,3].into_iter() {} //~ ERROR equivalent to .iter()\n-   |                      ^^^^^^^^^ help: call directly: `iter`\n+11 |     for _ in [1, 2, 3].into_iter() {} //~ ERROR equivalent to .iter()\n+   |                        ^^^^^^^^^ help: call directly: `iter`\n    |\n note: lint level defined here\n   --> $DIR/into_iter_on_ref.rs:2:9\n@@ -11,24 +11,24 @@ note: lint level defined here\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: this .into_iter() call is equivalent to .iter() and will not move the array\n-  --> $DIR/into_iter_on_ref.rs:13:21\n+  --> $DIR/into_iter_on_ref.rs:13:23\n    |\n-13 |     let _ = [1,2,3].into_iter(); //~ ERROR equivalent to .iter()\n-   |                     ^^^^^^^^^ help: call directly: `iter`\n+13 |     let _ = [1, 2, 3].into_iter(); //~ ERROR equivalent to .iter()\n+   |                       ^^^^^^^^^ help: call directly: `iter`\n \n error: this .into_iter() call is equivalent to .iter() and will not move the Vec\n-  --> $DIR/into_iter_on_ref.rs:15:28\n+  --> $DIR/into_iter_on_ref.rs:15:30\n    |\n-15 |     let _ = (&vec![1,2,3]).into_iter(); //~ WARN equivalent to .iter()\n-   |                            ^^^^^^^^^ help: call directly: `iter`\n+15 |     let _ = (&vec![1, 2, 3]).into_iter(); //~ WARN equivalent to .iter()\n+   |                              ^^^^^^^^^ help: call directly: `iter`\n    |\n    = note: `-D clippy::into-iter-on-ref` implied by `-D warnings`\n \n error: this .into_iter() call is equivalent to .iter() and will not move the slice\n-  --> $DIR/into_iter_on_ref.rs:16:44\n+  --> $DIR/into_iter_on_ref.rs:16:46\n    |\n-16 |     let _ = vec![1,2,3].into_boxed_slice().into_iter(); //~ WARN equivalent to .iter()\n-   |                                            ^^^^^^^^^ help: call directly: `iter`\n+16 |     let _ = vec![1, 2, 3].into_boxed_slice().into_iter(); //~ WARN equivalent to .iter()\n+   |                                              ^^^^^^^^^ help: call directly: `iter`\n \n error: this .into_iter() call is equivalent to .iter() and will not move the slice\n   --> $DIR/into_iter_on_ref.rs:17:41\n@@ -43,22 +43,22 @@ error: this .into_iter() call is equivalent to .iter() and will not move the sli\n    |                                            ^^^^^^^^^ help: call directly: `iter`\n \n error: this .into_iter() call is equivalent to .iter() and will not move the array\n-  --> $DIR/into_iter_on_ref.rs:20:30\n+  --> $DIR/into_iter_on_ref.rs:20:32\n    |\n-20 |     let _ = (&&&&&&&[1,2,3]).into_iter(); //~ ERROR equivalent to .iter()\n-   |                              ^^^^^^^^^ help: call directly: `iter`\n+20 |     let _ = (&&&&&&&[1, 2, 3]).into_iter(); //~ ERROR equivalent to .iter()\n+   |                                ^^^^^^^^^ help: call directly: `iter`\n \n error: this .into_iter() call is equivalent to .iter() and will not move the array\n-  --> $DIR/into_iter_on_ref.rs:21:34\n+  --> $DIR/into_iter_on_ref.rs:21:36\n    |\n-21 |     let _ = (&&&&mut &&&[1,2,3]).into_iter(); //~ ERROR equivalent to .iter()\n-   |                                  ^^^^^^^^^ help: call directly: `iter`\n+21 |     let _ = (&&&&mut &&&[1, 2, 3]).into_iter(); //~ ERROR equivalent to .iter()\n+   |                                    ^^^^^^^^^ help: call directly: `iter`\n \n error: this .into_iter() call is equivalent to .iter_mut() and will not move the array\n-  --> $DIR/into_iter_on_ref.rs:22:38\n+  --> $DIR/into_iter_on_ref.rs:22:40\n    |\n-22 |     let _ = (&mut &mut &mut [1,2,3]).into_iter(); //~ ERROR equivalent to .iter_mut()\n-   |                                      ^^^^^^^^^ help: call directly: `iter_mut`\n+22 |     let _ = (&mut &mut &mut [1, 2, 3]).into_iter(); //~ ERROR equivalent to .iter_mut()\n+   |                                        ^^^^^^^^^ help: call directly: `iter_mut`\n \n error: this .into_iter() call is equivalent to .iter() and will not move the Option\n   --> $DIR/into_iter_on_ref.rs:24:24"}, {"sha": "a5142596aebf977b461b0ae9e76cdd3ba60e326a", "filename": "tests/ui/invalid_ref.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finvalid_ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finvalid_ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finvalid_ref.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,48 +1,48 @@\n error: reference to zeroed memory\n-  --> $DIR/invalid_ref.rs:37:24\n+  --> $DIR/invalid_ref.rs:33:24\n    |\n-37 |     let ref_zero: &T = std::mem::zeroed();     // warning\n+33 |     let ref_zero: &T = std::mem::zeroed(); // warning\n    |                        ^^^^^^^^^^^^^^^^^^\n    |\n    = note: #[deny(clippy::invalid_ref)] on by default\n    = help: Creation of a null reference is undefined behavior; see https://doc.rust-lang.org/reference/behavior-considered-undefined.html\n \n error: reference to zeroed memory\n-  --> $DIR/invalid_ref.rs:41:24\n+  --> $DIR/invalid_ref.rs:37:24\n    |\n-41 |     let ref_zero: &T = core::mem::zeroed();   // warning\n+37 |     let ref_zero: &T = core::mem::zeroed(); // warning\n    |                        ^^^^^^^^^^^^^^^^^^^\n    |\n    = help: Creation of a null reference is undefined behavior; see https://doc.rust-lang.org/reference/behavior-considered-undefined.html\n \n error: reference to zeroed memory\n-  --> $DIR/invalid_ref.rs:45:24\n+  --> $DIR/invalid_ref.rs:41:24\n    |\n-45 |     let ref_zero: &T = std::intrinsics::init();   // warning\n+41 |     let ref_zero: &T = std::intrinsics::init(); // warning\n    |                        ^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: Creation of a null reference is undefined behavior; see https://doc.rust-lang.org/reference/behavior-considered-undefined.html\n \n error: reference to uninitialized memory\n-  --> $DIR/invalid_ref.rs:49:26\n+  --> $DIR/invalid_ref.rs:45:26\n    |\n-49 |     let ref_uninit: &T = std::mem::uninitialized();   // warning\n+45 |     let ref_uninit: &T = std::mem::uninitialized(); // warning\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: Creation of a null reference is undefined behavior; see https://doc.rust-lang.org/reference/behavior-considered-undefined.html\n \n error: reference to uninitialized memory\n-  --> $DIR/invalid_ref.rs:53:26\n+  --> $DIR/invalid_ref.rs:49:26\n    |\n-53 |     let ref_uninit: &T = core::mem::uninitialized();   // warning\n+49 |     let ref_uninit: &T = core::mem::uninitialized(); // warning\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: Creation of a null reference is undefined behavior; see https://doc.rust-lang.org/reference/behavior-considered-undefined.html\n \n error: reference to uninitialized memory\n-  --> $DIR/invalid_ref.rs:57:26\n+  --> $DIR/invalid_ref.rs:53:26\n    |\n-57 |     let ref_uninit: &T = std::intrinsics::uninit();   // warning\n+53 |     let ref_uninit: &T = std::intrinsics::uninit(); // warning\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: Creation of a null reference is undefined behavior; see https://doc.rust-lang.org/reference/behavior-considered-undefined.html"}, {"sha": "2ac4a48b8623607bdca6d21d240140fe9a340e5b", "filename": "tests/ui/invalid_upcast_comparisons.stderr", "status": "modified", "additions": 54, "deletions": 54, "changes": 108, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finvalid_upcast_comparisons.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Finvalid_upcast_comparisons.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finvalid_upcast_comparisons.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,165 +1,165 @@\n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:26:5\n+  --> $DIR/invalid_upcast_comparisons.rs:30:5\n    |\n-26 |     (u8 as u32) > 300;\n+30 |     (u8 as u32) > 300;\n    |     ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::invalid-upcast-comparisons` implied by `-D warnings`\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:27:5\n+  --> $DIR/invalid_upcast_comparisons.rs:31:5\n    |\n-27 |     (u8 as i32) > 300;\n+31 |     (u8 as i32) > 300;\n    |     ^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:28:5\n+  --> $DIR/invalid_upcast_comparisons.rs:32:5\n    |\n-28 |     (u8 as u32) == 300;\n+32 |     (u8 as u32) == 300;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:29:5\n+  --> $DIR/invalid_upcast_comparisons.rs:33:5\n    |\n-29 |     (u8 as i32) == 300;\n+33 |     (u8 as i32) == 300;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:30:5\n+  --> $DIR/invalid_upcast_comparisons.rs:34:5\n    |\n-30 |     300 < (u8 as u32);\n+34 |     300 < (u8 as u32);\n    |     ^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:31:5\n+  --> $DIR/invalid_upcast_comparisons.rs:35:5\n    |\n-31 |     300 < (u8 as i32);\n+35 |     300 < (u8 as i32);\n    |     ^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:32:5\n+  --> $DIR/invalid_upcast_comparisons.rs:36:5\n    |\n-32 |     300 == (u8 as u32);\n+36 |     300 == (u8 as u32);\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:33:5\n+  --> $DIR/invalid_upcast_comparisons.rs:37:5\n    |\n-33 |     300 == (u8 as i32);\n+37 |     300 == (u8 as i32);\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:35:5\n+  --> $DIR/invalid_upcast_comparisons.rs:39:5\n    |\n-35 |     (u8 as u32) <= 300;\n+39 |     (u8 as u32) <= 300;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:36:5\n+  --> $DIR/invalid_upcast_comparisons.rs:40:5\n    |\n-36 |     (u8 as i32) <= 300;\n+40 |     (u8 as i32) <= 300;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:37:5\n+  --> $DIR/invalid_upcast_comparisons.rs:41:5\n    |\n-37 |     (u8 as u32) != 300;\n+41 |     (u8 as u32) != 300;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:38:5\n+  --> $DIR/invalid_upcast_comparisons.rs:42:5\n    |\n-38 |     (u8 as i32) != 300;\n+42 |     (u8 as i32) != 300;\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:39:5\n+  --> $DIR/invalid_upcast_comparisons.rs:43:5\n    |\n-39 |     300 >= (u8 as u32);\n+43 |     300 >= (u8 as u32);\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:40:5\n+  --> $DIR/invalid_upcast_comparisons.rs:44:5\n    |\n-40 |     300 >= (u8 as i32);\n+44 |     300 >= (u8 as i32);\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:41:5\n+  --> $DIR/invalid_upcast_comparisons.rs:45:5\n    |\n-41 |     300 != (u8 as u32);\n+45 |     300 != (u8 as u32);\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:42:5\n+  --> $DIR/invalid_upcast_comparisons.rs:46:5\n    |\n-42 |     300 != (u8 as i32);\n+46 |     300 != (u8 as i32);\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:45:5\n+  --> $DIR/invalid_upcast_comparisons.rs:49:5\n    |\n-45 |     (u8 as i32) < 0;\n+49 |     (u8 as i32) < 0;\n    |     ^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:46:5\n+  --> $DIR/invalid_upcast_comparisons.rs:50:5\n    |\n-46 |     -5 != (u8 as i32);\n+50 |     -5 != (u8 as i32);\n    |     ^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:48:5\n+  --> $DIR/invalid_upcast_comparisons.rs:52:5\n    |\n-48 |     (u8 as i32) >= 0;\n+52 |     (u8 as i32) >= 0;\n    |     ^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:49:5\n+  --> $DIR/invalid_upcast_comparisons.rs:53:5\n    |\n-49 |     -5 == (u8 as i32);\n+53 |     -5 == (u8 as i32);\n    |     ^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:52:5\n+  --> $DIR/invalid_upcast_comparisons.rs:56:5\n    |\n-52 |     1337 == (u8 as i32);\n+56 |     1337 == (u8 as i32);\n    |     ^^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:53:5\n+  --> $DIR/invalid_upcast_comparisons.rs:57:5\n    |\n-53 |     1337 == (u8 as u32);\n+57 |     1337 == (u8 as u32);\n    |     ^^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:55:5\n+  --> $DIR/invalid_upcast_comparisons.rs:59:5\n    |\n-55 |     1337 != (u8 as i32);\n+59 |     1337 != (u8 as i32);\n    |     ^^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:56:5\n+  --> $DIR/invalid_upcast_comparisons.rs:60:5\n    |\n-56 |     1337 != (u8 as u32);\n+60 |     1337 != (u8 as u32);\n    |     ^^^^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always true\n-  --> $DIR/invalid_upcast_comparisons.rs:71:5\n+  --> $DIR/invalid_upcast_comparisons.rs:74:5\n    |\n-71 |     (u8 as i32) > -1;\n+74 |     (u8 as i32) > -1;\n    |     ^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:72:5\n+  --> $DIR/invalid_upcast_comparisons.rs:75:5\n    |\n-72 |     (u8 as i32) < -1;\n+75 |     (u8 as i32) < -1;\n    |     ^^^^^^^^^^^^^^^^\n \n error: because of the numeric bounds on `u8` prior to casting, this expression is always false\n-  --> $DIR/invalid_upcast_comparisons.rs:88:5\n+  --> $DIR/invalid_upcast_comparisons.rs:91:5\n    |\n-88 |     -5 >= (u8 as i32);\n+91 |     -5 >= (u8 as i32);\n    |     ^^^^^^^^^^^^^^^^^\n \n error: aborting due to 27 previous errors"}, {"sha": "6f9f88a8d678978c527cb28f48a74fc7ddceefcb", "filename": "tests/ui/issue-3145.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fissue-3145.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fissue-3145.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fissue-3145.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,7 +1,7 @@\n error: expected token: `,`\n-  --> $DIR/issue-3145.rs:12:19\n+  --> $DIR/issue-3145.rs:11:19\n    |\n-12 |     println!(\"{}\" a); //~ERROR expected token: `,`\n+11 |     println!(\"{}\" a); //~ERROR expected token: `,`\n    |                   ^\n \n error: aborting due to previous error"}, {"sha": "28b67cbc9fa51bd2d2ed3eb46141d5cd9523a846", "filename": "tests/ui/issue_2356.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fissue_2356.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fissue_2356.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fissue_2356.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,13 +1,13 @@\n error: this loop could be written as a `for` loop\n-  --> $DIR/issue_2356.rs:27:29\n+  --> $DIR/issue_2356.rs:24:29\n    |\n-27 |         while let Some(e) = it.next() {\n+24 |         while let Some(e) = it.next() {\n    |                             ^^^^^^^^^ help: try: `for e in it { .. }`\n    |\n note: lint level defined here\n-  --> $DIR/issue_2356.rs:13:9\n+  --> $DIR/issue_2356.rs:10:9\n    |\n-13 | #![deny(clippy::while_let_on_iterator)]\n+10 | #![deny(clippy::while_let_on_iterator)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to previous error"}, {"sha": "c988fca3827fe9fef65b41388a3de689ad977171", "filename": "tests/ui/item_after_statement.stderr", "status": "modified", "additions": 10, "deletions": 6, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fitem_after_statement.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fitem_after_statement.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fitem_after_statement.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,16 +1,20 @@\n error: adding items after statements is confusing, since items exist from the start of the scope\n-  --> $DIR/item_after_statement.rs:22:5\n+  --> $DIR/item_after_statement.rs:21:5\n    |\n-22 |     fn foo() { println!(\"foo\"); }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+21 | /     fn foo() {\n+22 | |         println!(\"foo\");\n+23 | |     }\n+   | |_____^\n    |\n    = note: `-D clippy::items-after-statements` implied by `-D warnings`\n \n error: adding items after statements is confusing, since items exist from the start of the scope\n-  --> $DIR/item_after_statement.rs:27:5\n+  --> $DIR/item_after_statement.rs:28:5\n    |\n-27 |     fn foo() { println!(\"foo\"); }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+28 | /     fn foo() {\n+29 | |         println!(\"foo\");\n+30 | |     }\n+   | |_____^\n \n error: aborting due to 2 previous errors\n "}, {"sha": "47587f5423a734ede0ad24455dd034e66163f0e6", "filename": "tests/ui/large_digit_groups.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flarge_digit_groups.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flarge_digit_groups.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flarge_digit_groups.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,40 +1,40 @@\n error: digit groups should be smaller\n-  --> $DIR/large_digit_groups.rs:17:16\n+  --> $DIR/large_digit_groups.rs:24:9\n    |\n-17 |     let bad = (0b1_10110_i64, 0x1_23456_78901_usize, 1_23456_f32, 1_23456.12_f32, 1_23456.12345_f32, 1_23456.12345_6_f32);\n-   |                ^^^^^^^^^^^^^ help: consider: `0b11_0110_i64`\n+24 |         0b1_10110_i64,\n+   |         ^^^^^^^^^^^^^ help: consider: `0b11_0110_i64`\n    |\n    = note: `-D clippy::large-digit-groups` implied by `-D warnings`\n \n error: digit groups should be smaller\n-  --> $DIR/large_digit_groups.rs:17:31\n+  --> $DIR/large_digit_groups.rs:25:9\n    |\n-17 |     let bad = (0b1_10110_i64, 0x1_23456_78901_usize, 1_23456_f32, 1_23456.12_f32, 1_23456.12345_f32, 1_23456.12345_6_f32);\n-   |                               ^^^^^^^^^^^^^^^^^^^^^ help: consider: `0x0123_4567_8901_usize`\n+25 |         0x1_23456_78901_usize,\n+   |         ^^^^^^^^^^^^^^^^^^^^^ help: consider: `0x0123_4567_8901_usize`\n \n error: digit groups should be smaller\n-  --> $DIR/large_digit_groups.rs:17:54\n+  --> $DIR/large_digit_groups.rs:26:9\n    |\n-17 |     let bad = (0b1_10110_i64, 0x1_23456_78901_usize, 1_23456_f32, 1_23456.12_f32, 1_23456.12345_f32, 1_23456.12345_6_f32);\n-   |                                                      ^^^^^^^^^^^ help: consider: `123_456_f32`\n+26 |         1_23456_f32,\n+   |         ^^^^^^^^^^^ help: consider: `123_456_f32`\n \n error: digit groups should be smaller\n-  --> $DIR/large_digit_groups.rs:17:67\n+  --> $DIR/large_digit_groups.rs:27:9\n    |\n-17 |     let bad = (0b1_10110_i64, 0x1_23456_78901_usize, 1_23456_f32, 1_23456.12_f32, 1_23456.12345_f32, 1_23456.12345_6_f32);\n-   |                                                                   ^^^^^^^^^^^^^^ help: consider: `123_456.12_f32`\n+27 |         1_23456.12_f32,\n+   |         ^^^^^^^^^^^^^^ help: consider: `123_456.12_f32`\n \n error: digit groups should be smaller\n-  --> $DIR/large_digit_groups.rs:17:83\n+  --> $DIR/large_digit_groups.rs:28:9\n    |\n-17 |     let bad = (0b1_10110_i64, 0x1_23456_78901_usize, 1_23456_f32, 1_23456.12_f32, 1_23456.12345_f32, 1_23456.12345_6_f32);\n-   |                                                                                   ^^^^^^^^^^^^^^^^^ help: consider: `123_456.123_45_f32`\n+28 |         1_23456.12345_f32,\n+   |         ^^^^^^^^^^^^^^^^^ help: consider: `123_456.123_45_f32`\n \n error: digit groups should be smaller\n-  --> $DIR/large_digit_groups.rs:17:102\n+  --> $DIR/large_digit_groups.rs:29:9\n    |\n-17 |     let bad = (0b1_10110_i64, 0x1_23456_78901_usize, 1_23456_f32, 1_23456.12_f32, 1_23456.12345_f32, 1_23456.12345_6_f32);\n-   |                                                                                                      ^^^^^^^^^^^^^^^^^^^ help: consider: `123_456.123_456_f32`\n+29 |         1_23456.12345_6_f32,\n+   |         ^^^^^^^^^^^^^^^^^^^ help: consider: `123_456.123_456_f32`\n \n error: aborting due to 6 previous errors\n "}, {"sha": "c9c46ced5e22ba96ad43c18246a1419c1bb5794d", "filename": "tests/ui/large_enum_variant.stderr", "status": "modified", "additions": 21, "deletions": 21, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flarge_enum_variant.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flarge_enum_variant.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flarge_enum_variant.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,69 +1,69 @@\n error: large size difference between variants\n-  --> $DIR/large_enum_variant.rs:20:5\n+  --> $DIR/large_enum_variant.rs:16:5\n    |\n-20 |     B([i32; 8000]),\n+16 |     B([i32; 8000]),\n    |     ^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::large-enum-variant` implied by `-D warnings`\n help: consider boxing the large fields to reduce the total size of the enum\n    |\n-20 |     B(Box<[i32; 8000]>),\n+16 |     B(Box<[i32; 8000]>),\n    |       ^^^^^^^^^^^^^^^^\n \n error: large size difference between variants\n-  --> $DIR/large_enum_variant.rs:31:5\n+  --> $DIR/large_enum_variant.rs:27:5\n    |\n-31 |     C(T, [i32; 8000]),\n+27 |     C(T, [i32; 8000]),\n    |     ^^^^^^^^^^^^^^^^^\n    |\n help: consider boxing the large fields to reduce the total size of the enum\n-  --> $DIR/large_enum_variant.rs:31:5\n+  --> $DIR/large_enum_variant.rs:27:5\n    |\n-31 |     C(T, [i32; 8000]),\n+27 |     C(T, [i32; 8000]),\n    |     ^^^^^^^^^^^^^^^^^\n \n error: large size difference between variants\n-  --> $DIR/large_enum_variant.rs:44:5\n+  --> $DIR/large_enum_variant.rs:40:5\n    |\n-44 |     ContainingLargeEnum(LargeEnum),\n+40 |     ContainingLargeEnum(LargeEnum),\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n help: consider boxing the large fields to reduce the total size of the enum\n    |\n-44 |     ContainingLargeEnum(Box<LargeEnum>),\n+40 |     ContainingLargeEnum(Box<LargeEnum>),\n    |                         ^^^^^^^^^^^^^^\n \n error: large size difference between variants\n-  --> $DIR/large_enum_variant.rs:47:5\n+  --> $DIR/large_enum_variant.rs:43:5\n    |\n-47 |     ContainingMoreThanOneField(i32, [i32; 8000], [i32; 9500]),\n+43 |     ContainingMoreThanOneField(i32, [i32; 8000], [i32; 9500]),\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n help: consider boxing the large fields to reduce the total size of the enum\n-  --> $DIR/large_enum_variant.rs:47:5\n+  --> $DIR/large_enum_variant.rs:43:5\n    |\n-47 |     ContainingMoreThanOneField(i32, [i32; 8000], [i32; 9500]),\n+43 |     ContainingMoreThanOneField(i32, [i32; 8000], [i32; 9500]),\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: large size difference between variants\n-  --> $DIR/large_enum_variant.rs:54:5\n+  --> $DIR/large_enum_variant.rs:50:5\n    |\n-54 |     StructLikeLarge { x: [i32; 8000], y: i32 },\n+50 |     StructLikeLarge { x: [i32; 8000], y: i32 },\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n help: consider boxing the large fields to reduce the total size of the enum\n-  --> $DIR/large_enum_variant.rs:54:5\n+  --> $DIR/large_enum_variant.rs:50:5\n    |\n-54 |     StructLikeLarge { x: [i32; 8000], y: i32 },\n+50 |     StructLikeLarge { x: [i32; 8000], y: i32 },\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: large size difference between variants\n-  --> $DIR/large_enum_variant.rs:59:5\n+  --> $DIR/large_enum_variant.rs:55:5\n    |\n-59 |     StructLikeLarge2 { x: [i32; 8000] },\n+55 |     StructLikeLarge2 { x: [i32; 8000] },\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n help: consider boxing the large fields to reduce the total size of the enum\n    |\n-59 |     StructLikeLarge2 { x: Box<[i32; 8000]> },\n+55 |     StructLikeLarge2 { x: Box<[i32; 8000]> },\n    |                           ^^^^^^^^^^^^^^^^\n \n error: aborting due to 6 previous errors"}, {"sha": "bc5cd0e595b8f731d9610a2884e54c3e1161cbb5", "filename": "tests/ui/len_zero.stderr", "status": "modified", "additions": 56, "deletions": 56, "changes": 112, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flen_zero.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flen_zero.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flen_zero.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,139 +1,139 @@\n error: item `PubOne` has a public `len` method but no corresponding `is_empty` method\n-  --> $DIR/len_zero.rs:18:1\n+  --> $DIR/len_zero.rs:15:1\n    |\n-18 | / impl PubOne {\n-19 | |     pub fn len(self: &Self) -> isize {\n-20 | |         1\n-21 | |     }\n-22 | | }\n+15 | / impl PubOne {\n+16 | |     pub fn len(self: &Self) -> isize {\n+17 | |         1\n+18 | |     }\n+19 | | }\n    | |_^\n    |\n    = note: `-D clippy::len-without-is-empty` implied by `-D warnings`\n \n error: trait `PubTraitsToo` has a `len` method but no (possibly inherited) `is_empty` method\n-  --> $DIR/len_zero.rs:67:1\n+  --> $DIR/len_zero.rs:64:1\n    |\n-67 | / pub trait PubTraitsToo {\n-68 | |     fn len(self: &Self) -> isize;\n-69 | | }\n+64 | / pub trait PubTraitsToo {\n+65 | |     fn len(self: &Self) -> isize;\n+66 | | }\n    | |_^\n \n error: item `HasIsEmpty` has a public `len` method but a private `is_empty` method\n-   --> $DIR/len_zero.rs:101:1\n+   --> $DIR/len_zero.rs:98:1\n     |\n-101 | / impl HasIsEmpty {\n-102 | |     pub fn len(self: &Self) -> isize {\n-103 | |         1\n-104 | |     }\n+98  | / impl HasIsEmpty {\n+99  | |     pub fn len(self: &Self) -> isize {\n+100 | |         1\n+101 | |     }\n ...   |\n-108 | |     }\n-109 | | }\n+105 | |     }\n+106 | | }\n     | |_^\n \n error: item `HasWrongIsEmpty` has a public `len` method but no corresponding `is_empty` method\n-   --> $DIR/len_zero.rs:130:1\n+   --> $DIR/len_zero.rs:127:1\n     |\n-130 | / impl HasWrongIsEmpty {\n-131 | |     pub fn len(self: &Self) -> isize {\n-132 | |         1\n-133 | |     }\n+127 | / impl HasWrongIsEmpty {\n+128 | |     pub fn len(self: &Self) -> isize {\n+129 | |         1\n+130 | |     }\n ...   |\n-137 | |     }\n-138 | | }\n+134 | |     }\n+135 | | }\n     | |_^\n \n error: length comparison to zero\n-   --> $DIR/len_zero.rs:151:8\n+   --> $DIR/len_zero.rs:148:8\n     |\n-151 |     if x.len() == 0 {\n+148 |     if x.len() == 0 {\n     |        ^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `x.is_empty()`\n     |\n     = note: `-D clippy::len-zero` implied by `-D warnings`\n \n error: length comparison to zero\n-   --> $DIR/len_zero.rs:155:8\n+   --> $DIR/len_zero.rs:152:8\n     |\n-155 |     if \"\".len() == 0 {}\n+152 |     if \"\".len() == 0 {}\n     |        ^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `\"\".is_empty()`\n \n error: length comparison to zero\n-   --> $DIR/len_zero.rs:170:8\n+   --> $DIR/len_zero.rs:167:8\n     |\n-170 |     if has_is_empty.len() == 0 {\n+167 |     if has_is_empty.len() == 0 {\n     |        ^^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `has_is_empty.is_empty()`\n \n error: length comparison to zero\n-   --> $DIR/len_zero.rs:173:8\n+   --> $DIR/len_zero.rs:170:8\n     |\n-173 |     if has_is_empty.len() != 0 {\n+170 |     if has_is_empty.len() != 0 {\n     |        ^^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `!has_is_empty.is_empty()`\n \n error: length comparison to zero\n-   --> $DIR/len_zero.rs:176:8\n+   --> $DIR/len_zero.rs:173:8\n     |\n-176 |     if has_is_empty.len() > 0 {\n+173 |     if has_is_empty.len() > 0 {\n     |        ^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `!has_is_empty.is_empty()`\n \n error: length comparison to one\n-   --> $DIR/len_zero.rs:179:8\n+   --> $DIR/len_zero.rs:176:8\n     |\n-179 |     if has_is_empty.len() < 1 {\n+176 |     if has_is_empty.len() < 1 {\n     |        ^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `has_is_empty.is_empty()`\n \n error: length comparison to one\n-   --> $DIR/len_zero.rs:182:8\n+   --> $DIR/len_zero.rs:179:8\n     |\n-182 |     if has_is_empty.len() >= 1 {\n+179 |     if has_is_empty.len() >= 1 {\n     |        ^^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `!has_is_empty.is_empty()`\n \n error: length comparison to zero\n-   --> $DIR/len_zero.rs:193:8\n+   --> $DIR/len_zero.rs:190:8\n     |\n-193 |     if 0 == has_is_empty.len() {\n+190 |     if 0 == has_is_empty.len() {\n     |        ^^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `has_is_empty.is_empty()`\n \n error: length comparison to zero\n-   --> $DIR/len_zero.rs:196:8\n+   --> $DIR/len_zero.rs:193:8\n     |\n-196 |     if 0 != has_is_empty.len() {\n+193 |     if 0 != has_is_empty.len() {\n     |        ^^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `!has_is_empty.is_empty()`\n \n error: length comparison to zero\n-   --> $DIR/len_zero.rs:199:8\n+   --> $DIR/len_zero.rs:196:8\n     |\n-199 |     if 0 < has_is_empty.len() {\n+196 |     if 0 < has_is_empty.len() {\n     |        ^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `!has_is_empty.is_empty()`\n \n error: length comparison to one\n-   --> $DIR/len_zero.rs:202:8\n+   --> $DIR/len_zero.rs:199:8\n     |\n-202 |     if 1 <= has_is_empty.len() {\n+199 |     if 1 <= has_is_empty.len() {\n     |        ^^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `!has_is_empty.is_empty()`\n \n error: length comparison to one\n-   --> $DIR/len_zero.rs:205:8\n+   --> $DIR/len_zero.rs:202:8\n     |\n-205 |     if 1 > has_is_empty.len() {\n+202 |     if 1 > has_is_empty.len() {\n     |        ^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `has_is_empty.is_empty()`\n \n error: length comparison to zero\n-   --> $DIR/len_zero.rs:219:8\n+   --> $DIR/len_zero.rs:216:8\n     |\n-219 |     if with_is_empty.len() == 0 {\n+216 |     if with_is_empty.len() == 0 {\n     |        ^^^^^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `with_is_empty.is_empty()`\n \n error: length comparison to zero\n-   --> $DIR/len_zero.rs:232:8\n+   --> $DIR/len_zero.rs:229:8\n     |\n-232 |     if b.len() != 0 {}\n+229 |     if b.len() != 0 {}\n     |        ^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `!b.is_empty()`\n \n error: trait `DependsOnFoo` has a `len` method but no (possibly inherited) `is_empty` method\n-   --> $DIR/len_zero.rs:238:1\n+   --> $DIR/len_zero.rs:235:1\n     |\n-238 | / pub trait DependsOnFoo: Foo {\n-239 | |     fn len(&mut self) -> usize;\n-240 | | }\n+235 | / pub trait DependsOnFoo: Foo {\n+236 | |     fn len(&mut self) -> usize;\n+237 | | }\n     | |_^\n \n error: aborting due to 19 previous errors"}, {"sha": "91acf6dcb3062315d7c73d328ffd30e01cfd3e89", "filename": "tests/ui/let_if_seq.stderr", "status": "modified", "additions": 25, "deletions": 25, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flet_if_seq.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flet_if_seq.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flet_if_seq.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,47 +1,47 @@\n error: `if _ { .. } else { .. }` is an expression\n-  --> $DIR/let_if_seq.rs:67:5\n+  --> $DIR/let_if_seq.rs:72:5\n    |\n-67 | /     let mut foo = 0;\n-68 | |     if f() {\n-69 | |         foo = 42;\n-70 | |     }\n+72 | /     let mut foo = 0;\n+73 | |     if f() {\n+74 | |         foo = 42;\n+75 | |     }\n    | |_____^ help: it is more idiomatic to write: `let <mut> foo = if f() { 42 } else { 0 };`\n    |\n    = note: `-D clippy::useless-let-if-seq` implied by `-D warnings`\n    = note: you might not need `mut` at all\n \n error: `if _ { .. } else { .. }` is an expression\n-  --> $DIR/let_if_seq.rs:72:5\n+  --> $DIR/let_if_seq.rs:77:5\n    |\n-72 | /     let mut bar = 0;\n-73 | |     if f() {\n-74 | |         f();\n-75 | |         bar = 42;\n-...  |\n-78 | |         f();\n-79 | |     }\n+77 | /     let mut bar = 0;\n+78 | |     if f() {\n+79 | |         f();\n+80 | |         bar = 42;\n+81 | |     } else {\n+82 | |         f();\n+83 | |     }\n    | |_____^ help: it is more idiomatic to write: `let <mut> bar = if f() { ..; 42 } else { ..; 0 };`\n    |\n    = note: you might not need `mut` at all\n \n error: `if _ { .. } else { .. }` is an expression\n-  --> $DIR/let_if_seq.rs:81:5\n+  --> $DIR/let_if_seq.rs:85:5\n    |\n-81 | /     let quz;\n-82 | |     if f() {\n-83 | |         quz = 42;\n-84 | |     } else {\n-85 | |         quz = 0;\n-86 | |     }\n+85 | /     let quz;\n+86 | |     if f() {\n+87 | |         quz = 42;\n+88 | |     } else {\n+89 | |         quz = 0;\n+90 | |     }\n    | |_____^ help: it is more idiomatic to write: `let quz = if f() { 42 } else { 0 };`\n \n error: `if _ { .. } else { .. }` is an expression\n-   --> $DIR/let_if_seq.rs:110:5\n+   --> $DIR/let_if_seq.rs:114:5\n     |\n-110 | /     let mut baz = 0;\n-111 | |     if f() {\n-112 | |         baz = 42;\n-113 | |     }\n+114 | /     let mut baz = 0;\n+115 | |     if f() {\n+116 | |         baz = 42;\n+117 | |     }\n     | |_____^ help: it is more idiomatic to write: `let <mut> baz = if f() { 42 } else { 0 };`\n     |\n     = note: you might not need `mut` at all"}, {"sha": "894c15c2d6dbedc4c3149c28936873906cb06141", "filename": "tests/ui/let_return.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flet_return.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flet_return.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flet_return.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,26 +1,26 @@\n error: returning the result of a let binding from a block. Consider returning the expression directly.\n-  --> $DIR/let_return.rs:20:5\n+  --> $DIR/let_return.rs:16:5\n    |\n-20 |     x\n+16 |     x\n    |     ^\n    |\n    = note: `-D clippy::let-and-return` implied by `-D warnings`\n note: this expression can be directly returned\n-  --> $DIR/let_return.rs:19:13\n+  --> $DIR/let_return.rs:15:13\n    |\n-19 |     let x = 5;\n+15 |     let x = 5;\n    |             ^\n \n error: returning the result of a let binding from a block. Consider returning the expression directly.\n-  --> $DIR/let_return.rs:26:9\n+  --> $DIR/let_return.rs:22:9\n    |\n-26 |         x\n+22 |         x\n    |         ^\n    |\n note: this expression can be directly returned\n-  --> $DIR/let_return.rs:25:17\n+  --> $DIR/let_return.rs:21:17\n    |\n-25 |         let x = 5;\n+21 |         let x = 5;\n    |                 ^\n \n error: aborting due to 2 previous errors"}, {"sha": "a8771dd5f470382f3cfbafdb4d13c755648da708", "filename": "tests/ui/let_unit.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flet_unit.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flet_unit.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flet_unit.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: this let-binding has unit value. Consider omitting `let _x =`\n-  --> $DIR/let_unit.rs:24:5\n+  --> $DIR/let_unit.rs:20:5\n    |\n-24 |     let _x = println!(\"x\");\n+20 |     let _x = println!(\"x\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::let-unit-value` implied by `-D warnings`\n \n error: this let-binding has unit value. Consider omitting `let _a =`\n-  --> $DIR/let_unit.rs:28:9\n+  --> $DIR/let_unit.rs:24:9\n    |\n-28 |         let _a = ();\n+24 |         let _a = ();\n    |         ^^^^^^^^^^^^\n \n error: aborting due to 2 previous errors"}, {"sha": "5bddf5aa7467263e871b9dea0b468f8026146478", "filename": "tests/ui/lifetimes.stderr", "status": "modified", "additions": 75, "deletions": 49, "changes": 124, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flifetimes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flifetimes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flifetimes.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,96 +1,122 @@\n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/lifetimes.rs:17:1\n+  --> $DIR/lifetimes.rs:13:1\n    |\n-17 | fn distinct_lifetimes<'a, 'b>(_x: &'a u8, _y: &'b u8, _z: u8) { }\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+13 | fn distinct_lifetimes<'a, 'b>(_x: &'a u8, _y: &'b u8, _z: u8) {}\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::needless-lifetimes` implied by `-D warnings`\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/lifetimes.rs:19:1\n+  --> $DIR/lifetimes.rs:15:1\n    |\n-19 | fn distinct_and_static<'a, 'b>(_x: &'a u8, _y: &'b u8, _z: &'static u8) { }\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+15 | fn distinct_and_static<'a, 'b>(_x: &'a u8, _y: &'b u8, _z: &'static u8) {}\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/lifetimes.rs:27:1\n+  --> $DIR/lifetimes.rs:23:1\n    |\n-27 | fn in_and_out<'a>(x: &'a u8, _y: u8) -> &'a u8 { x }\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+23 | / fn in_and_out<'a>(x: &'a u8, _y: u8) -> &'a u8 {\n+24 | |     x\n+25 | | }\n+   | |_^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/lifetimes.rs:39:1\n+  --> $DIR/lifetimes.rs:47:1\n    |\n-39 | fn deep_reference_3<'a>(x: &'a u8, _y: u8) -> Result<&'a u8, ()> { Ok(x) }\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+47 | / fn deep_reference_3<'a>(x: &'a u8, _y: u8) -> Result<&'a u8, ()> {\n+48 | |     Ok(x)\n+49 | | }\n+   | |_^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/lifetimes.rs:42:1\n+  --> $DIR/lifetimes.rs:52:1\n    |\n-42 | fn where_clause_without_lt<'a, T>(x: &'a u8, _y: u8) -> Result<&'a u8, ()> where T: Copy { Ok(x) }\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+52 | / fn where_clause_without_lt<'a, T>(x: &'a u8, _y: u8) -> Result<&'a u8, ()>\n+53 | | where\n+54 | |     T: Copy,\n+55 | | {\n+56 | |     Ok(x)\n+57 | | }\n+   | |_^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/lifetimes.rs:48:1\n+  --> $DIR/lifetimes.rs:63:1\n    |\n-48 | fn lifetime_param_2<'a, 'b>(_x: Ref<'a>, _y: &'b u8) { }\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+63 | fn lifetime_param_2<'a, 'b>(_x: Ref<'a>, _y: &'b u8) {}\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/lifetimes.rs:62:1\n+  --> $DIR/lifetimes.rs:84:1\n    |\n-62 | / fn fn_bound_2<'a, F, I>(_m: Lt<'a, I>, _f: F) -> Lt<'a, I>\n-63 | |     where for<'x> F: Fn(Lt<'x, I>) -> Lt<'x, I>\n-64 | | { unreachable!() }\n-   | |__________________^\n+84 | / fn fn_bound_2<'a, F, I>(_m: Lt<'a, I>, _f: F) -> Lt<'a, I>\n+85 | | where\n+86 | |     for<'x> F: Fn(Lt<'x, I>) -> Lt<'x, I>,\n+87 | | {\n+88 | |     unreachable!()\n+89 | | }\n+   | |_^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/lifetimes.rs:87:5\n-   |\n-87 |     fn self_and_out<'s>(&'s self) -> &'s u8 { &self.x }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   --> $DIR/lifetimes.rs:117:5\n+    |\n+117 | /     fn self_and_out<'s>(&'s self) -> &'s u8 {\n+118 | |         &self.x\n+119 | |     }\n+    | |_____^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/lifetimes.rs:91:5\n-   |\n-91 |     fn distinct_self_and_in<'s, 't>(&'s self, _x: &'t u8) { }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   --> $DIR/lifetimes.rs:125:5\n+    |\n+125 |     fn distinct_self_and_in<'s, 't>(&'s self, _x: &'t u8) {}\n+    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-   --> $DIR/lifetimes.rs:107:1\n+   --> $DIR/lifetimes.rs:141:1\n     |\n-107 | fn struct_with_lt<'a>(_foo: Foo<'a>) -> &'a str { unimplemented!() }\n-    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+141 | / fn struct_with_lt<'a>(_foo: Foo<'a>) -> &'a str {\n+142 | |     unimplemented!()\n+143 | | }\n+    | |_^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-   --> $DIR/lifetimes.rs:127:1\n+   --> $DIR/lifetimes.rs:171:1\n     |\n-127 | fn trait_obj_elided2<'a>(_arg: &'a Drop) -> &'a str { unimplemented!() }\n-    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+171 | / fn trait_obj_elided2<'a>(_arg: &'a Drop) -> &'a str {\n+172 | |     unimplemented!()\n+173 | | }\n+    | |_^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-   --> $DIR/lifetimes.rs:131:1\n+   --> $DIR/lifetimes.rs:177:1\n     |\n-131 | fn alias_with_lt<'a>(_foo: FooAlias<'a>) -> &'a str { unimplemented!() }\n-    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+177 | / fn alias_with_lt<'a>(_foo: FooAlias<'a>) -> &'a str {\n+178 | |     unimplemented!()\n+179 | | }\n+    | |_^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-   --> $DIR/lifetimes.rs:142:1\n+   --> $DIR/lifetimes.rs:196:1\n     |\n-142 | fn named_input_elided_output<'a>(_arg: &'a str) -> &str { unimplemented!() }\n-    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+196 | / fn named_input_elided_output<'a>(_arg: &'a str) -> &str {\n+197 | |     unimplemented!()\n+198 | | }\n+    | |_^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-   --> $DIR/lifetimes.rs:146:1\n+   --> $DIR/lifetimes.rs:204:1\n     |\n-146 | fn trait_bound_ok<'a, T: WithLifetime<'static>>(_: &'a u8, _: T) { unimplemented!() }\n-    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+204 | / fn trait_bound_ok<'a, T: WithLifetime<'static>>(_: &'a u8, _: T) {\n+205 | |     unimplemented!()\n+206 | | }\n+    | |_^\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-   --> $DIR/lifetimes.rs:176:1\n+   --> $DIR/lifetimes.rs:241:1\n     |\n-176 | fn out_return_type_lts<'a>(e: &'a str) -> Cow<'a> { unimplemented!() }\n-    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+241 | / fn out_return_type_lts<'a>(e: &'a str) -> Cow<'a> {\n+242 | |     unimplemented!()\n+243 | | }\n+    | |_^\n \n error: aborting due to 15 previous errors\n "}, {"sha": "d0d65df21f0cff0e2aec0d9156a07b3f01d67af3", "filename": "tests/ui/lint_without_lint_pass.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flint_without_lint_pass.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Flint_without_lint_pass.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint_without_lint_pass.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,11 +1,11 @@\n error: the lint `TEST_LINT` is not added to any `LintPass`\n-  --> $DIR/lint_without_lint_pass.rs:12:1\n+  --> $DIR/lint_without_lint_pass.rs:11:1\n    |\n-12 | / declare_clippy_lint! {\n-13 | |     pub TEST_LINT,\n-14 | |     correctness,\n-15 | |     \"\"\n-16 | | }\n+11 | / declare_clippy_lint! {\n+12 | |     pub TEST_LINT,\n+13 | |     correctness,\n+14 | |     \"\"\n+15 | | }\n    | |_^\n    |\n note: lint level defined here"}, {"sha": "603819de16e533113d6b99cd1c488c72a6b2b277", "filename": "tests/ui/map_clone.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmap_clone.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmap_clone.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmap_clone.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,21 +1,21 @@\n error: You are using an explicit closure for cloning elements\n-  --> $DIR/map_clone.rs:16:22\n+  --> $DIR/map_clone.rs:14:22\n    |\n-16 |     let _: Vec<i8> = vec![5_i8; 6].iter().map(|x| *x).collect();\n+14 |     let _: Vec<i8> = vec![5_i8; 6].iter().map(|x| *x).collect();\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: Consider calling the dedicated `cloned` method: `vec![5_i8; 6].iter().cloned()`\n    |\n    = note: `-D clippy::map-clone` implied by `-D warnings`\n \n error: You are using an explicit closure for cloning elements\n-  --> $DIR/map_clone.rs:17:26\n+  --> $DIR/map_clone.rs:15:26\n    |\n-17 |     let _: Vec<String> = vec![String::new()].iter().map(|x| x.clone()).collect();\n+15 |     let _: Vec<String> = vec![String::new()].iter().map(|x| x.clone()).collect();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: Consider calling the dedicated `cloned` method: `vec![String::new()].iter().cloned()`\n \n error: You are using an explicit closure for cloning elements\n-  --> $DIR/map_clone.rs:18:23\n+  --> $DIR/map_clone.rs:16:23\n    |\n-18 |     let _: Vec<u32> = vec![42, 43].iter().map(|&x| x).collect();\n+16 |     let _: Vec<u32> = vec![42, 43].iter().map(|&x| x).collect();\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: Consider calling the dedicated `cloned` method: `vec![42, 43].iter().cloned()`\n \n error: aborting due to 3 previous errors"}, {"sha": "488797173f6012b9857a8a59398264346be40a79", "filename": "tests/ui/map_flatten.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmap_flatten.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmap_flatten.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmap_flatten.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,7 +1,7 @@\n error: called `map(..).flatten()` on an `Iterator`. This is more succinctly expressed by calling `.flat_map(..)`\n-  --> $DIR/map_flatten.rs:16:21\n+  --> $DIR/map_flatten.rs:14:21\n    |\n-16 |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(|x| 0..x).flatten().collect();\n+14 |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(|x| 0..x).flatten().collect();\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try using flat_map instead: `vec![5_i8; 6].into_iter().flat_map(|x| 0..x)`\n    |\n    = note: `-D clippy::map-flatten` implied by `-D warnings`"}, {"sha": "a073f995498164f327bd95f5ca79cf4c42662289", "filename": "tests/ui/match_bool.stderr", "status": "modified", "additions": 73, "deletions": 38, "changes": 111, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmatch_bool.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmatch_bool.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmatch_bool.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,74 +1,109 @@\n error: this boolean expression can be simplified\n-  --> $DIR/match_bool.rs:35:11\n+  --> $DIR/match_bool.rs:38:11\n    |\n-35 |     match test && test {\n+38 |     match test && test {\n    |           ^^^^^^^^^^^^ help: try: `test`\n    |\n    = note: `-D clippy::nonminimal-bool` implied by `-D warnings`\n \n error: you seem to be trying to match on a boolean expression\n-  --> $DIR/match_bool.rs:14:5\n+  --> $DIR/match_bool.rs:13:5\n    |\n-14 | /     match test {\n-15 | |         true => 0,\n-16 | |         false => 42,\n-17 | |     };\n+13 | /     match test {\n+14 | |         true => 0,\n+15 | |         false => 42,\n+16 | |     };\n    | |_____^ help: consider using an if/else expression: `if test { 0 } else { 42 }`\n    |\n    = note: `-D clippy::match-bool` implied by `-D warnings`\n \n error: you seem to be trying to match on a boolean expression\n-  --> $DIR/match_bool.rs:20:5\n+  --> $DIR/match_bool.rs:19:5\n    |\n-20 | /     match option == 1 {\n-21 | |         true => 1,\n-22 | |         false => 0,\n-23 | |     };\n+19 | /     match option == 1 {\n+20 | |         true => 1,\n+21 | |         false => 0,\n+22 | |     };\n    | |_____^ help: consider using an if/else expression: `if option == 1 { 1 } else { 0 }`\n \n error: you seem to be trying to match on a boolean expression\n-  --> $DIR/match_bool.rs:25:5\n+  --> $DIR/match_bool.rs:24:5\n+   |\n+24 | /     match test {\n+25 | |         true => (),\n+26 | |         false => {\n+27 | |             println!(\"Noooo!\");\n+28 | |         },\n+29 | |     };\n+   | |_____^\n+help: consider using an if/else expression\n+   |\n+24 |     if !test {\n+25 |     println!(\"Noooo!\");\n+26 | };\n    |\n-25 | /     match test {\n-26 | |         true => (),\n-27 | |         false => { println!(\"Noooo!\"); }\n-28 | |     };\n-   | |_____^ help: consider using an if/else expression: `if !test { println!(\"Noooo!\"); }`\n \n error: you seem to be trying to match on a boolean expression\n-  --> $DIR/match_bool.rs:30:5\n+  --> $DIR/match_bool.rs:31:5\n+   |\n+31 | /     match test {\n+32 | |         false => {\n+33 | |             println!(\"Noooo!\");\n+34 | |         },\n+35 | |         _ => (),\n+36 | |     };\n+   | |_____^\n+help: consider using an if/else expression\n+   |\n+31 |     if !test {\n+32 |     println!(\"Noooo!\");\n+33 | };\n    |\n-30 | /     match test {\n-31 | |         false => { println!(\"Noooo!\"); }\n-32 | |         _ => (),\n-33 | |     };\n-   | |_____^ help: consider using an if/else expression: `if !test { println!(\"Noooo!\"); }`\n \n error: you seem to be trying to match on a boolean expression\n-  --> $DIR/match_bool.rs:35:5\n+  --> $DIR/match_bool.rs:38:5\n+   |\n+38 | /     match test && test {\n+39 | |         false => {\n+40 | |             println!(\"Noooo!\");\n+41 | |         },\n+42 | |         _ => (),\n+43 | |     };\n+   | |_____^\n+help: consider using an if/else expression\n+   |\n+38 |     if !(test && test) {\n+39 |     println!(\"Noooo!\");\n+40 | };\n    |\n-35 | /     match test && test {\n-36 | |         false => { println!(\"Noooo!\"); }\n-37 | |         _ => (),\n-38 | |     };\n-   | |_____^ help: consider using an if/else expression: `if !(test && test) { println!(\"Noooo!\"); }`\n \n error: equal expressions as operands to `&&`\n-  --> $DIR/match_bool.rs:35:11\n+  --> $DIR/match_bool.rs:38:11\n    |\n-35 |     match test && test {\n+38 |     match test && test {\n    |           ^^^^^^^^^^^^\n    |\n    = note: #[deny(clippy::eq_op)] on by default\n \n error: you seem to be trying to match on a boolean expression\n-  --> $DIR/match_bool.rs:40:5\n+  --> $DIR/match_bool.rs:45:5\n+   |\n+45 | /     match test {\n+46 | |         false => {\n+47 | |             println!(\"Noooo!\");\n+48 | |         },\n+...  |\n+51 | |         },\n+52 | |     };\n+   | |_____^\n+help: consider using an if/else expression\n+   |\n+45 |     if test {\n+46 |     println!(\"Yes!\");\n+47 | } else {\n+48 |     println!(\"Noooo!\");\n+49 | };\n    |\n-40 | /     match test {\n-41 | |         false => { println!(\"Noooo!\"); }\n-42 | |         true => { println!(\"Yes!\"); }\n-43 | |     };\n-   | |_____^ help: consider using an if/else expression: `if test { println!(\"Yes!\"); } else { println!(\"Noooo!\"); }`\n \n error: aborting due to 8 previous errors\n "}, {"sha": "ef8fc08f95b2e044ae1064f53e6d7cf51ef7fa57", "filename": "tests/ui/match_overlapping_arm.stderr", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmatch_overlapping_arm.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmatch_overlapping_arm.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmatch_overlapping_arm.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: some ranges overlap\n   --> $DIR/match_overlapping_arm.rs:20:9\n    |\n-20 |         0 ... 10 => println!(\"0 ... 10\"),\n-   |         ^^^^^^^^\n+20 |         0...10 => println!(\"0 ... 10\"),\n+   |         ^^^^^^\n    |\n    = note: `-D clippy::match-overlapping-arm` implied by `-D warnings`\n note: overlaps with this\n   --> $DIR/match_overlapping_arm.rs:21:9\n    |\n-21 |         0 ... 11 => println!(\"0 ... 11\"),\n-   |         ^^^^^^^^\n+21 |         0...11 => println!(\"0 ... 11\"),\n+   |         ^^^^^^\n \n error: some ranges overlap\n   --> $DIR/match_overlapping_arm.rs:26:9\n    |\n-26 |         0 ... 5 => println!(\"0 ... 5\"),\n-   |         ^^^^^^^\n+26 |         0...5 => println!(\"0 ... 5\"),\n+   |         ^^^^^\n    |\n note: overlaps with this\n   --> $DIR/match_overlapping_arm.rs:28:9\n    |\n-28 |         FOO ... 11 => println!(\"0 ... 11\"),\n-   |         ^^^^^^^^^^\n+28 |         FOO...11 => println!(\"0 ... 11\"),\n+   |         ^^^^^^^^\n \n error: some ranges overlap\n   --> $DIR/match_overlapping_arm.rs:34:9\n    |\n-34 |         0 ... 5 => println!(\"0 ... 5\"),\n-   |         ^^^^^^^\n+34 |         0...5 => println!(\"0 ... 5\"),\n+   |         ^^^^^\n    |\n note: overlaps with this\n   --> $DIR/match_overlapping_arm.rs:33:9\n@@ -38,8 +38,8 @@ note: overlaps with this\n error: some ranges overlap\n   --> $DIR/match_overlapping_arm.rs:40:9\n    |\n-40 |         0 ... 2 => println!(\"0 ... 2\"),\n-   |         ^^^^^^^\n+40 |         0...2 => println!(\"0 ... 2\"),\n+   |         ^^^^^\n    |\n note: overlaps with this\n   --> $DIR/match_overlapping_arm.rs:39:9\n@@ -50,14 +50,14 @@ note: overlaps with this\n error: some ranges overlap\n   --> $DIR/match_overlapping_arm.rs:63:9\n    |\n-63 |         0 .. 11 => println!(\"0 .. 11\"),\n-   |         ^^^^^^^\n+63 |         0..11 => println!(\"0 .. 11\"),\n+   |         ^^^^^\n    |\n note: overlaps with this\n   --> $DIR/match_overlapping_arm.rs:64:9\n    |\n-64 |         0 ... 11 => println!(\"0 ... 11\"),\n-   |         ^^^^^^^^\n+64 |         0...11 => println!(\"0 ... 11\"),\n+   |         ^^^^^^\n \n error: aborting due to 5 previous errors\n "}, {"sha": "3ed70168c6eb0a90c249f774e354b7c46b3f22a7", "filename": "tests/ui/matches.stderr", "status": "modified", "additions": 111, "deletions": 111, "changes": 222, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmatches.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmatches.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmatches.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,281 +1,281 @@\n error: you don't need to add `&` to all patterns\n-  --> $DIR/matches.rs:26:9\n+  --> $DIR/matches.rs:20:9\n    |\n-26 | /         match v {\n-27 | |             &Some(v) => println!(\"{:?}\", v),\n-28 | |             &None => println!(\"none\"),\n-29 | |         }\n+20 | /         match v {\n+21 | |             &Some(v) => println!(\"{:?}\", v),\n+22 | |             &None => println!(\"none\"),\n+23 | |         }\n    | |_________^\n    |\n    = note: `-D clippy::match-ref-pats` implied by `-D warnings`\n help: instead of prefixing all patterns with `&`, you can dereference the expression\n    |\n-26 |         match *v {\n-27 |             Some(v) => println!(\"{:?}\", v),\n-28 |             None => println!(\"none\"),\n+20 |         match *v {\n+21 |             Some(v) => println!(\"{:?}\", v),\n+22 |             None => println!(\"none\"),\n    |\n \n error: you don't need to add `&` to all patterns\n-  --> $DIR/matches.rs:36:5\n+  --> $DIR/matches.rs:31:5\n    |\n-36 | /     match tup {\n-37 | |         &(v, 1) => println!(\"{}\", v),\n-38 | |         _ => println!(\"none\"),\n-39 | |     }\n+31 | /     match tup {\n+32 | |         &(v, 1) => println!(\"{}\", v),\n+33 | |         _ => println!(\"none\"),\n+34 | |     }\n    | |_____^\n help: instead of prefixing all patterns with `&`, you can dereference the expression\n    |\n-36 |     match *tup {\n-37 |         (v, 1) => println!(\"{}\", v),\n+31 |     match *tup {\n+32 |         (v, 1) => println!(\"{}\", v),\n    |\n \n error: you don't need to add `&` to both the expression and the patterns\n-  --> $DIR/matches.rs:42:5\n+  --> $DIR/matches.rs:37:5\n    |\n-42 | /     match &w {\n-43 | |         &Some(v) => println!(\"{:?}\", v),\n-44 | |         &None => println!(\"none\"),\n-45 | |     }\n+37 | /     match &w {\n+38 | |         &Some(v) => println!(\"{:?}\", v),\n+39 | |         &None => println!(\"none\"),\n+40 | |     }\n    | |_____^\n help: try\n    |\n-42 |     match w {\n-43 |         Some(v) => println!(\"{:?}\", v),\n-44 |         None => println!(\"none\"),\n+37 |     match w {\n+38 |         Some(v) => println!(\"{:?}\", v),\n+39 |         None => println!(\"none\"),\n    |\n \n error: you don't need to add `&` to all patterns\n-  --> $DIR/matches.rs:53:5\n+  --> $DIR/matches.rs:48:5\n    |\n-53 | /     if let &None = a {\n-54 | |         println!(\"none\");\n-55 | |     }\n+48 | /     if let &None = a {\n+49 | |         println!(\"none\");\n+50 | |     }\n    | |_____^\n help: instead of prefixing all patterns with `&`, you can dereference the expression\n    |\n-53 |     if let None = *a {\n+48 |     if let None = *a {\n    |            ^^^^   ^^\n \n error: you don't need to add `&` to both the expression and the patterns\n-  --> $DIR/matches.rs:58:5\n+  --> $DIR/matches.rs:53:5\n    |\n-58 | /     if let &None = &b {\n-59 | |         println!(\"none\");\n-60 | |     }\n+53 | /     if let &None = &b {\n+54 | |         println!(\"none\");\n+55 | |     }\n    | |_____^\n help: try\n    |\n-58 |     if let None = b {\n+53 |     if let None = b {\n    |            ^^^^   ^\n \n error: Err(_) will match all errors, maybe not a good idea\n-  --> $DIR/matches.rs:69:9\n+  --> $DIR/matches.rs:64:9\n    |\n-69 |         Err(_) => panic!(\"err\")\n+64 |         Err(_) => panic!(\"err\"),\n    |         ^^^^^^\n    |\n    = note: `-D clippy::match-wild-err-arm` implied by `-D warnings`\n    = note: to remove this warning, match each error separately or use unreachable macro\n \n error: this `match` has identical arm bodies\n-  --> $DIR/matches.rs:68:18\n+  --> $DIR/matches.rs:63:18\n    |\n-68 |         Ok(_) => println!(\"ok\"),\n+63 |         Ok(_) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::match-same-arms` implied by `-D warnings`\n note: same as this\n-  --> $DIR/matches.rs:67:18\n+  --> $DIR/matches.rs:62:18\n    |\n-67 |         Ok(3) => println!(\"ok\"),\n+62 |         Ok(3) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n note: consider refactoring into `Ok(3) | Ok(_)`\n-  --> $DIR/matches.rs:67:18\n+  --> $DIR/matches.rs:62:18\n    |\n-67 |         Ok(3) => println!(\"ok\"),\n+62 |         Ok(3) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: Err(_) will match all errors, maybe not a good idea\n-  --> $DIR/matches.rs:75:9\n+  --> $DIR/matches.rs:70:9\n    |\n-75 |         Err(_) => {panic!()}\n+70 |         Err(_) => panic!(),\n    |         ^^^^^^\n    |\n    = note: to remove this warning, match each error separately or use unreachable macro\n \n error: this `match` has identical arm bodies\n-  --> $DIR/matches.rs:74:18\n+  --> $DIR/matches.rs:69:18\n    |\n-74 |         Ok(_) => println!(\"ok\"),\n+69 |         Ok(_) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n    |\n note: same as this\n-  --> $DIR/matches.rs:73:18\n+  --> $DIR/matches.rs:68:18\n    |\n-73 |         Ok(3) => println!(\"ok\"),\n+68 |         Ok(3) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n note: consider refactoring into `Ok(3) | Ok(_)`\n-  --> $DIR/matches.rs:73:18\n+  --> $DIR/matches.rs:68:18\n    |\n-73 |         Ok(3) => println!(\"ok\"),\n+68 |         Ok(3) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: Err(_) will match all errors, maybe not a good idea\n-  --> $DIR/matches.rs:81:9\n+  --> $DIR/matches.rs:76:9\n    |\n-81 |         Err(_) => {panic!();}\n+76 |         Err(_) => {\n    |         ^^^^^^\n    |\n    = note: to remove this warning, match each error separately or use unreachable macro\n \n error: this `match` has identical arm bodies\n-  --> $DIR/matches.rs:80:18\n+  --> $DIR/matches.rs:75:18\n    |\n-80 |         Ok(_) => println!(\"ok\"),\n+75 |         Ok(_) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n    |\n note: same as this\n-  --> $DIR/matches.rs:79:18\n+  --> $DIR/matches.rs:74:18\n    |\n-79 |         Ok(3) => println!(\"ok\"),\n+74 |         Ok(3) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n note: consider refactoring into `Ok(3) | Ok(_)`\n-  --> $DIR/matches.rs:79:18\n+  --> $DIR/matches.rs:74:18\n    |\n-79 |         Ok(3) => println!(\"ok\"),\n+74 |         Ok(3) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: this `match` has identical arm bodies\n-  --> $DIR/matches.rs:87:18\n+  --> $DIR/matches.rs:84:18\n    |\n-87 |         Ok(_) => println!(\"ok\"),\n+84 |         Ok(_) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n    |\n note: same as this\n-  --> $DIR/matches.rs:86:18\n+  --> $DIR/matches.rs:83:18\n    |\n-86 |         Ok(3) => println!(\"ok\"),\n+83 |         Ok(3) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n note: consider refactoring into `Ok(3) | Ok(_)`\n-  --> $DIR/matches.rs:86:18\n+  --> $DIR/matches.rs:83:18\n    |\n-86 |         Ok(3) => println!(\"ok\"),\n+83 |         Ok(3) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: this `match` has identical arm bodies\n-  --> $DIR/matches.rs:94:18\n+  --> $DIR/matches.rs:91:18\n    |\n-94 |         Ok(_) => println!(\"ok\"),\n+91 |         Ok(_) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n    |\n note: same as this\n-  --> $DIR/matches.rs:93:18\n+  --> $DIR/matches.rs:90:18\n    |\n-93 |         Ok(3) => println!(\"ok\"),\n+90 |         Ok(3) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n note: consider refactoring into `Ok(3) | Ok(_)`\n-  --> $DIR/matches.rs:93:18\n+  --> $DIR/matches.rs:90:18\n    |\n-93 |         Ok(3) => println!(\"ok\"),\n+90 |         Ok(3) => println!(\"ok\"),\n    |                  ^^^^^^^^^^^^^^\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: this `match` has identical arm bodies\n-   --> $DIR/matches.rs:100:18\n-    |\n-100 |         Ok(_) => println!(\"ok\"),\n-    |                  ^^^^^^^^^^^^^^\n-    |\n+  --> $DIR/matches.rs:97:18\n+   |\n+97 |         Ok(_) => println!(\"ok\"),\n+   |                  ^^^^^^^^^^^^^^\n+   |\n note: same as this\n-   --> $DIR/matches.rs:99:18\n-    |\n-99  |         Ok(3) => println!(\"ok\"),\n-    |                  ^^^^^^^^^^^^^^\n+  --> $DIR/matches.rs:96:18\n+   |\n+96 |         Ok(3) => println!(\"ok\"),\n+   |                  ^^^^^^^^^^^^^^\n note: consider refactoring into `Ok(3) | Ok(_)`\n-   --> $DIR/matches.rs:99:18\n-    |\n-99  |         Ok(3) => println!(\"ok\"),\n-    |                  ^^^^^^^^^^^^^^\n-    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n+  --> $DIR/matches.rs:96:18\n+   |\n+96 |         Ok(3) => println!(\"ok\"),\n+   |                  ^^^^^^^^^^^^^^\n+   = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: this `match` has identical arm bodies\n-   --> $DIR/matches.rs:106:18\n+   --> $DIR/matches.rs:103:18\n     |\n-106 |         Ok(_) => println!(\"ok\"),\n+103 |         Ok(_) => println!(\"ok\"),\n     |                  ^^^^^^^^^^^^^^\n     |\n note: same as this\n-   --> $DIR/matches.rs:105:18\n+   --> $DIR/matches.rs:102:18\n     |\n-105 |         Ok(3) => println!(\"ok\"),\n+102 |         Ok(3) => println!(\"ok\"),\n     |                  ^^^^^^^^^^^^^^\n note: consider refactoring into `Ok(3) | Ok(_)`\n-   --> $DIR/matches.rs:105:18\n+   --> $DIR/matches.rs:102:18\n     |\n-105 |         Ok(3) => println!(\"ok\"),\n+102 |         Ok(3) => println!(\"ok\"),\n     |                  ^^^^^^^^^^^^^^\n     = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: this `match` has identical arm bodies\n-   --> $DIR/matches.rs:127:29\n+   --> $DIR/matches.rs:126:29\n     |\n-127 |         (Ok(_), Some(x)) => println!(\"ok {}\", x),\n+126 |         (Ok(_), Some(x)) => println!(\"ok {}\", x),\n     |                             ^^^^^^^^^^^^^^^^^^^^\n     |\n note: same as this\n-   --> $DIR/matches.rs:126:29\n+   --> $DIR/matches.rs:125:29\n     |\n-126 |         (Ok(x), Some(_)) => println!(\"ok {}\", x),\n+125 |         (Ok(x), Some(_)) => println!(\"ok {}\", x),\n     |                             ^^^^^^^^^^^^^^^^^^^^\n note: consider refactoring into `(Ok(x), Some(_)) | (Ok(_), Some(x))`\n-   --> $DIR/matches.rs:126:29\n+   --> $DIR/matches.rs:125:29\n     |\n-126 |         (Ok(x), Some(_)) => println!(\"ok {}\", x),\n+125 |         (Ok(x), Some(_)) => println!(\"ok {}\", x),\n     |                             ^^^^^^^^^^^^^^^^^^^^\n     = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: this `match` has identical arm bodies\n-   --> $DIR/matches.rs:142:18\n+   --> $DIR/matches.rs:141:18\n     |\n-142 |         Ok(_) => println!(\"ok\"),\n+141 |         Ok(_) => println!(\"ok\"),\n     |                  ^^^^^^^^^^^^^^\n     |\n note: same as this\n-   --> $DIR/matches.rs:141:18\n+   --> $DIR/matches.rs:140:18\n     |\n-141 |         Ok(3) => println!(\"ok\"),\n+140 |         Ok(3) => println!(\"ok\"),\n     |                  ^^^^^^^^^^^^^^\n note: consider refactoring into `Ok(3) | Ok(_)`\n-   --> $DIR/matches.rs:141:18\n+   --> $DIR/matches.rs:140:18\n     |\n-141 |         Ok(3) => println!(\"ok\"),\n+140 |         Ok(3) => println!(\"ok\"),\n     |                  ^^^^^^^^^^^^^^\n     = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: use as_ref() instead\n-   --> $DIR/matches.rs:149:33\n+   --> $DIR/matches.rs:150:33\n     |\n-149 |       let borrowed: Option<&()> = match owned {\n+150 |       let borrowed: Option<&()> = match owned {\n     |  _________________________________^\n-150 | |         None => None,\n-151 | |         Some(ref v) => Some(v),\n-152 | |     };\n+151 | |         None => None,\n+152 | |         Some(ref v) => Some(v),\n+153 | |     };\n     | |_____^ help: try this: `owned.as_ref()`\n     |\n     = note: `-D clippy::match-as-ref` implied by `-D warnings`\n \n error: use as_mut() instead\n-   --> $DIR/matches.rs:155:39\n+   --> $DIR/matches.rs:156:39\n     |\n-155 |       let borrow_mut: Option<&mut ()> = match mut_owned {\n+156 |       let borrow_mut: Option<&mut ()> = match mut_owned {\n     |  _______________________________________^\n-156 | |         None => None,\n-157 | |         Some(ref mut v) => Some(v),\n-158 | |     };\n+157 | |         None => None,\n+158 | |         Some(ref mut v) => Some(v),\n+159 | |     };\n     | |_____^ help: try this: `mut_owned.as_mut()`\n \n error: aborting due to 19 previous errors"}, {"sha": "a00f7ab30e18dc7f076c9bcedbf15a5e6c4034a6", "filename": "tests/ui/mem_discriminant.stderr", "status": "modified", "additions": 28, "deletions": 28, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmem_discriminant.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmem_discriminant.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmem_discriminant.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,101 +1,101 @@\n error: calling `mem::discriminant` on non-enum type `&str`\n-  --> $DIR/mem_discriminant.rs:24:5\n+  --> $DIR/mem_discriminant.rs:23:5\n    |\n-24 |     mem::discriminant(&\"hello\");\n+23 |     mem::discriminant(&\"hello\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n note: lint level defined here\n-  --> $DIR/mem_discriminant.rs:11:9\n+  --> $DIR/mem_discriminant.rs:10:9\n    |\n-11 | #![deny(clippy::mem_discriminant_non_enum)]\n+10 | #![deny(clippy::mem_discriminant_non_enum)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: calling `mem::discriminant` on non-enum type `&std::option::Option<i32>`\n-  --> $DIR/mem_discriminant.rs:25:5\n+  --> $DIR/mem_discriminant.rs:24:5\n    |\n-25 |     mem::discriminant(&&Some(2));\n+24 |     mem::discriminant(&&Some(2));\n    |     ^^^^^^^^^^^^^^^^^^---------^\n    |                       |\n    |                       help: try dereferencing: `&Some(2)`\n \n error: calling `mem::discriminant` on non-enum type `&std::option::Option<u8>`\n-  --> $DIR/mem_discriminant.rs:26:5\n+  --> $DIR/mem_discriminant.rs:25:5\n    |\n-26 |     mem::discriminant(&&None::<u8>);\n+25 |     mem::discriminant(&&None::<u8>);\n    |     ^^^^^^^^^^^^^^^^^^------------^\n    |                       |\n    |                       help: try dereferencing: `&None::<u8>`\n \n error: calling `mem::discriminant` on non-enum type `&Foo`\n-  --> $DIR/mem_discriminant.rs:27:5\n+  --> $DIR/mem_discriminant.rs:26:5\n    |\n-27 |     mem::discriminant(&&Foo::One(5));\n+26 |     mem::discriminant(&&Foo::One(5));\n    |     ^^^^^^^^^^^^^^^^^^-------------^\n    |                       |\n    |                       help: try dereferencing: `&Foo::One(5)`\n \n error: calling `mem::discriminant` on non-enum type `&Foo`\n-  --> $DIR/mem_discriminant.rs:28:5\n+  --> $DIR/mem_discriminant.rs:27:5\n    |\n-28 |     mem::discriminant(&&Foo::Two(5));\n+27 |     mem::discriminant(&&Foo::Two(5));\n    |     ^^^^^^^^^^^^^^^^^^-------------^\n    |                       |\n    |                       help: try dereferencing: `&Foo::Two(5)`\n \n error: calling `mem::discriminant` on non-enum type `A`\n-  --> $DIR/mem_discriminant.rs:29:5\n+  --> $DIR/mem_discriminant.rs:28:5\n    |\n-29 |     mem::discriminant(&A(Foo::One(0)));\n+28 |     mem::discriminant(&A(Foo::One(0)));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: calling `mem::discriminant` on non-enum type `&std::option::Option<i32>`\n-  --> $DIR/mem_discriminant.rs:33:5\n+  --> $DIR/mem_discriminant.rs:32:5\n    |\n-33 |     mem::discriminant(&ro);\n+32 |     mem::discriminant(&ro);\n    |     ^^^^^^^^^^^^^^^^^^---^\n    |                       |\n    |                       help: try dereferencing: `ro`\n \n error: calling `mem::discriminant` on non-enum type `&std::option::Option<i32>`\n-  --> $DIR/mem_discriminant.rs:34:5\n+  --> $DIR/mem_discriminant.rs:33:5\n    |\n-34 |     mem::discriminant(rro);\n+33 |     mem::discriminant(rro);\n    |     ^^^^^^^^^^^^^^^^^^---^\n    |                       |\n    |                       help: try dereferencing: `*rro`\n \n error: calling `mem::discriminant` on non-enum type `&&std::option::Option<i32>`\n-  --> $DIR/mem_discriminant.rs:35:5\n+  --> $DIR/mem_discriminant.rs:34:5\n    |\n-35 |     mem::discriminant(&rro);\n+34 |     mem::discriminant(&rro);\n    |     ^^^^^^^^^^^^^^^^^^----^\n    |                       |\n    |                       help: try dereferencing: `*rro`\n \n error: calling `mem::discriminant` on non-enum type `&&std::option::Option<i32>`\n-  --> $DIR/mem_discriminant.rs:38:27\n+  --> $DIR/mem_discriminant.rs:38:13\n    |\n-38 |         ($param:expr) => (mem::discriminant($param))\n-   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^\n+38 |             mem::discriminant($param)\n+   |             ^^^^^^^^^^^^^^^^^^^^^^^^^\n ...\n-41 |     mem_discriminant_but_in_a_macro!(&rro);\n+42 |     mem_discriminant_but_in_a_macro!(&rro);\n    |     ---------------------------------------\n    |     |                                |\n    |     |                                help: try dereferencing: `*rro`\n    |     in this macro invocation\n \n error: calling `mem::discriminant` on non-enum type `&&&&&std::option::Option<i32>`\n-  --> $DIR/mem_discriminant.rs:44:5\n+  --> $DIR/mem_discriminant.rs:45:5\n    |\n-44 |     mem::discriminant(&rrrrro);\n+45 |     mem::discriminant(&rrrrro);\n    |     ^^^^^^^^^^^^^^^^^^-------^\n    |                       |\n    |                       help: try dereferencing: `****rrrrro`\n \n error: calling `mem::discriminant` on non-enum type `&&&std::option::Option<i32>`\n-  --> $DIR/mem_discriminant.rs:45:5\n+  --> $DIR/mem_discriminant.rs:46:5\n    |\n-45 |     mem::discriminant(*rrrrro);\n+46 |     mem::discriminant(*rrrrro);\n    |     ^^^^^^^^^^^^^^^^^^-------^\n    |                       |\n    |                       help: try dereferencing: `****rrrrro`"}, {"sha": "479cd4934ab8eed09a07bfef34f92119d5ce8814", "filename": "tests/ui/mem_forget.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmem_forget.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmem_forget.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmem_forget.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,21 +1,21 @@\n error: usage of mem::forget on Drop type\n-  --> $DIR/mem_forget.rs:28:5\n+  --> $DIR/mem_forget.rs:23:5\n    |\n-28 |     memstuff::forget(six);\n+23 |     memstuff::forget(six);\n    |     ^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::mem-forget` implied by `-D warnings`\n \n error: usage of mem::forget on Drop type\n-  --> $DIR/mem_forget.rs:31:5\n+  --> $DIR/mem_forget.rs:26:5\n    |\n-31 |     std::mem::forget(seven);\n+26 |     std::mem::forget(seven);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^\n \n error: usage of mem::forget on Drop type\n-  --> $DIR/mem_forget.rs:34:5\n+  --> $DIR/mem_forget.rs:29:5\n    |\n-34 |     forgetSomething(eight);\n+29 |     forgetSomething(eight);\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 3 previous errors"}, {"sha": "06d8f5f74c0b0dc0c8f3b0f26486d6cf9a459223", "filename": "tests/ui/mem_replace.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmem_replace.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmem_replace.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmem_replace.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: replacing an `Option` with `None`\n-  --> $DIR/mem_replace.rs:18:13\n+  --> $DIR/mem_replace.rs:16:13\n    |\n-18 |     let _ = mem::replace(&mut an_option, None);\n+16 |     let _ = mem::replace(&mut an_option, None);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider `Option::take()` instead: `an_option.take()`\n    |\n    = note: `-D clippy::mem-replace-option-with-none` implied by `-D warnings`\n \n error: replacing an `Option` with `None`\n-  --> $DIR/mem_replace.rs:20:13\n+  --> $DIR/mem_replace.rs:18:13\n    |\n-20 |     let _ = mem::replace(an_option, None);\n+18 |     let _ = mem::replace(an_option, None);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider `Option::take()` instead: `an_option.take()`\n \n error: aborting due to 2 previous errors"}, {"sha": "74a93e350deee230d7a64e1adcae515d982bda3f", "filename": "tests/ui/min_max.stderr", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmin_max.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmin_max.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmin_max.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,45 +1,45 @@\n error: this min/max combination leads to constant result\n-  --> $DIR/min_max.rs:25:5\n+  --> $DIR/min_max.rs:21:5\n    |\n-25 |     min(1, max(3, x));\n+21 |     min(1, max(3, x));\n    |     ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::min-max` implied by `-D warnings`\n \n error: this min/max combination leads to constant result\n-  --> $DIR/min_max.rs:26:5\n+  --> $DIR/min_max.rs:22:5\n    |\n-26 |     min(max(3, x), 1);\n+22 |     min(max(3, x), 1);\n    |     ^^^^^^^^^^^^^^^^^\n \n error: this min/max combination leads to constant result\n-  --> $DIR/min_max.rs:27:5\n+  --> $DIR/min_max.rs:23:5\n    |\n-27 |     max(min(x, 1), 3);\n+23 |     max(min(x, 1), 3);\n    |     ^^^^^^^^^^^^^^^^^\n \n error: this min/max combination leads to constant result\n-  --> $DIR/min_max.rs:28:5\n+  --> $DIR/min_max.rs:24:5\n    |\n-28 |     max(3, min(x, 1));\n+24 |     max(3, min(x, 1));\n    |     ^^^^^^^^^^^^^^^^^\n \n error: this min/max combination leads to constant result\n-  --> $DIR/min_max.rs:30:5\n+  --> $DIR/min_max.rs:26:5\n    |\n-30 |     my_max(3, my_min(x, 1));\n+26 |     my_max(3, my_min(x, 1));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^\n \n error: this min/max combination leads to constant result\n-  --> $DIR/min_max.rs:42:5\n+  --> $DIR/min_max.rs:38:5\n    |\n-42 |     min(\"Apple\", max(\"Zoo\", s));\n+38 |     min(\"Apple\", max(\"Zoo\", s));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: this min/max combination leads to constant result\n-  --> $DIR/min_max.rs:43:5\n+  --> $DIR/min_max.rs:39:5\n    |\n-43 |     max(min(s, \"Apple\"), \"Zoo\");\n+39 |     max(min(s, \"Apple\"), \"Zoo\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 7 previous errors"}, {"sha": "b50305ab9eefcbd28f3abd489388bbea1b3e96b4", "filename": "tests/ui/missing-doc.stderr", "status": "modified", "additions": 104, "deletions": 114, "changes": 218, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmissing-doc.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmissing-doc.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmissing-doc.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,267 +1,257 @@\n error: missing documentation for a type alias\n-  --> $DIR/missing-doc.rs:38:1\n+  --> $DIR/missing-doc.rs:32:1\n    |\n-38 | type Typedef = String;\n+32 | type Typedef = String;\n    | ^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::missing-docs-in-private-items` implied by `-D warnings`\n \n error: missing documentation for a type alias\n-  --> $DIR/missing-doc.rs:39:1\n+  --> $DIR/missing-doc.rs:33:1\n    |\n-39 | pub type PubTypedef = String;\n+33 | pub type PubTypedef = String;\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a struct\n-  --> $DIR/missing-doc.rs:41:1\n+  --> $DIR/missing-doc.rs:35:1\n    |\n-41 | / struct Foo {\n-42 | |     a: isize,\n-43 | |     b: isize,\n-44 | | }\n+35 | / struct Foo {\n+36 | |     a: isize,\n+37 | |     b: isize,\n+38 | | }\n    | |_^\n \n error: missing documentation for a struct field\n-  --> $DIR/missing-doc.rs:42:5\n+  --> $DIR/missing-doc.rs:36:5\n    |\n-42 |     a: isize,\n+36 |     a: isize,\n    |     ^^^^^^^^\n \n error: missing documentation for a struct field\n-  --> $DIR/missing-doc.rs:43:5\n+  --> $DIR/missing-doc.rs:37:5\n    |\n-43 |     b: isize,\n+37 |     b: isize,\n    |     ^^^^^^^^\n \n error: missing documentation for a struct\n-  --> $DIR/missing-doc.rs:46:1\n+  --> $DIR/missing-doc.rs:40:1\n    |\n-46 | / pub struct PubFoo {\n-47 | |     pub a: isize,\n-48 | |     b: isize,\n-49 | | }\n+40 | / pub struct PubFoo {\n+41 | |     pub a: isize,\n+42 | |     b: isize,\n+43 | | }\n    | |_^\n \n error: missing documentation for a struct field\n-  --> $DIR/missing-doc.rs:47:5\n+  --> $DIR/missing-doc.rs:41:5\n    |\n-47 |     pub a: isize,\n+41 |     pub a: isize,\n    |     ^^^^^^^^^^^^\n \n error: missing documentation for a struct field\n-  --> $DIR/missing-doc.rs:48:5\n+  --> $DIR/missing-doc.rs:42:5\n    |\n-48 |     b: isize,\n+42 |     b: isize,\n    |     ^^^^^^^^\n \n error: missing documentation for a module\n-  --> $DIR/missing-doc.rs:57:1\n+  --> $DIR/missing-doc.rs:51:1\n    |\n-57 | mod module_no_dox {}\n+51 | mod module_no_dox {}\n    | ^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a module\n-  --> $DIR/missing-doc.rs:58:1\n+  --> $DIR/missing-doc.rs:52:1\n    |\n-58 | pub mod pub_module_no_dox {}\n+52 | pub mod pub_module_no_dox {}\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a function\n-  --> $DIR/missing-doc.rs:62:1\n+  --> $DIR/missing-doc.rs:56:1\n    |\n-62 | pub fn foo2() {}\n+56 | pub fn foo2() {}\n    | ^^^^^^^^^^^^^^^^\n \n error: missing documentation for a function\n-  --> $DIR/missing-doc.rs:63:1\n+  --> $DIR/missing-doc.rs:57:1\n    |\n-63 | fn foo3() {}\n+57 | fn foo3() {}\n    | ^^^^^^^^^^^^\n \n error: missing documentation for a trait\n-  --> $DIR/missing-doc.rs:80:1\n+  --> $DIR/missing-doc.rs:75:1\n    |\n-80 | / pub trait C {\n-81 | |     fn foo(&self);\n-82 | |     fn foo_with_impl(&self) {}\n-83 | | }\n+75 | / pub trait C {\n+76 | |     fn foo(&self);\n+77 | |     fn foo_with_impl(&self) {}\n+78 | | }\n    | |_^\n \n error: missing documentation for a trait method\n-  --> $DIR/missing-doc.rs:81:5\n+  --> $DIR/missing-doc.rs:76:5\n    |\n-81 |     fn foo(&self);\n+76 |     fn foo(&self);\n    |     ^^^^^^^^^^^^^^\n \n error: missing documentation for a trait method\n-  --> $DIR/missing-doc.rs:82:5\n+  --> $DIR/missing-doc.rs:77:5\n    |\n-82 |     fn foo_with_impl(&self) {}\n+77 |     fn foo_with_impl(&self) {}\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for an associated type\n-  --> $DIR/missing-doc.rs:92:5\n+  --> $DIR/missing-doc.rs:87:5\n    |\n-92 |     type AssociatedType;\n+87 |     type AssociatedType;\n    |     ^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for an associated type\n-  --> $DIR/missing-doc.rs:93:5\n+  --> $DIR/missing-doc.rs:88:5\n    |\n-93 |     type AssociatedTypeDef = Self;\n+88 |     type AssociatedTypeDef = Self;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a method\n-   --> $DIR/missing-doc.rs:104:5\n-    |\n-104 |     pub fn foo() {}\n-    |     ^^^^^^^^^^^^^^^\n+  --> $DIR/missing-doc.rs:99:5\n+   |\n+99 |     pub fn foo() {}\n+   |     ^^^^^^^^^^^^^^^\n \n error: missing documentation for a method\n-   --> $DIR/missing-doc.rs:105:5\n+   --> $DIR/missing-doc.rs:100:5\n     |\n-105 |     fn bar() {}\n+100 |     fn bar() {}\n     |     ^^^^^^^^^^^\n \n error: missing documentation for a method\n-   --> $DIR/missing-doc.rs:109:5\n+   --> $DIR/missing-doc.rs:104:5\n     |\n-109 |     pub fn foo() {}\n+104 |     pub fn foo() {}\n     |     ^^^^^^^^^^^^^^^\n \n error: missing documentation for a method\n-   --> $DIR/missing-doc.rs:112:5\n+   --> $DIR/missing-doc.rs:107:5\n     |\n-112 |     fn foo2() {}\n+107 |     fn foo2() {}\n     |     ^^^^^^^^^^^^\n \n error: missing documentation for an enum\n-   --> $DIR/missing-doc.rs:138:1\n+   --> $DIR/missing-doc.rs:134:1\n     |\n-138 | / enum Baz {\n-139 | |     BazA {\n-140 | |         a: isize,\n-141 | |         b: isize\n-142 | |     },\n-143 | |     BarB\n-144 | | }\n+134 | / enum Baz {\n+135 | |     BazA { a: isize, b: isize },\n+136 | |     BarB,\n+137 | | }\n     | |_^\n \n error: missing documentation for a variant\n-   --> $DIR/missing-doc.rs:139:5\n+   --> $DIR/missing-doc.rs:135:5\n     |\n-139 | /     BazA {\n-140 | |         a: isize,\n-141 | |         b: isize\n-142 | |     },\n-    | |_____^\n+135 |     BazA { a: isize, b: isize },\n+    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a struct field\n-   --> $DIR/missing-doc.rs:140:9\n+   --> $DIR/missing-doc.rs:135:12\n     |\n-140 |         a: isize,\n-    |         ^^^^^^^^\n+135 |     BazA { a: isize, b: isize },\n+    |            ^^^^^^^^\n \n error: missing documentation for a struct field\n-   --> $DIR/missing-doc.rs:141:9\n+   --> $DIR/missing-doc.rs:135:22\n     |\n-141 |         b: isize\n-    |         ^^^^^^^^\n+135 |     BazA { a: isize, b: isize },\n+    |                      ^^^^^^^^\n \n error: missing documentation for a variant\n-   --> $DIR/missing-doc.rs:143:5\n+   --> $DIR/missing-doc.rs:136:5\n     |\n-143 |     BarB\n+136 |     BarB,\n     |     ^^^^\n \n error: missing documentation for an enum\n-   --> $DIR/missing-doc.rs:146:1\n+   --> $DIR/missing-doc.rs:139:1\n     |\n-146 | / pub enum PubBaz {\n-147 | |     PubBazA {\n-148 | |         a: isize,\n-149 | |     },\n-150 | | }\n+139 | / pub enum PubBaz {\n+140 | |     PubBazA { a: isize },\n+141 | | }\n     | |_^\n \n error: missing documentation for a variant\n-   --> $DIR/missing-doc.rs:147:5\n+   --> $DIR/missing-doc.rs:140:5\n     |\n-147 | /     PubBazA {\n-148 | |         a: isize,\n-149 | |     },\n-    | |_____^\n+140 |     PubBazA { a: isize },\n+    |     ^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a struct field\n-   --> $DIR/missing-doc.rs:148:9\n+   --> $DIR/missing-doc.rs:140:15\n     |\n-148 |         a: isize,\n-    |         ^^^^^^^^\n+140 |     PubBazA { a: isize },\n+    |               ^^^^^^^^\n \n error: missing documentation for a constant\n-   --> $DIR/missing-doc.rs:172:1\n+   --> $DIR/missing-doc.rs:160:1\n     |\n-172 | const FOO: u32 = 0;\n+160 | const FOO: u32 = 0;\n     | ^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a constant\n-   --> $DIR/missing-doc.rs:179:1\n+   --> $DIR/missing-doc.rs:167:1\n     |\n-179 | pub const FOO4: u32 = 0;\n+167 | pub const FOO4: u32 = 0;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a static\n-   --> $DIR/missing-doc.rs:182:1\n+   --> $DIR/missing-doc.rs:169:1\n     |\n-182 | static BAR: u32 = 0;\n+169 | static BAR: u32 = 0;\n     | ^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a static\n-   --> $DIR/missing-doc.rs:189:1\n+   --> $DIR/missing-doc.rs:176:1\n     |\n-189 | pub static BAR4: u32 = 0;\n+176 | pub static BAR4: u32 = 0;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a module\n-   --> $DIR/missing-doc.rs:192:1\n+   --> $DIR/missing-doc.rs:178:1\n     |\n-192 | / mod internal_impl {\n-193 | |     /// dox\n-194 | |     pub fn documented() {}\n-195 | |     pub fn undocumented1() {}\n+178 | / mod internal_impl {\n+179 | |     /// dox\n+180 | |     pub fn documented() {}\n+181 | |     pub fn undocumented1() {}\n ...   |\n-204 | |     }\n-205 | | }\n+190 | |     }\n+191 | | }\n     | |_^\n \n error: missing documentation for a function\n-   --> $DIR/missing-doc.rs:195:5\n+   --> $DIR/missing-doc.rs:181:5\n     |\n-195 |     pub fn undocumented1() {}\n+181 |     pub fn undocumented1() {}\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a function\n-   --> $DIR/missing-doc.rs:196:5\n+   --> $DIR/missing-doc.rs:182:5\n     |\n-196 |     pub fn undocumented2() {}\n+182 |     pub fn undocumented2() {}\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a function\n-   --> $DIR/missing-doc.rs:197:5\n+   --> $DIR/missing-doc.rs:183:5\n     |\n-197 |     fn undocumented3() {}\n+183 |     fn undocumented3() {}\n     |     ^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a function\n-   --> $DIR/missing-doc.rs:202:9\n+   --> $DIR/missing-doc.rs:188:9\n     |\n-202 |         pub fn also_undocumented1() {}\n+188 |         pub fn also_undocumented1() {}\n     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: missing documentation for a function\n-   --> $DIR/missing-doc.rs:203:9\n+   --> $DIR/missing-doc.rs:189:9\n     |\n-203 |         fn also_undocumented2() {}\n+189 |         fn also_undocumented2() {}\n     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 39 previous errors"}, {"sha": "132285a1eaae7979cab5fef32907f07dc5a0249f", "filename": "tests/ui/missing_inline.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmissing_inline.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmissing_inline.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmissing_inline.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,39 +1,39 @@\n error: missing `#[inline]` for a function\n-  --> $DIR/missing_inline.rs:43:1\n+  --> $DIR/missing_inline.rs:40:1\n    |\n-43 | pub fn pub_foo() {} // missing #[inline]\n+40 | pub fn pub_foo() {} // missing #[inline]\n    | ^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::missing-inline-in-public-items` implied by `-D warnings`\n \n error: missing `#[inline]` for a default trait method\n-  --> $DIR/missing_inline.rs:58:5\n+  --> $DIR/missing_inline.rs:56:5\n    |\n-58 |     fn PubBar_b() {} // missing #[inline]\n+56 |     fn PubBar_b() {} // missing #[inline]\n    |     ^^^^^^^^^^^^^^^^\n \n error: missing `#[inline]` for a method\n-  --> $DIR/missing_inline.rs:71:5\n+  --> $DIR/missing_inline.rs:70:5\n    |\n-71 |     fn PubBar_a() {} // missing #[inline]\n+70 |     fn PubBar_a() {} // missing #[inline]\n    |     ^^^^^^^^^^^^^^^^\n \n error: missing `#[inline]` for a method\n-  --> $DIR/missing_inline.rs:72:5\n+  --> $DIR/missing_inline.rs:71:5\n    |\n-72 |     fn PubBar_b() {} // missing #[inline]\n+71 |     fn PubBar_b() {} // missing #[inline]\n    |     ^^^^^^^^^^^^^^^^\n \n error: missing `#[inline]` for a method\n-  --> $DIR/missing_inline.rs:73:5\n+  --> $DIR/missing_inline.rs:72:5\n    |\n-73 |     fn PubBar_c() {} // missing #[inline]\n+72 |     fn PubBar_c() {} // missing #[inline]\n    |     ^^^^^^^^^^^^^^^^\n \n error: missing `#[inline]` for a method\n-  --> $DIR/missing_inline.rs:83:5\n+  --> $DIR/missing_inline.rs:82:5\n    |\n-83 |     pub fn PubFooImpl() {} // missing #[inline]\n+82 |     pub fn PubFooImpl() {} // missing #[inline]\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 6 previous errors"}, {"sha": "bf891aa4578db51479a22e67266ff2828186a683", "filename": "tests/ui/module_inception.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmodule_inception.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmodule_inception.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmodule_inception.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,19 +1,19 @@\n error: module has the same name as its containing module\n-  --> $DIR/module_inception.rs:17:9\n+  --> $DIR/module_inception.rs:14:9\n    |\n-17 | /         mod bar {\n-18 | |             mod foo {}\n-19 | |         }\n+14 | /         mod bar {\n+15 | |             mod foo {}\n+16 | |         }\n    | |_________^\n    |\n    = note: `-D clippy::module-inception` implied by `-D warnings`\n \n error: module has the same name as its containing module\n-  --> $DIR/module_inception.rs:22:5\n+  --> $DIR/module_inception.rs:19:5\n    |\n-22 | /     mod foo {\n-23 | |         mod bar {}\n-24 | |     }\n+19 | /     mod foo {\n+20 | |         mod bar {}\n+21 | |     }\n    | |_____^\n \n error: aborting due to 2 previous errors"}, {"sha": "e4d20c5c63ca6f5c71f68dd89f5199dc934f8304", "filename": "tests/ui/modulo_one.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmodulo_one.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmodulo_one.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmodulo_one.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,7 +1,7 @@\n error: any number modulo 1 will be 0\n-  --> $DIR/modulo_one.rs:17:5\n+  --> $DIR/modulo_one.rs:14:5\n    |\n-17 |     10 % 1;\n+14 |     10 % 1;\n    |     ^^^^^^\n    |\n    = note: `-D clippy::modulo-one` implied by `-D warnings`"}, {"sha": "db0f05a7fa709589fe8faec111e86a4e1bf30f8d", "filename": "tests/ui/mut_from_ref.stderr", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmut_from_ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmut_from_ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmut_from_ref.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,62 +1,62 @@\n error: mutable borrow from immutable input(s)\n-  --> $DIR/mut_from_ref.rs:19:39\n+  --> $DIR/mut_from_ref.rs:16:39\n    |\n-19 |     fn this_wont_hurt_a_bit(&self) -> &mut Foo {\n+16 |     fn this_wont_hurt_a_bit(&self) -> &mut Foo {\n    |                                       ^^^^^^^^\n    |\n    = note: `-D clippy::mut-from-ref` implied by `-D warnings`\n note: immutable borrow here\n-  --> $DIR/mut_from_ref.rs:19:29\n+  --> $DIR/mut_from_ref.rs:16:29\n    |\n-19 |     fn this_wont_hurt_a_bit(&self) -> &mut Foo {\n+16 |     fn this_wont_hurt_a_bit(&self) -> &mut Foo {\n    |                             ^^^^^\n \n error: mutable borrow from immutable input(s)\n-  --> $DIR/mut_from_ref.rs:25:25\n+  --> $DIR/mut_from_ref.rs:22:25\n    |\n-25 |     fn ouch(x: &Foo) -> &mut Foo;\n+22 |     fn ouch(x: &Foo) -> &mut Foo;\n    |                         ^^^^^^^^\n    |\n note: immutable borrow here\n-  --> $DIR/mut_from_ref.rs:25:16\n+  --> $DIR/mut_from_ref.rs:22:16\n    |\n-25 |     fn ouch(x: &Foo) -> &mut Foo;\n+22 |     fn ouch(x: &Foo) -> &mut Foo;\n    |                ^^^^\n \n error: mutable borrow from immutable input(s)\n-  --> $DIR/mut_from_ref.rs:34:21\n+  --> $DIR/mut_from_ref.rs:31:21\n    |\n-34 | fn fail(x: &u32) -> &mut u16 {\n+31 | fn fail(x: &u32) -> &mut u16 {\n    |                     ^^^^^^^^\n    |\n note: immutable borrow here\n-  --> $DIR/mut_from_ref.rs:34:12\n+  --> $DIR/mut_from_ref.rs:31:12\n    |\n-34 | fn fail(x: &u32) -> &mut u16 {\n+31 | fn fail(x: &u32) -> &mut u16 {\n    |            ^^^^\n \n error: mutable borrow from immutable input(s)\n-  --> $DIR/mut_from_ref.rs:38:50\n+  --> $DIR/mut_from_ref.rs:35:50\n    |\n-38 | fn fail_lifetime<'a>(x: &'a u32, y: &mut u32) -> &'a mut u32 {\n+35 | fn fail_lifetime<'a>(x: &'a u32, y: &mut u32) -> &'a mut u32 {\n    |                                                  ^^^^^^^^^^^\n    |\n note: immutable borrow here\n-  --> $DIR/mut_from_ref.rs:38:25\n+  --> $DIR/mut_from_ref.rs:35:25\n    |\n-38 | fn fail_lifetime<'a>(x: &'a u32, y: &mut u32) -> &'a mut u32 {\n+35 | fn fail_lifetime<'a>(x: &'a u32, y: &mut u32) -> &'a mut u32 {\n    |                         ^^^^^^^\n \n error: mutable borrow from immutable input(s)\n-  --> $DIR/mut_from_ref.rs:42:67\n+  --> $DIR/mut_from_ref.rs:39:67\n    |\n-42 | fn fail_double<'a, 'b>(x: &'a u32, y: &'a u32, z: &'b mut u32) -> &'a mut u32 {\n+39 | fn fail_double<'a, 'b>(x: &'a u32, y: &'a u32, z: &'b mut u32) -> &'a mut u32 {\n    |                                                                   ^^^^^^^^^^^\n    |\n note: immutable borrow here\n-  --> $DIR/mut_from_ref.rs:42:27\n+  --> $DIR/mut_from_ref.rs:39:27\n    |\n-42 | fn fail_double<'a, 'b>(x: &'a u32, y: &'a u32, z: &'b mut u32) -> &'a mut u32 {\n+39 | fn fail_double<'a, 'b>(x: &'a u32, y: &'a u32, z: &'b mut u32) -> &'a mut u32 {\n    |                           ^^^^^^^     ^^^^^^^\n \n error: aborting due to 5 previous errors"}, {"sha": "626a309a6a923f95c5e544e42a9b6e0b9881c6af", "filename": "tests/ui/mut_mut.stderr", "status": "modified", "additions": 26, "deletions": 26, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmut_mut.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmut_mut.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmut_mut.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,61 +1,61 @@\n error: generally you want to avoid `&mut &mut _` if possible\n-  --> $DIR/mut_mut.rs:20:12\n+  --> $DIR/mut_mut.rs:13:11\n    |\n-20 | fn fun(x : &mut &mut u32) -> bool {\n-   |            ^^^^^^^^^^^^^\n+13 | fn fun(x: &mut &mut u32) -> bool {\n+   |           ^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::mut-mut` implied by `-D warnings`\n \n error: generally you want to avoid `&mut &mut _` if possible\n-  --> $DIR/mut_mut.rs:34:17\n+  --> $DIR/mut_mut.rs:29:17\n    |\n-34 |     let mut x = &mut &mut 1u32;\n+29 |     let mut x = &mut &mut 1u32;\n    |                 ^^^^^^^^^^^^^^\n \n error: generally you want to avoid `&mut &mut _` if possible\n-  --> $DIR/mut_mut.rs:29:20\n+  --> $DIR/mut_mut.rs:23:9\n    |\n-29 |     ($p:expr) => { &mut $p }\n-   |                    ^^^^^^^\n+23 |         &mut $p\n+   |         ^^^^^^^\n ...\n-49 |     let mut z = mut_ptr!(&mut 3u32);\n+44 |     let mut z = mut_ptr!(&mut 3u32);\n    |                 ------------------- in this macro invocation\n \n error: this expression mutably borrows a mutable reference. Consider reborrowing\n-  --> $DIR/mut_mut.rs:36:21\n+  --> $DIR/mut_mut.rs:31:21\n    |\n-36 |         let mut y = &mut x;\n+31 |         let mut y = &mut x;\n    |                     ^^^^^^\n \n error: generally you want to avoid `&mut &mut _` if possible\n-  --> $DIR/mut_mut.rs:40:33\n+  --> $DIR/mut_mut.rs:35:32\n    |\n-40 |         let y : &mut &mut u32 = &mut &mut 2;\n-   |                                 ^^^^^^^^^^^\n+35 |         let y: &mut &mut u32 = &mut &mut 2;\n+   |                                ^^^^^^^^^^^\n \n error: generally you want to avoid `&mut &mut _` if possible\n-  --> $DIR/mut_mut.rs:40:17\n+  --> $DIR/mut_mut.rs:35:16\n    |\n-40 |         let y : &mut &mut u32 = &mut &mut 2;\n-   |                 ^^^^^^^^^^^^^\n+35 |         let y: &mut &mut u32 = &mut &mut 2;\n+   |                ^^^^^^^^^^^^^\n \n error: generally you want to avoid `&mut &mut _` if possible\n-  --> $DIR/mut_mut.rs:45:38\n+  --> $DIR/mut_mut.rs:40:37\n    |\n-45 |         let y : &mut &mut &mut u32 = &mut &mut &mut 2;\n-   |                                      ^^^^^^^^^^^^^^^^\n+40 |         let y: &mut &mut &mut u32 = &mut &mut &mut 2;\n+   |                                     ^^^^^^^^^^^^^^^^\n \n error: generally you want to avoid `&mut &mut _` if possible\n-  --> $DIR/mut_mut.rs:45:17\n+  --> $DIR/mut_mut.rs:40:16\n    |\n-45 |         let y : &mut &mut &mut u32 = &mut &mut &mut 2;\n-   |                 ^^^^^^^^^^^^^^^^^^\n+40 |         let y: &mut &mut &mut u32 = &mut &mut &mut 2;\n+   |                ^^^^^^^^^^^^^^^^^^\n \n error: generally you want to avoid `&mut &mut _` if possible\n-  --> $DIR/mut_mut.rs:45:22\n+  --> $DIR/mut_mut.rs:40:21\n    |\n-45 |         let y : &mut &mut &mut u32 = &mut &mut &mut 2;\n-   |                      ^^^^^^^^^^^^^\n+40 |         let y: &mut &mut &mut u32 = &mut &mut &mut 2;\n+   |                     ^^^^^^^^^^^^^\n \n error: aborting due to 9 previous errors\n "}, {"sha": "87537d77f44413708422ad7fff4f25da9121d68b", "filename": "tests/ui/mut_range_bound.stderr", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmut_range_bound.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmut_range_bound.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmut_range_bound.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: attempt to mutate range bound within loop; note that the range of the loop is unchanged\n-  --> $DIR/mut_range_bound.rs:28:21\n+  --> $DIR/mut_range_bound.rs:25:9\n    |\n-28 |     for i in 0..m { m = 5; } // warning\n-   |                     ^^^^^\n+25 |         m = 5;\n+   |         ^^^^^\n    |\n    = note: `-D clippy::mut-range-bound` implied by `-D warnings`\n \n error: attempt to mutate range bound within loop; note that the range of the loop is unchanged\n-  --> $DIR/mut_range_bound.rs:33:22\n+  --> $DIR/mut_range_bound.rs:32:9\n    |\n-33 |     for i in m..10 { m *= 2; } // warning\n-   |                      ^^^^^^\n+32 |         m *= 2;\n+   |         ^^^^^^\n \n error: attempt to mutate range bound within loop; note that the range of the loop is unchanged\n-  --> $DIR/mut_range_bound.rs:39:21\n+  --> $DIR/mut_range_bound.rs:40:9\n    |\n-39 |     for i in m..n { m = 5; n = 7; } // warning (1 for each mutated bound)\n-   |                     ^^^^^\n+40 |         m = 5;\n+   |         ^^^^^\n \n error: attempt to mutate range bound within loop; note that the range of the loop is unchanged\n-  --> $DIR/mut_range_bound.rs:39:28\n+  --> $DIR/mut_range_bound.rs:41:9\n    |\n-39 |     for i in m..n { m = 5; n = 7; } // warning (1 for each mutated bound)\n-   |                            ^^^^^\n+41 |         n = 7;\n+   |         ^^^^^\n \n error: attempt to mutate range bound within loop; note that the range of the loop is unchanged\n-  --> $DIR/mut_range_bound.rs:50:22\n+  --> $DIR/mut_range_bound.rs:55:22\n    |\n-50 |         let n = &mut m;  // warning\n+55 |         let n = &mut m; // warning\n    |                      ^\n \n error: aborting due to 5 previous errors"}, {"sha": "1664c1dffed6331ed4776ca7d0ccf9b1b5be0d3c", "filename": "tests/ui/mut_reference.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmut_reference.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmut_reference.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmut_reference.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,21 +1,21 @@\n error: The function/method `takes_an_immutable_reference` doesn't need a mutable reference\n-  --> $DIR/mut_reference.rs:32:34\n+  --> $DIR/mut_reference.rs:26:34\n    |\n-32 |     takes_an_immutable_reference(&mut 42);\n+26 |     takes_an_immutable_reference(&mut 42);\n    |                                  ^^^^^^^\n    |\n    = note: `-D clippy::unnecessary-mut-passed` implied by `-D warnings`\n \n error: The function/method `as_ptr` doesn't need a mutable reference\n-  --> $DIR/mut_reference.rs:34:12\n+  --> $DIR/mut_reference.rs:28:12\n    |\n-34 |     as_ptr(&mut 42);\n+28 |     as_ptr(&mut 42);\n    |            ^^^^^^^\n \n error: The function/method `takes_an_immutable_reference` doesn't need a mutable reference\n-  --> $DIR/mut_reference.rs:38:44\n+  --> $DIR/mut_reference.rs:32:44\n    |\n-38 |     my_struct.takes_an_immutable_reference(&mut 42);\n+32 |     my_struct.takes_an_immutable_reference(&mut 42);\n    |                                            ^^^^^^^\n \n error: aborting due to 3 previous errors"}, {"sha": "d6f4f03c32308ae2e5dd4d79d427767a4cc9d773", "filename": "tests/ui/mutex_atomic.stderr", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmutex_atomic.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fmutex_atomic.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmutex_atomic.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,47 +1,47 @@\n error: Consider using an AtomicBool instead of a Mutex here. If you just want the locking behaviour and not the internal type, consider using Mutex<()>.\n-  --> $DIR/mutex_atomic.rs:19:5\n+  --> $DIR/mutex_atomic.rs:15:5\n    |\n-19 |     Mutex::new(true);\n+15 |     Mutex::new(true);\n    |     ^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::mutex-atomic` implied by `-D warnings`\n \n error: Consider using an AtomicUsize instead of a Mutex here. If you just want the locking behaviour and not the internal type, consider using Mutex<()>.\n-  --> $DIR/mutex_atomic.rs:20:5\n+  --> $DIR/mutex_atomic.rs:16:5\n    |\n-20 |     Mutex::new(5usize);\n+16 |     Mutex::new(5usize);\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: Consider using an AtomicIsize instead of a Mutex here. If you just want the locking behaviour and not the internal type, consider using Mutex<()>.\n-  --> $DIR/mutex_atomic.rs:21:5\n+  --> $DIR/mutex_atomic.rs:17:5\n    |\n-21 |     Mutex::new(9isize);\n+17 |     Mutex::new(9isize);\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: Consider using an AtomicPtr instead of a Mutex here. If you just want the locking behaviour and not the internal type, consider using Mutex<()>.\n-  --> $DIR/mutex_atomic.rs:23:5\n+  --> $DIR/mutex_atomic.rs:19:5\n    |\n-23 |     Mutex::new(&x as *const u32);\n+19 |     Mutex::new(&x as *const u32);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: Consider using an AtomicPtr instead of a Mutex here. If you just want the locking behaviour and not the internal type, consider using Mutex<()>.\n-  --> $DIR/mutex_atomic.rs:24:5\n+  --> $DIR/mutex_atomic.rs:20:5\n    |\n-24 |     Mutex::new(&mut x as *mut u32);\n+20 |     Mutex::new(&mut x as *mut u32);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: Consider using an AtomicUsize instead of a Mutex here. If you just want the locking behaviour and not the internal type, consider using Mutex<()>.\n-  --> $DIR/mutex_atomic.rs:25:5\n+  --> $DIR/mutex_atomic.rs:21:5\n    |\n-25 |     Mutex::new(0u32);\n+21 |     Mutex::new(0u32);\n    |     ^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::mutex-integer` implied by `-D warnings`\n \n error: Consider using an AtomicIsize instead of a Mutex here. If you just want the locking behaviour and not the internal type, consider using Mutex<()>.\n-  --> $DIR/mutex_atomic.rs:26:5\n+  --> $DIR/mutex_atomic.rs:22:5\n    |\n-26 |     Mutex::new(0i32);\n+22 |     Mutex::new(0i32);\n    |     ^^^^^^^^^^^^^^^^\n \n error: aborting due to 7 previous errors"}, {"sha": "df2f80ffd119caa686924d42a3a56b2e0da9de93", "filename": "tests/ui/needless_bool.stderr", "status": "modified", "additions": 95, "deletions": 51, "changes": 146, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_bool.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_bool.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_bool.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,95 +1,139 @@\n error: this if-then-else expression will always return true\n-  --> $DIR/needless_bool.rs:41:5\n+  --> $DIR/needless_bool.rs:40:5\n    |\n-41 |     if x { true } else { true };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+40 | /     if x {\n+41 | |         true\n+42 | |     } else {\n+43 | |         true\n+44 | |     };\n+   | |_____^\n    |\n    = note: `-D clippy::needless-bool` implied by `-D warnings`\n \n error: this if-then-else expression will always return false\n-  --> $DIR/needless_bool.rs:42:5\n+  --> $DIR/needless_bool.rs:45:5\n    |\n-42 |     if x { false } else { false };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+45 | /     if x {\n+46 | |         false\n+47 | |     } else {\n+48 | |         false\n+49 | |     };\n+   | |_____^\n \n error: this if-then-else expression returns a bool literal\n-  --> $DIR/needless_bool.rs:43:5\n+  --> $DIR/needless_bool.rs:50:5\n    |\n-43 |     if x { true } else { false };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: you can reduce it to: `x`\n+50 | /     if x {\n+51 | |         true\n+52 | |     } else {\n+53 | |         false\n+54 | |     };\n+   | |_____^ help: you can reduce it to: `x`\n \n error: this if-then-else expression returns a bool literal\n-  --> $DIR/needless_bool.rs:44:5\n+  --> $DIR/needless_bool.rs:55:5\n    |\n-44 |     if x { false } else { true };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: you can reduce it to: `!x`\n+55 | /     if x {\n+56 | |         false\n+57 | |     } else {\n+58 | |         true\n+59 | |     };\n+   | |_____^ help: you can reduce it to: `!x`\n \n error: this if-then-else expression returns a bool literal\n-  --> $DIR/needless_bool.rs:45:5\n+  --> $DIR/needless_bool.rs:60:5\n    |\n-45 |     if x && y { false } else { true };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: you can reduce it to: `!(x && y)`\n+60 | /     if x && y {\n+61 | |         false\n+62 | |     } else {\n+63 | |         true\n+64 | |     };\n+   | |_____^ help: you can reduce it to: `!(x && y)`\n \n error: this if-then-else expression will always return true\n-  --> $DIR/needless_bool.rs:60:5\n+  --> $DIR/needless_bool.rs:83:5\n    |\n-60 |     if x { return true } else { return true };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+83 | /     if x {\n+84 | |         return true;\n+85 | |     } else {\n+86 | |         return true;\n+87 | |     };\n+   | |_____^\n \n error: this if-then-else expression will always return false\n-  --> $DIR/needless_bool.rs:65:5\n+  --> $DIR/needless_bool.rs:92:5\n    |\n-65 |     if x { return false } else { return false };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+92 | /     if x {\n+93 | |         return false;\n+94 | |     } else {\n+95 | |         return false;\n+96 | |     };\n+   | |_____^\n \n error: this if-then-else expression returns a bool literal\n-  --> $DIR/needless_bool.rs:70:5\n-   |\n-70 |     if x { return true } else { return false };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: you can reduce it to: `return x`\n+   --> $DIR/needless_bool.rs:101:5\n+    |\n+101 | /     if x {\n+102 | |         return true;\n+103 | |     } else {\n+104 | |         return false;\n+105 | |     };\n+    | |_____^ help: you can reduce it to: `return x`\n \n error: this if-then-else expression returns a bool literal\n-  --> $DIR/needless_bool.rs:75:5\n-   |\n-75 |     if x && y { return true } else { return false };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: you can reduce it to: `return x && y`\n+   --> $DIR/needless_bool.rs:110:5\n+    |\n+110 | /     if x && y {\n+111 | |         return true;\n+112 | |     } else {\n+113 | |         return false;\n+114 | |     };\n+    | |_____^ help: you can reduce it to: `return x && y`\n \n error: this if-then-else expression returns a bool literal\n-  --> $DIR/needless_bool.rs:80:5\n-   |\n-80 |     if x { return false } else { return true };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: you can reduce it to: `return !x`\n+   --> $DIR/needless_bool.rs:119:5\n+    |\n+119 | /     if x {\n+120 | |         return false;\n+121 | |     } else {\n+122 | |         return true;\n+123 | |     };\n+    | |_____^ help: you can reduce it to: `return !x`\n \n error: this if-then-else expression returns a bool literal\n-  --> $DIR/needless_bool.rs:85:5\n-   |\n-85 |     if x && y { return false } else { return true };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: you can reduce it to: `return !(x && y)`\n+   --> $DIR/needless_bool.rs:128:5\n+    |\n+128 | /     if x && y {\n+129 | |         return false;\n+130 | |     } else {\n+131 | |         return true;\n+132 | |     };\n+    | |_____^ help: you can reduce it to: `return !(x && y)`\n \n error: equality checks against true are unnecessary\n-  --> $DIR/needless_bool.rs:89:7\n-   |\n-89 |    if x  == true { };\n-   |       ^^^^^^^^^^ help: try simplifying it as shown: `x`\n-   |\n-   = note: `-D clippy::bool-comparison` implied by `-D warnings`\n+   --> $DIR/needless_bool.rs:136:8\n+    |\n+136 |     if x == true {};\n+    |        ^^^^^^^^^ help: try simplifying it as shown: `x`\n+    |\n+    = note: `-D clippy::bool-comparison` implied by `-D warnings`\n \n error: equality checks against false can be replaced by a negation\n-  --> $DIR/needless_bool.rs:93:7\n-   |\n-93 |    if x  == false { };\n-   |       ^^^^^^^^^^^ help: try simplifying it as shown: `!x`\n+   --> $DIR/needless_bool.rs:140:8\n+    |\n+140 |     if x == false {};\n+    |        ^^^^^^^^^^ help: try simplifying it as shown: `!x`\n \n error: equality checks against true are unnecessary\n-   --> $DIR/needless_bool.rs:104:8\n+   --> $DIR/needless_bool.rs:150:8\n     |\n-104 |     if x == true { };\n+150 |     if x == true {};\n     |        ^^^^^^^^^ help: try simplifying it as shown: `x`\n \n error: equality checks against false can be replaced by a negation\n-   --> $DIR/needless_bool.rs:105:8\n+   --> $DIR/needless_bool.rs:151:8\n     |\n-105 |     if x == false { };\n+151 |     if x == false {};\n     |        ^^^^^^^^^^ help: try simplifying it as shown: `!x`\n \n error: aborting due to 15 previous errors"}, {"sha": "42deedfa869a548f7335dea3f7edd161edfd76d1", "filename": "tests/ui/needless_borrow.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_borrow.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_borrow.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_borrow.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,41 +1,41 @@\n error: this expression borrows a reference that is immediately dereferenced by the compiler\n-  --> $DIR/needless_borrow.rs:25:15\n+  --> $DIR/needless_borrow.rs:22:15\n    |\n-25 |     let c = x(&&a);\n+22 |     let c = x(&&a);\n    |               ^^^ help: change this to: `&a`\n    |\n    = note: `-D clippy::needless-borrow` implied by `-D warnings`\n \n error: this pattern creates a reference to a reference\n-  --> $DIR/needless_borrow.rs:32:17\n+  --> $DIR/needless_borrow.rs:29:17\n    |\n-32 |     if let Some(ref cake) = Some(&5) {}\n+29 |     if let Some(ref cake) = Some(&5) {}\n    |                 ^^^^^^^^ help: change this to: `cake`\n \n error: this expression borrows a reference that is immediately dereferenced by the compiler\n-  --> $DIR/needless_borrow.rs:39:15\n+  --> $DIR/needless_borrow.rs:36:15\n    |\n-39 |         46 => &&a,\n+36 |         46 => &&a,\n    |               ^^^ help: change this to: `&a`\n \n error: this pattern takes a reference on something that is being de-referenced\n-  --> $DIR/needless_borrow.rs:61:34\n+  --> $DIR/needless_borrow.rs:58:34\n    |\n-61 |     let _ = v.iter_mut().filter(|&ref a| a.is_empty());\n+58 |     let _ = v.iter_mut().filter(|&ref a| a.is_empty());\n    |                                  ^^^^^^ help: try removing the `&ref` part and just keep: `a`\n    |\n    = note: `-D clippy::needless-borrowed-reference` implied by `-D warnings`\n \n error: this pattern takes a reference on something that is being de-referenced\n-  --> $DIR/needless_borrow.rs:62:30\n+  --> $DIR/needless_borrow.rs:59:30\n    |\n-62 |     let _ = v.iter().filter(|&ref a| a.is_empty());\n+59 |     let _ = v.iter().filter(|&ref a| a.is_empty());\n    |                              ^^^^^^ help: try removing the `&ref` part and just keep: `a`\n \n error: this pattern creates a reference to a reference\n-  --> $DIR/needless_borrow.rs:62:31\n+  --> $DIR/needless_borrow.rs:59:31\n    |\n-62 |     let _ = v.iter().filter(|&ref a| a.is_empty());\n+59 |     let _ = v.iter().filter(|&ref a| a.is_empty());\n    |                               ^^^^^ help: change this to: `a`\n \n error: aborting due to 6 previous errors"}, {"sha": "5ec7b9e4f3e7980336cd1800e4102c04a56a95cf", "filename": "tests/ui/needless_borrowed_ref.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_borrowed_ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_borrowed_ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_borrowed_ref.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,27 +1,27 @@\n error: this pattern takes a reference on something that is being de-referenced\n-  --> $DIR/needless_borrowed_ref.rs:18:34\n+  --> $DIR/needless_borrowed_ref.rs:14:34\n    |\n-18 |     let _ = v.iter_mut().filter(|&ref a| a.is_empty());\n+14 |     let _ = v.iter_mut().filter(|&ref a| a.is_empty());\n    |                                  ^^^^^^ help: try removing the `&ref` part and just keep: `a`\n    |\n    = note: `-D clippy::needless-borrowed-reference` implied by `-D warnings`\n \n error: this pattern takes a reference on something that is being de-referenced\n-  --> $DIR/needless_borrowed_ref.rs:23:17\n+  --> $DIR/needless_borrowed_ref.rs:19:17\n    |\n-23 |     if let Some(&ref v) = thingy {\n+19 |     if let Some(&ref v) = thingy {\n    |                 ^^^^^^ help: try removing the `&ref` part and just keep: `v`\n \n error: this pattern takes a reference on something that is being de-referenced\n-  --> $DIR/needless_borrowed_ref.rs:52:27\n+  --> $DIR/needless_borrowed_ref.rs:48:27\n    |\n-52 |         (&Animal::Cat(v), &ref k) | (&ref k, &Animal::Cat(v)) => (), // lifetime mismatch error if there is no '&ref'\n+48 |         (&Animal::Cat(v), &ref k) | (&ref k, &Animal::Cat(v)) => (), // lifetime mismatch error if there is no '&ref'\n    |                           ^^^^^^ help: try removing the `&ref` part and just keep: `k`\n \n error: this pattern takes a reference on something that is being de-referenced\n-  --> $DIR/needless_borrowed_ref.rs:52:38\n+  --> $DIR/needless_borrowed_ref.rs:48:38\n    |\n-52 |         (&Animal::Cat(v), &ref k) | (&ref k, &Animal::Cat(v)) => (), // lifetime mismatch error if there is no '&ref'\n+48 |         (&Animal::Cat(v), &ref k) | (&ref k, &Animal::Cat(v)) => (), // lifetime mismatch error if there is no '&ref'\n    |                                      ^^^^^^ help: try removing the `&ref` part and just keep: `k`\n \n error: aborting due to 4 previous errors"}, {"sha": "39b3aa5470bc3496228dbfbf2a406680ccc25f59", "filename": "tests/ui/needless_collect.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_collect.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_collect.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_collect.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,27 +1,27 @@\n error: avoid using `collect()` when not needed\n-  --> $DIR/needless_collect.rs:19:28\n+  --> $DIR/needless_collect.rs:16:28\n    |\n-19 |     let len = sample.iter().collect::<Vec<_>>().len();\n+16 |     let len = sample.iter().collect::<Vec<_>>().len();\n    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace with: `.count()`\n    |\n    = note: `-D clippy::needless-collect` implied by `-D warnings`\n \n error: avoid using `collect()` when not needed\n-  --> $DIR/needless_collect.rs:20:21\n+  --> $DIR/needless_collect.rs:17:21\n    |\n-20 |     if sample.iter().collect::<Vec<_>>().is_empty() {\n+17 |     if sample.iter().collect::<Vec<_>>().is_empty() {\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace with: `.next().is_none()`\n \n error: avoid using `collect()` when not needed\n-  --> $DIR/needless_collect.rs:23:27\n+  --> $DIR/needless_collect.rs:20:27\n    |\n-23 |     sample.iter().cloned().collect::<Vec<_>>().contains(&1);\n+20 |     sample.iter().cloned().collect::<Vec<_>>().contains(&1);\n    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace with: `.any(|&x| x == 1)`\n \n error: avoid using `collect()` when not needed\n-  --> $DIR/needless_collect.rs:24:34\n+  --> $DIR/needless_collect.rs:21:34\n    |\n-24 |     sample.iter().map(|x| (x, x)).collect::<HashMap<_, _>>().len();\n+21 |     sample.iter().map(|x| (x, x)).collect::<HashMap<_, _>>().len();\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace with: `.count()`\n \n error: aborting due to 4 previous errors"}, {"sha": "06f63ee496ee36246e712c33e7bad755874defab", "filename": "tests/ui/needless_continue.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_continue.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_continue.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_continue.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -12,9 +12,9 @@ error: This else block is redundant.\n    = help: Consider dropping the else clause and merging the code that follows (in the loop) with the if block, like so:\n            if i % 2 == 0 && i % 3 == 0 {\n            println!(\"{}\", i);\n-           println!(\"{}\", i+1);\n+           println!(\"{}\", i + 1);\n            if i % 5 == 0 {\n-               println!(\"{}\", i+2);\n+               println!(\"{}\", i + 2);\n            }\n            let i = 0;\n            println!(\"bar {} \", i);"}, {"sha": "e11aa73db2ab4bd1481c6e1ef6427bcd8d61ea6a", "filename": "tests/ui/needless_pass_by_value.stderr", "status": "modified", "additions": 48, "deletions": 48, "changes": 96, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_pass_by_value.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_pass_by_value.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_pass_by_value.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,128 +1,128 @@\n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:21:23\n+  --> $DIR/needless_pass_by_value.rs:24:23\n    |\n-21 | fn foo<T: Default>(v: Vec<T>, w: Vec<T>, mut x: Vec<T>, y: Vec<T>) -> Vec<T> {\n+24 | fn foo<T: Default>(v: Vec<T>, w: Vec<T>, mut x: Vec<T>, y: Vec<T>) -> Vec<T> {\n    |                       ^^^^^^ help: consider changing the type to: `&[T]`\n    |\n    = note: `-D clippy::needless-pass-by-value` implied by `-D warnings`\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:35:11\n+  --> $DIR/needless_pass_by_value.rs:38:11\n    |\n-35 | fn bar(x: String, y: Wrapper) {\n+38 | fn bar(x: String, y: Wrapper) {\n    |           ^^^^^^ help: consider changing the type to: `&str`\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:35:22\n+  --> $DIR/needless_pass_by_value.rs:38:22\n    |\n-35 | fn bar(x: String, y: Wrapper) {\n+38 | fn bar(x: String, y: Wrapper) {\n    |                      ^^^^^^^ help: consider taking a reference instead: `&Wrapper`\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:41:71\n+  --> $DIR/needless_pass_by_value.rs:44:71\n    |\n-41 | fn test_borrow_trait<T: Borrow<str>, U: AsRef<str>, V>(t: T, u: U, v: V) {\n+44 | fn test_borrow_trait<T: Borrow<str>, U: AsRef<str>, V>(t: T, u: U, v: V) {\n    |                                                                       ^ help: consider taking a reference instead: `&V`\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:53:18\n+  --> $DIR/needless_pass_by_value.rs:56:18\n    |\n-53 | fn test_match(x: Option<Option<String>>, y: Option<Option<String>>) {\n+56 | fn test_match(x: Option<Option<String>>, y: Option<Option<String>>) {\n    |                  ^^^^^^^^^^^^^^^^^^^^^^\n help: consider taking a reference instead\n    |\n-53 | fn test_match(x: &Option<Option<String>>, y: Option<Option<String>>) {\n-54 |     match *x {\n+56 | fn test_match(x: &Option<Option<String>>, y: Option<Option<String>>) {\n+57 |     match *x {\n    |\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:66:24\n+  --> $DIR/needless_pass_by_value.rs:69:24\n    |\n-66 | fn test_destructure(x: Wrapper, y: Wrapper, z: Wrapper) {\n+69 | fn test_destructure(x: Wrapper, y: Wrapper, z: Wrapper) {\n    |                        ^^^^^^^ help: consider taking a reference instead: `&Wrapper`\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:66:36\n+  --> $DIR/needless_pass_by_value.rs:69:36\n    |\n-66 | fn test_destructure(x: Wrapper, y: Wrapper, z: Wrapper) {\n+69 | fn test_destructure(x: Wrapper, y: Wrapper, z: Wrapper) {\n    |                                    ^^^^^^^\n help: consider taking a reference instead\n    |\n-66 | fn test_destructure(x: Wrapper, y: &Wrapper, z: Wrapper) {\n-67 |     let Wrapper(s) = z; // moved\n-68 |     let Wrapper(ref t) = *y; // not moved\n-69 |     let Wrapper(_) = *y; // still not moved\n+69 | fn test_destructure(x: Wrapper, y: &Wrapper, z: Wrapper) {\n+70 |     let Wrapper(s) = z; // moved\n+71 |     let Wrapper(ref t) = *y; // not moved\n+72 |     let Wrapper(_) = *y; // still not moved\n    |\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:82:49\n+  --> $DIR/needless_pass_by_value.rs:85:49\n    |\n-82 | fn test_blanket_ref<T: Foo, S: Serialize>(_foo: T, _serializable: S) {}\n+85 | fn test_blanket_ref<T: Foo, S: Serialize>(_foo: T, _serializable: S) {}\n    |                                                 ^ help: consider taking a reference instead: `&T`\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:84:18\n+  --> $DIR/needless_pass_by_value.rs:87:18\n    |\n-84 | fn issue_2114(s: String, t: String, u: Vec<i32>, v: Vec<i32>) {\n+87 | fn issue_2114(s: String, t: String, u: Vec<i32>, v: Vec<i32>) {\n    |                  ^^^^^^ help: consider taking a reference instead: `&String`\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:84:29\n+  --> $DIR/needless_pass_by_value.rs:87:29\n    |\n-84 | fn issue_2114(s: String, t: String, u: Vec<i32>, v: Vec<i32>) {\n+87 | fn issue_2114(s: String, t: String, u: Vec<i32>, v: Vec<i32>) {\n    |                             ^^^^^^\n help: consider changing the type to\n    |\n-84 | fn issue_2114(s: String, t: &str, u: Vec<i32>, v: Vec<i32>) {\n+87 | fn issue_2114(s: String, t: &str, u: Vec<i32>, v: Vec<i32>) {\n    |                             ^^^^\n help: change `t.clone()` to\n    |\n-86 |     let _ = t.to_string();\n+89 |     let _ = t.to_string();\n    |             ^^^^^^^^^^^^^\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:84:40\n+  --> $DIR/needless_pass_by_value.rs:87:40\n    |\n-84 | fn issue_2114(s: String, t: String, u: Vec<i32>, v: Vec<i32>) {\n+87 | fn issue_2114(s: String, t: String, u: Vec<i32>, v: Vec<i32>) {\n    |                                        ^^^^^^^^ help: consider taking a reference instead: `&Vec<i32>`\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:84:53\n+  --> $DIR/needless_pass_by_value.rs:87:53\n    |\n-84 | fn issue_2114(s: String, t: String, u: Vec<i32>, v: Vec<i32>) {\n+87 | fn issue_2114(s: String, t: String, u: Vec<i32>, v: Vec<i32>) {\n    |                                                     ^^^^^^^^\n help: consider changing the type to\n    |\n-84 | fn issue_2114(s: String, t: String, u: Vec<i32>, v: &[i32]) {\n+87 | fn issue_2114(s: String, t: String, u: Vec<i32>, v: &[i32]) {\n    |                                                     ^^^^^^\n help: change `v.clone()` to\n    |\n-88 |     let _ = v.to_owned();\n+91 |     let _ = v.to_owned();\n    |             ^^^^^^^^^^^^\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:96:12\n-   |\n-96 |         s: String,\n-   |            ^^^^^^ help: consider changing the type to: `&str`\n+   --> $DIR/needless_pass_by_value.rs:100:12\n+    |\n+100 |         s: String,\n+    |            ^^^^^^ help: consider changing the type to: `&str`\n \n error: this argument is passed by value, but not consumed in the function body\n-  --> $DIR/needless_pass_by_value.rs:97:12\n-   |\n-97 |         t: String,\n-   |            ^^^^^^ help: consider taking a reference instead: `&String`\n+   --> $DIR/needless_pass_by_value.rs:101:12\n+    |\n+101 |         t: String,\n+    |            ^^^^^^ help: consider taking a reference instead: `&String`\n \n error: this argument is passed by value, but not consumed in the function body\n-   --> $DIR/needless_pass_by_value.rs:109:13\n+   --> $DIR/needless_pass_by_value.rs:110:23\n     |\n-109 |         _u: U,\n-    |             ^ help: consider taking a reference instead: `&U`\n+110 |     fn baz(&self, _u: U, _s: Self) {}\n+    |                       ^ help: consider taking a reference instead: `&U`\n \n error: this argument is passed by value, but not consumed in the function body\n-   --> $DIR/needless_pass_by_value.rs:110:13\n+   --> $DIR/needless_pass_by_value.rs:110:30\n     |\n-110 |         _s: Self,\n-    |             ^^^^ help: consider taking a reference instead: `&Self`\n+110 |     fn baz(&self, _u: U, _s: Self) {}\n+    |                              ^^^^ help: consider taking a reference instead: `&Self`\n \n error: this argument is passed by value, but not consumed in the function body\n    --> $DIR/needless_pass_by_value.rs:132:24"}, {"sha": "03a469dfa722b1a71ff546e3c46f42f1e13f7d94", "filename": "tests/ui/needless_range_loop.stderr", "status": "modified", "additions": 24, "deletions": 24, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_range_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_range_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_range_loop.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,83 +1,83 @@\n error: the loop variable `i` is only used to index `ns`.\n-  --> $DIR/needless_range_loop.rs:18:14\n+  --> $DIR/needless_range_loop.rs:17:14\n    |\n-18 |     for i in 3..10 {\n+17 |     for i in 3..10 {\n    |              ^^^^^\n    |\n    = note: `-D clippy::needless-range-loop` implied by `-D warnings`\n help: consider using an iterator\n    |\n-18 |     for <item> in ns.iter().take(10).skip(3) {\n+17 |     for <item> in ns.iter().take(10).skip(3) {\n    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is only used to index `ms`.\n-  --> $DIR/needless_range_loop.rs:39:14\n+  --> $DIR/needless_range_loop.rs:38:14\n    |\n-39 |     for i in 0..ms.len() {\n+38 |     for i in 0..ms.len() {\n    |              ^^^^^^^^^^^\n help: consider using an iterator\n    |\n-39 |     for <item> in &mut ms {\n+38 |     for <item> in &mut ms {\n    |         ^^^^^^    ^^^^^^^\n \n error: the loop variable `i` is only used to index `ms`.\n-  --> $DIR/needless_range_loop.rs:45:14\n+  --> $DIR/needless_range_loop.rs:44:14\n    |\n-45 |     for i in 0..ms.len() {\n+44 |     for i in 0..ms.len() {\n    |              ^^^^^^^^^^^\n help: consider using an iterator\n    |\n-45 |     for <item> in &mut ms {\n+44 |     for <item> in &mut ms {\n    |         ^^^^^^    ^^^^^^^\n \n error: the loop variable `i` is only used to index `vec`.\n-  --> $DIR/needless_range_loop.rs:69:14\n+  --> $DIR/needless_range_loop.rs:68:14\n    |\n-69 |     for i in x..x + 4 {\n+68 |     for i in x..x + 4 {\n    |              ^^^^^^^^\n help: consider using an iterator\n    |\n-69 |     for <item> in vec.iter_mut().skip(x).take(4) {\n+68 |     for <item> in vec.iter_mut().skip(x).take(4) {\n    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is only used to index `vec`.\n-  --> $DIR/needless_range_loop.rs:76:14\n+  --> $DIR/needless_range_loop.rs:75:14\n    |\n-76 |     for i in x..=x + 4 {\n+75 |     for i in x..=x + 4 {\n    |              ^^^^^^^^^\n help: consider using an iterator\n    |\n-76 |     for <item> in vec.iter_mut().skip(x).take(4 + 1) {\n+75 |     for <item> in vec.iter_mut().skip(x).take(4 + 1) {\n    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is only used to index `arr`.\n-  --> $DIR/needless_range_loop.rs:82:14\n+  --> $DIR/needless_range_loop.rs:81:14\n    |\n-82 |     for i in 0..3 {\n+81 |     for i in 0..3 {\n    |              ^^^^\n help: consider using an iterator\n    |\n-82 |     for <item> in &arr {\n+81 |     for <item> in &arr {\n    |         ^^^^^^    ^^^^\n \n error: the loop variable `i` is only used to index `arr`.\n-  --> $DIR/needless_range_loop.rs:86:14\n+  --> $DIR/needless_range_loop.rs:85:14\n    |\n-86 |     for i in 0..2 {\n+85 |     for i in 0..2 {\n    |              ^^^^\n help: consider using an iterator\n    |\n-86 |     for <item> in arr.iter().take(2) {\n+85 |     for <item> in arr.iter().take(2) {\n    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^\n \n error: the loop variable `i` is only used to index `arr`.\n-  --> $DIR/needless_range_loop.rs:90:14\n+  --> $DIR/needless_range_loop.rs:89:14\n    |\n-90 |     for i in 1..3 {\n+89 |     for i in 1..3 {\n    |              ^^^^\n help: consider using an iterator\n    |\n-90 |     for <item> in arr.iter().skip(1) {\n+89 |     for <item> in arr.iter().skip(1) {\n    |         ^^^^^^    ^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 8 previous errors"}, {"sha": "07d29c19be32a80b9de67eb0138a9866a2cf9511", "filename": "tests/ui/needless_return.stderr", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_return.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_return.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_return.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,51 +1,51 @@\n error: unneeded return statement\n-  --> $DIR/needless_return.rs:21:5\n+  --> $DIR/needless_return.rs:17:5\n    |\n-21 |     return true;\n+17 |     return true;\n    |     ^^^^^^^^^^^^ help: remove `return` as shown: `true`\n    |\n    = note: `-D clippy::needless-return` implied by `-D warnings`\n \n error: unneeded return statement\n-  --> $DIR/needless_return.rs:25:5\n+  --> $DIR/needless_return.rs:21:5\n    |\n-25 |     return true\n-   |     ^^^^^^^^^^^ help: remove `return` as shown: `true`\n+21 |     return true;\n+   |     ^^^^^^^^^^^^ help: remove `return` as shown: `true`\n \n error: unneeded return statement\n-  --> $DIR/needless_return.rs:30:9\n+  --> $DIR/needless_return.rs:26:9\n    |\n-30 |         return true;\n+26 |         return true;\n    |         ^^^^^^^^^^^^ help: remove `return` as shown: `true`\n \n error: unneeded return statement\n-  --> $DIR/needless_return.rs:32:9\n+  --> $DIR/needless_return.rs:28:9\n    |\n-32 |         return false;\n+28 |         return false;\n    |         ^^^^^^^^^^^^^ help: remove `return` as shown: `false`\n \n error: unneeded return statement\n-  --> $DIR/needless_return.rs:38:17\n+  --> $DIR/needless_return.rs:34:17\n    |\n-38 |         true => return false,\n+34 |         true => return false,\n    |                 ^^^^^^^^^^^^ help: remove `return` as shown: `false`\n \n error: unneeded return statement\n-  --> $DIR/needless_return.rs:40:13\n+  --> $DIR/needless_return.rs:36:13\n    |\n-40 |             return true;\n+36 |             return true;\n    |             ^^^^^^^^^^^^ help: remove `return` as shown: `true`\n \n error: unneeded return statement\n-  --> $DIR/needless_return.rs:47:9\n+  --> $DIR/needless_return.rs:43:9\n    |\n-47 |         return true;\n+43 |         return true;\n    |         ^^^^^^^^^^^^ help: remove `return` as shown: `true`\n \n error: unneeded return statement\n-  --> $DIR/needless_return.rs:49:16\n+  --> $DIR/needless_return.rs:45:16\n    |\n-49 |     let _ = || return true;\n+45 |     let _ = || return true;\n    |                ^^^^^^^^^^^ help: remove `return` as shown: `true`\n \n error: aborting due to 8 previous errors"}, {"sha": "d5cd0e7889a249e869fa96f9ff5701a9fed00f18", "filename": "tests/ui/needless_update.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_update.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneedless_update.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_update.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,7 +1,7 @@\n error: struct update has no effect, all the fields in the struct have already been specified\n-  --> $DIR/needless_update.rs:26:23\n+  --> $DIR/needless_update.rs:22:23\n    |\n-26 |     S { a: 1, b: 1, ..base };\n+22 |     S { a: 1, b: 1, ..base };\n    |                       ^^^^\n    |\n    = note: `-D clippy::needless-update` implied by `-D warnings`"}, {"sha": "ee0f9af6f9557270319bbf366895444e27fab613", "filename": "tests/ui/neg_cmp_op_on_partial_ord.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneg_cmp_op_on_partial_ord.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneg_cmp_op_on_partial_ord.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneg_cmp_op_on_partial_ord.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,27 +1,27 @@\n error: The use of negated comparison operators on partially ordered types produces code that is hard to read and refactor. Please consider using the `partial_cmp` method instead, to make it clear that the two values could be incomparable.\n-  --> $DIR/neg_cmp_op_on_partial_ord.rs:29:21\n+  --> $DIR/neg_cmp_op_on_partial_ord.rs:24:21\n    |\n-29 |     let _not_less = !(a_value < another_value);\n+24 |     let _not_less = !(a_value < another_value);\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::neg-cmp-op-on-partial-ord` implied by `-D warnings`\n \n error: The use of negated comparison operators on partially ordered types produces code that is hard to read and refactor. Please consider using the `partial_cmp` method instead, to make it clear that the two values could be incomparable.\n-  --> $DIR/neg_cmp_op_on_partial_ord.rs:32:30\n+  --> $DIR/neg_cmp_op_on_partial_ord.rs:27:30\n    |\n-32 |     let _not_less_or_equal = !(a_value <= another_value);\n+27 |     let _not_less_or_equal = !(a_value <= another_value);\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: The use of negated comparison operators on partially ordered types produces code that is hard to read and refactor. Please consider using the `partial_cmp` method instead, to make it clear that the two values could be incomparable.\n-  --> $DIR/neg_cmp_op_on_partial_ord.rs:35:24\n+  --> $DIR/neg_cmp_op_on_partial_ord.rs:30:24\n    |\n-35 |     let _not_greater = !(a_value > another_value);\n+30 |     let _not_greater = !(a_value > another_value);\n    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: The use of negated comparison operators on partially ordered types produces code that is hard to read and refactor. Please consider using the `partial_cmp` method instead, to make it clear that the two values could be incomparable.\n-  --> $DIR/neg_cmp_op_on_partial_ord.rs:38:33\n+  --> $DIR/neg_cmp_op_on_partial_ord.rs:33:33\n    |\n-38 |     let _not_greater_or_equal = !(a_value >= another_value);\n+33 |     let _not_greater_or_equal = !(a_value >= another_value);\n    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 4 previous errors"}, {"sha": "5e5d1afaafe710c7684662de219ea95f48ac4a32", "filename": "tests/ui/neg_multiply.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneg_multiply.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fneg_multiply.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneg_multiply.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: Negation by multiplying with -1\n-  --> $DIR/neg_multiply.rs:40:5\n+  --> $DIR/neg_multiply.rs:36:5\n    |\n-40 |     x * -1;\n+36 |     x * -1;\n    |     ^^^^^^\n    |\n    = note: `-D clippy::neg-multiply` implied by `-D warnings`\n \n error: Negation by multiplying with -1\n-  --> $DIR/neg_multiply.rs:42:5\n+  --> $DIR/neg_multiply.rs:38:5\n    |\n-42 |     -1 * x;\n+38 |     -1 * x;\n    |     ^^^^^^\n \n error: aborting due to 2 previous errors"}, {"sha": "6ef26234d9d321859eb2ecb3ec3a1b82f7e47099", "filename": "tests/ui/never_loop.stderr", "status": "modified", "additions": 59, "deletions": 53, "changes": 112, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fnever_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fnever_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fnever_loop.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,93 +1,99 @@\n error: this loop never actually loops\n-  --> $DIR/never_loop.rs:17:5\n+  --> $DIR/never_loop.rs:19:5\n    |\n-17 | /     loop { // clippy::never_loop\n-18 | |         x += 1;\n-19 | |         if x == 1 {\n-20 | |             return\n-21 | |         }\n-22 | |         break;\n-23 | |     }\n+19 | /     loop {\n+20 | |         // clippy::never_loop\n+21 | |         x += 1;\n+22 | |         if x == 1 {\n+...  |\n+25 | |         break;\n+26 | |     }\n    | |_____^\n    |\n    = note: #[deny(clippy::never_loop)] on by default\n \n error: this loop never actually loops\n-  --> $DIR/never_loop.rs:38:5\n+  --> $DIR/never_loop.rs:41:5\n    |\n-38 | /     loop { // never loops\n-39 | |         x += 1;\n-40 | |         break\n-41 | |     }\n+41 | /     loop {\n+42 | |         // never loops\n+43 | |         x += 1;\n+44 | |         break;\n+45 | |     }\n    | |_____^\n \n error: this loop never actually loops\n-  --> $DIR/never_loop.rs:57:2\n+  --> $DIR/never_loop.rs:61:5\n    |\n-57 |       loop { // never loops\n-   |  _____^\n-58 | |         while i == 0 { // never loops\n-59 | |             break\n-60 | |         }\n-61 | |         return\n-62 | |     }\n+61 | /     loop {\n+62 | |         // never loops\n+63 | |         while i == 0 {\n+64 | |             // never loops\n+...  |\n+67 | |         return;\n+68 | |     }\n    | |_____^\n \n error: this loop never actually loops\n-  --> $DIR/never_loop.rs:58:9\n+  --> $DIR/never_loop.rs:63:9\n    |\n-58 | /         while i == 0 { // never loops\n-59 | |             break\n-60 | |         }\n+63 | /         while i == 0 {\n+64 | |             // never loops\n+65 | |             break;\n+66 | |         }\n    | |_________^\n \n error: this loop never actually loops\n-  --> $DIR/never_loop.rs:69:3\n+  --> $DIR/never_loop.rs:75:9\n    |\n-69 |           loop { // never loops\n-   |  _________^\n-70 | |             if x == 5 { break }\n-71 | |             continue 'outer\n-72 | |         }\n+75 | /         loop {\n+76 | |             // never loops\n+77 | |             if x == 5 {\n+78 | |                 break;\n+79 | |             }\n+80 | |             continue 'outer;\n+81 | |         }\n    | |_________^\n \n error: this loop never actually loops\n-   --> $DIR/never_loop.rs:102:5\n+   --> $DIR/never_loop.rs:111:5\n     |\n-102 | /     while let Some(y) = x { // never loops\n-103 | |         return\n-104 | |     }\n+111 | /     while let Some(y) = x {\n+112 | |         // never loops\n+113 | |         return;\n+114 | |     }\n     | |_____^\n \n error: this loop never actually loops\n-   --> $DIR/never_loop.rs:108:5\n+   --> $DIR/never_loop.rs:118:5\n     |\n-108 | /     for x in 0..10 { // never loops\n-109 | |         match x {\n-110 | |             1 => break,\n-111 | |             _ => return,\n-112 | |         }\n-113 | |     }\n+118 | /     for x in 0..10 {\n+119 | |         // never loops\n+120 | |         match x {\n+121 | |             1 => break,\n+122 | |             _ => return,\n+123 | |         }\n+124 | |     }\n     | |_____^\n \n error: this loop never actually loops\n-   --> $DIR/never_loop.rs:154:5\n+   --> $DIR/never_loop.rs:166:5\n     |\n-154 | /     'outer: while a { // never loops\n-155 | |         while a {\n-156 | |             if a {\n-157 | |                 a = false;\n+166 | /     'outer: while a {\n+167 | |         // never loops\n+168 | |         while a {\n+169 | |             if a {\n ...   |\n-161 | |         break 'outer;\n-162 | |     }\n+174 | |         break 'outer;\n+175 | |     }\n     | |_____^\n \n error: this loop never actually loops\n-   --> $DIR/never_loop.rs:168:9\n+   --> $DIR/never_loop.rs:181:9\n     |\n-168 | /         while false {\n-169 | |             break 'label;\n-170 | |         }\n+181 | /         while false {\n+182 | |             break 'label;\n+183 | |         }\n     | |_________^\n \n error: aborting due to 9 previous errors"}, {"sha": "e5911b3d72e947a075002b81466e95a5c53e3fa7", "filename": "tests/ui/new_ret_no_self.stderr", "status": "modified", "additions": 15, "deletions": 9, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fnew_ret_no_self.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fnew_ret_no_self.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fnew_ret_no_self.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -25,22 +25,28 @@ error: methods called `new` usually return `Self`\n    | |_____^\n \n error: methods called `new` usually return `Self`\n-   --> $DIR/new_ret_no_self.rs:120:5\n+   --> $DIR/new_ret_no_self.rs:126:5\n     |\n-120 |     pub fn new() -> (u32, u32) { unimplemented!(); }\n-    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+126 | /     pub fn new() -> (u32, u32) {\n+127 | |         unimplemented!();\n+128 | |     }\n+    | |_____^\n \n error: methods called `new` usually return `Self`\n-   --> $DIR/new_ret_no_self.rs:141:5\n+   --> $DIR/new_ret_no_self.rs:153:5\n     |\n-141 |     pub fn new() -> *mut V { unimplemented!(); }\n-    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+153 | /     pub fn new() -> *mut V {\n+154 | |         unimplemented!();\n+155 | |     }\n+    | |_____^\n \n error: methods called `new` usually return `Self`\n-   --> $DIR/new_ret_no_self.rs:155:5\n+   --> $DIR/new_ret_no_self.rs:171:5\n     |\n-155 |     pub fn new() -> Option<u32> { unimplemented!(); }\n-    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+171 | /     pub fn new() -> Option<u32> {\n+172 | |         unimplemented!();\n+173 | |     }\n+    | |_____^\n \n error: aborting due to 6 previous errors\n "}, {"sha": "b37c1e1442456a3a90608b9706a9b3057d63159c", "filename": "tests/ui/new_without_default.stderr", "status": "modified", "additions": 22, "deletions": 16, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fnew_without_default.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fnew_without_default.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fnew_without_default.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,39 +1,45 @@\n error: you should consider deriving a `Default` implementation for `Foo`\n-  --> $DIR/new_without_default.rs:22:5\n+  --> $DIR/new_without_default.rs:17:5\n    |\n-22 |     pub fn new() -> Foo { Foo }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+17 | /     pub fn new() -> Foo {\n+18 | |         Foo\n+19 | |     }\n+   | |_____^\n    |\n    = note: `-D clippy::new-without-default-derive` implied by `-D warnings`\n help: try this\n    |\n-19 | #[derive(Default)]\n+14 | #[derive(Default)]\n    |\n \n error: you should consider deriving a `Default` implementation for `Bar`\n-  --> $DIR/new_without_default.rs:28:5\n+  --> $DIR/new_without_default.rs:25:5\n    |\n-28 |     pub fn new() -> Self { Bar }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+25 | /     pub fn new() -> Self {\n+26 | |         Bar\n+27 | |     }\n+   | |_____^\n help: try this\n    |\n-25 | #[derive(Default)]\n+22 | #[derive(Default)]\n    |\n \n error: you should consider adding a `Default` implementation for `LtKo<'c>`\n-  --> $DIR/new_without_default.rs:76:5\n+  --> $DIR/new_without_default.rs:89:5\n    |\n-76 |     pub fn new() -> LtKo<'c> { unimplemented!() }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+89 | /     pub fn new() -> LtKo<'c> {\n+90 | |         unimplemented!()\n+91 | |     }\n+   | |_____^\n    |\n    = note: `-D clippy::new-without-default` implied by `-D warnings`\n help: try this\n    |\n-75 | impl Default for LtKo<'c> {\n-76 |     fn default() -> Self {\n-77 |         Self::new()\n-78 |     }\n-79 | }\n+88 | impl Default for LtKo<'c> {\n+89 |     fn default() -> Self {\n+90 |         Self::new()\n+91 |     }\n+92 | }\n    |\n \n error: aborting due to 3 previous errors"}, {"sha": "e8a88307c9743046e3cb879230868432597913da", "filename": "tests/ui/no_effect.stderr", "status": "modified", "additions": 52, "deletions": 52, "changes": 104, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fno_effect.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fno_effect.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fno_effect.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,154 +1,154 @@\n error: statement with no effect\n-  --> $DIR/no_effect.rs:71:5\n+  --> $DIR/no_effect.rs:74:5\n    |\n-71 |     0;\n+74 |     0;\n    |     ^^\n    |\n    = note: `-D clippy::no-effect` implied by `-D warnings`\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:72:5\n+  --> $DIR/no_effect.rs:75:5\n    |\n-72 |     s2;\n+75 |     s2;\n    |     ^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:73:5\n+  --> $DIR/no_effect.rs:76:5\n    |\n-73 |     Unit;\n+76 |     Unit;\n    |     ^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:74:5\n+  --> $DIR/no_effect.rs:77:5\n    |\n-74 |     Tuple(0);\n+77 |     Tuple(0);\n    |     ^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:75:5\n+  --> $DIR/no_effect.rs:78:5\n    |\n-75 |     Struct { field: 0 };\n+78 |     Struct { field: 0 };\n    |     ^^^^^^^^^^^^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:76:5\n+  --> $DIR/no_effect.rs:79:5\n    |\n-76 |     Struct { ..s };\n+79 |     Struct { ..s };\n    |     ^^^^^^^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:77:5\n+  --> $DIR/no_effect.rs:80:5\n    |\n-77 |     Union { a: 0 };\n+80 |     Union { a: 0 };\n    |     ^^^^^^^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:78:5\n+  --> $DIR/no_effect.rs:81:5\n    |\n-78 |     Enum::Tuple(0);\n+81 |     Enum::Tuple(0);\n    |     ^^^^^^^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:79:5\n+  --> $DIR/no_effect.rs:82:5\n    |\n-79 |     Enum::Struct { field: 0 };\n+82 |     Enum::Struct { field: 0 };\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:80:5\n+  --> $DIR/no_effect.rs:83:5\n    |\n-80 |     5 + 6;\n+83 |     5 + 6;\n    |     ^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:81:5\n+  --> $DIR/no_effect.rs:84:5\n    |\n-81 |     *&42;\n+84 |     *&42;\n    |     ^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:82:5\n+  --> $DIR/no_effect.rs:85:5\n    |\n-82 |     &6;\n+85 |     &6;\n    |     ^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:83:5\n+  --> $DIR/no_effect.rs:86:5\n    |\n-83 |     (5, 6, 7);\n+86 |     (5, 6, 7);\n    |     ^^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:84:5\n+  --> $DIR/no_effect.rs:87:5\n    |\n-84 |     box 42;\n+87 |     box 42;\n    |     ^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:85:5\n+  --> $DIR/no_effect.rs:88:5\n    |\n-85 |     ..;\n+88 |     ..;\n    |     ^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:86:5\n+  --> $DIR/no_effect.rs:89:5\n    |\n-86 |     5..;\n+89 |     5..;\n    |     ^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:87:5\n+  --> $DIR/no_effect.rs:90:5\n    |\n-87 |     ..5;\n+90 |     ..5;\n    |     ^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:88:5\n+  --> $DIR/no_effect.rs:91:5\n    |\n-88 |     5..6;\n+91 |     5..6;\n    |     ^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:90:5\n+  --> $DIR/no_effect.rs:93:5\n    |\n-90 |     [42, 55];\n+93 |     [42, 55];\n    |     ^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:91:5\n+  --> $DIR/no_effect.rs:94:5\n    |\n-91 |     [42, 55][1];\n+94 |     [42, 55][1];\n    |     ^^^^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:92:5\n+  --> $DIR/no_effect.rs:95:5\n    |\n-92 |     (42, 55).1;\n+95 |     (42, 55).1;\n    |     ^^^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:93:5\n+  --> $DIR/no_effect.rs:96:5\n    |\n-93 |     [42; 55];\n+96 |     [42; 55];\n    |     ^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:94:5\n+  --> $DIR/no_effect.rs:97:5\n    |\n-94 |     [42; 55][13];\n+97 |     [42; 55][13];\n    |     ^^^^^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:96:5\n+  --> $DIR/no_effect.rs:99:5\n    |\n-96 |     || x += 5;\n+99 |     || x += 5;\n    |     ^^^^^^^^^^\n \n error: statement with no effect\n-  --> $DIR/no_effect.rs:98:5\n-   |\n-98 |     FooString { s: s };\n-   |     ^^^^^^^^^^^^^^^^^^^\n+   --> $DIR/no_effect.rs:101:5\n+    |\n+101 |     FooString { s: s };\n+    |     ^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 25 previous errors\n "}, {"sha": "6d65f4dca501b02dca4d9893766940976557f195", "filename": "tests/ui/non_copy_const.stderr", "status": "modified", "additions": 79, "deletions": 79, "changes": 158, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fnon_copy_const.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fnon_copy_const.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fnon_copy_const.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,272 +1,272 @@\n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:22:1\n+  --> $DIR/non_copy_const.rs:19:1\n    |\n-22 | const ATOMIC: AtomicUsize = AtomicUsize::new(5); //~ ERROR interior mutable\n+19 | const ATOMIC: AtomicUsize = AtomicUsize::new(5); //~ ERROR interior mutable\n    | -----^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | |\n    | help: make this a static item: `static`\n    |\n    = note: #[deny(clippy::declare_interior_mutable_const)] on by default\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:23:1\n+  --> $DIR/non_copy_const.rs:20:1\n    |\n-23 | const CELL: Cell<usize> = Cell::new(6); //~ ERROR interior mutable\n+20 | const CELL: Cell<usize> = Cell::new(6); //~ ERROR interior mutable\n    | -----^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | |\n    | help: make this a static item: `static`\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:24:1\n+  --> $DIR/non_copy_const.rs:21:1\n    |\n-24 | const ATOMIC_TUPLE: ([AtomicUsize; 1], Vec<AtomicUsize>, u8) = ([ATOMIC], Vec::new(), 7);\n+21 | const ATOMIC_TUPLE: ([AtomicUsize; 1], Vec<AtomicUsize>, u8) = ([ATOMIC], Vec::new(), 7);\n    | -----^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | |\n    | help: make this a static item: `static`\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:28:42\n+  --> $DIR/non_copy_const.rs:26:9\n    |\n-28 |     ($name:ident: $ty:ty = $e:expr) => { const $name: $ty = $e; };\n-   |                                          ^^^^^^^^^^^^^^^^^^^^^^\n-29 | }\n-30 | declare_const!(_ONCE: Once = Once::new()); //~ ERROR interior mutable\n+26 |         const $name: $ty = $e;\n+   |         ^^^^^^^^^^^^^^^^^^^^^^\n+...\n+29 | declare_const!(_ONCE: Once = Once::new()); //~ ERROR interior mutable\n    | ------------------------------------------ in this macro invocation\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:51:5\n+  --> $DIR/non_copy_const.rs:50:5\n    |\n-51 |     const ATOMIC: AtomicUsize; //~ ERROR interior mutable\n+50 |     const ATOMIC: AtomicUsize; //~ ERROR interior mutable\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:55:5\n+  --> $DIR/non_copy_const.rs:54:5\n    |\n-55 |     const INPUT: T;\n+54 |     const INPUT: T;\n    |     ^^^^^^^^^^^^^^^\n    |\n help: consider requiring `T` to be `Copy`\n-  --> $DIR/non_copy_const.rs:55:18\n+  --> $DIR/non_copy_const.rs:54:18\n    |\n-55 |     const INPUT: T;\n+54 |     const INPUT: T;\n    |                  ^\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:58:5\n+  --> $DIR/non_copy_const.rs:57:5\n    |\n-58 |     const ASSOC: Self::NonCopyType;\n+57 |     const ASSOC: Self::NonCopyType;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n help: consider requiring `<Self as Trait<T>>::NonCopyType` to be `Copy`\n-  --> $DIR/non_copy_const.rs:58:18\n+  --> $DIR/non_copy_const.rs:57:18\n    |\n-58 |     const ASSOC: Self::NonCopyType;\n+57 |     const ASSOC: Self::NonCopyType;\n    |                  ^^^^^^^^^^^^^^^^^\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:62:5\n+  --> $DIR/non_copy_const.rs:61:5\n    |\n-62 |     const AN_INPUT: T = Self::INPUT;\n+61 |     const AN_INPUT: T = Self::INPUT;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n help: consider requiring `T` to be `Copy`\n-  --> $DIR/non_copy_const.rs:62:21\n+  --> $DIR/non_copy_const.rs:61:21\n    |\n-62 |     const AN_INPUT: T = Self::INPUT;\n+61 |     const AN_INPUT: T = Self::INPUT;\n    |                     ^\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:28:42\n+  --> $DIR/non_copy_const.rs:26:9\n    |\n-28 |     ($name:ident: $ty:ty = $e:expr) => { const $name: $ty = $e; };\n-   |                                          ^^^^^^^^^^^^^^^^^^^^^^\n+26 |         const $name: $ty = $e;\n+   |         ^^^^^^^^^^^^^^^^^^^^^^\n ...\n-65 |     declare_const!(ANOTHER_INPUT: T = Self::INPUT); //~ ERROR interior mutable\n+64 |     declare_const!(ANOTHER_INPUT: T = Self::INPUT); //~ ERROR interior mutable\n    |     ----------------------------------------------- in this macro invocation\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:71:5\n+  --> $DIR/non_copy_const.rs:70:5\n    |\n-71 |     const SELF_2: Self;\n+70 |     const SELF_2: Self;\n    |     ^^^^^^^^^^^^^^^^^^^\n    |\n help: consider requiring `Self` to be `Copy`\n-  --> $DIR/non_copy_const.rs:71:19\n+  --> $DIR/non_copy_const.rs:70:19\n    |\n-71 |     const SELF_2: Self;\n+70 |     const SELF_2: Self;\n    |                   ^^^^\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:92:5\n+  --> $DIR/non_copy_const.rs:91:5\n    |\n-92 |     const ASSOC_3: AtomicUsize = AtomicUsize::new(14); //~ ERROR interior mutable\n+91 |     const ASSOC_3: AtomicUsize = AtomicUsize::new(14); //~ ERROR interior mutable\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:95:5\n+  --> $DIR/non_copy_const.rs:94:5\n    |\n-95 |     const U_SELF: U = U::SELF_2;\n+94 |     const U_SELF: U = U::SELF_2;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n help: consider requiring `U` to be `Copy`\n-  --> $DIR/non_copy_const.rs:95:19\n+  --> $DIR/non_copy_const.rs:94:19\n    |\n-95 |     const U_SELF: U = U::SELF_2;\n+94 |     const U_SELF: U = U::SELF_2;\n    |                   ^\n \n error: a const item should never be interior mutable\n-  --> $DIR/non_copy_const.rs:98:5\n+  --> $DIR/non_copy_const.rs:97:5\n    |\n-98 |     const T_ASSOC: T::NonCopyType = T::ASSOC;\n+97 |     const T_ASSOC: T::NonCopyType = T::ASSOC;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n help: consider requiring `<T as Trait<u32>>::NonCopyType` to be `Copy`\n-  --> $DIR/non_copy_const.rs:98:20\n+  --> $DIR/non_copy_const.rs:97:20\n    |\n-98 |     const T_ASSOC: T::NonCopyType = T::ASSOC;\n+97 |     const T_ASSOC: T::NonCopyType = T::ASSOC;\n    |                    ^^^^^^^^^^^^^^\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:105:5\n+   --> $DIR/non_copy_const.rs:104:5\n     |\n-105 |     ATOMIC.store(1, Ordering::SeqCst); //~ ERROR interior mutability\n+104 |     ATOMIC.store(1, Ordering::SeqCst); //~ ERROR interior mutability\n     |     ^^^^^^\n     |\n     = note: #[deny(clippy::borrow_interior_mutable_const)] on by default\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:106:16\n+   --> $DIR/non_copy_const.rs:105:16\n     |\n-106 |     assert_eq!(ATOMIC.load(Ordering::SeqCst), 5); //~ ERROR interior mutability\n+105 |     assert_eq!(ATOMIC.load(Ordering::SeqCst), 5); //~ ERROR interior mutability\n     |                ^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:108:5\n+   --> $DIR/non_copy_const.rs:107:5\n     |\n-108 |     ATOMIC_USIZE_INIT.store(2, Ordering::SeqCst); //~ ERROR interior mutability\n+107 |     ATOMIC_USIZE_INIT.store(2, Ordering::SeqCst); //~ ERROR interior mutability\n     |     ^^^^^^^^^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:109:16\n+   --> $DIR/non_copy_const.rs:108:16\n     |\n-109 |     assert_eq!(ATOMIC_USIZE_INIT.load(Ordering::SeqCst), 0); //~ ERROR interior mutability\n+108 |     assert_eq!(ATOMIC_USIZE_INIT.load(Ordering::SeqCst), 0); //~ ERROR interior mutability\n     |                ^^^^^^^^^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:112:22\n+   --> $DIR/non_copy_const.rs:111:22\n     |\n-112 |     let _once_ref = &ONCE_INIT; //~ ERROR interior mutability\n+111 |     let _once_ref = &ONCE_INIT; //~ ERROR interior mutability\n     |                      ^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:113:25\n+   --> $DIR/non_copy_const.rs:112:25\n     |\n-113 |     let _once_ref_2 = &&ONCE_INIT; //~ ERROR interior mutability\n+112 |     let _once_ref_2 = &&ONCE_INIT; //~ ERROR interior mutability\n     |                         ^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:114:27\n+   --> $DIR/non_copy_const.rs:113:27\n     |\n-114 |     let _once_ref_4 = &&&&ONCE_INIT; //~ ERROR interior mutability\n+113 |     let _once_ref_4 = &&&&ONCE_INIT; //~ ERROR interior mutability\n     |                           ^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:115:26\n+   --> $DIR/non_copy_const.rs:114:26\n     |\n-115 |     let _once_mut = &mut ONCE_INIT; //~ ERROR interior mutability\n+114 |     let _once_mut = &mut ONCE_INIT; //~ ERROR interior mutability\n     |                          ^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:126:14\n+   --> $DIR/non_copy_const.rs:125:14\n     |\n-126 |     let _ = &ATOMIC_TUPLE; //~ ERROR interior mutability\n+125 |     let _ = &ATOMIC_TUPLE; //~ ERROR interior mutability\n     |              ^^^^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:127:14\n+   --> $DIR/non_copy_const.rs:126:14\n     |\n-127 |     let _ = &ATOMIC_TUPLE.0; //~ ERROR interior mutability\n+126 |     let _ = &ATOMIC_TUPLE.0; //~ ERROR interior mutability\n     |              ^^^^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:128:19\n+   --> $DIR/non_copy_const.rs:127:19\n     |\n-128 |     let _ = &(&&&&ATOMIC_TUPLE).0; //~ ERROR interior mutability\n+127 |     let _ = &(&&&&ATOMIC_TUPLE).0; //~ ERROR interior mutability\n     |                   ^^^^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:129:14\n+   --> $DIR/non_copy_const.rs:128:14\n     |\n-129 |     let _ = &ATOMIC_TUPLE.0[0]; //~ ERROR interior mutability\n+128 |     let _ = &ATOMIC_TUPLE.0[0]; //~ ERROR interior mutability\n     |              ^^^^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:130:13\n+   --> $DIR/non_copy_const.rs:129:13\n     |\n-130 |     let _ = ATOMIC_TUPLE.0[0].load(Ordering::SeqCst); //~ ERROR interior mutability\n+129 |     let _ = ATOMIC_TUPLE.0[0].load(Ordering::SeqCst); //~ ERROR interior mutability\n     |             ^^^^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:136:13\n+   --> $DIR/non_copy_const.rs:135:13\n     |\n-136 |     let _ = ATOMIC_TUPLE.0[0]; //~ ERROR interior mutability\n+135 |     let _ = ATOMIC_TUPLE.0[0]; //~ ERROR interior mutability\n     |             ^^^^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:141:5\n+   --> $DIR/non_copy_const.rs:140:5\n     |\n-141 |     CELL.set(2); //~ ERROR interior mutability\n+140 |     CELL.set(2); //~ ERROR interior mutability\n     |     ^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:142:16\n+   --> $DIR/non_copy_const.rs:141:16\n     |\n-142 |     assert_eq!(CELL.get(), 6); //~ ERROR interior mutability\n+141 |     assert_eq!(CELL.get(), 6); //~ ERROR interior mutability\n     |                ^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:155:5\n+   --> $DIR/non_copy_const.rs:154:5\n     |\n-155 |     u64::ATOMIC.store(5, Ordering::SeqCst); //~ ERROR interior mutability\n+154 |     u64::ATOMIC.store(5, Ordering::SeqCst); //~ ERROR interior mutability\n     |     ^^^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here\n \n error: a const item with interior mutability should not be borrowed\n-   --> $DIR/non_copy_const.rs:156:16\n+   --> $DIR/non_copy_const.rs:155:16\n     |\n-156 |     assert_eq!(u64::ATOMIC.load(Ordering::SeqCst), 9); //~ ERROR interior mutability\n+155 |     assert_eq!(u64::ATOMIC.load(Ordering::SeqCst), 9); //~ ERROR interior mutability\n     |                ^^^^^^^^^^^\n     |\n     = help: assign this const to a local or static variable, and use the variable here"}, {"sha": "568ae721588e649ace740554f44cb4061ebfd9b4", "filename": "tests/ui/non_expressive_names.stderr", "status": "modified", "additions": 57, "deletions": 57, "changes": 114, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fnon_expressive_names.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fnon_expressive_names.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fnon_expressive_names.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,170 +1,170 @@\n error: binding's name is too similar to existing binding\n-  --> $DIR/non_expressive_names.rs:28:9\n+  --> $DIR/non_expressive_names.rs:24:9\n    |\n-28 |     let bpple: i32;\n+24 |     let bpple: i32;\n    |         ^^^^^\n    |\n    = note: `-D clippy::similar-names` implied by `-D warnings`\n note: existing binding defined here\n-  --> $DIR/non_expressive_names.rs:26:9\n+  --> $DIR/non_expressive_names.rs:22:9\n    |\n-26 |     let apple: i32;\n+22 |     let apple: i32;\n    |         ^^^^^\n help: separate the discriminating character by an underscore like: `b_pple`\n-  --> $DIR/non_expressive_names.rs:28:9\n+  --> $DIR/non_expressive_names.rs:24:9\n    |\n-28 |     let bpple: i32;\n+24 |     let bpple: i32;\n    |         ^^^^^\n \n error: binding's name is too similar to existing binding\n-  --> $DIR/non_expressive_names.rs:30:9\n+  --> $DIR/non_expressive_names.rs:26:9\n    |\n-30 |     let cpple: i32;\n+26 |     let cpple: i32;\n    |         ^^^^^\n    |\n note: existing binding defined here\n-  --> $DIR/non_expressive_names.rs:26:9\n+  --> $DIR/non_expressive_names.rs:22:9\n    |\n-26 |     let apple: i32;\n+22 |     let apple: i32;\n    |         ^^^^^\n help: separate the discriminating character by an underscore like: `c_pple`\n-  --> $DIR/non_expressive_names.rs:30:9\n+  --> $DIR/non_expressive_names.rs:26:9\n    |\n-30 |     let cpple: i32;\n+26 |     let cpple: i32;\n    |         ^^^^^\n \n error: binding's name is too similar to existing binding\n-  --> $DIR/non_expressive_names.rs:55:9\n+  --> $DIR/non_expressive_names.rs:50:9\n    |\n-55 |     let bluby: i32;\n+50 |     let bluby: i32;\n    |         ^^^^^\n    |\n note: existing binding defined here\n-  --> $DIR/non_expressive_names.rs:54:9\n+  --> $DIR/non_expressive_names.rs:49:9\n    |\n-54 |     let blubx: i32;\n+49 |     let blubx: i32;\n    |         ^^^^^\n help: separate the discriminating character by an underscore like: `blub_y`\n-  --> $DIR/non_expressive_names.rs:55:9\n+  --> $DIR/non_expressive_names.rs:50:9\n    |\n-55 |     let bluby: i32;\n+50 |     let bluby: i32;\n    |         ^^^^^\n \n error: binding's name is too similar to existing binding\n-  --> $DIR/non_expressive_names.rs:60:9\n+  --> $DIR/non_expressive_names.rs:54:9\n    |\n-60 |     let coke: i32;\n+54 |     let coke: i32;\n    |         ^^^^\n    |\n note: existing binding defined here\n-  --> $DIR/non_expressive_names.rs:58:9\n+  --> $DIR/non_expressive_names.rs:52:9\n    |\n-58 |     let cake: i32;\n+52 |     let cake: i32;\n    |         ^^^^\n \n error: binding's name is too similar to existing binding\n-  --> $DIR/non_expressive_names.rs:78:9\n+  --> $DIR/non_expressive_names.rs:72:9\n    |\n-78 |     let xyzeabc: i32;\n+72 |     let xyzeabc: i32;\n    |         ^^^^^^^\n    |\n note: existing binding defined here\n-  --> $DIR/non_expressive_names.rs:76:9\n+  --> $DIR/non_expressive_names.rs:70:9\n    |\n-76 |     let xyz1abc: i32;\n+70 |     let xyz1abc: i32;\n    |         ^^^^^^^\n \n error: binding's name is too similar to existing binding\n-  --> $DIR/non_expressive_names.rs:82:9\n+  --> $DIR/non_expressive_names.rs:76:9\n    |\n-82 |     let parsee: i32;\n+76 |     let parsee: i32;\n    |         ^^^^^^\n    |\n note: existing binding defined here\n-  --> $DIR/non_expressive_names.rs:80:9\n+  --> $DIR/non_expressive_names.rs:74:9\n    |\n-80 |     let parser: i32;\n+74 |     let parser: i32;\n    |         ^^^^^^\n help: separate the discriminating character by an underscore like: `parse_e`\n-  --> $DIR/non_expressive_names.rs:82:9\n+  --> $DIR/non_expressive_names.rs:76:9\n    |\n-82 |     let parsee: i32;\n+76 |     let parsee: i32;\n    |         ^^^^^^\n \n error: binding's name is too similar to existing binding\n-  --> $DIR/non_expressive_names.rs:96:16\n+  --> $DIR/non_expressive_names.rs:90:16\n    |\n-96 |         bpple: sprang } = unimplemented!();\n+90 |         bpple: sprang,\n    |                ^^^^^^\n    |\n note: existing binding defined here\n-  --> $DIR/non_expressive_names.rs:95:22\n+  --> $DIR/non_expressive_names.rs:89:16\n    |\n-95 |     let Foo { apple: spring,\n-   |                      ^^^^^^\n+89 |         apple: spring,\n+   |                ^^^^^^\n \n error: 5th binding whose name is just one char\n-   --> $DIR/non_expressive_names.rs:130:17\n+   --> $DIR/non_expressive_names.rs:125:17\n     |\n-130 |             let e: i32;\n+125 |             let e: i32;\n     |                 ^\n     |\n     = note: `-D clippy::many-single-char-names` implied by `-D warnings`\n \n error: 5th binding whose name is just one char\n-   --> $DIR/non_expressive_names.rs:133:17\n+   --> $DIR/non_expressive_names.rs:128:17\n     |\n-133 |             let e: i32;\n+128 |             let e: i32;\n     |                 ^\n \n error: 6th binding whose name is just one char\n-   --> $DIR/non_expressive_names.rs:134:17\n+   --> $DIR/non_expressive_names.rs:129:17\n     |\n-134 |             let f: i32;\n+129 |             let f: i32;\n     |                 ^\n \n error: 5th binding whose name is just one char\n-   --> $DIR/non_expressive_names.rs:139:13\n+   --> $DIR/non_expressive_names.rs:133:13\n     |\n-139 |             e => panic!(),\n+133 |             e => panic!(),\n     |             ^\n \n error: consider choosing a more descriptive name\n-   --> $DIR/non_expressive_names.rs:149:9\n+   --> $DIR/non_expressive_names.rs:143:9\n     |\n-149 |     let _1 = 1; //~ERROR Consider a more descriptive name\n+143 |     let _1 = 1; //~ERROR Consider a more descriptive name\n     |         ^^\n     |\n     = note: `-D clippy::just-underscores-and-digits` implied by `-D warnings`\n \n error: consider choosing a more descriptive name\n-   --> $DIR/non_expressive_names.rs:150:9\n+   --> $DIR/non_expressive_names.rs:144:9\n     |\n-150 |     let ____1 = 1; //~ERROR Consider a more descriptive name\n+144 |     let ____1 = 1; //~ERROR Consider a more descriptive name\n     |         ^^^^^\n \n error: consider choosing a more descriptive name\n-   --> $DIR/non_expressive_names.rs:151:9\n+   --> $DIR/non_expressive_names.rs:145:9\n     |\n-151 |     let __1___2 = 12; //~ERROR Consider a more descriptive name\n+145 |     let __1___2 = 12; //~ERROR Consider a more descriptive name\n     |         ^^^^^^^\n \n error: consider choosing a more descriptive name\n-   --> $DIR/non_expressive_names.rs:171:13\n+   --> $DIR/non_expressive_names.rs:165:13\n     |\n-171 |         let _1 = 1;\n+165 |         let _1 = 1;\n     |             ^^\n \n error: consider choosing a more descriptive name\n-   --> $DIR/non_expressive_names.rs:172:13\n+   --> $DIR/non_expressive_names.rs:166:13\n     |\n-172 |         let ____1 = 1;\n+166 |         let ____1 = 1;\n     |             ^^^^^\n \n error: consider choosing a more descriptive name\n-   --> $DIR/non_expressive_names.rs:173:13\n+   --> $DIR/non_expressive_names.rs:167:13\n     |\n-173 |         let __1___2 = 12;\n+167 |         let __1___2 = 12;\n     |             ^^^^^^^\n \n error: aborting due to 17 previous errors"}, {"sha": "be013cba45943b675ce8fe1ea50dab6fd559b15e", "filename": "tests/ui/ok_expect.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fok_expect.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fok_expect.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fok_expect.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: called `ok().expect()` on a Result value. You can call `expect` directly on the `Result`\n-  --> $DIR/ok_expect.rs:24:5\n+  --> $DIR/ok_expect.rs:23:5\n    |\n-24 |     res.ok().expect(\"disaster!\");\n+23 |     res.ok().expect(\"disaster!\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::ok-expect` implied by `-D warnings`\n \n error: called `ok().expect()` on a Result value. You can call `expect` directly on the `Result`\n-  --> $DIR/ok_expect.rs:30:5\n+  --> $DIR/ok_expect.rs:29:5\n    |\n-30 |     res3.ok().expect(\"whoof\");\n+29 |     res3.ok().expect(\"whoof\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: called `ok().expect()` on a Result value. You can call `expect` directly on the `Result`\n-  --> $DIR/ok_expect.rs:32:5\n+  --> $DIR/ok_expect.rs:31:5\n    |\n-32 |     res4.ok().expect(\"argh\");\n+31 |     res4.ok().expect(\"argh\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: called `ok().expect()` on a Result value. You can call `expect` directly on the `Result`\n-  --> $DIR/ok_expect.rs:34:5\n+  --> $DIR/ok_expect.rs:33:5\n    |\n-34 |     res5.ok().expect(\"oops\");\n+33 |     res5.ok().expect(\"oops\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: called `ok().expect()` on a Result value. You can call `expect` directly on the `Result`\n-  --> $DIR/ok_expect.rs:36:5\n+  --> $DIR/ok_expect.rs:35:5\n    |\n-36 |     res6.ok().expect(\"meh\");\n+35 |     res6.ok().expect(\"meh\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 5 previous errors"}, {"sha": "5dd8ea37f6f7618f45cfa1e0908c23f530799f32", "filename": "tests/ui/ok_if_let.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fok_if_let.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fok_if_let.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fok_if_let.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,11 +1,11 @@\n error: Matching on `Some` with `ok()` is redundant\n-  --> $DIR/ok_if_let.rs:17:5\n+  --> $DIR/ok_if_let.rs:13:5\n    |\n-17 | /     if let Some(y) = x.parse().ok() {\n-18 | |         y\n-19 | |     } else {\n-20 | |         0\n-21 | |     }\n+13 | /     if let Some(y) = x.parse().ok() {\n+14 | |         y\n+15 | |     } else {\n+16 | |         0\n+17 | |     }\n    | |_____^\n    |\n    = note: `-D clippy::if-let-some-result` implied by `-D warnings`"}, {"sha": "abe7348622f93088e34616c80512b3f5369b9b64", "filename": "tests/ui/op_ref.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fop_ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fop_ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fop_ref.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,19 +1,19 @@\n error: needlessly taken reference of both operands\n-  --> $DIR/op_ref.rs:23:15\n+  --> $DIR/op_ref.rs:19:15\n    |\n-23 |     let foo = &5 - &6;\n+19 |     let foo = &5 - &6;\n    |               ^^^^^^^\n    |\n    = note: `-D clippy::op-ref` implied by `-D warnings`\n help: use the values directly\n    |\n-23 |     let foo = 5 - 6;\n+19 |     let foo = 5 - 6;\n    |               ^   ^\n \n error: taken reference of right operand\n-  --> $DIR/op_ref.rs:31:8\n+  --> $DIR/op_ref.rs:27:8\n    |\n-31 |     if b < &a {\n+27 |     if b < &a {\n    |        ^^^^--\n    |            |\n    |            help: use the right value directly: `a`"}, {"sha": "10691d65a292dc3035b91bfaa402e4f82cb22921", "filename": "tests/ui/open_options.stderr", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fopen_options.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fopen_options.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fopen_options.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,45 +1,45 @@\n error: file opened with \"truncate\" and \"read\"\n-  --> $DIR/open_options.rs:18:5\n+  --> $DIR/open_options.rs:15:5\n    |\n-18 |     OpenOptions::new().read(true).truncate(true).open(\"foo.txt\");\n+15 |     OpenOptions::new().read(true).truncate(true).open(\"foo.txt\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::nonsensical-open-options` implied by `-D warnings`\n \n error: file opened with \"append\" and \"truncate\"\n-  --> $DIR/open_options.rs:19:5\n+  --> $DIR/open_options.rs:16:5\n    |\n-19 |     OpenOptions::new().append(true).truncate(true).open(\"foo.txt\");\n+16 |     OpenOptions::new().append(true).truncate(true).open(\"foo.txt\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the method \"read\" is called more than once\n-  --> $DIR/open_options.rs:21:5\n+  --> $DIR/open_options.rs:18:5\n    |\n-21 |     OpenOptions::new().read(true).read(false).open(\"foo.txt\");\n+18 |     OpenOptions::new().read(true).read(false).open(\"foo.txt\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the method \"create\" is called more than once\n-  --> $DIR/open_options.rs:22:5\n+  --> $DIR/open_options.rs:19:5\n    |\n-22 |     OpenOptions::new().create(true).create(false).open(\"foo.txt\");\n+19 |     OpenOptions::new().create(true).create(false).open(\"foo.txt\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the method \"write\" is called more than once\n-  --> $DIR/open_options.rs:23:5\n+  --> $DIR/open_options.rs:20:5\n    |\n-23 |     OpenOptions::new().write(true).write(false).open(\"foo.txt\");\n+20 |     OpenOptions::new().write(true).write(false).open(\"foo.txt\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the method \"append\" is called more than once\n-  --> $DIR/open_options.rs:24:5\n+  --> $DIR/open_options.rs:21:5\n    |\n-24 |     OpenOptions::new().append(true).append(false).open(\"foo.txt\");\n+21 |     OpenOptions::new().append(true).append(false).open(\"foo.txt\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: the method \"truncate\" is called more than once\n-  --> $DIR/open_options.rs:25:5\n+  --> $DIR/open_options.rs:22:5\n    |\n-25 |     OpenOptions::new().truncate(true).truncate(false).open(\"foo.txt\");\n+22 |     OpenOptions::new().truncate(true).truncate(false).open(\"foo.txt\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 7 previous errors"}, {"sha": "86fb9e75d8f1219d3d951a950cd3b347daf08d8c", "filename": "tests/ui/option_map_unit_fn.stderr", "status": "modified", "additions": 155, "deletions": 95, "changes": 250, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Foption_map_unit_fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Foption_map_unit_fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foption_map_unit_fn.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,44 +1,49 @@\n error: called `map(f)` on an Option value where `f` is a unit function\n-  --> $DIR/option_map_unit_fn.rs:44:5\n+  --> $DIR/option_map_unit_fn.rs:41:5\n    |\n-44 |     x.field.map(do_nothing);\n+41 |     x.field.map(do_nothing);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Some(x_field) = x.field { do_nothing(...) }`\n    |\n    = note: `-D clippy::option-map-unit-fn` implied by `-D warnings`\n \n error: called `map(f)` on an Option value where `f` is a unit function\n-  --> $DIR/option_map_unit_fn.rs:46:5\n+  --> $DIR/option_map_unit_fn.rs:43:5\n    |\n-46 |     x.field.map(do_nothing);\n+43 |     x.field.map(do_nothing);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Some(x_field) = x.field { do_nothing(...) }`\n \n error: called `map(f)` on an Option value where `f` is a unit function\n-  --> $DIR/option_map_unit_fn.rs:48:5\n+  --> $DIR/option_map_unit_fn.rs:45:5\n    |\n-48 |     x.field.map(diverge);\n+45 |     x.field.map(diverge);\n    |     ^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Some(x_field) = x.field { diverge(...) }`\n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:54:5\n+  --> $DIR/option_map_unit_fn.rs:53:5\n    |\n-54 |     x.field.map(|value| x.do_option_nothing(value + captured));\n+53 |     x.field.map(|value| x.do_option_nothing(value + captured));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Some(value) = x.field { x.do_option_nothing(value + captured) }`\n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:56:5\n+  --> $DIR/option_map_unit_fn.rs:55:5\n    |\n-56 |     x.field.map(|value| { x.do_option_plus_one(value + captured); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { x.do_option_plus_one(value + captured); }`\n+55 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+56 | ||         x.do_option_plus_one(value + captured);\n+57 | ||     });\n+   | ||______^- help: try this: `if let Some(value) = x.field { x.do_option_plus_one(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n   --> $DIR/option_map_unit_fn.rs:59:5\n@@ -51,157 +56,212 @@ error: called `map(f)` on an Option value where `f` is a unit closure\n error: called `map(f)` on an Option value where `f` is a unit closure\n   --> $DIR/option_map_unit_fn.rs:61:5\n    |\n-61 |     x.field.map(|value| { do_nothing(value + captured) });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n+61 |     x.field.map(|value| do_nothing(value + captured));\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Some(value) = x.field { do_nothing(value + captured) }`\n \n error: called `map(f)` on an Option value where `f` is a unit closure\n   --> $DIR/option_map_unit_fn.rs:63:5\n    |\n-63 |     x.field.map(|value| { do_nothing(value + captured); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { do_nothing(value + captured); }`\n+63 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+64 | ||         do_nothing(value + captured);\n+65 | ||     });\n+   | ||______^- help: try this: `if let Some(value) = x.field { do_nothing(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:65:5\n+  --> $DIR/option_map_unit_fn.rs:67:5\n    |\n-65 |     x.field.map(|value| { { do_nothing(value + captured); } });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { do_nothing(value + captured); }`\n+67 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+68 | ||         do_nothing(value + captured);\n+69 | ||     });\n+   | ||______^- help: try this: `if let Some(value) = x.field { do_nothing(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:68:5\n+  --> $DIR/option_map_unit_fn.rs:71:5\n    |\n-68 |     x.field.map(|value| diverge(value + captured));\n+71 |     x.field.map(|value| diverge(value + captured));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Some(value) = x.field { diverge(value + captured) }`\n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:70:5\n+  --> $DIR/option_map_unit_fn.rs:73:5\n    |\n-70 |     x.field.map(|value| { diverge(value + captured) });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n+73 |     x.field.map(|value| diverge(value + captured));\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Some(value) = x.field { diverge(value + captured) }`\n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:72:5\n+  --> $DIR/option_map_unit_fn.rs:75:5\n    |\n-72 |     x.field.map(|value| { diverge(value + captured); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { diverge(value + captured); }`\n+75 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+76 | ||         diverge(value + captured);\n+77 | ||     });\n+   | ||______^- help: try this: `if let Some(value) = x.field { diverge(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:74:5\n+  --> $DIR/option_map_unit_fn.rs:79:5\n    |\n-74 |     x.field.map(|value| { { diverge(value + captured); } });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { diverge(value + captured); }`\n+79 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+80 | ||         diverge(value + captured);\n+81 | ||     });\n+   | ||______^- help: try this: `if let Some(value) = x.field { diverge(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:79:5\n+  --> $DIR/option_map_unit_fn.rs:85:5\n    |\n-79 |     x.field.map(|value| { let y = plus_one(value + captured); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { let y = plus_one(value + captured); }`\n+85 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+86 | ||         let y = plus_one(value + captured);\n+87 | ||     });\n+   | ||______^- help: try this: `if let Some(value) = x.field { let y = plus_one(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:81:5\n+  --> $DIR/option_map_unit_fn.rs:89:5\n    |\n-81 |     x.field.map(|value| { plus_one(value + captured); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { plus_one(value + captured); }`\n+89 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+90 | ||         plus_one(value + captured);\n+91 | ||     });\n+   | ||______^- help: try this: `if let Some(value) = x.field { plus_one(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:83:5\n+  --> $DIR/option_map_unit_fn.rs:93:5\n    |\n-83 |     x.field.map(|value| { { plus_one(value + captured); } });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { plus_one(value + captured); }`\n+93 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+94 | ||         plus_one(value + captured);\n+95 | ||     });\n+   | ||______^- help: try this: `if let Some(value) = x.field { plus_one(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:86:5\n+  --> $DIR/option_map_unit_fn.rs:97:5\n    |\n-86 |     x.field.map(|ref value| { do_nothing(value + captured) });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n+97 |     x.field.map(|ref value| do_nothing(value + captured));\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Some(ref value) = x.field { do_nothing(value + captured) }`\n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:89:5\n-   |\n-89 |     x.field.map(|value| { do_nothing(value); do_nothing(value) });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { ... }`\n+   --> $DIR/option_map_unit_fn.rs:99:5\n+    |\n+99  |        x.field.map(|value| {\n+    |   _____^\n+    |  |_____|\n+    | ||\n+100 | ||         do_nothing(value);\n+101 | ||         do_nothing(value)\n+102 | ||     });\n+    | ||______^- help: try this: `if let Some(value) = x.field { ... }`\n+    | |_______|\n+    | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:91:5\n-   |\n-91 |     x.field.map(|value| if value > 0 { do_nothing(value); do_nothing(value) });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { ... }`\n+   --> $DIR/option_map_unit_fn.rs:104:5\n+    |\n+104 |        x.field.map(|value| {\n+    |   _____^\n+    |  |_____|\n+    | ||\n+105 | ||         if value > 0 {\n+106 | ||             do_nothing(value);\n+107 | ||             do_nothing(value)\n+108 | ||         }\n+109 | ||     });\n+    | ||______^- help: try this: `if let Some(value) = x.field { ... }`\n+    | |_______|\n+    | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:95:5\n-   |\n-95 |        x.field.map(|value| {\n-   |   _____^\n-   |  |_____|\n-   | ||\n-96 | ||         do_nothing(value);\n-97 | ||         do_nothing(value)\n-98 | ||     });\n-   | ||______^- help: try this: `if let Some(value) = x.field { ... }`\n-   | |_______|\n-   | \n+   --> $DIR/option_map_unit_fn.rs:113:5\n+    |\n+113 |        x.field.map(|value| {\n+    |   _____^\n+    |  |_____|\n+    | ||\n+114 | ||         do_nothing(value);\n+115 | ||         do_nothing(value)\n+116 | ||     });\n+    | ||______^- help: try this: `if let Some(value) = x.field { ... }`\n+    | |_______|\n+    | \n \n error: called `map(f)` on an Option value where `f` is a unit closure\n-  --> $DIR/option_map_unit_fn.rs:99:5\n-   |\n-99 |     x.field.map(|value| { do_nothing(value); do_nothing(value); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Some(value) = x.field { ... }`\n+   --> $DIR/option_map_unit_fn.rs:117:5\n+    |\n+117 |        x.field.map(|value| {\n+    |   _____^\n+    |  |_____|\n+    | ||\n+118 | ||         do_nothing(value);\n+119 | ||         do_nothing(value);\n+120 | ||     });\n+    | ||______^- help: try this: `if let Some(value) = x.field { ... }`\n+    | |_______|\n+    | \n \n error: called `map(f)` on an Option value where `f` is a unit function\n-   --> $DIR/option_map_unit_fn.rs:102:5\n+   --> $DIR/option_map_unit_fn.rs:124:5\n     |\n-102 |     Some(42).map(diverge);\n+124 |     Some(42).map(diverge);\n     |     ^^^^^^^^^^^^^^^^^^^^^-\n     |     |\n     |     help: try this: `if let Some(_) = Some(42) { diverge(...) }`\n \n error: called `map(f)` on an Option value where `f` is a unit function\n-   --> $DIR/option_map_unit_fn.rs:103:5\n+   --> $DIR/option_map_unit_fn.rs:125:5\n     |\n-103 |     \"12\".parse::<i32>().ok().map(diverge);\n+125 |     \"12\".parse::<i32>().ok().map(diverge);\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n     |     |\n     |     help: try this: `if let Some(_) = \"12\".parse::<i32>().ok() { diverge(...) }`\n \n error: called `map(f)` on an Option value where `f` is a unit function\n-   --> $DIR/option_map_unit_fn.rs:104:5\n+   --> $DIR/option_map_unit_fn.rs:126:5\n     |\n-104 |     Some(plus_one(1)).map(do_nothing);\n+126 |     Some(plus_one(1)).map(do_nothing);\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n     |     |\n     |     help: try this: `if let Some(_) = Some(plus_one(1)) { do_nothing(...) }`\n \n error: called `map(f)` on an Option value where `f` is a unit function\n-   --> $DIR/option_map_unit_fn.rs:108:5\n+   --> $DIR/option_map_unit_fn.rs:130:5\n     |\n-108 |     y.map(do_nothing);\n+130 |     y.map(do_nothing);\n     |     ^^^^^^^^^^^^^^^^^-\n     |     |\n     |     help: try this: `if let Some(_y) = y { do_nothing(...) }`"}, {"sha": "0689a10231bf52121be05418eca3a1b8641914cd", "filename": "tests/ui/option_option.stderr", "status": "modified", "additions": 19, "deletions": 19, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Foption_option.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Foption_option.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foption_option.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,58 +1,58 @@\n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:11:13\n+  --> $DIR/option_option.rs:10:13\n    |\n-11 | fn input(_: Option<Option<u8>>) {\n+10 | fn input(_: Option<Option<u8>>) {}\n    |             ^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::option-option` implied by `-D warnings`\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:14:16\n+  --> $DIR/option_option.rs:12:16\n    |\n-14 | fn output() -> Option<Option<u8>> {\n+12 | fn output() -> Option<Option<u8>> {\n    |                ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:18:27\n+  --> $DIR/option_option.rs:16:27\n    |\n-18 | fn output_nested() -> Vec<Option<Option<u8>>> {\n+16 | fn output_nested() -> Vec<Option<Option<u8>>> {\n    |                           ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:23:30\n+  --> $DIR/option_option.rs:21:30\n    |\n-23 | fn output_nested_nested() -> Option<Option<Option<u8>>> {\n+21 | fn output_nested_nested() -> Option<Option<Option<u8>>> {\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:28:8\n+  --> $DIR/option_option.rs:26:8\n    |\n-28 |     x: Option<Option<u8>>,\n+26 |     x: Option<Option<u8>>,\n    |        ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:32:23\n+  --> $DIR/option_option.rs:30:23\n    |\n-32 |     fn struct_fn() -> Option<Option<u8>> {\n+30 |     fn struct_fn() -> Option<Option<u8>> {\n    |                       ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:38:22\n+  --> $DIR/option_option.rs:36:22\n    |\n-38 |     fn trait_fn() -> Option<Option<u8>>;\n+36 |     fn trait_fn() -> Option<Option<u8>>;\n    |                      ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:42:11\n+  --> $DIR/option_option.rs:40:11\n    |\n-42 |     Tuple(Option<Option<u8>>),\n+40 |     Tuple(Option<Option<u8>>),\n    |           ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:43:15\n+  --> $DIR/option_option.rs:41:17\n    |\n-43 |     Struct{x: Option<Option<u8>>},\n-   |               ^^^^^^^^^^^^^^^^^^\n+41 |     Struct { x: Option<Option<u8>> },\n+   |                 ^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 9 previous errors\n "}, {"sha": "1c15eeaf67be7e91ba26a5cf3a1218722213ce76", "filename": "tests/ui/overflow_check_conditional.stderr", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Foverflow_check_conditional.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Foverflow_check_conditional.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foverflow_check_conditional.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,51 +1,51 @@\n error: You are trying to use classic C overflow conditions that will fail in Rust.\n-  --> $DIR/overflow_check_conditional.rs:21:5\n+  --> $DIR/overflow_check_conditional.rs:17:8\n    |\n-21 |     if a + b < a {\n+17 |     if a + b < a {}\n    |        ^^^^^^^^^\n    |\n    = note: `-D clippy::overflow-check-conditional` implied by `-D warnings`\n \n error: You are trying to use classic C overflow conditions that will fail in Rust.\n-  --> $DIR/overflow_check_conditional.rs:24:5\n+  --> $DIR/overflow_check_conditional.rs:18:8\n    |\n-24 |     if a > a + b {\n+18 |     if a > a + b {}\n    |        ^^^^^^^^^\n \n error: You are trying to use classic C overflow conditions that will fail in Rust.\n-  --> $DIR/overflow_check_conditional.rs:27:5\n+  --> $DIR/overflow_check_conditional.rs:19:8\n    |\n-27 |     if a + b < b {\n+19 |     if a + b < b {}\n    |        ^^^^^^^^^\n \n error: You are trying to use classic C overflow conditions that will fail in Rust.\n-  --> $DIR/overflow_check_conditional.rs:30:5\n+  --> $DIR/overflow_check_conditional.rs:20:8\n    |\n-30 |     if b > a + b {\n+20 |     if b > a + b {}\n    |        ^^^^^^^^^\n \n error: You are trying to use classic C underflow conditions that will fail in Rust.\n-  --> $DIR/overflow_check_conditional.rs:33:5\n+  --> $DIR/overflow_check_conditional.rs:21:8\n    |\n-33 |     if a - b > b {\n+21 |     if a - b > b {}\n    |        ^^^^^^^^^\n \n error: You are trying to use classic C underflow conditions that will fail in Rust.\n-  --> $DIR/overflow_check_conditional.rs:36:5\n+  --> $DIR/overflow_check_conditional.rs:22:8\n    |\n-36 |     if b < a - b {\n+22 |     if b < a - b {}\n    |        ^^^^^^^^^\n \n error: You are trying to use classic C underflow conditions that will fail in Rust.\n-  --> $DIR/overflow_check_conditional.rs:39:5\n+  --> $DIR/overflow_check_conditional.rs:23:8\n    |\n-39 |     if a - b > a {\n+23 |     if a - b > a {}\n    |        ^^^^^^^^^\n \n error: You are trying to use classic C underflow conditions that will fail in Rust.\n-  --> $DIR/overflow_check_conditional.rs:42:5\n+  --> $DIR/overflow_check_conditional.rs:24:8\n    |\n-42 |     if a < a - b {\n+24 |     if a < a - b {}\n    |        ^^^^^^^^^\n \n error: aborting due to 8 previous errors"}, {"sha": "e357050b739be011fd4deb5199f8a645d62c673c", "filename": "tests/ui/panic_unimplemented.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fpanic_unimplemented.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fpanic_unimplemented.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fpanic_unimplemented.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: you probably are missing some parameter in your format string\n-  --> $DIR/panic_unimplemented.rs:18:16\n+  --> $DIR/panic_unimplemented.rs:14:16\n    |\n-18 |         panic!(\"{}\");\n+14 |         panic!(\"{}\");\n    |                ^^^^\n    |\n    = note: `-D clippy::panic-params` implied by `-D warnings`\n \n error: you probably are missing some parameter in your format string\n-  --> $DIR/panic_unimplemented.rs:20:16\n+  --> $DIR/panic_unimplemented.rs:16:16\n    |\n-20 |         panic!(\"{:?}\");\n+16 |         panic!(\"{:?}\");\n    |                ^^^^^^\n \n error: you probably are missing some parameter in your format string\n-  --> $DIR/panic_unimplemented.rs:22:23\n+  --> $DIR/panic_unimplemented.rs:18:23\n    |\n-22 |         assert!(true, \"here be missing values: {}\");\n+18 |         assert!(true, \"here be missing values: {}\");\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: you probably are missing some parameter in your format string\n-  --> $DIR/panic_unimplemented.rs:25:12\n+  --> $DIR/panic_unimplemented.rs:21:12\n    |\n-25 |     panic!(\"{{{this}}}\");\n+21 |     panic!(\"{{{this}}}\");\n    |            ^^^^^^^^^^^^\n \n error: `unimplemented` should not be present in production code\n-  --> $DIR/panic_unimplemented.rs:68:5\n+  --> $DIR/panic_unimplemented.rs:64:5\n    |\n-68 |     unimplemented!();\n+64 |     unimplemented!();\n    |     ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::unimplemented` implied by `-D warnings`"}, {"sha": "d429fba5db05e90e4e2e7e2dcb69e54ef30dd142", "filename": "tests/ui/partialeq_ne_impl.stderr", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fpartialeq_ne_impl.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fpartialeq_ne_impl.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fpartialeq_ne_impl.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,8 +1,10 @@\n error: re-implementing `PartialEq::ne` is unnecessary\n-  --> $DIR/partialeq_ne_impl.rs:20:5\n+  --> $DIR/partialeq_ne_impl.rs:18:5\n    |\n-20 |     fn ne(&self, _: &Foo) -> bool { false }\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+18 | /     fn ne(&self, _: &Foo) -> bool {\n+19 | |         false\n+20 | |     }\n+   | |_____^\n    |\n    = note: `-D clippy::partialeq-ne-impl` implied by `-D warnings`\n "}, {"sha": "b97709d2ae95f84229da04f7fcd2226e40659880", "filename": "tests/ui/patterns.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fpatterns.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fpatterns.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fpatterns.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,7 +1,7 @@\n error: the `y @ _` pattern can be written as just `y`\n-  --> $DIR/patterns.rs:20:9\n+  --> $DIR/patterns.rs:17:9\n    |\n-20 |         y @ _   => (),\n+17 |         y @ _ => (),\n    |         ^^^^^\n    |\n    = note: `-D clippy::redundant-pattern` implied by `-D warnings`"}, {"sha": "8601f828ef3971fcbdd2048eb1c2c6256363ff93", "filename": "tests/ui/precedence.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fprecedence.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fprecedence.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fprecedence.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,57 +1,57 @@\n error: operator precedence can trip the unwary\n-  --> $DIR/precedence.rs:28:5\n+  --> $DIR/precedence.rs:24:5\n    |\n-28 |     1 << 2 + 3;\n+24 |     1 << 2 + 3;\n    |     ^^^^^^^^^^ help: consider parenthesizing your expression: `1 << (2 + 3)`\n    |\n    = note: `-D clippy::precedence` implied by `-D warnings`\n \n error: operator precedence can trip the unwary\n-  --> $DIR/precedence.rs:29:5\n+  --> $DIR/precedence.rs:25:5\n    |\n-29 |     1 + 2 << 3;\n+25 |     1 + 2 << 3;\n    |     ^^^^^^^^^^ help: consider parenthesizing your expression: `(1 + 2) << 3`\n \n error: operator precedence can trip the unwary\n-  --> $DIR/precedence.rs:30:5\n+  --> $DIR/precedence.rs:26:5\n    |\n-30 |     4 >> 1 + 1;\n+26 |     4 >> 1 + 1;\n    |     ^^^^^^^^^^ help: consider parenthesizing your expression: `4 >> (1 + 1)`\n \n error: operator precedence can trip the unwary\n-  --> $DIR/precedence.rs:31:5\n+  --> $DIR/precedence.rs:27:5\n    |\n-31 |     1 + 3 >> 2;\n+27 |     1 + 3 >> 2;\n    |     ^^^^^^^^^^ help: consider parenthesizing your expression: `(1 + 3) >> 2`\n \n error: operator precedence can trip the unwary\n-  --> $DIR/precedence.rs:32:5\n+  --> $DIR/precedence.rs:28:5\n    |\n-32 |     1 ^ 1 - 1;\n+28 |     1 ^ 1 - 1;\n    |     ^^^^^^^^^ help: consider parenthesizing your expression: `1 ^ (1 - 1)`\n \n error: operator precedence can trip the unwary\n-  --> $DIR/precedence.rs:33:5\n+  --> $DIR/precedence.rs:29:5\n    |\n-33 |     3 | 2 - 1;\n+29 |     3 | 2 - 1;\n    |     ^^^^^^^^^ help: consider parenthesizing your expression: `3 | (2 - 1)`\n \n error: operator precedence can trip the unwary\n-  --> $DIR/precedence.rs:34:5\n+  --> $DIR/precedence.rs:30:5\n    |\n-34 |     3 & 5 - 2;\n+30 |     3 & 5 - 2;\n    |     ^^^^^^^^^ help: consider parenthesizing your expression: `3 & (5 - 2)`\n \n error: unary minus has lower precedence than method call\n-  --> $DIR/precedence.rs:35:5\n+  --> $DIR/precedence.rs:31:5\n    |\n-35 |     -1i32.abs();\n+31 |     -1i32.abs();\n    |     ^^^^^^^^^^^ help: consider adding parentheses to clarify your intent: `-(1i32.abs())`\n \n error: unary minus has lower precedence than method call\n-  --> $DIR/precedence.rs:36:5\n+  --> $DIR/precedence.rs:32:5\n    |\n-36 |     -1f32.abs();\n+32 |     -1f32.abs();\n    |     ^^^^^^^^^^^ help: consider adding parentheses to clarify your intent: `-(1f32.abs())`\n \n error: aborting due to 9 previous errors"}, {"sha": "199f76568f098827f95b6b1552fc1997feec1960", "filename": "tests/ui/print.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fprint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fprint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fprint.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,59 +1,59 @@\n error: use of `Debug`-based formatting\n-  --> $DIR/print.rs:23:19\n+  --> $DIR/print.rs:20:19\n    |\n-23 |         write!(f, \"{:?}\", 43.1415)\n+20 |         write!(f, \"{:?}\", 43.1415)\n    |                   ^^^^^^\n    |\n    = note: `-D clippy::use-debug` implied by `-D warnings`\n \n error: use of `Debug`-based formatting\n-  --> $DIR/print.rs:30:19\n+  --> $DIR/print.rs:27:19\n    |\n-30 |         write!(f, \"{:?}\", 42.718)\n+27 |         write!(f, \"{:?}\", 42.718)\n    |                   ^^^^^^\n \n error: use of `println!`\n-  --> $DIR/print.rs:35:5\n+  --> $DIR/print.rs:32:5\n    |\n-35 |     println!(\"Hello\");\n+32 |     println!(\"Hello\");\n    |     ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::print-stdout` implied by `-D warnings`\n \n error: use of `print!`\n-  --> $DIR/print.rs:36:5\n+  --> $DIR/print.rs:33:5\n    |\n-36 |     print!(\"Hello\");\n+33 |     print!(\"Hello\");\n    |     ^^^^^^^^^^^^^^^\n \n error: use of `print!`\n-  --> $DIR/print.rs:38:5\n+  --> $DIR/print.rs:35:5\n    |\n-38 |     print!(\"Hello {}\", \"World\");\n+35 |     print!(\"Hello {}\", \"World\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: use of `print!`\n-  --> $DIR/print.rs:40:5\n+  --> $DIR/print.rs:37:5\n    |\n-40 |     print!(\"Hello {:?}\", \"World\");\n+37 |     print!(\"Hello {:?}\", \"World\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: use of `Debug`-based formatting\n-  --> $DIR/print.rs:40:12\n+  --> $DIR/print.rs:37:12\n    |\n-40 |     print!(\"Hello {:?}\", \"World\");\n+37 |     print!(\"Hello {:?}\", \"World\");\n    |            ^^^^^^^^^^^^\n \n error: use of `print!`\n-  --> $DIR/print.rs:42:5\n+  --> $DIR/print.rs:39:5\n    |\n-42 |     print!(\"Hello {:#?}\", \"#orld\");\n+39 |     print!(\"Hello {:#?}\", \"#orld\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: use of `Debug`-based formatting\n-  --> $DIR/print.rs:42:12\n+  --> $DIR/print.rs:39:12\n    |\n-42 |     print!(\"Hello {:#?}\", \"#orld\");\n+39 |     print!(\"Hello {:#?}\", \"#orld\");\n    |            ^^^^^^^^^^^^^\n \n error: aborting due to 9 previous errors"}, {"sha": "cba5cc19eacdfeba57f6886012c018b9ef9d04d4", "filename": "tests/ui/print_literal.stderr", "status": "modified", "additions": 32, "deletions": 32, "changes": 64, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fprint_literal.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fprint_literal.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fprint_literal.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,88 +1,88 @@\n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:34:71\n+  --> $DIR/print_literal.rs:31:71\n    |\n-34 |     println!(\"{} of {:b} people know binary, the other half doesn't\", 1, 2);\n+31 |     println!(\"{} of {:b} people know binary, the other half doesn't\", 1, 2);\n    |                                                                       ^\n    |\n    = note: `-D clippy::print-literal` implied by `-D warnings`\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:35:24\n+  --> $DIR/print_literal.rs:32:24\n    |\n-35 |     print!(\"Hello {}\", \"world\");\n+32 |     print!(\"Hello {}\", \"world\");\n    |                        ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:36:36\n+  --> $DIR/print_literal.rs:33:36\n    |\n-36 |     println!(\"Hello {} {}\", world, \"world\");\n+33 |     println!(\"Hello {} {}\", world, \"world\");\n    |                                    ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:37:26\n+  --> $DIR/print_literal.rs:34:26\n    |\n-37 |     println!(\"Hello {}\", \"world\");\n+34 |     println!(\"Hello {}\", \"world\");\n    |                          ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:38:30\n+  --> $DIR/print_literal.rs:35:30\n    |\n-38 |     println!(\"10 / 4 is {}\", 2.5);\n+35 |     println!(\"10 / 4 is {}\", 2.5);\n    |                              ^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:39:28\n+  --> $DIR/print_literal.rs:36:28\n    |\n-39 |     println!(\"2 + 1 = {}\", 3);\n+36 |     println!(\"2 + 1 = {}\", 3);\n    |                            ^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:44:25\n+  --> $DIR/print_literal.rs:41:25\n    |\n-44 |     println!(\"{0} {1}\", \"hello\", \"world\");\n+41 |     println!(\"{0} {1}\", \"hello\", \"world\");\n    |                         ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:44:34\n+  --> $DIR/print_literal.rs:41:34\n    |\n-44 |     println!(\"{0} {1}\", \"hello\", \"world\");\n+41 |     println!(\"{0} {1}\", \"hello\", \"world\");\n    |                                  ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:45:25\n+  --> $DIR/print_literal.rs:42:25\n    |\n-45 |     println!(\"{1} {0}\", \"hello\", \"world\");\n+42 |     println!(\"{1} {0}\", \"hello\", \"world\");\n    |                         ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:45:34\n+  --> $DIR/print_literal.rs:42:34\n    |\n-45 |     println!(\"{1} {0}\", \"hello\", \"world\");\n+42 |     println!(\"{1} {0}\", \"hello\", \"world\");\n    |                                  ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:48:33\n+  --> $DIR/print_literal.rs:45:35\n    |\n-48 |     println!(\"{foo} {bar}\", foo=\"hello\", bar=\"world\");\n-   |                                 ^^^^^^^\n+45 |     println!(\"{foo} {bar}\", foo = \"hello\", bar = \"world\");\n+   |                                   ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:48:46\n+  --> $DIR/print_literal.rs:45:50\n    |\n-48 |     println!(\"{foo} {bar}\", foo=\"hello\", bar=\"world\");\n-   |                                              ^^^^^^^\n+45 |     println!(\"{foo} {bar}\", foo = \"hello\", bar = \"world\");\n+   |                                                  ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:49:33\n+  --> $DIR/print_literal.rs:46:35\n    |\n-49 |     println!(\"{bar} {foo}\", foo=\"hello\", bar=\"world\");\n-   |                                 ^^^^^^^\n+46 |     println!(\"{bar} {foo}\", foo = \"hello\", bar = \"world\");\n+   |                                   ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/print_literal.rs:49:46\n+  --> $DIR/print_literal.rs:46:50\n    |\n-49 |     println!(\"{bar} {foo}\", foo=\"hello\", bar=\"world\");\n-   |                                              ^^^^^^^\n+46 |     println!(\"{bar} {foo}\", foo = \"hello\", bar = \"world\");\n+   |                                                  ^^^^^^^\n \n error: aborting due to 14 previous errors\n "}, {"sha": "639a42711109c250f6240b94d66a4c061f57c5a6", "filename": "tests/ui/print_with_newline.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fprint_with_newline.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fprint_with_newline.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fprint_with_newline.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,27 +1,27 @@\n error: using `print!()` with a format string that ends in a single newline, consider using `println!()` instead\n-  --> $DIR/print_with_newline.rs:17:5\n+  --> $DIR/print_with_newline.rs:14:5\n    |\n-17 |     print!(\"Hello/n\");\n+14 |     print!(\"Hello/n\");\n    |     ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::print-with-newline` implied by `-D warnings`\n \n error: using `print!()` with a format string that ends in a single newline, consider using `println!()` instead\n-  --> $DIR/print_with_newline.rs:18:5\n+  --> $DIR/print_with_newline.rs:15:5\n    |\n-18 |     print!(\"Hello {}/n\", \"world\");\n+15 |     print!(\"Hello {}/n\", \"world\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: using `print!()` with a format string that ends in a single newline, consider using `println!()` instead\n-  --> $DIR/print_with_newline.rs:19:5\n+  --> $DIR/print_with_newline.rs:16:5\n    |\n-19 |     print!(\"Hello {} {}/n\", \"world\", \"#2\");\n+16 |     print!(\"Hello {} {}/n\", \"world\", \"#2\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: using `print!()` with a format string that ends in a single newline, consider using `println!()` instead\n-  --> $DIR/print_with_newline.rs:20:5\n+  --> $DIR/print_with_newline.rs:17:5\n    |\n-20 |     print!(\"{}/n\", 1265);\n+17 |     print!(\"{}/n\", 1265);\n    |     ^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 4 previous errors"}, {"sha": "9a08150d627d7f434dba6c98721464365d9fe8e5", "filename": "tests/ui/println_empty_string.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fprintln_empty_string.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fprintln_empty_string.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fprintln_empty_string.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: using `println!(\"\")`\n-  --> $DIR/println_empty_string.rs:13:5\n+  --> $DIR/println_empty_string.rs:12:5\n    |\n-13 |     println!(\"\");\n+12 |     println!(\"\");\n    |     ^^^^^^^^^^^^ help: replace it with: `println!()`\n    |\n    = note: `-D clippy::println-empty-string` implied by `-D warnings`\n \n error: using `println!(\"\")`\n-  --> $DIR/println_empty_string.rs:16:14\n+  --> $DIR/println_empty_string.rs:15:14\n    |\n-16 |         _ => println!(\"\"),\n+15 |         _ => println!(\"\"),\n    |              ^^^^^^^^^^^^ help: replace it with: `println!()`\n \n error: aborting due to 2 previous errors"}, {"sha": "c9e8292795f1b0013a018238d40cef2b3ece3a0b", "filename": "tests/ui/ptr_arg.stderr", "status": "modified", "additions": 24, "deletions": 24, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fptr_arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fptr_arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fptr_arg.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,85 +1,85 @@\n error: writing `&Vec<_>` instead of `&[_]` involves one more reference and cannot be used with non-Vec-based slices.\n-  --> $DIR/ptr_arg.rs:18:14\n+  --> $DIR/ptr_arg.rs:15:14\n    |\n-18 | fn do_vec(x: &Vec<i64>) {\n+15 | fn do_vec(x: &Vec<i64>) {\n    |              ^^^^^^^^^ help: change this to: `&[i64]`\n    |\n    = note: `-D clippy::ptr-arg` implied by `-D warnings`\n \n error: writing `&String` instead of `&str` involves a new object where a slice will do.\n-  --> $DIR/ptr_arg.rs:26:14\n+  --> $DIR/ptr_arg.rs:24:14\n    |\n-26 | fn do_str(x: &String) {\n+24 | fn do_str(x: &String) {\n    |              ^^^^^^^ help: change this to: `&str`\n \n error: writing `&Vec<_>` instead of `&[_]` involves one more reference and cannot be used with non-Vec-based slices.\n-  --> $DIR/ptr_arg.rs:39:18\n+  --> $DIR/ptr_arg.rs:37:18\n    |\n-39 |     fn do_vec(x: &Vec<i64>);\n+37 |     fn do_vec(x: &Vec<i64>);\n    |                  ^^^^^^^^^ help: change this to: `&[i64]`\n \n error: writing `&Vec<_>` instead of `&[_]` involves one more reference and cannot be used with non-Vec-based slices.\n-  --> $DIR/ptr_arg.rs:52:14\n+  --> $DIR/ptr_arg.rs:50:14\n    |\n-52 | fn cloned(x: &Vec<u8>) -> Vec<u8> {\n+50 | fn cloned(x: &Vec<u8>) -> Vec<u8> {\n    |              ^^^^^^^^\n help: change this to\n    |\n-52 | fn cloned(x: &[u8]) -> Vec<u8> {\n+50 | fn cloned(x: &[u8]) -> Vec<u8> {\n    |              ^^^^^\n help: change `x.clone()` to\n    |\n-53 |     let e = x.to_owned();\n+51 |     let e = x.to_owned();\n    |             ^^^^^^^^^^^^\n help: change `x.clone()` to\n    |\n-58 |     x.to_owned()\n+56 |     x.to_owned()\n    |\n \n error: writing `&String` instead of `&str` involves a new object where a slice will do.\n-  --> $DIR/ptr_arg.rs:61:18\n+  --> $DIR/ptr_arg.rs:59:18\n    |\n-61 | fn str_cloned(x: &String) -> String {\n+59 | fn str_cloned(x: &String) -> String {\n    |                  ^^^^^^^\n help: change this to\n    |\n-61 | fn str_cloned(x: &str) -> String {\n+59 | fn str_cloned(x: &str) -> String {\n    |                  ^^^^\n help: change `x.clone()` to\n    |\n-62 |     let a = x.to_string();\n+60 |     let a = x.to_string();\n    |             ^^^^^^^^^^^^^\n help: change `x.clone()` to\n    |\n-63 |     let b = x.to_string();\n+61 |     let b = x.to_string();\n    |             ^^^^^^^^^^^^^\n help: change `x.clone()` to\n    |\n-68 |     x.to_string()\n+64 |     x.to_string()\n    |\n \n error: writing `&String` instead of `&str` involves a new object where a slice will do.\n-  --> $DIR/ptr_arg.rs:71:44\n+  --> $DIR/ptr_arg.rs:67:44\n    |\n-71 | fn false_positive_capacity(x: &Vec<u8>, y: &String) {\n+67 | fn false_positive_capacity(x: &Vec<u8>, y: &String) {\n    |                                            ^^^^^^^\n help: change this to\n    |\n-71 | fn false_positive_capacity(x: &Vec<u8>, y: &str) {\n+67 | fn false_positive_capacity(x: &Vec<u8>, y: &str) {\n    |                                            ^^^^\n help: change `y.clone()` to\n    |\n-73 |     let b = y.to_string();\n+69 |     let b = y.to_string();\n    |             ^^^^^^^^^^^^^\n help: change `y.as_str()` to\n    |\n-74 |     let c = y;\n+70 |     let c = y;\n    |             ^\n \n error: using a reference to `Cow` is not recommended.\n-  --> $DIR/ptr_arg.rs:83:25\n+  --> $DIR/ptr_arg.rs:81:25\n    |\n-83 | fn test_cow_with_ref(c: &Cow<[i32]>) {\n+81 | fn test_cow_with_ref(c: &Cow<[i32]>) {}\n    |                         ^^^^^^^^^^^ help: change this to: `&[i32]`\n \n error: aborting due to 7 previous errors"}, {"sha": "c9bd4d79460f3c97c94a14e301daba645d6b1f32", "filename": "tests/ui/ptr_offset_with_cast.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fptr_offset_with_cast.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fptr_offset_with_cast.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fptr_offset_with_cast.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: use of `offset` with a `usize` casted to an `isize`\n-  --> $DIR/ptr_offset_with_cast.rs:20:9\n+  --> $DIR/ptr_offset_with_cast.rs:19:9\n    |\n-20 |         ptr.offset(offset_usize as isize);\n+19 |         ptr.offset(offset_usize as isize);\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `ptr.add(offset_usize)`\n    |\n    = note: `-D clippy::ptr-offset-with-cast` implied by `-D warnings`\n \n error: use of `wrapping_offset` with a `usize` casted to an `isize`\n-  --> $DIR/ptr_offset_with_cast.rs:24:9\n+  --> $DIR/ptr_offset_with_cast.rs:23:9\n    |\n-24 |         ptr.wrapping_offset(offset_usize as isize);\n+23 |         ptr.wrapping_offset(offset_usize as isize);\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `ptr.wrapping_add(offset_usize)`\n \n error: aborting due to 2 previous errors"}, {"sha": "d3daaaa92705795fc57f3f811f5ae1a31ddcaeb4", "filename": "tests/ui/question_mark.stderr", "status": "modified", "additions": 8, "deletions": 10, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fquestion_mark.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fquestion_mark.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fquestion_mark.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,21 +1,19 @@\n error: this block may be rewritten with the `?` operator\n-  --> $DIR/question_mark.rs:12:2\n+  --> $DIR/question_mark.rs:11:5\n    |\n-12 |       if a.is_none() {\n-   |  _____^\n-13 | |         return None\n-14 | |     }\n+11 | /     if a.is_none() {\n+12 | |         return None;\n+13 | |     }\n    | |_____^ help: replace_it_with: `a?;`\n    |\n    = note: `-D clippy::question-mark` implied by `-D warnings`\n \n error: this block may be rewritten with the `?` operator\n-  --> $DIR/question_mark.rs:47:3\n+  --> $DIR/question_mark.rs:46:9\n    |\n-47 |           if (self.opt).is_none() {\n-   |  _________^\n-48 | |             return None;\n-49 | |         }\n+46 | /         if (self.opt).is_none() {\n+47 | |             return None;\n+48 | |         }\n    | |_________^ help: replace_it_with: `(self.opt)?;`\n \n error: aborting due to 2 previous errors"}, {"sha": "7b3c5ebc3e19cf07ae4faf919b5d42dd8825bb1c", "filename": "tests/ui/range.stderr", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Frange.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Frange.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frange.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,42 +1,42 @@\n error: Iterator::step_by(0) will panic at runtime\n-  --> $DIR/range.rs:20:13\n+  --> $DIR/range.rs:17:13\n    |\n-20 |     let _ = (0..1).step_by(0);\n+17 |     let _ = (0..1).step_by(0);\n    |             ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::iterator-step-by-zero` implied by `-D warnings`\n \n error: Iterator::step_by(0) will panic at runtime\n-  --> $DIR/range.rs:24:13\n+  --> $DIR/range.rs:21:13\n    |\n-24 |     let _ = (1..).step_by(0);\n+21 |     let _ = (1..).step_by(0);\n    |             ^^^^^^^^^^^^^^^^\n \n error: Iterator::step_by(0) will panic at runtime\n-  --> $DIR/range.rs:25:13\n+  --> $DIR/range.rs:22:13\n    |\n-25 |     let _ = (1..=2).step_by(0);\n+22 |     let _ = (1..=2).step_by(0);\n    |             ^^^^^^^^^^^^^^^^^^\n \n error: Iterator::step_by(0) will panic at runtime\n-  --> $DIR/range.rs:28:13\n+  --> $DIR/range.rs:25:13\n    |\n-28 |     let _ = x.step_by(0);\n+25 |     let _ = x.step_by(0);\n    |             ^^^^^^^^^^^^\n \n error: It is more idiomatic to use v1.iter().enumerate()\n-  --> $DIR/range.rs:36:14\n+  --> $DIR/range.rs:33:14\n    |\n-36 |     let _x = v1.iter().zip(0..v1.len());\n+33 |     let _x = v1.iter().zip(0..v1.len());\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::range-zip-with-len` implied by `-D warnings`\n \n error: Iterator::step_by(0) will panic at runtime\n-  --> $DIR/range.rs:40:13\n+  --> $DIR/range.rs:37:13\n    |\n-40 |     let _ = v1.iter().step_by(2/3);\n-   |             ^^^^^^^^^^^^^^^^^^^^^^\n+37 |     let _ = v1.iter().step_by(2 / 3);\n+   |             ^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 6 previous errors\n "}, {"sha": "dc49420ecb9244080695be4b4baf2c5e9316172a", "filename": "tests/ui/range_plus_minus_one.stderr", "status": "modified", "additions": 24, "deletions": 24, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Frange_plus_minus_one.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Frange_plus_minus_one.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frange_plus_minus_one.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,54 +1,54 @@\n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:22:14\n+  --> $DIR/range_plus_minus_one.rs:19:14\n    |\n-22 |     for _ in 0..3+1 { }\n-   |              ^^^^^^ help: use: `0..=3`\n+19 |     for _ in 0..3 + 1 {}\n+   |              ^^^^^^^^ help: use: `0..=3`\n    |\n    = note: `-D clippy::range-plus-one` implied by `-D warnings`\n \n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:25:14\n+  --> $DIR/range_plus_minus_one.rs:22:14\n    |\n-25 |     for _ in 0..1+5 { }\n-   |              ^^^^^^ help: use: `0..=5`\n+22 |     for _ in 0..1 + 5 {}\n+   |              ^^^^^^^^ help: use: `0..=5`\n \n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:28:14\n+  --> $DIR/range_plus_minus_one.rs:25:14\n    |\n-28 |     for _ in 1..1+1 { }\n-   |              ^^^^^^ help: use: `1..=1`\n+25 |     for _ in 1..1 + 1 {}\n+   |              ^^^^^^^^ help: use: `1..=1`\n \n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:34:14\n+  --> $DIR/range_plus_minus_one.rs:31:14\n    |\n-34 |     for _ in 0..(1+f()) { }\n-   |              ^^^^^^^^^^ help: use: `0..=f()`\n+31 |     for _ in 0..(1 + f()) {}\n+   |              ^^^^^^^^^^^^ help: use: `0..=f()`\n \n error: an exclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:38:13\n+  --> $DIR/range_plus_minus_one.rs:35:13\n    |\n-38 |     let _ = ..=11-1;\n-   |             ^^^^^^^ help: use: `..11`\n+35 |     let _ = ..=11 - 1;\n+   |             ^^^^^^^^^ help: use: `..11`\n    |\n    = note: `-D clippy::range-minus-one` implied by `-D warnings`\n \n error: an exclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:39:13\n+  --> $DIR/range_plus_minus_one.rs:36:13\n    |\n-39 |     let _ = ..=(11-1);\n-   |             ^^^^^^^^^ help: use: `..11`\n+36 |     let _ = ..=(11 - 1);\n+   |             ^^^^^^^^^^^ help: use: `..11`\n \n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:40:13\n+  --> $DIR/range_plus_minus_one.rs:37:13\n    |\n-40 |     let _ = (1..11+1);\n-   |             ^^^^^^^^^ help: use: `(1..=11)`\n+37 |     let _ = (1..11 + 1);\n+   |             ^^^^^^^^^^^ help: use: `(1..=11)`\n \n error: an inclusive range would be more readable\n-  --> $DIR/range_plus_minus_one.rs:41:13\n+  --> $DIR/range_plus_minus_one.rs:38:13\n    |\n-41 |     let _ = (f()+1)..(f()+1);\n-   |             ^^^^^^^^^^^^^^^^ help: use: `((f()+1)..=f())`\n+38 |     let _ = (f() + 1)..(f() + 1);\n+   |             ^^^^^^^^^^^^^^^^^^^^ help: use: `((f() + 1)..=f())`\n \n error: aborting due to 8 previous errors\n "}, {"sha": "2130d2a6fe15507238377a4ce4d339d01cc68cbe", "filename": "tests/ui/redundant_clone.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fredundant_clone.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fredundant_clone.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fredundant_clone.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -96,15 +96,15 @@ note: this value is dropped without further use\n    |             ^^^^^^^^^^^^^^^\n \n error: redundant clone\n-  --> $DIR/redundant_clone.rs:43:22\n+  --> $DIR/redundant_clone.rs:44:22\n    |\n-43 |         (a.clone(), a.clone())\n+44 |         (a.clone(), a.clone())\n    |                      ^^^^^^^^ help: remove this\n    |\n note: this value is dropped without further use\n-  --> $DIR/redundant_clone.rs:43:21\n+  --> $DIR/redundant_clone.rs:44:21\n    |\n-43 |         (a.clone(), a.clone())\n+44 |         (a.clone(), a.clone())\n    |                     ^\n \n error: aborting due to 9 previous errors"}, {"sha": "0d49f1a4066e4e9998681de1ade2e2067fe0ae4b", "filename": "tests/ui/redundant_closure_call.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fredundant_closure_call.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fredundant_closure_call.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fredundant_closure_call.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,34 +1,34 @@\n error: Closure called just once immediately after it was declared\n-  --> $DIR/redundant_closure_call.rs:25:2\n+  --> $DIR/redundant_closure_call.rs:21:5\n    |\n-25 |     i = closure();\n+21 |     i = closure();\n    |     ^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::redundant-closure-call` implied by `-D warnings`\n \n error: Closure called just once immediately after it was declared\n-  --> $DIR/redundant_closure_call.rs:28:2\n+  --> $DIR/redundant_closure_call.rs:24:5\n    |\n-28 |     i = closure(3);\n+24 |     i = closure(3);\n    |     ^^^^^^^^^^^^^^\n \n error: Try not to call a closure in the expression where it is declared.\n-  --> $DIR/redundant_closure_call.rs:17:10\n+  --> $DIR/redundant_closure_call.rs:13:13\n    |\n-17 |     let a = (|| 42)();\n+13 |     let a = (|| 42)();\n    |             ^^^^^^^^^ help: Try doing something like: : `42`\n \n error: Try not to call a closure in the expression where it is declared.\n-  --> $DIR/redundant_closure_call.rs:20:14\n+  --> $DIR/redundant_closure_call.rs:16:17\n    |\n-20 |     let mut k = (|m| m+1)(i);\n-   |                 ^^^^^^^^^^^^\n+16 |     let mut k = (|m| m + 1)(i);\n+   |                 ^^^^^^^^^^^^^^\n \n error: Try not to call a closure in the expression where it is declared.\n-  --> $DIR/redundant_closure_call.rs:22:6\n+  --> $DIR/redundant_closure_call.rs:18:9\n    |\n-22 |     k = (|a,b| a*b)(1,5);\n-   |         ^^^^^^^^^^^^^^^^\n+18 |     k = (|a, b| a * b)(1, 5);\n+   |         ^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 5 previous errors\n "}, {"sha": "7febaa61b715ef4339fb17de699173420414515f", "filename": "tests/ui/redundant_field_names.stderr", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fredundant_field_names.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fredundant_field_names.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fredundant_field_names.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,45 +1,45 @@\n error: redundant field names in struct initialization\n-  --> $DIR/redundant_field_names.rs:46:9\n+  --> $DIR/redundant_field_names.rs:43:9\n    |\n-46 |         gender: gender,\n+43 |         gender: gender,\n    |         ^^^^^^^^^^^^^^ help: replace it with: `gender`\n    |\n    = note: `-D clippy::redundant-field-names` implied by `-D warnings`\n \n error: redundant field names in struct initialization\n-  --> $DIR/redundant_field_names.rs:47:9\n+  --> $DIR/redundant_field_names.rs:44:9\n    |\n-47 |         age: age,\n+44 |         age: age,\n    |         ^^^^^^^^ help: replace it with: `age`\n \n error: redundant field names in struct initialization\n-  --> $DIR/redundant_field_names.rs:68:25\n+  --> $DIR/redundant_field_names.rs:65:25\n    |\n-68 |     let _ = RangeFrom { start: start };\n+65 |     let _ = RangeFrom { start: start };\n    |                         ^^^^^^^^^^^^ help: replace it with: `start`\n \n error: redundant field names in struct initialization\n-  --> $DIR/redundant_field_names.rs:69:23\n+  --> $DIR/redundant_field_names.rs:66:23\n    |\n-69 |     let _ = RangeTo { end: end };\n+66 |     let _ = RangeTo { end: end };\n    |                       ^^^^^^^^ help: replace it with: `end`\n \n error: redundant field names in struct initialization\n-  --> $DIR/redundant_field_names.rs:70:21\n+  --> $DIR/redundant_field_names.rs:67:21\n    |\n-70 |     let _ = Range { start: start, end: end };\n+67 |     let _ = Range { start: start, end: end };\n    |                     ^^^^^^^^^^^^ help: replace it with: `start`\n \n error: redundant field names in struct initialization\n-  --> $DIR/redundant_field_names.rs:70:35\n+  --> $DIR/redundant_field_names.rs:67:35\n    |\n-70 |     let _ = Range { start: start, end: end };\n+67 |     let _ = Range { start: start, end: end };\n    |                                   ^^^^^^^^ help: replace it with: `end`\n \n error: redundant field names in struct initialization\n-  --> $DIR/redundant_field_names.rs:72:32\n+  --> $DIR/redundant_field_names.rs:69:32\n    |\n-72 |     let _ = RangeToInclusive { end: end };\n+69 |     let _ = RangeToInclusive { end: end };\n    |                                ^^^^^^^^ help: replace it with: `end`\n \n error: aborting due to 7 previous errors"}, {"sha": "2d2aa88d76d612830ec1aabe3ffd8f9797939aa5", "filename": "tests/ui/redundant_pattern_matching.stderr", "status": "modified", "additions": 41, "deletions": 47, "changes": 88, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fredundant_pattern_matching.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fredundant_pattern_matching.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fredundant_pattern_matching.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,87 +1,81 @@\n error: redundant pattern matching, consider using `is_ok()`\n-  --> $DIR/redundant_pattern_matching.rs:19:12\n+  --> $DIR/redundant_pattern_matching.rs:14:12\n    |\n-19 |     if let Ok(_) = Ok::<i32, i32>(42) {}\n+14 |     if let Ok(_) = Ok::<i32, i32>(42) {}\n    |     -------^^^^^------------------------ help: try this: `if Ok::<i32, i32>(42).is_ok()`\n    |\n    = note: `-D clippy::redundant-pattern-matching` implied by `-D warnings`\n \n error: redundant pattern matching, consider using `is_err()`\n-  --> $DIR/redundant_pattern_matching.rs:21:12\n+  --> $DIR/redundant_pattern_matching.rs:16:12\n    |\n-21 |       if let Err(_) = Err::<i32, i32>(42) {\n-   |  _____-      ^^^^^^\n-22 | |     }\n-   | |_____- help: try this: `if Err::<i32, i32>(42).is_err()`\n+16 |     if let Err(_) = Err::<i32, i32>(42) {}\n+   |     -------^^^^^^------------------------- help: try this: `if Err::<i32, i32>(42).is_err()`\n \n error: redundant pattern matching, consider using `is_none()`\n-  --> $DIR/redundant_pattern_matching.rs:24:12\n+  --> $DIR/redundant_pattern_matching.rs:18:12\n    |\n-24 |       if let None = None::<()> {\n-   |  _____-      ^^^^\n-25 | |     }\n-   | |_____- help: try this: `if None::<()>.is_none()`\n+18 |     if let None = None::<()> {}\n+   |     -------^^^^---------------- help: try this: `if None::<()>.is_none()`\n \n error: redundant pattern matching, consider using `is_some()`\n-  --> $DIR/redundant_pattern_matching.rs:27:12\n+  --> $DIR/redundant_pattern_matching.rs:20:12\n    |\n-27 |       if let Some(_) = Some(42) {\n-   |  _____-      ^^^^^^^\n-28 | |     }\n-   | |_____- help: try this: `if Some(42).is_some()`\n+20 |     if let Some(_) = Some(42) {}\n+   |     -------^^^^^^^-------------- help: try this: `if Some(42).is_some()`\n \n error: redundant pattern matching, consider using `is_ok()`\n-  --> $DIR/redundant_pattern_matching.rs:46:5\n+  --> $DIR/redundant_pattern_matching.rs:34:5\n    |\n-46 | /     match Ok::<i32, i32>(42) {\n-47 | |         Ok(_) => true,\n-48 | |         Err(_) => false,\n-49 | |     };\n+34 | /     match Ok::<i32, i32>(42) {\n+35 | |         Ok(_) => true,\n+36 | |         Err(_) => false,\n+37 | |     };\n    | |_____^ help: try this: `Ok::<i32, i32>(42).is_ok()`\n \n error: redundant pattern matching, consider using `is_err()`\n-  --> $DIR/redundant_pattern_matching.rs:51:5\n+  --> $DIR/redundant_pattern_matching.rs:39:5\n    |\n-51 | /     match Ok::<i32, i32>(42) {\n-52 | |         Ok(_) => false,\n-53 | |         Err(_) => true,\n-54 | |     };\n+39 | /     match Ok::<i32, i32>(42) {\n+40 | |         Ok(_) => false,\n+41 | |         Err(_) => true,\n+42 | |     };\n    | |_____^ help: try this: `Ok::<i32, i32>(42).is_err()`\n \n error: redundant pattern matching, consider using `is_err()`\n-  --> $DIR/redundant_pattern_matching.rs:56:5\n+  --> $DIR/redundant_pattern_matching.rs:44:5\n    |\n-56 | /     match Err::<i32, i32>(42) {\n-57 | |         Ok(_) => false,\n-58 | |         Err(_) => true,\n-59 | |     };\n+44 | /     match Err::<i32, i32>(42) {\n+45 | |         Ok(_) => false,\n+46 | |         Err(_) => true,\n+47 | |     };\n    | |_____^ help: try this: `Err::<i32, i32>(42).is_err()`\n \n error: redundant pattern matching, consider using `is_ok()`\n-  --> $DIR/redundant_pattern_matching.rs:61:5\n+  --> $DIR/redundant_pattern_matching.rs:49:5\n    |\n-61 | /     match Err::<i32, i32>(42) {\n-62 | |         Ok(_) => true,\n-63 | |         Err(_) => false,\n-64 | |     };\n+49 | /     match Err::<i32, i32>(42) {\n+50 | |         Ok(_) => true,\n+51 | |         Err(_) => false,\n+52 | |     };\n    | |_____^ help: try this: `Err::<i32, i32>(42).is_ok()`\n \n error: redundant pattern matching, consider using `is_some()`\n-  --> $DIR/redundant_pattern_matching.rs:66:5\n+  --> $DIR/redundant_pattern_matching.rs:54:5\n    |\n-66 | /     match Some(42) {\n-67 | |         Some(_) => true,\n-68 | |         None => false,\n-69 | |     };\n+54 | /     match Some(42) {\n+55 | |         Some(_) => true,\n+56 | |         None => false,\n+57 | |     };\n    | |_____^ help: try this: `Some(42).is_some()`\n \n error: redundant pattern matching, consider using `is_none()`\n-  --> $DIR/redundant_pattern_matching.rs:71:5\n+  --> $DIR/redundant_pattern_matching.rs:59:5\n    |\n-71 | /     match None::<()> {\n-72 | |         Some(_) => false,\n-73 | |         None => true,\n-74 | |     };\n+59 | /     match None::<()> {\n+60 | |         Some(_) => false,\n+61 | |         None => true,\n+62 | |     };\n    | |_____^ help: try this: `None::<()>.is_none()`\n \n error: aborting due to 10 previous errors"}, {"sha": "c09a31e2d8ab07330d82de5d00631b8ed8d7e83d", "filename": "tests/ui/reference.stderr", "status": "modified", "additions": 23, "deletions": 23, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Freference.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Freference.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Freference.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,69 +1,69 @@\n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:29:13\n+  --> $DIR/reference.rs:25:13\n    |\n-29 |     let b = *&a;\n+25 |     let b = *&a;\n    |             ^^^ help: try this: `a`\n    |\n    = note: `-D clippy::deref-addrof` implied by `-D warnings`\n \n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:31:13\n+  --> $DIR/reference.rs:27:13\n    |\n-31 |     let b = *&get_number();\n+27 |     let b = *&get_number();\n    |             ^^^^^^^^^^^^^^ help: try this: `get_number()`\n \n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:36:13\n+  --> $DIR/reference.rs:32:13\n    |\n-36 |     let b = *&bytes[1..2][0];\n+32 |     let b = *&bytes[1..2][0];\n    |             ^^^^^^^^^^^^^^^^ help: try this: `bytes[1..2][0]`\n \n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:40:13\n+  --> $DIR/reference.rs:36:13\n    |\n-40 |     let b = *&(a);\n+36 |     let b = *&(a);\n    |             ^^^^^ help: try this: `(a)`\n \n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:42:13\n+  --> $DIR/reference.rs:38:13\n    |\n-42 |     let b = *(&a);\n+38 |     let b = *(&a);\n    |             ^^^^^ help: try this: `a`\n \n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:44:13\n+  --> $DIR/reference.rs:40:13\n    |\n-44 |     let b = *((&a));\n-   |             ^^^^^^^ help: try this: `a`\n+40 |     let b = *(&a);\n+   |             ^^^^^ help: try this: `a`\n \n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:46:13\n+  --> $DIR/reference.rs:42:13\n    |\n-46 |     let b = *&&a;\n+42 |     let b = *&&a;\n    |             ^^^^ help: try this: `&a`\n \n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:48:14\n+  --> $DIR/reference.rs:44:14\n    |\n-48 |     let b = **&aref;\n+44 |     let b = **&aref;\n    |              ^^^^^^ help: try this: `aref`\n \n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:52:14\n+  --> $DIR/reference.rs:48:14\n    |\n-52 |     let b = **&&a;\n+48 |     let b = **&&a;\n    |              ^^^^ help: try this: `&a`\n \n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:56:17\n+  --> $DIR/reference.rs:52:17\n    |\n-56 |         let y = *&mut x;\n+52 |         let y = *&mut x;\n    |                 ^^^^^^^ help: try this: `x`\n \n error: immediately dereferencing a reference\n-  --> $DIR/reference.rs:63:18\n+  --> $DIR/reference.rs:59:18\n    |\n-63 |         let y = **&mut &mut x;\n+59 |         let y = **&mut &mut x;\n    |                  ^^^^^^^^^^^^ help: try this: `&mut x`\n \n error: aborting due to 11 previous errors"}, {"sha": "680cc5146e5fa5b98d48eeb43e11ac8dc72147b9", "filename": "tests/ui/regex.stderr", "status": "modified", "additions": 48, "deletions": 48, "changes": 96, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fregex.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fregex.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fregex.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,168 +1,168 @@\n error: trivial regex\n-  --> $DIR/regex.rs:26:45\n+  --> $DIR/regex.rs:22:45\n    |\n-26 |     let pipe_in_wrong_position = Regex::new(\"|\");\n+22 |     let pipe_in_wrong_position = Regex::new(\"|\");\n    |                                             ^^^\n    |\n    = note: `-D clippy::trivial-regex` implied by `-D warnings`\n    = help: the regex is unlikely to be useful as it is\n \n error: trivial regex\n-  --> $DIR/regex.rs:27:60\n+  --> $DIR/regex.rs:23:60\n    |\n-27 |     let pipe_in_wrong_position_builder = RegexBuilder::new(\"|\");\n+23 |     let pipe_in_wrong_position_builder = RegexBuilder::new(\"|\");\n    |                                                            ^^^\n    |\n    = help: the regex is unlikely to be useful as it is\n \n error: regex syntax error: invalid character class range, the start must be <= the end\n-  --> $DIR/regex.rs:28:42\n+  --> $DIR/regex.rs:24:42\n    |\n-28 |     let wrong_char_ranice = Regex::new(\"[z-a]\");\n+24 |     let wrong_char_ranice = Regex::new(\"[z-a]\");\n    |                                          ^^^\n    |\n    = note: `-D clippy::invalid-regex` implied by `-D warnings`\n \n error: regex syntax error: invalid character class range, the start must be <= the end\n-  --> $DIR/regex.rs:29:37\n+  --> $DIR/regex.rs:25:37\n    |\n-29 |     let some_unicode = Regex::new(\"[\u00e9-\u00e8]\");\n+25 |     let some_unicode = Regex::new(\"[\u00e9-\u00e8]\");\n    |                                     ^^^\n \n error: regex syntax error on position 0: unclosed group\n-  --> $DIR/regex.rs:31:33\n+  --> $DIR/regex.rs:27:33\n    |\n-31 |     let some_regex = Regex::new(OPENING_PAREN);\n+27 |     let some_regex = Regex::new(OPENING_PAREN);\n    |                                 ^^^^^^^^^^^^^\n \n error: trivial regex\n-  --> $DIR/regex.rs:33:53\n+  --> $DIR/regex.rs:29:53\n    |\n-33 |     let binary_pipe_in_wrong_position = BRegex::new(\"|\");\n+29 |     let binary_pipe_in_wrong_position = BRegex::new(\"|\");\n    |                                                     ^^^\n    |\n    = help: the regex is unlikely to be useful as it is\n \n error: regex syntax error on position 0: unclosed group\n-  --> $DIR/regex.rs:34:41\n+  --> $DIR/regex.rs:30:41\n    |\n-34 |     let some_binary_regex = BRegex::new(OPENING_PAREN);\n+30 |     let some_binary_regex = BRegex::new(OPENING_PAREN);\n    |                                         ^^^^^^^^^^^^^\n \n error: regex syntax error on position 0: unclosed group\n-  --> $DIR/regex.rs:35:56\n+  --> $DIR/regex.rs:31:56\n    |\n-35 |     let some_binary_regex_builder = BRegexBuilder::new(OPENING_PAREN);\n+31 |     let some_binary_regex_builder = BRegexBuilder::new(OPENING_PAREN);\n    |                                                        ^^^^^^^^^^^^^\n \n error: regex syntax error on position 0: unclosed group\n-  --> $DIR/regex.rs:51:9\n+  --> $DIR/regex.rs:43:37\n    |\n-51 |         OPENING_PAREN,\n-   |         ^^^^^^^^^^^^^\n+43 |     let set_error = RegexSet::new(&[OPENING_PAREN, r\"[a-z]+/.(com|org|net)\"]);\n+   |                                     ^^^^^^^^^^^^^\n \n error: regex syntax error on position 0: unclosed group\n-  --> $DIR/regex.rs:55:9\n+  --> $DIR/regex.rs:44:39\n    |\n-55 |         OPENING_PAREN,\n-   |         ^^^^^^^^^^^^^\n+44 |     let bset_error = BRegexSet::new(&[OPENING_PAREN, r\"[a-z]+/.(com|org|net)\"]);\n+   |                                       ^^^^^^^^^^^^^\n \n error: regex syntax error: unrecognized escape sequence\n-  --> $DIR/regex.rs:59:45\n+  --> $DIR/regex.rs:46:45\n    |\n-59 |     let raw_string_error = Regex::new(r\"[...//...]\");\n+46 |     let raw_string_error = Regex::new(r\"[...//...]\");\n    |                                             ^^\n \n error: regex syntax error: unrecognized escape sequence\n-  --> $DIR/regex.rs:60:46\n+  --> $DIR/regex.rs:47:46\n    |\n-60 |     let raw_string_error = Regex::new(r#\"[...//...]\"#);\n+47 |     let raw_string_error = Regex::new(r#\"[...//...]\"#);\n    |                                              ^^\n \n error: trivial regex\n-  --> $DIR/regex.rs:64:33\n+  --> $DIR/regex.rs:51:33\n    |\n-64 |     let trivial_eq = Regex::new(\"^foobar$\");\n+51 |     let trivial_eq = Regex::new(\"^foobar$\");\n    |                                 ^^^^^^^^^^\n    |\n    = help: consider using `==` on `str`s\n \n error: trivial regex\n-  --> $DIR/regex.rs:66:48\n+  --> $DIR/regex.rs:53:48\n    |\n-66 |     let trivial_eq_builder = RegexBuilder::new(\"^foobar$\");\n+53 |     let trivial_eq_builder = RegexBuilder::new(\"^foobar$\");\n    |                                                ^^^^^^^^^^\n    |\n    = help: consider using `==` on `str`s\n \n error: trivial regex\n-  --> $DIR/regex.rs:68:42\n+  --> $DIR/regex.rs:55:42\n    |\n-68 |     let trivial_starts_with = Regex::new(\"^foobar\");\n+55 |     let trivial_starts_with = Regex::new(\"^foobar\");\n    |                                          ^^^^^^^^^\n    |\n    = help: consider using `str::starts_with`\n \n error: trivial regex\n-  --> $DIR/regex.rs:70:40\n+  --> $DIR/regex.rs:57:40\n    |\n-70 |     let trivial_ends_with = Regex::new(\"foobar$\");\n+57 |     let trivial_ends_with = Regex::new(\"foobar$\");\n    |                                        ^^^^^^^^^\n    |\n    = help: consider using `str::ends_with`\n \n error: trivial regex\n-  --> $DIR/regex.rs:72:39\n+  --> $DIR/regex.rs:59:39\n    |\n-72 |     let trivial_contains = Regex::new(\"foobar\");\n+59 |     let trivial_contains = Regex::new(\"foobar\");\n    |                                       ^^^^^^^^\n    |\n    = help: consider using `str::contains`\n \n error: trivial regex\n-  --> $DIR/regex.rs:74:39\n+  --> $DIR/regex.rs:61:39\n    |\n-74 |     let trivial_contains = Regex::new(NOT_A_REAL_REGEX);\n+61 |     let trivial_contains = Regex::new(NOT_A_REAL_REGEX);\n    |                                       ^^^^^^^^^^^^^^^^\n    |\n    = help: consider using `str::contains`\n \n error: trivial regex\n-  --> $DIR/regex.rs:76:40\n+  --> $DIR/regex.rs:63:40\n    |\n-76 |     let trivial_backslash = Regex::new(\"a/.b\");\n+63 |     let trivial_backslash = Regex::new(\"a/.b\");\n    |                                        ^^^^^^^\n    |\n    = help: consider using `str::contains`\n \n error: trivial regex\n-  --> $DIR/regex.rs:79:36\n+  --> $DIR/regex.rs:66:36\n    |\n-79 |     let trivial_empty = Regex::new(\"\");\n+66 |     let trivial_empty = Regex::new(\"\");\n    |                                    ^^\n    |\n    = help: the regex is unlikely to be useful as it is\n \n error: trivial regex\n-  --> $DIR/regex.rs:81:36\n+  --> $DIR/regex.rs:68:36\n    |\n-81 |     let trivial_empty = Regex::new(\"^\");\n+68 |     let trivial_empty = Regex::new(\"^\");\n    |                                    ^^^\n    |\n    = help: the regex is unlikely to be useful as it is\n \n error: trivial regex\n-  --> $DIR/regex.rs:83:36\n+  --> $DIR/regex.rs:70:36\n    |\n-83 |     let trivial_empty = Regex::new(\"^$\");\n+70 |     let trivial_empty = Regex::new(\"^$\");\n    |                                    ^^^^\n    |\n    = help: consider using `str::is_empty`\n \n error: trivial regex\n-  --> $DIR/regex.rs:85:44\n+  --> $DIR/regex.rs:72:44\n    |\n-85 |     let binary_trivial_empty = BRegex::new(\"^$\");\n+72 |     let binary_trivial_empty = BRegex::new(\"^$\");\n    |                                            ^^^^\n    |\n    = help: consider using `str::is_empty`"}, {"sha": "401e3a527a6b4c7e1ec0ed959da821a9d1b058d4", "filename": "tests/ui/replace_consts.stderr", "status": "modified", "additions": 72, "deletions": 72, "changes": 144, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Freplace_consts.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Freplace_consts.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Freplace_consts.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,217 +1,217 @@\n error: using `ATOMIC_BOOL_INIT`\n-  --> $DIR/replace_consts.rs:23:17\n+  --> $DIR/replace_consts.rs:22:17\n    |\n-23 |     { let foo = ATOMIC_BOOL_INIT; };\n+22 |     { let foo = ATOMIC_BOOL_INIT; };\n    |                 ^^^^^^^^^^^^^^^^ help: try this: `AtomicBool::new(false)`\n    |\n note: lint level defined here\n-  --> $DIR/replace_consts.rs:13:9\n+  --> $DIR/replace_consts.rs:12:9\n    |\n-13 | #![deny(clippy::replace_consts)]\n+12 | #![deny(clippy::replace_consts)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n \n error: using `ATOMIC_ISIZE_INIT`\n-  --> $DIR/replace_consts.rs:24:17\n+  --> $DIR/replace_consts.rs:23:17\n    |\n-24 |     { let foo = ATOMIC_ISIZE_INIT; };\n+23 |     { let foo = ATOMIC_ISIZE_INIT; };\n    |                 ^^^^^^^^^^^^^^^^^ help: try this: `AtomicIsize::new(0)`\n \n error: using `ATOMIC_I8_INIT`\n-  --> $DIR/replace_consts.rs:25:17\n+  --> $DIR/replace_consts.rs:24:17\n    |\n-25 |     { let foo = ATOMIC_I8_INIT; };\n+24 |     { let foo = ATOMIC_I8_INIT; };\n    |                 ^^^^^^^^^^^^^^ help: try this: `AtomicI8::new(0)`\n \n error: using `ATOMIC_I16_INIT`\n-  --> $DIR/replace_consts.rs:26:17\n+  --> $DIR/replace_consts.rs:25:17\n    |\n-26 |     { let foo = ATOMIC_I16_INIT; };\n+25 |     { let foo = ATOMIC_I16_INIT; };\n    |                 ^^^^^^^^^^^^^^^ help: try this: `AtomicI16::new(0)`\n \n error: using `ATOMIC_I32_INIT`\n-  --> $DIR/replace_consts.rs:27:17\n+  --> $DIR/replace_consts.rs:26:17\n    |\n-27 |     { let foo = ATOMIC_I32_INIT; };\n+26 |     { let foo = ATOMIC_I32_INIT; };\n    |                 ^^^^^^^^^^^^^^^ help: try this: `AtomicI32::new(0)`\n \n error: using `ATOMIC_I64_INIT`\n-  --> $DIR/replace_consts.rs:28:17\n+  --> $DIR/replace_consts.rs:27:17\n    |\n-28 |     { let foo = ATOMIC_I64_INIT; };\n+27 |     { let foo = ATOMIC_I64_INIT; };\n    |                 ^^^^^^^^^^^^^^^ help: try this: `AtomicI64::new(0)`\n \n error: using `ATOMIC_USIZE_INIT`\n-  --> $DIR/replace_consts.rs:29:17\n+  --> $DIR/replace_consts.rs:28:17\n    |\n-29 |     { let foo = ATOMIC_USIZE_INIT; };\n+28 |     { let foo = ATOMIC_USIZE_INIT; };\n    |                 ^^^^^^^^^^^^^^^^^ help: try this: `AtomicUsize::new(0)`\n \n error: using `ATOMIC_U8_INIT`\n-  --> $DIR/replace_consts.rs:30:17\n+  --> $DIR/replace_consts.rs:29:17\n    |\n-30 |     { let foo = ATOMIC_U8_INIT; };\n+29 |     { let foo = ATOMIC_U8_INIT; };\n    |                 ^^^^^^^^^^^^^^ help: try this: `AtomicU8::new(0)`\n \n error: using `ATOMIC_U16_INIT`\n-  --> $DIR/replace_consts.rs:31:17\n+  --> $DIR/replace_consts.rs:30:17\n    |\n-31 |     { let foo = ATOMIC_U16_INIT; };\n+30 |     { let foo = ATOMIC_U16_INIT; };\n    |                 ^^^^^^^^^^^^^^^ help: try this: `AtomicU16::new(0)`\n \n error: using `ATOMIC_U32_INIT`\n-  --> $DIR/replace_consts.rs:32:17\n+  --> $DIR/replace_consts.rs:31:17\n    |\n-32 |     { let foo = ATOMIC_U32_INIT; };\n+31 |     { let foo = ATOMIC_U32_INIT; };\n    |                 ^^^^^^^^^^^^^^^ help: try this: `AtomicU32::new(0)`\n \n error: using `ATOMIC_U64_INIT`\n-  --> $DIR/replace_consts.rs:33:17\n+  --> $DIR/replace_consts.rs:32:17\n    |\n-33 |     { let foo = ATOMIC_U64_INIT; };\n+32 |     { let foo = ATOMIC_U64_INIT; };\n    |                 ^^^^^^^^^^^^^^^ help: try this: `AtomicU64::new(0)`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:35:17\n+  --> $DIR/replace_consts.rs:34:17\n    |\n-35 |     { let foo = std::isize::MIN; };\n+34 |     { let foo = std::isize::MIN; };\n    |                 ^^^^^^^^^^^^^^^ help: try this: `isize::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:36:17\n+  --> $DIR/replace_consts.rs:35:17\n    |\n-36 |     { let foo = std::i8::MIN; };\n+35 |     { let foo = std::i8::MIN; };\n    |                 ^^^^^^^^^^^^ help: try this: `i8::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:37:17\n+  --> $DIR/replace_consts.rs:36:17\n    |\n-37 |     { let foo = std::i16::MIN; };\n+36 |     { let foo = std::i16::MIN; };\n    |                 ^^^^^^^^^^^^^ help: try this: `i16::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:38:17\n+  --> $DIR/replace_consts.rs:37:17\n    |\n-38 |     { let foo = std::i32::MIN; };\n+37 |     { let foo = std::i32::MIN; };\n    |                 ^^^^^^^^^^^^^ help: try this: `i32::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:39:17\n+  --> $DIR/replace_consts.rs:38:17\n    |\n-39 |     { let foo = std::i64::MIN; };\n+38 |     { let foo = std::i64::MIN; };\n    |                 ^^^^^^^^^^^^^ help: try this: `i64::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:40:17\n+  --> $DIR/replace_consts.rs:39:17\n    |\n-40 |     { let foo = std::i128::MIN; };\n+39 |     { let foo = std::i128::MIN; };\n    |                 ^^^^^^^^^^^^^^ help: try this: `i128::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:41:17\n+  --> $DIR/replace_consts.rs:40:17\n    |\n-41 |     { let foo = std::usize::MIN; };\n+40 |     { let foo = std::usize::MIN; };\n    |                 ^^^^^^^^^^^^^^^ help: try this: `usize::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:42:17\n+  --> $DIR/replace_consts.rs:41:17\n    |\n-42 |     { let foo = std::u8::MIN; };\n+41 |     { let foo = std::u8::MIN; };\n    |                 ^^^^^^^^^^^^ help: try this: `u8::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:43:17\n+  --> $DIR/replace_consts.rs:42:17\n    |\n-43 |     { let foo = std::u16::MIN; };\n+42 |     { let foo = std::u16::MIN; };\n    |                 ^^^^^^^^^^^^^ help: try this: `u16::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:44:17\n+  --> $DIR/replace_consts.rs:43:17\n    |\n-44 |     { let foo = std::u32::MIN; };\n+43 |     { let foo = std::u32::MIN; };\n    |                 ^^^^^^^^^^^^^ help: try this: `u32::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:45:17\n+  --> $DIR/replace_consts.rs:44:17\n    |\n-45 |     { let foo = std::u64::MIN; };\n+44 |     { let foo = std::u64::MIN; };\n    |                 ^^^^^^^^^^^^^ help: try this: `u64::min_value()`\n \n error: using `MIN`\n-  --> $DIR/replace_consts.rs:46:17\n+  --> $DIR/replace_consts.rs:45:17\n    |\n-46 |     { let foo = std::u128::MIN; };\n+45 |     { let foo = std::u128::MIN; };\n    |                 ^^^^^^^^^^^^^^ help: try this: `u128::min_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:48:17\n+  --> $DIR/replace_consts.rs:47:17\n    |\n-48 |     { let foo = std::isize::MAX; };\n+47 |     { let foo = std::isize::MAX; };\n    |                 ^^^^^^^^^^^^^^^ help: try this: `isize::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:49:17\n+  --> $DIR/replace_consts.rs:48:17\n    |\n-49 |     { let foo = std::i8::MAX; };\n+48 |     { let foo = std::i8::MAX; };\n    |                 ^^^^^^^^^^^^ help: try this: `i8::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:50:17\n+  --> $DIR/replace_consts.rs:49:17\n    |\n-50 |     { let foo = std::i16::MAX; };\n+49 |     { let foo = std::i16::MAX; };\n    |                 ^^^^^^^^^^^^^ help: try this: `i16::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:51:17\n+  --> $DIR/replace_consts.rs:50:17\n    |\n-51 |     { let foo = std::i32::MAX; };\n+50 |     { let foo = std::i32::MAX; };\n    |                 ^^^^^^^^^^^^^ help: try this: `i32::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:52:17\n+  --> $DIR/replace_consts.rs:51:17\n    |\n-52 |     { let foo = std::i64::MAX; };\n+51 |     { let foo = std::i64::MAX; };\n    |                 ^^^^^^^^^^^^^ help: try this: `i64::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:53:17\n+  --> $DIR/replace_consts.rs:52:17\n    |\n-53 |     { let foo = std::i128::MAX; };\n+52 |     { let foo = std::i128::MAX; };\n    |                 ^^^^^^^^^^^^^^ help: try this: `i128::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:54:17\n+  --> $DIR/replace_consts.rs:53:17\n    |\n-54 |     { let foo = std::usize::MAX; };\n+53 |     { let foo = std::usize::MAX; };\n    |                 ^^^^^^^^^^^^^^^ help: try this: `usize::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:55:17\n+  --> $DIR/replace_consts.rs:54:17\n    |\n-55 |     { let foo = std::u8::MAX; };\n+54 |     { let foo = std::u8::MAX; };\n    |                 ^^^^^^^^^^^^ help: try this: `u8::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:56:17\n+  --> $DIR/replace_consts.rs:55:17\n    |\n-56 |     { let foo = std::u16::MAX; };\n+55 |     { let foo = std::u16::MAX; };\n    |                 ^^^^^^^^^^^^^ help: try this: `u16::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:57:17\n+  --> $DIR/replace_consts.rs:56:17\n    |\n-57 |     { let foo = std::u32::MAX; };\n+56 |     { let foo = std::u32::MAX; };\n    |                 ^^^^^^^^^^^^^ help: try this: `u32::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:58:17\n+  --> $DIR/replace_consts.rs:57:17\n    |\n-58 |     { let foo = std::u64::MAX; };\n+57 |     { let foo = std::u64::MAX; };\n    |                 ^^^^^^^^^^^^^ help: try this: `u64::max_value()`\n \n error: using `MAX`\n-  --> $DIR/replace_consts.rs:59:17\n+  --> $DIR/replace_consts.rs:58:17\n    |\n-59 |     { let foo = std::u128::MAX; };\n+58 |     { let foo = std::u128::MAX; };\n    |                 ^^^^^^^^^^^^^^ help: try this: `u128::max_value()`\n \n error: aborting due to 35 previous errors"}, {"sha": "1ef107a5000fb76d32f8be3d6593f8a1ca671f99", "filename": "tests/ui/result_map_unit_fn.stderr", "status": "modified", "additions": 153, "deletions": 93, "changes": 246, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fresult_map_unit_fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fresult_map_unit_fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fresult_map_unit_fn.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,44 +1,49 @@\n error: called `map(f)` on an Result value where `f` is a unit function\n-  --> $DIR/result_map_unit_fn.rs:45:5\n+  --> $DIR/result_map_unit_fn.rs:42:5\n    |\n-45 |     x.field.map(do_nothing);\n+42 |     x.field.map(do_nothing);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(x_field) = x.field { do_nothing(...) }`\n    |\n    = note: `-D clippy::result-map-unit-fn` implied by `-D warnings`\n \n error: called `map(f)` on an Result value where `f` is a unit function\n-  --> $DIR/result_map_unit_fn.rs:47:5\n+  --> $DIR/result_map_unit_fn.rs:44:5\n    |\n-47 |     x.field.map(do_nothing);\n+44 |     x.field.map(do_nothing);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(x_field) = x.field { do_nothing(...) }`\n \n error: called `map(f)` on an Result value where `f` is a unit function\n-  --> $DIR/result_map_unit_fn.rs:49:5\n+  --> $DIR/result_map_unit_fn.rs:46:5\n    |\n-49 |     x.field.map(diverge);\n+46 |     x.field.map(diverge);\n    |     ^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(x_field) = x.field { diverge(...) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:55:5\n+  --> $DIR/result_map_unit_fn.rs:54:5\n    |\n-55 |     x.field.map(|value| x.do_result_nothing(value + captured));\n+54 |     x.field.map(|value| x.do_result_nothing(value + captured));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { x.do_result_nothing(value + captured) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:57:5\n+  --> $DIR/result_map_unit_fn.rs:56:5\n    |\n-57 |     x.field.map(|value| { x.do_result_plus_one(value + captured); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(value) = x.field { x.do_result_plus_one(value + captured); }`\n+56 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+57 | ||         x.do_result_plus_one(value + captured);\n+58 | ||     });\n+   | ||______^- help: try this: `if let Ok(value) = x.field { x.do_result_plus_one(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Result value where `f` is a unit closure\n   --> $DIR/result_map_unit_fn.rs:60:5\n@@ -51,141 +56,196 @@ error: called `map(f)` on an Result value where `f` is a unit closure\n error: called `map(f)` on an Result value where `f` is a unit closure\n   --> $DIR/result_map_unit_fn.rs:62:5\n    |\n-62 |     x.field.map(|value| { do_nothing(value + captured) });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n+62 |     x.field.map(|value| do_nothing(value + captured));\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { do_nothing(value + captured) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n   --> $DIR/result_map_unit_fn.rs:64:5\n    |\n-64 |     x.field.map(|value| { do_nothing(value + captured); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(value) = x.field { do_nothing(value + captured); }`\n+64 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+65 | ||         do_nothing(value + captured);\n+66 | ||     });\n+   | ||______^- help: try this: `if let Ok(value) = x.field { do_nothing(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:66:5\n+  --> $DIR/result_map_unit_fn.rs:68:5\n    |\n-66 |     x.field.map(|value| { { do_nothing(value + captured); } });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(value) = x.field { do_nothing(value + captured); }`\n+68 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+69 | ||         do_nothing(value + captured);\n+70 | ||     });\n+   | ||______^- help: try this: `if let Ok(value) = x.field { do_nothing(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:69:5\n+  --> $DIR/result_map_unit_fn.rs:72:5\n    |\n-69 |     x.field.map(|value| diverge(value + captured));\n+72 |     x.field.map(|value| diverge(value + captured));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { diverge(value + captured) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:71:5\n+  --> $DIR/result_map_unit_fn.rs:74:5\n    |\n-71 |     x.field.map(|value| { diverge(value + captured) });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n+74 |     x.field.map(|value| diverge(value + captured));\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n    |     |\n    |     help: try this: `if let Ok(value) = x.field { diverge(value + captured) }`\n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:73:5\n+  --> $DIR/result_map_unit_fn.rs:76:5\n    |\n-73 |     x.field.map(|value| { diverge(value + captured); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(value) = x.field { diverge(value + captured); }`\n-\n-error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:75:5\n-   |\n-75 |     x.field.map(|value| { { diverge(value + captured); } });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(value) = x.field { diverge(value + captured); }`\n+76 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+77 | ||         diverge(value + captured);\n+78 | ||     });\n+   | ||______^- help: try this: `if let Ok(value) = x.field { diverge(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Result value where `f` is a unit closure\n   --> $DIR/result_map_unit_fn.rs:80:5\n    |\n-80 |     x.field.map(|value| { let y = plus_one(value + captured); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(value) = x.field { let y = plus_one(value + captured); }`\n-\n-error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:82:5\n-   |\n-82 |     x.field.map(|value| { plus_one(value + captured); });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(value) = x.field { plus_one(value + captured); }`\n-\n-error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:84:5\n-   |\n-84 |     x.field.map(|value| { { plus_one(value + captured); } });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(value) = x.field { plus_one(value + captured); }`\n+80 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+81 | ||         diverge(value + captured);\n+82 | ||     });\n+   | ||______^- help: try this: `if let Ok(value) = x.field { diverge(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:87:5\n+  --> $DIR/result_map_unit_fn.rs:86:5\n    |\n-87 |     x.field.map(|ref value| { do_nothing(value + captured) });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(ref value) = x.field { do_nothing(value + captured) }`\n+86 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+87 | ||         let y = plus_one(value + captured);\n+88 | ||     });\n+   | ||______^- help: try this: `if let Ok(value) = x.field { let y = plus_one(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Result value where `f` is a unit closure\n   --> $DIR/result_map_unit_fn.rs:90:5\n    |\n-90 |     x.field.map(|value| { do_nothing(value); do_nothing(value) });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(value) = x.field { ... }`\n-\n-error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:92:5\n-   |\n-92 |     x.field.map(|value| if value > 0 { do_nothing(value); do_nothing(value) });\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-   |     |\n-   |     help: try this: `if let Ok(value) = x.field { ... }`\n+90 |        x.field.map(|value| {\n+   |   _____^\n+   |  |_____|\n+   | ||\n+91 | ||         plus_one(value + captured);\n+92 | ||     });\n+   | ||______^- help: try this: `if let Ok(value) = x.field { plus_one(value + captured); }`\n+   | |_______|\n+   | \n \n error: called `map(f)` on an Result value where `f` is a unit closure\n-  --> $DIR/result_map_unit_fn.rs:96:5\n+  --> $DIR/result_map_unit_fn.rs:94:5\n    |\n-96 |        x.field.map(|value| {\n+94 |        x.field.map(|value| {\n    |   _____^\n    |  |_____|\n    | ||\n-97 | ||         do_nothing(value);\n-98 | ||         do_nothing(value)\n-99 | ||     });\n-   | ||______^- help: try this: `if let Ok(value) = x.field { ... }`\n+95 | ||         plus_one(value + captured);\n+96 | ||     });\n+   | ||______^- help: try this: `if let Ok(value) = x.field { plus_one(value + captured); }`\n    | |_______|\n    | \n \n+error: called `map(f)` on an Result value where `f` is a unit closure\n+  --> $DIR/result_map_unit_fn.rs:98:5\n+   |\n+98 |     x.field.map(|ref value| do_nothing(value + captured));\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n+   |     |\n+   |     help: try this: `if let Ok(ref value) = x.field { do_nothing(value + captured) }`\n+\n error: called `map(f)` on an Result value where `f` is a unit closure\n    --> $DIR/result_map_unit_fn.rs:100:5\n     |\n-100 |     x.field.map(|value| { do_nothing(value); do_nothing(value); });\n-    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n-    |     |\n-    |     help: try this: `if let Ok(value) = x.field { ... }`\n+100 |        x.field.map(|value| {\n+    |   _____^\n+    |  |_____|\n+    | ||\n+101 | ||         do_nothing(value);\n+102 | ||         do_nothing(value)\n+103 | ||     });\n+    | ||______^- help: try this: `if let Ok(value) = x.field { ... }`\n+    | |_______|\n+    | \n+\n+error: called `map(f)` on an Result value where `f` is a unit closure\n+   --> $DIR/result_map_unit_fn.rs:105:5\n+    |\n+105 |        x.field.map(|value| {\n+    |   _____^\n+    |  |_____|\n+    | ||\n+106 | ||         if value > 0 {\n+107 | ||             do_nothing(value);\n+108 | ||             do_nothing(value)\n+109 | ||         }\n+110 | ||     });\n+    | ||______^- help: try this: `if let Ok(value) = x.field { ... }`\n+    | |_______|\n+    | \n+\n+error: called `map(f)` on an Result value where `f` is a unit closure\n+   --> $DIR/result_map_unit_fn.rs:114:5\n+    |\n+114 |        x.field.map(|value| {\n+    |   _____^\n+    |  |_____|\n+    | ||\n+115 | ||         do_nothing(value);\n+116 | ||         do_nothing(value)\n+117 | ||     });\n+    | ||______^- help: try this: `if let Ok(value) = x.field { ... }`\n+    | |_______|\n+    | \n+\n+error: called `map(f)` on an Result value where `f` is a unit closure\n+   --> $DIR/result_map_unit_fn.rs:118:5\n+    |\n+118 |        x.field.map(|value| {\n+    |   _____^\n+    |  |_____|\n+    | ||\n+119 | ||         do_nothing(value);\n+120 | ||         do_nothing(value);\n+121 | ||     });\n+    | ||______^- help: try this: `if let Ok(value) = x.field { ... }`\n+    | |_______|\n+    | \n \n error: called `map(f)` on an Result value where `f` is a unit function\n-   --> $DIR/result_map_unit_fn.rs:104:5\n+   --> $DIR/result_map_unit_fn.rs:126:5\n     |\n-104 |     \"12\".parse::<i32>().map(diverge);\n+126 |     \"12\".parse::<i32>().map(diverge);\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n     |     |\n     |     help: try this: `if let Ok(_) = \"12\".parse::<i32>() { diverge(...) }`\n \n error: called `map(f)` on an Result value where `f` is a unit function\n-   --> $DIR/result_map_unit_fn.rs:110:5\n+   --> $DIR/result_map_unit_fn.rs:132:5\n     |\n-110 |     y.map(do_nothing);\n+132 |     y.map(do_nothing);\n     |     ^^^^^^^^^^^^^^^^^-\n     |     |\n     |     help: try this: `if let Ok(_y) = y { do_nothing(...) }`"}, {"sha": "23f10f69435ae9000c546a74e195616e03539920", "filename": "tests/ui/serde.stderr", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fserde.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fserde.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fserde.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,8 +1,9 @@\n error: you should not implement `visit_string` without also implementing `visit_str`\n-  --> $DIR/serde.rs:49:5\n+  --> $DIR/serde.rs:48:5\n    |\n-49 | /     fn visit_string<E>(self, _v: String) -> Result<Self::Value, E>\n-50 | |         where E: serde::de::Error,\n+48 | /     fn visit_string<E>(self, _v: String) -> Result<Self::Value, E>\n+49 | |     where\n+50 | |         E: serde::de::Error,\n 51 | |     {\n 52 | |         unimplemented!()\n 53 | |     }"}, {"sha": "196f17ac65393e57c1bb68bf07d5a8612f28a5e6", "filename": "tests/ui/shadow.stderr", "status": "modified", "additions": 46, "deletions": 46, "changes": 92, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fshadow.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fshadow.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fshadow.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,137 +1,137 @@\n error: `x` is shadowed by itself in `&mut x`\n-  --> $DIR/shadow.rs:23:5\n+  --> $DIR/shadow.rs:29:5\n    |\n-23 |     let x = &mut x;\n+29 |     let x = &mut x;\n    |     ^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::shadow-same` implied by `-D warnings`\n note: previous binding is here\n-  --> $DIR/shadow.rs:22:13\n+  --> $DIR/shadow.rs:28:13\n    |\n-22 |     let mut x = 1;\n+28 |     let mut x = 1;\n    |             ^\n \n error: `x` is shadowed by itself in `{ x }`\n-  --> $DIR/shadow.rs:24:5\n+  --> $DIR/shadow.rs:30:5\n    |\n-24 |     let x = { x };\n+30 |     let x = { x };\n    |     ^^^^^^^^^^^^^^\n    |\n note: previous binding is here\n-  --> $DIR/shadow.rs:23:9\n+  --> $DIR/shadow.rs:29:9\n    |\n-23 |     let x = &mut x;\n+29 |     let x = &mut x;\n    |         ^\n \n error: `x` is shadowed by itself in `(&*x)`\n-  --> $DIR/shadow.rs:25:5\n+  --> $DIR/shadow.rs:31:5\n    |\n-25 |     let x = (&*x);\n+31 |     let x = (&*x);\n    |     ^^^^^^^^^^^^^^\n    |\n note: previous binding is here\n-  --> $DIR/shadow.rs:24:9\n+  --> $DIR/shadow.rs:30:9\n    |\n-24 |     let x = { x };\n+30 |     let x = { x };\n    |         ^\n \n error: `x` is shadowed by `{ *x + 1 }` which reuses the original value\n-  --> $DIR/shadow.rs:26:9\n+  --> $DIR/shadow.rs:32:9\n    |\n-26 |     let x = { *x + 1 };\n+32 |     let x = { *x + 1 };\n    |         ^\n    |\n    = note: `-D clippy::shadow-reuse` implied by `-D warnings`\n note: initialization happens here\n-  --> $DIR/shadow.rs:26:13\n+  --> $DIR/shadow.rs:32:13\n    |\n-26 |     let x = { *x + 1 };\n+32 |     let x = { *x + 1 };\n    |             ^^^^^^^^^^\n note: previous binding is here\n-  --> $DIR/shadow.rs:25:9\n+  --> $DIR/shadow.rs:31:9\n    |\n-25 |     let x = (&*x);\n+31 |     let x = (&*x);\n    |         ^\n \n error: `x` is shadowed by `id(x)` which reuses the original value\n-  --> $DIR/shadow.rs:27:9\n+  --> $DIR/shadow.rs:33:9\n    |\n-27 |     let x = id(x);\n+33 |     let x = id(x);\n    |         ^\n    |\n note: initialization happens here\n-  --> $DIR/shadow.rs:27:13\n+  --> $DIR/shadow.rs:33:13\n    |\n-27 |     let x = id(x);\n+33 |     let x = id(x);\n    |             ^^^^^\n note: previous binding is here\n-  --> $DIR/shadow.rs:26:9\n+  --> $DIR/shadow.rs:32:9\n    |\n-26 |     let x = { *x + 1 };\n+32 |     let x = { *x + 1 };\n    |         ^\n \n error: `x` is shadowed by `(1, x)` which reuses the original value\n-  --> $DIR/shadow.rs:28:9\n+  --> $DIR/shadow.rs:34:9\n    |\n-28 |     let x = (1, x);\n+34 |     let x = (1, x);\n    |         ^\n    |\n note: initialization happens here\n-  --> $DIR/shadow.rs:28:13\n+  --> $DIR/shadow.rs:34:13\n    |\n-28 |     let x = (1, x);\n+34 |     let x = (1, x);\n    |             ^^^^^^\n note: previous binding is here\n-  --> $DIR/shadow.rs:27:9\n+  --> $DIR/shadow.rs:33:9\n    |\n-27 |     let x = id(x);\n+33 |     let x = id(x);\n    |         ^\n \n error: `x` is shadowed by `first(x)` which reuses the original value\n-  --> $DIR/shadow.rs:29:9\n+  --> $DIR/shadow.rs:35:9\n    |\n-29 |     let x = first(x);\n+35 |     let x = first(x);\n    |         ^\n    |\n note: initialization happens here\n-  --> $DIR/shadow.rs:29:13\n+  --> $DIR/shadow.rs:35:13\n    |\n-29 |     let x = first(x);\n+35 |     let x = first(x);\n    |             ^^^^^^^^\n note: previous binding is here\n-  --> $DIR/shadow.rs:28:9\n+  --> $DIR/shadow.rs:34:9\n    |\n-28 |     let x = (1, x);\n+34 |     let x = (1, x);\n    |         ^\n \n error: `x` is shadowed by `y`\n-  --> $DIR/shadow.rs:31:9\n+  --> $DIR/shadow.rs:37:9\n    |\n-31 |     let x = y;\n+37 |     let x = y;\n    |         ^\n    |\n    = note: `-D clippy::shadow-unrelated` implied by `-D warnings`\n note: initialization happens here\n-  --> $DIR/shadow.rs:31:13\n+  --> $DIR/shadow.rs:37:13\n    |\n-31 |     let x = y;\n+37 |     let x = y;\n    |             ^\n note: previous binding is here\n-  --> $DIR/shadow.rs:29:9\n+  --> $DIR/shadow.rs:35:9\n    |\n-29 |     let x = first(x);\n+35 |     let x = first(x);\n    |         ^\n \n error: `x` shadows a previous declaration\n-  --> $DIR/shadow.rs:33:5\n+  --> $DIR/shadow.rs:39:5\n    |\n-33 |     let x;\n+39 |     let x;\n    |     ^^^^^^\n    |\n note: previous binding is here\n-  --> $DIR/shadow.rs:31:9\n+  --> $DIR/shadow.rs:37:9\n    |\n-31 |     let x = y;\n+37 |     let x = y;\n    |         ^\n \n error: aborting due to 9 previous errors"}, {"sha": "7b5c843d0720726d79a15d2b6463099ee76213ad", "filename": "tests/ui/short_circuit_statement.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fshort_circuit_statement.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fshort_circuit_statement.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fshort_circuit_statement.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,21 +1,21 @@\n error: boolean short circuit operator in statement may be clearer using an explicit test\n-  --> $DIR/short_circuit_statement.rs:17:5\n+  --> $DIR/short_circuit_statement.rs:13:5\n    |\n-17 |     f() && g();\n+13 |     f() && g();\n    |     ^^^^^^^^^^^ help: replace it with: `if f() { g(); }`\n    |\n    = note: `-D clippy::short-circuit-statement` implied by `-D warnings`\n \n error: boolean short circuit operator in statement may be clearer using an explicit test\n-  --> $DIR/short_circuit_statement.rs:18:5\n+  --> $DIR/short_circuit_statement.rs:14:5\n    |\n-18 |     f() || g();\n+14 |     f() || g();\n    |     ^^^^^^^^^^^ help: replace it with: `if !f() { g(); }`\n \n error: boolean short circuit operator in statement may be clearer using an explicit test\n-  --> $DIR/short_circuit_statement.rs:19:5\n+  --> $DIR/short_circuit_statement.rs:15:5\n    |\n-19 |     1 == 2 || g();\n+15 |     1 == 2 || g();\n    |     ^^^^^^^^^^^^^^ help: replace it with: `if !(1 == 2) { g(); }`\n \n error: aborting due to 3 previous errors"}, {"sha": "273bf77964011e01faa7d273c2c198b1de89cfbc", "filename": "tests/ui/single_char_pattern.stderr", "status": "modified", "additions": 40, "deletions": 40, "changes": 80, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fsingle_char_pattern.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fsingle_char_pattern.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsingle_char_pattern.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,123 +1,123 @@\n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:17:13\n+  --> $DIR/single_char_pattern.rs:14:13\n    |\n-17 |     x.split(\"x\");\n+14 |     x.split(\"x\");\n    |             ^^^ help: try using a char instead: `'x'`\n    |\n    = note: `-D clippy::single-char-pattern` implied by `-D warnings`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:34:16\n+  --> $DIR/single_char_pattern.rs:31:16\n    |\n-34 |     x.contains(\"x\");\n+31 |     x.contains(\"x\");\n    |                ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:35:19\n+  --> $DIR/single_char_pattern.rs:32:19\n    |\n-35 |     x.starts_with(\"x\");\n+32 |     x.starts_with(\"x\");\n    |                   ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:36:17\n+  --> $DIR/single_char_pattern.rs:33:17\n    |\n-36 |     x.ends_with(\"x\");\n+33 |     x.ends_with(\"x\");\n    |                 ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:37:12\n+  --> $DIR/single_char_pattern.rs:34:12\n    |\n-37 |     x.find(\"x\");\n+34 |     x.find(\"x\");\n    |            ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:38:13\n+  --> $DIR/single_char_pattern.rs:35:13\n    |\n-38 |     x.rfind(\"x\");\n+35 |     x.rfind(\"x\");\n    |             ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:39:14\n+  --> $DIR/single_char_pattern.rs:36:14\n    |\n-39 |     x.rsplit(\"x\");\n+36 |     x.rsplit(\"x\");\n    |              ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:40:24\n+  --> $DIR/single_char_pattern.rs:37:24\n    |\n-40 |     x.split_terminator(\"x\");\n+37 |     x.split_terminator(\"x\");\n    |                        ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:41:25\n+  --> $DIR/single_char_pattern.rs:38:25\n    |\n-41 |     x.rsplit_terminator(\"x\");\n+38 |     x.rsplit_terminator(\"x\");\n    |                         ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:42:17\n+  --> $DIR/single_char_pattern.rs:39:17\n    |\n-42 |     x.splitn(0, \"x\");\n+39 |     x.splitn(0, \"x\");\n    |                 ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:43:18\n+  --> $DIR/single_char_pattern.rs:40:18\n    |\n-43 |     x.rsplitn(0, \"x\");\n+40 |     x.rsplitn(0, \"x\");\n    |                  ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:44:15\n+  --> $DIR/single_char_pattern.rs:41:15\n    |\n-44 |     x.matches(\"x\");\n+41 |     x.matches(\"x\");\n    |               ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:45:16\n+  --> $DIR/single_char_pattern.rs:42:16\n    |\n-45 |     x.rmatches(\"x\");\n+42 |     x.rmatches(\"x\");\n    |                ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:46:21\n+  --> $DIR/single_char_pattern.rs:43:21\n    |\n-46 |     x.match_indices(\"x\");\n+43 |     x.match_indices(\"x\");\n    |                     ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:47:22\n+  --> $DIR/single_char_pattern.rs:44:22\n    |\n-47 |     x.rmatch_indices(\"x\");\n+44 |     x.rmatch_indices(\"x\");\n    |                      ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:48:25\n+  --> $DIR/single_char_pattern.rs:45:25\n    |\n-48 |     x.trim_left_matches(\"x\");\n+45 |     x.trim_left_matches(\"x\");\n    |                         ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:49:26\n+  --> $DIR/single_char_pattern.rs:46:26\n    |\n-49 |     x.trim_right_matches(\"x\");\n+46 |     x.trim_right_matches(\"x\");\n    |                          ^^^ help: try using a char instead: `'x'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:51:13\n+  --> $DIR/single_char_pattern.rs:48:13\n    |\n-51 |     x.split(\"/n\");\n+48 |     x.split(\"/n\");\n    |             ^^^^ help: try using a char instead: `'/n'`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:56:31\n+  --> $DIR/single_char_pattern.rs:53:31\n    |\n-56 |     x.replace(\";\", \",\").split(\",\"); // issue #2978\n+53 |     x.replace(\";\", \",\").split(\",\"); // issue #2978\n    |                               ^^^ help: try using a char instead: `','`\n \n error: single-character string constant used as pattern\n-  --> $DIR/single_char_pattern.rs:57:19\n+  --> $DIR/single_char_pattern.rs:54:19\n    |\n-57 |     x.starts_with(\"/x03\"); // issue #2996\n+54 |     x.starts_with(\"/x03\"); // issue #2996\n    |                   ^^^^^^ help: try using a char instead: `'/x03'`\n \n error: aborting due to 20 previous errors"}, {"sha": "45fcbce00475317d0ce54fe97d3b5e17faf070ac", "filename": "tests/ui/single_match.stderr", "status": "modified", "additions": 43, "deletions": 35, "changes": 78, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fsingle_match.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fsingle_match.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsingle_match.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,60 +1,68 @@\n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n-  --> $DIR/single_match.rs:21:5\n+  --> $DIR/single_match.rs:17:5\n    |\n-21 | /     match x {\n-22 | |         Some(y) => { println!(\"{:?}\", y); }\n-23 | |         _ => ()\n-24 | |     };\n-   | |_____^ help: try this: `if let Some(y) = x { println!(\"{:?}\", y); }`\n+17 | /     match x {\n+18 | |         Some(y) => {\n+19 | |             println!(\"{:?}\", y);\n+20 | |         },\n+21 | |         _ => (),\n+22 | |     };\n+   | |_____^\n    |\n    = note: `-D clippy::single-match` implied by `-D warnings`\n+help: try this\n+   |\n+17 |     if let Some(y) = x {\n+18 |     println!(\"{:?}\", y);\n+19 | };\n+   |\n \n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n-  --> $DIR/single_match.rs:27:5\n-   |\n-27 | /     match x {\n-28 | |         // Note the missing block braces.\n-29 | |         // We suggest `if let Some(y) = x { .. }` because the macro\n-30 | |         // is expanded before we can do anything.\n-31 | |         Some(y) => println!(\"{:?}\", y),\n-32 | |         _ => ()\n-33 | |     }\n+  --> $DIR/single_match.rs:25:5\n+   |\n+25 | /     match x {\n+26 | |         // Note the missing block braces.\n+27 | |         // We suggest `if let Some(y) = x { .. }` because the macro\n+28 | |         // is expanded before we can do anything.\n+29 | |         Some(y) => println!(\"{:?}\", y),\n+30 | |         _ => (),\n+31 | |     }\n    | |_____^ help: try this: `if let Some(y) = x { println!(\"{:?}\", y) }`\n \n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n-  --> $DIR/single_match.rs:36:5\n+  --> $DIR/single_match.rs:34:5\n    |\n-36 | /     match z {\n-37 | |         (2...3, 7...9) => dummy(),\n-38 | |         _ => {}\n-39 | |     };\n+34 | /     match z {\n+35 | |         (2...3, 7...9) => dummy(),\n+36 | |         _ => {},\n+37 | |     };\n    | |_____^ help: try this: `if let (2...3, 7...9) = z { dummy() }`\n \n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n-  --> $DIR/single_match.rs:62:5\n+  --> $DIR/single_match.rs:63:5\n    |\n-62 | /     match x {\n-63 | |         Some(y) => dummy(),\n-64 | |         None => ()\n-65 | |     };\n+63 | /     match x {\n+64 | |         Some(y) => dummy(),\n+65 | |         None => (),\n+66 | |     };\n    | |_____^ help: try this: `if let Some(y) = x { dummy() }`\n \n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n-  --> $DIR/single_match.rs:67:5\n+  --> $DIR/single_match.rs:68:5\n    |\n-67 | /     match y {\n-68 | |         Ok(y) => dummy(),\n-69 | |         Err(..) => ()\n-70 | |     };\n+68 | /     match y {\n+69 | |         Ok(y) => dummy(),\n+70 | |         Err(..) => (),\n+71 | |     };\n    | |_____^ help: try this: `if let Ok(y) = y { dummy() }`\n \n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n-  --> $DIR/single_match.rs:74:5\n+  --> $DIR/single_match.rs:75:5\n    |\n-74 | /     match c {\n-75 | |         Cow::Borrowed(..) => dummy(),\n-76 | |         Cow::Owned(..) => (),\n-77 | |     };\n+75 | /     match c {\n+76 | |         Cow::Borrowed(..) => dummy(),\n+77 | |         Cow::Owned(..) => (),\n+78 | |     };\n    | |_____^ help: try this: `if let Cow::Borrowed(..) = c { dummy() }`\n \n error: aborting due to 6 previous errors"}, {"sha": "6ae9dd1a818d629a9cd1f01bc819cb6b649858d6", "filename": "tests/ui/single_match_else.stderr", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fsingle_match_else.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fsingle_match_else.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsingle_match_else.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -3,11 +3,21 @@ error: you seem to be trying to use match for destructuring a single pattern. Co\n    |\n 21 | /     match ExprNode::Butterflies {\n 22 | |         ExprNode::ExprAddrOf => Some(&NODE),\n-23 | |         _ => { let x = 5; None },\n-24 | |     }\n-   | |_____^ help: try this: `if let ExprNode::ExprAddrOf = ExprNode::Butterflies { Some(&NODE) } else { let x = 5; None }`\n+23 | |         _ => {\n+24 | |             let x = 5;\n+25 | |             None\n+26 | |         },\n+27 | |     }\n+   | |_____^\n    |\n    = note: `-D clippy::single-match-else` implied by `-D warnings`\n+help: try this\n+   |\n+21 |     if let ExprNode::ExprAddrOf = ExprNode::Butterflies { Some(&NODE) } else {\n+22 |     let x = 5;\n+23 |     None\n+24 | }\n+   |\n \n error: aborting due to previous error\n "}, {"sha": "0b1b7c020d9d9cc78f96d02c55bd55ba16dc9f38", "filename": "tests/ui/starts_ends_with.stderr", "status": "modified", "additions": 23, "deletions": 23, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fstarts_ends_with.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fstarts_ends_with.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fstarts_ends_with.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,77 +1,77 @@\n error: you should use the `starts_with` method\n-  --> $DIR/starts_ends_with.rs:19:5\n+  --> $DIR/starts_ends_with.rs:16:5\n    |\n-19 |     \"\".chars().next() == Some(' ');\n+16 |     \"\".chars().next() == Some(' ');\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `\"\".starts_with(' ')`\n    |\n    = note: `-D clippy::chars-next-cmp` implied by `-D warnings`\n \n error: you should use the `starts_with` method\n-  --> $DIR/starts_ends_with.rs:20:5\n+  --> $DIR/starts_ends_with.rs:17:5\n    |\n-20 |     Some(' ') != \"\".chars().next();\n+17 |     Some(' ') != \"\".chars().next();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `!\"\".starts_with(' ')`\n \n error: you should use the `starts_with` method\n-  --> $DIR/starts_ends_with.rs:25:8\n+  --> $DIR/starts_ends_with.rs:22:8\n    |\n-25 |     if s.chars().next().unwrap() == 'f' { // s.starts_with('f')\n+22 |     if s.chars().next().unwrap() == 'f' {\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `s.starts_with('f')`\n \n error: you should use the `ends_with` method\n-  --> $DIR/starts_ends_with.rs:28:8\n+  --> $DIR/starts_ends_with.rs:26:8\n    |\n-28 |     if s.chars().next_back().unwrap() == 'o' { // s.ends_with('o')\n+26 |     if s.chars().next_back().unwrap() == 'o' {\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `s.ends_with('o')`\n    |\n    = note: `-D clippy::chars-last-cmp` implied by `-D warnings`\n \n error: you should use the `ends_with` method\n-  --> $DIR/starts_ends_with.rs:31:8\n+  --> $DIR/starts_ends_with.rs:30:8\n    |\n-31 |     if s.chars().last().unwrap() == 'o' { // s.ends_with('o')\n+30 |     if s.chars().last().unwrap() == 'o' {\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `s.ends_with('o')`\n \n error: you should use the `starts_with` method\n   --> $DIR/starts_ends_with.rs:34:8\n    |\n-34 |     if s.chars().next().unwrap() != 'f' { // !s.starts_with('f')\n+34 |     if s.chars().next().unwrap() != 'f' {\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `!s.starts_with('f')`\n \n error: you should use the `ends_with` method\n-  --> $DIR/starts_ends_with.rs:37:8\n+  --> $DIR/starts_ends_with.rs:38:8\n    |\n-37 |     if s.chars().next_back().unwrap() != 'o' { // !s.ends_with('o')\n+38 |     if s.chars().next_back().unwrap() != 'o' {\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `!s.ends_with('o')`\n \n error: you should use the `ends_with` method\n-  --> $DIR/starts_ends_with.rs:40:8\n+  --> $DIR/starts_ends_with.rs:42:8\n    |\n-40 |     if s.chars().last().unwrap() != 'o' { // !s.ends_with('o')\n+42 |     if s.chars().last().unwrap() != 'o' {\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `!s.ends_with('o')`\n \n error: you should use the `ends_with` method\n-  --> $DIR/starts_ends_with.rs:47:5\n+  --> $DIR/starts_ends_with.rs:50:5\n    |\n-47 |     \"\".chars().last() == Some(' ');\n+50 |     \"\".chars().last() == Some(' ');\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `\"\".ends_with(' ')`\n \n error: you should use the `ends_with` method\n-  --> $DIR/starts_ends_with.rs:48:5\n+  --> $DIR/starts_ends_with.rs:51:5\n    |\n-48 |     Some(' ') != \"\".chars().last();\n+51 |     Some(' ') != \"\".chars().last();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `!\"\".ends_with(' ')`\n \n error: you should use the `ends_with` method\n-  --> $DIR/starts_ends_with.rs:49:5\n+  --> $DIR/starts_ends_with.rs:52:5\n    |\n-49 |     \"\".chars().next_back() == Some(' ');\n+52 |     \"\".chars().next_back() == Some(' ');\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `\"\".ends_with(' ')`\n \n error: you should use the `ends_with` method\n-  --> $DIR/starts_ends_with.rs:50:5\n+  --> $DIR/starts_ends_with.rs:53:5\n    |\n-50 |     Some(' ') != \"\".chars().next_back();\n+53 |     Some(' ') != \"\".chars().next_back();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: like this: `!\"\".ends_with(' ')`\n \n error: aborting due to 12 previous errors"}, {"sha": "36af80b8665459514b9d0eefae0bd2a68f41cfd7", "filename": "tests/ui/string_extend.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fstring_extend.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fstring_extend.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fstring_extend.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,21 +1,21 @@\n error: calling `.extend(_.chars())`\n-  --> $DIR/string_extend.rs:26:5\n+  --> $DIR/string_extend.rs:25:5\n    |\n-26 |     s.extend(abc.chars());\n+25 |     s.extend(abc.chars());\n    |     ^^^^^^^^^^^^^^^^^^^^^ help: try this: `s.push_str(abc)`\n    |\n    = note: `-D clippy::string-extend-chars` implied by `-D warnings`\n \n error: calling `.extend(_.chars())`\n-  --> $DIR/string_extend.rs:29:5\n+  --> $DIR/string_extend.rs:28:5\n    |\n-29 |     s.extend(\"abc\".chars());\n+28 |     s.extend(\"abc\".chars());\n    |     ^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `s.push_str(\"abc\")`\n \n error: calling `.extend(_.chars())`\n-  --> $DIR/string_extend.rs:32:5\n+  --> $DIR/string_extend.rs:31:5\n    |\n-32 |     s.extend(def.chars());\n+31 |     s.extend(def.chars());\n    |     ^^^^^^^^^^^^^^^^^^^^^ help: try this: `s.push_str(&def)`\n \n error: aborting due to 3 previous errors"}, {"sha": "fe491d29b781ece689a3bf7a617c91d22028fbd3", "filename": "tests/ui/strings.stderr", "status": "modified", "additions": 22, "deletions": 22, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fstrings.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fstrings.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fstrings.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,75 +1,75 @@\n error: manual implementation of an assign operation\n-  --> $DIR/strings.rs:20:9\n+  --> $DIR/strings.rs:17:9\n    |\n-20 |         x = x + \".\";\n+17 |         x = x + \".\";\n    |         ^^^^^^^^^^^ help: replace it with: `x += \".\"`\n    |\n    = note: `-D clippy::assign-op-pattern` implied by `-D warnings`\n \n error: you added something to a string. Consider using `String::push_str()` instead\n-  --> $DIR/strings.rs:20:13\n+  --> $DIR/strings.rs:17:13\n    |\n-20 |         x = x + \".\";\n+17 |         x = x + \".\";\n    |             ^^^^^^^\n    |\n    = note: `-D clippy::string-add` implied by `-D warnings`\n \n error: you added something to a string. Consider using `String::push_str()` instead\n-  --> $DIR/strings.rs:24:13\n+  --> $DIR/strings.rs:21:13\n    |\n-24 |     let z = y + \"...\";\n+21 |     let z = y + \"...\";\n    |             ^^^^^^^^^\n \n error: you assigned the result of adding something to this string. Consider using `String::push_str()` instead\n-  --> $DIR/strings.rs:34:9\n+  --> $DIR/strings.rs:31:9\n    |\n-34 |         x = x + \".\";\n+31 |         x = x + \".\";\n    |         ^^^^^^^^^^^\n    |\n    = note: `-D clippy::string-add-assign` implied by `-D warnings`\n \n error: manual implementation of an assign operation\n-  --> $DIR/strings.rs:34:9\n+  --> $DIR/strings.rs:31:9\n    |\n-34 |         x = x + \".\";\n+31 |         x = x + \".\";\n    |         ^^^^^^^^^^^ help: replace it with: `x += \".\"`\n \n error: you assigned the result of adding something to this string. Consider using `String::push_str()` instead\n-  --> $DIR/strings.rs:48:9\n+  --> $DIR/strings.rs:45:9\n    |\n-48 |         x = x + \".\";\n+45 |         x = x + \".\";\n    |         ^^^^^^^^^^^\n \n error: manual implementation of an assign operation\n-  --> $DIR/strings.rs:48:9\n+  --> $DIR/strings.rs:45:9\n    |\n-48 |         x = x + \".\";\n+45 |         x = x + \".\";\n    |         ^^^^^^^^^^^ help: replace it with: `x += \".\"`\n \n error: you added something to a string. Consider using `String::push_str()` instead\n-  --> $DIR/strings.rs:52:13\n+  --> $DIR/strings.rs:49:13\n    |\n-52 |     let z = y + \"...\";\n+49 |     let z = y + \"...\";\n    |             ^^^^^^^^^\n \n error: calling `as_bytes()` on a string literal\n-  --> $DIR/strings.rs:60:14\n+  --> $DIR/strings.rs:57:14\n    |\n-60 |     let bs = \"hello there\".as_bytes();\n+57 |     let bs = \"hello there\".as_bytes();\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using a byte string literal instead: `b\"hello there\"`\n    |\n    = note: `-D clippy::string-lit-as-bytes` implied by `-D warnings`\n \n error: calling `as_bytes()` on a string literal\n-  --> $DIR/strings.rs:62:14\n+  --> $DIR/strings.rs:59:14\n    |\n-62 |     let bs = r###\"raw string with three ### in it and some \" \"\"###.as_bytes();\n+59 |     let bs = r###\"raw string with three ### in it and some \" \"\"###.as_bytes();\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using a byte string literal instead: `br###\"raw string with three ### in it and some \" \"\"###`\n \n error: calling `as_bytes()` on `include_str!(..)`\n-  --> $DIR/strings.rs:69:22\n+  --> $DIR/strings.rs:66:22\n    |\n-69 |     let includestr = include_str!(\"entry.rs\").as_bytes();\n+66 |     let includestr = include_str!(\"entry.rs\").as_bytes();\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using `include_bytes!(..)` instead: `include_bytes!(\"entry.rs\")`\n \n error: aborting due to 11 previous errors"}, {"sha": "8c2d1d432813331374a8bfbc5761250969b8f439", "filename": "tests/ui/stutter.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fstutter.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fstutter.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fstutter.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: item name starts with its containing module's name\n-  --> $DIR/stutter.rs:18:5\n+  --> $DIR/stutter.rs:15:5\n    |\n-18 |     pub fn foo_bar() {}\n+15 |     pub fn foo_bar() {}\n    |     ^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::stutter` implied by `-D warnings`\n \n error: item name ends with its containing module's name\n-  --> $DIR/stutter.rs:19:5\n+  --> $DIR/stutter.rs:16:5\n    |\n-19 |     pub fn bar_foo() {}\n+16 |     pub fn bar_foo() {}\n    |     ^^^^^^^^^^^^^^^^^^^\n \n error: item name starts with its containing module's name\n-  --> $DIR/stutter.rs:20:5\n+  --> $DIR/stutter.rs:17:5\n    |\n-20 |     pub struct FooCake {}\n+17 |     pub struct FooCake {}\n    |     ^^^^^^^^^^^^^^^^^^^^^\n \n error: item name ends with its containing module's name\n-  --> $DIR/stutter.rs:21:5\n+  --> $DIR/stutter.rs:18:5\n    |\n-21 |     pub enum CakeFoo {}\n+18 |     pub enum CakeFoo {}\n    |     ^^^^^^^^^^^^^^^^^^^\n \n error: item name starts with its containing module's name\n-  --> $DIR/stutter.rs:22:5\n+  --> $DIR/stutter.rs:19:5\n    |\n-22 |     pub struct Foo7Bar;\n+19 |     pub struct Foo7Bar;\n    |     ^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 5 previous errors"}, {"sha": "5e27dd1d44f467727b76e329f439dbef2a75001e", "filename": "tests/ui/suspicious_arithmetic_impl.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fsuspicious_arithmetic_impl.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fsuspicious_arithmetic_impl.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuspicious_arithmetic_impl.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: Suspicious use of binary operator in `Add` impl\n-  --> $DIR/suspicious_arithmetic_impl.rs:24:20\n+  --> $DIR/suspicious_arithmetic_impl.rs:20:20\n    |\n-24 |         Foo(self.0 - other.0)\n+20 |         Foo(self.0 - other.0)\n    |                    ^\n    |\n    = note: `-D clippy::suspicious-arithmetic-impl` implied by `-D warnings`\n \n error: Suspicious use of binary operator in `AddAssign` impl\n-  --> $DIR/suspicious_arithmetic_impl.rs:30:23\n+  --> $DIR/suspicious_arithmetic_impl.rs:26:23\n    |\n-30 |         *self = *self - other;\n+26 |         *self = *self - other;\n    |                       ^\n    |\n    = note: #[deny(clippy::suspicious_op_assign_impl)] on by default"}, {"sha": "12d012442ad18259420d7ff68208015975124b92", "filename": "tests/ui/swap.stderr", "status": "modified", "additions": 28, "deletions": 28, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fswap.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fswap.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fswap.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,66 +1,66 @@\n error: this looks like you are swapping elements of `foo` manually\n-  --> $DIR/swap.rs:21:5\n+  --> $DIR/swap.rs:17:5\n    |\n-21 | /     let temp = foo[0];\n-22 | |     foo[0] = foo[1];\n-23 | |     foo[1] = temp;\n+17 | /     let temp = foo[0];\n+18 | |     foo[0] = foo[1];\n+19 | |     foo[1] = temp;\n    | |_________________^ help: try: `foo.swap(0, 1)`\n    |\n    = note: `-D clippy::manual-swap` implied by `-D warnings`\n \n error: this looks like you are swapping elements of `foo` manually\n-  --> $DIR/swap.rs:30:5\n+  --> $DIR/swap.rs:26:5\n    |\n-30 | /     let temp = foo[0];\n-31 | |     foo[0] = foo[1];\n-32 | |     foo[1] = temp;\n+26 | /     let temp = foo[0];\n+27 | |     foo[0] = foo[1];\n+28 | |     foo[1] = temp;\n    | |_________________^ help: try: `foo.swap(0, 1)`\n \n error: this looks like you are swapping elements of `foo` manually\n-  --> $DIR/swap.rs:39:5\n+  --> $DIR/swap.rs:35:5\n    |\n-39 | /     let temp = foo[0];\n-40 | |     foo[0] = foo[1];\n-41 | |     foo[1] = temp;\n+35 | /     let temp = foo[0];\n+36 | |     foo[0] = foo[1];\n+37 | |     foo[1] = temp;\n    | |_________________^ help: try: `foo.swap(0, 1)`\n \n error: this looks like you are swapping `a` and `b` manually\n-  --> $DIR/swap.rs:57:7\n+  --> $DIR/swap.rs:53:6\n    |\n-57 |       ; let t = a;\n-   |  _______^\n-58 | |     a = b;\n-59 | |     b = t;\n+53 |   ;    let t = a;\n+   |  ______^\n+54 | |     a = b;\n+55 | |     b = t;\n    | |_________^ help: try: `std::mem::swap(&mut a, &mut b)`\n    |\n    = note: or maybe you should use `std::mem::replace`?\n \n error: this looks like you are swapping `c.0` and `a` manually\n-  --> $DIR/swap.rs:66:7\n+  --> $DIR/swap.rs:62:6\n    |\n-66 |       ; let t = c.0;\n-   |  _______^\n-67 | |     c.0 = a;\n-68 | |     a = t;\n+62 |   ;    let t = c.0;\n+   |  ______^\n+63 | |     c.0 = a;\n+64 | |     a = t;\n    | |_________^ help: try: `std::mem::swap(&mut c.0, &mut a)`\n    |\n    = note: or maybe you should use `std::mem::replace`?\n \n error: this looks like you are trying to swap `a` and `b`\n-  --> $DIR/swap.rs:54:5\n+  --> $DIR/swap.rs:50:5\n    |\n-54 | /     a = b;\n-55 | |     b = a;\n+50 | /     a = b;\n+51 | |     b = a;\n    | |_________^ help: try: `std::mem::swap(&mut a, &mut b)`\n    |\n    = note: `-D clippy::almost-swapped` implied by `-D warnings`\n    = note: or maybe you should use `std::mem::replace`?\n \n error: this looks like you are trying to swap `c.0` and `a`\n-  --> $DIR/swap.rs:63:5\n+  --> $DIR/swap.rs:59:5\n    |\n-63 | /     c.0 = a;\n-64 | |     a = c.0;\n+59 | /     c.0 = a;\n+60 | |     a = c.0;\n    | |___________^ help: try: `std::mem::swap(&mut c.0, &mut a)`\n    |\n    = note: or maybe you should use `std::mem::replace`?"}, {"sha": "2807539604d1b0eb012007bc9818e360535a9985", "filename": "tests/ui/toplevel_ref_arg.stderr", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftoplevel_ref_arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftoplevel_ref_arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftoplevel_ref_arg.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,34 +1,34 @@\n error: `ref` directly on a function argument is ignored. Consider using a reference type instead.\n-  --> $DIR/toplevel_ref_arg.rs:17:15\n+  --> $DIR/toplevel_ref_arg.rs:13:15\n    |\n-17 | fn the_answer(ref mut x: u8) {\n+13 | fn the_answer(ref mut x: u8) {\n    |               ^^^^^^^^^\n    |\n    = note: `-D clippy::toplevel-ref-arg` implied by `-D warnings`\n \n error: `ref` on an entire `let` pattern is discouraged, take a reference with `&` instead\n-  --> $DIR/toplevel_ref_arg.rs:28:7\n+  --> $DIR/toplevel_ref_arg.rs:24:9\n    |\n-28 |   let ref x = 1;\n-   |   ----^^^^^----- help: try: `let x = &1;`\n+24 |     let ref x = 1;\n+   |     ----^^^^^----- help: try: `let x = &1;`\n \n error: `ref` on an entire `let` pattern is discouraged, take a reference with `&` instead\n-  --> $DIR/toplevel_ref_arg.rs:30:7\n+  --> $DIR/toplevel_ref_arg.rs:26:9\n    |\n-30 |   let ref y: (&_, u8) = (&1, 2);\n-   |   ----^^^^^--------------------- help: try: `let y: &(&_, u8) = &(&1, 2);`\n+26 |     let ref y: (&_, u8) = (&1, 2);\n+   |     ----^^^^^--------------------- help: try: `let y: &(&_, u8) = &(&1, 2);`\n \n error: `ref` on an entire `let` pattern is discouraged, take a reference with `&` instead\n-  --> $DIR/toplevel_ref_arg.rs:32:7\n+  --> $DIR/toplevel_ref_arg.rs:28:9\n    |\n-32 |   let ref z = 1 + 2;\n-   |   ----^^^^^--------- help: try: `let z = &(1 + 2);`\n+28 |     let ref z = 1 + 2;\n+   |     ----^^^^^--------- help: try: `let z = &(1 + 2);`\n \n error: `ref` on an entire `let` pattern is discouraged, take a reference with `&` instead\n-  --> $DIR/toplevel_ref_arg.rs:34:7\n+  --> $DIR/toplevel_ref_arg.rs:30:9\n    |\n-34 |   let ref mut z = 1 + 2;\n-   |   ----^^^^^^^^^--------- help: try: `let z = &mut (1 + 2);`\n+30 |     let ref mut z = 1 + 2;\n+   |     ----^^^^^^^^^--------- help: try: `let z = &mut (1 + 2);`\n \n error: aborting due to 5 previous errors\n "}, {"sha": "0bd3580a7ddedd381d1b95927e9584d472aec1e1", "filename": "tests/ui/trailing_zeros.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftrailing_zeros.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftrailing_zeros.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftrailing_zeros.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: bit mask could be simplified with a call to `trailing_zeros`\n-  --> $DIR/trailing_zeros.rs:17:31\n+  --> $DIR/trailing_zeros.rs:16:5\n    |\n-17 |     let _ = #[clippy::author] (x & 0b1111 == 0);  // suggest trailing_zeros\n-   |                               ^^^^^^^^^^^^^^^^^ help: try: `x.trailing_zeros() >= 4`\n+16 |     (x & 0b1111 == 0); // suggest trailing_zeros\n+   |     ^^^^^^^^^^^^^^^^^ help: try: `x.trailing_zeros() >= 4`\n    |\n    = note: `-D clippy::verbose-bit-mask` implied by `-D warnings`\n \n error: bit mask could be simplified with a call to `trailing_zeros`\n-  --> $DIR/trailing_zeros.rs:18:13\n+  --> $DIR/trailing_zeros.rs:17:13\n    |\n-18 |     let _ = x & 0b1_1111 == 0; // suggest trailing_zeros\n+17 |     let _ = x & 0b1_1111 == 0; // suggest trailing_zeros\n    |             ^^^^^^^^^^^^^^^^^ help: try: `x.trailing_zeros() >= 5`\n \n error: aborting due to 2 previous errors"}, {"sha": "6e4fe32a4a6f2f57c117d86c721021538120e2a9", "filename": "tests/ui/transmute.stderr", "status": "modified", "additions": 79, "deletions": 79, "changes": 158, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftransmute.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftransmute.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftransmute.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,245 +1,245 @@\n error: transmute from a type (`&'a T`) to itself\n-  --> $DIR/transmute.rs:32:20\n+  --> $DIR/transmute.rs:28:20\n    |\n-32 |     let _: &'a T = core::intrinsics::transmute(t);\n+28 |     let _: &'a T = core::intrinsics::transmute(t);\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::useless-transmute` implied by `-D warnings`\n \n error: transmute from a reference to a pointer\n-  --> $DIR/transmute.rs:36:23\n+  --> $DIR/transmute.rs:32:23\n    |\n-36 |     let _: *const T = core::intrinsics::transmute(t);\n+32 |     let _: *const T = core::intrinsics::transmute(t);\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `t as *const T`\n \n error: transmute from a reference to a pointer\n-  --> $DIR/transmute.rs:38:21\n+  --> $DIR/transmute.rs:34:21\n    |\n-38 |     let _: *mut T = core::intrinsics::transmute(t);\n+34 |     let _: *mut T = core::intrinsics::transmute(t);\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `t as *const T as *mut T`\n \n error: transmute from a reference to a pointer\n-  --> $DIR/transmute.rs:40:23\n+  --> $DIR/transmute.rs:36:23\n    |\n-40 |     let _: *const U = core::intrinsics::transmute(t);\n+36 |     let _: *const U = core::intrinsics::transmute(t);\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `t as *const T as *const U`\n \n error: transmute from a pointer type (`*const T`) to a reference type (`&T`)\n-  --> $DIR/transmute.rs:45:17\n+  --> $DIR/transmute.rs:41:17\n    |\n-45 |     let _: &T = std::mem::transmute(p);\n+41 |     let _: &T = std::mem::transmute(p);\n    |                 ^^^^^^^^^^^^^^^^^^^^^^ help: try: `&*p`\n    |\n    = note: `-D clippy::transmute-ptr-to-ref` implied by `-D warnings`\n \n error: transmute from a pointer type (`*mut T`) to a reference type (`&mut T`)\n-  --> $DIR/transmute.rs:48:21\n+  --> $DIR/transmute.rs:44:21\n    |\n-48 |     let _: &mut T = std::mem::transmute(m);\n+44 |     let _: &mut T = std::mem::transmute(m);\n    |                     ^^^^^^^^^^^^^^^^^^^^^^ help: try: `&mut *m`\n \n error: transmute from a pointer type (`*mut T`) to a reference type (`&T`)\n-  --> $DIR/transmute.rs:51:17\n+  --> $DIR/transmute.rs:47:17\n    |\n-51 |     let _: &T = std::mem::transmute(m);\n+47 |     let _: &T = std::mem::transmute(m);\n    |                 ^^^^^^^^^^^^^^^^^^^^^^ help: try: `&*m`\n \n error: transmute from a pointer type (`*mut T`) to a reference type (`&mut T`)\n-  --> $DIR/transmute.rs:54:21\n+  --> $DIR/transmute.rs:50:21\n    |\n-54 |     let _: &mut T = std::mem::transmute(p as *mut T);\n+50 |     let _: &mut T = std::mem::transmute(p as *mut T);\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `&mut *(p as *mut T)`\n \n error: transmute from a pointer type (`*const U`) to a reference type (`&T`)\n-  --> $DIR/transmute.rs:57:17\n+  --> $DIR/transmute.rs:53:17\n    |\n-57 |     let _: &T = std::mem::transmute(o);\n+53 |     let _: &T = std::mem::transmute(o);\n    |                 ^^^^^^^^^^^^^^^^^^^^^^ help: try: `&*(o as *const T)`\n \n error: transmute from a pointer type (`*mut U`) to a reference type (`&mut T`)\n-  --> $DIR/transmute.rs:60:21\n+  --> $DIR/transmute.rs:56:21\n    |\n-60 |     let _: &mut T = std::mem::transmute(om);\n+56 |     let _: &mut T = std::mem::transmute(om);\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `&mut *(om as *mut T)`\n \n error: transmute from a pointer type (`*mut U`) to a reference type (`&T`)\n-  --> $DIR/transmute.rs:63:17\n+  --> $DIR/transmute.rs:59:17\n    |\n-63 |     let _: &T = std::mem::transmute(om);\n+59 |     let _: &T = std::mem::transmute(om);\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `&*(om as *const T)`\n \n error: transmute from a pointer type (`*const i32`) to a reference type (`&issue1231::Foo<'_, u8>`)\n-  --> $DIR/transmute.rs:74:32\n+  --> $DIR/transmute.rs:70:32\n    |\n-74 |     let _: &Foo<u8> = unsafe { std::mem::transmute::<_, &Foo<_>>(raw) };\n+70 |     let _: &Foo<u8> = unsafe { std::mem::transmute::<_, &Foo<_>>(raw) };\n    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `&*(raw as *const Foo<_>)`\n \n error: transmute from a pointer type (`*const i32`) to a reference type (`&issue1231::Foo<'_, &u8>`)\n-  --> $DIR/transmute.rs:76:33\n+  --> $DIR/transmute.rs:72:33\n    |\n-76 |     let _: &Foo<&u8> = unsafe { std::mem::transmute::<_, &Foo<&_>>(raw) };\n+72 |     let _: &Foo<&u8> = unsafe { std::mem::transmute::<_, &Foo<&_>>(raw) };\n    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `&*(raw as *const Foo<&_>)`\n \n error: transmute from a pointer type (`*const i32`) to a reference type (`&u8`)\n-  --> $DIR/transmute.rs:80:14\n+  --> $DIR/transmute.rs:76:14\n    |\n-80 |     unsafe { std::mem::transmute::<_, Bar>(raw) };\n+76 |     unsafe { std::mem::transmute::<_, Bar>(raw) };\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `&*(raw as *const u8)`\n \n error: transmute from a type (`std::vec::Vec<i32>`) to itself\n-  --> $DIR/transmute.rs:86:27\n+  --> $DIR/transmute.rs:82:27\n    |\n-86 |         let _: Vec<i32> = core::intrinsics::transmute(my_vec());\n+82 |         let _: Vec<i32> = core::intrinsics::transmute(my_vec());\n    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: transmute from a type (`std::vec::Vec<i32>`) to itself\n-  --> $DIR/transmute.rs:88:27\n+  --> $DIR/transmute.rs:84:27\n    |\n-88 |         let _: Vec<i32> = core::mem::transmute(my_vec());\n+84 |         let _: Vec<i32> = core::mem::transmute(my_vec());\n    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: transmute from a type (`std::vec::Vec<i32>`) to itself\n-  --> $DIR/transmute.rs:90:27\n+  --> $DIR/transmute.rs:86:27\n    |\n-90 |         let _: Vec<i32> = std::intrinsics::transmute(my_vec());\n+86 |         let _: Vec<i32> = std::intrinsics::transmute(my_vec());\n    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: transmute from a type (`std::vec::Vec<i32>`) to itself\n-  --> $DIR/transmute.rs:92:27\n+  --> $DIR/transmute.rs:88:27\n    |\n-92 |         let _: Vec<i32> = std::mem::transmute(my_vec());\n+88 |         let _: Vec<i32> = std::mem::transmute(my_vec());\n    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: transmute from a type (`std::vec::Vec<i32>`) to itself\n-  --> $DIR/transmute.rs:94:27\n+  --> $DIR/transmute.rs:90:27\n    |\n-94 |         let _: Vec<i32> = my_transmute(my_vec());\n+90 |         let _: Vec<i32> = my_transmute(my_vec());\n    |                           ^^^^^^^^^^^^^^^^^^^^^^\n \n error: transmute from an integer to a pointer\n-   --> $DIR/transmute.rs:102:31\n-    |\n-102 |         let _: *const usize = std::mem::transmute(5_isize);\n-    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `5_isize as *const usize`\n+  --> $DIR/transmute.rs:98:31\n+   |\n+98 |         let _: *const usize = std::mem::transmute(5_isize);\n+   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `5_isize as *const usize`\n \n error: transmute from an integer to a pointer\n-   --> $DIR/transmute.rs:106:31\n+   --> $DIR/transmute.rs:102:31\n     |\n-106 |         let _: *const usize = std::mem::transmute(1+1usize);\n-    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `(1+1usize) as *const usize`\n+102 |         let _: *const usize = std::mem::transmute(1 + 1usize);\n+    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `(1 + 1usize) as *const usize`\n \n error: transmute from a type (`*const Usize`) to the type that it points to (`Usize`)\n-   --> $DIR/transmute.rs:121:24\n+   --> $DIR/transmute.rs:117:24\n     |\n-121 |         let _: Usize = core::intrinsics::transmute(int_const_ptr);\n+117 |         let _: Usize = core::intrinsics::transmute(int_const_ptr);\n     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n     |\n     = note: `-D clippy::crosspointer-transmute` implied by `-D warnings`\n \n error: transmute from a type (`*mut Usize`) to the type that it points to (`Usize`)\n-   --> $DIR/transmute.rs:123:24\n+   --> $DIR/transmute.rs:119:24\n     |\n-123 |         let _: Usize = core::intrinsics::transmute(int_mut_ptr);\n+119 |         let _: Usize = core::intrinsics::transmute(int_mut_ptr);\n     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: transmute from a type (`Usize`) to a pointer to that type (`*const Usize`)\n-   --> $DIR/transmute.rs:125:31\n+   --> $DIR/transmute.rs:121:31\n     |\n-125 |         let _: *const Usize = core::intrinsics::transmute(my_int());\n+121 |         let _: *const Usize = core::intrinsics::transmute(my_int());\n     |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: transmute from a type (`Usize`) to a pointer to that type (`*mut Usize`)\n-   --> $DIR/transmute.rs:127:29\n+   --> $DIR/transmute.rs:123:29\n     |\n-127 |         let _: *mut Usize = core::intrinsics::transmute(my_int());\n+123 |         let _: *mut Usize = core::intrinsics::transmute(my_int());\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: transmute from a `u32` to a `char`\n-   --> $DIR/transmute.rs:133:28\n+   --> $DIR/transmute.rs:129:28\n     |\n-133 |     let _: char = unsafe { std::mem::transmute(0_u32) };\n+129 |     let _: char = unsafe { std::mem::transmute(0_u32) };\n     |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `std::char::from_u32(0_u32).unwrap()`\n     |\n     = note: `-D clippy::transmute-int-to-char` implied by `-D warnings`\n \n error: transmute from a `i32` to a `char`\n-   --> $DIR/transmute.rs:134:28\n+   --> $DIR/transmute.rs:130:28\n     |\n-134 |     let _: char = unsafe { std::mem::transmute(0_i32) };\n+130 |     let _: char = unsafe { std::mem::transmute(0_i32) };\n     |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `std::char::from_u32(0_i32 as u32).unwrap()`\n \n error: transmute from a `u8` to a `bool`\n-   --> $DIR/transmute.rs:139:28\n+   --> $DIR/transmute.rs:135:28\n     |\n-139 |     let _: bool = unsafe { std::mem::transmute(0_u8) };\n+135 |     let _: bool = unsafe { std::mem::transmute(0_u8) };\n     |                            ^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0_u8 != 0`\n     |\n     = note: `-D clippy::transmute-int-to-bool` implied by `-D warnings`\n \n error: transmute from a `u32` to a `f32`\n-   --> $DIR/transmute.rs:144:27\n+   --> $DIR/transmute.rs:140:27\n     |\n-144 |     let _: f32 = unsafe { std::mem::transmute(0_u32) };\n+140 |     let _: f32 = unsafe { std::mem::transmute(0_u32) };\n     |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `f32::from_bits(0_u32)`\n     |\n     = note: `-D clippy::transmute-int-to-float` implied by `-D warnings`\n \n error: transmute from a `i32` to a `f32`\n-   --> $DIR/transmute.rs:145:27\n+   --> $DIR/transmute.rs:141:27\n     |\n-145 |     let _: f32 = unsafe { std::mem::transmute(0_i32) };\n+141 |     let _: f32 = unsafe { std::mem::transmute(0_i32) };\n     |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `f32::from_bits(0_i32 as u32)`\n \n error: transmute from a `&[u8]` to a `&str`\n-   --> $DIR/transmute.rs:149:28\n+   --> $DIR/transmute.rs:145:28\n     |\n-149 |     let _: &str = unsafe { std::mem::transmute(b) };\n+145 |     let _: &str = unsafe { std::mem::transmute(b) };\n     |                            ^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `std::str::from_utf8(b).unwrap()`\n     |\n     = note: `-D clippy::transmute-bytes-to-str` implied by `-D warnings`\n \n error: transmute from a `&mut [u8]` to a `&mut str`\n-   --> $DIR/transmute.rs:150:32\n+   --> $DIR/transmute.rs:146:32\n     |\n-150 |     let _: &mut str = unsafe { std::mem::transmute(mb) };\n+146 |     let _: &mut str = unsafe { std::mem::transmute(mb) };\n     |                                ^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `std::str::from_utf8_mut(mb).unwrap()`\n \n error: transmute from a pointer to a pointer\n-   --> $DIR/transmute.rs:182:29\n+   --> $DIR/transmute.rs:178:29\n     |\n-182 |         let _: *const f32 = std::mem::transmute(ptr);\n+178 |         let _: *const f32 = std::mem::transmute(ptr);\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `ptr as *const f32`\n     |\n     = note: `-D clippy::transmute-ptr-to-ptr` implied by `-D warnings`\n \n error: transmute from a pointer to a pointer\n-   --> $DIR/transmute.rs:183:27\n+   --> $DIR/transmute.rs:179:27\n     |\n-183 |         let _: *mut f32 = std::mem::transmute(mut_ptr);\n+179 |         let _: *mut f32 = std::mem::transmute(mut_ptr);\n     |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `mut_ptr as *mut f32`\n \n error: transmute from a reference to a reference\n-   --> $DIR/transmute.rs:185:23\n+   --> $DIR/transmute.rs:181:23\n     |\n-185 |         let _: &f32 = std::mem::transmute(&1u32);\n+181 |         let _: &f32 = std::mem::transmute(&1u32);\n     |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `&*(&1u32 as *const u32 as *const f32)`\n \n error: transmute from a reference to a reference\n-   --> $DIR/transmute.rs:186:23\n+   --> $DIR/transmute.rs:182:23\n     |\n-186 |         let _: &f64 = std::mem::transmute(&1f32);\n+182 |         let _: &f64 = std::mem::transmute(&1f32);\n     |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `&*(&1f32 as *const f32 as *const f64)`\n \n error: transmute from a reference to a reference\n-   --> $DIR/transmute.rs:189:27\n+   --> $DIR/transmute.rs:185:27\n     |\n-189 |         let _: &mut f32 = std::mem::transmute(&mut 1u32);\n+185 |         let _: &mut f32 = std::mem::transmute(&mut 1u32);\n     |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `&mut *(&mut 1u32 as *mut u32 as *mut f32)`\n \n error: transmute from a reference to a reference\n-   --> $DIR/transmute.rs:190:37\n+   --> $DIR/transmute.rs:186:37\n     |\n-190 |         let _: &GenericParam<f32> = std::mem::transmute(&GenericParam { t: 1u32 });\n+186 |         let _: &GenericParam<f32> = std::mem::transmute(&GenericParam { t: 1u32 });\n     |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `&*(&GenericParam { t: 1u32 } as *const GenericParam<u32> as *const GenericParam<f32>)`\n \n error: aborting due to 38 previous errors"}, {"sha": "320bbeb7d2983099cabdaa729d57645f2b54f7a2", "filename": "tests/ui/transmute_64bit.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftransmute_64bit.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftransmute_64bit.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftransmute_64bit.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: transmute from a `f64` to a pointer\n-  --> $DIR/transmute_64bit.rs:21:31\n+  --> $DIR/transmute_64bit.rs:16:31\n    |\n-21 |         let _: *const usize = std::mem::transmute(6.0f64);\n+16 |         let _: *const usize = std::mem::transmute(6.0f64);\n    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::wrong-transmute` implied by `-D warnings`\n \n error: transmute from a `f64` to a pointer\n-  --> $DIR/transmute_64bit.rs:23:29\n+  --> $DIR/transmute_64bit.rs:18:29\n    |\n-23 |         let _: *mut usize = std::mem::transmute(6.0f64);\n+18 |         let _: *mut usize = std::mem::transmute(6.0f64);\n    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 2 previous errors"}, {"sha": "41aa52ecd14ee0379e4116ddb440e181e5d52b77", "filename": "tests/ui/trivially_copy_pass_by_ref.stderr", "status": "modified", "additions": 30, "deletions": 30, "changes": 60, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftrivially_copy_pass_by_ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftrivially_copy_pass_by_ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftrivially_copy_pass_by_ref.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,93 +1,93 @@\n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:57:11\n+  --> $DIR/trivially_copy_pass_by_ref.rs:56:11\n    |\n-57 | fn bad(x: &u32, y: &Foo, z: &Baz) {\n+56 | fn bad(x: &u32, y: &Foo, z: &Baz) {}\n    |           ^^^^ help: consider passing by value instead: `u32`\n    |\n    = note: `-D clippy::trivially-copy-pass-by-ref` implied by `-D warnings`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:57:20\n+  --> $DIR/trivially_copy_pass_by_ref.rs:56:20\n    |\n-57 | fn bad(x: &u32, y: &Foo, z: &Baz) {\n+56 | fn bad(x: &u32, y: &Foo, z: &Baz) {}\n    |                    ^^^^ help: consider passing by value instead: `Foo`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:57:29\n+  --> $DIR/trivially_copy_pass_by_ref.rs:56:29\n    |\n-57 | fn bad(x: &u32, y: &Foo, z: &Baz) {\n+56 | fn bad(x: &u32, y: &Foo, z: &Baz) {}\n    |                             ^^^^ help: consider passing by value instead: `Baz`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:67:12\n+  --> $DIR/trivially_copy_pass_by_ref.rs:63:12\n    |\n-67 |     fn bad(&self, x: &u32, y: &Foo, z: &Baz) {\n+63 |     fn bad(&self, x: &u32, y: &Foo, z: &Baz) {}\n    |            ^^^^^ help: consider passing by value instead: `self`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:67:22\n+  --> $DIR/trivially_copy_pass_by_ref.rs:63:22\n    |\n-67 |     fn bad(&self, x: &u32, y: &Foo, z: &Baz) {\n+63 |     fn bad(&self, x: &u32, y: &Foo, z: &Baz) {}\n    |                      ^^^^ help: consider passing by value instead: `u32`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:67:31\n+  --> $DIR/trivially_copy_pass_by_ref.rs:63:31\n    |\n-67 |     fn bad(&self, x: &u32, y: &Foo, z: &Baz) {\n+63 |     fn bad(&self, x: &u32, y: &Foo, z: &Baz) {}\n    |                               ^^^^ help: consider passing by value instead: `Foo`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:67:40\n+  --> $DIR/trivially_copy_pass_by_ref.rs:63:40\n    |\n-67 |     fn bad(&self, x: &u32, y: &Foo, z: &Baz) {\n+63 |     fn bad(&self, x: &u32, y: &Foo, z: &Baz) {}\n    |                                        ^^^^ help: consider passing by value instead: `Baz`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:70:16\n+  --> $DIR/trivially_copy_pass_by_ref.rs:65:16\n    |\n-70 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {\n+65 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {}\n    |                ^^^^ help: consider passing by value instead: `u32`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:70:25\n+  --> $DIR/trivially_copy_pass_by_ref.rs:65:25\n    |\n-70 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {\n+65 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {}\n    |                         ^^^^ help: consider passing by value instead: `Foo`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:70:34\n+  --> $DIR/trivially_copy_pass_by_ref.rs:65:34\n    |\n-70 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {\n+65 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {}\n    |                                  ^^^^ help: consider passing by value instead: `Baz`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:84:16\n+  --> $DIR/trivially_copy_pass_by_ref.rs:77:16\n    |\n-84 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {\n+77 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {}\n    |                ^^^^ help: consider passing by value instead: `u32`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:84:25\n+  --> $DIR/trivially_copy_pass_by_ref.rs:77:25\n    |\n-84 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {\n+77 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {}\n    |                         ^^^^ help: consider passing by value instead: `Foo`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:84:34\n+  --> $DIR/trivially_copy_pass_by_ref.rs:77:34\n    |\n-84 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {\n+77 |     fn bad2(x: &u32, y: &Foo, z: &Baz) {}\n    |                                  ^^^^ help: consider passing by value instead: `Baz`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:89:34\n+  --> $DIR/trivially_copy_pass_by_ref.rs:81:34\n    |\n-89 |     fn trait_method(&self, _foo: &Foo);\n+81 |     fn trait_method(&self, _foo: &Foo);\n    |                                  ^^^^ help: consider passing by value instead: `Foo`\n \n error: this argument is passed by reference, but would be more efficient if passed by value\n-  --> $DIR/trivially_copy_pass_by_ref.rs:93:37\n+  --> $DIR/trivially_copy_pass_by_ref.rs:85:37\n    |\n-93 |     fn trait_method2(&self, _color: &Color);\n+85 |     fn trait_method2(&self, _color: &Color);\n    |                                     ^^^^^^ help: consider passing by value instead: `Color`\n \n error: aborting due to 15 previous errors"}, {"sha": "e8770490abb160eafe026768b4b00fda76659432", "filename": "tests/ui/types.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftypes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Ftypes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypes.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,8 +1,8 @@\n error: casting i32 to i64 may become silently lossy if types change\n-  --> $DIR/types.rs:19:23\n+  --> $DIR/types.rs:18:22\n    |\n-19 |     let c_i64 : i64 = c as i64;\n-   |                       ^^^^^^^^ help: try: `i64::from(c)`\n+18 |     let c_i64: i64 = c as i64;\n+   |                      ^^^^^^^^ help: try: `i64::from(c)`\n    |\n    = note: `-D clippy::cast-lossless` implied by `-D warnings`\n "}, {"sha": "e27b586637242dc2558c6c1c43643530a6b98780", "filename": "tests/ui/unicode.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funicode.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funicode.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funicode.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,27 +1,27 @@\n error: zero-width space detected\n-  --> $DIR/unicode.rs:16:12\n+  --> $DIR/unicode.rs:12:12\n    |\n-16 |     print!(\"Here >\u200b< is a ZWS, and \u200banother\");\n+12 |     print!(\"Here >\u200b< is a ZWS, and \u200banother\");\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::zero-width-space` implied by `-D warnings`\n    = help: Consider replacing the string with:\n            \"\"Here >/u{200B}< is a ZWS, and /u{200B}another\"\"\n \n error: non-nfc unicode sequence detected\n-  --> $DIR/unicode.rs:22:12\n+  --> $DIR/unicode.rs:18:12\n    |\n-22 |     print!(\"\u0300a\u0300h?\");\n+18 |     print!(\"\u0300a\u0300h?\");\n    |            ^^^^^\n    |\n    = note: `-D clippy::unicode-not-nfc` implied by `-D warnings`\n    = help: Consider replacing the string with:\n            \"\"\u0300\u00e0h?\"\"\n \n error: literal non-ASCII character detected\n-  --> $DIR/unicode.rs:28:12\n+  --> $DIR/unicode.rs:24:12\n    |\n-28 |     print!(\"\u00dcben!\");\n+24 |     print!(\"\u00dcben!\");\n    |            ^^^^^^^\n    |\n    = note: `-D clippy::non-ascii-literal` implied by `-D warnings`"}, {"sha": "ed8d4cdfd3d68f52579f3e5c1af6ba838424864a", "filename": "tests/ui/unit_arg.stderr", "status": "modified", "additions": 29, "deletions": 23, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funit_arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funit_arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funit_arg.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,67 +1,73 @@\n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:35:9\n+  --> $DIR/unit_arg.rs:32:9\n    |\n-35 |     foo({});\n+32 |     foo({});\n    |         ^^\n    |\n    = note: `-D clippy::unit-arg` implied by `-D warnings`\n help: if you intended to pass a unit value, use a unit literal instead\n    |\n-35 |     foo(());\n+32 |     foo(());\n    |         ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:36:9\n+  --> $DIR/unit_arg.rs:33:9\n    |\n-36 |     foo({ 1; });\n-   |         ^^^^^^\n+33 |       foo({\n+   |  _________^\n+34 | |         1;\n+35 | |     });\n+   | |_____^\n help: if you intended to pass a unit value, use a unit literal instead\n    |\n-36 |     foo(());\n+33 |     foo(());\n    |         ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:37:9\n+  --> $DIR/unit_arg.rs:36:9\n    |\n-37 |     foo(foo(1));\n+36 |     foo(foo(1));\n    |         ^^^^^^\n help: if you intended to pass a unit value, use a unit literal instead\n    |\n-37 |     foo(());\n+36 |     foo(());\n    |         ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:38:9\n+  --> $DIR/unit_arg.rs:37:9\n    |\n-38 |       foo({\n+37 |       foo({\n    |  _________^\n-39 | |         foo(1);\n-40 | |         foo(2);\n-41 | |     });\n+38 | |         foo(1);\n+39 | |         foo(2);\n+40 | |     });\n    | |_____^\n help: if you intended to pass a unit value, use a unit literal instead\n    |\n-38 |     foo(());\n+37 |     foo(());\n    |         ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:42:10\n+  --> $DIR/unit_arg.rs:41:10\n    |\n-42 |     foo3({}, 2, 2);\n+41 |     foo3({}, 2, 2);\n    |          ^^\n help: if you intended to pass a unit value, use a unit literal instead\n    |\n-42 |     foo3((), 2, 2);\n+41 |     foo3((), 2, 2);\n    |          ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:44:11\n+  --> $DIR/unit_arg.rs:43:11\n    |\n-44 |     b.bar({ 1; });\n-   |           ^^^^^^\n+43 |       b.bar({\n+   |  ___________^\n+44 | |         1;\n+45 | |     });\n+   | |_____^\n help: if you intended to pass a unit value, use a unit literal instead\n    |\n-44 |     b.bar(());\n+43 |     b.bar(());\n    |           ^^\n \n error: aborting due to 6 previous errors"}, {"sha": "7c76945fe3e7f8fbdc8a8713c16cc4db50f3544a", "filename": "tests/ui/unit_cmp.stderr", "status": "modified", "additions": 16, "deletions": 6, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funit_cmp.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funit_cmp.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funit_cmp.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,16 +1,26 @@\n error: ==-comparison of unit values detected. This will always be true\n-  --> $DIR/unit_cmp.rs:26:8\n+  --> $DIR/unit_cmp.rs:21:8\n    |\n-26 |     if { true; } == { false; } {\n-   |        ^^^^^^^^^^^^^^^^^^^^^^^\n+21 |       if {\n+   |  ________^\n+22 | |         true;\n+23 | |     } == {\n+24 | |         false;\n+25 | |     } {}\n+   | |_____^\n    |\n    = note: `-D clippy::unit-cmp` implied by `-D warnings`\n \n error: >-comparison of unit values detected. This will always be false\n-  --> $DIR/unit_cmp.rs:29:8\n+  --> $DIR/unit_cmp.rs:27:8\n    |\n-29 |     if { true; } > { false; } {\n-   |        ^^^^^^^^^^^^^^^^^^^^^^\n+27 |       if {\n+   |  ________^\n+28 | |         true;\n+29 | |     } > {\n+30 | |         false;\n+31 | |     } {}\n+   | |_____^\n \n error: aborting due to 2 previous errors\n "}, {"sha": "8a0bf9d55b538301bb1355d0d9df661b74416950", "filename": "tests/ui/unnecessary_clone.stderr", "status": "modified", "additions": 29, "deletions": 29, "changes": 58, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funnecessary_clone.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funnecessary_clone.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_clone.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,95 +1,95 @@\n error: using `clone` on a `Copy` type\n-  --> $DIR/unnecessary_clone.rs:29:5\n+  --> $DIR/unnecessary_clone.rs:26:5\n    |\n-29 |     42.clone();\n+26 |     42.clone();\n    |     ^^^^^^^^^^ help: try removing the `clone` call: `42`\n    |\n    = note: `-D clippy::clone-on-copy` implied by `-D warnings`\n \n error: using `clone` on a `Copy` type\n-  --> $DIR/unnecessary_clone.rs:33:5\n+  --> $DIR/unnecessary_clone.rs:30:5\n    |\n-33 |     (&42).clone();\n+30 |     (&42).clone();\n    |     ^^^^^^^^^^^^^ help: try dereferencing it: `*(&42)`\n \n error: using `clone` on a `Copy` type\n-  --> $DIR/unnecessary_clone.rs:36:5\n+  --> $DIR/unnecessary_clone.rs:33:5\n    |\n-36 |     rc.borrow().clone();\n+33 |     rc.borrow().clone();\n    |     ^^^^^^^^^^^^^^^^^^^ help: try dereferencing it: `*rc.borrow()`\n \n error: using '.clone()' on a ref-counted pointer\n-  --> $DIR/unnecessary_clone.rs:46:5\n+  --> $DIR/unnecessary_clone.rs:43:5\n    |\n-46 |     rc.clone();\n+43 |     rc.clone();\n    |     ^^^^^^^^^^ help: try this: `Rc::<bool>::clone(&rc)`\n    |\n    = note: `-D clippy::clone-on-ref-ptr` implied by `-D warnings`\n \n error: using '.clone()' on a ref-counted pointer\n-  --> $DIR/unnecessary_clone.rs:49:5\n+  --> $DIR/unnecessary_clone.rs:46:5\n    |\n-49 |     arc.clone();\n+46 |     arc.clone();\n    |     ^^^^^^^^^^^ help: try this: `Arc::<bool>::clone(&arc)`\n \n error: using '.clone()' on a ref-counted pointer\n-  --> $DIR/unnecessary_clone.rs:52:5\n+  --> $DIR/unnecessary_clone.rs:49:5\n    |\n-52 |     rcweak.clone();\n+49 |     rcweak.clone();\n    |     ^^^^^^^^^^^^^^ help: try this: `Weak::<bool>::clone(&rcweak)`\n \n error: using '.clone()' on a ref-counted pointer\n-  --> $DIR/unnecessary_clone.rs:55:5\n+  --> $DIR/unnecessary_clone.rs:52:5\n    |\n-55 |     arc_weak.clone();\n+52 |     arc_weak.clone();\n    |     ^^^^^^^^^^^^^^^^ help: try this: `Weak::<bool>::clone(&arc_weak)`\n \n error: using '.clone()' on a ref-counted pointer\n-  --> $DIR/unnecessary_clone.rs:59:29\n+  --> $DIR/unnecessary_clone.rs:56:29\n    |\n-59 |     let _: Arc<SomeTrait> = x.clone();\n+56 |     let _: Arc<SomeTrait> = x.clone();\n    |                             ^^^^^^^^^ help: try this: `Arc::<SomeImpl>::clone(&x)`\n \n error: using `clone` on a `Copy` type\n-  --> $DIR/unnecessary_clone.rs:63:5\n+  --> $DIR/unnecessary_clone.rs:60:5\n    |\n-63 |     t.clone();\n+60 |     t.clone();\n    |     ^^^^^^^^^ help: try removing the `clone` call: `t`\n \n error: using `clone` on a `Copy` type\n-  --> $DIR/unnecessary_clone.rs:65:5\n+  --> $DIR/unnecessary_clone.rs:62:5\n    |\n-65 |     Some(t).clone();\n+62 |     Some(t).clone();\n    |     ^^^^^^^^^^^^^^^ help: try removing the `clone` call: `Some(t)`\n \n error: using `clone` on a double-reference; this will copy the reference instead of cloning the inner type\n-  --> $DIR/unnecessary_clone.rs:71:22\n+  --> $DIR/unnecessary_clone.rs:68:22\n    |\n-71 |     let z: &Vec<_> = y.clone();\n+68 |     let z: &Vec<_> = y.clone();\n    |                      ^^^^^^^^^\n    |\n    = note: #[deny(clippy::clone_double_ref)] on by default\n help: try dereferencing it\n    |\n-71 |     let z: &Vec<_> = &(*y).clone();\n+68 |     let z: &Vec<_> = &(*y).clone();\n    |                      ^^^^^^^^^^^^^\n help: or try being explicit about what type to clone\n    |\n-71 |     let z: &Vec<_> = &std::vec::Vec<i32>::clone(y);\n+68 |     let z: &Vec<_> = &std::vec::Vec<i32>::clone(y);\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: called `cloned().collect()` on a slice to create a `Vec`. Calling `to_vec()` is both faster and more readable\n-  --> $DIR/unnecessary_clone.rs:78:27\n+  --> $DIR/unnecessary_clone.rs:75:26\n    |\n-78 |     let v2 : Vec<isize> = v.iter().cloned().collect();\n-   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+75 |     let v2: Vec<isize> = v.iter().cloned().collect();\n+   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::iter-cloned-collect` implied by `-D warnings`\n \n error: using `clone` on a `Copy` type\n-   --> $DIR/unnecessary_clone.rs:110:20\n+   --> $DIR/unnecessary_clone.rs:111:20\n     |\n-110 |         let _: E = a.clone();\n+111 |         let _: E = a.clone();\n     |                    ^^^^^^^^^ help: try dereferencing it: `*****a`\n \n error: aborting due to 13 previous errors"}, {"sha": "53311b3d27580e1e098e646737495646db1c6c93", "filename": "tests/ui/unnecessary_filter_map.stderr", "status": "modified", "additions": 18, "deletions": 12, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funnecessary_filter_map.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funnecessary_filter_map.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_filter_map.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,31 +1,37 @@\n error: this `.filter_map` can be written more simply using `.filter`\n-  --> $DIR/unnecessary_filter_map.rs:12:13\n+  --> $DIR/unnecessary_filter_map.rs:11:13\n    |\n-12 |     let _ = (0..4).filter_map(|x| if x > 1 { Some(x) } else { None });\n+11 |     let _ = (0..4).filter_map(|x| if x > 1 { Some(x) } else { None });\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::unnecessary-filter-map` implied by `-D warnings`\n \n error: this `.filter_map` can be written more simply using `.filter`\n-  --> $DIR/unnecessary_filter_map.rs:13:13\n+  --> $DIR/unnecessary_filter_map.rs:12:13\n    |\n-13 |     let _ = (0..4).filter_map(|x| { if x > 1 { return Some(x); }; None });\n-   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+12 |       let _ = (0..4).filter_map(|x| {\n+   |  _____________^\n+13 | |         if x > 1 {\n+14 | |             return Some(x);\n+15 | |         };\n+16 | |         None\n+17 | |     });\n+   | |______^\n \n error: this `.filter_map` can be written more simply using `.filter`\n-  --> $DIR/unnecessary_filter_map.rs:14:13\n+  --> $DIR/unnecessary_filter_map.rs:18:13\n    |\n-14 |       let _ = (0..4).filter_map(|x| match x {\n+18 |       let _ = (0..4).filter_map(|x| match x {\n    |  _____________^\n-15 | |         0 | 1 => None,\n-16 | |         _ => Some(x),\n-17 | |     });\n+19 | |         0 | 1 => None,\n+20 | |         _ => Some(x),\n+21 | |     });\n    | |______^\n \n error: this `.filter_map` can be written more simply using `.map`\n-  --> $DIR/unnecessary_filter_map.rs:19:13\n+  --> $DIR/unnecessary_filter_map.rs:23:13\n    |\n-19 |     let _ = (0..4).filter_map(|x| Some(x + 1));\n+23 |     let _ = (0..4).filter_map(|x| Some(x + 1));\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 4 previous errors"}, {"sha": "e0bd744265cc530e508f61b160b910341a881324", "filename": "tests/ui/unnecessary_fold.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funnecessary_fold.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funnecessary_fold.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_fold.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: this `.fold` can be written more succinctly using another method\n-  --> $DIR/unnecessary_fold.rs:14:19\n+  --> $DIR/unnecessary_fold.rs:13:19\n    |\n-14 |     let _ = (0..3).fold(false, |acc, x| acc || x > 2);\n+13 |     let _ = (0..3).fold(false, |acc, x| acc || x > 2);\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `.any(|x| x > 2)`\n    |\n    = note: `-D clippy::unnecessary-fold` implied by `-D warnings`\n \n error: this `.fold` can be written more succinctly using another method\n-  --> $DIR/unnecessary_fold.rs:16:19\n+  --> $DIR/unnecessary_fold.rs:15:19\n    |\n-16 |     let _ = (0..3).fold(true, |acc, x| acc && x > 2);\n+15 |     let _ = (0..3).fold(true, |acc, x| acc && x > 2);\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `.all(|x| x > 2)`\n \n error: this `.fold` can be written more succinctly using another method\n-  --> $DIR/unnecessary_fold.rs:18:19\n+  --> $DIR/unnecessary_fold.rs:17:19\n    |\n-18 |     let _ = (0..3).fold(0, |acc, x| acc + x);\n+17 |     let _ = (0..3).fold(0, |acc, x| acc + x);\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `.sum()`\n \n error: this `.fold` can be written more succinctly using another method\n-  --> $DIR/unnecessary_fold.rs:20:19\n+  --> $DIR/unnecessary_fold.rs:19:19\n    |\n-20 |     let _ = (0..3).fold(1, |acc, x| acc * x);\n+19 |     let _ = (0..3).fold(1, |acc, x| acc * x);\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `.product()`\n \n error: this `.fold` can be written more succinctly using another method\n-  --> $DIR/unnecessary_fold.rs:25:34\n+  --> $DIR/unnecessary_fold.rs:24:34\n    |\n-25 |     let _ = (0..3).map(|x| 2 * x).fold(false, |acc, x| acc || x > 2);\n+24 |     let _ = (0..3).map(|x| 2 * x).fold(false, |acc, x| acc || x > 2);\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `.any(|x| x > 2)`\n \n error: aborting due to 5 previous errors"}, {"sha": "8b576bef64860c8c50d401c8813c762a80535d16", "filename": "tests/ui/unnecessary_operation.stderr", "status": "modified", "additions": 46, "deletions": 42, "changes": 88, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funnecessary_operation.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funnecessary_operation.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_operation.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,124 +1,128 @@\n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:48:5\n+  --> $DIR/unnecessary_operation.rs:54:5\n    |\n-48 |     Tuple(get_number());\n+54 |     Tuple(get_number());\n    |     ^^^^^^^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n    |\n    = note: `-D clippy::unnecessary-operation` implied by `-D warnings`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:49:5\n+  --> $DIR/unnecessary_operation.rs:55:5\n    |\n-49 |     Struct { field: get_number() };\n+55 |     Struct { field: get_number() };\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:50:5\n+  --> $DIR/unnecessary_operation.rs:56:5\n    |\n-50 |     Struct { ..get_struct() };\n+56 |     Struct { ..get_struct() };\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `get_struct();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:51:5\n+  --> $DIR/unnecessary_operation.rs:57:5\n    |\n-51 |     Enum::Tuple(get_number());\n+57 |     Enum::Tuple(get_number());\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:52:5\n+  --> $DIR/unnecessary_operation.rs:58:5\n    |\n-52 |     Enum::Struct { field: get_number() };\n+58 |     Enum::Struct { field: get_number() };\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:53:5\n+  --> $DIR/unnecessary_operation.rs:59:5\n    |\n-53 |     5 + get_number();\n+59 |     5 + get_number();\n    |     ^^^^^^^^^^^^^^^^^ help: replace it with: `5;get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:54:5\n+  --> $DIR/unnecessary_operation.rs:60:5\n    |\n-54 |     *&get_number();\n+60 |     *&get_number();\n    |     ^^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:55:5\n+  --> $DIR/unnecessary_operation.rs:61:5\n    |\n-55 |     &get_number();\n+61 |     &get_number();\n    |     ^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:56:5\n+  --> $DIR/unnecessary_operation.rs:62:5\n    |\n-56 |     (5, 6, get_number());\n+62 |     (5, 6, get_number());\n    |     ^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `5;6;get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:57:5\n+  --> $DIR/unnecessary_operation.rs:63:5\n    |\n-57 |     box get_number();\n+63 |     box get_number();\n    |     ^^^^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:58:5\n+  --> $DIR/unnecessary_operation.rs:64:5\n    |\n-58 |     get_number()..;\n+64 |     get_number()..;\n    |     ^^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:59:5\n+  --> $DIR/unnecessary_operation.rs:65:5\n    |\n-59 |     ..get_number();\n+65 |     ..get_number();\n    |     ^^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:60:5\n+  --> $DIR/unnecessary_operation.rs:66:5\n    |\n-60 |     5..get_number();\n+66 |     5..get_number();\n    |     ^^^^^^^^^^^^^^^^ help: replace it with: `5;get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:61:5\n+  --> $DIR/unnecessary_operation.rs:67:5\n    |\n-61 |     [42, get_number()];\n+67 |     [42, get_number()];\n    |     ^^^^^^^^^^^^^^^^^^^ help: replace it with: `42;get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:62:5\n+  --> $DIR/unnecessary_operation.rs:68:5\n    |\n-62 |     [42, 55][get_number() as usize];\n+68 |     [42, 55][get_number() as usize];\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `[42, 55];get_number() as usize;`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:63:5\n+  --> $DIR/unnecessary_operation.rs:69:5\n    |\n-63 |     (42, get_number()).1;\n+69 |     (42, get_number()).1;\n    |     ^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `42;get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:64:5\n+  --> $DIR/unnecessary_operation.rs:70:5\n    |\n-64 |     [get_number(); 55];\n+70 |     [get_number(); 55];\n    |     ^^^^^^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:65:5\n+  --> $DIR/unnecessary_operation.rs:71:5\n    |\n-65 |     [42; 55][get_number() as usize];\n+71 |     [42; 55][get_number() as usize];\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `[42; 55];get_number() as usize;`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:66:5\n+  --> $DIR/unnecessary_operation.rs:72:5\n    |\n-66 |     {get_number()};\n-   |     ^^^^^^^^^^^^^^^ help: replace it with: `get_number();`\n+72 | /     {\n+73 | |         get_number()\n+74 | |     };\n+   | |______^ help: replace it with: `get_number();`\n \n error: statement can be reduced\n-  --> $DIR/unnecessary_operation.rs:67:5\n+  --> $DIR/unnecessary_operation.rs:75:5\n    |\n-67 |     FooString { s: String::from(\"blah\"), };\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `String::from(\"blah\");`\n+75 | /     FooString {\n+76 | |         s: String::from(\"blah\"),\n+77 | |     };\n+   | |______^ help: replace it with: `String::from(\"blah\");`\n \n error: aborting due to 20 previous errors\n "}, {"sha": "f048df6e39bfcff34fe1fb41d0f759c201f1d3bd", "filename": "tests/ui/unnecessary_ref.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funnecessary_ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funnecessary_ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_ref.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,13 +1,13 @@\n error: Creating a reference that is immediately dereferenced.\n-  --> $DIR/unnecessary_ref.rs:23:17\n+  --> $DIR/unnecessary_ref.rs:20:17\n    |\n-23 |     let inner = (&outer).inner;\n+20 |     let inner = (&outer).inner;\n    |                 ^^^^^^^^ help: try this: `outer.inner`\n    |\n note: lint level defined here\n-  --> $DIR/unnecessary_ref.rs:20:8\n+  --> $DIR/unnecessary_ref.rs:17:8\n    |\n-20 | #[deny(clippy::ref_in_deref)]\n+17 | #[deny(clippy::ref_in_deref)]\n    |        ^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to previous error"}, {"sha": "a1e43e493b7c0bca62cdc611a915e3f3d021d380", "filename": "tests/ui/unneeded_field_pattern.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funneeded_field_pattern.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funneeded_field_pattern.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funneeded_field_pattern.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,16 +1,16 @@\n error: You matched a field with a wildcard pattern. Consider using `..` instead\n-  --> $DIR/unneeded_field_pattern.rs:27:15\n+  --> $DIR/unneeded_field_pattern.rs:23:15\n    |\n-27 |         Foo { a: _, b: 0, .. } => {}\n+23 |         Foo { a: _, b: 0, .. } => {},\n    |               ^^^^\n    |\n    = note: `-D clippy::unneeded-field-pattern` implied by `-D warnings`\n    = help: Try with `Foo { b: 0, .. }`\n \n error: All the struct fields are matched to a wildcard pattern, consider using `..`.\n-  --> $DIR/unneeded_field_pattern.rs:29:9\n+  --> $DIR/unneeded_field_pattern.rs:25:9\n    |\n-29 |         Foo { a: _, b: _, c: _ } => {}\n+25 |         Foo { a: _, b: _, c: _ } => {},\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: Try with `Foo { .. }` instead"}, {"sha": "83372a2a5a7c76070addad3e398870720dad7434", "filename": "tests/ui/unreadable_literal.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funreadable_literal.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funreadable_literal.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funreadable_literal.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: long literal lacking separators\n-  --> $DIR/unreadable_literal.rs:17:16\n+  --> $DIR/unreadable_literal.rs:24:16\n    |\n-17 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n+24 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n    |                ^^^^^^^^^^^^ help: consider: `0b11_0110_i64`\n    |\n    = note: `-D clippy::unreadable-literal` implied by `-D warnings`\n \n error: long literal lacking separators\n-  --> $DIR/unreadable_literal.rs:17:30\n+  --> $DIR/unreadable_literal.rs:24:30\n    |\n-17 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n+24 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n    |                              ^^^^^^^^^^^^^^^^^^^ help: consider: `0x0123_4567_8901_usize`\n \n error: long literal lacking separators\n-  --> $DIR/unreadable_literal.rs:17:51\n+  --> $DIR/unreadable_literal.rs:24:51\n    |\n-17 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n+24 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n    |                                                   ^^^^^^^^^^ help: consider: `123_456_f32`\n \n error: long literal lacking separators\n-  --> $DIR/unreadable_literal.rs:17:63\n+  --> $DIR/unreadable_literal.rs:24:63\n    |\n-17 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n+24 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n    |                                                               ^^^^^^^^^^^^ help: consider: `1.234_567_f32`\n \n error: long literal lacking separators\n-  --> $DIR/unreadable_literal.rs:19:19\n+  --> $DIR/unreadable_literal.rs:26:19\n    |\n-19 |     let bad_sci = 1.123456e1;\n+26 |     let bad_sci = 1.123456e1;\n    |                   ^^^^^^^^^^ help: consider: `1.123_456e1`\n \n error: aborting due to 5 previous errors"}, {"sha": "3b28520897883cfaa740ab740d4599bdb4c3a84d", "filename": "tests/ui/unsafe_removed_from_name.stderr", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funsafe_removed_from_name.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funsafe_removed_from_name.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funsafe_removed_from_name.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,21 +1,21 @@\n error: removed \"unsafe\" from the name of `UnsafeCell` in use as `TotallySafeCell`\n-  --> $DIR/unsafe_removed_from_name.rs:17:1\n+  --> $DIR/unsafe_removed_from_name.rs:14:1\n    |\n-17 | use std::cell::{UnsafeCell as TotallySafeCell};\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+14 | use std::cell::UnsafeCell as TotallySafeCell;\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::unsafe-removed-from-name` implied by `-D warnings`\n \n error: removed \"unsafe\" from the name of `UnsafeCell` in use as `TotallySafeCellAgain`\n-  --> $DIR/unsafe_removed_from_name.rs:19:1\n+  --> $DIR/unsafe_removed_from_name.rs:16:1\n    |\n-19 | use std::cell::UnsafeCell as TotallySafeCellAgain;\n+16 | use std::cell::UnsafeCell as TotallySafeCellAgain;\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: removed \"unsafe\" from the name of `Unsafe` in use as `LieAboutModSafety`\n-  --> $DIR/unsafe_removed_from_name.rs:33:1\n+  --> $DIR/unsafe_removed_from_name.rs:30:1\n    |\n-33 | use mod_with_some_unsafe_things::Unsafe as LieAboutModSafety;\n+30 | use mod_with_some_unsafe_things::Unsafe as LieAboutModSafety;\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 3 previous errors"}, {"sha": "f7b9b3615020020612cca6fa7b18b1cd236c416b", "filename": "tests/ui/unused_io_amount.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funused_io_amount.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funused_io_amount.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funused_io_amount.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,42 +1,42 @@\n error: handle written amount returned or use `Write::write_all` instead\n-  --> $DIR/unused_io_amount.rs:21:5\n+  --> $DIR/unused_io_amount.rs:17:5\n    |\n-21 |     try!(s.write(b\"test\"));\n+17 |     try!(s.write(b\"test\"));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::unused-io-amount` implied by `-D warnings`\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: handle read amount returned or use `Read::read_exact` instead\n-  --> $DIR/unused_io_amount.rs:23:5\n+  --> $DIR/unused_io_amount.rs:19:5\n    |\n-23 |     try!(s.read(&mut buf));\n+19 |     try!(s.read(&mut buf));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: handle written amount returned or use `Write::write_all` instead\n-  --> $DIR/unused_io_amount.rs:28:5\n+  --> $DIR/unused_io_amount.rs:24:5\n    |\n-28 |     s.write(b\"test\")?;\n+24 |     s.write(b\"test\")?;\n    |     ^^^^^^^^^^^^^^^^^\n \n error: handle read amount returned or use `Read::read_exact` instead\n-  --> $DIR/unused_io_amount.rs:30:5\n+  --> $DIR/unused_io_amount.rs:26:5\n    |\n-30 |     s.read(&mut buf)?;\n+26 |     s.read(&mut buf)?;\n    |     ^^^^^^^^^^^^^^^^^\n \n error: handle written amount returned or use `Write::write_all` instead\n-  --> $DIR/unused_io_amount.rs:35:5\n+  --> $DIR/unused_io_amount.rs:31:5\n    |\n-35 |     s.write(b\"test\").unwrap();\n+31 |     s.write(b\"test\").unwrap();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: handle read amount returned or use `Read::read_exact` instead\n-  --> $DIR/unused_io_amount.rs:37:5\n+  --> $DIR/unused_io_amount.rs:33:5\n    |\n-37 |     s.read(&mut buf).unwrap();\n+33 |     s.read(&mut buf).unwrap();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 6 previous errors"}, {"sha": "cbade54c157376e9798c5db2045cc9310c9d10bc", "filename": "tests/ui/unused_labels.stderr", "status": "modified", "additions": 15, "deletions": 11, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funused_labels.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funused_labels.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funused_labels.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,25 +1,29 @@\n error: unused label `'label`\n-  --> $DIR/unused_labels.rs:18:5\n+  --> $DIR/unused_labels.rs:14:5\n    |\n-18 | /     'label: for i in 1..2 {\n-19 | |         if i > 4 { continue }\n-20 | |     }\n+14 | /     'label: for i in 1..2 {\n+15 | |         if i > 4 {\n+16 | |             continue;\n+17 | |         }\n+18 | |     }\n    | |_____^\n    |\n    = note: `-D clippy::unused-label` implied by `-D warnings`\n \n error: unused label `'a`\n-  --> $DIR/unused_labels.rs:31:5\n+  --> $DIR/unused_labels.rs:28:5\n    |\n-31 |     'a: loop { break }\n-   |     ^^^^^^^^^^^^^^^^^^\n+28 | /     'a: loop {\n+29 | |         break;\n+30 | |     }\n+   | |_____^\n \n error: unused label `'same_label_in_two_fns`\n-  --> $DIR/unused_labels.rs:42:5\n+  --> $DIR/unused_labels.rs:41:5\n    |\n-42 | /     'same_label_in_two_fns: loop {\n-43 | |         let _ = 1;\n-44 | |     }\n+41 | /     'same_label_in_two_fns: loop {\n+42 | |         let _ = 1;\n+43 | |     }\n    | |_____^\n \n error: aborting due to 3 previous errors"}, {"sha": "e590cfc91aa9311ce0923e2baddb7e6141407399", "filename": "tests/ui/unused_lt.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funused_lt.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funused_lt.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funused_lt.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,21 +1,21 @@\n error: this lifetime isn't used in the function definition\n-  --> $DIR/unused_lt.rs:26:14\n+  --> $DIR/unused_lt.rs:23:14\n    |\n-26 | fn unused_lt<'a>(x: u8) {\n+23 | fn unused_lt<'a>(x: u8) {}\n    |              ^^\n    |\n    = note: `-D clippy::extra-unused-lifetimes` implied by `-D warnings`\n \n error: this lifetime isn't used in the function definition\n-  --> $DIR/unused_lt.rs:30:25\n+  --> $DIR/unused_lt.rs:25:25\n    |\n-30 | fn unused_lt_transitive<'a, 'b: 'a>(x: &'b u8) {\n+25 | fn unused_lt_transitive<'a, 'b: 'a>(x: &'b u8) {\n    |                         ^^\n \n error: this lifetime isn't used in the function definition\n-  --> $DIR/unused_lt.rs:60:10\n+  --> $DIR/unused_lt.rs:50:10\n    |\n-60 |     fn x<'a>(&self) {}\n+50 |     fn x<'a>(&self) {}\n    |          ^^\n \n error: aborting due to 3 previous errors"}, {"sha": "2432b7970f63ae0625e15adf06e2480ee3d054b2", "filename": "tests/ui/unwrap_or.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funwrap_or.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Funwrap_or.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funwrap_or.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,16 +1,16 @@\n error: use of `unwrap_or` followed by a function call\n-  --> $DIR/unwrap_or.rs:15:47\n+  --> $DIR/unwrap_or.rs:13:47\n    |\n-15 |     let s = Some(String::from(\"test string\")).unwrap_or(\"Fail\".to_string()).len();\n+13 |     let s = Some(String::from(\"test string\")).unwrap_or(\"Fail\".to_string()).len();\n    |                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(|| \"Fail\".to_string())`\n    |\n    = note: `-D clippy::or-fun-call` implied by `-D warnings`\n \n error: use of `unwrap_or` followed by a function call\n-  --> $DIR/unwrap_or.rs:20:10\n+  --> $DIR/unwrap_or.rs:17:47\n    |\n-20 |         .unwrap_or(\"Fail\".to_string())\n-   |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(|| \"Fail\".to_string())`\n+17 |     let s = Some(String::from(\"test string\")).unwrap_or(\"Fail\".to_string()).len();\n+   |                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(|| \"Fail\".to_string())`\n \n error: aborting due to 2 previous errors\n "}, {"sha": "0904db2e9421b9a32faecea3f69415f584148caf", "filename": "tests/ui/use_self.stderr", "status": "modified", "additions": 29, "deletions": 29, "changes": 58, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fuse_self.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fuse_self.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fuse_self.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,39 +1,39 @@\n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:23:21\n+  --> $DIR/use_self.rs:20:21\n    |\n-23 |         fn new() -> Foo {\n+20 |         fn new() -> Foo {\n    |                     ^^^ help: use the applicable keyword: `Self`\n    |\n    = note: `-D clippy::use-self` implied by `-D warnings`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:24:13\n+  --> $DIR/use_self.rs:21:13\n    |\n-24 |             Foo {}\n+21 |             Foo {}\n    |             ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:26:22\n+  --> $DIR/use_self.rs:23:22\n    |\n-26 |         fn test() -> Foo {\n+23 |         fn test() -> Foo {\n    |                      ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:27:13\n+  --> $DIR/use_self.rs:24:13\n    |\n-27 |             Foo::new()\n+24 |             Foo::new()\n    |             ^^^^^^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:32:25\n+  --> $DIR/use_self.rs:29:25\n    |\n-32 |         fn default() -> Foo {\n+29 |         fn default() -> Foo {\n    |                         ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:33:13\n+  --> $DIR/use_self.rs:30:13\n    |\n-33 |             Foo::new()\n+30 |             Foo::new()\n    |             ^^^^^^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n@@ -75,56 +75,56 @@ error: unnecessary structure name repetition\n error: unnecessary structure name repetition\n    --> $DIR/use_self.rs:108:28\n     |\n-108 |         fn nested(_p1: Box<Bad>, _p2: (&u8, &Bad)) {\n+108 |         fn nested(_p1: Box<Bad>, _p2: (&u8, &Bad)) {}\n     |                            ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n    --> $DIR/use_self.rs:108:46\n     |\n-108 |         fn nested(_p1: Box<Bad>, _p2: (&u8, &Bad)) {\n+108 |         fn nested(_p1: Box<Bad>, _p2: (&u8, &Bad)) {}\n     |                                              ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-   --> $DIR/use_self.rs:111:20\n+   --> $DIR/use_self.rs:110:20\n     |\n-111 |         fn vals(_: Bad) -> Bad {\n+110 |         fn vals(_: Bad) -> Bad {\n     |                    ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-   --> $DIR/use_self.rs:111:28\n+   --> $DIR/use_self.rs:110:28\n     |\n-111 |         fn vals(_: Bad) -> Bad {\n+110 |         fn vals(_: Bad) -> Bad {\n     |                            ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-   --> $DIR/use_self.rs:112:13\n+   --> $DIR/use_self.rs:111:13\n     |\n-112 |             Bad::default()\n+111 |             Bad::default()\n     |             ^^^^^^^^^^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-   --> $DIR/use_self.rs:117:23\n+   --> $DIR/use_self.rs:116:23\n     |\n-117 |         type Output = Bad;\n+116 |         type Output = Bad;\n     |                       ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-   --> $DIR/use_self.rs:119:27\n+   --> $DIR/use_self.rs:118:27\n     |\n-119 |         fn mul(self, rhs: Bad) -> Bad {\n+118 |         fn mul(self, rhs: Bad) -> Bad {\n     |                           ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-   --> $DIR/use_self.rs:119:35\n+   --> $DIR/use_self.rs:118:35\n     |\n-119 |         fn mul(self, rhs: Bad) -> Bad {\n+118 |         fn mul(self, rhs: Bad) -> Bad {\n     |                                   ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-   --> $DIR/use_self.rs:213:54\n+   --> $DIR/use_self.rs:210:56\n     |\n-213 |         fn bad(foos: &[Self]) -> impl Iterator<Item=&Foo> {\n-    |                                                      ^^^ help: use the applicable keyword: `Self`\n+210 |         fn bad(foos: &[Self]) -> impl Iterator<Item = &Foo> {\n+    |                                                        ^^^ help: use the applicable keyword: `Self`\n \n error: aborting due to 21 previous errors\n "}, {"sha": "c844a8cd75b3039492d0696cb8302898f83ba7c7", "filename": "tests/ui/used_underscore_binding.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fused_underscore_binding.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fused_underscore_binding.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fused_underscore_binding.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,33 +1,33 @@\n error: used binding `_foo` which is prefixed with an underscore. A leading underscore signals that a binding will not be used.\n-  --> $DIR/used_underscore_binding.rs:27:5\n+  --> $DIR/used_underscore_binding.rs:23:5\n    |\n-27 |     _foo + 1\n+23 |     _foo + 1\n    |     ^^^^\n    |\n    = note: `-D clippy::used-underscore-binding` implied by `-D warnings`\n \n error: used binding `_foo` which is prefixed with an underscore. A leading underscore signals that a binding will not be used.\n-  --> $DIR/used_underscore_binding.rs:32:20\n+  --> $DIR/used_underscore_binding.rs:28:20\n    |\n-32 |     println!(\"{}\", _foo);\n+28 |     println!(\"{}\", _foo);\n    |                    ^^^^\n \n error: used binding `_foo` which is prefixed with an underscore. A leading underscore signals that a binding will not be used.\n-  --> $DIR/used_underscore_binding.rs:33:16\n+  --> $DIR/used_underscore_binding.rs:29:16\n    |\n-33 |     assert_eq!(_foo, _foo);\n+29 |     assert_eq!(_foo, _foo);\n    |                ^^^^\n \n error: used binding `_foo` which is prefixed with an underscore. A leading underscore signals that a binding will not be used.\n-  --> $DIR/used_underscore_binding.rs:33:22\n+  --> $DIR/used_underscore_binding.rs:29:22\n    |\n-33 |     assert_eq!(_foo, _foo);\n+29 |     assert_eq!(_foo, _foo);\n    |                      ^^^^\n \n error: used binding `_underscore_field` which is prefixed with an underscore. A leading underscore signals that a binding will not be used.\n-  --> $DIR/used_underscore_binding.rs:46:5\n+  --> $DIR/used_underscore_binding.rs:42:5\n    |\n-46 |     s._underscore_field += 1;\n+42 |     s._underscore_field += 1;\n    |     ^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 5 previous errors"}, {"sha": "397ec7108d4dc6a646591d8100f77d66b685afc5", "filename": "tests/ui/useless_asref.stderr", "status": "modified", "additions": 24, "deletions": 24, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fuseless_asref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fuseless_asref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fuseless_asref.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,73 +1,73 @@\n error: this call to `as_ref` does nothing\n-  --> $DIR/useless_asref.rs:43:18\n+  --> $DIR/useless_asref.rs:50:18\n    |\n-43 |         foo_rstr(rstr.as_ref());\n+50 |         foo_rstr(rstr.as_ref());\n    |                  ^^^^^^^^^^^^^ help: try this: `rstr`\n    |\n note: lint level defined here\n-  --> $DIR/useless_asref.rs:13:9\n+  --> $DIR/useless_asref.rs:10:9\n    |\n-13 | #![deny(clippy::useless_asref)]\n+10 | #![deny(clippy::useless_asref)]\n    |         ^^^^^^^^^^^^^^^^^^^^^\n \n error: this call to `as_ref` does nothing\n-  --> $DIR/useless_asref.rs:45:20\n+  --> $DIR/useless_asref.rs:52:20\n    |\n-45 |         foo_rslice(rslice.as_ref());\n+52 |         foo_rslice(rslice.as_ref());\n    |                    ^^^^^^^^^^^^^^^ help: try this: `rslice`\n \n error: this call to `as_mut` does nothing\n-  --> $DIR/useless_asref.rs:49:21\n+  --> $DIR/useless_asref.rs:56:21\n    |\n-49 |         foo_mrslice(mrslice.as_mut());\n+56 |         foo_mrslice(mrslice.as_mut());\n    |                     ^^^^^^^^^^^^^^^^ help: try this: `mrslice`\n \n error: this call to `as_ref` does nothing\n-  --> $DIR/useless_asref.rs:51:20\n+  --> $DIR/useless_asref.rs:58:20\n    |\n-51 |         foo_rslice(mrslice.as_ref());\n+58 |         foo_rslice(mrslice.as_ref());\n    |                    ^^^^^^^^^^^^^^^^ help: try this: `mrslice`\n \n error: this call to `as_ref` does nothing\n-  --> $DIR/useless_asref.rs:58:20\n+  --> $DIR/useless_asref.rs:65:20\n    |\n-58 |         foo_rslice(rrrrrslice.as_ref());\n+65 |         foo_rslice(rrrrrslice.as_ref());\n    |                    ^^^^^^^^^^^^^^^^^^^ help: try this: `rrrrrslice`\n \n error: this call to `as_ref` does nothing\n-  --> $DIR/useless_asref.rs:60:18\n+  --> $DIR/useless_asref.rs:67:18\n    |\n-60 |         foo_rstr(rrrrrstr.as_ref());\n+67 |         foo_rstr(rrrrrstr.as_ref());\n    |                  ^^^^^^^^^^^^^^^^^ help: try this: `rrrrrstr`\n \n error: this call to `as_mut` does nothing\n-  --> $DIR/useless_asref.rs:65:21\n+  --> $DIR/useless_asref.rs:72:21\n    |\n-65 |         foo_mrslice(mrrrrrslice.as_mut());\n+72 |         foo_mrslice(mrrrrrslice.as_mut());\n    |                     ^^^^^^^^^^^^^^^^^^^^ help: try this: `mrrrrrslice`\n \n error: this call to `as_ref` does nothing\n-  --> $DIR/useless_asref.rs:67:20\n+  --> $DIR/useless_asref.rs:74:20\n    |\n-67 |         foo_rslice(mrrrrrslice.as_ref());\n+74 |         foo_rslice(mrrrrrslice.as_ref());\n    |                    ^^^^^^^^^^^^^^^^^^^^ help: try this: `mrrrrrslice`\n \n error: this call to `as_ref` does nothing\n-  --> $DIR/useless_asref.rs:70:16\n+  --> $DIR/useless_asref.rs:77:16\n    |\n-70 |     foo_rrrrmr((&&&&MoreRef).as_ref());\n+77 |     foo_rrrrmr((&&&&MoreRef).as_ref());\n    |                ^^^^^^^^^^^^^^^^^^^^^^ help: try this: `(&&&&MoreRef)`\n \n error: this call to `as_mut` does nothing\n-   --> $DIR/useless_asref.rs:116:13\n+   --> $DIR/useless_asref.rs:127:13\n     |\n-116 |     foo_mrt(mrt.as_mut());\n+127 |     foo_mrt(mrt.as_mut());\n     |             ^^^^^^^^^^^^ help: try this: `mrt`\n \n error: this call to `as_ref` does nothing\n-   --> $DIR/useless_asref.rs:118:12\n+   --> $DIR/useless_asref.rs:129:12\n     |\n-118 |     foo_rt(mrt.as_ref());\n+129 |     foo_rt(mrt.as_ref());\n     |            ^^^^^^^^^^^^ help: try this: `mrt`\n \n error: aborting due to 11 previous errors"}, {"sha": "54d18fbf2e13a728818814aa1a9da0d23843fd9d", "filename": "tests/ui/useless_attribute.stderr", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fuseless_attribute.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fuseless_attribute.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fuseless_attribute.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,16 +1,22 @@\n error: useless lint attribute\n-  --> $DIR/useless_attribute.rs:15:1\n+  --> $DIR/useless_attribute.rs:12:1\n    |\n-15 | #[allow(dead_code)]\n+12 | #[allow(dead_code)]\n    | ^^^^^^^^^^^^^^^^^^^ help: if you just forgot a `!`, use: `#![allow(dead_code)]`\n    |\n    = note: `-D clippy::useless-attribute` implied by `-D warnings`\n \n error: useless lint attribute\n-  --> $DIR/useless_attribute.rs:16:1\n+  --> $DIR/useless_attribute.rs:13:1\n    |\n-16 | #[cfg_attr(feature = \"cargo-clippy\", allow(dead_code))]\n+13 | #[cfg_attr(feature = \"cargo-clippy\", allow(dead_code))]\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: if you just forgot a `!`, use: `#![cfg_attr(feature = \"cargo-clippy\", allow(dead_code)`\n \n-error: aborting due to 2 previous errors\n+error: useless lint attribute\n+  --> $DIR/useless_attribute.rs:14:1\n+   |\n+14 | #[cfg_attr(feature = \"cargo-clippy\", allow(dead_code))]\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: if you just forgot a `!`, use: `#![cfg_attr(feature = \"cargo-clippy\", allow(dead_code)`\n+\n+error: aborting due to 3 previous errors\n "}, {"sha": "94e9bcdd2a720091a4c7938582df391ad882d0bb", "filename": "tests/ui/vec.stderr", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fvec.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fvec.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvec.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,39 +1,39 @@\n error: useless use of `vec!`\n-  --> $DIR/vec.rs:34:14\n+  --> $DIR/vec.rs:30:14\n    |\n-34 |     on_slice(&vec![]);\n+30 |     on_slice(&vec![]);\n    |              ^^^^^^^ help: you can use a slice directly: `&[]`\n    |\n    = note: `-D clippy::useless-vec` implied by `-D warnings`\n \n error: useless use of `vec!`\n-  --> $DIR/vec.rs:37:14\n+  --> $DIR/vec.rs:33:14\n    |\n-37 |     on_slice(&vec![1, 2]);\n+33 |     on_slice(&vec![1, 2]);\n    |              ^^^^^^^^^^^ help: you can use a slice directly: `&[1, 2]`\n \n error: useless use of `vec!`\n-  --> $DIR/vec.rs:40:14\n+  --> $DIR/vec.rs:36:14\n    |\n-40 |     on_slice(&vec ![1, 2]);\n-   |              ^^^^^^^^^^^^ help: you can use a slice directly: `&[1, 2]`\n+36 |     on_slice(&vec![1, 2]);\n+   |              ^^^^^^^^^^^ help: you can use a slice directly: `&[1, 2]`\n \n error: useless use of `vec!`\n-  --> $DIR/vec.rs:43:14\n+  --> $DIR/vec.rs:39:14\n    |\n-43 |     on_slice(&vec!(1, 2));\n+39 |     on_slice(&vec![1, 2]);\n    |              ^^^^^^^^^^^ help: you can use a slice directly: `&[1, 2]`\n \n error: useless use of `vec!`\n-  --> $DIR/vec.rs:46:14\n+  --> $DIR/vec.rs:42:14\n    |\n-46 |     on_slice(&vec![1; 2]);\n+42 |     on_slice(&vec![1; 2]);\n    |              ^^^^^^^^^^^ help: you can use a slice directly: `&[1; 2]`\n \n error: useless use of `vec!`\n-  --> $DIR/vec.rs:59:14\n+  --> $DIR/vec.rs:55:14\n    |\n-59 |     for a in vec![1, 2, 3] {\n+55 |     for a in vec![1, 2, 3] {\n    |              ^^^^^^^^^^^^^ help: you can use a slice directly: `&[1, 2, 3]`\n \n error: aborting due to 6 previous errors"}, {"sha": "57cfa14a39275230ee2ed4e8e26b1630486b9b35", "filename": "tests/ui/while_loop.stderr", "status": "modified", "additions": 56, "deletions": 56, "changes": 112, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fwhile_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fwhile_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwhile_loop.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,114 +1,114 @@\n error: this loop could be written as a `while let` loop\n-  --> $DIR/while_loop.rs:19:5\n+  --> $DIR/while_loop.rs:15:5\n    |\n-19 | /     loop {\n-20 | |         if let Some(_x) = y {\n-21 | |             let _v = 1;\n-22 | |         } else {\n-23 | |             break\n-24 | |         }\n-25 | |     }\n+15 | /     loop {\n+16 | |         if let Some(_x) = y {\n+17 | |             let _v = 1;\n+18 | |         } else {\n+19 | |             break;\n+20 | |         }\n+21 | |     }\n    | |_____^ help: try: `while let Some(_x) = y { .. }`\n    |\n    = note: `-D clippy::while-let-loop` implied by `-D warnings`\n \n error: this loop could be written as a `while let` loop\n-  --> $DIR/while_loop.rs:32:5\n+  --> $DIR/while_loop.rs:29:5\n    |\n-32 | /     loop {\n-33 | |         match y {\n-34 | |             Some(_x) => true,\n-35 | |             None => break\n-36 | |         };\n-37 | |     }\n+29 | /     loop {\n+30 | |         match y {\n+31 | |             Some(_x) => true,\n+32 | |             None => break,\n+33 | |         };\n+34 | |     }\n    | |_____^ help: try: `while let Some(_x) = y { .. }`\n \n error: this loop could be written as a `while let` loop\n-  --> $DIR/while_loop.rs:38:5\n+  --> $DIR/while_loop.rs:35:5\n    |\n-38 | /     loop {\n-39 | |         let x = match y {\n-40 | |             Some(x) => x,\n-41 | |             None => break\n+35 | /     loop {\n+36 | |         let x = match y {\n+37 | |             Some(x) => x,\n+38 | |             None => break,\n ...  |\n-44 | |         let _str = \"foo\";\n-45 | |     }\n+41 | |         let _str = \"foo\";\n+42 | |     }\n    | |_____^ help: try: `while let Some(x) = y { .. }`\n \n error: this loop could be written as a `while let` loop\n-  --> $DIR/while_loop.rs:46:5\n+  --> $DIR/while_loop.rs:43:5\n    |\n-46 | /     loop {\n-47 | |         let x = match y {\n-48 | |             Some(x) => x,\n-49 | |             None => break,\n+43 | /     loop {\n+44 | |         let x = match y {\n+45 | |             Some(x) => x,\n+46 | |             None => break,\n ...  |\n-52 | |         { let _b = \"foobar\"; }\n-53 | |     }\n+53 | |         }\n+54 | |     }\n    | |_____^ help: try: `while let Some(x) = y { .. }`\n \n error: this loop could be written as a `while let` loop\n-  --> $DIR/while_loop.rs:68:5\n+  --> $DIR/while_loop.rs:71:5\n    |\n-68 | /     loop {\n-69 | |         let (e, l) = match \"\".split_whitespace().next() {\n-70 | |             Some(word) => (word.is_empty(), word.len()),\n-71 | |             None => break\n+71 | /     loop {\n+72 | |         let (e, l) = match \"\".split_whitespace().next() {\n+73 | |             Some(word) => (word.is_empty(), word.len()),\n+74 | |             None => break,\n ...  |\n-74 | |         let _ = (e, l);\n-75 | |     }\n+77 | |         let _ = (e, l);\n+78 | |     }\n    | |_____^ help: try: `while let Some(word) = \"\".split_whitespace().next() { .. }`\n \n error: this loop could be written as a `for` loop\n-  --> $DIR/while_loop.rs:78:33\n+  --> $DIR/while_loop.rs:81:33\n    |\n-78 |     while let Option::Some(x) = iter.next() {\n+81 |     while let Option::Some(x) = iter.next() {\n    |                                 ^^^^^^^^^^^ help: try: `for x in iter { .. }`\n    |\n    = note: `-D clippy::while-let-on-iterator` implied by `-D warnings`\n \n error: this loop could be written as a `for` loop\n-  --> $DIR/while_loop.rs:83:25\n+  --> $DIR/while_loop.rs:86:25\n    |\n-83 |     while let Some(x) = iter.next() {\n+86 |     while let Some(x) = iter.next() {\n    |                         ^^^^^^^^^^^ help: try: `for x in iter { .. }`\n \n error: this loop could be written as a `for` loop\n-  --> $DIR/while_loop.rs:88:25\n+  --> $DIR/while_loop.rs:91:25\n    |\n-88 |     while let Some(_) = iter.next() {}\n+91 |     while let Some(_) = iter.next() {}\n    |                         ^^^^^^^^^^^ help: try: `for _ in iter { .. }`\n \n error: this loop could be written as a `while let` loop\n-   --> $DIR/while_loop.rs:128:5\n+   --> $DIR/while_loop.rs:134:5\n     |\n-128 | /     loop {\n-129 | |         let _ = match iter.next() {\n-130 | |             Some(ele) => ele,\n-131 | |             None => break\n-132 | |         };\n-133 | |         loop {}\n-134 | |     }\n+134 | /     loop {\n+135 | |         let _ = match iter.next() {\n+136 | |             Some(ele) => ele,\n+137 | |             None => break,\n+138 | |         };\n+139 | |         loop {}\n+140 | |     }\n     | |_____^ help: try: `while let Some(ele) = iter.next() { .. }`\n \n error: empty `loop {}` detected. You may want to either use `panic!()` or add `std::thread::sleep(..);` to the loop body.\n-   --> $DIR/while_loop.rs:133:9\n+   --> $DIR/while_loop.rs:139:9\n     |\n-133 |         loop {}\n+139 |         loop {}\n     |         ^^^^^^^\n     |\n     = note: `-D clippy::empty-loop` implied by `-D warnings`\n \n error: this loop could be written as a `for` loop\n-   --> $DIR/while_loop.rs:193:29\n+   --> $DIR/while_loop.rs:197:29\n     |\n-193 |         while let Some(v) = y.next() { // use a for loop here\n+197 |         while let Some(v) = y.next() {\n     |                             ^^^^^^^^ help: try: `for v in y { .. }`\n \n error: this loop could be written as a `for` loop\n-   --> $DIR/while_loop.rs:220:26\n+   --> $DIR/while_loop.rs:225:26\n     |\n-220 |     while let Some(..) = values.iter().next() {\n+225 |     while let Some(..) = values.iter().next() {\n     |                          ^^^^^^^^^^^^^^^^^^^^ help: try: `for _ in values.iter() { .. }`\n \n error: aborting due to 12 previous errors"}, {"sha": "40c21902bf2e56c34b2cd3fcdbbd2cdd50ca991c", "filename": "tests/ui/write_literal.stderr", "status": "modified", "additions": 32, "deletions": 32, "changes": 64, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fwrite_literal.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fwrite_literal.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwrite_literal.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,88 +1,88 @@\n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:39:79\n+  --> $DIR/write_literal.rs:36:79\n    |\n-39 |     writeln!(&mut v, \"{} of {:b} people know binary, the other half doesn't\", 1, 2);\n+36 |     writeln!(&mut v, \"{} of {:b} people know binary, the other half doesn't\", 1, 2);\n    |                                                                               ^\n    |\n    = note: `-D clippy::write-literal` implied by `-D warnings`\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:40:32\n+  --> $DIR/write_literal.rs:37:32\n    |\n-40 |     write!(&mut v, \"Hello {}\", \"world\");\n+37 |     write!(&mut v, \"Hello {}\", \"world\");\n    |                                ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:41:44\n+  --> $DIR/write_literal.rs:38:44\n    |\n-41 |     writeln!(&mut v, \"Hello {} {}\", world, \"world\");\n+38 |     writeln!(&mut v, \"Hello {} {}\", world, \"world\");\n    |                                            ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:42:34\n+  --> $DIR/write_literal.rs:39:34\n    |\n-42 |     writeln!(&mut v, \"Hello {}\", \"world\");\n+39 |     writeln!(&mut v, \"Hello {}\", \"world\");\n    |                                  ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:43:38\n+  --> $DIR/write_literal.rs:40:38\n    |\n-43 |     writeln!(&mut v, \"10 / 4 is {}\", 2.5);\n+40 |     writeln!(&mut v, \"10 / 4 is {}\", 2.5);\n    |                                      ^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:44:36\n+  --> $DIR/write_literal.rs:41:36\n    |\n-44 |     writeln!(&mut v, \"2 + 1 = {}\", 3);\n+41 |     writeln!(&mut v, \"2 + 1 = {}\", 3);\n    |                                    ^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:49:33\n+  --> $DIR/write_literal.rs:46:33\n    |\n-49 |     writeln!(&mut v, \"{0} {1}\", \"hello\", \"world\");\n+46 |     writeln!(&mut v, \"{0} {1}\", \"hello\", \"world\");\n    |                                 ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:49:42\n+  --> $DIR/write_literal.rs:46:42\n    |\n-49 |     writeln!(&mut v, \"{0} {1}\", \"hello\", \"world\");\n+46 |     writeln!(&mut v, \"{0} {1}\", \"hello\", \"world\");\n    |                                          ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:50:33\n+  --> $DIR/write_literal.rs:47:33\n    |\n-50 |     writeln!(&mut v, \"{1} {0}\", \"hello\", \"world\");\n+47 |     writeln!(&mut v, \"{1} {0}\", \"hello\", \"world\");\n    |                                 ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:50:42\n+  --> $DIR/write_literal.rs:47:42\n    |\n-50 |     writeln!(&mut v, \"{1} {0}\", \"hello\", \"world\");\n+47 |     writeln!(&mut v, \"{1} {0}\", \"hello\", \"world\");\n    |                                          ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:53:41\n+  --> $DIR/write_literal.rs:50:43\n    |\n-53 |     writeln!(&mut v, \"{foo} {bar}\", foo=\"hello\", bar=\"world\");\n-   |                                         ^^^^^^^\n+50 |     writeln!(&mut v, \"{foo} {bar}\", foo = \"hello\", bar = \"world\");\n+   |                                           ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:53:54\n+  --> $DIR/write_literal.rs:50:58\n    |\n-53 |     writeln!(&mut v, \"{foo} {bar}\", foo=\"hello\", bar=\"world\");\n-   |                                                      ^^^^^^^\n+50 |     writeln!(&mut v, \"{foo} {bar}\", foo = \"hello\", bar = \"world\");\n+   |                                                          ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:54:41\n+  --> $DIR/write_literal.rs:51:43\n    |\n-54 |     writeln!(&mut v, \"{bar} {foo}\", foo=\"hello\", bar=\"world\");\n-   |                                         ^^^^^^^\n+51 |     writeln!(&mut v, \"{bar} {foo}\", foo = \"hello\", bar = \"world\");\n+   |                                           ^^^^^^^\n \n error: literal with an empty format string\n-  --> $DIR/write_literal.rs:54:54\n+  --> $DIR/write_literal.rs:51:58\n    |\n-54 |     writeln!(&mut v, \"{bar} {foo}\", foo=\"hello\", bar=\"world\");\n-   |                                                      ^^^^^^^\n+51 |     writeln!(&mut v, \"{bar} {foo}\", foo = \"hello\", bar = \"world\");\n+   |                                                          ^^^^^^^\n \n error: aborting due to 14 previous errors\n "}, {"sha": "8d2ad1b4d97a9e0a7b84550771c9fd8b47ea29f8", "filename": "tests/ui/write_with_newline.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fwrite_with_newline.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fwrite_with_newline.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwrite_with_newline.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,27 +1,27 @@\n error: using `write!()` with a format string that ends in a single newline, consider using `writeln!()` instead\n-  --> $DIR/write_with_newline.rs:22:5\n+  --> $DIR/write_with_newline.rs:19:5\n    |\n-22 |     write!(&mut v, \"Hello/n\");\n+19 |     write!(&mut v, \"Hello/n\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::write-with-newline` implied by `-D warnings`\n \n error: using `write!()` with a format string that ends in a single newline, consider using `writeln!()` instead\n-  --> $DIR/write_with_newline.rs:23:5\n+  --> $DIR/write_with_newline.rs:20:5\n    |\n-23 |     write!(&mut v, \"Hello {}/n\", \"world\");\n+20 |     write!(&mut v, \"Hello {}/n\", \"world\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: using `write!()` with a format string that ends in a single newline, consider using `writeln!()` instead\n-  --> $DIR/write_with_newline.rs:24:5\n+  --> $DIR/write_with_newline.rs:21:5\n    |\n-24 |     write!(&mut v, \"Hello {} {}/n\", \"world\", \"#2\");\n+21 |     write!(&mut v, \"Hello {} {}/n\", \"world\", \"#2\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: using `write!()` with a format string that ends in a single newline, consider using `writeln!()` instead\n-  --> $DIR/write_with_newline.rs:25:5\n+  --> $DIR/write_with_newline.rs:22:5\n    |\n-25 |     write!(&mut v, \"{}/n\", 1265);\n+22 |     write!(&mut v, \"{}/n\", 1265);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 4 previous errors"}, {"sha": "5943dfa09b1f8936c91b5bd4b005b248ffda6f87", "filename": "tests/ui/writeln_empty_string.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fwriteln_empty_string.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fwriteln_empty_string.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwriteln_empty_string.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: using `writeln!(&mut v, \"\")`\n-  --> $DIR/writeln_empty_string.rs:21:5\n+  --> $DIR/writeln_empty_string.rs:18:5\n    |\n-21 |     writeln!(&mut v, \"\");\n+18 |     writeln!(&mut v, \"\");\n    |     ^^^^^^^^^^^^^^^^^^^^ help: replace it with: `writeln!(&mut v)`\n    |\n    = note: `-D clippy::writeln-empty-string` implied by `-D warnings`\n \n error: using `writeln!(&mut suggestion, \"\")`\n-  --> $DIR/writeln_empty_string.rs:24:5\n+  --> $DIR/writeln_empty_string.rs:21:5\n    |\n-24 |     writeln!(&mut suggestion, \"\");\n+21 |     writeln!(&mut suggestion, \"\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `writeln!(&mut suggestion)`\n \n error: aborting due to 2 previous errors"}, {"sha": "fa97713ed78490ecd0893c355dc90a8060065c0b", "filename": "tests/ui/wrong_self_convention.stderr", "status": "modified", "additions": 24, "deletions": 24, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fwrong_self_convention.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fwrong_self_convention.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwrong_self_convention.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,75 +1,75 @@\n error: methods called `from_*` usually take no self; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:31:17\n+  --> $DIR/wrong_self_convention.rs:26:17\n    |\n-31 |     fn from_i32(self) {}\n+26 |     fn from_i32(self) {}\n    |                 ^^^^\n    |\n    = note: `-D clippy::wrong-self-convention` implied by `-D warnings`\n \n error: methods called `from_*` usually take no self; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:37:21\n+  --> $DIR/wrong_self_convention.rs:32:21\n    |\n-37 |     pub fn from_i64(self) {}\n+32 |     pub fn from_i64(self) {}\n    |                     ^^^^\n \n error: methods called `as_*` usually take self by reference or self by mutable reference; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:50:15\n+  --> $DIR/wrong_self_convention.rs:44:15\n    |\n-50 |     fn as_i32(self) {}\n+44 |     fn as_i32(self) {}\n    |               ^^^^\n \n error: methods called `into_*` usually take self by value; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:52:17\n+  --> $DIR/wrong_self_convention.rs:46:17\n    |\n-52 |     fn into_i32(&self) {}\n+46 |     fn into_i32(&self) {}\n    |                 ^^^^^\n \n error: methods called `is_*` usually take self by reference or no self; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:54:15\n+  --> $DIR/wrong_self_convention.rs:48:15\n    |\n-54 |     fn is_i32(self) {}\n+48 |     fn is_i32(self) {}\n    |               ^^^^\n \n error: methods called `to_*` usually take self by reference; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:56:15\n+  --> $DIR/wrong_self_convention.rs:50:15\n    |\n-56 |     fn to_i32(self) {}\n+50 |     fn to_i32(self) {}\n    |               ^^^^\n \n error: methods called `from_*` usually take no self; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:58:17\n+  --> $DIR/wrong_self_convention.rs:52:17\n    |\n-58 |     fn from_i32(self) {}\n+52 |     fn from_i32(self) {}\n    |                 ^^^^\n \n error: methods called `as_*` usually take self by reference or self by mutable reference; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:60:19\n+  --> $DIR/wrong_self_convention.rs:54:19\n    |\n-60 |     pub fn as_i64(self) {}\n+54 |     pub fn as_i64(self) {}\n    |                   ^^^^\n \n error: methods called `into_*` usually take self by value; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:61:21\n+  --> $DIR/wrong_self_convention.rs:55:21\n    |\n-61 |     pub fn into_i64(&self) {}\n+55 |     pub fn into_i64(&self) {}\n    |                     ^^^^^\n \n error: methods called `is_*` usually take self by reference or no self; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:62:19\n+  --> $DIR/wrong_self_convention.rs:56:19\n    |\n-62 |     pub fn is_i64(self) {}\n+56 |     pub fn is_i64(self) {}\n    |                   ^^^^\n \n error: methods called `to_*` usually take self by reference; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:63:19\n+  --> $DIR/wrong_self_convention.rs:57:19\n    |\n-63 |     pub fn to_i64(self) {}\n+57 |     pub fn to_i64(self) {}\n    |                   ^^^^\n \n error: methods called `from_*` usually take no self; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:64:21\n+  --> $DIR/wrong_self_convention.rs:58:21\n    |\n-64 |     pub fn from_i64(self) {}\n+58 |     pub fn from_i64(self) {}\n    |                     ^^^^\n \n error: aborting due to 12 previous errors"}, {"sha": "312392050c55d9e281377572996c41e7c8f5ec0f", "filename": "tests/ui/zero_div_zero.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fzero_div_zero.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fzero_div_zero.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fzero_div_zero.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,59 +1,59 @@\n error: equal expressions as operands to `/`\n-  --> $DIR/zero_div_zero.rs:17:15\n+  --> $DIR/zero_div_zero.rs:13:15\n    |\n-17 |     let nan = 0.0 / 0.0;\n+13 |     let nan = 0.0 / 0.0;\n    |               ^^^^^^^^^\n    |\n    = note: #[deny(clippy::eq_op)] on by default\n \n error: constant division of 0.0 with 0.0 will always result in NaN\n-  --> $DIR/zero_div_zero.rs:17:15\n+  --> $DIR/zero_div_zero.rs:13:15\n    |\n-17 |     let nan = 0.0 / 0.0;\n+13 |     let nan = 0.0 / 0.0;\n    |               ^^^^^^^^^\n    |\n    = note: `-D clippy::zero-divided-by-zero` implied by `-D warnings`\n    = help: Consider using `std::f64::NAN` if you would like a constant representing NaN\n \n error: equal expressions as operands to `/`\n-  --> $DIR/zero_div_zero.rs:18:19\n+  --> $DIR/zero_div_zero.rs:14:19\n    |\n-18 |     let f64_nan = 0.0 / 0.0f64;\n+14 |     let f64_nan = 0.0 / 0.0f64;\n    |                   ^^^^^^^^^^^^\n \n error: constant division of 0.0 with 0.0 will always result in NaN\n-  --> $DIR/zero_div_zero.rs:18:19\n+  --> $DIR/zero_div_zero.rs:14:19\n    |\n-18 |     let f64_nan = 0.0 / 0.0f64;\n+14 |     let f64_nan = 0.0 / 0.0f64;\n    |                   ^^^^^^^^^^^^\n    |\n    = help: Consider using `std::f64::NAN` if you would like a constant representing NaN\n \n error: equal expressions as operands to `/`\n-  --> $DIR/zero_div_zero.rs:19:25\n+  --> $DIR/zero_div_zero.rs:15:25\n    |\n-19 |     let other_f64_nan = 0.0f64 / 0.0;\n+15 |     let other_f64_nan = 0.0f64 / 0.0;\n    |                         ^^^^^^^^^^^^\n \n error: constant division of 0.0 with 0.0 will always result in NaN\n-  --> $DIR/zero_div_zero.rs:19:25\n+  --> $DIR/zero_div_zero.rs:15:25\n    |\n-19 |     let other_f64_nan = 0.0f64 / 0.0;\n+15 |     let other_f64_nan = 0.0f64 / 0.0;\n    |                         ^^^^^^^^^^^^\n    |\n    = help: Consider using `std::f64::NAN` if you would like a constant representing NaN\n \n error: equal expressions as operands to `/`\n-  --> $DIR/zero_div_zero.rs:20:28\n+  --> $DIR/zero_div_zero.rs:16:28\n    |\n-20 |     let one_more_f64_nan = 0.0f64/0.0f64;\n-   |                            ^^^^^^^^^^^^^\n+16 |     let one_more_f64_nan = 0.0f64 / 0.0f64;\n+   |                            ^^^^^^^^^^^^^^^\n \n error: constant division of 0.0 with 0.0 will always result in NaN\n-  --> $DIR/zero_div_zero.rs:20:28\n+  --> $DIR/zero_div_zero.rs:16:28\n    |\n-20 |     let one_more_f64_nan = 0.0f64/0.0f64;\n-   |                            ^^^^^^^^^^^^^\n+16 |     let one_more_f64_nan = 0.0f64 / 0.0f64;\n+   |                            ^^^^^^^^^^^^^^^\n    |\n    = help: Consider using `std::f64::NAN` if you would like a constant representing NaN\n "}, {"sha": "15b27c7c0ad87ae6fb7bb9f0db298637724bb06a", "filename": "tests/ui/zero_ptr.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fzero_ptr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e/tests%2Fui%2Fzero_ptr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fzero_ptr.stderr?ref=7bcc2cd9c8d2933d4a72e090db72f65a4cfb749e", "patch": "@@ -1,15 +1,15 @@\n error: `0 as *const _` detected. Consider using `ptr::null()`\n-  --> $DIR/zero_ptr.rs:16:13\n+  --> $DIR/zero_ptr.rs:12:13\n    |\n-16 |     let x = 0 as *const usize;\n+12 |     let x = 0 as *const usize;\n    |             ^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::zero-ptr` implied by `-D warnings`\n \n error: `0 as *mut _` detected. Consider using `ptr::null_mut()`\n-  --> $DIR/zero_ptr.rs:17:13\n+  --> $DIR/zero_ptr.rs:13:13\n    |\n-17 |     let y = 0 as *mut f64;\n+13 |     let y = 0 as *mut f64;\n    |             ^^^^^^^^^^^^^\n \n error: aborting due to 2 previous errors"}]}