{"sha": "8ce953347c2bbe00fb843e04b7e60d86e79213e3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhjZTk1MzM0N2MyYmJlMDBmYjg0M2UwNGI3ZTYwZDg2ZTc5MjEzZTM=", "commit": {"author": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-08-04T01:02:04Z"}, "committer": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-08-04T01:02:04Z"}, "message": "Merge pull request #8251 from chris-morgan/vim-sigil-highlighting\n\nHighlight sigils and operators in Vim.\r\n\r\nr=huonw, known spurious failure on one bot", "tree": {"sha": "f8ca65109f0c14c691256cadd371090ce5392c4a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f8ca65109f0c14c691256cadd371090ce5392c4a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8ce953347c2bbe00fb843e04b7e60d86e79213e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8ce953347c2bbe00fb843e04b7e60d86e79213e3", "html_url": "https://github.com/rust-lang/rust/commit/8ce953347c2bbe00fb843e04b7e60d86e79213e3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8ce953347c2bbe00fb843e04b7e60d86e79213e3/comments", "author": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "18e3db7392d2d0697b7e27d6d986139960144d85", "url": "https://api.github.com/repos/rust-lang/rust/commits/18e3db7392d2d0697b7e27d6d986139960144d85", "html_url": "https://github.com/rust-lang/rust/commit/18e3db7392d2d0697b7e27d6d986139960144d85"}, {"sha": "ceb651671aa88f1e32cc75bf6529171c7cda74d5", "url": "https://api.github.com/repos/rust-lang/rust/commits/ceb651671aa88f1e32cc75bf6529171c7cda74d5", "html_url": "https://github.com/rust-lang/rust/commit/ceb651671aa88f1e32cc75bf6529171c7cda74d5"}], "stats": {"total": 29, "additions": 23, "deletions": 6}, "files": [{"sha": "260b23cb70be4c01dee0e6e233309cb56642f3b6", "filename": "src/etc/vim/syntax/rust.vim", "status": "modified", "additions": 23, "deletions": 6, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/8ce953347c2bbe00fb843e04b7e60d86e79213e3/src%2Fetc%2Fvim%2Fsyntax%2Frust.vim", "raw_url": "https://github.com/rust-lang/rust/raw/8ce953347c2bbe00fb843e04b7e60d86e79213e3/src%2Fetc%2Fvim%2Fsyntax%2Frust.vim", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fsyntax%2Frust.vim?ref=8ce953347c2bbe00fb843e04b7e60d86e79213e3", "patch": "@@ -3,7 +3,7 @@\n \" Maintainer:   Patrick Walton <pcwalton@mozilla.com>\n \" Maintainer:   Ben Blum <bblum@cs.cmu.edu>\n \" Maintainer:   Chris Morgan <me@chrismorgan.info>\n-\" Last Change:  2013 Jul 10\n+\" Last Change:  2013 Aug 1\n \n if version < 600\n   syntax clear\n@@ -17,7 +17,7 @@ syn keyword   rustOperator    as\n syn match     rustAssert      \"\\<assert\\(\\w\\)*!\" contained\n syn match     rustFail        \"\\<fail\\(\\w\\)*!\" contained\n syn keyword   rustKeyword     break copy do extern\n-syn keyword   rustKeyword     for if impl let log\n+syn keyword   rustKeyword     in if impl let log\n syn keyword   rustKeyword     copy do extern\n syn keyword   rustKeyword     for impl let log\n syn keyword   rustKeyword     loop mod once priv pub\n@@ -83,12 +83,26 @@ syn match     rustModPathSep  \"::\"\n syn match     rustFuncCall    \"\\w\\(\\w\\)*(\"he=e-1,me=e-1\n syn match     rustFuncCall    \"\\w\\(\\w\\)*::<\"he=e-3,me=e-3 \" foo::<T>();\n \n+\" This is merely a convention; note also the use of [A-Z], restricting it to\n+\" latin identifiers rather than the full Unicode uppercase. I have not used\n+\" [:upper:] as it depends upon 'noignorecase'\n+\"syn match     rustCapsIdent    display \"[A-Z]\\w\\(\\w\\)*\"\n+\n+syn match     rustOperator     display \"\\%(+\\|-\\|/\\|*\\|=\\|\\^\\|&\\||\\|!\\|>\\|<\\|%\\)=\\?\"\n+\" This one isn't *quite* right, as we could have binary-& with a reference\n+syn match     rustSigil        display /&\\s\\+[&~@*][^)= \\t\\r\\n]/he=e-1,me=e-1\n+syn match     rustSigil        display /[&~@*][^)= \\t\\r\\n]/he=e-1,me=e-1\n+\" This isn't actually correct; a closure with no arguments can be `|| { }`.\n+\" Last, because the & in && isn't a sigil\n+syn match     rustOperator     display \"&&\\|||\"\n+\n syn match     rustMacro       '\\w\\(\\w\\)*!' contains=rustAssert,rustFail\n syn match     rustMacro       '#\\w\\(\\w\\)*' contains=rustAssert,rustFail\n \n syn match     rustFormat      display \"%\\(\\d\\+\\$\\)\\=[-+' #0*]*\\(\\d*\\|\\*\\|\\*\\d\\+\\$\\)\\(\\.\\(\\d*\\|\\*\\|\\*\\d\\+\\$\\)\\)\\=\\([hlLjzt]\\|ll\\|hh\\)\\=\\([aAbdiuoxXDOUfFeEgGcCsSpn?]\\|\\[\\^\\=.[^]]*\\]\\)\" contained\n syn match     rustFormat      display \"%%\" contained\n-syn region    rustString      start=+L\\=\"+ skip=+\\\\\\\\\\|\\\\\"+ end=+\"+ contains=rustTodo,rustFormat\n+syn match     rustSpecial     display contained /\\\\\\([nrt\\\\'\"]\\|x\\x\\{2}\\|u\\x\\{4}\\|U\\x\\{8}\\)/\n+syn region    rustString      start=+L\\=\"+ skip=+\\\\\\\\\\|\\\\\"+ end=+\"+ contains=rustTodo,rustFormat,rustSpecial\n \n syn region    rustAttribute   start=\"#\\[\" end=\"\\]\" contains=rustString,rustDeriving\n syn region    rustDeriving    start=\"deriving(\" end=\")\" contained contains=rustTrait\n@@ -114,13 +128,13 @@ syn match     rustFloat       display \"\\<[0-9][0-9_]*\\.[0-9_]\\+\\%([eE][+-]\\=[0-9\n syn match     rustFloat       display \"\\<[0-9][0-9_]*\\.[0-9_]\\+\\%([eE][+-]\\=[0-9_]\\+\\)\\(f\\|f32\\|f64\\)\\>\"\n \n \" For the benefit of delimitMate\n-syn region rustLifetimeCandidate display start=/&'\\%(\\([^'\\\\]\\|\\\\\\(['nrt\\\\\\\"]\\|x\\x\\{2}\\|u\\x\\{4}\\|U\\x\\{8}\\)\\)'\\)\\@!/ end=/[[:cntrl:][:space:][:punct:]]\\@=\\|$/ contains=rustLifetime\n+syn region rustLifetimeCandidate display start=/&'\\%(\\([^'\\\\]\\|\\\\\\(['nrt\\\\\\\"]\\|x\\x\\{2}\\|u\\x\\{4}\\|U\\x\\{8}\\)\\)'\\)\\@!/ end=/[[:cntrl:][:space:][:punct:]]\\@=\\|$/ contains=rustSigil,rustLifetime\n syn region rustGenericRegion display start=/<\\%('\\|[^[cntrl:][:space:][:punct:]]\\)\\@=')\\S\\@=/ end=/>/ contains=rustGenericLifetimeCandidate\n-syn region rustGenericLifetimeCandidate display start=/\\%(<\\|,\\s*\\)\\@<='/ end=/[[:cntrl:][:space:][:punct:]]\\@=\\|$/ contains=rustLifetime\n+syn region rustGenericLifetimeCandidate display start=/\\%(<\\|,\\s*\\)\\@<='/ end=/[[:cntrl:][:space:][:punct:]]\\@=\\|$/ contains=rustSigil,rustLifetime\n \n \"rustLifetime must appear before rustCharacter, or chars will get the lifetime highlighting\n syn match     rustLifetime    display \"\\'\\%([^[:cntrl:][:space:][:punct:][:digit:]]\\|_\\)\\%([^[:cntrl:][:punct:][:space:]]\\|_\\)*\"\n-syn match   rustCharacter   \"'\\([^'\\\\]\\|\\\\\\(['nrt\\\\\\\"]\\|x\\x\\{2}\\|u\\x\\{4}\\|U\\x\\{8}\\)\\)'\"\n+syn match   rustCharacter   /'\\([^'\\\\]\\|\\\\\\([nrt\\\\'\"]\\|x\\x\\{2}\\|u\\x\\{4}\\|U\\x\\{8}\\)\\)'/ contains=rustSpecial\n \n syn region    rustCommentML   start=\"/\\*\" end=\"\\*/\" contains=rustTodo\n syn region    rustComment     start=\"//\" skip=\"\\\\$\" end=\"$\" contains=rustTodo keepend\n@@ -140,7 +154,9 @@ hi def link rustBinNumber       rustNumber\n hi def link rustIdentifierPrime rustIdentifier\n hi def link rustTrait           rustType\n \n+hi def link rustSigil         StorageClass\n hi def link rustFormat        Special\n+hi def link rustSpecial       Special\n hi def link rustString        String\n hi def link rustCharacter     Character\n hi def link rustNumber        Number\n@@ -152,6 +168,7 @@ hi def link rustOperator      Operator\n hi def link rustKeyword       Keyword\n hi def link rustConditional   Conditional\n hi def link rustIdentifier    Identifier\n+hi def link rustCapsIdent     rustIdentifier\n hi def link rustModPath       Include\n hi def link rustModPathSep    Delimiter\n hi def link rustFuncName      Function"}]}