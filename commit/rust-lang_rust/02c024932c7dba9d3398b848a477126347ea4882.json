{"sha": "02c024932c7dba9d3398b848a477126347ea4882", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAyYzAyNDkzMmM3ZGJhOWQzMzk4Yjg0OGE0NzcxMjYzNDdlYTQ4ODI=", "commit": {"author": {"name": "Utkarsh Kukreti", "email": "utkarshkukreti@gmail.com", "date": "2017-11-17T03:20:00Z"}, "committer": {"name": "Utkarsh Kukreti", "email": "utkarshkukreti@gmail.com", "date": "2017-11-17T03:20:00Z"}, "message": "Fix missing trailing newline in --write-mode=diff.\n\nThis was a bug in the `diff` crate which has been fixed in 0.1.11. This PR\nsimply bumps `diff` to that version.\n\nFixes #1753.\n\n    $ xxd main.rs\n    00000000: 666e 206d 6169 6e28 2920 7b7d            fn main() {}\n    $ cargo run --bin rustfmt -- main.rs --write-mode=diff\n    $ echo $?\n    0\n    $ git checkout issue-1753\n    Switched to branch 'issue-1753'\n    $ cargo run --bin rustfmt -- main.rs --write-mode=diff\n    Diff in /Users/utkarsh/dev/git/rustfmt/main.rs at line 1:\n     fn main() {}\u23ce\n    +\u23ce\n    $ echo $?\n    4", "tree": {"sha": "c315fef93c135022b1b179eb3f8578f166da9953", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c315fef93c135022b1b179eb3f8578f166da9953"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/02c024932c7dba9d3398b848a477126347ea4882", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/02c024932c7dba9d3398b848a477126347ea4882", "html_url": "https://github.com/rust-lang/rust/commit/02c024932c7dba9d3398b848a477126347ea4882", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/02c024932c7dba9d3398b848a477126347ea4882/comments", "author": {"login": "utkarshkukreti", "id": 217126, "node_id": "MDQ6VXNlcjIxNzEyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/217126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/utkarshkukreti", "html_url": "https://github.com/utkarshkukreti", "followers_url": "https://api.github.com/users/utkarshkukreti/followers", "following_url": "https://api.github.com/users/utkarshkukreti/following{/other_user}", "gists_url": "https://api.github.com/users/utkarshkukreti/gists{/gist_id}", "starred_url": "https://api.github.com/users/utkarshkukreti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/utkarshkukreti/subscriptions", "organizations_url": "https://api.github.com/users/utkarshkukreti/orgs", "repos_url": "https://api.github.com/users/utkarshkukreti/repos", "events_url": "https://api.github.com/users/utkarshkukreti/events{/privacy}", "received_events_url": "https://api.github.com/users/utkarshkukreti/received_events", "type": "User", "site_admin": false}, "committer": {"login": "utkarshkukreti", "id": 217126, "node_id": "MDQ6VXNlcjIxNzEyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/217126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/utkarshkukreti", "html_url": "https://github.com/utkarshkukreti", "followers_url": "https://api.github.com/users/utkarshkukreti/followers", "following_url": "https://api.github.com/users/utkarshkukreti/following{/other_user}", "gists_url": "https://api.github.com/users/utkarshkukreti/gists{/gist_id}", "starred_url": "https://api.github.com/users/utkarshkukreti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/utkarshkukreti/subscriptions", "organizations_url": "https://api.github.com/users/utkarshkukreti/orgs", "repos_url": "https://api.github.com/users/utkarshkukreti/repos", "events_url": "https://api.github.com/users/utkarshkukreti/events{/privacy}", "received_events_url": "https://api.github.com/users/utkarshkukreti/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "abe6eec910ee7544edbc8a80167c029190228cac", "url": "https://api.github.com/repos/rust-lang/rust/commits/abe6eec910ee7544edbc8a80167c029190228cac", "html_url": "https://github.com/rust-lang/rust/commit/abe6eec910ee7544edbc8a80167c029190228cac"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "eb01bacbf2141397ac1b438099b2550348478c7e", "filename": "Cargo.lock", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/02c024932c7dba9d3398b848a477126347ea4882/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/02c024932c7dba9d3398b848a477126347ea4882/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=02c024932c7dba9d3398b848a477126347ea4882", "patch": "@@ -17,7 +17,7 @@ dependencies = [\n \n [[package]]\n name = \"diff\"\n-version = \"0.1.10\"\n+version = \"0.1.11\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n@@ -108,7 +108,7 @@ name = \"rustfmt-nightly\"\n version = \"0.2.15\"\n dependencies = [\n  \"derive-new 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"diff 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"diff 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"env_logger 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -253,7 +253,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n [metadata]\n \"checksum aho-corasick 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"500909c4f87a9e52355b26626d890833e9e1d53ac566db76c36faa984b889699\"\n \"checksum derive-new 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"415f627ab054041c3eb748c2e1da0ef751989f5f0c386b63a098e545854a98ba\"\n-\"checksum diff 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0a515461b6c8c08419850ced27bc29e86166dcdcde8fbe76f8b1f0589bb49472\"\n+\"checksum diff 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3c2b69f912779fbb121ceb775d74d51e915af17aaebc38d28a592843a2dd0a3a\"\n \"checksum dtoa 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"09c3753c3db574d215cba4ea76018483895d7bff25a31b49ba45db21c48e50ab\"\n \"checksum env_logger 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3ddf21e73e016298f5cb37d6ef8e8da8e39f91f9ec8b0df44b7deb16a9f8cd5b\"\n \"checksum getopts 0.2.15 (registry+https://github.com/rust-lang/crates.io-index)\" = \"65922871abd2f101a2eb0eaebadc66668e54a87ad9c3dd82520b5f86ede5eff9\""}]}