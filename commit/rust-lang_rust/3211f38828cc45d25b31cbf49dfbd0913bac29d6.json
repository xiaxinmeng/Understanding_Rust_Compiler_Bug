{"sha": "3211f38828cc45d25b31cbf49dfbd0913bac29d6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMyMTFmMzg4MjhjYzQ1ZDI1YjMxY2JmNDlkZmJkMDkxM2JhYzI5ZDY=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-03-11T03:05:01Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-03-23T20:05:30Z"}, "message": "Tweak unnecessary import suggestion", "tree": {"sha": "0807dba4bb21f2a3d5514b234e8661bdbb45ddcd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0807dba4bb21f2a3d5514b234e8661bdbb45ddcd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3211f38828cc45d25b31cbf49dfbd0913bac29d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3211f38828cc45d25b31cbf49dfbd0913bac29d6", "html_url": "https://github.com/rust-lang/rust/commit/3211f38828cc45d25b31cbf49dfbd0913bac29d6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3211f38828cc45d25b31cbf49dfbd0913bac29d6/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9bfb0ef818456cce57edcb2463f63f71594e4a13", "url": "https://api.github.com/repos/rust-lang/rust/commits/9bfb0ef818456cce57edcb2463f63f71594e4a13", "html_url": "https://github.com/rust-lang/rust/commit/9bfb0ef818456cce57edcb2463f63f71594e4a13"}], "stats": {"total": 70, "additions": 25, "deletions": 45}, "files": [{"sha": "973c58a67a5d4a2847dcfb0dc0313a63893856fd", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=3211f38828cc45d25b31cbf49dfbd0913bac29d6", "patch": "@@ -4932,7 +4932,7 @@ impl<'a> Resolver<'a> {\n             Some((directive, _, true)) if should_remove_import && !directive.is_glob() => {\n                 // Simple case - remove the entire import. Due to the above match arm, this can\n                 // only be a single use so just remove it entirely.\n-                err.span_suggestion(\n+                err.span_suggestion_hidden(\n                     directive.use_span_with_attributes,\n                     \"remove unnecessary import\",\n                     String::new(),"}, {"sha": "d5e153d22ad7c7a9e6fd6aa262e0912a83fed316", "filename": "src/test/ui/double-type-import.stderr", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fdouble-type-import.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fdouble-type-import.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdouble-type-import.stderr?ref=3211f38828cc45d25b31cbf49dfbd0913bac29d6", "patch": "@@ -4,12 +4,10 @@ error[E0252]: the name `X` is defined multiple times\n LL |     pub use self::bar::X;\n    |             ------------ previous import of the type `X` here\n LL |     use self::bar::X;\n-   |     ----^^^^^^^^^^^^-\n-   |     |   |\n-   |     |   `X` reimported here\n-   |     help: remove unnecessary import\n+   |         ^^^^^^^^^^^^ `X` reimported here\n    |\n    = note: `X` must be defined only once in the type namespace of this module\n+   = help: remove unnecessary import\n \n error: aborting due to previous error\n "}, {"sha": "f85a265487bfdf1d858f731235e0f707090c2621", "filename": "src/test/ui/imports/duplicate.stderr", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fimports%2Fduplicate.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fimports%2Fduplicate.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fduplicate.stderr?ref=3211f38828cc45d25b31cbf49dfbd0913bac29d6", "patch": "@@ -4,12 +4,10 @@ error[E0252]: the name `foo` is defined multiple times\n LL |     use a::foo;\n    |         ------ previous import of the value `foo` here\n LL |     use a::foo;\n-   |     ----^^^^^^-\n-   |     |   |\n-   |     |   `foo` reimported here\n-   |     help: remove unnecessary import\n+   |         ^^^^^^ `foo` reimported here\n    |\n    = note: `foo` must be defined only once in the value namespace of this module\n+   = help: remove unnecessary import\n \n error[E0659]: `foo` is ambiguous (glob import vs glob import in the same module)\n   --> $DIR/duplicate.rs:46:15"}, {"sha": "6002befe0d817ad561fd22ff9c7031757163c71b", "filename": "src/test/ui/issues/issue-26886.stderr", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fissues%2Fissue-26886.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fissues%2Fissue-26886.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-26886.stderr?ref=3211f38828cc45d25b31cbf49dfbd0913bac29d6", "patch": "@@ -4,12 +4,10 @@ error[E0252]: the name `Arc` is defined multiple times\n LL | use std::sync::{self, Arc};\n    |                       --- previous import of the type `Arc` here\n LL | use std::sync::Arc;\n-   | ----^^^^^^^^^^^^^^-\n-   | |   |\n-   | |   `Arc` reimported here\n-   | help: remove unnecessary import\n+   |     ^^^^^^^^^^^^^^ `Arc` reimported here\n    |\n    = note: `Arc` must be defined only once in the type namespace of this module\n+   = help: remove unnecessary import\n \n error[E0252]: the name `sync` is defined multiple times\n   --> $DIR/issue-26886.rs:4:5\n@@ -18,12 +16,10 @@ LL | use std::sync::{self, Arc};\n    |                 ---- previous import of the module `sync` here\n ...\n LL | use std::sync;\n-   | ----^^^^^^^^^-\n-   | |   |\n-   | |   `sync` reimported here\n-   | help: remove unnecessary import\n+   |     ^^^^^^^^^ `sync` reimported here\n    |\n    = note: `sync` must be defined only once in the type namespace of this module\n+   = help: remove unnecessary import\n \n error: aborting due to 2 previous errors\n "}, {"sha": "6068c97505767fd115895b8d5fec894111578383", "filename": "src/test/ui/issues/issue-52891.stderr", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fissues%2Fissue-52891.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fissues%2Fissue-52891.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-52891.stderr?ref=3211f38828cc45d25b31cbf49dfbd0913bac29d6", "patch": "@@ -4,12 +4,10 @@ error[E0252]: the name `a` is defined multiple times\n LL | use issue_52891::a;\n    |     -------------- previous import of the module `a` here\n LL | use issue_52891::a;\n-   | ----^^^^^^^^^^^^^^-\n-   | |   |\n-   | |   `a` reimported here\n-   | help: remove unnecessary import\n+   |     ^^^^^^^^^^^^^^ `a` reimported here\n    |\n    = note: `a` must be defined only once in the type namespace of this module\n+   = help: remove unnecessary import\n \n error[E0252]: the name `a` is defined multiple times\n   --> $DIR/issue-52891.rs:14:19\n@@ -129,15 +127,13 @@ error[E0252]: the name `n` is defined multiple times\n   --> $DIR/issue-52891.rs:36:5\n    |\n LL | use issue_52891::n;\n-   | -------------------\n-   | |   |\n-   | |   previous import of the module `n` here\n-   | help: remove unnecessary import\n+   |     -------------- previous import of the module `n` here\n LL | #[macro_use]\n LL | use issue_52891::n;\n    |     ^^^^^^^^^^^^^^ `n` reimported here\n    |\n    = note: `n` must be defined only once in the type namespace of this module\n+   = help: remove unnecessary import\n \n error: aborting due to 10 previous errors\n "}, {"sha": "597c05434f33b0ebbaebce822a91e48c47c01ebf", "filename": "src/test/ui/proc-macro/shadow.stderr", "status": "modified", "additions": 6, "deletions": 8, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fproc-macro%2Fshadow.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fproc-macro%2Fshadow.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fshadow.stderr?ref=3211f38828cc45d25b31cbf49dfbd0913bac29d6", "patch": "@@ -1,16 +1,14 @@\n error[E0259]: the name `derive_a` is defined multiple times\n   --> $DIR/shadow.rs:6:1\n    |\n-LL |   extern crate derive_a;\n-   |   ---------------------- previous import of the extern crate `derive_a` here\n-LL | / #[macro_use]\n-LL | | extern crate derive_a;\n-   | | ^^^^^^^^^^^^^^^^^^^^^-\n-   | |_|____________________|\n-   |   |                    help: remove unnecessary import\n-   |   `derive_a` reimported here\n+LL | extern crate derive_a;\n+   | ---------------------- previous import of the extern crate `derive_a` here\n+LL | #[macro_use]\n+LL | extern crate derive_a;\n+   | ^^^^^^^^^^^^^^^^^^^^^^ `derive_a` reimported here\n    |\n    = note: `derive_a` must be defined only once in the type namespace of this module\n+   = help: remove unnecessary import\n \n error: aborting due to previous error\n "}, {"sha": "34f18feb9dcd019ee1b07d904a12c6015f034dc2", "filename": "src/test/ui/resolve/resolve-conflict-import-vs-import.stderr", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fresolve%2Fresolve-conflict-import-vs-import.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fresolve%2Fresolve-conflict-import-vs-import.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fresolve-conflict-import-vs-import.stderr?ref=3211f38828cc45d25b31cbf49dfbd0913bac29d6", "patch": "@@ -4,12 +4,10 @@ error[E0252]: the name `transmute` is defined multiple times\n LL | use std::mem::transmute;\n    |     ------------------- previous import of the value `transmute` here\n LL | use std::mem::transmute;\n-   | ----^^^^^^^^^^^^^^^^^^^-\n-   | |   |\n-   | |   `transmute` reimported here\n-   | help: remove unnecessary import\n+   |     ^^^^^^^^^^^^^^^^^^^ `transmute` reimported here\n    |\n    = note: `transmute` must be defined only once in the value namespace of this module\n+   = help: remove unnecessary import\n \n error: aborting due to previous error\n "}, {"sha": "cfae699b6edc32cd537af792e40e03b8a0ca5eb8", "filename": "src/test/ui/unresolved/unresolved-extern-mod-suggestion.stderr", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Funresolved%2Funresolved-extern-mod-suggestion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Funresolved%2Funresolved-extern-mod-suggestion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funresolved%2Funresolved-extern-mod-suggestion.stderr?ref=3211f38828cc45d25b31cbf49dfbd0913bac29d6", "patch": "@@ -4,12 +4,10 @@ error[E0254]: the name `core` is defined multiple times\n LL | extern crate core;\n    | ------------------ previous import of the extern crate `core` here\n LL | use core;\n-   | ----^^^^-\n-   | |   |\n-   | |   `core` reimported here\n-   | help: remove unnecessary import\n+   |     ^^^^ `core` reimported here\n    |\n    = note: `core` must be defined only once in the type namespace of this module\n+   = help: remove unnecessary import\n \n error: aborting due to previous error\n "}, {"sha": "43ebbf157c3c225e99f9300d670242b1a693ca63", "filename": "src/test/ui/use/use-paths-as-items.stderr", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fuse%2Fuse-paths-as-items.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3211f38828cc45d25b31cbf49dfbd0913bac29d6/src%2Ftest%2Fui%2Fuse%2Fuse-paths-as-items.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuse%2Fuse-paths-as-items.stderr?ref=3211f38828cc45d25b31cbf49dfbd0913bac29d6", "patch": "@@ -4,12 +4,10 @@ error[E0252]: the name `mem` is defined multiple times\n LL | use std::{mem, ptr};\n    |           --- previous import of the module `mem` here\n LL | use std::mem;\n-   | ----^^^^^^^^-\n-   | |   |\n-   | |   `mem` reimported here\n-   | help: remove unnecessary import\n+   |     ^^^^^^^^ `mem` reimported here\n    |\n    = note: `mem` must be defined only once in the type namespace of this module\n+   = help: remove unnecessary import\n \n error: aborting due to previous error\n "}]}