{"sha": "553353e3160c589ee4b77bd30fa5bbd6df5e0e70", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU1MzM1M2UzMTYwYzU4OWVlNGI3N2JkMzBmYTViYmQ2ZGY1ZTBlNzA=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-02-28T09:23:41Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-02-28T09:23:41Z"}, "message": "Merge #3360\n\n3360: Parse attribues in RHS of let statments r=matklad a=edwin0cheng\n\nFixed #3315\n\nCo-authored-by: Edwin Cheng <edwin0cheng@gmail.com>", "tree": {"sha": "192fbf2191946a1d0bdb276173033d077d9fefd0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/192fbf2191946a1d0bdb276173033d077d9fefd0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/553353e3160c589ee4b77bd30fa5bbd6df5e0e70", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeWNwdCRBK7hj4Ov3rIwAAdHIIALJW7zsetv4ch8owHCMJIkGB\nRUbLFHFyqvPahXmDpXUVwTORByObBZKDA6QWrvNuEFvuSxlSRiCRL+Z1joenXKu7\nAqdNmN0+zPXeaDZAL4cNSxKsvfszHTC6Q9ykmR4zF+rS/DQucAxbSS9TrB8V+0Zx\noJPcenG2jtDStp7IERKumtDlcHzMa3gMf2Xo3o/aV3kk+hmVoPKMBTV9qOPl894b\nw/KgGetVrgoZ1MBIxu2tDFDmpJ7Wzb6+Hd1smjYMAbAjtJTXRJyd6wXjrHf0e4eS\nUFwIEr4mJ7QbF8lCkXKvqMb730EOemSr8WzijBtinL5UqIZNzaqAE0RHFHw1uKE=\n=bEPV\n-----END PGP SIGNATURE-----\n", "payload": "tree 192fbf2191946a1d0bdb276173033d077d9fefd0\nparent 4741ae785257bc894cd9a61c1d5e6479074c69b6\nparent f4e48ad3e45ac5cc4dbbf7919296e576e39a1bb9\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1582881821 +0000\ncommitter GitHub <noreply@github.com> 1582881821 +0000\n\nMerge #3360\n\n3360: Parse attribues in RHS of let statments r=matklad a=edwin0cheng\n\nFixed #3315\n\nCo-authored-by: Edwin Cheng <edwin0cheng@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/553353e3160c589ee4b77bd30fa5bbd6df5e0e70", "html_url": "https://github.com/rust-lang/rust/commit/553353e3160c589ee4b77bd30fa5bbd6df5e0e70", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/553353e3160c589ee4b77bd30fa5bbd6df5e0e70/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4741ae785257bc894cd9a61c1d5e6479074c69b6", "url": "https://api.github.com/repos/rust-lang/rust/commits/4741ae785257bc894cd9a61c1d5e6479074c69b6", "html_url": "https://github.com/rust-lang/rust/commit/4741ae785257bc894cd9a61c1d5e6479074c69b6"}, {"sha": "f4e48ad3e45ac5cc4dbbf7919296e576e39a1bb9", "url": "https://api.github.com/repos/rust-lang/rust/commits/f4e48ad3e45ac5cc4dbbf7919296e576e39a1bb9", "html_url": "https://github.com/rust-lang/rust/commit/f4e48ad3e45ac5cc4dbbf7919296e576e39a1bb9"}], "stats": {"total": 45, "additions": 37, "deletions": 8}, "files": [{"sha": "4163a2cf51c803aaa7eaec16b93aba1a2f80b4a6", "filename": "crates/ra_parser/src/grammar/expressions.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/553353e3160c589ee4b77bd30fa5bbd6df5e0e70/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/553353e3160c589ee4b77bd30fa5bbd6df5e0e70/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions.rs?ref=553353e3160c589ee4b77bd30fa5bbd6df5e0e70", "patch": "@@ -169,6 +169,7 @@ pub(super) fn stmt(p: &mut Parser, with_semi: StmtWithSemi) {\n     //     let d: i32 = 92;\n     //     let e: !;\n     //     let _: ! = {};\n+    //     let f = #[attr]||{};\n     // }\n     fn let_stmt(p: &mut Parser, m: Marker, with_semi: StmtWithSemi) {\n         assert!(p.at(T![let]));\n@@ -178,7 +179,7 @@ pub(super) fn stmt(p: &mut Parser, with_semi: StmtWithSemi) {\n             types::ascription(p);\n         }\n         if p.eat(T![=]) {\n-            expressions::expr(p);\n+            expressions::expr_with_attrs(p);\n         }\n \n         match with_semi {"}, {"sha": "fa8ee49a23101f872274480bd1519351d175b96b", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0130_let_stmt.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/553353e3160c589ee4b77bd30fa5bbd6df5e0e70/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0130_let_stmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/553353e3160c589ee4b77bd30fa5bbd6df5e0e70/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0130_let_stmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0130_let_stmt.rs?ref=553353e3160c589ee4b77bd30fa5bbd6df5e0e70", "patch": "@@ -5,4 +5,5 @@ fn foo() {\n     let d: i32 = 92;\n     let e: !;\n     let _: ! = {};\n+    let f = #[attr]||{};\n }"}, {"sha": "17739dfbd99b561bc9ba595c0ce31a1d26b7a18f", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0130_let_stmt.txt", "status": "modified", "additions": 34, "deletions": 7, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/553353e3160c589ee4b77bd30fa5bbd6df5e0e70/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0130_let_stmt.txt", "raw_url": "https://github.com/rust-lang/rust/raw/553353e3160c589ee4b77bd30fa5bbd6df5e0e70/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0130_let_stmt.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0130_let_stmt.txt?ref=553353e3160c589ee4b77bd30fa5bbd6df5e0e70", "patch": "@@ -1,5 +1,5 @@\n-SOURCE_FILE@[0; 110)\n-  FN_DEF@[0; 109)\n+SOURCE_FILE@[0; 135)\n+  FN_DEF@[0; 134)\n     FN_KW@[0; 2) \"fn\"\n     WHITESPACE@[2; 3) \" \"\n     NAME@[3; 6)\n@@ -8,8 +8,8 @@ SOURCE_FILE@[0; 110)\n       L_PAREN@[6; 7) \"(\"\n       R_PAREN@[7; 8) \")\"\n     WHITESPACE@[8; 9) \" \"\n-    BLOCK_EXPR@[9; 109)\n-      BLOCK@[9; 109)\n+    BLOCK_EXPR@[9; 134)\n+      BLOCK@[9; 134)\n         L_CURLY@[9; 10) \"{\"\n         WHITESPACE@[10; 15) \"\\n    \"\n         LET_STMT@[15; 21)\n@@ -97,6 +97,33 @@ SOURCE_FILE@[0; 110)\n               L_CURLY@[104; 105) \"{\"\n               R_CURLY@[105; 106) \"}\"\n           SEMI@[106; 107) \";\"\n-        WHITESPACE@[107; 108) \"\\n\"\n-        R_CURLY@[108; 109) \"}\"\n-  WHITESPACE@[109; 110) \"\\n\"\n+        WHITESPACE@[107; 112) \"\\n    \"\n+        LET_STMT@[112; 132)\n+          LET_KW@[112; 115) \"let\"\n+          WHITESPACE@[115; 116) \" \"\n+          BIND_PAT@[116; 117)\n+            NAME@[116; 117)\n+              IDENT@[116; 117) \"f\"\n+          WHITESPACE@[117; 118) \" \"\n+          EQ@[118; 119) \"=\"\n+          WHITESPACE@[119; 120) \" \"\n+          LAMBDA_EXPR@[120; 131)\n+            ATTR@[120; 127)\n+              POUND@[120; 121) \"#\"\n+              L_BRACK@[121; 122) \"[\"\n+              PATH@[122; 126)\n+                PATH_SEGMENT@[122; 126)\n+                  NAME_REF@[122; 126)\n+                    IDENT@[122; 126) \"attr\"\n+              R_BRACK@[126; 127) \"]\"\n+            PARAM_LIST@[127; 129)\n+              PIPE@[127; 128) \"|\"\n+              PIPE@[128; 129) \"|\"\n+            BLOCK_EXPR@[129; 131)\n+              BLOCK@[129; 131)\n+                L_CURLY@[129; 130) \"{\"\n+                R_CURLY@[130; 131) \"}\"\n+          SEMI@[131; 132) \";\"\n+        WHITESPACE@[132; 133) \"\\n\"\n+        R_CURLY@[133; 134) \"}\"\n+  WHITESPACE@[134; 135) \"\\n\""}]}