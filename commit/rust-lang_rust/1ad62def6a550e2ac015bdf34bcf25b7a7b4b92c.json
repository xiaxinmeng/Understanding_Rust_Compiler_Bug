{"sha": "1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhZDYyZGVmNmE1NTBlMmFjMDE1YmRmMzRiY2YyNWI3YTdiNGI5MmM=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-04-04T20:40:50Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-04-04T20:40:50Z"}, "message": "build: Cleanup of test summary printing", "tree": {"sha": "8fe2945f47161b258035c56dde86d52eed786ad9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8fe2945f47161b258035c56dde86d52eed786ad9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c", "html_url": "https://github.com/rust-lang/rust/commit/1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5cc050b265509c19717e11e12dd785d8c73f5b11", "url": "https://api.github.com/repos/rust-lang/rust/commits/5cc050b265509c19717e11e12dd785d8c73f5b11", "html_url": "https://github.com/rust-lang/rust/commit/5cc050b265509c19717e11e12dd785d8c73f5b11"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "7b503b2109aedfc710b4b454252ebe48691d9927", "filename": "mk/tests.mk", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c", "patch": "@@ -66,11 +66,17 @@ endif\n # Main test targets\n ######################################################################\n \n-check: tidy all check-stage2\n-\t$(S)src/etc/check-summary.py tmp/*.log\n+cleantmptestlogs:\n+\t$(Q)rm -f tmp/*.log\n \n-check-full: tidy all check-stage1 check-stage2 check-stage3\n-\t$(S)src/etc/check-summary.py tmp/*.log\n+check: cleantmptestlogs tidy all check-stage2\n+\t$(Q)$(S)src/etc/check-summary.py tmp/*.log\n+\n+check-full: cleantmptestlogs tidy all check-stage1 check-stage2 check-stage3\n+\t$(Q)$(S)src/etc/check-summary.py tmp/*.log\n+\n+check-test: cleantmptestlogs all check-stage2-rfail\n+\t$(Q)$(S)src/etc/check-summary.py tmp/*.log\n \n # Run the tidy script in multiple parts to avoid huge 'echo' commands\n ifdef CFG_NOTIDY"}, {"sha": "7faacbfbb26bac44bb0e964a7c8ceb0b26dc4425", "filename": "src/etc/check-summary.py", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c/src%2Fetc%2Fcheck-summary.py", "raw_url": "https://github.com/rust-lang/rust/raw/1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c/src%2Fetc%2Fcheck-summary.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fcheck-summary.py?ref=1ad62def6a550e2ac015bdf34bcf25b7a7b4b92c", "patch": "@@ -20,8 +20,9 @@ def count(t):\n     ok = count('ok')\n     failed = count('failed')\n     ignored = count('ignored')\n-    print \"summary of %d test logs: %d passed; %d failed; %d ignored\" % \\\n+    print \"summary of %d test runs: %d passed; %d failed; %d ignored\" % \\\n             (len(logfiles), ok, failed, ignored)\n+    print \"\"\n     if failed > 0:\n         print \"failed tests:\"\n         for f, s in summaries:"}]}