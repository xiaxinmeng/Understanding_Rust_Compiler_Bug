{"sha": "7a70ec1ba6e64949cab5edcad33b0d7538065884", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdhNzBlYzFiYTZlNjQ5NDljYWI1ZWRjYWQzM2IwZDc1MzgwNjU4ODQ=", "commit": {"author": {"name": "Huon Wilson", "email": "dbau.pp+github@gmail.com", "date": "2014-03-07T14:24:54Z"}, "committer": {"name": "Huon Wilson", "email": "dbau.pp+github@gmail.com", "date": "2014-03-09T08:29:49Z"}, "message": "rustdoc: hardcode each header as a link.\n\nThis avoids having to include JS in the guide/tutorial/manual pages just\nto get the headers being links. The on-hover behaviour showing the\nlittle section marker \u00a7 is preserved, because that gives a useful hint\nthat the heading is a link.", "tree": {"sha": "8f6fddd21c3d2a9744f6b97439740cb22f822a45", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8f6fddd21c3d2a9744f6b97439740cb22f822a45"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7a70ec1ba6e64949cab5edcad33b0d7538065884", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7a70ec1ba6e64949cab5edcad33b0d7538065884", "html_url": "https://github.com/rust-lang/rust/commit/7a70ec1ba6e64949cab5edcad33b0d7538065884", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7a70ec1ba6e64949cab5edcad33b0d7538065884/comments", "author": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f22c96cc888eac4c1c5d44ea4765e5c2a65f64f3", "url": "https://api.github.com/repos/rust-lang/rust/commits/f22c96cc888eac4c1c5d44ea4765e5c2a65f64f3", "html_url": "https://github.com/rust-lang/rust/commit/f22c96cc888eac4c1c5d44ea4765e5c2a65f64f3"}], "stats": {"total": 31, "additions": 17, "deletions": 14}, "files": [{"sha": "61c1cd734a38d9652e2f8c30b4ce89d5bb777abe", "filename": "src/librustdoc/html/markdown.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7a70ec1ba6e64949cab5edcad33b0d7538065884/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a70ec1ba6e64949cab5edcad33b0d7538065884/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs?ref=7a70ec1ba6e64949cab5edcad33b0d7538065884", "patch": "@@ -209,7 +209,8 @@ pub fn render(w: &mut io::Writer, s: &str, print_toc: bool) -> fmt::Result {\n         };\n \n         // Render the HTML\n-        let text = format!(r#\"<h{lvl} id=\"{id}\">{sec_len,plural,=0{}other{{sec} }}{}</h{lvl}>\"#,\n+        let text = format!(r#\"<h{lvl} id=\"{id}\"><a\n+                           href=\"\\#{id}\">{sec_len,plural,=0{}other{{sec} }}{}</a></h{lvl}>\"#,\n                            s, lvl = level, id = id,\n                            sec_len = sec.len(), sec = sec);\n "}, {"sha": "b705e976e4656ddddb12e6befe6929d8724f6ba9", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7a70ec1ba6e64949cab5edcad33b0d7538065884/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a70ec1ba6e64949cab5edcad33b0d7538065884/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=7a70ec1ba6e64949cab5edcad33b0d7538065884", "patch": "@@ -1064,7 +1064,8 @@ fn item_module(w: &mut Writer, cx: &Context,\n                 clean::ForeignStaticItem(..)   => (\"ffi-statics\", \"Foreign Statics\"),\n                 clean::MacroItem(..)           => (\"macros\", \"Macros\"),\n             };\n-            try!(write!(w, \"<h2 id='{}'>{}</h2>\\n<table>\", short, name));\n+            try!(write!(w, \"<h2 id='{id}'><a href=\\\"\\\\#{id}\\\">{name}</a></h2>\\n<table>\",\n+                        id = short, name = name));\n         }\n \n         match myitem.inner {"}, {"sha": "0efee51a2190986a5a19a38a5d7184fe1df5f47a", "filename": "src/librustdoc/html/static/main.css", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/7a70ec1ba6e64949cab5edcad33b0d7538065884/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "raw_url": "https://github.com/rust-lang/rust/raw/7a70ec1ba6e64949cab5edcad33b0d7538065884/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css?ref=7a70ec1ba6e64949cab5edcad33b0d7538065884", "patch": "@@ -320,9 +320,16 @@ pre.rust .string { color: #718C00; }\n pre.rust .lifetime { color: #C13928; }\n pre.rust .attribute, pre.rust .attribute .ident { color: #C82829; }\n \n-h1 a.anchor,\n-h2 a.anchor,\n-h3 a.anchor { display: none; }\n-h1:hover a.anchor,\n-h2:hover a.anchor,\n-h3:hover a.anchor { display: inline-block; }\n+h1:hover a:after,\n+h2:hover a:after,\n+h3:hover a:after,\n+h4:hover a:after,\n+h5:hover a:after,\n+h6:hover a:after {\n+  content: '\u2002\u00a7\u2002';\n+}\n+\n+h1.fqn:hover a:after,\n+:hover a.fnname:after {\n+  content: none;\n+}"}, {"sha": "3056bca68d7845e89dfa74bad7d88930cbb884a0", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/7a70ec1ba6e64949cab5edcad33b0d7538065884/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/7a70ec1ba6e64949cab5edcad33b0d7538065884/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=7a70ec1ba6e64949cab5edcad33b0d7538065884", "patch": "@@ -600,10 +600,4 @@\n \n     initSearch(searchIndex);\n \n-    $.each($('h1, h2, h3'), function(idx, element) {\n-        if ($(element).attr('id') != undefined) {\n-            $(element).append('<a href=\"#' + $(element).attr('id') + '\" ' +\n-                              'class=\"anchor\">\u2002\u00a7\u2002</a>');\n-        }\n-    });\n }());"}]}