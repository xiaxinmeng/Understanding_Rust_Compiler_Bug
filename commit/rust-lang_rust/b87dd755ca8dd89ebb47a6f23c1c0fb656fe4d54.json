{"sha": "b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54", "node_id": "C_kwDOAAsO6NoAKGI4N2RkNzU1Y2E4ZGQ4OWViYjQ3YTZmMjNjMWMwZmI2NTZmZTRkNTQ", "commit": {"author": {"name": "name1e5s", "email": "name1e5s@qq.com", "date": "2022-03-19T14:05:56Z"}, "committer": {"name": "name1e5s", "email": "name1e5s@qq.com", "date": "2022-05-08T14:15:26Z"}, "message": "fix panic in Path::strip_prefix", "tree": {"sha": "8312cf1ac6bb2bb2d115e7af6c91f20263188e5e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8312cf1ac6bb2bb2d115e7af6c91f20263188e5e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54", "html_url": "https://github.com/rust-lang/rust/commit/b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54/comments", "author": {"login": "name1e5s", "id": 15176913, "node_id": "MDQ6VXNlcjE1MTc2OTEz", "avatar_url": "https://avatars.githubusercontent.com/u/15176913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/name1e5s", "html_url": "https://github.com/name1e5s", "followers_url": "https://api.github.com/users/name1e5s/followers", "following_url": "https://api.github.com/users/name1e5s/following{/other_user}", "gists_url": "https://api.github.com/users/name1e5s/gists{/gist_id}", "starred_url": "https://api.github.com/users/name1e5s/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/name1e5s/subscriptions", "organizations_url": "https://api.github.com/users/name1e5s/orgs", "repos_url": "https://api.github.com/users/name1e5s/repos", "events_url": "https://api.github.com/users/name1e5s/events{/privacy}", "received_events_url": "https://api.github.com/users/name1e5s/received_events", "type": "User", "site_admin": false}, "committer": {"login": "name1e5s", "id": 15176913, "node_id": "MDQ6VXNlcjE1MTc2OTEz", "avatar_url": "https://avatars.githubusercontent.com/u/15176913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/name1e5s", "html_url": "https://github.com/name1e5s", "followers_url": "https://api.github.com/users/name1e5s/followers", "following_url": "https://api.github.com/users/name1e5s/following{/other_user}", "gists_url": "https://api.github.com/users/name1e5s/gists{/gist_id}", "starred_url": "https://api.github.com/users/name1e5s/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/name1e5s/subscriptions", "organizations_url": "https://api.github.com/users/name1e5s/orgs", "repos_url": "https://api.github.com/users/name1e5s/repos", "events_url": "https://api.github.com/users/name1e5s/events{/privacy}", "received_events_url": "https://api.github.com/users/name1e5s/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8fbd92d0b95d847c68948d8dbbfaccb470db4f92", "url": "https://api.github.com/repos/rust-lang/rust/commits/8fbd92d0b95d847c68948d8dbbfaccb470db4f92", "html_url": "https://github.com/rust-lang/rust/commit/8fbd92d0b95d847c68948d8dbbfaccb470db4f92"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "36d6469c02d31e1f46e4c3e1686879e357ffa468", "filename": "library/std/src/path.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54/library%2Fstd%2Fsrc%2Fpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54/library%2Fstd%2Fsrc%2Fpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fpath.rs?ref=b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54", "patch": "@@ -725,7 +725,7 @@ impl<'a> Components<'a> {\n         if self.has_root() {\n             return false;\n         }\n-        let mut iter = self.path[self.prefix_len()..].iter();\n+        let mut iter = self.path[self.prefix_remaining()..].iter();\n         match (iter.next(), iter.next()) {\n             (Some(&b'.'), None) => true,\n             (Some(&b'.'), Some(&b)) => self.is_sep_byte(b),"}, {"sha": "2f7ec433bf26119fff40524224ca5463aa341d52", "filename": "library/std/src/sys/windows/path/tests.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fpath%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fpath%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fpath%2Ftests.rs?ref=b87dd755ca8dd89ebb47a6f23c1c0fb656fe4d54", "patch": "@@ -114,3 +114,15 @@ fn test_parse_prefix_verbatim_device() {\n     assert_eq!(prefix, parse_prefix(r\"/\\?\\C:\\windows\\system32\\notepad.exe\"));\n     assert_eq!(prefix, parse_prefix(r\"\\\\?/C:\\windows\\system32\\notepad.exe\"));\n }\n+\n+// See #93586 for more infomation.\n+#[test]\n+fn test_windows_prefix_components() {\n+    use crate::path::Path;\n+\n+    let path = Path::new(\"C:\");\n+    let mut components = path.components();\n+    let drive = components.next().expect(\"drive is expected here\");\n+    assert_eq!(drive.as_os_str(), OsStr::new(\"C:\"));\n+    assert_eq!(components.as_path(), Path::new(\"\"));\n+}"}]}