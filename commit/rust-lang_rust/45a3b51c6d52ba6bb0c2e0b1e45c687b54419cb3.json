{"sha": "45a3b51c6d52ba6bb0c2e0b1e45c687b54419cb3", "node_id": "C_kwDOAAsO6NoAKDQ1YTNiNTFjNmQ1MmJhNmJiMGMyZTBiMWU0NWM2ODdiNTQ0MTljYjM", "commit": {"author": {"name": "hotate29", "email": "hotate_oc@yahoo.co.jp", "date": "2021-12-21T13:20:58Z"}, "committer": {"name": "hotate29", "email": "hotate_oc@yahoo.co.jp", "date": "2021-12-24T15:29:30Z"}, "message": "Use helper functions in ```Sugg``` tests.", "tree": {"sha": "c289e0868fbfa94ace57795c915dfb07f1d929af", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c289e0868fbfa94ace57795c915dfb07f1d929af"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/45a3b51c6d52ba6bb0c2e0b1e45c687b54419cb3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEaFZ9ibIIMdUY9nqJ23IOcqY4C1oFAmHF51oACgkQ23IOcqY4\nC1pA5w/8DbUIWzMjpXhw2VBPrVk3JUeDUQpIIFKjfaKEZebGV8IbbeO7oQJbbMv+\n22T0OtZDmat2bVPq/+cJELgxUMvLYFYAgNeDKI+T1gN2K+/C3k8NaTA7BVG1EEjJ\n0sZ/oPLN5hd+IpulRygLwWnHBTi9nBM3zb2ioyQEriOegauZ2OupRoMg5svJrEZZ\nNhQUDxFOpoWBko6hWKfvt8Id1hEMXI6S4KOzzLwiWAv60zqeKFtVDUYyUcAGdY2O\nmtNxpAt0tjteHzf7p9bUbW8byVBxvEhrf829XvVYjUOQmm1bas9iSIycfQoIDRH1\nz15pbOsdR6LVEA0W5lvTaVVkFTSGyY6kD87ELuaufB9te7HXWXHthMhnbfyV3Ibm\nUTi0lfqTxFyvsRm5FVpFM230uVFH5xYGqRxEp3UIpTZaxsmYPTqMcVvlNvXgJa2f\ndYBUfryi5pPqnKt86NlK3Kf8GWZKi6KztljUmyPMOKhU92ouurtbZlYP+XS9Hjji\n8VXqAjNRD10LQa23CQmsnpqUiwii2j9vg7LDe7+m24MuV2EGU6tsvWDiwL1U9+8S\n5p/U8opQ4wN0U7hi4F4ALY6muWndV9cwhMzXgo3SvRQ61QjJDUkr5Py35ulHUktK\n9Vg/p8RrdNg/Raj1yM9exmSRC/V+J/AJp9+B+F9lhBwyvO3IbkQ=\n=O9Wc\n-----END PGP SIGNATURE-----", "payload": "tree c289e0868fbfa94ace57795c915dfb07f1d929af\nparent 0b6d1fdea210877c54e3334c610cf7ff209e11ae\nauthor hotate29 <hotate_oc@yahoo.co.jp> 1640092858 +0900\ncommitter hotate29 <hotate_oc@yahoo.co.jp> 1640359770 +0900\n\nUse helper functions in ```Sugg``` tests.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/45a3b51c6d52ba6bb0c2e0b1e45c687b54419cb3", "html_url": "https://github.com/rust-lang/rust/commit/45a3b51c6d52ba6bb0c2e0b1e45c687b54419cb3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/45a3b51c6d52ba6bb0c2e0b1e45c687b54419cb3/comments", "author": {"login": "hotate29", "id": 44938840, "node_id": "MDQ6VXNlcjQ0OTM4ODQw", "avatar_url": "https://avatars.githubusercontent.com/u/44938840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hotate29", "html_url": "https://github.com/hotate29", "followers_url": "https://api.github.com/users/hotate29/followers", "following_url": "https://api.github.com/users/hotate29/following{/other_user}", "gists_url": "https://api.github.com/users/hotate29/gists{/gist_id}", "starred_url": "https://api.github.com/users/hotate29/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hotate29/subscriptions", "organizations_url": "https://api.github.com/users/hotate29/orgs", "repos_url": "https://api.github.com/users/hotate29/repos", "events_url": "https://api.github.com/users/hotate29/events{/privacy}", "received_events_url": "https://api.github.com/users/hotate29/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hotate29", "id": 44938840, "node_id": "MDQ6VXNlcjQ0OTM4ODQw", "avatar_url": "https://avatars.githubusercontent.com/u/44938840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hotate29", "html_url": "https://github.com/hotate29", "followers_url": "https://api.github.com/users/hotate29/followers", "following_url": "https://api.github.com/users/hotate29/following{/other_user}", "gists_url": "https://api.github.com/users/hotate29/gists{/gist_id}", "starred_url": "https://api.github.com/users/hotate29/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hotate29/subscriptions", "organizations_url": "https://api.github.com/users/hotate29/orgs", "repos_url": "https://api.github.com/users/hotate29/repos", "events_url": "https://api.github.com/users/hotate29/events{/privacy}", "received_events_url": "https://api.github.com/users/hotate29/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0b6d1fdea210877c54e3334c610cf7ff209e11ae", "url": "https://api.github.com/repos/rust-lang/rust/commits/0b6d1fdea210877c54e3334c610cf7ff209e11ae", "html_url": "https://github.com/rust-lang/rust/commit/0b6d1fdea210877c54e3334c610cf7ff209e11ae"}], "stats": {"total": 39, "additions": 14, "deletions": 25}, "files": [{"sha": "92662c59226a2e300f38ac8378fe9f932540ce98", "filename": "clippy_utils/src/sugg.rs", "status": "modified", "additions": 14, "deletions": 25, "changes": 39, "blob_url": "https://github.com/rust-lang/rust/blob/45a3b51c6d52ba6bb0c2e0b1e45c687b54419cb3/clippy_utils%2Fsrc%2Fsugg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/45a3b51c6d52ba6bb0c2e0b1e45c687b54419cb3/clippy_utils%2Fsrc%2Fsugg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Fsugg.rs?ref=45a3b51c6d52ba6bb0c2e0b1e45c687b54419cb3", "patch": "@@ -1070,33 +1070,22 @@ mod test {\n     fn not_op() {\n         use AssocOp::{Add, Equal, Greater, GreaterEqual, LAnd, LOr, Less, LessEqual, NotEqual};\n \n-        // Invert the comparison operator.\n-        let sugg = Sugg::BinOp(Equal, \"1\".into(), \"1\".into());\n-        assert_eq!(\"1 != 1\", (!sugg).to_string());\n-\n-        let sugg = Sugg::BinOp(NotEqual, \"1\".into(), \"1\".into());\n-        assert_eq!(\"1 == 1\", (!sugg).to_string());\n-\n-        let sugg = Sugg::BinOp(Less, \"1\".into(), \"1\".into());\n-        assert_eq!(\"1 >= 1\", (!sugg).to_string());\n-\n-        let sugg = Sugg::BinOp(LessEqual, \"1\".into(), \"1\".into());\n-        assert_eq!(\"1 > 1\", (!sugg).to_string());\n-\n-        let sugg = Sugg::BinOp(Greater, \"1\".into(), \"1\".into());\n-        assert_eq!(\"1 <= 1\", (!sugg).to_string());\n+        fn test_not(op: AssocOp, correct: &str) {\n+            let sugg = Sugg::BinOp(op, \"x\".into(), \"y\".into());\n+            assert_eq!((!sugg).to_string(), correct);\n+        }\n \n-        let sugg = Sugg::BinOp(GreaterEqual, \"1\".into(), \"1\".into());\n-        assert_eq!(\"1 < 1\", (!sugg).to_string());\n+        // Invert the comparison operator.\n+        test_not(Equal, \"x != y\");\n+        test_not(NotEqual, \"x == y\");\n+        test_not(Less, \"x >= y\");\n+        test_not(LessEqual, \"x > y\");\n+        test_not(Greater, \"x <= y\");\n+        test_not(GreaterEqual, \"x < y\");\n \n         // Other operators are inverted like !(..).\n-        let sugg = Sugg::BinOp(Add, \"1\".into(), \"1\".into());\n-        assert_eq!(\"!(1 + 1)\", (!sugg).to_string());\n-\n-        let sugg = Sugg::BinOp(LAnd, \"1\".into(), \"1\".into());\n-        assert_eq!(\"!(1 && 1)\", (!sugg).to_string());\n-\n-        let sugg = Sugg::BinOp(LOr, \"1\".into(), \"1\".into());\n-        assert_eq!(\"!(1 || 1)\", (!sugg).to_string());\n+        test_not(Add, \"!(x + y)\");\n+        test_not(LAnd, \"!(x && y)\");\n+        test_not(LOr, \"!(x || y)\");\n     }\n }"}]}