{"sha": "d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299", "node_id": "C_kwDOAAsO6NoAKGQwMTBmOTVhZjFiNWJjMzE4OGI4ZmNmNWJmY2FmOWFhZGJmZTIyOTk", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-09-10T15:36:17Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-09-11T20:09:23Z"}, "message": "Update tests for new browser-ui-test version", "tree": {"sha": "c31091c5fcba75e6496c57e7c1ba8f69f987c148", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c31091c5fcba75e6496c57e7c1ba8f69f987c148"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299", "html_url": "https://github.com/rust-lang/rust/commit/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9c3cb2d9bf1a35a471a442f28bf9be6566c52559", "url": "https://api.github.com/repos/rust-lang/rust/commits/9c3cb2d9bf1a35a471a442f28bf9be6566c52559", "html_url": "https://github.com/rust-lang/rust/commit/9c3cb2d9bf1a35a471a442f28bf9be6566c52559"}], "stats": {"total": 27, "additions": 15, "deletions": 12}, "files": [{"sha": "7f97cf220cc55f39a07a69094273bcb58afb3b28", "filename": "src/test/rustdoc-gui/docblock-table-overflow.goml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/src%2Ftest%2Frustdoc-gui%2Fdocblock-table-overflow.goml", "raw_url": "https://github.com/rust-lang/rust/raw/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/src%2Ftest%2Frustdoc-gui%2Fdocblock-table-overflow.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fdocblock-table-overflow.goml?ref=d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299", "patch": "@@ -6,7 +6,7 @@ size: (1100, 800)\n compare-elements-property: (\".top-doc .docblock\", \".top-doc .docblock > p\", [\"scrollWidth\"])\n assert-property: (\".top-doc .docblock\", {\"scrollWidth\": \"801\"})\n // However, since there is overflow in the <table>, its scroll width is bigger.\n-assert-property: (\".top-doc .docblock table\", {\"scrollWidth\": \"1573\"})\n+assert-property: (\".top-doc .docblock table\", {\"scrollWidth\": \"1572\"})\n \n // Checking it works on other doc blocks as well...\n \n@@ -18,4 +18,4 @@ compare-elements-property: (\n )\n assert-property: (\"#implementations-list > details .docblock\", {\"scrollWidth\": \"801\"})\n // However, since there is overflow in the <table>, its scroll width is bigger.\n-assert-property: (\"#implementations-list > details .docblock table\", {\"scrollWidth\": \"1573\"})\n+assert-property: (\"#implementations-list > details .docblock table\", {\"scrollWidth\": \"1572\"})"}, {"sha": "dc50185f01b25449fbadde9c78106b0598b53e51", "filename": "src/test/rustdoc-gui/sidebar-mobile-scroll.goml", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/src%2Ftest%2Frustdoc-gui%2Fsidebar-mobile-scroll.goml", "raw_url": "https://github.com/rust-lang/rust/raw/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/src%2Ftest%2Frustdoc-gui%2Fsidebar-mobile-scroll.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsidebar-mobile-scroll.goml?ref=d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299", "patch": "@@ -6,7 +6,7 @@ assert-css: (\".sidebar\", {\"display\": \"block\", \"left\": \"-1000px\"})\n \n // Scroll down.\n scroll-to: \"//h2[@id='blanket-implementations']\"\n-assert-window-property: {\"pageYOffset\": \"702\"}\n+assert-window-property: {\"pageYOffset\": \"643\"}\n \n // Open the sidebar menu.\n click: \".sidebar-menu-toggle\"\n@@ -21,11 +21,11 @@ assert-window-property: {\"pageYOffset\": \"0\"}\n // Close the sidebar menu. Make sure the scroll position gets restored.\n click: \".sidebar-menu-toggle\"\n wait-for-css: (\".sidebar\", {\"left\": \"-1000px\"})\n-assert-window-property: {\"pageYOffset\": \"702\"}\n+assert-window-property: {\"pageYOffset\": \"643\"}\n \n // Now test that scrollability returns when the browser window is just resized.\n click: \".sidebar-menu-toggle\"\n wait-for-css: (\".sidebar\", {\"left\": \"0px\"})\n assert-window-property: {\"pageYOffset\": \"0\"}\n-size: (900, 900)\n-assert-window-property: {\"pageYOffset\": \"702\"}\n+size: (900, 600)\n+assert-window-property: {\"pageYOffset\": \"643\"}"}, {"sha": "4321efcdb17127ecec10455ae256f772095e5a4d", "filename": "src/test/rustdoc-gui/sidebar-source-code-display.goml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/src%2Ftest%2Frustdoc-gui%2Fsidebar-source-code-display.goml", "raw_url": "https://github.com/rust-lang/rust/raw/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/src%2Ftest%2Frustdoc-gui%2Fsidebar-source-code-display.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsidebar-source-code-display.goml?ref=d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299", "patch": "@@ -224,22 +224,22 @@ click: \"#sidebar-toggle\"\n wait-for-css: (\".sidebar\", {\"width\": \"0px\"})\n // We scroll to line 117 to change the scroll position.\n scroll-to: '//*[@id=\"117\"]'\n-assert-window-property: {\"pageYOffset\": \"2519\"}\n+assert-window-property: {\"pageYOffset\": \"2542\"}\n // Expanding the sidebar...\n click: \"#sidebar-toggle\"\n wait-for-css: (\".sidebar\", {\"width\": \"500px\"})\n click: \"#sidebar-toggle\"\n wait-for-css: (\".sidebar\", {\"width\": \"0px\"})\n // The \"scrollTop\" property should be the same.\n-assert-window-property: {\"pageYOffset\": \"2519\"}\n+assert-window-property: {\"pageYOffset\": \"2542\"}\n \n // We now check that the scroll position is restored if the window is resized.\n size: (500, 700)\n click: \"#sidebar-toggle\"\n wait-for-css: (\"#source-sidebar\", {\"visibility\": \"visible\"})\n assert-window-property: {\"pageYOffset\": \"0\"}\n size: (900, 900)\n-assert-window-property: {\"pageYOffset\": \"2519\"}\n+assert-window-property: {\"pageYOffset\": \"2542\"}\n size: (500, 700)\n click: \"#sidebar-toggle\"\n wait-for-css: (\"#source-sidebar\", {\"visibility\": \"hidden\"})"}, {"sha": "8c3a0bf5bb78f988f18347e312b4932d2d4f9ab2", "filename": "src/test/rustdoc-gui/toggle-click-deadspace.goml", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/src%2Ftest%2Frustdoc-gui%2Ftoggle-click-deadspace.goml", "raw_url": "https://github.com/rust-lang/rust/raw/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/src%2Ftest%2Frustdoc-gui%2Ftoggle-click-deadspace.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftoggle-click-deadspace.goml?ref=d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299", "patch": "@@ -4,7 +4,10 @@ goto: file://|DOC_PATH|/lib2/struct.Foo.html\n assert-attribute: (\".impl-items .rustdoc-toggle\", {\"open\": \"\"})\n click: \"h4.code-header\" // This is the position of \"pub\" in \"pub fn a_method\"\n assert-attribute: (\".impl-items .rustdoc-toggle\", {\"open\": \"\"})\n-click: \".impl-items .rustdoc-toggle summary::before\" // This is the position of \"[-]\" next to that pub fn.\n+click-with-offset: (\n+    \".impl-items .rustdoc-toggle summary\",\n+    {\"x\": -24, \"y\": 8}, // This is the position of \"[-]\" next to that pub fn.\n+)\n assert-attribute-false: (\".impl-items .rustdoc-toggle\", {\"open\": \"\"})\n \n // Click the \"Trait\" part of \"impl Trait\" and verify it navigates."}, {"sha": "9a46908f9333bc51a627ee6915d70e29a1b119bc", "filename": "src/test/rustdoc-gui/type-declation-overflow.goml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "raw_url": "https://github.com/rust-lang/rust/raw/d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml?ref=d010f95af1b5bc3188b8fcf5bfcaf9aadbfe2299", "patch": "@@ -32,6 +32,6 @@ assert-property: (\".item-decl pre\", {\"scrollWidth\": \"950\"})\n size: (600, 600)\n goto: file://|DOC_PATH|/lib2/too_long/struct.SuperIncrediblyLongLongLongLongLongLongLongGigaGigaGigaMegaLongLongLongStructName.html\n // It shouldn't have an overflow in the topbar either.\n-assert-property: (\".mobile-topbar .location\", {\"scrollWidth\": \"502\"})\n-assert-property: (\".mobile-topbar .location\", {\"clientWidth\": \"502\"})\n+assert-property: (\".mobile-topbar .location\", {\"scrollWidth\": \"500\"})\n+assert-property: (\".mobile-topbar .location\", {\"clientWidth\": \"500\"})\n assert-css: (\".mobile-topbar .location\", {\"overflow-x\": \"hidden\"})"}]}