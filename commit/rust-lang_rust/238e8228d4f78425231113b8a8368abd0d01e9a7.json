{"sha": "238e8228d4f78425231113b8a8368abd0d01e9a7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIzOGU4MjI4ZDRmNzg0MjUyMzExMTNiOGE4MzY4YWJkMGQwMWU5YTc=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-04-22T14:41:14Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-04-22T14:41:14Z"}, "message": "Rollup merge of #71401 - spastorino:remove-visit-place-base, r=wesleywiser\n\nvisit_place_base is just visit_local\n\nr? @wesleywiser", "tree": {"sha": "204cb68bfa741c89106f64b17737329428bee4f5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/204cb68bfa741c89106f64b17737329428bee4f5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/238e8228d4f78425231113b8a8368abd0d01e9a7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeoFeKCRBK7hj4Ov3rIwAAdHIIACff28Rr3xTZIoR+H228HifT\n4vBHI6SnH/ilvwY32O357DKRo4P/QSyOIRypzOgmEuyucDQOdx/ugE5aXxK/4EM/\nH5TwUwUTshxCYoYHCPRVROxecH79OihKO+31gwOvJz69v4YDnc8/3nJp2zxsqVf2\nU2CnQEKOyzrjO1hnbr/7QKOz9oaKPHF97RfMuF3h6DvqD0Bm9oQ4bP69QELUcJ88\na0bnkUhz+VXjLqt6f6KVQF9M0ocUsoQrARY2oOTPnXMEEqGAKeSIu+otnoYQVnUe\n/Rec6BsZoi1O/Ll+SzPRmPvkFPJtCHKrin1z3GrJ1FIcamznb188Smfzgyzav+E=\n=3b3t\n-----END PGP SIGNATURE-----\n", "payload": "tree 204cb68bfa741c89106f64b17737329428bee4f5\nparent 7939a4d728aff0bca3cd75515fc60f537e5d9ec6\nparent 15ecfe65a8f3aa54ab2af11993de7602c9431082\nauthor Dylan DPC <dylan.dpc@gmail.com> 1587566474 +0200\ncommitter GitHub <noreply@github.com> 1587566474 +0200\n\nRollup merge of #71401 - spastorino:remove-visit-place-base, r=wesleywiser\n\nvisit_place_base is just visit_local\n\nr? @wesleywiser\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/238e8228d4f78425231113b8a8368abd0d01e9a7", "html_url": "https://github.com/rust-lang/rust/commit/238e8228d4f78425231113b8a8368abd0d01e9a7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/238e8228d4f78425231113b8a8368abd0d01e9a7/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7939a4d728aff0bca3cd75515fc60f537e5d9ec6", "url": "https://api.github.com/repos/rust-lang/rust/commits/7939a4d728aff0bca3cd75515fc60f537e5d9ec6", "html_url": "https://github.com/rust-lang/rust/commit/7939a4d728aff0bca3cd75515fc60f537e5d9ec6"}, {"sha": "15ecfe65a8f3aa54ab2af11993de7602c9431082", "url": "https://api.github.com/repos/rust-lang/rust/commits/15ecfe65a8f3aa54ab2af11993de7602c9431082", "html_url": "https://github.com/rust-lang/rust/commit/15ecfe65a8f3aa54ab2af11993de7602c9431082"}], "stats": {"total": 35, "additions": 10, "deletions": 25}, "files": [{"sha": "5ce60b8b3d406468583c430ad25363e952deda79", "filename": "src/librustc_codegen_ssa/mir/analyze.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/238e8228d4f78425231113b8a8368abd0d01e9a7/src%2Flibrustc_codegen_ssa%2Fmir%2Fanalyze.rs", "raw_url": "https://github.com/rust-lang/rust/raw/238e8228d4f78425231113b8a8368abd0d01e9a7/src%2Flibrustc_codegen_ssa%2Fmir%2Fanalyze.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2Fmir%2Fanalyze.rs?ref=238e8228d4f78425231113b8a8368abd0d01e9a7", "patch": "@@ -204,7 +204,7 @@ impl<Bx: BuilderMethods<'a, 'tcx>> LocalAnalyzer<'mir, 'a, 'tcx, Bx> {\n                 };\n             }\n \n-            self.visit_place_base(&place_ref.local, context, location);\n+            self.visit_local(&place_ref.local, context, location);\n             self.visit_projection(place_ref.local, place_ref.projection, context, location);\n         }\n     }"}, {"sha": "633524605360825120545557b90b4d16f5303127", "filename": "src/librustc_middle/mir/visit.rs", "status": "modified", "additions": 2, "deletions": 16, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/238e8228d4f78425231113b8a8368abd0d01e9a7/src%2Flibrustc_middle%2Fmir%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/238e8228d4f78425231113b8a8368abd0d01e9a7/src%2Flibrustc_middle%2Fmir%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_middle%2Fmir%2Fvisit.rs?ref=238e8228d4f78425231113b8a8368abd0d01e9a7", "patch": "@@ -163,13 +163,6 @@ macro_rules! make_mir_visitor {\n                 self.super_place(place, context, location);\n             }\n \n-            fn visit_place_base(&mut self,\n-                                local: & $($mutability)? Local,\n-                                context: PlaceContext,\n-                                location: Location) {\n-                self.super_place_base(local, context, location);\n-            }\n-\n             visit_place_fns!($($mutability)?);\n \n             fn visit_constant(&mut self,\n@@ -710,13 +703,6 @@ macro_rules! make_mir_visitor {\n                 );\n             }\n \n-            fn super_place_base(&mut self,\n-                                local: & $($mutability)? Local,\n-                                context: PlaceContext,\n-                                location: Location) {\n-                self.visit_local(local, context, location);\n-            }\n-\n             fn super_local_decl(&mut self,\n                                 local: Local,\n                                 local_decl: & $($mutability)? LocalDecl<'tcx>) {\n@@ -847,7 +833,7 @@ macro_rules! visit_place_fns {\n             context: PlaceContext,\n             location: Location,\n         ) {\n-            self.visit_place_base(&mut place.local, context, location);\n+            self.visit_local(&mut place.local, context, location);\n \n             if let Some(new_projection) = self.process_projection(&place.projection, location) {\n                 place.projection = self.tcx().intern_place_elems(&new_projection);\n@@ -936,7 +922,7 @@ macro_rules! visit_place_fns {\n                 };\n             }\n \n-            self.visit_place_base(&place.local, context, location);\n+            self.visit_local(&place.local, context, location);\n \n             self.visit_projection(place.local, &place.projection, context, location);\n         }"}, {"sha": "129dfe98e5ea7dd4dfeeb50259e466e85e1b3b28", "filename": "src/librustc_mir/monomorphize/collector.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/238e8228d4f78425231113b8a8368abd0d01e9a7/src%2Flibrustc_mir%2Fmonomorphize%2Fcollector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/238e8228d4f78425231113b8a8368abd0d01e9a7/src%2Flibrustc_mir%2Fmonomorphize%2Fcollector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fmonomorphize%2Fcollector.rs?ref=238e8228d4f78425231113b8a8368abd0d01e9a7", "patch": "@@ -648,7 +648,7 @@ impl<'a, 'tcx> MirVisitor<'tcx> for MirNeighborCollector<'a, 'tcx> {\n         self.super_terminator_kind(kind, location);\n     }\n \n-    fn visit_place_base(\n+    fn visit_local(\n         &mut self,\n         _place_local: &Local,\n         _context: mir::visit::PlaceContext,"}, {"sha": "1a0f875191b3bcd1bfac92af035d1b2aff9420cc", "filename": "src/librustc_mir/transform/check_consts/validation.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/238e8228d4f78425231113b8a8368abd0d01e9a7/src%2Flibrustc_mir%2Ftransform%2Fcheck_consts%2Fvalidation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/238e8228d4f78425231113b8a8368abd0d01e9a7/src%2Flibrustc_mir%2Ftransform%2Fcheck_consts%2Fvalidation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fcheck_consts%2Fvalidation.rs?ref=238e8228d4f78425231113b8a8368abd0d01e9a7", "patch": "@@ -276,7 +276,7 @@ impl Visitor<'tcx> for Validator<'_, 'mir, 'tcx> {\n                             PlaceContext::MutatingUse(MutatingUseContext::Borrow)\n                         }\n                     };\n-                    self.visit_place_base(&place.local, ctx, location);\n+                    self.visit_local(&place.local, ctx, location);\n                     self.visit_projection(place.local, reborrowed_proj, ctx, location);\n                     return;\n                 }\n@@ -289,7 +289,7 @@ impl Visitor<'tcx> for Validator<'_, 'mir, 'tcx> {\n                         }\n                         Mutability::Mut => PlaceContext::MutatingUse(MutatingUseContext::AddressOf),\n                     };\n-                    self.visit_place_base(&place.local, ctx, location);\n+                    self.visit_local(&place.local, ctx, location);\n                     self.visit_projection(place.local, reborrowed_proj, ctx, location);\n                     return;\n                 }\n@@ -386,14 +386,13 @@ impl Visitor<'tcx> for Validator<'_, 'mir, 'tcx> {\n         }\n     }\n \n-    fn visit_place_base(&mut self, place_local: &Local, context: PlaceContext, location: Location) {\n+    fn visit_local(&mut self, place_local: &Local, context: PlaceContext, location: Location) {\n         trace!(\n-            \"visit_place_base: place_local={:?} context={:?} location={:?}\",\n+            \"visit_local: place_local={:?} context={:?} location={:?}\",\n             place_local,\n             context,\n             location,\n         );\n-        self.super_place_base(place_local, context, location);\n     }\n \n     fn visit_operand(&mut self, op: &Operand<'tcx>, location: Location) {"}, {"sha": "257b6b4a5cfae650c952df502ccf7374c6501424", "filename": "src/librustc_mir/transform/generator.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/238e8228d4f78425231113b8a8368abd0d01e9a7/src%2Flibrustc_mir%2Ftransform%2Fgenerator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/238e8228d4f78425231113b8a8368abd0d01e9a7/src%2Flibrustc_mir%2Ftransform%2Fgenerator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fgenerator.rs?ref=238e8228d4f78425231113b8a8368abd0d01e9a7", "patch": "@@ -115,7 +115,7 @@ impl<'tcx> MutVisitor<'tcx> for DerefArgVisitor<'tcx> {\n                 self.tcx,\n             );\n         } else {\n-            self.visit_place_base(&mut place.local, context, location);\n+            self.visit_local(&mut place.local, context, location);\n \n             for elem in place.projection.iter() {\n                 if let PlaceElem::Index(local) = elem {\n@@ -154,7 +154,7 @@ impl<'tcx> MutVisitor<'tcx> for PinArgVisitor<'tcx> {\n                 self.tcx,\n             );\n         } else {\n-            self.visit_place_base(&mut place.local, context, location);\n+            self.visit_local(&mut place.local, context, location);\n \n             for elem in place.projection.iter() {\n                 if let PlaceElem::Index(local) = elem {"}]}