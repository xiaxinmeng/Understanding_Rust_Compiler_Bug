{"sha": "dacf2725ec6230e4b99486fd8f87cc9ab5ad995c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRhY2YyNzI1ZWM2MjMwZTRiOTk0ODZmZDhmODdjYzlhYjVhZDk5NWM=", "commit": {"author": {"name": "Daan Rijks", "email": "daanrijks@gmail.com", "date": "2015-08-30T15:32:43Z"}, "committer": {"name": "Daan Rijks", "email": "daanrijks@gmail.com", "date": "2015-08-30T15:32:50Z"}, "message": "Add overrides to iterator methods for `str::Bytes`\n\nSpecifically, `count`, `last`, and `nth` are implemented to use the\nmethods of the underlying slice iterator.\n\nPartially closes #24214.", "tree": {"sha": "54c73053bc8c669879327688ebd96730026cefb0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/54c73053bc8c669879327688ebd96730026cefb0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dacf2725ec6230e4b99486fd8f87cc9ab5ad995c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dacf2725ec6230e4b99486fd8f87cc9ab5ad995c", "html_url": "https://github.com/rust-lang/rust/commit/dacf2725ec6230e4b99486fd8f87cc9ab5ad995c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dacf2725ec6230e4b99486fd8f87cc9ab5ad995c/comments", "author": {"login": "isomorpheme", "id": 9218062, "node_id": "MDQ6VXNlcjkyMTgwNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/9218062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isomorpheme", "html_url": "https://github.com/isomorpheme", "followers_url": "https://api.github.com/users/isomorpheme/followers", "following_url": "https://api.github.com/users/isomorpheme/following{/other_user}", "gists_url": "https://api.github.com/users/isomorpheme/gists{/gist_id}", "starred_url": "https://api.github.com/users/isomorpheme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isomorpheme/subscriptions", "organizations_url": "https://api.github.com/users/isomorpheme/orgs", "repos_url": "https://api.github.com/users/isomorpheme/repos", "events_url": "https://api.github.com/users/isomorpheme/events{/privacy}", "received_events_url": "https://api.github.com/users/isomorpheme/received_events", "type": "User", "site_admin": false}, "committer": {"login": "isomorpheme", "id": 9218062, "node_id": "MDQ6VXNlcjkyMTgwNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/9218062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isomorpheme", "html_url": "https://github.com/isomorpheme", "followers_url": "https://api.github.com/users/isomorpheme/followers", "following_url": "https://api.github.com/users/isomorpheme/following{/other_user}", "gists_url": "https://api.github.com/users/isomorpheme/gists{/gist_id}", "starred_url": "https://api.github.com/users/isomorpheme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isomorpheme/subscriptions", "organizations_url": "https://api.github.com/users/isomorpheme/orgs", "repos_url": "https://api.github.com/users/isomorpheme/repos", "events_url": "https://api.github.com/users/isomorpheme/events{/privacy}", "received_events_url": "https://api.github.com/users/isomorpheme/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "47ea0cfb6bd250c970e3a61d62bfa1b1c7bb27d4", "url": "https://api.github.com/repos/rust-lang/rust/commits/47ea0cfb6bd250c970e3a61d62bfa1b1c7bb27d4", "html_url": "https://github.com/rust-lang/rust/commit/47ea0cfb6bd250c970e3a61d62bfa1b1c7bb27d4"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "dfdf2db02503276b10132c9905e7288601cc1e23", "filename": "src/libcollectionstest/str.rs", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/dacf2725ec6230e4b99486fd8f87cc9ab5ad995c/src%2Flibcollectionstest%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dacf2725ec6230e4b99486fd8f87cc9ab5ad995c/src%2Flibcollectionstest%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollectionstest%2Fstr.rs?ref=dacf2725ec6230e4b99486fd8f87cc9ab5ad995c", "patch": "@@ -813,6 +813,37 @@ fn test_bytes_revator() {\n     }\n }\n \n+#[test]\n+fn test_bytesator_nth() {\n+    let s = \"\u0e28\u0e44\u0e17\u0e22\u4e2d\u534eVi\u1ec7t Nam\";\n+    let v = [\n+        224, 184, 168, 224, 185, 132, 224, 184, 151, 224, 184, 162, 228,\n+        184, 173, 229, 141, 142, 86, 105, 225, 187, 135, 116, 32, 78, 97,\n+        109\n+    ];\n+\n+    let mut b = s.bytes();\n+    assert_eq!(b.nth(2).unwrap(), v[2]);\n+    assert_eq!(b.nth(10).unwrap(), v[10]);\n+    assert_eq!(b.nth(200), None);\n+}\n+\n+#[test]\n+fn test_bytesator_count() {\n+    let s = \"\u0e28\u0e44\u0e17\u0e22\u4e2d\u534eVi\u1ec7t Nam\";\n+\n+    let b = s.bytes();\n+    assert_eq!(b.count(), 28)\n+}\n+\n+#[test]\n+fn test_bytesator_last() {\n+    let s = \"\u0e28\u0e44\u0e17\u0e22\u4e2d\u534eVi\u1ec7t Nam\";\n+\n+    let b = s.bytes();\n+    assert_eq!(b.last().unwrap(), 109)\n+}\n+\n #[test]\n fn test_char_indicesator() {\n     let s = \"\u0e28\u0e44\u0e17\u0e22\u4e2d\u534eVi\u1ec7t Nam\";"}, {"sha": "d9dffb76c64d47dd89ab5f3c62fe8741f2ea0025", "filename": "src/libcore/str/mod.rs", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/dacf2725ec6230e4b99486fd8f87cc9ab5ad995c/src%2Flibcore%2Fstr%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dacf2725ec6230e4b99486fd8f87cc9ab5ad995c/src%2Flibcore%2Fstr%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fstr%2Fmod.rs?ref=dacf2725ec6230e4b99486fd8f87cc9ab5ad995c", "patch": "@@ -387,6 +387,21 @@ impl<'a> Iterator for Bytes<'a> {\n     fn size_hint(&self) -> (usize, Option<usize>) {\n         self.0.size_hint()\n     }\n+\n+    #[inline]\n+    fn count(self) -> usize {\n+        self.0.count()\n+    }\n+\n+    #[inline]\n+    fn last(self) -> Option<Self::Item> {\n+        self.0.last()\n+    }\n+\n+    #[inline]\n+    fn nth(&mut self, n: usize) -> Option<Self::Item> {\n+        self.0.nth(n)\n+    }\n }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]"}]}