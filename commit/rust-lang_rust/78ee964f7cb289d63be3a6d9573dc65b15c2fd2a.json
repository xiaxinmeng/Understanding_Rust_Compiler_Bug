{"sha": "78ee964f7cb289d63be3a6d9573dc65b15c2fd2a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc4ZWU5NjRmN2NiMjg5ZDYzYmUzYTZkOTU3M2RjNjViMTVjMmZkMmE=", "commit": {"author": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-10T21:12:20Z"}, "committer": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-10T21:12:20Z"}, "message": "vscode: fix ebusy error on windows", "tree": {"sha": "440807ebed2a8ac99960b9abafe414d041789350", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/440807ebed2a8ac99960b9abafe414d041789350"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/78ee964f7cb289d63be3a6d9573dc65b15c2fd2a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/78ee964f7cb289d63be3a6d9573dc65b15c2fd2a", "html_url": "https://github.com/rust-lang/rust/commit/78ee964f7cb289d63be3a6d9573dc65b15c2fd2a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/78ee964f7cb289d63be3a6d9573dc65b15c2fd2a/comments", "author": null, "committer": null, "parents": [{"sha": "f8d6d6f23bfb15021be91031ba983da19f0d3ada", "url": "https://api.github.com/repos/rust-lang/rust/commits/f8d6d6f23bfb15021be91031ba983da19f0d3ada", "html_url": "https://github.com/rust-lang/rust/commit/f8d6d6f23bfb15021be91031ba983da19f0d3ada"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "fe356c39d6d6c2412c8bd9a841b277299ebcefbb", "filename": "editors/code/src/installation/download_file.ts", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/78ee964f7cb289d63be3a6d9573dc65b15c2fd2a/editors%2Fcode%2Fsrc%2Finstallation%2Fdownload_file.ts", "raw_url": "https://github.com/rust-lang/rust/raw/78ee964f7cb289d63be3a6d9573dc65b15c2fd2a/editors%2Fcode%2Fsrc%2Finstallation%2Fdownload_file.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Finstallation%2Fdownload_file.ts?ref=78ee964f7cb289d63be3a6d9573dc65b15c2fd2a", "patch": "@@ -27,8 +27,7 @@ export async function downloadFile(\n             readBytes += chunk.length;\n             onProgress(readBytes, totalBytes);\n         })\n-        .on(\"end\", resolve)\n         .on(\"error\", reject)\n-        .pipe(fs.createWriteStream(destFilePath))\n+        .pipe(fs.createWriteStream(destFilePath).on(\"close\", resolve))\n     );\n }"}]}