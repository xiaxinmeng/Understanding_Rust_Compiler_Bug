{"sha": "2c4cfb297ec59625310023796b65e3dd48f1e76a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJjNGNmYjI5N2VjNTk2MjUzMTAwMjM3OTZiNjVlM2RkNDhmMWU3NmE=", "commit": {"author": {"name": "Muhammad Mominul Huque", "email": "mominul2082@gmail.com", "date": "2018-10-16T09:36:53Z"}, "committer": {"name": "Muhammad Mominul Huque", "email": "mominul2082@gmail.com", "date": "2018-10-16T09:36:53Z"}, "message": "take `&Path` instead of `PathBuf`", "tree": {"sha": "e6d6e34aba7d37f6d3c0e1056838e073aa185881", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e6d6e34aba7d37f6d3c0e1056838e073aa185881"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2c4cfb297ec59625310023796b65e3dd48f1e76a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEPNYzeVcwyOf+o1ZNnUcuizYJiVYFAlvFsTUACgkQnUcuizYJ\niVbc2BAAj64HcZEmHy9TfmVLPVZXl+CPLETfAAQG7t56ndSqN1JRy1Q4nwghWX6/\nQsEijDvO1kAW0pUDGWX7Rgv9CIvWiqM88ueVvbqBnCphP+P6J4w6wpWcDC3KzyYL\nlvF8BE2PBKb+bYgmTwERgfcA7NIu8sICSSfoCjKYOn5vKO61I9f4P7KMJOaAIoQU\nmroCCfxFvWq9NoppYF/A6ZxLhBh6wzg2agWS2NxEJEnxb2PgGCddS1SuJAE8h4KE\n9X1hIhbvFpV/dJQaa7/OwN3vu3yacQ/5HXcZkTUzls2GSLGsEbT/kJayweST+HVE\nbhhhkH73edDvbCsfjt0by8LF9aD35uBp1CF9ngFwDS803+8oOASx71qS4CErmlUX\nRexDsHb9T1ndNC/JiWGct94FJzVx85sAX9WU2/gr/dzJMv36jy1cMDLZML+/tnUd\nSySJumtOjsdCvX4FcSmj2Pj2/bDYaQWsOwZVdv6ZnDru8FoC1FVvOoB/RSct9Knt\nRXhdRLylGbEli7vOcarSuwaDTGzMZ/dJ/vIrj9DV91mvLWqqR5q3UVYuBu9OqhMp\nKlvHzEmFOGpLHeTeQFD0PbHg/Lpm5ApVk3sxWbrE1chPTEyC5POFT3DJE25yLr0d\nU9q5W+uyIY03tYxpLsbKzpcfSktD4F7Op+K8u8tlFBm46BqWETo=\n=qF5w\n-----END PGP SIGNATURE-----", "payload": "tree e6d6e34aba7d37f6d3c0e1056838e073aa185881\nparent 9d9e637ef39cbc00eaebad93294a60ccfd3405eb\nauthor Muhammad Mominul Huque <mominul2082@gmail.com> 1539682613 +0600\ncommitter Muhammad Mominul Huque <mominul2082@gmail.com> 1539682613 +0600\n\ntake `&Path` instead of `PathBuf`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2c4cfb297ec59625310023796b65e3dd48f1e76a", "html_url": "https://github.com/rust-lang/rust/commit/2c4cfb297ec59625310023796b65e3dd48f1e76a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2c4cfb297ec59625310023796b65e3dd48f1e76a/comments", "author": {"login": "mominul", "id": 9459891, "node_id": "MDQ6VXNlcjk0NTk4OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9459891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mominul", "html_url": "https://github.com/mominul", "followers_url": "https://api.github.com/users/mominul/followers", "following_url": "https://api.github.com/users/mominul/following{/other_user}", "gists_url": "https://api.github.com/users/mominul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mominul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mominul/subscriptions", "organizations_url": "https://api.github.com/users/mominul/orgs", "repos_url": "https://api.github.com/users/mominul/repos", "events_url": "https://api.github.com/users/mominul/events{/privacy}", "received_events_url": "https://api.github.com/users/mominul/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mominul", "id": 9459891, "node_id": "MDQ6VXNlcjk0NTk4OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9459891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mominul", "html_url": "https://github.com/mominul", "followers_url": "https://api.github.com/users/mominul/followers", "following_url": "https://api.github.com/users/mominul/following{/other_user}", "gists_url": "https://api.github.com/users/mominul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mominul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mominul/subscriptions", "organizations_url": "https://api.github.com/users/mominul/orgs", "repos_url": "https://api.github.com/users/mominul/repos", "events_url": "https://api.github.com/users/mominul/events{/privacy}", "received_events_url": "https://api.github.com/users/mominul/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9d9e637ef39cbc00eaebad93294a60ccfd3405eb", "url": "https://api.github.com/repos/rust-lang/rust/commits/9d9e637ef39cbc00eaebad93294a60ccfd3405eb", "html_url": "https://github.com/rust-lang/rust/commit/9d9e637ef39cbc00eaebad93294a60ccfd3405eb"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "9a1b12a1644d067a661ddc1e616b56c492afa696", "filename": "crates/tools/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2c4cfb297ec59625310023796b65e3dd48f1e76a/crates%2Ftools%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c4cfb297ec59625310023796b65e3dd48f1e76a/crates%2Ftools%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Ftools%2Fsrc%2Flib.rs?ref=2c4cfb297ec59625310023796b65e3dd48f1e76a", "patch": "@@ -77,7 +77,7 @@ pub fn update(path: &Path, contents: &str, verify: bool) -> Result<()> {\n     Ok(())\n }\n \n-pub fn render_template(template: PathBuf) -> Result<String> {\n+pub fn render_template(template: &Path) -> Result<String> {\n     let grammar: ron::value::Value = {\n         let text = fs::read_to_string(project_root().join(GRAMMAR))?;\n         ron::de::from_str(&text)?"}, {"sha": "6eacfc190c48148e881a1debec48d2c223afc42e", "filename": "crates/tools/src/main.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2c4cfb297ec59625310023796b65e3dd48f1e76a/crates%2Ftools%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c4cfb297ec59625310023796b65e3dd48f1e76a/crates%2Ftools%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Ftools%2Fsrc%2Fmain.rs?ref=2c4cfb297ec59625310023796b65e3dd48f1e76a", "patch": "@@ -40,8 +40,8 @@ fn main() -> Result<()> {\n fn run_gen_command(name: &str, verify: bool) -> Result<()> {\n     match name {\n         \"gen-kinds\" => {\n-            update(&project_root().join(SYNTAX_KINDS), &render_template(project_root().join(SYNTAX_KINDS_TEMPLATE))?, verify)?;\n-            update(&project_root().join(AST), &render_template(project_root().join(AST_TEMPLATE))?, verify)?;\n+            update(&project_root().join(SYNTAX_KINDS), &render_template(&project_root().join(SYNTAX_KINDS_TEMPLATE))?, verify)?;\n+            update(&project_root().join(AST), &render_template(&project_root().join(AST_TEMPLATE))?, verify)?;\n         },\n         \"gen-tests\" => {\n             gen_tests(verify)?"}, {"sha": "f507d80a291e279df8ab30b35c9320d1b11f7219", "filename": "crates/tools/tests/cli.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2c4cfb297ec59625310023796b65e3dd48f1e76a/crates%2Ftools%2Ftests%2Fcli.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c4cfb297ec59625310023796b65e3dd48f1e76a/crates%2Ftools%2Ftests%2Fcli.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Ftools%2Ftests%2Fcli.rs?ref=2c4cfb297ec59625310023796b65e3dd48f1e76a", "patch": "@@ -4,10 +4,10 @@ use tools::{AST, AST_TEMPLATE, SYNTAX_KINDS, SYNTAX_KINDS_TEMPLATE, render_templ\n \n #[test]\n fn verify_template_generation() {\n-    if let Err(error) = update(&project_root().join(SYNTAX_KINDS), &render_template(project_root().join(SYNTAX_KINDS_TEMPLATE)).unwrap(), true) {\n+    if let Err(error) = update(&project_root().join(SYNTAX_KINDS), &render_template(&project_root().join(SYNTAX_KINDS_TEMPLATE)).unwrap(), true) {\n         panic!(\"{}. Please update it by running `cargo gen-kinds`\", error);\n     }\n-    if let Err(error) = update(&project_root().join(AST), &render_template(project_root().join(AST_TEMPLATE)).unwrap(), true) {\n+    if let Err(error) = update(&project_root().join(AST), &render_template(&project_root().join(AST_TEMPLATE)).unwrap(), true) {\n         panic!(\"{}. Please update it by running `cargo gen-kinds`\", error);\n     }\n }"}]}