{"sha": "d4f7f974b83ce6795f29de13063132b4e211583d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ0ZjdmOTc0YjgzY2U2Nzk1ZjI5ZGUxMzA2MzEzMmI0ZTIxMTU4M2Q=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-10-11T12:45:20Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-10-11T12:45:20Z"}, "message": "Auto merge of #64716 - jonhoo:stabilize-mem-take, r=SimonSapin\n\nStabilize mem::take (mem_take)\n\nTracking issue: https://github.com/rust-lang/rust/issues/61129\n\nr? @matklad", "tree": {"sha": "4252eb054f994a7e19a5308e46fed12de818e38e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4252eb054f994a7e19a5308e46fed12de818e38e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d4f7f974b83ce6795f29de13063132b4e211583d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d4f7f974b83ce6795f29de13063132b4e211583d", "html_url": "https://github.com/rust-lang/rust/commit/d4f7f974b83ce6795f29de13063132b4e211583d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d4f7f974b83ce6795f29de13063132b4e211583d/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "000d90b11f7be70ffb7812680f7abc6deb52ec88", "url": "https://api.github.com/repos/rust-lang/rust/commits/000d90b11f7be70ffb7812680f7abc6deb52ec88", "html_url": "https://github.com/rust-lang/rust/commit/000d90b11f7be70ffb7812680f7abc6deb52ec88"}, {"sha": "45aca119a6c94a2c408fb6da7a47d363ab852bac", "url": "https://api.github.com/repos/rust-lang/rust/commits/45aca119a6c94a2c408fb6da7a47d363ab852bac", "html_url": "https://github.com/rust-lang/rust/commit/45aca119a6c94a2c408fb6da7a47d363ab852bac"}], "stats": {"total": 19, "additions": 1, "deletions": 18}, "files": [{"sha": "e6b174beaae6de38267246b797e4bb8a140683c8", "filename": "src/liballoc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Fliballoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Fliballoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -121,7 +121,6 @@\n #![feature(maybe_uninit_extra, maybe_uninit_slice)]\n #![feature(alloc_layout_extra)]\n #![feature(try_trait)]\n-#![feature(mem_take)]\n #![feature(associated_type_bounds)]\n \n // Allow testing this library"}, {"sha": "30e8dddff85ad47617060586fe10fd6b1fa9e047", "filename": "src/libcore/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibcore%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibcore%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -127,7 +127,6 @@\n #![feature(adx_target_feature)]\n #![feature(maybe_uninit_slice)]\n #![feature(external_doc)]\n-#![feature(mem_take)]\n #![feature(associated_type_bounds)]\n \n #[prelude_import]"}, {"sha": "23608931b1dd3b4c6319d9a33678e33e9d25a4ea", "filename": "src/libcore/mem/mod.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibcore%2Fmem%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibcore%2Fmem%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fmem%2Fmod.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -520,8 +520,6 @@ pub fn swap<T>(x: &mut T, y: &mut T) {\n /// A simple example:\n ///\n /// ```\n-/// #![feature(mem_take)]\n-///\n /// use std::mem;\n ///\n /// let mut v: Vec<i32> = vec![1, 2];\n@@ -552,8 +550,6 @@ pub fn swap<T>(x: &mut T, y: &mut T) {\n /// `self`, allowing it to be returned:\n ///\n /// ```\n-/// #![feature(mem_take)]\n-///\n /// use std::mem;\n ///\n /// # struct Buffer<T> { buf: Vec<T> }\n@@ -572,7 +568,7 @@ pub fn swap<T>(x: &mut T, y: &mut T) {\n ///\n /// [`Clone`]: ../../std/clone/trait.Clone.html\n #[inline]\n-#[unstable(feature = \"mem_take\", issue = \"61129\")]\n+#[stable(feature = \"mem_take\", since = \"1.40.0\")]\n pub fn take<T: Default>(dest: &mut T) -> T {\n     replace(dest, T::default())\n }"}, {"sha": "f612c52d398357c5ec3591f466a3e6523842ac5f", "filename": "src/libproc_macro/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibproc_macro%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibproc_macro%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibproc_macro%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -25,7 +25,6 @@\n #![feature(extern_types)]\n #![feature(in_band_lifetimes)]\n #![feature(optin_builtin_traits)]\n-#![feature(mem_take)]\n #![feature(non_exhaustive)]\n #![feature(rustc_attrs)]\n #![feature(specialization)]"}, {"sha": "197ca191a5d06c3f1e526b41a87ab7e823933f53", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -58,7 +58,6 @@\n #![feature(crate_visibility_modifier)]\n #![feature(proc_macro_hygiene)]\n #![feature(log_syntax)]\n-#![feature(mem_take)]\n #![feature(associated_type_bounds)]\n #![feature(rustc_attrs)]\n "}, {"sha": "52797e64f7df95e012acba593244c0643bc62f87", "filename": "src/librustc_codegen_llvm/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc_codegen_llvm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc_codegen_llvm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -19,7 +19,6 @@\n #![feature(link_args)]\n #![feature(static_nobundle)]\n #![feature(trusted_len)]\n-#![feature(mem_take)]\n \n use back::write::{create_target_machine, create_informational_target_machine};\n use syntax_pos::symbol::Symbol;"}, {"sha": "d700001430e2006ec7b9dcaec5b10f3e3aeea748", "filename": "src/librustc_codegen_ssa/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc_codegen_ssa%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc_codegen_ssa%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -10,7 +10,6 @@\n #![feature(in_band_lifetimes)]\n #![feature(nll)]\n #![feature(trusted_len)]\n-#![feature(mem_take)]\n #![feature(associated_type_bounds)]\n \n #![recursion_limit=\"256\"]"}, {"sha": "a837c34e8d4748f56b581dea47e1076b8561d551", "filename": "src/librustc_mir/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc_mir%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc_mir%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -22,7 +22,6 @@ Rust MIR: a lowered representation of Rust. Also: an experiment!\n #![feature(slice_concat_ext)]\n #![feature(trusted_len)]\n #![feature(try_blocks)]\n-#![feature(mem_take)]\n #![feature(associated_type_bounds)]\n #![feature(range_is_empty)]\n #![feature(stmt_expr_attributes)]"}, {"sha": "6aa85820ba8a8280e7bded8d4433ccdce5ea77aa", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -11,7 +11,6 @@\n \n #![feature(crate_visibility_modifier)]\n #![feature(label_break_value)]\n-#![feature(mem_take)]\n #![feature(nll)]\n \n #![recursion_limit=\"256\"]"}, {"sha": "9374113e1c95042f61872001a8a4722e46af3755", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -67,7 +67,6 @@ This API is completely unstable and subject to change.\n #![feature(nll)]\n #![feature(slice_patterns)]\n #![feature(never_type)]\n-#![feature(mem_take)]\n \n #![recursion_limit=\"256\"]\n "}, {"sha": "6bcb4a817d78eef9c123bc8405f78ad303ea34f8", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -15,7 +15,6 @@\n #![feature(const_fn)]\n #![feature(drain_filter)]\n #![feature(never_type)]\n-#![feature(mem_take)]\n #![feature(unicode_internals)]\n \n #![recursion_limit=\"256\"]"}, {"sha": "af6cb656444d425fb2805f247f35c60e521373fe", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -277,7 +277,6 @@\n #![feature(log_syntax)]\n #![feature(maybe_uninit_ref)]\n #![feature(maybe_uninit_slice)]\n-#![feature(mem_take)]\n #![feature(needs_panic_runtime)]\n #![feature(never_type)]\n #![feature(nll)]"}, {"sha": "03b00188e255e7a3af36fc88808afe5e7e615f40", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -12,7 +12,6 @@\n #![feature(const_transmute)]\n #![feature(crate_visibility_modifier)]\n #![feature(label_break_value)]\n-#![feature(mem_take)]\n #![feature(nll)]\n #![feature(proc_macro_diagnostic)]\n #![feature(proc_macro_internals)]"}, {"sha": "64d46a84cba477dc014e370481255a2aecb49177", "filename": "src/libsyntax_ext/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibsyntax_ext%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4f7f974b83ce6795f29de13063132b4e211583d/src%2Flibsyntax_ext%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_ext%2Flib.rs?ref=d4f7f974b83ce6795f29de13063132b4e211583d", "patch": "@@ -5,7 +5,6 @@\n \n #![feature(crate_visibility_modifier)]\n #![feature(decl_macro)]\n-#![feature(mem_take)]\n #![feature(nll)]\n #![feature(proc_macro_internals)]\n #![feature(proc_macro_quote)]"}]}