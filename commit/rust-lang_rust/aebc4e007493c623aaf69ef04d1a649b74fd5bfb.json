{"sha": "aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFlYmM0ZTAwNzQ5M2M2MjNhYWY2OWVmMDRkMWE2NDliNzRmZDViZmI=", "commit": {"author": {"name": "gaurikholkar", "email": "f2013002@goa.bits-pilani.ac.in", "date": "2017-06-26T18:26:01Z"}, "committer": {"name": "gaurikholkar", "email": "f2013002@goa.bits-pilani.ac.in", "date": "2017-06-29T13:37:18Z"}, "message": "Changing the error code to E0621", "tree": {"sha": "b89a8b127156d1ff87cdc583b201075da6a9b1e8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b89a8b127156d1ff87cdc583b201075da6a9b1e8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "html_url": "https://github.com/rust-lang/rust/commit/aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/comments", "author": {"login": "gaurikholkar", "id": 117768111, "node_id": "U_kgDOBwT_rw", "avatar_url": "https://avatars.githubusercontent.com/u/117768111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaurikholkar", "html_url": "https://github.com/gaurikholkar", "followers_url": "https://api.github.com/users/gaurikholkar/followers", "following_url": "https://api.github.com/users/gaurikholkar/following{/other_user}", "gists_url": "https://api.github.com/users/gaurikholkar/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaurikholkar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaurikholkar/subscriptions", "organizations_url": "https://api.github.com/users/gaurikholkar/orgs", "repos_url": "https://api.github.com/users/gaurikholkar/repos", "events_url": "https://api.github.com/users/gaurikholkar/events{/privacy}", "received_events_url": "https://api.github.com/users/gaurikholkar/received_events", "type": "User", "site_admin": false}, "committer": {"login": "gaurikholkar", "id": 117768111, "node_id": "U_kgDOBwT_rw", "avatar_url": "https://avatars.githubusercontent.com/u/117768111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaurikholkar", "html_url": "https://github.com/gaurikholkar", "followers_url": "https://api.github.com/users/gaurikholkar/followers", "following_url": "https://api.github.com/users/gaurikholkar/following{/other_user}", "gists_url": "https://api.github.com/users/gaurikholkar/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaurikholkar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaurikholkar/subscriptions", "organizations_url": "https://api.github.com/users/gaurikholkar/orgs", "repos_url": "https://api.github.com/users/gaurikholkar/repos", "events_url": "https://api.github.com/users/gaurikholkar/events{/privacy}", "received_events_url": "https://api.github.com/users/gaurikholkar/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "82f25b32ae568986de275d87fe355ec63307d8cb", "url": "https://api.github.com/repos/rust-lang/rust/commits/82f25b32ae568986de275d87fe355ec63307d8cb", "html_url": "https://github.com/rust-lang/rust/commit/82f25b32ae568986de275d87fe355ec63307d8cb"}], "stats": {"total": 51, "additions": 34, "deletions": 17}, "files": [{"sha": "aa62cab7c3dccf22bf2163ba695524cffe00c69b", "filename": "src/librustc/diagnostics.rs", "status": "modified", "additions": 24, "deletions": 7, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Flibrustc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Flibrustc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdiagnostics.rs?ref=aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "patch": "@@ -1946,11 +1946,19 @@ Maybe you just misspelled the lint name or the lint doesn't exist anymore.\n Either way, try to update/remove it in order to fix the error.\n \"##,\n \n-E0611: r##\"\n-Lifetime parameter is missing in one of the function argument. Erroneous\n-code example:\n-\n-```compile_fail,E0611\n+E0621: r##\"\n+This error code indicates a mismatch between the function signature (i.e.,\n+the parameter types and the return type) and the function body. Most of\n+the time, this indicates that the function signature needs to be changed to\n+match the body, but it may be that the body needs to be changed to match\n+the signature.\n+\n+Specifically, one or more of the parameters contain borrowed data that\n+needs to have a named lifetime in order for the body to type-check. Most of\n+the time, this is because the borrowed data is being returned from the\n+function, as in this example:\n+\n+```compile_fail,E0621\n fn foo<'a>(x: &'a i32, y: &i32) -> &'a i32 { // explicit lifetime required\n                                              // in the type of `y`\n     if x > y { x } else { y }\n@@ -1959,15 +1967,24 @@ fn foo<'a>(x: &'a i32, y: &i32) -> &'a i32 { // explicit lifetime required\n fn main () { }\n ```\n \n-Please add the missing lifetime parameter to remove this error. Example:\n+Here, the function is returning data borrowed from either x or y, but the\n+'a annotation indicates that it is returning data only from x. We can make\n+the signature match the body by changing the type of y to &'a i32, like so:\n \n ```\n fn foo<'a>(x: &'a i32, y: &'a i32) -> &'a i32 {\n     if x > y { x } else { y }\n }\n \n-fn main() {\n+fn main () { }\n+```\n+Alternatively, you could change the body not to return data from y:\n+```\n+fn foo<'a>(x: &'a i32, y: &i32) -> &'a i32 {\n+    x\n }\n+\n+fn main () { }\n ```\n \"##,\n "}, {"sha": "fb0bd901db4b793b6c58bc361314a91b89da647e", "filename": "src/librustc/infer/error_reporting/named_anon_conflict.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Flibrustc%2Finfer%2Ferror_reporting%2Fnamed_anon_conflict.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Flibrustc%2Finfer%2Ferror_reporting%2Fnamed_anon_conflict.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Ferror_reporting%2Fnamed_anon_conflict.rs?ref=aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "patch": "@@ -124,7 +124,7 @@ impl<'a, 'gcx, 'tcx> InferCtxt<'a, 'gcx, 'tcx> {\n         // Here we check for the case where anonymous region\n         // corresponds to self and if yes, we display E0312.\n         // FIXME(#42700) - Need to format self properly to\n-        // enable E0611 for it.\n+        // enable E0621 for it.\n         if is_first &&\n            self.tcx\n                .opt_associated_item(scope_def_id)\n@@ -136,7 +136,7 @@ impl<'a, 'gcx, 'tcx> InferCtxt<'a, 'gcx, 'tcx> {\n         if let Some(simple_name) = arg.pat.simple_name() {\n             struct_span_err!(self.tcx.sess,\n                              span,\n-                             E0611,\n+                             E0621,\n                              \"explicit lifetime required in the type of `{}`\",\n                              simple_name)\n                     .span_label(arg.pat.span,\n@@ -149,7 +149,7 @@ impl<'a, 'gcx, 'tcx> InferCtxt<'a, 'gcx, 'tcx> {\n         } else {\n             struct_span_err!(self.tcx.sess,\n                              span,\n-                             E0611,\n+                             E0621,\n                              \"explicit lifetime required in parameter type\")\n                     .span_label(arg.pat.span,\n                                 format!(\"consider changing type to `{}`\", new_ty))"}, {"sha": "4d8c5e039af418846ed2476fe098e08ce4ddc445", "filename": "src/test/ui/lifetime-errors/ex1-return-one-existing-name-if-else-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-2.stderr?ref=aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "patch": "@@ -1,4 +1,4 @@\n-error[E0611]: explicit lifetime required in the type of `x`\n+error[E0621]: explicit lifetime required in the type of `x`\n   --> $DIR/ex1-return-one-existing-name-if-else-2.rs:12:16\n    |\n 11 | fn foo<'a>(x: &i32, y: &'a i32) -> &'a i32 {"}, {"sha": "07b276601f47cef82517949e2908b28265b3f0ea", "filename": "src/test/ui/lifetime-errors/ex1-return-one-existing-name-if-else-3.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-3.stderr?ref=aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "patch": "@@ -1,4 +1,4 @@\n-error[E0611]: explicit lifetime required in parameter type\n+error[E0621]: explicit lifetime required in parameter type\n   --> $DIR/ex1-return-one-existing-name-if-else-3.rs:12:27\n    |\n 11 | fn foo<'a>((x, y): (&'a i32, &i32)) -> &'a i32 {"}, {"sha": "2adf0cd762c59b342f855438fbe5b3310b256f61", "filename": "src/test/ui/lifetime-errors/ex1-return-one-existing-name-if-else-using-impl-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl-2.stderr?ref=aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "patch": "@@ -1,4 +1,4 @@\n-error[E0611]: explicit lifetime required in the type of `x`\n+error[E0621]: explicit lifetime required in the type of `x`\n   --> $DIR/ex1-return-one-existing-name-if-else-using-impl-2.rs:14:15\n    |\n 13 | fn foo<'a>(x: &i32, y: &'a i32) -> &'a i32 {"}, {"sha": "15825017d15c3edd9aada9447f00ee275a5435e9", "filename": "src/test/ui/lifetime-errors/ex1-return-one-existing-name-if-else-using-impl-3.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl-3.stderr?ref=aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "patch": "@@ -1,4 +1,4 @@\n-error[E0611]: explicit lifetime required in the type of `x`\n+error[E0621]: explicit lifetime required in the type of `x`\n   --> $DIR/ex1-return-one-existing-name-if-else-using-impl-3.rs:18:36\n    |\n 16 |   fn foo<'a>(&'a self, x: &i32) -> &i32 {"}, {"sha": "892a6dcd1e9346bf414746f577dac32d9ea6ec40", "filename": "src/test/ui/lifetime-errors/ex1-return-one-existing-name-if-else.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else.stderr?ref=aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "patch": "@@ -1,4 +1,4 @@\n-error[E0611]: explicit lifetime required in the type of `y`\n+error[E0621]: explicit lifetime required in the type of `y`\n   --> $DIR/ex1-return-one-existing-name-if-else.rs:12:27\n    |\n 11 | fn foo<'a>(x: &'a i32, y: &i32) -> &'a i32 {"}, {"sha": "ea696c51d62188ece63e4d106e3b6f612d02e005", "filename": "src/test/ui/lifetime-errors/ex2a-push-one-existing-name-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex2a-push-one-existing-name-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex2a-push-one-existing-name-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fex2a-push-one-existing-name-2.stderr?ref=aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "patch": "@@ -1,4 +1,4 @@\n-error[E0611]: explicit lifetime required in the type of `x`\n+error[E0621]: explicit lifetime required in the type of `x`\n   --> $DIR/ex2a-push-one-existing-name-2.rs:16:12\n    |\n 15 | fn foo<'a>(x: Ref<i32>, y: &mut Vec<Ref<'a, i32>>) {"}, {"sha": "1630ae32ba6bf65d7f48bbfac1e4e726a70ba66a", "filename": "src/test/ui/lifetime-errors/ex2a-push-one-existing-name.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex2a-push-one-existing-name.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aebc4e007493c623aaf69ef04d1a649b74fd5bfb/src%2Ftest%2Fui%2Flifetime-errors%2Fex2a-push-one-existing-name.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fex2a-push-one-existing-name.stderr?ref=aebc4e007493c623aaf69ef04d1a649b74fd5bfb", "patch": "@@ -1,4 +1,4 @@\n-error[E0611]: explicit lifetime required in the type of `y`\n+error[E0621]: explicit lifetime required in the type of `y`\n   --> $DIR/ex2a-push-one-existing-name.rs:16:12\n    |\n 15 | fn foo<'a>(x: &mut Vec<Ref<'a, i32>>, y: Ref<i32>) {"}]}