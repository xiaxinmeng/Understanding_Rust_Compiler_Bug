{"sha": "fa95551b9b1f9c802eaa0b8be02610cc78e0608a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZhOTU1NTFiOWIxZjljODAyZWFhMGI4YmUwMjYxMGNjNzhlMDYwOGE=", "commit": {"author": {"name": "Jonathan Turner", "email": "jonathandturner@users.noreply.github.com", "date": "2016-09-02T22:28:51Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-09-02T22:28:51Z"}, "message": "Rollup merge of #36178 - jonathandturner:windows_colors, r=nikomatsakis\n\nSpecial case a few colors for Windows\n\nAs brought up on [this thread](https://github.com/rust-lang/rust/issues/33240#issuecomment-243310067) the colors used in error messages on Windows can be difficult to read because of the lack of bold.\n\nThis PR makes a few changes to improve readability, namely:\n* Rather than using BRIGHT_BLUE, on Windows we now use BRIGHT_CYAN, which is easier to read on black when you do not have bold\n* We used BRIGHT_YELLOW rather than YELLOW, for the same reason\n* Titles will be BRIGHT_WHITE now, to give the illusion of being bold\n\nSome examples:\n\n![warning](https://cloud.githubusercontent.com/assets/547158/18148466/9aa9bbe2-6f8e-11e6-927f-d0eec53cac32.PNG)\n\n![error](https://cloud.githubusercontent.com/assets/547158/18148488/ba9fb186-6f8e-11e6-8d8e-e93d569f61de.PNG)\n\nr? @nikomatsakis\n\ncc @retep998", "tree": {"sha": "f5f9f783ae5b76e9b0cf8405650d834c4c5ca5e4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f5f9f783ae5b76e9b0cf8405650d834c4c5ca5e4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fa95551b9b1f9c802eaa0b8be02610cc78e0608a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fa95551b9b1f9c802eaa0b8be02610cc78e0608a", "html_url": "https://github.com/rust-lang/rust/commit/fa95551b9b1f9c802eaa0b8be02610cc78e0608a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fa95551b9b1f9c802eaa0b8be02610cc78e0608a/comments", "author": {"login": "jonathandturner", "id": 111457284, "node_id": "O_kgDOBqS0BA", "avatar_url": "https://avatars.githubusercontent.com/u/111457284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathandturner", "html_url": "https://github.com/jonathandturner", "followers_url": "https://api.github.com/users/jonathandturner/followers", "following_url": "https://api.github.com/users/jonathandturner/following{/other_user}", "gists_url": "https://api.github.com/users/jonathandturner/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathandturner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathandturner/subscriptions", "organizations_url": "https://api.github.com/users/jonathandturner/orgs", "repos_url": "https://api.github.com/users/jonathandturner/repos", "events_url": "https://api.github.com/users/jonathandturner/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathandturner/received_events", "type": "Organization", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "59c0ff6314f4b47bbb4b92f17e34d6886b8c0cba", "url": "https://api.github.com/repos/rust-lang/rust/commits/59c0ff6314f4b47bbb4b92f17e34d6886b8c0cba", "html_url": "https://github.com/rust-lang/rust/commit/59c0ff6314f4b47bbb4b92f17e34d6886b8c0cba"}, {"sha": "1b0476297e6d8bee01197e507f50350a748388a2", "url": "https://api.github.com/repos/rust-lang/rust/commits/1b0476297e6d8bee01197e507f50350a748388a2", "html_url": "https://github.com/rust-lang/rust/commit/1b0476297e6d8bee01197e507f50350a748388a2"}], "stats": {"total": 23, "additions": 20, "deletions": 3}, "files": [{"sha": "dcdbe2a85259bee34e30089bb8e59d10aecaa71d", "filename": "src/librustc_errors/emitter.rs", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/fa95551b9b1f9c802eaa0b8be02610cc78e0608a/src%2Flibrustc_errors%2Femitter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa95551b9b1f9c802eaa0b8be02610cc78e0608a/src%2Flibrustc_errors%2Femitter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Femitter.rs?ref=fa95551b9b1f9c802eaa0b8be02610cc78e0608a", "patch": "@@ -883,7 +883,11 @@ impl Destination {\n             Style::FileNameStyle | Style::LineAndColumn => {}\n             Style::LineNumber => {\n                 try!(self.start_attr(term::Attr::Bold));\n-                try!(self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_BLUE)));\n+                if cfg!(windows) {\n+                    try!(self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_CYAN)));\n+                } else {\n+                    try!(self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_BLUE)));\n+                }\n             }\n             Style::ErrorCode => {\n                 try!(self.start_attr(term::Attr::Bold));\n@@ -896,6 +900,9 @@ impl Destination {\n             }\n             Style::OldSchoolNoteText | Style::HeaderMsg => {\n                 try!(self.start_attr(term::Attr::Bold));\n+                if cfg!(windows) {\n+                    try!(self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_WHITE)));\n+                }\n             }\n             Style::UnderlinePrimary | Style::LabelPrimary => {\n                 try!(self.start_attr(term::Attr::Bold));\n@@ -904,7 +911,11 @@ impl Destination {\n             Style::UnderlineSecondary |\n             Style::LabelSecondary => {\n                 try!(self.start_attr(term::Attr::Bold));\n-                try!(self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_BLUE)));\n+                if cfg!(windows) {\n+                    try!(self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_CYAN)));\n+                } else {\n+                    try!(self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_BLUE)));\n+                }\n             }\n             Style::NoStyle => {}\n             Style::Level(l) => {"}, {"sha": "d82d7dbe70f920afcfb53f0c1bce044c2407da5f", "filename": "src/librustc_errors/lib.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/fa95551b9b1f9c802eaa0b8be02610cc78e0608a/src%2Flibrustc_errors%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa95551b9b1f9c802eaa0b8be02610cc78e0608a/src%2Flibrustc_errors%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Flib.rs?ref=fa95551b9b1f9c802eaa0b8be02610cc78e0608a", "patch": "@@ -732,7 +732,13 @@ impl Level {\n     pub fn color(self) -> term::color::Color {\n         match self {\n             Bug | Fatal | PhaseFatal | Error => term::color::BRIGHT_RED,\n-            Warning => term::color::YELLOW,\n+            Warning => {\n+                if cfg!(windows) {\n+                    term::color::BRIGHT_YELLOW\n+                } else {\n+                    term::color::YELLOW\n+                }\n+            },\n             Note => term::color::BRIGHT_GREEN,\n             Help => term::color::BRIGHT_CYAN,\n             Cancelled => unreachable!(),"}]}