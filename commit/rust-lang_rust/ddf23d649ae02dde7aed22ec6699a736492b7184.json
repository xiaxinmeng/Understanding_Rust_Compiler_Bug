{"sha": "ddf23d649ae02dde7aed22ec6699a736492b7184", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRkZjIzZDY0OWFlMDJkZGU3YWVkMjJlYzY2OTlhNzM2NDkyYjcxODQ=", "commit": {"author": {"name": "Piti the little Light", "email": "djhlinacz@gmail.com", "date": "2020-10-24T11:53:09Z"}, "committer": {"name": "flip1995", "email": "philipp.krones@embecosm.com", "date": "2020-11-03T15:44:24Z"}, "message": "Fix: Use `.collect()` instead of `::fromIterator()`", "tree": {"sha": "235b67bd3541f85bb47145cea006aa72be6b7f15", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/235b67bd3541f85bb47145cea006aa72be6b7f15"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ddf23d649ae02dde7aed22ec6699a736492b7184", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE2r96VLqbr4DI+7ylr8A1RIkIeHcFAl+hetgACgkQr8A1RIkI\neHebyQ//SdZRppeg/wODT1KzgsP8OJIlO7AZRDrH25TkjtjNuQafSn6oj0FkTrPk\n13rS2KAKMQ2ugYZXtoQlaUVh0PZU9x4zD09RUKb+z0cbXM4rXM1TCjKE7RqNV+Gv\nrhafD8vRwCuOHaqbknRubOQdRzIFHy1iPReR5knvwhYIOO/R+c6gILa3Ge5ST91K\nbZtxkPJtxbN3arNnL2hP2acqUyxhOsX59AXV4pCI+5SI6cjcsGj2ymDwu2mhDStT\nuRrRc85/LVSL5VVLrxvPpWiYqUBMjUzoCmce+3Hss0n6RB5XyaeKdrpqJ1FmTh2h\nwc4dvhTKmkHO1BL4Iq+Z0HloMwFSZNaOZ/o2uZZh3NyD4etg8P8NqVaVk3LP26BW\n1GZoVDiwF+ATAtA8X/w8UndQqJSG5kag27kgal4Xap29wZYucpbvkYGgt2JpzwEQ\n6DaIRcU2L8B1+vf6zHK8Y7/kfa0sMab6QwuDLNAIK1nplMDXAWz5RQlvJaUvWIcn\na4Iwv4DUvWoGoZPDmV6T0v1bUYA+aMehJciCEWpUUBoaPlRSuvjGiZBoCSnh1nsi\nG23NXPnmp67IPFUrrnVoo4bjhCj9yRd5rp2Ou0c0IILeeZ++wmSyaqCiFw85A9IF\nroWf9h9wmJyhh5iAJNtZHkEGPa+YADK2nbLdytQsqu24rCG3NaQ=\n=1VAA\n-----END PGP SIGNATURE-----", "payload": "tree 235b67bd3541f85bb47145cea006aa72be6b7f15\nparent 52d1ea3c9ad8ea97350ba7a0ca0a8e172cfcae78\nauthor Piti the little Light <djhlinacz@gmail.com> 1603540389 +0200\ncommitter flip1995 <philipp.krones@embecosm.com> 1604418264 +0100\n\nFix: Use `.collect()` instead of `::fromIterator()`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ddf23d649ae02dde7aed22ec6699a736492b7184", "html_url": "https://github.com/rust-lang/rust/commit/ddf23d649ae02dde7aed22ec6699a736492b7184", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ddf23d649ae02dde7aed22ec6699a736492b7184/comments", "author": {"login": "pitiK3U", "id": 33703129, "node_id": "MDQ6VXNlcjMzNzAzMTI5", "avatar_url": "https://avatars.githubusercontent.com/u/33703129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pitiK3U", "html_url": "https://github.com/pitiK3U", "followers_url": "https://api.github.com/users/pitiK3U/followers", "following_url": "https://api.github.com/users/pitiK3U/following{/other_user}", "gists_url": "https://api.github.com/users/pitiK3U/gists{/gist_id}", "starred_url": "https://api.github.com/users/pitiK3U/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pitiK3U/subscriptions", "organizations_url": "https://api.github.com/users/pitiK3U/orgs", "repos_url": "https://api.github.com/users/pitiK3U/repos", "events_url": "https://api.github.com/users/pitiK3U/events{/privacy}", "received_events_url": "https://api.github.com/users/pitiK3U/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "52d1ea3c9ad8ea97350ba7a0ca0a8e172cfcae78", "url": "https://api.github.com/repos/rust-lang/rust/commits/52d1ea3c9ad8ea97350ba7a0ca0a8e172cfcae78", "html_url": "https://github.com/rust-lang/rust/commit/52d1ea3c9ad8ea97350ba7a0ca0a8e172cfcae78"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "4d737b3f49b0351e2222fe950807d948e60c2d43", "filename": "clippy_lints/src/lifetimes.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ddf23d649ae02dde7aed22ec6699a736492b7184/clippy_lints%2Fsrc%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddf23d649ae02dde7aed22ec6699a736492b7184/clippy_lints%2Fsrc%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flifetimes.rs?ref=ddf23d649ae02dde7aed22ec6699a736492b7184", "patch": "@@ -16,7 +16,6 @@ use rustc_middle::hir::map::Map;\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::Span;\n use rustc_span::symbol::{kw, Symbol};\n-use std::iter::FromIterator;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for lifetime annotations which can be removed by\n@@ -214,14 +213,15 @@ fn could_use_elision<'tcx>(\n     }\n \n     if allowed_lts\n-        .intersection(&FxHashSet::from_iter(\n-            input_visitor\n+        .intersection(\n+            &input_visitor\n                 .nested_elision_site_lts\n                 .iter()\n                 .chain(output_visitor.nested_elision_site_lts.iter())\n                 .cloned()\n-                .filter(|v| matches!(v, RefLt::Named(_))),\n-        ))\n+                .filter(|v| matches!(v, RefLt::Named(_)))\n+                .collect(),\n+        )\n         .next()\n         .is_some()\n     {"}]}