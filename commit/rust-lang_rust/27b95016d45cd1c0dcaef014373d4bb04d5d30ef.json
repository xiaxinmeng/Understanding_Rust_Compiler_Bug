{"sha": "27b95016d45cd1c0dcaef014373d4bb04d5d30ef", "node_id": "C_kwDOAAsO6NoAKDI3Yjk1MDE2ZDQ1Y2QxYzBkY2FlZjAxNDM3M2Q0YmIwNGQ1ZDMwZWY", "commit": {"author": {"name": "Joshua Nelson", "email": "jnelson@cloudflare.com", "date": "2022-05-27T22:58:32Z"}, "committer": {"name": "Joshua Nelson", "email": "jnelson@cloudflare.com", "date": "2022-06-07T14:24:14Z"}, "message": "Rename `download_component` -> `download_ci_component`\n\nIt was confusing to have two functions with the same name but different behavior.", "tree": {"sha": "68031449f3871a6bcad1e5a2b89534c1f3fc31b3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/68031449f3871a6bcad1e5a2b89534c1f3fc31b3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/27b95016d45cd1c0dcaef014373d4bb04d5d30ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/27b95016d45cd1c0dcaef014373d4bb04d5d30ef", "html_url": "https://github.com/rust-lang/rust/commit/27b95016d45cd1c0dcaef014373d4bb04d5d30ef", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/27b95016d45cd1c0dcaef014373d4bb04d5d30ef/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7fe2c4b00dfbc33643e1af4b293eb057306a8339", "url": "https://api.github.com/repos/rust-lang/rust/commits/7fe2c4b00dfbc33643e1af4b293eb057306a8339", "html_url": "https://github.com/rust-lang/rust/commit/7fe2c4b00dfbc33643e1af4b293eb057306a8339"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "147a4a38c9c34107983f9ef9d9bcb184b9e9df06", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/27b95016d45cd1c0dcaef014373d4bb04d5d30ef/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/27b95016d45cd1c0dcaef014373d4bb04d5d30ef/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=27b95016d45cd1c0dcaef014373d4bb04d5d30ef", "patch": "@@ -1459,12 +1459,12 @@ fn download_ci_rustc(builder: &Builder<'_>, commit: &str) {\n         }\n         let filename = format!(\"rust-std-{CHANNEL}-{host}.tar.xz\");\n         let pattern = format!(\"rust-std-{host}\");\n-        download_component(builder, filename, &pattern, commit);\n+        download_ci_component(builder, filename, &pattern, commit);\n         let filename = format!(\"rustc-{CHANNEL}-{host}.tar.xz\");\n-        download_component(builder, filename, \"rustc\", commit);\n+        download_ci_component(builder, filename, \"rustc\", commit);\n         // download-rustc doesn't need its own cargo, it can just use beta's.\n         let filename = format!(\"rustc-dev-{CHANNEL}-{host}.tar.xz\");\n-        download_component(builder, filename, \"rustc-dev\", commit);\n+        download_ci_component(builder, filename, \"rustc-dev\", commit);\n \n         builder.fix_bin_or_dylib(&bin_root.join(\"bin\").join(\"rustc\"));\n         builder.fix_bin_or_dylib(&bin_root.join(\"bin\").join(\"rustdoc\"));\n@@ -1481,7 +1481,7 @@ fn download_ci_rustc(builder: &Builder<'_>, commit: &str) {\n \n /// Download a single component of a CI-built toolchain (not necessarily a published nightly).\n // NOTE: intentionally takes an owned string to avoid downloading multiple times by accident\n-fn download_component(builder: &Builder<'_>, filename: String, prefix: &str, commit: &str) {\n+fn download_ci_component(builder: &Builder<'_>, filename: String, prefix: &str, commit: &str) {\n     let cache_dst = builder.out.join(\"cache\");\n     let rustc_cache = cache_dst.join(commit);\n     if !rustc_cache.exists() {"}]}