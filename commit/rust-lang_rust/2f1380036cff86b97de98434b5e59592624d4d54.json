{"sha": "2f1380036cff86b97de98434b5e59592624d4d54", "node_id": "C_kwDOAAsO6NoAKDJmMTM4MDAzNmNmZjg2Yjk3ZGU5ODQzNGI1ZTU5NTkyNjI0ZDRkNTQ", "commit": {"author": {"name": "Afonso Bordado", "email": "afonsobordado@az8.co", "date": "2022-07-30T21:32:06Z"}, "committer": {"name": "Afonso Bordado", "email": "afonsobordado@az8.co", "date": "2022-07-30T21:32:06Z"}, "message": "Cleanup meaningless changes", "tree": {"sha": "1c700224df3f928ca98320b90ee91c3ac3dcebeb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1c700224df3f928ca98320b90ee91c3ac3dcebeb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2f1380036cff86b97de98434b5e59592624d4d54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2f1380036cff86b97de98434b5e59592624d4d54", "html_url": "https://github.com/rust-lang/rust/commit/2f1380036cff86b97de98434b5e59592624d4d54", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2f1380036cff86b97de98434b5e59592624d4d54/comments", "author": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "site_admin": false}, "committer": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bec651ef47efae5732e7b17c4d49e2718544d4c8", "url": "https://api.github.com/repos/rust-lang/rust/commits/bec651ef47efae5732e7b17c4d49e2718544d4c8", "html_url": "https://github.com/rust-lang/rust/commit/bec651ef47efae5732e7b17c4d49e2718544d4c8"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "48faec8bc4b9434f5e9f278d88d3e8a2f5149455", "filename": "build_system/build_backend.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f1380036cff86b97de98434b5e59592624d4d54/build_system%2Fbuild_backend.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f1380036cff86b97de98434b5e59592624d4d54/build_system%2Fbuild_backend.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/build_system%2Fbuild_backend.rs?ref=2f1380036cff86b97de98434b5e59592624d4d54", "patch": "@@ -39,5 +39,5 @@ pub(crate) fn build_backend(\n     eprintln!(\"[BUILD] rustc_codegen_cranelift\");\n     super::utils::spawn_and_wait(cmd);\n \n-    Path::new(\"target\").join(&host_triple).join(&channel)\n+    Path::new(\"target\").join(host_triple).join(channel)\n }"}, {"sha": "3a6d58a2a6df8e3614b93bd32a98e5bd8f8c3f66", "filename": "build_system/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2f1380036cff86b97de98434b5e59592624d4d54/build_system%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f1380036cff86b97de98434b5e59592624d4d54/build_system%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/build_system%2Fmod.rs?ref=2f1380036cff86b97de98434b5e59592624d4d54", "patch": "@@ -73,7 +73,7 @@ pub fn main() {\n         eprintln!(\"Switch to the MinGW toolchain for Windows support.\");\n         eprintln!(\"Hint: You can use `rustup set default-host x86_64-pc-windows-gnu` to\");\n         eprintln!(\"set the global default target to MinGW\");\n-        // process::exit(1);\n+        process::exit(1);\n     }\n \n \n@@ -83,7 +83,7 @@ pub fn main() {\n             if args.next().is_some() {\n                 arg_error!(\"./y.rs prepare doesn't expect arguments\");\n             }\n-            prepare::prepare(&target_triple);\n+            prepare::prepare(&host_triple);\n             process::exit(0);\n         }\n         Some(\"build\") => Command::Build,"}, {"sha": "b499aaa703cd321cf819b255a4a9e6149b9dc0eb", "filename": "build_system/prepare.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/2f1380036cff86b97de98434b5e59592624d4d54/build_system%2Fprepare.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f1380036cff86b97de98434b5e59592624d4d54/build_system%2Fprepare.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/build_system%2Fprepare.rs?ref=2f1380036cff86b97de98434b5e59592624d4d54", "patch": "@@ -8,7 +8,7 @@ use std::process::Command;\n use super::rustc_info::{get_file_name, get_rustc_path, get_rustc_version};\n use super::utils::{copy_dir_recursively, spawn_and_wait};\n \n-pub(crate) fn prepare(target_triple: &str) {\n+pub(crate) fn prepare(host_triple: &str) {\n     prepare_sysroot();\n \n     eprintln!(\"[INSTALL] hyperfine\");\n@@ -49,8 +49,8 @@ pub(crate) fn prepare(target_triple: &str) {\n     build_cmd.arg(\"build\").env_remove(\"CARGO_TARGET_DIR\").current_dir(\"simple-raytracer\");\n     spawn_and_wait(build_cmd);\n     fs::copy(\n-        Path::new(\"simple-raytracer/target/debug\").join(get_file_name(\"main\", \"bin\", target_triple)),\n-        Path::new(\"simple-raytracer\").join(get_file_name(\"raytracer_cg_llvm\", \"bin\", target_triple)),\n+        Path::new(\"simple-raytracer/target/debug\").join(get_file_name(\"main\", \"bin\", host_triple)),\n+        Path::new(\"simple-raytracer\").join(get_file_name(\"raytracer_cg_llvm\", \"bin\", host_triple)),\n     )\n     .unwrap();\n }"}]}