{"sha": "911de7b98c828ddf18fc6a1db227593faee7aad3", "node_id": "C_kwDOAAsO6NoAKDkxMWRlN2I5OGM4MjhkZGYxOGZjNmExZGIyMjc1OTNmYWVlN2FhZDM", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-02-28T13:23:11Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-02-28T14:51:05Z"}, "message": "Add explanation for E0726", "tree": {"sha": "007cd78cb445aaff2e9eb5c6d9b437d7a0a1b6c1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/007cd78cb445aaff2e9eb5c6d9b437d7a0a1b6c1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/911de7b98c828ddf18fc6a1db227593faee7aad3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/911de7b98c828ddf18fc6a1db227593faee7aad3", "html_url": "https://github.com/rust-lang/rust/commit/911de7b98c828ddf18fc6a1db227593faee7aad3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/911de7b98c828ddf18fc6a1db227593faee7aad3/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b8967b0d52a2ba5f0c9da0da03e78ccba5534e4a", "url": "https://api.github.com/repos/rust-lang/rust/commits/b8967b0d52a2ba5f0c9da0da03e78ccba5534e4a", "html_url": "https://github.com/rust-lang/rust/commit/b8967b0d52a2ba5f0c9da0da03e78ccba5534e4a"}], "stats": {"total": 48, "additions": 47, "deletions": 1}, "files": [{"sha": "a185902123d8ab3a37cb09400ec2dd16e2421b67", "filename": "compiler/rustc_error_codes/src/error_codes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/911de7b98c828ddf18fc6a1db227593faee7aad3/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/911de7b98c828ddf18fc6a1db227593faee7aad3/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs?ref=911de7b98c828ddf18fc6a1db227593faee7aad3", "patch": "@@ -429,6 +429,7 @@ E0720: include_str!(\"./error_codes/E0720.md\"),\n E0722: include_str!(\"./error_codes/E0722.md\"),\n E0724: include_str!(\"./error_codes/E0724.md\"),\n E0725: include_str!(\"./error_codes/E0725.md\"),\n+E0726: include_str!(\"./error_codes/E0726.md\"),\n E0727: include_str!(\"./error_codes/E0727.md\"),\n E0728: include_str!(\"./error_codes/E0728.md\"),\n E0729: include_str!(\"./error_codes/E0729.md\"),\n@@ -641,6 +642,5 @@ E0787: include_str!(\"./error_codes/E0787.md\"),\n     E0717, // rustc_promotable without stability attribute\n //  E0721, // `await` keyword\n //  E0723, // unstable feature in `const` context\n-    E0726, // non-explicit (not `'_`) elided lifetime in unsupported position\n //  E0738, // Removed; errored on `#[track_caller] fn`s in `extern \"Rust\" { ... }`.\n }"}, {"sha": "e3794327f2d4d259fd3f61a871ce4ca4830700bb", "filename": "compiler/rustc_error_codes/src/error_codes/E0726.md", "status": "added", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/911de7b98c828ddf18fc6a1db227593faee7aad3/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0726.md", "raw_url": "https://github.com/rust-lang/rust/raw/911de7b98c828ddf18fc6a1db227593faee7aad3/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0726.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0726.md?ref=911de7b98c828ddf18fc6a1db227593faee7aad3", "patch": "@@ -0,0 +1,46 @@\n+An argument lifetime was elided in an async function.\n+\n+Erroneous code example:\n+\n+When a struct or a type is bound/declared with a lifetime it is important for\n+the Rust compiler to know, on usage, the lifespan of the type. When the\n+lifetime is not explicitly mentioned and the Rust Compiler cannot determine\n+the lifetime of your type, the following error occurs.\n+\n+```compile_fail,E0726\n+use futures::executor::block_on;\n+struct Content<'a> {\n+    title: &'a str,\n+    body: &'a str,\n+}\n+async fn create(content: Content) { // error: implicit elided\n+                                    // lifetime not allowed here\n+    println!(\"title: {}\", content.title);\n+    println!(\"body: {}\", content.body);\n+}\n+let content = Content { title: \"Rust\", body: \"is great!\" };\n+let future = create(content);\n+block_on(future);\n+```\n+\n+Specify desired lifetime of parameter `content` or indicate the anonymous\n+lifetime like `content: Content<'_>`. The anonymous lifetime tells the Rust\n+compiler that `content` is only needed until create function is done with\n+it's execution.\n+\n+The `implicit elision` meaning the omission of suggested lifetime that is\n+`pub async fn create<'a>(content: Content<'a>) {}` is not allowed here as\n+lifetime of the `content` can differ from current context:\n+\n+```ignore (needs futures dependency)\n+async fn create(content: Content<'_>) { // ok!\n+    println!(\"title: {}\", content.title);\n+    println!(\"body: {}\", content.body);\n+}\n+```\n+\n+Know more about lifetime elision in this [chapter][lifetime-elision] and a\n+chapter on lifetimes can be found [here][lifetimes].\n+\n+[lifetime-elision]: https://doc.rust-lang.org/book/ch10-03-lifetime-syntax.html#lifetime-elision\n+[lifetimes]: https://doc.rust-lang.org/rust-by-example/scope/lifetime.html"}]}