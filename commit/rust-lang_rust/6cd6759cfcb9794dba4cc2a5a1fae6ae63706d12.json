{"sha": "6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZjZDY3NTljZmNiOTc5NGRiYTRjYzJhNWExZmFlNmFlNjM3MDZkMTI=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-03-15T01:28:24Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-03-15T01:28:24Z"}, "message": "Do not complain about unmentioned fields in recovered patterns\n\nWhen the parser has to recover from malformed code in a pattern, do not\ncomplain about missing fields.", "tree": {"sha": "50b009048b030239d0682f41aa44b6298393ffff", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/50b009048b030239d0682f41aa44b6298393ffff"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "html_url": "https://github.com/rust-lang/rust/commit/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7486b9c208f7e1c4aa1e36961927327bd793e952", "url": "https://api.github.com/repos/rust-lang/rust/commits/7486b9c208f7e1c4aa1e36961927327bd793e952", "html_url": "https://github.com/rust-lang/rust/commit/7486b9c208f7e1c4aa1e36961927327bd793e952"}], "stats": {"total": 33, "additions": 5, "deletions": 28}, "files": [{"sha": "a3894a332230e7291418f57c90a7caa46f9d83ef", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "patch": "@@ -4698,7 +4698,7 @@ impl<'a> Parser<'a> {\n                         let (fields, etc) = self.parse_pat_fields().unwrap_or_else(|mut e| {\n                             e.emit();\n                             self.recover_stmt();\n-                            (vec![], false)\n+                            (vec![], true)\n                         });\n                         self.bump();\n                         pat = PatKind::Struct(path, fields, etc);"}, {"sha": "c4b1937de104f491516280e2ec8e857cbbb58474", "filename": "src/test/ui/parser/bind-struct-early-modifiers.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.rs?ref=6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "patch": "@@ -2,7 +2,6 @@ fn main() {\n     struct Foo { x: isize }\n     match (Foo { x: 10 }) {\n         Foo { ref x: ref x } => {}, //~ ERROR expected `,`\n-                                    //~| ERROR pattern does not mention field `x`\n         _ => {}\n     }\n }"}, {"sha": "03482a41f546597720f4a2f2348739ec7d4446d3", "filename": "src/test/ui/parser/bind-struct-early-modifiers.stderr", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.stderr?ref=6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "patch": "@@ -4,12 +4,5 @@ error: expected `,`\n LL |         Foo { ref x: ref x } => {},\n    |                   ^\n \n-error[E0027]: pattern does not mention field `x`\n-  --> $DIR/bind-struct-early-modifiers.rs:4:9\n-   |\n-LL |         Foo { ref x: ref x } => {},\n-   |         ^^^^^^^^^^^^^^^^^^^^ missing field `x`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0027`."}, {"sha": "5b0c2fc2be4076dc38007aaa4fba6cd1406df267", "filename": "src/test/ui/parser/issue-10392.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fparser%2Fissue-10392.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fparser%2Fissue-10392.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-10392.rs?ref=6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "patch": "@@ -4,5 +4,4 @@ fn a() -> A { panic!() }\n \n fn main() {\n     let A { , } = a(); //~ ERROR expected ident\n-                       //~| ERROR pattern does not mention field `foo`\n }"}, {"sha": "34991151c1eb63eafaa9a713eb8b4ea7e08df2f0", "filename": "src/test/ui/parser/issue-10392.stderr", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fparser%2Fissue-10392.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fparser%2Fissue-10392.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-10392.stderr?ref=6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "patch": "@@ -4,12 +4,5 @@ error: expected identifier, found `,`\n LL |     let A { , } = a();\n    |             ^ expected identifier\n \n-error[E0027]: pattern does not mention field `foo`\n-  --> $DIR/issue-10392.rs:6:9\n-   |\n-LL |     let A { , } = a();\n-   |         ^^^^^^^ missing field `foo`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0027`."}, {"sha": "807c54393f29b55f99a7f6ab1ad141be834bcd66", "filename": "src/test/ui/resolve/issue-54379.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.rs?ref=6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "patch": "@@ -6,7 +6,7 @@ fn main() {\n     let thing = MyStruct { s1: None };\n \n     match thing {\n-        MyStruct { .., Some(_) } => {}, //~ ERROR pattern does not mention field `s1`\n+        MyStruct { .., Some(_) } => {},\n         //~^ ERROR expected `,`\n         //~| ERROR expected `}`, found `,`\n         _ => {}"}, {"sha": "2a6b54572de03eb955bfd7c81d011c1c27f6f510", "filename": "src/test/ui/resolve/issue-54379.stderr", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.stderr?ref=6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "patch": "@@ -13,12 +13,5 @@ error: expected `,`\n LL |         MyStruct { .., Some(_) } => {},\n    |                        ^^^^\n \n-error[E0027]: pattern does not mention field `s1`\n-  --> $DIR/issue-54379.rs:9:9\n-   |\n-LL |         MyStruct { .., Some(_) } => {},\n-   |         ^^^^^^^^^^^^^^^^^^^^^^^^ missing field `s1`\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0027`."}]}