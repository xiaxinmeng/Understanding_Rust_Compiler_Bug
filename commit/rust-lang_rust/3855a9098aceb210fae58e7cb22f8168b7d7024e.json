{"sha": "3855a9098aceb210fae58e7cb22f8168b7d7024e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4NTVhOTA5OGFjZWIyMTBmYWU1OGU3Y2IyMmY4MTY4YjdkNzAyNGU=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2019-10-03T17:20:34Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-10-03T17:20:34Z"}, "message": "Merge pull request #729 from bjorn3/misc_changes\n\nUpdate cranelift and use crates.io version of gimli", "tree": {"sha": "06fe2bb3adc9f12040ef404f05259a688f3b484b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/06fe2bb3adc9f12040ef404f05259a688f3b484b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3855a9098aceb210fae58e7cb22f8168b7d7024e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdli3iCRBK7hj4Ov3rIwAAdHIIAGED7gTPLAZvKRNK1hhBExYp\nMbPRjlLTGE/7hQTsS/3SuE7qzH9DfBnTmDZW5TGdHyOLxMcXQbQrOkThFB2E7UxB\n1i3XfiNCELil+FS1dqouhLcYKkiAndpD41DySME1qpY4AzkU/h07fnHgLW6dTP09\nzTiCKFhDYE7Y+MusffwidciYpkhpyKD4WemTGuae36phvWZGqu4IlJULc4T5E5hz\nQc+JnTMjj+/7nve6qHnO2rbWnB8+siocwjsS4D2l8z79tVnjE4ZQ5FmkM1NfgpSq\nPleocsmOWu4iLpi9/4WST/0zjFCHZbnNnR/d77CM53MAgPUePEaRyTHppnUi8a0=\n=cWuQ\n-----END PGP SIGNATURE-----\n", "payload": "tree 06fe2bb3adc9f12040ef404f05259a688f3b484b\nparent 0f938f68a58fb187e1d5f1173dcaa6dbc1a19552\nparent 58a9b648e830bef11864db8f657a2eac944ea552\nauthor bjorn3 <bjorn3@users.noreply.github.com> 1570123234 +0200\ncommitter GitHub <noreply@github.com> 1570123234 +0200\n\nMerge pull request #729 from bjorn3/misc_changes\n\nUpdate cranelift and use crates.io version of gimli"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3855a9098aceb210fae58e7cb22f8168b7d7024e", "html_url": "https://github.com/rust-lang/rust/commit/3855a9098aceb210fae58e7cb22f8168b7d7024e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3855a9098aceb210fae58e7cb22f8168b7d7024e/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f938f68a58fb187e1d5f1173dcaa6dbc1a19552", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f938f68a58fb187e1d5f1173dcaa6dbc1a19552", "html_url": "https://github.com/rust-lang/rust/commit/0f938f68a58fb187e1d5f1173dcaa6dbc1a19552"}, {"sha": "58a9b648e830bef11864db8f657a2eac944ea552", "url": "https://api.github.com/repos/rust-lang/rust/commits/58a9b648e830bef11864db8f657a2eac944ea552", "html_url": "https://github.com/rust-lang/rust/commit/58a9b648e830bef11864db8f657a2eac944ea552"}], "stats": {"total": 160, "additions": 85, "deletions": 75}, "files": [{"sha": "780571887c45daeaa284ac68183822426537300c", "filename": "Cargo.lock", "status": "modified", "additions": 61, "deletions": 53, "changes": 114, "blob_url": "https://github.com/rust-lang/rust/blob/3855a9098aceb210fae58e7cb22f8168b7d7024e/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/3855a9098aceb210fae58e7cb22f8168b7d7024e/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=3855a9098aceb210fae58e7cb22f8168b7d7024e", "patch": "@@ -60,29 +60,30 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"cranelift\"\n-version = \"0.42.0\"\n-source = \"git+https://github.com/CraneStation/cranelift.git#8945b82f92642f621d32fead437abd174b52f709\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n dependencies = [\n- \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"cranelift-frontend 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-codegen 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-frontend 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n ]\n \n [[package]]\n name = \"cranelift-bforest\"\n-version = \"0.42.0\"\n-source = \"git+https://github.com/CraneStation/cranelift.git#8945b82f92642f621d32fead437abd174b52f709\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n dependencies = [\n- \"cranelift-entity 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-entity 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n ]\n \n [[package]]\n name = \"cranelift-codegen\"\n-version = \"0.42.0\"\n-source = \"git+https://github.com/CraneStation/cranelift.git#8945b82f92642f621d32fead437abd174b52f709\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n dependencies = [\n- \"cranelift-bforest 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"cranelift-codegen-meta 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"cranelift-entity 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-bforest 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-codegen-meta 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-codegen-shared 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-entity 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure_derive 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -92,24 +93,30 @@ dependencies = [\n \n [[package]]\n name = \"cranelift-codegen-meta\"\n-version = \"0.42.0\"\n-source = \"git+https://github.com/CraneStation/cranelift.git#8945b82f92642f621d32fead437abd174b52f709\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n dependencies = [\n- \"cranelift-entity 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-codegen-shared 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-entity 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n ]\n \n+[[package]]\n+name = \"cranelift-codegen-shared\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n+\n [[package]]\n name = \"cranelift-entity\"\n-version = \"0.42.0\"\n-source = \"git+https://github.com/CraneStation/cranelift.git#8945b82f92642f621d32fead437abd174b52f709\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n \n [[package]]\n name = \"cranelift-faerie\"\n-version = \"0.42.0\"\n-source = \"git+https://github.com/CraneStation/cranelift.git#8945b82f92642f621d32fead437abd174b52f709\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n dependencies = [\n- \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"cranelift-module 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-codegen 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-module 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"faerie 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"goblin 0.0.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -118,44 +125,44 @@ dependencies = [\n \n [[package]]\n name = \"cranelift-frontend\"\n-version = \"0.42.0\"\n-source = \"git+https://github.com/CraneStation/cranelift.git#8945b82f92642f621d32fead437abd174b52f709\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n dependencies = [\n- \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-codegen 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"log 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"smallvec 0.6.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"target-lexicon 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"cranelift-module\"\n-version = \"0.42.0\"\n-source = \"git+https://github.com/CraneStation/cranelift.git#8945b82f92642f621d32fead437abd174b52f709\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n dependencies = [\n- \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"cranelift-entity 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-codegen 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-entity 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"cranelift-native\"\n-version = \"0.42.0\"\n-source = \"git+https://github.com/CraneStation/cranelift.git#8945b82f92642f621d32fead437abd174b52f709\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n dependencies = [\n- \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-codegen 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"raw-cpuid 6.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"target-lexicon 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"cranelift-simplejit\"\n-version = \"0.42.0\"\n-source = \"git+https://github.com/CraneStation/cranelift.git#8945b82f92642f621d32fead437abd174b52f709\"\n+version = \"0.44.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#c7fd5d9a47198ecf87c06716b351909417fecf6f\"\n dependencies = [\n- \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"cranelift-module 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"cranelift-native 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-codegen 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-module 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-native 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"errno 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.62 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"region 2.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -248,7 +255,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n [[package]]\n name = \"gimli\"\n version = \"0.19.0\"\n-source = \"git+https://github.com/gimli-rs/gimli.git#7e76a9d56623da413f4fc2ea0e553cafe51bbfb8\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"arrayvec 0.4.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"byteorder 1.3.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -395,12 +402,12 @@ dependencies = [\n  \"ar 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"bitflags 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"byteorder 1.3.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cranelift 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"cranelift-faerie 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"cranelift-module 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"cranelift-simplejit 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-faerie 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-module 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-simplejit 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"faerie 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"gimli 0.19.0 (git+https://github.com/gimli-rs/gimli.git)\",\n+ \"gimli 0.19.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"indexmap 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.62 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libloading 0.5.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -556,16 +563,17 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum byteorder 1.3.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a7c3dd8985a7111efc5c80b44e23ecdd8c007de8ade3b96595387e812b957cf5\"\n \"checksum cc 1.0.45 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4fc9a35e1f4290eb9e5fc54ba6cf40671ed2a2514c3eeb2b2a908dda2ea5a1be\"\n \"checksum cfg-if 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b486ce3ccf7ffd79fdeb678eac06a9e6c09fc88d33836340becb8fffe87c5e33\"\n-\"checksum cranelift 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n-\"checksum cranelift-bforest 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n-\"checksum cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n-\"checksum cranelift-codegen-meta 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n-\"checksum cranelift-entity 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n-\"checksum cranelift-faerie 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n-\"checksum cranelift-frontend 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n-\"checksum cranelift-module 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n-\"checksum cranelift-native 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n-\"checksum cranelift-simplejit 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-bforest 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-codegen 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-codegen-meta 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-codegen-shared 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-entity 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-faerie 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-frontend 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-module 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-native 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-simplejit 0.44.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n \"checksum crc32fast 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ba125de2af0df55319f41944744ad91c71113bf74a4646efff39afe1f6842db1\"\n \"checksum errno 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c2a071601ed01b988f896ab14b95e67335d1eeb50190932a1320f7fe3cadc84e\"\n \"checksum errno-dragonfly 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"14ca354e36190500e1e1fb267c647932382b54053c50b14970856c0b00a35067\"\n@@ -575,7 +583,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum fallible-iterator 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4443176a9f2c162692bd3d352d745ef9413eec5782a80d8fd6f8a1ac692a07f7\"\n \"checksum flate2 1.0.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2adaffba6388640136149e18ed080b77a78611c1e1d6de75aedcdf78df5d4682\"\n \"checksum gcc 0.3.55 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8f5f3913fa0bfe7ee1fd8248b6b9f42a5af4b9d65ec2dd2c3c26132b950ecfc2\"\n-\"checksum gimli 0.19.0 (git+https://github.com/gimli-rs/gimli.git)\" = \"<none>\"\n+\"checksum gimli 0.19.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"162d18ae5f2e3b90a993d202f1ba17a5633c2484426f8bcae201f86194bacd00\"\n \"checksum goblin 0.0.24 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e3fa261d919c1ae9d1e4533c4a2f99e10938603c4208d56c05bec7a872b661b0\"\n \"checksum indexmap 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a61202fbe46c4a951e9404a720a0180bcf3212c750d735cb5c4ba4dc551299f3\"\n \"checksum itoa 0.4.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"501266b7edd0174f8530248f87f99c88fbe60ca4ef3dd486835b8d8d53136f7f\""}, {"sha": "74e1dda7e04041e01bd3467ff13a1631d7f8cf5e", "filename": "Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3855a9098aceb210fae58e7cb22f8168b7d7024e/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3855a9098aceb210fae58e7cb22f8168b7d7024e/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=3855a9098aceb210fae58e7cb22f8168b7d7024e", "patch": "@@ -22,7 +22,7 @@ ar = \"0.8.0\"\n bitflags = \"1.1.0\"\n byteorder = \"1.2.7\"\n libc = \"0.2.53\"\n-gimli = { git = \"https://github.com/gimli-rs/gimli.git\" }\n+gimli = \"0.19.0\"\n indexmap = \"1.0.2\"\n libloading = \"0.5.1\"\n \n@@ -38,7 +38,7 @@ features = [\"compression\", \"read\", \"std\"] # We don't need WASM support\n #cranelift-simplejit = { path = \"../cranelift/cranelift-simplejit\" }\n #cranelift-faerie = { path = \"../cranelift/cranelift-faerie\" }\n \n-#[patch.\"https://github.com/gimli-rs/gimli.git\"]\n+#[patch.crates-io]\n #gimli = { path = \"../\" }\n \n [target.'cfg(not(target_arch = \"wasm32\"))'.dependencies]"}, {"sha": "29e3ceb3a5a571bb081721478ac231c597bb64c7", "filename": "src/allocator.rs", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Fallocator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Fallocator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fallocator.rs?ref=3855a9098aceb210fae58e7cb22f8168b7d7024e", "patch": "@@ -73,8 +73,10 @@ pub fn codegen_inner(sess: &Session, module: &mut Module<impl Backend + 'static>\n             .unwrap();\n \n         let mut ctx = Context::new();\n-        ctx.func = {\n-            let mut bcx = FunctionBuilder::new(Function::with_name_signature(ExternalName::user(0, 0), sig.clone()));\n+        ctx.func = Function::with_name_signature(ExternalName::user(0, 0), sig.clone());\n+        {\n+            let mut func_ctx = FunctionBuilderContext::new();\n+            let mut bcx = FunctionBuilder::new(&mut ctx.func, &mut func_ctx);\n \n             let ebb = bcx.create_ebb();\n             bcx.switch_to_block(ebb);\n@@ -90,9 +92,8 @@ pub fn codegen_inner(sess: &Session, module: &mut Module<impl Backend + 'static>\n             let results = bcx.inst_results(call_inst).to_vec(); // Clone to prevent borrow error\n             bcx.ins().return_(&results);\n             bcx.seal_all_blocks();\n-            bcx.finalize()\n-        };\n-\n+            bcx.finalize();\n+        }\n         module.define_function(func_id, &mut ctx).unwrap();\n     }\n }"}, {"sha": "7cb079567f1e6ddb6437791186fb71337b11f723", "filename": "src/base.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbase.rs?ref=3855a9098aceb210fae58e7cb22f8168b7d7024e", "patch": "@@ -19,8 +19,10 @@ pub fn trans_fn<'clif, 'tcx, B: Backend + 'static>(\n         .as_mut()\n         .map(|debug_context| FunctionDebugContext::new(tcx, debug_context, mir, &name, &sig));\n \n-    // FIXME reuse Function and FunctionBuilder between multiple trans_fn calls\n-    let mut bcx = FunctionBuilder::new(Function::with_name_signature(ExternalName::user(0, 0), sig));\n+    // Make FunctionBuilder\n+    let mut func = Function::with_name_signature(ExternalName::user(0, 0), sig);\n+    let mut func_ctx = FunctionBuilderContext::new();\n+    let mut bcx = FunctionBuilder::new(&mut func, &mut func_ctx);\n \n     // Predefine ebb's\n     let start_ebb = bcx.create_ebb();\n@@ -56,9 +58,6 @@ pub fn trans_fn<'clif, 'tcx, B: Backend + 'static>(\n         codegen_fn_content(&mut fx);\n     });\n \n-    fx.bcx.seal_all_blocks();\n-    let func = fx.bcx.finalize();\n-\n     // Recover all necessary data from fx, before accessing func will prevent future access to it.\n     let instance = fx.instance;\n     let clif_comments = fx.clif_comments;\n@@ -239,6 +238,9 @@ fn codegen_fn_content(fx: &mut FunctionCx<'_, '_, impl Backend>) {\n             }\n         };\n     }\n+\n+    fx.bcx.seal_all_blocks();\n+    fx.bcx.finalize();\n }\n \n fn trans_stmt<'tcx>("}, {"sha": "6653b4e2d91f558fb389ce98e0a4d05e2986da15", "filename": "src/codegen_i128.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Fcodegen_i128.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Fcodegen_i128.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcodegen_i128.rs?ref=3855a9098aceb210fae58e7cb22f8168b7d7024e", "patch": "@@ -98,7 +98,7 @@ pub fn maybe_codegen<'tcx>(\n             // Optimize `val >> 64`, because compiler_builtins uses it to deconstruct an 128bit\n             // integer into its lsb and msb.\n             // https://github.com/rust-lang-nursery/compiler-builtins/blob/79a6a1603d5672cbb9187ff41ff4d9b5048ac1cb/src/int/mod.rs#L217\n-            if let Some(64) = resolve_value_imm(&fx.bcx.func, rhs_val) {\n+            if let Some(64) = resolve_value_imm(fx.bcx.func, rhs_val) {\n                 let (lhs_lsb, lhs_msb) = fx.bcx.ins().isplit(lhs_val);\n                 let all_zeros = fx.bcx.ins().iconst(types::I64, 0);\n                 let val = match (bin_op, is_signed) {"}, {"sha": "3ebae0506c5c1c8d8bc756cd602f70b756acdeeb", "filename": "src/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcommon.rs?ref=3855a9098aceb210fae58e7cb22f8168b7d7024e", "patch": "@@ -279,7 +279,7 @@ pub struct FunctionCx<'clif, 'tcx, B: Backend + 'static> {\n     pub instance: Instance<'tcx>,\n     pub mir: &'tcx Body<'tcx>,\n \n-    pub bcx: FunctionBuilder,\n+    pub bcx: FunctionBuilder<'clif>,\n     pub ebb_map: HashMap<BasicBlock, Ebb>,\n     pub local_map: HashMap<Local, CPlace<'tcx>>,\n "}, {"sha": "17783b01d26aaccd816b4169c7f4702fd1b7d78d", "filename": "src/main_shim.rs", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Fmain_shim.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Fmain_shim.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmain_shim.rs?ref=3855a9098aceb210fae58e7cb22f8168b7d7024e", "patch": "@@ -56,10 +56,10 @@ pub fn maybe_create_entry_wrapper(tcx: TyCtxt<'_>, module: &mut Module<impl Back\n             .unwrap();\n \n         let mut ctx = Context::new();\n-        ctx.func = {\n-            let mut bcx: FunctionBuilder = FunctionBuilder::new(\n-                Function::with_name_signature(ExternalName::user(0, 0), cmain_sig.clone())\n-            );\n+        ctx.func = Function::with_name_signature(ExternalName::user(0, 0), cmain_sig.clone());\n+        {\n+            let mut func_ctx = FunctionBuilderContext::new();\n+            let mut bcx: FunctionBuilder = FunctionBuilder::new(&mut ctx.func, &mut func_ctx);\n \n             let ebb = bcx.create_ebb();\n             bcx.switch_to_block(ebb);\n@@ -93,9 +93,8 @@ pub fn maybe_create_entry_wrapper(tcx: TyCtxt<'_>, module: &mut Module<impl Back\n             let result = bcx.inst_results(call_inst)[0];\n             bcx.ins().return_(&[result]);\n             bcx.seal_all_blocks();\n-            bcx.finalize()\n-        };\n-\n+            bcx.finalize();\n+        }\n         m.define_function(cmain_func_id, &mut ctx).unwrap();\n     }\n }"}, {"sha": "9be9d166e35ef67d51b8150bbb530f919a559fbd", "filename": "src/trap.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Ftrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3855a9098aceb210fae58e7cb22f8168b7d7024e/src%2Ftrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftrap.rs?ref=3855a9098aceb210fae58e7cb22f8168b7d7024e", "patch": "@@ -36,7 +36,7 @@ fn codegen_print(fx: &mut FunctionCx<'_, '_, impl cranelift_module::Backend>, ms\n     // Ignore DuplicateDefinition error, as the data will be the same\n     let _ = fx.module.define_data(msg_id, &data_ctx);\n \n-    let local_msg_id = fx.module.declare_data_in_func(msg_id, &mut fx.bcx.func);\n+    let local_msg_id = fx.module.declare_data_in_func(msg_id, fx.bcx.func);\n     #[cfg(debug_assertions)]\n     {\n         fx.add_entity_comment(local_msg_id, msg);"}]}