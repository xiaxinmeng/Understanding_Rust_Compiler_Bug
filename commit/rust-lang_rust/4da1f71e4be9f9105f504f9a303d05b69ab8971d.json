{"sha": "4da1f71e4be9f9105f504f9a303d05b69ab8971d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRkYTFmNzFlNGJlOWY5MTA1ZjUwNGY5YTMwM2QwNWI2OWFiODk3MWQ=", "commit": {"author": {"name": "varkor", "email": "github@varkor.com", "date": "2018-05-01T17:52:27Z"}, "committer": {"name": "varkor", "email": "github@varkor.com", "date": "2018-05-01T17:52:27Z"}, "message": "Add repr(u8) to the test", "tree": {"sha": "80ab28faff2285642dc0f02b4336b1d2d57fb1d4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/80ab28faff2285642dc0f02b4336b1d2d57fb1d4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4da1f71e4be9f9105f504f9a303d05b69ab8971d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4da1f71e4be9f9105f504f9a303d05b69ab8971d", "html_url": "https://github.com/rust-lang/rust/commit/4da1f71e4be9f9105f504f9a303d05b69ab8971d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4da1f71e4be9f9105f504f9a303d05b69ab8971d/comments", "author": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7f6d47314bde7b8c49651bcb3802f0994d531a34", "url": "https://api.github.com/repos/rust-lang/rust/commits/7f6d47314bde7b8c49651bcb3802f0994d531a34", "html_url": "https://github.com/rust-lang/rust/commit/7f6d47314bde7b8c49651bcb3802f0994d531a34"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "af4eb6153029051322507a34d44f7c11ad5b8497", "filename": "src/test/run-pass/repr_c_int_align.rs", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/4da1f71e4be9f9105f504f9a303d05b69ab8971d/src%2Ftest%2Frun-pass%2Frepr_c_int_align.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4da1f71e4be9f9105f504f9a303d05b69ab8971d/src%2Ftest%2Frun-pass%2Frepr_c_int_align.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Frepr_c_int_align.rs?ref=4da1f71e4be9f9105f504f9a303d05b69ab8971d", "patch": "@@ -18,6 +18,12 @@ enum ReprCu8 {\n     B,\n }\n \n+#[repr(u8)]\n+enum Repru8 {\n+    A(u16),\n+    B,\n+}\n+\n #[repr(C)]\n struct ReprC {\n     tag: u8,\n@@ -26,6 +32,7 @@ struct ReprC {\n }\n \n fn main() {\n+    // Test `repr(C, u8)`.\n     let r1 = ReprC { tag: 0, padding: 0, payload: 0 };\n     let r2 = ReprC { tag: 0, padding: 1, payload: 1 };\n \n@@ -36,4 +43,13 @@ fn main() {\n         (ReprCu8::A(_), ReprCu8::A(_)) => (),\n         _ => assert!(false)\n     };\n+\n+    // Test `repr(u8)`.\n+    let t1: &Repru8 = unsafe { std::mem::transmute(&r1) };\n+    let t2: &Repru8 = unsafe { std::mem::transmute(&r2) };\n+\n+    match (t1, t2) {\n+        (Repru8::A(_), Repru8::A(_)) => (),\n+        _ => assert!(false)\n+    };\n }"}]}