{"sha": "478ce1c8b5288432509f39aeb5b611e7614d0e03", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ3OGNlMWM4YjUyODg0MzI1MDlmMzlhZWI1YjYxMWU3NjE0ZDBlMDM=", "commit": {"author": {"name": "Hirokazu Hata", "email": "h.hata.ai.t@gmail.com", "date": "2019-01-14T13:52:05Z"}, "committer": {"name": "Hirokazu Hata", "email": "h.hata.ai.t@gmail.com", "date": "2019-01-16T14:37:42Z"}, "message": "Fix infer array test", "tree": {"sha": "b93a2ee1b6f3ea7152bbbd6f5d4d96ba66b4b040", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b93a2ee1b6f3ea7152bbbd6f5d4d96ba66b4b040"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/478ce1c8b5288432509f39aeb5b611e7614d0e03", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/478ce1c8b5288432509f39aeb5b611e7614d0e03", "html_url": "https://github.com/rust-lang/rust/commit/478ce1c8b5288432509f39aeb5b611e7614d0e03", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/478ce1c8b5288432509f39aeb5b611e7614d0e03/comments", "author": {"login": "h-michael", "id": 4556097, "node_id": "MDQ6VXNlcjQ1NTYwOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4556097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h-michael", "html_url": "https://github.com/h-michael", "followers_url": "https://api.github.com/users/h-michael/followers", "following_url": "https://api.github.com/users/h-michael/following{/other_user}", "gists_url": "https://api.github.com/users/h-michael/gists{/gist_id}", "starred_url": "https://api.github.com/users/h-michael/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h-michael/subscriptions", "organizations_url": "https://api.github.com/users/h-michael/orgs", "repos_url": "https://api.github.com/users/h-michael/repos", "events_url": "https://api.github.com/users/h-michael/events{/privacy}", "received_events_url": "https://api.github.com/users/h-michael/received_events", "type": "User", "site_admin": false}, "committer": {"login": "h-michael", "id": 4556097, "node_id": "MDQ6VXNlcjQ1NTYwOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4556097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h-michael", "html_url": "https://github.com/h-michael", "followers_url": "https://api.github.com/users/h-michael/followers", "following_url": "https://api.github.com/users/h-michael/following{/other_user}", "gists_url": "https://api.github.com/users/h-michael/gists{/gist_id}", "starred_url": "https://api.github.com/users/h-michael/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h-michael/subscriptions", "organizations_url": "https://api.github.com/users/h-michael/orgs", "repos_url": "https://api.github.com/users/h-michael/repos", "events_url": "https://api.github.com/users/h-michael/events{/privacy}", "received_events_url": "https://api.github.com/users/h-michael/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5d3884d5b49e06991f8f1b0d9031f8dd37edd6ab", "url": "https://api.github.com/repos/rust-lang/rust/commits/5d3884d5b49e06991f8f1b0d9031f8dd37edd6ab", "html_url": "https://github.com/rust-lang/rust/commit/5d3884d5b49e06991f8f1b0d9031f8dd37edd6ab"}], "stats": {"total": 97, "additions": 57, "deletions": 40}, "files": [{"sha": "dd574162ac1e1138c61bcf8da4dec9d53011f863", "filename": "crates/ra_hir/src/ty/tests.rs", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/478ce1c8b5288432509f39aeb5b611e7614d0e03/crates%2Fra_hir%2Fsrc%2Fty%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/478ce1c8b5288432509f39aeb5b611e7614d0e03/crates%2Fra_hir%2Fsrc%2Fty%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty%2Ftests.rs?ref=478ce1c8b5288432509f39aeb5b611e7614d0e03", "patch": "@@ -343,14 +343,17 @@ fn test(x: &str, y: isize) {\n     let b = [a, a];\n     let c = [b, b];\n \n-    let d = [y];\n-    let e = [d, d];\n-    let f = [e, e];\n+    let d = [y, 1, 2, 3]\n+    let d = [1, y, 2, 3]\n+    let e = [y];\n+    let f = [d, d];\n+    let g = [e, e];\n+\n+    let h = [1, 2];\n+    let i = [\"a\", \"b\"];\n \n-    // we have not infered these case yet.\n-    let g = [1, 2];\n-    let h = [\"a\", \"b\"];\n     let b = [a, [\"b\"]];\n+    let x: [u8; 0] = [];\n }\n \"#,\n         \"array.txt\","}, {"sha": "66f09485d7220f1ed756f8fbbd65e174ea1528bd", "filename": "crates/ra_hir/src/ty/tests/data/array.txt", "status": "modified", "additions": 48, "deletions": 34, "changes": 82, "blob_url": "https://github.com/rust-lang/rust/blob/478ce1c8b5288432509f39aeb5b611e7614d0e03/crates%2Fra_hir%2Fsrc%2Fty%2Ftests%2Fdata%2Farray.txt", "raw_url": "https://github.com/rust-lang/rust/raw/478ce1c8b5288432509f39aeb5b611e7614d0e03/crates%2Fra_hir%2Fsrc%2Fty%2Ftests%2Fdata%2Farray.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty%2Ftests%2Fdata%2Farray.txt?ref=478ce1c8b5288432509f39aeb5b611e7614d0e03", "patch": "@@ -1,38 +1,52 @@\n [9; 10) 'x': &str\n [18; 19) 'y': isize\n-[28; 258) '{     ...\"]]; }': ()\n-[38; 39) 'a': [&str,]\n-[42; 45) '[x]': [&str,]\n+[28; 291) '{     ... []; }': ()\n+[38; 39) 'a': [&str]\n+[42; 45) '[x]': [&str]\n [43; 44) 'x': &str\n-[55; 56) 'b': [[&str,], [&str,]]\n-[59; 65) '[a, a]': [[&str,], [&str,]]\n-[60; 61) 'a': [&str,]\n-[63; 64) 'a': [&str,]\n-[75; 76) 'c': [[[&str,], [&str,]], [[&str,], [&str,]]]\n-[79; 85) '[b, b]': [[[&str,], [&str,]], [[&str,], [&str,]]]\n-[80; 81) 'b': [[&str,], [&str,]]\n-[83; 84) 'b': [[&str,], [&str,]]\n-[96; 97) 'd': [isize,]\n-[100; 103) '[y]': [isize,]\n+[55; 56) 'b': [[&str]]\n+[59; 65) '[a, a]': [[&str]]\n+[60; 61) 'a': [&str]\n+[63; 64) 'a': [&str]\n+[75; 76) 'c': [[[&str]]]\n+[79; 85) '[b, b]': [[[&str]]]\n+[80; 81) 'b': [[&str]]\n+[83; 84) 'b': [[&str]]\n+[96; 97) 'd': [isize]\n+[100; 112) '[y, 1, 2, 3]': [isize]\n [101; 102) 'y': isize\n-[113; 114) 'e': [[isize,], [isize,]]\n-[117; 123) '[d, d]': [[isize,], [isize,]]\n-[118; 119) 'd': [isize,]\n-[121; 122) 'd': [isize,]\n-[133; 134) 'f': [[[isize,], [isize,]], [[isize,], [isize,]]]\n-[137; 143) '[e, e]': [[[isize,], [isize,]], [[isize,], [isize,]]]\n-[138; 139) 'e': [[isize,], [isize,]]\n-[141; 142) 'e': [[isize,], [isize,]]\n-[197; 198) 'g': [_, _]\n-[201; 207) '[1, 2]': [_, _]\n-[202; 203) '1': [unknown]\n-[205; 206) '2': [unknown]\n-[217; 218) 'h': [_, _]\n-[221; 231) '[\"a\", \"b\"]': [_, _]\n-[222; 225) '\"a\"': [unknown]\n-[227; 230) '\"b\"': [unknown]\n-[241; 242) 'b': [[&str,], [_,]]\n-[245; 255) '[a, [\"b\"]]': [[&str,], [_,]]\n-[246; 247) 'a': [&str,]\n-[249; 254) '[\"b\"]': [_,]\n-[250; 253) '\"b\"': [unknown]\n+[104; 105) '1': isize\n+[107; 108) '2': isize\n+[110; 111) '3': isize\n+[121; 122) 'd': [isize]\n+[125; 137) '[1, y, 2, 3]': [isize]\n+[126; 127) '1': isize\n+[129; 130) 'y': isize\n+[132; 133) '2': isize\n+[135; 136) '3': isize\n+[146; 147) 'e': [isize]\n+[150; 153) '[y]': [isize]\n+[151; 152) 'y': isize\n+[163; 164) 'f': [[isize]]\n+[167; 173) '[d, d]': [[isize]]\n+[168; 169) 'd': [isize]\n+[171; 172) 'd': [isize]\n+[183; 184) 'g': [[isize]]\n+[187; 193) '[e, e]': [[isize]]\n+[188; 189) 'e': [isize]\n+[191; 192) 'e': [isize]\n+[204; 205) 'h': [_]\n+[208; 214) '[1, 2]': [_]\n+[209; 210) '1': [unknown]\n+[212; 213) '2': [unknown]\n+[224; 225) 'i': [_]\n+[228; 238) '[\"a\", \"b\"]': [_]\n+[229; 232) '\"a\"': [unknown]\n+[234; 237) '\"b\"': [unknown]\n+[249; 250) 'b': [[&str]]\n+[253; 263) '[a, [\"b\"]]': [[&str]]\n+[254; 255) 'a': [&str]\n+[257; 262) '[\"b\"]': [&str]\n+[258; 261) '\"b\"': &str\n+[273; 274) 'x': [u8]\n+[286; 288) '[]': [u8]"}]}