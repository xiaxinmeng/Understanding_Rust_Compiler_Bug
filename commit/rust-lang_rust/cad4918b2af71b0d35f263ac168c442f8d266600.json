{"sha": "cad4918b2af71b0d35f263ac168c442f8d266600", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNhZDQ5MThiMmFmNzFiMGQzNWYyNjNhYzE2OGM0NDJmOGQyNjY2MDA=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-30T05:26:09Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-30T05:27:09Z"}, "message": "core: Remove sys::set_min_stack\n\nThis was a temporary hack with global effect. Eventually there will\nbe a real solution for controlling stack sizes.", "tree": {"sha": "a018bcd2749fa347b4b227140d41b129f5e983df", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a018bcd2749fa347b4b227140d41b129f5e983df"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cad4918b2af71b0d35f263ac168c442f8d266600", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cad4918b2af71b0d35f263ac168c442f8d266600", "html_url": "https://github.com/rust-lang/rust/commit/cad4918b2af71b0d35f263ac168c442f8d266600", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cad4918b2af71b0d35f263ac168c442f8d266600/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6548cdd59beca24a90f41d6507cb615e67828b07", "url": "https://api.github.com/repos/rust-lang/rust/commits/6548cdd59beca24a90f41d6507cb615e67828b07", "html_url": "https://github.com/rust-lang/rust/commit/6548cdd59beca24a90f41d6507cb615e67828b07"}], "stats": {"total": 21, "additions": 0, "deletions": 21}, "files": [{"sha": "e8fc38da0e04dba545827bbd0115c3d4eb633017", "filename": "src/libcore/sys.rs", "status": "modified", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/cad4918b2af71b0d35f263ac168c442f8d266600/src%2Flibcore%2Fsys.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cad4918b2af71b0d35f263ac168c442f8d266600/src%2Flibcore%2Fsys.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fsys.rs?ref=cad4918b2af71b0d35f263ac168c442f8d266600", "patch": "@@ -21,7 +21,6 @@ native mod rustrt {\n     fn unsupervise();\n     fn shape_log_str<T>(t: *sys::type_desc, data: T) -> str;\n     fn rust_set_exit_status(code: ctypes::intptr_t);\n-    fn set_min_stack(size: ctypes::uintptr_t);\n }\n \n #[abi = \"rust-intrinsic\"]\n@@ -106,22 +105,6 @@ fn set_exit_status(code: int) {\n     rustrt::rust_set_exit_status(code as ctypes::intptr_t);\n }\n \n-// FIXME: #1495 - This shouldn't exist\n-#[doc(\n-    brief =\n-    \"Globally set the minimum size, in bytes, of a stack segment\",\n-    desc =\n-    \"Rust tasks have segmented stacks that are connected in a linked list \\\n-     allowing them to start very small and grow very large. In some \\\n-     situations this can result in poor performance. Calling this function \\\n-     will set the minimum size of all stack segments allocated in the \\\n-     future, for all tasks.\"\n-)]\n-#[deprecated]\n-fn set_min_stack(size: uint) {\n-    rustrt::set_min_stack(size);\n-}\n-\n #[cfg(test)]\n mod tests {\n "}, {"sha": "ca0555ca49d57601e2a2106a511c43bcf8aa81d6", "filename": "src/test/bench/shootout-ackermann.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cad4918b2af71b0d35f263ac168c442f8d266600/src%2Ftest%2Fbench%2Fshootout-ackermann.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cad4918b2af71b0d35f263ac168c442f8d266600/src%2Ftest%2Fbench%2Fshootout-ackermann.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-ackermann.rs?ref=cad4918b2af71b0d35f263ac168c442f8d266600", "patch": "@@ -13,8 +13,6 @@ fn ack(m: int, n: int) -> int {\n }\n \n fn main(args: [str]) {\n-    // FIXME: #1527\n-    sys::set_min_stack(1000000u);\n     let n = if vec::len(args) == 2u {\n         int::from_str(args[1])\n     } else {"}, {"sha": "ad31289a1094839c935d1c20c9a3534b5845276f", "filename": "src/test/bench/shootout-fibo.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cad4918b2af71b0d35f263ac168c442f8d266600/src%2Ftest%2Fbench%2Fshootout-fibo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cad4918b2af71b0d35f263ac168c442f8d266600/src%2Ftest%2Fbench%2Fshootout-fibo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-fibo.rs?ref=cad4918b2af71b0d35f263ac168c442f8d266600", "patch": "@@ -9,8 +9,6 @@ fn fib(n: int) -> int {\n }\n \n fn main(args: [str]) {\n-    // FIXME: #1527\n-    sys::set_min_stack(1000000u);\n     let n = if vec::len(args) == 2u {\n         int::from_str(args[1])\n     } else {"}]}