{"sha": "b9c430129d5971df4410b6c829b100ce8191328e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI5YzQzMDEyOWQ1OTcxZGY0NDEwYjZjODI5YjEwMGNlODE5MTMyOGU=", "commit": {"author": {"name": "Peter Todd", "email": "pete@petertodd.org", "date": "2019-05-09T02:38:58Z"}, "committer": {"name": "Peter Todd", "email": "pete@petertodd.org", "date": "2019-05-09T02:39:41Z"}, "message": "Inline some Cursor calls for slices\n\n(Partially) brings back https://github.com/rust-lang/rust/pull/33921", "tree": {"sha": "3dfa5970059c881560ef0c9cd36835bdf3a63542", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3dfa5970059c881560ef0c9cd36835bdf3a63542"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b9c430129d5971df4410b6c829b100ce8191328e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEFcyURjhyM68BBPYTJIFAPaXwkfsFAlzTkvAACgkQJIFAPaXw\nkfsOqAgAkm+qK23dd/2SHeseuuLic5MQGu2zlR/MedKwf+6ExARre1OLldQwPajN\nywpboI9IPhU/oLgyTf+ckVYDpkwNxTZjD4VCLdgm73MgTZy+c4GVy1zcrnwzoo+D\nSd3fhRqsnw6cVREwpNVkuYpI0Ylckrni7aUv1F7tzHdPnWHLwE20JoG+YdVOU8mt\nr9FU6KFDfVQtZL/slG2VfHNU6wJFjCuJnXXwzORJIp55TRMB+LVekyHmTCsKxskK\njfDH82zaouQzD3mvNe1moCZ1XhMUcLQCUFsXVVeD5Yu4IHBrsayVTbF2zSkalkd+\nOqjEmnBUuzywKyVLRKsjMOu0ylBYJA==\n=bn+b\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIPEnP2kvyOBKrGW+VSKBMUzs0Q/AMWM/hNxVbBMAWN+KCP/wEAVUn/sQ6xAm\nX/AJ9KYTII8I8QRc05L38AjWMUNv+txnZQCD3+MNLvkMjiMiaHR0cHM6Ly9idGMu\nY2FsZW5kYXIuY2F0YWxsYXh5LmNvbf/wECXxvJ5krXvEWPMdJvtRulsI8QRc05L2\n8AiDjNRRxRPe1ACD3+MNLvkMjiwraHR0cHM6Ly9ib2IuYnRjLmNhbGVuZGFyLm9w\nZW50aW1lc3RhbXBzLm9yZ//wEOvbJwxSymg/aGxaXJmtUbEI8BD0V4lnHUumPPV8\nA9lnJPwZCPEEXNOS9/AI4qYqZIJQIQAAg9/jDS75DI4pKGh0dHBzOi8vZmlubmV5\nLmNhbGVuZGFyLmV0ZXJuaXR5d2FsbC5jb23wEPCz6jnGvCou0IcnwdIQnVEI8QRc\n05L28AhcDK1+HnJxAQCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2FsZW5k\nYXIub3BlbnRpbWVzdGFtcHMub3Jn\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----", "payload": "tree 3dfa5970059c881560ef0c9cd36835bdf3a63542\nparent e6305805a7d36b23c79f8308774778ba6481ce47\nauthor Peter Todd <pete@petertodd.org> 1557369538 -0400\ncommitter Peter Todd <pete@petertodd.org> 1557369581 -0400\n\nInline some Cursor calls for slices\n\n(Partially) brings back https://github.com/rust-lang/rust/pull/33921\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b9c430129d5971df4410b6c829b100ce8191328e", "html_url": "https://github.com/rust-lang/rust/commit/b9c430129d5971df4410b6c829b100ce8191328e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b9c430129d5971df4410b6c829b100ce8191328e/comments", "author": {"login": "petertodd", "id": 7042, "node_id": "MDQ6VXNlcjcwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petertodd", "html_url": "https://github.com/petertodd", "followers_url": "https://api.github.com/users/petertodd/followers", "following_url": "https://api.github.com/users/petertodd/following{/other_user}", "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions", "organizations_url": "https://api.github.com/users/petertodd/orgs", "repos_url": "https://api.github.com/users/petertodd/repos", "events_url": "https://api.github.com/users/petertodd/events{/privacy}", "received_events_url": "https://api.github.com/users/petertodd/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petertodd", "id": 7042, "node_id": "MDQ6VXNlcjcwNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petertodd", "html_url": "https://github.com/petertodd", "followers_url": "https://api.github.com/users/petertodd/followers", "following_url": "https://api.github.com/users/petertodd/following{/other_user}", "gists_url": "https://api.github.com/users/petertodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/petertodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petertodd/subscriptions", "organizations_url": "https://api.github.com/users/petertodd/orgs", "repos_url": "https://api.github.com/users/petertodd/repos", "events_url": "https://api.github.com/users/petertodd/events{/privacy}", "received_events_url": "https://api.github.com/users/petertodd/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e6305805a7d36b23c79f8308774778ba6481ce47", "url": "https://api.github.com/repos/rust-lang/rust/commits/e6305805a7d36b23c79f8308774778ba6481ce47", "html_url": "https://github.com/rust-lang/rust/commit/e6305805a7d36b23c79f8308774778ba6481ce47"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "f627fb0f562f0d4839aa351898a13e0dd09f16c4", "filename": "src/libstd/io/cursor.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b9c430129d5971df4410b6c829b100ce8191328e/src%2Flibstd%2Fio%2Fcursor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b9c430129d5971df4410b6c829b100ce8191328e/src%2Flibstd%2Fio%2Fcursor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Fcursor.rs?ref=b9c430129d5971df4410b6c829b100ce8191328e", "patch": "@@ -265,13 +265,15 @@ impl<T> BufRead for Cursor<T> where T: AsRef<[u8]> {\n }\n \n // Non-resizing write implementation\n+#[inline]\n fn slice_write(pos_mut: &mut u64, slice: &mut [u8], buf: &[u8]) -> io::Result<usize> {\n     let pos = cmp::min(*pos_mut, slice.len() as u64);\n     let amt = (&mut slice[(pos as usize)..]).write(buf)?;\n     *pos_mut += amt as u64;\n     Ok(amt)\n }\n \n+#[inline]\n fn slice_write_vectored(\n     pos_mut: &mut u64,\n     slice: &mut [u8],\n@@ -341,6 +343,7 @@ impl Write for Cursor<&mut [u8]> {\n         slice_write_vectored(&mut self.pos, self.inner, bufs)\n     }\n \n+    #[inline]\n     fn flush(&mut self) -> io::Result<()> { Ok(()) }\n }\n \n@@ -354,6 +357,7 @@ impl Write for Cursor<&mut Vec<u8>> {\n         vec_write_vectored(&mut self.pos, self.inner, bufs)\n     }\n \n+    #[inline]\n     fn flush(&mut self) -> io::Result<()> { Ok(()) }\n }\n \n@@ -367,6 +371,7 @@ impl Write for Cursor<Vec<u8>> {\n         vec_write_vectored(&mut self.pos, &mut self.inner, bufs)\n     }\n \n+    #[inline]\n     fn flush(&mut self) -> io::Result<()> { Ok(()) }\n }\n \n@@ -382,6 +387,7 @@ impl Write for Cursor<Box<[u8]>> {\n         slice_write_vectored(&mut self.pos, &mut self.inner, bufs)\n     }\n \n+    #[inline]\n     fn flush(&mut self) -> io::Result<()> { Ok(()) }\n }\n "}]}