{"sha": "6109dba305d68db42865c07881d7ffb6d71a1127", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYxMDlkYmEzMDVkNjhkYjQyODY1YzA3ODgxZDdmZmI2ZDcxYTExMjc=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-04-08T16:29:14Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-04-08T16:44:58Z"}, "message": "Disable effect checking in rustboot", "tree": {"sha": "fbdcba185f3391e1e8fd347724a761c5701822f3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fbdcba185f3391e1e8fd347724a761c5701822f3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6109dba305d68db42865c07881d7ffb6d71a1127", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6109dba305d68db42865c07881d7ffb6d71a1127", "html_url": "https://github.com/rust-lang/rust/commit/6109dba305d68db42865c07881d7ffb6d71a1127", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6109dba305d68db42865c07881d7ffb6d71a1127/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b883ec4c9d09848a9c9a0822cde4bef4a347cbab", "url": "https://api.github.com/repos/rust-lang/rust/commits/b883ec4c9d09848a9c9a0822cde4bef4a347cbab", "html_url": "https://github.com/rust-lang/rust/commit/b883ec4c9d09848a9c9a0822cde4bef4a347cbab"}], "stats": {"total": 60, "additions": 5, "deletions": 55}, "files": [{"sha": "b3e818649f12c5484356555098ec8f53adbd78eb", "filename": "src/boot/me/effect.ml", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6109dba305d68db42865c07881d7ffb6d71a1127/src%2Fboot%2Fme%2Feffect.ml", "raw_url": "https://github.com/rust-lang/rust/raw/6109dba305d68db42865c07881d7ffb6d71a1127/src%2Fboot%2Fme%2Feffect.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Feffect.ml?ref=6109dba305d68db42865c07881d7ffb6d71a1127", "patch": "@@ -278,9 +278,9 @@ let effect_checking_visitor\n \n \n let process_crate\n-    (cx:ctxt)\n-    (crate:Ast.crate)\n-    : unit =\n+    (_cx:ctxt)\n+    (_crate:Ast.crate)\n+    : unit = (*\n   let item_auth = Hashtbl.create 0 in\n   let item_effect = Hashtbl.create 0 in\n   let passes =\n@@ -303,6 +303,8 @@ let process_crate\n     Hashtbl.iter auth_effect crate.node.Ast.crate_auth;\n     run_passes cx \"effect\" passes\n       cx.ctxt_sess.Session.sess_log_effect log crate\n+  *)\n+  ()\n ;;\n \n (*"}, {"sha": "4a0f704a0d225ffa0e1b2cdb4c7ecec4f5e0927e", "filename": "src/test/compile-fail/comm-makes-io.rs", "status": "removed", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Fcomm-makes-io.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Fcomm-makes-io.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcomm-makes-io.rs?ref=b883ec4c9d09848a9c9a0822cde4bef4a347cbab", "patch": "@@ -1,7 +0,0 @@\n-// xfail-stage0\n-// error-pattern: calculated effect is 'impure'\n-\n-fn main() {\n-  let chan[int] c = chan();\n-  c <| 10;\n-}\n\\ No newline at end of file"}, {"sha": "5e8281c53e4c576772416e176631f7557b87ba59", "filename": "src/test/compile-fail/io-infects-caller.rs", "status": "removed", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Fio-infects-caller.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Fio-infects-caller.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fio-infects-caller.rs?ref=b883ec4c9d09848a9c9a0822cde4bef4a347cbab", "patch": "@@ -1,11 +0,0 @@\n-// xfail-stage0\n-// error-pattern: calculated effect is 'impure'\n-\n-impure fn foo() {\n-  let chan[int] c = chan();\n-  c <| 10;\n-}\n-\n-fn main() {\n-  foo();\n-}\n\\ No newline at end of file"}, {"sha": "d158f56324d144a0b83700bb5aefd60aab832d03", "filename": "src/test/compile-fail/native-makes-unsafe.rs", "status": "removed", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Fnative-makes-unsafe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Fnative-makes-unsafe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fnative-makes-unsafe.rs?ref=b883ec4c9d09848a9c9a0822cde4bef4a347cbab", "patch": "@@ -1,10 +0,0 @@\n-// xfail-stage0\n-// error-pattern: calculated effect is 'unsafe'\n-\n-native mod foo {\n-  fn naughty();\n-}\n-\n-fn main() {\n-  foo.naughty();\n-}\n\\ No newline at end of file"}, {"sha": "64784661b3cb3f50e4bb85c50b2dfcfda2e0a97b", "filename": "src/test/compile-fail/unnecessary-io.rs", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Funnecessary-io.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Funnecessary-io.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funnecessary-io.rs?ref=b883ec4c9d09848a9c9a0822cde4bef4a347cbab", "patch": "@@ -1,5 +0,0 @@\n-// xfail-stage0\n-// error-pattern: calculated effect is ''\n-impure fn main() {\n-  log \"hi\";\n-}\n\\ No newline at end of file"}, {"sha": "9d48f164e231b5ee5ce51f4e08c476e41c57205e", "filename": "src/test/compile-fail/unnecessary-unsafe.rs", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Funnecessary-unsafe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Funnecessary-unsafe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funnecessary-unsafe.rs?ref=b883ec4c9d09848a9c9a0822cde4bef4a347cbab", "patch": "@@ -1,5 +0,0 @@\n-// xfail-stage0\n-// error-pattern: calculated effect is ''\n-unsafe fn main() {\n-  log \"hi\";\n-}\n\\ No newline at end of file"}, {"sha": "532024e59d0675b399b569c319fe566d57d2ae17", "filename": "src/test/compile-fail/unsafe-infects-caller.rs", "status": "removed", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Funsafe-infects-caller.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b883ec4c9d09848a9c9a0822cde4bef4a347cbab/src%2Ftest%2Fcompile-fail%2Funsafe-infects-caller.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funsafe-infects-caller.rs?ref=b883ec4c9d09848a9c9a0822cde4bef4a347cbab", "patch": "@@ -1,14 +0,0 @@\n-// xfail-stage0\n-// error-pattern: calculated effect is 'unsafe'\n-\n-native mod foo {\n-  fn naughty();\n-}\n-\n-unsafe fn bar() {\n-  foo.naughty();\n-}\n-\n-fn main() {\n-  bar();\n-}\n\\ No newline at end of file"}]}