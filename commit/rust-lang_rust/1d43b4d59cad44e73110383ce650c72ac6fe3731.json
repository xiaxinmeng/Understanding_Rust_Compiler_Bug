{"sha": "1d43b4d59cad44e73110383ce650c72ac6fe3731", "node_id": "C_kwDOAAsO6NoAKDFkNDNiNGQ1OWNhZDQ0ZTczMTEwMzgzY2U2NTBjNzJhYzZmZTM3MzE", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-05-04T20:51:34Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-05-04T20:59:16Z"}, "message": "Exit before fetching bounds on associated items.", "tree": {"sha": "78e90b8e4abf613bead508482dc10401afe6499f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/78e90b8e4abf613bead508482dc10401afe6499f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1d43b4d59cad44e73110383ce650c72ac6fe3731", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1d43b4d59cad44e73110383ce650c72ac6fe3731", "html_url": "https://github.com/rust-lang/rust/commit/1d43b4d59cad44e73110383ce650c72ac6fe3731", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1d43b4d59cad44e73110383ce650c72ac6fe3731/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cca981661ab474f9bfe4a86b868e76d406b2a4e1", "url": "https://api.github.com/repos/rust-lang/rust/commits/cca981661ab474f9bfe4a86b868e76d406b2a4e1", "html_url": "https://github.com/rust-lang/rust/commit/cca981661ab474f9bfe4a86b868e76d406b2a4e1"}], "stats": {"total": 25, "additions": 20, "deletions": 5}, "files": [{"sha": "af7ef2ace3c8a140bb8c9ab898a591d325c9f68a", "filename": "compiler/rustc_typeck/src/collect.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/1d43b4d59cad44e73110383ce650c72ac6fe3731/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d43b4d59cad44e73110383ce650c72ac6fe3731/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs?ref=1d43b4d59cad44e73110383ce650c72ac6fe3731", "patch": "@@ -679,13 +679,12 @@ impl<'tcx> ItemCtxt<'tcx> {\n                 };\n                 let bvars = self.tcx.late_bound_vars(bp.bounded_ty.hir_id);\n \n-                bp.bounds\n-                    .iter()\n-                    .filter(|b| match assoc_name {\n+                bp.bounds.iter().filter_map(move |b| bt.map(|bt| (bt, b, bvars))).filter(\n+                    |(_, b, _)| match assoc_name {\n                         Some(assoc_name) => self.bound_defines_assoc_item(b, assoc_name),\n                         None => true,\n-                    })\n-                    .filter_map(move |b| bt.map(|bt| (bt, b, bvars)))\n+                    },\n+                )\n             })\n             .flat_map(|(bt, b, bvars)| predicates_from_bound(self, bt, b, bvars))\n             .collect()"}, {"sha": "a571d48d97a220ef3eebe9588de8055e5446e53c", "filename": "src/test/ui/traits/issue-96665.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/1d43b4d59cad44e73110383ce650c72ac6fe3731/src%2Ftest%2Fui%2Ftraits%2Fissue-96665.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d43b4d59cad44e73110383ce650c72ac6fe3731/src%2Ftest%2Fui%2Ftraits%2Fissue-96665.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Fissue-96665.rs?ref=1d43b4d59cad44e73110383ce650c72ac6fe3731", "patch": "@@ -0,0 +1,16 @@\n+// check-pass\n+\n+pub trait Sequence<Item, Subsequence: Sequence<Item, Subsequence>> {}\n+\n+pub trait NodeWalk<Graph: GraphBase, NodeSubwalk: NodeWalk<Graph, NodeSubwalk>>:\n+    Sequence<Graph::NodeIndex, NodeSubwalk>\n+{\n+}\n+\n+pub trait GraphBase {\n+    type NodeIndex;\n+}\n+\n+pub trait WalkableGraph: GraphBase {}\n+\n+fn main() {}"}]}