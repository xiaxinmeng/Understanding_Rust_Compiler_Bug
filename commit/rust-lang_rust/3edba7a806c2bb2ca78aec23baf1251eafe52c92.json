{"sha": "3edba7a806c2bb2ca78aec23baf1251eafe52c92", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlZGJhN2E4MDZjMmJiMmNhNzhhZWMyM2JhZjEyNTFlYWZlNTJjOTI=", "commit": {"author": {"name": "Christiaan Dirkx", "email": "christiaan@dirkx.email", "date": "2021-03-04T14:39:31Z"}, "committer": {"name": "Christiaan Dirkx", "email": "christiaan@dirkx.email", "date": "2021-05-03T14:56:21Z"}, "message": "Move `std::sys::wasi::ext` to `std::os::wasi`", "tree": {"sha": "924de751a0fc089b6f1db8fde3cd217c2cd798e9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/924de751a0fc089b6f1db8fde3cd217c2cd798e9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3edba7a806c2bb2ca78aec23baf1251eafe52c92", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3edba7a806c2bb2ca78aec23baf1251eafe52c92", "html_url": "https://github.com/rust-lang/rust/commit/3edba7a806c2bb2ca78aec23baf1251eafe52c92", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3edba7a806c2bb2ca78aec23baf1251eafe52c92/comments", "author": {"login": "CDirkx", "id": 11176562, "node_id": "MDQ6VXNlcjExMTc2NTYy", "avatar_url": "https://avatars.githubusercontent.com/u/11176562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CDirkx", "html_url": "https://github.com/CDirkx", "followers_url": "https://api.github.com/users/CDirkx/followers", "following_url": "https://api.github.com/users/CDirkx/following{/other_user}", "gists_url": "https://api.github.com/users/CDirkx/gists{/gist_id}", "starred_url": "https://api.github.com/users/CDirkx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CDirkx/subscriptions", "organizations_url": "https://api.github.com/users/CDirkx/orgs", "repos_url": "https://api.github.com/users/CDirkx/repos", "events_url": "https://api.github.com/users/CDirkx/events{/privacy}", "received_events_url": "https://api.github.com/users/CDirkx/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CDirkx", "id": 11176562, "node_id": "MDQ6VXNlcjExMTc2NTYy", "avatar_url": "https://avatars.githubusercontent.com/u/11176562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CDirkx", "html_url": "https://github.com/CDirkx", "followers_url": "https://api.github.com/users/CDirkx/followers", "following_url": "https://api.github.com/users/CDirkx/following{/other_user}", "gists_url": "https://api.github.com/users/CDirkx/gists{/gist_id}", "starred_url": "https://api.github.com/users/CDirkx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CDirkx/subscriptions", "organizations_url": "https://api.github.com/users/CDirkx/orgs", "repos_url": "https://api.github.com/users/CDirkx/repos", "events_url": "https://api.github.com/users/CDirkx/events{/privacy}", "received_events_url": "https://api.github.com/users/CDirkx/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a808fd44a331912b1fef05d2bfdce69809857133", "url": "https://api.github.com/repos/rust-lang/rust/commits/a808fd44a331912b1fef05d2bfdce69809857133", "html_url": "https://github.com/rust-lang/rust/commit/a808fd44a331912b1fef05d2bfdce69809857133"}], "stats": {"total": 28, "additions": 2, "deletions": 26}, "files": [{"sha": "ecaa25cf8005a2870cd8554d024b2f2dc2b3d2e6", "filename": "library/std/src/os/mod.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fos%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fos%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fmod.rs?ref=3edba7a806c2bb2ca78aec23baf1251eafe52c92", "patch": "@@ -19,8 +19,7 @@ cfg_if::cfg_if! {\n \n         pub mod linux;\n \n-        #[stable(feature = \"wasi_ext_doc\", since = \"1.35.0\")]\n-        pub use crate::sys::wasi_ext as wasi;\n+        pub mod wasi;\n \n         pub mod windows;\n     } else if #[cfg(doc)] {"}, {"sha": "d25b8d39ed6807aa65d1a0f160a4d72eca1548cd", "filename": "library/std/src/os/wasi.rs", "status": "removed", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a808fd44a331912b1fef05d2bfdce69809857133/library%2Fstd%2Fsrc%2Fos%2Fwasi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a808fd44a331912b1fef05d2bfdce69809857133/library%2Fstd%2Fsrc%2Fos%2Fwasi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwasi.rs?ref=a808fd44a331912b1fef05d2bfdce69809857133", "patch": "@@ -1,6 +0,0 @@\n-//! WASI-specific definitions\n-\n-#![stable(feature = \"raw_ext\", since = \"1.1.0\")]\n-\n-#[stable(feature = \"rust1\", since = \"1.0.0\")]\n-pub use crate::sys::ext::*;"}, {"sha": "f71f316d1ba1088b8667d495bfe401f674badde7", "filename": "library/std/src/os/wasi/ffi.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Fffi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Fffi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Fffi.rs?ref=3edba7a806c2bb2ca78aec23baf1251eafe52c92", "previous_filename": "library/std/src/sys/wasi/ext/ffi.rs"}, {"sha": "ba4057bd34ca2c13881a888d2ebebe16deaefa35", "filename": "library/std/src/os/wasi/fs.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Ffs.rs?ref=3edba7a806c2bb2ca78aec23baf1251eafe52c92", "previous_filename": "library/std/src/sys/wasi/ext/fs.rs"}, {"sha": "b2e79cc1b4a9d59c59d680e2f22aa038c0f1d97f", "filename": "library/std/src/os/wasi/io.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Fio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Fio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Fio.rs?ref=3edba7a806c2bb2ca78aec23baf1251eafe52c92", "previous_filename": "library/std/src/sys/wasi/ext/io.rs"}, {"sha": "66edb953677b3ccdd6cb324764abbfdd166da079", "filename": "library/std/src/os/wasi/mod.rs", "status": "renamed", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Fmod.rs?ref=3edba7a806c2bb2ca78aec23baf1251eafe52c92", "patch": "@@ -25,6 +25,7 @@\n //! }\n //! ```\n \n+#![stable(feature = \"rust1\", since = \"1.0.0\")]\n #![deny(unsafe_op_in_unsafe_fn)]\n #![doc(cfg(target_os = \"wasi\"))]\n ", "previous_filename": "library/std/src/sys/wasi/ext/mod.rs"}, {"sha": "ac217db2eb344b8a49c8f3a48ce93682d4b3febd", "filename": "library/std/src/sys/mod.rs", "status": "modified", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fsys%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fsys%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fmod.rs?ref=3edba7a806c2bb2ca78aec23baf1251eafe52c92", "patch": "@@ -74,20 +74,3 @@ cfg_if::cfg_if! {\n         pub mod c;\n     }\n }\n-\n-#[cfg(doc)]\n-#[cfg(not(any(\n-    target_os = \"hermit\",\n-    all(target_arch = \"wasm32\", not(target_os = \"wasi\")),\n-    all(target_vendor = \"fortanix\", target_env = \"sgx\")\n-)))]\n-cfg_if::cfg_if! {\n-    if #[cfg(target_os = \"wasi\")] {\n-        #[stable(feature = \"wasi_ext_doc\", since = \"1.35.0\")]\n-        pub use self::ext as wasi_ext;\n-    }  else {\n-        #[path = \"wasi/ext/mod.rs\"]\n-        #[stable(feature = \"wasi_ext_doc\", since = \"1.35.0\")]\n-        pub mod wasi_ext;\n-    }\n-}"}, {"sha": "45a829c0cd212c90f04edd3ce9e44aeecf3d9c3c", "filename": "library/std/src/sys/wasi/mod.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fsys%2Fwasi%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3edba7a806c2bb2ca78aec23baf1251eafe52c92/library%2Fstd%2Fsrc%2Fsys%2Fwasi%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwasi%2Fmod.rs?ref=3edba7a806c2bb2ca78aec23baf1251eafe52c92", "patch": "@@ -33,7 +33,6 @@ pub mod mutex;\n pub mod net;\n pub mod os;\n pub use crate::sys_common::os_str_bytes as os_str;\n-pub mod ext;\n #[path = \"../unix/path.rs\"]\n pub mod path;\n #[path = \"../unsupported/pipe.rs\"]"}]}