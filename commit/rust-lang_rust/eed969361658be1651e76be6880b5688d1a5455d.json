{"sha": "eed969361658be1651e76be6880b5688d1a5455d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVlZDk2OTM2MTY1OGJlMTY1MWU3NmJlNjg4MGI1Njg4ZDFhNTQ1NWQ=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2018-12-15T13:47:39Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-12-15T13:47:39Z"}, "message": "Rollup merge of #56713 - xfix:vec-test-zst-capacity, r=TimNN\n\nTest capacity of ZST vector\n\nInitially, #50233 accidentally changed the capacity of empty ZST. This was pointed out during code review. This commit adds a test to prevent capacity of ZST vectors from accidentally changing to prevent that from happening again.", "tree": {"sha": "56008af6d9af8d2beb946912560ad5254c674ffe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/56008af6d9af8d2beb946912560ad5254c674ffe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eed969361658be1651e76be6880b5688d1a5455d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcFQX7CRBK7hj4Ov3rIwAAdHIIAEor159bdCP6LccABcmvM23k\n4OgbiQiduxjdYGk3hyr/lwfaqel/NhNwYw2KN+U299NuUXfykwY2zvYUH1GiB2BJ\n4WUISUiw2kBdJx0ZcrrpKI6NtJsCkFpL19DhiQMEjWFINzGIznTESW0917BYuQZM\nvEv3NEMoUKykB39LPtRx/VgJ+vl5LNgm82AGJGxpsNOc5pEOr4UZEiJjNkgv62bR\nlnTchlUPiZIFlwmVSw6wtdugKmgeiciisy+ThopCmXHKKDC/wBJPyOffm4bgQKoW\nj1PGBm49zJg8nvu9hofRp2K8jsxAbP9HL/6NwFDv6/q+Sq2ns5DCkSrQv+ylFSc=\n=OPKb\n-----END PGP SIGNATURE-----\n", "payload": "tree 56008af6d9af8d2beb946912560ad5254c674ffe\nparent 8d9dc2b74931a30ad3ee4be09e065468afc9a566\nparent 1006425769ada70d0f394ccdab3caecaf6fa3e77\nauthor Pietro Albini <pietro@pietroalbini.org> 1544881659 +0100\ncommitter GitHub <noreply@github.com> 1544881659 +0100\n\nRollup merge of #56713 - xfix:vec-test-zst-capacity, r=TimNN\n\nTest capacity of ZST vector\n\nInitially, #50233 accidentally changed the capacity of empty ZST. This was pointed out during code review. This commit adds a test to prevent capacity of ZST vectors from accidentally changing to prevent that from happening again.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eed969361658be1651e76be6880b5688d1a5455d", "html_url": "https://github.com/rust-lang/rust/commit/eed969361658be1651e76be6880b5688d1a5455d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eed969361658be1651e76be6880b5688d1a5455d/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8d9dc2b74931a30ad3ee4be09e065468afc9a566", "url": "https://api.github.com/repos/rust-lang/rust/commits/8d9dc2b74931a30ad3ee4be09e065468afc9a566", "html_url": "https://github.com/rust-lang/rust/commit/8d9dc2b74931a30ad3ee4be09e065468afc9a566"}, {"sha": "1006425769ada70d0f394ccdab3caecaf6fa3e77", "url": "https://api.github.com/repos/rust-lang/rust/commits/1006425769ada70d0f394ccdab3caecaf6fa3e77", "html_url": "https://github.com/rust-lang/rust/commit/1006425769ada70d0f394ccdab3caecaf6fa3e77"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "509195cd047d4846427df0efa53cc7ed9c29124e", "filename": "src/liballoc/tests/vec.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/eed969361658be1651e76be6880b5688d1a5455d/src%2Fliballoc%2Ftests%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eed969361658be1651e76be6880b5688d1a5455d/src%2Fliballoc%2Ftests%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Ftests%2Fvec.rs?ref=eed969361658be1651e76be6880b5688d1a5455d", "patch": "@@ -79,6 +79,11 @@ fn test_reserve() {\n     assert!(v.capacity() >= 33)\n }\n \n+#[test]\n+fn test_zst_capacity() {\n+    assert_eq!(Vec::<()>::new().capacity(), usize::max_value());\n+}\n+\n #[test]\n fn test_extend() {\n     let mut v = Vec::new();"}]}