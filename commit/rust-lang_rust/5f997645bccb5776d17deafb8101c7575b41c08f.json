{"sha": "5f997645bccb5776d17deafb8101c7575b41c08f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVmOTk3NjQ1YmNjYjU3NzZkMTdkZWFmYjgxMDFjNzU3NWI0MWMwOGY=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-04-09T02:37:58Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-04-09T02:37:58Z"}, "message": "Interpret system call numbers relative to target architecture", "tree": {"sha": "76843efa183c0cbe458b30f17d40b557e1152406", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/76843efa183c0cbe458b30f17d40b557e1152406"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5f997645bccb5776d17deafb8101c7575b41c08f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAlysBZQACgkQtAh+UQ6Y\nsWTycg/+P4YVdRF5NzzFqI9DXLIFGrAbryr0rZIL5gJJVfwO6/eP9lDTzNFWaOiF\nanFn1z6HEarS0kQ93rNaE2K5vOkDNLEWcjArA0Xv+MnAWwPX014RTkOO3cEyQPMT\nRRDDNFdd3yBxnMUKzTqRIEHvm/49hHEyeVKgsa0HeyE/rqTudcd7uHvWGJdofrE7\na2PMrqxYzu642QKGWM3uSa+zkyrD71omvlULvMiRHN3bor/mL6fulkZVRO/GhLJg\nU6927uaerQj+QC7pRAlLJKzWNSoS/8CTPGka44ryTGeS3UU6NALLHJ54Ko3oFb1Y\nxQvMzAWEb6XVPDSsQdfOJO5gF0ddIThYCwGGIQUElXjnCprrruk3kZg+bEo+TYdh\ngfu9TwyPe8IW+LyhbF+MxfyK9Enz53pydJ5IC9PFvK8slVwFvc0xW9D1PwLpRLFM\nzLTmRztTNVMr7IWHElKiGb1zje3bluTqDkKYf8aGfVmO9OfRWfoj1nLGVWPCvQQd\nmuJTtkMCXTbFRj9v2GAqLNN2AyiaiCq/SXnQlTsKjQOs8t0+jIzAhevVnfkpncZ5\nk7uzLUDQDOqZPTuPcWnj9yShz9pqaY1KBsuK0zJhsuG0DEcdJH5iaNMPgoxAzfb/\nO2F79lL4me45jnMibv3b+Q43DYLSUvLQbOJx7Gm5yc5A4yhaOVc=\n=QFZo\n-----END PGP SIGNATURE-----", "payload": "tree 76843efa183c0cbe458b30f17d40b557e1152406\nparent 858e82bc6f56114545f2be472210ebef84d2e4b2\nauthor Aaron Hill <aa1ronham@gmail.com> 1554777478 -0400\ncommitter Aaron Hill <aa1ronham@gmail.com> 1554777478 -0400\n\nInterpret system call numbers relative to target architecture\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5f997645bccb5776d17deafb8101c7575b41c08f", "html_url": "https://github.com/rust-lang/rust/commit/5f997645bccb5776d17deafb8101c7575b41c08f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5f997645bccb5776d17deafb8101c7575b41c08f/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "858e82bc6f56114545f2be472210ebef84d2e4b2", "url": "https://api.github.com/repos/rust-lang/rust/commits/858e82bc6f56114545f2be472210ebef84d2e4b2", "html_url": "https://github.com/rust-lang/rust/commit/858e82bc6f56114545f2be472210ebef84d2e4b2"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "94e1f11ccf79369ae8cc7cf411c01292c5be05ad", "filename": "src/fn_call.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5f997645bccb5776d17deafb8101c7575b41c08f/src%2Ffn_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5f997645bccb5776d17deafb8101c7575b41c08f/src%2Ffn_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ffn_call.rs?ref=5f997645bccb5776d17deafb8101c7575b41c08f", "patch": "@@ -216,9 +216,9 @@ pub trait EvalContextExt<'a, 'mir, 'tcx: 'a + 'mir>: crate::MiriEvalContextExt<'\n                 //\n                 // `libc::syscall(NR_GETRANDOM, buf.as_mut_ptr(), buf.len(), GRND_NONBLOCK)`\n                 // is called if a `HashMap` is created the regular way (e.g. HashMap<K, V>).\n-                match this.read_scalar(args[0])?.to_usize(this)? as i64 {\n+                match (this.read_scalar(args[0])?.to_usize(this)? as i64, tcx.data_layout.pointer_size.bits()) {\n                     // SYS_getrandom on x86_64 and x86 respectively\n-                    318 | 355 => {\n+                    (318, 64) | (355, 32) => {\n                         let ptr = this.read_scalar(args[1])?.to_ptr()?;\n                         let len = this.read_scalar(args[2])?.to_usize(this)?;\n \n@@ -232,7 +232,7 @@ pub trait EvalContextExt<'a, 'mir, 'tcx: 'a + 'mir>: crate::MiriEvalContextExt<'\n \n                         this.write_scalar(Scalar::from_uint(len, dest.layout.size), dest)?;\n                     }\n-                    id => {\n+                    (id, _size) => {\n                         return err!(Unimplemented(\n                             format!(\"miri does not support syscall ID {}\", id),\n                         ))"}]}