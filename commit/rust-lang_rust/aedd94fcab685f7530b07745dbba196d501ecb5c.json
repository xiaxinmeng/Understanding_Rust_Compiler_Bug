{"sha": "aedd94fcab685f7530b07745dbba196d501ecb5c", "node_id": "C_kwDOAAsO6NoAKGFlZGQ5NGZjYWI2ODVmNzUzMGIwNzc0NWRiYmExOTZkNTAxZWNiNWM", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-03-09T11:11:53Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-03-09T11:11:53Z"}, "message": "Rollup merge of #108778 - jyn514:quiet-fmt, r=albertlarsan68\n\nx fmt: Don't print all modified files if there's more than 10\n\nThis avoids spam for dozens of modified files.\n\nFixes https://github.com/rust-lang/rust/issues/106920.", "tree": {"sha": "f495c611ea0d6482e9d1221b417cc91a94345a0a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f495c611ea0d6482e9d1221b417cc91a94345a0a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aedd94fcab685f7530b07745dbba196d501ecb5c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkCb75CRBK7hj4Ov3rIwAAMPoIAJdYuFx+MVnPKaePf24Bb7Np\niQV3h0+jCYG209T/Z3eOw7l34ZfVdpZ1VfmolTK1u29Ntb4eZ5gYvLKkjNwUuVOn\nkgf2eYEV8uLvA/fD2sGZwKLb+aD5mK5JBxoey8Je1yIduHak8rytQdWSfoxjzYNi\nPQKWLNMetBS/SgCcI1e4JvHuJl7Vhx+QJwG1syjVyqLWBEtl9TNxkj4EjhZM+WcM\nLOwM/nS+hZ0aOe6pvyk23cqRbBeWBKbns+Klsw2wIcFl2auoUFONOjxo908rbZk3\nKxBvgSsgcNuWSpx+FYYGAIPP0LMckPH84cFH35fhm9DXDCSurAPE231HU5ot8vE=\n=ET2t\n-----END PGP SIGNATURE-----\n", "payload": "tree f495c611ea0d6482e9d1221b417cc91a94345a0a\nparent ac258e9e02367e74f99f89f6f77b2364497431d5\nparent eb9b031232160063e1fb4b3a865607e6dcc95129\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1678360313 +0100\ncommitter GitHub <noreply@github.com> 1678360313 +0100\n\nRollup merge of #108778 - jyn514:quiet-fmt, r=albertlarsan68\n\nx fmt: Don't print all modified files if there's more than 10\n\nThis avoids spam for dozens of modified files.\n\nFixes https://github.com/rust-lang/rust/issues/106920.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aedd94fcab685f7530b07745dbba196d501ecb5c", "html_url": "https://github.com/rust-lang/rust/commit/aedd94fcab685f7530b07745dbba196d501ecb5c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aedd94fcab685f7530b07745dbba196d501ecb5c/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ac258e9e02367e74f99f89f6f77b2364497431d5", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac258e9e02367e74f99f89f6f77b2364497431d5", "html_url": "https://github.com/rust-lang/rust/commit/ac258e9e02367e74f99f89f6f77b2364497431d5"}, {"sha": "eb9b031232160063e1fb4b3a865607e6dcc95129", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb9b031232160063e1fb4b3a865607e6dcc95129", "html_url": "https://github.com/rust-lang/rust/commit/eb9b031232160063e1fb4b3a865607e6dcc95129"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "b79969663ca2e1d5140129c55b2f9c5af7d7e567", "filename": "src/bootstrap/format.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/aedd94fcab685f7530b07745dbba196d501ecb5c/src%2Fbootstrap%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aedd94fcab685f7530b07745dbba196d501ecb5c/src%2Fbootstrap%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fformat.rs?ref=aedd94fcab685f7530b07745dbba196d501ecb5c", "patch": "@@ -165,8 +165,14 @@ pub fn format(build: &Builder<'_>, check: bool, paths: &[PathBuf]) {\n             if !CiEnv::is_ci() && paths.is_empty() {\n                 match get_modified_rs_files(build) {\n                     Ok(Some(files)) => {\n+                        if files.len() <= 10 {\n+                            for file in &files {\n+                                println!(\"formatting modified file {file}\");\n+                            }\n+                        } else {\n+                            println!(\"formatting {} modified files\", files.len());\n+                        }\n                         for file in files {\n-                            println!(\"formatting modified file {file}\");\n                             ignore_fmt.add(&format!(\"/{file}\")).expect(&file);\n                         }\n                     }"}]}