{"sha": "2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmMzZlY2ZmZjBmZDZmNGQ1YmQ4M2JhNjFmYzE2ODVjNDg0NGRkMDQ=", "commit": {"author": {"name": "Chris Stankus", "email": "cdstankus@gmail.com", "date": "2016-08-04T20:30:21Z"}, "committer": {"name": "Chris Stankus", "email": "cdstankus@gmail.com", "date": "2016-08-04T20:53:48Z"}, "message": "E0119 update error format", "tree": {"sha": "afed1039c7cfb0f8d6ee5dd2bb6985b8905de40c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/afed1039c7cfb0f8d6ee5dd2bb6985b8905de40c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04", "html_url": "https://github.com/rust-lang/rust/commit/2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04/comments", "author": {"login": "circuitfox", "id": 6395282, "node_id": "MDQ6VXNlcjYzOTUyODI=", "avatar_url": "https://avatars.githubusercontent.com/u/6395282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/circuitfox", "html_url": "https://github.com/circuitfox", "followers_url": "https://api.github.com/users/circuitfox/followers", "following_url": "https://api.github.com/users/circuitfox/following{/other_user}", "gists_url": "https://api.github.com/users/circuitfox/gists{/gist_id}", "starred_url": "https://api.github.com/users/circuitfox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/circuitfox/subscriptions", "organizations_url": "https://api.github.com/users/circuitfox/orgs", "repos_url": "https://api.github.com/users/circuitfox/repos", "events_url": "https://api.github.com/users/circuitfox/events{/privacy}", "received_events_url": "https://api.github.com/users/circuitfox/received_events", "type": "User", "site_admin": false}, "committer": {"login": "circuitfox", "id": 6395282, "node_id": "MDQ6VXNlcjYzOTUyODI=", "avatar_url": "https://avatars.githubusercontent.com/u/6395282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/circuitfox", "html_url": "https://github.com/circuitfox", "followers_url": "https://api.github.com/users/circuitfox/followers", "following_url": "https://api.github.com/users/circuitfox/following{/other_user}", "gists_url": "https://api.github.com/users/circuitfox/gists{/gist_id}", "starred_url": "https://api.github.com/users/circuitfox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/circuitfox/subscriptions", "organizations_url": "https://api.github.com/users/circuitfox/orgs", "repos_url": "https://api.github.com/users/circuitfox/repos", "events_url": "https://api.github.com/users/circuitfox/events{/privacy}", "received_events_url": "https://api.github.com/users/circuitfox/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e804a3cf256106c097d44f6e0212cd183122da07", "url": "https://api.github.com/repos/rust-lang/rust/commits/e804a3cf256106c097d44f6e0212cd183122da07", "html_url": "https://github.com/rust-lang/rust/commit/e804a3cf256106c097d44f6e0212cd183122da07"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "54bd141304d7816e21966f600a6c7c3878e1096f", "filename": "src/librustc_typeck/coherence/overlap.rs", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04/src%2Flibrustc_typeck%2Fcoherence%2Foverlap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04/src%2Flibrustc_typeck%2Fcoherence%2Foverlap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcoherence%2Foverlap.rs?ref=2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04", "patch": "@@ -141,12 +141,18 @@ impl<'cx, 'tcx,'v> intravisit::Visitor<'v> for OverlapChecker<'cx, 'tcx> {\n                         self.tcx.sess, self.tcx.span_of_impl(impl_def_id).unwrap(), E0119,\n                         \"conflicting implementations of trait `{}`{}:\",\n                         overlap.trait_desc,\n-                        overlap.self_desc.map_or(String::new(),\n-                                                 |ty| format!(\" for type `{}`\", ty)));\n+                        overlap.self_desc.clone().map_or(String::new(),\n+                                                         |ty| format!(\" for type `{}`\", ty)));\n \n                     match self.tcx.span_of_impl(overlap.with_impl) {\n                         Ok(span) => {\n-                            err.span_note(span, \"conflicting implementation is here:\");\n+                            err.span_label(span,\n+                                           &format!(\"first implementation here\"));\n+                            err.span_label(self.tcx.span_of_impl(impl_def_id).unwrap(),\n+                                           &format!(\"conflicting implementation{}\",\n+                                                    overlap.self_desc\n+                                                        .map_or(String::new(),\n+                                                                |ty| format!(\" for `{}`\", ty))));\n                         }\n                         Err(cname) => {\n                             err.note(&format!(\"conflicting implementation in crate `{}`\","}, {"sha": "56820bcd1840ceafae7c0c45bab2322aa53ac2e4", "filename": "src/test/compile-fail/E0119.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04/src%2Ftest%2Fcompile-fail%2FE0119.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04/src%2Ftest%2Fcompile-fail%2FE0119.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0119.rs?ref=2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04", "patch": "@@ -12,7 +12,7 @@ trait MyTrait {\n     fn get(&self) -> usize;\n }\n \n-impl<T> MyTrait for T {\n+impl<T> MyTrait for T { //~ NOTE first implementation here\n     fn get(&self) -> usize { 0 }\n }\n \n@@ -21,6 +21,7 @@ struct Foo {\n }\n \n impl MyTrait for Foo { //~ ERROR E0119\n+                       //~| NOTE conflicting implementation for `Foo`\n     fn get(&self) -> usize { self.value }\n }\n "}, {"sha": "f03daafc63754b533828feddb9f3d8641c0d0c3b", "filename": "src/test/compile-fail/issue-28568.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04/src%2Ftest%2Fcompile-fail%2Fissue-28568.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04/src%2Ftest%2Fcompile-fail%2Fissue-28568.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-28568.rs?ref=2f36ecfff0fd6f4d5bd83ba61fc1685c4844dd04", "patch": "@@ -11,12 +11,13 @@\n struct MyStruct;\n \n impl Drop for MyStruct {\n-//~^ NOTE conflicting implementation is here\n+//~^ NOTE first implementation here\n     fn drop(&mut self) { }\n }\n \n impl Drop for MyStruct {\n //~^ ERROR conflicting implementations of trait\n+//~| NOTE conflicting implementation for `MyStruct`\n     fn drop(&mut self) { }\n }\n "}]}