{"sha": "95c0459217d1661edfa794c8bb122452b92fb485", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk1YzA0NTkyMTdkMTY2MWVkZmE3OTRjOGJiMTIyNDUyYjkyZmI0ODU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-01-30T16:49:45Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-01-30T16:49:45Z"}, "message": "Auto merge of #6654 - flip1995:no_lazy_static_regex, r=flip1995\n\nNo lazy static regex\n\nr? `@llogiq`\n\n#6500\n\nregex is unnecessary for this lint (https://github.com/rust-lang/rust-clippy/pull/6500#discussion_r558555071)\nlazy_static is unnecessary. The std lazy feature should be  used instead.\n\nchangelog: none", "tree": {"sha": "edb0ff2032d97a22c45ad59ee3c9e91060ee073b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/edb0ff2032d97a22c45ad59ee3c9e91060ee073b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/95c0459217d1661edfa794c8bb122452b92fb485", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/95c0459217d1661edfa794c8bb122452b92fb485", "html_url": "https://github.com/rust-lang/rust/commit/95c0459217d1661edfa794c8bb122452b92fb485", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/95c0459217d1661edfa794c8bb122452b92fb485/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4db76a6bcc51fca61de6f5a41b84ad21058835dc", "url": "https://api.github.com/repos/rust-lang/rust/commits/4db76a6bcc51fca61de6f5a41b84ad21058835dc", "html_url": "https://github.com/rust-lang/rust/commit/4db76a6bcc51fca61de6f5a41b84ad21058835dc"}, {"sha": "3874631600811d964f18784859b34302d5533358", "url": "https://api.github.com/repos/rust-lang/rust/commits/3874631600811d964f18784859b34302d5533358", "html_url": "https://github.com/rust-lang/rust/commit/3874631600811d964f18784859b34302d5533358"}], "stats": {"total": 14, "additions": 4, "deletions": 10}, "files": [{"sha": "a9516560a61952c9bb6d58acd168805cccd1f35a", "filename": "clippy_lints/Cargo.toml", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95c0459217d1661edfa794c8bb122452b92fb485/clippy_lints%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/95c0459217d1661edfa794c8bb122452b92fb485/clippy_lints%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2FCargo.toml?ref=95c0459217d1661edfa794c8bb122452b92fb485", "patch": "@@ -34,8 +34,6 @@ rustc-semver=\"1.1.0\"\n url = { version =  \"2.1.0\", features = [\"serde\"] }\n quote = \"1\"\n syn = { version = \"1\", features = [\"full\"] }\n-regex = \"1.4\"\n-lazy_static = \"1.4\"\n \n [features]\n deny-warnings = []"}, {"sha": "6969ac949d845d3fb9d59c6abd5260a51b32f06a", "filename": "clippy_lints/src/case_sensitive_file_extension_comparisons.rs", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/95c0459217d1661edfa794c8bb122452b92fb485/clippy_lints%2Fsrc%2Fcase_sensitive_file_extension_comparisons.rs", "raw_url": "https://github.com/rust-lang/rust/raw/95c0459217d1661edfa794c8bb122452b92fb485/clippy_lints%2Fsrc%2Fcase_sensitive_file_extension_comparisons.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcase_sensitive_file_extension_comparisons.rs?ref=95c0459217d1661edfa794c8bb122452b92fb485", "patch": "@@ -1,8 +1,6 @@\n use crate::utils::paths::STRING;\n use crate::utils::{match_def_path, span_lint_and_help};\n use if_chain::if_chain;\n-use lazy_static::lazy_static;\n-use regex::Regex;\n use rustc_ast::ast::LitKind;\n use rustc_hir::{Expr, ExprKind, PathSegment};\n use rustc_lint::{LateContext, LateLintPass};\n@@ -41,14 +39,14 @@ declare_clippy_lint! {\n declare_lint_pass!(CaseSensitiveFileExtensionComparisons => [CASE_SENSITIVE_FILE_EXTENSION_COMPARISONS]);\n \n fn check_case_sensitive_file_extension_comparison(ctx: &LateContext<'_>, expr: &Expr<'_>) -> Option<Span> {\n-    lazy_static! {\n-        static ref RE: Regex = Regex::new(r\"^\\.([a-z0-9]{1,5}|[A-Z0-9]{1,5})$\").unwrap();\n-    }\n     if_chain! {\n         if let ExprKind::MethodCall(PathSegment { ident, .. }, _, [obj, extension, ..], span) = expr.kind;\n         if ident.as_str() == \"ends_with\";\n         if let ExprKind::Lit(Spanned { node: LitKind::Str(ext_literal, ..), ..}) = extension.kind;\n-        if RE.is_match(&ext_literal.as_str());\n+        if (2..=6).contains(&ext_literal.as_str().len());\n+        if ext_literal.as_str().starts_with('.');\n+        if ext_literal.as_str().chars().skip(1).all(|c| c.is_uppercase() || c.is_digit(10))\n+            || ext_literal.as_str().chars().skip(1).all(|c| c.is_lowercase() || c.is_digit(10));\n         then {\n             let mut ty = ctx.typeck_results().expr_ty(obj);\n             ty = match ty.kind() {"}, {"sha": "6caa04f651fae8366910e39749fca8742e53f904", "filename": "clippy_lints/src/utils/diagnostics.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95c0459217d1661edfa794c8bb122452b92fb485/clippy_lints%2Fsrc%2Futils%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/95c0459217d1661edfa794c8bb122452b92fb485/clippy_lints%2Fsrc%2Futils%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fdiagnostics.rs?ref=95c0459217d1661edfa794c8bb122452b92fb485", "patch": "@@ -186,8 +186,6 @@ pub fn span_lint_hir_and_then(\n ///     |\n ///     = note: `-D fold-any` implied by `-D warnings`\n /// ```\n-\n-#[allow(clippy::unknown_clippy_lints)]\n #[cfg_attr(feature = \"internal-lints\", allow(clippy::collapsible_span_lint_calls))]\n pub fn span_lint_and_sugg<'a, T: LintContext>(\n     cx: &'a T,"}]}