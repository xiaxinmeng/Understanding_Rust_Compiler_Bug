{"sha": "5a6ca45c8ad26f1ace1c46e6452155d511d065d8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVhNmNhNDVjOGFkMjZmMWFjZTFjNDZlNjQ1MjE1NWQ1MTFkMDY1ZDg=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-01-11T01:06:27Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-01-11T01:06:27Z"}, "message": "auto merge of #11415 : nick29581/rust/visit_trait_option, r=alexcrichton\n\n...Therefore, we should not iterate over it.", "tree": {"sha": "96fa36d3066586b61daeaa97efffe2ae1fc34e0a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/96fa36d3066586b61daeaa97efffe2ae1fc34e0a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5a6ca45c8ad26f1ace1c46e6452155d511d065d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5a6ca45c8ad26f1ace1c46e6452155d511d065d8", "html_url": "https://github.com/rust-lang/rust/commit/5a6ca45c8ad26f1ace1c46e6452155d511d065d8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5a6ca45c8ad26f1ace1c46e6452155d511d065d8/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f411b94ce1b3d4b6751093beeb7d9674e45db0d3", "url": "https://api.github.com/repos/rust-lang/rust/commits/f411b94ce1b3d4b6751093beeb7d9674e45db0d3", "html_url": "https://github.com/rust-lang/rust/commit/f411b94ce1b3d4b6751093beeb7d9674e45db0d3"}, {"sha": "40d8a12b68426a39456548902c71e002ae71c0b8", "url": "https://api.github.com/repos/rust-lang/rust/commits/40d8a12b68426a39456548902c71e002ae71c0b8", "html_url": "https://github.com/rust-lang/rust/commit/40d8a12b68426a39456548902c71e002ae71c0b8"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "d5fb9efe59be60e3275db3b17a2e2aad50c6108c", "filename": "src/libsyntax/visit.rs", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/5a6ca45c8ad26f1ace1c46e6452155d511d065d8/src%2Flibsyntax%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a6ca45c8ad26f1ace1c46e6452155d511d065d8/src%2Flibsyntax%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fvisit.rs?ref=5a6ca45c8ad26f1ace1c46e6452155d511d065d8", "patch": "@@ -223,12 +223,13 @@ pub fn walk_item<E: Clone, V: Visitor<E>>(visitor: &mut V, item: &Item, env: E)\n             walk_enum_def(visitor, enum_definition, type_parameters, env)\n         }\n         ItemImpl(ref type_parameters,\n-                  ref trait_references,\n-                  typ,\n-                  ref methods) => {\n+                 ref trait_reference,\n+                 typ,\n+                 ref methods) => {\n             visitor.visit_generics(type_parameters, env.clone());\n-            for trait_reference in trait_references.iter() {\n-                walk_trait_ref(visitor, trait_reference, env.clone())\n+            match *trait_reference {\n+                Some(ref trait_reference) => walk_trait_ref(visitor, trait_reference, env.clone()),\n+                None => ()\n             }\n             visitor.visit_ty(typ, env.clone());\n             for method in methods.iter() {"}]}