{"sha": "45e716e51cd8b7f982645bfefb129e7618e241b3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ1ZTcxNmU1MWNkOGI3Zjk4MjY0NWJmZWZiMTI5ZTc2MThlMjQxYjM=", "commit": {"author": {"name": "Alex Burka", "email": "aburka@seas.upenn.edu", "date": "2016-02-04T00:58:07Z"}, "committer": {"name": "Alex Burka", "email": "aburka@seas.upenn.edu", "date": "2016-02-04T06:03:08Z"}, "message": "test #[derive(FromPrimitive)] triggers custom-derive error", "tree": {"sha": "65b449aefcccdae2c346b7ef5bbf03024282480a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/65b449aefcccdae2c346b7ef5bbf03024282480a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/45e716e51cd8b7f982645bfefb129e7618e241b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/45e716e51cd8b7f982645bfefb129e7618e241b3", "html_url": "https://github.com/rust-lang/rust/commit/45e716e51cd8b7f982645bfefb129e7618e241b3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/45e716e51cd8b7f982645bfefb129e7618e241b3/comments", "author": {"login": "durka", "id": 47007, "node_id": "MDQ6VXNlcjQ3MDA3", "avatar_url": "https://avatars.githubusercontent.com/u/47007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/durka", "html_url": "https://github.com/durka", "followers_url": "https://api.github.com/users/durka/followers", "following_url": "https://api.github.com/users/durka/following{/other_user}", "gists_url": "https://api.github.com/users/durka/gists{/gist_id}", "starred_url": "https://api.github.com/users/durka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/durka/subscriptions", "organizations_url": "https://api.github.com/users/durka/orgs", "repos_url": "https://api.github.com/users/durka/repos", "events_url": "https://api.github.com/users/durka/events{/privacy}", "received_events_url": "https://api.github.com/users/durka/received_events", "type": "User", "site_admin": false}, "committer": {"login": "durka", "id": 47007, "node_id": "MDQ6VXNlcjQ3MDA3", "avatar_url": "https://avatars.githubusercontent.com/u/47007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/durka", "html_url": "https://github.com/durka", "followers_url": "https://api.github.com/users/durka/followers", "following_url": "https://api.github.com/users/durka/following{/other_user}", "gists_url": "https://api.github.com/users/durka/gists{/gist_id}", "starred_url": "https://api.github.com/users/durka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/durka/subscriptions", "organizations_url": "https://api.github.com/users/durka/orgs", "repos_url": "https://api.github.com/users/durka/repos", "events_url": "https://api.github.com/users/durka/events{/privacy}", "received_events_url": "https://api.github.com/users/durka/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f6e22e53f3fd3bad2f005b5d517b65f83dd4c386", "url": "https://api.github.com/repos/rust-lang/rust/commits/f6e22e53f3fd3bad2f005b5d517b65f83dd4c386", "html_url": "https://github.com/rust-lang/rust/commit/f6e22e53f3fd3bad2f005b5d517b65f83dd4c386"}], "stats": {"total": 27, "additions": 4, "deletions": 23}, "files": [{"sha": "be822a173ab5821053a21d7b05abb6eb24562f55", "filename": "src/test/compile-fail/deriving-primitive.rs", "status": "modified", "additions": 4, "deletions": 23, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/45e716e51cd8b7f982645bfefb129e7618e241b3/src%2Ftest%2Fcompile-fail%2Fderiving-primitive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/45e716e51cd8b7f982645bfefb129e7618e241b3/src%2Ftest%2Fcompile-fail%2Fderiving-primitive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-primitive.rs?ref=45e716e51cd8b7f982645bfefb129e7618e241b3", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -8,27 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-use std::num::FromPrimitive;\n-use std::isize;\n+#[derive(FromPrimitive)] //~ERROR `#[derive]` for custom traits is not stable\n+enum Foo {}\n \n-#[derive(FromPrimitive)]\n-struct A { x: isize }\n-//~^^ ERROR `FromPrimitive` cannot be derived for structs\n-//~^^^ ERROR `FromPrimitive` cannot be derived for structs\n+fn main() {}\n \n-#[derive(FromPrimitive)]\n-struct B(isize);\n-//~^^ ERROR `FromPrimitive` cannot be derived for structs\n-//~^^^ ERROR `FromPrimitive` cannot be derived for structs\n-\n-#[derive(FromPrimitive)]\n-enum C { Foo(isize), Bar(usize) }\n-//~^^ ERROR `FromPrimitive` cannot be derived for enums with non-unit variants\n-//~^^^ ERROR `FromPrimitive` cannot be derived for enums with non-unit variants\n-\n-#[derive(FromPrimitive)]\n-enum D { Baz { x: isize } }\n-//~^^ ERROR `FromPrimitive` cannot be derived for enums with non-unit variants\n-//~^^^ ERROR `FromPrimitive` cannot be derived for enums with non-unit variants\n-\n-pub fn main() {}"}]}