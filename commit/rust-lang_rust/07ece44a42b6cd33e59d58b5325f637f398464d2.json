{"sha": "07ece44a42b6cd33e59d58b5325f637f398464d2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA3ZWNlNDRhNDJiNmNkMzNlNTlkNThiNTMyNWY2MzdmMzk4NDY0ZDI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-09-15T19:04:40Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-09-15T19:04:40Z"}, "message": "Auto merge of #73166 - jethrogb:stdarch, r=Amanieu\n\nUpdate stdarch\n\nThis PR **changes the public signature** of the following functions in `core::arch::{x86, x86_64}`:\n```patch\n-pub unsafe fn _mm256_extract_epi8(a: __m256i, imm8: i32) -> i8\n+pub unsafe fn _mm256_extract_epi8(a: __m256i, imm8: i32) -> i32\n-pub unsafe fn _mm256_extract_epi16(a: __m256i, imm8: i32) -> i16\n+pub unsafe fn _mm256_extract_epi16(a: __m256i, imm8: i32) -> i32\n```\n\nThis change is desired so that these signatures\n* are similar to those of the 128-bit versions `_mm_extract_epi8` and `_mm_extract_epi16`\n* match the Intel definitions for the intrinsics\n  * [RFC 2325](https://github.com/rust-lang/rfcs/blob/master/text/2325-stable-simd.md) specifies that the exact vendor function signatures should be used\n\nA [crater run](https://github.com/rust-lang/rust/pull/73166#issuecomment-667230319) revealed only a single breakage. The [vektor crate](https://github.com/AdamNiederer/vektor/blob/master/src/x86/avx2.rs#L2436-L2472) copied the incorrect signatures in `core` exactly to their own crate. The functions don't seem to be used by anyone anywhere.\n\nActual breakage is not expected, since due to the nature of the functions, users would generally write `_mm256_extract_epi8(...) as u8` or `_mm256_extract_epi16(...) as u16`.\n\nSee https://github.com/rust-lang/stdarch/pull/868/. Note that the changes from that stdarch PR have already partially landed in core after https://github.com/rust-lang/stdarch/pull/878/. This PR is now only about the remaining changes.", "tree": {"sha": "0820bebb85247272d079bd942aaad96891c39a6c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0820bebb85247272d079bd942aaad96891c39a6c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/07ece44a42b6cd33e59d58b5325f637f398464d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/07ece44a42b6cd33e59d58b5325f637f398464d2", "html_url": "https://github.com/rust-lang/rust/commit/07ece44a42b6cd33e59d58b5325f637f398464d2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/07ece44a42b6cd33e59d58b5325f637f398464d2/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a874956d940ecb3ed524b6176a171219ac4787ea", "url": "https://api.github.com/repos/rust-lang/rust/commits/a874956d940ecb3ed524b6176a171219ac4787ea", "html_url": "https://github.com/rust-lang/rust/commit/a874956d940ecb3ed524b6176a171219ac4787ea"}, {"sha": "0122e08dae79c2320ce0a9ce60a48ec35f970aff", "url": "https://api.github.com/repos/rust-lang/rust/commits/0122e08dae79c2320ce0a9ce60a48ec35f970aff", "html_url": "https://github.com/rust-lang/rust/commit/0122e08dae79c2320ce0a9ce60a48ec35f970aff"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "718175b34a39e4e3d59b40e35930326edc515b87", "filename": "library/stdarch", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstdarch?ref=07ece44a42b6cd33e59d58b5325f637f398464d2", "patch": "@@ -1 +1 @@\n-Subproject commit 78891cdf292c23278ca8723bd543100249159604\n+Subproject commit 718175b34a39e4e3d59b40e35930326edc515b87"}]}