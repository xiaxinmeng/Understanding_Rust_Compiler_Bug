{"sha": "387df4e1277ed09002bb050caac5a86d126a1339", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4N2RmNGUxMjc3ZWQwOTAwMmJiMDUwY2FhYzVhODZkMTI2YTEzMzk=", "commit": {"author": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2013-07-23T20:46:51Z"}, "committer": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2013-07-24T00:06:56Z"}, "message": "Fix the issue-3979 tests and add a new test.", "tree": {"sha": "977acb1268f4d9f669a7f7ac184f95d8849dc234", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/977acb1268f4d9f669a7f7ac184f95d8849dc234"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/387df4e1277ed09002bb050caac5a86d126a1339", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/387df4e1277ed09002bb050caac5a86d126a1339", "html_url": "https://github.com/rust-lang/rust/commit/387df4e1277ed09002bb050caac5a86d126a1339", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/387df4e1277ed09002bb050caac5a86d126a1339/comments", "author": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ffc879c2e46c8ffd7dc35b9d3169286fca609bc3", "url": "https://api.github.com/repos/rust-lang/rust/commits/ffc879c2e46c8ffd7dc35b9d3169286fca609bc3", "html_url": "https://github.com/rust-lang/rust/commit/ffc879c2e46c8ffd7dc35b9d3169286fca609bc3"}], "stats": {"total": 67, "additions": 53, "deletions": 14}, "files": [{"sha": "eb10553f19c24717ccfcfafa0384c5bc9ad9f767", "filename": "src/test/auxiliary/issue_3979_traits.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Fauxiliary%2Fissue_3979_traits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Fauxiliary%2Fissue_3979_traits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fissue_3979_traits.rs?ref=387df4e1277ed09002bb050caac5a86d126a1339", "patch": "@@ -14,12 +14,13 @@\n #[crate_type = \"lib\"];\n \n trait Positioned {\n-  fn SetX(&self, int);\n+  fn SetX(&mut self, int);\n   fn X(&self) -> int;\n }\n \n trait Movable: Positioned {\n-  fn translate(&self, dx: int) {\n-    self.SetX(self.X() + dx);\n+  fn translate(&mut self, dx: int) {\n+    let x = self.X() + dx;\n+    self.SetX(x);\n   }\n }"}, {"sha": "39e9f5dcd2d8d466b0a4e83d16501d279b7033a4", "filename": "src/test/run-pass/issue-3979-2.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Frun-pass%2Fissue-3979-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Frun-pass%2Fissue-3979-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-3979-2.rs?ref=387df4e1277ed09002bb050caac5a86d126a1339", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// xfail-test\n-\n trait A {\n     fn a_method(&self);\n }"}, {"sha": "867301121daeeb743e88dd57e2be4c8980740c5a", "filename": "src/test/run-pass/issue-3979-generics.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Frun-pass%2Fissue-3979-generics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Frun-pass%2Fissue-3979-generics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-3979-generics.rs?ref=387df4e1277ed09002bb050caac5a86d126a1339", "patch": "@@ -8,15 +8,15 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// xfail-test FIXME #5946\n trait Positioned<S> {\n   fn SetX(&mut self, S);\n   fn X(&self) -> S;\n }\n \n-trait Movable<S, T>: Positioned<T> {\n-  fn translate(&self, dx: T) {\n-    self.SetX(self.X() + dx);\n+trait Movable<S: Add<S, S>>: Positioned<S> {\n+  fn translate(&mut self, dx: S) {\n+    let x = self.X() + dx;\n+    self.SetX(x);\n   }\n }\n \n@@ -31,10 +31,10 @@ impl Positioned<int> for Point {\n     }\n }\n \n-impl Movable<int, int> for Point;\n+impl Movable<int> for Point;\n \n pub fn main() {\n-    let p = Point{ x: 1, y: 2};\n+    let mut p = Point{ x: 1, y: 2};\n     p.translate(3);\n     assert_eq!(p.X(), 4);\n }"}, {"sha": "caf6d2023169ebe4358b6a080c5d5c32d285d87d", "filename": "src/test/run-pass/issue-3979-xcrate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Frun-pass%2Fissue-3979-xcrate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Frun-pass%2Fissue-3979-xcrate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-3979-xcrate.rs?ref=387df4e1277ed09002bb050caac5a86d126a1339", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// xfail-test // tjc: ???\n+// xfail-fast\n // aux-build:issue_3979_traits.rs\n extern mod issue_3979_traits;\n use issue_3979_traits::*;"}, {"sha": "2e53fb5d3f92f399e6bda09618672a766774e1c0", "filename": "src/test/run-pass/issue-3979.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Frun-pass%2Fissue-3979.rs", "raw_url": "https://github.com/rust-lang/rust/raw/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Frun-pass%2Fissue-3979.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-3979.rs?ref=387df4e1277ed09002bb050caac5a86d126a1339", "patch": "@@ -1,5 +1,3 @@\n-// xfail-test\n-// Reason: ICE with explicit self\n \n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at"}, {"sha": "ae7e18d532b7951777719e05a511ba9b9a08f650", "filename": "src/test/run-pass/supertrait-default-generics.rs", "status": "added", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Frun-pass%2Fsupertrait-default-generics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/387df4e1277ed09002bb050caac5a86d126a1339/src%2Ftest%2Frun-pass%2Fsupertrait-default-generics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fsupertrait-default-generics.rs?ref=387df4e1277ed09002bb050caac5a86d126a1339", "patch": "@@ -0,0 +1,42 @@\n+// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// There is some other borrowck bug, so we make the stuff not mut.\n+\n+trait Positioned<S> {\n+  fn SetX(&mut self, S);\n+  fn X(&self) -> S;\n+}\n+\n+trait Movable<S: Add<S, S>>: Positioned<S> {\n+  fn translate(&mut self, dx: S) {\n+    let x = self.X() + dx;\n+    self.SetX(x);\n+  }\n+}\n+\n+struct Point<S> { x: S, y: S }\n+\n+impl<S: Clone> Positioned<S> for Point<S> {\n+    fn SetX(&mut self, x: S) {\n+        self.x = x;\n+    }\n+    fn X(&self) -> S {\n+        self.x.clone()\n+    }\n+}\n+\n+impl<S: Clone + Add<S, S>> Movable<S> for Point<S>;\n+\n+pub fn main() {\n+    let mut p = Point{ x: 1, y: 2};\n+    p.translate(3);\n+    assert_eq!(p.X(), 4);\n+}"}]}