{"sha": "c13e6db774acca952577fa7a18599b75b407f3c2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMxM2U2ZGI3NzRhY2NhOTUyNTc3ZmE3YTE4NTk5Yjc1YjQwN2YzYzI=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-02-10T11:13:30Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-02-10T11:13:30Z"}, "message": "G: use names in fields", "tree": {"sha": "88c076f6b2f6905a409f05c7617f1cd05d4596ba", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/88c076f6b2f6905a409f05c7617f1cd05d4596ba"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c13e6db774acca952577fa7a18599b75b407f3c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c13e6db774acca952577fa7a18599b75b407f3c2", "html_url": "https://github.com/rust-lang/rust/commit/c13e6db774acca952577fa7a18599b75b407f3c2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c13e6db774acca952577fa7a18599b75b407f3c2/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8a735b667295f8390394b2536337698cb9a384ce", "url": "https://api.github.com/repos/rust-lang/rust/commits/8a735b667295f8390394b2536337698cb9a384ce", "html_url": "https://github.com/rust-lang/rust/commit/8a735b667295f8390394b2536337698cb9a384ce"}], "stats": {"total": 62, "additions": 38, "deletions": 24}, "files": [{"sha": "eca0d2e643f568f07b1aa5a7bbcca7539ec58051", "filename": "src/parser/grammar/items/structs.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c13e6db774acca952577fa7a18599b75b407f3c2/src%2Fparser%2Fgrammar%2Fitems%2Fstructs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c13e6db774acca952577fa7a18599b75b407f3c2/src%2Fparser%2Fgrammar%2Fitems%2Fstructs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Fitems%2Fstructs.rs?ref=c13e6db774acca952577fa7a18599b75b407f3c2", "patch": "@@ -86,7 +86,8 @@ fn named_fields(p: &mut Parser) {\n     fn named_field(p: &mut Parser) {\n         let field = p.start();\n         visibility(p);\n-        if p.expect(IDENT) {\n+        if p.at(IDENT) {\n+            name(p);\n             p.expect(COLON);\n             types::type_ref(p);\n             field.complete(p, NAMED_FIELD);"}, {"sha": "f1c772b8d77f84386c35a1e6a4a4e6845387b6cd", "filename": "tests/data/parser/err/0000_struct_field_missing_comma.txt", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Ferr%2F0000_struct_field_missing_comma.txt", "raw_url": "https://github.com/rust-lang/rust/raw/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Ferr%2F0000_struct_field_missing_comma.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0000_struct_field_missing_comma.txt?ref=c13e6db774acca952577fa7a18599b75b407f3c2", "patch": "@@ -7,15 +7,17 @@ FILE@[0; 34)\n       WHITESPACE@[8; 9)\n     L_CURLY@[9; 10)\n     NAMED_FIELD@[10; 26)\n-      WHITESPACE@[10; 15)\n-      IDENT@[15; 16) \"a\"\n+      NAME@[10; 16)\n+        WHITESPACE@[10; 15)\n+        IDENT@[15; 16) \"a\"\n       COLON@[16; 17)\n       WHITESPACE@[17; 18)\n       IDENT@[18; 21) \"u32\"\n       WHITESPACE@[21; 26)\n     err: `expected COMMA`\n     NAMED_FIELD@[26; 33)\n-      IDENT@[26; 27) \"b\"\n+      NAME@[26; 27)\n+        IDENT@[26; 27) \"b\"\n       COLON@[27; 28)\n       WHITESPACE@[28; 29)\n       IDENT@[29; 32) \"u32\""}, {"sha": "c835a14740f6fc34a24148c06f7b9e1eced5cea2", "filename": "tests/data/parser/err/0003_C++_semicolon.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Ferr%2F0003_C%2B%2B_semicolon.txt", "raw_url": "https://github.com/rust-lang/rust/raw/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Ferr%2F0003_C%2B%2B_semicolon.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0003_C%2B%2B_semicolon.txt?ref=c13e6db774acca952577fa7a18599b75b407f3c2", "patch": "@@ -7,15 +7,17 @@ FILE@[0; 40)\n       WHITESPACE@[8; 9)\n     L_CURLY@[9; 10)\n     NAMED_FIELD@[10; 21)\n-      WHITESPACE@[10; 15)\n-      IDENT@[15; 16) \"a\"\n+      NAME@[10; 16)\n+        WHITESPACE@[10; 15)\n+        IDENT@[15; 16) \"a\"\n       COLON@[16; 17)\n       WHITESPACE@[17; 18)\n       IDENT@[18; 21) \"i32\"\n     COMMA@[21; 22)\n     NAMED_FIELD@[22; 36)\n-      WHITESPACE@[22; 27)\n-      IDENT@[27; 28) \"b\"\n+      NAME@[22; 28)\n+        WHITESPACE@[22; 27)\n+        IDENT@[27; 28) \"b\"\n       COLON@[28; 29)\n       WHITESPACE@[29; 30)\n       IDENT@[30; 36) \"String\""}, {"sha": "b772671e952db05e69db7c6e3f0f1fa7780c277f", "filename": "tests/data/parser/err/0006_named_field_recovery.txt", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Ferr%2F0006_named_field_recovery.txt", "raw_url": "https://github.com/rust-lang/rust/raw/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Ferr%2F0006_named_field_recovery.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0006_named_field_recovery.txt?ref=c13e6db774acca952577fa7a18599b75b407f3c2", "patch": "@@ -7,8 +7,9 @@ FILE@[0; 74)\n       WHITESPACE@[8; 9)\n     L_CURLY@[9; 10)\n     NAMED_FIELD@[10; 21)\n-      WHITESPACE@[10; 15)\n-      IDENT@[15; 16) \"f\"\n+      NAME@[10; 16)\n+        WHITESPACE@[10; 15)\n+        IDENT@[15; 16) \"f\"\n       COLON@[16; 17)\n       WHITESPACE@[17; 18)\n       IDENT@[18; 21) \"u32\"\n@@ -17,11 +18,11 @@ FILE@[0; 74)\n       WHITESPACE@[22; 27)\n       PUB_KW@[27; 30)\n       WHITESPACE@[30; 31)\n-    err: `expected IDENT`\n     ERROR@[31; 38)\n     err: `expected field declaration`\n       INT_NUMBER@[31; 33)\n       WHITESPACE@[33; 38)\n+    err: `expected COMMA`\n     ERROR@[38; 40)\n     err: `expected field declaration`\n       PLUS@[38; 39)\n@@ -38,14 +39,16 @@ FILE@[0; 74)\n       VISIBILITY@[48; 52)\n         PUB_KW@[48; 51)\n         WHITESPACE@[51; 52)\n-      IDENT@[52; 53) \"x\"\n+      NAME@[52; 53)\n+        IDENT@[52; 53) \"x\"\n       COLON@[53; 54)\n       WHITESPACE@[54; 55)\n       IDENT@[55; 58) \"u32\"\n     COMMA@[58; 59)\n     NAMED_FIELD@[59; 70)\n-      WHITESPACE@[59; 64)\n-      IDENT@[64; 65) \"z\"\n+      NAME@[59; 65)\n+        WHITESPACE@[59; 64)\n+        IDENT@[64; 65) \"z\"\n       COLON@[65; 66)\n       WHITESPACE@[66; 67)\n       IDENT@[67; 70) \"f64\""}, {"sha": "31d3508dbc10191aa5a7bbc88eeaf9e4fd9a53e6", "filename": "tests/data/parser/ok/0002_struct_item_field.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Fok%2F0002_struct_item_field.txt", "raw_url": "https://github.com/rust-lang/rust/raw/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Fok%2F0002_struct_item_field.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0002_struct_item_field.txt?ref=c13e6db774acca952577fa7a18599b75b407f3c2", "patch": "@@ -7,8 +7,9 @@ FILE@[0; 25)\n       WHITESPACE@[8; 9)\n     L_CURLY@[9; 10)\n     NAMED_FIELD@[10; 24)\n-      WHITESPACE@[10; 15)\n-      IDENT@[15; 18) \"foo\"\n+      NAME@[10; 18)\n+        WHITESPACE@[10; 15)\n+        IDENT@[15; 18) \"foo\"\n       COLON@[18; 19)\n       WHITESPACE@[19; 20)\n       IDENT@[20; 23) \"u32\""}, {"sha": "15462b9b93e6e68e48bc82a8e2d8a4e1256822d0", "filename": "tests/data/parser/ok/0016_struct_flavors.txt", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Fok%2F0016_struct_flavors.txt", "raw_url": "https://github.com/rust-lang/rust/raw/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Fok%2F0016_struct_flavors.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0016_struct_flavors.txt?ref=c13e6db774acca952577fa7a18599b75b407f3c2", "patch": "@@ -32,8 +32,9 @@ FILE@[0; 97)\n       WHITESPACE@[43; 44)\n     L_CURLY@[44; 45)\n     NAMED_FIELD@[45; 56)\n-      WHITESPACE@[45; 50)\n-      IDENT@[50; 51) \"a\"\n+      NAME@[45; 51)\n+        WHITESPACE@[45; 50)\n+        IDENT@[50; 51) \"a\"\n       COLON@[51; 52)\n       WHITESPACE@[52; 53)\n       IDENT@[53; 56) \"u32\"\n@@ -43,7 +44,8 @@ FILE@[0; 97)\n         WHITESPACE@[57; 62)\n         PUB_KW@[62; 65)\n         WHITESPACE@[65; 66)\n-      IDENT@[66; 67) \"b\"\n+      NAME@[66; 67)\n+        IDENT@[66; 67) \"b\"\n       COLON@[67; 68)\n       WHITESPACE@[68; 69)\n       IDENT@[69; 72) \"u32\""}, {"sha": "fe14effceb7522aa76c7fd78c9e0ad2d229d61f3", "filename": "tests/data/parser/ok/0018_struct_type_params.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Fok%2F0018_struct_type_params.txt", "raw_url": "https://github.com/rust-lang/rust/raw/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Fok%2F0018_struct_type_params.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0018_struct_type_params.txt?ref=c13e6db774acca952577fa7a18599b75b407f3c2", "patch": "@@ -40,8 +40,9 @@ FILE@[0; 290)\n       WHITESPACE@[45; 46)\n     L_CURLY@[46; 47)\n     NAMED_FIELD@[47; 55)\n-      WHITESPACE@[47; 48)\n-      IDENT@[48; 49) \"u\"\n+      NAME@[47; 49)\n+        WHITESPACE@[47; 48)\n+        IDENT@[48; 49) \"u\"\n       COLON@[49; 50)\n       WHITESPACE@[50; 51)\n       IDENT@[51; 54) \"u32\""}, {"sha": "bad12bee39b0a4f63daacf1ecc01866a4edcd793", "filename": "tests/data/parser/ok/0019_enums.txt", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Fok%2F0019_enums.txt", "raw_url": "https://github.com/rust-lang/rust/raw/c13e6db774acca952577fa7a18599b75b407f3c2/tests%2Fdata%2Fparser%2Fok%2F0019_enums.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0019_enums.txt?ref=c13e6db774acca952577fa7a18599b75b407f3c2", "patch": "@@ -77,8 +77,9 @@ FILE@[0; 182)\n       WHITESPACE@[102; 103)\n       L_CURLY@[103; 104)\n       NAMED_FIELD@[104; 119)\n-        WHITESPACE@[104; 113)\n-        IDENT@[113; 114) \"a\"\n+        NAME@[104; 114)\n+          WHITESPACE@[104; 113)\n+          IDENT@[113; 114) \"a\"\n         COLON@[114; 115)\n         WHITESPACE@[115; 116)\n         IDENT@[116; 119) \"u32\"\n@@ -88,7 +89,8 @@ FILE@[0; 182)\n           WHITESPACE@[120; 129)\n           PUB_KW@[129; 132)\n           WHITESPACE@[132; 133)\n-        IDENT@[133; 134) \"b\"\n+        NAME@[133; 134)\n+          IDENT@[133; 134) \"b\"\n         COLON@[134; 135)\n         WHITESPACE@[135; 136)\n         IDENT@[136; 139) \"f64\""}]}