{"sha": "6a3756b0ba3dbab0c1957a7c829e09e9505c7574", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZhMzc1NmIwYmEzZGJhYjBjMTk1N2E3YzgyOWUwOWU5NTA1Yzc1NzQ=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-09-14T19:14:39Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-09-14T19:15:40Z"}, "message": "test: Use vec::as_imm_buf in bug-2470-bounds-check-overflow.rs", "tree": {"sha": "8817f655d85033924953d5ea02d9ef7609d0808f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8817f655d85033924953d5ea02d9ef7609d0808f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6a3756b0ba3dbab0c1957a7c829e09e9505c7574", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6a3756b0ba3dbab0c1957a7c829e09e9505c7574", "html_url": "https://github.com/rust-lang/rust/commit/6a3756b0ba3dbab0c1957a7c829e09e9505c7574", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6a3756b0ba3dbab0c1957a7c829e09e9505c7574/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "044fbea416c8778ec8f653b93941dca6f2e9213e", "url": "https://api.github.com/repos/rust-lang/rust/commits/044fbea416c8778ec8f653b93941dca6f2e9213e", "html_url": "https://github.com/rust-lang/rust/commit/044fbea416c8778ec8f653b93941dca6f2e9213e"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "924b3dda14972986fb7e6979a1e492dd7931993f", "filename": "src/test/run-fail/bug-2470-bounds-check-overflow.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6a3756b0ba3dbab0c1957a7c829e09e9505c7574/src%2Ftest%2Frun-fail%2Fbug-2470-bounds-check-overflow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a3756b0ba3dbab0c1957a7c829e09e9505c7574/src%2Ftest%2Frun-fail%2Fbug-2470-bounds-check-overflow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Fbug-2470-bounds-check-overflow.rs?ref=6a3756b0ba3dbab0c1957a7c829e09e9505c7574", "patch": "@@ -9,7 +9,7 @@ fn main() {\n     // huge).\n \n     let x = ~[1u,2u,3u];\n-    do vec::as_buf(x) |p, _len| {\n+    do vec::as_imm_buf(x) |p, _len| {\n         let base = p as uint;                     // base = 0x1230 say\n         let idx = base / sys::size_of::<uint>();  // idx  = 0x0246 say\n         error!(\"ov1 base = 0x%x\", base);\n@@ -21,4 +21,4 @@ fn main() {\n         // This should fail.\n         error!(\"ov1 0x%x\",  x[idx]);\n     }\n-}\n\\ No newline at end of file\n+}"}]}