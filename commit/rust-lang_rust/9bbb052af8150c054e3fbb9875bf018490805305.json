{"sha": "9bbb052af8150c054e3fbb9875bf018490805305", "node_id": "MDY6Q29tbWl0NzI0NzEyOjliYmIwNTJhZjgxNTBjMDU0ZTNmYmI5ODc1YmYwMTg0OTA4MDUzMDU=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2020-11-05T09:29:50Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-11-05T09:29:50Z"}, "message": "Rollup merge of #78727 - liketechnik:issue-55201, r=GuillaumeGomez\n\n(rustdoc) fix test for trait impl display\n\nThe test checks that parameters and return values with `impl Trait` types are correctly generated in rustdoc's output.\n\nIn essence, the previous version of the test checked the absence of values that would never be generated by rustdoc, so it could basically never fail. These values were adjusted to the expected output and are now required to exist in rustdoc's output. See https://github.com/rust-lang/rust/issues/55201#issuecomment-716182474 for a detailed explanation of the reasoning behind the changes.\n\nNote that the output of rustdoc for `impl Trait`s in parameters and return values did not change since the inital test creation, so this PR only modifies the test.\n\nCloses #55201", "tree": {"sha": "0642e5191ad00f157822412af5a7955a0afdb9b0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0642e5191ad00f157822412af5a7955a0afdb9b0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9bbb052af8150c054e3fbb9875bf018490805305", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfo8YPCRBK7hj4Ov3rIwAAdHIIAIuvWTjDuRHVQ1KG3SRPyPiG\nQ0Jzf6oTGSK5fDBsr5x0SIVZ5HKFFWzuEBjhR5zah8LRD1nL8lYlkz2dzoHBt0fp\nXQfofNTcE2nbKktr1Q4R6Dj9lB9hcu1vYkWypWN0/9sMoGkdWs421YEciNiaczus\ngFRn1FELnLIWw+jO0ampWrJySTfda50Vuq4+5nn5pTYt6JifIl/cd2mreRIaOjoZ\nAVDsg2xKN6664EQRF8Nx0IMYx1NiLZ5+PTYe4HT4sDJkq4AugA3M4lDPQJsgDyQ3\n/VG/LjaUnTGa1FK56Hb1t+HhyFHpY3QcMyJ7BFtbqgGPMXpMOGTlyVfSXk6bFls=\n=Ka6o\n-----END PGP SIGNATURE-----\n", "payload": "tree 0642e5191ad00f157822412af5a7955a0afdb9b0\nparent 43e1b58bccf7e62bcccfd1ce0bedc9dc65df3564\nparent 251f6da276c3bee6a0737b8b42d5d13295c3a4d8\nauthor Mara Bos <m-ou.se@m-ou.se> 1604568590 +0100\ncommitter GitHub <noreply@github.com> 1604568590 +0100\n\nRollup merge of #78727 - liketechnik:issue-55201, r=GuillaumeGomez\n\n(rustdoc) fix test for trait impl display\n\nThe test checks that parameters and return values with `impl Trait` types are correctly generated in rustdoc's output.\n\nIn essence, the previous version of the test checked the absence of values that would never be generated by rustdoc, so it could basically never fail. These values were adjusted to the expected output and are now required to exist in rustdoc's output. See https://github.com/rust-lang/rust/issues/55201#issuecomment-716182474 for a detailed explanation of the reasoning behind the changes.\n\nNote that the output of rustdoc for `impl Trait`s in parameters and return values did not change since the inital test creation, so this PR only modifies the test.\n\nCloses #55201\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9bbb052af8150c054e3fbb9875bf018490805305", "html_url": "https://github.com/rust-lang/rust/commit/9bbb052af8150c054e3fbb9875bf018490805305", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9bbb052af8150c054e3fbb9875bf018490805305/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "43e1b58bccf7e62bcccfd1ce0bedc9dc65df3564", "url": "https://api.github.com/repos/rust-lang/rust/commits/43e1b58bccf7e62bcccfd1ce0bedc9dc65df3564", "html_url": "https://github.com/rust-lang/rust/commit/43e1b58bccf7e62bcccfd1ce0bedc9dc65df3564"}, {"sha": "251f6da276c3bee6a0737b8b42d5d13295c3a4d8", "url": "https://api.github.com/repos/rust-lang/rust/commits/251f6da276c3bee6a0737b8b42d5d13295c3a4d8", "html_url": "https://github.com/rust-lang/rust/commit/251f6da276c3bee6a0737b8b42d5d13295c3a4d8"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "742813262589b47d1d28c4febef6ae53d2c9a5f2", "filename": "src/test/rustdoc/impl-everywhere.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/9bbb052af8150c054e3fbb9875bf018490805305/src%2Ftest%2Frustdoc%2Fimpl-everywhere.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9bbb052af8150c054e3fbb9875bf018490805305/src%2Ftest%2Frustdoc%2Fimpl-everywhere.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fimpl-everywhere.rs?ref=9bbb052af8150c054e3fbb9875bf018490805305", "patch": "@@ -8,23 +8,23 @@ pub struct Bar;\n impl Foo for Bar {}\n impl Foo2 for Bar {}\n \n-// @!has foo/fn.foo.html '//section[@id=\"main\"]//pre' \"x: &\\'x impl Foo\"\n-// @!has foo/fn.foo.html '//section[@id=\"main\"]//pre' \"-> &\\'x impl Foo {\"\n+// @has foo/fn.foo.html '//section[@id=\"main\"]//pre' \"x: &'x impl Foo\"\n+// @has foo/fn.foo.html '//section[@id=\"main\"]//pre' \"-> &'x impl Foo\"\n pub fn foo<'x>(x: &'x impl Foo) -> &'x impl Foo {\n     x\n }\n \n-// @!has foo/fn.foo2.html '//section[@id=\"main\"]//pre' \"x: &\\'x impl Foo\"\n-// @!has foo/fn.foo2.html '//section[@id=\"main\"]//pre' '-> impl Foo2 {'\n+// @has foo/fn.foo2.html '//section[@id=\"main\"]//pre' \"x: &'x impl Foo\"\n+// @has foo/fn.foo2.html '//section[@id=\"main\"]//pre' '-> impl Foo2'\n pub fn foo2<'x>(_x: &'x impl Foo) -> impl Foo2 {\n     Bar\n }\n \n-// @!has foo/fn.foo_foo.html '//section[@id=\"main\"]//pre' '-> impl Foo + Foo2 {'\n+// @has foo/fn.foo_foo.html '//section[@id=\"main\"]//pre' '-> impl Foo + Foo2'\n pub fn foo_foo() -> impl Foo + Foo2 {\n     Bar\n }\n \n-// @!has foo/fn.foo2.html '//section[@id=\"main\"]//pre' \"x: &'x (impl Foo + Foo2)\"\n+// @has foo/fn.foo_foo_foo.html '//section[@id=\"main\"]//pre' \"x: &'x impl Foo + Foo2\"\n pub fn foo_foo_foo<'x>(_x: &'x (impl Foo + Foo2)) {\n }"}]}