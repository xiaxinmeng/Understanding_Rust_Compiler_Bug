{"sha": "91c09d44f60c22e0874bcef393e2fa67e1875c01", "node_id": "C_kwDOAAsO6NoAKDkxYzA5ZDQ0ZjYwYzIyZTA4NzRiY2VmMzkzZTJmYTY3ZTE4NzVjMDE", "commit": {"author": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2022-10-24T11:01:07Z"}, "committer": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2022-10-24T11:03:12Z"}, "message": "use the shared assets step for building std too", "tree": {"sha": "9b91dc0e6c0e9ed41652eca0c9b524aa80b00b5f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9b91dc0e6c0e9ed41652eca0c9b524aa80b00b5f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/91c09d44f60c22e0874bcef393e2fa67e1875c01", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMycKYjxLY0eb13b7zXazX3c0dp4FAmNWcPAACgkQzXazX3c0\ndp6PRw//Vp/finezh3GTqsurOfl/RbVM4mRk46FHE375m+aGVZw8TPHBMiSk2ZTg\nhokE3Vwv+Vocbn0xUStqms5tbtvJ+Ww6lZNFVtXLscNeY/HQ+3dttdkDBigGN98b\nYP6xOXYA1YBgrvV/2POGKMXrDavP0SHf6AtMCrlWPsmhPgsCCDzlRkjwuCmKCP9B\nzO2V1uIrBObYaE2LFHb5A0nFUIaMMowuuHhlK8Z6YFivjkjMmo7rRe0b6DUOT7A9\nXD/jVNF5NASpOb/lUgM2pkK7ovngd+aPK8sDMDbvcb1atbZhMP7VAAn/D7ImELPT\nzqygNXSmC/gnOa57OE7s24Yt1L5u+NAjlpttwPWjcT1SL++QUsP4HItb9YlAV8aS\nX1CUiwvuUCdwMIYZd/52ATO0xcZ7pHcqvVe225VwUEMe9G1xLVGh7oVdiCNKKvhX\n2szaMkh1AaPByiGtov1zL5nc0vhObjTojsMfNDV3KcYW+DbP/nZxn/ery02jweew\nZ87tgGYel+d5G6Dw/IH1H3gjCTlFF9I0S/y8DXJZxvTSSYrAHYkd+v6h0Ob7FDE9\n0FEJqbkMavq+9T/KmQ1/5gCl2LL9jWoGX/19k82pDLo3YosQIahWpjkIGz/9qs1L\nKASBGwymG3fGkUNlemi62tXlwLEolTqIQ8irn82WGZ2/LYbpRdM=\n=uR61\n-----END PGP SIGNATURE-----", "payload": "tree 9b91dc0e6c0e9ed41652eca0c9b524aa80b00b5f\nparent f134370b916b107cc2c07a563430e99d3c102188\nauthor Pietro Albini <pietro.albini@ferrous-systems.com> 1666609267 +0200\ncommitter Pietro Albini <pietro.albini@ferrous-systems.com> 1666609392 +0200\n\nuse the shared assets step for building std too\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/91c09d44f60c22e0874bcef393e2fa67e1875c01", "html_url": "https://github.com/rust-lang/rust/commit/91c09d44f60c22e0874bcef393e2fa67e1875c01", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/91c09d44f60c22e0874bcef393e2fa67e1875c01/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f134370b916b107cc2c07a563430e99d3c102188", "url": "https://api.github.com/repos/rust-lang/rust/commits/f134370b916b107cc2c07a563430e99d3c102188", "html_url": "https://github.com/rust-lang/rust/commit/f134370b916b107cc2c07a563430e99d3c102188"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "5c624bd4eb442f0a89e183f13554ecfd28a2bf00", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/91c09d44f60c22e0874bcef393e2fa67e1875c01/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/91c09d44f60c22e0874bcef393e2fa67e1875c01/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=91c09d44f60c22e0874bcef393e2fa67e1875c01", "patch": "@@ -457,7 +457,8 @@ impl Step for Std {\n         let target = self.target;\n         let out = builder.doc_out(target);\n         t!(fs::create_dir_all(&out));\n-        t!(fs::copy(builder.src.join(\"src/doc/rust.css\"), out.join(\"rust.css\")));\n+\n+        builder.ensure(SharedAssets { target: self.target });\n \n         let index_page = builder.src.join(\"src/doc/index.md\").into_os_string();\n         let mut extra_args = vec!["}]}