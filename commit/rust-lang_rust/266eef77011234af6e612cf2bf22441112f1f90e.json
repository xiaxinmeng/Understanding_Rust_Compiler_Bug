{"sha": "266eef77011234af6e612cf2bf22441112f1f90e", "node_id": "C_kwDOAAsO6NoAKDI2NmVlZjc3MDExMjM0YWY2ZTYxMmNmMmJmMjI0NDExMTJmMWY5MGU", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-12-28T13:53:34Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-12-28T13:53:34Z"}, "message": "Auto merge of #10119 - koka831:doc/config-default-value, r=xFrednet\n\nfix codeblocks in the document\n\nWhile I've looked into https://github.com/rust-lang/rust-clippy/issues/9990, I found broken code blocks in the document.\n\nThis patch not only improves visibility, but also fixes a potential bug. When a lint description ends with code block, the string will have three backquotes at the end.\nSince the current implementation prints the default value immediately after that, the markdown renderer is unable to properly close the code block.\n\ne.g. `arithmetic_side_effects`, we can see code block is not rendered properly, and (I think) it's bit hard to understand what ``\"defaults to `[]`\"`` is meant.\n\n![2022-12-26_01-51](https://user-images.githubusercontent.com/14945055/209476342-4d0b2e18-44b6-4c74-8c3c-4f4f0904e8ca.png)\n\nIn this PR, it will be rendered as:\n\n![image](https://user-images.githubusercontent.com/14945055/209476353-07587b86-1100-445f-946d-41f62f741e51.png)\n\nchangelog: none\n\nr? `@xFrednet`", "tree": {"sha": "b2e1e978f585a2d5279333b0e19875502dcaec33", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b2e1e978f585a2d5279333b0e19875502dcaec33"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/266eef77011234af6e612cf2bf22441112f1f90e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/266eef77011234af6e612cf2bf22441112f1f90e", "html_url": "https://github.com/rust-lang/rust/commit/266eef77011234af6e612cf2bf22441112f1f90e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/266eef77011234af6e612cf2bf22441112f1f90e/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d98e714988d9beebe416c6e3808e4173d928c5ed", "url": "https://api.github.com/repos/rust-lang/rust/commits/d98e714988d9beebe416c6e3808e4173d928c5ed", "html_url": "https://github.com/rust-lang/rust/commit/d98e714988d9beebe416c6e3808e4173d928c5ed"}, {"sha": "fae19a9a79ad275af9e9f2ee5ad15404a9a1bbf7", "url": "https://api.github.com/repos/rust-lang/rust/commits/fae19a9a79ad275af9e9f2ee5ad15404a9a1bbf7", "html_url": "https://github.com/rust-lang/rust/commit/fae19a9a79ad275af9e9f2ee5ad15404a9a1bbf7"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "929544cd69d5b96de9aabd3c2a80404818bbeaf2", "filename": "clippy_lints/src/utils/internal_lints/metadata_collector.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/266eef77011234af6e612cf2bf22441112f1f90e/clippy_lints%2Fsrc%2Futils%2Finternal_lints%2Fmetadata_collector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/266eef77011234af6e612cf2bf22441112f1f90e/clippy_lints%2Fsrc%2Futils%2Finternal_lints%2Fmetadata_collector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finternal_lints%2Fmetadata_collector.rs?ref=266eef77011234af6e612cf2bf22441112f1f90e", "patch": "@@ -558,8 +558,8 @@ impl fmt::Display for ClippyConfiguration {\n     fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> fmt::Result {\n         writeln!(\n             f,\n-            \"* `{}`: `{}`: {} (defaults to `{}`)\",\n-            self.name, self.config_type, self.doc, self.default\n+            \"* `{}`: `{}`(defaults to `{}`): {}\",\n+            self.name, self.config_type, self.default, self.doc\n         )\n     }\n }"}]}