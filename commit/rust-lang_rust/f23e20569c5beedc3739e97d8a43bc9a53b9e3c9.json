{"sha": "f23e20569c5beedc3739e97d8a43bc9a53b9e3c9", "node_id": "C_kwDOAAsO6NoAKGYyM2UyMDU2OWM1YmVlZGMzNzM5ZTk3ZDhhNDNiYzlhNTNiOWUzYzk", "commit": {"author": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2023-03-02T16:10:29Z"}, "committer": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2023-03-02T16:10:29Z"}, "message": "do not use render_tests for clippy\n\nBehind the scenes Clippy uses compiletest-rs, which doesn't support the\n--json flag we added to Rust's compiletest.", "tree": {"sha": "2f5b976ef995670d56d14a389490f618753ec744", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f5b976ef995670d56d14a389490f618753ec744"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f23e20569c5beedc3739e97d8a43bc9a53b9e3c9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMycKYjxLY0eb13b7zXazX3c0dp4FAmQAypwACgkQzXazX3c0\ndp7tRg//TYqXDJIRt9bHE6PVq5cCTR07cPayfCYkyjkfvr4uwXAYjgiL67P9lUTW\n1gUuNdIMfWnbLsH1KeTDjSPqTlhR+Zbce+1PqYMfxIg7OU2NQX9JWGHktSSv4IlM\nU4df729BHbHNFOjORaDB51FAVmOvJY3QQohmOhCh2BBwhmwT9aoh8yOXBjM3dm1K\nMajrOUXAma/z3cyuFFRGQPRKX8Q+WpzMznt1/kjfDFUGpEj87jK0mbdklUJrqeyM\naIgkun11NcFFmzU9EaBiRiqQTpz0v1kM7E3ff1JoyFP0uoiseDDhSDjcAR4fCQyA\nY76QXdCzqggnB8inxgYkEZf3KWryayumwBlGPdjKut0KHwiZhqqzm9qQxqhypl0P\nSMG/HFkk9v8RCaf5LdWc6ilfsUs1zBtTqIq9bUyTZ26sDYnGItWQE1BIL6TMVDZE\nSSSSXmIEav9C0B3iyK6upyP2aORiask+Wipmb4lPv6vFsotqkyKYh0HQoln7siDE\n2IxsrnBM4but27USE4NtnItiOdc9Hwu3CwW4tEEi7KUnLATHE/1W+I27PXTU0M6L\nYS1Btb6Tmx357NFVEgGxsj7/q8gbWcC3av+k7vggKP+G0OY7fojKpl1JXQXzpJaX\noR9oERD0wf5YbFGZJ218AM/EL7z4Ej1wLVtIPZrADqK3hn+S8sI=\n=Z/sK\n-----END PGP SIGNATURE-----", "payload": "tree 2f5b976ef995670d56d14a389490f618753ec744\nparent ad9a4442418deb24cbb107d0a56026d005bfa859\nauthor Pietro Albini <pietro.albini@ferrous-systems.com> 1677773429 +0100\ncommitter Pietro Albini <pietro.albini@ferrous-systems.com> 1677773429 +0100\n\ndo not use render_tests for clippy\n\nBehind the scenes Clippy uses compiletest-rs, which doesn't support the\n--json flag we added to Rust's compiletest.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f23e20569c5beedc3739e97d8a43bc9a53b9e3c9", "html_url": "https://github.com/rust-lang/rust/commit/f23e20569c5beedc3739e97d8a43bc9a53b9e3c9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f23e20569c5beedc3739e97d8a43bc9a53b9e3c9/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ad9a4442418deb24cbb107d0a56026d005bfa859", "url": "https://api.github.com/repos/rust-lang/rust/commits/ad9a4442418deb24cbb107d0a56026d005bfa859", "html_url": "https://github.com/rust-lang/rust/commit/ad9a4442418deb24cbb107d0a56026d005bfa859"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "71e83e741e12b0ca4fb02532e0b5a4b24d81948b", "filename": "src/bootstrap/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f23e20569c5beedc3739e97d8a43bc9a53b9e3c9/src%2Fbootstrap%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f23e20569c5beedc3739e97d8a43bc9a53b9e3c9/src%2Fbootstrap%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftest.rs?ref=f23e20569c5beedc3739e97d8a43bc9a53b9e3c9", "patch": "@@ -767,7 +767,7 @@ impl Step for Clippy {\n \n         cargo.add_rustc_lib_path(builder, compiler);\n \n-        if add_flags_and_try_run_tests(builder, &mut cargo.into()) {\n+        if builder.try_run(&mut cargo.into()) {\n             // The tests succeeded; nothing to do.\n             return;\n         }"}]}