{"sha": "88cf76a64e1f8d68ce366d0cea340564b26631a7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg4Y2Y3NmE2NGUxZjhkNjhjZTM2NmQwY2VhMzQwNTY0YjI2NjMxYTc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-07-17T05:25:48Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-07-17T05:25:48Z"}, "message": "Auto merge of #42146 - nrc:rls-rust, r=alexcrichton\n\nMore Rust/RLS integration\n\nr? @alexcrichton\n\ncc https://github.com/rust-lang-nursery/rls/issues/310\n\ncloses #41199\ncloses #41197", "tree": {"sha": "cf97168de0759374e3436ce154722683f1f2bdcf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cf97168de0759374e3436ce154722683f1f2bdcf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/88cf76a64e1f8d68ce366d0cea340564b26631a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/88cf76a64e1f8d68ce366d0cea340564b26631a7", "html_url": "https://github.com/rust-lang/rust/commit/88cf76a64e1f8d68ce366d0cea340564b26631a7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/88cf76a64e1f8d68ce366d0cea340564b26631a7/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "08652ec95721ea66facfda4626dd1ec543434ade", "url": "https://api.github.com/repos/rust-lang/rust/commits/08652ec95721ea66facfda4626dd1ec543434ade", "html_url": "https://github.com/rust-lang/rust/commit/08652ec95721ea66facfda4626dd1ec543434ade"}, {"sha": "04415dc64c5af86957b4e3b45e124108c93263c4", "url": "https://api.github.com/repos/rust-lang/rust/commits/04415dc64c5af86957b4e3b45e124108c93263c4", "html_url": "https://github.com/rust-lang/rust/commit/04415dc64c5af86957b4e3b45e124108c93263c4"}], "stats": {"total": 182, "additions": 135, "deletions": 47}, "files": [{"sha": "3c8d1164863deb7b74abd4cbdfbd47060c219035", "filename": "src/Cargo.lock", "status": "modified", "additions": 86, "deletions": 34, "changes": 120, "blob_url": "https://github.com/rust-lang/rust/blob/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2FCargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2FCargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FCargo.lock?ref=88cf76a64e1f8d68ce366d0cea340564b26631a7", "patch": "@@ -102,6 +102,14 @@ dependencies = [\n  \"libc 0.2.26 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n+[[package]]\n+name = \"bin_lib\"\n+version = \"0.1.0\"\n+\n+[[package]]\n+name = \"bin_lib_no_cfg_test\"\n+version = \"0.1.0\"\n+\n [[package]]\n name = \"bitflags\"\n version = \"0.7.0\"\n@@ -132,6 +140,10 @@ dependencies = [\n  \"toml 0.1.30 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n+[[package]]\n+name = \"borrow_error\"\n+version = \"0.1.0\"\n+\n [[package]]\n name = \"bufstream\"\n version = \"0.1.3\"\n@@ -155,7 +167,7 @@ dependencies = [\n [[package]]\n name = \"cargo\"\n version = \"0.21.0\"\n-source = \"git+https://github.com/rust-lang/cargo#1566c92b5d28e435613918e59dc94755f99d73b1\"\n+source = \"git+https://github.com/rust-lang/cargo#5982cf904be1d72f575dcbd1e750c07bf730b966\"\n replace = \"cargo 0.21.0\"\n \n [[package]]\n@@ -191,8 +203,8 @@ dependencies = [\n  \"psapi-sys 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"scoped-tls 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"semver 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_ignored 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"shell-escape 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -218,7 +230,7 @@ dependencies = [\n  \"kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.26 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"tar 0.4.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"tempdir 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -289,6 +301,10 @@ dependencies = [\n  \"rustc-serialize 0.3.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n+[[package]]\n+name = \"completion\"\n+version = \"0.1.0\"\n+\n [[package]]\n name = \"core\"\n version = \"0.0.0\"\n@@ -302,8 +318,8 @@ version = \"0.10.0\"\n dependencies = [\n  \"curl 0.4.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"error-chain 0.10.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -370,8 +386,8 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"lazy_static 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"regex 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"strsim 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -426,6 +442,14 @@ dependencies = [\n  \"libc 0.2.26 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n+[[package]]\n+name = \"find_all_refs\"\n+version = \"0.1.0\"\n+\n+[[package]]\n+name = \"find_all_refs_no_cfg_test\"\n+version = \"0.1.0\"\n+\n [[package]]\n name = \"flate2\"\n version = \"0.2.19\"\n@@ -493,6 +517,10 @@ name = \"glob\"\n version = \"0.2.11\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n+[[package]]\n+name = \"goto_def\"\n+version = \"0.1.0\"\n+\n [[package]]\n name = \"graphviz\"\n version = \"0.0.0\"\n@@ -516,7 +544,7 @@ dependencies = [\n  \"pest 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"quick-error 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"regex 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -525,6 +553,14 @@ name = \"hex\"\n version = \"0.2.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n+[[package]]\n+name = \"highlight\"\n+version = \"0.1.0\"\n+\n+[[package]]\n+name = \"hover\"\n+version = \"0.1.0\"\n+\n [[package]]\n name = \"idna\"\n version = \"0.1.2\"\n@@ -579,8 +615,8 @@ version = \"0.11.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"enum_primitive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url_serde 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -677,7 +713,7 @@ dependencies = [\n  \"open 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"pulldown-cmark 0.0.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"regex 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -718,6 +754,10 @@ dependencies = [\n  \"ws2_32-sys 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n+[[package]]\n+name = \"multiple_bins\"\n+version = \"0.1.0\"\n+\n [[package]]\n name = \"net2\"\n version = \"0.2.29\"\n@@ -957,6 +997,14 @@ dependencies = [\n  \"libc 0.2.26 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n+[[package]]\n+name = \"reformat\"\n+version = \"0.1.0\"\n+\n+[[package]]\n+name = \"reformat_with_range\"\n+version = \"0.1.0\"\n+\n [[package]]\n name = \"regex\"\n version = \"0.1.80\"\n@@ -999,6 +1047,10 @@ version = \"0.1.0\"\n name = \"remote-test-server\"\n version = \"0.1.0\"\n \n+[[package]]\n+name = \"rename\"\n+version = \"0.1.0\"\n+\n [[package]]\n name = \"rls\"\n version = \"0.1.0\"\n@@ -1009,13 +1061,13 @@ dependencies = [\n  \"languageserver-types 0.11.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"racer 2.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rls-analysis 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rls-analysis 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rls-data 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rls-span 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rls-vfs 0.4.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustfmt-nightly 0.1.8 (git+https://github.com/rust-lang-nursery/rustfmt?branch=rustfmt-42492)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustfmt-nightly 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1024,7 +1076,7 @@ dependencies = [\n \n [[package]]\n name = \"rls-analysis\"\n-version = \"0.4.2\"\n+version = \"0.4.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"derive-new 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1049,8 +1101,8 @@ version = \"0.4.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"rustc-serialize 0.3.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1463,8 +1515,8 @@ dependencies = [\n \n [[package]]\n name = \"rustfmt-nightly\"\n-version = \"0.1.8\"\n-source = \"git+https://github.com/rust-lang-nursery/rustfmt?branch=rustfmt-42492#7333dfc95b4af5c7283ba03f33c50f108d2be3f5\"\n+version = \"0.1.9\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"diff 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"env_logger 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1473,8 +1525,8 @@ dependencies = [\n  \"libc 0.2.26 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"regex 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"strings 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"term 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1503,7 +1555,7 @@ version = \"0.7.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1513,12 +1565,12 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"serde\"\n-version = \"1.0.9\"\n+version = \"1.0.10\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"serde_derive\"\n-version = \"1.0.9\"\n+version = \"1.0.10\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"quote 0.3.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1540,7 +1592,7 @@ name = \"serde_ignored\"\n version = \"0.0.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1551,7 +1603,7 @@ dependencies = [\n  \"dtoa 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"itoa 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num-traits 0.1.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1837,7 +1889,7 @@ name = \"toml\"\n version = \"0.4.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1908,7 +1960,7 @@ name = \"url_serde\"\n version = \"0.2.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -2082,19 +2134,19 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum regex 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1731164734096285ec2a5ec7fea5248ae2f5485b3feeb0115af4fda2183b2d1b\"\n \"checksum regex-syntax 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f9ec002c35e86791825ed294b50008eea9ddfc8def4420124fbc6b08db834957\"\n \"checksum regex-syntax 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ad890a5eef7953f55427c50575c680c42841653abd2b028b68cd223d157f62db\"\n-\"checksum rls-analysis 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"34c9957e6a7e336978f9262dff7552f80b6c8588483f221a8e63f5b436010862\"\n+\"checksum rls-analysis 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ea940411ed2ad6d1e705fc2a0b146a0a3f30f8098ba4e61b45b4e5f2bfa7ed63\"\n \"checksum rls-data 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e502ac679bc35e023e982506c32d0278ef89e29af1e4ad21cb70c44b525b87a9\"\n \"checksum rls-span 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5d7c7046dc6a92f2ae02ed302746db4382e75131b9ce20ce967259f6b5867a6a\"\n \"checksum rls-vfs 0.4.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ffd34691a510938bb67fe0444fb363103c73ffb31c121d1e16bc92d8945ea8ff\"\n \"checksum rustc-demangle 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3058a43ada2c2d0b92b3ae38007a2d0fa5e9db971be260e0171408a4ff471c95\"\n \"checksum rustc-serialize 0.3.24 (registry+https://github.com/rust-lang/crates.io-index)\" = \"dcf128d1287d2ea9d80910b5f1120d0b8eede3fbf1abe91c40d39ea7d51e6fda\"\n-\"checksum rustfmt-nightly 0.1.8 (git+https://github.com/rust-lang-nursery/rustfmt?branch=rustfmt-42492)\" = \"<none>\"\n+\"checksum rustfmt-nightly 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6693f90ac7d0a2291aa309f5214f5f3ac1bd79961c11116fcf6d5545749bf2e7\"\n \"checksum same-file 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d931a44fdaa43b8637009e7632a02adc4f2b2e0733c08caa4cf00e8da4a117a7\"\n \"checksum scoped-tls 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f417c22df063e9450888a7561788e9bd46d3bb3c1466435b4eccb903807f147d\"\n \"checksum semver 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3fdd61b85a0fa777f7fb7c454b9189b2941b110d1385ce84d7f76efdf1606a85\"\n \"checksum semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3\"\n-\"checksum serde 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6a7c6b751a2e8d5df57a5ff71b5b4fc8aaee9ee28ff1341d640dd130bb5f4f7a\"\n-\"checksum serde_derive 1.0.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2f6ca58905ebd3c3b285a8a6d4f3ac92b92c0d7951d5649b1bdd212549c06639\"\n+\"checksum serde 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"433d7d9f8530d5a939ad5e0e72a6243d2e42a24804f70bf592c679363dcacb2f\"\n+\"checksum serde_derive 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7b707cf0d4cab852084f573058def08879bb467fda89d99052485e7d00edd624\"\n \"checksum serde_derive_internals 0.15.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"37aee4e0da52d801acfbc0cc219eb1eda7142112339726e427926a6f6ee65d3a\"\n \"checksum serde_ignored 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c10e798e4405d7dcec3658989e35ee6706f730a9ed7c1184d5ebd84317e82f46\"\n \"checksum serde_json 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"48b04779552e92037212c3615370f6bd57a40ebba7f20e554ff9f55e41a69a7b\""}, {"sha": "f027965e791bef9bb70ae7589dedf347b2c3bd9d", "filename": "src/Cargo.toml", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FCargo.toml?ref=88cf76a64e1f8d68ce366d0cea340564b26631a7", "patch": "@@ -17,6 +17,20 @@ members = [\n   \"tools/rust-installer\",\n   \"tools/cargo\",\n   \"tools/rls\",\n+  # FIXME(https://github.com/rust-lang/cargo/issues/4089): move these to exclude\n+  \"tools/rls/test_data/borrow_error\",\n+  \"tools/rls/test_data/completion\",\n+  \"tools/rls/test_data/find_all_refs\",\n+  \"tools/rls/test_data/find_all_refs_no_cfg_test\",\n+  \"tools/rls/test_data/goto_def\",\n+  \"tools/rls/test_data/highlight\",\n+  \"tools/rls/test_data/hover\",\n+  \"tools/rls/test_data/rename\",\n+  \"tools/rls/test_data/reformat\",\n+  \"tools/rls/test_data/bin_lib_no_cfg_test\",\n+  \"tools/rls/test_data/multiple_bins\",\n+  \"tools/rls/test_data/bin_lib\",\n+  \"tools/rls/test_data/reformat_with_range\",\n ]\n \n # Curiously, compiletest will segfault if compiled with opt-level=3 on 64-bit"}, {"sha": "e4b0e2fb9ca0cdb8bffc23d81fd60abc590382e3", "filename": "src/bootstrap/check.rs", "status": "modified", "additions": 27, "deletions": 9, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2Fbootstrap%2Fcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2Fbootstrap%2Fcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcheck.rs?ref=88cf76a64e1f8d68ce366d0cea340564b26631a7", "patch": "@@ -15,6 +15,7 @@\n \n use std::collections::HashSet;\n use std::env;\n+use std::ffi::OsString;\n use std::iter;\n use std::fmt;\n use std::fs::{self, File};\n@@ -117,14 +118,7 @@ pub fn cargotest(build: &Build, stage: u32, host: &str) {\n \n /// Runs `cargo test` for `cargo` packaged with Rust.\n pub fn cargo(build: &Build, stage: u32, host: &str) {\n-    let ref compiler = Compiler::new(stage, host);\n-\n-    // Configure PATH to find the right rustc. NB. we have to use PATH\n-    // and not RUSTC because the Cargo test suite has tests that will\n-    // fail if rustc is not spelled `rustc`.\n-    let path = build.sysroot(compiler).join(\"bin\");\n-    let old_path = env::var_os(\"PATH\").unwrap_or_default();\n-    let newpath = env::join_paths(iter::once(path).chain(env::split_paths(&old_path))).expect(\"\");\n+    let compiler = &Compiler::new(stage, host);\n \n     let mut cargo = build.cargo(compiler, Mode::Tool, host, \"test\");\n     cargo.arg(\"--manifest-path\").arg(build.src.join(\"src/tools/cargo/Cargo.toml\"));\n@@ -139,7 +133,31 @@ pub fn cargo(build: &Build, stage: u32, host: &str) {\n     // available.\n     cargo.env(\"CFG_DISABLE_CROSS_TESTS\", \"1\");\n \n-    try_run(build, cargo.env(\"PATH\", newpath));\n+    try_run(build, cargo.env(\"PATH\", &path_for_cargo(build, compiler)));\n+}\n+\n+/// Runs `cargo test` for the rls.\n+pub fn rls(build: &Build, stage: u32, host: &str) {\n+    let compiler = &Compiler::new(stage, host);\n+\n+    let mut cargo = build.cargo(compiler, Mode::Tool, host, \"test\");\n+    cargo.arg(\"--manifest-path\").arg(build.src.join(\"src/tools/rls/Cargo.toml\"));\n+\n+    // Don't build tests dynamically, just a pain to work with\n+    cargo.env(\"RUSTC_NO_PREFER_DYNAMIC\", \"1\");\n+\n+    build.add_rustc_lib_path(compiler, &mut cargo);\n+\n+    try_run(build, &mut cargo);\n+}\n+\n+fn path_for_cargo(build: &Build, compiler: &Compiler) -> OsString {\n+    // Configure PATH to find the right rustc. NB. we have to use PATH\n+    // and not RUSTC because the Cargo test suite has tests that will\n+    // fail if rustc is not spelled `rustc`.\n+    let path = build.sysroot(compiler).join(\"bin\");\n+    let old_path = env::var_os(\"PATH\").unwrap_or_default();\n+    env::join_paths(iter::once(path).chain(env::split_paths(&old_path))).expect(\"\")\n }\n \n /// Runs the `tidy` tool as compiled in `stage` by the `host` compiler."}, {"sha": "ad0ee8d47d64351d8d833f004246aed77173d87b", "filename": "src/bootstrap/mk/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2Fbootstrap%2Fmk%2FMakefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2Fbootstrap%2Fmk%2FMakefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fmk%2FMakefile.in?ref=88cf76a64e1f8d68ce366d0cea340564b26631a7", "patch": "@@ -55,7 +55,8 @@ check:\n check-aux:\n \t$(Q)$(BOOTSTRAP) test \\\n \t\tsrc/tools/cargotest \\\n-\t\tcargo \\\n+\t\tsrc/tools/cargo \\\n+\t\tsrc/tools/rls \\\n \t\tsrc/test/pretty \\\n \t\tsrc/test/run-pass/pretty \\\n \t\tsrc/test/run-fail/pretty \\"}, {"sha": "a1b26f44b7de132317834581a4fdddf1eaf05188", "filename": "src/bootstrap/step.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2Fbootstrap%2Fstep.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2Fbootstrap%2Fstep.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fstep.rs?ref=88cf76a64e1f8d68ce366d0cea340564b26631a7", "patch": "@@ -472,10 +472,14 @@ pub fn build_rules<'a>(build: &'a Build) -> Rules {\n          .dep(|s| s.name(\"librustc\"))\n          .host(true)\n          .run(move |s| check::cargotest(build, s.stage, s.target));\n-    rules.test(\"check-cargo\", \"cargo\")\n+    rules.test(\"check-cargo\", \"src/tools/cargo\")\n          .dep(|s| s.name(\"tool-cargo\"))\n          .host(true)\n          .run(move |s| check::cargo(build, s.stage, s.target));\n+    rules.test(\"check-rls\", \"src/tools/rls\")\n+         .dep(|s| s.name(\"tool-rls\"))\n+         .host(true)\n+         .run(move |s| check::rls(build, s.stage, s.target));\n     rules.test(\"check-tidy\", \"src/tools/tidy\")\n          .dep(|s| s.name(\"tool-tidy\").stage(0))\n          .default(true)"}, {"sha": "618f802f0dcebc9f23a527afd3cd228c1fa468f8", "filename": "src/tools/rls", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frls?ref=88cf76a64e1f8d68ce366d0cea340564b26631a7", "patch": "@@ -1 +1 @@\n-Subproject commit 70b89fdd7e5e77a3b88fc68982861d39d155be29\n+Subproject commit 618f802f0dcebc9f23a527afd3cd228c1fa468f8"}, {"sha": "8b7da2267cdedc191fb7e3f9e0e1f64c3368475f", "filename": "src/tools/tidy/src/deps.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88cf76a64e1f8d68ce366d0cea340564b26631a7/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs?ref=88cf76a64e1f8d68ce366d0cea340564b26631a7", "patch": "@@ -32,7 +32,6 @@ static EXCEPTIONS: &'static [&'static str] = &[\n     \"openssl\", // BSD+advertising clause, cargo, mdbook\n     \"pest\", // MPL2, mdbook via handlebars\n     \"thread-id\", // Apache-2.0, mdbook\n-    \"strings\", // this is actually MIT/Apache-2.0 but it's not in the manifest yet\n ];\n \n pub fn check(path: &Path, bad: &mut bool) {"}]}