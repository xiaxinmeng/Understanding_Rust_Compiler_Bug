{"sha": "c670293630611cdf677cfc5bc9a17ba378f78b84", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM2NzAyOTM2MzA2MTFjZGY2NzdjZmM1YmM5YTE3YmEzNzhmNzhiODQ=", "commit": {"author": {"name": "karpinski", "email": "marcinpkarpinski@gmail.com", "date": "2016-11-07T17:38:47Z"}, "committer": {"name": "karpinski", "email": "marcinpkarpinski@gmail.com", "date": "2016-11-08T12:45:07Z"}, "message": "Adding a deprecation warning for no-stack-check codegen option.", "tree": {"sha": "37171dd1f33ea36b08797b75e0de9f23166cadb3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/37171dd1f33ea36b08797b75e0de9f23166cadb3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c670293630611cdf677cfc5bc9a17ba378f78b84", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c670293630611cdf677cfc5bc9a17ba378f78b84", "html_url": "https://github.com/rust-lang/rust/commit/c670293630611cdf677cfc5bc9a17ba378f78b84", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c670293630611cdf677cfc5bc9a17ba378f78b84/comments", "author": {"login": "karpinski", "id": 10697044, "node_id": "MDQ6VXNlcjEwNjk3MDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/10697044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karpinski", "html_url": "https://github.com/karpinski", "followers_url": "https://api.github.com/users/karpinski/followers", "following_url": "https://api.github.com/users/karpinski/following{/other_user}", "gists_url": "https://api.github.com/users/karpinski/gists{/gist_id}", "starred_url": "https://api.github.com/users/karpinski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karpinski/subscriptions", "organizations_url": "https://api.github.com/users/karpinski/orgs", "repos_url": "https://api.github.com/users/karpinski/repos", "events_url": "https://api.github.com/users/karpinski/events{/privacy}", "received_events_url": "https://api.github.com/users/karpinski/received_events", "type": "User", "site_admin": false}, "committer": {"login": "karpinski", "id": 10697044, "node_id": "MDQ6VXNlcjEwNjk3MDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/10697044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karpinski", "html_url": "https://github.com/karpinski", "followers_url": "https://api.github.com/users/karpinski/followers", "following_url": "https://api.github.com/users/karpinski/following{/other_user}", "gists_url": "https://api.github.com/users/karpinski/gists{/gist_id}", "starred_url": "https://api.github.com/users/karpinski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karpinski/subscriptions", "organizations_url": "https://api.github.com/users/karpinski/orgs", "repos_url": "https://api.github.com/users/karpinski/repos", "events_url": "https://api.github.com/users/karpinski/events{/privacy}", "received_events_url": "https://api.github.com/users/karpinski/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c2a1c7f44f1d922812f5e91347f478ad79004b3c", "url": "https://api.github.com/repos/rust-lang/rust/commits/c2a1c7f44f1d922812f5e91347f478ad79004b3c", "html_url": "https://github.com/rust-lang/rust/commit/c2a1c7f44f1d922812f5e91347f478ad79004b3c"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "16522a73f56a514fa2b551f47545edc00014753f", "filename": "src/librustc/session/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c670293630611cdf677cfc5bc9a17ba378f78b84/src%2Flibrustc%2Fsession%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c670293630611cdf677cfc5bc9a17ba378f78b84/src%2Flibrustc%2Fsession%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fconfig.rs?ref=c670293630611cdf677cfc5bc9a17ba378f78b84", "patch": "@@ -2444,4 +2444,4 @@ mod tests {\n         opts.debugging_opts.mir_opt_level = Some(1);\n         assert!(reference.dep_tracking_hash() != opts.dep_tracking_hash());\n     }\n-}\n\\ No newline at end of file\n+}"}, {"sha": "2699682fb3023b972dca1396cfd421061adf6f61", "filename": "src/librustc_driver/lib.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/c670293630611cdf677cfc5bc9a17ba378f78b84/src%2Flibrustc_driver%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c670293630611cdf677cfc5bc9a17ba378f78b84/src%2Flibrustc_driver%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Flib.rs?ref=c670293630611cdf677cfc5bc9a17ba378f78b84", "patch": "@@ -75,7 +75,7 @@ use rustc::dep_graph::DepGraph;\n use rustc::session::{self, config, Session, build_session, CompileResult};\n use rustc::session::config::{Input, PrintRequest, OutputType, ErrorOutputType};\n use rustc::session::config::nightly_options;\n-use rustc::session::early_error;\n+use rustc::session::{early_error, early_warn};\n use rustc::lint::Lint;\n use rustc::lint;\n use rustc_metadata::locator;\n@@ -1011,6 +1011,11 @@ pub fn handle_options(args: &[String]) -> Option<getopts::Matches> {\n         return None;\n     }\n \n+    if cg_flags.iter().any(|x| *x == \"no-stack-check\") {\n+        early_warn(ErrorOutputType::default(),\n+                   \"the --no-stack-check flag is deprecated and does nothing\");\n+    }\n+\n     if cg_flags.contains(&\"passes=list\".to_string()) {\n         unsafe {\n             ::llvm::LLVMRustPrintPasses();"}]}