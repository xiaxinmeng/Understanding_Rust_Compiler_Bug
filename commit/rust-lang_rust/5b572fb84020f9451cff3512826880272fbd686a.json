{"sha": "5b572fb84020f9451cff3512826880272fbd686a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViNTcyZmI4NDAyMGY5NDUxY2ZmMzUxMjgyNjg4MDI3MmZiZDY4NmE=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-11-13T05:03:11Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-11-13T11:20:33Z"}, "message": "Rollup merge of #55840 - dlrobertson:fix_stage0_download, r=alexcrichton\n\nFix TLS errors when downloading stage0\n\nWhile attempting to test #49878 on Windows I hit the following error when attempting to download stage0.\n\n```\nThe request was aborted: Could not create SSL/TLS secure channel\n```\n\nInstead of using the shell, we can just use `urllib`, which seems to fix the issue.", "tree": {"sha": "11540ef49a45d2ac8623e3cd95e3d1772866a517", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/11540ef49a45d2ac8623e3cd95e3d1772866a517"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5b572fb84020f9451cff3512826880272fbd686a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlvqs4EACgkQ/vbIBR0O\nATxloBAAxWHqCQhoX51q0XLYs9y2nVpjt0/KhOVicCqS1AonzdBe43JBX5EBQKWu\nnYrr+sVwuK7z1dVNUL6bfIxsH5/kWedEKppw7ESKqkBTiS+WD9qNOITQacvnd8o7\nvmKPrLRCZxXKoGV7wbOM6Ms+p8HoymPpTOB7hrUagYEasrcShpsI8ECPUnGFtZm7\nnHyyqoHq2kw0S0v5u9B1BmEgHHhmkJs+g6srr8S/3c0ytKsh0HlgU9vL9exPGa91\n2vbOT8iI+QiB4tC9mABqhlhN2xtFAn8FTwWryAYoLdDOS/ttRmrZ1XNmnre35qHu\ngSKrnjOhAmuH/iEUSL8PEcrpagRTzeaD7yrg4PjdUXOtCMbHyR80O1em0EoIozMN\np7GcFqypsvRfVMIHUYcF6uovQlFKd8WFbedDrEWBMngwMD97v3m1fiJdE+DAOf1i\nhJY5GJAyuwAJPZdC9zJaIE8D12lL2PFJgoHFOZI1L/QtdkwRcsHF8x4qLMx8UPBv\n4lUjeM1PgaJY3pFEwBF2zdkvo0afj9Ozqw6JGyo8O/E6IzRkmutQwxtq8kbVPhQg\n8RovCVysk1e8c6w35bEAO2Np8AgDNDwxuSRLYU6eISLNEN+3WyIro0efRYlXwDhI\njqOPQOLg0bW5iWkkwCf91GCFqCMOj5tqUVIzrCk9WT7zgHRm5qU=\n=0Vfy\n-----END PGP SIGNATURE-----", "payload": "tree 11540ef49a45d2ac8623e3cd95e3d1772866a517\nparent f73df10c3912a82849b05a6338a94a10732a4882\nparent c21123818096f599a9f394cd8a1072228d1f1a54\nauthor kennytm <kennytm@gmail.com> 1542085391 +0800\ncommitter kennytm <kennytm@gmail.com> 1542108033 +0800\n\nRollup merge of #55840 - dlrobertson:fix_stage0_download, r=alexcrichton\n\nFix TLS errors when downloading stage0\n\nWhile attempting to test #49878 on Windows I hit the following error when attempting to download stage0.\n\n```\nThe request was aborted: Could not create SSL/TLS secure channel\n```\n\nInstead of using the shell, we can just use `urllib`, which seems to fix the issue.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5b572fb84020f9451cff3512826880272fbd686a", "html_url": "https://github.com/rust-lang/rust/commit/5b572fb84020f9451cff3512826880272fbd686a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5b572fb84020f9451cff3512826880272fbd686a/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f73df10c3912a82849b05a6338a94a10732a4882", "url": "https://api.github.com/repos/rust-lang/rust/commits/f73df10c3912a82849b05a6338a94a10732a4882", "html_url": "https://github.com/rust-lang/rust/commit/f73df10c3912a82849b05a6338a94a10732a4882"}, {"sha": "c21123818096f599a9f394cd8a1072228d1f1a54", "url": "https://api.github.com/repos/rust-lang/rust/commits/c21123818096f599a9f394cd8a1072228d1f1a54", "html_url": "https://github.com/rust-lang/rust/commit/c21123818096f599a9f394cd8a1072228d1f1a54"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "cd48e6aa4c4ba36c1ff14711ec602d416de8141c", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5b572fb84020f9451cff3512826880272fbd686a/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/5b572fb84020f9451cff3512826880272fbd686a/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=5b572fb84020f9451cff3512826880272fbd686a", "patch": "@@ -79,8 +79,8 @@ def _download(path, url, probably_big, verbose, exception):\n     # see http://serverfault.com/questions/301128/how-to-download\n     if sys.platform == 'win32':\n         run([\"PowerShell.exe\", \"/nologo\", \"-Command\",\n-             \"(New-Object System.Net.WebClient)\"\n-             \".DownloadFile('{}', '{}')\".format(url, path)],\n+             \"[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12;\",\n+             \"(New-Object System.Net.WebClient).DownloadFile('{}', '{}')\".format(url, path)],\n             verbose=verbose,\n             exception=exception)\n     else:"}]}