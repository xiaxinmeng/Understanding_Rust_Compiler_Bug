{"sha": "47016f9ce514fd5975a4412259ce3022b877ad3d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ3MDE2ZjljZTUxNGZkNTk3NWE0NDEyMjU5Y2UzMDIyYjg3N2FkM2Q=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2015-04-10T17:02:01Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2015-04-10T17:11:03Z"}, "message": "Test case for 64-bit corner cases where truncation occurred before prior commit.", "tree": {"sha": "52775f0dc7b8493cab001cd9c439b6ea3e4544e5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/52775f0dc7b8493cab001cd9c439b6ea3e4544e5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/47016f9ce514fd5975a4412259ce3022b877ad3d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/47016f9ce514fd5975a4412259ce3022b877ad3d", "html_url": "https://github.com/rust-lang/rust/commit/47016f9ce514fd5975a4412259ce3022b877ad3d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/47016f9ce514fd5975a4412259ce3022b877ad3d/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "781fc902a40001f23d24d76eb799551c308a5900", "url": "https://api.github.com/repos/rust-lang/rust/commits/781fc902a40001f23d24d76eb799551c308a5900", "html_url": "https://github.com/rust-lang/rust/commit/781fc902a40001f23d24d76eb799551c308a5900"}], "stats": {"total": 50, "additions": 50, "deletions": 0}, "files": [{"sha": "33c81cab3817bb6ba26c1260d27dbf1b4a514dba", "filename": "src/test/run-pass/issue-15523-big.rs", "status": "added", "additions": 48, "deletions": 0, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/47016f9ce514fd5975a4412259ce3022b877ad3d/src%2Ftest%2Frun-pass%2Fissue-15523-big.rs", "raw_url": "https://github.com/rust-lang/rust/raw/47016f9ce514fd5975a4412259ce3022b877ad3d/src%2Ftest%2Frun-pass%2Fissue-15523-big.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-15523-big.rs?ref=47016f9ce514fd5975a4412259ce3022b877ad3d", "patch": "@@ -0,0 +1,48 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// Issue 15523: derive(PartialOrd) should use the provided\n+// discriminant values for the derived ordering.\n+//\n+// This test is checking corner cases that arise when you have\n+// 64-bit values in the variants.\n+\n+#[derive(PartialEq, PartialOrd)]\n+#[repr(u64)]\n+enum Eu64 {\n+    Pos2 = 2,\n+    PosMax = !0,\n+    Pos1 = 1,\n+}\n+\n+#[derive(PartialEq, PartialOrd)]\n+#[repr(i64)]\n+enum Ei64 {\n+    Pos2 = 2,\n+    Neg1 = -1,\n+    NegMin = 1 << 63,\n+    PosMax = !(1 << 63),\n+    Pos1 = 1,\n+}\n+\n+fn main() {\n+    assert!(Eu64::Pos2 > Eu64::Pos1);\n+    assert!(Eu64::Pos2 < Eu64::PosMax);\n+    assert!(Eu64::Pos1 < Eu64::PosMax);\n+\n+\n+    assert!(Ei64::Pos2 > Ei64::Pos1);\n+    assert!(Ei64::Pos2 > Ei64::Neg1);\n+    assert!(Ei64::Pos1 > Ei64::Neg1);\n+    assert!(Ei64::Pos2 > Ei64::NegMin);\n+    assert!(Ei64::Pos1 > Ei64::NegMin);\n+    assert!(Ei64::Pos2 < Ei64::PosMax);\n+    assert!(Ei64::Pos1 < Ei64::PosMax);\n+}"}, {"sha": "bb8fa6791a5c41ac26e50e535ec55802d9723ad0", "filename": "src/test/run-pass/issue-15523.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/47016f9ce514fd5975a4412259ce3022b877ad3d/src%2Ftest%2Frun-pass%2Fissue-15523.rs", "raw_url": "https://github.com/rust-lang/rust/raw/47016f9ce514fd5975a4412259ce3022b877ad3d/src%2Ftest%2Frun-pass%2Fissue-15523.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-15523.rs?ref=47016f9ce514fd5975a4412259ce3022b877ad3d", "patch": "@@ -10,6 +10,8 @@\n \n // Issue 15523: derive(PartialOrd) should use the provided\n // discriminant values for the derived ordering.\n+//\n+// This is checking the basic functionality.\n \n #[derive(PartialEq, PartialOrd)]\n enum E1 {"}]}