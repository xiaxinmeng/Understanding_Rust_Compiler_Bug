{"sha": "c568f32f165d86aba51ec544756c3c833acbabd7", "node_id": "C_kwDOAAsO6NoAKGM1NjhmMzJmMTY1ZDg2YWJhNTFlYzU0NDc1NmMzYzgzM2FjYmFiZDc", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-04-09T13:42:12Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-04-09T13:42:12Z"}, "message": "Auto merge of #2060 - RalfJung:rustup, r=RalfJung\n\nrustup\n\nCc https://github.com/rust-lang/rust/issues/95844", "tree": {"sha": "1a6dcf75c0ce35b7c3ad294484a3ac7deeb3ec59", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1a6dcf75c0ce35b7c3ad294484a3ac7deeb3ec59"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c568f32f165d86aba51ec544756c3c833acbabd7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c568f32f165d86aba51ec544756c3c833acbabd7", "html_url": "https://github.com/rust-lang/rust/commit/c568f32f165d86aba51ec544756c3c833acbabd7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c568f32f165d86aba51ec544756c3c833acbabd7/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "be72564a643758afcc1de152ead2359d489149c0", "url": "https://api.github.com/repos/rust-lang/rust/commits/be72564a643758afcc1de152ead2359d489149c0", "html_url": "https://github.com/rust-lang/rust/commit/be72564a643758afcc1de152ead2359d489149c0"}, {"sha": "d2cb11cc152056b6fa682c9925972600c4606d54", "url": "https://api.github.com/repos/rust-lang/rust/commits/d2cb11cc152056b6fa682c9925972600c4606d54", "html_url": "https://github.com/rust-lang/rust/commit/d2cb11cc152056b6fa682c9925972600c4606d54"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "0866489745acde92219a9009661fbac750291a47", "filename": "rust-version", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c568f32f165d86aba51ec544756c3c833acbabd7/rust-version", "raw_url": "https://github.com/rust-lang/rust/raw/c568f32f165d86aba51ec544756c3c833acbabd7/rust-version", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rust-version?ref=c568f32f165d86aba51ec544756c3c833acbabd7", "patch": "@@ -1 +1 @@\n-1a4b9a85634c17a60e8802307510c300a35a4b9b\n+fbdb10f9fabe47eb763cb4b52b5721740cc63783"}, {"sha": "61c72270e9f7e397a3c08ea280f19072860b20e3", "filename": "src/operator.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c568f32f165d86aba51ec544756c3c833acbabd7/src%2Foperator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c568f32f165d86aba51ec544756c3c833acbabd7/src%2Foperator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Foperator.rs?ref=c568f32f165d86aba51ec544756c3c833acbabd7", "patch": "@@ -61,7 +61,7 @@ impl<'mir, 'tcx> EvalContextExt<'tcx> for super::MiriEvalContext<'mir, 'tcx> {\n                 let pointee_ty =\n                     left.layout.ty.builtin_deref(true).expect(\"Offset called on non-ptr type\").ty;\n                 let ptr = self.ptr_offset_inbounds(\n-                    self.scalar_to_ptr(left.to_scalar()?),\n+                    self.scalar_to_ptr(left.to_scalar()?)?,\n                     pointee_ty,\n                     right.to_scalar()?.to_machine_isize(self)?,\n                 )?;"}, {"sha": "8f4e3f578ee9450dfeff1b33c453b354647bb04e", "filename": "src/shims/panic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c568f32f165d86aba51ec544756c3c833acbabd7/src%2Fshims%2Fpanic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c568f32f165d86aba51ec544756c3c833acbabd7/src%2Fshims%2Fpanic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fpanic.rs?ref=c568f32f165d86aba51ec544756c3c833acbabd7", "patch": "@@ -146,7 +146,7 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n \n             // Push the `catch_fn` stackframe.\n             let f_instance =\n-                this.get_ptr_fn(this.scalar_to_ptr(catch_unwind.catch_fn))?.as_instance()?;\n+                this.get_ptr_fn(this.scalar_to_ptr(catch_unwind.catch_fn)?)?.as_instance()?;\n             trace!(\"catch_fn: {:?}\", f_instance);\n             let ret_place = MPlaceTy::dangling(this.machine.layouts.unit).into();\n             this.call_function("}, {"sha": "72898baa4b0a42ebdcf4d0cb81df4d138a663b8b", "filename": "src/shims/posix/linux/sync.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c568f32f165d86aba51ec544756c3c833acbabd7/src%2Fshims%2Fposix%2Flinux%2Fsync.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c568f32f165d86aba51ec544756c3c833acbabd7/src%2Fshims%2Fposix%2Flinux%2Fsync.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fposix%2Flinux%2Fsync.rs?ref=c568f32f165d86aba51ec544756c3c833acbabd7", "patch": "@@ -121,7 +121,7 @@ pub fn futex<'tcx>(\n             // The API requires `addr` to be a 4-byte aligned pointer, and will\n             // use the 4 bytes at the given address as an (atomic) i32.\n             this.check_ptr_access_align(\n-                this.scalar_to_ptr(addr_scalar),\n+                this.scalar_to_ptr(addr_scalar)?,\n                 Size::from_bytes(4),\n                 Align::from_bytes(4).unwrap(),\n                 CheckInAllocMsg::MemoryAccessTest,"}, {"sha": "ceed123c7ac4374d1d8f5daee4d00dbae314f42f", "filename": "src/shims/tls.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c568f32f165d86aba51ec544756c3c833acbabd7/src%2Fshims%2Ftls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c568f32f165d86aba51ec544756c3c833acbabd7/src%2Fshims%2Ftls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Ftls.rs?ref=c568f32f165d86aba51ec544756c3c833acbabd7", "patch": "@@ -249,7 +249,7 @@ trait EvalContextPrivExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n             \"p_thread_callback\",\n         ])?;\n         let thread_callback =\n-            this.get_ptr_fn(this.scalar_to_ptr(thread_callback))?.as_instance()?;\n+            this.get_ptr_fn(this.scalar_to_ptr(thread_callback)?)?.as_instance()?;\n \n         // The signature of this function is `unsafe extern \"system\" fn(h: c::LPVOID, dwReason: c::DWORD, pv: c::LPVOID)`.\n         let reason = this.eval_path_scalar(&[\"std\", \"sys\", \"windows\", \"c\", \"DLL_THREAD_DETACH\"])?;"}]}