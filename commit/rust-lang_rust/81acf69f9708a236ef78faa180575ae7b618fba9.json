{"sha": "81acf69f9708a236ef78faa180575ae7b618fba9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgxYWNmNjlmOTcwOGEyMzZlZjc4ZmFhMTgwNTc1YWU3YjYxOGZiYTk=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-07-14T22:40:43Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-07-15T00:13:12Z"}, "message": "Add head and tail functions to std::ivec\n\nThey even have typestate preconditions", "tree": {"sha": "273c0d9b4daa9ffc91de1bf3ad5e8e060870bd12", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/273c0d9b4daa9ffc91de1bf3ad5e8e060870bd12"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/81acf69f9708a236ef78faa180575ae7b618fba9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/81acf69f9708a236ef78faa180575ae7b618fba9", "html_url": "https://github.com/rust-lang/rust/commit/81acf69f9708a236ef78faa180575ae7b618fba9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/81acf69f9708a236ef78faa180575ae7b618fba9/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "139aaa1616fd341a71f0f11adb4e8850639e228c", "url": "https://api.github.com/repos/rust-lang/rust/commits/139aaa1616fd341a71f0f11adb4e8850639e228c", "html_url": "https://github.com/rust-lang/rust/commit/139aaa1616fd341a71f0f11adb4e8850639e228c"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "10f5e33505b2de018a5716e0ed0bc44ccdb4cc23", "filename": "src/lib/ivec.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/81acf69f9708a236ef78faa180575ae7b618fba9/src%2Flib%2Fivec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81acf69f9708a236ef78faa180575ae7b618fba9/src%2Flib%2Fivec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fivec.rs?ref=81acf69f9708a236ef78faa180575ae7b618fba9", "patch": "@@ -87,6 +87,16 @@ pred is_not_empty[T](&T[mutable?] v) -> bool {\n \n // Accessors\n \n+/// Returns the first element of a vector\n+fn head[T](&T[mutable?] v) : is_not_empty(v) -> T {\n+    ret v.(0);\n+}\n+\n+/// Returns all but the first element of a vector\n+fn tail[T](&T[mutable?] v) : is_not_empty(v) -> T[mutable?] {\n+    ret slice(v, 1u, len(v));\n+}\n+\n /// Returns the last element of `v`.\n fn last[T](&T[mutable?] v) -> option::t[T] {\n     if (len(v) == 0u) { ret none; }"}, {"sha": "6de08db33b83cfcb04cacacb8f1a28a29906c4c1", "filename": "src/test/run-pass/lib-ivec.rs", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/81acf69f9708a236ef78faa180575ae7b618fba9/src%2Ftest%2Frun-pass%2Flib-ivec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81acf69f9708a236ef78faa180575ae7b618fba9/src%2Ftest%2Frun-pass%2Flib-ivec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Flib-ivec.rs?ref=81acf69f9708a236ef78faa180575ae7b618fba9", "patch": "@@ -94,6 +94,22 @@ fn test_is_not_empty() {\n     assert !ivec::is_not_empty[int](~[]);\n }\n \n+fn test_head() {\n+    auto a = ~[11, 12];\n+    check ivec::is_not_empty(a);\n+    assert ivec::head(a) == 11;\n+}\n+\n+fn test_tail() {\n+    auto a = ~[11];\n+    check ivec::is_not_empty(a);\n+    assert ivec::tail(a) == ~[];\n+\n+    a = ~[11, 12];\n+    check ivec::is_not_empty(a);\n+    assert ivec::tail(a) == ~[12];\n+}\n+\n fn test_last() {\n     auto n = ivec::last(~[]);\n     assert (n == none);\n@@ -257,6 +273,8 @@ fn main() {\n     // Accessors\n     test_init_fn();\n     test_init_elt();\n+    test_head();\n+    test_tail();\n     test_last();\n     test_slice();\n "}]}