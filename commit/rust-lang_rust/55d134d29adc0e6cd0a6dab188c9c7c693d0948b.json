{"sha": "55d134d29adc0e6cd0a6dab188c9c7c693d0948b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU1ZDEzNGQyOWFkYzBlNmNkMGE2ZGFiMTg4YzljN2M2OTNkMDk0OGI=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-10-20T21:27:56Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-10-20T21:32:44Z"}, "message": "Some tweaks to the valgrind makefile code\n\nThis reenables valgrinding of the compiler and prints a message\nwhen the user _is_ valgrinding", "tree": {"sha": "f29e386ef5ce05cc050e48eeb435ed175ac68d55", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f29e386ef5ce05cc050e48eeb435ed175ac68d55"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/55d134d29adc0e6cd0a6dab188c9c7c693d0948b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/55d134d29adc0e6cd0a6dab188c9c7c693d0948b", "html_url": "https://github.com/rust-lang/rust/commit/55d134d29adc0e6cd0a6dab188c9c7c693d0948b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/55d134d29adc0e6cd0a6dab188c9c7c693d0948b/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c05d96c191085689459aebed719fa5f3ab1fa955", "url": "https://api.github.com/repos/rust-lang/rust/commits/c05d96c191085689459aebed719fa5f3ab1fa955", "html_url": "https://github.com/rust-lang/rust/commit/c05d96c191085689459aebed719fa5f3ab1fa955"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "fb674878f556f3aa4aebc95fee2d8274516fd8ff", "filename": "Makefile.in", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/55d134d29adc0e6cd0a6dab188c9c7c693d0948b/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/55d134d29adc0e6cd0a6dab188c9c7c693d0948b/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=55d134d29adc0e6cd0a6dab188c9c7c693d0948b", "patch": "@@ -144,8 +144,9 @@ ifneq ($(wildcard $(CFG_GIT_DIR)),)\n endif\n endif\n \n-ifdef CFG_DISABLE_VALGRIND\n-  $(info cfg: disabling valgrind (CFG_DISABLE_VALGRIND))\n+ifdef CFG_ENABLE_VALGRIND\n+  $(info cfg: enabling valgrind (CFG_ENABLE_VALGRIND))\n+else\n   CFG_VALGRIND :=\n endif\n ifdef CFG_BAD_VALGRIND\n@@ -368,7 +369,7 @@ endif\n \n STAGE$(1)_T_$(2)_H_$(3) := \t\t\t\t\t\t\\\n \t$$(Q)$$(call CFG_RUN_TARG,$(1),\t\t\t\t\\\n-## \t\t$$(CFG_VALGRIND_COMPILE$(1)) \t\t\t\\\n+\t\t$$(CFG_VALGRIND_COMPILE$(1)) \t\t\t\\\n \t\t$$(HBIN$(1)_H_$(3))/rustc$$(X)\t\t\t\\\n \t\t--cfg $$(CFGFLAG$(1)_T_$(2)_H_$(3))\t\t\t\\\n \t\t$$(CFG_RUSTC_FLAGS) $$(EXTRAFLAGS_STAGE$(1)) --target=$(2))"}]}