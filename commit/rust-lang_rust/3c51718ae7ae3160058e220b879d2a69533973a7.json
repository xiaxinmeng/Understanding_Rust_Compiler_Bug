{"sha": "3c51718ae7ae3160058e220b879d2a69533973a7", "node_id": "C_kwDOAAsO6NoAKDNjNTE3MThhZTdhZTMxNjAwNThlMjIwYjg3OWQyYTY5NTMzOTczYTc", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-12-01T16:41:52Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-12-01T16:41:52Z"}, "message": "Auto merge of #91275 - camelid:deny-test-warnings, r=jyn514\n\nDeny warnings in rustdoc non-UI tests\n\nThese warnings were silently ignored since they did not appear in a\n`.stderr` file and did not fail the test. With this change, warnings in\ntests are denied, causing the tests to fail if they have warnings.\n\nThis change has already led me to find a bug in rustdoc (#91274) and a\nuseless test (`src/test/rustdoc/primitive/primitive-generic-impl.rs`,\nthough its uselessness is unrelated to its warnings).\n\nr? `@jyn514`", "tree": {"sha": "0472f31a7523826bd9ae4d9a2af2a4312b95aeb6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0472f31a7523826bd9ae4d9a2af2a4312b95aeb6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3c51718ae7ae3160058e220b879d2a69533973a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3c51718ae7ae3160058e220b879d2a69533973a7", "html_url": "https://github.com/rust-lang/rust/commit/3c51718ae7ae3160058e220b879d2a69533973a7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3c51718ae7ae3160058e220b879d2a69533973a7/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f04a2f4b8e89eac1119061ea2055d33c97e618b4", "url": "https://api.github.com/repos/rust-lang/rust/commits/f04a2f4b8e89eac1119061ea2055d33c97e618b4", "html_url": "https://github.com/rust-lang/rust/commit/f04a2f4b8e89eac1119061ea2055d33c97e618b4"}, {"sha": "ac88bb7525bd4971fdacc25b8f1202b0204f338b", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac88bb7525bd4971fdacc25b8f1202b0204f338b", "html_url": "https://github.com/rust-lang/rust/commit/ac88bb7525bd4971fdacc25b8f1202b0204f338b"}], "stats": {"total": 184, "additions": 118, "deletions": 66}, "files": [{"sha": "1ee1c34aa1562472b8892428ba001b4835b14c60", "filename": "src/test/rustdoc-js/summaries.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc-js%2Fsummaries.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc-js%2Fsummaries.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-js%2Fsummaries.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,8 @@\n #![crate_type = \"lib\"]\n #![crate_name = \"summaries\"]\n \n+#![allow(rustdoc::broken_intra_doc_links)]\n+\n //! This *summary* has a [link], [`code`], and [`Sidebar2`] intra-doc.\n //!\n //! This is the second paragraph. It should not be rendered."}, {"sha": "5c4a01ee3a74a5e18c59c10b6a318e73da165447", "filename": "src/test/rustdoc-ui/intra-doc/auxiliary/through-proc-macro-aux.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fauxiliary%2Fthrough-proc-macro-aux.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fauxiliary%2Fthrough-proc-macro-aux.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fauxiliary%2Fthrough-proc-macro-aux.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "previous_filename": "src/test/rustdoc/intra-doc/auxiliary/through-proc-macro-aux.rs"}, {"sha": "7628c3928fec70d01e8525334819d55137402a16", "filename": "src/test/rustdoc-ui/intra-doc/through-proc-macro.rs", "status": "renamed", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fthrough-proc-macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fthrough-proc-macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fthrough-proc-macro.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,11 +1,17 @@\n+// check-pass\n // aux-build:through-proc-macro-aux.rs\n // build-aux-docs\n-#![warn(broken_intra_doc_links)]\n+\n+// Ensure rustdoc doesn't panic on this code.\n+\n+#![warn(rustdoc::broken_intra_doc_links)]\n+\n extern crate some_macros;\n \n #[some_macros::second]\n pub enum Boom {\n     /// [Oooops]\n+    //~^ WARNING unresolved link to `Oooops`\n     Bam,\n }\n ", "previous_filename": "src/test/rustdoc/intra-doc/through-proc-macro.rs"}, {"sha": "f0a7ed1785b43b39ed46f050d18749780f7e6514", "filename": "src/test/rustdoc-ui/intra-doc/through-proc-macro.stderr", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fthrough-proc-macro.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fthrough-proc-macro.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fthrough-proc-macro.stderr?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -0,0 +1,15 @@\n+warning: unresolved link to `Oooops`\n+  --> $DIR/through-proc-macro.rs:13:10\n+   |\n+LL |     /// [Oooops]\n+   |          ^^^^^^ no item named `Oooops` in scope\n+   |\n+note: the lint level is defined here\n+  --> $DIR/through-proc-macro.rs:7:9\n+   |\n+LL | #![warn(rustdoc::broken_intra_doc_links)]\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n+\n+warning: 1 warning emitted\n+"}, {"sha": "172333d445d8533450b4dffb2050dea910fa7e15", "filename": "src/test/rustdoc/auto-impl-primitive.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fauto-impl-primitive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fauto-impl-primitive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fauto-impl-primitive.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,7 @@\n+#![feature(rustdoc_internals)]\n+\n #![crate_name = \"foo\"]\n+\n pub use std::fs::File;\n \n // @has 'foo/primitive.i16.html' '//h2[@id=\"synthetic-implementations\"]' 'Auto Trait Implementation'"}, {"sha": "9ec089fd7ad1386437fa75f8e5a6331d2e6037ad", "filename": "src/test/rustdoc/bad-codeblock-syntax.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fbad-codeblock-syntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fbad-codeblock-syntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fbad-codeblock-syntax.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,3 +1,5 @@\n+#![allow(rustdoc::invalid_rust_codeblocks)]\n+\n // @has bad_codeblock_syntax/fn.foo.html\n // @has - '//*[@class=\"docblock\"]' '\\_'\n /// ```"}, {"sha": "ca4179d403d691362100d0342f1380c6180ecadb", "filename": "src/test/rustdoc/check-source-code-urls-to-def.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fcheck-source-code-urls-to-def.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fcheck-source-code-urls-to-def.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fcheck-source-code-urls-to-def.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -2,6 +2,8 @@\n // aux-build:source_code.rs\n // build-aux-docs\n \n+#![feature(rustdoc_internals)]\n+\n #![crate_name = \"foo\"]\n \n extern crate source_code;\n@@ -29,21 +31,20 @@ fn babar() {}\n // @has - '//a/@href' '/struct.String.html'\n // @has - '//a/@href' '/primitive.u32.html'\n // @has - '//a/@href' '/primitive.str.html'\n-// @count - '//a[@href=\"../../src/foo/check-source-code-urls-to-def.rs.html#21\"]' 5\n+// @count - '//a[@href=\"../../src/foo/check-source-code-urls-to-def.rs.html#23\"]' 5\n // @has - '//a[@href=\"../../source_code/struct.SourceCode.html\"]' 'source_code::SourceCode'\n pub fn foo(a: u32, b: &str, c: String, d: Foo, e: bar::Bar, f: source_code::SourceCode) {\n     let x = 12;\n     let y: Foo = Foo;\n     let z: Bar = bar::Bar { field: Foo };\n     babar();\n-    // @has - '//a[@href=\"../../src/foo/check-source-code-urls-to-def.rs.html#24\"]' 'hello'\n+    // @has - '//a[@href=\"../../src/foo/check-source-code-urls-to-def.rs.html#26\"]' 'hello'\n     y.hello();\n }\n \n // @has - '//a[@href=\"../../src/foo/auxiliary/source-code-bar.rs.html#14-16\"]' 'bar::sub::Trait'\n // @has - '//a[@href=\"../../src/foo/auxiliary/source-code-bar.rs.html#14-16\"]' 'Trait'\n-pub fn foo2<T: bar::sub::Trait, V: Trait>(t: &T, v: &V, b: bool) {\n-}\n+pub fn foo2<T: bar::sub::Trait, V: Trait>(t: &T, v: &V, b: bool) {}\n \n // @has - '//a[@href=\"../../foo/primitive.bool.html\"]' 'bool'\n #[doc(primitive = \"bool\")]"}, {"sha": "cda900773abfa5968d84545d550863567c41af55", "filename": "src/test/rustdoc/const-generics/const-impl.rs", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fconst-generics%2Fconst-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fconst-generics%2Fconst-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fconst-generics%2Fconst-impl.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,3 +1,5 @@\n+#![allow(incomplete_features)]\n+\n #![feature(adt_const_params)]\n \n #![crate_name = \"foo\"]\n@@ -15,23 +17,23 @@ pub struct VSet<T, const ORDER: Order> {\n     inner: Vec<T>,\n }\n \n-// @has foo/struct.VSet.html '//div[@id=\"impl\"]/h3[@class=\"code-header in-band\"]' 'impl<T> VSet<T, {Order::Sorted}>'\n-impl <T> VSet<T, {Order::Sorted}> {\n+// @has foo/struct.VSet.html '//div[@id=\"impl\"]/h3[@class=\"code-header in-band\"]' 'impl<T> VSet<T, { Order::Sorted }>'\n+impl<T> VSet<T, { Order::Sorted }> {\n     pub fn new() -> Self {\n         Self { inner: Vec::new() }\n     }\n }\n \n-// @has foo/struct.VSet.html '//div[@id=\"impl-1\"]/h3[@class=\"code-header in-band\"]' 'impl<T> VSet<T, {Order::Unsorted}>'\n-impl <T> VSet<T, {Order::Unsorted}> {\n+// @has foo/struct.VSet.html '//div[@id=\"impl-1\"]/h3[@class=\"code-header in-band\"]' 'impl<T> VSet<T, { Order::Unsorted }>'\n+impl<T> VSet<T, { Order::Unsorted }> {\n     pub fn new() -> Self {\n         Self { inner: Vec::new() }\n     }\n }\n \n pub struct Escape<const S: &'static str>;\n \n-// @has foo/struct.Escape.html '//div[@id=\"impl\"]/h3[@class=\"code-header in-band\"]' 'impl Escape<{ r#\"<script>alert(\"Escape\");</script>\"# }>'\n-impl Escape<{ r#\"<script>alert(\"Escape\");</script>\"# }> {\n+// @has foo/struct.Escape.html '//div[@id=\"impl\"]/h3[@class=\"code-header in-band\"]' 'impl Escape<r#\"<script>alert(\"Escape\");</script>\"#>'\n+impl Escape<r#\"<script>alert(\"Escape\");</script>\"#> {\n     pub fn f() {}\n }"}, {"sha": "6d0e339c48dc5815ee6d613f359f1e72e7b8febd", "filename": "src/test/rustdoc/default-trait-method.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fdefault-trait-method.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fdefault-trait-method.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fdefault-trait-method.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![feature(specialization)]\n+#![feature(min_specialization)]\n \n // @has default_trait_method/trait.Item.html\n // @has - '//*[@id=\"tymethod.foo\"]' 'fn foo()'"}, {"sha": "8b2b7870c25f73b8f5e1cec66522b9b3466afefc", "filename": "src/test/rustdoc/doc-cfg.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fdoc-cfg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fdoc-cfg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fdoc-cfg.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -96,6 +96,6 @@ pub fn uses_cfg_target_feature() {\n // @has doc_cfg/fn.multiple_attrs.html \\\n //  '//*[@id=\"main\"]/*[@class=\"item-info\"]/*[@class=\"stab portability\"]' \\\n //  'This is supported on x and y and z only.'\n-#[doc(inline, cfg(x))]\n+#[doc(cfg(x))]\n #[doc(cfg(y), cfg(z))]\n pub fn multiple_attrs() {}"}, {"sha": "c7e66c826be1e71dea0a27b84c32f0559741e5f5", "filename": "src/test/rustdoc/intra-doc/associated-defaults.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fassociated-defaults.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fassociated-defaults.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fassociated-defaults.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(intra_doc_link_resolution_failure)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n #![feature(associated_type_defaults)]\n \n pub trait TraitWithDefault {"}, {"sha": "9b70ea054ad754668828393621aadd95fa0e39a3", "filename": "src/test/rustdoc/intra-doc/associated-items.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fassociated-items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fassociated-items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fassociated-items.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(intra_doc_link_resolution_failure)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n /// [`std::collections::BTreeMap::into_iter`]\n /// [`String::from`] is ambiguous as to which `From` impl"}, {"sha": "bb70073fc69866d5dc6687d3776e8b4116ac1ca6", "filename": "src/test/rustdoc/intra-doc/auxiliary/my-core.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fauxiliary%2Fmy-core.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fauxiliary%2Fmy-core.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fauxiliary%2Fmy-core.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![feature(no_core, lang_items)]\n+#![feature(no_core, lang_items, rustdoc_internals)]\n #![no_core]\n #![crate_type=\"rlib\"]\n "}, {"sha": "e52fb9b1c9fd6775eb3771ffb3d3e0b7599a2874", "filename": "src/test/rustdoc/intra-doc/cross-crate/additional_doc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fadditional_doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fadditional_doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fadditional_doc.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,6 @@\n // aux-build:additional_doc.rs\n // build-aux-docs\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n extern crate my_rand;\n "}, {"sha": "684fdd449b835857d066908459120c8013c6ec66", "filename": "src/test/rustdoc/intra-doc/cross-crate/auxiliary/additional_doc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fadditional_doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fadditional_doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fadditional_doc.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"my_rand\"]\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n pub trait RngCore {}\n /// Rng extends [`RngCore`]."}, {"sha": "34f4e9f635f8d18e51fcfe115bc432c5b0e8813e", "filename": "src/test/rustdoc/intra-doc/cross-crate/auxiliary/hidden.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fhidden.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fhidden.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fhidden.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"hidden_dep\"]\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n #[doc(hidden)]\n pub mod __reexport {"}, {"sha": "d6a82996689c3ce494ac68d02eec88b32ba06762", "filename": "src/test/rustdoc/intra-doc/cross-crate/auxiliary/intra-doc-basic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fintra-doc-basic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fintra-doc-basic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fintra-doc-basic.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"a\"]\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n pub struct Foo;\n "}, {"sha": "cb7a8afb60eafd7dcf12d1b75777d13f0a70351d", "filename": "src/test/rustdoc/intra-doc/cross-crate/auxiliary/macro_inner.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fmacro_inner.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fmacro_inner.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fmacro_inner.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"macro_inner\"]\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n pub struct Foo;\n "}, {"sha": "018fdedd9edcad41ba47e551092d3d81e131e2c0", "filename": "src/test/rustdoc/intra-doc/cross-crate/auxiliary/module.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fmodule.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fmodule.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fmodule.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"module_inner\"]\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n /// [SomeType] links to [bar]\n pub struct SomeType;\n pub trait SomeTrait {}"}, {"sha": "0612f53d6a7062ff05cb8eb0a2a0913a16d54c8b", "filename": "src/test/rustdoc/intra-doc/cross-crate/auxiliary/submodule-inner.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fsubmodule-inner.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fsubmodule-inner.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fsubmodule-inner.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"a\"]\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n pub mod bar {\n    pub struct Bar;"}, {"sha": "105eb8e112018d55301c5876774b979182803304", "filename": "src/test/rustdoc/intra-doc/cross-crate/auxiliary/submodule-outer.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fsubmodule-outer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fsubmodule-outer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fauxiliary%2Fsubmodule-outer.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"bar\"]\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n pub trait Foo {\n     /// [`Bar`] [`Baz`]"}, {"sha": "ad7454918b4e50e04f4b634045821c94e2dac925", "filename": "src/test/rustdoc/intra-doc/cross-crate/basic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fbasic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fbasic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fbasic.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,6 @@\n // aux-build:intra-doc-basic.rs\n // build-aux-docs\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n // from https://github.com/rust-lang/rust/issues/65983\n extern crate a;"}, {"sha": "4f7d075ba481a0f8107a3126c3d73fa9b2eaf6fd", "filename": "src/test/rustdoc/intra-doc/cross-crate/hidden.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fhidden.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fhidden.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fhidden.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,6 @@\n // aux-build:hidden.rs\n // build-aux-docs\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n // tests https://github.com/rust-lang/rust/issues/73363\n "}, {"sha": "32f0a55d3c6e5280c13cf0b44ca93993e02b2135", "filename": "src/test/rustdoc/intra-doc/cross-crate/macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fmacro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fmacro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fmacro.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,7 +1,7 @@\n // aux-build:macro_inner.rs\n // aux-build:proc_macro.rs\n // build-aux-docs\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n extern crate macro_inner;\n extern crate proc_macro_inner;\n "}, {"sha": "fde9322657d11cf74e03332694f764b96a3b6c32", "filename": "src/test/rustdoc/intra-doc/cross-crate/module.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fmodule.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fmodule.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fmodule.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,7 +1,7 @@\n // outer.rs\n // aux-build: module.rs\n // build-aux-docs\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n extern crate module_inner;\n // @has 'module/bar/index.html' '//a[@href=\"../../module_inner/trait.SomeTrait.html\"]' 'SomeTrait'\n // @has 'module/bar/index.html' '//a[@href=\"../../module_inner/struct.SomeType.html\"]' 'SomeType'"}, {"sha": "577fe78a50896aebb1744d538d6b3982a237faf0", "filename": "src/test/rustdoc/intra-doc/cross-crate/submodule-inner.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fsubmodule-inner.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fsubmodule-inner.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fsubmodule-inner.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,6 @@\n // aux-build:submodule-inner.rs\n // build-aux-docs\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n extern crate a;\n "}, {"sha": "d0c0b7e85ae2e4427e39cd8948b9eb1e190a8662", "filename": "src/test/rustdoc/intra-doc/cross-crate/submodule-outer.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fsubmodule-outer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fsubmodule-outer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Fsubmodule-outer.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,6 @@\n // aux-build:submodule-outer.rs\n // edition:2018\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n extern crate bar as bar_;\n "}, {"sha": "7b9554bfdb070d8b6b2c70da79fbded6a6db4c50", "filename": "src/test/rustdoc/intra-doc/cross-crate/traits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Ftraits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Ftraits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fcross-crate%2Ftraits.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,6 @@\n // aux-build:traits.rs\n // build-aux-docs\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n extern crate inner;\n use inner::SomeTrait;"}, {"sha": "331a314130afb7f2cc4f66ed72a307ee811881a8", "filename": "src/test/rustdoc/intra-doc/disambiguators-removed.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fdisambiguators-removed.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fdisambiguators-removed.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fdisambiguators-removed.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(intra_doc_link_resolution_failure)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n // first try backticks\n /// Trait: [`trait@Name`], fn: [`fn@Name`], [`Name`][`macro@Name`]\n // @has disambiguators_removed/struct.AtDisambiguator.html"}, {"sha": "ae74fbbc892bbeab685cdd652ab95e8a80e4e5a9", "filename": "src/test/rustdoc/intra-doc/email-address.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Femail-address.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Femail-address.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Femail-address.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,3 +1,5 @@\n+#![allow(rustdoc::broken_intra_doc_links)]\n+\n //! Email me at <hello@example.com>.\n //! Email me at <hello-world@example.com>.\n //! Email me at <hello@localhost> (this warns but will still become a link)."}, {"sha": "4e4438dea038ec6e1458ddcd045dba40f9424ebd", "filename": "src/test/rustdoc/intra-doc/extern-crate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fextern-crate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fextern-crate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fextern-crate.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -4,6 +4,6 @@\n // though they would never actually get displayed. This tripped intra-doc-link resolution failures,\n // for items that aren't under our control, and not actually getting documented!\n \n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n extern crate inner;"}, {"sha": "a0a66f242c9f5054e09833a4eddac6dce82ba5c2", "filename": "src/test/rustdoc/intra-doc/external-traits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fexternal-traits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fexternal-traits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fexternal-traits.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -2,7 +2,7 @@\n // ignore-cross-compile\n \n #![crate_name = \"outer\"]\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n // using a trait that has intra-doc links on it from another crate (whether re-exporting or just\n // implementing it) used to give spurious resolution failure warnings"}, {"sha": "55169e5d3c4593cc8d3926acbd2e57a1981705bc", "filename": "src/test/rustdoc/intra-doc/in-bodies.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fin-bodies.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fin-bodies.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fin-bodies.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,6 @@\n // we need to make sure that intra-doc links on trait impls get resolved in the right scope\n \n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n pub mod inner {\n     pub struct SomethingOutOfScope;"}, {"sha": "a5fe855cb3681d187feb1440fa9d1667c4ec98d9", "filename": "src/test/rustdoc/intra-doc/issue-82209.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fissue-82209.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fissue-82209.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fissue-82209.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,5 @@\n #![crate_name = \"foo\"]\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n pub enum Foo {\n     Bar {\n         abc: i32,"}, {"sha": "6c41eb2b5b7c3be47ca6198e10ec9cef0994073b", "filename": "src/test/rustdoc/intra-doc/libstd-re-export.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Flibstd-re-export.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Flibstd-re-export.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Flibstd-re-export.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n #![feature(intra_doc_pointers)]\n \n pub use std::*;"}, {"sha": "0c7acbaf09329edd4e3af0f46cb9b190af896faa", "filename": "src/test/rustdoc/intra-doc/mod-ambiguity.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fmod-ambiguity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fmod-ambiguity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fmod-ambiguity.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n \n pub fn foo() {"}, {"sha": "dfa7db8a55894c884b9bbcc3752fff5535032c64", "filename": "src/test/rustdoc/intra-doc/prim-assoc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-assoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-assoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-assoc.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n //! [i32::MAX]\n // @has prim_assoc/index.html '//a[@href=\"{{channel}}/std/primitive.i32.html#associatedconstant.MAX\"]' \"i32::MAX\""}, {"sha": "47ac953f266099077066d61ba68153292cccb605", "filename": "src/test/rustdoc/intra-doc/prim-methods-external-core.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods-external-core.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods-external-core.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods-external-core.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -3,7 +3,7 @@\n // ignore-cross-compile\n // only-linux\n \n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n #![feature(no_core, lang_items)]\n #![no_core]\n #![crate_type = \"rlib\"]"}, {"sha": "266bfa2073182e6dade9ee49251492e839e4c63f", "filename": "src/test/rustdoc/intra-doc/prim-methods-local.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods-local.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods-local.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods-local.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,5 @@\n-#![deny(broken_intra_doc_links)]\n-#![feature(no_core, lang_items)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n+#![feature(no_core, lang_items, rustdoc_internals)]\n #![no_core]\n #![crate_type = \"rlib\"]\n "}, {"sha": "a9c5d7d4247cef5d3641e84c20aef9f50c5b40d6", "filename": "src/test/rustdoc/intra-doc/prim-methods.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n \n // @has prim_methods/index.html"}, {"sha": "25625b95277feabbe3e9dfd93b714ff20ebfe8c1", "filename": "src/test/rustdoc/intra-doc/prim-precedence.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-precedence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-precedence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-precedence.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n pub mod char {\n     /// [char]"}, {"sha": "adcab767d0b947ed5c3f855b53952f633be65d74", "filename": "src/test/rustdoc/intra-doc/primitive-disambiguators.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprimitive-disambiguators.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprimitive-disambiguators.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprimitive-disambiguators.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n // @has primitive_disambiguators/index.html\n // @has - '//a/@href' '{{channel}}/std/primitive.str.html#method.trim'\n //! [str::trim()]"}, {"sha": "474bf347750bd6d78b9c98b756b1f3f79ec116e3", "filename": "src/test/rustdoc/intra-doc/primitive-non-default-impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprimitive-non-default-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprimitive-non-default-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprimitive-non-default-impl.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n \n // @has primitive_non_default_impl/fn.str_methods.html"}, {"sha": "b272bfb5a4df2515b315b9da40296247e3abe4e0", "filename": "src/test/rustdoc/intra-doc/private-failures-ignored.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprivate-failures-ignored.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprivate-failures-ignored.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprivate-failures-ignored.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -2,7 +2,7 @@\n // These failures were legitimate, but not truly relevant - the docs in question couldn't be\n // checked for accuracy anyway.\n \n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n /// ooh, i'm a [rebel] just for kicks\n struct SomeStruct;"}, {"sha": "349091e9300bcfcb4bc20dcfef9ccfe95d840c7a", "filename": "src/test/rustdoc/intra-doc/private.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprivate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprivate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprivate.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,8 +1,11 @@\n-#![crate_name = \"private\"]\n // compile-flags: --document-private-items\n \n // make sure to update `rustdoc-ui/intra-doc/private.rs` if you update this file\n \n+#![allow(rustdoc::private_intra_doc_links)]\n+\n+#![crate_name = \"private\"]\n+\n /// docs [DontDocMe] [DontDocMe::f] [DontDocMe::x]\n // @has private/struct.DocMe.html '//*a[@href=\"struct.DontDocMe.html\"]' 'DontDocMe'\n // @has private/struct.DocMe.html '//*a[@href=\"struct.DontDocMe.html#method.f\"]' 'DontDocMe::f'"}, {"sha": "78379a90285fe42b83ff312eb64a60155bd5fd72", "filename": "src/test/rustdoc/intra-doc/proc-macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fproc-macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fproc-macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fproc-macro.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,6 @@\n // aux-build:proc-macro-macro.rs\n // build-aux-docs\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n extern crate proc_macro_macro;\n "}, {"sha": "0c70cdee91462aacf6fcb4d1d6499b7d1f451e53", "filename": "src/test/rustdoc/intra-doc/pub-use.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fpub-use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fpub-use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fpub-use.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,5 @@\n // aux-build: intra-link-pub-use.rs\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n #![crate_name = \"outer\"]\n \n extern crate inner;"}, {"sha": "1ed33db9300b692574a6f7dca673c3546759e155", "filename": "src/test/rustdoc/intra-doc/raw-ident-self.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fraw-ident-self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Fraw-ident-self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fraw-ident-self.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n pub mod r#impl {\n     pub struct S;\n "}, {"sha": "e95dba33b5fd97153d671081d770184ef8a553b3", "filename": "src/test/rustdoc/intra-doc/trait-item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Ftrait-item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Ftrait-item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Ftrait-item.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n \n /// Link to [S::assoc_fn()]\n /// Link to [Default::default()]"}, {"sha": "be9b3e420b7ad2a8aa05d0625fed6d5b38a7ce96", "filename": "src/test/rustdoc/intra-doc/true-false.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Ftrue-false.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Ftrue-false.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Ftrue-false.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,4 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n #![crate_name = \"foo\"]\n \n "}, {"sha": "6c52082a2776e32d9ecd93885d159d6bd8b67f2b", "filename": "src/test/rustdoc/intra-doc/type-alias.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Ftype-alias.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-doc%2Ftype-alias.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Ftype-alias.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,6 @@\n // Regression test for issue #86120.\n \n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n #![crate_name = \"foo\"]\n \n pub struct Foo;"}, {"sha": "8a564acf2ca4bb356a0e5bc01cd5b103c62a3be3", "filename": "src/test/rustdoc/intra-link-prim-self.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-link-prim-self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fintra-link-prim-self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-link-prim-self.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,7 @@\n-#![deny(broken_intra_doc_links)]\n+#![deny(rustdoc::broken_intra_doc_links)]\n #![feature(lang_items)]\n #![feature(no_core)]\n+#![feature(rustdoc_internals)]\n #![no_core]\n \n #[lang = \"usize\"]"}, {"sha": "9605a1e78c105dedfaa2e56f9d3e984e9e8f73a9", "filename": "src/test/rustdoc/issue-12834.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fissue-12834.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fissue-12834.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-12834.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,6 +1,7 @@\n // Tests that failing to syntax highlight a rust code-block doesn't cause\n // rustdoc to fail, while still rendering the code-block (without highlighting).\n \n+#![allow(rustdoc::invalid_rust_codeblocks)]\n \n // @has issue_12834/fn.foo.html\n // @has - //pre 'a + b '"}, {"sha": "2fadc26b006206d8e740c667887f0747e17de79f", "filename": "src/test/rustdoc/issue-15318-3.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fissue-15318-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fissue-15318-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-15318-3.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,3 +1,5 @@\n+#![feature(rustdoc_internals)]\n+\n // @has issue_15318_3/primitive.pointer.html\n \n /// dox"}, {"sha": "6d421f3c2531ae1f09004293426f10f6f9090837", "filename": "src/test/rustdoc/issue-23511.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fissue-23511.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fissue-23511.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-23511.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,4 +1,5 @@\n #![feature(lang_items)]\n+#![feature(rustdoc_internals)]\n #![no_std]\n \n pub mod str {"}, {"sha": "a5394c7d92a9662672186d0501cb7ce65bdd5c3f", "filename": "src/test/rustdoc/issue-42760.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fissue-42760.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fissue-42760.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-42760.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,3 +1,5 @@\n+#![allow(rustdoc::invalid_rust_codeblocks)]\n+\n // @has issue_42760/struct.NonGen.html\n // @has - '//h2' 'Example'\n "}, {"sha": "767d09d85588810a26cada8dcbcb11b5e40846da", "filename": "src/test/rustdoc/issue-43869.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fissue-43869.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fissue-43869.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-43869.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -2,6 +2,7 @@ pub fn g() -> impl Iterator<Item=u8> {\n     Some(1u8).into_iter()\n }\n \n+#[allow(unused_parens)]\n pub fn h() -> (impl Iterator<Item=u8>) {\n     Some(1u8).into_iter()\n }"}, {"sha": "01aa8d00b707b58076fd2b97b69b5a909a244704", "filename": "src/test/rustdoc/link-title-escape.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Flink-title-escape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Flink-title-escape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Flink-title-escape.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,3 +1,5 @@\n+#![allow(rustdoc::broken_intra_doc_links)]\n+\n #![crate_name = \"foo\"]\n \n //! hello [foo]"}, {"sha": "0bf6157fed34825ab136423c09fd2ae0e25a7a9e", "filename": "src/test/rustdoc/primitive-generic-impl.rs", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f04a2f4b8e89eac1119061ea2055d33c97e618b4/src%2Ftest%2Frustdoc%2Fprimitive-generic-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f04a2f4b8e89eac1119061ea2055d33c97e618b4/src%2Ftest%2Frustdoc%2Fprimitive-generic-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fprimitive-generic-impl.rs?ref=f04a2f4b8e89eac1119061ea2055d33c97e618b4", "patch": "@@ -1,5 +0,0 @@\n-#![crate_name = \"foo\"]\n-\n-include!(\"primitive/primitive-generic-impl.rs\");\n-\n-// @has foo/primitive.i32.html '//div[@id=\"impl-ToString\"]//h3[@class=\"code-header in-band\"]' 'impl<T> ToString for T'"}, {"sha": "f9737240c70a294ed34ed06717e5649343b4b111", "filename": "src/test/rustdoc/primitive/primitive-generic-impl.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fprimitive%2Fprimitive-generic-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fprimitive%2Fprimitive-generic-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fprimitive%2Fprimitive-generic-impl.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,3 +1,9 @@\n+#![feature(rustdoc_internals)]\n+\n+#![crate_name = \"foo\"]\n+\n+// @has foo/primitive.i32.html '//div[@id=\"impl-ToString\"]//h3[@class=\"code-header in-band\"]' 'impl<T> ToString for T'\n+\n #[doc(primitive = \"i32\")]\n /// Some useless docs, wouhou!\n mod i32 {}"}, {"sha": "10acb7ac495ec390fae4b368a5a6de807ab56e8c", "filename": "src/test/rustdoc/proc-macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fproc-macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fproc-macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fproc-macro.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -8,7 +8,7 @@\n // @has some_macros/index.html\n // @has - '//a/[@href=\"attr.some_proc_attr.html\"]' 'some_proc_attr'\n \n-//! include a link to [some_proc_macro] to make sure it works.\n+//! include a link to [some_proc_macro!] to make sure it works.\n \n extern crate proc_macro;\n "}, {"sha": "756939ae3773c37fbf9f46c5043d81599aa4888e", "filename": "src/test/rustdoc/range-arg-pattern.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Frange-arg-pattern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Frange-arg-pattern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Frange-arg-pattern.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -2,4 +2,4 @@\n \n // @has foo/fn.f.html\n // @has - '//*[@class=\"rust fn\"]' 'pub fn f(_: u8)'\n-pub fn f(0u8...255: u8) {}\n+pub fn f(0u8..=255: u8) {}"}, {"sha": "7dbe63854f374f194667bffd08a47aeabcc80c85", "filename": "src/test/rustdoc/raw-ident-eliminate-r-hashtag.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fraw-ident-eliminate-r-hashtag.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fraw-ident-eliminate-r-hashtag.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fraw-ident-eliminate-r-hashtag.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -2,6 +2,7 @@\n \n pub mod internal {\n     // @has 'raw_ident_eliminate_r_hashtag/internal/struct.mod.html'\n+    #[allow(non_camel_case_types)]\n     pub struct r#mod;\n \n     /// See [name], [other name]"}, {"sha": "ee670e88b5cb4c69c6923cb5c5c09b3c691cc2a5", "filename": "src/test/rustdoc/sidebar-items.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fsidebar-items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Fsidebar-items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fsidebar-items.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -30,11 +30,11 @@ pub struct Bar {\n \n // @has foo/enum.En.html\n // @has - '//*[@class=\"sidebar-title\"]/a[@href=\"#variants\"]' 'Variants'\n-// @has - '//*[@class=\"sidebar-links\"]/a' 'foo'\n-// @has - '//*[@class=\"sidebar-links\"]/a' 'bar'\n+// @has - '//*[@class=\"sidebar-links\"]/a' 'Foo'\n+// @has - '//*[@class=\"sidebar-links\"]/a' 'Bar'\n pub enum En {\n-    foo,\n-    bar,\n+    Foo,\n+    Bar,\n }\n \n // @has foo/union.MyUnion.html"}, {"sha": "016ec7bfaa307225b1d403993ad3d42a63875ea2", "filename": "src/test/rustdoc/titles.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Ftitles.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftest%2Frustdoc%2Ftitles.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Ftitles.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1,5 +1,7 @@\n #![crate_name = \"foo\"]\n \n+#![feature(rustdoc_internals)]\n+\n // @matches 'foo/index.html' '//h1' 'Crate foo'\n \n // @matches 'foo/foo_mod/index.html' '//h1' 'Module foo::foo_mod'"}, {"sha": "727eecbb73256dd30e6d91a2f8211ee4c128488e", "filename": "src/tools/compiletest/src/runtest.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c51718ae7ae3160058e220b879d2a69533973a7/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs?ref=3c51718ae7ae3160058e220b879d2a69533973a7", "patch": "@@ -1452,6 +1452,8 @@ impl<'test> TestCx<'test> {\n             .arg(aux_dir)\n             .arg(\"-o\")\n             .arg(out_dir)\n+            .arg(\"--deny\")\n+            .arg(\"warnings\")\n             .arg(&self.testpaths.file)\n             .args(&self.props.compile_flags);\n "}]}