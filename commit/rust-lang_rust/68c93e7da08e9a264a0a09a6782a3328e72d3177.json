{"sha": "68c93e7da08e9a264a0a09a6782a3328e72d3177", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY4YzkzZTdkYTA4ZTlhMjY0YTBhMDlhNjc4MmEzMzI4ZTcyZDMxNzc=", "commit": {"author": {"name": "Oliver Schneider", "email": "github35764891676564198441@oli-obk.de", "date": "2018-07-18T08:55:41Z"}, "committer": {"name": "Oliver Schneider", "email": "github35764891676564198441@oli-obk.de", "date": "2018-07-18T09:45:01Z"}, "message": "Make `async_idents` allow-by-default", "tree": {"sha": "69bb14db40ec7f995e818a922935a1bc356b1fe3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/69bb14db40ec7f995e818a922935a1bc356b1fe3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/68c93e7da08e9a264a0a09a6782a3328e72d3177", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/68c93e7da08e9a264a0a09a6782a3328e72d3177", "html_url": "https://github.com/rust-lang/rust/commit/68c93e7da08e9a264a0a09a6782a3328e72d3177", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/68c93e7da08e9a264a0a09a6782a3328e72d3177/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "95208044e86af21569484c67a6b5bfd7eaa32b2f", "url": "https://api.github.com/repos/rust-lang/rust/commits/95208044e86af21569484c67a6b5bfd7eaa32b2f", "html_url": "https://github.com/rust-lang/rust/commit/95208044e86af21569484c67a6b5bfd7eaa32b2f"}], "stats": {"total": 42, "additions": 24, "deletions": 18}, "files": [{"sha": "ecfb52f136a6265ac97adda9f15a203f43c30f1c", "filename": "src/librustc_lint/builtin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/68c93e7da08e9a264a0a09a6782a3328e72d3177/src%2Flibrustc_lint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68c93e7da08e9a264a0a09a6782a3328e72d3177/src%2Flibrustc_lint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Fbuiltin.rs?ref=68c93e7da08e9a264a0a09a6782a3328e72d3177", "patch": "@@ -1788,7 +1788,7 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for UnnameableTestFunctions {\n \n declare_lint! {\n     pub ASYNC_IDENTS,\n-    Deny,\n+    Allow,\n     \"detects `async` being used as an identifier\"\n }\n "}, {"sha": "228bf911253373276201bb1ea56240ef44b90135", "filename": "src/test/ui/rust-2018/async-ident.fixed", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/68c93e7da08e9a264a0a09a6782a3328e72d3177/src%2Ftest%2Fui%2Frust-2018%2Fasync-ident.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/68c93e7da08e9a264a0a09a6782a3328e72d3177/src%2Ftest%2Fui%2Frust-2018%2Fasync-ident.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2018%2Fasync-ident.fixed?ref=68c93e7da08e9a264a0a09a6782a3328e72d3177", "patch": "@@ -10,6 +10,7 @@\n \n #![feature(raw_identifiers)]\n #![allow(dead_code, unused_variables, non_camel_case_types, non_upper_case_globals)]\n+#![deny(async_idents)]\n \n // edition:2015\n // run-rustfix\n@@ -84,4 +85,4 @@ macro_rules! consumes_async {\n     (r#async) => (1)\n     //~^ ERROR async\n     //~| WARN hard error in the 2018 edition\n-}\n\\ No newline at end of file\n+}"}, {"sha": "cc400c2a92e0e44d8925e5f3e6ca3cd5683299cf", "filename": "src/test/ui/rust-2018/async-ident.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/68c93e7da08e9a264a0a09a6782a3328e72d3177/src%2Ftest%2Fui%2Frust-2018%2Fasync-ident.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68c93e7da08e9a264a0a09a6782a3328e72d3177/src%2Ftest%2Fui%2Frust-2018%2Fasync-ident.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2018%2Fasync-ident.rs?ref=68c93e7da08e9a264a0a09a6782a3328e72d3177", "patch": "@@ -10,6 +10,7 @@\n \n #![feature(raw_identifiers)]\n #![allow(dead_code, unused_variables, non_camel_case_types, non_upper_case_globals)]\n+#![deny(async_idents)]\n \n // edition:2015\n // run-rustfix\n@@ -84,4 +85,4 @@ macro_rules! consumes_async {\n     (async) => (1)\n     //~^ ERROR async\n     //~| WARN hard error in the 2018 edition\n-}\n\\ No newline at end of file\n+}"}, {"sha": "94fd3e70434cbbd47225b813f31f3e9a6ee98a17", "filename": "src/test/ui/rust-2018/async-ident.stderr", "status": "modified", "additions": 19, "deletions": 15, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/68c93e7da08e9a264a0a09a6782a3328e72d3177/src%2Ftest%2Fui%2Frust-2018%2Fasync-ident.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/68c93e7da08e9a264a0a09a6782a3328e72d3177/src%2Ftest%2Fui%2Frust-2018%2Fasync-ident.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2018%2Fasync-ident.stderr?ref=68c93e7da08e9a264a0a09a6782a3328e72d3177", "patch": "@@ -1,15 +1,19 @@\n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:17:4\n+  --> $DIR/async-ident.rs:18:4\n    |\n LL | fn async() {} //~ ERROR async\n    |    ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n    |\n-   = note: #[deny(async_idents)] on by default\n+note: lint level defined here\n+  --> $DIR/async-ident.rs:13:9\n+   |\n+LL | #![deny(async_idents)]\n+   |         ^^^^^^^^^^^^\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in the 2018 edition!\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:22:7\n+  --> $DIR/async-ident.rs:23:7\n    |\n LL |     ($async:expr, async) => {};\n    |       ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -18,7 +22,7 @@ LL |     ($async:expr, async) => {};\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:22:19\n+  --> $DIR/async-ident.rs:23:19\n    |\n LL |     ($async:expr, async) => {};\n    |                   ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -27,7 +31,7 @@ LL |     ($async:expr, async) => {};\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:36:11\n+  --> $DIR/async-ident.rs:37:11\n    |\n LL |     trait async {}\n    |           ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -36,7 +40,7 @@ LL |     trait async {}\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:40:10\n+  --> $DIR/async-ident.rs:41:10\n    |\n LL |     impl async for MyStruct {}\n    |          ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -45,7 +49,7 @@ LL |     impl async for MyStruct {}\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:46:12\n+  --> $DIR/async-ident.rs:47:12\n    |\n LL |     static async: u32 = 0;\n    |            ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -54,7 +58,7 @@ LL |     static async: u32 = 0;\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:52:11\n+  --> $DIR/async-ident.rs:53:11\n    |\n LL |     const async: u32 = 0;\n    |           ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -63,7 +67,7 @@ LL |     const async: u32 = 0;\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:58:15\n+  --> $DIR/async-ident.rs:59:15\n    |\n LL | impl Foo { fn async() {} }\n    |               ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -72,7 +76,7 @@ LL | impl Foo { fn async() {} }\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:63:12\n+  --> $DIR/async-ident.rs:64:12\n    |\n LL |     struct async {}\n    |            ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -81,7 +85,7 @@ LL |     struct async {}\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:66:9\n+  --> $DIR/async-ident.rs:67:9\n    |\n LL |     let async: async = async {};\n    |         ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -90,7 +94,7 @@ LL |     let async: async = async {};\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:66:16\n+  --> $DIR/async-ident.rs:67:16\n    |\n LL |     let async: async = async {};\n    |                ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -99,7 +103,7 @@ LL |     let async: async = async {};\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:66:24\n+  --> $DIR/async-ident.rs:67:24\n    |\n LL |     let async: async = async {};\n    |                        ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -108,7 +112,7 @@ LL |     let async: async = async {};\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:77:19\n+  --> $DIR/async-ident.rs:78:19\n    |\n LL |     () => (pub fn async() {})\n    |                   ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`\n@@ -117,7 +121,7 @@ LL |     () => (pub fn async() {})\n    = note: for more information, see issue #49716 <https://github.com/rust-lang/rust/issues/49716>\n \n error: `async` is a keyword in the 2018 edition\n-  --> $DIR/async-ident.rs:84:6\n+  --> $DIR/async-ident.rs:85:6\n    |\n LL |     (async) => (1)\n    |      ^^^^^ help: you can use a raw identifier to stay compatible: `r#async`"}]}