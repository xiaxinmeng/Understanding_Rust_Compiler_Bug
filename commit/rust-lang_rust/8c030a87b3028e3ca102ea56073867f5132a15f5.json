{"sha": "8c030a87b3028e3ca102ea56073867f5132a15f5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhjMDMwYTg3YjMwMjhlM2NhMTAyZWE1NjA3Mzg2N2Y1MTMyYTE1ZjU=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-12-21T08:04:02Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-12-21T17:26:43Z"}, "message": "rollup merge of #19966: steveklabnik/remove_l10n\n\n@brson suggested that I remove this stuff in https://github.com/rust-lang/rust/pull/19897/files#r22014810, but it seems more appropriate to do separate from that.", "tree": {"sha": "da3f852486f234312dd98105969933e44861caba", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/da3f852486f234312dd98105969933e44861caba"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8c030a87b3028e3ca102ea56073867f5132a15f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8c030a87b3028e3ca102ea56073867f5132a15f5", "html_url": "https://github.com/rust-lang/rust/commit/8c030a87b3028e3ca102ea56073867f5132a15f5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8c030a87b3028e3ca102ea56073867f5132a15f5/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9f4f6cf655c0619541f7251541a2a7221aa78938", "url": "https://api.github.com/repos/rust-lang/rust/commits/9f4f6cf655c0619541f7251541a2a7221aa78938", "html_url": "https://github.com/rust-lang/rust/commit/9f4f6cf655c0619541f7251541a2a7221aa78938"}, {"sha": "11a94f2ac737642d08a77630ff88ebcc4b12c59c", "url": "https://api.github.com/repos/rust-lang/rust/commits/11a94f2ac737642d08a77630ff88ebcc4b12c59c", "html_url": "https://github.com/rust-lang/rust/commit/11a94f2ac737642d08a77630ff88ebcc4b12c59c"}], "stats": {"total": 108, "additions": 0, "deletions": 108}, "files": [{"sha": "9a924916ec8615a3b1ee285468b50ff822ba9547", "filename": "mk/docs.mk", "status": "modified", "additions": 0, "deletions": 34, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/8c030a87b3028e3ca102ea56073867f5132a15f5/mk%2Fdocs.mk", "raw_url": "https://github.com/rust-lang/rust/raw/8c030a87b3028e3ca102ea56073867f5132a15f5/mk%2Fdocs.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdocs.mk?ref=8c030a87b3028e3ca102ea56073867f5132a15f5", "patch": "@@ -216,36 +216,6 @@ endef\n $(foreach docname,$(DOCS),$(eval $(call DEF_DOC,$(docname))))\n \n \n-# Localized documentation\n-\n-# FIXME: I (huonw) haven't actually been able to test properly, since\n-# e.g. (by default) I'm doing an out-of-tree build (#12763), but even\n-# adjusting for that, the files are too old(?) and are rejected by\n-# po4a.\n-#\n-# As such, I've attempted to get it working as much as possible (and\n-# switching from pandoc to rustdoc), but preserving the old behaviour\n-# (e.g. only running on the guide)\n-.PHONY: l10n-mds\n-l10n-mds: $(D)/po4a.conf \\\n-\t\t$(foreach lang,$(L10N_LANG),$(D)/po/$(lang)/*.md.po)\n-\t$(warning WARNING: localized documentation is experimental)\n-\tpo4a --copyright-holder=\"The Rust Project Developers\" \\\n-\t\t--package-name=\"Rust\" \\\n-\t\t--package-version=\"$(CFG_RELEASE)\" \\\n-\t\t-M UTF-8 -L UTF-8 \\\n-\t\t$(D)/po4a.conf\n-\n-define DEF_L10N_DOC\n-DOC_L10N_TARGETS += doc/l10n/$(1)/$(2).html\n-doc/l10n/$(1)/$(2).html: l10n-mds $$(HTML_DEPS) $$(RUSTDOC_DEPS_$(2))\n-\t@$$(call E, rustdoc: $$@)\n-\t$$(RUSTDOC) $$(RUSTDOC_HTML_OPTS) $$(RUSTDOC_FLAGS_$(1)) doc/l10n/$(1)/$(2).md\n-endef\n-\n-$(foreach lang,$(L10N_LANGS),$(eval $(call DEF_L10N_DOC,$(lang),guide)))\n-\n-\n ######################################################################\n # Rustdoc (libstd/extra)\n ######################################################################\n@@ -294,7 +264,3 @@ endif\n \n docs: $(DOC_TARGETS)\n compiler-docs: $(COMPILER_DOC_TARGETS)\n-\n-docs-l10n: $(DOC_L10N_TARGETS)\n-\n-.PHONY: docs-l10n"}, {"sha": "3b12ffe8f11e1bf25151fe09760763ef079960ad", "filename": "src/doc/README.md", "status": "modified", "additions": 0, "deletions": 46, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/8c030a87b3028e3ca102ea56073867f5132a15f5/src%2Fdoc%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/8c030a87b3028e3ca102ea56073867f5132a15f5/src%2Fdoc%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2FREADME.md?ref=8c030a87b3028e3ca102ea56073867f5132a15f5", "patch": "@@ -6,12 +6,6 @@\n document converter, is required to generate docs as HTML from Rust's\n source code.\n \n-[po4a](http://po4a.alioth.debian.org/) is required for generating translated\n-docs from the master (English) docs.\n-\n-[GNU gettext](http://www.gnu.org/software/gettext/) is required for managing\n-the translation data.\n-\n ## Building\n \n To generate all the docs, just run `make docs` from the root of the repository.\n@@ -44,43 +38,3 @@ The syntax for pandoc flavored markdown can be found at:\n A nice quick reference (for non-pandoc markdown) is at:\n \n - http://kramdown.gettalong.org/quickref.html\n-\n-## Notes for translators\n-\n-Notice: The procedure described below is a work in progress. We are working on\n-translation system but the procedure contains some manual operations for now.\n-\n-To start the translation for a new language, see `po4a.conf` at first.\n-\n-To generate `.pot` and `.po` files, do something like:\n-\n-~~~~\n-po4a --copyright-holder=\"The Rust Project Developers\" \\\n-    --package-name=\"Rust\" \\\n-    --package-version=\"0.13.0\" \\\n-    -M UTF-8 -L UTF-8 \\\n-    src/doc/po4a.conf\n-~~~~\n-\n-(the version number must be changed if it is not `0.13.0` now.)\n-\n-Now you can translate documents with `.po` files, commonly used with gettext. If\n-you are not familiar with gettext-based translation, please read the online\n-manual linked from http://www.gnu.org/software/gettext/ . We use UTF-8 as the\n-file encoding of `.po` files.\n-\n-When you want to make a commit, do the command below before staging your\n-change:\n-\n-~~~~\n-for f in src/doc/po/**/*.po; do\n-    msgattrib --translated $f -o $f.strip\n-    if [ -e $f.strip ]; then\n-       mv $f.strip $f\n-    else\n-       rm $f\n-    fi\n-done\n-~~~~\n-\n-This removes untranslated entries from `.po` files to save disk space."}, {"sha": "80f8b748814cb3955c7449862bd62e15deade9b1", "filename": "src/doc/po4a.conf", "status": "removed", "additions": 0, "deletions": 28, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/9f4f6cf655c0619541f7251541a2a7221aa78938/src%2Fdoc%2Fpo4a.conf", "raw_url": "https://github.com/rust-lang/rust/raw/9f4f6cf655c0619541f7251541a2a7221aa78938/src%2Fdoc%2Fpo4a.conf", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fpo4a.conf?ref=9f4f6cf655c0619541f7251541a2a7221aa78938", "patch": "@@ -1,28 +0,0 @@\n-# Add here a list of target languages; po4a will automatically\n-# generates .po for them and build .md when translated, eg:\n-# [po4a_langs] es fr it pt_BR\n-[po4a_langs] ja\n-[po4a_paths] doc/po/$master.pot $lang:src/doc/po/$lang/$master.po\n-\n-# Add here below all source documents to be translated\n-[type: text] src/doc/complement-bugreport.md $lang:doc/l10n/$lang/complement-bugreport.md\n-[type: text] src/doc/complement-design-faq.md $lang:doc/l10n/$lang/complement-design-faq.md\n-[type: text] src/doc/complement-lang-faq.md $lang:doc/l10n/$lang/complement-lang-faq.md\n-[type: text] src/doc/complement-project-faq.md $lang:doc/l10n/$lang/complement-project-faq.md\n-[type: text] src/doc/guide-container.md $lang:doc/l10n/$lang/guide-container.md\n-[type: text] src/doc/guide-ffi.md $lang:doc/l10n/$lang/guide-ffi.md\n-[type: text] src/doc/guide-ownership.md $lang:doc/l10n/$lang/guide-ownership.md\n-[type: text] src/doc/guide-macros.md $lang:doc/l10n/$lang/guide-macros.md\n-[type: text] src/doc/guide-plugin.md $lang:doc/l10n/$lang/guide-plugin.md\n-[type: text] src/doc/guide-pointers.md $lang:doc/l10n/$lang/guide-pointers.md\n-[type: text] src/doc/guide-strings.md $lang:doc/l10n/$lang/guide-strings.md\n-[type: text] src/doc/guide-tasks.md $lang:doc/l10n/$lang/guide-tasks.md\n-[type: text] src/doc/guide-testing.md $lang:doc/l10n/$lang/guide-testing.md\n-[type: text] src/doc/guide-unsafe.md $lang:doc/l10n/$lang/guide-unsafe.md\n-[type: text] src/doc/guide-crates.md $lang:doc/l10n/$lang/guide-crates.md\n-[type: text] src/doc/guide-error-handling.md $lang:doc/l10n/$lang/guide-error-handling.md\n-[type: text] src/doc/guide.md $lang:doc/l10n/$lang/guide.md\n-[type: text] src/doc/index.md $lang:doc/l10n/$lang/index.md\n-[type: text] src/doc/intro.md $lang:doc/l10n/$lang/intro.md\n-[type: text] src/doc/rust.md $lang:doc/l10n/$lang/rust.md\n-[type: text] src/doc/rustdoc.md $lang:doc/l10n/$lang/rustdoc.md"}]}