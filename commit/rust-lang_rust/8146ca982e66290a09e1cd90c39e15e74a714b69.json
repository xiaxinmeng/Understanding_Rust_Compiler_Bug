{"sha": "8146ca982e66290a09e1cd90c39e15e74a714b69", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgxNDZjYTk4MmU2NjI5MGEwOWUxY2Q5MGMzOWUxNWU3NGE3MTRiNjk=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-08-24T04:31:29Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-08-27T22:53:08Z"}, "message": "Convert std::u64 to istrs. Issue #855", "tree": {"sha": "11779f78dc1c2dce75d5cd1e4d618df920c32d88", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/11779f78dc1c2dce75d5cd1e4d618df920c32d88"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8146ca982e66290a09e1cd90c39e15e74a714b69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8146ca982e66290a09e1cd90c39e15e74a714b69", "html_url": "https://github.com/rust-lang/rust/commit/8146ca982e66290a09e1cd90c39e15e74a714b69", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8146ca982e66290a09e1cd90c39e15e74a714b69/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "53be480d205454d79adf578b912a4be94715583c", "url": "https://api.github.com/repos/rust-lang/rust/commits/53be480d205454d79adf578b912a4be94715583c", "html_url": "https://github.com/rust-lang/rust/commit/53be480d205454d79adf578b912a4be94715583c"}], "stats": {"total": 51, "additions": 27, "deletions": 24}, "files": [{"sha": "0d4c0d3f74b2ddedd4db5840b3a3b4da4d0b8d37", "filename": "src/lib/u64.rs", "status": "modified", "additions": 21, "deletions": 21, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/8146ca982e66290a09e1cd90c39e15e74a714b69/src%2Flib%2Fu64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8146ca982e66290a09e1cd90c39e15e74a714b69/src%2Flib%2Fu64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fu64.rs?ref=8146ca982e66290a09e1cd90c39e15e74a714b69", "patch": "@@ -1,36 +1,36 @@\n-fn to_str(n: u64, radix: uint) -> str {\n+fn to_str(n: u64, radix: uint) -> istr {\n     assert (0u < radix && radix <= 16u);\n \n     let r64 = radix as u64;\n \n-    fn digit(n: u64) -> str {\n+    fn digit(n: u64) -> istr {\n         ret alt n {\n-              0u64 { \"0\" }\n-              1u64 { \"1\" }\n-              2u64 { \"2\" }\n-              3u64 { \"3\" }\n-              4u64 { \"4\" }\n-              5u64 { \"5\" }\n-              6u64 { \"6\" }\n-              7u64 { \"7\" }\n-              8u64 { \"8\" }\n-              9u64 { \"9\" }\n-              10u64 { \"a\" }\n-              11u64 { \"b\" }\n-              12u64 { \"c\" }\n-              13u64 { \"d\" }\n-              14u64 { \"e\" }\n-              15u64 { \"f\" }\n+              0u64 { ~\"0\" }\n+              1u64 { ~\"1\" }\n+              2u64 { ~\"2\" }\n+              3u64 { ~\"3\" }\n+              4u64 { ~\"4\" }\n+              5u64 { ~\"5\" }\n+              6u64 { ~\"6\" }\n+              7u64 { ~\"7\" }\n+              8u64 { ~\"8\" }\n+              9u64 { ~\"9\" }\n+              10u64 { ~\"a\" }\n+              11u64 { ~\"b\" }\n+              12u64 { ~\"c\" }\n+              13u64 { ~\"d\" }\n+              14u64 { ~\"e\" }\n+              15u64 { ~\"f\" }\n               _ { fail }\n             };\n     }\n \n-    if n == 0u64 { ret \"0\"; }\n+    if n == 0u64 { ret ~\"0\"; }\n \n-    let s = \"\";\n+    let s = ~\"\";\n \n     while n > 0u64 { s = digit(n % r64) + s; n /= r64; }\n     ret s;\n }\n \n-fn str(n: u64) -> str { ret to_str(n, 10u); }\n+fn str(n: u64) -> istr { ret to_str(n, 10u); }"}, {"sha": "762997e754f8c50570ec70170d8803c2117d7811", "filename": "src/test/bench/shootout-pfib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/8146ca982e66290a09e1cd90c39e15e74a714b69/src%2Ftest%2Fbench%2Fshootout-pfib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8146ca982e66290a09e1cd90c39e15e74a714b69/src%2Ftest%2Fbench%2Fshootout-pfib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-pfib.rs?ref=8146ca982e66290a09e1cd90c39e15e74a714b69", "patch": "@@ -15,6 +15,7 @@ import std::vec;\n import std::uint;\n import std::time;\n import std::str;\n+import std::istr;\n import std::int::range;\n import std::io;\n import std::getopts;\n@@ -106,7 +107,7 @@ fn main(argv: [str]) {\n                     let elapsed = stop - start;\n \n                     out.write_line(#fmt[\"%d\\t%d\\t%s\", n, fibn,\n-                                        u64::str(elapsed)]);\n+                                        istr::to_estr(u64::str(elapsed))]);\n                 }\n             }\n         }"}, {"sha": "c3fd544aa3d99f2db8d43d9b74d10920f4611b3e", "filename": "src/test/bench/task-perf-word-count-generic.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8146ca982e66290a09e1cd90c39e15e74a714b69/src%2Ftest%2Fbench%2Ftask-perf-word-count-generic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8146ca982e66290a09e1cd90c39e15e74a714b69/src%2Ftest%2Fbench%2Ftask-perf-word-count-generic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Ftask-perf-word-count-generic.rs?ref=8146ca982e66290a09e1cd90c39e15e74a714b69", "patch": "@@ -14,6 +14,7 @@ import option = std::option::t;\n import std::option::some;\n import std::option::none;\n import std::str;\n+import std::istr;\n import std::treemap;\n import std::vec;\n import std::io;\n@@ -226,7 +227,8 @@ fn main(argv: [str]) {\n     let elapsed = stop - start;\n     elapsed /= 1000000u64;\n \n-    log_err \"MapReduce completed in \" + u64::str(elapsed) + \"ms\";\n+    log_err \"MapReduce completed in \" +\n+        istr::to_estr(u64::str(elapsed)) + \"ms\";\n }\n \n fn read_word(r: io::reader) -> option<str> {"}, {"sha": "703072eb511510adab93993151c20d4e4aab5867", "filename": "src/test/bench/task-perf-word-count.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8146ca982e66290a09e1cd90c39e15e74a714b69/src%2Ftest%2Fbench%2Ftask-perf-word-count.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8146ca982e66290a09e1cd90c39e15e74a714b69/src%2Ftest%2Fbench%2Ftask-perf-word-count.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Ftask-perf-word-count.rs?ref=8146ca982e66290a09e1cd90c39e15e74a714b69", "patch": "@@ -216,7 +216,7 @@ fn main(argv: [str]) {\n     let elapsed = stop - start;\n     elapsed /= 1000000u64;\n \n-    log_err \"MapReduce completed in \" + u64::str(elapsed) + \"ms\";\n+    log_err ~\"MapReduce completed in \" + u64::str(elapsed) + ~\"ms\";\n }\n \n fn read_word(r: io::reader) -> option<str> {"}]}