{"sha": "e7d8cf85117c680f3e6dccc87b210a85512b9850", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU3ZDhjZjg1MTE3YzY4MGYzZTZkY2NjODdiMjEwYTg1NTEyYjk4NTA=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-08-27T07:43:19Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-08-27T07:43:19Z"}, "message": "Add test for external macro", "tree": {"sha": "ad31d677d4731927e9b00945684c22b906629762", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad31d677d4731927e9b00945684c22b906629762"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e7d8cf85117c680f3e6dccc87b210a85512b9850", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAl1k3xcACgkQaTCGhp1Q\nZjdbAw/+PqYei1gK+7n3wDjE8VXt7OnMwCcNfTz6mhjEq1+USRc3HakXvbabJ2MY\n5grJPLSfGmH8fIoqlIgzJGv6KUy8zz/vxNcf8kJ7woKoJmgVa/7fNt9otH5Ja1Zt\nUj5Un91i36dOMai/iM5//UyLoFuSBQh50Qu5fzkt1Vs0CgR/+0jotFPHEcScYdts\n431T4ZNOmKBJqecQaBi+r0PMVfPU8S+ofbGurfyyN02ZG93ErNZ2uAQaLTBnH6ch\nC7oOCFYm06JG9/MHoh2PXjVt1gwiwaQSBI8vTZNvLEB9Qh9BO7D/1Fp5fCMl3Wii\n2f+Hd0S2hfQQB2fhsOCdqYTTsrLAWQ2i4wmd4Htv15hzQ0DhC6jsY0n1GDcd+RUI\nDoPZNaKTYg9S6FknpcR1Y0fYGOqWXse/jI/pgZRmN629IcP1N+MsYan1K6b9aYmv\nz1xcrz2bsWL6fdTURMXkoZmgqpZkq4GVQ9VSBzKDLbQ/F+UilQpoSXNh7qjo/3ix\neWP831+sCR0aDD4UP4A/ZcES14BSViCU9NSW3EwCLeQ6lMsz1uC8WMCh8jufifdC\nGO6aI7fRtbdCLmWuU/dlLYmER6Hr2VOdAl4O4HwA7tn0cWaoz3/9bsKxrdueYPoP\nJa3BdlxFdMPa0hCYjZ904CNgFf447AeCAqRUc/z7RCg8J5GO2Cc=\n=23V9\n-----END PGP SIGNATURE-----", "payload": "tree ad31d677d4731927e9b00945684c22b906629762\nparent d36c785344bdbfffa3c0424c0459abe921c63270\nauthor flip1995 <hello@philkrones.com> 1566891799 +0200\ncommitter flip1995 <hello@philkrones.com> 1566891799 +0200\n\nAdd test for external macro\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e7d8cf85117c680f3e6dccc87b210a85512b9850", "html_url": "https://github.com/rust-lang/rust/commit/e7d8cf85117c680f3e6dccc87b210a85512b9850", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e7d8cf85117c680f3e6dccc87b210a85512b9850/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d36c785344bdbfffa3c0424c0459abe921c63270", "url": "https://api.github.com/repos/rust-lang/rust/commits/d36c785344bdbfffa3c0424c0459abe921c63270", "html_url": "https://github.com/rust-lang/rust/commit/d36c785344bdbfffa3c0424c0459abe921c63270"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "50f238814a31e4f366b127feb5c40c107131484d", "filename": "tests/ui/block_in_if_condition.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/e7d8cf85117c680f3e6dccc87b210a85512b9850/tests%2Fui%2Fblock_in_if_condition.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7d8cf85117c680f3e6dccc87b210a85512b9850/tests%2Fui%2Fblock_in_if_condition.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fblock_in_if_condition.rs?ref=e7d8cf85117c680f3e6dccc87b210a85512b9850", "patch": "@@ -103,3 +103,15 @@ fn macro_in_closure() {\n         unimplemented!()\n     }\n }\n+\n+fn block_in_assert() {\n+    let opt = Some(42);\n+    assert!(opt\n+        .as_ref()\n+        .and_then(|val| {\n+            let mut v = val * 2;\n+            v -= 1;\n+            Some(v * 3)\n+        })\n+        .is_some());\n+}"}]}