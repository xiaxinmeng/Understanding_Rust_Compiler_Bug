{"sha": "102dc3ddc1f6e671c48358b2c685ae724bcf7844", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwMmRjM2RkYzFmNmU2NzFjNDgzNThiMmM2ODVhZTcyNGJjZjc4NDQ=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2019-10-08T10:04:28Z"}, "committer": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2019-10-25T14:08:36Z"}, "message": "ci: use shared.sh in scripts/install-awscli.sh", "tree": {"sha": "a1b1f1e151590bf031017d0ed5b748977b99ce91", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a1b1f1e151590bf031017d0ed5b748977b99ce91"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/102dc3ddc1f6e671c48358b2c685ae724bcf7844", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE1JbYPtLJAsc22U9xPgar6Auq8ZwFAl2zAeQACgkQPgar6Auq\n8ZyQlA/+PfAF1sLC/9YSqIGnKc1K74sE5mMye7Dd5XSXK1XxasWBZtBKrxo5Cr8C\nPw1O72EmeF5LD/XMFjIhfQdRk+XS1lg1yCyR1esykNeOmUblVM+yfCtQKAZ6cTGu\nB12nmf1vAPu2d33d1BoQVv8VDuKp7ZOYEQX78Nam8waZwsxKoqH9fMm0GlvY/rjW\nM0wesyBNVIA2GTapyYusoXDVrMLswPsu7yUtYVk1Ji5Gs7+z8uVVMKujJFA5osxl\nZBnRxJEM+ost9HSwySmKQJHbX1ilo1TdSml2NVxu0vQyOA+I7KR6l/mc3BzWQYOx\nAvwrZvKDykoaSRGYp8hPSy0hyItmv211E5YZqtWnKlhjybGO27WvfliGgTzSXPjP\ngq2qx9cr8ggFV4KAzjkyWMioy2LDfHnRY2OYatkq9NqMg4IRp8/N9k/0wlB11c2O\nNOtoFP1Svv8CG9aNVhM0QPKak/CbYe7nPLfgbttNInTkmT+VjWFXqoCdmSDOYHRe\nn2gxONgE9gtbJjyhImLjB82qgNEekk37cvwhES4cNxu3lM+zi3gz62sWBY+7NRov\ng4w1Z57QvCeZSuAIc53a2XZYlfd10ksnPqUUWGpRIqZy1a1ldqsKAifbsrrAeajw\nxa9Q0jqfCrNrSfRNOjO1AHsqK4bl1YLpvYophuZ8aTfV3boV4NI=\n=tbCH\n-----END PGP SIGNATURE-----", "payload": "tree a1b1f1e151590bf031017d0ed5b748977b99ce91\nparent 9c252f14bcfd987d6c1fb9fd4253336ab46fe7a5\nauthor Pietro Albini <pietro@pietroalbini.org> 1570529068 +0200\ncommitter Pietro Albini <pietro@pietroalbini.org> 1572012516 +0200\n\nci: use shared.sh in scripts/install-awscli.sh\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/102dc3ddc1f6e671c48358b2c685ae724bcf7844", "html_url": "https://github.com/rust-lang/rust/commit/102dc3ddc1f6e671c48358b2c685ae724bcf7844", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/102dc3ddc1f6e671c48358b2c685ae724bcf7844/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9c252f14bcfd987d6c1fb9fd4253336ab46fe7a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/9c252f14bcfd987d6c1fb9fd4253336ab46fe7a5", "html_url": "https://github.com/rust-lang/rust/commit/9c252f14bcfd987d6c1fb9fd4253336ab46fe7a5"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "f1043104302908a745cee79f31cff4dc2cbf30c7", "filename": "src/ci/scripts/install-awscli.sh", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/102dc3ddc1f6e671c48358b2c685ae724bcf7844/src%2Fci%2Fscripts%2Finstall-awscli.sh", "raw_url": "https://github.com/rust-lang/rust/raw/102dc3ddc1f6e671c48358b2c685ae724bcf7844/src%2Fci%2Fscripts%2Finstall-awscli.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fscripts%2Finstall-awscli.sh?ref=102dc3ddc1f6e671c48358b2c685ae724bcf7844", "patch": "@@ -16,12 +16,14 @@\n set -euo pipefail\n IFS=$'\\n\\t'\n \n+source \"$(cd \"$(dirname \"$0\")\" && pwd)/../shared.sh\"\n+\n MIRROR=\"https://rust-lang-ci-mirrors.s3-us-west-1.amazonaws.com/rustc/2019-07-27-awscli.tar\"\n DEPS_DIR=\"/tmp/awscli-deps\"\n \n pip=\"pip\"\n pipflags=\"\"\n-if [[ \"${AGENT_OS}\" == \"Linux\" ]]; then\n+if isLinux; then\n     pip=\"pip3\"\n     pipflags=\"--user\"\n "}]}