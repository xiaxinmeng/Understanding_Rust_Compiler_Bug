{"sha": "e9ca2909ad49b9a15c7da29cc4350dda4aeefb10", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU5Y2EyOTA5YWQ0OWI5YTE1YzdkYTI5Y2M0MzUwZGRhNGFlZWZiMTA=", "commit": {"author": {"name": "Daiki Ihara", "email": "sasurau4@gmail.com", "date": "2020-12-14T12:14:17Z"}, "committer": {"name": "Daiki Ihara", "email": "sasurau4@gmail.com", "date": "2020-12-17T11:22:27Z"}, "message": "Add test case for break expr with misspelled value\n\nUpdate src/test/ui/loops/loop-break-value.rs\n\nCo-authored-by: Ivan Tham <pickfire@riseup.net>", "tree": {"sha": "42ae77a5efcb8cc6f6cbc9cd0e0d6d32df12578d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/42ae77a5efcb8cc6f6cbc9cd0e0d6d32df12578d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10", "html_url": "https://github.com/rust-lang/rust/commit/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10/comments", "author": {"login": "sasurau4", "id": 13580199, "node_id": "MDQ6VXNlcjEzNTgwMTk5", "avatar_url": "https://avatars.githubusercontent.com/u/13580199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sasurau4", "html_url": "https://github.com/sasurau4", "followers_url": "https://api.github.com/users/sasurau4/followers", "following_url": "https://api.github.com/users/sasurau4/following{/other_user}", "gists_url": "https://api.github.com/users/sasurau4/gists{/gist_id}", "starred_url": "https://api.github.com/users/sasurau4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sasurau4/subscriptions", "organizations_url": "https://api.github.com/users/sasurau4/orgs", "repos_url": "https://api.github.com/users/sasurau4/repos", "events_url": "https://api.github.com/users/sasurau4/events{/privacy}", "received_events_url": "https://api.github.com/users/sasurau4/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sasurau4", "id": 13580199, "node_id": "MDQ6VXNlcjEzNTgwMTk5", "avatar_url": "https://avatars.githubusercontent.com/u/13580199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sasurau4", "html_url": "https://github.com/sasurau4", "followers_url": "https://api.github.com/users/sasurau4/followers", "following_url": "https://api.github.com/users/sasurau4/following{/other_user}", "gists_url": "https://api.github.com/users/sasurau4/gists{/gist_id}", "starred_url": "https://api.github.com/users/sasurau4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sasurau4/subscriptions", "organizations_url": "https://api.github.com/users/sasurau4/orgs", "repos_url": "https://api.github.com/users/sasurau4/repos", "events_url": "https://api.github.com/users/sasurau4/events{/privacy}", "received_events_url": "https://api.github.com/users/sasurau4/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7b9ee11a4c1d4fde0ecb0e45e0ebf674e5c775a8", "url": "https://api.github.com/repos/rust-lang/rust/commits/7b9ee11a4c1d4fde0ecb0e45e0ebf674e5c775a8", "html_url": "https://github.com/rust-lang/rust/commit/7b9ee11a4c1d4fde0ecb0e45e0ebf674e5c775a8"}], "stats": {"total": 95, "additions": 93, "deletions": 2}, "files": [{"sha": "ebfd5642c9fa8e34521b181c48e52f2cca2665db", "filename": "src/test/ui/label/label_misspelled.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled.rs?ref=e9ca2909ad49b9a15c7da29cc4350dda4aeefb10", "patch": "@@ -0,0 +1,18 @@\n+fn main() {\n+    'LOOP: loop {\n+        LOOP;\n+        //~^ ERROR cannot find value `LOOP` in this scope\n+    };\n+    'while_loop: while true { //~ WARN denote infinite loops with\n+        while_loop;\n+        //~^ ERROR cannot find value `while_loop` in this scope\n+    };\n+    'while_let: while let Some(_) = Some(()) {\n+        while_let;\n+        //~^ ERROR cannot find value `while_let` in this scope\n+    }\n+    'for_loop: for _ in 0..3 {\n+        for_loop;\n+        //~^ ERROR cannot find value `for_loop` in this scope\n+    };\n+}"}, {"sha": "1368ca4126cddd4901ac41ea5f4ba5db74885be3", "filename": "src/test/ui/label/label_misspelled.stderr", "status": "added", "additions": 47, "deletions": 0, "changes": 47, "blob_url": "https://github.com/rust-lang/rust/blob/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flabel%2Flabel_misspelled.stderr?ref=e9ca2909ad49b9a15c7da29cc4350dda4aeefb10", "patch": "@@ -0,0 +1,47 @@\n+error[E0425]: cannot find value `LOOP` in this scope\n+  --> $DIR/label_misspelled.rs:3:9\n+   |\n+LL |         LOOP;\n+   |         ^^^^\n+   |         |\n+   |         not found in this scope\n+   |         help: a label with a similar name exists: `'LOOP`\n+\n+error[E0425]: cannot find value `while_loop` in this scope\n+  --> $DIR/label_misspelled.rs:7:9\n+   |\n+LL |         while_loop;\n+   |         ^^^^^^^^^^\n+   |         |\n+   |         not found in this scope\n+   |         help: a label with a similar name exists: `'while_loop`\n+\n+error[E0425]: cannot find value `while_let` in this scope\n+  --> $DIR/label_misspelled.rs:11:9\n+   |\n+LL |         while_let;\n+   |         ^^^^^^^^^\n+   |         |\n+   |         not found in this scope\n+   |         help: a label with a similar name exists: `'while_let`\n+\n+error[E0425]: cannot find value `for_loop` in this scope\n+  --> $DIR/label_misspelled.rs:15:9\n+   |\n+LL |         for_loop;\n+   |         ^^^^^^^^\n+   |         |\n+   |         not found in this scope\n+   |         help: a label with a similar name exists: `'for_loop`\n+\n+warning: denote infinite loops with `loop { ... }`\n+  --> $DIR/label_misspelled.rs:6:5\n+   |\n+LL |     'while_loop: while true {\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^ help: use `loop`\n+   |\n+   = note: `#[warn(while_true)]` on by default\n+\n+error: aborting due to 4 previous errors; 1 warning emitted\n+\n+For more information about this error, try `rustc --explain E0425`."}, {"sha": "8a080cfdf494a6a7732a457647d711a32b6d1dfd", "filename": "src/test/ui/loops/loop-break-value.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10/src%2Ftest%2Fui%2Floops%2Floop-break-value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10/src%2Ftest%2Fui%2Floops%2Floop-break-value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Floops%2Floop-break-value.rs?ref=e9ca2909ad49b9a15c7da29cc4350dda4aeefb10", "patch": "@@ -90,4 +90,10 @@ fn main() {\n         break; //~ ERROR mismatched types\n         break 4;\n     };\n+\n+    'LOOP: for _ in 0 .. 9 {\n+        break LOOP;\n+        //~^ ERROR cannot find value `LOOP` in this scope\n+        //~| ERROR `break` with value from a `for` loop\n+    }\n }"}, {"sha": "0237435c8b46a0657fe4b6f3981bf7147434e3d7", "filename": "src/test/ui/loops/loop-break-value.stderr", "status": "modified", "additions": 22, "deletions": 2, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10/src%2Ftest%2Fui%2Floops%2Floop-break-value.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e9ca2909ad49b9a15c7da29cc4350dda4aeefb10/src%2Ftest%2Fui%2Floops%2Floop-break-value.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Floops%2Floop-break-value.stderr?ref=e9ca2909ad49b9a15c7da29cc4350dda4aeefb10", "patch": "@@ -1,3 +1,12 @@\n+error[E0425]: cannot find value `LOOP` in this scope\n+  --> $DIR/loop-break-value.rs:95:15\n+   |\n+LL |         break LOOP;\n+   |               ^^^^\n+   |               |\n+   |               not found in this scope\n+   |               help: a label with a similar name exists: `'LOOP`\n+\n warning: denote infinite loops with `loop { ... }`\n   --> $DIR/loop-break-value.rs:26:5\n    |\n@@ -94,6 +103,17 @@ help: instead, use `break` on its own without a value inside this `for` loop\n LL |             break;\n    |             ^^^^^\n \n+error[E0571]: `break` with value from a `for` loop\n+  --> $DIR/loop-break-value.rs:95:9\n+   |\n+LL |         break LOOP;\n+   |         ^^^^^^^^^^ can only break with a value inside `loop` or breakable block\n+   |\n+help: instead, use `break` on its own without a value inside this `for` loop\n+   |\n+LL |         break;\n+   |         ^^^^^\n+\n error[E0308]: mismatched types\n   --> $DIR/loop-break-value.rs:4:31\n    |\n@@ -151,7 +171,7 @@ LL |         break;\n    |         expected integer, found `()`\n    |         help: give it a value of the expected type: `break value`\n \n-error: aborting due to 16 previous errors; 1 warning emitted\n+error: aborting due to 18 previous errors; 1 warning emitted\n \n-Some errors have detailed explanations: E0308, E0571.\n+Some errors have detailed explanations: E0308, E0425, E0571.\n For more information about an error, try `rustc --explain E0308`."}]}