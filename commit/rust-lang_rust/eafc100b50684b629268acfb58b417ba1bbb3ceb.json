{"sha": "eafc100b50684b629268acfb58b417ba1bbb3ceb", "node_id": "C_kwDOAAsO6NoAKGVhZmMxMDBiNTA2ODRiNjI5MjY4YWNmYjU4YjQxN2JhMWJiYjNjZWI", "commit": {"author": {"name": "Oli Scherer", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2022-08-31T11:06:35Z"}, "committer": {"name": "Oli Scherer", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2022-08-31T11:06:35Z"}, "message": "Bump ui_test to 0.3.1", "tree": {"sha": "d01959d9f90c7221aecebf56b71251664fd037d9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d01959d9f90c7221aecebf56b71251664fd037d9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eafc100b50684b629268acfb58b417ba1bbb3ceb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eafc100b50684b629268acfb58b417ba1bbb3ceb", "html_url": "https://github.com/rust-lang/rust/commit/eafc100b50684b629268acfb58b417ba1bbb3ceb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eafc100b50684b629268acfb58b417ba1bbb3ceb/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b74654f25c15f69c2bf91e21db46aff32265741f", "url": "https://api.github.com/repos/rust-lang/rust/commits/b74654f25c15f69c2bf91e21db46aff32265741f", "html_url": "https://github.com/rust-lang/rust/commit/b74654f25c15f69c2bf91e21db46aff32265741f"}], "stats": {"total": 27, "additions": 12, "deletions": 15}, "files": [{"sha": "28be08c467cd4b94117d5afd6091c88fba6a7cfb", "filename": "Cargo.lock", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/eafc100b50684b629268acfb58b417ba1bbb3ceb/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/eafc100b50684b629268acfb58b417ba1bbb3ceb/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=eafc100b50684b629268acfb58b417ba1bbb3ceb", "patch": "@@ -754,9 +754,9 @@ dependencies = [\n \n [[package]]\n name = \"ui_test\"\n-version = \"0.2.0\"\n+version = \"0.3.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"ee6b579f4a09b0cf15b910e8edbaaae5bc66d0674a892ec4dbd5e8a5d094d979\"\n+checksum = \"7d1f546a5883ae78da735bba529ec1116661e2f73582f23920d994dc97da3a22\"\n dependencies = [\n  \"cargo_metadata\",\n  \"color-eyre\","}, {"sha": "0a3dfc2a84e31be73cb46e46aed87aea49cf248d", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/eafc100b50684b629268acfb58b417ba1bbb3ceb/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/eafc100b50684b629268acfb58b417ba1bbb3ceb/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=eafc100b50684b629268acfb58b417ba1bbb3ceb", "patch": "@@ -40,7 +40,7 @@ libc = \"0.2\"\n \n [dev-dependencies]\n colored = \"2\"\n-ui_test = \"0.2\"\n+ui_test = \"0.3.1\"\n # Features chosen to match those required by env_logger, to avoid rebuilds\n regex = { version = \"1.5.5\", default-features = false, features = [\"perf\", \"std\"] }\n lazy_static = \"1.4.0\""}, {"sha": "fc5b8c6fa99f77a6509bde6966d8068a27057eb8", "filename": "tests/compiletest.rs", "status": "modified", "additions": 9, "deletions": 12, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/eafc100b50684b629268acfb58b417ba1bbb3ceb/tests%2Fcompiletest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eafc100b50684b629268acfb58b417ba1bbb3ceb/tests%2Fcompiletest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompiletest.rs?ref=eafc100b50684b629268acfb58b417ba1bbb3ceb", "patch": "@@ -2,7 +2,7 @@ use colored::*;\n use regex::Regex;\n use std::path::{Path, PathBuf};\n use std::{env, process::Command};\n-use ui_test::{color_eyre::Result, Config, DependencyBuilder, Mode, OutputConflictHandling};\n+use ui_test::{color_eyre::Result, Config, Mode, OutputConflictHandling};\n \n fn miri_path() -> PathBuf {\n     PathBuf::from(option_env!(\"MIRI\").unwrap_or(env!(\"CARGO_BIN_EXE_miri\")))\n@@ -114,17 +114,14 @@ fn run_tests(\n     if with_dependencies && use_std {\n         config.dependencies_crate_manifest_path =\n             Some(Path::new(\"test_dependencies\").join(\"Cargo.toml\"));\n-        config.dependency_builder = Some(DependencyBuilder {\n-            program: std::env::var_os(\"CARGO\").unwrap().into(),\n-            args: vec![\n-                \"run\".into(),\n-                \"--manifest-path\".into(),\n-                \"cargo-miri/Cargo.toml\".into(),\n-                \"--\".into(),\n-                \"miri\".into(),\n-            ],\n-            envs: vec![],\n-        });\n+        config.dependency_builder.args = vec![\n+            \"run\".into(),\n+            \"--manifest-path\".into(),\n+            \"cargo-miri/Cargo.toml\".into(),\n+            \"--\".into(),\n+            \"miri\".into(),\n+            \"run\".into(),\n+        ];\n     }\n     ui_test::run_tests(config)\n }"}]}