{"sha": "64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY0YzBlZmFiODViYTBmYTEzMWEzM2U0ZDViZDgxODlmYTExNTlhNzU=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2018-10-20T21:02:06Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2018-10-21T11:06:28Z"}, "message": "Make some ui/parser tests compile-pass", "tree": {"sha": "35f74d2c9b22901092dbddabf5d0a345bbf0cc1a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/35f74d2c9b22901092dbddabf5d0a345bbf0cc1a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "html_url": "https://github.com/rust-lang/rust/commit/64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "51f3b6241df34249c7a8100a5dde75e6ab95533d", "url": "https://api.github.com/repos/rust-lang/rust/commits/51f3b6241df34249c7a8100a5dde75e6ab95533d", "html_url": "https://github.com/rust-lang/rust/commit/51f3b6241df34249c7a8100a5dde75e6ab95533d"}], "stats": {"total": 79, "additions": 11, "deletions": 68}, "files": [{"sha": "7b47bbd951edee86b0393fff2dae9c861b6acd20", "filename": "src/test/ui/parser/bounds-obj-parens.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Fbounds-obj-parens.rs", "raw_url": "https://github.com/rust-lang/rust/raw/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Fbounds-obj-parens.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fbounds-obj-parens.rs?ref=64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "patch": "@@ -8,9 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// compile-pass\n // compile-flags: -Z parse-only\n \n type A = Box<(Fn(D::Error) -> E) + 'static + Send + Sync>; // OK (but see #39318)\n-\n-FAIL\n-//~^ ERROR"}, {"sha": "67dcbc45419411ebc58149c480fd5d369f31a7d6", "filename": "src/test/ui/parser/bounds-obj-parens.stderr", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/51f3b6241df34249c7a8100a5dde75e6ab95533d/src%2Ftest%2Fui%2Fparser%2Fbounds-obj-parens.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/51f3b6241df34249c7a8100a5dde75e6ab95533d/src%2Ftest%2Fui%2Fparser%2Fbounds-obj-parens.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fbounds-obj-parens.stderr?ref=51f3b6241df34249c7a8100a5dde75e6ab95533d", "patch": "@@ -1,8 +0,0 @@\n-error: expected one of `!` or `::`, found `<eof>`\n-  --> $DIR/bounds-obj-parens.rs:15:1\n-   |\n-LL | FAIL\n-   | ^^^^ expected one of `!` or `::` here\n-\n-error: aborting due to previous error\n-"}, {"sha": "5dced73c90d4b8bb64e92f81c0f4c6de5b07eee2", "filename": "src/test/ui/parser/impl-qpath.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Fimpl-qpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Fimpl-qpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fimpl-qpath.rs?ref=64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "patch": "@@ -8,11 +8,10 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// compile-pass\n // compile-flags: -Z parse-only\n \n impl <*const u8>::AssocTy {} // OK\n impl <Type as Trait>::AssocTy {} // OK\n impl <'a + Trait>::AssocTy {} // OK\n impl <<Type>::AssocTy>::AssocTy {} // OK\n-\n-FAIL //~ ERROR"}, {"sha": "38a28f9001da90513ca3a6ed4973793536ffed0f", "filename": "src/test/ui/parser/impl-qpath.stderr", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/51f3b6241df34249c7a8100a5dde75e6ab95533d/src%2Ftest%2Fui%2Fparser%2Fimpl-qpath.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/51f3b6241df34249c7a8100a5dde75e6ab95533d/src%2Ftest%2Fui%2Fparser%2Fimpl-qpath.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fimpl-qpath.stderr?ref=51f3b6241df34249c7a8100a5dde75e6ab95533d", "patch": "@@ -1,8 +0,0 @@\n-error: expected one of `!` or `::`, found `<eof>`\n-  --> $DIR/impl-qpath.rs:18:1\n-   |\n-LL | FAIL //~ ERROR\n-   | ^^^^ expected one of `!` or `::` here\n-\n-error: aborting due to previous error\n-"}, {"sha": "b0dda815f83036e5f867292343cdb6b429c8c9de", "filename": "src/test/ui/parser/trailing-plus-in-bounds.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Ftrailing-plus-in-bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Ftrailing-plus-in-bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Ftrailing-plus-in-bounds.rs?ref=64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "patch": "@@ -8,13 +8,11 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// compile-pass\n // compile-flags: -Z parse-only -Z continue-parse-after-error\n \n use std::fmt::Debug;\n \n fn main() {\n     let x: Box<Debug+> = box 3 as Box<Debug+>; // Trailing `+` is OK\n }\n-\n-FAIL\n-//~^ ERROR"}, {"sha": "1719b1d5e08a34b1b776fb38b9332eb063a93495", "filename": "src/test/ui/parser/trailing-plus-in-bounds.stderr", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/51f3b6241df34249c7a8100a5dde75e6ab95533d/src%2Ftest%2Fui%2Fparser%2Ftrailing-plus-in-bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/51f3b6241df34249c7a8100a5dde75e6ab95533d/src%2Ftest%2Fui%2Fparser%2Ftrailing-plus-in-bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Ftrailing-plus-in-bounds.stderr?ref=51f3b6241df34249c7a8100a5dde75e6ab95533d", "patch": "@@ -1,8 +0,0 @@\n-error: expected one of `!` or `::`, found `<eof>`\n-  --> $DIR/trailing-plus-in-bounds.rs:19:1\n-   |\n-LL | FAIL\n-   | ^^^^ expected one of `!` or `::` here\n-\n-error: aborting due to previous error\n-"}, {"sha": "1feb0c84532a87a1d65fa985f305043e99beac63", "filename": "src/test/ui/parser/trait-object-trait-parens.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Ftrait-object-trait-parens.rs", "raw_url": "https://github.com/rust-lang/rust/raw/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Ftrait-object-trait-parens.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Ftrait-object-trait-parens.rs?ref=64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "patch": "@@ -8,6 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// compile-pass\n // compile-flags: -Z parse-only\n \n fn f<T: (Copy) + (?Sized) + (for<'a> Trait<'a>)>() {}\n@@ -17,5 +18,3 @@ fn main() {\n     let _: Box<(?Sized) + (for<'a> Trait<'a>) + (Copy)>;\n     let _: Box<(for<'a> Trait<'a>) + (Copy) + (?Sized)>;\n }\n-\n-FAIL //~ ERROR"}, {"sha": "27f13d77876b33874017f314f026e97026ac9a46", "filename": "src/test/ui/parser/trait-object-trait-parens.stderr", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/51f3b6241df34249c7a8100a5dde75e6ab95533d/src%2Ftest%2Fui%2Fparser%2Ftrait-object-trait-parens.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/51f3b6241df34249c7a8100a5dde75e6ab95533d/src%2Ftest%2Fui%2Fparser%2Ftrait-object-trait-parens.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Ftrait-object-trait-parens.stderr?ref=51f3b6241df34249c7a8100a5dde75e6ab95533d", "patch": "@@ -1,8 +0,0 @@\n-error: expected one of `!` or `::`, found `<eof>`\n-  --> $DIR/trait-object-trait-parens.rs:21:1\n-   |\n-LL | FAIL //~ ERROR\n-   | ^^^^ expected one of `!` or `::` here\n-\n-error: aborting due to previous error\n-"}, {"sha": "32174d6254a96aa4a2b7b1cb0c7f69675df6aee0", "filename": "src/test/ui/parser/trait-plusequal-splitting.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Ftrait-plusequal-splitting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Ftrait-plusequal-splitting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Ftrait-plusequal-splitting.rs?ref=64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "patch": "@@ -8,13 +8,12 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// compile-flags: -Z parse-only\n // Fixes issue where `+` in generics weren't parsed if they were part of a `+=`.\n \n+// compile-pass\n+// compile-flags: -Z parse-only\n+\n struct Whitespace<T: Clone + = ()> { t: T }\n struct TokenSplit<T: Clone +=  ()> { t: T }\n \n-fn main() {\n-}\n-\n-FAIL //~ ERROR\n+fn main() {}"}, {"sha": "266473ed222a4c2285aa679facb683f0defba15d", "filename": "src/test/ui/parser/trait-plusequal-splitting.stderr", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/51f3b6241df34249c7a8100a5dde75e6ab95533d/src%2Ftest%2Fui%2Fparser%2Ftrait-plusequal-splitting.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/51f3b6241df34249c7a8100a5dde75e6ab95533d/src%2Ftest%2Fui%2Fparser%2Ftrait-plusequal-splitting.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Ftrait-plusequal-splitting.stderr?ref=51f3b6241df34249c7a8100a5dde75e6ab95533d", "patch": "@@ -1,8 +0,0 @@\n-error: expected one of `!` or `::`, found `<eof>`\n-  --> $DIR/trait-plusequal-splitting.rs:20:1\n-   |\n-LL | FAIL //~ ERROR\n-   | ^^^^ expected one of `!` or `::` here\n-\n-error: aborting due to previous error\n-"}, {"sha": "6917134c5f7e41668aa8ab9b6250d1f0fc553ddf", "filename": "src/test/ui/parser/underscore-suffix-for-string.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Funderscore-suffix-for-string.rs", "raw_url": "https://github.com/rust-lang/rust/raw/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Funderscore-suffix-for-string.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Funderscore-suffix-for-string.rs?ref=64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "patch": "@@ -8,13 +8,11 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// compile-pass\n+\n fn main() {\n     let _ = \"Foo\"_;\n     //~^ WARNING underscore literal suffix is not allowed\n     //~| WARNING this was previously accepted\n     //~| NOTE issue #42326\n }\n-\n-FAIL\n-//~^ ERROR\n-//~| NOTE"}, {"sha": "5455588cf17a4b165258f3fc9ab68d1ab9ec20cf", "filename": "src/test/ui/parser/underscore-suffix-for-string.stderr", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Funderscore-suffix-for-string.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/64c0efab85ba0fa131a33e4d5bd8189fa1159a75/src%2Ftest%2Fui%2Fparser%2Funderscore-suffix-for-string.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Funderscore-suffix-for-string.stderr?ref=64c0efab85ba0fa131a33e4d5bd8189fa1159a75", "patch": "@@ -1,17 +1,9 @@\n warning: underscore literal suffix is not allowed\n-  --> $DIR/underscore-suffix-for-string.rs:12:18\n+  --> $DIR/underscore-suffix-for-string.rs:14:18\n    |\n LL |     let _ = \"Foo\"_;\n    |                  ^\n    |\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n    = note: for more information, see issue #42326 <https://github.com/rust-lang/rust/issues/42326>\n \n-error: expected one of `!` or `::`, found `<eof>`\n-  --> $DIR/underscore-suffix-for-string.rs:18:1\n-   |\n-LL | FAIL\n-   | ^^^^ expected one of `!` or `::` here\n-\n-error: aborting due to previous error\n-"}]}