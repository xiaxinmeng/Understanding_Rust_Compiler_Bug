{"sha": "4ff65ec7823d4ec16c4b88e53b5a76f71b27e324", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRmZjY1ZWM3ODIzZDRlYzE2YzRiODhlNTNiNWE3NmY3MWIyN2UzMjQ=", "commit": {"author": {"name": "Jack Huey", "email": "jack.huey@umassmed.edu", "date": "2021-03-12T02:49:41Z"}, "committer": {"name": "Jack Huey", "email": "jack.huey@umassmed.edu", "date": "2021-03-31T14:16:37Z"}, "message": "Fmt and test revert", "tree": {"sha": "1147c2f4ab9820228396876d4d6f69a8fa012d68", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1147c2f4ab9820228396876d4d6f69a8fa012d68"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324", "html_url": "https://github.com/rust-lang/rust/commit/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324/comments", "author": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8ad7e5685ee38af0d1c62808c4eaf8301f3a0db8", "url": "https://api.github.com/repos/rust-lang/rust/commits/8ad7e5685ee38af0d1c62808c4eaf8301f3a0db8", "html_url": "https://github.com/rust-lang/rust/commit/8ad7e5685ee38af0d1c62808c4eaf8301f3a0db8"}], "stats": {"total": 77, "additions": 39, "deletions": 38}, "files": [{"sha": "70f3ac3004042708a5d548bbf1187ca4773f7b91", "filename": "compiler/rustc_middle/src/ty/fold.rs", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324/compiler%2Frustc_middle%2Fsrc%2Fty%2Ffold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324/compiler%2Frustc_middle%2Fsrc%2Fty%2Ffold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Ffold.rs?ref=4ff65ec7823d4ec16c4b88e53b5a76f71b27e324", "patch": "@@ -879,14 +879,14 @@ impl<'tcx> TypeVisitor<'tcx> for ValidateBoundVars<'tcx> {\n                         if kind != bound_ty.kind {\n                             bug!(\n                                 \"Mismatched type kinds: {:?} doesn't var in list {:?}\",\n-                                bound_ty.kind, list_var\n+                                bound_ty.kind,\n+                                list_var\n                             );\n                         }\n                     }\n-                    _ => bug!(\n-                        \"Mismatched bound variable kinds! Expected type, found {:?}\",\n-                        list_var\n-                    ),\n+                    _ => {\n+                        bug!(\"Mismatched bound variable kinds! Expected type, found {:?}\", list_var)\n+                    }\n                 }\n             }\n \n@@ -908,7 +908,9 @@ impl<'tcx> TypeVisitor<'tcx> for ValidateBoundVars<'tcx> {\n                         if kind != br.kind {\n                             bug!(\n                                 \"Mismatched region kinds: {:?} doesn't match var ({:?}) in list ({:?})\",\n-                                br.kind, list_var, self.bound_vars\n+                                br.kind,\n+                                list_var,\n+                                self.bound_vars\n                             );\n                         }\n                     }"}, {"sha": "bd32a39a65cb06a50a179b74630dc1bc76253443", "filename": "src/test/ui/symbol-names/impl1.legacy.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.legacy.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.legacy.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.legacy.stderr?ref=4ff65ec7823d4ec16c4b88e53b5a76f71b27e324", "patch": "@@ -1,71 +1,71 @@\n-error: symbol-name(_ZN5impl13foo3Foo3bar17h2e76f87b171019e0E)\n-  --> $DIR/impl1.rs:16:9\n+error: symbol-name(_ZN5impl13foo3Foo3bar17<SYMBOL_HASH>)\n+  --> $DIR/impl1.rs:15:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n-error: demangling(impl1::foo::Foo::bar::h2e76f87b171019e0)\n-  --> $DIR/impl1.rs:16:9\n+error: demangling(impl1::foo::Foo::bar::<SYMBOL_HASH>)\n+  --> $DIR/impl1.rs:15:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: demangling-alt(impl1::foo::Foo::bar)\n-  --> $DIR/impl1.rs:16:9\n+  --> $DIR/impl1.rs:15:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: def-path(foo::Foo::bar)\n-  --> $DIR/impl1.rs:23:9\n+  --> $DIR/impl1.rs:22:9\n    |\n LL |         #[rustc_def_path]\n    |         ^^^^^^^^^^^^^^^^^\n \n-error: symbol-name(_ZN5impl13bar33_$LT$impl$u20$impl1..foo..Foo$GT$3baz17hb388a171ee84bca1E)\n-  --> $DIR/impl1.rs:34:9\n+error: symbol-name(_ZN5impl13bar33_$LT$impl$u20$impl1..foo..Foo$GT$3baz17<SYMBOL_HASH>)\n+  --> $DIR/impl1.rs:33:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n-error: demangling(impl1::bar::<impl impl1::foo::Foo>::baz::hb388a171ee84bca1)\n-  --> $DIR/impl1.rs:34:9\n+error: demangling(impl1::bar::<impl impl1::foo::Foo>::baz::<SYMBOL_HASH>)\n+  --> $DIR/impl1.rs:33:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: demangling-alt(impl1::bar::<impl impl1::foo::Foo>::baz)\n-  --> $DIR/impl1.rs:34:9\n+  --> $DIR/impl1.rs:33:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: def-path(bar::<impl foo::Foo>::baz)\n-  --> $DIR/impl1.rs:41:9\n+  --> $DIR/impl1.rs:40:9\n    |\n LL |         #[rustc_def_path]\n    |         ^^^^^^^^^^^^^^^^^\n \n-error: symbol-name(_ZN209_$LT$$u5b$$RF$dyn$u20$impl1..Foo$u2b$Assoc$u20$$u3d$$u20$extern$u20$$u22$C$u22$$u20$fn$LP$$RF$u8$C$$u20$...$RP$$u2b$impl1..AutoTrait$u3b$$u20$3$u5d$$u20$as$u20$impl1..main..$u7b$$u7b$closure$u7d$$u7d$..Bar$GT$6method17SYMBOL_HASH)\n-  --> $DIR/impl1.rs:64:13\n+error: symbol-name(_ZN209_$LT$$u5b$$RF$dyn$u20$impl1..Foo$u2b$Assoc$u20$$u3d$$u20$extern$u20$$u22$C$u22$$u20$fn$LP$$RF$u8$C$$u20$...$RP$$u2b$impl1..AutoTrait$u3b$$u20$3$u5d$$u20$as$u20$impl1..main..$u7b$$u7b$closure$u7d$$u7d$..Bar$GT$6method17<SYMBOL_HASH>)\n+  --> $DIR/impl1.rs:63:13\n    |\n LL |             #[rustc_symbol_name]\n    |             ^^^^^^^^^^^^^^^^^^^^\n \n-error: demangling(<[&dyn impl1::Foo+Assoc = extern \"C\" fn(&u8, ::.)+impl1::AutoTrait; 3] as impl1::main::{{closure}}::Bar>::method::SYMBOL_HASH)\n-  --> $DIR/impl1.rs:64:13\n+error: demangling(<[&dyn impl1::Foo+Assoc = extern \"C\" fn(&u8, ::.)+impl1::AutoTrait; 3] as impl1::main::{{closure}}::Bar>::method::<SYMBOL_HASH>)\n+  --> $DIR/impl1.rs:63:13\n    |\n LL |             #[rustc_symbol_name]\n    |             ^^^^^^^^^^^^^^^^^^^^\n \n error: demangling-alt(<[&dyn impl1::Foo+Assoc = extern \"C\" fn(&u8, ::.)+impl1::AutoTrait; 3] as impl1::main::{{closure}}::Bar>::method)\n-  --> $DIR/impl1.rs:64:13\n+  --> $DIR/impl1.rs:63:13\n    |\n LL |             #[rustc_symbol_name]\n    |             ^^^^^^^^^^^^^^^^^^^^\n \n error: def-path(<[&dyn Foo<Assoc = for<'r> extern \"C\" fn(&'r u8, ...)> + AutoTrait; 3] as main::{closure#1}::Bar>::method)\n-  --> $DIR/impl1.rs:71:13\n+  --> $DIR/impl1.rs:70:13\n    |\n LL |             #[rustc_def_path]\n    |             ^^^^^^^^^^^^^^^^^"}, {"sha": "771695330d8bd92851a289e95b4618ae91f147aa", "filename": "src/test/ui/symbol-names/impl1.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.rs?ref=4ff65ec7823d4ec16c4b88e53b5a76f71b27e324", "patch": "@@ -3,8 +3,7 @@\n // revisions: legacy v0\n //[legacy]compile-flags: -Z symbol-mangling-version=legacy\n     //[v0]compile-flags: -Z symbol-mangling-version=v0\n-//[legacy]normalize-stderr-test: \"method17h[\\d\\w]+\" -> \"method17SYMBOL_HASH\"\n-//[legacy]normalize-stderr-test: \"method::h[\\d\\w]+\" -> \"method::SYMBOL_HASH\"\n+//[legacy]normalize-stderr-test: \"h[\\w]{16}E?\\)\" -> \"<SYMBOL_HASH>)\"\n \n #![feature(auto_traits, rustc_attrs)]\n #![allow(dead_code)]"}, {"sha": "3a6610935d6e3dcc8fa303912df4e09c8fab9bd5", "filename": "src/test/ui/symbol-names/impl1.v0.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.v0.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4ff65ec7823d4ec16c4b88e53b5a76f71b27e324/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.v0.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.v0.stderr?ref=4ff65ec7823d4ec16c4b88e53b5a76f71b27e324", "patch": "@@ -1,71 +1,71 @@\n error: symbol-name(_RNvMNtCs21hi0yVfW1J_5impl13fooNtB2_3Foo3bar)\n-  --> $DIR/impl1.rs:16:9\n+  --> $DIR/impl1.rs:15:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: demangling(<impl1[17891616a171812d]::foo::Foo>::bar)\n-  --> $DIR/impl1.rs:16:9\n+  --> $DIR/impl1.rs:15:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: demangling-alt(<impl1::foo::Foo>::bar)\n-  --> $DIR/impl1.rs:16:9\n+  --> $DIR/impl1.rs:15:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: def-path(foo::Foo::bar)\n-  --> $DIR/impl1.rs:23:9\n+  --> $DIR/impl1.rs:22:9\n    |\n LL |         #[rustc_def_path]\n    |         ^^^^^^^^^^^^^^^^^\n \n error: symbol-name(_RNvMNtCs21hi0yVfW1J_5impl13barNtNtB4_3foo3Foo3baz)\n-  --> $DIR/impl1.rs:34:9\n+  --> $DIR/impl1.rs:33:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: demangling(<impl1[17891616a171812d]::foo::Foo>::baz)\n-  --> $DIR/impl1.rs:34:9\n+  --> $DIR/impl1.rs:33:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: demangling-alt(<impl1::foo::Foo>::baz)\n-  --> $DIR/impl1.rs:34:9\n+  --> $DIR/impl1.rs:33:9\n    |\n LL |         #[rustc_symbol_name]\n    |         ^^^^^^^^^^^^^^^^^^^^\n \n error: def-path(bar::<impl foo::Foo>::baz)\n-  --> $DIR/impl1.rs:41:9\n+  --> $DIR/impl1.rs:40:9\n    |\n LL |         #[rustc_def_path]\n    |         ^^^^^^^^^^^^^^^^^\n \n error: symbol-name(_RNvXNCNvCs21hi0yVfW1J_5impl14mains_0ARDNtB6_3Foop5AssocFG_KCRL0_hvEuNtB6_9AutoTraitEL_j3_NtB2_3Bar6method)\n-  --> $DIR/impl1.rs:64:13\n+  --> $DIR/impl1.rs:63:13\n    |\n LL |             #[rustc_symbol_name]\n    |             ^^^^^^^^^^^^^^^^^^^^\n \n error: demangling(<[&dyn impl1[17891616a171812d]::Foo<Assoc = for<'a> extern \"C\" fn(&'a u8, ...)> + impl1[17891616a171812d]::AutoTrait; 3: usize] as impl1[17891616a171812d]::main::{closure#1}::Bar>::method)\n-  --> $DIR/impl1.rs:64:13\n+  --> $DIR/impl1.rs:63:13\n    |\n LL |             #[rustc_symbol_name]\n    |             ^^^^^^^^^^^^^^^^^^^^\n \n error: demangling-alt(<[&dyn impl1::Foo<Assoc = for<'a> extern \"C\" fn(&'a u8, ...)> + impl1::AutoTrait; 3] as impl1::main::{closure#1}::Bar>::method)\n-  --> $DIR/impl1.rs:64:13\n+  --> $DIR/impl1.rs:63:13\n    |\n LL |             #[rustc_symbol_name]\n    |             ^^^^^^^^^^^^^^^^^^^^\n \n error: def-path(<[&dyn Foo<Assoc = for<'r> extern \"C\" fn(&'r u8, ...)> + AutoTrait; 3] as main::{closure#1}::Bar>::method)\n-  --> $DIR/impl1.rs:71:13\n+  --> $DIR/impl1.rs:70:13\n    |\n LL |             #[rustc_def_path]\n    |             ^^^^^^^^^^^^^^^^^"}]}