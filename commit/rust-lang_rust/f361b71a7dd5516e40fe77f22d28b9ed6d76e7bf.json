{"sha": "f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYzNjFiNzFhN2RkNTUxNmU0MGZlNzdmMjJkMjhiOWVkNmQ3NmU3YmY=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-01-05T09:47:20Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-01-11T02:26:16Z"}, "message": "nix syntax::early_buffered_lints", "tree": {"sha": "27655a39df035875ab3cba41bc078710002ca1a8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/27655a39df035875ab3cba41bc078710002ca1a8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "html_url": "https://github.com/rust-lang/rust/commit/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2b44a6c8f4053cf5f8acf026ffdbc329709e5c3d", "url": "https://api.github.com/repos/rust-lang/rust/commits/2b44a6c8f4053cf5f8acf026ffdbc329709e5c3d", "html_url": "https://github.com/rust-lang/rust/commit/2b44a6c8f4053cf5f8acf026ffdbc329709e5c3d"}], "stats": {"total": 34, "additions": 15, "deletions": 19}, "files": [{"sha": "b8086c83b8dd328da5da5a1636226890246cdcee", "filename": "Cargo.lock", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "patch": "@@ -3386,6 +3386,7 @@ dependencies = [\n  \"rustc_expand\",\n  \"rustc_feature\",\n  \"rustc_parse\",\n+ \"rustc_session\",\n  \"rustc_span\",\n  \"rustc_target\",\n  \"smallvec 1.0.0\",\n@@ -3544,6 +3545,7 @@ dependencies = [\n  \"rustc_feature\",\n  \"rustc_lexer\",\n  \"rustc_parse\",\n+ \"rustc_session\",\n  \"rustc_span\",\n  \"serialize\",\n  \"smallvec 1.0.0\",\n@@ -3769,6 +3771,7 @@ dependencies = [\n  \"rustc_errors\",\n  \"rustc_feature\",\n  \"rustc_lexer\",\n+ \"rustc_session\",\n  \"rustc_span\",\n  \"smallvec 1.0.0\",\n  \"syntax\","}, {"sha": "4afeb14494850bd2742a253f08094239deb863ce", "filename": "src/librustc/lint/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc%2Flint%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc%2Flint%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Fmod.rs?ref=f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "patch": "@@ -21,11 +21,11 @@\n pub use self::Level::*;\n pub use self::LintSource::*;\n \n-use crate::lint::builtin::HardwiredLints;\n use crate::ty::TyCtxt;\n use rustc_data_structures::sync;\n use rustc_errors::{DiagnosticBuilder, DiagnosticId};\n use rustc_hir as hir;\n+use rustc_session::lint::builtin::HardwiredLints;\n use rustc_session::{DiagnosticMessageId, Session};\n use rustc_span::hygiene::MacroKind;\n use rustc_span::source_map::{DesugaringKind, ExpnKind, MultiSpan};"}, {"sha": "f291eaf93580bf526ecf1bb8594518ab584df985", "filename": "src/librustc_builtin_macros/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_builtin_macros%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_builtin_macros%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2FCargo.toml?ref=f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "patch": "@@ -17,6 +17,7 @@ rustc_errors = { path = \"../librustc_errors\" }\n rustc_feature = { path = \"../librustc_feature\" }\n rustc_parse = { path = \"../librustc_parse\" }\n rustc_target = { path = \"../librustc_target\" }\n+rustc_session = { path = \"../librustc_session\" }\n smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n syntax = { path = \"../libsyntax\" }\n rustc_expand = { path = \"../librustc_expand\" }"}, {"sha": "dc85a92d272c48bb21d047cbdb4f873b8e5b3150", "filename": "src/librustc_builtin_macros/source_util.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_builtin_macros%2Fsource_util.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_builtin_macros%2Fsource_util.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fsource_util.rs?ref=f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "patch": "@@ -1,15 +1,15 @@\n use rustc_expand::base::{self, *};\n use rustc_expand::panictry;\n use rustc_parse::{self, new_sub_parser_from_file, parser::Parser, DirectoryOwnership};\n+use rustc_session::lint::builtin::INCOMPLETE_INCLUDE;\n use rustc_span::symbol::Symbol;\n+use rustc_span::{self, Pos, Span};\n use syntax::ast;\n-use syntax::early_buffered_lints::INCOMPLETE_INCLUDE;\n use syntax::print::pprust;\n use syntax::ptr::P;\n use syntax::token;\n use syntax::tokenstream::TokenStream;\n \n-use rustc_span::{self, Pos, Span};\n use smallvec::SmallVec;\n \n use rustc_data_structures::sync::Lrc;"}, {"sha": "2aa1f93378a408afd805ac2b5d9c5cab822295f9", "filename": "src/librustc_expand/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_expand%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_expand%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2FCargo.toml?ref=f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "patch": "@@ -19,5 +19,6 @@ rustc_errors = { path = \"../librustc_errors\" }\n rustc_feature = { path = \"../librustc_feature\" }\n rustc_lexer = { path = \"../librustc_lexer\" }\n rustc_parse = { path = \"../librustc_parse\" }\n+rustc_session = { path = \"../librustc_session\" }\n smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n syntax = { path = \"../libsyntax\" }"}, {"sha": "47865b2fb9fc36338c1dea2fdfbf4cb37392ae01", "filename": "src/librustc_expand/mbe/macro_check.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_expand%2Fmbe%2Fmacro_check.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_expand%2Fmbe%2Fmacro_check.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fmbe%2Fmacro_check.rs?ref=f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "patch": "@@ -106,14 +106,14 @@\n //! bound.\n use crate::mbe::{KleeneToken, TokenTree};\n \n+use rustc_data_structures::fx::FxHashMap;\n+use rustc_session::lint::builtin::META_VARIABLE_MISUSE;\n+use rustc_session::parse::ParseSess;\n use rustc_span::symbol::{kw, sym};\n+use rustc_span::{symbol::Ident, MultiSpan, Span};\n use syntax::ast::NodeId;\n-use syntax::early_buffered_lints::META_VARIABLE_MISUSE;\n-use syntax::sess::ParseSess;\n use syntax::token::{DelimToken, Token, TokenKind};\n \n-use rustc_data_structures::fx::FxHashMap;\n-use rustc_span::{symbol::Ident, MultiSpan, Span};\n use smallvec::SmallVec;\n \n /// Stack represented as linked list."}, {"sha": "aa159c55ff2846ed68784580de6b32b46334bcf2", "filename": "src/librustc_parse/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_parse%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_parse%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_parse%2FCargo.toml?ref=f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "patch": "@@ -18,6 +18,7 @@ rustc_lexer = { path = \"../librustc_lexer\" }\n rustc_errors = { path = \"../librustc_errors\" }\n rustc_error_codes = { path = \"../librustc_error_codes\" }\n smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n+rustc_session = { path = \"../librustc_session\" }\n rustc_span = { path = \"../librustc_span\" }\n syntax = { path = \"../libsyntax\" }\n unicode-normalization = \"0.1.11\""}, {"sha": "84562fbb46ff2bbfd133982060405d97a0b2f4f7", "filename": "src/librustc_parse/validate_attr.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_parse%2Fvalidate_attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibrustc_parse%2Fvalidate_attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_parse%2Fvalidate_attr.rs?ref=f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "patch": "@@ -4,10 +4,10 @@ use crate::parse_in;\n \n use rustc_errors::{Applicability, PResult};\n use rustc_feature::{AttributeTemplate, BUILTIN_ATTRIBUTE_MAP};\n+use rustc_session::lint::builtin::ILL_FORMED_ATTRIBUTE_INPUT;\n+use rustc_session::parse::ParseSess;\n use rustc_span::{sym, Symbol};\n use syntax::ast::{self, Attribute, MacArgs, MacDelimiter, MetaItem, MetaItemKind};\n-use syntax::early_buffered_lints::ILL_FORMED_ATTRIBUTE_INPUT;\n-use syntax::sess::ParseSess;\n use syntax::tokenstream::DelimSpan;\n \n pub fn check_meta(sess: &ParseSess, attr: &Attribute) {"}, {"sha": "8df4eb6c9ace461db0912cfb973046836acb8439", "filename": "src/libsyntax/early_buffered_lints.rs", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/2b44a6c8f4053cf5f8acf026ffdbc329709e5c3d/src%2Flibsyntax%2Fearly_buffered_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2b44a6c8f4053cf5f8acf026ffdbc329709e5c3d/src%2Flibsyntax%2Fearly_buffered_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fearly_buffered_lints.rs?ref=2b44a6c8f4053cf5f8acf026ffdbc329709e5c3d", "patch": "@@ -1,8 +0,0 @@\n-//! Allows the buffering of lints for later.\n-//!\n-//! Since we cannot have a dependency on `librustc`, we implement some types here that are somewhat\n-//! redundant. Later, these types can be converted to types for use by the rest of the compiler.\n-\n-pub use rustc_session::lint::builtin::ILL_FORMED_ATTRIBUTE_INPUT;\n-pub use rustc_session::lint::builtin::{INCOMPLETE_INCLUDE, META_VARIABLE_MISUSE};\n-pub use rustc_session::lint::BufferedEarlyLint;"}, {"sha": "75c647f2daa167c519f871d69fd3f7c0d7d8656f", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=f361b71a7dd5516e40fe77f22d28b9ed6d76e7bf", "patch": "@@ -93,8 +93,6 @@ pub mod print {\n     pub mod pprust;\n }\n \n-pub mod early_buffered_lints;\n-\n use rustc_data_structures::stable_hasher::{HashStable, StableHasher};\n \n /// Requirements for a `StableHashingContext` to be used in this crate."}]}