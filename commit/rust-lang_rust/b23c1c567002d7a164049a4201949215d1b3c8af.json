{"sha": "b23c1c567002d7a164049a4201949215d1b3c8af", "node_id": "C_kwDOAAsO6NoAKGIyM2MxYzU2NzAwMmQ3YTE2NDA0OWE0MjAxOTQ5MjE1ZDFiM2M4YWY", "commit": {"author": {"name": "12101111", "email": "w12101111@gmail.com", "date": "2021-11-03T13:12:15Z"}, "committer": {"name": "12101111", "email": "w12101111@gmail.com", "date": "2021-11-03T13:12:15Z"}, "message": "Provide standalone libc.a in self-contained for musl and wasi", "tree": {"sha": "0285b91d8a8ee6c30dd54bd155b0d11f7783c714", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0285b91d8a8ee6c30dd54bd155b0d11f7783c714"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b23c1c567002d7a164049a4201949215d1b3c8af", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEERq7VLWSlisBf3CZ8l3hfrfOKl9wFAmGCizUACgkQl3hfrfOK\nl9yEdBAAryHHb1LXzenwHgqA/9o0oxKTSq7tE4u/kyhFEYlX2u0PrdAmhUzhnx/5\nsJFkvl1o5/0RqEdXjD+uMu6K4R9c60Hy95Zeha0l2/LucKvcEcc+v2+LUAcr/eRR\nVfsA/LYCORQIol2v2vDmQ7RCMu3LzoHZEh2mEXqC30I5Mk7jNr2ZQ0556AxclY36\nNDEBuCBW97VvcAkBK5zI35KFJxI9hJrXBy+mE6kBy9vHwj4ns/ewaF9vn9LRt1qv\nmIhSLSfi1KxnqVm4LtJTCXma/IVRseDBRfHlKDMCaWNm55f7+ModV0FN0RcjjcSM\nVQGyeDhiX3K6+/fp2mwJkgNbvGvgvsLIcqe1jMrgcOwqRWENg+yYRjMm98j6xflr\nsyywjdHGTdgCnmoOtzKzZZq7BtIxnKIrAtYwXqmhda17mNU1bjm3OfkxwRiRz88f\nYay9F+wdlJB/+2OlRx3eeedbV7ssjguKnUO16N/PsnN8YoMID3zIWOqtgofk2h88\n43tPnuuH7d4EqEAVgIFPl7F9XdCqFIFGyix9iQEkIKMrKdYfiqXLS/KA6lU0T/6i\nleqA3TBAEiePI9ZXCz0U4vh6BZ4phIlt35UKRL5bBxBOmgc9awPBGJp9PdRAk/3u\nUukUHmuiZayk+C+ghpAqS6TSTeItZ7E11U72pfwj/sgCtd5TN2c=\n=IqYN\n-----END PGP SIGNATURE-----", "payload": "tree 0285b91d8a8ee6c30dd54bd155b0d11f7783c714\nparent 3831aaa13c740e20a97c5aa4b8c760da30bff726\nauthor 12101111 <w12101111@gmail.com> 1635945135 +0800\ncommitter 12101111 <w12101111@gmail.com> 1635945135 +0800\n\nProvide standalone libc.a in self-contained for musl and wasi\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b23c1c567002d7a164049a4201949215d1b3c8af", "html_url": "https://github.com/rust-lang/rust/commit/b23c1c567002d7a164049a4201949215d1b3c8af", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b23c1c567002d7a164049a4201949215d1b3c8af/comments", "author": {"login": "12101111", "id": 8438475, "node_id": "MDQ6VXNlcjg0Mzg0NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/8438475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/12101111", "html_url": "https://github.com/12101111", "followers_url": "https://api.github.com/users/12101111/followers", "following_url": "https://api.github.com/users/12101111/following{/other_user}", "gists_url": "https://api.github.com/users/12101111/gists{/gist_id}", "starred_url": "https://api.github.com/users/12101111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/12101111/subscriptions", "organizations_url": "https://api.github.com/users/12101111/orgs", "repos_url": "https://api.github.com/users/12101111/repos", "events_url": "https://api.github.com/users/12101111/events{/privacy}", "received_events_url": "https://api.github.com/users/12101111/received_events", "type": "User", "site_admin": false}, "committer": {"login": "12101111", "id": 8438475, "node_id": "MDQ6VXNlcjg0Mzg0NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/8438475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/12101111", "html_url": "https://github.com/12101111", "followers_url": "https://api.github.com/users/12101111/followers", "following_url": "https://api.github.com/users/12101111/following{/other_user}", "gists_url": "https://api.github.com/users/12101111/gists{/gist_id}", "starred_url": "https://api.github.com/users/12101111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/12101111/subscriptions", "organizations_url": "https://api.github.com/users/12101111/orgs", "repos_url": "https://api.github.com/users/12101111/repos", "events_url": "https://api.github.com/users/12101111/events{/privacy}", "received_events_url": "https://api.github.com/users/12101111/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3831aaa13c740e20a97c5aa4b8c760da30bff726", "url": "https://api.github.com/repos/rust-lang/rust/commits/3831aaa13c740e20a97c5aa4b8c760da30bff726", "html_url": "https://github.com/rust-lang/rust/commit/3831aaa13c740e20a97c5aa4b8c760da30bff726"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "007ca9f7f5a92f6431d3025767576f58427b3b4f", "filename": "src/bootstrap/compile.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b23c1c567002d7a164049a4201949215d1b3c8af/src%2Fbootstrap%2Fcompile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b23c1c567002d7a164049a4201949215d1b3c8af/src%2Fbootstrap%2Fcompile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcompile.rs?ref=b23c1c567002d7a164049a4201949215d1b3c8af", "patch": "@@ -197,7 +197,7 @@ fn copy_self_contained_objects(\n     t!(fs::create_dir_all(&libdir_self_contained));\n     let mut target_deps = vec![];\n \n-    // Copies the CRT objects.\n+    // Copies the libc and CRT objects.\n     //\n     // rustc historically provides a more self-contained installation for musl targets\n     // not requiring the presence of a native musl toolchain. For example, it can fall back\n@@ -208,7 +208,7 @@ fn copy_self_contained_objects(\n         let srcdir = builder.musl_libdir(target).unwrap_or_else(|| {\n             panic!(\"Target {:?} does not have a \\\"musl-libdir\\\" key\", target.triple)\n         });\n-        for &obj in &[\"crt1.o\", \"Scrt1.o\", \"rcrt1.o\", \"crti.o\", \"crtn.o\"] {\n+        for &obj in &[\"libc.a\", \"crt1.o\", \"Scrt1.o\", \"rcrt1.o\", \"crti.o\", \"crtn.o\"] {\n             copy_and_stamp(\n                 builder,\n                 &libdir_self_contained,\n@@ -235,7 +235,7 @@ fn copy_self_contained_objects(\n                 panic!(\"Target {:?} does not have a \\\"wasi-root\\\" key\", target.triple)\n             })\n             .join(\"lib/wasm32-wasi\");\n-        for &obj in &[\"crt1-command.o\", \"crt1-reactor.o\"] {\n+        for &obj in &[\"libc.a\", \"crt1-command.o\", \"crt1-reactor.o\"] {\n             copy_and_stamp(\n                 builder,\n                 &libdir_self_contained,"}]}