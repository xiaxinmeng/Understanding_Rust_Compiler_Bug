{"sha": "99ecb6189d1347f4be1552f33fb4b7b2295a3769", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk5ZWNiNjE4OWQxMzQ3ZjRiZTE1NTJmMzNmYjRiN2IyMjk1YTM3Njk=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-03-16T02:09:43Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-03-16T02:09:43Z"}, "message": "Auto merge of #6916 - camsteffen:diagnostics-util, r=Manishearth\n\nDon't re-export `clippy_utils::diagnostics::*`\n\nchangelog: none\n\nContinues #6907", "tree": {"sha": "7bff67581217b8974c17456981782032f57c6701", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7bff67581217b8974c17456981782032f57c6701"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/99ecb6189d1347f4be1552f33fb4b7b2295a3769", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/99ecb6189d1347f4be1552f33fb4b7b2295a3769", "html_url": "https://github.com/rust-lang/rust/commit/99ecb6189d1347f4be1552f33fb4b7b2295a3769", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/99ecb6189d1347f4be1552f33fb4b7b2295a3769/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d7a23112e3ba0fa99dc2d0a90241197580254af2", "url": "https://api.github.com/repos/rust-lang/rust/commits/d7a23112e3ba0fa99dc2d0a90241197580254af2", "html_url": "https://github.com/rust-lang/rust/commit/d7a23112e3ba0fa99dc2d0a90241197580254af2"}, {"sha": "1c3a3e7dc62ae3b4b84cc00c067789dae1d722c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/1c3a3e7dc62ae3b4b84cc00c067789dae1d722c9", "html_url": "https://github.com/rust-lang/rust/commit/1c3a3e7dc62ae3b4b84cc00c067789dae1d722c9"}], "stats": {"total": 898, "additions": 530, "deletions": 368}, "files": [{"sha": "3d04abe094d7811e25c34e0d42b9b8456776bb39", "filename": "clippy_lints/src/approx_const.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fapprox_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fapprox_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fapprox_const.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_ast::ast::{FloatTy, LitFloatType, LitKind};\n use rustc_hir::{Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "c560f545d6a6155fd6785bd715afbb75efbb5019", "filename": "clippy_lints/src/arithmetic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Farithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Farithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Farithmetic.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use crate::consts::constant_simple;\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir as hir;\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_tool_lint, impl_lint_pass};"}, {"sha": "4b31e16094e9f9a1b2d6b84bef58239698c62b8b", "filename": "clippy_lints/src/as_conversions.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fas_conversions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fas_conversions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fas_conversions.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,10 +1,9 @@\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_ast::ast::{Expr, ExprKind};\n use rustc_lint::{EarlyContext, EarlyLintPass, LintContext};\n use rustc_middle::lint::in_external_macro;\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::span_lint_and_help;\n-\n declare_clippy_lint! {\n     /// **What it does:** Checks for usage of `as` conversions.\n     ///"}, {"sha": "b970c71b753cec24a83c6cc20f65918cab12d0e0", "filename": "clippy_lints/src/asm_syntax.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fasm_syntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fasm_syntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fasm_syntax.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,6 @@\n use std::fmt;\n \n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_ast::ast::{Expr, ExprKind, InlineAsmOptions};\n use rustc_lint::{EarlyContext, EarlyLintPass, Lint};\n use rustc_session::{declare_lint_pass, declare_tool_lint};"}, {"sha": "bae4d4957a92fa462e74bb589a874a4422bd613f", "filename": "clippy_lints/src/assertions_on_constants.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fassertions_on_constants.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fassertions_on_constants.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fassertions_on_constants.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::consts::{constant, Constant};\n-use crate::utils::{is_direct_expn_of, is_expn_of, match_panic_call, span_lint_and_help};\n+use crate::utils::{is_direct_expn_of, is_expn_of, match_panic_call};\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::source::snippet_opt;\n use if_chain::if_chain;\n use rustc_hir::{Expr, ExprKind, UnOp};"}, {"sha": "8581e176e0c4565db424d47743091bd0dc8a3743", "filename": "clippy_lints/src/assign_ops.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fassign_ops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fassign_ops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fassign_ops.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n-use crate::utils::{eq_expr_value, get_trait_def_id, span_lint_and_then, trait_ref_of_method};\n+use crate::utils::{eq_expr_value, get_trait_def_id, trait_ref_of_method};\n use crate::utils::{higher, sugg};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet_opt;\n use clippy_utils::ty::implements_trait;\n use if_chain::if_chain;"}, {"sha": "e6c7c68f91a07a0ce3cb320f67a43aa7a7a5d0e8", "filename": "clippy_lints/src/async_yields_async.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fasync_yields_async.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fasync_yields_async.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fasync_yields_async.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_then;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::implements_trait;\n use rustc_errors::Applicability;"}, {"sha": "231e74e16c0fabbfa78b7359df07b2fa97a5909d", "filename": "clippy_lints/src/atomic_ordering.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fatomic_ordering.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fatomic_ordering.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fatomic_ordering.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, span_lint_and_help};\n+use crate::utils::match_def_path;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use if_chain::if_chain;\n use rustc_hir::def_id::DefId;\n use rustc_hir::{Expr, ExprKind};"}, {"sha": "6be6722375dc29c8c903bb9cb0c1bd9e029d5eec", "filename": "clippy_lints/src/attrs.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fattrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fattrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fattrs.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n //! checks for attributes\n \n-use crate::utils::{match_panic_def_id, span_lint, span_lint_and_help, span_lint_and_sugg, span_lint_and_then};\n+use crate::utils::match_panic_def_id;\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help, span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::{first_line_of_span, is_present_in_source, snippet_opt, without_block_comments};\n use if_chain::if_chain;\n use rustc_ast::{AttrKind, AttrStyle, Attribute, Lit, LitKind, MetaItemKind, NestedMetaItem};"}, {"sha": "3a3296c2c3df5e1596303c2363b301db0e27755d", "filename": "clippy_lints/src/await_holding_invalid.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fawait_holding_invalid.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fawait_holding_invalid.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fawait_holding_invalid.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, paths, span_lint_and_note};\n+use crate::utils::{match_def_path, paths};\n+use clippy_utils::diagnostics::span_lint_and_note;\n use rustc_hir::def_id::DefId;\n use rustc_hir::{AsyncGeneratorKind, Body, BodyId, GeneratorKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "2b8400344f593260ae615365b3cc38f7f14ff4f0", "filename": "clippy_lints/src/bit_mask.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fbit_mask.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fbit_mask.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fbit_mask.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,6 @@\n use crate::consts::{constant, Constant};\n use crate::utils::sugg::Sugg;\n-use crate::utils::{span_lint, span_lint_and_then};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_then};\n use if_chain::if_chain;\n use rustc_ast::ast::LitKind;\n use rustc_errors::Applicability;"}, {"sha": "b26ef33e056981ccd084623f97c13356dadec84b", "filename": "clippy_lints/src/blacklisted_name.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fblacklisted_name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fblacklisted_name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fblacklisted_name.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_data_structures::fx::FxHashSet;\n use rustc_hir::{Pat, PatKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "343c4821c56d02d7d983543edaeb4aaa7a4bf4dc", "filename": "clippy_lints/src/blocks_in_if_conditions.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fblocks_in_if_conditions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fblocks_in_if_conditions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fblocks_in_if_conditions.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{differing_macro_contexts, get_parent_expr, span_lint, span_lint_and_sugg};\n+use crate::utils::{differing_macro_contexts, get_parent_expr};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg};\n use clippy_utils::source::snippet_block_with_applicability;\n use clippy_utils::ty::implements_trait;\n use if_chain::if_chain;"}, {"sha": "1303613b8c45af8f8ba5e84302a81302c3217ed3", "filename": "clippy_lints/src/booleans.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fbooleans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fbooleans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fbooleans.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{eq_expr_value, get_trait_def_id, in_macro, paths, span_lint_and_sugg, span_lint_and_then};\n+use crate::utils::{eq_expr_value, get_trait_def_id, in_macro, paths};\n+use clippy_utils::diagnostics::{span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::snippet_opt;\n use clippy_utils::ty::{implements_trait, is_type_diagnostic_item};\n use if_chain::if_chain;"}, {"sha": "c1ca787c1e5d2431b62ec9f6d1dfc0e9e3b0b7c4", "filename": "clippy_lints/src/bytecount.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fbytecount.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fbytecount.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fbytecount.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{contains_name, get_pat_name, paths, single_segment_path, span_lint_and_sugg};\n+use crate::utils::{contains_name, get_pat_name, paths, single_segment_path};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::match_type;\n use if_chain::if_chain;"}, {"sha": "f0ef482164a4c328f1e26894066225cf23d4e225", "filename": "clippy_lints/src/cargo_common_metadata.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -2,7 +2,8 @@\n \n use std::path::PathBuf;\n \n-use crate::utils::{run_lints, span_lint};\n+use crate::utils::run_lints;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{hir_id::CRATE_HIR_ID, Crate};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_tool_lint, impl_lint_pass};"}, {"sha": "c9ef379be565d382a168474b1d8f72cf9cfbab0f", "filename": "clippy_lints/src/case_sensitive_file_extension_comparisons.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcase_sensitive_file_extension_comparisons.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcase_sensitive_file_extension_comparisons.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcase_sensitive_file_extension_comparisons.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use if_chain::if_chain;\n use rustc_ast::ast::LitKind;\n use rustc_hir::{Expr, ExprKind, PathSegment};"}, {"sha": "4b660188d82ddc37f8db0091d400a5db6490e3ac", "filename": "clippy_lints/src/casts/cast_lossless.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_lossless.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_lossless.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fcast_lossless.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,11 +1,12 @@\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_opt;\n use clippy_utils::ty::is_isize_or_usize;\n use rustc_errors::Applicability;\n use rustc_hir::{Expr, ExprKind};\n use rustc_lint::LateContext;\n use rustc_middle::ty::{self, FloatTy, Ty};\n \n-use crate::utils::{in_constant, span_lint_and_sugg};\n+use crate::utils::in_constant;\n \n use super::{utils, CAST_LOSSLESS};\n "}, {"sha": "75d7c55b637424bc2d2cb198730aacd8260f450c", "filename": "clippy_lints/src/casts/cast_possible_truncation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_possible_truncation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_possible_truncation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fcast_possible_truncation.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -3,7 +3,7 @@ use rustc_hir::Expr;\n use rustc_lint::LateContext;\n use rustc_middle::ty::{self, FloatTy, Ty};\n \n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n \n use super::{utils, CAST_POSSIBLE_TRUNCATION};\n "}, {"sha": "2c5c1d7cb4654720e7c905ec3fd71d0d52611dbe", "filename": "clippy_lints/src/casts/cast_possible_wrap.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_possible_wrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_possible_wrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fcast_possible_wrap.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,10 +1,9 @@\n+use clippy_utils::diagnostics::span_lint;\n use clippy_utils::ty::is_isize_or_usize;\n use rustc_hir::Expr;\n use rustc_lint::LateContext;\n use rustc_middle::ty::Ty;\n \n-use crate::utils::span_lint;\n-\n use super::{utils, CAST_POSSIBLE_WRAP};\n \n pub(super) fn check(cx: &LateContext<'_>, expr: &Expr<'_>, cast_from: Ty<'_>, cast_to: Ty<'_>) {"}, {"sha": "63ac8fd2dd269959f08149e2bf7c9efb36ef2efe", "filename": "clippy_lints/src/casts/cast_precision_loss.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_precision_loss.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_precision_loss.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fcast_precision_loss.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,10 +1,9 @@\n+use clippy_utils::diagnostics::span_lint;\n use clippy_utils::ty::is_isize_or_usize;\n use rustc_hir::Expr;\n use rustc_lint::LateContext;\n use rustc_middle::ty::{self, FloatTy, Ty};\n \n-use crate::utils::span_lint;\n-\n use super::{utils, CAST_PRECISION_LOSS};\n \n pub(super) fn check(cx: &LateContext<'_>, expr: &Expr<'_>, cast_from: Ty<'_>, cast_to: Ty<'_>) {"}, {"sha": "6a45ec61c54818dc37d9646050df6ac3ae1b5cc9", "filename": "clippy_lints/src/casts/cast_ptr_alignment.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_ptr_alignment.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_ptr_alignment.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fcast_ptr_alignment.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{Expr, ExprKind, GenericArg};\n use rustc_lint::LateContext;\n use rustc_middle::ty::{self, Ty};\n@@ -6,7 +7,7 @@ use rustc_target::abi::LayoutOf;\n \n use if_chain::if_chain;\n \n-use crate::utils::{is_hir_ty_cfg_dependant, span_lint};\n+use crate::utils::is_hir_ty_cfg_dependant;\n \n use super::CAST_PTR_ALIGNMENT;\n "}, {"sha": "d9bf1ea58b97bb8a49ad3ed0588b0ec3c0175146", "filename": "clippy_lints/src/casts/cast_ref_to_mut.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_ref_to_mut.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_ref_to_mut.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fcast_ref_to_mut.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,11 +1,9 @@\n+use clippy_utils::diagnostics::span_lint;\n+use if_chain::if_chain;\n use rustc_hir::{Expr, ExprKind, MutTy, Mutability, TyKind, UnOp};\n use rustc_lint::LateContext;\n use rustc_middle::ty;\n \n-use if_chain::if_chain;\n-\n-use crate::utils::span_lint;\n-\n use super::CAST_REF_TO_MUT;\n \n pub(super) fn check(cx: &LateContext<'tcx>, expr: &'tcx Expr<'_>) {"}, {"sha": "2965a840a82904eb2759dcb17255556e13a13fe1", "filename": "clippy_lints/src/casts/cast_sign_loss.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_sign_loss.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fcast_sign_loss.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fcast_sign_loss.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -5,7 +5,8 @@ use rustc_middle::ty::{self, Ty};\n use if_chain::if_chain;\n \n use crate::consts::{constant, Constant};\n-use crate::utils::{method_chain_args, sext, span_lint};\n+use crate::utils::{method_chain_args, sext};\n+use clippy_utils::diagnostics::span_lint;\n \n use super::CAST_SIGN_LOSS;\n "}, {"sha": "099a0de881ff0fb27eb868631b3742304bd424c0", "filename": "clippy_lints/src/casts/char_lit_as_u8.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fchar_lit_as_u8.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fchar_lit_as_u8.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fchar_lit_as_u8.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_ast::LitKind;\n@@ -6,8 +7,6 @@ use rustc_hir::{Expr, ExprKind};\n use rustc_lint::LateContext;\n use rustc_middle::ty::{self, UintTy};\n \n-use crate::utils::span_lint_and_then;\n-\n use super::CHAR_LIT_AS_U8;\n \n pub(super) fn check(cx: &LateContext<'tcx>, expr: &'tcx Expr<'_>) {"}, {"sha": "35350d8a25b86ce9cefff7c6ce83e6a6b4ee9fe9", "filename": "clippy_lints/src/casts/fn_to_numeric_cast.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Ffn_to_numeric_cast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Ffn_to_numeric_cast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Ffn_to_numeric_cast.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use rustc_errors::Applicability;\n use rustc_hir::Expr;"}, {"sha": "6287f479b5bfec4db1b51a6c1cc6fbe6310e97a0", "filename": "clippy_lints/src/casts/fn_to_numeric_cast_with_truncation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Ffn_to_numeric_cast_with_truncation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Ffn_to_numeric_cast_with_truncation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Ffn_to_numeric_cast_with_truncation.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use rustc_errors::Applicability;\n use rustc_hir::Expr;"}, {"sha": "2c25f865cb86f8741ace4c26bf14c4cfbe476129", "filename": "clippy_lints/src/casts/ptr_as_ptr.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fptr_as_ptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Fptr_as_ptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fptr_as_ptr.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -8,8 +8,9 @@ use rustc_semver::RustcVersion;\n \n use if_chain::if_chain;\n \n+use crate::utils::meets_msrv;\n use crate::utils::sugg::Sugg;\n-use crate::utils::{meets_msrv, span_lint_and_sugg};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n \n use super::PTR_AS_PTR;\n "}, {"sha": "a84e658024ac923d790a4627427b253d6f13a576", "filename": "clippy_lints/src/casts/unnecessary_cast.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Funnecessary_cast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcasts%2Funnecessary_cast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Funnecessary_cast.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_opt;\n use if_chain::if_chain;\n use rustc_ast::{LitFloatType, LitIntType, LitKind};\n@@ -7,7 +8,7 @@ use rustc_lint::{LateContext, LintContext};\n use rustc_middle::lint::in_external_macro;\n use rustc_middle::ty::{self, FloatTy, InferTy, Ty};\n \n-use crate::utils::{numeric_literal::NumericLiteral, span_lint_and_sugg};\n+use crate::utils::numeric_literal::NumericLiteral;\n \n use super::UNNECESSARY_CAST;\n "}, {"sha": "8b62e315e0427e75337c7918724ae3e7f1cc1465", "filename": "clippy_lints/src/checked_conversions.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fchecked_conversions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fchecked_conversions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fchecked_conversions.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n //! lint on manually implemented checked conversions that could be transformed into `try_from`\n \n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_ast::ast::LitKind;\n@@ -10,7 +11,7 @@ use rustc_middle::lint::in_external_macro;\n use rustc_semver::RustcVersion;\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n \n-use crate::utils::{meets_msrv, span_lint_and_sugg, SpanlessEq};\n+use crate::utils::{meets_msrv, SpanlessEq};\n \n const CHECKED_CONVERSIONS_MSRV: RustcVersion = RustcVersion::new(1, 34, 0);\n "}, {"sha": "8134f3af3ef26f4adf7356d0309fa898e9f9dc20", "filename": "clippy_lints/src/cognitive_complexity.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcognitive_complexity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcognitive_complexity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcognitive_complexity.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n //! calculate cognitive complexity and warn about overly complex functions\n \n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::source::snippet_opt;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_ast::ast::Attribute;\n@@ -11,7 +12,7 @@ use rustc_session::{declare_tool_lint, impl_lint_pass};\n use rustc_span::source_map::Span;\n use rustc_span::{sym, BytePos};\n \n-use crate::utils::{span_lint_and_help, LimitStack};\n+use crate::utils::LimitStack;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for methods with high cognitive complexity."}, {"sha": "dbe70f907325686a7397df70aab5dc295f06db32", "filename": "clippy_lints/src/collapsible_if.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcollapsible_if.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcollapsible_if.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcollapsible_if.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -12,6 +12,7 @@\n //!\n //! This lint is **warn** by default\n \n+use clippy_utils::diagnostics::{span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::{snippet_block, snippet_block_with_applicability};\n use if_chain::if_chain;\n use rustc_ast::ast;\n@@ -20,7 +21,6 @@ use rustc_lint::{EarlyContext, EarlyLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n use crate::utils::sugg::Sugg;\n-use crate::utils::{span_lint_and_sugg, span_lint_and_then};\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for nested `if` statements which can be collapsed"}, {"sha": "5ff2518bd945dfa5d689804308b0ab499db573f4", "filename": "clippy_lints/src/collapsible_match.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcollapsible_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcollapsible_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcollapsible_match.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::visitors::LocalUsedVisitor;\n-use crate::utils::{path_to_local, span_lint_and_then, SpanlessEq};\n+use crate::utils::{path_to_local, SpanlessEq};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use if_chain::if_chain;\n use rustc_hir::def::{CtorKind, CtorOf, DefKind, Res};\n use rustc_hir::{Arm, Expr, ExprKind, Guard, HirId, Pat, PatKind, QPath, StmtKind, UnOp};"}, {"sha": "5411905791c46a9677714c0ae7602dfbe5fa410c", "filename": "clippy_lints/src/comparison_chain.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcomparison_chain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcomparison_chain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcomparison_chain.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{get_trait_def_id, if_sequence, parent_node_is_if_expr, paths, span_lint_and_help, SpanlessEq};\n+use crate::utils::{get_trait_def_id, if_sequence, parent_node_is_if_expr, paths, SpanlessEq};\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::ty::implements_trait;\n use rustc_hir::{BinOpKind, Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "f86f0da6d6f3a7b02d0eae66ea7c67ce92becd61", "filename": "clippy_lints/src/copies.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcopies.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcopies.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcopies.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::{eq_expr_value, in_macro, search_same, SpanlessEq, SpanlessHash};\n-use crate::utils::{get_parent_expr, if_sequence, span_lint_and_note};\n+use crate::utils::{get_parent_expr, if_sequence};\n+use clippy_utils::diagnostics::span_lint_and_note;\n use rustc_hir::{Block, Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};"}, {"sha": "35079c6bedc02d10b47311a9737d1087c73bf5c4", "filename": "clippy_lints/src/copy_iterator.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcopy_iterator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcopy_iterator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcopy_iterator.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_note;\n+use clippy_utils::diagnostics::span_lint_and_note;\n use clippy_utils::ty::is_copy;\n use rustc_hir::{Impl, Item, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "01ca2837a9982cf8f79a8c9f9072bf4d89f3fb98", "filename": "clippy_lints/src/create_dir.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcreate_dir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fcreate_dir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcreate_dir.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, paths, span_lint_and_sugg};\n+use crate::utils::{match_def_path, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "286cc7e223efb997cd3422b00a26a1382e3ac601", "filename": "clippy_lints/src/dbg_macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdbg_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdbg_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdbg_macro.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::{span_lint_and_help, span_lint_and_sugg};\n+use clippy_utils::diagnostics::{span_lint_and_help, span_lint_and_sugg};\n use clippy_utils::source::snippet_opt;\n use rustc_ast::ast;\n use rustc_ast::tokenstream::TokenStream;"}, {"sha": "0b074c088d44c393fd6df4728c319aba359600e8", "filename": "clippy_lints/src/default.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdefault.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdefault.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdefault.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use crate::utils::{any_parent_is_automatically_derived, contains_name, match_def_path, paths};\n-use crate::utils::{span_lint_and_note, span_lint_and_sugg};\n+use clippy_utils::diagnostics::{span_lint_and_note, span_lint_and_sugg};\n use clippy_utils::source::snippet_with_macro_callsite;\n use if_chain::if_chain;\n use rustc_data_structures::fx::FxHashSet;"}, {"sha": "d136db9373c2d1273fd1cf3b4f532a62b88006f9", "filename": "clippy_lints/src/default_numeric_fallback.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdefault_numeric_fallback.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdefault_numeric_fallback.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdefault_numeric_fallback.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_ast::ast::{LitFloatType, LitIntType, LitKind};\n@@ -13,8 +14,6 @@ use rustc_middle::{\n };\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::span_lint_and_sugg;\n-\n declare_clippy_lint! {\n     /// **What it does:** Checks for usage of unconstrained numeric literals which may cause default numeric fallback in type\n     /// inference."}, {"sha": "62ec2f8ce4826afaef87e780b9f8c7519f149ffb", "filename": "clippy_lints/src/dereference.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdereference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdereference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdereference.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{get_parent_node, in_macro, is_allowed, span_lint_and_sugg};\n+use crate::utils::{get_parent_node, in_macro, is_allowed};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_context;\n use clippy_utils::ty::peel_mid_ty_refs;\n use rustc_ast::util::parser::PREC_PREFIX;"}, {"sha": "a7f2106e357dda63b37c477ad960d99bce81ded4", "filename": "clippy_lints/src/derive.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fderive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fderive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fderive.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,8 +1,6 @@\n use crate::utils::paths;\n-use crate::utils::{\n-    get_trait_def_id, is_allowed, is_automatically_derived, match_def_path, span_lint_and_help, span_lint_and_note,\n-    span_lint_and_then,\n-};\n+use crate::utils::{get_trait_def_id, is_allowed, is_automatically_derived, match_def_path};\n+use clippy_utils::diagnostics::{span_lint_and_help, span_lint_and_note, span_lint_and_then};\n use clippy_utils::ty::is_copy;\n use if_chain::if_chain;\n use rustc_hir::def_id::DefId;"}, {"sha": "16023bc53b027aae9bcadbb3f16eb35871e8b63a", "filename": "clippy_lints/src/disallowed_method.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdisallowed_method.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdisallowed_method.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdisallowed_method.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{fn_def_id, span_lint};\n+use crate::utils::fn_def_id;\n+use clippy_utils::diagnostics::span_lint;\n \n use rustc_data_structures::fx::FxHashSet;\n use rustc_hir::Expr;"}, {"sha": "d9952325c4bbd7ddf2e56de9ea80a4b61befc4cf", "filename": "clippy_lints/src/doc.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdoc.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,5 @@\n-use crate::utils::{\n-    is_entrypoint_fn, is_expn_of, match_panic_def_id, method_chain_args, return_ty, span_lint, span_lint_and_note,\n-};\n+use crate::utils::{is_entrypoint_fn, is_expn_of, match_panic_def_id, method_chain_args, return_ty};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_note};\n use clippy_utils::ty::{implements_trait, is_type_diagnostic_item};\n use if_chain::if_chain;\n use itertools::Itertools;"}, {"sha": "549720feb2da9b6fd180df19dbb3fa4aacbe19b9", "filename": "clippy_lints/src/double_comparison.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdouble_comparison.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdouble_comparison.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdouble_comparison.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,13 +1,14 @@\n //! Lint on unnecessary double comparisons. Some examples:\n \n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use rustc_errors::Applicability;\n use rustc_hir::{BinOpKind, Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::Span;\n \n-use crate::utils::{eq_expr_value, span_lint_and_sugg};\n+use crate::utils::eq_expr_value;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for double comparisons that could be simplified to a single expression."}, {"sha": "5afdcb3c09f592aa8261524c079d1797375d367e", "filename": "clippy_lints/src/double_parens.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdouble_parens.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdouble_parens.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdouble_parens.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_ast::ast::{Expr, ExprKind};\n use rustc_lint::{EarlyContext, EarlyLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};"}, {"sha": "fe86adcec45a3eb11c943bd621ed15b486b7659b", "filename": "clippy_lints/src/drop_forget_ref.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdrop_forget_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fdrop_forget_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdrop_forget_ref.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, paths, span_lint_and_note};\n+use crate::utils::{match_def_path, paths};\n+use clippy_utils::diagnostics::span_lint_and_note;\n use clippy_utils::ty::is_copy;\n use if_chain::if_chain;\n use rustc_hir::{Expr, ExprKind};"}, {"sha": "40c75f568ae4f58cc343d87714ff5f98532f549a", "filename": "clippy_lints/src/duration_subsec.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fduration_subsec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fduration_subsec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fduration_subsec.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -9,7 +9,7 @@ use rustc_span::source_map::Spanned;\n \n use crate::consts::{constant, Constant};\n use crate::utils::paths;\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for calculation of subsecond microseconds or milliseconds"}, {"sha": "26984df9539774d64c624e3075db7dcb08dfef52", "filename": "clippy_lints/src/else_if_without_else.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Felse_if_without_else.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Felse_if_without_else.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Felse_if_without_else.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,12 +1,11 @@\n //! Lint on if expressions with an else if, but without a final else branch.\n \n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_ast::ast::{Expr, ExprKind};\n use rustc_lint::{EarlyContext, EarlyLintPass, LintContext};\n use rustc_middle::lint::in_external_macro;\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::span_lint_and_help;\n-\n declare_clippy_lint! {\n     /// **What it does:** Checks for usage of if expressions with an `else if` branch,\n     /// but without a final `else` branch."}, {"sha": "c92984a98346d4c7a135cfb6db71079819f35436", "filename": "clippy_lints/src/empty_enum.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fempty_enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fempty_enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fempty_enum.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,6 @@\n //! lint when there is an enum with no variants\n \n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_hir::{Item, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};"}, {"sha": "cc7748314917b5e0471276c64888abcfb2942930", "filename": "clippy_lints/src/entry.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fentry.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fentry.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fentry.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,6 @@\n-use crate::utils::span_lint_and_then;\n use crate::utils::SpanlessEq;\n use crate::utils::{get_item_name, paths};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::{snippet, snippet_opt, snippet_with_applicability};\n use clippy_utils::ty::{is_type_diagnostic_item, match_type};\n use if_chain::if_chain;"}, {"sha": "7a98ae39d3ae9b0921b13b790aff2cf88a937cb3", "filename": "clippy_lints/src/enum_clike.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fenum_clike.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fenum_clike.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fenum_clike.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -2,7 +2,7 @@\n //! don't fit into an `i32`\n \n use crate::consts::{miri_to_const, Constant};\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{Item, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::ty::util::IntTypeExt;"}, {"sha": "d2d8acb443b1b60ba024714848752367b4770ae6", "filename": "clippy_lints/src/enum_variants.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fenum_variants.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fenum_variants.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fenum_variants.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,7 @@\n //! lint on enum variants that are prefixed or suffixed by the same characters\n \n use crate::utils::camel_case;\n-use crate::utils::{span_lint, span_lint_and_help};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help};\n use clippy_utils::source::is_present_in_source;\n use rustc_ast::ast::{EnumDef, Item, ItemKind, VisibilityKind};\n use rustc_lint::{EarlyContext, EarlyLintPass, Lint};"}, {"sha": "1b2f66fb628d2e8e744553384e1398dbf233f5fd", "filename": "clippy_lints/src/eq_op.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Feq_op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Feq_op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feq_op.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,5 @@\n-use crate::utils::{\n-    ast_utils::is_useless_with_eq_exprs, eq_expr_value, higher, in_macro, is_expn_of, multispan_sugg, span_lint,\n-    span_lint_and_then,\n-};\n+use crate::utils::{ast_utils::is_useless_with_eq_exprs, eq_expr_value, higher, in_macro, is_expn_of};\n+use clippy_utils::diagnostics::{multispan_sugg, span_lint, span_lint_and_then};\n use clippy_utils::source::snippet;\n use clippy_utils::ty::{implements_trait, is_copy};\n use if_chain::if_chain;"}, {"sha": "5960261678119e1b1cb8d8aab957544771abe583", "filename": "clippy_lints/src/erasing_op.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ferasing_op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ferasing_op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ferasing_op.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,10 +1,10 @@\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{BinOpKind, Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::Span;\n \n use crate::consts::{constant_simple, Constant};\n-use crate::utils::span_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for erasing operations, e.g., `x * 0`."}, {"sha": "06da14a98447194c44e5113b95a3a894d5eded7d", "filename": "clippy_lints/src/escape.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fescape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fescape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fescape.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint;\n use clippy_utils::ty::contains_ty;\n use rustc_hir::intravisit;\n use rustc_hir::{self, AssocItemKind, Body, FnDecl, HirId, HirIdSet, Impl, ItemKind, Node};\n@@ -11,8 +12,6 @@ use rustc_target::abi::LayoutOf;\n use rustc_target::spec::abi::Abi;\n use rustc_typeck::expr_use_visitor::{ConsumeMode, Delegate, ExprUseVisitor, PlaceBase, PlaceWithHirId};\n \n-use crate::utils::span_lint;\n-\n #[derive(Copy, Clone)]\n pub struct BoxedLocal {\n     pub too_large_for_stack: u64,"}, {"sha": "2557e9f2796c9f6964dca9d1a075e45b3d401d48", "filename": "clippy_lints/src/eta_reduction.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Feta_reduction.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Feta_reduction.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feta_reduction.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::{span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::higher;\n use clippy_utils::higher::VecArgs;\n use clippy_utils::source::snippet_opt;\n@@ -10,7 +11,7 @@ use rustc_middle::lint::in_external_macro;\n use rustc_middle::ty::{self, Ty};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::{is_adjusted, iter_input_pats, span_lint_and_sugg, span_lint_and_then};\n+use crate::utils::{is_adjusted, iter_input_pats};\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for closures which just call another function where"}, {"sha": "3711ba4a7ee779f0b716b88d505e019556169603", "filename": "clippy_lints/src/eval_order_dependence.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Feval_order_dependence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Feval_order_dependence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feval_order_dependence.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{get_parent_expr, path_to_local, path_to_local_id, span_lint, span_lint_and_note};\n+use crate::utils::{get_parent_expr, path_to_local, path_to_local_id};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_note};\n use rustc_hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc_hir::{BinOpKind, Block, Expr, ExprKind, Guard, HirId, Local, Node, Stmt, StmtKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "683e0435351fb511a9e1230efda2a89e3a273078", "filename": "clippy_lints/src/excessive_bools.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fexcessive_bools.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fexcessive_bools.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fexcessive_bools.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{attr_by_name, in_macro, match_path_ast, span_lint_and_help};\n+use crate::utils::{attr_by_name, in_macro, match_path_ast};\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_ast::ast::{AssocItemKind, Extern, FnKind, FnSig, ImplKind, Item, ItemKind, TraitKind, Ty, TyKind};\n use rustc_lint::{EarlyContext, EarlyLintPass};\n use rustc_session::{declare_tool_lint, impl_lint_pass};"}, {"sha": "60ad2e8ee1404fec06b5b71a5b9bc68c96a11b02", "filename": "clippy_lints/src/exhaustive_items.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fexhaustive_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fexhaustive_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fexhaustive_items.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,14 +1,12 @@\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::indent_of;\n use if_chain::if_chain;\n-\n use rustc_errors::Applicability;\n use rustc_hir::{Item, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::sym;\n \n-use crate::utils::span_lint_and_then;\n-\n declare_clippy_lint! {\n     /// **What it does:** Warns on any exported `enum`s that are not tagged `#[non_exhaustive]`\n     ///"}, {"sha": "adfb644b199dca473af0c2c3b2f4404a306a2bf5", "filename": "clippy_lints/src/exit.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fexit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fexit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fexit.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_entrypoint_fn, match_def_path, paths, span_lint};\n+use crate::utils::{is_entrypoint_fn, match_def_path, paths};\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_hir::{Expr, ExprKind, Item, ItemKind, Node};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "0861cba46751228410228b1e6546f96f6433d372", "filename": "clippy_lints/src/explicit_write.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fexplicit_write.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fexplicit_write.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fexplicit_write.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_expn_of, match_function_call, paths, span_lint, span_lint_and_sugg};\n+use crate::utils::{is_expn_of, match_function_call, paths};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg};\n use if_chain::if_chain;\n use rustc_ast::ast::LitKind;\n use rustc_errors::Applicability;"}, {"sha": "5efe465a667809e1c8e727124bbad0d8ef8bfb29", "filename": "clippy_lints/src/fallible_impl_from.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffallible_impl_from.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffallible_impl_from.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffallible_impl_from.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_expn_of, match_panic_def_id, method_chain_args, span_lint_and_then};\n+use crate::utils::{is_expn_of, match_panic_def_id, method_chain_args};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n use rustc_hir as hir;"}, {"sha": "b3593d328cc703776d20f3320087ce9d03b1f22a", "filename": "clippy_lints/src/float_equality_without_abs.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffloat_equality_without_abs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffloat_equality_without_abs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffloat_equality_without_abs.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, paths, span_lint_and_then, sugg};\n+use crate::utils::{match_def_path, paths, sugg};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use if_chain::if_chain;\n use rustc_ast::util::parser::AssocOp;\n use rustc_errors::Applicability;"}, {"sha": "6446fe62a64fa44474d4a89ffd1019bf6fb7be3c", "filename": "clippy_lints/src/float_literal.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffloat_literal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffloat_literal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffloat_literal.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{numeric_literal, span_lint_and_sugg};\n+use crate::utils::numeric_literal;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use if_chain::if_chain;\n use rustc_ast::ast::{self, LitFloatType, LitKind};\n use rustc_errors::Applicability;"}, {"sha": "8b53384ecbd440ef7712283031ef7acf61647302", "filename": "clippy_lints/src/floating_point_arithmetic.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffloating_point_arithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffloating_point_arithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffloating_point_arithmetic.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -2,7 +2,8 @@ use crate::consts::{\n     constant, constant_simple, Constant,\n     Constant::{Int, F32, F64},\n };\n-use crate::utils::{eq_expr_value, get_parent_expr, numeric_literal, span_lint_and_sugg, sugg};\n+use crate::utils::{eq_expr_value, get_parent_expr, numeric_literal, sugg};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir::{BinOpKind, Expr, ExprKind, PathSegment, UnOp};"}, {"sha": "db27225707d4ae6bf2ab8023fb041a32dc02cf1a", "filename": "clippy_lints/src/format.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fformat.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::paths;\n-use crate::utils::{is_expn_of, last_path_segment, match_def_path, match_function_call, span_lint_and_then};\n+use crate::utils::{is_expn_of, last_path_segment, match_def_path, match_function_call};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::{snippet, snippet_opt};\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "4dadd2ba936ab1ce9a07819ba7e6461a1b672ab9", "filename": "clippy_lints/src/formatting.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fformatting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fformatting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fformatting.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{differing_macro_contexts, span_lint_and_help, span_lint_and_note};\n+use crate::utils::differing_macro_contexts;\n+use clippy_utils::diagnostics::{span_lint_and_help, span_lint_and_note};\n use clippy_utils::source::snippet_opt;\n use if_chain::if_chain;\n use rustc_ast::ast::{BinOpKind, Block, Expr, ExprKind, StmtKind, UnOp};"}, {"sha": "5eea4d14759039996dba5ee35e18da179180a737", "filename": "clippy_lints/src/from_over_into.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffrom_over_into.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffrom_over_into.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffrom_over_into.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::paths::INTO;\n-use crate::utils::{match_def_path, meets_msrv, span_lint_and_help};\n+use crate::utils::{match_def_path, meets_msrv};\n+use clippy_utils::diagnostics::span_lint_and_help;\n use if_chain::if_chain;\n use rustc_hir as hir;\n use rustc_lint::{LateContext, LateLintPass, LintContext};"}, {"sha": "b9a44f263811f2ffd7ec570e7f2621f24b7dc204", "filename": "clippy_lints/src/from_str_radix_10.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffrom_str_radix_10.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffrom_str_radix_10.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffrom_str_radix_10.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n@@ -7,7 +8,6 @@ use rustc_middle::ty::Ty;\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::symbol::sym;\n \n-use crate::utils::span_lint_and_sugg;\n use crate::utils::sugg::Sugg;\n \n declare_clippy_lint! {"}, {"sha": "37288d7a0b2f65de69a8454382d8452d65d91f9a", "filename": "clippy_lints/src/functions.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffunctions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffunctions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffunctions.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::{\n     attr_by_name, attrs::is_proc_macro, is_trait_impl_item, iter_input_pats, match_def_path, must_use_attr,\n-    path_to_local, return_ty, span_lint, span_lint_and_help, span_lint_and_then, trait_ref_of_method,\n+    path_to_local, return_ty, trait_ref_of_method,\n };\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help, span_lint_and_then};\n use clippy_utils::source::{snippet, snippet_opt};\n use clippy_utils::ty::{is_must_use_ty, is_type_diagnostic_item, type_is_unsafe_function};\n use if_chain::if_chain;"}, {"sha": "36960e7f51b8e824d80604c21dc50bec5704e363", "filename": "clippy_lints/src/future_not_send.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffuture_not_send.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ffuture_not_send.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffuture_not_send.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n use crate::utils;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_hir::intravisit::FnKind;\n use rustc_hir::{Body, FnDecl, HirId};\n use rustc_infer::infer::TyCtxtInferExt;\n@@ -84,7 +85,7 @@ impl<'tcx> LateLintPass<'tcx> for FutureNotSend {\n                     fulfillment_cx.select_all_or_error(&infcx)\n                 });\n                 if let Err(send_errors) = send_result {\n-                    utils::span_lint_and_then(\n+                    span_lint_and_then(\n                         cx,\n                         FUTURE_NOT_SEND,\n                         span,"}, {"sha": "6f14ede0ecb12c2bd08a758041025463e4c701dc", "filename": "clippy_lints/src/get_last_with_len.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fget_last_with_len.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fget_last_with_len.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fget_last_with_len.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n //! lint on using `x.get(x.len() - 1)` instead of `x.last()`\n \n-use crate::utils::{span_lint_and_sugg, SpanlessEq};\n+use crate::utils::SpanlessEq;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "385ea0203287ece48abd48f8e2286f04e2c97983", "filename": "clippy_lints/src/identity_op.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fidentity_op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fidentity_op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fidentity_op.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -7,7 +7,8 @@ use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::Span;\n \n use crate::consts::{constant_simple, Constant};\n-use crate::utils::{clip, span_lint, unsext};\n+use crate::utils::{clip, unsext};\n+use clippy_utils::diagnostics::span_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for identity operations, e.g., `x + 0`."}, {"sha": "c2ec8b3ffd1041daf8d807200d39140076489cb9", "filename": "clippy_lints/src/if_let_mutex.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fif_let_mutex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fif_let_mutex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fif_let_mutex.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{span_lint_and_help, SpanlessEq};\n+use crate::utils::SpanlessEq;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n use rustc_hir::intravisit::{self as visit, NestedVisitorMap, Visitor};"}, {"sha": "59094d1147a2eb35bc4aa121ee63b4d58cf4f242", "filename": "clippy_lints/src/if_let_some_result.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fif_let_some_result.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fif_let_some_result.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fif_let_some_result.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{method_chain_args, span_lint_and_sugg};\n+use crate::utils::method_chain_args;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "c56f67df0618f3b6d47e1d2193ae1e613333db55", "filename": "clippy_lints/src/if_not_else.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fif_not_else.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fif_not_else.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fif_not_else.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,13 +1,12 @@\n //! lint on if branches that could be swapped so no `!` operation is necessary\n //! on the condition\n \n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_ast::ast::{BinOpKind, Expr, ExprKind, UnOp};\n use rustc_lint::{EarlyContext, EarlyLintPass, LintContext};\n use rustc_middle::lint::in_external_macro;\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::span_lint_and_help;\n-\n declare_clippy_lint! {\n     /// **What it does:** Checks for usage of `!` or `!=` in an if condition with an\n     /// else branch."}, {"sha": "c4e87300b7b425b4110aa75b805ab6b77a4489da", "filename": "clippy_lints/src/if_then_some_else_none.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fif_then_some_else_none.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fif_then_some_else_none.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fif_then_some_else_none.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n use crate::utils;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::source::snippet_with_macro_callsite;\n use if_chain::if_chain;\n use rustc_hir::{Expr, ExprKind};\n@@ -100,7 +101,7 @@ impl LateLintPass<'_> for IfThenSomeElseNone {\n                     cond_snip,\n                     closure_body,\n                 );\n-                utils::span_lint_and_help(\n+                span_lint_and_help(\n                     cx,\n                     IF_THEN_SOME_ELSE_NONE,\n                     expr.span,"}, {"sha": "70ea9a922791c3165ef6d2f0bdf28689144a699d", "filename": "clippy_lints/src/implicit_return.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fimplicit_return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fimplicit_return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fimplicit_return.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_panic_def_id, span_lint_and_then};\n+use crate::utils::match_panic_def_id;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet_opt;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "3d2798f3fb4651d621450fec2ad55301b61b0f7f", "filename": "clippy_lints/src/implicit_saturating_sub.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fimplicit_saturating_sub.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fimplicit_saturating_sub.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fimplicit_saturating_sub.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{in_macro, match_qpath, span_lint_and_sugg, SpanlessEq};\n+use crate::utils::{in_macro, match_qpath, SpanlessEq};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use if_chain::if_chain;\n use rustc_ast::ast::LitKind;\n use rustc_errors::Applicability;"}, {"sha": "b7986da7820539a42fe592cb805220a94977a9a1", "filename": "clippy_lints/src/inconsistent_struct_constructor.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finconsistent_struct_constructor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finconsistent_struct_constructor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finconsistent_struct_constructor.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_data_structures::fx::FxHashMap;\n@@ -7,8 +8,6 @@ use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::symbol::Symbol;\n \n-use crate::utils::span_lint_and_sugg;\n-\n declare_clippy_lint! {\n     /// **What it does:** Checks for struct constructors where all fields are shorthand and\n     /// the order of the field init shorthand in the constructor is inconsistent"}, {"sha": "4c0f976f79ae8622eefce3c81698135a99e78b9c", "filename": "clippy_lints/src/indexing_slicing.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Findexing_slicing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Findexing_slicing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Findexing_slicing.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,8 @@\n //! lint on indexing and slicing operations\n \n use crate::consts::{constant, Constant};\n-use crate::utils::{higher, span_lint, span_lint_and_help};\n+use crate::utils::higher;\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help};\n use rustc_ast::ast::RangeLimits;\n use rustc_hir::{Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "addd95c6eae057090c2a5c85feda9c2df41ebf35", "filename": "clippy_lints/src/infinite_iter.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finfinite_iter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finfinite_iter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finfinite_iter.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,9 +1,10 @@\n+use clippy_utils::diagnostics::span_lint;\n use clippy_utils::ty::{implements_trait, match_type};\n use rustc_hir::{BorrowKind, Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::{get_trait_def_id, higher, match_qpath, paths, span_lint};\n+use crate::utils::{get_trait_def_id, higher, match_qpath, paths};\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for iteration that is guaranteed to be infinite."}, {"sha": "f838ce190dc69ba500de310b53fa344c32416735", "filename": "clippy_lints/src/inherent_impl.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finherent_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finherent_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finherent_impl.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n //! lint on inherent implementations\n \n-use crate::utils::{in_macro, span_lint_and_then};\n+use crate::utils::in_macro;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_data_structures::fx::FxHashMap;\n use rustc_hir::{def_id, Crate, Impl, Item, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "6b29feeb4ed30b70fb95bb39884b141c92e4ad73", "filename": "clippy_lints/src/inherent_to_string.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finherent_to_string.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finherent_to_string.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finherent_to_string.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,11 +1,12 @@\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::ty::{implements_trait, is_type_diagnostic_item};\n use if_chain::if_chain;\n use rustc_hir::{ImplItem, ImplItemKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::sym;\n \n-use crate::utils::{get_trait_def_id, paths, return_ty, span_lint_and_help, trait_ref_of_method};\n+use crate::utils::{get_trait_def_id, paths, return_ty, trait_ref_of_method};\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for the definition of inherent methods with a signature of `to_string(&self) -> String`."}, {"sha": "87fe5123cf673cd8ab08dc5e7d915f216669e29e", "filename": "clippy_lints/src/inline_fn_without_body.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finline_fn_without_body.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finline_fn_without_body.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finline_fn_without_body.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,7 @@\n //! checks for `#[inline]` on trait methods without bodies\n \n-use crate::utils::span_lint_and_then;\n use crate::utils::sugg::DiagnosticBuilderExt;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_ast::ast::Attribute;\n use rustc_errors::Applicability;\n use rustc_hir::{TraitFn, TraitItem, TraitItemKind};"}, {"sha": "c4a1222b51fbe294854106e94ca409f7ff2fc7ec", "filename": "clippy_lints/src/int_plus_one.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fint_plus_one.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fint_plus_one.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fint_plus_one.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,13 +1,12 @@\n //! lint on blocks unnecessarily using >= with a + 1 or - 1\n \n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_opt;\n use rustc_ast::ast::{BinOpKind, Expr, ExprKind, Lit, LitKind};\n use rustc_errors::Applicability;\n use rustc_lint::{EarlyContext, EarlyLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::span_lint_and_sugg;\n-\n declare_clippy_lint! {\n     /// **What it does:** Checks for usage of `x >= y + 1` or `x - 1 >= y` (and `<=`) in a block\n     ///"}, {"sha": "e5482f675e78b64295b9a32641a78e04e8e3ca76", "filename": "clippy_lints/src/integer_division.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finteger_division.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Finteger_division.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finteger_division.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use if_chain::if_chain;\n use rustc_hir as hir;\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "c69571f32a2442bbaa2d07fdc64156fc502cc46a", "filename": "clippy_lints/src/items_after_statements.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fitems_after_statements.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fitems_after_statements.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fitems_after_statements.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,6 @@\n //! lint when items are used after statements\n \n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_ast::ast::{Block, ItemKind, StmtKind};\n use rustc_lint::{EarlyContext, EarlyLintPass, LintContext};\n use rustc_middle::lint::in_external_macro;"}, {"sha": "48dc5fefe99784d9e98f66994a069c478921f075", "filename": "clippy_lints/src/large_const_arrays.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flarge_const_arrays.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flarge_const_arrays.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_const_arrays.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use crate::rustc_target::abi::LayoutOf;\n-use crate::utils::span_lint_and_then;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir::{Item, ItemKind};"}, {"sha": "76584dc18222282c4ed6e25500858773eafee7e3", "filename": "clippy_lints/src/large_enum_variant.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flarge_enum_variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flarge_enum_variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_enum_variant.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,6 @@\n //! lint when there is a large size difference between variants on an enum\n \n-use crate::utils::span_lint_and_then;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet_opt;\n use rustc_errors::Applicability;\n use rustc_hir::{Item, ItemKind, VariantData};"}, {"sha": "c46b98022c6cad6c76a877f69d5e0652c4d4a333", "filename": "clippy_lints/src/large_stack_arrays.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flarge_stack_arrays.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flarge_stack_arrays.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_stack_arrays.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_hir::{Expr, ExprKind};\n@@ -7,7 +8,6 @@ use rustc_middle::ty::{self, ConstKind};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n \n use crate::rustc_target::abi::LayoutOf;\n-use crate::utils::span_lint_and_help;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for local arrays that may be too large."}, {"sha": "a644a4113ae534390779c57ab007ed32979937fd", "filename": "clippy_lints/src/len_zero.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flen_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flen_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flen_zero.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{get_item_name, get_parent_as_impl, is_allowed, span_lint, span_lint_and_sugg, span_lint_and_then};\n+use crate::utils::{get_item_name, get_parent_as_impl, is_allowed};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_ast::ast::LitKind;"}, {"sha": "4b7e02398fbe820a1635475a754645fe28443ade", "filename": "clippy_lints/src/let_if_seq.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flet_if_seq.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flet_if_seq.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flet_if_seq.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{path_to_local_id, span_lint_and_then, visitors::LocalUsedVisitor};\n+use crate::utils::{path_to_local_id, visitors::LocalUsedVisitor};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "eee2503b481d50dfd9b37668e2df45f1fb2b878e", "filename": "clippy_lints/src/let_underscore.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flet_underscore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flet_underscore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flet_underscore.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::ty::{is_must_use_ty, match_type};\n use if_chain::if_chain;\n use rustc_hir::{Local, PatKind};\n@@ -6,7 +7,7 @@ use rustc_middle::lint::in_external_macro;\n use rustc_middle::ty::subst::GenericArgKind;\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::{is_must_use_func_call, paths, span_lint_and_help};\n+use crate::utils::{is_must_use_func_call, paths};\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for `let _ = <expr>`"}, {"sha": "0848aaed815826b4d38c1f8244bc7d7379ba437d", "filename": "clippy_lints/src/lifetimes.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flifetimes.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{in_macro, span_lint, trait_ref_of_method};\n+use crate::utils::{in_macro, trait_ref_of_method};\n+use clippy_utils::diagnostics::span_lint;\n use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n use rustc_hir::intravisit::{\n     walk_fn_decl, walk_generic_param, walk_generics, walk_item, walk_param_bound, walk_poly_trait_ref, walk_ty,"}, {"sha": "dd303bc0a017047a3ae73a179efc0f40630f0ec0", "filename": "clippy_lints/src/literal_representation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fliteral_representation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fliteral_representation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fliteral_representation.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -4,8 +4,8 @@\n use crate::utils::{\n     in_macro,\n     numeric_literal::{NumericLiteral, Radix},\n-    span_lint_and_sugg,\n };\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_opt;\n use if_chain::if_chain;\n use rustc_ast::ast::{Expr, ExprKind, Lit, LitKind};"}, {"sha": "d52a061fc8ffeea55aaf9597ed3384aac37814df", "filename": "clippy_lints/src/loops/empty_loop.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fempty_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fempty_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fempty_loop.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::EMPTY_LOOP;\n-use crate::utils::{is_in_panic_handler, is_no_std_crate, span_lint_and_help};\n+use crate::utils::{is_in_panic_handler, is_no_std_crate};\n+use clippy_utils::diagnostics::span_lint_and_help;\n \n use rustc_hir::{Block, Expr};\n use rustc_lint::LateContext;"}, {"sha": "87ce4e4c20c3cd6ad0aef6176b5d6f3d81f8819a", "filename": "clippy_lints/src/loops/explicit_counter_loop.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fexplicit_counter_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fexplicit_counter_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fexplicit_counter_loop.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,8 @@\n use super::{\n     get_span_of_entire_for_loop, make_iterator_snippet, IncrementVisitor, InitializeVisitor, EXPLICIT_COUNTER_LOOP,\n };\n-use crate::utils::{get_enclosing_block, is_integer_const, span_lint_and_sugg};\n+use crate::utils::{get_enclosing_block, is_integer_const};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "4871a03118739d15261d2a7bb557ea46f2a27447", "filename": "clippy_lints/src/loops/explicit_into_iter_loop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fexplicit_into_iter_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fexplicit_into_iter_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fexplicit_into_iter_loop.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use super::EXPLICIT_INTO_ITER_LOOP;\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use rustc_errors::Applicability;\n use rustc_hir::Expr;"}, {"sha": "259e95e5ef48d699013627a38a3948012a0f1bae", "filename": "clippy_lints/src/loops/explicit_iter_loop.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fexplicit_iter_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fexplicit_iter_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fexplicit_iter_loop.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::EXPLICIT_ITER_LOOP;\n-use crate::utils::{match_trait_method, paths, span_lint_and_sugg};\n+use crate::utils::{match_trait_method, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::{is_type_diagnostic_item, match_type};\n use rustc_errors::Applicability;"}, {"sha": "bf037f392e0ebead3d63bb65939f4e274ccc7e5c", "filename": "clippy_lints/src/loops/for_kv_map.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Ffor_kv_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Ffor_kv_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Ffor_kv_map.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use super::FOR_KV_MAP;\n use crate::utils::visitors::LocalUsedVisitor;\n-use crate::utils::{multispan_sugg, paths, span_lint_and_then, sugg};\n+use crate::utils::{paths, sugg};\n+use clippy_utils::diagnostics::{multispan_sugg, span_lint_and_then};\n use clippy_utils::source::snippet;\n use clippy_utils::ty::{is_type_diagnostic_item, match_type};\n use rustc_hir::{BorrowKind, Expr, ExprKind, Mutability, Pat, PatKind};"}, {"sha": "d49b0517dcf3eceef04c1c8905f08f2a9c7fd3fd", "filename": "clippy_lints/src/loops/for_loops_over_fallibles.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Ffor_loops_over_fallibles.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Ffor_loops_over_fallibles.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Ffor_loops_over_fallibles.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,8 +1,7 @@\n+use super::FOR_LOOPS_OVER_FALLIBLES;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n-\n-use super::FOR_LOOPS_OVER_FALLIBLES;\n-use crate::utils::span_lint_and_help;\n use rustc_hir::{Expr, Pat};\n use rustc_lint::LateContext;\n use rustc_span::symbol::sym;"}, {"sha": "27a03562800a5938cec1b5bcff178ed835895edd", "filename": "clippy_lints/src/loops/iter_next_loop.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fiter_next_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fiter_next_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fiter_next_loop.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,9 +1,10 @@\n use super::ITER_NEXT_LOOP;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::Expr;\n use rustc_lint::LateContext;\n use rustc_span::sym;\n \n-use crate::utils::{is_trait_method, span_lint};\n+use crate::utils::is_trait_method;\n \n pub(super) fn check(cx: &LateContext<'_>, arg: &Expr<'_>, expr: &Expr<'_>) -> bool {\n     if is_trait_method(cx, arg, sym::Iterator) {"}, {"sha": "43580d6071a58cadf7784ab83027db0c71ddc9d7", "filename": "clippy_lints/src/loops/manual_flatten.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fmanual_flatten.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fmanual_flatten.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fmanual_flatten.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use super::utils::make_iterator_snippet;\n use super::MANUAL_FLATTEN;\n-use crate::utils::{is_ok_ctor, is_some_ctor, path_to_local_id, span_lint_and_then};\n+use crate::utils::{is_ok_ctor, is_some_ctor, path_to_local_id};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir::{Expr, ExprKind, MatchSource, Pat, PatKind, QPath, StmtKind};"}, {"sha": "ff68d13699973c410413118a11cfb8e599e83e57", "filename": "clippy_lints/src/loops/manual_memcpy.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fmanual_memcpy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fmanual_memcpy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fmanual_memcpy.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use super::{get_span_of_entire_for_loop, IncrementVisitor, InitializeVisitor, MANUAL_MEMCPY};\n use crate::utils::sugg::Sugg;\n-use crate::utils::{get_enclosing_block, higher, path_to_local, span_lint_and_sugg, sugg};\n+use crate::utils::{get_enclosing_block, higher, path_to_local, sugg};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "175aee53a9a18296a582165dcbbca68e21fdf2d0", "filename": "clippy_lints/src/loops/mut_range_bound.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fmut_range_bound.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fmut_range_bound.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fmut_range_bound.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::MUT_RANGE_BOUND;\n-use crate::utils::{higher, path_to_local, span_lint};\n+use crate::utils::{higher, path_to_local};\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_hir::{BindingAnnotation, Expr, HirId, Node, PatKind};\n use rustc_infer::infer::TyCtxtInferExt;"}, {"sha": "a3b731eefa002495900afacef5aad2d30d182515", "filename": "clippy_lints/src/loops/needless_collect.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fneedless_collect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fneedless_collect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fneedless_collect.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use super::NEEDLESS_COLLECT;\n use crate::utils::sugg::Sugg;\n-use crate::utils::{is_trait_method, path_to_local_id, paths, span_lint_and_sugg, span_lint_and_then};\n+use crate::utils::{is_trait_method, path_to_local_id, paths};\n+use clippy_utils::diagnostics::{span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::snippet;\n use clippy_utils::ty::{is_type_diagnostic_item, match_type};\n use if_chain::if_chain;"}, {"sha": "ca679d7ebe1d20138e80f2cf51347db8f46d4896", "filename": "clippy_lints/src/loops/needless_range_loop.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fneedless_range_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fneedless_range_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fneedless_range_loop.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,9 +1,9 @@\n use super::NEEDLESS_RANGE_LOOP;\n use crate::utils::visitors::LocalUsedVisitor;\n use crate::utils::{\n-    contains_name, higher, is_integer_const, match_trait_method, multispan_sugg, path_to_local_id, paths,\n-    span_lint_and_then, sugg, SpanlessEq,\n+    contains_name, higher, is_integer_const, match_trait_method, path_to_local_id, paths, sugg, SpanlessEq,\n };\n+use clippy_utils::diagnostics::{multispan_sugg, span_lint_and_then};\n use clippy_utils::source::snippet;\n use clippy_utils::ty::has_iter_method;\n use if_chain::if_chain;"}, {"sha": "82ec2635aeb06b66247b9099d754354d2228fcd3", "filename": "clippy_lints/src/loops/never_loop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fnever_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fnever_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fnever_loop.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use super::NEVER_LOOP;\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{Block, Expr, ExprKind, HirId, InlineAsmOperand, Stmt, StmtKind};\n use rustc_lint::LateContext;\n use std::iter::{once, Iterator};"}, {"sha": "849d7ec718cfb9b6df141711b503701e4608c12d", "filename": "clippy_lints/src/loops/same_item_push.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fsame_item_push.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fsame_item_push.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fsame_item_push.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use super::SAME_ITEM_PUSH;\n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::source::snippet_with_macro_callsite;\n use clippy_utils::ty::{implements_trait, is_type_diagnostic_item};\n use if_chain::if_chain;"}, {"sha": "172eb963ae3906bcca657c5964ead6ffbd73b46e", "filename": "clippy_lints/src/loops/single_element_loop.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fsingle_element_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fsingle_element_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fsingle_element_loop.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::{get_span_of_entire_for_loop, SINGLE_ELEMENT_LOOP};\n-use crate::utils::{single_segment_path, span_lint_and_sugg};\n+use crate::utils::single_segment_path;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::{indent_of, snippet};\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "a037a06de81148e40d10ddef8918dc3e502f8fbd", "filename": "clippy_lints/src/loops/while_immutable_condition.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fwhile_immutable_condition.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fwhile_immutable_condition.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fwhile_immutable_condition.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,7 @@\n use super::WHILE_IMMUTABLE_CONDITION;\n use crate::consts::constant;\n-use crate::utils::span_lint_and_then;\n use crate::utils::usage::mutated_variables;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use if_chain::if_chain;\n use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n use rustc_hir::def::{DefKind, Res};"}, {"sha": "ffe8c0c5494b0f61aec63dae5585011f6fa0a235", "filename": "clippy_lints/src/loops/while_let_loop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fwhile_let_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fwhile_let_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fwhile_let_loop.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use super::WHILE_LET_LOOP;\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use rustc_errors::Applicability;\n use rustc_hir::{Block, Expr, ExprKind, MatchSource, StmtKind};"}, {"sha": "29ad9e735cc98bd32d6fa0145774350af9bbb335", "filename": "clippy_lints/src/loops/while_let_on_iterator.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fwhile_let_on_iterator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Floops%2Fwhile_let_on_iterator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fwhile_let_on_iterator.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -3,8 +3,8 @@ use super::WHILE_LET_ON_ITERATOR;\n use crate::utils::usage::mutated_variables;\n use crate::utils::{\n     get_enclosing_block, is_refutable, is_trait_method, last_path_segment, path_to_local, path_to_local_id,\n-    span_lint_and_sugg,\n };\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::implements_trait;\n use if_chain::if_chain;"}, {"sha": "92f95645734617b0e29def90ecfcebe950c7f945", "filename": "clippy_lints/src/macro_use.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmacro_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmacro_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmacro_use.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{in_macro, span_lint_and_sugg};\n+use crate::utils::in_macro;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use hir::def::{DefKind, Res};\n use if_chain::if_chain;"}, {"sha": "6c0308cbd92ad46eca926fc574d9eb0231b2129e", "filename": "clippy_lints/src/main_recursion.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmain_recursion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmain_recursion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmain_recursion.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,10 +1,11 @@\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_hir::{Crate, Expr, ExprKind, QPath};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n \n-use crate::utils::{is_entrypoint_fn, is_no_std_crate, span_lint_and_help};\n+use crate::utils::{is_entrypoint_fn, is_no_std_crate};\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for recursion using the entrypoint."}, {"sha": "1db5cf56962352083c6886cc2132b155236d85ee", "filename": "clippy_lints/src/manual_async_fn.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_async_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_async_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_async_fn.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n+use crate::utils::match_function_call;\n use crate::utils::paths::FUTURE_FROM_GENERATOR;\n-use crate::utils::{match_function_call, span_lint_and_then};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::{position_before_rarrow, snippet_block, snippet_opt};\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "fd563bec769ca2388f50dffd7fbcbc49399d2ab6", "filename": "clippy_lints/src/manual_map.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_map.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,8 +1,9 @@\n use crate::{\n     map_unit_fn::OPTION_MAP_UNIT_FN,\n     matches::MATCH_AS_REF,\n-    utils::{is_allowed, match_def_path, match_var, paths, peel_hir_expr_refs, span_lint_and_sugg},\n+    utils::{is_allowed, match_def_path, match_var, paths, peel_hir_expr_refs},\n };\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::{snippet_with_applicability, snippet_with_context};\n use clippy_utils::ty::{can_partially_move_ty, is_type_diagnostic_item, peel_mid_ty_refs_is_mutable};\n use rustc_ast::util::parser::PREC_POSTFIX;"}, {"sha": "705c1ec1859e3e409462d5138f6e2364ff0635a1", "filename": "clippy_lints/src/manual_non_exhaustive.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_non_exhaustive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_non_exhaustive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_non_exhaustive.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{meets_msrv, span_lint_and_then};\n+use crate::utils::meets_msrv;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet_opt;\n use if_chain::if_chain;\n use rustc_ast::ast::{Attribute, Item, ItemKind, StructField, Variant, VariantData, VisibilityKind};"}, {"sha": "a1e5c752f83edaf8464d86e61ff2df48fe3fcdef", "filename": "clippy_lints/src/manual_ok_or.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_ok_or.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_ok_or.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_ok_or.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_qpath, path_to_local_id, paths, span_lint_and_sugg};\n+use crate::utils::{match_qpath, path_to_local_id, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::{indent_of, reindent_multiline, snippet_opt};\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "bc4e255b03d2625ed382893e188196a750c1047b", "filename": "clippy_lints/src/manual_strip.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_strip.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_strip.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_strip.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use crate::consts::{constant, Constant};\n use crate::utils::usage::mutated_variables;\n-use crate::utils::{eq_expr_value, higher, match_def_path, meets_msrv, multispan_sugg, paths, span_lint_and_then};\n+use crate::utils::{eq_expr_value, higher, match_def_path, meets_msrv, paths};\n+use clippy_utils::diagnostics::{multispan_sugg, span_lint_and_then};\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_ast::ast::LitKind;"}, {"sha": "0e030e0e2612964edfebab56c9827f685ed30495", "filename": "clippy_lints/src/manual_unwrap_or.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_unwrap_or.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmanual_unwrap_or.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_unwrap_or.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use crate::consts::constant_simple;\n use crate::utils;\n use crate::utils::{path_to_local_id, sugg};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::{indent_of, reindent_multiline, snippet_opt};\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n@@ -112,7 +113,7 @@ fn lint_manual_unwrap_or<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx Expr<'tcx>) {\n         then {\n             let reindented_or_body =\n                 reindent_multiline(or_body_snippet.into(), true, Some(indent));\n-            utils::span_lint_and_sugg(\n+            span_lint_and_sugg(\n                 cx,\n                 MANUAL_UNWRAP_OR, expr.span,\n                 &format!(\"this pattern reimplements `{}`\", case.unwrap_fn_path()),"}, {"sha": "fd39052871b2104b45779c60af0aa83e426e5e4f", "filename": "clippy_lints/src/map_clone.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmap_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmap_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmap_clone.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::is_trait_method;\n-use crate::utils::{remove_blocks, span_lint_and_sugg};\n+use crate::utils::remove_blocks;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::{is_copy, is_type_diagnostic_item};\n use if_chain::if_chain;"}, {"sha": "a6a63961be572608f29f4605131388d5af6f8420", "filename": "clippy_lints/src/map_err_ignore.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmap_err_ignore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmap_err_ignore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmap_err_ignore.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,4 @@\n-use crate::utils::span_lint_and_help;\n-\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_hir::{CaptureBy, Expr, ExprKind, PatKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};"}, {"sha": "84ec23c4e2f9834638554392ce730d83ebb4bf24", "filename": "clippy_lints/src/map_identity.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmap_identity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmap_identity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmap_identity.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_adjusted, is_trait_method, match_path, match_var, paths, remove_blocks, span_lint_and_sugg};\n+use crate::utils::{is_adjusted, is_trait_method, match_path, match_var, paths, remove_blocks};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "3bd4a965765807d559b80fc641cd45060919c2d6", "filename": "clippy_lints/src/map_unit_fn.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmap_unit_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmap_unit_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmap_unit_fn.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{iter_input_pats, method_chain_args, span_lint_and_then};\n+use crate::utils::{iter_input_pats, method_chain_args};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "ccaa5e98c83a9e38677735784274a43013c31725", "filename": "clippy_lints/src/match_on_vec_items.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmatch_on_vec_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmatch_on_vec_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatch_on_vec_items.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::{is_type_diagnostic_item, is_type_lang_item};\n use if_chain::if_chain;"}, {"sha": "1aa09b828229636c8dbf9f282944e4e06875a476", "filename": "clippy_lints/src/matches.rs", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmatches.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmatches.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatches.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -2,11 +2,13 @@ use crate::consts::{constant, miri_to_const, Constant};\n use crate::utils::sugg::Sugg;\n use crate::utils::visitors::LocalUsedVisitor;\n use crate::utils::{\n-    get_parent_expr, in_macro, is_allowed, is_expn_of, is_refutable, is_wild, match_qpath, meets_msrv, multispan_sugg,\n-    path_to_local, path_to_local_id, peel_hir_pat_refs, peel_n_hir_expr_refs, remove_blocks, span_lint_and_help,\n-    span_lint_and_note, span_lint_and_sugg, span_lint_and_then, strip_pat_refs,\n+    get_parent_expr, in_macro, is_allowed, is_expn_of, is_refutable, is_wild, match_qpath, meets_msrv, path_to_local,\n+    path_to_local_id, peel_hir_pat_refs, peel_n_hir_expr_refs, remove_blocks, strip_pat_refs,\n };\n use crate::utils::{paths, search_same, SpanlessEq, SpanlessHash};\n+use clippy_utils::diagnostics::{\n+    multispan_sugg, span_lint_and_help, span_lint_and_note, span_lint_and_sugg, span_lint_and_then,\n+};\n use clippy_utils::source::{expr_block, indent_of, snippet, snippet_block, snippet_opt, snippet_with_applicability};\n use clippy_utils::ty::{implements_trait, is_type_diagnostic_item, match_type, peel_mid_ty_refs};\n use if_chain::if_chain;\n@@ -1614,7 +1616,8 @@ where\n \n mod redundant_pattern_match {\n     use super::REDUNDANT_PATTERN_MATCHING;\n-    use crate::utils::{is_trait_method, match_qpath, paths, span_lint_and_then};\n+    use crate::utils::{is_trait_method, match_qpath, paths};\n+    use clippy_utils::diagnostics::span_lint_and_then;\n     use clippy_utils::source::snippet;\n     use if_chain::if_chain;\n     use rustc_ast::ast::LitKind;"}, {"sha": "85353d4cdde8275d16a18f1b44e8735f0c32d283", "filename": "clippy_lints/src/mem_discriminant.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmem_discriminant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmem_discriminant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmem_discriminant.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, paths, span_lint_and_then};\n+use crate::utils::{match_def_path, paths};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::walk_ptrs_ty_depth;\n use if_chain::if_chain;"}, {"sha": "1a8cb82514b79f1b6a43ab9ba6f5b8d5c4f1043a", "filename": "clippy_lints/src/mem_forget.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmem_forget.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmem_forget.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmem_forget.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, paths, span_lint};\n+use crate::utils::{match_def_path, paths};\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};"}, {"sha": "87cb66a677002f9bbbfc8d8020013baafd96943b", "filename": "clippy_lints/src/mem_replace.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmem_replace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmem_replace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmem_replace.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,5 @@\n-use crate::utils::{\n-    in_macro, match_def_path, match_qpath, meets_msrv, paths, span_lint_and_help, span_lint_and_sugg,\n-    span_lint_and_then,\n-};\n+use crate::utils::{in_macro, match_def_path, match_qpath, meets_msrv, paths};\n+use clippy_utils::diagnostics::{span_lint_and_help, span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::is_diagnostic_assoc_item;\n use clippy_utils::source::{snippet, snippet_with_applicability};\n use if_chain::if_chain;"}, {"sha": "7d6104ebb7f9b4dfaa41f08219121e9a6d648fb6", "filename": "clippy_lints/src/methods/bind_instead_of_map.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fbind_instead_of_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fbind_instead_of_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fbind_instead_of_map.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,8 +1,6 @@\n use super::{contains_return, BIND_INSTEAD_OF_MAP};\n-use crate::utils::{\n-    in_macro, match_qpath, method_calls, multispan_sugg_with_applicability, paths, remove_blocks, span_lint_and_sugg,\n-    span_lint_and_then, visitors::find_all_ret_expressions,\n-};\n+use crate::utils::{in_macro, match_qpath, method_calls, paths, remove_blocks, visitors::find_all_ret_expressions};\n+use clippy_utils::diagnostics::{multispan_sugg_with_applicability, span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::{snippet, snippet_with_macro_callsite};\n use clippy_utils::ty::match_type;\n use if_chain::if_chain;"}, {"sha": "4f88f80a304bd6cbfaec64ebefa98b285adbd7c0", "filename": "clippy_lints/src/methods/bytes_nth.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fbytes_nth.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fbytes_nth.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fbytes_nth.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "d1c7789a2419c54bb2f8b00bae4cd41acb5d2767", "filename": "clippy_lints/src/methods/clone_on_copy.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fclone_on_copy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fclone_on_copy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fclone_on_copy.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{span_lint_and_then, sugg};\n+use crate::utils::sugg;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::ty::is_copy;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "b49ae42b12f030ea184dc43a52cd5dcbd47bd63f", "filename": "clippy_lints/src/methods/clone_on_ref_ptr.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fclone_on_ref_ptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fclone_on_ref_ptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fclone_on_ref_ptr.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{paths, span_lint_and_sugg};\n+use crate::utils::paths;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_macro_callsite;\n use clippy_utils::ty::{is_type_diagnostic_item, match_type};\n use rustc_errors::Applicability;"}, {"sha": "1c673c11d655d16da36302d50a54cc3b6779f2be", "filename": "clippy_lints/src/methods/expect_fun_call.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fexpect_fun_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fexpect_fun_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fexpect_fun_call.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_expn_of, span_lint_and_sugg};\n+use crate::utils::is_expn_of;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::{snippet, snippet_with_applicability};\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "64531b29ade2f6c26fc61b4f439e903dc3151ff6", "filename": "clippy_lints/src/methods/expect_used.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fexpect_used.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fexpect_used.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fexpect_used.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_hir as hir;\n use rustc_lint::LateContext;"}, {"sha": "005c94a60185e8dce826eb108f08ea181a78332e", "filename": "clippy_lints/src/methods/filetype_is_file.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffiletype_is_file.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffiletype_is_file.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Ffiletype_is_file.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{get_parent_expr, paths, span_lint_and_help};\n+use crate::utils::{get_parent_expr, paths};\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::ty::match_type;\n use if_chain::if_chain;\n use rustc_hir as hir;"}, {"sha": "4820bb137c1b6d4bb36631ae6be5dbe95d5521ab", "filename": "clippy_lints/src/methods/filter_flat_map.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_flat_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_flat_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Ffilter_flat_map.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, span_lint_and_help};\n+use crate::utils::is_trait_method;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_hir as hir;\n use rustc_lint::LateContext;\n use rustc_span::sym;"}, {"sha": "af91370df20893f2ba7a07ed811a5140fa364b22", "filename": "clippy_lints/src/methods/filter_map.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, path_to_local_id, span_lint_and_sugg, SpanlessEq};\n+use crate::utils::{is_trait_method, path_to_local_id, SpanlessEq};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "5294ef9752815a9bc539f686342b17e0ec76f932", "filename": "clippy_lints/src/methods/filter_map_flat_map.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_flat_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_flat_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_flat_map.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, span_lint_and_help};\n+use crate::utils::is_trait_method;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_hir as hir;\n use rustc_lint::LateContext;\n use rustc_span::sym;"}, {"sha": "4461baf4f7c1ba6236ca391edafc4f378339f7c5", "filename": "clippy_lints/src/methods/filter_map_identity.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_identity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_identity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_identity.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, match_qpath, path_to_local_id, paths, span_lint_and_sugg};\n+use crate::utils::{is_trait_method, match_qpath, path_to_local_id, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "8f17350054b1ed5f97f503164a55e6345255985c", "filename": "clippy_lints/src/methods/filter_map_map.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_map.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, span_lint_and_help};\n+use crate::utils::is_trait_method;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_hir as hir;\n use rustc_lint::LateContext;\n use rustc_span::sym;"}, {"sha": "8fbadd1d45753b70b9c5737c7118665609e06a7e", "filename": "clippy_lints/src/methods/filter_map_next.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_next.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_next.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map_next.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, meets_msrv, span_lint, span_lint_and_sugg};\n+use crate::utils::{is_trait_method, meets_msrv};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg};\n use clippy_utils::source::snippet;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "af16ea190070c5b2bac6dc47eff2d3400d5ce552", "filename": "clippy_lints/src/methods/filter_next.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_next.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffilter_next.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Ffilter_next.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, span_lint, span_lint_and_sugg};\n+use crate::utils::is_trait_method;\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg};\n use clippy_utils::source::snippet;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "669ac1f743f230f8f5b7cad99776dc815543f2c4", "filename": "clippy_lints/src/methods/flat_map_identity.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fflat_map_identity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fflat_map_identity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fflat_map_identity.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, match_qpath, paths, span_lint_and_sugg};\n+use crate::utils::{is_trait_method, match_qpath, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "5d0a07992c8272b134b9b4faad07544dca833c7e", "filename": "clippy_lints/src/methods/from_iter_instead_of_collect.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffrom_iter_instead_of_collect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Ffrom_iter_instead_of_collect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Ffrom_iter_instead_of_collect.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{get_trait_def_id, paths, span_lint_and_sugg, sugg};\n+use crate::utils::{get_trait_def_id, paths, sugg};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::ty::implements_trait;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "ac855419d0067b488c7fb08e4ff20e8ab5f50275", "filename": "clippy_lints/src/methods/get_unwrap.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fget_unwrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fget_unwrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fget_unwrap.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::methods::derefs_to_slice;\n-use crate::utils::{get_parent_expr, paths, span_lint_and_sugg};\n+use crate::utils::{get_parent_expr, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::{is_type_diagnostic_item, match_type};\n use if_chain::if_chain;"}, {"sha": "04461ad5c3a6f245acf7e41e67c4dda91376c8f7", "filename": "clippy_lints/src/methods/implicit_clone.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fimplicit_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fimplicit_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fimplicit_clone.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "56de7a8bc5eb62404c5fa518a7a271b3e3be3a23", "filename": "clippy_lints/src/methods/inefficient_to_string.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Finefficient_to_string.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Finefficient_to_string.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Finefficient_to_string.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::INEFFICIENT_TO_STRING;\n-use crate::utils::{match_def_path, paths, span_lint_and_then};\n+use crate::utils::{match_def_path, paths};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::{is_type_diagnostic_item, walk_ptrs_ty_depth};\n use if_chain::if_chain;"}, {"sha": "c9bbfbc37eb4d171eab105c54102de40c8243447", "filename": "clippy_lints/src/methods/inspect_for_each.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Finspect_for_each.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Finspect_for_each.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Finspect_for_each.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,8 +1,9 @@\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_hir as hir;\n use rustc_lint::LateContext;\n use rustc_span::{source_map::Span, sym};\n \n-use crate::utils::{is_trait_method, span_lint_and_help};\n+use crate::utils::is_trait_method;\n \n use super::INSPECT_FOR_EACH;\n "}, {"sha": "a862b55e1396cb017d389855f2446efc1d87bf31", "filename": "clippy_lints/src/methods/into_iter_on_ref.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Finto_iter_on_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Finto_iter_on_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Finto_iter_on_ref.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_trait_method, paths, span_lint_and_sugg};\n+use crate::utils::{match_trait_method, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::ty::has_iter_method;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "cd575c9cb0212a438e2ced525fd8dcbdaf61c2e8", "filename": "clippy_lints/src/methods/iter_cloned_collect.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_cloned_collect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_cloned_collect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiter_cloned_collect.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use crate::methods::derefs_to_slice;\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "bfd62ff1f0d18f729550c4c46e87249a840e4096", "filename": "clippy_lints/src/methods/iter_count.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_count.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_count.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiter_count.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::methods::derefs_to_slice;\n-use crate::utils::{paths, span_lint_and_sugg};\n+use crate::utils::paths;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::{is_type_diagnostic_item, match_type};\n use rustc_errors::Applicability;"}, {"sha": "ce599682bbec593505107ac4708d30269cc97586", "filename": "clippy_lints/src/methods/iter_next_slice.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_next_slice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_next_slice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiter_next_slice.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::methods::derefs_to_slice;\n-use crate::utils::{get_parent_expr, higher, span_lint_and_sugg};\n+use crate::utils::{get_parent_expr, higher};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "2619793e1e2dced727c3b2d69ba6c1c1066a1f11", "filename": "clippy_lints/src/methods/iter_nth.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_nth.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_nth.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiter_nth.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,6 @@\n use crate::methods::derefs_to_slice;\n use crate::methods::iter_nth_zero;\n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_hir as hir;\n use rustc_lint::LateContext;"}, {"sha": "f2b2dd8c0978642f018239cc95f49abe3641548e", "filename": "clippy_lints/src/methods/iter_nth_zero.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_nth_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_nth_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiter_nth_zero.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::consts::{constant, Constant};\n-use crate::utils::{is_trait_method, span_lint_and_sugg};\n+use crate::utils::is_trait_method;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "6100613bcac5ed15e150520c6a472179493b2056", "filename": "clippy_lints/src/methods/iter_skip_next.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_skip_next.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiter_skip_next.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiter_skip_next.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, span_lint_and_sugg};\n+use crate::utils::is_trait_method;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "51c1ab0484ee4b6987c0c7fda81e09acfa6d496d", "filename": "clippy_lints/src/methods/iterator_step_by_zero.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiterator_step_by_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fiterator_step_by_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiterator_step_by_zero.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::consts::{constant, Constant};\n-use crate::utils::{is_trait_method, span_lint};\n+use crate::utils::is_trait_method;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir as hir;\n use rustc_lint::LateContext;\n use rustc_span::sym;"}, {"sha": "0c8a002e3590bd3e0d1c12f5db4e134468f92c05", "filename": "clippy_lints/src/methods/manual_saturating_arithmetic.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fmanual_saturating_arithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fmanual_saturating_arithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmanual_saturating_arithmetic.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_qpath, span_lint_and_sugg};\n+use crate::utils::match_qpath;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_ast::ast;"}, {"sha": "b59998fc8b4a6eed230d080f12820510be43c06c", "filename": "clippy_lints/src/methods/map_collect_result_unit.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fmap_collect_result_unit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fmap_collect_result_unit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmap_collect_result_unit.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, span_lint_and_sugg};\n+use crate::utils::is_trait_method;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "6f5e723fbfb3adc03fcaf9629c9cd3255def20a7", "filename": "clippy_lints/src/methods/map_flatten.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fmap_flatten.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fmap_flatten.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmap_flatten.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, span_lint_and_sugg};\n+use crate::utils::is_trait_method;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_errors::Applicability;"}, {"sha": "8ef02b4a641cd9ecc47f96b8bf8e68b5efff8475", "filename": "clippy_lints/src/methods/map_unwrap_or.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fmap_unwrap_or.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fmap_unwrap_or.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmap_unwrap_or.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n+use crate::utils::meets_msrv;\n use crate::utils::usage::mutated_variables;\n-use crate::utils::{meets_msrv, span_lint, span_lint_and_sugg};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg};\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_errors::Applicability;"}, {"sha": "af8fe7abd9622340c8e5ed2fb34e88dfa3d2151b", "filename": "clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -52,6 +52,7 @@ mod wrong_self_convention;\n mod zst_offset;\n \n use bind_instead_of_map::BindInsteadOfMap;\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help, span_lint_and_sugg};\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::{contains_ty, implements_trait, is_copy, is_type_diagnostic_item};\n use if_chain::if_chain;\n@@ -69,8 +70,7 @@ use rustc_typeck::hir_ty_to_ty;\n \n use crate::utils::{\n     contains_return, get_trait_def_id, in_macro, iter_input_pats, match_def_path, match_qpath, method_calls,\n-    method_chain_args, paths, return_ty, single_segment_path, span_lint, span_lint_and_help, span_lint_and_sugg,\n-    SpanlessEq,\n+    method_chain_args, paths, return_ty, single_segment_path, SpanlessEq,\n };\n \n declare_clippy_lint! {"}, {"sha": "e6ce9cac39729ec8383052f2fb0572ee027eb459", "filename": "clippy_lints/src/methods/ok_expect.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fok_expect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fok_expect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fok_expect.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::ty::{implements_trait, is_type_diagnostic_item};\n use if_chain::if_chain;\n use rustc_hir as hir;"}, {"sha": "f921d7b16c05be639fec8a95dde5d1dcb22c5207", "filename": "clippy_lints/src/methods/option_as_ref_deref.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Foption_as_ref_deref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Foption_as_ref_deref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Foption_as_ref_deref.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, meets_msrv, path_to_local_id, paths, remove_blocks, span_lint_and_sugg};\n+use crate::utils::{match_def_path, meets_msrv, path_to_local_id, paths, remove_blocks};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "e8b057c2d740059d0998fa10fa591bca345dddb6", "filename": "clippy_lints/src/methods/option_map_or_none.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Foption_map_or_none.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Foption_map_or_none.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Foption_map_or_none.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_qpath, paths, span_lint_and_sugg};\n+use crate::utils::{match_qpath, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_errors::Applicability;"}, {"sha": "c6459648cd502c3889b88e076117c0d16702f5da", "filename": "clippy_lints/src/methods/option_map_unwrap_or.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Foption_map_unwrap_or.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Foption_map_unwrap_or.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Foption_map_unwrap_or.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{differing_macro_contexts, span_lint_and_then};\n+use crate::utils::differing_macro_contexts;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::is_copy;\n use clippy_utils::ty::is_type_diagnostic_item;"}, {"sha": "1b43802a08e7bb20031f7d04f7f58a0d596912ab", "filename": "clippy_lints/src/methods/or_fun_call.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2For_fun_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2For_fun_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2For_fun_call.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::eager_or_lazy::is_lazyness_candidate;\n-use crate::utils::{contains_return, get_trait_def_id, last_path_segment, paths, span_lint_and_sugg};\n+use crate::utils::{contains_return, get_trait_def_id, last_path_segment, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::{snippet, snippet_with_applicability, snippet_with_macro_callsite};\n use clippy_utils::ty::{implements_trait, is_type_diagnostic_item, match_type};\n use if_chain::if_chain;"}, {"sha": "18e1064b018502fe1e162bd9d013cf5d69ee0948", "filename": "clippy_lints/src/methods/search_is_some.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fsearch_is_some.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fsearch_is_some.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fsearch_is_some.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, span_lint_and_help, span_lint_and_sugg, strip_pat_refs};\n+use crate::utils::{is_trait_method, strip_pat_refs};\n+use clippy_utils::diagnostics::{span_lint_and_help, span_lint_and_sugg};\n use clippy_utils::source::{snippet, snippet_with_applicability};\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "cd87d2c56b721f93415799657749930dadbef10a", "filename": "clippy_lints/src/methods/single_char_insert_string.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fsingle_char_insert_string.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fsingle_char_insert_string.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fsingle_char_insert_string.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use crate::methods::get_hint_if_single_char_arg;\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "12d6418d7001875fac726d06b71fe206b420812b", "filename": "clippy_lints/src/methods/single_char_pattern.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fsingle_char_pattern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fsingle_char_pattern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fsingle_char_pattern.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use crate::methods::get_hint_if_single_char_arg;\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use rustc_errors::Applicability;\n use rustc_hir as hir;\n use rustc_lint::LateContext;"}, {"sha": "882703a987d354f50930ded8d8eb81d8b747adf2", "filename": "clippy_lints/src/methods/single_char_push_string.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fsingle_char_push_string.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fsingle_char_push_string.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fsingle_char_push_string.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use crate::methods::get_hint_if_single_char_arg;\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "8995226191b4a714e978fb584fccebd2b96d9cab", "filename": "clippy_lints/src/methods/skip_while_next.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fskip_while_next.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fskip_while_next.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fskip_while_next.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, span_lint_and_help};\n+use crate::utils::is_trait_method;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_hir as hir;\n use rustc_lint::LateContext;\n use rustc_span::sym;"}, {"sha": "d9b97168490923f2cfb412cdb5afb06a43f404ac", "filename": "clippy_lints/src/methods/string_extend_chars.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fstring_extend_chars.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fstring_extend_chars.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fstring_extend_chars.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{method_chain_args, span_lint_and_sugg};\n+use crate::utils::method_chain_args;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_errors::Applicability;"}, {"sha": "fd4651dd1822a460d88e1d93a1412cacb4e5ed54", "filename": "clippy_lints/src/methods/suspicious_map.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fsuspicious_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fsuspicious_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fsuspicious_map.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::usage::mutated_variables;\n-use crate::utils::{expr_or_init, is_trait_method, span_lint_and_help};\n+use crate::utils::{expr_or_init, is_trait_method};\n+use clippy_utils::diagnostics::span_lint_and_help;\n use if_chain::if_chain;\n use rustc_hir as hir;\n use rustc_lint::LateContext;"}, {"sha": "071856c3ba61791207b8a854f2c80b8b0fab121d", "filename": "clippy_lints/src/methods/uninit_assumed_init.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Funinit_assumed_init.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Funinit_assumed_init.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Funinit_assumed_init.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, match_qpath, paths, span_lint};\n+use crate::utils::{match_def_path, match_qpath, paths};\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_hir as hir;\n use rustc_lint::LateContext;"}, {"sha": "670134c68f2055b4020ce0904a7c264affe72d29", "filename": "clippy_lints/src/methods/unnecessary_filter_map.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_filter_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_filter_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_filter_map.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::usage::mutated_variables;\n-use crate::utils::{is_trait_method, match_qpath, path_to_local_id, paths, span_lint};\n+use crate::utils::{is_trait_method, match_qpath, path_to_local_id, paths};\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir as hir;\n use rustc_hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc_lint::LateContext;"}, {"sha": "3ccde57de3f68c62e23a047165505217c0421a88", "filename": "clippy_lints/src/methods/unnecessary_fold.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_fold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_fold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_fold.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_trait_method, path_to_local_id, remove_blocks, span_lint_and_sugg, strip_pat_refs};\n+use crate::utils::{is_trait_method, path_to_local_id, remove_blocks, strip_pat_refs};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_ast::ast;"}, {"sha": "3874673bf9f4cbdfe036c1fc52fe6d0c894e165f", "filename": "clippy_lints/src/methods/unnecessary_lazy_eval.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_lazy_eval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_lazy_eval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_lazy_eval.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n-use crate::utils::span_lint_and_sugg;\n use crate::utils::{eager_or_lazy, usage};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_errors::Applicability;"}, {"sha": "2f5806115bd5a55005c89a512f376f087a8c5c9c", "filename": "clippy_lints/src/methods/unwrap_used.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Funwrap_used.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Funwrap_used.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Funwrap_used.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_hir as hir;\n use rustc_lint::LateContext;"}, {"sha": "13c95e33fef4748f6c17e5d9d0b35848fd17f334", "filename": "clippy_lints/src/methods/useless_asref.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fuseless_asref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fuseless_asref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fuseless_asref.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{get_parent_expr, match_trait_method, paths, span_lint_and_sugg};\n+use crate::utils::{get_parent_expr, match_trait_method, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::walk_ptrs_ty_depth;\n use if_chain::if_chain;"}, {"sha": "b728d7d8d08e82feae518b82418f3b449da85a59", "filename": "clippy_lints/src/methods/wrong_self_convention.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fwrong_self_convention.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fwrong_self_convention.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fwrong_self_convention.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use crate::methods::SelfKind;\n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_lint::LateContext;\n use rustc_middle::ty::TyS;\n use rustc_span::source_map::Span;"}, {"sha": "9f6a7c4db1736bb8ccf64749a23f1a8314741365", "filename": "clippy_lints/src/methods/zst_offset.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fzst_offset.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmethods%2Fzst_offset.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fzst_offset.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_hir as hir;\n use rustc_lint::LateContext;"}, {"sha": "6a4e70e50af4607b00873e5a09d287df2b3ca9d5", "filename": "clippy_lints/src/minmax.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fminmax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fminmax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fminmax.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::consts::{constant_simple, Constant};\n-use crate::utils::{match_def_path, match_trait_method, paths, span_lint};\n+use crate::utils::{match_def_path, match_trait_method, paths};\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_hir::{Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "03d072870058c9dfff348225cf652c725d562cfb", "filename": "clippy_lints/src/misc.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmisc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmisc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmisc.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg, span_lint_and_then, span_lint_hir_and_then};\n use clippy_utils::source::{snippet, snippet_opt};\n use clippy_utils::ty::implements_trait;\n use if_chain::if_chain;\n@@ -20,8 +21,7 @@ use crate::consts::{constant, Constant};\n use crate::utils::sugg::Sugg;\n use crate::utils::{\n     get_item_name, get_parent_expr, higher, in_constant, is_diagnostic_assoc_item, is_integer_const, iter_input_pats,\n-    last_path_segment, match_qpath, span_lint, span_lint_and_sugg, span_lint_and_then, span_lint_hir_and_then, unsext,\n-    SpanlessEq,\n+    last_path_segment, match_qpath, unsext, SpanlessEq,\n };\n \n declare_clippy_lint! {"}, {"sha": "3c6a7071c24a7e62cab0d4b2b49c7564e6ee57a3", "filename": "clippy_lints/src/misc_early.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmisc_early.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmisc_early.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmisc_early.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::{span_lint, span_lint_and_help, span_lint_and_sugg, span_lint_and_then};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help, span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::snippet_opt;\n use rustc_ast::ast::{\n     BindingMode, Expr, ExprKind, GenericParamKind, Generics, Lit, LitFloatType, LitIntType, LitKind, Mutability,"}, {"sha": "aba4accccb16bb5d797a6498e1b7bcb23e48dab0", "filename": "clippy_lints/src/missing_const_for_fn.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmissing_const_for_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmissing_const_for_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmissing_const_for_fn.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::qualify_min_const_fn::is_min_const_fn;\n-use crate::utils::{fn_has_unsatisfiable_preds, is_entrypoint_fn, meets_msrv, span_lint, trait_ref_of_method};\n+use crate::utils::{fn_has_unsatisfiable_preds, is_entrypoint_fn, meets_msrv, trait_ref_of_method};\n+use clippy_utils::diagnostics::span_lint;\n use clippy_utils::ty::has_drop;\n use rustc_hir as hir;\n use rustc_hir::intravisit::FnKind;"}, {"sha": "fd6f31faa941a46a2790ff368743c34dea596b9e", "filename": "clippy_lints/src/missing_doc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmissing_doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmissing_doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmissing_doc.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -5,7 +5,7 @@\n // [`missing_doc`]: https://github.com/rust-lang/rust/blob/cf9cf7c923eb01146971429044f216a3ca905e06/compiler/rustc_lint/src/builtin.rs#L415\n //\n \n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_ast::ast::{self, MetaItem, MetaItemKind};\n use rustc_ast::attr;"}, {"sha": "dd4488f3f026128e75c66ea22e215579bb0b75d4", "filename": "clippy_lints/src/missing_inline.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmissing_inline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmissing_inline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmissing_inline.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_ast::ast;\n use rustc_hir as hir;\n use rustc_lint::{self, LateContext, LateLintPass, LintContext};"}, {"sha": "1b00cf2c75d147e7a1642bfe520cf6827c9cd464", "filename": "clippy_lints/src/modulo_arithmetic.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmodulo_arithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmodulo_arithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmodulo_arithmetic.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::consts::{constant, Constant};\n-use crate::utils::{sext, span_lint_and_then};\n+use crate::utils::sext;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use if_chain::if_chain;\n use rustc_hir::{BinOpKind, Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "6eaeaebe7818441f2db032e173006f471aa39fc7", "filename": "clippy_lints/src/multiple_crate_versions.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n //! lint on multiple versions of a crate being used\n \n-use crate::utils::{run_lints, span_lint};\n+use crate::utils::run_lints;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::def_id::LOCAL_CRATE;\n use rustc_hir::{Crate, CRATE_HIR_ID};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "39aec79734cbdaef0866651dab7cbf86b1eda1aa", "filename": "clippy_lints/src/mut_key.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmut_key.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmut_key.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmut_key.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, paths, span_lint, trait_ref_of_method};\n+use crate::utils::{match_def_path, paths, trait_ref_of_method};\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir as hir;\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::ty::TypeFoldable;"}, {"sha": "c11ccc948904ff8303922f678a54dd5bbbc0e009", "filename": "clippy_lints/src/mut_mut.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmut_mut.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmut_mut.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmut_mut.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{higher, span_lint};\n+use crate::utils::higher;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir as hir;\n use rustc_hir::intravisit;\n use rustc_lint::{LateContext, LateLintPass, LintContext};"}, {"sha": "b9ba74c7d025284db2d7091c1f204b87e22e757f", "filename": "clippy_lints/src/mut_mutex_lock.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmut_mutex_lock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmut_mutex_lock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmut_mutex_lock.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "0c09ddb80733d3ee7a16ce53e0afaee323535c25", "filename": "clippy_lints/src/mut_reference.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmut_reference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmut_reference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmut_reference.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{BorrowKind, Expr, ExprKind, Mutability};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::ty::subst::Subst;"}, {"sha": "fb8895e08d039b1f6fb284336d085a24391348cf", "filename": "clippy_lints/src/mutable_debug_assertion.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmutable_debug_assertion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmutable_debug_assertion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmutable_debug_assertion.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{higher, is_direct_expn_of, span_lint};\n+use crate::utils::{higher, is_direct_expn_of};\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc_hir::{BorrowKind, Expr, ExprKind, MatchSource, Mutability};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "354e2c3fb7480548465e2c1597b0f2b03620a4f9", "filename": "clippy_lints/src/mutex_atomic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmutex_atomic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fmutex_atomic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmutex_atomic.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -2,7 +2,7 @@\n //!\n //! This lint is **warn** by default\n \n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_hir::Expr;\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "c62ff7323f3ab584168738ef83bdbd661fbd103d", "filename": "clippy_lints/src/needless_arbitrary_self_type.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_arbitrary_self_type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_arbitrary_self_type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_arbitrary_self_type.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{in_macro, span_lint_and_sugg};\n+use crate::utils::in_macro;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use if_chain::if_chain;\n use rustc_ast::ast::{BindingMode, Lifetime, Mutability, Param, PatKind, Path, TyKind};\n use rustc_errors::Applicability;"}, {"sha": "4c67304d23ee47407dd74ebbce802ddfda84f5cd", "filename": "clippy_lints/src/needless_bool.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_bool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_bool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_bool.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -3,7 +3,8 @@\n //! This lint is **warn** by default\n \n use crate::utils::sugg::Sugg;\n-use crate::utils::{is_expn_of, parent_node_is_if_expr, span_lint, span_lint_and_sugg};\n+use crate::utils::{is_expn_of, parent_node_is_if_expr};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg};\n use clippy_utils::source::snippet_with_applicability;\n use rustc_ast::ast::LitKind;\n use rustc_errors::Applicability;"}, {"sha": "72436b51dcb291badcdf6520342d8c024f09a31d", "filename": "clippy_lints/src/needless_borrow.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_borrow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_borrow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_borrow.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -2,7 +2,8 @@\n //!\n //! This lint is **warn** by default\n \n-use crate::utils::{is_automatically_derived, span_lint_and_then};\n+use crate::utils::is_automatically_derived;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet_opt;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "7fbffe04a3f5a1b38d9514307b8aed26dccc6c5a", "filename": "clippy_lints/src/needless_borrowed_ref.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_then;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "91c97ef7c2a404dbfd319132454950180416bf11", "filename": "clippy_lints/src/needless_continue.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_continue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_continue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_continue.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -33,15 +33,14 @@\n //! ```\n //!\n //! This lint is **warn** by default.\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::source::{indent_of, snippet, snippet_block};\n use rustc_ast::ast;\n use rustc_lint::{EarlyContext, EarlyLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::{original_sp, DUMMY_SP};\n use rustc_span::Span;\n \n-use crate::utils::span_lint_and_help;\n-\n declare_clippy_lint! {\n     /// **What it does:** The lint checks for `if`-statements appearing in loops\n     /// that contain a `continue` statement in either their main blocks or their"}, {"sha": "fc8ee6cb8effddba734047ab37915f5dd5c88843", "filename": "clippy_lints/src/needless_pass_by_value.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::ptr::get_spans;\n-use crate::utils::{get_trait_def_id, is_self, multispan_sugg, paths, span_lint_and_then};\n+use crate::utils::{get_trait_def_id, is_self, paths};\n+use clippy_utils::diagnostics::{multispan_sugg, span_lint_and_then};\n use clippy_utils::source::{snippet, snippet_opt};\n use clippy_utils::ty::{implements_trait, is_copy, is_type_diagnostic_item};\n use if_chain::if_chain;"}, {"sha": "ecf48d082af0a39d502db5c677ef894af50de987", "filename": "clippy_lints/src/needless_question_mark.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_question_mark.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_question_mark.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_question_mark.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_errors::Applicability;\n@@ -140,7 +141,7 @@ fn emit_lint(cx: &LateContext<'_>, expr: &SomeOkCall<'_>) {\n         SomeOkCall::OkCall(outer, inner) | SomeOkCall::SomeCall(outer, inner) => (outer, inner),\n     };\n \n-    utils::span_lint_and_sugg(\n+    span_lint_and_sugg(\n         cx,\n         NEEDLESS_QUESTION_MARK,\n         entire_expr.span,"}, {"sha": "e93de8a252a34befc63b1aac34164f0bf266213b", "filename": "clippy_lints/src/needless_update.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_update.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneedless_update.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_update.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::ty;"}, {"sha": "e291885d34d9d503bf60292656e6eee9879d410a", "filename": "clippy_lints/src/neg_cmp_op_on_partial_ord.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneg_cmp_op_on_partial_ord.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneg_cmp_op_on_partial_ord.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneg_cmp_op_on_partial_ord.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,11 +1,12 @@\n+use clippy_utils::diagnostics::span_lint;\n use clippy_utils::ty::implements_trait;\n use if_chain::if_chain;\n use rustc_hir::{BinOpKind, Expr, ExprKind, UnOp};\n use rustc_lint::{LateContext, LateLintPass, LintContext};\n use rustc_middle::lint::in_external_macro;\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::{self, paths, span_lint};\n+use crate::utils::{self, paths};\n \n declare_clippy_lint! {\n     /// **What it does:**"}, {"sha": "7b00879251f768c4d41b2cab35b4af212812587d", "filename": "clippy_lints/src/neg_multiply.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneg_multiply.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fneg_multiply.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneg_multiply.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,11 +1,11 @@\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_hir::{BinOpKind, Expr, ExprKind, UnOp};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::Span;\n \n use crate::consts::{self, Constant};\n-use crate::utils::span_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for multiplication by -1 as a form of negation."}, {"sha": "9fbb6b02742e2d3ebce86d5d521a3014d185cf70", "filename": "clippy_lints/src/new_without_default.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fnew_without_default.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fnew_without_default.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnew_without_default.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use crate::utils::paths;\n use crate::utils::sugg::DiagnosticBuilderExt;\n-use crate::utils::{get_trait_def_id, return_ty, span_lint_hir_and_then};\n+use crate::utils::{get_trait_def_id, return_ty};\n+use clippy_utils::diagnostics::span_lint_hir_and_then;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir as hir;"}, {"sha": "83953a16bc8d1e80120104a98451e58a17817916", "filename": "clippy_lints/src/no_effect.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fno_effect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fno_effect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fno_effect.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::{span_lint, span_lint_and_sugg};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg};\n use clippy_utils::source::snippet_opt;\n use clippy_utils::ty::has_drop;\n use rustc_errors::Applicability;"}, {"sha": "5db614497e3bad852af2c97cd6c4879da6ce948a", "filename": "clippy_lints/src/non_copy_const.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fnon_copy_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fnon_copy_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnon_copy_const.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -4,6 +4,7 @@\n \n use std::ptr;\n \n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_hir::def::{DefKind, Res};\n use rustc_hir::def_id::DefId;\n use rustc_hir::{\n@@ -18,7 +19,7 @@ use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::{InnerSpan, Span, DUMMY_SP};\n use rustc_typeck::hir_ty_to_ty;\n \n-use crate::utils::{in_constant, span_lint_and_then};\n+use crate::utils::in_constant;\n use if_chain::if_chain;\n \n // FIXME: this is a correctness problem but there's no suitable"}, {"sha": "52661416de67fa3430f175c41fe377ec7e44c176", "filename": "clippy_lints/src/non_expressive_names.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnon_expressive_names.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::{span_lint, span_lint_and_then};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_then};\n use rustc_ast::ast::{\n     Arm, AssocItem, AssocItemKind, Attribute, Block, FnDecl, FnKind, Item, ItemKind, Local, Pat, PatKind,\n };"}, {"sha": "8e8aaa67afa254a222a328f828d41f1871e8d27f", "filename": "clippy_lints/src/open_options.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fopen_options.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fopen_options.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fopen_options.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{paths, span_lint};\n+use crate::utils::paths;\n+use clippy_utils::diagnostics::span_lint;\n use clippy_utils::ty::match_type;\n use rustc_ast::ast::LitKind;\n use rustc_hir::{Expr, ExprKind};"}, {"sha": "343159f9ae2af8ad3cee10594c1bdefa8895bd0a", "filename": "clippy_lints/src/option_env_unwrap.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Foption_env_unwrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Foption_env_unwrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Foption_env_unwrap.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_direct_expn_of, span_lint_and_help};\n+use crate::utils::is_direct_expn_of;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use if_chain::if_chain;\n use rustc_ast::ast::{Expr, ExprKind};\n use rustc_lint::{EarlyContext, EarlyLintPass};"}, {"sha": "eab08a583208c93ba5f85f99087ad8eaca6ecd91", "filename": "clippy_lints/src/option_if_let_else.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Foption_if_let_else.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Foption_if_let_else.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Foption_if_let_else.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,8 @@\n use crate::utils;\n use crate::utils::eager_or_lazy;\n+use crate::utils::paths;\n use crate::utils::sugg::Sugg;\n-use crate::utils::{paths, span_lint_and_sugg};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n "}, {"sha": "524b96921fe69671fdd4e46bde561fb0093e8c4e", "filename": "clippy_lints/src/overflow_check_conditional.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Foverflow_check_conditional.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Foverflow_check_conditional.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Foverflow_check_conditional.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{span_lint, SpanlessEq};\n+use crate::utils::SpanlessEq;\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_hir::{BinOpKind, Expr, ExprKind, QPath};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "880951f3e3e7d466831364afed9f172f26673ef5", "filename": "clippy_lints/src/panic_in_result_fn.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpanic_in_result_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpanic_in_result_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpanic_in_result_fn.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{find_macro_calls, return_ty, span_lint_and_then};\n+use crate::utils::{find_macro_calls, return_ty};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::ty::is_type_diagnostic_item;\n use rustc_hir as hir;\n use rustc_hir::intravisit::FnKind;"}, {"sha": "ad4ed831941c934477db50a9b3d6d188580f98c9", "filename": "clippy_lints/src/panic_unimplemented.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpanic_unimplemented.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpanic_unimplemented.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpanic_unimplemented.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_expn_of, match_panic_call, span_lint};\n+use crate::utils::{is_expn_of, match_panic_call};\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_hir::Expr;\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "06985cef4ffd7eb40fa054c8780c37038ffd76ac", "filename": "clippy_lints/src/partialeq_ne_impl.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpartialeq_ne_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpartialeq_ne_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpartialeq_ne_impl.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_automatically_derived, span_lint_hir};\n+use crate::utils::is_automatically_derived;\n+use clippy_utils::diagnostics::span_lint_hir;\n use if_chain::if_chain;\n use rustc_hir::{Impl, Item, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "c14273840c45d176d0d4806bc24241c6d367b643", "filename": "clippy_lints/src/pass_by_ref_or_value.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpass_by_ref_or_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpass_by_ref_or_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpass_by_ref_or_value.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use std::cmp;\n \n-use crate::utils::{is_self_ty, span_lint_and_sugg};\n+use crate::utils::is_self_ty;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_copy;\n use if_chain::if_chain;"}, {"sha": "95ffae28d8c27847912b8b8dd3a07d0e2a451d5c", "filename": "clippy_lints/src/path_buf_push_overwrite.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpath_buf_push_overwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpath_buf_push_overwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpath_buf_push_overwrite.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n use rustc_ast::ast::LitKind;"}, {"sha": "dd63cf99e42c98717c65d3a2dffc42c6ced4ec1a", "filename": "clippy_lints/src/pattern_type_mismatch.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpattern_type_mismatch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fpattern_type_mismatch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpattern_type_mismatch.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{last_path_segment, span_lint_and_help};\n+use crate::utils::last_path_segment;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_hir::{\n     intravisit, Body, Expr, ExprKind, FieldPat, FnDecl, HirId, LocalSource, MatchSource, Mutability, Pat, PatKind,\n     QPath, Stmt, StmtKind,"}, {"sha": "9cf00c953b95f16afd34ec6e047f944d534c840e", "filename": "clippy_lints/src/precedence.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fprecedence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fprecedence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fprecedence.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_ast::ast::{BinOpKind, Expr, ExprKind, LitKind, UnOp};"}, {"sha": "779eddcc1702a519d33c8b510ecbe65989a7fa3c", "filename": "clippy_lints/src/ptr.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fptr.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,8 @@\n //! Checks for usage of  `&Vec[_]` and `&String`.\n \n use crate::utils::ptr::get_spans;\n-use crate::utils::{is_allowed, match_qpath, paths, span_lint, span_lint_and_sugg, span_lint_and_then};\n+use crate::utils::{is_allowed, match_qpath, paths};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::snippet_opt;\n use clippy_utils::ty::{is_type_diagnostic_item, match_type, walk_ptrs_hir_ty};\n use if_chain::if_chain;"}, {"sha": "82408c639b1db5e735af20b312fe9e1a33ca678a", "filename": "clippy_lints/src/ptr_eq.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fptr_eq.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fptr_eq.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fptr_eq.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n use crate::utils;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_opt;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n@@ -58,7 +59,7 @@ impl LateLintPass<'_> for PtrEq {\n                     if let Some(left_snip) = snippet_opt(cx, left_var.span);\n                     if let Some(right_snip) = snippet_opt(cx, right_var.span);\n                     then {\n-                        utils::span_lint_and_sugg(\n+                        span_lint_and_sugg(\n                             cx,\n                             PTR_EQ,\n                             expr.span,"}, {"sha": "c04b42552569fec67f6529c82aa8e161846f6ed4", "filename": "clippy_lints/src/ptr_offset_with_cast.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fptr_offset_with_cast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fptr_offset_with_cast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fptr_offset_with_cast.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::{span_lint, span_lint_and_sugg};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg};\n use clippy_utils::source::snippet_opt;\n use rustc_errors::Applicability;\n use rustc_hir::{Expr, ExprKind};"}, {"sha": "c468662348722b86e3bd60802d445f43a5145195", "filename": "clippy_lints/src/question_mark.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fquestion_mark.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fquestion_mark.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fquestion_mark.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -9,7 +9,8 @@ use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::sym;\n \n use crate::utils::sugg::Sugg;\n-use crate::utils::{eq_expr_value, match_def_path, match_qpath, paths, span_lint_and_sugg};\n+use crate::utils::{eq_expr_value, match_def_path, match_qpath, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for expressions that could be replaced by the question mark operator."}, {"sha": "d476d95256f3df92a02cfa827d49197b322ea448", "filename": "clippy_lints/src/ranges.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Franges.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Franges.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Franges.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n use crate::consts::{constant, Constant};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::{snippet, snippet_opt, snippet_with_applicability};\n use if_chain::if_chain;\n use rustc_ast::ast::RangeLimits;\n@@ -14,10 +15,7 @@ use rustc_span::symbol::Ident;\n use std::cmp::Ordering;\n \n use crate::utils::sugg::Sugg;\n-use crate::utils::{\n-    get_parent_expr, in_constant, is_integer_const, meets_msrv, single_segment_path, span_lint, span_lint_and_sugg,\n-    span_lint_and_then,\n-};\n+use crate::utils::{get_parent_expr, in_constant, is_integer_const, meets_msrv, single_segment_path};\n use crate::utils::{higher, SpanlessEq};\n \n declare_clippy_lint! {"}, {"sha": "3d799328bb5a0a6040139aec31387e5766a0867e", "filename": "clippy_lints/src/redundant_clone.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_clone.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{fn_has_unsatisfiable_preds, match_def_path, paths, span_lint_hir, span_lint_hir_and_then};\n+use crate::utils::{fn_has_unsatisfiable_preds, match_def_path, paths};\n+use clippy_utils::diagnostics::{span_lint_hir, span_lint_hir_and_then};\n use clippy_utils::source::snippet_opt;\n use clippy_utils::ty::{has_drop, is_copy, is_type_diagnostic_item, walk_ptrs_ty_depth};\n use if_chain::if_chain;"}, {"sha": "2977a108d141bfa72abe922114e04f51e7a84c33", "filename": "clippy_lints/src/redundant_closure_call.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_closure_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_closure_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_closure_call.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::{span_lint, span_lint_and_then};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_then};\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_ast::ast;"}, {"sha": "061526c6f09fa3b67692528d7a73d5b9d8f5b47c", "filename": "clippy_lints/src/redundant_else.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_else.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_else.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_else.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_help;\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_ast::ast::{Block, Expr, ExprKind, Stmt, StmtKind};\n use rustc_ast::visit::{walk_expr, Visitor};\n use rustc_lint::{EarlyContext, EarlyLintPass};"}, {"sha": "fd11150bce24ab63bd3eb7e995c81f6e5edf196f", "filename": "clippy_lints/src/redundant_field_names.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_field_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_field_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_field_names.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{meets_msrv, span_lint_and_sugg};\n+use crate::utils::meets_msrv;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use rustc_ast::ast::{Expr, ExprKind};\n use rustc_errors::Applicability;\n use rustc_lint::{EarlyContext, EarlyLintPass};"}, {"sha": "e091095de136a5f941746e62c4ca797d1bd48381", "filename": "clippy_lints/src/redundant_pub_crate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_pub_crate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_pub_crate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_pub_crate.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_then;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_errors::Applicability;\n use rustc_hir::{Item, ItemKind, VisibilityKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "6da7b5fbcc8a009a40856c9f5a71b609a37e23ae", "filename": "clippy_lints/src/redundant_slicing.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_slicing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_slicing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_slicing.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::is_type_lang_item;\n use if_chain::if_chain;\n@@ -7,8 +8,6 @@ use rustc_lint::{LateContext, LateLintPass, LintContext};\n use rustc_middle::{lint::in_external_macro, ty::TyS};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::span_lint_and_sugg;\n-\n declare_clippy_lint! {\n     /// **What it does:** Checks for redundant slicing expressions which use the full range, and\n     /// do not change the type."}, {"sha": "da8339a795aedf6f5dfc43056c268f1272e4013c", "filename": "clippy_lints/src/redundant_static_lifetimes.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_static_lifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fredundant_static_lifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_static_lifetimes.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{meets_msrv, span_lint_and_then};\n+use crate::utils::meets_msrv;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet;\n use rustc_ast::ast::{Item, ItemKind, Ty, TyKind};\n use rustc_errors::Applicability;"}, {"sha": "452fef0694f3fa1e778729cd57a9564272bce869", "filename": "clippy_lints/src/ref_option_ref.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fref_option_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fref_option_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fref_option_ref.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{last_path_segment, span_lint_and_sugg};\n+use crate::utils::last_path_segment;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "ec2acb6a0ab7bb92e8548d56a4e5cb9919337318", "filename": "clippy_lints/src/reference.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Freference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Freference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Freference.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n+use crate::utils::in_macro;\n use crate::utils::sugg::Sugg;\n-use crate::utils::{in_macro, span_lint_and_sugg};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::{snippet_opt, snippet_with_applicability};\n use if_chain::if_chain;\n use rustc_ast::ast::{Expr, ExprKind, Mutability, UnOp};"}, {"sha": "bfa21ba9c97009ea3032dff8a09f8154a169b933", "filename": "clippy_lints/src/regex.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fregex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fregex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fregex.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::consts::{constant, Constant};\n-use crate::utils::{match_def_path, paths, span_lint, span_lint_and_help};\n+use crate::utils::{match_def_path, paths};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help};\n use if_chain::if_chain;\n use rustc_ast::ast::{LitKind, StrStyle};\n use rustc_data_structures::fx::FxHashSet;"}, {"sha": "b39e9d5a78c2082539204566de0d6ca22fab9117", "filename": "clippy_lints/src/repeat_once.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Frepeat_once.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Frepeat_once.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Frepeat_once.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::consts::{constant_context, Constant};\n-use crate::utils::{in_macro, span_lint_and_sugg};\n+use crate::utils::in_macro;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "59d3c0ca5f06e7f3293bfa4d29f5e3d42b615dca", "filename": "clippy_lints/src/returns.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Freturns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Freturns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Freturns.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::{span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::snippet_opt;\n use if_chain::if_chain;\n use rustc_ast::ast::Attribute;\n@@ -12,7 +13,7 @@ use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::Span;\n use rustc_span::sym;\n \n-use crate::utils::{fn_def_id, in_macro, match_qpath, span_lint_and_sugg, span_lint_and_then};\n+use crate::utils::{fn_def_id, in_macro, match_qpath};\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for `let`-bindings, which are subsequently"}, {"sha": "320d1a8dbe3a8ea7cb0db2b043cd7be8bac5697a", "filename": "clippy_lints/src/self_assignment.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fself_assignment.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fself_assignment.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fself_assignment.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{eq_expr_value, span_lint};\n+use crate::utils::eq_expr_value;\n+use clippy_utils::diagnostics::span_lint;\n use clippy_utils::source::snippet;\n use rustc_hir::{Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "e43947025b9ca690c0617c065fbed568e0473158", "filename": "clippy_lints/src/semicolon_if_nothing_returned.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fsemicolon_if_nothing_returned.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fsemicolon_if_nothing_returned.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fsemicolon_if_nothing_returned.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{in_macro, span_lint_and_sugg, sugg};\n+use crate::utils::{in_macro, sugg};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_macro_callsite;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "632715852c596aab8cd2342b63ed473a82c18c6f", "filename": "clippy_lints/src/serde_api.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fserde_api.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fserde_api.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fserde_api.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{get_trait_def_id, paths, span_lint};\n+use crate::utils::{get_trait_def_id, paths};\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{Impl, Item, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};"}, {"sha": "8ef58b6d563f45a420939abcef809387f7761c67", "filename": "clippy_lints/src/shadow.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fshadow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fshadow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fshadow.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{contains_name, higher, iter_input_pats, span_lint_and_then};\n+use crate::utils::{contains_name, higher, iter_input_pats};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet;\n use rustc_hir::intravisit::FnKind;\n use rustc_hir::{"}, {"sha": "6d15a6c444ec42dad452bfd76e745a7d66604b92", "filename": "clippy_lints/src/single_component_path_imports.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fsingle_component_path_imports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fsingle_component_path_imports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fsingle_component_path_imports.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{in_macro, span_lint_and_sugg};\n+use crate::utils::in_macro;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use if_chain::if_chain;\n use rustc_ast::{Item, ItemKind, UseTreeKind};\n use rustc_errors::Applicability;"}, {"sha": "8920d446b9cf5a69c6eaa78fda244c6df8d2eb6b", "filename": "clippy_lints/src/size_of_in_element_count.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fsize_of_in_element_count.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fsize_of_in_element_count.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fsize_of_in_element_count.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,8 @@\n //! Lint on use of `size_of` or `size_of_val` of T in an expression\n //! expecting a count of T\n \n-use crate::utils::{match_def_path, paths, span_lint_and_help};\n+use crate::utils::{match_def_path, paths};\n+use clippy_utils::diagnostics::span_lint_and_help;\n use if_chain::if_chain;\n use rustc_hir::BinOpKind;\n use rustc_hir::{Expr, ExprKind};"}, {"sha": "7f0f21084af23a6f3769e24caff4a27f1204bcf6", "filename": "clippy_lints/src/slow_vector_initialization.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fslow_vector_initialization.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fslow_vector_initialization.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fslow_vector_initialization.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::sugg::Sugg;\n-use crate::utils::{get_enclosing_block, match_qpath, span_lint_and_then, SpanlessEq};\n+use crate::utils::{get_enclosing_block, match_qpath, SpanlessEq};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use if_chain::if_chain;\n use rustc_ast::ast::LitKind;\n use rustc_errors::Applicability;"}, {"sha": "85e4bb806e7663cf8bd5f39e393b1e26a4a0249e", "filename": "clippy_lints/src/stable_sort_primitive.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fstable_sort_primitive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fstable_sort_primitive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fstable_sort_primitive.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_slice_of_primitives, span_lint_and_then, sugg::Sugg};\n+use crate::utils::{is_slice_of_primitives, sugg::Sugg};\n+use clippy_utils::diagnostics::span_lint_and_then;\n \n use if_chain::if_chain;\n "}, {"sha": "626166f900871accc17ad68a5a52058ccb259b47", "filename": "clippy_lints/src/strings.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fstrings.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fstrings.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fstrings.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,8 +1,6 @@\n use crate::utils::SpanlessEq;\n-use crate::utils::{\n-    get_parent_expr, is_allowed, match_function_call, method_calls, paths, span_lint, span_lint_and_help,\n-    span_lint_and_sugg,\n-};\n+use crate::utils::{get_parent_expr, is_allowed, match_function_call, method_calls, paths};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help, span_lint_and_sugg};\n use clippy_utils::source::{snippet, snippet_with_applicability};\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "364c99adc69c66f0cd103a1a8d4af5227db215bf", "filename": "clippy_lints/src/suspicious_operation_groupings.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fsuspicious_operation_groupings.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fsuspicious_operation_groupings.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fsuspicious_operation_groupings.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use crate::utils::ast_utils::{eq_id, is_useless_with_eq_exprs, IdentIter};\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use core::ops::{Add, AddAssign};\n use if_chain::if_chain;"}, {"sha": "ef14b6c5136e23f68502961fddbfcca0a31689a6", "filename": "clippy_lints/src/suspicious_trait_impl.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fsuspicious_trait_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fsuspicious_trait_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fsuspicious_trait_impl.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{get_trait_def_id, span_lint, trait_ref_of_method};\n+use crate::utils::{get_trait_def_id, trait_ref_of_method};\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_hir as hir;\n use rustc_hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};"}, {"sha": "83fe3c49959fe4aa0efee89a3a360ba59124ea01", "filename": "clippy_lints/src/swap.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fswap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fswap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fswap.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::utils::sugg::Sugg;\n-use crate::utils::{differing_macro_contexts, eq_expr_value, span_lint_and_then};\n+use crate::utils::{differing_macro_contexts, eq_expr_value};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "88bd2feaaddae6b893b8b67f5ee817a6f21a241f", "filename": "clippy_lints/src/tabs_in_doc_comments.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftabs_in_doc_comments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftabs_in_doc_comments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftabs_in_doc_comments.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use rustc_ast::ast;\n use rustc_errors::Applicability;\n use rustc_lint::{EarlyContext, EarlyLintPass};"}, {"sha": "75a13cb91877052f73773a164e6e5c0aedfef90a", "filename": "clippy_lints/src/temporary_assignment.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftemporary_assignment.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftemporary_assignment.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftemporary_assignment.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_adjusted, span_lint};\n+use crate::utils::is_adjusted;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};"}, {"sha": "abc9b2fe88eccb43d22f768eba20c7bf373756d2", "filename": "clippy_lints/src/to_digit_is_some.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fto_digit_is_some.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fto_digit_is_some.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fto_digit_is_some.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, span_lint_and_sugg};\n+use crate::utils::match_def_path;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "42605c0108970d67106d77935326be9a52988447", "filename": "clippy_lints/src/to_string_in_display.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fto_string_in_display.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fto_string_in_display.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fto_string_in_display.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_diagnostic_assoc_item, match_def_path, path_to_local_id, paths, span_lint};\n+use crate::utils::{is_diagnostic_assoc_item, match_def_path, path_to_local_id, paths};\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_hir::{Expr, ExprKind, HirId, Impl, ImplItem, ImplItemKind, Item, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "cfcc8da9910d3fabbc72054566356fd5c6a0daa7", "filename": "clippy_lints/src/trait_bounds.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftrait_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftrait_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftrait_bounds.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{in_macro, span_lint_and_help, SpanlessHash};\n+use crate::utils::{in_macro, SpanlessHash};\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::source::{snippet, snippet_with_applicability};\n use if_chain::if_chain;\n use rustc_data_structures::fx::FxHashMap;"}, {"sha": "25d0543c8611c831d897496ee3d59588a2d0c5be", "filename": "clippy_lints/src/transmute/crosspointer_transmute.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Fcrosspointer_transmute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Fcrosspointer_transmute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Fcrosspointer_transmute.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use super::CROSSPOINTER_TRANSMUTE;\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::Expr;\n use rustc_lint::LateContext;\n use rustc_middle::ty::{self, Ty};"}, {"sha": "f61b5362b5ac34bb515abed5df08486699c88d83", "filename": "clippy_lints/src/transmute/transmute_float_to_int.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_float_to_int.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_float_to_int.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_float_to_int.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::TRANSMUTE_FLOAT_TO_INT;\n-use crate::utils::{span_lint_and_then, sugg};\n+use crate::utils::sugg;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use if_chain::if_chain;\n use rustc_ast as ast;\n use rustc_errors::Applicability;"}, {"sha": "ebdd1eba744458feea7b8290a0c1944c461cfb01", "filename": "clippy_lints/src/transmute/transmute_int_to_bool.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_int_to_bool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_int_to_bool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_int_to_bool.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::TRANSMUTE_INT_TO_BOOL;\n-use crate::utils::{span_lint_and_then, sugg};\n+use crate::utils::sugg;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_ast as ast;\n use rustc_errors::Applicability;\n use rustc_hir::Expr;"}, {"sha": "afecfc3d70178050ad4bea80a99292749988553a", "filename": "clippy_lints/src/transmute/transmute_int_to_char.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_int_to_char.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_int_to_char.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_int_to_char.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::TRANSMUTE_INT_TO_CHAR;\n-use crate::utils::{span_lint_and_then, sugg};\n+use crate::utils::sugg;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_ast as ast;\n use rustc_errors::Applicability;\n use rustc_hir::Expr;"}, {"sha": "c762a7ab885029b5dd44df954454139ff0711acc", "filename": "clippy_lints/src/transmute/transmute_int_to_float.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_int_to_float.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_int_to_float.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_int_to_float.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::TRANSMUTE_INT_TO_FLOAT;\n-use crate::utils::{span_lint_and_then, sugg};\n+use crate::utils::sugg;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_errors::Applicability;\n use rustc_hir::Expr;\n use rustc_lint::LateContext;"}, {"sha": "820c56a215e4566ab24bf2a73cd56a7be1f3cd2c", "filename": "clippy_lints/src/transmute/transmute_ptr_to_ptr.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ptr_to_ptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ptr_to_ptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ptr_to_ptr.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::TRANSMUTE_PTR_TO_PTR;\n-use crate::utils::{span_lint_and_then, sugg};\n+use crate::utils::sugg;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_errors::Applicability;\n use rustc_hir::Expr;\n use rustc_lint::LateContext;"}, {"sha": "049210e555c39071c24b01d6897275d05c6d8bca", "filename": "clippy_lints/src/transmute/transmute_ptr_to_ref.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ptr_to_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ptr_to_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ptr_to_ref.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use super::utils::get_type_snippet;\n use super::TRANSMUTE_PTR_TO_REF;\n-use crate::utils::{span_lint_and_then, sugg};\n+use crate::utils::sugg;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_errors::Applicability;\n use rustc_hir::{Expr, Mutability, QPath};\n use rustc_lint::LateContext;"}, {"sha": "993ef8698f887ade66528561f04f415c5b674fea", "filename": "clippy_lints/src/transmute/transmute_ref_to_ref.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ref_to_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ref_to_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ref_to_ref.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::{TRANSMUTE_BYTES_TO_STR, TRANSMUTE_PTR_TO_PTR};\n-use crate::utils::{span_lint_and_sugg, span_lint_and_then, sugg};\n+use crate::utils::sugg;\n+use clippy_utils::diagnostics::{span_lint_and_sugg, span_lint_and_then};\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "da7d1016d97dacf5c7df27c883231a4ee75887d9", "filename": "clippy_lints/src/transmute/transmutes_expressible_as_ptr_casts.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmutes_expressible_as_ptr_casts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Ftransmutes_expressible_as_ptr_casts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmutes_expressible_as_ptr_casts.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use super::utils::can_be_expressed_as_pointer_cast;\n use super::TRANSMUTES_EXPRESSIBLE_AS_PTR_CASTS;\n-use crate::utils::{span_lint_and_then, sugg};\n+use crate::utils::sugg;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_errors::Applicability;\n use rustc_hir::Expr;\n use rustc_lint::LateContext;"}, {"sha": "9bea88be7da91f01df7f779441267a1d7334311a", "filename": "clippy_lints/src/transmute/unsound_collection_transmute.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Funsound_collection_transmute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Funsound_collection_transmute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Funsound_collection_transmute.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use super::utils::is_layout_incompatible;\n use super::UNSOUND_COLLECTION_TRANSMUTE;\n-use crate::utils::{match_def_path, paths, span_lint};\n+use crate::utils::{match_def_path, paths};\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::Expr;\n use rustc_lint::LateContext;\n use rustc_middle::ty::{self, Ty};"}, {"sha": "29ffe03b6731eba3cc922b1164ddfa99b501a65c", "filename": "clippy_lints/src/transmute/useless_transmute.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Fuseless_transmute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Fuseless_transmute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Fuseless_transmute.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use super::USELESS_TRANSMUTE;\n-use crate::utils::{span_lint, span_lint_and_then, sugg};\n+use crate::utils::sugg;\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_then};\n use rustc_errors::Applicability;\n use rustc_hir::Expr;\n use rustc_lint::LateContext;"}, {"sha": "2118f3d6950041ee585ad613ed6ef139872d5a32", "filename": "clippy_lints/src/transmute/wrong_transmute.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Fwrong_transmute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmute%2Fwrong_transmute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Fwrong_transmute.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n use super::WRONG_TRANSMUTE;\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::Expr;\n use rustc_lint::LateContext;\n use rustc_middle::ty::{self, Ty};"}, {"sha": "3a2b1359a549e458cb29e7b33d6e3a9fd9072ca9", "filename": "clippy_lints/src/transmuting_null.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmuting_null.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftransmuting_null.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmuting_null.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,6 @@\n use crate::consts::{constant_context, Constant};\n-use crate::utils::{match_qpath, paths, span_lint};\n+use crate::utils::{match_qpath, paths};\n+use clippy_utils::diagnostics::span_lint;\n use if_chain::if_chain;\n use rustc_ast::LitKind;\n use rustc_hir::{Expr, ExprKind};"}, {"sha": "1fce03b4f47cae64b062aee2767f9296823c4fa1", "filename": "clippy_lints/src/try_err.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftry_err.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftry_err.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftry_err.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{differing_macro_contexts, in_macro, match_def_path, match_qpath, paths, span_lint_and_sugg};\n+use crate::utils::{differing_macro_contexts, in_macro, match_def_path, match_qpath, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::{snippet, snippet_with_macro_callsite};\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "eab81b1e24661b0c214cd2a68d11bbd6eb201585", "filename": "clippy_lints/src/types/borrowed_box.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Fborrowed_box.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Fborrowed_box.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Fborrowed_box.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_path, paths, span_lint_and_sugg};\n+use crate::utils::{match_path, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "6d04a47a5c883b3ab75292b0f5a653dcc6f42517", "filename": "clippy_lints/src/types/box_vec.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Fbox_vec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Fbox_vec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Fbox_vec.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,8 +1,9 @@\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_hir::{self as hir, def_id::DefId, QPath};\n use rustc_lint::LateContext;\n use rustc_span::symbol::sym;\n \n-use crate::utils::{is_ty_param_diagnostic_item, span_lint_and_help};\n+use crate::utils::is_ty_param_diagnostic_item;\n \n use super::BOX_VEC;\n "}, {"sha": "e9e1995f6a57055d9b7b17b465475d131554b7cb", "filename": "clippy_lints/src/types/linked_list.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Flinked_list.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Flinked_list.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Flinked_list.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,8 @@\n+use clippy_utils::diagnostics::span_lint_and_help;\n use rustc_hir::{self as hir, def_id::DefId};\n use rustc_lint::LateContext;\n \n-use crate::utils::{match_def_path, paths, span_lint_and_help};\n+use crate::utils::{match_def_path, paths};\n \n use super::LINKEDLIST;\n "}, {"sha": "ac4fe502a7adfa5c87bc929e238e15e3af09beb6", "filename": "clippy_lints/src/types/mod.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Fmod.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -13,6 +13,7 @@ use std::borrow::Cow;\n use std::cmp::Ordering;\n use std::collections::BTreeMap;\n \n+use clippy_utils::diagnostics::{multispan_sugg, span_lint, span_lint_and_help, span_lint_and_then};\n use clippy_utils::source::{indent_of, reindent_multiline, snippet, snippet_opt, snippet_with_macro_callsite};\n use clippy_utils::ty::{is_isize_or_usize, is_type_diagnostic_item};\n use if_chain::if_chain;\n@@ -38,10 +39,7 @@ use rustc_typeck::hir_ty_to_ty;\n \n use crate::consts::{constant, Constant};\n use crate::utils::paths;\n-use crate::utils::{\n-    clip, comparisons, differing_macro_contexts, higher, int_bits, match_path, multispan_sugg, sext, span_lint,\n-    span_lint_and_help, span_lint_and_then, unsext,\n-};\n+use crate::utils::{clip, comparisons, differing_macro_contexts, higher, int_bits, match_path, sext, unsext};\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for use of `Box<Vec<_>>` anywhere in the code."}, {"sha": "79c5a32de2c228d40406940f3fae3a84b4216647", "filename": "clippy_lints/src/types/option_option.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Foption_option.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Foption_option.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Foption_option.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,8 +1,9 @@\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir::{self as hir, def_id::DefId, QPath};\n use rustc_lint::LateContext;\n use rustc_span::symbol::sym;\n \n-use crate::utils::{is_ty_param_diagnostic_item, span_lint};\n+use crate::utils::is_ty_param_diagnostic_item;\n \n use super::OPTION_OPTION;\n "}, {"sha": "d5fc23f2e3964d0f0da10b147d0654a805819cef", "filename": "clippy_lints/src/types/rc_buffer.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Frc_buffer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Frc_buffer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Frc_buffer.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,10 +1,11 @@\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use rustc_errors::Applicability;\n use rustc_hir::{self as hir, def_id::DefId, QPath, TyKind};\n use rustc_lint::LateContext;\n use rustc_span::symbol::sym;\n \n-use crate::utils::{get_qpath_generic_tys, is_ty_param_diagnostic_item, span_lint_and_sugg};\n+use crate::utils::{get_qpath_generic_tys, is_ty_param_diagnostic_item};\n \n use super::RC_BUFFER;\n "}, {"sha": "71c014f96f79a374b571ee17a6ec0ee96d6f841c", "filename": "clippy_lints/src/types/redundant_allocation.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Fredundant_allocation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Fredundant_allocation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Fredundant_allocation.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,10 +1,11 @@\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use rustc_errors::Applicability;\n use rustc_hir::{self as hir, def_id::DefId, LangItem, QPath, TyKind};\n use rustc_lint::LateContext;\n use rustc_span::symbol::sym;\n \n-use crate::utils::{get_qpath_generic_tys, is_ty_param_diagnostic_item, is_ty_param_lang_item, span_lint_and_sugg};\n+use crate::utils::{get_qpath_generic_tys, is_ty_param_diagnostic_item, is_ty_param_lang_item};\n \n use super::{utils, REDUNDANT_ALLOCATION};\n "}, {"sha": "8cedb0ede2b13a8b81f04cdef3d25fbb657b370b", "filename": "clippy_lints/src/types/vec_box.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Fvec_box.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Ftypes%2Fvec_box.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Fvec_box.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,3 +1,4 @@\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n@@ -8,7 +9,7 @@ use rustc_span::symbol::sym;\n use rustc_target::abi::LayoutOf;\n use rustc_typeck::hir_ty_to_ty;\n \n-use crate::utils::{last_path_segment, span_lint_and_sugg};\n+use crate::utils::last_path_segment;\n \n use super::VEC_BOX;\n "}, {"sha": "943573a2b531f766bd5f6deaa7671805e22b6975", "filename": "clippy_lints/src/undropped_manually_drops.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fundropped_manually_drops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fundropped_manually_drops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fundropped_manually_drops.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_function_call, paths, span_lint_and_help};\n+use crate::utils::{match_function_call, paths};\n+use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::ty::is_type_lang_item;\n use rustc_hir::{lang_items, Expr};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "c37bbf297f8b875f82e0f86441e25e76c0b1be34", "filename": "clippy_lints/src/unicode.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funicode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funicode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funicode.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_allowed, span_lint_and_sugg};\n+use crate::utils::is_allowed;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use rustc_ast::ast::LitKind;\n use rustc_errors::Applicability;"}, {"sha": "d0456347f8a663802f5a1c2322481bbc72539e61", "filename": "clippy_lints/src/unit_return_expecting_ord.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funit_return_expecting_ord.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funit_return_expecting_ord.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funit_return_expecting_ord.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{get_trait_def_id, paths, span_lint, span_lint_and_help};\n+use crate::utils::{get_trait_def_id, paths};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help};\n use if_chain::if_chain;\n use rustc_hir::def_id::DefId;\n use rustc_hir::{Expr, ExprKind, StmtKind};"}, {"sha": "2c51a8556d9f40ede1b06e08d78b9854a54491d0", "filename": "clippy_lints/src/unnamed_address.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funnamed_address.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funnamed_address.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funnamed_address.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, paths, span_lint, span_lint_and_help};\n+use crate::utils::{match_def_path, paths};\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help};\n use if_chain::if_chain;\n use rustc_hir::{BinOpKind, Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};"}, {"sha": "aa83f6a74be8f45245ff11258e26c89e9814b15e", "filename": "clippy_lints/src/unnecessary_sort_by.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funnecessary_sort_by.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funnecessary_sort_by.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funnecessary_sort_by.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,5 +1,5 @@\n-use crate::utils;\n use crate::utils::sugg::Sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n@@ -233,7 +233,7 @@ fn expr_borrows(cx: &LateContext<'_>, expr: &Expr<'_>) -> bool {\n impl LateLintPass<'_> for UnnecessarySortBy {\n     fn check_expr(&mut self, cx: &LateContext<'_>, expr: &Expr<'_>) {\n         match detect_lint(cx, expr) {\n-            Some(LintTrigger::SortByKey(trigger)) => utils::span_lint_and_sugg(\n+            Some(LintTrigger::SortByKey(trigger)) => span_lint_and_sugg(\n                 cx,\n                 UNNECESSARY_SORT_BY,\n                 expr.span,\n@@ -256,7 +256,7 @@ impl LateLintPass<'_> for UnnecessarySortBy {\n                     Applicability::MachineApplicable\n                 },\n             ),\n-            Some(LintTrigger::Sort(trigger)) => utils::span_lint_and_sugg(\n+            Some(LintTrigger::Sort(trigger)) => span_lint_and_sugg(\n                 cx,\n                 UNNECESSARY_SORT_BY,\n                 expr.span,"}, {"sha": "cb20192b68399551310adc60d5ba547d4d9a7a9c", "filename": "clippy_lints/src/unnecessary_wraps.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funnecessary_wraps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funnecessary_wraps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funnecessary_wraps.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,5 @@\n-use crate::utils::{\n-    contains_return, in_macro, match_qpath, paths, return_ty, span_lint_and_then, visitors::find_all_ret_expressions,\n-};\n+use crate::utils::{contains_return, in_macro, match_qpath, paths, return_ty, visitors::find_all_ret_expressions};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::source::snippet;\n use if_chain::if_chain;\n use rustc_errors::Applicability;"}, {"sha": "42ff1809ff438c8196d89f04be0d4d4e0e51d675", "filename": "clippy_lints/src/unnested_or_patterns.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funnested_or_patterns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funnested_or_patterns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funnested_or_patterns.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,8 @@\n #![allow(clippy::wildcard_imports, clippy::enum_glob_use)]\n \n use crate::utils::ast_utils::{eq_field_pat, eq_id, eq_pat, eq_path};\n-use crate::utils::{over, span_lint_and_then};\n+use crate::utils::over;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_ast::mut_visit::*;\n use rustc_ast::ptr::P;\n use rustc_ast::{self as ast, Pat, PatKind, PatKind::*, DUMMY_NODE_ID};"}, {"sha": "16ad9d2dfd32c6ba9517fa387d7cce7d3441bf9b", "filename": "clippy_lints/src/unsafe_removed_from_name.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funsafe_removed_from_name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funsafe_removed_from_name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funsafe_removed_from_name.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint;\n+use clippy_utils::diagnostics::span_lint;\n use rustc_ast::ast::{Item, ItemKind, UseTree, UseTreeKind};\n use rustc_lint::{EarlyContext, EarlyLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};"}, {"sha": "31fd61f99f2ba9056376c86529ebf9e2949f970e", "filename": "clippy_lints/src/unused_io_amount.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funused_io_amount.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funused_io_amount.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funused_io_amount.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{is_try, match_trait_method, paths, span_lint};\n+use crate::utils::{is_try, match_trait_method, paths};\n+use clippy_utils::diagnostics::span_lint;\n use rustc_hir as hir;\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};"}, {"sha": "4642bf07c45fdd568970b323dd9701933d6bf014", "filename": "clippy_lints/src/unused_self.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funused_self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funused_self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funused_self.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,9 +1,9 @@\n+use clippy_utils::diagnostics::span_lint_and_help;\n use if_chain::if_chain;\n use rustc_hir::{Impl, ImplItem, ImplItemKind, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n-use crate::utils::span_lint_and_help;\n use crate::utils::visitors::LocalUsedVisitor;\n \n declare_clippy_lint! {"}, {"sha": "c45b851211cc766f4ba23256ed4436b8ee1ba987", "filename": "clippy_lints/src/unused_unit.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funused_unit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funused_unit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funused_unit.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -8,7 +8,7 @@ use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::Span;\n use rustc_span::BytePos;\n \n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for unit (`()`) expressions that can be removed."}, {"sha": "75b2f2da602111c50d0881260566a525d9962814", "filename": "clippy_lints/src/unwrap.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funwrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funwrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funwrap.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{differing_macro_contexts, span_lint_and_then, usage::is_potentially_mutated};\n+use crate::utils::{differing_macro_contexts, usage::is_potentially_mutated};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n use rustc_hir::intravisit::{walk_expr, walk_fn, FnKind, NestedVisitorMap, Visitor};"}, {"sha": "a85f3ce5c9c94539c605290ca9e4b5c6456c7fb2", "filename": "clippy_lints/src/unwrap_in_result.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funwrap_in_result.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Funwrap_in_result.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funwrap_in_result.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{method_chain_args, return_ty, span_lint_and_then};\n+use crate::utils::{method_chain_args, return_ty};\n+use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;\n use rustc_hir as hir;"}, {"sha": "7ce9aa13184be764a49cf0181637dffbb8a7f1c4", "filename": "clippy_lints/src/upper_case_acronyms.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fupper_case_acronyms.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fupper_case_acronyms.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fupper_case_acronyms.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_sugg;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use if_chain::if_chain;\n use itertools::Itertools;\n use rustc_ast::ast::{Item, ItemKind, Variant};\n@@ -81,7 +81,7 @@ fn check_ident(cx: &EarlyContext<'_>, ident: &Ident, be_aggressive: bool) {\n     // assume that two-letter words are some kind of valid abbreviation like FP for false positive\n     // (and don't warn)\n     if (ident.chars().all(|c| c.is_ascii_uppercase()) && ident.len() > 2)\n-    // otherwise, warn if we have SOmeTHING lIKE THIs but only warn with the aggressive \n+    // otherwise, warn if we have SOmeTHING lIKE THIs but only warn with the aggressive\n     // upper-case-acronyms-aggressive config option enabled\n     || (be_aggressive && ident != &corrected)\n     {"}, {"sha": "9a42c8334701ccc3a459e96dd867b28f15de74e3", "filename": "clippy_lints/src/use_self.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fuse_self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fuse_self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fuse_self.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,7 @@\n+use crate::utils::{in_macro, meets_msrv};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_opt;\n use if_chain::if_chain;\n-\n-use crate::utils::{in_macro, meets_msrv, span_lint_and_sugg};\n use rustc_errors::Applicability;\n use rustc_hir as hir;\n use rustc_hir::def::DefKind;"}, {"sha": "1eb152daac8859e066cc984916a536f299108d48", "filename": "clippy_lints/src/useless_conversion.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fuseless_conversion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fuseless_conversion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fuseless_conversion.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,7 +1,6 @@\n use crate::utils::sugg::Sugg;\n-use crate::utils::{\n-    get_parent_expr, match_def_path, match_trait_method, paths, span_lint_and_help, span_lint_and_sugg,\n-};\n+use crate::utils::{get_parent_expr, match_def_path, match_trait_method, paths};\n+use clippy_utils::diagnostics::{span_lint_and_help, span_lint_and_sugg};\n use clippy_utils::source::{snippet, snippet_with_macro_callsite};\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "a566362ae780774fbe374817ed545c4d4282fa43", "filename": "clippy_lints/src/utils/internal_lints.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,8 +1,7 @@\n use crate::consts::{constant_simple, Constant};\n-use crate::utils::{\n-    is_expn_of, match_def_path, match_qpath, method_calls, path_to_res, paths, run_lints, span_lint,\n-    span_lint_and_help, span_lint_and_sugg, SpanlessEq,\n-};\n+use crate::utils::{is_expn_of, match_def_path, match_qpath, method_calls, path_to_res, paths, run_lints, SpanlessEq};\n+\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help, span_lint_and_sugg};\n use clippy_utils::source::snippet;\n use clippy_utils::ty::match_type;\n use if_chain::if_chain;"}, {"sha": "9e1424133650e2918930c32338713c77244663de", "filename": "clippy_lints/src/vec.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fvec.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,6 +1,7 @@\n use crate::consts::{constant, Constant};\n use crate::rustc_target::abi::LayoutOf;\n-use crate::utils::{higher, span_lint_and_sugg};\n+use crate::utils::higher;\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet_with_applicability;\n use clippy_utils::ty::is_copy;\n use if_chain::if_chain;"}, {"sha": "3ef55a82a1759c33d57138e6d599594a640ef6dd", "filename": "clippy_lints/src/vec_init_then_push.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fvec_init_then_push.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fvec_init_then_push.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fvec_init_then_push.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,5 @@\n-use crate::utils::{match_def_path, path_to_local, path_to_local_id, paths, span_lint_and_sugg};\n+use crate::utils::{match_def_path, path_to_local, path_to_local_id, paths};\n+use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::source::snippet;\n use clippy_utils::ty::is_type_diagnostic_item;\n use if_chain::if_chain;"}, {"sha": "9a2fb1414a191b0d455e028af435d4c90c25fa7c", "filename": "clippy_lints/src/vec_resize_to_zero.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fvec_resize_to_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99ecb6189d1347f4be1552f33fb4b7b2295a3769/clippy_lints%2Fsrc%2Fvec_resize_to_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fvec_resize_to_zero.rs?ref=99ecb6189d1347f4be1552f33fb4b7b2295a3769", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::span_lint_and_then;\n+use clippy_utils::diagnostics::span_lint_and_then;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir::{Expr, ExprKind};"}]}