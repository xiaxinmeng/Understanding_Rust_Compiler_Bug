{"sha": "269a8111920b0d5faecd98d94d750608a6c09379", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI2OWE4MTExOTIwYjBkNWZhZWNkOThkOTRkNzUwNjA4YTZjMDkzNzk=", "commit": {"author": {"name": "Tamir Duberstein", "email": "tamird@gmail.com", "date": "2015-11-02T04:40:10Z"}, "committer": {"name": "Tamir Duberstein", "email": "tamird@gmail.com", "date": "2015-11-08T18:36:36Z"}, "message": "valgrind: update suppressions and move interesting tests", "tree": {"sha": "ecddca824b4af954da38560787f4ab9464146ce3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ecddca824b4af954da38560787f4ab9464146ce3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/269a8111920b0d5faecd98d94d750608a6c09379", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/269a8111920b0d5faecd98d94d750608a6c09379", "html_url": "https://github.com/rust-lang/rust/commit/269a8111920b0d5faecd98d94d750608a6c09379", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/269a8111920b0d5faecd98d94d750608a6c09379/comments", "author": {"login": "tamird", "id": 1535036, "node_id": "MDQ6VXNlcjE1MzUwMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tamird", "html_url": "https://github.com/tamird", "followers_url": "https://api.github.com/users/tamird/followers", "following_url": "https://api.github.com/users/tamird/following{/other_user}", "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}", "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tamird/subscriptions", "organizations_url": "https://api.github.com/users/tamird/orgs", "repos_url": "https://api.github.com/users/tamird/repos", "events_url": "https://api.github.com/users/tamird/events{/privacy}", "received_events_url": "https://api.github.com/users/tamird/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tamird", "id": 1535036, "node_id": "MDQ6VXNlcjE1MzUwMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tamird", "html_url": "https://github.com/tamird", "followers_url": "https://api.github.com/users/tamird/followers", "following_url": "https://api.github.com/users/tamird/following{/other_user}", "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}", "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tamird/subscriptions", "organizations_url": "https://api.github.com/users/tamird/orgs", "repos_url": "https://api.github.com/users/tamird/repos", "events_url": "https://api.github.com/users/tamird/events{/privacy}", "received_events_url": "https://api.github.com/users/tamird/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c21ffc27b12f092c8fd0789266aefff7796a73b5", "url": "https://api.github.com/repos/rust-lang/rust/commits/c21ffc27b12f092c8fd0789266aefff7796a73b5", "html_url": "https://github.com/rust-lang/rust/commit/c21ffc27b12f092c8fd0789266aefff7796a73b5"}], "stats": {"total": 615, "additions": 140, "deletions": 475}, "files": [{"sha": "866578930a3d8dca0f83d6ce285bc32e0913914d", "filename": "src/etc/apple-darwin.supp", "status": "modified", "additions": 100, "deletions": 4, "changes": 104, "blob_url": "https://github.com/rust-lang/rust/blob/269a8111920b0d5faecd98d94d750608a6c09379/src%2Fetc%2Fapple-darwin.supp", "raw_url": "https://github.com/rust-lang/rust/raw/269a8111920b0d5faecd98d94d750608a6c09379/src%2Fetc%2Fapple-darwin.supp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fapple-darwin.supp?ref=269a8111920b0d5faecd98d94d750608a6c09379", "patch": "@@ -1,9 +1,105 @@\n {\n-   issue_1333_setenv_leak\n+   osx-frameworks.rs-fails-otherwise-1\n    Memcheck:Leak\n-   fun:malloc_zone_malloc\n+   match-leak-kinds: possible\n+   fun:malloc\n+   ...\n+   fun:__CFInitialize\n+   fun:_ZN16ImageLoaderMachO11doImageInitERKN11ImageLoader11LinkContextE\n+   fun:_ZN16ImageLoaderMachO16doInitializationERKN11ImageLoader11LinkContextE\n+   fun:_ZN11ImageLoader23recursiveInitializationERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader23recursiveInitializationERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader19processInitializersERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader15runInitializersERKNS_11LinkContextERNS_21InitializerTimingListE\n+   fun:_ZN4dyld24initializeMainExecutableEv\n+}\n+\n+{\n+   osx-frameworks.rs-fails-otherwise-2\n+   Memcheck:Leak\n+   match-leak-kinds: possible\n+   fun:malloc_zone_calloc\n+   ...\n+   fun:__CFInitialize\n+   fun:_ZN16ImageLoaderMachO11doImageInitERKN11ImageLoader11LinkContextE\n+   fun:_ZN16ImageLoaderMachO16doInitializationERKN11ImageLoader11LinkContextE\n+   fun:_ZN11ImageLoader23recursiveInitializationERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader23recursiveInitializationERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader19processInitializersERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+}\n+\n+{\n+   osx-frameworks.rs-fails-otherwise-3\n+   Memcheck:Leak\n+   match-leak-kinds: possible\n+   fun:realloc\n+   fun:_ZL12realizeClassP10objc_class\n+   fun:_ZL12realizeClassP10objc_class\n+   fun:_ZN13list_array_ttIm15protocol_list_tE11attachListsEPKPS0_j\n+   fun:_read_images\n+   fun:map_images_nolock\n+   fun:map_2_images\n+   fun:_ZN4dyldL18notifyBatchPartialE17dyld_image_statesbPFPKcS0_jPK15dyld_image_infoE\n+   fun:_ZN4dyld36registerImageStateBatchChangeHandlerE17dyld_image_statesPFPKcS0_jPK15dyld_image_infoE\n+   fun:dyld_register_image_state_change_handler\n+   fun:_objc_init\n+   fun:_os_object_init\n+}\n+\n+{\n+   osx-frameworks.rs-fails-otherwise-4\n+   Memcheck:Leak\n+   match-leak-kinds: possible\n+   fun:calloc\n    ...\n-   fun:setenv\n-   fun:setenv__c_stack_shim\n+   fun:__CFInitialize\n+   fun:_ZN16ImageLoaderMachO11doImageInitERKN11ImageLoader11LinkContextE\n+   fun:_ZN16ImageLoaderMachO16doInitializationERKN11ImageLoader11LinkContextE\n+   fun:_ZN11ImageLoader23recursiveInitializationERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+}\n+\n+{\n+   osx-frameworks.rs-fails-otherwise-5\n+   Memcheck:Leak\n+   match-leak-kinds: definite\n+   fun:calloc\n+   ...\n+   fun:__CFInitialize\n+   fun:_ZN16ImageLoaderMachO11doImageInitERKN11ImageLoader11LinkContextE\n+   fun:_ZN16ImageLoaderMachO16doInitializationERKN11ImageLoader11LinkContextE\n+   fun:_ZN11ImageLoader23recursiveInitializationERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+}\n+\n+{\n+   osx-frameworks.rs-fails-otherwise-6\n+   Memcheck:Leak\n+   match-leak-kinds: definite\n+   fun:malloc\n+   fun:strdup\n+   fun:_CFProcessPath\n+   fun:__CFInitialize\n+   fun:_ZN16ImageLoaderMachO11doImageInitERKN11ImageLoader11LinkContextE\n+   fun:_ZN16ImageLoaderMachO16doInitializationERKN11ImageLoader11LinkContextE\n+   fun:_ZN11ImageLoader23recursiveInitializationERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader23recursiveInitializationERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader19processInitializersERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader15runInitializersERKNS_11LinkContextERNS_21InitializerTimingListE\n+   fun:_ZN4dyld24initializeMainExecutableEv\n+   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_Pm\n+}\n+\n+{\n+   osx-frameworks.rs-fails-otherwise-7\n+   Memcheck:Leak\n+   match-leak-kinds: definite\n+   fun:malloc_zone_malloc\n    ...\n+   fun:__CFInitialize\n+   fun:_ZN16ImageLoaderMachO11doImageInitERKN11ImageLoader11LinkContextE\n+   fun:_ZN16ImageLoaderMachO16doInitializationERKN11ImageLoader11LinkContextE\n+   fun:_ZN11ImageLoader23recursiveInitializationERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader23recursiveInitializationERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader19processInitializersERKNS_11LinkContextEjRNS_21InitializerTimingListERNS_15UninitedUpwardsE\n+   fun:_ZN11ImageLoader15runInitializersERKNS_11LinkContextERNS_21InitializerTimingListE\n+   fun:_ZN4dyld24initializeMainExecutableEv\n }"}, {"sha": "e4368da90331f3ab3732d7e0253eb6d0c79d1151", "filename": "src/etc/x86.supp", "status": "modified", "additions": 40, "deletions": 471, "changes": 511, "blob_url": "https://github.com/rust-lang/rust/blob/269a8111920b0d5faecd98d94d750608a6c09379/src%2Fetc%2Fx86.supp", "raw_url": "https://github.com/rust-lang/rust/raw/269a8111920b0d5faecd98d94d750608a6c09379/src%2Fetc%2Fx86.supp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fx86.supp?ref=269a8111920b0d5faecd98d94d750608a6c09379", "patch": "@@ -1,496 +1,65 @@\n {\n-   our-failure-to-setup-freeres-structure\n-   Memcheck:Free\n-   fun:free\n-   fun:__libc_freeres\n-   fun:_vgnU_freeres\n-}\n-\n-{\n-   our-failure-to-setup-freeres-structure2\n-   Memcheck:Free\n-   fun:free\n-   fun:free_mem\n-   fun:__libc_freeres\n-   fun:_vgnU_freeres\n-}\n-\n-{\n- leaked-TLS-chunk-x86-exit-path-fails-to-clean-up\n- Memcheck:Leak\n- fun:calloc\n- fun:_dl_allocate_tls\n-}\n-\n-{\n-   linux-dl-prob\n-   Memcheck:Param\n-   read(buf)\n-   ...\n-   fun:_dl_map_object\n-}\n-\n-{\n-   mac-dyld-oddity\n-   Memcheck:Cond\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-   fun:_dyld_start\n-   obj:*\n-}\n-\n-{\n-   mac-dlopen-weirdness\n-   Memcheck:Cond\n-   fun:_ZNK16ImageLoaderMachO9getRPathsERKN11ImageLoader11LinkContextERSt6vectorIPKcSaIS6_EE\n-   fun:_ZN11ImageLoader22recursiveLoadLibrariesERKNS_11LinkContextEbRKNS_10RPathChainE\n-   fun:_ZN11ImageLoader4linkERKNS_11LinkContextEbbRKNS_10RPathChainE\n-   fun:_ZN4dyld4linkEP11ImageLoaderbRKNS0_10RPathChainE\n-   fun:dlopen\n-   fun:dlopen\n-   fun:_ZN16rust_crate_cache3libC1EP8rust_domPKc\n-   fun:_ZN16rust_crate_cache7get_libEmPKc\n-   fun:_ZL11fetch_c_symP9rust_taskPK10rust_cratemmPKcS5_\n-}\n-\n-{\n-   mac-dlopen-weirdness-2\n-   Memcheck:Value4\n-   fun:_ZNK16ImageLoaderMachO9getRPathsERKN11ImageLoader11LinkContextERSt6vectorIPKcSaIS6_EE\n-   fun:_ZN11ImageLoader22recursiveLoadLibrariesERKNS_11LinkContextEbRKNS_10RPathChainE\n-   fun:_ZN11ImageLoader4linkERKNS_11LinkContextEbbRKNS_10RPathChainE\n-   fun:_ZN4dyld4linkEP11ImageLoaderbRKNS0_10RPathChainE\n-   fun:dlopen\n-   fun:dlopen\n-   fun:_ZN16rust_crate_cache3libC1EP8rust_domPKc\n-   fun:_ZN16rust_crate_cache7get_libEmPKc\n-   fun:_ZL11fetch_c_symP9rust_taskPK10rust_cratemmPKcS5_\n-}\n-\n-{\n-   mac-dlopen-weirdness-3\n-   Memcheck:Value4\n-   fun:strcpy\n-   fun:_ZN11ImageLoader22recursiveLoadLibrariesERKNS_11LinkContextEbRKNS_10RPathChainE\n-   fun:_ZN11ImageLoader4linkERKNS_11LinkContextEbbRKNS_10RPathChainE\n-   fun:_ZN4dyld4linkEP11ImageLoaderbRKNS0_10RPathChainE\n-   fun:dlopen\n-   fun:dlopen\n-   fun:_ZN16rust_crate_cache3libC1EP8rust_domPKc\n-   fun:_ZN16rust_crate_cache7get_libEmPKc\n-   fun:_ZL11fetch_c_symP9rust_taskPK10rust_cratemmPKcS5_\n-}\n-\n-{\n-   mac-dlopen-weirdness-4\n-   Memcheck:Value4\n-   obj:*\n-   fun:_ZNK16ImageLoaderMachO9getRPathsERKN11ImageLoader11LinkContextERSt6vectorIPKcSaIS6_EE\n-   fun:_ZN11ImageLoader22recursiveLoadLibrariesERKNS_11LinkContextEbRKNS_10RPathChainE\n-   fun:_ZN11ImageLoader4linkERKNS_11LinkContextEbbRKNS_10RPathChainE\n-   fun:_ZN4dyld4linkEP11ImageLoaderbRKNS0_10RPathChainE\n-   fun:dlopen\n-   fun:dlopen\n-   fun:_ZN16rust_crate_cache3libC1EP8rust_domPKc\n-   fun:_ZN16rust_crate_cache7get_libEmPKc\n-   fun:_ZL11fetch_c_symP9rust_taskPK10rust_cratemmPKcS5_\n-}\n-\n-{\n-   mac-dlopen-weirdness-5\n-   Memcheck:Cond\n-   fun:memcpy\n-   fun:strdup\n-   fun:_ZNK16ImageLoaderMachO9getRPathsERKN11ImageLoader11LinkContextERSt6vectorIPKcSaIS6_EE\n-   fun:_ZN11ImageLoader22recursiveLoadLibrariesERKNS_11LinkContextEbRKNS_10RPathChainE\n-   fun:_ZN11ImageLoader4linkERKNS_11LinkContextEbbRKNS_10RPathChainE\n-   fun:_ZN4dyld4linkEP11ImageLoaderbRKNS0_10RPathChainE\n-   fun:dlopen\n-   fun:dlopen\n-   fun:_ZN16rust_crate_cache3libC1EP8rust_domPKc\n-   fun:_ZN16rust_crate_cache7get_libEmPKc\n-   fun:_ZL11fetch_c_symP9rust_taskPK10rust_cratemmPKcS5_\n-}\n-\n-{\n-   mac-dlopen-weirdness-6\n-   Memcheck:Value4\n-   fun:memcpy\n-   fun:strdup\n-   fun:_ZNK16ImageLoaderMachO9getRPathsERKN11ImageLoader11LinkContextERSt6vectorIPKcSaIS6_EE\n-   fun:_ZN11ImageLoader22recursiveLoadLibrariesERKNS_11LinkContextEbRKNS_10RPathChainE\n-   fun:_ZN11ImageLoader4linkERKNS_11LinkContextEbbRKNS_10RPathChainE\n-   fun:_ZN4dyld4linkEP11ImageLoaderbRKNS0_10RPathChainE\n-   fun:dlopen\n-   fun:dlopen\n-   fun:_ZN16rust_crate_cache3libC1EP8rust_domPKc\n-   fun:_ZN16rust_crate_cache7get_libEmPKc\n-   fun:_ZL11fetch_c_symP9rust_taskPK10rust_cratemmPKcS5_\n-}\n-\n-{\n-   mac-dyld\n-   Memcheck:Cond\n-   ...\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-   fun:_dyld_start\n-   obj:*\n-}\n-\n-{\n-   mac-dyld-2\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-   fun:_dyld_start\n-   obj:*\n-}\n-\n-{\n-   mac-dyld-3\n-   Memcheck:Param\n-   stat(path)\n-   ...\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-   fun:_dyld_start\n-   obj:*\n-}\n-\n-{\n-   mac-dyld-4\n-   Memcheck:Param\n-   open(filename)\n-   ...\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-   fun:_dyld_start\n-   obj:*\n-}\n-\n-{\n-   mac-dyld-5\n-   Memcheck:Cond\n-   ...\n-   fun:_ZN4dyld4loadEPKcRKNS_11LoadContextE\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-}\n-\n-{\n-   mac-dyld-6\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN4dyld4loadEPKcRKNS_11LoadContextE\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-}\n-\n-{\n-   mac-dyld-7\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN4dyld4loadEPKcRKNS_11LoadContextE\n-}\n-\n-{\n-   mac-dyld-8\n-   Memcheck:Cond\n-   ...\n-   fun:_ZN4dyld4loadEPKcRKNS_11LoadContextE\n-}\n-\n-{\n-   mac-dyld-9\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN4dyldL10loadPhase0EPKcRKNS_11LoadContextEPSt6vectorIS1_SaIS1_EE\n-}\n-\n-{\n-   mac-dyld-10\n-   Memcheck:Cond\n-   ...\n-   fun:_ZN4dyldL10loadPhase0EPKcRKNS_11LoadContextEPSt6vectorIS1_SaIS1_EE\n-}\n-\n-{\n-   mac-dyld-11\n-   Memcheck:Param\n-   stat(path)\n-   ...\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-}\n-\n-{\n-   mac-dyld-12\n-   Memcheck:Param\n-   open(filename)\n-   ...\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-}\n-\n-{\n-   mac-dyld-13\n-   Memcheck:Cond\n-   ...\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-   fun:_dyld_start\n-}\n-\n-{\n-   mac-dyld-14\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-   fun:_dyld_start\n-}\n-\n-{\n-   mac-dyld-15\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-}\n-\n-{\n-   mac-dyld-16\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN4dyld4linkEP11ImageLoaderbRKNS0_10RPathChainE\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-}\n-\n-{\n-   mac-dyld-17\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN4dyld4linkEP11ImageLoaderbRKNS0_10RPathChainE\n-}\n-\n-{\n-   mac-dyld-18\n-   Memcheck:Cond\n-   ...\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-   fun:_ZN13dyldbootstrap5startEPK12macho_headeriPPKcl\n-}\n-\n-{\n-   mac-dyld-19\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-}\n-\n-{\n-   mac-dyld-20\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN4dyld24initializeMainExecutableEv\n-}\n-\n-{\n-   mac-dyld-21\n-   Memcheck:Cond\n-   ...\n-   fun:_ZN4dyld24initializeMainExecutableEv\n-   fun:_ZN4dyld5_mainEPK12macho_headermiPPKcS5_S5_\n-}\n-\n-{\n-   mac-dyld-22\n-   Memcheck:Cond\n-   ...\n-   fun:_ZN4dyld24initializeMainExecutableEv\n-}\n-\n-{\n-   mac-dyld-23\n-   Memcheck:Value4\n-   ...\n-   fun:_ZN11ImageLoader15runInitializersERKNS_11LinkContextE\n-}\n-\n-{\n-   mac-dyld-24\n+   goddammit-llvm-why-u-no-valgrind\n    Memcheck:Cond\n+   fun:*\n    ...\n-   fun:dyld_stub_binder_\n-   fun:main\n-}\n-\n-{\n-   mac-dyld-25\n-   Memcheck:Value4\n-   ...\n-   fun:dyld_stub_binder_\n-   fun:main\n }\n \n {\n-   mac-dyld-26\n-   Memcheck:Cond\n-   ...\n-   fun:dyld_stub_binder_\n+   down-with-thread-dtors.rs-fails-otherwise-1\n+   Memcheck:Addr1\n    ...\n+   fun:tlv_finalize\n+   fun:_pthread_tsd_cleanup\n+   fun:_pthread_exit\n+   fun:_pthread_body\n+   fun:_pthread_start\n+   fun:thread_start\n }\n \n {\n-   mac-dyld-27\n-   Memcheck:Value4\n-   ...\n-   fun:dyld_stub_binder_\n+   down-with-thread-dtors.rs-fails-otherwise-2\n+   Memcheck:Addr2\n    ...\n+   fun:tlv_finalize\n+   fun:_pthread_tsd_cleanup\n+   fun:_pthread_exit\n+   fun:_pthread_body\n+   fun:_pthread_start\n+   fun:thread_start\n }\n \n {\n-   mac-dyld-28\n-   Memcheck:Cond\n-   fun:_ZN4dyld14runTerminatorsEPv\n+   down-with-thread-dtors.rs-fails-otherwise-3\n+   Memcheck:Addr4\n    ...\n+   fun:tlv_finalize\n+   fun:_pthread_tsd_cleanup\n+   fun:_pthread_exit\n+   fun:_pthread_body\n+   fun:_pthread_start\n+   fun:thread_start\n }\n \n {\n-   mac-dyld-29\n-   Memcheck:Cond\n-   fun:_ZN4dyldL18notifyBatchPartialE17dyld_image_statesbPFPKcS0_jPK15dyld_image_infoE\n+   down-with-thread-dtors.rs-fails-otherwise-4\n+   Memcheck:Addr8\n    ...\n+   fun:tlv_finalize\n+   fun:_pthread_tsd_cleanup\n+   fun:_pthread_exit\n+   fun:_pthread_body\n+   fun:_pthread_start\n+   fun:thread_start\n }\n \n {\n-   mac-dyld-30\n-   Memcheck:Value4\n-   fun:_ZN4dyldL18notifyBatchPartialE17dyld_image_statesbPFPKcS0_jPK15dyld_image_infoE\n-   ...\n-}\n-\n-{\n-   llvm-user-new-leak\n+   down-with-thread-dtors.rs-fails-otherwise-5\n    Memcheck:Leak\n-   fun:_Znwj\n-   fun:_ZN4llvm4UsernwEjj\n-}\n-\n-{\n-   race-or-something-ask-pcwalton-0\n-   Memcheck:Value4\n-   fun:*task_start_wrapper*\n-   ...\n-}\n-\n-{\n-   race-or-something-ask-pcwalton-1\n-   Memcheck:Value4\n-   ...\n-   fun:*build_start_wrapper*\n-   ...\n-}\n-\n-{\n-   lock_and_signal-probably-threadsafe-access-outside-of-lock\n-   Helgrind:Race\n-   fun:_ZN15lock_and_signal27lock_held_by_current_threadEv\n-   ...\n-}\n-\n-{\n-   lock_and_signal-probably-threadsafe-access-outside-of-lock2\n-   Helgrind:Race\n-   fun:_ZN15lock_and_signal6unlockEv\n-   ...\n-}\n-\n-{\n-   lock_and_signal-probably-threadsafe-access-outside-of-lock3\n-   Helgrind:Race\n-   fun:_ZN15lock_and_signal4lockEv\n-   ...\n-}\n-\n-{\n-   lock_and_signal-probably-threadsafe-access-outside-of-lock4\n-   Helgrind:Race\n-   fun:_ZN15lock_and_signal4waitEv\n-   ...\n-}\n-\n-{\n-   uv-async-send-does-racy-things\n-   Helgrind:Race\n-   fun:pipecb\n-   fun:ev_invoke_pending\n-   fun:ev_run\n-   fun:uv_run\n-   ...\n-}\n-\n-{\n-   uv-loop-init-does-some-checks-that-are-not-lock-protected\n-   Helgrind:Race\n-   fun:loop_init\n-   fun:ev_loop_new\n-   fun:uv_loop_new\n-   ...\n-}\n-\n-{\n-   random-locking-order-but-it-only-happens-in-a-single-thread-at-a-time-I-polled-2-other-people-and-they-thought-it-was-prabably-ok\n-   Helgrind:LockOrder\n-   fun:pthread_mutex_lock\n-   fun:_ZN15lock_and_signal4lockEv\n-   fun:_ZN18rust_port_selector6selectEP9rust_taskPP9rust_portS4_mPm\n-   ...\n-}\n-\n-{\n-   random-locking-order-but-it-only-happens-in-a-single-thread-at-a-time-I-polled-2-other-people-and-they-thought-it-was-prabably-ok\n-   Helgrind:LockOrder\n-   fun:pthread_mutex_lock\n-   fun:pthread_mutex_lock\n-   fun:_ZN15lock_and_signal4lockEv\n-   fun:_ZN18rust_port_selector6selectEP9rust_taskPP9rust_portS4_mPm\n-   ...\n-}\n-\n-{\n-   random-locking-order-but-it-only-happens-in-a-single-thread-at-a-time-I-polled-2-other-people-and-they-thought-it-was-prabably-ok-i686\n-   Helgrind:LockOrder\n-   fun:pthread_mutex_lock\n-   fun:pthread_mutex_lock\n-   fun:_ZN15lock_and_signal4lockEv\n-   fun:_ZN18rust_port_selector6selectEP9rust_taskPP9rust_portS4_jPj\n-}\n-\n-{\n-   libunwind-surely-this-is-ok\n-   Helgrind:Race\n-   ...\n-   fun:_Unwind_RaiseException\n-   fun:__cxa_throw\n-   ...\n-}\n-\n-{\n-   libunwind-surely-this-is-ok2\n-   Helgrind:Race\n-   ...\n-   fun:_Unwind_Resume\n-   ...\n-}\n-\n-{\n-   libunwind-surely-this-is-ok3\n-   Helgrind:Race\n-   fun:_Unwind_SetGR\n-   fun:__gxx_personality_v0\n-   ...\n-}\n-\n-{\n-   goddammit-llvm-why-u-no-valgrind\n-   Memcheck:Cond\n-   fun:*\n+   match-leak-kinds: definite\n+   fun:malloc\n+   fun:tlv_allocate_and_initialize_for_key\n+   fun:tlv_get_addr\n    ...\n+   fun:start\n }"}, {"sha": "5c449d511d53bf01c672a8720287bb81db462d79", "filename": "src/test/run-pass-valgrind/down-with-thread-dtors.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/269a8111920b0d5faecd98d94d750608a6c09379/src%2Ftest%2Frun-pass-valgrind%2Fdown-with-thread-dtors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/269a8111920b0d5faecd98d94d750608a6c09379/src%2Ftest%2Frun-pass-valgrind%2Fdown-with-thread-dtors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-valgrind%2Fdown-with-thread-dtors.rs?ref=269a8111920b0d5faecd98d94d750608a6c09379", "previous_filename": "src/test/run-pass/down-with-thread-dtors.rs"}, {"sha": "76ecbfd2f223d2945f3c0ca41ebc2b564dbbe624", "filename": "src/test/run-pass-valgrind/exit-flushes.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/269a8111920b0d5faecd98d94d750608a6c09379/src%2Ftest%2Frun-pass-valgrind%2Fexit-flushes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/269a8111920b0d5faecd98d94d750608a6c09379/src%2Ftest%2Frun-pass-valgrind%2Fexit-flushes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-valgrind%2Fexit-flushes.rs?ref=269a8111920b0d5faecd98d94d750608a6c09379", "previous_filename": "src/test/run-pass/exit-flushes.rs"}, {"sha": "41b34dc79bd954d274f098a255ad2560576819ca", "filename": "src/test/run-pass-valgrind/osx-frameworks.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/269a8111920b0d5faecd98d94d750608a6c09379/src%2Ftest%2Frun-pass-valgrind%2Fosx-frameworks.rs", "raw_url": "https://github.com/rust-lang/rust/raw/269a8111920b0d5faecd98d94d750608a6c09379/src%2Ftest%2Frun-pass-valgrind%2Fosx-frameworks.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-valgrind%2Fosx-frameworks.rs?ref=269a8111920b0d5faecd98d94d750608a6c09379", "previous_filename": "src/test/run-pass/osx-frameworks.rs"}]}