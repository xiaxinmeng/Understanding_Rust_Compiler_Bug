{"sha": "7c4eca06871f83257f9f503c3a91a8946026133a", "node_id": "C_kwDOAAsO6NoAKDdjNGVjYTA2ODcxZjgzMjU3ZjlmNTAzYzNhOTFhODk0NjAyNjEzM2E", "commit": {"author": {"name": "Noah Lev", "email": "camelidcamel@gmail.com", "date": "2022-01-19T00:38:06Z"}, "committer": {"name": "Noah Lev", "email": "camelidcamel@gmail.com", "date": "2022-01-19T00:38:06Z"}, "message": "Make suggestions verbose", "tree": {"sha": "56c854c44e1c5b3add0e8289f72c15b0cd9641b2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/56c854c44e1c5b3add0e8289f72c15b0cd9641b2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7c4eca06871f83257f9f503c3a91a8946026133a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7c4eca06871f83257f9f503c3a91a8946026133a", "html_url": "https://github.com/rust-lang/rust/commit/7c4eca06871f83257f9f503c3a91a8946026133a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7c4eca06871f83257f9f503c3a91a8946026133a/comments", "author": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "committer": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7507fb6306d540a6f07f6f325d25925311b037a2", "url": "https://api.github.com/repos/rust-lang/rust/commits/7507fb6306d540a6f07f6f325d25925311b037a2", "html_url": "https://github.com/rust-lang/rust/commit/7507fb6306d540a6f07f6f325d25925311b037a2"}], "stats": {"total": 130, "additions": 84, "deletions": 46}, "files": [{"sha": "81662b752b7b05ac6a806b9926ba04327f4e2041", "filename": "compiler/rustc_typeck/src/check/op.rs", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/7c4eca06871f83257f9f503c3a91a8946026133a/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7c4eca06871f83257f9f503c3a91a8946026133a/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fop.rs?ref=7c4eca06871f83257f9f503c3a91a8946026133a", "patch": "@@ -570,14 +570,14 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                     err.span_label(op.span, \"`+` cannot be used to concatenate two `&str` strings\");\n                     err.note(str_concat_note);\n                     if let hir::ExprKind::AddrOf(_, _, lhs_inner_expr) = lhs_expr.kind {\n-                        err.span_suggestion(\n+                        err.span_suggestion_verbose(\n                             lhs_expr.span.until(lhs_inner_expr.span),\n                             rm_borrow_msg,\n                             \"\".to_owned(),\n                             Applicability::MachineApplicable\n                         );\n                     } else {\n-                        err.span_suggestion(\n+                        err.span_suggestion_verbose(\n                             lhs_expr.span.shrink_to_hi(),\n                             to_owned_msg,\n                             \".to_owned()\".to_owned(),\n@@ -608,7 +608,11 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                             lhs_sugg,\n                             (rhs_expr.span.shrink_to_lo(), \"&\".to_owned()),\n                         ];\n-                        err.multipart_suggestion(sugg_msg, suggestions, Applicability::MachineApplicable);\n+                        err.multipart_suggestion_verbose(\n+                            sugg_msg,\n+                            suggestions,\n+                            Applicability::MachineApplicable,\n+                        );\n                     }\n                     IsAssign::Yes => {\n                         err.note(str_concat_note);"}, {"sha": "4f0fd948e760493d616cac549f38d0698459c1bb", "filename": "src/test/ui/issues/issue-47377.stderr", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/7c4eca06871f83257f9f503c3a91a8946026133a/src%2Ftest%2Fui%2Fissues%2Fissue-47377.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7c4eca06871f83257f9f503c3a91a8946026133a/src%2Ftest%2Fui%2Fissues%2Fissue-47377.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-47377.stderr?ref=7c4eca06871f83257f9f503c3a91a8946026133a", "patch": "@@ -2,13 +2,16 @@ error[E0369]: cannot add `&str` to `&str`\n   --> $DIR/issue-47377.rs:4:14\n    |\n LL |      let _a = b + \", World!\";\n-   |               --^ ---------- &str\n-   |               |||\n-   |               ||`+` cannot be used to concatenate two `&str` strings\n-   |               |help: create an owned `String` from a string reference: `.to_owned()`\n+   |               - ^ ---------- &str\n+   |               | |\n+   |               | `+` cannot be used to concatenate two `&str` strings\n    |               &str\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: create an owned `String` from a string reference\n+   |\n+LL |      let _a = b.to_owned() + \", World!\";\n+   |                +++++++++++\n \n error: aborting due to previous error\n "}, {"sha": "b04ac5536c41fa2e4b8b7b5accd7892935350f5c", "filename": "src/test/ui/issues/issue-47380.stderr", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/7c4eca06871f83257f9f503c3a91a8946026133a/src%2Ftest%2Fui%2Fissues%2Fissue-47380.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7c4eca06871f83257f9f503c3a91a8946026133a/src%2Ftest%2Fui%2Fissues%2Fissue-47380.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-47380.stderr?ref=7c4eca06871f83257f9f503c3a91a8946026133a", "patch": "@@ -2,13 +2,16 @@ error[E0369]: cannot add `&str` to `&str`\n   --> $DIR/issue-47380.rs:3:35\n    |\n LL |     println!(\"\ud83e\udd80\ud83e\udd80\ud83e\udd80\ud83e\udd80\ud83e\udd80\"); let _a = b + \", World!\";\n-   |                                      --^ ---------- &str\n-   |                                      |||\n-   |                                      ||`+` cannot be used to concatenate two `&str` strings\n-   |                                      |help: create an owned `String` from a string reference: `.to_owned()`\n+   |                                      - ^ ---------- &str\n+   |                                      | |\n+   |                                      | `+` cannot be used to concatenate two `&str` strings\n    |                                      &str\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: create an owned `String` from a string reference\n+   |\n+LL |     println!(\"\ud83e\udd80\ud83e\udd80\ud83e\udd80\ud83e\udd80\ud83e\udd80\"); let _a = b.to_owned() + \", World!\";\n+   |                                       +++++++++++\n \n error: aborting due to previous error\n "}, {"sha": "e2e7ce1ed18e7f3ba61e4f3fdd9372628c2fbd8b", "filename": "src/test/ui/span/issue-39018.stderr", "status": "modified", "additions": 47, "deletions": 25, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/7c4eca06871f83257f9f503c3a91a8946026133a/src%2Ftest%2Fui%2Fspan%2Fissue-39018.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7c4eca06871f83257f9f503c3a91a8946026133a/src%2Ftest%2Fui%2Fspan%2Fissue-39018.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-39018.stderr?ref=7c4eca06871f83257f9f503c3a91a8946026133a", "patch": "@@ -2,13 +2,16 @@ error[E0369]: cannot add `&str` to `&str`\n   --> $DIR/issue-39018.rs:2:22\n    |\n LL |     let x = \"Hello \" + \"World!\";\n-   |             ---------^ -------- &str\n-   |             |       ||\n-   |             |       |`+` cannot be used to concatenate two `&str` strings\n-   |             |       help: create an owned `String` from a string reference: `.to_owned()`\n+   |             -------- ^ -------- &str\n+   |             |        |\n+   |             |        `+` cannot be used to concatenate two `&str` strings\n    |             &str\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: create an owned `String` from a string reference\n+   |\n+LL |     let x = \"Hello \".to_owned() + \"World!\";\n+   |                     +++++++++++\n \n error[E0369]: cannot add `World` to `World`\n   --> $DIR/issue-39018.rs:8:26\n@@ -57,9 +60,13 @@ LL |     let _ = &a + &b;\n    |             |  |\n    |             |  `+` cannot be used to concatenate two `&str` strings\n    |             &String\n-   |             help: remove the borrow to obtain an owned `String`\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: remove the borrow to obtain an owned `String`\n+   |\n+LL -     let _ = &a + &b;\n+LL +     let _ = a + &b;\n+   | \n \n error[E0369]: cannot add `String` to `&String`\n   --> $DIR/issue-39018.rs:27:16\n@@ -103,37 +110,46 @@ error[E0369]: cannot add `&String` to `&String`\n   --> $DIR/issue-39018.rs:31:15\n    |\n LL |     let _ = e + &b;\n-   |             --^ -- &String\n-   |             |||\n-   |             ||`+` cannot be used to concatenate two `&str` strings\n-   |             |help: create an owned `String` from a string reference: `.to_owned()`\n+   |             - ^ -- &String\n+   |             | |\n+   |             | `+` cannot be used to concatenate two `&str` strings\n    |             &String\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: create an owned `String` from a string reference\n+   |\n+LL |     let _ = e.to_owned() + &b;\n+   |              +++++++++++\n \n error[E0369]: cannot add `&str` to `&String`\n   --> $DIR/issue-39018.rs:32:15\n    |\n LL |     let _ = e + d;\n-   |             --^ - &str\n-   |             |||\n-   |             ||`+` cannot be used to concatenate two `&str` strings\n-   |             |help: create an owned `String` from a string reference: `.to_owned()`\n+   |             - ^ - &str\n+   |             | |\n+   |             | `+` cannot be used to concatenate two `&str` strings\n    |             &String\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: create an owned `String` from a string reference\n+   |\n+LL |     let _ = e.to_owned() + d;\n+   |              +++++++++++\n \n error[E0369]: cannot add `&&str` to `&String`\n   --> $DIR/issue-39018.rs:33:15\n    |\n LL |     let _ = e + &d;\n-   |             --^ -- &&str\n-   |             |||\n-   |             ||`+` cannot be used to concatenate two `&str` strings\n-   |             |help: create an owned `String` from a string reference: `.to_owned()`\n+   |             - ^ -- &&str\n+   |             | |\n+   |             | `+` cannot be used to concatenate two `&str` strings\n    |             &String\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: create an owned `String` from a string reference\n+   |\n+LL |     let _ = e.to_owned() + &d;\n+   |              +++++++++++\n \n error[E0369]: cannot add `&&str` to `&&str`\n   --> $DIR/issue-39018.rs:34:16\n@@ -155,25 +171,31 @@ error[E0369]: cannot add `&&str` to `&str`\n   --> $DIR/issue-39018.rs:36:15\n    |\n LL |     let _ = c + &d;\n-   |             --^ -- &&str\n-   |             |||\n-   |             ||`+` cannot be used to concatenate two `&str` strings\n-   |             |help: create an owned `String` from a string reference: `.to_owned()`\n+   |             - ^ -- &&str\n+   |             | |\n+   |             | `+` cannot be used to concatenate two `&str` strings\n    |             &str\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: create an owned `String` from a string reference\n+   |\n+LL |     let _ = c.to_owned() + &d;\n+   |              +++++++++++\n \n error[E0369]: cannot add `&str` to `&str`\n   --> $DIR/issue-39018.rs:37:15\n    |\n LL |     let _ = c + d;\n-   |             --^ - &str\n-   |             |||\n-   |             ||`+` cannot be used to concatenate two `&str` strings\n-   |             |help: create an owned `String` from a string reference: `.to_owned()`\n+   |             - ^ - &str\n+   |             | |\n+   |             | `+` cannot be used to concatenate two `&str` strings\n    |             &str\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: create an owned `String` from a string reference\n+   |\n+LL |     let _ = c.to_owned() + d;\n+   |              +++++++++++\n \n error: aborting due to 14 previous errors\n "}, {"sha": "bd354679f7888277051aee4223a94fe73d468f77", "filename": "src/test/ui/str/str-concat-on-double-ref.stderr", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/7c4eca06871f83257f9f503c3a91a8946026133a/src%2Ftest%2Fui%2Fstr%2Fstr-concat-on-double-ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7c4eca06871f83257f9f503c3a91a8946026133a/src%2Ftest%2Fui%2Fstr%2Fstr-concat-on-double-ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstr%2Fstr-concat-on-double-ref.stderr?ref=7c4eca06871f83257f9f503c3a91a8946026133a", "patch": "@@ -2,13 +2,16 @@ error[E0369]: cannot add `&str` to `&String`\n   --> $DIR/str-concat-on-double-ref.rs:4:15\n    |\n LL |     let c = a + b;\n-   |             --^ - &str\n-   |             |||\n-   |             ||`+` cannot be used to concatenate two `&str` strings\n-   |             |help: create an owned `String` from a string reference: `.to_owned()`\n+   |             - ^ - &str\n+   |             | |\n+   |             | `+` cannot be used to concatenate two `&str` strings\n    |             &String\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: create an owned `String` from a string reference\n+   |\n+LL |     let c = a.to_owned() + b;\n+   |              +++++++++++\n \n error: aborting due to previous error\n "}, {"sha": "bf277362dbab2977369c18f05f6b47754dc456c2", "filename": "src/test/ui/terminal-width/non-1-width-unicode-multiline-label.stderr", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/7c4eca06871f83257f9f503c3a91a8946026133a/src%2Ftest%2Fui%2Fterminal-width%2Fnon-1-width-unicode-multiline-label.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7c4eca06871f83257f9f503c3a91a8946026133a/src%2Ftest%2Fui%2Fterminal-width%2Fnon-1-width-unicode-multiline-label.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fterminal-width%2Fnon-1-width-unicode-multiline-label.stderr?ref=7c4eca06871f83257f9f503c3a91a8946026133a", "patch": "@@ -1,14 +1,17 @@\n error[E0369]: cannot add `&str` to `&str`\n   --> $DIR/non-1-width-unicode-multiline-label.rs:5:260\n    |\n-LL | ...\u0f85\u0f86\u0f87\u0f88\u0f89\u0f8a\u0f8b\u0f8c\u0f8d\u0f8e\u0f8f\u0f90\u0f91\u0f92\u0f93\u0f94\u0f95\u0f96\u0f97\u0f98\u0f99\u0f9a\u0f9b\u0f9c\u0f9d\u0f9e\u0f9f\u0fa0\u0fa1\u0fa2\u0fa3\u0fa4\u0fa5\u0fa6\u0fa7\u0fa8\u0fa9\u0faa\u0fab\u0fac\u0fad\u0fae\u0faf\u0fb0\u0fb1\u0fb2\u0fb3\u0fb4\u0fb5\u0fb6\u0fb7\u0fb8\u0fb9\u0fba\u0fbb\u0fbc\u0fbd\u0fbe\u0fbf\u0fc0\u0fc1\u0fc2\u0fc3\u0fc4\u0fc5\u0fc6\u0fc7\u0fc8\u0fc9\u0fca\u0fcb\u0fcc\u0fcd\u0fce...\u0fd2\u0fd3\u0fd4\u0fd5\u0fd6\u0fd7\u0fd8\u0fd9\u0fda\"; let _a = unicode_is_fun + \" really fun!\";\n-   |                                                 ---------------^ -------------- &str\n-   |                                                 |             ||\n-   |                                                 |             |`+` cannot be used to concatenate two `&str` strings\n-   |                                                 |             help: create an owned `String` from a string reference: `.to_owned()`\n-   |                                                 &str\n+LL | ...\u0f7d\u0f7e\u0f7f\u0f80\u0f81\u0f82\u0f83\u0f84\u0f85\u0f86\u0f87\u0f88\u0f89\u0f8a\u0f8b\u0f8c\u0f8d\u0f8e\u0f8f\u0f90\u0f91\u0f92\u0f93\u0f94\u0f95\u0f96\u0f97\u0f98\u0f99\u0f9a\u0f9b\u0f9c\u0f9d\u0f9e\u0f9f\u0fa0\u0fa1\u0fa2\u0fa3\u0fa4\u0fa5\u0fa6\u0fa7\u0fa8\u0fa9\u0faa\u0fab\u0fac\u0fad\u0fae\u0faf\u0fb0\u0fb1\u0fb2\u0fb3\u0fb4\u0fb5\u0fb6\u0fb7\u0fb8\u0fb9\u0fba\u0fbb\u0fbc\u0fbd\u0fbe\u0fbf\u0fc0\u0fc1\u0fc2\u0fc3\u0fc4\u0fc5\u0fc6\u0fc7...\u0fcb\u0fcc\u0fcd\u0fce\u0fcf\u0fd0\u0fd1\u0fd2\u0fd3\u0fd4\u0fd5\u0fd6\u0fd7\u0fd8\u0fd9\u0fda\"; let _a = unicode_is_fun + \" really fun!\";\n+   |                                                  -------------- ^ -------------- &str\n+   |                                                  |              |\n+   |                                                  |              `+` cannot be used to concatenate two `&str` strings\n+   |                                                  &str\n    |\n    = note: string concatenation requires an owned `String` on the left\n+help: create an owned `String` from a string reference\n+   |\n+LL |     let _ = \"\u0f00\u0f01\u0f02\u0f03\u0f04\u0f05\u0f06\u0f07\u0f08\u0f09\u0f0a\u0f0b\u0f0c\u0f0d\u0f0e\u0f0f\u0f10\u0f11\u0f12\u0f13\u0f14\u0f15\u0f16\u0f17\u0f18\u0f19\u0f1a\u0f1b\u0f1c\u0f1d\u0f1e\u0f1f\u0f20\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f2a\u0f2b\u0f2c\u0f2d\u0f2e\u0f2f\u0f30\u0f31\u0f32\u0f33\u0f34\u0f35\u0f36\u0f37\u0f38\u0f39\u0f3a\u0f3b\u0f3c\u0f3d\u0f3e\u0f3f\u0f40\u0f41\u0f42\u0f43\u0f44\u0f45\u0f46\u0f47\u0f48\u0f49\u0f4a\u0f4b\u0f4c\u0f4d\u0f4e\u0f4f\u0f50\u0f51\u0f52\u0f53\u0f54\u0f55\u0f56\u0f57\u0f58\u0f59\u0f5a\u0f5b\u0f5c\u0f5d\u0f5e\u0f5f\u0f60\u0f61\u0f62\u0f63\u0f64\u0f65\u0f66\u0f67\u0f68\u0f69\u0f6a\u0f6b\u0f6c\u0f6d\u0f6e\u0f6f\u0f70\u0f71\u0f72\u0f73\u0f74\u0f75\u0f76\u0f77\u0f78\u0f79\u0f7a\u0f7b\u0f7c\u0f7d\u0f7e\u0f7f\u0f80\u0f81\u0f82\u0f83\u0f84\u0f85\u0f86\u0f87\u0f88\u0f89\u0f8a\u0f8b\u0f8c\u0f8d\u0f8e\u0f8f\u0f90\u0f91\u0f92\u0f93\u0f94\u0f95\u0f96\u0f97\u0f98\u0f99\u0f9a\u0f9b\u0f9c\u0f9d\u0f9e\u0f9f\u0fa0\u0fa1\u0fa2\u0fa3\u0fa4\u0fa5\u0fa6\u0fa7\u0fa8\u0fa9\u0faa\u0fab\u0fac\u0fad\u0fae\u0faf\u0fb0\u0fb1\u0fb2\u0fb3\u0fb4\u0fb5\u0fb6\u0fb7\u0fb8\u0fb9\u0fba\u0fbb\u0fbc\u0fbd\u0fbe\u0fbf\u0fc0\u0fc1\u0fc2\u0fc3\u0fc4\u0fc5\u0fc6\u0fc7\u0fc8\u0fc9\u0fca\u0fcb\u0fcc\u0fcd\u0fce\u0fcf\u0fd0\u0fd1\u0fd2\u0fd3\u0fd4\u0fd5\u0fd6\u0fd7\u0fd8\u0fd9\u0fda\"; let _a = unicode_is_fun.to_owned() + \" really fun!\";\n+   |                                                                                                                                                                                         +++++++++++\n \n error: aborting due to previous error\n "}]}