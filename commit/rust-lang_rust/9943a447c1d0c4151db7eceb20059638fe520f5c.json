{"sha": "9943a447c1d0c4151db7eceb20059638fe520f5c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk5NDNhNDQ3YzFkMGM0MTUxZGI3ZWNlYjIwMDU5NjM4ZmU1MjBmNWM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-03-22T18:31:37Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-03-22T18:31:37Z"}, "message": "Rollup merge of #59327 - Xaeroxe:clamp-doc, r=scottmcm\n\nAdd NAN test to docs\n\nDocuments and tests NAN behavior for the new (f32, f64)::clamp function.", "tree": {"sha": "525720d7aefcf5709906fa335e4f024439d334da", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/525720d7aefcf5709906fa335e4f024439d334da"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9943a447c1d0c4151db7eceb20059638fe520f5c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJclSoJCRBK7hj4Ov3rIwAAdHIIAI7xTLC1Ta++LtXybwC8zL8y\n28CWScpbNEb/knjljRE2nUnt7p7ZZveJ8oPCL70CwA1lx4ndlN4BWorWv8FOTMGn\nwZccJ0Fwco21rlpy6dNeKibbcb755tGMM1pIy9sD+zbS6a1J/+dD3tkNf1xZ4TLu\nW48763U/+bTbJ4jYvMtTh/aDIXyOKLpTXNYsHHMIAUhNXmcyR661UXCtCEXSs4TL\nAaA7x0GhJ2hBXpTHQ6PqFmfmS8asCqBkyeTYO7wm5lfKqQOQ3uiaF7fnWz2BvXPR\njW+6n9jY4CczBRrAkTdxZZAB88fnp1t5ba2BIKccoKDsZDu/fGapaF4iEOKN520=\n=MDB2\n-----END PGP SIGNATURE-----\n", "payload": "tree 525720d7aefcf5709906fa335e4f024439d334da\nparent de08d0ec2da23d7fd878df9ea50150c04fbd8a7b\nparent 72f5d9137e33fe4aa251dab44c0fc4de71a1a366\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1553279497 +0100\ncommitter GitHub <noreply@github.com> 1553279497 +0100\n\nRollup merge of #59327 - Xaeroxe:clamp-doc, r=scottmcm\n\nAdd NAN test to docs\n\nDocuments and tests NAN behavior for the new (f32, f64)::clamp function.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9943a447c1d0c4151db7eceb20059638fe520f5c", "html_url": "https://github.com/rust-lang/rust/commit/9943a447c1d0c4151db7eceb20059638fe520f5c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9943a447c1d0c4151db7eceb20059638fe520f5c/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "de08d0ec2da23d7fd878df9ea50150c04fbd8a7b", "url": "https://api.github.com/repos/rust-lang/rust/commits/de08d0ec2da23d7fd878df9ea50150c04fbd8a7b", "html_url": "https://github.com/rust-lang/rust/commit/de08d0ec2da23d7fd878df9ea50150c04fbd8a7b"}, {"sha": "72f5d9137e33fe4aa251dab44c0fc4de71a1a366", "url": "https://api.github.com/repos/rust-lang/rust/commits/72f5d9137e33fe4aa251dab44c0fc4de71a1a366", "html_url": "https://github.com/rust-lang/rust/commit/72f5d9137e33fe4aa251dab44c0fc4de71a1a366"}], "stats": {"total": 38, "additions": 38, "deletions": 0}, "files": [{"sha": "688d9c1aabbee60b8dcce1e14e17a99146305ef3", "filename": "src/libstd/f32.rs", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/9943a447c1d0c4151db7eceb20059638fe520f5c/src%2Flibstd%2Ff32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9943a447c1d0c4151db7eceb20059638fe520f5c/src%2Flibstd%2Ff32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Ff32.rs?ref=9943a447c1d0c4151db7eceb20059638fe520f5c", "patch": "@@ -970,6 +970,7 @@ impl f32 {\n     /// assert!((-3.0f32).clamp(-2.0f32, 1.0f32) == -2.0f32);\n     /// assert!((0.0f32).clamp(-2.0f32, 1.0f32) == 0.0f32);\n     /// assert!((2.0f32).clamp(-2.0f32, 1.0f32) == 1.0f32);\n+    /// assert!((std::f32::NAN).clamp(-2.0f32, 1.0f32).is_nan());\n     /// ```\n     #[unstable(feature = \"clamp\", issue = \"44095\")]\n     #[inline]\n@@ -1581,4 +1582,22 @@ mod tests {\n         assert_eq!(f32::from_bits(masked_nan1).to_bits(), masked_nan1);\n         assert_eq!(f32::from_bits(masked_nan2).to_bits(), masked_nan2);\n     }\n+\n+    #[test]\n+    #[should_panic]\n+    fn test_clamp_min_greater_than_max() {\n+        1.0f32.clamp(3.0, 1.0);\n+    }\n+\n+    #[test]\n+    #[should_panic]\n+    fn test_clamp_min_is_nan() {\n+        1.0f32.clamp(NAN, 1.0);\n+    }\n+\n+    #[test]\n+    #[should_panic]\n+    fn test_clamp_max_is_nan() {\n+        1.0f32.clamp(3.0, NAN);\n+    }\n }"}, {"sha": "b171e1c7ac93feb600cfcebff8cf45fbe88c4945", "filename": "src/libstd/f64.rs", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/9943a447c1d0c4151db7eceb20059638fe520f5c/src%2Flibstd%2Ff64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9943a447c1d0c4151db7eceb20059638fe520f5c/src%2Flibstd%2Ff64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Ff64.rs?ref=9943a447c1d0c4151db7eceb20059638fe520f5c", "patch": "@@ -892,6 +892,7 @@ impl f64 {\n     /// assert!((-3.0f64).clamp(-2.0f64, 1.0f64) == -2.0f64);\n     /// assert!((0.0f64).clamp(-2.0f64, 1.0f64) == 0.0f64);\n     /// assert!((2.0f64).clamp(-2.0f64, 1.0f64) == 1.0f64);\n+    /// assert!((std::f64::NAN).clamp(-2.0f64, 1.0f64).is_nan());\n     /// ```\n     #[unstable(feature = \"clamp\", issue = \"44095\")]\n     #[inline]\n@@ -1522,4 +1523,22 @@ mod tests {\n         assert_eq!(f64::from_bits(masked_nan1).to_bits(), masked_nan1);\n         assert_eq!(f64::from_bits(masked_nan2).to_bits(), masked_nan2);\n     }\n+\n+    #[test]\n+    #[should_panic]\n+    fn test_clamp_min_greater_than_max() {\n+        1.0f64.clamp(3.0, 1.0);\n+    }\n+\n+    #[test]\n+    #[should_panic]\n+    fn test_clamp_min_is_nan() {\n+        1.0f64.clamp(NAN, 1.0);\n+    }\n+\n+    #[test]\n+    #[should_panic]\n+    fn test_clamp_max_is_nan() {\n+        1.0f64.clamp(3.0, NAN);\n+    }\n }"}]}