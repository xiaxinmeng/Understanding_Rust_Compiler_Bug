{"sha": "995192a472220786e22ccdf3658671d5589b30dd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk5NTE5MmE0NzIyMjA3ODZlMjJjY2RmMzY1ODY3MWQ1NTg5YjMwZGQ=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2018-11-17T00:13:55Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2019-01-02T22:35:05Z"}, "message": "make `get_highlight_region_for_regionvid` only affect re-vid\n\nIn NLL, ReVid is all there is, but I might want to repurpose.", "tree": {"sha": "baa47058fcdffe6dbd76db93d3a9f27c6122155c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/baa47058fcdffe6dbd76db93d3a9f27c6122155c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/995192a472220786e22ccdf3658671d5589b30dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/995192a472220786e22ccdf3658671d5589b30dd", "html_url": "https://github.com/rust-lang/rust/commit/995192a472220786e22ccdf3658671d5589b30dd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/995192a472220786e22ccdf3658671d5589b30dd/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0b03b9bbcfbac0765d79efbd83b36e9970c56b49", "url": "https://api.github.com/repos/rust-lang/rust/commits/0b03b9bbcfbac0765d79efbd83b36e9970c56b49", "html_url": "https://github.com/rust-lang/rust/commit/0b03b9bbcfbac0765d79efbd83b36e9970c56b49"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "cbba4181271fd7278d96d4bc3303b648fae729c4", "filename": "src/librustc/util/ppaux.rs", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/995192a472220786e22ccdf3658671d5589b30dd/src%2Flibrustc%2Futil%2Fppaux.rs", "raw_url": "https://github.com/rust-lang/rust/raw/995192a472220786e22ccdf3658671d5589b30dd/src%2Flibrustc%2Futil%2Fppaux.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Futil%2Fppaux.rs?ref=995192a472220786e22ccdf3658671d5589b30dd", "patch": "@@ -771,7 +771,7 @@ define_print! {\n define_print! {\n     () ty::RegionKind, (self, f, cx) {\n         display {\n-            if cx.is_verbose || get_highlight_region_for_regionvid().is_some() {\n+            if cx.is_verbose {\n                 return self.print_debug(f, cx);\n             }\n \n@@ -806,11 +806,16 @@ define_print! {\n                         ),\n                     }\n                 }\n-                ty::ReVar(region_vid) if cx.identify_regions => {\n-                    write!(f, \"'{}rv\", region_vid.index())\n+                ty::ReVar(region_vid) => {\n+                    if get_highlight_region_for_regionvid().is_some() {\n+                        write!(f, \"{:?}\", region_vid)\n+                    } else if cx.identify_regions {\n+                        write!(f, \"'{}rv\", region_vid.index())\n+                    } else {\n+                        Ok(())\n+                    }\n                 }\n                 ty::ReScope(_) |\n-                ty::ReVar(_) |\n                 ty::ReErased => Ok(()),\n                 ty::ReStatic => write!(f, \"'static\"),\n                 ty::ReEmpty => write!(f, \"'<empty>\"),"}]}