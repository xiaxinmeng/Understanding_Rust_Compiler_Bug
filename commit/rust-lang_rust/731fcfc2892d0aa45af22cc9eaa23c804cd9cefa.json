{"sha": "731fcfc2892d0aa45af22cc9eaa23c804cd9cefa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjczMWZjZmMyODkyZDBhYTQ1YWYyMmNjOWVhYTIzYzgwNGNkOWNlZmE=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-12-30T00:36:54Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-12-30T00:36:54Z"}, "message": "rollup merge of #20309: sfackler/refcell-send\n\nAlso get rid of NoSync markers since UnsafeCell is now not Sync\n\nr? @alexcrichton", "tree": {"sha": "228f1eb2f93290283f84469f179bcc725b6f61f4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/228f1eb2f93290283f84469f179bcc725b6f61f4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/731fcfc2892d0aa45af22cc9eaa23c804cd9cefa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/731fcfc2892d0aa45af22cc9eaa23c804cd9cefa", "html_url": "https://github.com/rust-lang/rust/commit/731fcfc2892d0aa45af22cc9eaa23c804cd9cefa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/731fcfc2892d0aa45af22cc9eaa23c804cd9cefa/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "79db01a30d22950ad1597d495b76d2f58da859dc", "url": "https://api.github.com/repos/rust-lang/rust/commits/79db01a30d22950ad1597d495b76d2f58da859dc", "html_url": "https://github.com/rust-lang/rust/commit/79db01a30d22950ad1597d495b76d2f58da859dc"}, {"sha": "88d4e02d5bbf1ea97f7f1d03bcad82de26185b68", "url": "https://api.github.com/repos/rust-lang/rust/commits/88d4e02d5bbf1ea97f7f1d03bcad82de26185b68", "html_url": "https://github.com/rust-lang/rust/commit/88d4e02d5bbf1ea97f7f1d03bcad82de26185b68"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "01a1e7f97110a93668dfa1a641e82459b4a23834", "filename": "src/libcore/cell.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/731fcfc2892d0aa45af22cc9eaa23c804cd9cefa/src%2Flibcore%2Fcell.rs", "raw_url": "https://github.com/rust-lang/rust/raw/731fcfc2892d0aa45af22cc9eaa23c804cd9cefa/src%2Flibcore%2Fcell.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcell.rs?ref=731fcfc2892d0aa45af22cc9eaa23c804cd9cefa", "patch": "@@ -158,7 +158,7 @@\n use clone::Clone;\n use cmp::PartialEq;\n use default::Default;\n-use kinds::{marker, Copy};\n+use kinds::{Copy, Send};\n use ops::{Deref, DerefMut, Drop};\n use option::Option;\n use option::Option::{None, Some};\n@@ -167,7 +167,6 @@ use option::Option::{None, Some};\n #[stable]\n pub struct Cell<T> {\n     value: UnsafeCell<T>,\n-    noshare: marker::NoSync,\n }\n \n impl<T:Copy> Cell<T> {\n@@ -176,7 +175,6 @@ impl<T:Copy> Cell<T> {\n     pub fn new(value: T) -> Cell<T> {\n         Cell {\n             value: UnsafeCell::new(value),\n-            noshare: marker::NoSync,\n         }\n     }\n \n@@ -208,6 +206,9 @@ impl<T:Copy> Cell<T> {\n     }\n }\n \n+#[stable]\n+unsafe impl<T> Send for Cell<T> where T: Send {}\n+\n #[stable]\n impl<T:Copy> Clone for Cell<T> {\n     fn clone(&self) -> Cell<T> {\n@@ -235,7 +236,6 @@ impl<T:PartialEq + Copy> PartialEq for Cell<T> {\n pub struct RefCell<T> {\n     value: UnsafeCell<T>,\n     borrow: Cell<BorrowFlag>,\n-    noshare: marker::NoSync,\n }\n \n // Values [1, MAX-1] represent the number of `Ref` active\n@@ -251,7 +251,6 @@ impl<T> RefCell<T> {\n         RefCell {\n             value: UnsafeCell::new(value),\n             borrow: Cell::new(UNUSED),\n-            noshare: marker::NoSync,\n         }\n     }\n \n@@ -341,6 +340,9 @@ impl<T> RefCell<T> {\n     }\n }\n \n+#[stable]\n+unsafe impl<T> Send for RefCell<T> where T: Send {}\n+\n #[stable]\n impl<T: Clone> Clone for RefCell<T> {\n     fn clone(&self) -> RefCell<T> {"}]}