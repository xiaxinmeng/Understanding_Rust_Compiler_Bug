{"sha": "d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ4YzNhNjQ5YTZjOTRjNTZiNGNiZDNkZDhkODMwMWE1OGUwNDI0ZWI=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2021-08-15T15:48:53Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2021-08-15T15:48:53Z"}, "message": "Remove `HashStable` impls for `FileName` and `RealFileName`\n\nThese impls were unused, and incorrectly hashed the local\n(non-remapped) path for `RealFileName::Remapped` (which would\nbreak reproducible builds if these impls were used).", "tree": {"sha": "b5793bb497b98746da86ecbf3fd5646351d9bd64", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b5793bb497b98746da86ecbf3fd5646351d9bd64"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAmEZN8QACgkQtAh+UQ6Y\nsWSGFBAAuHywZmg3m2CYplXq9Hhs5k05nAaYbfyFKuveHgfjVoh516cOvo+5c9uD\nrHQytdGpvOaCSBvK2RtT8vDxE2xbZgOqqtTZZ5JqwVbx4OmaolrY/PZBiJhE1fGv\n2lsMklrXjwyqHGdcDRD9hhOI21QIGo8oM7yv9uWZbpPxG3vYynphuoS9Ypu+RBAA\nq0bJkgOsvK2msC/0sWr9iKcH/YEG8wP7NAH6jK06QlQUj/51kgB+tV1hAYL91Dsf\nC6vS+umXdIBVnnVj73fVOCrtlmj11RvwJVkgTSJ51lTr+nKEAF94MFQa+VAqUKjG\nEgbPFoPebPv87LCjDDkGhZjXMFv4if/4w9NDl0VsniwSzAtL4T7vKGA6o15JhWpj\nlaRuOHlekTHQx1Pqf6Ss1Hy3ubdrgbtym99EJYVEFM1h/wvY60GOizGNBvaljDcG\nsTxsbALX0AJ1vCdM9CZAQjOGwnTPvNfeMgB293LE6xs8eMX6Lqos9E6ST+NTNo5c\n5JROvhqXsMl7IVsN/CE4GDKgakXRZyZfhUlObRBIZ28rG+gz5nznT5Izdu5QkNaR\nkY6Wh+QzG03vkDPICImmxybZKih6f6680cdNtldMfUrt2q5TWtOzh4BtNIZUs0t8\nJ/81GWwl8kzfvcG+5cdoBeLu36q1DqKn5RlRKG4NK8bgNIjUCPI=\n=4kaD\n-----END PGP SIGNATURE-----", "payload": "tree b5793bb497b98746da86ecbf3fd5646351d9bd64\nparent 58d685ecb3d4711cf3d21af502ccf51e63ae289c\nauthor Aaron Hill <aa1ronham@gmail.com> 1629042533 -0500\ncommitter Aaron Hill <aa1ronham@gmail.com> 1629042533 -0500\n\nRemove `HashStable` impls for `FileName` and `RealFileName`\n\nThese impls were unused, and incorrectly hashed the local\n(non-remapped) path for `RealFileName::Remapped` (which would\nbreak reproducible builds if these impls were used).\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb", "html_url": "https://github.com/rust-lang/rust/commit/d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "58d685ecb3d4711cf3d21af502ccf51e63ae289c", "url": "https://api.github.com/repos/rust-lang/rust/commits/58d685ecb3d4711cf3d21af502ccf51e63ae289c", "html_url": "https://github.com/rust-lang/rust/commit/58d685ecb3d4711cf3d21af502ccf51e63ae289c"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "9e127577b61a664c8d75b1b561603c650923de73", "filename": "compiler/rustc_span/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb/compiler%2Frustc_span%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb/compiler%2Frustc_span%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Flib.rs?ref=d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb", "patch": "@@ -157,7 +157,7 @@ scoped_tls::scoped_thread_local!(static SESSION_GLOBALS: SessionGlobals);\n // FIXME: We should use this enum or something like it to get rid of the\n // use of magic `/rust/1.x/...` paths across the board.\n #[derive(Debug, Eq, PartialEq, Clone, Ord, PartialOrd)]\n-#[derive(HashStable_Generic, Decodable)]\n+#[derive(Decodable)]\n pub enum RealFileName {\n     LocalPath(PathBuf),\n     /// For remapped paths (namely paths into libstd that have been mapped\n@@ -269,7 +269,7 @@ impl RealFileName {\n \n /// Differentiates between real files and common virtual files.\n #[derive(Debug, Eq, PartialEq, Clone, Ord, PartialOrd, Hash)]\n-#[derive(HashStable_Generic, Decodable, Encodable)]\n+#[derive(Decodable, Encodable)]\n pub enum FileName {\n     Real(RealFileName),\n     /// Call to `quote!`."}]}