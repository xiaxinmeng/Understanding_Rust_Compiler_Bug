{"sha": "a395d2a5debac5dd73fb2ccfbfb749a2df5baf69", "node_id": "C_kwDOAAsO6NoAKGEzOTVkMmE1ZGViYWM1ZGQ3M2ZiMmNjZmJmYjc0OWEyZGY1YmFmNjk", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-05-08T12:11:30Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2023-04-20T18:01:07Z"}, "message": "Give more descriptive names to queries.", "tree": {"sha": "e57b5314ce9b033251af38d2c6e3d40a662eb0f9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e57b5314ce9b033251af38d2c6e3d40a662eb0f9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69", "html_url": "https://github.com/rust-lang/rust/commit/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f65f506d600282fdc45bfebf3cc0be29be33a325", "url": "https://api.github.com/repos/rust-lang/rust/commits/f65f506d600282fdc45bfebf3cc0be29be33a325", "html_url": "https://github.com/rust-lang/rust/commit/f65f506d600282fdc45bfebf3cc0be29be33a325"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "f81c1c39fc147c7ab59691c186bd2414414e39ea", "filename": "compiler/rustc_middle/src/query/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs?ref=a395d2a5debac5dd73fb2ccfbfb749a2df5baf69", "patch": "@@ -426,7 +426,7 @@ rustc_queries! {\n         &'tcx Steal<IndexVec<mir::Promoted, mir::Body<'tcx>>>\n     ) {\n         no_hash\n-        desc { |tcx| \"processing MIR for `{}`\", tcx.def_path_str(key.to_def_id()) }\n+        desc { |tcx| \"promoting constants in MIR for `{}`\", tcx.def_path_str(key.to_def_id()) }\n     }\n \n     query closure_typeinfo(key: LocalDefId) -> ty::ClosureTypeInfo<'tcx> {"}, {"sha": "7e64e67f24cdf0a66eb4a4fc10ea023a3371826f", "filename": "tests/ui/chalkify/bugs/async.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/tests%2Fui%2Fchalkify%2Fbugs%2Fasync.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/tests%2Fui%2Fchalkify%2Fbugs%2Fasync.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fchalkify%2Fbugs%2Fasync.stderr?ref=a395d2a5debac5dd73fb2ccfbfb749a2df5baf69", "patch": "@@ -18,7 +18,7 @@ LL | async fn foo(x: u32) -> u32 {\n #3 [mir_built] building MIR for `foo`\n #4 [unsafety_check_result] unsafety-checking `foo`\n #5 [mir_const] preparing `foo` for borrow checking\n-#6 [mir_promoted] processing MIR for `foo`\n+#6 [mir_promoted] promoting constants in MIR for `foo`\n #7 [mir_borrowck] borrow-checking `foo`\n #8 [type_of] computing type of `foo::{opaque#0}`\n #9 [check_mod_item_types] checking item types in top-level module"}, {"sha": "aa4ee75bb75943294953a98ea3cf40fa6dfd280f", "filename": "tests/ui/impl-trait/auto-trait-leak.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/tests%2Fui%2Fimpl-trait%2Fauto-trait-leak.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/tests%2Fui%2Fimpl-trait%2Fauto-trait-leak.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fimpl-trait%2Fauto-trait-leak.stderr?ref=a395d2a5debac5dd73fb2ccfbfb749a2df5baf69", "patch": "@@ -9,7 +9,7 @@ note: ...which requires borrow-checking `cycle1`...\n    |\n LL | fn cycle1() -> impl Clone {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^\n-note: ...which requires processing MIR for `cycle1`...\n+note: ...which requires promoting constants in MIR for `cycle1`...\n   --> $DIR/auto-trait-leak.rs:12:1\n    |\n LL | fn cycle1() -> impl Clone {\n@@ -55,7 +55,7 @@ note: ...which requires borrow-checking `cycle2`...\n    |\n LL | fn cycle2() -> impl Clone {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^\n-note: ...which requires processing MIR for `cycle2`...\n+note: ...which requires promoting constants in MIR for `cycle2`...\n   --> $DIR/auto-trait-leak.rs:19:1\n    |\n LL | fn cycle2() -> impl Clone {"}, {"sha": "720fb0a90b08befa56b3968550c42ba8c665343a", "filename": "tests/ui/mir/validate/storage-live.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/tests%2Fui%2Fmir%2Fvalidate%2Fstorage-live.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/tests%2Fui%2Fmir%2Fvalidate%2Fstorage-live.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmir%2Fvalidate%2Fstorage-live.stderr?ref=a395d2a5debac5dd73fb2ccfbfb749a2df5baf69", "patch": "@@ -9,5 +9,5 @@ error: the compiler unexpectedly panicked. this is a bug.\n \n query stack during panic:\n #0 [mir_const] preparing `multiple_storage` for borrow checking\n-#1 [mir_promoted] processing MIR for `multiple_storage`\n+#1 [mir_promoted] promoting constants in MIR for `multiple_storage`\n end of query stack"}, {"sha": "c943a4918ba673eea9bd6ef4a3695c2ee17718f9", "filename": "tests/ui/type-alias-enum-variants/self-in-enum-definition.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/tests%2Fui%2Ftype-alias-enum-variants%2Fself-in-enum-definition.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a395d2a5debac5dd73fb2ccfbfb749a2df5baf69/tests%2Fui%2Ftype-alias-enum-variants%2Fself-in-enum-definition.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftype-alias-enum-variants%2Fself-in-enum-definition.stderr?ref=a395d2a5debac5dd73fb2ccfbfb749a2df5baf69", "patch": "@@ -29,7 +29,7 @@ note: ...which requires borrow-checking `Alpha::V3::{constant#0}`...\n    |\n LL |     V3 = Self::V1 {} as u8 + 2,\n    |          ^^^^^^^^^^^^^^^^^^^^^\n-note: ...which requires processing MIR for `Alpha::V3::{constant#0}`...\n+note: ...which requires promoting constants in MIR for `Alpha::V3::{constant#0}`...\n   --> $DIR/self-in-enum-definition.rs:5:10\n    |\n LL |     V3 = Self::V1 {} as u8 + 2,"}]}