{"sha": "75718081ee140ad9b18281cc5319a9436101b9da", "node_id": "C_kwDOAAsO6NoAKDc1NzE4MDgxZWUxNDBhZDliMTgyODFjYzUzMTlhOTQzNjEwMWI5ZGE", "commit": {"author": {"name": "James Farrell", "email": "jamesfarrell@google.com", "date": "2023-03-21T17:12:02Z"}, "committer": {"name": "James Farrell", "email": "jamesfarrell@google.com", "date": "2023-03-21T17:12:02Z"}, "message": "Ignore the vendor directory for tidy tests.\n\nWhen running `x.py test` on a downloaded source distribution (e.g.\nhttps://static.rust-lang.org/dist/rustc-<version>-src.tar.gz), the\ncrates in the vendor directory contain a number of executable files that\ncause the tidy test to fail with the following message:\n\ntidy error: binary checked into source: <path>\n\nI see 26 such errors with the 1.68.0 source distribution. A few of these\nare .rs source files with incorrect executable permission, but most are\nscripts that are correctly marked executable.", "tree": {"sha": "2a0a6e22e234673e0d94c5c1f0c9504b1348ddb3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2a0a6e22e234673e0d94c5c1f0c9504b1348ddb3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/75718081ee140ad9b18281cc5319a9436101b9da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/75718081ee140ad9b18281cc5319a9436101b9da", "html_url": "https://github.com/rust-lang/rust/commit/75718081ee140ad9b18281cc5319a9436101b9da", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/75718081ee140ad9b18281cc5319a9436101b9da/comments", "author": {"login": "jfgoog", "id": 83229348, "node_id": "MDQ6VXNlcjgzMjI5MzQ4", "avatar_url": "https://avatars.githubusercontent.com/u/83229348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfgoog", "html_url": "https://github.com/jfgoog", "followers_url": "https://api.github.com/users/jfgoog/followers", "following_url": "https://api.github.com/users/jfgoog/following{/other_user}", "gists_url": "https://api.github.com/users/jfgoog/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfgoog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfgoog/subscriptions", "organizations_url": "https://api.github.com/users/jfgoog/orgs", "repos_url": "https://api.github.com/users/jfgoog/repos", "events_url": "https://api.github.com/users/jfgoog/events{/privacy}", "received_events_url": "https://api.github.com/users/jfgoog/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jfgoog", "id": 83229348, "node_id": "MDQ6VXNlcjgzMjI5MzQ4", "avatar_url": "https://avatars.githubusercontent.com/u/83229348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfgoog", "html_url": "https://github.com/jfgoog", "followers_url": "https://api.github.com/users/jfgoog/followers", "following_url": "https://api.github.com/users/jfgoog/following{/other_user}", "gists_url": "https://api.github.com/users/jfgoog/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfgoog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfgoog/subscriptions", "organizations_url": "https://api.github.com/users/jfgoog/orgs", "repos_url": "https://api.github.com/users/jfgoog/repos", "events_url": "https://api.github.com/users/jfgoog/events{/privacy}", "received_events_url": "https://api.github.com/users/jfgoog/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a01b4cc9f375f1b95fa8195daeea938d3d9c4c34", "url": "https://api.github.com/repos/rust-lang/rust/commits/a01b4cc9f375f1b95fa8195daeea938d3d9c4c34", "html_url": "https://github.com/rust-lang/rust/commit/a01b4cc9f375f1b95fa8195daeea938d3d9c4c34"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "67a4df19fcc7aafb8144ac842e16b5fa21c0298b", "filename": "src/tools/tidy/src/walk.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/75718081ee140ad9b18281cc5319a9436101b9da/src%2Ftools%2Ftidy%2Fsrc%2Fwalk.rs", "raw_url": "https://github.com/rust-lang/rust/raw/75718081ee140ad9b18281cc5319a9436101b9da/src%2Ftools%2Ftidy%2Fsrc%2Fwalk.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fwalk.rs?ref=75718081ee140ad9b18281cc5319a9436101b9da", "patch": "@@ -29,6 +29,7 @@ pub fn filter_dirs(path: &Path) -> bool {\n         // Filter RLS output directories\n         \"target/rls\",\n         \"src/bootstrap/target\",\n+        \"vendor\",\n     ];\n     skip.iter().any(|p| path.ends_with(p))\n }"}]}