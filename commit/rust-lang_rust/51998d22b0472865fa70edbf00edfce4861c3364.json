{"sha": "51998d22b0472865fa70edbf00edfce4861c3364", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUxOTk4ZDIyYjA0NzI4NjVmYTcwZWRiZjAwZWRmY2U0ODYxYzMzNjQ=", "commit": {"author": {"name": "Seo Sanghyeon", "email": "sanxiyn@gmail.com", "date": "2013-09-16T14:09:50Z"}, "committer": {"name": "Seo Sanghyeon", "email": "sanxiyn@gmail.com", "date": "2013-09-16T14:09:50Z"}, "message": "Pass OS to gyp_uv", "tree": {"sha": "49ea7db43ba42f630d95089706d0886a8e0d464d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/49ea7db43ba42f630d95089706d0886a8e0d464d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/51998d22b0472865fa70edbf00edfce4861c3364", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/51998d22b0472865fa70edbf00edfce4861c3364", "html_url": "https://github.com/rust-lang/rust/commit/51998d22b0472865fa70edbf00edfce4861c3364", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/51998d22b0472865fa70edbf00edfce4861c3364/comments", "author": {"login": "sanxiyn", "id": 45249, "node_id": "MDQ6VXNlcjQ1MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanxiyn", "html_url": "https://github.com/sanxiyn", "followers_url": "https://api.github.com/users/sanxiyn/followers", "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}", "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions", "organizations_url": "https://api.github.com/users/sanxiyn/orgs", "repos_url": "https://api.github.com/users/sanxiyn/repos", "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}", "received_events_url": "https://api.github.com/users/sanxiyn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sanxiyn", "id": 45249, "node_id": "MDQ6VXNlcjQ1MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanxiyn", "html_url": "https://github.com/sanxiyn", "followers_url": "https://api.github.com/users/sanxiyn/followers", "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}", "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions", "organizations_url": "https://api.github.com/users/sanxiyn/orgs", "repos_url": "https://api.github.com/users/sanxiyn/repos", "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}", "received_events_url": "https://api.github.com/users/sanxiyn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3fbfab03d29b129336cd4e1acbeac0cc71f79373", "url": "https://api.github.com/repos/rust-lang/rust/commits/3fbfab03d29b129336cd4e1acbeac0cc71f79373", "html_url": "https://github.com/rust-lang/rust/commit/3fbfab03d29b129336cd4e1acbeac0cc71f79373"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "35ee42f9cb4ea08d61f190614462bae4bff80dcf", "filename": "mk/rt.mk", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/51998d22b0472865fa70edbf00edfce4861c3364/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/51998d22b0472865fa70edbf00edfce4861c3364/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=51998d22b0472865fa70edbf00edfce4861c3364", "patch": "@@ -102,15 +102,15 @@ else ifeq ($(OSTYPE_$(1)), apple-darwin)\n   LIBUV_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/libuv/libuv.a\n   JEMALLOC_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc/lib/libjemalloc_pic.a\n else ifeq ($(OSTYPE_$(1)), unknown-freebsd)\n-  LIBUV_OSTYPE_$(1)_$(2) := unix/freebsd\n+  LIBUV_OSTYPE_$(1)_$(2) := freebsd\n   LIBUV_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/libuv/libuv.a\n   JEMALLOC_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc/lib/libjemalloc_pic.a\n else ifeq ($(OSTYPE_$(1)), linux-androideabi)\n-  LIBUV_OSTYPE_$(1)_$(2) := unix/android\n+  LIBUV_OSTYPE_$(1)_$(2) := android\n   LIBUV_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/libuv/libuv.a\n   JEMALLOC_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc/lib/libjemalloc_pic.a\n else\n-  LIBUV_OSTYPE_$(1)_$(2) := unix/linux\n+  LIBUV_OSTYPE_$(1)_$(2) := linux\n   LIBUV_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/libuv/libuv.a\n   JEMALLOC_LIB_$(1)_$(2) := $$(RT_BUILD_DIR_$(1)_$(2))/jemalloc/lib/libjemalloc_pic.a\n endif\n@@ -178,6 +178,7 @@ export PYTHONPATH := $(PYTHONPATH):$$(S)src/gyp/pylib\n $$(LIBUV_MAKEFILE_$(1)_$(2)): $$(LIBUV_DEPS)\n \t(cd $(S)src/libuv/ && \\\n \t $$(CFG_PYTHON) ./gyp_uv -f make -Dtarget_arch=$$(LIBUV_ARCH_$(1)) -D ninja \\\n+\t   -DOS=$$(LIBUV_OSTYPE_$(1)_$(2)) \\\n \t   -Goutput_dir=$$(@D) --generator-output $$(@D))\n \n # XXX: Shouldn't need platform-specific conditions here"}]}