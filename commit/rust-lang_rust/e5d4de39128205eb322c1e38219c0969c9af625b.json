{"sha": "e5d4de39128205eb322c1e38219c0969c9af625b", "node_id": "C_kwDOAAsO6NoAKGU1ZDRkZTM5MTI4MjA1ZWIzMjJjMWUzODIxOWMwOTY5YzlhZjYyNWI", "commit": {"author": {"name": "Bruce A. MacNaughton", "email": "bruce.macnaughton@contrastsecurity.com", "date": "2022-07-20T01:03:33Z"}, "committer": {"name": "Bruce A. MacNaughton", "email": "bruce.macnaughton@contrastsecurity.com", "date": "2022-07-20T01:03:33Z"}, "message": "generated code", "tree": {"sha": "f18bb5919558d8d4732bc327612833e8424e1293", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f18bb5919558d8d4732bc327612833e8424e1293"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e5d4de39128205eb322c1e38219c0969c9af625b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e5d4de39128205eb322c1e38219c0969c9af625b", "html_url": "https://github.com/rust-lang/rust/commit/e5d4de39128205eb322c1e38219c0969c9af625b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e5d4de39128205eb322c1e38219c0969c9af625b/comments", "author": {"login": "bmacnaughton", "id": 4171707, "node_id": "MDQ6VXNlcjQxNzE3MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4171707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmacnaughton", "html_url": "https://github.com/bmacnaughton", "followers_url": "https://api.github.com/users/bmacnaughton/followers", "following_url": "https://api.github.com/users/bmacnaughton/following{/other_user}", "gists_url": "https://api.github.com/users/bmacnaughton/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmacnaughton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmacnaughton/subscriptions", "organizations_url": "https://api.github.com/users/bmacnaughton/orgs", "repos_url": "https://api.github.com/users/bmacnaughton/repos", "events_url": "https://api.github.com/users/bmacnaughton/events{/privacy}", "received_events_url": "https://api.github.com/users/bmacnaughton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bmacnaughton", "id": 4171707, "node_id": "MDQ6VXNlcjQxNzE3MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4171707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmacnaughton", "html_url": "https://github.com/bmacnaughton", "followers_url": "https://api.github.com/users/bmacnaughton/followers", "following_url": "https://api.github.com/users/bmacnaughton/following{/other_user}", "gists_url": "https://api.github.com/users/bmacnaughton/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmacnaughton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmacnaughton/subscriptions", "organizations_url": "https://api.github.com/users/bmacnaughton/orgs", "repos_url": "https://api.github.com/users/bmacnaughton/repos", "events_url": "https://api.github.com/users/bmacnaughton/events{/privacy}", "received_events_url": "https://api.github.com/users/bmacnaughton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "89ace470dcc0d4e08c1fd530e938893f87dcd436", "url": "https://api.github.com/repos/rust-lang/rust/commits/89ace470dcc0d4e08c1fd530e938893f87dcd436", "html_url": "https://github.com/rust-lang/rust/commit/89ace470dcc0d4e08c1fd530e938893f87dcd436"}], "stats": {"total": 27, "additions": 17, "deletions": 10}, "files": [{"sha": "eb9334bdc6dc1f8e1c7afb6d60adde30b57a2d53", "filename": "library/core/src/unicode/unicode_data.rs", "status": "modified", "additions": 17, "deletions": 10, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/e5d4de39128205eb322c1e38219c0969c9af625b/library%2Fcore%2Fsrc%2Funicode%2Funicode_data.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e5d4de39128205eb322c1e38219c0969c9af625b/library%2Fcore%2Fsrc%2Funicode%2Funicode_data.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Funicode%2Funicode_data.rs?ref=e5d4de39128205eb322c1e38219c0969c9af625b", "patch": "@@ -544,18 +544,25 @@ pub mod uppercase {\n \n #[rustfmt::skip]\n pub mod white_space {\n-    static SHORT_OFFSET_RUNS: [u32; 4] = [\n-        5760, 18882560, 23080960, 40972289,\n-    ];\n-    static OFFSETS: [u8; 21] = [\n-        9, 5, 18, 1, 100, 1, 26, 1, 0, 1, 0, 11, 29, 2, 5, 1, 47, 1, 0, 1, 0,\n+    static WHITESPACE_MAP: [u8; 256] = [\n+        2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+        0, 0, 0, 0, 0, 0, 0, 0, 0,\n     ];\n     pub fn lookup(c: char) -> bool {\n-        super::skip_search(\n-            c as u32,\n-            &SHORT_OFFSET_RUNS,\n-            &OFFSETS,\n-        )\n+        match c as u32 >> 8 {\n+            0 => WHITESPACE_MAP[c as usize & 0xff] & 1 != 0,\n+            22 => c as u32 == 0x1680,\n+            32 => WHITESPACE_MAP[c as usize & 0xff] & 2 != 0,\n+            48 => c as u32 == 0x3000,\n+            _ => false,\n+        }\n     }\n }\n "}]}