{"sha": "7680f504c2c9934a617ff20b1d852ea191c6bc52", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc2ODBmNTA0YzJjOTkzNGE2MTdmZjIwYjFkODUyZWExOTFjNmJjNTI=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@pobox.com", "date": "2012-07-23T23:47:35Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@pobox.com", "date": "2012-07-23T23:47:35Z"}, "message": "Merge pull request #2998 from elliottslaughter/no-landing-pads\n\nAdd debug flag to turn off landing pads.", "tree": {"sha": "e03310be12902e895ec196000b120f9a5f106486", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e03310be12902e895ec196000b120f9a5f106486"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7680f504c2c9934a617ff20b1d852ea191c6bc52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7680f504c2c9934a617ff20b1d852ea191c6bc52", "html_url": "https://github.com/rust-lang/rust/commit/7680f504c2c9934a617ff20b1d852ea191c6bc52", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7680f504c2c9934a617ff20b1d852ea191c6bc52/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "df4db83ed840b042942a26ed34f126d9829fcd11", "url": "https://api.github.com/repos/rust-lang/rust/commits/df4db83ed840b042942a26ed34f126d9829fcd11", "html_url": "https://github.com/rust-lang/rust/commit/df4db83ed840b042942a26ed34f126d9829fcd11"}, {"sha": "d8c75cfbe7951f62296b4c9311811a0f414ab0f7", "url": "https://api.github.com/repos/rust-lang/rust/commits/d8c75cfbe7951f62296b4c9311811a0f414ab0f7", "html_url": "https://github.com/rust-lang/rust/commit/d8c75cfbe7951f62296b4c9311811a0f414ab0f7"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "64ae30895c411c64f14176814107ecc6275b0874", "filename": "src/rustc/driver/session.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7680f504c2c9934a617ff20b1d852ea191c6bc52/src%2Frustc%2Fdriver%2Fsession.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7680f504c2c9934a617ff20b1d852ea191c6bc52/src%2Frustc%2Fdriver%2Fsession.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fdriver%2Fsession.rs?ref=7680f504c2c9934a617ff20b1d852ea191c6bc52", "patch": "@@ -39,6 +39,7 @@ const coherence: uint = 512u;\n const borrowck_stats: uint = 1024u;\n const borrowck_note_pure: uint = 2048;\n const borrowck_note_loan: uint = 4096;\n+const no_landing_pads: uint = 8192;\n \n fn debugging_opts_map() -> ~[(~str, ~str, uint)] {\n     ~[(~\"ppregions\", ~\"prettyprint regions with \\\n@@ -58,7 +59,9 @@ fn debugging_opts_map() -> ~[(~str, ~str, uint)] {\n      (~\"borrowck-note-pure\", ~\"note where purity is req'd\",\n       borrowck_note_pure),\n      (~\"borrowck-note-loan\", ~\"note where loans are req'd\",\n-      borrowck_note_loan)\n+      borrowck_note_loan),\n+     (~\"no-landing-pads\", ~\"omit landing pads for unwinding\",\n+      no_landing_pads)\n     ]\n }\n "}, {"sha": "1d9080d2b19910fe4d7037ab9c58956c4e8fb4e3", "filename": "src/rustc/middle/trans/base.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7680f504c2c9934a617ff20b1d852ea191c6bc52/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7680f504c2c9934a617ff20b1d852ea191c6bc52/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=7680f504c2c9934a617ff20b1d852ea191c6bc52", "patch": "@@ -3224,6 +3224,10 @@ fn invoke(bcx: block, llfn: ValueRef, llargs: ~[ValueRef]) -> block {\n }\n \n fn need_invoke(bcx: block) -> bool {\n+    if (bcx.ccx().sess.opts.debugging_opts & session::no_landing_pads != 0) {\n+        ret false;\n+    }\n+\n     if have_cached_lpad(bcx) {\n         ret true;\n     }"}]}