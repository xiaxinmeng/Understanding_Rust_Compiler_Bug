{"sha": "28a5c414c34b524fa8a264d2ec86bc31b7474105", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI4YTVjNDE0YzM0YjUyNGZhOGEyNjRkMmVjODZiYzMxYjc0NzQxMDU=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-03-21T16:09:04Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-04-03T16:22:19Z"}, "message": "Check for unstable-options flag before register internals", "tree": {"sha": "ddca4b3bcdc5a4f721ba6e5e1c907682f299951f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ddca4b3bcdc5a4f721ba6e5e1c907682f299951f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/28a5c414c34b524fa8a264d2ec86bc31b7474105", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAlyk3bsACgkQaTCGhp1Q\nZjf5cQ/+MWZFr20TqxtGzc7L1UdK16wznX6Z7QmSR8QLhyAuTtvWDzA1T0b5upoH\nusnsBE8JPnaEm5sSCHL6rXKi93NczFG4MuElw8n/w6yJAFV5+GImuFsKihJoo4ly\nclTKbpiPjUdjOhM7PDd8gB+JIu9B24wsMJPxNg2GrM3uJBCElEWSfEHn2F1qJ5WZ\nMCC/A2qjme3MK7WGyvJj+Mmo2Ea/nn1gAjiMeTOAGQxFRec1jeIa+bakM+U0tlMe\nrCituT76m2QaHBg/scSIsqCk3Kf/vSnCX715iqQ9YQQep89cchMbbXv5HwsNN+Os\nrR1UrlFYklPfMx9f9lwx80OYZz30Qul47r46199JHTkKFzjYRs1m5L063b5A6GRv\n4BVRjog1dpg9KuaYJM8vGsyeF/AdwS4LU4QERrv+z6bP6VX9UM/MA9boaXJTAV7a\n1D4PQCbW+ymtI/8dFHaYj4jZTlq2c5p95z4oGvXVGEADMFK08Mxgym/z2UdG7cJL\nFUsUGKYdm4L7aiRopVytrOK6RNvRtzRBZwerxnV9VT7yeqC04n0DQzhjoJgBZEyY\nOZKZX2MxMdXE//idN9M4Ey9qCF/UaonkkeYsJOW5n/z4ugZgbfk5BsdnMxO36Hdq\n36LqML2caI8jfgJeEOsPsyqjZio+A1UEvpdWvuxkyklOmSGsMQ8=\n=Ch8H\n-----END PGP SIGNATURE-----", "payload": "tree ddca4b3bcdc5a4f721ba6e5e1c907682f299951f\nparent e536037af3b5efde17b91b979591b4e0e677b080\nauthor flip1995 <hello@philkrones.com> 1553184544 +0100\ncommitter flip1995 <hello@philkrones.com> 1554308539 +0200\n\nCheck for unstable-options flag before register internals\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/28a5c414c34b524fa8a264d2ec86bc31b7474105", "html_url": "https://github.com/rust-lang/rust/commit/28a5c414c34b524fa8a264d2ec86bc31b7474105", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/28a5c414c34b524fa8a264d2ec86bc31b7474105/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e536037af3b5efde17b91b979591b4e0e677b080", "url": "https://api.github.com/repos/rust-lang/rust/commits/e536037af3b5efde17b91b979591b4e0e677b080", "html_url": "https://github.com/rust-lang/rust/commit/e536037af3b5efde17b91b979591b4e0e677b080"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "7f620de0f67cecf8bf11a2ba4c709b0175ae38bf", "filename": "src/librustc_interface/util.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/28a5c414c34b524fa8a264d2ec86bc31b7474105/src%2Flibrustc_interface%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/28a5c414c34b524fa8a264d2ec86bc31b7474105/src%2Flibrustc_interface%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_interface%2Futil.rs?ref=28a5c414c34b524fa8a264d2ec86bc31b7474105", "patch": "@@ -109,7 +109,9 @@ pub fn create_session(\n     let codegen_backend = get_codegen_backend(&sess);\n \n     rustc_lint::register_builtins(&mut sess.lint_store.borrow_mut(), Some(&sess));\n-    rustc_lint::register_internals(&mut sess.lint_store.borrow_mut(), Some(&sess));\n+    if sess.unstable_options() {\n+        rustc_lint::register_internals(&mut sess.lint_store.borrow_mut(), Some(&sess));\n+    }\n \n     let mut cfg = config::build_configuration(&sess, config::to_crate_config(cfg));\n     add_configuration(&mut cfg, &sess, &*codegen_backend);"}]}