{"sha": "74d376763c767ce6e1358c794880f325486a565f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc0ZDM3Njc2M2M3NjdjZTZlMTM1OGM3OTQ4ODBmMzI1NDg2YTU2NWY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-07-10T14:05:01Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-07-10T14:05:01Z"}, "message": "Refresh tests", "tree": {"sha": "74c4a7e2fbd081105ef8e3dd173203f2658a2537", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/74c4a7e2fbd081105ef8e3dd173203f2658a2537"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/74d376763c767ce6e1358c794880f325486a565f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/74d376763c767ce6e1358c794880f325486a565f", "html_url": "https://github.com/rust-lang/rust/commit/74d376763c767ce6e1358c794880f325486a565f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/74d376763c767ce6e1358c794880f325486a565f/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9ab59e2162bf7dcb120378e0c2e9fd6dac39c107", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ab59e2162bf7dcb120378e0c2e9fd6dac39c107", "html_url": "https://github.com/rust-lang/rust/commit/9ab59e2162bf7dcb120378e0c2e9fd6dac39c107"}], "stats": {"total": 37, "additions": 7, "deletions": 30}, "files": [{"sha": "107888353d82936d8d82b583a2f6a8a3a48a3902", "filename": "crates/ra_ide/src/completion/complete_fn_param.rs", "status": "modified", "additions": 7, "deletions": 30, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/74d376763c767ce6e1358c794880f325486a565f/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcomplete_fn_param.rs", "raw_url": "https://github.com/rust-lang/rust/raw/74d376763c767ce6e1358c794880f325486a565f/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcomplete_fn_param.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcomplete_fn_param.rs?ref=74d376763c767ce6e1358c794880f325486a565f", "patch": "@@ -47,6 +47,7 @@ pub(super) fn complete_fn_param(acc: &mut Completions, ctx: &CompletionContext)\n         })\n         .for_each(|(label, lookup)| {\n             CompletionItem::new(CompletionKind::Magic, ctx.source_range(), label)\n+                .kind(crate::CompletionItemKind::Binding)\n                 .lookup_by(lookup)\n                 .add_to(acc)\n         });\n@@ -56,11 +57,11 @@ pub(super) fn complete_fn_param(acc: &mut Completions, ctx: &CompletionContext)\n mod tests {\n     use expect::{expect, Expect};\n \n-    use crate::completion::{test_utils::do_completion, CompletionKind};\n+    use crate::completion::{test_utils::completion_list, CompletionKind};\n \n     fn check(ra_fixture: &str, expect: Expect) {\n-        let actual = do_completion(ra_fixture, CompletionKind::Magic);\n-        expect.assert_debug_eq(&actual);\n+        let actual = completion_list(ra_fixture, CompletionKind::Magic);\n+        expect.assert_eq(&actual);\n     }\n \n     #[test]\n@@ -72,15 +73,7 @@ fn bar(file_id: FileId) {}\n fn baz(file<|>) {}\n \"#,\n             expect![[r#\"\n-                [\n-                    CompletionItem {\n-                        label: \"file_id: FileId\",\n-                        source_range: 61..65,\n-                        delete: 61..65,\n-                        insert: \"file_id: FileId\",\n-                        lookup: \"file_id\",\n-                    },\n-                ]\n+                bn file_id: FileId\n             \"#]],\n         );\n     }\n@@ -94,15 +87,7 @@ fn bar(file_id: FileId) {}\n fn baz(file<|>, x: i32) {}\n \"#,\n             expect![[r#\"\n-                [\n-                    CompletionItem {\n-                        label: \"file_id: FileId\",\n-                        source_range: 61..65,\n-                        delete: 61..65,\n-                        insert: \"file_id: FileId\",\n-                        lookup: \"file_id\",\n-                    },\n-                ]\n+                bn file_id: FileId\n             \"#]],\n         );\n     }\n@@ -119,15 +104,7 @@ pub(crate) trait SourceRoot {\n }\n \"#,\n             expect![[r#\"\n-                [\n-                    CompletionItem {\n-                        label: \"file_id: FileId\",\n-                        source_range: 208..212,\n-                        delete: 208..212,\n-                        insert: \"file_id: FileId\",\n-                        lookup: \"file_id\",\n-                    },\n-                ]\n+                bn file_id: FileId\n             \"#]],\n         );\n     }"}]}