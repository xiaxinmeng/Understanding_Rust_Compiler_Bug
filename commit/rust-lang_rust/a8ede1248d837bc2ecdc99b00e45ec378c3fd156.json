{"sha": "a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "node_id": "C_kwDOAAsO6NoAKGE4ZWRlMTI0OGQ4MzdiYzJlY2RjOTliMDBlNDVlYzM3OGMzZmQxNTY", "commit": {"author": {"name": "Folyd", "email": "lyshuhow@gmail.com", "date": "2022-05-07T03:47:30Z"}, "committer": {"name": "Folyd", "email": "lyshuhow@gmail.com", "date": "2022-05-07T03:47:30Z"}, "message": "Change eslint rules from configuration comments to configuration files", "tree": {"sha": "0a2fd98199be1f668cf8f42d13cec4d57f28150e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0a2fd98199be1f668cf8f42d13cec4d57f28150e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "html_url": "https://github.com/rust-lang/rust/commit/a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/comments", "author": {"login": "Folyd", "id": 3369694, "node_id": "MDQ6VXNlcjMzNjk2OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3369694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Folyd", "html_url": "https://github.com/Folyd", "followers_url": "https://api.github.com/users/Folyd/followers", "following_url": "https://api.github.com/users/Folyd/following{/other_user}", "gists_url": "https://api.github.com/users/Folyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/Folyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Folyd/subscriptions", "organizations_url": "https://api.github.com/users/Folyd/orgs", "repos_url": "https://api.github.com/users/Folyd/repos", "events_url": "https://api.github.com/users/Folyd/events{/privacy}", "received_events_url": "https://api.github.com/users/Folyd/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Folyd", "id": 3369694, "node_id": "MDQ6VXNlcjMzNjk2OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3369694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Folyd", "html_url": "https://github.com/Folyd", "followers_url": "https://api.github.com/users/Folyd/followers", "following_url": "https://api.github.com/users/Folyd/following{/other_user}", "gists_url": "https://api.github.com/users/Folyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/Folyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Folyd/subscriptions", "organizations_url": "https://api.github.com/users/Folyd/orgs", "repos_url": "https://api.github.com/users/Folyd/repos", "events_url": "https://api.github.com/users/Folyd/events{/privacy}", "received_events_url": "https://api.github.com/users/Folyd/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4799baa70d0ff1780ee6dffb743d62c79235ace9", "url": "https://api.github.com/repos/rust-lang/rust/commits/4799baa70d0ff1780ee6dffb743d62c79235ace9", "html_url": "https://github.com/rust-lang/rust/commit/4799baa70d0ff1780ee6dffb743d62c79235ace9"}], "stats": {"total": 36, "additions": 5, "deletions": 31}, "files": [{"sha": "7a34a7daaec5bea7e6e4b459f27db0adcc1c1058", "filename": "src/ci/docker/host-x86_64/mingw-check/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile?ref=a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "patch": "@@ -41,4 +41,4 @@ ENV SCRIPT python3 ../x.py --stage 2 test src/tools/expand-yaml-anchors && \\\n            /scripts/validate-error-codes.sh && \\\n            # Runs checks to ensure that there are no ES5 issues in our JS code.\n            es-check es6 ../src/librustdoc/html/static/js/*.js && \\\n-           eslint ../src/librustdoc/html/static/js/*.js\n+           eslint -c ../src/librustdoc/html/static/.eslintrc.js ../src/librustdoc/html/static/js/*.js"}, {"sha": "e118ee5d5edc5648c9d5323b216681343d533618", "filename": "src/librustdoc/html/static/.eslintrc.js", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2F.eslintrc.js", "raw_url": "https://github.com/rust-lang/rust/raw/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2F.eslintrc.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2F.eslintrc.js?ref=a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "patch": "@@ -16,6 +16,9 @@ module.exports = {\n         \"semi\": [\n             \"error\",\n             \"always\"\n-        ]\n+        ],\n+        \"no-var\": [\"error\"],\n+        \"prefer-const\": [\"error\"],\n+        \"prefer-arrow-callback\": [\"error\"],\n     }\n };"}, {"sha": "defdc20132e67eb02bfe98eaaf2da9818fd2ba51", "filename": "src/librustdoc/html/static/js/externs.js", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fexterns.js", "raw_url": "https://github.com/rust-lang/rust/raw/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fexterns.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fexterns.js?ref=a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "patch": "@@ -1,9 +1,6 @@\n // This file contains type definitions that are processed by the Closure Compiler but are\n // not put into the JavaScript we include as part of the documentation. It is used for\n // type checking. See README.md in this directory for more info.\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n \n /* eslint-disable */\n let searchState;"}, {"sha": "ea20f6e28ecd624856c1085f9cb59d609b34757b", "filename": "src/librustdoc/html/static/js/main.js", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js?ref=a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "patch": "@@ -1,7 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n // Local js definitions:\n /* global addClass, getSettingValue, hasClass, searchState */\n /* global onEach, onEachLazy, removeClass */"}, {"sha": "544bced4c5afdd11120605c7fc92f4c29ee1f662", "filename": "src/librustdoc/html/static/js/scrape-examples.js", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fscrape-examples.js", "raw_url": "https://github.com/rust-lang/rust/raw/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fscrape-examples.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fscrape-examples.js?ref=a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "patch": "@@ -1,7 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n /* global addClass, hasClass, removeClass, onEachLazy */\n \n \"use strict\";"}, {"sha": "3d8cfeecbed6d27a70f9cb0a9243abbe1512ba3f", "filename": "src/librustdoc/html/static/js/search.js", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js", "raw_url": "https://github.com/rust-lang/rust/raw/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js?ref=a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "patch": "@@ -1,7 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n /* global addClass, getNakedUrl, getSettingValue, hasOwnPropertyRustdoc, initSearch, onEach */\n /* global onEachLazy, removeClass, searchState, browserSupportsHistoryApi */\n "}, {"sha": "a7b60a496890c4cdd8bba790dde466cb04fb1848", "filename": "src/librustdoc/html/static/js/settings.js", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js", "raw_url": "https://github.com/rust-lang/rust/raw/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js?ref=a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "patch": "@@ -1,7 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n // Local js definitions:\n /* global getSettingValue, getVirtualKey, updateLocalStorage, updateSystemTheme */\n /* global addClass, removeClass, onEach, onEachLazy, NOT_DISPLAYED_ID */"}, {"sha": "92ecd200081b990900bd76980be24e402edf98ce", "filename": "src/librustdoc/html/static/js/source-script.js", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsource-script.js", "raw_url": "https://github.com/rust-lang/rust/raw/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsource-script.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsource-script.js?ref=a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "patch": "@@ -1,8 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n-\n // From rust:\n /* global search, sourcesIndex */\n "}, {"sha": "69940bb89df2110b7a0431b0604975611abcee62", "filename": "src/librustdoc/html/static/js/storage.js", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js", "raw_url": "https://github.com/rust-lang/rust/raw/a8ede1248d837bc2ecdc99b00e45ec378c3fd156/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js?ref=a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "patch": "@@ -1,8 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n-\n \"use strict\";\n \n const darkThemes = [\"dark\", \"ayu\"];"}]}