{"sha": "708ae618414ca3452ebbb01d94d29105b442b1d8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwOGFlNjE4NDE0Y2EzNDUyZWJiYjAxZDk0ZDI5MTA1YjQ0MmIxZDg=", "commit": {"author": {"name": "Caleb Zulawski", "email": "caleb.zulawski@gmail.com", "date": "2021-06-21T21:08:26Z"}, "committer": {"name": "Caleb Zulawski", "email": "caleb.zulawski@gmail.com", "date": "2021-06-21T21:08:26Z"}, "message": "Remove scalar Sum/Product over questionable order of operations", "tree": {"sha": "0eadf762341904557e8e299a36b5415f72903d3f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0eadf762341904557e8e299a36b5415f72903d3f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/708ae618414ca3452ebbb01d94d29105b442b1d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/708ae618414ca3452ebbb01d94d29105b442b1d8", "html_url": "https://github.com/rust-lang/rust/commit/708ae618414ca3452ebbb01d94d29105b442b1d8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/708ae618414ca3452ebbb01d94d29105b442b1d8/comments", "author": {"login": "calebzulawski", "id": 563826, "node_id": "MDQ6VXNlcjU2MzgyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/563826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebzulawski", "html_url": "https://github.com/calebzulawski", "followers_url": "https://api.github.com/users/calebzulawski/followers", "following_url": "https://api.github.com/users/calebzulawski/following{/other_user}", "gists_url": "https://api.github.com/users/calebzulawski/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebzulawski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebzulawski/subscriptions", "organizations_url": "https://api.github.com/users/calebzulawski/orgs", "repos_url": "https://api.github.com/users/calebzulawski/repos", "events_url": "https://api.github.com/users/calebzulawski/events{/privacy}", "received_events_url": "https://api.github.com/users/calebzulawski/received_events", "type": "User", "site_admin": false}, "committer": {"login": "calebzulawski", "id": 563826, "node_id": "MDQ6VXNlcjU2MzgyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/563826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebzulawski", "html_url": "https://github.com/calebzulawski", "followers_url": "https://api.github.com/users/calebzulawski/followers", "following_url": "https://api.github.com/users/calebzulawski/following{/other_user}", "gists_url": "https://api.github.com/users/calebzulawski/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebzulawski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebzulawski/subscriptions", "organizations_url": "https://api.github.com/users/calebzulawski/orgs", "repos_url": "https://api.github.com/users/calebzulawski/repos", "events_url": "https://api.github.com/users/calebzulawski/events{/privacy}", "received_events_url": "https://api.github.com/users/calebzulawski/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7b66032ed511229410b0879d384b06cfcacf0538", "url": "https://api.github.com/repos/rust-lang/rust/commits/7b66032ed511229410b0879d384b06cfcacf0538", "html_url": "https://github.com/rust-lang/rust/commit/7b66032ed511229410b0879d384b06cfcacf0538"}], "stats": {"total": 62, "additions": 13, "deletions": 49}, "files": [{"sha": "c1c4c645db6b16204e49332e706d99fbcac584a8", "filename": "crates/core_simd/src/iter.rs", "status": "modified", "additions": 13, "deletions": 49, "changes": 62, "blob_url": "https://github.com/rust-lang/rust/blob/708ae618414ca3452ebbb01d94d29105b442b1d8/crates%2Fcore_simd%2Fsrc%2Fiter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/708ae618414ca3452ebbb01d94d29105b442b1d8/crates%2Fcore_simd%2Fsrc%2Fiter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcore_simd%2Fsrc%2Fiter.rs?ref=708ae618414ca3452ebbb01d94d29105b442b1d8", "patch": "@@ -1,5 +1,5 @@\n macro_rules! impl_traits {\n-    { $type:ident, $scalar:ty } => {\n+    { $type:ident } => {\n         impl<const LANES: usize> core::iter::Sum<Self> for crate::$type<LANES>\n         where\n             Self: crate::LanesAtMost32,\n@@ -18,24 +18,6 @@ macro_rules! impl_traits {\n             }\n         }\n \n-        impl<const LANES: usize> core::iter::Sum<crate::$type<LANES>> for $scalar\n-        where\n-            crate::$type<LANES>: crate::LanesAtMost32,\n-        {\n-            fn sum<I: core::iter::Iterator<Item = crate::$type<LANES>>>(iter: I) -> Self {\n-                iter.sum::<crate::$type<LANES>>().horizontal_sum()\n-            }\n-        }\n-\n-        impl<const LANES: usize> core::iter::Product<crate::$type<LANES>> for $scalar\n-        where\n-            crate::$type<LANES>: crate::LanesAtMost32,\n-        {\n-            fn product<I: core::iter::Iterator<Item = crate::$type<LANES>>>(iter: I) -> Self {\n-                iter.product::<crate::$type<LANES>>().horizontal_product()\n-            }\n-        }\n-\n         impl<'a, const LANES: usize> core::iter::Sum<&'a Self> for crate::$type<LANES>\n         where\n             Self: crate::LanesAtMost32,\n@@ -53,36 +35,18 @@ macro_rules! impl_traits {\n                 iter.fold(Default::default(), core::ops::Mul::mul)\n             }\n         }\n-\n-        impl<'a, const LANES: usize> core::iter::Sum<&'a crate::$type<LANES>> for $scalar\n-        where\n-            crate::$type<LANES>: crate::LanesAtMost32,\n-        {\n-            fn sum<I: core::iter::Iterator<Item = &'a crate::$type<LANES>>>(iter: I) -> Self {\n-                iter.sum::<crate::$type<LANES>>().horizontal_sum()\n-            }\n-        }\n-\n-        impl<'a, const LANES: usize> core::iter::Product<&'a crate::$type<LANES>> for $scalar\n-        where\n-            crate::$type<LANES>: crate::LanesAtMost32,\n-        {\n-            fn product<I: core::iter::Iterator<Item = &'a crate::$type<LANES>>>(iter: I) -> Self {\n-                iter.product::<crate::$type<LANES>>().horizontal_product()\n-            }\n-        }\n     }\n }\n \n-impl_traits! { SimdF32, f32 }\n-impl_traits! { SimdF64, f64 }\n-impl_traits! { SimdU8, u8 }\n-impl_traits! { SimdU16, u16 }\n-impl_traits! { SimdU32, u32 }\n-impl_traits! { SimdU64, u64 }\n-impl_traits! { SimdUsize, usize }\n-impl_traits! { SimdI8, i8 }\n-impl_traits! { SimdI16, i16 }\n-impl_traits! { SimdI32, i32 }\n-impl_traits! { SimdI64, i64 }\n-impl_traits! { SimdIsize, isize }\n+impl_traits! { SimdF32 }\n+impl_traits! { SimdF64 }\n+impl_traits! { SimdU8 }\n+impl_traits! { SimdU16 }\n+impl_traits! { SimdU32 }\n+impl_traits! { SimdU64 }\n+impl_traits! { SimdUsize }\n+impl_traits! { SimdI8 }\n+impl_traits! { SimdI16 }\n+impl_traits! { SimdI32 }\n+impl_traits! { SimdI64 }\n+impl_traits! { SimdIsize }"}]}