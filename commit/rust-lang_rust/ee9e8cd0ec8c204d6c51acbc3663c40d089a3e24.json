{"sha": "ee9e8cd0ec8c204d6c51acbc3663c40d089a3e24", "node_id": "C_kwDOAAsO6NoAKGVlOWU4Y2QwZWM4YzIwNGQ2YzUxYWNiYzM2NjNjNDBkMDg5YTNlMjQ", "commit": {"author": {"name": "Roy Wellington \u2163", "email": "cactus_hugged@yahoo.com", "date": "2023-01-21T22:33:03Z"}, "committer": {"name": "Roy Wellington \u2163", "email": "cactus_hugged@yahoo.com", "date": "2023-01-21T22:33:49Z"}, "message": "This function appears to be unused\n\nThe comment says that it is called from main.js, but there don't seem to\nbe any references to it in main.js.\n\nA quick ripgrep says there are no references in all of librustdoc.", "tree": {"sha": "64b28f2ff163f36036e18d5a35354e64912c226c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/64b28f2ff163f36036e18d5a35354e64912c226c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ee9e8cd0ec8c204d6c51acbc3663c40d089a3e24", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ee9e8cd0ec8c204d6c51acbc3663c40d089a3e24", "html_url": "https://github.com/rust-lang/rust/commit/ee9e8cd0ec8c204d6c51acbc3663c40d089a3e24", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ee9e8cd0ec8c204d6c51acbc3663c40d089a3e24/comments", "author": {"login": "thanatos", "id": 90853, "node_id": "MDQ6VXNlcjkwODUz", "avatar_url": "https://avatars.githubusercontent.com/u/90853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thanatos", "html_url": "https://github.com/thanatos", "followers_url": "https://api.github.com/users/thanatos/followers", "following_url": "https://api.github.com/users/thanatos/following{/other_user}", "gists_url": "https://api.github.com/users/thanatos/gists{/gist_id}", "starred_url": "https://api.github.com/users/thanatos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thanatos/subscriptions", "organizations_url": "https://api.github.com/users/thanatos/orgs", "repos_url": "https://api.github.com/users/thanatos/repos", "events_url": "https://api.github.com/users/thanatos/events{/privacy}", "received_events_url": "https://api.github.com/users/thanatos/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thanatos", "id": 90853, "node_id": "MDQ6VXNlcjkwODUz", "avatar_url": "https://avatars.githubusercontent.com/u/90853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thanatos", "html_url": "https://github.com/thanatos", "followers_url": "https://api.github.com/users/thanatos/followers", "following_url": "https://api.github.com/users/thanatos/following{/other_user}", "gists_url": "https://api.github.com/users/thanatos/gists{/gist_id}", "starred_url": "https://api.github.com/users/thanatos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thanatos/subscriptions", "organizations_url": "https://api.github.com/users/thanatos/orgs", "repos_url": "https://api.github.com/users/thanatos/repos", "events_url": "https://api.github.com/users/thanatos/events{/privacy}", "received_events_url": "https://api.github.com/users/thanatos/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "005fc0f00f2d4ceaf523b67a8f9c5665b8ac5baf", "url": "https://api.github.com/repos/rust-lang/rust/commits/005fc0f00f2d4ceaf523b67a8f9c5665b8ac5baf", "html_url": "https://github.com/rust-lang/rust/commit/005fc0f00f2d4ceaf523b67a8f9c5665b8ac5baf"}], "stats": {"total": 16, "additions": 0, "deletions": 16}, "files": [{"sha": "61856303483e73159acc8527089f53d39937c889", "filename": "src/librustdoc/html/static/js/storage.js", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/ee9e8cd0ec8c204d6c51acbc3663c40d089a3e24/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js", "raw_url": "https://github.com/rust-lang/rust/raw/ee9e8cd0ec8c204d6c51acbc3663c40d089a3e24/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js?ref=ee9e8cd0ec8c204d6c51acbc3663c40d089a3e24", "patch": "@@ -153,22 +153,6 @@ function switchTheme(styleElem, mainStyleElem, newThemeName, saveTheme) {\n     }\n }\n \n-// This function is called from \"main.js\".\n-// eslint-disable-next-line no-unused-vars\n-function useSystemTheme(value) {\n-    if (value === undefined) {\n-        value = true;\n-    }\n-\n-    updateLocalStorage(\"use-system-theme\", value);\n-\n-    // update the toggle if we're on the settings page\n-    const toggle = document.getElementById(\"use-system-theme\");\n-    if (toggle && toggle instanceof HTMLInputElement) {\n-        toggle.checked = value;\n-    }\n-}\n-\n const updateSystemTheme = (function() {\n     if (!window.matchMedia) {\n         // fallback to the CSS computed value"}]}