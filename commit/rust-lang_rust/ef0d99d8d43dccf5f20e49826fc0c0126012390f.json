{"sha": "ef0d99d8d43dccf5f20e49826fc0c0126012390f", "node_id": "C_kwDOAAsO6NoAKGVmMGQ5OWQ4ZDQzZGNjZjVmMjBlNDk4MjZmYzBjMDEyNjAxMjM5MGY", "commit": {"author": {"name": "Devin Ragotzy", "email": "devin.ragotzy@gmail.com", "date": "2021-10-28T00:57:47Z"}, "committer": {"name": "Devin Ragotzy", "email": "devin.ragotzy@gmail.com", "date": "2022-03-12T20:15:22Z"}, "message": "Add struct to doc hidden usefulness ui tests", "tree": {"sha": "ce657fbf5a68f328e03b51f9198dc7472f5e2140", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ce657fbf5a68f328e03b51f9198dc7472f5e2140"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ef0d99d8d43dccf5f20e49826fc0c0126012390f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ef0d99d8d43dccf5f20e49826fc0c0126012390f", "html_url": "https://github.com/rust-lang/rust/commit/ef0d99d8d43dccf5f20e49826fc0c0126012390f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ef0d99d8d43dccf5f20e49826fc0c0126012390f/comments", "author": {"login": "DevinR528", "id": 29749111, "node_id": "MDQ6VXNlcjI5NzQ5MTEx", "avatar_url": "https://avatars.githubusercontent.com/u/29749111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DevinR528", "html_url": "https://github.com/DevinR528", "followers_url": "https://api.github.com/users/DevinR528/followers", "following_url": "https://api.github.com/users/DevinR528/following{/other_user}", "gists_url": "https://api.github.com/users/DevinR528/gists{/gist_id}", "starred_url": "https://api.github.com/users/DevinR528/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DevinR528/subscriptions", "organizations_url": "https://api.github.com/users/DevinR528/orgs", "repos_url": "https://api.github.com/users/DevinR528/repos", "events_url": "https://api.github.com/users/DevinR528/events{/privacy}", "received_events_url": "https://api.github.com/users/DevinR528/received_events", "type": "User", "site_admin": false}, "committer": {"login": "DevinR528", "id": 29749111, "node_id": "MDQ6VXNlcjI5NzQ5MTEx", "avatar_url": "https://avatars.githubusercontent.com/u/29749111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DevinR528", "html_url": "https://github.com/DevinR528", "followers_url": "https://api.github.com/users/DevinR528/followers", "following_url": "https://api.github.com/users/DevinR528/following{/other_user}", "gists_url": "https://api.github.com/users/DevinR528/gists{/gist_id}", "starred_url": "https://api.github.com/users/DevinR528/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DevinR528/subscriptions", "organizations_url": "https://api.github.com/users/DevinR528/orgs", "repos_url": "https://api.github.com/users/DevinR528/repos", "events_url": "https://api.github.com/users/DevinR528/events{/privacy}", "received_events_url": "https://api.github.com/users/DevinR528/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f481dba3d4745b87b4d19f14b7592687d9afb90e", "url": "https://api.github.com/repos/rust-lang/rust/commits/f481dba3d4745b87b4d19f14b7592687d9afb90e", "html_url": "https://github.com/rust-lang/rust/commit/f481dba3d4745b87b4d19f14b7592687d9afb90e"}], "stats": {"total": 46, "additions": 35, "deletions": 11}, "files": [{"sha": "364514ba1d3b057bc58d882b282d8fc885ea2142", "filename": "src/test/ui/pattern/usefulness/auxiliary/hidden.rs", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ef0d99d8d43dccf5f20e49826fc0c0126012390f/src%2Ftest%2Fui%2Fpattern%2Fusefulness%2Fauxiliary%2Fhidden.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef0d99d8d43dccf5f20e49826fc0c0126012390f/src%2Ftest%2Fui%2Fpattern%2Fusefulness%2Fauxiliary%2Fhidden.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpattern%2Fusefulness%2Fauxiliary%2Fhidden.rs?ref=ef0d99d8d43dccf5f20e49826fc0c0126012390f", "patch": "@@ -1,6 +1,14 @@\n-pub enum Foo {\n+pub enum HiddenEnum {\n     A,\n     B,\n     #[doc(hidden)]\n     C,\n }\n+\n+#[derive(Default)]\n+pub struct HiddenStruct {\n+    pub one: u8,\n+    pub two: bool,\n+    #[doc(hidden)]\n+    pub hide: usize,\n+}"}, {"sha": "e947c223eded2da07fcab55544f168cefb754716", "filename": "src/test/ui/pattern/usefulness/doc-hidden-fields.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/ef0d99d8d43dccf5f20e49826fc0c0126012390f/src%2Ftest%2Fui%2Fpattern%2Fusefulness%2Fdoc-hidden-fields.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef0d99d8d43dccf5f20e49826fc0c0126012390f/src%2Ftest%2Fui%2Fpattern%2Fusefulness%2Fdoc-hidden-fields.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpattern%2Fusefulness%2Fdoc-hidden-fields.rs?ref=ef0d99d8d43dccf5f20e49826fc0c0126012390f", "patch": "@@ -0,0 +1,16 @@\n+// aux-build:hidden.rs\n+\n+extern crate hidden;\n+\n+use hidden::HiddenStruct;\n+\n+fn main() {\n+    let HiddenStruct { one, two, } = HiddenStruct::default();\n+    //~^ pattern requires `..` due to inaccessible fields\n+\n+    let HiddenStruct { one, } = HiddenStruct::default();\n+    //~^ pattern does not mention field `two` and inaccessible fields\n+\n+    let HiddenStruct { one, hide } = HiddenStruct::default();\n+    //~^ pattern does not mention field `two`\n+}"}, {"sha": "23c57f2bc6ab0a568a0cdbc65eebe05be8cd3aae", "filename": "src/test/ui/pattern/usefulness/doc-hidden-non-exhaustive.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/ef0d99d8d43dccf5f20e49826fc0c0126012390f/src%2Ftest%2Fui%2Fpattern%2Fusefulness%2Fdoc-hidden-non-exhaustive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef0d99d8d43dccf5f20e49826fc0c0126012390f/src%2Ftest%2Fui%2Fpattern%2Fusefulness%2Fdoc-hidden-non-exhaustive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpattern%2Fusefulness%2Fdoc-hidden-non-exhaustive.rs?ref=ef0d99d8d43dccf5f20e49826fc0c0126012390f", "patch": "@@ -2,29 +2,29 @@\n \n extern crate hidden;\n \n-use hidden::Foo;\n+use hidden::HiddenEnum;\n \n fn main() {\n-    match Foo::A {\n-        Foo::A => {}\n-        Foo::B => {}\n+    match HiddenEnum::A {\n+        HiddenEnum::A => {}\n+        HiddenEnum::B => {}\n     }\n     //~^^^^ non-exhaustive patterns: `_` not covered\n \n-    match Foo::A {\n-        Foo::A => {}\n-        Foo::C => {}\n+    match HiddenEnum::A {\n+        HiddenEnum::A => {}\n+        HiddenEnum::C => {}\n     }\n     //~^^^^ non-exhaustive patterns: `B` not covered\n \n-    match Foo::A {\n-        Foo::A => {}\n+    match HiddenEnum::A {\n+        HiddenEnum::A => {}\n     }\n     //~^^^ non-exhaustive patterns: `B` and `_` not covered\n \n     match None {\n         None => {}\n-        Some(Foo::A) => {}\n+        Some(HiddenEnum::A) => {}\n     }\n     //~^^^^ non-exhaustive patterns: `Some(B)` and `Some(_)` not covered\n }"}]}