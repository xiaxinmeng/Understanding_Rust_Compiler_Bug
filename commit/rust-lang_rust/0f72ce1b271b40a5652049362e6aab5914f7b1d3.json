{"sha": "0f72ce1b271b40a5652049362e6aab5914f7b1d3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBmNzJjZTFiMjcxYjQwYTU2NTIwNDkzNjJlNmFhYjU5MTRmN2IxZDM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-04-02T09:10:06Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-04-02T09:10:06Z"}, "message": "Auto merge of #70628 - pietroalbini:gha-multiple-tries, r=Mark-Simulacrum\n\nGHA: enable running multiple try builds at the same time\n\nWhile for auto, try and PR builds we only want the latest commit to be tested, that's not true for try builds: each commit pushed to the branch is a different PR being tested, and we want multiple PRs to be tested in parallel if there is enough demand.\n\nFixes #70569", "tree": {"sha": "5930b8663186f6cc53210e174f0b3ae25aa816c7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5930b8663186f6cc53210e174f0b3ae25aa816c7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0f72ce1b271b40a5652049362e6aab5914f7b1d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0f72ce1b271b40a5652049362e6aab5914f7b1d3", "html_url": "https://github.com/rust-lang/rust/commit/0f72ce1b271b40a5652049362e6aab5914f7b1d3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0f72ce1b271b40a5652049362e6aab5914f7b1d3/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "127a11a344eb59b5aea1464e98257c262dcba967", "url": "https://api.github.com/repos/rust-lang/rust/commits/127a11a344eb59b5aea1464e98257c262dcba967", "html_url": "https://github.com/rust-lang/rust/commit/127a11a344eb59b5aea1464e98257c262dcba967"}, {"sha": "824dcd424f4a42f6be61b782cd04e18b09177361", "url": "https://api.github.com/repos/rust-lang/rust/commits/824dcd424f4a42f6be61b782cd04e18b09177361", "html_url": "https://github.com/rust-lang/rust/commit/824dcd424f4a42f6be61b782cd04e18b09177361"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "fd3da15a21bbb543ce04e3db5c686f16299d806b", "filename": ".github/workflows/ci.yml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0f72ce1b271b40a5652049362e6aab5914f7b1d3/.github%2Fworkflows%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/0f72ce1b271b40a5652049362e6aab5914f7b1d3/.github%2Fworkflows%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fci.yml?ref=0f72ce1b271b40a5652049362e6aab5914f7b1d3", "patch": "@@ -63,7 +63,7 @@ jobs:\n         uses: rust-lang/simpleinfra/github-actions/cancel-outdated-builds@master\n         with:\n           github_token: \"${{ secrets.github_token }}\"\n-        if: success() && !env.SKIP_JOB\n+        if: \"success() && !env.SKIP_JOB && github.ref != 'refs/heads/try'\"\n       - name: add extra environment variables\n         run: src/ci/scripts/setup-environment.sh\n         env:\n@@ -196,7 +196,7 @@ jobs:\n         uses: rust-lang/simpleinfra/github-actions/cancel-outdated-builds@master\n         with:\n           github_token: \"${{ secrets.github_token }}\"\n-        if: success() && !env.SKIP_JOB\n+        if: \"success() && !env.SKIP_JOB && github.ref != 'refs/heads/try'\"\n       - name: add extra environment variables\n         run: src/ci/scripts/setup-environment.sh\n         env:\n@@ -626,7 +626,7 @@ jobs:\n         uses: rust-lang/simpleinfra/github-actions/cancel-outdated-builds@master\n         with:\n           github_token: \"${{ secrets.github_token }}\"\n-        if: success() && !env.SKIP_JOB\n+        if: \"success() && !env.SKIP_JOB && github.ref != 'refs/heads/try'\"\n       - name: add extra environment variables\n         run: src/ci/scripts/setup-environment.sh\n         env:"}, {"sha": "813c35cb9d50229a1ae80bb8d421d40a1660c3b7", "filename": "src/ci/github-actions/ci.yml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0f72ce1b271b40a5652049362e6aab5914f7b1d3/src%2Fci%2Fgithub-actions%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/0f72ce1b271b40a5652049362e6aab5914f7b1d3/src%2Fci%2Fgithub-actions%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fgithub-actions%2Fci.yml?ref=0f72ce1b271b40a5652049362e6aab5914f7b1d3", "patch": "@@ -103,6 +103,7 @@ x--expand-yaml-anchors--remove:\n         uses: rust-lang/simpleinfra/github-actions/cancel-outdated-builds@master\n         with:\n           github_token: \"${{ secrets.github_token }}\"\n+        if: success() && !env.SKIP_JOB && github.ref != 'refs/heads/try'\n         <<: *step\n \n       - name: add extra environment variables"}]}