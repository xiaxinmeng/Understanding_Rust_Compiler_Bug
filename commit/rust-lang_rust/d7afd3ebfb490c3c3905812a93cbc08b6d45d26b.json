{"sha": "d7afd3ebfb490c3c3905812a93cbc08b6d45d26b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ3YWZkM2ViZmI0OTBjM2MzOTA1ODEyYTkzY2JjMDhiNmQ0NWQyNmI=", "commit": {"author": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2019-02-10T17:24:18Z"}, "committer": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2019-02-10T17:24:18Z"}, "message": "Add test for MIR printing changes", "tree": {"sha": "f710f1e9839981b19a636883abe70f96b816f85e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f710f1e9839981b19a636883abe70f96b816f85e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d7afd3ebfb490c3c3905812a93cbc08b6d45d26b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d7afd3ebfb490c3c3905812a93cbc08b6d45d26b", "html_url": "https://github.com/rust-lang/rust/commit/d7afd3ebfb490c3c3905812a93cbc08b6d45d26b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d7afd3ebfb490c3c3905812a93cbc08b6d45d26b/comments", "author": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "18089df7e8c5c3178049ce5ac3d0680d90aa97a4", "url": "https://api.github.com/repos/rust-lang/rust/commits/18089df7e8c5c3178049ce5ac3d0680d90aa97a4", "html_url": "https://github.com/rust-lang/rust/commit/18089df7e8c5c3178049ce5ac3d0680d90aa97a4"}], "stats": {"total": 66, "additions": 66, "deletions": 0}, "files": [{"sha": "fe85baa048e3903046c895c8012d444895b210ec", "filename": "src/test/mir-opt/unusual-item-types.rs", "status": "added", "additions": 66, "deletions": 0, "changes": 66, "blob_url": "https://github.com/rust-lang/rust/blob/d7afd3ebfb490c3c3905812a93cbc08b6d45d26b/src%2Ftest%2Fmir-opt%2Funusual-item-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7afd3ebfb490c3c3905812a93cbc08b6d45d26b/src%2Ftest%2Fmir-opt%2Funusual-item-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Funusual-item-types.rs?ref=d7afd3ebfb490c3c3905812a93cbc08b6d45d26b", "patch": "@@ -0,0 +1,66 @@\n+// Test that we don't ICE when trying to dump MIR for unusual item types and\n+// that we don't create filenames containing `<` and `>`\n+\n+struct A;\n+\n+impl A {\n+    const ASSOCIATED_CONSTANT: i32 = 2;\n+}\n+\n+enum E {\n+    V = 5,\n+}\n+\n+fn main() {\n+    let v = Vec::<i32>::new();\n+}\n+\n+// END RUST SOURCE\n+\n+// START rustc.{{impl}}-ASSOCIATED_CONSTANT.mir_map.0.mir\n+// bb0: {\n+//     _0 = const 2i32;\n+//     return;\n+// }\n+// bb1: {\n+//     resume;\n+// }\n+// END rustc.{{impl}}-ASSOCIATED_CONSTANT.mir_map.0.mir\n+\n+// START rustc.E-V-{{constant}}.mir_map.0.mir\n+// bb0: {\n+//     _0 = const 5isize;\n+//     return;\n+// }\n+// bb1: {\n+//     resume;\n+// }\n+// END rustc.E-V-{{constant}}.mir_map.0.mir\n+\n+// START rustc.ptr-real_drop_in_place.std__vec__Vec_i32_.AddMovesForPackedDrops.before.mir\n+//     bb0: {\n+//     goto -> bb7;\n+// }\n+// bb1: {\n+//     return;\n+// }\n+// bb2: {\n+//     resume;\n+// }\n+// bb3: {\n+//     goto -> bb1;\n+// }\n+// bb4: {\n+//     goto -> bb2;\n+// }\n+// bb5: {\n+//     drop(((*_1).0: alloc::raw_vec::RawVec<i32>)) -> bb4;\n+// }\n+// bb6: {\n+//     drop(((*_1).0: alloc::raw_vec::RawVec<i32>)) -> [return: bb3, unwind: bb4];\n+// }\n+// bb7: {\n+//     _2 = &mut (*_1);\n+//     _3 = const std::ops::Drop::drop(move _2) -> [return: bb6, unwind: bb5];\n+// }\n+// END rustc.ptr-real_drop_in_place.std__vec__Vec_i32_.AddMovesForPackedDrops.before.mir"}]}