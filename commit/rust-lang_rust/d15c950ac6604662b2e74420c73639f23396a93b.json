{"sha": "d15c950ac6604662b2e74420c73639f23396a93b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQxNWM5NTBhYzY2MDQ2NjJiMmU3NDQyMGM3MzYzOWYyMzM5NmE5M2I=", "commit": {"author": {"name": "Marco A L Barbosa", "email": "malbarbo@gmail.com", "date": "2017-05-18T11:33:10Z"}, "committer": {"name": "Marco A L Barbosa", "email": "malbarbo@gmail.com", "date": "2017-05-18T11:33:10Z"}, "message": "ci: move shared scripts to src/ci/docker/scripts/", "tree": {"sha": "8f3912abbdfeff9666dec756fd98d293289c372d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8f3912abbdfeff9666dec756fd98d293289c372d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d15c950ac6604662b2e74420c73639f23396a93b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d15c950ac6604662b2e74420c73639f23396a93b", "html_url": "https://github.com/rust-lang/rust/commit/d15c950ac6604662b2e74420c73639f23396a93b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d15c950ac6604662b2e74420c73639f23396a93b/comments", "author": {"login": "malbarbo", "id": 1678126, "node_id": "MDQ6VXNlcjE2NzgxMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1678126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malbarbo", "html_url": "https://github.com/malbarbo", "followers_url": "https://api.github.com/users/malbarbo/followers", "following_url": "https://api.github.com/users/malbarbo/following{/other_user}", "gists_url": "https://api.github.com/users/malbarbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/malbarbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malbarbo/subscriptions", "organizations_url": "https://api.github.com/users/malbarbo/orgs", "repos_url": "https://api.github.com/users/malbarbo/repos", "events_url": "https://api.github.com/users/malbarbo/events{/privacy}", "received_events_url": "https://api.github.com/users/malbarbo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "malbarbo", "id": 1678126, "node_id": "MDQ6VXNlcjE2NzgxMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1678126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malbarbo", "html_url": "https://github.com/malbarbo", "followers_url": "https://api.github.com/users/malbarbo/followers", "following_url": "https://api.github.com/users/malbarbo/following{/other_user}", "gists_url": "https://api.github.com/users/malbarbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/malbarbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malbarbo/subscriptions", "organizations_url": "https://api.github.com/users/malbarbo/orgs", "repos_url": "https://api.github.com/users/malbarbo/repos", "events_url": "https://api.github.com/users/malbarbo/events{/privacy}", "received_events_url": "https://api.github.com/users/malbarbo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "307d8e5aa5f0c66881b1028fe1dc7f17e5ea317a", "url": "https://api.github.com/repos/rust-lang/rust/commits/307d8e5aa5f0c66881b1028fe1dc7f17e5ea317a", "html_url": "https://github.com/rust-lang/rust/commit/307d8e5aa5f0c66881b1028fe1dc7f17e5ea317a"}], "stats": {"total": 40, "additions": 20, "deletions": 20}, "files": [{"sha": "2a928c5ec7e894b4a1f331e879be3db19e15441d", "filename": "src/ci/docker/arm-android/Dockerfile", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Farm-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Farm-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Farm-android%2FDockerfile?ref=d15c950ac6604662b2e74420c73639f23396a93b", "patch": "@@ -17,11 +17,11 @@ RUN apt-get update && \\\n   xz-utils\n \n # dumb-init\n-COPY dumb-init.sh /scripts/\n+COPY scripts/dumb-init.sh /scripts/\n RUN sh /scripts/dumb-init.sh\n \n # ndk\n-COPY android-ndk.sh /scripts/\n+COPY scripts/android-ndk.sh /scripts/\n RUN . /scripts/android-ndk.sh && \\\n     download_and_make_toolchain android-ndk-r13b-linux-x86_64.zip arm 9\n \n@@ -35,7 +35,7 @@ RUN dpkg --add-architecture i386 && \\\n   openjdk-9-jre-headless \\\n   tzdata\n \n-COPY android-sdk.sh /scripts/\n+COPY scripts/android-sdk.sh /scripts/\n RUN . /scripts/android-sdk.sh && \\\n     download_and_create_avd tools_r25.2.5-linux.zip armeabi-v7a 18\n \n@@ -52,9 +52,9 @@ ENV RUST_CONFIGURE_ARGS \\\n ENV SCRIPT python2.7 ../x.py test --target $TARGETS\n \n # sccache\n-COPY sccache.sh /scripts/\n+COPY scripts/sccache.sh /scripts/\n RUN sh /scripts/sccache.sh\n \n # init\n-COPY android-start-emulator.sh /scripts/\n+COPY scripts/android-start-emulator.sh /scripts/\n ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\", \"/scripts/android-start-emulator.sh\"]"}, {"sha": "918d2911ae28f5a5ba301294068740568e8a29e4", "filename": "src/ci/docker/disabled/dist-aarch64-android/Dockerfile", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fdisabled%2Fdist-aarch64-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fdisabled%2Fdist-aarch64-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdisabled%2Fdist-aarch64-android%2FDockerfile?ref=d15c950ac6604662b2e74420c73639f23396a93b", "patch": "@@ -17,11 +17,11 @@ RUN apt-get update && \\\n   xz-utils\n \n # dumb-init\n-COPY dumb-init.sh /scripts/\n+COPY scripts/dumb-init.sh /scripts/\n RUN sh /scripts/dumb-init.sh\n \n # ndk\n-COPY android-ndk.sh /scripts/\n+COPY scripts/android-ndk.sh /scripts/\n RUN . /scripts/android-ndk.sh && \\\n     download_and_make_toolchain android-ndk-r13b-linux-x86_64.zip arm64 21\n \n@@ -43,7 +43,7 @@ ENV RUST_CONFIGURE_ARGS \\\n ENV SCRIPT python2.7 ../x.py dist --target $HOSTS --host $HOSTS\n \n # sccache\n-COPY sccache.sh /scripts/\n+COPY scripts/sccache.sh /scripts/\n RUN sh /scripts/sccache.sh\n \n # init"}, {"sha": "aed82e6c13872d6a276aeddd974cb6e81654b769", "filename": "src/ci/docker/disabled/dist-armv7-android/Dockerfile", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fdisabled%2Fdist-armv7-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fdisabled%2Fdist-armv7-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdisabled%2Fdist-armv7-android%2FDockerfile?ref=d15c950ac6604662b2e74420c73639f23396a93b", "patch": "@@ -17,11 +17,11 @@ RUN apt-get update && \\\n   xz-utils\n \n # dumb-init\n-COPY dumb-init.sh /scripts/\n+COPY scripts/dumb-init.sh /scripts/\n RUN sh /scripts/dumb-init.sh\n \n # ndk\n-COPY android-ndk.sh /scripts/\n+COPY scripts/android-ndk.sh /scripts/\n RUN . /scripts/android-ndk.sh && \\\n     download_ndk android-ndk-r13b-linux-x86_64.zip && \\\n     make_standalone_toolchain arm 9 && \\\n@@ -61,7 +61,7 @@ ENV SCRIPT \\\n     python2.7 ../x.py dist --host $HOSTS --target $HOSTS)\n \n # sccache\n-COPY sccache.sh /scripts/\n+COPY scripts/sccache.sh /scripts/\n RUN sh /scripts/sccache.sh\n \n # init"}, {"sha": "f012e869e7885fb4963e33f09bd616b9f64c7383", "filename": "src/ci/docker/disabled/dist-i686-android/Dockerfile", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fdisabled%2Fdist-i686-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fdisabled%2Fdist-i686-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdisabled%2Fdist-i686-android%2FDockerfile?ref=d15c950ac6604662b2e74420c73639f23396a93b", "patch": "@@ -17,11 +17,11 @@ RUN apt-get update && \\\n   xz-utils\n \n # dumb-init\n-COPY dumb-init.sh /scripts/\n+COPY scripts/dumb-init.sh /scripts/\n RUN sh /scripts/dumb-init.sh\n \n # ndk\n-COPY android-ndk.sh /scripts/\n+COPY scripts/android-ndk.sh /scripts/\n RUN . /scripts/android-ndk.sh && \\\n     download_ndk android-ndk-r13b-linux-x86_64.zip && \\\n     make_standalone_toolchain x86 9 && \\\n@@ -61,7 +61,7 @@ ENV SCRIPT \\\n     python2.7 ../x.py dist --host $HOSTS --target $HOSTS)\n \n # sccache\n-COPY sccache.sh /scripts/\n+COPY scripts/sccache.sh /scripts/\n RUN sh /scripts/sccache.sh\n \n # init"}, {"sha": "0c586452840f97afa0e098c8d3c85516bc9d5953", "filename": "src/ci/docker/disabled/dist-x86_64-android/Dockerfile", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fdisabled%2Fdist-x86_64-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fdisabled%2Fdist-x86_64-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdisabled%2Fdist-x86_64-android%2FDockerfile?ref=d15c950ac6604662b2e74420c73639f23396a93b", "patch": "@@ -17,11 +17,11 @@ RUN apt-get update && \\\n   xz-utils\n \n # dumb-init\n-COPY dumb-init.sh /scripts/\n+COPY scripts/dumb-init.sh /scripts/\n RUN sh /scripts/dumb-init.sh\n \n # ndk\n-COPY android-ndk.sh /scripts/\n+COPY scripts/android-ndk.sh /scripts/\n RUN . /scripts/android-ndk.sh && \\\n     download_and_make_toolchain android-ndk-r13b-linux-x86_64.zip x86_64 21\n \n@@ -43,7 +43,7 @@ ENV RUST_CONFIGURE_ARGS \\\n ENV SCRIPT python2.7 ../x.py dist --target $HOSTS --host $HOSTS\n \n # sccache\n-COPY sccache.sh /scripts/\n+COPY scripts/sccache.sh /scripts/\n RUN sh /scripts/sccache.sh\n \n # init"}, {"sha": "31389dd148a8ae0cd23dc3f95f775226d4a5038f", "filename": "src/ci/docker/dist-android/Dockerfile", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fdist-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fdist-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-android%2FDockerfile?ref=d15c950ac6604662b2e74420c73639f23396a93b", "patch": "@@ -17,11 +17,11 @@ RUN apt-get update && \\\n   xz-utils\n \n # dumb-init\n-COPY dumb-init.sh /scripts/\n+COPY scripts/dumb-init.sh /scripts/\n RUN sh /scripts/dumb-init.sh\n \n # ndk\n-COPY android-ndk.sh /scripts/\n+COPY scripts/android-ndk.sh /scripts/\n RUN . /scripts/android-ndk.sh && \\\n     download_ndk android-ndk-r13b-linux-x86_64.zip && \\\n     make_standalone_toolchain arm 9 && \\\n@@ -49,7 +49,7 @@ ENV RUST_CONFIGURE_ARGS \\\n ENV SCRIPT python2.7 ../x.py dist --target $TARGETS\n \n # cache\n-COPY sccache.sh /scripts/\n+COPY scripts/sccache.sh /scripts/\n RUN sh /scripts/sccache.sh\n \n # init"}, {"sha": "c3d83c087e52fee5a5ccec4206a6e936656d99f1", "filename": "src/ci/docker/scripts/android-ndk.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fscripts%2Fandroid-ndk.sh", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fscripts%2Fandroid-ndk.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fandroid-ndk.sh?ref=d15c950ac6604662b2e74420c73639f23396a93b", "previous_filename": "src/ci/docker/android-ndk.sh"}, {"sha": "7d8110efedec936d2ac49c8813c0b445193f21d7", "filename": "src/ci/docker/scripts/android-sdk.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fscripts%2Fandroid-sdk.sh", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fscripts%2Fandroid-sdk.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fandroid-sdk.sh?ref=d15c950ac6604662b2e74420c73639f23396a93b", "previous_filename": "src/ci/docker/android-sdk.sh"}, {"sha": "cd3369d5eaddc7da93f844b4fa3fd7ceceee021f", "filename": "src/ci/docker/scripts/android-start-emulator.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fscripts%2Fandroid-start-emulator.sh", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fscripts%2Fandroid-start-emulator.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fandroid-start-emulator.sh?ref=d15c950ac6604662b2e74420c73639f23396a93b", "previous_filename": "src/ci/docker/android-start-emulator.sh"}, {"sha": "839c390799278c98ef227d6c63b2f440e2cb421e", "filename": "src/ci/docker/scripts/dumb-init.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fscripts%2Fdumb-init.sh", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fscripts%2Fdumb-init.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fdumb-init.sh?ref=d15c950ac6604662b2e74420c73639f23396a93b", "previous_filename": "src/ci/docker/dumb-init.sh"}, {"sha": "7a2befaf6715ff692a9c7d49409a6294c030d49a", "filename": "src/ci/docker/scripts/sccache.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fscripts%2Fsccache.sh", "raw_url": "https://github.com/rust-lang/rust/raw/d15c950ac6604662b2e74420c73639f23396a93b/src%2Fci%2Fdocker%2Fscripts%2Fsccache.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fsccache.sh?ref=d15c950ac6604662b2e74420c73639f23396a93b", "previous_filename": "src/ci/docker/sccache.sh"}]}