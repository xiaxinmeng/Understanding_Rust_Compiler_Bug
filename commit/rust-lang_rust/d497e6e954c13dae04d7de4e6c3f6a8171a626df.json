{"sha": "d497e6e954c13dae04d7de4e6c3f6a8171a626df", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ0OTdlNmU5NTRjMTNkYWUwNGQ3ZGU0ZTZjM2Y2YTgxNzFhNjI2ZGY=", "commit": {"author": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-10-25T00:41:23Z"}, "committer": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-10-25T00:41:23Z"}, "message": "stop trying to outsmart LLVM inline heuristics\n\nCloses #10045", "tree": {"sha": "4d4e3aab347975db7c00e1c81995870847517ffb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4d4e3aab347975db7c00e1c81995870847517ffb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d497e6e954c13dae04d7de4e6c3f6a8171a626df", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d497e6e954c13dae04d7de4e6c3f6a8171a626df", "html_url": "https://github.com/rust-lang/rust/commit/d497e6e954c13dae04d7de4e6c3f6a8171a626df", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d497e6e954c13dae04d7de4e6c3f6a8171a626df/comments", "author": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3f5b2219cc893b30863f9136703166f306fcc684", "url": "https://api.github.com/repos/rust-lang/rust/commits/3f5b2219cc893b30863f9136703166f306fcc684", "html_url": "https://github.com/rust-lang/rust/commit/3f5b2219cc893b30863f9136703166f306fcc684"}], "stats": {"total": 7, "additions": 0, "deletions": 7}, "files": [{"sha": "f00fa3e70e1bf808cac444406550475b92865548", "filename": "src/librustc/middle/trans/base.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d497e6e954c13dae04d7de4e6c3f6a8171a626df/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d497e6e954c13dae04d7de4e6c3f6a8171a626df/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=d497e6e954c13dae04d7de4e6c3f6a8171a626df", "patch": "@@ -534,12 +534,6 @@ pub fn set_no_split_stack(f: ValueRef) {\n     }\n }\n \n-pub fn set_glue_inlining(f: ValueRef, t: ty::t) {\n-    if ty::type_is_structural(t) {\n-        set_optimize_for_size(f);\n-    } else { set_always_inline(f); }\n-}\n-\n // Double-check that we never ask LLVM to declare the same symbol twice. It\n // silently mangles such symbols, breaking our linkage model.\n pub fn note_unique_llvm_symbol(ccx: &mut CrateContext, sym: @str) {"}, {"sha": "2b0f13d2a7cd839c95849eb8d5ce7c299cf74499", "filename": "src/librustc/middle/trans/glue.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d497e6e954c13dae04d7de4e6c3f6a8171a626df/src%2Flibrustc%2Fmiddle%2Ftrans%2Fglue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d497e6e954c13dae04d7de4e6c3f6a8171a626df/src%2Flibrustc%2Fmiddle%2Ftrans%2Fglue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fglue.rs?ref=d497e6e954c13dae04d7de4e6c3f6a8171a626df", "patch": "@@ -674,7 +674,6 @@ pub fn declare_generic_glue(ccx: &mut CrateContext, t: ty::t, llfnty: Type,\n     debug!(\"{} is for type {}\", fn_nm, ppaux::ty_to_str(ccx.tcx, t));\n     note_unique_llvm_symbol(ccx, fn_nm);\n     let llfn = decl_cdecl_fn(ccx.llmod, fn_nm, llfnty);\n-    set_glue_inlining(llfn, t);\n     return llfn;\n }\n "}]}