{"sha": "9587c672301663d46f8d97d34bb82cd0506f8454", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk1ODdjNjcyMzAxNjYzZDQ2ZjhkOTdkMzRiYjgyY2QwNTA2Zjg0NTQ=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-12-22T21:16:02Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-12-22T21:16:02Z"}, "message": "Fix rustdoc for AST changes", "tree": {"sha": "ea9462dfd9d5df20048fb27e5ffc12112ad34380", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ea9462dfd9d5df20048fb27e5ffc12112ad34380"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9587c672301663d46f8d97d34bb82cd0506f8454", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9587c672301663d46f8d97d34bb82cd0506f8454", "html_url": "https://github.com/rust-lang/rust/commit/9587c672301663d46f8d97d34bb82cd0506f8454", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9587c672301663d46f8d97d34bb82cd0506f8454/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eacb629442e0e0869c6e230671afdeb8d002eefb", "url": "https://api.github.com/repos/rust-lang/rust/commits/eacb629442e0e0869c6e230671afdeb8d002eefb", "html_url": "https://github.com/rust-lang/rust/commit/eacb629442e0e0869c6e230671afdeb8d002eefb"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "055f3e7749d632da9c43aa6fbb04088e3dc1707d", "filename": "src/rustdoc/rustdoc.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/9587c672301663d46f8d97d34bb82cd0506f8454/src%2Frustdoc%2Frustdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9587c672301663d46f8d97d34bb82cd0506f8454/src%2Frustdoc%2Frustdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Frustdoc.rs?ref=9587c672301663d46f8d97d34bb82cd0506f8454", "patch": "@@ -34,7 +34,7 @@ type fndoc = {\n        doc = \"Function docs extracted from attributes\",\n        _fn = \"AST object representing this function\")\n )]\n-fn doc_fn(rd: rustdoc, ident: str, doc: fndoc, _fn: ast::_fn) {\n+fn doc_fn(rd: rustdoc, ident: str, doc: fndoc, decl: ast::fn_decl) {\n     rd.w.write_line(\"## Function `\" + ident + \"`\");\n     rd.w.write_line(doc.brief);\n     alt doc.desc {\n@@ -45,7 +45,7 @@ fn doc_fn(rd: rustdoc, ident: str, doc: fndoc, _fn: ast::_fn) {\n         }\n         none. { }\n     }\n-    for arg: ast::arg in _fn.decl.inputs {\n+    for arg: ast::arg in decl.inputs {\n         rd.w.write_str(\"### Argument `\" + arg.ident + \"`: \");\n         rd.w.write_line(\"`\" + pprust::ty_to_str(arg.ty) + \"`\");\n         alt doc.args.find(arg.ident) {\n@@ -55,7 +55,7 @@ fn doc_fn(rd: rustdoc, ident: str, doc: fndoc, _fn: ast::_fn) {\n             none. { }\n         };\n     }\n-    rd.w.write_line(\"### Returns `\" + pprust::ty_to_str(_fn.decl.output) + \"`\");\n+    rd.w.write_line(\"### Returns `\" + pprust::ty_to_str(decl.output) + \"`\");\n     alt doc.return {\n         some(_r) { rd.w.write_line(_r); }\n         none. { }\n@@ -152,14 +152,14 @@ fn doc_item(rd: rustdoc, item: @ast::item) {\n \n     alt item.node {\n         ast::item_const(ty, expr) { }\n-        ast::item_fn(_fn, _) {\n-            doc_fn(rd, item.ident, _fndoc0, _fn);\n+        ast::item_fn(decl, _, _) {\n+            doc_fn(rd, item.ident, _fndoc0, decl);\n         }\n         ast::item_mod(_mod) { }\n         ast::item_ty(ty, typarams) { }\n         ast::item_tag(variant, typarams) { }\n         ast::item_obj(_obj, typarams, node_id) { }\n-        ast::item_res(dtor, dtorid, typarams, ctorid) { }\n+        ast::item_res(_, _, _, _, _) { }\n     };\n }\n "}]}