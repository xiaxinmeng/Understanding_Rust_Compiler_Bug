{"sha": "8bbf0422d44ff54fff5760987d06250ebb5b60af", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhiYmYwNDIyZDQ0ZmY1NGZmZjU3NjA5ODdkMDYyNTBlYmI1YjYwYWY=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-07-27T22:09:23Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-08-01T15:30:01Z"}, "message": "Added test for #49824.", "tree": {"sha": "b64f9c2e38b849bc27daf36da80107cbdf3c4900", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b64f9c2e38b849bc27daf36da80107cbdf3c4900"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8bbf0422d44ff54fff5760987d06250ebb5b60af", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEWwgxPGhT5b/6kagXAXYLT59T8VQFAlth0fkACgkQAXYLT59T\n8VSIJg//Zy1WDsSedyT9UJPTLu1xXHJdJfTlDXJOnv8RxRBQk3KOauoxBtNNFHUa\nYkXo33dRUqi4GE4hIpGrO+0g0kThCbhwATBHc6SE15vrOqt/LzYKV/R7ROX7/w7g\nJnAClu6SoS2vt6doh8ti73fR5FeJOzFIq6k2ajIHBjfY+Wi3pwlPuvK8dPH8bKdG\n45HUKGs/XxG2kcpI/x5jGRTchlqbGi4hvyv7+WH+wrOnvepO7BtkSiibpCBJDnY/\nq2JsEvL3r5B6NE80ySVDss8SEE/NSqvCLTU67lH6rD4Do2IU9h/9K3MNaa/2tE9x\nrMLahdKfJ/F3+z5GSveK6WvP9iQ5oT0I9X3cUxdUr74ESKZ54ajMcsHRcs9gcRgW\ntIRuWlksQ0WQ6YGQOVazVfkrr+Z+n/rLJ3/5QQpeO4bke+Yl/fHKhjAt6Poun8ns\nV8t06Cu+pxDGUK0wGTRG1y+cjTpWb6oxE0EkMEnnFqng9naiOzcASJEOIH+DQjUC\n9Jgh57JsBWD0Gyre2jp+v8T/0sUx9zBQW8QGPEDj+afxG2TDiIj+xMDniMCJD2Io\naUbuJ/naZh0bgKSlhtz6wvU37HhxKTfTD/ie82tFQkw2WU2go101pcgEbRqVSoPw\nldqRZlplsSM3Z/0bN1NfAFA17lz0vF0xiXhN1s2JIEythkwls2w=\n=fh2e\n-----END PGP SIGNATURE-----", "payload": "tree b64f9c2e38b849bc27daf36da80107cbdf3c4900\nparent 43e6e2ef6abd28d564fc7a5c0e2b1b8b766adb53\nauthor David Wood <david@davidtw.co> 1532729363 +0200\ncommitter David Wood <david@davidtw.co> 1533137401 +0200\n\nAdded test for #49824.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8bbf0422d44ff54fff5760987d06250ebb5b60af", "html_url": "https://github.com/rust-lang/rust/commit/8bbf0422d44ff54fff5760987d06250ebb5b60af", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8bbf0422d44ff54fff5760987d06250ebb5b60af/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "43e6e2ef6abd28d564fc7a5c0e2b1b8b766adb53", "url": "https://api.github.com/repos/rust-lang/rust/commits/43e6e2ef6abd28d564fc7a5c0e2b1b8b766adb53", "html_url": "https://github.com/rust-lang/rust/commit/43e6e2ef6abd28d564fc7a5c0e2b1b8b766adb53"}], "stats": {"total": 60, "additions": 60, "deletions": 0}, "files": [{"sha": "59345754e9f59284539b4eba2d035a803ea50807", "filename": "src/test/ui/issue-49824.nll.stderr", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/8bbf0422d44ff54fff5760987d06250ebb5b60af/src%2Ftest%2Fui%2Fissue-49824.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8bbf0422d44ff54fff5760987d06250ebb5b60af/src%2Ftest%2Fui%2Fissue-49824.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-49824.nll.stderr?ref=8bbf0422d44ff54fff5760987d06250ebb5b60af", "patch": "@@ -0,0 +1,20 @@\n+error: unsatisfied lifetime constraints\n+  --> $DIR/issue-49824.rs:22:9\n+   |\n+LL |         || {\n+   |    _____-\n+   |   |_____|\n+   |  ||\n+LL |  ||         || {\n+   |  ||_________^\n+LL | |||             let _y = &mut x;\n+LL | |||         }\n+   | |||_________^ requires that `'1` must outlive `'2`\n+LL |  ||     };\n+   |  ||     -\n+   |  ||_____|\n+   |  |______lifetime `'1` represents the closure body\n+   |         lifetime `'2` appears in return type\n+\n+error: aborting due to previous error\n+"}, {"sha": "1f3e575288427ed8b53fc963a75e1676b8951399", "filename": "src/test/ui/issue-49824.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/8bbf0422d44ff54fff5760987d06250ebb5b60af/src%2Ftest%2Fui%2Fissue-49824.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8bbf0422d44ff54fff5760987d06250ebb5b60af/src%2Ftest%2Fui%2Fissue-49824.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-49824.rs?ref=8bbf0422d44ff54fff5760987d06250ebb5b60af", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs)]\n+\n+// This test checks that a failure occurs with NLL but does not fail with the\n+// legacy AST output. Check issue-49824.nll.stderr for expected compilation error\n+// output under NLL and #49824 for more information.\n+\n+#[rustc_error]\n+fn main() {\n+    //~^ compilation successful\n+    let mut x = 0;\n+    || {\n+        || {\n+            let _y = &mut x;\n+        }\n+    };\n+}"}, {"sha": "b6cafe5e9e9941bbd187579b426413cbd89eb0cc", "filename": "src/test/ui/issue-49824.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/8bbf0422d44ff54fff5760987d06250ebb5b60af/src%2Ftest%2Fui%2Fissue-49824.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8bbf0422d44ff54fff5760987d06250ebb5b60af/src%2Ftest%2Fui%2Fissue-49824.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-49824.stderr?ref=8bbf0422d44ff54fff5760987d06250ebb5b60af", "patch": "@@ -0,0 +1,14 @@\n+error: compilation successful\n+  --> $DIR/issue-49824.rs:18:1\n+   |\n+LL | / fn main() {\n+LL | |     //~^ compilation successful\n+LL | |     let mut x = 0;\n+LL | |     || {\n+...  |\n+LL | |     };\n+LL | | }\n+   | |_^\n+\n+error: aborting due to previous error\n+"}]}