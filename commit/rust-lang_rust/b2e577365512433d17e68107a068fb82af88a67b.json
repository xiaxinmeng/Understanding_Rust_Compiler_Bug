{"sha": "b2e577365512433d17e68107a068fb82af88a67b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIyZTU3NzM2NTUxMjQzM2QxN2U2ODEwN2EwNjhmYjgyYWY4OGE2N2I=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-10-20T20:27:32Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-10-20T20:27:32Z"}, "message": "auto merge of #18145 : neilpa/rust/master, r=steveklabnik\n\nNoticed a type while reading through the intro", "tree": {"sha": "5fb23bf6da0ef4d6eccf7bc5250e2397389f0f79", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5fb23bf6da0ef4d6eccf7bc5250e2397389f0f79"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b2e577365512433d17e68107a068fb82af88a67b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b2e577365512433d17e68107a068fb82af88a67b", "html_url": "https://github.com/rust-lang/rust/commit/b2e577365512433d17e68107a068fb82af88a67b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b2e577365512433d17e68107a068fb82af88a67b/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6353465f4df5cc4330f85314a76ff00e0a9a59a0", "url": "https://api.github.com/repos/rust-lang/rust/commits/6353465f4df5cc4330f85314a76ff00e0a9a59a0", "html_url": "https://github.com/rust-lang/rust/commit/6353465f4df5cc4330f85314a76ff00e0a9a59a0"}, {"sha": "66939dfe645a2eaf2ba9a2750122836a37271db1", "url": "https://api.github.com/repos/rust-lang/rust/commits/66939dfe645a2eaf2ba9a2750122836a37271db1", "html_url": "https://github.com/rust-lang/rust/commit/66939dfe645a2eaf2ba9a2750122836a37271db1"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "21ec551eb3024befe1592e6912b7fc6e7a114dbd", "filename": "src/doc/intro.md", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/b2e577365512433d17e68107a068fb82af88a67b/src%2Fdoc%2Fintro.md", "raw_url": "https://github.com/rust-lang/rust/raw/b2e577365512433d17e68107a068fb82af88a67b/src%2Fdoc%2Fintro.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fintro.md?ref=b2e577365512433d17e68107a068fb82af88a67b", "patch": "@@ -442,21 +442,21 @@ It gives us this error:\n ```\n \n It mentions that \"numbers moved into closure environment\". Because we referred\n-to `numbers` inside of our `proc`, and we create ten `proc`s, we would have ten\n-references. Rust detects this and gives us the error: we claim that `numbers`\n-has ownership, but our code tries to make ten owners. This may cause a safety\n-problem, so Rust disallows it.\n+to `numbers` inside of our `proc`, and we create three `proc`s, we would have\n+three references. Rust detects this and gives us the error: we claim that\n+`numbers` has ownership, but our code tries to make three owners. This may\n+cause a safety problem, so Rust disallows it.\n \n What to do here? Rust has two types that helps us: `Arc<T>` and `Mutex<T>`.\n \"Arc\" stands for \"atomically reference counted.\" In other words, an Arc will\n keep track of the number of references to something, and not free the\n associated resource until the count is zero. The 'atomic' portion refers to an\n Arc's usage of concurrency primitives to atomically update the count, making it\n-safe across threads. If we use an Arc, we can have our ten references. But, an\n-Arc does not allow mutable borrows of the data it holds, and we want to modify\n-what we're sharing. In this case, we can use a `Mutex<T>` inside of our Arc. A\n-Mutex will synchronize our accesses, so that we can ensure that our mutation\n-doesn't cause a data race.\n+safe across threads. If we use an Arc, we can have our three references. But,\n+an Arc does not allow mutable borrows of the data it holds, and we want to\n+modify what we're sharing. In this case, we can use a `Mutex<T>` inside of our\n+Arc. A Mutex will synchronize our accesses, so that we can ensure that our\n+mutation doesn't cause a data race.\n \n Here's what using an Arc with a Mutex looks like:\n "}]}