{"sha": "edf73f051270b0dadf2f6d24070cfe98be6a41e2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVkZjczZjA1MTI3MGIwZGFkZjJmNmQyNDA3MGNmZTk4YmU2YTQxZTI=", "commit": {"author": {"name": "Eric Holk", "email": "eholk@mozilla.com", "date": "2011-06-21T20:13:15Z"}, "committer": {"name": "Eric Holk", "email": "eholk@mozilla.com", "date": "2011-06-21T20:13:33Z"}, "message": "Setting rt optimization on OS X to -O0 when using clang, like we already do with gcc. Tail-call elimination was causing valgrind errors with stack switching. Closes #494.", "tree": {"sha": "4b193366b90211023a0f17a427ff8c229fe038ce", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4b193366b90211023a0f17a427ff8c229fe038ce"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/edf73f051270b0dadf2f6d24070cfe98be6a41e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/edf73f051270b0dadf2f6d24070cfe98be6a41e2", "html_url": "https://github.com/rust-lang/rust/commit/edf73f051270b0dadf2f6d24070cfe98be6a41e2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/edf73f051270b0dadf2f6d24070cfe98be6a41e2/comments", "author": null, "committer": null, "parents": [{"sha": "34040be580afb1434e97e149693b8f8e2996e15b", "url": "https://api.github.com/repos/rust-lang/rust/commits/34040be580afb1434e97e149693b8f8e2996e15b", "html_url": "https://github.com/rust-lang/rust/commit/34040be580afb1434e97e149693b8f8e2996e15b"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "fb50285bbd25b0318b0d476e2404ba9044b02230", "filename": "mk/platform.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/edf73f051270b0dadf2f6d24070cfe98be6a41e2/mk%2Fplatform.mk", "raw_url": "https://github.com/rust-lang/rust/raw/edf73f051270b0dadf2f6d24070cfe98be6a41e2/mk%2Fplatform.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fplatform.mk?ref=edf73f051270b0dadf2f6d24070cfe98be6a41e2", "patch": "@@ -49,7 +49,7 @@ ifeq ($(CFG_OSTYPE), Darwin)\n   #\n   # NB: Currently GCC's optimizer breaks rustrt (task-comm-1 hangs) on Darwin.\n   CFG_GCC_CFLAGS += -m32 -O0\n-  CFG_CLANG_CFLAGS += -m32 -O2\n+  CFG_CLANG_CFLAGS += -m32 -O0\n   ifeq ($(CFG_CPUTYPE), x86_64)\n     CFG_GCCISH_CFLAGS += -arch i386\n     CFG_GCCISH_LINK_FLAGS += -arch i386"}]}