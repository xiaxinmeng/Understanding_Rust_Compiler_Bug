{"sha": "013cd5af8609b1c62873e51d1778ddb359f58152", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAxM2NkNWFmODYwOWIxYzYyODczZTUxZDE3NzhkZGIzNTlmNTgxNTI=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2017-11-14T15:52:07Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-11-14T15:52:07Z"}, "message": "Rollup merge of #45815 - QuietMisdreavus:happy-little-notices, r=GuillaumeGomez\n\nrustdoc: tweak notes on ignore/compile_fail examples\n\nPart of https://github.com/rust-lang/rust/issues/44927\n\nThis is a softening of these notices to mention *why* a given example has a given callout, rather then telling viewers to be careful with an example. It also changes the character used for these samples from a warning logo to a circle-i/information logo.\n\n![image](https://user-images.githubusercontent.com/5217170/32464361-5fbb5d9e-c305-11e7-8482-ce71b97a54df.png)", "tree": {"sha": "73c350873a5ec259a44830ac0ab73f8e2ee984b1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/73c350873a5ec259a44830ac0ab73f8e2ee984b1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/013cd5af8609b1c62873e51d1778ddb359f58152", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/013cd5af8609b1c62873e51d1778ddb359f58152", "html_url": "https://github.com/rust-lang/rust/commit/013cd5af8609b1c62873e51d1778ddb359f58152", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/013cd5af8609b1c62873e51d1778ddb359f58152/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "24840dab0bef0047beb428e1c15e9a851f732dcc", "url": "https://api.github.com/repos/rust-lang/rust/commits/24840dab0bef0047beb428e1c15e9a851f732dcc", "html_url": "https://github.com/rust-lang/rust/commit/24840dab0bef0047beb428e1c15e9a851f732dcc"}, {"sha": "02b3785f844d5c430484497d097482828eba264d", "url": "https://api.github.com/repos/rust-lang/rust/commits/02b3785f844d5c430484497d097482828eba264d", "html_url": "https://github.com/rust-lang/rust/commit/02b3785f844d5c430484497d097482828eba264d"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "6b0f209c0c454418f714a4646fe97738eed4d6b3", "filename": "src/librustdoc/html/highlight.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/013cd5af8609b1c62873e51d1778ddb359f58152/src%2Flibrustdoc%2Fhtml%2Fhighlight.rs", "raw_url": "https://github.com/rust-lang/rust/raw/013cd5af8609b1c62873e51d1778ddb359f58152/src%2Flibrustdoc%2Fhtml%2Fhighlight.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fhighlight.rs?ref=013cd5af8609b1c62873e51d1778ddb359f58152", "patch": "@@ -42,7 +42,7 @@ pub fn render_with_highlighting(src: &str, class: Option<&str>, id: Option<&str>\n \n     let mut out = Vec::new();\n     if let Some((tooltip, class)) = tooltip {\n-        write!(out, \"<div class='information'><div class='tooltip {}'>\u26a0<span \\\n+        write!(out, \"<div class='information'><div class='tooltip {}'>\u24d8<span \\\n                      class='tooltiptext'>{}</span></div></div>\",\n                class, tooltip).unwrap();\n     }"}, {"sha": "f7a67b1b9c79cca408bc70f88c1f447be12029ca", "filename": "src/librustdoc/html/markdown.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/013cd5af8609b1c62873e51d1778ddb359f58152/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/013cd5af8609b1c62873e51d1778ddb359f58152/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs?ref=013cd5af8609b1c62873e51d1778ddb359f58152", "patch": "@@ -227,9 +227,9 @@ impl<'a, I: Iterator<Item = Event<'a>>> Iterator for CodeBlocks<'a, I> {\n                 ))\n             });\n             let tooltip = if ignore {\n-                Some((\"Be careful when using this code, it's not being tested!\", \"ignore\"))\n+                Some((\"This example is not tested\", \"ignore\"))\n             } else if compile_fail {\n-                Some((\"This code doesn't compile so be extra careful!\", \"compile_fail\"))\n+                Some((\"This example deliberately fails to compile\", \"compile_fail\"))\n             } else {\n                 None\n             };\n@@ -638,9 +638,9 @@ pub fn render(w: &mut fmt::Formatter,\n                     ))\n                 });\n                 let tooltip = if ignore {\n-                    Some((\"Be careful when using this code, it's not being tested!\", \"ignore\"))\n+                    Some((\"This example is not tested\", \"ignore\"))\n                 } else if compile_fail {\n-                    Some((\"This code doesn't compile so be extra careful!\", \"compile_fail\"))\n+                    Some((\"This example deliberately fails to compile\", \"compile_fail\"))\n                 } else {\n                     None\n                 };"}, {"sha": "d6cd5a24d915fedfe37d012689dd2809c4bb8545", "filename": "src/test/rustdoc/codeblock-title.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/013cd5af8609b1c62873e51d1778ddb359f58152/src%2Ftest%2Frustdoc%2Fcodeblock-title.rs", "raw_url": "https://github.com/rust-lang/rust/raw/013cd5af8609b1c62873e51d1778ddb359f58152/src%2Ftest%2Frustdoc%2Fcodeblock-title.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fcodeblock-title.rs?ref=013cd5af8609b1c62873e51d1778ddb359f58152", "patch": "@@ -12,8 +12,8 @@\n \n // ignore-tidy-linelength\n \n-// @has foo/fn.bar.html '//*[@class=\"tooltip compile_fail\"]/span' \"This code doesn't compile so be extra careful!\"\n-// @has foo/fn.bar.html '//*[@class=\"tooltip ignore\"]/span' \"Be careful when using this code, it's not being tested!\"\n+// @has foo/fn.bar.html '//*[@class=\"tooltip compile_fail\"]/span' \"This example deliberately fails to compile\"\n+// @has foo/fn.bar.html '//*[@class=\"tooltip ignore\"]/span' \"This example is not tested\"\n \n /// foo\n ///"}]}