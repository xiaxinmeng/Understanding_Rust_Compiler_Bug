{"sha": "3b783152ccff54f3bf1e54db424dc476e36b1b31", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNiNzgzMTUyY2NmZjU0ZjNiZjFlNTRkYjQyNGRjNDc2ZTM2YjFiMzE=", "commit": {"author": {"name": "mcarton", "email": "cartonmartin+git@gmail.com", "date": "2016-02-22T19:00:51Z"}, "committer": {"name": "mcarton", "email": "cartonmartin+git@gmail.com", "date": "2016-02-22T19:00:51Z"}, "message": "Fix ICE with match_def_path", "tree": {"sha": "6216d53df5a582cfb540b281111b9a725b4f5dd0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6216d53df5a582cfb540b281111b9a725b4f5dd0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3b783152ccff54f3bf1e54db424dc476e36b1b31", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3b783152ccff54f3bf1e54db424dc476e36b1b31", "html_url": "https://github.com/rust-lang/rust/commit/3b783152ccff54f3bf1e54db424dc476e36b1b31", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3b783152ccff54f3bf1e54db424dc476e36b1b31/comments", "author": {"login": "mcarton", "id": 3751788, "node_id": "MDQ6VXNlcjM3NTE3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/3751788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarton", "html_url": "https://github.com/mcarton", "followers_url": "https://api.github.com/users/mcarton/followers", "following_url": "https://api.github.com/users/mcarton/following{/other_user}", "gists_url": "https://api.github.com/users/mcarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarton/subscriptions", "organizations_url": "https://api.github.com/users/mcarton/orgs", "repos_url": "https://api.github.com/users/mcarton/repos", "events_url": "https://api.github.com/users/mcarton/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mcarton", "id": 3751788, "node_id": "MDQ6VXNlcjM3NTE3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/3751788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarton", "html_url": "https://github.com/mcarton", "followers_url": "https://api.github.com/users/mcarton/followers", "following_url": "https://api.github.com/users/mcarton/following{/other_user}", "gists_url": "https://api.github.com/users/mcarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarton/subscriptions", "organizations_url": "https://api.github.com/users/mcarton/orgs", "repos_url": "https://api.github.com/users/mcarton/repos", "events_url": "https://api.github.com/users/mcarton/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "996a86fdab85c8adbd16d25894279318d5bb3cc1", "url": "https://api.github.com/repos/rust-lang/rust/commits/996a86fdab85c8adbd16d25894279318d5bb3cc1", "html_url": "https://github.com/rust-lang/rust/commit/996a86fdab85c8adbd16d25894279318d5bb3cc1"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "b9dd9359c66b50a0dc65dfaf553bbee9b2b3b3d0", "filename": "src/utils/mod.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3b783152ccff54f3bf1e54db424dc476e36b1b31/src%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b783152ccff54f3bf1e54db424dc476e36b1b31/src%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Futils%2Fmod.rs?ref=3b783152ccff54f3bf1e54db424dc476e36b1b31", "patch": "@@ -133,8 +133,12 @@ pub fn in_external_macro<T: LintContext>(cx: &T, span: Span) -> bool {\n /// ```\n pub fn match_def_path(cx: &LateContext, def_id: DefId, path: &[&str]) -> bool {\n     cx.tcx.with_path(def_id, |iter| {\n-        iter.zip(path)\n+        let mut len = 0;\n+\n+        iter.inspect(|_| len += 1)\n+            .zip(path)\n             .all(|(nm, p)| nm.name().as_str() == *p)\n+        && len == path.len()\n     })\n }\n "}, {"sha": "a7ff78eac146e1e9a8523a5c9da84ec7c8326342", "filename": "tests/run-pass/ice-700.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/3b783152ccff54f3bf1e54db424dc476e36b1b31/tests%2Frun-pass%2Fice-700.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b783152ccff54f3bf1e54db424dc476e36b1b31/tests%2Frun-pass%2Fice-700.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fice-700.rs?ref=3b783152ccff54f3bf1e54db424dc476e36b1b31", "patch": "@@ -0,0 +1,9 @@\n+#![feature(plugin)]\n+#![plugin(clippy)]\n+#![deny(clippy)]\n+\n+fn core() {}\n+\n+fn main() {\n+    core();\n+}"}]}