{"sha": "61c6d16adef2a55a2cefbeb8c3ac19f0af67a479", "node_id": "C_kwDOAAsO6NoAKDYxYzZkMTZhZGVmMmE1NWEyY2VmYmViOGMzYWMxOWYwYWY2N2E0Nzk", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-07-29T04:23:08Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-07-29T04:23:08Z"}, "message": "Auto merge of #99660 - PrestonFrom:issue_99265, r=compiler-errors\n\nGenerate correct suggestion with named arguments used positionally\n\nAddress issue #99265 by checking each positionally used argument\nto see if the argument is named and adding a lint to use the name\ninstead. This way, when named arguments are used positionally in a\ndifferent order than their argument order, the suggested lint is\ncorrect.\n\nFor example:\n```\nprintln!(\"{b} {}\", a=1, b=2);\n```\nThis will now generate the suggestion:\n```\nprintln!(\"{b} {a}\", a=1, b=2);\n```\n\nAdditionally, this check now also correctly replaces or inserts\nonly where the positional argument is (or would be if implicit).\nAlso, width and precision are replaced with their argument names\nwhen they exists.\n\nSince the issues were so closely related, this fix for issue #99265\nalso fixes issue #99266.\n\nFixes #99265\nFixes #99266", "tree": {"sha": "3abcf03b60249b78e8bece7a368620fbe93b3fee", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3abcf03b60249b78e8bece7a368620fbe93b3fee"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/61c6d16adef2a55a2cefbeb8c3ac19f0af67a479", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/61c6d16adef2a55a2cefbeb8c3ac19f0af67a479", "html_url": "https://github.com/rust-lang/rust/commit/61c6d16adef2a55a2cefbeb8c3ac19f0af67a479", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/61c6d16adef2a55a2cefbeb8c3ac19f0af67a479/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "67c405cc1d6cc898cf26586dfe68390cc05a8e40", "url": "https://api.github.com/repos/rust-lang/rust/commits/67c405cc1d6cc898cf26586dfe68390cc05a8e40", "html_url": "https://github.com/rust-lang/rust/commit/67c405cc1d6cc898cf26586dfe68390cc05a8e40"}, {"sha": "af8ae10678612959a5d6036e0b99aca688b3e545", "url": "https://api.github.com/repos/rust-lang/rust/commits/af8ae10678612959a5d6036e0b99aca688b3e545", "html_url": "https://github.com/rust-lang/rust/commit/af8ae10678612959a5d6036e0b99aca688b3e545"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "3a99d1b417fee1c96373112e6e35d2143ba570f3", "filename": "clippy_lints/src/write.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/61c6d16adef2a55a2cefbeb8c3ac19f0af67a479/clippy_lints%2Fsrc%2Fwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61c6d16adef2a55a2cefbeb8c3ac19f0af67a479/clippy_lints%2Fsrc%2Fwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fwrite.rs?ref=61c6d16adef2a55a2cefbeb8c3ac19f0af67a479", "patch": "@@ -441,7 +441,7 @@ impl SimpleFormatArgs {\n         };\n \n         match arg.position {\n-            ArgumentIs(n) | ArgumentImplicitlyIs(n) => {\n+            ArgumentIs(n, _) | ArgumentImplicitlyIs(n) => {\n                 if self.unnamed.len() <= n {\n                     // Use a dummy span to mark all unseen arguments.\n                     self.unnamed.resize_with(n, || vec![DUMMY_SP]);"}]}