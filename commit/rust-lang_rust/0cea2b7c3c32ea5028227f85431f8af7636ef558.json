{"sha": "0cea2b7c3c32ea5028227f85431f8af7636ef558", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjZWEyYjdjM2MzMmVhNTAyODIyN2Y4NTQzMWY4YWY3NjM2ZWY1NTg=", "commit": {"author": {"name": "Tshepang Lekhonkhobe", "email": "tshepang@gmail.com", "date": "2015-02-22T18:43:45Z"}, "committer": {"name": "Tshepang Lekhonkhobe", "email": "tshepang@gmail.com", "date": "2015-02-22T18:47:37Z"}, "message": "doc: nits and fixes for thread API", "tree": {"sha": "20eaee5f43b9ca4006eed70ce6d66001f7b870d8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/20eaee5f43b9ca4006eed70ce6d66001f7b870d8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0cea2b7c3c32ea5028227f85431f8af7636ef558", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0cea2b7c3c32ea5028227f85431f8af7636ef558", "html_url": "https://github.com/rust-lang/rust/commit/0cea2b7c3c32ea5028227f85431f8af7636ef558", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0cea2b7c3c32ea5028227f85431f8af7636ef558/comments", "author": {"login": "tshepang", "id": 588486, "node_id": "MDQ6VXNlcjU4ODQ4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/588486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tshepang", "html_url": "https://github.com/tshepang", "followers_url": "https://api.github.com/users/tshepang/followers", "following_url": "https://api.github.com/users/tshepang/following{/other_user}", "gists_url": "https://api.github.com/users/tshepang/gists{/gist_id}", "starred_url": "https://api.github.com/users/tshepang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tshepang/subscriptions", "organizations_url": "https://api.github.com/users/tshepang/orgs", "repos_url": "https://api.github.com/users/tshepang/repos", "events_url": "https://api.github.com/users/tshepang/events{/privacy}", "received_events_url": "https://api.github.com/users/tshepang/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tshepang", "id": 588486, "node_id": "MDQ6VXNlcjU4ODQ4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/588486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tshepang", "html_url": "https://github.com/tshepang", "followers_url": "https://api.github.com/users/tshepang/followers", "following_url": "https://api.github.com/users/tshepang/following{/other_user}", "gists_url": "https://api.github.com/users/tshepang/gists{/gist_id}", "starred_url": "https://api.github.com/users/tshepang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tshepang/subscriptions", "organizations_url": "https://api.github.com/users/tshepang/orgs", "repos_url": "https://api.github.com/users/tshepang/repos", "events_url": "https://api.github.com/users/tshepang/events{/privacy}", "received_events_url": "https://api.github.com/users/tshepang/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dcc6ce2c772cb851ac35cbc2ddafcae9bf2fa9fd", "url": "https://api.github.com/repos/rust-lang/rust/commits/dcc6ce2c772cb851ac35cbc2ddafcae9bf2fa9fd", "html_url": "https://github.com/rust-lang/rust/commit/dcc6ce2c772cb851ac35cbc2ddafcae9bf2fa9fd"}], "stats": {"total": 34, "additions": 16, "deletions": 18}, "files": [{"sha": "fb7386f18e7ea61cdd3566783c94b51e00217a36", "filename": "src/libstd/thread.rs", "status": "modified", "additions": 16, "deletions": 18, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/0cea2b7c3c32ea5028227f85431f8af7636ef558/src%2Flibstd%2Fthread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0cea2b7c3c32ea5028227f85431f8af7636ef558/src%2Flibstd%2Fthread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fthread.rs?ref=0cea2b7c3c32ea5028227f85431f8af7636ef558", "patch": "@@ -28,25 +28,25 @@\n //! a thread will unwind the stack, running destructors and freeing\n //! owned resources. Thread panic is unrecoverable from within\n //! the panicking thread (i.e. there is no 'try/catch' in Rust), but\n-//! panic may optionally be detected from a different thread. If\n-//! the main thread panics the application will exit with a non-zero\n+//! the panic may optionally be detected from a different thread. If\n+//! the main thread panics, the application will exit with a non-zero\n //! exit code.\n //!\n //! When the main thread of a Rust program terminates, the entire program shuts\n //! down, even if other threads are still running. However, this module provides\n //! convenient facilities for automatically waiting for the termination of a\n-//! child thread (i.e., join), described below.\n+//! child thread (i.e., join).\n //!\n //! ## The `Thread` type\n //!\n-//! Already-running threads are represented via the `Thread` type, which you can\n+//! Threads are represented via the `Thread` type, which you can\n //! get in one of two ways:\n //!\n-//! * By spawning a new thread, e.g. using the `thread::spawn` constructor;\n+//! * By spawning a new thread, e.g. using the `thread::spawn` function.\n //! * By requesting the current thread, using the `thread::current` function.\n //!\n //! Threads can be named, and provide some built-in support for low-level\n-//! synchronization described below.\n+//! synchronization (described below).\n //!\n //! The `thread::current()` function is available even for threads not spawned\n //! by the APIs of this module.\n@@ -59,29 +59,27 @@\n //! use std::thread;\n //!\n //! thread::spawn(move || {\n-//!     println!(\"Hello, World!\");\n-//!     // some computation here\n+//!     // some work here\n //! });\n //! ```\n //!\n //! In this example, the spawned thread is \"detached\" from the current\n-//! thread, meaning that it can outlive the thread that spawned\n-//! it. (Note, however, that when the main thread terminates all\n-//! detached threads are terminated as well.)\n+//! thread. This means that it can outlive its parent (the thread that spawned\n+//! it), unless this parent is the main thread.\n //!\n //! ## Scoped threads\n //!\n //! Often a parent thread uses a child thread to perform some particular task,\n //! and at some point must wait for the child to complete before continuing.\n-//! For this scenario, use the `scoped` constructor:\n+//! For this scenario, use the `thread::scoped` function:\n //!\n //! ```rust\n //! use std::thread;\n //!\n //! let guard = thread::scoped(move || {\n-//!     println!(\"Hello, World!\");\n-//!     // some computation here\n+//!     // some work here\n //! });\n+//!\n //! // do some other work in the meantime\n //! let output = guard.join();\n //! ```\n@@ -92,7 +90,7 @@\n //! terminates) when it is dropped. You can join the child thread in\n //! advance by calling the `join` method on the guard, which will also\n //! return the result produced by the thread.  A handle to the thread\n-//! itself is available via the `thread` method on the join guard.\n+//! itself is available via the `thread` method of the join guard.\n //!\n //! (Note: eventually, the `scoped` constructor will allow the parent and child\n //! threads to data that lives on the parent thread's stack, but some language\n@@ -108,7 +106,7 @@\n //! use std::thread;\n //!\n //! thread::Builder::new().name(\"child1\".to_string()).spawn(move || {\n-//!     println!(\"Hello, world!\")\n+//!     println!(\"Hello, world!\");\n //! });\n //! ```\n //!\n@@ -121,7 +119,7 @@\n //! initially not present:\n //!\n //! * The `thread::park()` function blocks the current thread unless or until\n-//!   the token is available for its thread handle, at which point It atomically\n+//!   the token is available for its thread handle, at which point it atomically\n //!   consumes the token. It may also return *spuriously*, without consuming the\n //!   token. `thread::park_timeout()` does the same, but allows specifying a\n //!   maximum time to block the thread for.\n@@ -143,7 +141,7 @@\n //! * It avoids the need to allocate mutexes and condvars when building new\n //!   synchronization primitives; the threads already provide basic blocking/signaling.\n //!\n-//! * It can be implemented highly efficiently on many platforms.\n+//! * It can be implemented very efficiently on many platforms.\n \n #![stable(feature = \"rust1\", since = \"1.0.0\")]\n "}]}