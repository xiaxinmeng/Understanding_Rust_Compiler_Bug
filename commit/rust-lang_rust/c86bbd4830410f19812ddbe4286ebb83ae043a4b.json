{"sha": "c86bbd4830410f19812ddbe4286ebb83ae043a4b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM4NmJiZDQ4MzA0MTBmMTk4MTJkZGJlNDI4NmViYjgzYWUwNDNhNGI=", "commit": {"author": {"name": "Nicholas Nethercote", "email": "nnethercote@mozilla.com", "date": "2018-11-04T22:34:37Z"}, "committer": {"name": "Nicholas Nethercote", "email": "nnethercote@mozilla.com", "date": "2018-11-25T06:54:06Z"}, "message": "Rename `UndoLogEntry` as `UndoLog`.\n\nSo that it matches `librustc_data_structures/snapshot_map/mod.rs` and\nthe `ena` crate.", "tree": {"sha": "2f4b7fe2595cc312c59c54c6861fb48ae164b2ec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f4b7fe2595cc312c59c54c6861fb48ae164b2ec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c86bbd4830410f19812ddbe4286ebb83ae043a4b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c86bbd4830410f19812ddbe4286ebb83ae043a4b", "html_url": "https://github.com/rust-lang/rust/commit/c86bbd4830410f19812ddbe4286ebb83ae043a4b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c86bbd4830410f19812ddbe4286ebb83ae043a4b/comments", "author": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9847b5cfcb16876630064ed766fbbb7545c67368", "url": "https://api.github.com/repos/rust-lang/rust/commits/9847b5cfcb16876630064ed766fbbb7545c67368", "html_url": "https://github.com/rust-lang/rust/commit/9847b5cfcb16876630064ed766fbbb7545c67368"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "eb4c0d08f9fa184762990191a59ed2cba1dfc44d", "filename": "src/librustc/infer/region_constraints/mod.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c86bbd4830410f19812ddbe4286ebb83ae043a4b/src%2Flibrustc%2Finfer%2Fregion_constraints%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c86bbd4830410f19812ddbe4286ebb83ae043a4b/src%2Flibrustc%2Finfer%2Fregion_constraints%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Fregion_constraints%2Fmod.rs?ref=c86bbd4830410f19812ddbe4286ebb83ae043a4b", "patch": "@@ -11,7 +11,7 @@\n //! See README.md\n \n use self::CombineMapType::*;\n-use self::UndoLogEntry::*;\n+use self::UndoLog::*;\n \n use super::unify_key;\n use super::{MiscVariable, RegionVariableOrigin, SubregionOrigin};\n@@ -59,7 +59,7 @@ pub struct RegionConstraintCollector<'tcx> {\n     /// otherwise we end up adding entries for things like the lower\n     /// bound on a variable and so forth, which can never be rolled\n     /// back.\n-    undo_log: Vec<UndoLogEntry<'tcx>>,\n+    undo_log: Vec<UndoLog<'tcx>>,\n \n     /// When we add a R1 == R2 constriant, we currently add (a) edges\n     /// R1 <= R2 and R2 <= R1 and (b) we unify the two regions in this\n@@ -254,7 +254,7 @@ struct TwoRegions<'tcx> {\n }\n \n #[derive(Copy, Clone, PartialEq)]\n-enum UndoLogEntry<'tcx> {\n+enum UndoLog<'tcx> {\n     /// Pushed when we start a snapshot.\n     OpenSnapshot,\n \n@@ -456,7 +456,7 @@ impl<'tcx> RegionConstraintCollector<'tcx> {\n         self.any_unifications = snapshot.any_unifications;\n     }\n \n-    fn rollback_undo_entry(&mut self, undo_entry: UndoLogEntry<'tcx>) {\n+    fn rollback_undo_entry(&mut self, undo_entry: UndoLog<'tcx>) {\n         match undo_entry {\n             OpenSnapshot => {\n                 panic!(\"Failure to observe stack discipline\");\n@@ -548,7 +548,7 @@ impl<'tcx> RegionConstraintCollector<'tcx> {\n \n         fn kill_constraint<'tcx>(\n             placeholders: &FxHashSet<ty::Region<'tcx>>,\n-            undo_entry: &UndoLogEntry<'tcx>,\n+            undo_entry: &UndoLog<'tcx>,\n         ) -> bool {\n             match undo_entry {\n                 &AddConstraint(Constraint::VarSubVar(..)) => false,"}, {"sha": "9f08fdcad7eea39a5308357a31d92493782dcf95", "filename": "src/librustc/infer/region_constraints/taint.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c86bbd4830410f19812ddbe4286ebb83ae043a4b/src%2Flibrustc%2Finfer%2Fregion_constraints%2Ftaint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c86bbd4830410f19812ddbe4286ebb83ae043a4b/src%2Flibrustc%2Finfer%2Fregion_constraints%2Ftaint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Fregion_constraints%2Ftaint.rs?ref=c86bbd4830410f19812ddbe4286ebb83ae043a4b", "patch": "@@ -29,7 +29,7 @@ impl<'tcx> TaintSet<'tcx> {\n     pub(super) fn fixed_point(\n         &mut self,\n         tcx: TyCtxt<'_, '_, 'tcx>,\n-        undo_log: &[UndoLogEntry<'tcx>],\n+        undo_log: &[UndoLog<'tcx>],\n         verifys: &[Verify<'tcx>],\n     ) {\n         let mut prev_len = 0;"}]}