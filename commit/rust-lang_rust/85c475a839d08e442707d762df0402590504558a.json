{"sha": "85c475a839d08e442707d762df0402590504558a", "node_id": "C_kwDOAAsO6NoAKDg1YzQ3NWE4MzlkMDhlNDQyNzA3ZDc2MmRmMDQwMjU5MDUwNDU1OGE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-03-07T18:57:46Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-03-07T18:57:46Z"}, "message": "Rollup merge of #108822 - nikic:legacy-pm-removal-2, r=cuviper\n\nRemove references to PassManagerBuilder\n\nThis is a legacy PM concept that we no longer use.", "tree": {"sha": "fbff9f51ee36ff5e7fa80bbb662119cec2ea181f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fbff9f51ee36ff5e7fa80bbb662119cec2ea181f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/85c475a839d08e442707d762df0402590504558a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkB4kqCRBK7hj4Ov3rIwAAeCIIAItOATpOFhM3wlpo9yATszRt\na9CCcG/nEu767GElgBDNnpCVvq/aQwit2iabD8ucIwyzfrt3RW2cOahuw3rOAzJr\nKh6FvebqEU9DgxRvBjmr8cc89GYaEhx0uMOsJN3yUVTMOkv1fBAphV/yqs6ctRk/\nAjMyaCxphRyuVooPoi+IBEaZvOx6AJYzrP05WkAZyqcWZxgLdq2TKpRsrILz0x1A\nzBBvV54DKtd1WFArMkYUp2ICs3GyPhiig5sDVzc6g+m5tiqLZtiISBLGsf4GHg5e\n8zd0z7GoCYxjZP3xFtm9ULymJC70gJBxdUqWopnFuzLBLWlQjGmDavqP4uQ9HFk=\n=85yU\n-----END PGP SIGNATURE-----\n", "payload": "tree fbff9f51ee36ff5e7fa80bbb662119cec2ea181f\nparent c4453ccb82743f8994a89ebdf9c8c30a5c5b6998\nparent 2c7beeda90fd7a0a6ac3acea3ddb37fddb9cd893\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1678215466 +0100\ncommitter GitHub <noreply@github.com> 1678215466 +0100\n\nRollup merge of #108822 - nikic:legacy-pm-removal-2, r=cuviper\n\nRemove references to PassManagerBuilder\n\nThis is a legacy PM concept that we no longer use.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/85c475a839d08e442707d762df0402590504558a", "html_url": "https://github.com/rust-lang/rust/commit/85c475a839d08e442707d762df0402590504558a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/85c475a839d08e442707d762df0402590504558a/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c4453ccb82743f8994a89ebdf9c8c30a5c5b6998", "url": "https://api.github.com/repos/rust-lang/rust/commits/c4453ccb82743f8994a89ebdf9c8c30a5c5b6998", "html_url": "https://github.com/rust-lang/rust/commit/c4453ccb82743f8994a89ebdf9c8c30a5c5b6998"}, {"sha": "2c7beeda90fd7a0a6ac3acea3ddb37fddb9cd893", "url": "https://api.github.com/repos/rust-lang/rust/commits/2c7beeda90fd7a0a6ac3acea3ddb37fddb9cd893", "html_url": "https://github.com/rust-lang/rust/commit/2c7beeda90fd7a0a6ac3acea3ddb37fddb9cd893"}], "stats": {"total": 5, "additions": 0, "deletions": 5}, "files": [{"sha": "509cb0fef565e167775be25218723d632e960a29", "filename": "compiler/rustc_codegen_llvm/src/llvm/ffi.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/85c475a839d08e442707d762df0402590504558a/compiler%2Frustc_codegen_llvm%2Fsrc%2Fllvm%2Fffi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85c475a839d08e442707d762df0402590504558a/compiler%2Frustc_codegen_llvm%2Fsrc%2Fllvm%2Fffi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fllvm%2Fffi.rs?ref=85c475a839d08e442707d762df0402590504558a", "patch": "@@ -640,9 +640,6 @@ extern \"C\" {\n pub struct Builder<'a>(InvariantOpaque<'a>);\n #[repr(C)]\n pub struct PassManager<'a>(InvariantOpaque<'a>);\n-extern \"C\" {\n-    pub type PassManagerBuilder;\n-}\n extern \"C\" {\n     pub type Pass;\n }"}, {"sha": "e604e44a7157b8876180aa57810a5808fb842c0f", "filename": "compiler/rustc_llvm/llvm-wrapper/PassWrapper.cpp", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/85c475a839d08e442707d762df0402590504558a/compiler%2Frustc_llvm%2Fllvm-wrapper%2FPassWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/85c475a839d08e442707d762df0402590504558a/compiler%2Frustc_llvm%2Fllvm-wrapper%2FPassWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_llvm%2Fllvm-wrapper%2FPassWrapper.cpp?ref=85c475a839d08e442707d762df0402590504558a", "patch": "@@ -26,7 +26,6 @@\n #endif\n #include \"llvm/Support/Host.h\"\n #include \"llvm/Target/TargetMachine.h\"\n-#include \"llvm/Transforms/IPO/PassManagerBuilder.h\"\n #include \"llvm/Transforms/IPO/AlwaysInliner.h\"\n #include \"llvm/Transforms/IPO/FunctionImport.h\"\n #include \"llvm/Transforms/IPO/Internalize.h\"\n@@ -35,7 +34,6 @@\n #include \"llvm/Transforms/Utils/FunctionImportUtils.h\"\n #include \"llvm/LTO/LTO.h\"\n #include \"llvm/Bitcode/BitcodeWriter.h\"\n-#include \"llvm-c/Transforms/PassManagerBuilder.h\"\n \n #include \"llvm/Transforms/Instrumentation.h\"\n #include \"llvm/Transforms/Instrumentation/AddressSanitizer.h\""}]}