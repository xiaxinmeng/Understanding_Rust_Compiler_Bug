{"sha": "08c901f0155b10c55427991e9da6fce83b541f2c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA4YzkwMWYwMTU1YjEwYzU1NDI3OTkxZTlkYTZmY2U4M2I1NDFmMmM=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-01-14T01:35:14Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-02-01T14:43:56Z"}, "message": "Always treat 'std' and 'core' as public", "tree": {"sha": "bd1d7da80d3cd90ee0cf86cb8afcf608e96b0681", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bd1d7da80d3cd90ee0cf86cb8afcf608e96b0681"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/08c901f0155b10c55427991e9da6fce83b541f2c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAlxUWywACgkQtAh+UQ6Y\nsWSWNA//YoPcliYGNPZaHyAw8T/mGPnuVaBVfZxkfkOxyNk0hu8bo+Gn8PUHngq5\nwuftFKItjwdxPKD/pLXbtWrSylEGUS/a2mBFYi+mW3ALtoc1p8VxslASqLqGRNSq\nlz3sxkKhsdOGgr0CZECx5eLMLT0bwEo6XIFuaBrDafYTQrBwcg1jss6kVJcF+PZj\niMm7DnpenQfr9iLvN9EhUzyKRCXnMIh2jQmqYMEoRiVfvdcQO+sTPekQsAOGAPEX\nUYqQQZmYpvaLYE2WF6nf23La3Lk/GY/cFVww0pAbCq6YewtUC2WF2+FiRwi+DG6K\ns1HGjI2mXERyML99dG7KOJgx4yDvcBtAmToWe0dazHkYcr4auDBtez4gfM4Tcxq+\n68uWw9WPl2tWAtuyfeDRp0AOVbvKwBUFAitDpzGGb3MLQMhUMcLfnhaG8N8cJ8zI\n49Og6BPq7eaB7K8oyE4YD06eruX0GiQ2wJCbTDWPsJD1qONnuGYG5cxv7tHsg0Zb\n58Xkfkd43EF/UAthAT7xdRll69kDkJ4pHvLKFL/dUHeLp/IRbm99qWcSKHdZSNkG\nZR4xESeGl4fb62Y918dSpEjOwAUV7KRzSRB113FnMaurp0P6Gv721ttOsHii98YE\njlQZviBffQxeMcW3DMGod8MBNrCP3lPseRR6t6Q+Zka9uHdiqlI=\n=nPjh\n-----END PGP SIGNATURE-----", "payload": "tree bd1d7da80d3cd90ee0cf86cb8afcf608e96b0681\nparent 93d872dbc88412c2ef1c22be1f81961cae730ac2\nauthor Aaron Hill <aa1ronham@gmail.com> 1547429714 -0500\ncommitter Aaron Hill <aa1ronham@gmail.com> 1549032236 -0500\n\nAlways treat 'std' and 'core' as public\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/08c901f0155b10c55427991e9da6fce83b541f2c", "html_url": "https://github.com/rust-lang/rust/commit/08c901f0155b10c55427991e9da6fce83b541f2c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/08c901f0155b10c55427991e9da6fce83b541f2c/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "93d872dbc88412c2ef1c22be1f81961cae730ac2", "url": "https://api.github.com/repos/rust-lang/rust/commits/93d872dbc88412c2ef1c22be1f81961cae730ac2", "html_url": "https://github.com/rust-lang/rust/commit/93d872dbc88412c2ef1c22be1f81961cae730ac2"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "16d3d332e405693762af1c895051f9822cacdeef", "filename": "src/librustc/session/config.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/08c901f0155b10c55427991e9da6fce83b541f2c/src%2Flibrustc%2Fsession%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/08c901f0155b10c55427991e9da6fce83b541f2c/src%2Flibrustc%2Fsession%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fconfig.rs?ref=08c901f0155b10c55427991e9da6fce83b541f2c", "patch": "@@ -1925,9 +1925,13 @@ pub fn build_session_options_and_crate_config(\n         )\n     }\n \n-    let extern_public: FxHashSet<String> = matches.opt_strs(\"extern-public\").\n+    let mut extern_public: FxHashSet<String> = matches.opt_strs(\"extern-public\").\n         iter().cloned().collect();\n \n+    // TODO - come up with a better way of handling this\n+    extern_public.insert(\"core\".to_string());\n+    extern_public.insert(\"std\".to_string());\n+\n     let (lint_opts, describe_lints, lint_cap) = get_cmd_lint_options(matches, error_format);\n \n     let mut debugging_opts = build_debugging_options(matches, error_format);"}]}