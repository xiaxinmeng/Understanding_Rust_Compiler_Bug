{"sha": "6bc3a488025b5525173b64fc691785aa67fced47", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZiYzNhNDg4MDI1YjU1MjUxNzNiNjRmYzY5MTc4NWFhNjdmY2VkNDc=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-12-15T13:13:46Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-12-15T13:13:46Z"}, "message": "tweak travis.sh", "tree": {"sha": "baadf450b4cf23cffec4c390ff06c7fc9c07cb9a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/baadf450b4cf23cffec4c390ff06c7fc9c07cb9a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6bc3a488025b5525173b64fc691785aa67fced47", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6bc3a488025b5525173b64fc691785aa67fced47", "html_url": "https://github.com/rust-lang/rust/commit/6bc3a488025b5525173b64fc691785aa67fced47", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6bc3a488025b5525173b64fc691785aa67fced47/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fbad6c031083d6c30b6e3dd7d685f9c0c688b716", "url": "https://api.github.com/repos/rust-lang/rust/commits/fbad6c031083d6c30b6e3dd7d685f9c0c688b716", "html_url": "https://github.com/rust-lang/rust/commit/fbad6c031083d6c30b6e3dd7d685f9c0c688b716"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "aded53b1579d647cfad2bb2ff894e21aa8d98035", "filename": "travis.sh", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/6bc3a488025b5525173b64fc691785aa67fced47/travis.sh", "raw_url": "https://github.com/rust-lang/rust/raw/6bc3a488025b5525173b64fc691785aa67fced47/travis.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/travis.sh?ref=6bc3a488025b5525173b64fc691785aa67fced47", "patch": "@@ -11,20 +11,20 @@ else\n fi\n \n echo \"Build and install miri\"\n-cargo build --release --all-features --all-targets &&\n+cargo build --release --all-features --all-targets\n cargo install --all-features --force --path .\n echo\n \n echo \"Get ourselves a MIR-full libstd for the host and a foreign architecture\"\n-cargo miri setup &&\n+cargo miri setup\n cargo miri setup --target \"$FOREIGN_TARGET\"\n echo\n \n echo \"Test miri with full MIR, on the host and other architectures\"\n-MIRI_SYSROOT=$MIRI_SYSROOT_BASE/HOST cargo test --release --all-features &&\n-MIRI_SYSROOT=$MIRI_SYSROOT_BASE MIRI_TARGET=$FOREIGN_TARGET cargo test --release --all-features\n+MIRI_SYSROOT=\"$MIRI_SYSROOT_BASE\"/HOST cargo test --release --all-features\n+MIRI_SYSROOT=\"$MIRI_SYSROOT_BASE\" MIRI_TARGET=\"$FOREIGN_TARGET\" cargo test --release --all-features\n echo\n \n echo \"Test cargo integration\"\n-(cd test-cargo-miri && MIRI_SYSROOT=$MIRI_SYSROOT_BASE/HOST ./run-test.py)\n+(cd test-cargo-miri && MIRI_SYSROOT=\"$MIRI_SYSROOT_BASE\"/HOST ./run-test.py)\n echo"}]}