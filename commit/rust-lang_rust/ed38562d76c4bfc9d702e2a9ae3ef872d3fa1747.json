{"sha": "ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747", "node_id": "C_kwDOAAsO6NoAKGVkMzg1NjJkNzZjNGJmYzlkNzAyZTJhOWFlM2VmODcyZDNmYTE3NDc", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2022-11-08T19:40:53Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-11-08T19:40:53Z"}, "message": "Rollup merge of #104139 - ferrocene:pa-channel-licensing, r=pnkfelix\n\nClarify licensing situation of MPSC and SPSC queue\n\nOriginally, these two files were licensed under the `BSD-2-Clause` license, as they were based off sample code on a blog licensing those snippets under that license:\n\n* `library/std/src/sync/mpsc/mpsc_queue.rs`\n* `library/std/src/sync/mpsc/spsc_queue.rs`\n\nIn 2017 though, the author of that blog agreed to relicense their code under the standard `MIT OR Apache-2.0` license in https://github.com/rust-lang/rust/pull/42149. This PR clarifies the situation in the files by expanding the comment at the top of the file.\n\nr? ``@pnkfelix``", "tree": {"sha": "c2b6c0d896dfb916f98b8b53e84e0171d84ce54b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c2b6c0d896dfb916f98b8b53e84e0171d84ce54b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjarDFCRBK7hj4Ov3rIwAA7IsIALKFxMbSK4XNzeow65IWlCAV\n32PYNDJqBUs2U6X7QOWkkksT7daMtrjvBojQ+J+B/fgbgetQyVxtHOP9ac/IdSds\n52PoqFLVUS8h5/gXewC72UnRyjvGAmv6v2u7vC9Hv/S6cxp2JJRUGz1SUblZlVO9\n/3t/aJ6bKy13XkS6NZ9GrKMe6w6vY+pgSrKYSpnU0hRM5o4EBAPqbktGA13ymRqu\npVZg7j9mZLhWQVvzreaREYwHgI3jNaY85Yc46mFYJUIg8EiziJ1YHq+M4eZdFaRm\nBo/38VAQZBMPm2Fai187lOFUkoUeH/jr9QQQd8XDaiv0CNa+R7/UQWjkhGjlUzE=\n=mXhd\n-----END PGP SIGNATURE-----\n", "payload": "tree c2b6c0d896dfb916f98b8b53e84e0171d84ce54b\nparent a92d83a4ac1eeb62061154a4ca4f624f9184589c\nparent 807a7bfcee7d8eab9a66f039b031381ebce65cd1\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1667936453 +0100\ncommitter GitHub <noreply@github.com> 1667936453 +0100\n\nRollup merge of #104139 - ferrocene:pa-channel-licensing, r=pnkfelix\n\nClarify licensing situation of MPSC and SPSC queue\n\nOriginally, these two files were licensed under the `BSD-2-Clause` license, as they were based off sample code on a blog licensing those snippets under that license:\n\n* `library/std/src/sync/mpsc/mpsc_queue.rs`\n* `library/std/src/sync/mpsc/spsc_queue.rs`\n\nIn 2017 though, the author of that blog agreed to relicense their code under the standard `MIT OR Apache-2.0` license in https://github.com/rust-lang/rust/pull/42149. This PR clarifies the situation in the files by expanding the comment at the top of the file.\n\nr? ``@pnkfelix``\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747", "html_url": "https://github.com/rust-lang/rust/commit/ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a92d83a4ac1eeb62061154a4ca4f624f9184589c", "url": "https://api.github.com/repos/rust-lang/rust/commits/a92d83a4ac1eeb62061154a4ca4f624f9184589c", "html_url": "https://github.com/rust-lang/rust/commit/a92d83a4ac1eeb62061154a4ca4f624f9184589c"}, {"sha": "807a7bfcee7d8eab9a66f039b031381ebce65cd1", "url": "https://api.github.com/repos/rust-lang/rust/commits/807a7bfcee7d8eab9a66f039b031381ebce65cd1", "html_url": "https://github.com/rust-lang/rust/commit/807a7bfcee7d8eab9a66f039b031381ebce65cd1"}], "stats": {"total": 19, "additions": 17, "deletions": 2}, "files": [{"sha": "7322512e3b4585346b96d8b31bf29a94f673eb7c", "filename": "library/std/src/sync/mpsc/mpsc_queue.rs", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fmpsc_queue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fmpsc_queue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fmpsc_queue.rs?ref=ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747", "patch": "@@ -8,8 +8,15 @@\n //! method, and see the method for more information about it. Due to this\n //! caveat, this queue might not be appropriate for all use-cases.\n \n-// https://www.1024cores.net/home/lock-free-algorithms\n-//                          /queues/non-intrusive-mpsc-node-based-queue\n+// The original implementation is based off:\n+// https://www.1024cores.net/home/lock-free-algorithms/queues/non-intrusive-mpsc-node-based-queue\n+//\n+// Note that back when the code was imported, it was licensed under the BSD-2-Clause license:\n+// http://web.archive.org/web/20110411011612/https://www.1024cores.net/home/lock-free-algorithms/queues/unbounded-spsc-queue\n+//\n+// The original author of the code agreed to relicense it under `MIT OR Apache-2.0` in 2017, so as\n+// of today the license of this file is the same as the rest of the codebase:\n+// https://github.com/rust-lang/rust/pull/42149\n \n #[cfg(all(test, not(target_os = \"emscripten\")))]\n mod tests;"}, {"sha": "61f91313ea96d79f645c4cfee272826ee5947de3", "filename": "library/std/src/sync/mpsc/spsc_queue.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fspsc_queue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fspsc_queue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fspsc_queue.rs?ref=ed38562d76c4bfc9d702e2a9ae3ef872d3fa1747", "patch": "@@ -4,7 +4,15 @@\n //! concurrently between two threads. This data structure is safe to use and\n //! enforces the semantics that there is one pusher and one popper.\n \n+// The original implementation is based off:\n // https://www.1024cores.net/home/lock-free-algorithms/queues/unbounded-spsc-queue\n+//\n+// Note that back when the code was imported, it was licensed under the BSD-2-Clause license:\n+// http://web.archive.org/web/20110411011612/https://www.1024cores.net/home/lock-free-algorithms/queues/unbounded-spsc-queue\n+//\n+// The original author of the code agreed to relicense it under `MIT OR Apache-2.0` in 2017, so as\n+// of today the license of this file is the same as the rest of the codebase:\n+// https://github.com/rust-lang/rust/pull/42149\n \n #[cfg(all(test, not(target_os = \"emscripten\")))]\n mod tests;"}]}