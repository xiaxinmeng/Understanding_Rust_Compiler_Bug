{"sha": "13353111dadc932c52a63ca8c243f1dd8fce9a7a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEzMzUzMTExZGFkYzkzMmM1MmE2M2NhOGMyNDNmMWRkOGZjZTlhN2E=", "commit": {"author": {"name": "Christian Duerr", "email": "contact@christianduerr.com", "date": "2018-07-25T12:54:09Z"}, "committer": {"name": "Christian Duerr", "email": "contact@christianduerr.com", "date": "2018-07-25T12:54:09Z"}, "message": "Add known problem to `needless_borrow` lint\n\nThe `needless_borrow` lint is temporarily disabled because of some false\npositives it causes in combination with the `derive` macro.\n\nHowever the documentation does not explain these issues, but instead\nlists `Known problems: None`. To make it clear why this lint is\ncurrently not enabled, a description of the false positives caused by\nthis lint has been added to the `Known problems` section.", "tree": {"sha": "c78b87cd38a0229e3eb9d443ce078fdd5a985d1c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c78b87cd38a0229e3eb9d443ce078fdd5a985d1c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/13353111dadc932c52a63ca8c243f1dd8fce9a7a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEETapnqeqLkfzBW2mchc2uPBZLp7QFAltYc3sACgkQhc2uPBZL\np7RTygf+OIyoSndpoz3MaeI36vx+ZJSda0luPeXJYOxD23Jni37uU7KDjVH65Yba\nzjE6yI+Eg6Qn4Vw6c1JnLYXs60d6XQdatwN3sw4V0I5DXUd2EO90aVElYfO9+lnv\nliiYisrdynSjENluuFCI+YoQSHUvZqJ25FPSBiC3kiblyU0MPSs6qpJHjtHcJy/X\n2Hnst/24xe9ERzIk329Um0yuYWIPmAiAS62ufHHh7buvsBeERYLeflnIDQbQNeDl\n5hhqXORglVh7bvAni5M3nz9p1x90nlqQd3fr+NvCVKwQq6YP9B93zRiuI653ho6a\nf1k+AfMCSRxHBMSdHZvlBHdkI04GNQ==\n=ZINF\n-----END PGP SIGNATURE-----", "payload": "tree c78b87cd38a0229e3eb9d443ce078fdd5a985d1c\nparent fde487c1dc61919b123a315f6a6132850b0a5fe3\nauthor Christian Duerr <contact@christianduerr.com> 1532523249 +0200\ncommitter Christian Duerr <contact@christianduerr.com> 1532523249 +0200\n\nAdd known problem to `needless_borrow` lint\n\nThe `needless_borrow` lint is temporarily disabled because of some false\npositives it causes in combination with the `derive` macro.\n\nHowever the documentation does not explain these issues, but instead\nlists `Known problems: None`. To make it clear why this lint is\ncurrently not enabled, a description of the false positives caused by\nthis lint has been added to the `Known problems` section.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/13353111dadc932c52a63ca8c243f1dd8fce9a7a", "html_url": "https://github.com/rust-lang/rust/commit/13353111dadc932c52a63ca8c243f1dd8fce9a7a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/13353111dadc932c52a63ca8c243f1dd8fce9a7a/comments", "author": {"login": "chrisduerr", "id": 8886672, "node_id": "MDQ6VXNlcjg4ODY2NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8886672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisduerr", "html_url": "https://github.com/chrisduerr", "followers_url": "https://api.github.com/users/chrisduerr/followers", "following_url": "https://api.github.com/users/chrisduerr/following{/other_user}", "gists_url": "https://api.github.com/users/chrisduerr/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisduerr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisduerr/subscriptions", "organizations_url": "https://api.github.com/users/chrisduerr/orgs", "repos_url": "https://api.github.com/users/chrisduerr/repos", "events_url": "https://api.github.com/users/chrisduerr/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisduerr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chrisduerr", "id": 8886672, "node_id": "MDQ6VXNlcjg4ODY2NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8886672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisduerr", "html_url": "https://github.com/chrisduerr", "followers_url": "https://api.github.com/users/chrisduerr/followers", "following_url": "https://api.github.com/users/chrisduerr/following{/other_user}", "gists_url": "https://api.github.com/users/chrisduerr/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisduerr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisduerr/subscriptions", "organizations_url": "https://api.github.com/users/chrisduerr/orgs", "repos_url": "https://api.github.com/users/chrisduerr/repos", "events_url": "https://api.github.com/users/chrisduerr/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisduerr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fde487c1dc61919b123a315f6a6132850b0a5fe3", "url": "https://api.github.com/repos/rust-lang/rust/commits/fde487c1dc61919b123a315f6a6132850b0a5fe3", "html_url": "https://github.com/rust-lang/rust/commit/fde487c1dc61919b123a315f6a6132850b0a5fe3"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "cb2c572743db87831c23b9690b5544028043927c", "filename": "clippy_lints/src/needless_borrow.rs", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/13353111dadc932c52a63ca8c243f1dd8fce9a7a/clippy_lints%2Fsrc%2Fneedless_borrow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/13353111dadc932c52a63ca8c243f1dd8fce9a7a/clippy_lints%2Fsrc%2Fneedless_borrow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_borrow.rs?ref=13353111dadc932c52a63ca8c243f1dd8fce9a7a", "patch": "@@ -16,12 +16,23 @@ use crate::utils::{in_macro, snippet_opt, span_lint_and_then};\n /// **Why is this bad?** Suggests that the receiver of the expression borrows\n /// the expression.\n ///\n-/// **Known problems:** None.\n-///\n /// **Example:**\n /// ```rust\n /// let x: &i32 = &&&&&&5;\n /// ```\n+///\n+/// **Known problems:** This will cause false positives in code generated by `derive`.\n+/// For instance in the following snippet:\n+/// ```rust\n+/// #[derive(Debug)]\n+/// pub enum Error {\n+///     Type(\n+///         &'static str,\n+///     ),\n+/// }\n+/// ```\n+/// A warning will be emitted that `&'static str` should be replaced with `&'static str`,\n+/// however there is nothing that can or should be done to fix this.\n declare_clippy_lint! {\n     pub NEEDLESS_BORROW,\n     nursery,"}]}