{"sha": "9ffe4ca26ce473d165e2fb925c6dedf7abad1591", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlmZmU0Y2EyNmNlNDczZDE2NWUyZmI5MjVjNmRlZGY3YWJhZDE1OTE=", "commit": {"author": {"name": "Ilya Bobyr", "email": "ilya.bobyr@gmail.com", "date": "2021-02-04T02:49:59Z"}, "committer": {"name": "Ilya Bobyr", "email": "ilya.bobyr@gmail.com", "date": "2021-02-08T04:24:56Z"}, "message": "Vim docs: vim-lsp with initial configuration.\n\n`vim-lsp` is another popular LSP client for Vim.  And, as there is no\n`rust-analyzer` specific UI, it is non-trivial to figure out how the\ninitial configuration is performed.", "tree": {"sha": "150b02bc54dd0eb8e273ee7b88708a970fbdf896", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/150b02bc54dd0eb8e273ee7b88708a970fbdf896"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9ffe4ca26ce473d165e2fb925c6dedf7abad1591", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9ffe4ca26ce473d165e2fb925c6dedf7abad1591", "html_url": "https://github.com/rust-lang/rust/commit/9ffe4ca26ce473d165e2fb925c6dedf7abad1591", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9ffe4ca26ce473d165e2fb925c6dedf7abad1591/comments", "author": {"login": "ilya-bobyr", "id": 694419, "node_id": "MDQ6VXNlcjY5NDQxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/694419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilya-bobyr", "html_url": "https://github.com/ilya-bobyr", "followers_url": "https://api.github.com/users/ilya-bobyr/followers", "following_url": "https://api.github.com/users/ilya-bobyr/following{/other_user}", "gists_url": "https://api.github.com/users/ilya-bobyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilya-bobyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilya-bobyr/subscriptions", "organizations_url": "https://api.github.com/users/ilya-bobyr/orgs", "repos_url": "https://api.github.com/users/ilya-bobyr/repos", "events_url": "https://api.github.com/users/ilya-bobyr/events{/privacy}", "received_events_url": "https://api.github.com/users/ilya-bobyr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ilya-bobyr", "id": 694419, "node_id": "MDQ6VXNlcjY5NDQxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/694419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilya-bobyr", "html_url": "https://github.com/ilya-bobyr", "followers_url": "https://api.github.com/users/ilya-bobyr/followers", "following_url": "https://api.github.com/users/ilya-bobyr/following{/other_user}", "gists_url": "https://api.github.com/users/ilya-bobyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilya-bobyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilya-bobyr/subscriptions", "organizations_url": "https://api.github.com/users/ilya-bobyr/orgs", "repos_url": "https://api.github.com/users/ilya-bobyr/repos", "events_url": "https://api.github.com/users/ilya-bobyr/events{/privacy}", "received_events_url": "https://api.github.com/users/ilya-bobyr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6781692732d04968fe8ce09ded59f2faae492d82", "url": "https://api.github.com/repos/rust-lang/rust/commits/6781692732d04968fe8ce09ded59f2faae492d82", "html_url": "https://github.com/rust-lang/rust/commit/6781692732d04968fe8ce09ded59f2faae492d82"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "a1018b0cb7f3e2e92a2e71451fdbefdda2ae4b82", "filename": "docs/user/manual.adoc", "status": "modified", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/9ffe4ca26ce473d165e2fb925c6dedf7abad1591/docs%2Fuser%2Fmanual.adoc", "raw_url": "https://github.com/rust-lang/rust/raw/9ffe4ca26ce473d165e2fb925c6dedf7abad1591/docs%2Fuser%2Fmanual.adoc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Fmanual.adoc?ref=9ffe4ca26ce473d165e2fb925c6dedf7abad1591", "patch": "@@ -307,6 +307,52 @@ EOF\n \n See https://sharksforarms.dev/posts/neovim-rust/ for more tips on getting started.\n \n+==== vim-lsp\n+\n+vim-lsp is installed by following https://github.com/prabirshrestha/vim-lsp[the plugin instructions].\n+It can be as simple as adding this line to your `.vimrc`:\n+\n+[source,vim]\n+----\n+Plug 'prabirshrestha/vim-lsp'\n+----\n+\n+Next you need to register the `rust-analyzer` binary.\n+If it is available in `$PATH`, you may want to add this to your `.vimrc`:\n+\n+[source,vim]\n+----\n+if executable('rust-analyzer')\n+  au User lsp_setup call lsp#register_server({\n+        \\   'name': 'Rust Language Server',\n+        \\   'cmd': {server_info->['rust-analyzer']},\n+        \\   'whitelist': ['rust'],\n+        \\ })\n+endif\n+----\n+\n+There is no dedicated UI for the server configuration, so you would need to send any options as a value of the `initialization_options` field, as described in the <<_configuration,Configuration>> section.\n+Here is an example of how to enable the proc-macro support:\n+\n+[source,vim]\n+----\n+if executable('rust-analyzer')\n+  au User lsp_setup call lsp#register_server({\n+        \\   'name': 'Rust Language Server',\n+        \\   'cmd': {server_info->['rust-analyzer']},\n+        \\   'whitelist': ['rust'],\n+        \\   'initialization_options': {\n+        \\     'cargo': {\n+        \\       'loadOutDirsFromCheck': v:true,\n+        \\     },\n+        \\     'procMacro': {\n+        \\       'enable': v:true,\n+        \\     },\n+        \\   },\n+        \\ })\n+endif\n+----\n+\n === Sublime Text 3\n \n Prerequisites: You have installed the <<rust-analyzer-language-server-binary,`rust-analyzer` binary>>."}]}