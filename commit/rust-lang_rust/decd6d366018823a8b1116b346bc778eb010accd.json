{"sha": "decd6d366018823a8b1116b346bc778eb010accd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRlY2Q2ZDM2NjAxODgyM2E4YjExMTZiMzQ2YmM3NzhlYjAxMGFjY2Q=", "commit": {"author": {"name": "Felix S Klock II", "email": "pnkfelix@pnkfx.org", "date": "2019-05-13T11:29:49Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-05-13T11:29:49Z"}, "message": "modify comment\n\nmodify the comment on `in_cycle` to reflect changes requested by ariel and myself.", "tree": {"sha": "1649e976af6d8742ecbe3327776f6eaea989f1be", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1649e976af6d8742ecbe3327776f6eaea989f1be"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/decd6d366018823a8b1116b346bc778eb010accd", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJc2VUtCRBK7hj4Ov3rIwAAdHIIAJwq2JEv5D+8lUAjMms2X3wU\nMZq9Yu6mLrnN5eggS4v8rAGg9QBdtzxEhJQJz98skOTjQ0/x6P9RV2p5OIvLZKYy\nn2NmeIgrBjxMphjQdnaLUcJmBz1K9Nd75Tl9zm4m1PcOZKc1Aqw81j1yKSYw9qU1\nHmq2KygLmZDcNBqAkHQg4NbU9AqwT7kWH0I/+gnuznCwOfBY7aeZydnlb+F2AKgS\nRjz6bocN4lPk9gh63M9kDyWziiFnIO7VFdBQ1jlfiC6lcuJ3oNJvYy3t7VDYElq3\nc5HoYihhUDAXpRILof8X7eLTUuNxO6zZQH/q6n3LsKTd0SC83SonDxZlJe8fzH0=\n=k/Hv\n-----END PGP SIGNATURE-----\n", "payload": "tree 1649e976af6d8742ecbe3327776f6eaea989f1be\nparent bd005a242a3125c432a76f982dab5a8d59e970f2\nauthor Felix S Klock II <pnkfelix@pnkfx.org> 1557746989 +0200\ncommitter GitHub <noreply@github.com> 1557746989 +0200\n\nmodify comment\n\nmodify the comment on `in_cycle` to reflect changes requested by ariel and myself."}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/decd6d366018823a8b1116b346bc778eb010accd", "html_url": "https://github.com/rust-lang/rust/commit/decd6d366018823a8b1116b346bc778eb010accd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/decd6d366018823a8b1116b346bc778eb010accd/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bd005a242a3125c432a76f982dab5a8d59e970f2", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd005a242a3125c432a76f982dab5a8d59e970f2", "html_url": "https://github.com/rust-lang/rust/commit/bd005a242a3125c432a76f982dab5a8d59e970f2"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "b333f4b96514d8c4d5cb9e6e0a090085457ea1c2", "filename": "src/librustc/traits/select.rs", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/decd6d366018823a8b1116b346bc778eb010accd/src%2Flibrustc%2Ftraits%2Fselect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/decd6d366018823a8b1116b346bc778eb010accd/src%2Flibrustc%2Ftraits%2Fselect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Fselect.rs?ref=decd6d366018823a8b1116b346bc778eb010accd", "patch": "@@ -173,10 +173,15 @@ struct TraitObligationStack<'prev, 'tcx: 'prev> {\n     /// well as the second instance of `A: AutoTrait`) to supress\n     /// caching.\n     ///\n-    /// This is a simple, targeted fix. The correct fix requires\n+    /// This is a simple, targeted fix. A more-performant fix requires\n     /// deeper changes, but would permit more caching: we could\n     /// basically defer caching until we have fully evaluated the\n-    /// tree, and then cache the entire tree at once.\n+    /// tree, and then cache the entire tree at once. In any case, the\n+    /// performance impact here shouldn't be so horrible: every time\n+    /// this is hit, we do cache at least one trait, so we only\n+    /// evaluate each member of a cycle up to N times, where N is the\n+    /// length of the cycle. This means the performance impact is\n+    /// bounded and we shouldn't have any terrible worst-cases.\n     in_cycle: Cell<bool>,\n \n     previous: TraitObligationStackList<'prev, 'tcx>,"}]}