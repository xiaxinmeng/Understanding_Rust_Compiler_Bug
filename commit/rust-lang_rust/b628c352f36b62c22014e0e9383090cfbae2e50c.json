{"sha": "b628c352f36b62c22014e0e9383090cfbae2e50c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI2MjhjMzUyZjM2YjYyYzIyMDE0ZTBlOTM4MzA5MGNmYmFlMmU1MGM=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-03-27T00:35:26Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-03-27T00:35:26Z"}, "message": "Fix Makefile.in grep for use on weaker greps (win32 mingw).", "tree": {"sha": "636f3326d2b1e3c1f525704902b6c61f6a4bdd6b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/636f3326d2b1e3c1f525704902b6c61f6a4bdd6b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b628c352f36b62c22014e0e9383090cfbae2e50c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b628c352f36b62c22014e0e9383090cfbae2e50c", "html_url": "https://github.com/rust-lang/rust/commit/b628c352f36b62c22014e0e9383090cfbae2e50c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b628c352f36b62c22014e0e9383090cfbae2e50c/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bea41aa7d8ef0d47b973fada981723cefc37d490", "url": "https://api.github.com/repos/rust-lang/rust/commits/bea41aa7d8ef0d47b973fada981723cefc37d490", "html_url": "https://github.com/rust-lang/rust/commit/bea41aa7d8ef0d47b973fada981723cefc37d490"}], "stats": {"total": 21, "additions": 6, "deletions": 15}, "files": [{"sha": "98c110cde156b89092034a4bb9a1c03bdda8b67e", "filename": "Makefile.in", "status": "modified", "additions": 6, "deletions": 15, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/b628c352f36b62c22014e0e9383090cfbae2e50c/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/b628c352f36b62c22014e0e9383090cfbae2e50c/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=b628c352f36b62c22014e0e9383090cfbae2e50c", "patch": "@@ -568,17 +568,12 @@ docsnap: doc/rust.pdf\n # Testing variables\n ######################################################################\n \n-TEST_XFAILS_BOOT = $(shell grep \\\n-                       --recursive \\\n-                       --files-with-matches \\\n-                       --include=*.rs --include=*.rc \\\n-                       xfail-boot $(S)src/test)\n-\n-TEST_XFAILS_STAGE0 = $(shell grep \\\n-                       --recursive \\\n-                       --files-with-matches \\\n-                       --include=*.rs --include=*.rc \\\n-                       xfail-stage0 $(S)src/test)\n+ALL_TEST_INPUTS = $(wildcard $(S)src/test/*/*.rs   \\\n+                              $(S)src/test/*/*/*.rs \\\n+                              $(S)src/test/*/*.rc)\n+\n+TEST_XFAILS_BOOT = $(shell grep -l xfail-boot $(ALL_TEST_INPUTS))\n+TEST_XFAILS_STAGE0 = $(shell grep -l xfail-stage0 $(ALL_TEST_INPUTS))\n \n ifdef MINGW_CROSS\n TEST_XFAILS_BOOT += $(S)src/test/run-pass/native-mod.rc\n@@ -688,10 +683,6 @@ ALL_TEST_SOURCES = $(TEST_CFAIL_SOURCES_BOOT) \\\n                     $(TEST_RFAIL_SOURCES_STAGE0) \\\n                     $(TEST_RPASS_SOURCES_STAGE0)\n \n-ALL_TEST_INPUTS = $(wildcard $(S)src/test/*/*.rs   \\\n-                              $(S)src/test/*/*/*.rs \\\n-                              $(S)src/test/*/*.rc)\n-\n # The test suite currently relies on logging to validate results so\n # make sure that logging uses the default configuration\n unexport RUST_LOG"}]}