{"sha": "25a6daccab2c8a266bea8a03091175ff21a9a465", "node_id": "C_kwDOAAsO6NoAKDI1YTZkYWNjYWIyYzhhMjY2YmVhOGEwMzA5MTE3NWZmMjFhOWE0NjU", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-12-08T05:16:39Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-12-08T05:16:57Z"}, "message": "Move codegen_select_candidate to a rustc_traits", "tree": {"sha": "78525f17d85598cfa6d02b2d45400a9eba6055a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/78525f17d85598cfa6d02b2d45400a9eba6055a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/25a6daccab2c8a266bea8a03091175ff21a9a465", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/25a6daccab2c8a266bea8a03091175ff21a9a465", "html_url": "https://github.com/rust-lang/rust/commit/25a6daccab2c8a266bea8a03091175ff21a9a465", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/25a6daccab2c8a266bea8a03091175ff21a9a465/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b36035c20f89e33d5acc4f41d913a13700bd77c2", "url": "https://api.github.com/repos/rust-lang/rust/commits/b36035c20f89e33d5acc4f41d913a13700bd77c2", "html_url": "https://github.com/rust-lang/rust/commit/b36035c20f89e33d5acc4f41d913a13700bd77c2"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "ea4bf42c515b5fb5a7aa83413b4d3eca80236736", "filename": "compiler/rustc_trait_selection/src/traits/mod.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/25a6daccab2c8a266bea8a03091175ff21a9a465/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/25a6daccab2c8a266bea8a03091175ff21a9a465/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fmod.rs?ref=25a6daccab2c8a266bea8a03091175ff21a9a465", "patch": "@@ -4,7 +4,6 @@\n \n pub mod auto_trait;\n mod chalk_fulfill;\n-pub mod codegen;\n mod coherence;\n pub mod const_evaluatable;\n mod engine;\n@@ -569,7 +568,6 @@ pub fn provide(providers: &mut ty::query::Providers) {\n     *providers = ty::query::Providers {\n         specialization_graph_of: specialize::specialization_graph_provider,\n         specializes: specialize::specializes,\n-        codegen_select_candidate: codegen::codegen_select_candidate,\n         subst_and_check_impossible_predicates,\n         is_impossible_method,\n         ..*providers"}, {"sha": "f8f74b732efd3c20c0653b9d742afe596202bbb7", "filename": "compiler/rustc_traits/src/codegen.rs", "status": "renamed", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/25a6daccab2c8a266bea8a03091175ff21a9a465/compiler%2Frustc_traits%2Fsrc%2Fcodegen.rs", "raw_url": "https://github.com/rust-lang/rust/raw/25a6daccab2c8a266bea8a03091175ff21a9a465/compiler%2Frustc_traits%2Fsrc%2Fcodegen.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Fcodegen.rs?ref=25a6daccab2c8a266bea8a03091175ff21a9a465", "patch": "@@ -3,15 +3,15 @@\n // seems likely that they should eventually be merged into more\n // general routines.\n \n-use crate::infer::{DefiningAnchor, TyCtxtInferExt};\n-use crate::traits::error_reporting::TypeErrCtxtExt;\n-use crate::traits::{\n-    ImplSource, Obligation, ObligationCause, SelectionContext, TraitEngine, TraitEngineExt,\n-    Unimplemented,\n-};\n+use rustc_infer::infer::{DefiningAnchor, TyCtxtInferExt};\n use rustc_infer::traits::FulfillmentErrorCode;\n use rustc_middle::traits::CodegenObligationError;\n use rustc_middle::ty::{self, TyCtxt};\n+use rustc_trait_selection::traits::error_reporting::TypeErrCtxtExt;\n+use rustc_trait_selection::traits::{\n+    ImplSource, Obligation, ObligationCause, SelectionContext, TraitEngine, TraitEngineExt,\n+    Unimplemented,\n+};\n \n /// Attempts to resolve an obligation to an `ImplSource`. The result is\n /// a shallow `ImplSource` resolution, meaning that we do not", "previous_filename": "compiler/rustc_trait_selection/src/traits/codegen.rs"}, {"sha": "4041fbc2ffa43775928d7d13a0759534fea59348", "filename": "compiler/rustc_traits/src/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/25a6daccab2c8a266bea8a03091175ff21a9a465/compiler%2Frustc_traits%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/25a6daccab2c8a266bea8a03091175ff21a9a465/compiler%2Frustc_traits%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Flib.rs?ref=25a6daccab2c8a266bea8a03091175ff21a9a465", "patch": "@@ -18,6 +18,7 @@ mod implied_outlives_bounds;\n mod normalize_erasing_regions;\n mod normalize_projection_ty;\n mod type_op;\n+mod codegen;\n \n pub use type_op::{type_op_ascribe_user_type_with_span, type_op_prove_predicate_with_cause};\n \n@@ -31,4 +32,5 @@ pub fn provide(p: &mut Providers) {\n     normalize_projection_ty::provide(p);\n     normalize_erasing_regions::provide(p);\n     type_op::provide(p);\n+    p.codegen_select_candidate = codegen::codegen_select_candidate;\n }"}]}