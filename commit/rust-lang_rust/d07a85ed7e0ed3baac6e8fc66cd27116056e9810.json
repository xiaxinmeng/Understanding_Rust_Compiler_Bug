{"sha": "d07a85ed7e0ed3baac6e8fc66cd27116056e9810", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQwN2E4NWVkN2UwZWQzYmFhYzZlOGZjNjZjZDI3MTE2MDU2ZTk4MTA=", "commit": {"author": {"name": "xfoxfu", "email": "i@xfox.me", "date": "2019-08-19T02:48:39Z"}, "committer": {"name": "xfoxfu", "email": "i@xfox.me", "date": "2019-08-19T02:48:39Z"}, "message": "fix #1424\nresolve \"~\" in raLspServerPath", "tree": {"sha": "12bb8180259d4e9c9cf54c5c42ebf99792fd4f15", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/12bb8180259d4e9c9cf54c5c42ebf99792fd4f15"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d07a85ed7e0ed3baac6e8fc66cd27116056e9810", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d07a85ed7e0ed3baac6e8fc66cd27116056e9810", "html_url": "https://github.com/rust-lang/rust/commit/d07a85ed7e0ed3baac6e8fc66cd27116056e9810", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d07a85ed7e0ed3baac6e8fc66cd27116056e9810/comments", "author": {"login": "xfoxfu", "id": 3616727, "node_id": "MDQ6VXNlcjM2MTY3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/3616727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xfoxfu", "html_url": "https://github.com/xfoxfu", "followers_url": "https://api.github.com/users/xfoxfu/followers", "following_url": "https://api.github.com/users/xfoxfu/following{/other_user}", "gists_url": "https://api.github.com/users/xfoxfu/gists{/gist_id}", "starred_url": "https://api.github.com/users/xfoxfu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xfoxfu/subscriptions", "organizations_url": "https://api.github.com/users/xfoxfu/orgs", "repos_url": "https://api.github.com/users/xfoxfu/repos", "events_url": "https://api.github.com/users/xfoxfu/events{/privacy}", "received_events_url": "https://api.github.com/users/xfoxfu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xfoxfu", "id": 3616727, "node_id": "MDQ6VXNlcjM2MTY3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/3616727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xfoxfu", "html_url": "https://github.com/xfoxfu", "followers_url": "https://api.github.com/users/xfoxfu/followers", "following_url": "https://api.github.com/users/xfoxfu/following{/other_user}", "gists_url": "https://api.github.com/users/xfoxfu/gists{/gist_id}", "starred_url": "https://api.github.com/users/xfoxfu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xfoxfu/subscriptions", "organizations_url": "https://api.github.com/users/xfoxfu/orgs", "repos_url": "https://api.github.com/users/xfoxfu/repos", "events_url": "https://api.github.com/users/xfoxfu/events{/privacy}", "received_events_url": "https://api.github.com/users/xfoxfu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2bac1bdf174a053f0727e982f0f92d068ef3c208", "url": "https://api.github.com/repos/rust-lang/rust/commits/2bac1bdf174a053f0727e982f0f92d068ef3c208", "html_url": "https://github.com/rust-lang/rust/commit/2bac1bdf174a053f0727e982f0f92d068ef3c208"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "3273d874970dcbcfe63487721c0acf36cff6c396", "filename": "editors/code/src/server.ts", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/d07a85ed7e0ed3baac6e8fc66cd27116056e9810/editors%2Fcode%2Fsrc%2Fserver.ts", "raw_url": "https://github.com/rust-lang/rust/raw/d07a85ed7e0ed3baac6e8fc66cd27116056e9810/editors%2Fcode%2Fsrc%2Fserver.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fserver.ts?ref=d07a85ed7e0ed3baac6e8fc66cd27116056e9810", "patch": "@@ -1,9 +1,17 @@\n+import { homedir } from 'os';\n import * as lc from 'vscode-languageclient';\n \n import { window, workspace } from 'vscode';\n import { Config } from './config';\n import { Highlighter } from './highlighting';\n \n+function expandPathResolving(path: string) {\n+    if (path.startsWith('~/')) {\n+        return path.replace('~', homedir());\n+    }\n+    return path;\n+}\n+\n export class Server {\n     public static highlighter = new Highlighter();\n     public static config = new Config();\n@@ -20,7 +28,7 @@ export class Server {\n         }\n \n         const run: lc.Executable = {\n-            command: this.config.raLspServerPath,\n+            command: expandPathResolving(this.config.raLspServerPath),\n             options: { cwd: folder }\n         };\n         const serverOptions: lc.ServerOptions = {"}]}