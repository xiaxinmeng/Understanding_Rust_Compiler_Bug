{"sha": "921aa50d184e6ccd4a9dd7fc8bf4f6393f30b3f7", "node_id": "C_kwDOAAsO6NoAKDkyMWFhNTBkMTg0ZTZjY2Q0YTlkZDdmYzhiZjRmNjM5M2YzMGIzZjc", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-06-20T18:04:34Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-07-09T16:49:05Z"}, "message": "Fix epage's nits\n\n* Use real newlines in command descriptions\n* Make `--dest-dir` optional\n* Show help message when no subcommand is supplied", "tree": {"sha": "d14b1f7a52a83142b61a9eccc22e8b3ea3a8240d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d14b1f7a52a83142b61a9eccc22e8b3ea3a8240d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/921aa50d184e6ccd4a9dd7fc8bf4f6393f30b3f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/921aa50d184e6ccd4a9dd7fc8bf4f6393f30b3f7", "html_url": "https://github.com/rust-lang/rust/commit/921aa50d184e6ccd4a9dd7fc8bf4f6393f30b3f7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/921aa50d184e6ccd4a9dd7fc8bf4f6393f30b3f7/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "271bad9b08ec51cfd9236359b9fe6234e7fe4d48", "url": "https://api.github.com/repos/rust-lang/rust/commits/271bad9b08ec51cfd9236359b9fe6234e7fe4d48", "html_url": "https://github.com/rust-lang/rust/commit/271bad9b08ec51cfd9236359b9fe6234e7fe4d48"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "3c7dc0183d7761e62b8a3bb839edcf7ec7299108", "filename": "src/tools/rustbook/src/main.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/921aa50d184e6ccd4a9dd7fc8bf4f6393f30b3f7/src%2Ftools%2Frustbook%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/921aa50d184e6ccd4a9dd7fc8bf4f6393f30b3f7/src%2Ftools%2Frustbook%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frustbook%2Fsrc%2Fmain.rs?ref=921aa50d184e6ccd4a9dd7fc8bf4f6393f30b3f7", "patch": "@@ -12,15 +12,17 @@ fn main() {\n     let crate_version = format!(\"v{}\", crate_version!());\n     env_logger::Builder::from_env(env_logger::Env::default().default_filter_or(\"warn\")).init();\n     let d_arg = arg!(-d --\"dest-dir\" <DEST_DIR>\n-\"The output directory for your book{n}(Defaults to ./book when omitted)\");\n+\"The output directory for your book\\n(Defaults to ./book when omitted)\")\n+    .required(false);\n     let dir_arg = arg!([dir]\n-\"A directory for your book{n}(Defaults to Current Directory when omitted)\");\n+\"A directory for your book\\n(Defaults to Current Directory when omitted)\");\n \n     let matches = Command::new(\"rustbook\")\n         .about(\"Build a book with mdBook\")\n         .author(\"Steve Klabnik <steve@steveklabnik.com>\")\n         .version(&*crate_version)\n         .subcommand_required(true)\n+        .arg_required_else_help(true)\n         .subcommand(\n             Command::new(\"build\")\n                 .about(\"Build the book from the markdown files\")"}]}