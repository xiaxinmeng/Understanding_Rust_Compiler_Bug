{"sha": "1a6092e05cecdaef984b2b0174089e6ae8c24181", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhNjA5MmUwNWNlY2RhZWY5ODRiMmIwMTc0MDg5ZTZhZThjMjQxODE=", "commit": {"author": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-03-08T22:27:12Z"}, "committer": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-03-09T05:18:07Z"}, "message": "Forbid `use Trait::*`", "tree": {"sha": "3a41890409d84a547ca748dc1deec3b80b63f9a0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3a41890409d84a547ca748dc1deec3b80b63f9a0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1a6092e05cecdaef984b2b0174089e6ae8c24181", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1a6092e05cecdaef984b2b0174089e6ae8c24181", "html_url": "https://github.com/rust-lang/rust/commit/1a6092e05cecdaef984b2b0174089e6ae8c24181", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1a6092e05cecdaef984b2b0174089e6ae8c24181/comments", "author": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e2171bff7508a76b6c34b2bd9214c19808a3cbaf", "url": "https://api.github.com/repos/rust-lang/rust/commits/e2171bff7508a76b6c34b2bd9214c19808a3cbaf", "html_url": "https://github.com/rust-lang/rust/commit/e2171bff7508a76b6c34b2bd9214c19808a3cbaf"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "e604107f338ae2371030c5e940ea917bb7e92632", "filename": "src/librustc_resolve/resolve_imports.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1a6092e05cecdaef984b2b0174089e6ae8c24181/src%2Flibrustc_resolve%2Fresolve_imports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a6092e05cecdaef984b2b0174089e6ae8c24181/src%2Flibrustc_resolve%2Fresolve_imports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fresolve_imports.rs?ref=1a6092e05cecdaef984b2b0174089e6ae8c24181", "patch": "@@ -586,6 +586,10 @@ impl<'a, 'b:'a, 'tcx:'b> ImportResolver<'a, 'b, 'tcx> {\n                            target_module: Module<'b>,\n                            directive: &'b ImportDirective)\n                            -> ResolveResult<()> {\n+        if let Some(Def::Trait(_)) = target_module.def {\n+            self.resolver.session.span_err(directive.span, \"items in traits are not importable.\");\n+        }\n+\n         if module_.def_id() == target_module.def_id() {\n             // This means we are trying to glob import a module into itself, and it is a no-go\n             let msg = \"Cannot glob-import a module into itself.\".into();"}, {"sha": "71c7e6009655b7e514eb7d0241e9b7ed182fdb90", "filename": "src/test/compile-fail/issue-30560.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/1a6092e05cecdaef984b2b0174089e6ae8c24181/src%2Ftest%2Fcompile-fail%2Fissue-30560.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a6092e05cecdaef984b2b0174089e6ae8c24181/src%2Ftest%2Fcompile-fail%2Fissue-30560.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-30560.rs?ref=1a6092e05cecdaef984b2b0174089e6ae8c24181", "patch": "@@ -12,4 +12,7 @@ type Alias = ();\n use Alias::*; //~ ERROR Not a module\n use std::io::Result::*; //~ ERROR Not a module\n \n+trait T {}\n+use T::*; //~ ERROR items in traits are not importable\n+\n fn main() {}"}]}