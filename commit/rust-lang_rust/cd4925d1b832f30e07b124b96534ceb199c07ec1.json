{"sha": "cd4925d1b832f30e07b124b96534ceb199c07ec1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkNDkyNWQxYjgzMmYzMGUwN2IxMjRiOTY1MzRjZWIxOTljMDdlYzE=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2018-04-23T22:50:28Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2018-05-17T20:13:09Z"}, "message": "Add tests", "tree": {"sha": "ce09c8079f0f4772267e3b90bbcbb9c7cde879ed", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ce09c8079f0f4772267e3b90bbcbb9c7cde879ed"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cd4925d1b832f30e07b124b96534ceb199c07ec1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cd4925d1b832f30e07b124b96534ceb199c07ec1", "html_url": "https://github.com/rust-lang/rust/commit/cd4925d1b832f30e07b124b96534ceb199c07ec1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cd4925d1b832f30e07b124b96534ceb199c07ec1/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f89e3562450b4fddd36b536087d782c934dd6477", "url": "https://api.github.com/repos/rust-lang/rust/commits/f89e3562450b4fddd36b536087d782c934dd6477", "html_url": "https://github.com/rust-lang/rust/commit/f89e3562450b4fddd36b536087d782c934dd6477"}], "stats": {"total": 1080, "additions": 1080, "deletions": 0}, "files": [{"sha": "1dc0562a9f018814e68bcff7cabd7c746e32e674", "filename": "src/test/run-pass/auxiliary/edition-kw-macro-2015.rs", "status": "added", "additions": 65, "deletions": 0, "changes": 65, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fauxiliary%2Fedition-kw-macro-2015.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fauxiliary%2Fedition-kw-macro-2015.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fauxiliary%2Fedition-kw-macro-2015.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,65 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2015\n+\n+#![feature(raw_identifiers)]\n+\n+// `async`\n+#[macro_export]\n+macro_rules! produces_async {\n+    () => (pub fn async() {})\n+}\n+\n+#[macro_export]\n+macro_rules! produces_async_raw {\n+    () => (pub fn r#async() {})\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_async {\n+    (async) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_async_raw {\n+    (r#async) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! passes_ident {\n+    ($i: ident) => ($i)\n+}\n+\n+// `proc`\n+#[macro_export]\n+macro_rules! produces_proc {\n+    () => (pub fn proc() {})\n+}\n+\n+#[macro_export]\n+macro_rules! produces_proc_raw {\n+    () => (pub fn r#proc() {})\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_proc {\n+    (proc) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_proc_raw {\n+    (r#proc) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! passes_ident {\n+    ($i: ident) => ($i)\n+}"}, {"sha": "fb018a36231ccc6c0ae922cfc4540d1b12171eae", "filename": "src/test/run-pass/auxiliary/edition-kw-macro-2018.rs", "status": "added", "additions": 65, "deletions": 0, "changes": 65, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fauxiliary%2Fedition-kw-macro-2018.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fauxiliary%2Fedition-kw-macro-2018.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fauxiliary%2Fedition-kw-macro-2018.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,65 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2018\n+\n+#![feature(raw_identifiers)]\n+\n+// `async`\n+#[macro_export]\n+macro_rules! produces_async {\n+    () => (pub fn async() {})\n+}\n+\n+#[macro_export]\n+macro_rules! produces_async_raw {\n+    () => (pub fn r#async() {})\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_async {\n+    (async) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_async_raw {\n+    (r#async) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! passes_ident {\n+    ($i: ident) => ($i)\n+}\n+\n+// `proc`\n+#[macro_export]\n+macro_rules! produces_proc {\n+    () => (pub fn proc() {})\n+}\n+\n+#[macro_export]\n+macro_rules! produces_proc_raw {\n+    () => (pub fn r#proc() {})\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_proc {\n+    (proc) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_proc_raw {\n+    (r#proc) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! passes_ident {\n+    ($i: ident) => ($i)\n+}"}, {"sha": "b66d35cfc375248fa63fbddd3f43d571eedb686a", "filename": "src/test/run-pass/edition-keywords-2015-2015.rs", "status": "added", "additions": 69, "deletions": 0, "changes": 69, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fedition-keywords-2015-2015.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fedition-keywords-2015-2015.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fedition-keywords-2015-2015.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,69 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2015\n+// aux-build:edition-kw-macro-2015.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2015;\n+\n+// `async`\n+pub fn check_async() {\n+    let mut async = 1; // OK\n+    let mut r#async = 1; // OK\n+\n+    r#async = consumes_async!(async); // OK\n+    // r#async = consumes_async!(r#async); // ERROR, not a match\n+    // r#async = consumes_async_raw!(async); // ERROR, not a match\n+    r#async = consumes_async_raw!(r#async); // OK\n+\n+    if passes_ident!(async) == 1 {} // OK\n+    if passes_ident!(r#async) == 1 {} // OK\n+    one_async::async(); // OK\n+    one_async::r#async(); // OK\n+    two_async::async(); // OK\n+    two_async::r#async(); // OK\n+}\n+\n+mod one_async {\n+    produces_async! {} // OK\n+}\n+mod two_async {\n+    produces_async_raw! {} // OK\n+}\n+\n+// `proc`\n+pub fn check_proc() {\n+    // let mut proc = 1; // ERROR, reserved\n+    let mut r#proc = 1; // OK\n+\n+    r#proc = consumes_proc!(proc); // OK\n+    // r#proc = consumes_proc!(r#proc); // ERROR, not a match\n+    // r#proc = consumes_proc_raw!(proc); // ERROR, not a match\n+    r#proc = consumes_proc_raw!(r#proc); // OK\n+\n+    // if passes_ident!(proc) == 1 {} // ERROR, reserved\n+    if passes_ident!(r#proc) == 1 {} // OK\n+    // one_proc::proc(); // ERROR, reserved\n+    // one_proc::r#proc(); // ERROR, unresolved name\n+    // two_proc::proc(); // ERROR, reserved\n+    two_proc::r#proc(); // OK\n+}\n+\n+mod one_proc {\n+    // produces_proc! {} // ERROR, reserved\n+}\n+mod two_proc {\n+    produces_proc_raw! {} // OK\n+}\n+\n+fn main() {}"}, {"sha": "7395ffc23c7d73e960ab311fdddb8ffd376e2fe0", "filename": "src/test/run-pass/edition-keywords-2015-2018.rs", "status": "added", "additions": 69, "deletions": 0, "changes": 69, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fedition-keywords-2015-2018.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fedition-keywords-2015-2018.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fedition-keywords-2015-2018.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,69 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2015\n+// aux-build:edition-kw-macro-2018.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2018;\n+\n+// `async`\n+pub fn check_async() {\n+    let mut async = 1; // OK\n+    let mut r#async = 1; // OK\n+\n+    r#async = consumes_async!(async); // OK\n+    // r#async = consumes_async!(r#async); // ERROR, not a match\n+    // r#async = consumes_async_raw!(async); // ERROR, not a match\n+    r#async = consumes_async_raw!(r#async); // OK\n+\n+    if passes_ident!(async) == 1 {} // OK\n+    if passes_ident!(r#async) == 1 {} // OK\n+    one_async::async(); // OK\n+    one_async::r#async(); // OK\n+    two_async::async(); // OK\n+    two_async::r#async(); // OK\n+}\n+\n+mod one_async {\n+    produces_async! {} // ERROR, FIXME\n+}\n+mod two_async {\n+    produces_async_raw! {} // OK\n+}\n+\n+// `proc`\n+pub fn check_proc() {\n+    // let mut proc = 1; // ERROR, reserved\n+    let mut r#proc = 1; // OK\n+\n+    r#proc = consumes_proc!(proc); // OK\n+    // r#proc = consumes_proc!(r#proc); // ERROR, not a match\n+    // r#proc = consumes_proc_raw!(proc); // ERROR, not a match\n+    r#proc = consumes_proc_raw!(r#proc); // OK\n+\n+    // if passes_ident!(proc) == 1 {} // ERROR, reserved\n+    if passes_ident!(r#proc) == 1 {} // OK\n+    // one_proc::proc(); // ERROR, reserved\n+    // one_proc::r#proc(); // OK, FIXME\n+    // two_proc::proc(); // ERROR, reserved\n+    two_proc::r#proc(); // OK\n+}\n+\n+mod one_proc {\n+    // produces_proc! {} // OK, FIXME\n+}\n+mod two_proc {\n+    produces_proc_raw! {} // OK\n+}\n+\n+fn main() {}"}, {"sha": "f131d2143efba5ee237bc013ab7c9dba7ef69ac9", "filename": "src/test/run-pass/edition-keywords-2018-2015.rs", "status": "added", "additions": 69, "deletions": 0, "changes": 69, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fedition-keywords-2018-2015.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fedition-keywords-2018-2015.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fedition-keywords-2018-2015.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,69 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2018\n+// aux-build:edition-kw-macro-2015.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2015;\n+\n+// `async`\n+pub fn check_async() {\n+    // let mut async = 1; // ERROR, reserved\n+    let mut r#async = 1; // OK\n+\n+    r#async = consumes_async!(async); // OK\n+    // r#async = consumes_async!(r#async); // ERROR, not a match\n+    // r#async = consumes_async_raw!(async); // ERROR, not a match\n+    r#async = consumes_async_raw!(r#async); // OK\n+\n+    // if passes_ident!(async) == 1 {} // ERROR, reserved\n+    if passes_ident!(r#async) == 1 {} // OK\n+    // one_async::async(); // ERROR, reserved\n+    // one_async::r#async(); // OK, FIXME\n+    // two_async::async(); // ERROR, reserved\n+    two_async::r#async(); // OK\n+}\n+\n+mod one_async {\n+    // produces_async! {} // OK, FIXME\n+}\n+mod two_async {\n+    produces_async_raw! {} // OK\n+}\n+\n+// `proc`\n+pub fn check_proc() {\n+    let mut proc = 1; // OK\n+    let mut r#proc = 1; // OK\n+\n+    r#proc = consumes_proc!(proc); // OK\n+    // r#proc = consumes_proc!(r#proc); // ERROR, not a match\n+    // r#proc = consumes_proc_raw!(proc); // ERROR, not a match\n+    r#proc = consumes_proc_raw!(r#proc); // OK\n+\n+    if passes_ident!(proc) == 1 {} // OK\n+    if passes_ident!(r#proc) == 1 {} // OK\n+    one_proc::proc(); // OK\n+    one_proc::r#proc(); // OK\n+    two_proc::proc(); // OK\n+    two_proc::r#proc(); // OK\n+}\n+\n+mod one_proc {\n+    produces_proc! {} // ERROR, FIXME\n+}\n+mod two_proc {\n+    produces_proc_raw! {} // OK\n+}\n+\n+fn main() {}"}, {"sha": "e3da165eb353f1551ecf560c0ef65bb6ece783b9", "filename": "src/test/run-pass/edition-keywords-2018-2018.rs", "status": "added", "additions": 69, "deletions": 0, "changes": 69, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fedition-keywords-2018-2018.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Frun-pass%2Fedition-keywords-2018-2018.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fedition-keywords-2018-2018.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,69 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2018\n+// aux-build:edition-kw-macro-2018.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2018;\n+\n+// `async`\n+pub fn check_async() {\n+    // let mut async = 1; // ERROR, reserved\n+    let mut r#async = 1; // OK\n+\n+    r#async = consumes_async!(async); // OK\n+    // r#async = consumes_async!(r#async); // ERROR, not a match\n+    // r#async = consumes_async_raw!(async); // ERROR, not a match\n+    r#async = consumes_async_raw!(r#async); // OK\n+\n+    // if passes_ident!(async) == 1 {} // ERROR, reserved\n+    if passes_ident!(r#async) == 1 {} // OK\n+    // one_async::async(); // ERROR, reserved\n+    // one_async::r#async(); // ERROR, unresolved name\n+    // two_async::async(); // ERROR, reserved\n+    two_async::r#async(); // OK\n+}\n+\n+mod one_async {\n+    // produces_async! {} // ERROR, reserved\n+}\n+mod two_async {\n+    produces_async_raw! {} // OK\n+}\n+\n+// `proc`\n+pub fn check_proc() {\n+    let mut proc = 1; // OK\n+    let mut r#proc = 1; // OK\n+\n+    r#proc = consumes_proc!(proc); // OK\n+    // r#proc = consumes_proc!(r#proc); // ERROR, not a match\n+    // r#proc = consumes_proc_raw!(proc); // ERROR, not a match\n+    r#proc = consumes_proc_raw!(r#proc); // OK\n+\n+    if passes_ident!(proc) == 1 {} // OK\n+    if passes_ident!(r#proc) == 1 {} // OK\n+    one_proc::proc(); // OK\n+    one_proc::r#proc(); // OK\n+    two_proc::proc(); // OK\n+    two_proc::r#proc(); // OK\n+}\n+\n+mod one_proc {\n+    produces_proc! {} // OK\n+}\n+mod two_proc {\n+    produces_proc_raw! {} // OK\n+}\n+\n+fn main() {}"}, {"sha": "1dc0562a9f018814e68bcff7cabd7c746e32e674", "filename": "src/test/ui/auxiliary/edition-kw-macro-2015.rs", "status": "added", "additions": 65, "deletions": 0, "changes": 65, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fauxiliary%2Fedition-kw-macro-2015.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fauxiliary%2Fedition-kw-macro-2015.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauxiliary%2Fedition-kw-macro-2015.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,65 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2015\n+\n+#![feature(raw_identifiers)]\n+\n+// `async`\n+#[macro_export]\n+macro_rules! produces_async {\n+    () => (pub fn async() {})\n+}\n+\n+#[macro_export]\n+macro_rules! produces_async_raw {\n+    () => (pub fn r#async() {})\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_async {\n+    (async) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_async_raw {\n+    (r#async) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! passes_ident {\n+    ($i: ident) => ($i)\n+}\n+\n+// `proc`\n+#[macro_export]\n+macro_rules! produces_proc {\n+    () => (pub fn proc() {})\n+}\n+\n+#[macro_export]\n+macro_rules! produces_proc_raw {\n+    () => (pub fn r#proc() {})\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_proc {\n+    (proc) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_proc_raw {\n+    (r#proc) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! passes_ident {\n+    ($i: ident) => ($i)\n+}"}, {"sha": "fb018a36231ccc6c0ae922cfc4540d1b12171eae", "filename": "src/test/ui/auxiliary/edition-kw-macro-2018.rs", "status": "added", "additions": 65, "deletions": 0, "changes": 65, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fauxiliary%2Fedition-kw-macro-2018.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fauxiliary%2Fedition-kw-macro-2018.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauxiliary%2Fedition-kw-macro-2018.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,65 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2018\n+\n+#![feature(raw_identifiers)]\n+\n+// `async`\n+#[macro_export]\n+macro_rules! produces_async {\n+    () => (pub fn async() {})\n+}\n+\n+#[macro_export]\n+macro_rules! produces_async_raw {\n+    () => (pub fn r#async() {})\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_async {\n+    (async) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_async_raw {\n+    (r#async) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! passes_ident {\n+    ($i: ident) => ($i)\n+}\n+\n+// `proc`\n+#[macro_export]\n+macro_rules! produces_proc {\n+    () => (pub fn proc() {})\n+}\n+\n+#[macro_export]\n+macro_rules! produces_proc_raw {\n+    () => (pub fn r#proc() {})\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_proc {\n+    (proc) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! consumes_proc_raw {\n+    (r#proc) => (1)\n+}\n+\n+#[macro_export]\n+macro_rules! passes_ident {\n+    ($i: ident) => ($i)\n+}"}, {"sha": "13d95e6751eca2270cf42f08d85bbfe0d94ae0f6", "filename": "src/test/ui/edition-keywords-2015-2015-expansion.rs", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-expansion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-expansion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-expansion.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,33 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2015\n+// aux-build:edition-kw-macro-2015.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2015;\n+\n+// `async`\n+mod one_async {\n+    produces_async! {} // OK\n+}\n+mod two_async {\n+    produces_async_raw! {} // OK\n+}\n+\n+// `proc`\n+mod one_proc {\n+    produces_proc! {} // ERROR expected identifier, found reserved keyword `proc`\n+}\n+mod two_proc {\n+    produces_proc_raw! {} // OK\n+}"}, {"sha": "dd4a35c1f054bf55bb34b4a3f9727f50d453c737", "filename": "src/test/ui/edition-keywords-2015-2015-expansion.stderr", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-expansion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-expansion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-expansion.stderr?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,10 @@\n+error: expected identifier, found reserved keyword `proc`\n+  --> $DIR/edition-keywords-2015-2015-expansion.rs:29:5\n+   |\n+LL |     produces_proc! {} // ERROR expected identifier, found reserved keyword `proc`\n+   |     ^^^^^^^^^^^^^^^^^ expected identifier, found reserved keyword\n+   |\n+   = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n+\n+error: aborting due to previous error\n+"}, {"sha": "1f8390796d3163dd492950cc36962b2d13c1453e", "filename": "src/test/ui/edition-keywords-2015-2015-parsing.rs", "status": "added", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-parsing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-parsing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-parsing.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,49 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2015\n+// aux-build:edition-kw-macro-2015.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2015;\n+\n+// `async`\n+pub fn check_async() {\n+    let mut async = 1; // OK\n+    let mut r#async = 1; // OK\n+\n+    r#async = consumes_async!(async); // OK\n+    r#async = consumes_async!(r#async); //~ ERROR no rules expected the token `r#async`\n+    r#async = consumes_async_raw!(async); //~ ERROR no rules expected the token `async`\n+    r#async = consumes_async_raw!(r#async); // OK\n+\n+    if passes_ident!(async) == 1 {} // OK\n+    if passes_ident!(r#async) == 1 {} // OK\n+    module::async(); // OK\n+    module::r#async(); // OK\n+}\n+\n+// `proc`\n+pub fn check_proc() {\n+    let mut proc = 1; //~ ERROR expected identifier, found reserved keyword `proc`\n+    let mut r#proc = 1; // OK\n+\n+    r#proc = consumes_proc!(proc); // OK\n+    r#proc = consumes_proc!(r#proc); //~ ERROR no rules expected the token `r#proc`\n+    r#proc = consumes_proc_raw!(proc); //~ ERROR no rules expected the token `proc`\n+    r#proc = consumes_proc_raw!(r#proc); // OK\n+\n+    if passes_ident!(proc) == 1 {} //~ ERROR expected expression, found reserved keyword `proc`\n+    if passes_ident!(r#proc) == 1 {} // OK\n+    module::proc(); //~ ERROR expected identifier, found reserved keyword `proc`\n+    module::r#proc(); // OK\n+}"}, {"sha": "c40de006edc384af95caea38f2004f7752fe4f85", "filename": "src/test/ui/edition-keywords-2015-2015-parsing.stderr", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-parsing.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-parsing.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2015-2015-parsing.stderr?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,44 @@\n+error: expected identifier, found reserved keyword `proc`\n+  --> $DIR/edition-keywords-2015-2015-parsing.rs:37:13\n+   |\n+LL |     let mut proc = 1; //~ ERROR expected identifier, found reserved keyword `proc`\n+   |             ^^^^ expected identifier, found reserved keyword\n+\n+error: expected identifier, found reserved keyword `proc`\n+  --> $DIR/edition-keywords-2015-2015-parsing.rs:47:13\n+   |\n+LL |     module::proc(); //~ ERROR expected identifier, found reserved keyword `proc`\n+   |             ^^^^ expected identifier, found reserved keyword\n+\n+error: no rules expected the token `r#async`\n+  --> $DIR/edition-keywords-2015-2015-parsing.rs:25:31\n+   |\n+LL |     r#async = consumes_async!(r#async); //~ ERROR no rules expected the token `r#async`\n+   |                               ^^^^^^^\n+\n+error: no rules expected the token `async`\n+  --> $DIR/edition-keywords-2015-2015-parsing.rs:26:35\n+   |\n+LL |     r#async = consumes_async_raw!(async); //~ ERROR no rules expected the token `async`\n+   |                                   ^^^^^\n+\n+error: no rules expected the token `r#proc`\n+  --> $DIR/edition-keywords-2015-2015-parsing.rs:41:29\n+   |\n+LL |     r#proc = consumes_proc!(r#proc); //~ ERROR no rules expected the token `r#proc`\n+   |                             ^^^^^^\n+\n+error: no rules expected the token `proc`\n+  --> $DIR/edition-keywords-2015-2015-parsing.rs:42:33\n+   |\n+LL |     r#proc = consumes_proc_raw!(proc); //~ ERROR no rules expected the token `proc`\n+   |                                 ^^^^\n+\n+error: expected expression, found reserved keyword `proc`\n+  --> $DIR/edition-keywords-2015-2015-parsing.rs:45:22\n+   |\n+LL |     if passes_ident!(proc) == 1 {} //~ ERROR expected expression, found reserved keyword `proc`\n+   |                      ^^^^ expected expression\n+\n+error: aborting due to 7 previous errors\n+"}, {"sha": "7d6c55a523edf9f09c4a9935fc0f8687b1f5136a", "filename": "src/test/ui/edition-keywords-2015-2018-expansion.rs", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-expansion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-expansion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-expansion.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,33 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2015\n+// aux-build:edition-kw-macro-2018.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2018;\n+\n+// `async`\n+mod one_async {\n+    produces_async! {} // ERROR, FIXME\n+}\n+mod two_async {\n+    produces_async_raw! {} // OK\n+}\n+\n+// `proc`\n+mod one_proc {\n+    produces_proc! {} // OK, FIXME\n+}\n+mod two_proc {\n+    produces_proc_raw! {} // OK\n+}"}, {"sha": "66759387b2a321deac870f722def1016801b213d", "filename": "src/test/ui/edition-keywords-2015-2018-expansion.stderr", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-expansion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-expansion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-expansion.stderr?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,10 @@\n+error: expected identifier, found reserved keyword `proc`\n+  --> $DIR/edition-keywords-2015-2018-expansion.rs:29:5\n+   |\n+LL |     produces_proc! {} // OK, FIXME\n+   |     ^^^^^^^^^^^^^^^^^ expected identifier, found reserved keyword\n+   |\n+   = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n+\n+error: aborting due to previous error\n+"}, {"sha": "6405a94f842b9a2afcdd1a942414146098f8c186", "filename": "src/test/ui/edition-keywords-2015-2018-parsing.rs", "status": "added", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-parsing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-parsing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-parsing.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,49 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2015\n+// aux-build:edition-kw-macro-2018.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2018;\n+\n+// `async`\n+pub fn check_async() {\n+    let mut async = 1; // OK\n+    let mut r#async = 1; // OK\n+\n+    r#async = consumes_async!(async); // OK\n+    r#async = consumes_async!(r#async); //~ ERROR no rules expected the token `r#async`\n+    r#async = consumes_async_raw!(async); //~ ERROR no rules expected the token `async`\n+    r#async = consumes_async_raw!(r#async); // OK\n+\n+    if passes_ident!(async) == 1 {} // OK\n+    if passes_ident!(r#async) == 1 {} // OK\n+    module::async(); // OK\n+    module::r#async(); // OK\n+}\n+\n+// `proc`\n+pub fn check_proc() {\n+    let mut proc = 1; //~ ERROR expected identifier, found reserved keyword `proc`\n+    let mut r#proc = 1; // OK\n+\n+    r#proc = consumes_proc!(proc); // OK\n+    r#proc = consumes_proc!(r#proc); //~ ERROR no rules expected the token `r#proc`\n+    r#proc = consumes_proc_raw!(proc); //~ ERROR no rules expected the token `proc`\n+    r#proc = consumes_proc_raw!(r#proc); // OK\n+\n+    if passes_ident!(proc) == 1 {} //~ ERROR expected expression, found reserved keyword `proc`\n+    if passes_ident!(r#proc) == 1 {} // OK\n+    module::proc(); //~ ERROR expected identifier, found reserved keyword `proc`\n+    module::r#proc(); // OK\n+}"}, {"sha": "3510f898025c1d525f627f5698787b426795ab26", "filename": "src/test/ui/edition-keywords-2015-2018-parsing.stderr", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-parsing.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-parsing.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2015-2018-parsing.stderr?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,44 @@\n+error: expected identifier, found reserved keyword `proc`\n+  --> $DIR/edition-keywords-2015-2018-parsing.rs:37:13\n+   |\n+LL |     let mut proc = 1; //~ ERROR expected identifier, found reserved keyword `proc`\n+   |             ^^^^ expected identifier, found reserved keyword\n+\n+error: expected identifier, found reserved keyword `proc`\n+  --> $DIR/edition-keywords-2015-2018-parsing.rs:47:13\n+   |\n+LL |     module::proc(); //~ ERROR expected identifier, found reserved keyword `proc`\n+   |             ^^^^ expected identifier, found reserved keyword\n+\n+error: no rules expected the token `r#async`\n+  --> $DIR/edition-keywords-2015-2018-parsing.rs:25:31\n+   |\n+LL |     r#async = consumes_async!(r#async); //~ ERROR no rules expected the token `r#async`\n+   |                               ^^^^^^^\n+\n+error: no rules expected the token `async`\n+  --> $DIR/edition-keywords-2015-2018-parsing.rs:26:35\n+   |\n+LL |     r#async = consumes_async_raw!(async); //~ ERROR no rules expected the token `async`\n+   |                                   ^^^^^\n+\n+error: no rules expected the token `r#proc`\n+  --> $DIR/edition-keywords-2015-2018-parsing.rs:41:29\n+   |\n+LL |     r#proc = consumes_proc!(r#proc); //~ ERROR no rules expected the token `r#proc`\n+   |                             ^^^^^^\n+\n+error: no rules expected the token `proc`\n+  --> $DIR/edition-keywords-2015-2018-parsing.rs:42:33\n+   |\n+LL |     r#proc = consumes_proc_raw!(proc); //~ ERROR no rules expected the token `proc`\n+   |                                 ^^^^\n+\n+error: expected expression, found reserved keyword `proc`\n+  --> $DIR/edition-keywords-2015-2018-parsing.rs:45:22\n+   |\n+LL |     if passes_ident!(proc) == 1 {} //~ ERROR expected expression, found reserved keyword `proc`\n+   |                      ^^^^ expected expression\n+\n+error: aborting due to 7 previous errors\n+"}, {"sha": "7543920b328b304121cd96afa77d281b1d9ee391", "filename": "src/test/ui/edition-keywords-2018-2015-expansion.rs", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-expansion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-expansion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-expansion.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,33 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2018\n+// aux-build:edition-kw-macro-2015.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2015;\n+\n+// `async`\n+mod one_async {\n+    produces_async! {} // OK, FIXME\n+}\n+mod two_async {\n+    produces_async_raw! {} // OK\n+}\n+\n+// `proc`\n+mod one_proc {\n+    produces_proc! {} // ERROR, FIXME\n+}\n+mod two_proc {\n+    produces_proc_raw! {} // OK\n+}"}, {"sha": "14f90292fb10c87c1f6e88c6ac83629195991f21", "filename": "src/test/ui/edition-keywords-2018-2015-expansion.stderr", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-expansion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-expansion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-expansion.stderr?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,10 @@\n+error: expected identifier, found reserved keyword `async`\n+  --> $DIR/edition-keywords-2018-2015-expansion.rs:21:5\n+   |\n+LL |     produces_async! {} // OK, FIXME\n+   |     ^^^^^^^^^^^^^^^^^^ expected identifier, found reserved keyword\n+   |\n+   = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n+\n+error: aborting due to previous error\n+"}, {"sha": "26a503d642d0db51143f094f82e79ce6e8062759", "filename": "src/test/ui/edition-keywords-2018-2015-parsing.rs", "status": "added", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-parsing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-parsing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-parsing.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,49 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2018\n+// aux-build:edition-kw-macro-2015.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2015;\n+\n+// `proc`\n+pub fn check_proc() {\n+    let mut proc = 1; // OK\n+    let mut r#proc = 1; // OK\n+\n+    r#proc = consumes_proc!(proc); // OK\n+    r#proc = consumes_proc!(r#proc); //~ ERROR no rules expected the token `r#proc`\n+    r#proc = consumes_proc_raw!(proc); //~ ERROR no rules expected the token `proc`\n+    r#proc = consumes_proc_raw!(r#proc); // OK\n+\n+    if passes_ident!(proc) == 1 {} // OK\n+    if passes_ident!(r#proc) == 1 {} // OK\n+    module::proc(); // OK\n+    module::r#proc(); // OK\n+}\n+\n+// `async`\n+pub fn check_async() {\n+    let mut async = 1; //~ ERROR expected identifier, found reserved keyword `async`\n+    let mut r#async = 1; // OK\n+\n+    r#async = consumes_async!(async); // OK\n+    r#async = consumes_async!(r#async); //~ ERROR no rules expected the token `r#async`\n+    r#async = consumes_async_raw!(async); //~ ERROR no rules expected the token `async`\n+    r#async = consumes_async_raw!(r#async); // OK\n+\n+    if passes_ident!(async) == 1 {} //~ ERROR expected expression, found reserved keyword `async`\n+    if passes_ident!(r#async) == 1 {} // OK\n+    module::async(); //~ ERROR expected identifier, found reserved keyword `async`\n+    module::r#async(); // OK\n+}"}, {"sha": "d39d5a8a90154162efdb3d8cdeae9c4e5b985b5e", "filename": "src/test/ui/edition-keywords-2018-2015-parsing.stderr", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-parsing.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-parsing.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2018-2015-parsing.stderr?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,44 @@\n+error: expected identifier, found reserved keyword `async`\n+  --> $DIR/edition-keywords-2018-2015-parsing.rs:37:13\n+   |\n+LL |     let mut async = 1; //~ ERROR expected identifier, found reserved keyword `async`\n+   |             ^^^^^ expected identifier, found reserved keyword\n+\n+error: expected identifier, found reserved keyword `async`\n+  --> $DIR/edition-keywords-2018-2015-parsing.rs:47:13\n+   |\n+LL |     module::async(); //~ ERROR expected identifier, found reserved keyword `async`\n+   |             ^^^^^ expected identifier, found reserved keyword\n+\n+error: no rules expected the token `r#proc`\n+  --> $DIR/edition-keywords-2018-2015-parsing.rs:25:29\n+   |\n+LL |     r#proc = consumes_proc!(r#proc); //~ ERROR no rules expected the token `r#proc`\n+   |                             ^^^^^^\n+\n+error: no rules expected the token `proc`\n+  --> $DIR/edition-keywords-2018-2015-parsing.rs:26:33\n+   |\n+LL |     r#proc = consumes_proc_raw!(proc); //~ ERROR no rules expected the token `proc`\n+   |                                 ^^^^\n+\n+error: no rules expected the token `r#async`\n+  --> $DIR/edition-keywords-2018-2015-parsing.rs:41:31\n+   |\n+LL |     r#async = consumes_async!(r#async); //~ ERROR no rules expected the token `r#async`\n+   |                               ^^^^^^^\n+\n+error: no rules expected the token `async`\n+  --> $DIR/edition-keywords-2018-2015-parsing.rs:42:35\n+   |\n+LL |     r#async = consumes_async_raw!(async); //~ ERROR no rules expected the token `async`\n+   |                                   ^^^^^\n+\n+error: expected expression, found reserved keyword `async`\n+  --> $DIR/edition-keywords-2018-2015-parsing.rs:45:22\n+   |\n+LL |     if passes_ident!(async) == 1 {} //~ ERROR expected expression, found reserved keyword `async`\n+   |                      ^^^^^ expected expression\n+\n+error: aborting due to 7 previous errors\n+"}, {"sha": "55732da8bc086f899869351f97cedbd83d6ffdef", "filename": "src/test/ui/edition-keywords-2018-2018-expansion.rs", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-expansion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-expansion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-expansion.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,33 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2018\n+// aux-build:edition-kw-macro-2018.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2018;\n+\n+// `async`\n+mod one_async {\n+    produces_async! {} // ERROR expected identifier, found reserved keyword `async`\n+}\n+mod two_async {\n+    produces_async_raw! {} // OK\n+}\n+\n+// `proc`\n+mod one_proc {\n+    produces_proc! {} // OK\n+}\n+mod two_proc {\n+    produces_proc_raw! {} // OK\n+}"}, {"sha": "236409c96280152f639873f0aa2fcfb6d03aa07d", "filename": "src/test/ui/edition-keywords-2018-2018-expansion.stderr", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-expansion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-expansion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-expansion.stderr?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,10 @@\n+error: expected identifier, found reserved keyword `async`\n+  --> $DIR/edition-keywords-2018-2018-expansion.rs:21:5\n+   |\n+LL |     produces_async! {} // ERROR expected identifier, found reserved keyword `async`\n+   |     ^^^^^^^^^^^^^^^^^^ expected identifier, found reserved keyword\n+   |\n+   = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n+\n+error: aborting due to previous error\n+"}, {"sha": "7fc7450d5b2604b130afe4bc49d1238d17e3e1b5", "filename": "src/test/ui/edition-keywords-2018-2018-parsing.rs", "status": "added", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-parsing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-parsing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-parsing.rs?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,49 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --edition=2018\n+// aux-build:edition-kw-macro-2018.rs\n+\n+#![feature(raw_identifiers)]\n+\n+#[macro_use]\n+extern crate edition_kw_macro_2018;\n+\n+// `proc`\n+pub fn check_proc() {\n+    let mut proc = 1; // OK\n+    let mut r#proc = 1; // OK\n+\n+    r#proc = consumes_proc!(proc); // OK\n+    r#proc = consumes_proc!(r#proc); //~ ERROR no rules expected the token `r#proc`\n+    r#proc = consumes_proc_raw!(proc); //~ ERROR no rules expected the token `proc`\n+    r#proc = consumes_proc_raw!(r#proc); // OK\n+\n+    if passes_ident!(proc) == 1 {} // OK\n+    if passes_ident!(r#proc) == 1 {} // OK\n+    module::proc(); // OK\n+    module::r#proc(); // OK\n+}\n+\n+// `async`\n+pub fn check_async() {\n+    let mut async = 1; //~ ERROR expected identifier, found reserved keyword `async`\n+    let mut r#async = 1; // OK\n+\n+    r#async = consumes_async!(async); // OK\n+    r#async = consumes_async!(r#async); //~ ERROR no rules expected the token `r#async`\n+    r#async = consumes_async_raw!(async); //~ ERROR no rules expected the token `async`\n+    r#async = consumes_async_raw!(r#async); // OK\n+\n+    if passes_ident!(async) == 1 {} //~ ERROR expected expression, found reserved keyword `async`\n+    if passes_ident!(r#async) == 1 {} // OK\n+    module::async(); //~ ERROR expected identifier, found reserved keyword `async`\n+    module::r#async(); // OK\n+}"}, {"sha": "fba1ec6d18af95e4898792df4654c59ab32a03e2", "filename": "src/test/ui/edition-keywords-2018-2018-parsing.stderr", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-parsing.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd4925d1b832f30e07b124b96534ceb199c07ec1/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-parsing.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fedition-keywords-2018-2018-parsing.stderr?ref=cd4925d1b832f30e07b124b96534ceb199c07ec1", "patch": "@@ -0,0 +1,44 @@\n+error: expected identifier, found reserved keyword `async`\n+  --> $DIR/edition-keywords-2018-2018-parsing.rs:37:13\n+   |\n+LL |     let mut async = 1; //~ ERROR expected identifier, found reserved keyword `async`\n+   |             ^^^^^ expected identifier, found reserved keyword\n+\n+error: expected identifier, found reserved keyword `async`\n+  --> $DIR/edition-keywords-2018-2018-parsing.rs:47:13\n+   |\n+LL |     module::async(); //~ ERROR expected identifier, found reserved keyword `async`\n+   |             ^^^^^ expected identifier, found reserved keyword\n+\n+error: no rules expected the token `r#proc`\n+  --> $DIR/edition-keywords-2018-2018-parsing.rs:25:29\n+   |\n+LL |     r#proc = consumes_proc!(r#proc); //~ ERROR no rules expected the token `r#proc`\n+   |                             ^^^^^^\n+\n+error: no rules expected the token `proc`\n+  --> $DIR/edition-keywords-2018-2018-parsing.rs:26:33\n+   |\n+LL |     r#proc = consumes_proc_raw!(proc); //~ ERROR no rules expected the token `proc`\n+   |                                 ^^^^\n+\n+error: no rules expected the token `r#async`\n+  --> $DIR/edition-keywords-2018-2018-parsing.rs:41:31\n+   |\n+LL |     r#async = consumes_async!(r#async); //~ ERROR no rules expected the token `r#async`\n+   |                               ^^^^^^^\n+\n+error: no rules expected the token `async`\n+  --> $DIR/edition-keywords-2018-2018-parsing.rs:42:35\n+   |\n+LL |     r#async = consumes_async_raw!(async); //~ ERROR no rules expected the token `async`\n+   |                                   ^^^^^\n+\n+error: expected expression, found reserved keyword `async`\n+  --> $DIR/edition-keywords-2018-2018-parsing.rs:45:22\n+   |\n+LL |     if passes_ident!(async) == 1 {} //~ ERROR expected expression, found reserved keyword `async`\n+   |                      ^^^^^ expected expression\n+\n+error: aborting due to 7 previous errors\n+"}]}