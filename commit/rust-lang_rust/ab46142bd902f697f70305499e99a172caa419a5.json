{"sha": "ab46142bd902f697f70305499e99a172caa419a5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFiNDYxNDJiZDkwMmY2OTdmNzAzMDU0OTllOTlhMTcyY2FhNDE5YTU=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2017-08-28T09:40:37Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2017-09-13T10:55:03Z"}, "message": "Update mir-opt tests to reflect change to EndRegion emission order.\n\nDriveby fix to end_region_9.rs; it was missing END marker and was\ntherefore always passing (regardless of output correctness).", "tree": {"sha": "92d4aa6452e3e99bda2cd9c04370e0f557d63c22", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/92d4aa6452e3e99bda2cd9c04370e0f557d63c22"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ab46142bd902f697f70305499e99a172caa419a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ab46142bd902f697f70305499e99a172caa419a5", "html_url": "https://github.com/rust-lang/rust/commit/ab46142bd902f697f70305499e99a172caa419a5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ab46142bd902f697f70305499e99a172caa419a5/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "25aa86da17a0a96767eb1bf30198973d5f2fd702", "url": "https://api.github.com/repos/rust-lang/rust/commits/25aa86da17a0a96767eb1bf30198973d5f2fd702", "html_url": "https://github.com/rust-lang/rust/commit/25aa86da17a0a96767eb1bf30198973d5f2fd702"}], "stats": {"total": 39, "additions": 20, "deletions": 19}, "files": [{"sha": "1941d1bc7be1b6c3bc9a61090af46bbdd68cf24d", "filename": "src/test/mir-opt/end_region_1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fend_region_1.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -30,8 +30,8 @@ fn main() {\n //         StorageLive(_2);\n //         _2 = &'10_1rs _1;\n //         _0 = ();\n-//         StorageDead(_2);\n //         EndRegion('10_1rs);\n+//         StorageDead(_2);\n //         StorageDead(_1);\n //         return;\n //     }"}, {"sha": "d8dd4aeadf495008f1d21bb6f010c899ddc9b955", "filename": "src/test/mir-opt/end_region_2.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fend_region_2.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -46,8 +46,8 @@ fn main() {\n //     bb2: {\n //         _0 = ();\n //         StorageDead(_5);\n-//         StorageDead(_3);\n //         EndRegion('23_1rs);\n+//         StorageDead(_3);\n //         StorageDead(_2);\n //         return;\n //     }\n@@ -56,10 +56,10 @@ fn main() {\n //         StorageLive(_7);\n //         _7 = &'23_3rs _2;\n //         _1 = ();\n-//         StorageDead(_7);\n //         EndRegion('23_3rs);\n-//         StorageDead(_3);\n+//         StorageDead(_7);\n //         EndRegion('23_1rs);\n+//         StorageDead(_3);\n //         StorageDead(_2);\n //         goto -> bb1;\n //     }"}, {"sha": "e404af838cef44a8247ee2823907998df0c98fed", "filename": "src/test/mir-opt/end_region_3.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fend_region_3.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -49,8 +49,8 @@ fn main() {\n //     bb2: {\n //         _0 = ();\n //         StorageDead(_5);\n-//         StorageDead(_3);\n //         EndRegion('26_1rs);\n+//         StorageDead(_3);\n //         StorageDead(_1);\n //         return;\n //     }\n@@ -60,10 +60,10 @@ fn main() {\n //         StorageLive(_7);\n //         _7 = &'26_3rs _1;\n //         _2 = ();\n-//         StorageDead(_7);\n //         EndRegion('26_3rs);\n-//         StorageDead(_3);\n+//         StorageDead(_7);\n //         EndRegion('26_1rs);\n+//         StorageDead(_3);\n //         goto -> bb1;\n //     }\n // END rustc.node4.SimplifyCfg-qualify-consts.after.mir"}, {"sha": "d51c627d14b2380314dbf6dbe8b0f8670954ddcf", "filename": "src/test/mir-opt/end_region_4.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fend_region_4.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -53,10 +53,10 @@ fn foo(i: i32) {\n //         StorageLive(_6);\n //         _6 = &'26_4rs _2;\n //         _0 = ();\n-//         StorageDead(_6);\n //         EndRegion('26_4rs);\n-//         StorageDead(_3);\n+//         StorageDead(_6);\n //         EndRegion('26_2rs);\n+//         StorageDead(_3);\n //         StorageDead(_2);\n //         drop(_1) -> bb4;\n //     }"}, {"sha": "6299ec3815cd1625f3573e77c327f0e923944d6c", "filename": "src/test/mir-opt/end_region_5.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_5.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_5.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fend_region_5.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -44,8 +44,8 @@ fn foo<F>(f: F) where F: FnOnce() -> i32 {\n //         _2 = const foo(_3) -> [return: bb1, unwind: bb3];\n //     }\n //     bb1: {\n-//         StorageDead(_3);\n //         EndRegion('14s);\n+//         StorageDead(_3);\n //         _0 = ();\n //         drop(_1) -> bb4;\n //     }"}, {"sha": "13ab3e4f2dd2a0c5dc0b2c99597de93a8b566ce8", "filename": "src/test/mir-opt/end_region_6.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_6.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_6.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fend_region_6.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -44,8 +44,8 @@ fn foo<F>(f: F) where F: FnOnce() -> i32 {\n //         _2 = const foo(_3) -> [return: bb1, unwind: bb3];\n //     }\n //     bb1: {\n-//         StorageDead(_3);\n //         EndRegion('19s);\n+//         StorageDead(_3);\n //         _0 = ();\n //         drop(_1) -> bb4;\n //     }\n@@ -75,8 +75,8 @@ fn foo<F>(f: F) where F: FnOnce() -> i32 {\n //         _3 = ((*_2).0: i32);\n //         _0 = _3;\n //         StorageDead(_3);\n-//         StorageDead(_2);\n //         EndRegion('15_0rs);\n+//         StorageDead(_2);\n //         return;\n //     }\n // END rustc.node22.SimplifyCfg-qualify-consts.after.mir"}, {"sha": "826d3749167d30c2b2d182250420c68701a2883c", "filename": "src/test/mir-opt/end_region_7.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_7.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_7.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fend_region_7.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -84,8 +84,8 @@ fn foo<F>(f: F) where F: FnOnce() -> i32 {\n //         _3 = ((*_2).0: i32);\n //         _0 = _3;\n //         StorageDead(_3);\n-//         StorageDead(_2);\n //         EndRegion('15_0rs);\n+//         StorageDead(_2);\n //         drop(_1) -> bb1;\n //     }\n //     bb1: {"}, {"sha": "6438484fcfae41a1651271b39b1086b3a676353b", "filename": "src/test/mir-opt/end_region_8.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_8.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_8.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fend_region_8.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -50,8 +50,8 @@ fn foo<F>(f: F) where F: FnOnce() -> i32 {\n //    bb1: {\n //        StorageDead(_4);\n //        _0 = ();\n-//        StorageDead(_2);\n //        EndRegion('21_1rs);\n+//        StorageDead(_2);\n //        drop(_1) -> bb4;\n //    }\n //    bb2: {"}, {"sha": "59d5d934391e94b49719cd99c587d44ed851aa08", "filename": "src/test/mir-opt/end_region_9.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_9.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fend_region_9.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fend_region_9.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -42,7 +42,7 @@ fn main() {\n //     let mut _0: ();\n //     let mut _1: bool;\n //     let _2: i32;\n-//     let mut _4: &'13_0rs i32;\n+//     let mut _4: &'33_0rs i32;\n //     let mut _3: ();\n //     let mut _5: !;\n //     let mut _6: ();\n@@ -67,19 +67,20 @@ fn main() {\n //    bb2: {\n //        _0 = ();\n //        StorageDead(_7);\n+//        EndRegion('33_0rs);\n //        StorageDead(_4);\n-//        EndRegion('13_0rs);\n //        StorageDead(_2);\n //        StorageDead(_1);\n //        return;\n //    }\n //\n //    bb3: {\n-//        _4 = &'13_0rs _2;\n+//        _4 = &'33_0rs _2;\n //        _6 = ();\n //        StorageDead(_7);\n //        _1 = const true;\n //        _3 = ();\n //        goto -> bb1;\n //    }\n // }\n+// END rustc.node4.SimplifyCfg-qualify-consts.after.mir"}, {"sha": "ec044225b83e8b2f7bd5d92d55774ab28d5850b5", "filename": "src/test/mir-opt/validate_1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fvalidate_1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fvalidate_1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fvalidate_1.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -68,8 +68,8 @@ fn main() {\n //         _5 = (*_4);\n //         _0 = _5;\n //         StorageDead(_5);\n-//         StorageDead(_4);\n //         EndRegion(ReScope(Remainder(BlockRemainder { block: ItemLocalId(22), first_statement_index: 0 })));\n+//         StorageDead(_4);\n //         StorageDead(_3);\n //         return;\n //     }"}, {"sha": "ff0c781d1e3bb805db9e87279fe1073de399e34d", "filename": "src/test/mir-opt/validate_5.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fvalidate_5.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab46142bd902f697f70305499e99a172caa419a5/src%2Ftest%2Fmir-opt%2Fvalidate_5.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fvalidate_5.rs?ref=ab46142bd902f697f70305499e99a172caa419a5", "patch": "@@ -54,8 +54,8 @@ fn main() {\n //         _5 = &ReErased mut (*_3);\n //         Validate(Acquire, [(*_5): i32/ReScope(Node(ItemLocalId(9)))]);\n //         _4 = _5 as *mut i32 (Misc);\n-//         StorageDead(_5);\n //         EndRegion(ReScope(Node(ItemLocalId(9))));\n+//         StorageDead(_5);\n //         Validate(Release, [_0: bool, _4: *mut i32]);\n //         _0 = const write_42(_4) -> bb1;\n //     }"}]}