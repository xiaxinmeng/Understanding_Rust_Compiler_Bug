{"sha": "79009ed728f73b92d5e53b4212844e2dbc51ac5f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5MDA5ZWQ3MjhmNzNiOTJkNWU1M2I0MjEyODQ0ZTJkYmM1MWFjNWY=", "commit": {"author": {"name": "Alexander Regueiro", "email": "alexreg@me.com", "date": "2018-08-14T17:29:53Z"}, "committer": {"name": "Alexander Regueiro", "email": "alexreg@me.com", "date": "2018-08-18T17:54:44Z"}, "message": "Updated diagnostics.", "tree": {"sha": "5329e9e037130f27eeb51f5231b6bb6e6b8467d2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5329e9e037130f27eeb51f5231b6bb6e6b8467d2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79009ed728f73b92d5e53b4212844e2dbc51ac5f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79009ed728f73b92d5e53b4212844e2dbc51ac5f", "html_url": "https://github.com/rust-lang/rust/commit/79009ed728f73b92d5e53b4212844e2dbc51ac5f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79009ed728f73b92d5e53b4212844e2dbc51ac5f/comments", "author": {"login": "alexreg", "id": 67036, "node_id": "MDQ6VXNlcjY3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/67036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexreg", "html_url": "https://github.com/alexreg", "followers_url": "https://api.github.com/users/alexreg/followers", "following_url": "https://api.github.com/users/alexreg/following{/other_user}", "gists_url": "https://api.github.com/users/alexreg/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexreg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexreg/subscriptions", "organizations_url": "https://api.github.com/users/alexreg/orgs", "repos_url": "https://api.github.com/users/alexreg/repos", "events_url": "https://api.github.com/users/alexreg/events{/privacy}", "received_events_url": "https://api.github.com/users/alexreg/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexreg", "id": 67036, "node_id": "MDQ6VXNlcjY3MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/67036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexreg", "html_url": "https://github.com/alexreg", "followers_url": "https://api.github.com/users/alexreg/followers", "following_url": "https://api.github.com/users/alexreg/following{/other_user}", "gists_url": "https://api.github.com/users/alexreg/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexreg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexreg/subscriptions", "organizations_url": "https://api.github.com/users/alexreg/orgs", "repos_url": "https://api.github.com/users/alexreg/repos", "events_url": "https://api.github.com/users/alexreg/events{/privacy}", "received_events_url": "https://api.github.com/users/alexreg/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "856e84f9a315ec7e6bb7069710c9c9e9b8b7a076", "url": "https://api.github.com/repos/rust-lang/rust/commits/856e84f9a315ec7e6bb7069710c9c9e9b8b7a076", "html_url": "https://github.com/rust-lang/rust/commit/856e84f9a315ec7e6bb7069710c9c9e9b8b7a076"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "794e57a1ab2c871470d671428d261629f733ecc0", "filename": "src/librustc_resolve/diagnostics.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/79009ed728f73b92d5e53b4212844e2dbc51ac5f/src%2Flibrustc_resolve%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79009ed728f73b92d5e53b4212844e2dbc51ac5f/src%2Flibrustc_resolve%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fdiagnostics.rs?ref=79009ed728f73b92d5e53b4212844e2dbc51ac5f", "patch": "@@ -770,17 +770,17 @@ match x {\n \"##,\n \n E0411: r##\"\n-The `Self` keyword was used outside an impl or a trait.\n+The `Self` keyword was used outside an impl, trait, or type definition.\n \n Erroneous code example:\n \n ```compile_fail,E0411\n-<Self>::foo; // error: use of `Self` outside of an impl or trait\n+<Self>::foo; // error: use of `Self` outside of an impl, trait, or type definition\n ```\n \n The `Self` keyword represents the current type, which explains why it can only\n-be used inside an impl or a trait. It gives access to the associated items of a\n-type:\n+be used inside an impl, trait, or type definition. It gives access to the\n+associated items of a type:\n \n ```\n trait Foo {"}, {"sha": "2ce2173e2e4550df2f1a74a7dad82965fd62110f", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/79009ed728f73b92d5e53b4212844e2dbc51ac5f/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79009ed728f73b92d5e53b4212844e2dbc51ac5f/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=79009ed728f73b92d5e53b4212844e2dbc51ac5f", "patch": "@@ -2977,7 +2977,7 @@ impl<'a, 'crateloader: 'a> Resolver<'a, 'crateloader> {\n             if is_self_type(path, ns) {\n                 __diagnostic_used!(E0411);\n                 err.code(DiagnosticId::Error(\"E0411\".into()));\n-                err.span_label(span, \"`Self` is only available in traits and impls\");\n+                err.span_label(span, \"`Self` is only available in traits, impls, and type definitions\");\n                 return (err, Vec::new());\n             }\n             if is_self_value(path, ns) {"}]}