{"sha": "7ba685c7abe3f4e76d7e720277c1070c4dafb88b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiYTY4NWM3YWJlM2Y0ZTc2ZDdlNzIwMjc3YzEwNzBjNGRhZmI4OGI=", "commit": {"author": {"name": "Bj\u00f6rn Steinbrink", "email": "bsteinbr@gmail.com", "date": "2013-05-14T18:32:49Z"}, "committer": {"name": "Bj\u00f6rn Steinbrink", "email": "bsteinbr@gmail.com", "date": "2013-05-14T18:32:49Z"}, "message": "Add inlining for iter_bytes for types used as hashmap keys\n\nNot inlining these affects the hash table performance quite badly.", "tree": {"sha": "2834ea782163c29e96c7a8336a55625cc027b6d2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2834ea782163c29e96c7a8336a55625cc027b6d2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7ba685c7abe3f4e76d7e720277c1070c4dafb88b", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7ba685c7abe3f4e76d7e720277c1070c4dafb88b", "html_url": "https://github.com/rust-lang/rust/commit/7ba685c7abe3f4e76d7e720277c1070c4dafb88b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7ba685c7abe3f4e76d7e720277c1070c4dafb88b/comments", "author": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "767e3ae86cba26437a60009d79ac2a295b41768e", "url": "https://api.github.com/repos/rust-lang/rust/commits/767e3ae86cba26437a60009d79ac2a295b41768e", "html_url": "https://github.com/rust-lang/rust/commit/767e3ae86cba26437a60009d79ac2a295b41768e"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "ad42881ffa028d9b9dcdb200830903789fb2da2c", "filename": "src/libcore/to_bytes.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7ba685c7abe3f4e76d7e720277c1070c4dafb88b/src%2Flibcore%2Fto_bytes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ba685c7abe3f4e76d7e720277c1070c4dafb88b/src%2Flibcore%2Fto_bytes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fto_bytes.rs?ref=7ba685c7abe3f4e76d7e720277c1070c4dafb88b", "patch": "@@ -458,6 +458,7 @@ pub fn iter_bytes_2<A:IterBytes,B:IterBytes>(a: &A, b: &B,\n     b.iter_bytes(lsb0, |bytes| {flag = z(bytes); flag});\n }\n #[cfg(not(stage0))]\n+#[inline(always)]\n pub fn iter_bytes_2<A:IterBytes,B:IterBytes>(a: &A, b: &B,\n                                              lsb0: bool, z: Cb) -> bool {\n     a.iter_bytes(lsb0, z) && b.iter_bytes(lsb0, z)"}, {"sha": "34480bb1edf9b8561bdf145ad595122ceed6052c", "filename": "src/libsyntax/ast.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7ba685c7abe3f4e76d7e720277c1070c4dafb88b/src%2Flibsyntax%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ba685c7abe3f4e76d7e720277c1070c4dafb88b/src%2Flibsyntax%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fast.rs?ref=7ba685c7abe3f4e76d7e720277c1070c4dafb88b", "patch": "@@ -98,12 +98,14 @@ impl<D:Decoder> Decodable<D> for ident {\n \n #[cfg(stage0)]\n impl to_bytes::IterBytes for ident {\n+    #[inline(always)]\n     fn iter_bytes(&self, lsb0: bool, f: to_bytes::Cb) {\n         self.repr.iter_bytes(lsb0, f)\n     }\n }\n #[cfg(not(stage0))]\n impl to_bytes::IterBytes for ident {\n+    #[inline(always)]\n     fn iter_bytes(&self, lsb0: bool, f: to_bytes::Cb) -> bool {\n         self.repr.iter_bytes(lsb0, f)\n     }"}, {"sha": "fe479ab81f77bf901696d45fdd6f3b3ee3e87a9a", "filename": "src/libsyntax/parse/token.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7ba685c7abe3f4e76d7e720277c1070c4dafb88b/src%2Flibsyntax%2Fparse%2Ftoken.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ba685c7abe3f4e76d7e720277c1070c4dafb88b/src%2Flibsyntax%2Fparse%2Ftoken.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Ftoken.rs?ref=7ba685c7abe3f4e76d7e720277c1070c4dafb88b", "patch": "@@ -357,12 +357,14 @@ impl<'self> Equiv<@~str> for StringRef<'self> {\n \n #[cfg(stage0)]\n impl<'self> to_bytes::IterBytes for StringRef<'self> {\n+    #[inline(always)]\n     fn iter_bytes(&self, lsb0: bool, f: to_bytes::Cb) {\n         (**self).iter_bytes(lsb0, f);\n     }\n }\n #[cfg(not(stage0))]\n impl<'self> to_bytes::IterBytes for StringRef<'self> {\n+    #[inline(always)]\n     fn iter_bytes(&self, lsb0: bool, f: to_bytes::Cb) -> bool {\n         (**self).iter_bytes(lsb0, f)\n     }"}]}