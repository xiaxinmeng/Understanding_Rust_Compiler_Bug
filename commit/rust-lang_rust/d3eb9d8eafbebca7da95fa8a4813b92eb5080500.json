{"sha": "d3eb9d8eafbebca7da95fa8a4813b92eb5080500", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQzZWI5ZDhlYWZiZWJjYTdkYTk1ZmE4YTQ4MTNiOTJlYjUwODA1MDA=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-05-08T13:22:05Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-05-08T13:22:05Z"}, "message": "Merge #4376\n\n4376: Fix type of byte literals r=matklad a=flodiebold\n\nThey're `&[u8; N]`, not `&[u8]` (see #4374).\n\nCo-authored-by: Florian Diebold <florian.diebold@freiheit.com>", "tree": {"sha": "e76e38744fefe81c5ec1f121672022a36307dcf4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e76e38744fefe81c5ec1f121672022a36307dcf4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d3eb9d8eafbebca7da95fa8a4813b92eb5080500", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJetVz9CRBK7hj4Ov3rIwAAdHIIAAvEjX+/BMIEBjmVJ2My3oxq\nn1KnbYellSbGzm9FwTRuNzZt2144ajkD2RhWc5V4gsB4Cw/3f/lFnfdVAhEBAjss\n/7eDpqEU/96iutryL2auVU3Q5wERoZNTAwYn7EwyAInWS0UJo1mKBWqVFFRqI81i\n6HPLq+K9ZeHpUW/KcrxJiWGswD+3pVko7lqYHKbbZyJP5M6tZoaetbbNruNq5HrZ\nFSWWh5O4LcbvnlM9A3Kq8nLCXCWZ33sVigS5hHQe9ZpJ737+et0XMiKdevs/XhjD\nRPeR5cC3f6P0e7bewaSnUFtaiLpoD/TY+4wdVIT+pfd1neX/wnEhUpM5pgjG0Xk=\n=dCIs\n-----END PGP SIGNATURE-----\n", "payload": "tree e76e38744fefe81c5ec1f121672022a36307dcf4\nparent 51e4b92c1eee25cb6bf1b5ec8e7633dfc5f67a45\nparent f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1588944125 +0000\ncommitter GitHub <noreply@github.com> 1588944125 +0000\n\nMerge #4376\n\n4376: Fix type of byte literals r=matklad a=flodiebold\n\nThey're `&[u8; N]`, not `&[u8]` (see #4374).\n\nCo-authored-by: Florian Diebold <florian.diebold@freiheit.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d3eb9d8eafbebca7da95fa8a4813b92eb5080500", "html_url": "https://github.com/rust-lang/rust/commit/d3eb9d8eafbebca7da95fa8a4813b92eb5080500", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d3eb9d8eafbebca7da95fa8a4813b92eb5080500/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "51e4b92c1eee25cb6bf1b5ec8e7633dfc5f67a45", "url": "https://api.github.com/repos/rust-lang/rust/commits/51e4b92c1eee25cb6bf1b5ec8e7633dfc5f67a45", "html_url": "https://github.com/rust-lang/rust/commit/51e4b92c1eee25cb6bf1b5ec8e7633dfc5f67a45"}, {"sha": "f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1", "url": "https://api.github.com/repos/rust-lang/rust/commits/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1", "html_url": "https://github.com/rust-lang/rust/commit/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1"}], "stats": {"total": 21, "additions": 11, "deletions": 10}, "files": [{"sha": "614c352a0c3623f87346fd005c196647a48d7d27", "filename": "crates/ra_hir_ty/src/infer/expr.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d3eb9d8eafbebca7da95fa8a4813b92eb5080500/crates%2Fra_hir_ty%2Fsrc%2Finfer%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d3eb9d8eafbebca7da95fa8a4813b92eb5080500/crates%2Fra_hir_ty%2Fsrc%2Finfer%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Finfer%2Fexpr.rs?ref=d3eb9d8eafbebca7da95fa8a4813b92eb5080500", "patch": "@@ -501,8 +501,8 @@ impl<'a> InferenceContext<'a> {\n                 }\n                 Literal::ByteString(..) => {\n                     let byte_type = Ty::simple(TypeCtor::Int(Uncertain::Known(IntTy::u8())));\n-                    let slice_type = Ty::apply_one(TypeCtor::Slice, byte_type);\n-                    Ty::apply_one(TypeCtor::Ref(Mutability::Shared), slice_type)\n+                    let array_type = Ty::apply_one(TypeCtor::Array, byte_type);\n+                    Ty::apply_one(TypeCtor::Ref(Mutability::Shared), array_type)\n                 }\n                 Literal::Char(..) => Ty::simple(TypeCtor::Char),\n                 Literal::Int(_v, ty) => Ty::simple(TypeCtor::Int((*ty).into())),"}, {"sha": "67f964ab5d7ac5a32b72eace4bff90be286ff039", "filename": "crates/ra_hir_ty/src/tests/method_resolution.rs", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/d3eb9d8eafbebca7da95fa8a4813b92eb5080500/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d3eb9d8eafbebca7da95fa8a4813b92eb5080500/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs?ref=d3eb9d8eafbebca7da95fa8a4813b92eb5080500", "patch": "@@ -17,19 +17,20 @@ impl<T> [T] {\n #[lang = \"slice_alloc\"]\n impl<T> [T] {}\n \n-fn test() {\n-    <[_]>::foo(b\"foo\");\n+fn test(x: &[u8]) {\n+    <[_]>::foo(x);\n }\n \"#),\n         @r###\"\n     45..49 'self': &[T]\n     56..79 '{     ...     }': T\n     66..73 'loop {}': !\n     71..73 '{}': ()\n-    133..160 '{     ...o\"); }': ()\n-    139..149 '<[_]>::foo': fn foo<u8>(&[u8]) -> u8\n-    139..157 '<[_]>:...\"foo\")': u8\n-    150..156 'b\"foo\"': &[u8]\n+    131..132 'x': &[u8]\n+    141..163 '{     ...(x); }': ()\n+    147..157 '<[_]>::foo': fn foo<u8>(&[u8]) -> u8\n+    147..160 '<[_]>::foo(x)': u8\n+    158..159 'x': &[u8]\n     \"###\n     );\n }"}, {"sha": "e17a179004cd334b8044e717f720351521ccad05", "filename": "crates/ra_hir_ty/src/tests/simple.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d3eb9d8eafbebca7da95fa8a4813b92eb5080500/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fsimple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d3eb9d8eafbebca7da95fa8a4813b92eb5080500/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fsimple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fsimple.rs?ref=d3eb9d8eafbebca7da95fa8a4813b92eb5080500", "patch": "@@ -414,15 +414,15 @@ fn test() {\n     27..31 '5f32': f32\n     37..41 '5f64': f64\n     47..54 '\"hello\"': &str\n-    60..68 'b\"bytes\"': &[u8]\n+    60..68 'b\"bytes\"': &[u8; _]\n     74..77 ''c'': char\n     83..87 'b'b'': u8\n     93..97 '3.14': f64\n     103..107 '5000': i32\n     113..118 'false': bool\n     124..128 'true': bool\n     134..202 'r#\"   ...    \"#': &str\n-    208..218 'br#\"yolo\"#': &[u8]\n+    208..218 'br#\"yolo\"#': &[u8; _]\n     \"###\n     );\n }"}]}