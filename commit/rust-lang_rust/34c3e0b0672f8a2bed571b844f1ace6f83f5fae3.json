{"sha": "34c3e0b0672f8a2bed571b844f1ace6f83f5fae3", "node_id": "C_kwDOAAsO6NoAKDM0YzNlMGIwNjcyZjhhMmJlZDU3MWI4NDRmMWFjZTZmODNmNWZhZTM", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-04-20T04:38:22Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-04-20T04:38:22Z"}, "message": "Auto merge of #12037 - lnicola:inlay-hint-config, r=lnicola\n\nfix: Remove `rust-analyzer.inlayHints.enable` and set language scope\n\nCloses #12036\nCC https://github.com/rust-lang/rust-analyzer/issues/12027#issuecomment-1102990324\n\nThe key was left there by mistake in #12006.\n\nSetting the configuration scope only works if you already have it created, which is fine, but unfortunately not quite discoverable.", "tree": {"sha": "9ff2f75f1b4046530b9565f9f0d01469b3218fa2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9ff2f75f1b4046530b9565f9f0d01469b3218fa2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/34c3e0b0672f8a2bed571b844f1ace6f83f5fae3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/34c3e0b0672f8a2bed571b844f1ace6f83f5fae3", "html_url": "https://github.com/rust-lang/rust/commit/34c3e0b0672f8a2bed571b844f1ace6f83f5fae3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/34c3e0b0672f8a2bed571b844f1ace6f83f5fae3/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "55824021e10d296a10948549e49a5bdc8dc1c661", "url": "https://api.github.com/repos/rust-lang/rust/commits/55824021e10d296a10948549e49a5bdc8dc1c661", "html_url": "https://github.com/rust-lang/rust/commit/55824021e10d296a10948549e49a5bdc8dc1c661"}, {"sha": "ad751e08ec653eb856c598ab2b9402b3051eeda4", "url": "https://api.github.com/repos/rust-lang/rust/commits/ad751e08ec653eb856c598ab2b9402b3051eeda4", "html_url": "https://github.com/rust-lang/rust/commit/ad751e08ec653eb856c598ab2b9402b3051eeda4"}], "stats": {"total": 10, "additions": 2, "deletions": 8}, "files": [{"sha": "cd0ad92d9a512ba0b60c401cda6112673849b842", "filename": "editors/code/package.json", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/34c3e0b0672f8a2bed571b844f1ace6f83f5fae3/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/34c3e0b0672f8a2bed571b844f1ace6f83f5fae3/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=34c3e0b0672f8a2bed571b844f1ace6f83f5fae3", "patch": "@@ -293,11 +293,6 @@\n                     \"default\": null,\n                     \"markdownDescription\": \"Environment variables passed to the runnable launched using `Test` or `Debug` lens or `rust-analyzer.run` command.\"\n                 },\n-                \"rust-analyzer.inlayHints.enable\": {\n-                    \"type\": \"boolean\",\n-                    \"default\": true,\n-                    \"description\": \"Whether to show inlay hints.\"\n-                },\n                 \"rust-analyzer.server.path\": {\n                     \"type\": [\n                         \"null\","}, {"sha": "1e89938c0524763991be320146bf482a9d571466", "filename": "editors/code/src/commands.ts", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/34c3e0b0672f8a2bed571b844f1ace6f83f5fae3/editors%2Fcode%2Fsrc%2Fcommands.ts", "raw_url": "https://github.com/rust-lang/rust/raw/34c3e0b0672f8a2bed571b844f1ace6f83f5fae3/editors%2Fcode%2Fsrc%2Fcommands.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands.ts?ref=34c3e0b0672f8a2bed571b844f1ace6f83f5fae3", "patch": "@@ -300,10 +300,9 @@ export function serverVersion(ctx: Ctx): Cmd {\n \n export function toggleInlayHints(_ctx: Ctx): Cmd {\n     return async () => {\n-        const scope = vscode.ConfigurationTarget.Global;\n-        const config = vscode.workspace.getConfiguration(\"editor.inlayHints\");\n+        const config = vscode.workspace.getConfiguration(\"editor.inlayHints\", { languageId: \"rust\" });\n         const value = !config.get(\"enabled\");\n-        await config.update('enabled', value, scope);\n+        await config.update('enabled', value, vscode.ConfigurationTarget.Global);\n     };\n }\n "}]}