{"sha": "5cfb9ec1d7d66ecebd86761cef091766c65c09d9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVjZmI5ZWMxZDdkNjZlY2ViZDg2NzYxY2VmMDkxNzY2YzY1YzA5ZDk=", "commit": {"author": {"name": "Jane Lusby", "email": "jlusby42@gmail.com", "date": "2020-04-15T21:25:42Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-04-15T21:25:42Z"}, "message": "Apply suggestions from code review\n\nCo-Authored-By: Philipp Krones <hello@philkrones.com>", "tree": {"sha": "1ec72c9a807a68efc5c49a28f71d15def2382dcb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1ec72c9a807a68efc5c49a28f71d15def2382dcb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5cfb9ec1d7d66ecebd86761cef091766c65c09d9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJel3vWCRBK7hj4Ov3rIwAAdHIIAH2HONK8ZgZcT5kwdputIitq\n2ZYNGn5VmbyqbLwmKXp1vGjdxy65sMIOCqpPtIxdMCwVUOOAg7r8M9W1LCoTGpVH\n+J1YFpOaPrQ78A6UwOpZB3WshJzz/ZPG4ImP+hL36e7A8vKcGYUOap4Ptt7Maqxd\nPMWFfyPI25w7e2mQk9lxy4HPF+w11O7aacySjR7BCPtilP7/Hvk3DrWBoCkARTtL\nGnq0adWTUS7Yb+n1sCLl4KBRnEP6+8K6bW+Qael9buIKnvRCiBgeZhBzeMfDt+Bv\n82QdO9aoViw5hROzFGubKBcuvtSFpLvcJSPH8z+YhJlVKElgRc3CYWNPdavC/wk=\n=kBl7\n-----END PGP SIGNATURE-----\n", "payload": "tree 1ec72c9a807a68efc5c49a28f71d15def2382dcb\nparent 664ad33faf5f0a32eeec6cbec3335e9dd47e907a\nauthor Jane Lusby <jlusby42@gmail.com> 1586985942 -0700\ncommitter GitHub <noreply@github.com> 1586985942 -0700\n\nApply suggestions from code review\n\nCo-Authored-By: Philipp Krones <hello@philkrones.com>"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5cfb9ec1d7d66ecebd86761cef091766c65c09d9", "html_url": "https://github.com/rust-lang/rust/commit/5cfb9ec1d7d66ecebd86761cef091766c65c09d9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5cfb9ec1d7d66ecebd86761cef091766c65c09d9/comments", "author": {"login": "yaahc", "id": 1993852, "node_id": "MDQ6VXNlcjE5OTM4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1993852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaahc", "html_url": "https://github.com/yaahc", "followers_url": "https://api.github.com/users/yaahc/followers", "following_url": "https://api.github.com/users/yaahc/following{/other_user}", "gists_url": "https://api.github.com/users/yaahc/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaahc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaahc/subscriptions", "organizations_url": "https://api.github.com/users/yaahc/orgs", "repos_url": "https://api.github.com/users/yaahc/repos", "events_url": "https://api.github.com/users/yaahc/events{/privacy}", "received_events_url": "https://api.github.com/users/yaahc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "664ad33faf5f0a32eeec6cbec3335e9dd47e907a", "url": "https://api.github.com/repos/rust-lang/rust/commits/664ad33faf5f0a32eeec6cbec3335e9dd47e907a", "html_url": "https://github.com/rust-lang/rust/commit/664ad33faf5f0a32eeec6cbec3335e9dd47e907a"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "bc43a34ed5d4aaa4e843306abfebab9970a955f2", "filename": "src/main.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/5cfb9ec1d7d66ecebd86761cef091766c65c09d9/src%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5cfb9ec1d7d66ecebd86761cef091766c65c09d9/src%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmain.rs?ref=5cfb9ec1d7d66ecebd86761cef091766c65c09d9", "patch": "@@ -115,7 +115,7 @@ impl ClippyCmd {\n         }\n     }\n \n-    fn path(&self) -> PathBuf {\n+    fn path() -> PathBuf {\n         let mut path = env::current_exe()\n             .expect(\"current executable path invalid\")\n             .with_file_name(\"clippy-driver\");\n@@ -143,10 +143,10 @@ impl ClippyCmd {\n             .map(|p| (\"CARGO_TARGET_DIR\", p))\n     }\n \n-    fn to_std_cmd(self) -> Command {\n+    fn into_std_cmd(self) -> Command {\n         let mut cmd = Command::new(\"cargo\");\n \n-        cmd.env(self.path_env(), self.path())\n+        cmd.env(self.path_env(), Self::path())\n             .envs(ClippyCmd::target_dir())\n             .env(\"CLIPPY_ARGS\", self.clippy_args)\n             .arg(self.cargo_subcommand)\n@@ -162,7 +162,7 @@ where\n {\n     let cmd = ClippyCmd::new(old_args);\n \n-    let mut cmd = cmd.to_std_cmd();\n+    let mut cmd = cmd.into_std_cmd();\n \n     let exit_status = cmd\n         .spawn()\n@@ -179,7 +179,7 @@ where\n \n #[cfg(test)]\n mod tests {\n-    use super::*;\n+    use super::ClippyCmd;\n \n     #[test]\n     #[should_panic]\n@@ -196,7 +196,7 @@ mod tests {\n         let cmd = ClippyCmd::new(args);\n         assert_eq!(\"fix\", cmd.cargo_subcommand);\n         assert_eq!(\"RUSTC_WORKSPACE_WRAPPER\", cmd.path_env());\n-        assert!(cmd.args.iter().find(|arg| arg.ends_with(\"unstable-options\")).is_some());\n+        assert!(cmd.args.iter().any(|arg| arg.ends_with(\"unstable-options\")));\n     }\n \n     #[test]"}]}