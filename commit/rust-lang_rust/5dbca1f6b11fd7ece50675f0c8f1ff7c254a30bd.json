{"sha": "5dbca1f6b11fd7ece50675f0c8f1ff7c254a30bd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkYmNhMWY2YjExZmQ3ZWNlNTA2NzVmMGM4ZjFmZjdjMjU0YTMwYmQ=", "commit": {"author": {"name": "Philipp Krones", "email": "hello@philkrones.com", "date": "2018-10-21T19:27:01Z"}, "committer": {"name": "HMPerson1", "email": "hmperson1@gmail.com", "date": "2018-10-25T03:39:54Z"}, "message": "Add `Applicability`", "tree": {"sha": "50fcd72982a1946590232b5ca40dd070455e739f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/50fcd72982a1946590232b5ca40dd070455e739f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5dbca1f6b11fd7ece50675f0c8f1ff7c254a30bd", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQFIBAABCAAyFiEE30PRORiHa0gkBHJnH7R33dJ4Ic4FAlvROwoUHGhtcGVyc29u\nMUBnbWFpbC5jb20ACgkQH7R33dJ4Ic5IywgAgjENorB6sDQd2rBgiHl+rrni5Nth\nbpIVkzMydnmQ15RYWgOsXelQTQvZOka30520gsJ4BfesHolgEeIQWLQ0hG+B9iVU\ndxBRzpEVbjeToJljaGAD27+5JffeHRylqfn4itfA3Jv9fbdHB1Vjxy1nNlRIGlm9\ncnf5AkRFGomjPU8CUBmUxcNNQQCzRxZ9CEYWVYPWlB/5UJp8sOEe6BL6UMykewRM\nBgrA+YGBz9brw1Gd+f39zvU6vD5n1O5FX/uBE3L1W6eJ+gZJVjEuZCiRbenl3nSu\n/mSZe41GQ8Bq6ussPIuSjasltYyvJPWiKwhYEizNAeTsBnLvBnZ9wKFveA==\n=MkmD\n-----END PGP SIGNATURE-----", "payload": "tree 50fcd72982a1946590232b5ca40dd070455e739f\nparent aabf8083bd7e3e45ca4701623ede99fb35dd0578\nauthor Philipp Krones <hello@philkrones.com> 1540150021 -0400\ncommitter HMPerson1 <hmperson1@gmail.com> 1540438794 -0400\n\nAdd `Applicability`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5dbca1f6b11fd7ece50675f0c8f1ff7c254a30bd", "html_url": "https://github.com/rust-lang/rust/commit/5dbca1f6b11fd7ece50675f0c8f1ff7c254a30bd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5dbca1f6b11fd7ece50675f0c8f1ff7c254a30bd/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "HMPerson1", "id": 2219904, "node_id": "MDQ6VXNlcjIyMTk5MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2219904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HMPerson1", "html_url": "https://github.com/HMPerson1", "followers_url": "https://api.github.com/users/HMPerson1/followers", "following_url": "https://api.github.com/users/HMPerson1/following{/other_user}", "gists_url": "https://api.github.com/users/HMPerson1/gists{/gist_id}", "starred_url": "https://api.github.com/users/HMPerson1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HMPerson1/subscriptions", "organizations_url": "https://api.github.com/users/HMPerson1/orgs", "repos_url": "https://api.github.com/users/HMPerson1/repos", "events_url": "https://api.github.com/users/HMPerson1/events{/privacy}", "received_events_url": "https://api.github.com/users/HMPerson1/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aabf8083bd7e3e45ca4701623ede99fb35dd0578", "url": "https://api.github.com/repos/rust-lang/rust/commits/aabf8083bd7e3e45ca4701623ede99fb35dd0578", "html_url": "https://github.com/rust-lang/rust/commit/aabf8083bd7e3e45ca4701623ede99fb35dd0578"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "c53c276991d1d02817f449ef7ac2ecf4321d6228", "filename": "clippy_lints/src/mem_discriminant.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5dbca1f6b11fd7ece50675f0c8f1ff7c254a30bd/clippy_lints%2Fsrc%2Fmem_discriminant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5dbca1f6b11fd7ece50675f0c8f1ff7c254a30bd/clippy_lints%2Fsrc%2Fmem_discriminant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmem_discriminant.rs?ref=5dbca1f6b11fd7ece50675f0c8f1ff7c254a30bd", "patch": "@@ -11,6 +11,7 @@\n use crate::rustc::hir::{Expr, ExprKind};\n use crate::rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use crate::rustc::{declare_tool_lint, lint_array};\n+use crate::rustc_errors::Applicability;\n use crate::utils::{match_def_path, opt_def_id, paths, snippet, span_lint_and_then, walk_ptrs_ty_depth};\n use if_chain::if_chain;\n \n@@ -79,10 +80,11 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for MemDiscriminant {\n                             }\n \n                             let derefs: String = iter::repeat('*').take(derefs_needed).collect();\n-                            db.span_suggestion(\n+                            db.span_suggestion_with_applicability(\n                                 param.span,\n                                 \"try dereferencing\",\n                                 format!(\"{}{}\", derefs, snippet(cx, cur_expr.span, \"<param>\")),\n+                                Applicability::MachineApplicable,\n                             );\n                         }\n                     },"}]}