{"sha": "4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhYjVmZTNmOTdhMjYwZjJjYjJiM2MwNmE5YTg0MWEwNWE2NTllNTc=", "commit": {"author": {"name": "Nicholas Nethercote", "email": "nnethercote@mozilla.com", "date": "2019-05-17T08:47:49Z"}, "committer": {"name": "Nicholas Nethercote", "email": "nnethercote@mozilla.com", "date": "2019-05-17T10:10:52Z"}, "message": "Avoid unnecessary interning in `DefPathData::as_interned_str()`.", "tree": {"sha": "15f6819e98e2a066f436e45749e05a085bc61670", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/15f6819e98e2a066f436e45749e05a085bc61670"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57", "html_url": "https://github.com/rust-lang/rust/commit/4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57/comments", "author": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "86cc326d0665997669ca6069c5bb2619e1955f6c", "url": "https://api.github.com/repos/rust-lang/rust/commits/86cc326d0665997669ca6069c5bb2619e1955f6c", "html_url": "https://github.com/rust-lang/rust/commit/86cc326d0665997669ca6069c5bb2619e1955f6c"}], "stats": {"total": 25, "additions": 16, "deletions": 9}, "files": [{"sha": "9cb85c4db47579f8403de8d8369a5de6138226cd", "filename": "src/librustc/hir/map/definitions.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57/src%2Flibrustc%2Fhir%2Fmap%2Fdefinitions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57/src%2Flibrustc%2Fhir%2Fmap%2Fdefinitions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmap%2Fdefinitions.rs?ref=4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57", "patch": "@@ -17,7 +17,7 @@ use std::fmt::Write;\n use std::hash::Hash;\n use syntax::ast;\n use syntax::ext::hygiene::Mark;\n-use syntax::symbol::{Symbol, InternedString};\n+use syntax::symbol::{Symbol, sym, InternedString};\n use syntax_pos::{Span, DUMMY_SP};\n use crate::util::nodemap::NodeMap;\n \n@@ -584,16 +584,16 @@ impl DefPathData {\n                 return name\n             }\n             // note that this does not show up in user printouts\n-            CrateRoot => \"{{crate}}\",\n-            Impl => \"{{impl}}\",\n-            Misc => \"{{misc}}\",\n-            ClosureExpr => \"{{closure}}\",\n-            Ctor => \"{{constructor}}\",\n-            AnonConst => \"{{constant}}\",\n-            ImplTrait => \"{{opaque}}\",\n+            CrateRoot => sym::double_braced_crate,\n+            Impl => sym::double_braced_impl,\n+            Misc => sym::double_braced_misc,\n+            ClosureExpr => sym::double_braced_closure,\n+            Ctor => sym::double_braced_constructor,\n+            AnonConst => sym::double_braced_constant,\n+            ImplTrait => sym::double_braced_opaque,\n         };\n \n-        Symbol::intern(s).as_interned_str()\n+        s.as_interned_str()\n     }\n \n     pub fn to_string(&self) -> String {"}, {"sha": "01b126f48b327151c0e988deec216b1a8372295e", "filename": "src/libsyntax_pos/symbol.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57/src%2Flibsyntax_pos%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57/src%2Flibsyntax_pos%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Fsymbol.rs?ref=4ab5fe3f97a260f2cb2b3c06a9a841a05a659e57", "patch": "@@ -214,6 +214,13 @@ symbols! {\n         document_private_items,\n         dotdoteq_in_patterns,\n         dotdot_in_tuple_patterns,\n+        double_braced_crate: \"{{crate}}\",\n+        double_braced_impl: \"{{impl}}\",\n+        double_braced_misc: \"{{misc}}\",\n+        double_braced_closure: \"{{closure}}\",\n+        double_braced_constructor: \"{{constructor}}\",\n+        double_braced_constant: \"{{constant}}\",\n+        double_braced_opaque: \"{{opaque}}\",\n         dropck_eyepatch,\n         dropck_parametricity,\n         drop_types_in_const,"}]}