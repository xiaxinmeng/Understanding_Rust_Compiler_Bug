{"sha": "7a121ad77f0c9b501d127e23af4c53b5a9fd85ee", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdhMTIxYWQ3N2YwYzliNTAxZDEyN2UyM2FmNGM1M2I1YTlmZDg1ZWU=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-05-24T07:45:14Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-05-24T07:45:14Z"}, "message": "bootstrap: propagate test-args to miri and clippy test suites", "tree": {"sha": "7015b58e8b3e7772dc783f63e02615fdb8326152", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7015b58e8b3e7772dc783f63e02615fdb8326152"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7a121ad77f0c9b501d127e23af4c53b5a9fd85ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7a121ad77f0c9b501d127e23af4c53b5a9fd85ee", "html_url": "https://github.com/rust-lang/rust/commit/7a121ad77f0c9b501d127e23af4c53b5a9fd85ee", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7a121ad77f0c9b501d127e23af4c53b5a9fd85ee/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3137f8e2d141d7d7c65040a718a9193f50e1282e", "url": "https://api.github.com/repos/rust-lang/rust/commits/3137f8e2d141d7d7c65040a718a9193f50e1282e", "html_url": "https://github.com/rust-lang/rust/commit/3137f8e2d141d7d7c65040a718a9193f50e1282e"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "ed50f950fb697cd1b451ddec777c26ef07ea68fd", "filename": "src/bootstrap/test.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7a121ad77f0c9b501d127e23af4c53b5a9fd85ee/src%2Fbootstrap%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a121ad77f0c9b501d127e23af4c53b5a9fd85ee/src%2Fbootstrap%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftest.rs?ref=7a121ad77f0c9b501d127e23af4c53b5a9fd85ee", "patch": "@@ -439,6 +439,8 @@ impl Step for Miri {\n             cargo.env(\"RUSTC_LIB_PATH\", builder.rustc_libdir(compiler));\n             cargo.env(\"MIRI_PATH\", miri);\n \n+            cargo.arg(\"--\").args(builder.config.cmd.test_args());\n+\n             builder.add_rustc_lib_path(compiler, &mut cargo);\n \n             if !try_run(builder, &mut cargo.into()) {\n@@ -545,6 +547,8 @@ impl Step for Clippy {\n             // clippy tests need to find the driver\n             cargo.env(\"CLIPPY_DRIVER_PATH\", clippy);\n \n+            cargo.arg(\"--\").args(builder.config.cmd.test_args());\n+\n             builder.add_rustc_lib_path(compiler, &mut cargo);\n \n             try_run(builder, &mut cargo.into());"}]}