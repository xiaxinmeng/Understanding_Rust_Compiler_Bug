{"sha": "4b523fce18e91dff63722f5de70d48a6d5dd1b83", "node_id": "C_kwDOAAsO6NoAKDRiNTIzZmNlMThlOTFkZmY2MzcyMmY1ZGU3MGQ0OGE2ZDVkZDFiODM", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-04-29T22:59:03Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-04-29T22:59:19Z"}, "message": "Resolve clippy::unnecessary_mut_passed\n\n    error: the method `validate_lock_acquire` doesn't need a mutable reference\n       --> src/sync.rs:477:49\n        |\n    477 |                 data_race.validate_lock_acquire(&mut condvar.data_race, waiter.thread);\n        |                                                 ^^^^^^^^^^^^^^^^^^^^^^\n        |\n        = note: `-D clippy::unnecessary-mut-passed` implied by `-D clippy::all`\n        = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed", "tree": {"sha": "a23d52de3352d90cf97c019e71c509f93d947fe4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a23d52de3352d90cf97c019e71c509f93d947fe4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4b523fce18e91dff63722f5de70d48a6d5dd1b83", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmJsbccACgkQ+boUO5X/\nbYLd+xAAgLQY2F79jK4Fzc8MvlDTN1UctmlSWUAzwn6DnDY4Z3bCvah2nseuxM2n\nJIYkRRzr+7sXd2tV0DCNDb1kujyJZN3+piplD4ZOb7ncVPvd8JE4wAIZxGvDiS9A\nJNjIM0MZZwX5dg4QRIHv4TVNuGz2dR4LN/ecZqmYOMwEgMdZsnHt0PqJ2DD/y1kd\nBR57rLUm2ecmQUsvMgXT8ec2SJQvi/SHIrZA5VbUl0/oX1wnyrUD3uZJIZQYyR4q\nxyiDFm1HbN7uC3nLRBaezwJkVZeT+X5qjnB17u3Lb/RAq5/3sWHGGPIOwWRCQv/L\nMO8dYLpRVv0CNkFfsGLLOjiOEO35JAnrP3nw/mRZZ5BSRRjAOSkhgAOJFk7WUUWi\nCF6dxC8y7JrjLjG4mbnu7aBGHVazZR8Mbmm6tn2Us0cYtkhVLUfDUbf6YcmO5D3m\ngYQC7x7sf3kgwN3Ai6vE4nb2SaOO0bZsztnqMKJoZuZFw7YVUKyUonnFpUiAf9nP\nVMH0He8J+Uscz9OBtChJrLppGmloJzi16UsxtcDTa/NGgGhxKdJOdgnSE6a5gO4x\n4Yl5CdL60xsUBQ4DlEhAPvp4hyiJmgAnblH+NOdgCdiIbrFMeXEhbe0oF6eChrz1\nOSOTlnUrxzQJo/PpxJjxdQvHgzhGxLg7cqtpp7NX7wAQoT2mA0Q=\n=wMP2\n-----END PGP SIGNATURE-----", "payload": "tree a23d52de3352d90cf97c019e71c509f93d947fe4\nparent 1986f90c6ae95f2c1f49f4c11390abb9a5eb4876\nauthor David Tolnay <dtolnay@gmail.com> 1651273143 -0700\ncommitter David Tolnay <dtolnay@gmail.com> 1651273159 -0700\n\nResolve clippy::unnecessary_mut_passed\n\n    error: the method `validate_lock_acquire` doesn't need a mutable reference\n       --> src/sync.rs:477:49\n        |\n    477 |                 data_race.validate_lock_acquire(&mut condvar.data_race, waiter.thread);\n        |                                                 ^^^^^^^^^^^^^^^^^^^^^^\n        |\n        = note: `-D clippy::unnecessary-mut-passed` implied by `-D clippy::all`\n        = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4b523fce18e91dff63722f5de70d48a6d5dd1b83", "html_url": "https://github.com/rust-lang/rust/commit/4b523fce18e91dff63722f5de70d48a6d5dd1b83", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4b523fce18e91dff63722f5de70d48a6d5dd1b83/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1986f90c6ae95f2c1f49f4c11390abb9a5eb4876", "url": "https://api.github.com/repos/rust-lang/rust/commits/1986f90c6ae95f2c1f49f4c11390abb9a5eb4876", "html_url": "https://github.com/rust-lang/rust/commit/1986f90c6ae95f2c1f49f4c11390abb9a5eb4876"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "8e21294fd8dca3582dd64f95aff49c19af6793ff", "filename": "src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4b523fce18e91dff63722f5de70d48a6d5dd1b83/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4b523fce18e91dff63722f5de70d48a6d5dd1b83/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=4b523fce18e91dff63722f5de70d48a6d5dd1b83", "patch": "@@ -21,7 +21,6 @@\n     clippy::needless_lifetimes,\n     clippy::new_without_default,\n     clippy::single_match,\n-    clippy::unnecessary_mut_passed,\n     clippy::useless_conversion,\n     clippy::useless_format\n )]"}, {"sha": "ac1687a22e305e2e2c5223cbad4f048ddaed698e", "filename": "src/sync.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4b523fce18e91dff63722f5de70d48a6d5dd1b83/src%2Fsync.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4b523fce18e91dff63722f5de70d48a6d5dd1b83/src%2Fsync.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsync.rs?ref=4b523fce18e91dff63722f5de70d48a6d5dd1b83", "patch": "@@ -474,7 +474,7 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n         }\n         condvar.waiters.pop_front().map(|waiter| {\n             if let Some(data_race) = data_race {\n-                data_race.validate_lock_acquire(&mut condvar.data_race, waiter.thread);\n+                data_race.validate_lock_acquire(&condvar.data_race, waiter.thread);\n             }\n             (waiter.thread, waiter.mutex)\n         })"}]}