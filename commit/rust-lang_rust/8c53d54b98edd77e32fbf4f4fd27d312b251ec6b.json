{"sha": "8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhjNTNkNTRiOThlZGQ3N2UzMmZiZjRmNGZkMjdkMzEyYjI1MWVjNmI=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2018-01-31T09:20:30Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2018-03-08T07:34:16Z"}, "message": "Update tests", "tree": {"sha": "a60c2a76b5cbd2e1f001088726acc12f98eaf23f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a60c2a76b5cbd2e1f001088726acc12f98eaf23f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEYFTdM4NKd7XQft77pp+NIls619kFAlqg53gACgkQpp+NIls6\n19nfog/7BLMFOcM3N8TURJIQnmmwBwkKrrulGjyrXlq5UZMmUq+MSMOR5NZQBKpH\nFfbQ0LTsYbpdqwzPQhrFmzYKu2N1COwSBcf8xdNUvXGDUkXOUDdha1t1vGfU4Ygk\n0li0RYRret6pAqXUOnKZDQBkLqikJxY/Z6Nz3M1FwSQd5RkPHhCxz+QXKnsivRM5\nNx/GNS6qFNUD1vuyvVmdIv78PF6EqmRFYS86wnWVju9tmHmlsJUqd5zRipf7dNcA\n8N1+to49xa3DQvt3mvHvFPl8SMHRyFJSoU8cIeEVHxxCSphtuIS4kZ/WtDpmoQd3\nP2tB2RtwlrVxkrw+sYxnzjU4q9Fy+PXc26aUmdgWTiNInJ4OxOVKj/jGjRsizXAb\nNraIgOmbaXulkGq9UOtkV0Us0p9S8adgCZGUXIn3vyiuFFCG87EC0erN/3pxyJHZ\nNKv1pIDATMhdLuyxDIskryMBYmMT4HDlqpt8xFFZi9OcCCYmhbuA97mAjX5WfKLJ\naK1BlPAzF5D4xeu3VqoTM3Hd6YlRrbPCdBy0UecmHUpszpB9u6lxOBrPYQO0ycfY\nCSOIVrn+71NBJjmdtIFFqsJTgcXZlTB7p70kqvshu0OHZ6Sjem9N6m3domQMZgFx\nV5fE88jAz4HB/m+nx72a+/kuYnxn5+9NiknytTPUS5EbrT2mGXE=\n=Yv/j\n-----END PGP SIGNATURE-----", "payload": "tree a60c2a76b5cbd2e1f001088726acc12f98eaf23f\nparent d2f363ba89f41f3abb1e85d44eaae93ea338d3a4\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1517390430 +0100\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1520494456 +0100\n\nUpdate tests\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "html_url": "https://github.com/rust-lang/rust/commit/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d2f363ba89f41f3abb1e85d44eaae93ea338d3a4", "url": "https://api.github.com/repos/rust-lang/rust/commits/d2f363ba89f41f3abb1e85d44eaae93ea338d3a4", "html_url": "https://github.com/rust-lang/rust/commit/d2f363ba89f41f3abb1e85d44eaae93ea338d3a4"}], "stats": {"total": 58, "additions": 31, "deletions": 27}, "files": [{"sha": "e0203953fb2a43bc9d089d6f38f18d3ae81b8fb2", "filename": "src/librustc_mir/transform/const_prop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs?ref=8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "patch": "@@ -81,7 +81,7 @@ impl<'b, 'a, 'tcx:'b> ConstPropagator<'b, 'a, 'tcx> {\n         let value = match self.tcx.const_eval(self.param_env.and(cid)) {\n             Ok(val) => val,\n             Err(err) => {\n-                err.report(self.tcx, span, \"const prop\");\n+                err.report(self.tcx, span, \"constant propagated\");\n                 return None;\n             },\n         };"}, {"sha": "5dd8651005df857ebb4578e2219a6d10f94257e7", "filename": "src/test/compile-fail/const-err-multi.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fcompile-fail%2Fconst-err-multi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fcompile-fail%2Fconst-err-multi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fconst-err-multi.rs?ref=8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "patch": "@@ -14,6 +14,9 @@ pub const A: i8 = -std::i8::MIN;\n //~^ ERROR E0080\n //~| ERROR const_err\n //~| ERROR const_err\n+//~| ERROR constant evaluation error\n+//~| ERROR constant evaluation error\n+//~| ERROR constant evaluation error\n //~| ERROR E0080\n pub const B: i8 = A;\n //~^ ERROR E0080"}, {"sha": "b0cf639cd762fc2e5c6a5f8b426a0e8bce432202", "filename": "src/test/compile-fail/const-err.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fcompile-fail%2Fconst-err.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fcompile-fail%2Fconst-err.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fconst-err.rs?ref=8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "patch": "@@ -23,6 +23,7 @@ fn black_box<T>(_: T) {\n // Make sure that the two uses get two errors.\n const FOO: u8 = [5u8][1];\n //~^ ERROR constant evaluation error\n+//~| ERROR constant evaluation error\n //~| index out of bounds: the len is 1 but the index is 1\n //~| ERROR E0080\n "}, {"sha": "d715847e03fe3622e71f8013cb172320be59d6e2", "filename": "src/test/compile-fail/const-eval-overflow2.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow2.rs?ref=8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "patch": "@@ -23,64 +23,64 @@ use std::{u8, u16, u32, u64, usize};\n \n const VALS_I8: (i8,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to subtract with overflow\n     (\n      i8::MIN - 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_I16: (i16,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to subtract with overflow\n     (\n      i16::MIN - 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_I32: (i32,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to subtract with overflow\n     (\n      i32::MIN - 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_I64: (i64,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to subtract with overflow\n     (\n      i64::MIN - 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U8: (u8,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to subtract with overflow\n     (\n      u8::MIN - 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U16: (u16,) = (\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to subtract with overflow\n      u16::MIN - 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U32: (u32,) = (\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to subtract with overflow\n      u32::MIN - 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U64: (u64,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to subtract with overflow\n     (\n      u64::MIN - 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n fn main() {"}, {"sha": "f6463900eeb53adba20e7087af83c3370e8aa78b", "filename": "src/test/compile-fail/const-eval-overflow2b.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow2b.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow2b.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow2b.rs?ref=8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "patch": "@@ -23,64 +23,64 @@ use std::{u8, u16, u32, u64, usize};\n \n const VALS_I8: (i8,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to add with overflow\n     (\n      i8::MAX + 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_I16: (i16,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to add with overflow\n     (\n      i16::MAX + 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_I32: (i32,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to add with overflow\n     (\n      i32::MAX + 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_I64: (i64,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to add with overflow\n     (\n      i64::MAX + 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U8: (u8,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to add with overflow\n     (\n      u8::MAX + 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U16: (u16,) = (\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to add with overflow\n      u16::MAX + 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U32: (u32,) = (\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to add with overflow\n      u32::MAX + 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U64: (u64,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to add with overflow\n     (\n      u64::MAX + 1,\n-     //~^ ERROR constant evaluation error\n      );\n \n fn main() {"}, {"sha": "8665b9d97a84d7993724438ff83f5ca1967feb33", "filename": "src/test/compile-fail/const-eval-overflow2c.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow2c.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow2c.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow2c.rs?ref=8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "patch": "@@ -23,64 +23,64 @@ use std::{u8, u16, u32, u64, usize};\n \n const VALS_I8: (i8,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to multiply with overflow\n     (\n      i8::MIN * 2,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_I16: (i16,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to multiply with overflow\n     (\n      i16::MIN * 2,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_I32: (i32,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to multiply with overflow\n     (\n      i32::MIN * 2,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_I64: (i64,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to multiply with overflow\n     (\n      i64::MIN * 2,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U8: (u8,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to multiply with overflow\n     (\n      u8::MAX * 2,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U16: (u16,) = (\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to multiply with overflow\n      u16::MAX * 2,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U32: (u32,) = (\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to multiply with overflow\n      u32::MAX * 2,\n-     //~^ ERROR constant evaluation error\n      );\n \n const VALS_U64: (u64,) =\n      //~^ ERROR constant evaluation error\n+     //~| ERROR constant evaluation error\n      //~| attempt to multiply with overflow\n     (\n      u64::MAX * 2,\n-     //~^ ERROR constant evaluation error\n      );\n \n fn main() {"}, {"sha": "05e40abdc0f2f32545d74205cce7c89f100ec0c2", "filename": "src/test/ui/infinite-recursion-const-fn.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fui%2Finfinite-recursion-const-fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c53d54b98edd77e32fbf4f4fd27d312b251ec6b/src%2Ftest%2Fui%2Finfinite-recursion-const-fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finfinite-recursion-const-fn.rs?ref=8c53d54b98edd77e32fbf4f4fd27d312b251ec6b", "patch": "@@ -11,8 +11,8 @@\n //https://github.com/rust-lang/rust/issues/31364\n \n #![feature(const_fn)]\n-const fn a() -> usize { b() } //~ ERROR constant evaluation error\n+const fn a() -> usize { b() }\n const fn b() -> usize { a() }\n-const ARR: [i32; a()] = [5; 6];\n+const ARR: [i32; a()] = [5; 6]; //~ ERROR constant evaluation error\n \n fn main(){}"}]}