{"sha": "512cfb4b8387a6919c06d7e01401c53c6ab7dd1c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUxMmNmYjRiODM4N2E2OTE5YzA2ZDdlMDE0MDFjNTNjNmFiN2RkMWM=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-09-28T10:59:44Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-09-28T10:59:44Z"}, "message": "Remove a few kludges that worked around issue #913", "tree": {"sha": "d41658236a4efd17574e64af75c2cfacddd88a64", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d41658236a4efd17574e64af75c2cfacddd88a64"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/512cfb4b8387a6919c06d7e01401c53c6ab7dd1c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/512cfb4b8387a6919c06d7e01401c53c6ab7dd1c", "html_url": "https://github.com/rust-lang/rust/commit/512cfb4b8387a6919c06d7e01401c53c6ab7dd1c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/512cfb4b8387a6919c06d7e01401c53c6ab7dd1c/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c94159652aa9c95fa0f5f59f093856d50bdab7bf", "url": "https://api.github.com/repos/rust-lang/rust/commits/c94159652aa9c95fa0f5f59f093856d50bdab7bf", "html_url": "https://github.com/rust-lang/rust/commit/c94159652aa9c95fa0f5f59f093856d50bdab7bf"}], "stats": {"total": 9, "additions": 2, "deletions": 7}, "files": [{"sha": "3a71f361b4c387996de971b4081a7ced57ca2190", "filename": "src/comp/middle/alias.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/512cfb4b8387a6919c06d7e01401c53c6ab7dd1c/src%2Fcomp%2Fmiddle%2Falias.rs", "raw_url": "https://github.com/rust-lang/rust/raw/512cfb4b8387a6919c06d7e01401c53c6ab7dd1c/src%2Fcomp%2Fmiddle%2Falias.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Falias.rs?ref=512cfb4b8387a6919c06d7e01401c53c6ab7dd1c", "patch": "@@ -395,9 +395,7 @@ fn check_alt(cx: ctx, input: @ast::expr, arms: [ast::arm], sc: scope,\n         for pat in a.pats {\n             for proot in pattern_roots(cx.tcx, root.mut, pat) {\n                 let canon_id = pat_id_map.get(proot.name);\n-                // FIXME I wanted to use a block here, but that hit bug #913\n-                fn match(x: info, canon: node_id) -> bool { x.id == canon }\n-                alt vec::find(bind match(_, canon_id), binding_info) {\n+                alt vec::find({|x| x.id == canon_id}, binding_info) {\n                   some(s) { s.unsafe += unsafe_set(proot.mut); }\n                   none. {\n                       binding_info += [{id: canon_id,"}, {"sha": "3f028a2c6cf1b025fff86499f045accc299f5713", "filename": "src/comp/middle/trans.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/512cfb4b8387a6919c06d7e01401c53c6ab7dd1c/src%2Fcomp%2Fmiddle%2Ftrans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/512cfb4b8387a6919c06d7e01401c53c6ab7dd1c/src%2Fcomp%2Fmiddle%2Ftrans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans.rs?ref=512cfb4b8387a6919c06d7e01401c53c6ab7dd1c", "patch": "@@ -4091,10 +4091,7 @@ fn trans_rec(bcx: @block_ctxt, fields: [ast::field],\n     for tf in ty_fields {\n         let dst = GEP_tup_like_1(bcx, t, addr, [0, i]);\n         bcx = dst.bcx;\n-        // FIXME make this  again when\n-        // bug #913 is fixed\n-        fn test(n: str, f: ast::field) -> bool { str::eq(f.node.ident, n) }\n-        alt vec::find(bind test(tf.ident, _), fields) {\n+        alt vec::find({|f| str::eq(f.node.ident, tf.ident)}, fields) {\n           some(f) {\n             bcx = trans_expr_save_in(bcx, f.node.expr, dst.val, INIT);\n           }"}]}