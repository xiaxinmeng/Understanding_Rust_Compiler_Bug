{"sha": "fc57c84abeee862fea08d823077f56ebab809ea7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZjNTdjODRhYmVlZTg2MmZlYTA4ZDgyMzA3N2Y1NmViYWI4MDllYTc=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-09-27T05:25:16Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-11-29T19:47:50Z"}, "message": "Use Clippy version in ICE message", "tree": {"sha": "d27d12286c6e9515e39120b21298e5403651040f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d27d12286c6e9515e39120b21298e5403651040f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fc57c84abeee862fea08d823077f56ebab809ea7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJEBAABCgAuFiEEj4U0bmbiMSg/mWqvgqphyqETl+YFAl3hdeYQHGRldkBwaGFu\nc2NoLm5ldAAKCRCCqmHKoROX5m3zD/49G0nbhYnjAscD4f+w444vR8f/JkHHx2Mm\nBHTyB0oZbVBz+hUpBmqvYog5TfGmkTXYgMBwbehofIoluub3ZAW/+9EKGVTkYU/H\nzCUWMb9f8ztMS54rd4T6DGYrC6ZYm073Hg9Py0OlkENgIBINJLtpTeENnYGOKpj4\nmDDNoN2Osv1jcWnFJRDR/nv4+3E5t6mHYIFki1M2ZW2p2m68HNPQ9v6sabdSG8rY\nwgB2gbtYIL+lZ8AIh9O1+wOcmU4deMER1odoETmE8JXaGvMha6jFK5zSzxJa20Z+\nPnJ5KGNlHJHMt3jvK3ACX9BzssDhtD0kRGFr7mIJQWhb9eJnfO7BilCfAQM0PAUA\nPzAzyHFj/fBFAJlY7gi3mCmNzmr3epGBKkc5i4L5GGYfrDN5jeZRjLxYFrB6VsSG\nb5UvVS7y+dvYvXUOuKZGkPUazCfzA892h9HgksBlZuXnEzDX5FsPve1pw95rY60T\noRbPcz9tbOChqznNnYnU/2grXeU31fBFdSJfYWDCbsdrZFzOGBalYL0/H1KGWKJJ\noO3mAwtiJh5ypg9ufitgUW1QDEILbf1IAbLylMqJO53srtbfpNatUeE6ra+orqe6\nWVNAhE2GV3Cl3IL3HZMN4KdWGXa32f0Ca9K+RxrkjOcHnFe18PywnwZ9EhGd4g2+\ncwM3T1YIlA==\n=Betr\n-----END PGP SIGNATURE-----", "payload": "tree d27d12286c6e9515e39120b21298e5403651040f\nparent 676f14baa0eb0291e946e6c134f832277c5236b8\nauthor Philipp Hansch <dev@phansch.net> 1569561916 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1575056870 +0100\n\nUse Clippy version in ICE message\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fc57c84abeee862fea08d823077f56ebab809ea7", "html_url": "https://github.com/rust-lang/rust/commit/fc57c84abeee862fea08d823077f56ebab809ea7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fc57c84abeee862fea08d823077f56ebab809ea7/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "676f14baa0eb0291e946e6c134f832277c5236b8", "url": "https://api.github.com/repos/rust-lang/rust/commits/676f14baa0eb0291e946e6c134f832277c5236b8", "html_url": "https://github.com/rust-lang/rust/commit/676f14baa0eb0291e946e6c134f832277c5236b8"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "50c821c182d7fdadcd4fcf2102f337b8a1fcf709", "filename": "src/driver.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/fc57c84abeee862fea08d823077f56ebab809ea7/src%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fc57c84abeee862fea08d823077f56ebab809ea7/src%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdriver.rs?ref=fc57c84abeee862fea08d823077f56ebab809ea7", "patch": "@@ -264,10 +264,12 @@ fn report_clippy_ice(info: &panic::PanicInfo<'_>, bug_report_url: &str) {\n         handler.abort_if_errors_and_should_abort();\n     }\n \n+    let version_info = rustc_tools_util::get_version_info!();\n+\n     let xs: Vec<Cow<'static, str>> = vec![\n         \"the compiler unexpectedly panicked. this is a bug.\".into(),\n         format!(\"we would appreciate a bug report: {}\", bug_report_url).into(),\n-        format!(\"rustc {}\", option_env!(\"CFG_VERSION\").unwrap_or(\"unknown_version\")).into(),\n+        format!(\"Clippy version: {}\", version_info).into(),\n     ];\n \n     for note in &xs {"}, {"sha": "cacc41bb5dfdea5758724616d210300965af405a", "filename": "tests/ui/custom_ice_message.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fc57c84abeee862fea08d823077f56ebab809ea7/tests%2Fui%2Fcustom_ice_message.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/fc57c84abeee862fea08d823077f56ebab809ea7/tests%2Fui%2Fcustom_ice_message.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcustom_ice_message.stderr?ref=fc57c84abeee862fea08d823077f56ebab809ea7", "patch": "@@ -7,5 +7,5 @@ note: the compiler unexpectedly panicked. this is a bug.\n \n note: we would appreciate a bug report: https://github.com/rust-lang/rust-clippy/issues/new\n \n-note: rustc unknown_version\n+note: Clippy version: clippy 0.0.212 (68ff8b19 2019-09-26)\n "}]}