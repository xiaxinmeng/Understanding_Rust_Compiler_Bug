{"sha": "d53ff4f67b3c003ca4ce3d983af44c8119c0c9cd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ1M2ZmNGY2N2IzYzAwM2NhNGNlM2Q5ODNhZjQ0YzgxMTljMGM5Y2Q=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-01-04T11:29:06Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-01-04T11:29:06Z"}, "message": "Merge #7148\n\n7148: Build aarch64-pc-windows-msvc releases r=matklad a=lnicola\n\n\n\nCo-authored-by: Lauren\u021biu Nicola <lnicola@dend.ro>", "tree": {"sha": "b29343f2f4ad2d4bf508b0eedfb19b392212a9a0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b29343f2f4ad2d4bf508b0eedfb19b392212a9a0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d53ff4f67b3c003ca4ce3d983af44c8119c0c9cd", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJf8vwCCRBK7hj4Ov3rIwAAdHIIAJidvBhJHKpOP7yUzSTrThED\nHNOh3rc/17I2wivanLtj1e0MdqWz8X78M3v9cA7BcvYzj2QBnsvZiOGZ0Oj5xckP\ns76+mn7gLySVu0O1O+jIwapeVwn1cyUnmSO4JPxzxDjcrcrJypv/SpLcbpEDCnm9\nEf5DC55pzeN3fJUrL/efDiYrOajnbB+cqIMeCQxW2yB+xsV/YIQ33n9NvWg6R9wx\nWgRBu9yhlQIOCis4M1DRdmRspwumgexFpTI2dN0HU5VsAPMrLDThGVMcD6TTMCGW\nd6ROYFO5HIl9ODBeb4GdX8d7I6wHkSGzbApQYPfhb1e1mxYHCtk1IHcBWCA4Mjs=\n=dmVv\n-----END PGP SIGNATURE-----\n", "payload": "tree b29343f2f4ad2d4bf508b0eedfb19b392212a9a0\nparent ac123ac9e41c14296154ba42bb432e03dffa8b24\nparent fd67d25be17a41c8e7d91f843c856575414fbdcf\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1609759746 +0000\ncommitter GitHub <noreply@github.com> 1609759746 +0000\n\nMerge #7148\n\n7148: Build aarch64-pc-windows-msvc releases r=matklad a=lnicola\n\n\n\nCo-authored-by: Lauren\u021biu Nicola <lnicola@dend.ro>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d53ff4f67b3c003ca4ce3d983af44c8119c0c9cd", "html_url": "https://github.com/rust-lang/rust/commit/d53ff4f67b3c003ca4ce3d983af44c8119c0c9cd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d53ff4f67b3c003ca4ce3d983af44c8119c0c9cd/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ac123ac9e41c14296154ba42bb432e03dffa8b24", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac123ac9e41c14296154ba42bb432e03dffa8b24", "html_url": "https://github.com/rust-lang/rust/commit/ac123ac9e41c14296154ba42bb432e03dffa8b24"}, {"sha": "fd67d25be17a41c8e7d91f843c856575414fbdcf", "url": "https://api.github.com/repos/rust-lang/rust/commits/fd67d25be17a41c8e7d91f843c856575414fbdcf", "html_url": "https://github.com/rust-lang/rust/commit/fd67d25be17a41c8e7d91f843c856575414fbdcf"}], "stats": {"total": 68, "additions": 51, "deletions": 17}, "files": [{"sha": "cc39943ab6f2396b59ba985fa81cd41a17a30177", "filename": ".github/workflows/release.yaml", "status": "modified", "additions": 51, "deletions": 17, "changes": 68, "blob_url": "https://github.com/rust-lang/rust/blob/d53ff4f67b3c003ca4ce3d983af44c8119c0c9cd/.github%2Fworkflows%2Frelease.yaml", "raw_url": "https://github.com/rust-lang/rust/raw/d53ff4f67b3c003ca4ce3d983af44c8119c0c9cd/.github%2Fworkflows%2Frelease.yaml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Frelease.yaml?ref=d53ff4f67b3c003ca4ce3d983af44c8119c0c9cd", "patch": "@@ -15,8 +15,8 @@ env:\n   RUSTUP_MAX_RETRIES: 10\n \n jobs:\n-  dist-windows:\n-    name: dist (Windows)\n+  dist-x86_64-pc-windows-msvc:\n+    name: dist (x86_64-pc-windows-msvc)\n     runs-on: windows-latest\n     env:\n       RA_TARGET: x86_64-pc-windows-msvc\n@@ -45,11 +45,41 @@ jobs:\n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n       with:\n-        name: dist-windows-latest\n+        name: x86_64-pc-windows-msvc\n         path: ./dist\n \n-  dist-ubuntu:\n-    name: dist (Ubuntu 16.04)\n+  dist-aarch64-pc-windows-msvc:\n+    name: dist (aarch64-pc-windows-msvc)\n+    runs-on: windows-latest\n+    env:\n+      RA_TARGET: aarch64-pc-windows-msvc\n+\n+    steps:\n+    - name: Checkout repository\n+      uses: actions/checkout@v2\n+\n+    - name: Rename existing rust toolchain\n+      run: Rename-Item C:\\Users\\runneradmin\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc C:\\Users\\runneradmin\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc.old\n+\n+    - name: Install Rust toolchain\n+      uses: actions-rs/toolchain@v1\n+      with:\n+        toolchain: stable\n+        target: aarch64-pc-windows-msvc\n+        profile: minimal\n+        override: true\n+\n+    - name: Dist\n+      run: cargo xtask dist\n+\n+    - name: Upload artifacts\n+      uses: actions/upload-artifact@v1\n+      with:\n+        name: dist-aarch64-pc-windows-msvc\n+        path: ./dist\n+\n+  dist-x86_64-unknown-linux-gnu:\n+    name: dist (x86_64-unknown-linux-gnu)\n     runs-on: ubuntu-16.04\n     env:\n       RA_TARGET: x86_64-unknown-linux-gnu\n@@ -85,11 +115,11 @@ jobs:\n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n       with:\n-        name: dist-ubuntu-16.04\n+        name: dist-x86_64-unknown-linux-gnu\n         path: ./dist\n \n-  dist-macos-latest:\n-    name: dist (MacOS latest)\n+  dist-x86_64-apple-darwin:\n+    name: dist (x86_64-apple-darwin)\n     runs-on: macos-latest\n     env:\n       RA_TARGET: x86_64-apple-darwin\n@@ -111,11 +141,11 @@ jobs:\n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n       with:\n-        name: dist-macos-latest\n+        name: dist-x86_64-apple-darwin\n         path: ./dist\n \n-  dist-macos-11:\n-    name: dist (MacOS 11.0)\n+  dist-aarch64-apple-darwin:\n+    name: dist (aarch64-apple-darwin)\n     runs-on: macos-11.0\n     env:\n       RA_TARGET: aarch64-apple-darwin\n@@ -138,13 +168,13 @@ jobs:\n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n       with:\n-        name: dist-macos-11.0\n+        name: dist-aarch64-apple-darwin\n         path: ./dist\n \n   publish:\n     name: publish\n     runs-on: ubuntu-16.04\n-    needs: ['dist-windows', 'dist-ubuntu', 'dist-macos-latest', 'dist-macos-11']\n+    needs: ['dist-x86_64-pc-windows-msvc', 'dist-aarch64-pc-windows-msvc', 'dist-x86_64-unknown-linux-gnu', 'dist-x86_64-apple-darwin', 'dist-aarch64-apple-darwin']\n     steps:\n     - name: Install Nodejs\n       uses: actions/setup-node@v1\n@@ -165,19 +195,23 @@ jobs:\n \n     - uses: actions/download-artifact@v1\n       with:\n-        name: dist-macos-11.0\n+        name: dist-aarch64-apple-darwin\n+        path: dist\n+    - uses: actions/download-artifact@v1\n+      with:\n+        name: dist-x86_64-apple-darwin\n         path: dist\n     - uses: actions/download-artifact@v1\n       with:\n-        name: dist-macos-latest\n+        name: dist-x86_64-unknown-linux-gnu\n         path: dist\n     - uses: actions/download-artifact@v1\n       with:\n-        name: dist-ubuntu-16.04\n+        name: dist-x86_64-pc-windows-msvc\n         path: dist\n     - uses: actions/download-artifact@v1\n       with:\n-        name: dist-windows-latest\n+        name: dist-aarch64-pc-windows-msvc\n         path: dist\n     - run: ls -al ./dist\n "}]}