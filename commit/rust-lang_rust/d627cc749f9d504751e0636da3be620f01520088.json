{"sha": "d627cc749f9d504751e0636da3be620f01520088", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ2MjdjYzc0OWY5ZDUwNDc1MWUwNjM2ZGEzYmU2MjBmMDE1MjAwODg=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-09-08T08:25:45Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-09-08T08:25:45Z"}, "message": "use cheap assertions instead of expensive debug assertions", "tree": {"sha": "617e83e0e21ba983742961317b5c0db862a2f38e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/617e83e0e21ba983742961317b5c0db862a2f38e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d627cc749f9d504751e0636da3be620f01520088", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJX0SCJAAoJEFbW7qD8Z6xG7vIQAJmgcdCUu1Ug+7x75DfVG05/\nta0cxufPrO/RSgdTx1uva2xwhPXQ6qIl2dKo6evfWReIIYHMoGzqxpKd7z779qqo\n5jD0dNgt85I32ihAKLC5EMWlh5osDPs4t+Dage+urBnQ9dEqHBsQpGVjJ1Rlsrqt\ntfCEZlyLweMpR14FA4YfI4GDSut4numHIxqS6XsMtKTw6v9Loogs5PDqz6F8G5+J\nUcF5ZnqHY+aWz7cxEwOkCEhzr3cg2Rad437Jl5+X9LxyCcnwTex31M/bitdMwvM1\n11SjqZE/FQ4YNuqoNMmkPS7VpUqISlUnYdGGdJcY+Q+6B/Q0fyPbXP00kQitKZ1T\nkbo+r+Ay9m5i9nPpYsj7M3iYhMIQHvHWOxSmKNRCw0uaKDO60XVme7j6YkK3A/gH\nS683qqua/9ALjjgAYYEdYhTagZElwn9+gtJXUgEDAuuhlZ2YSkWJEjVUUI1hrvTo\nFAJdNCNRYb7kQ5qAI1tuvf52DXS4cdqMO7B6XTS05IFctNc5UA7gtymMIPg0+TEQ\niCwPY5kgpns2avfdUmZ07yVH7kBymtDN3OyNAWiaWYJdcSwkvh1lqjeHTjLtS/BA\nkoYrLT2G8lUSmPU8Ucqvfp1mPLlpFElI0MW2FhU5m7YWUz/vVfIXiVSAKqyFQiBB\ngbViSyyLMlKKwQG2eA0U\n=zwNK\n-----END PGP SIGNATURE-----", "payload": "tree 617e83e0e21ba983742961317b5c0db862a2f38e\nparent 0f177fdecf07ae2a23c17452a6b00b2ba2c5b36c\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1473323145 +0200\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1473323145 +0200\n\nuse cheap assertions instead of expensive debug assertions"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d627cc749f9d504751e0636da3be620f01520088", "html_url": "https://github.com/rust-lang/rust/commit/d627cc749f9d504751e0636da3be620f01520088", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d627cc749f9d504751e0636da3be620f01520088/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f177fdecf07ae2a23c17452a6b00b2ba2c5b36c", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f177fdecf07ae2a23c17452a6b00b2ba2c5b36c", "html_url": "https://github.com/rust-lang/rust/commit/0f177fdecf07ae2a23c17452a6b00b2ba2c5b36c"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "ef6318a35ae69ee79639235f2e6265574aebab5f", "filename": "src/interpreter/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d627cc749f9d504751e0636da3be620f01520088/src%2Finterpreter%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d627cc749f9d504751e0636da3be620f01520088/src%2Finterpreter%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Finterpreter%2Fmod.rs?ref=d627cc749f9d504751e0636da3be620f01520088", "patch": "@@ -5,7 +5,7 @@ use rustc::mir::repr as mir;\n use rustc::traits::Reveal;\n use rustc::ty::layout::{self, Layout, Size};\n use rustc::ty::subst::{self, Subst, Substs};\n-use rustc::ty::{self, Ty, TyCtxt};\n+use rustc::ty::{self, Ty, TyCtxt, TypeFoldable};\n use rustc::util::nodemap::DefIdMap;\n use rustc_data_structures::indexed_vec::Idx;\n use std::cell::RefCell;\n@@ -247,7 +247,7 @@ impl<'a, 'tcx> EvalContext<'a, 'tcx> {\n \n     fn type_is_sized(&self, ty: Ty<'tcx>) -> bool {\n         // generics are weird, don't run this function on a generic\n-        debug_assert_eq!(self.monomorphize(ty, self.substs()), ty);\n+        assert!(!ty.needs_subst());\n         ty.is_sized(self.tcx, &self.tcx.empty_parameter_environment(), DUMMY_SP)\n     }\n "}]}