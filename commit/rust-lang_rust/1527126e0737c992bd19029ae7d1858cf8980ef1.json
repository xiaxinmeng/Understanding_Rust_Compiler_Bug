{"sha": "1527126e0737c992bd19029ae7d1858cf8980ef1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE1MjcxMjZlMDczN2M5OTJiZDE5MDI5YWU3ZDE4NThjZjg5ODBlZjE=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2020-07-15T18:01:11Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-15T18:01:11Z"}, "message": "Rollup merge of #73959 - GuillaumeGomez:cleanup-e0716, r=Dylan-DPC\n\nClean up E0716 explanation\n\nr? @Dylan-DPC", "tree": {"sha": "3aa59a738d910f16139ec12ef2fb970744de2eeb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3aa59a738d910f16139ec12ef2fb970744de2eeb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1527126e0737c992bd19029ae7d1858cf8980ef1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfD0RnCRBK7hj4Ov3rIwAAdHIIABuwgKXvfZyKVPuJ/4VdNHg1\ndTwgc/kCxBDgOTnsAosHJRgN+DaiuZ3+4psKr5ScKIsT9YiN09WuYhFqDHHfjhHF\nQAFCkrP3KXPmKYj9HyMR71mripdG49WOWNTeMbk/clKmeCCBfOf4LNCrHP6qkzEv\nxEZAJ/U+fYt1XHrlJ8SH2QaNz3znJIu8c/ubqWkcAXS033cb8ljjNYIIvQWFsiLE\n9nBly0etrv9Ial94yF//l0S8180bHlRD42C6sKScJRwaWRjXfrl63LGWMXogyWy+\n+d5FLDrLi+12e+0uLzbYBuBiJpFGnj5p6o4zcvaHyxV7C6CoIIZMJE9NcByuEWI=\n=nTBK\n-----END PGP SIGNATURE-----\n", "payload": "tree 3aa59a738d910f16139ec12ef2fb970744de2eeb\nparent 7307af1f1c015bd1f2c8a200f1542ee624ce12a2\nparent 818aaa7b588ffcb27b0987a38794e61c2050324b\nauthor Manish Goregaokar <manishsmail@gmail.com> 1594836071 -0700\ncommitter GitHub <noreply@github.com> 1594836071 -0700\n\nRollup merge of #73959 - GuillaumeGomez:cleanup-e0716, r=Dylan-DPC\n\nClean up E0716 explanation\n\nr? @Dylan-DPC\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1527126e0737c992bd19029ae7d1858cf8980ef1", "html_url": "https://github.com/rust-lang/rust/commit/1527126e0737c992bd19029ae7d1858cf8980ef1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1527126e0737c992bd19029ae7d1858cf8980ef1/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7307af1f1c015bd1f2c8a200f1542ee624ce12a2", "url": "https://api.github.com/repos/rust-lang/rust/commits/7307af1f1c015bd1f2c8a200f1542ee624ce12a2", "html_url": "https://github.com/rust-lang/rust/commit/7307af1f1c015bd1f2c8a200f1542ee624ce12a2"}, {"sha": "818aaa7b588ffcb27b0987a38794e61c2050324b", "url": "https://api.github.com/repos/rust-lang/rust/commits/818aaa7b588ffcb27b0987a38794e61c2050324b", "html_url": "https://github.com/rust-lang/rust/commit/818aaa7b588ffcb27b0987a38794e61c2050324b"}], "stats": {"total": 55, "additions": 25, "deletions": 30}, "files": [{"sha": "c6d0337ddda56d0c10efa53e415cb69d9eb5b35a", "filename": "src/librustc_error_codes/error_codes/E0716.md", "status": "modified", "additions": 25, "deletions": 30, "changes": 55, "blob_url": "https://github.com/rust-lang/rust/blob/1527126e0737c992bd19029ae7d1858cf8980ef1/src%2Flibrustc_error_codes%2Ferror_codes%2FE0716.md", "raw_url": "https://github.com/rust-lang/rust/raw/1527126e0737c992bd19029ae7d1858cf8980ef1/src%2Flibrustc_error_codes%2Ferror_codes%2FE0716.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_error_codes%2Ferror_codes%2FE0716.md?ref=1527126e0737c992bd19029ae7d1858cf8980ef1", "patch": "@@ -1,5 +1,4 @@\n-This error indicates that a temporary value is being dropped\n-while a borrow is still in active use.\n+A temporary value is being dropped while a borrow is still in active use.\n \n Erroneous code example:\n \n@@ -11,12 +10,11 @@ let p = bar(&foo());\n let q = *p;\n ```\n \n-Here, the expression `&foo()` is borrowing the expression\n-`foo()`. As `foo()` is a call to a function, and not the name of\n-a variable, this creates a **temporary** -- that temporary stores\n-the return value from `foo()` so that it can be borrowed.\n-You could imagine that `let p = bar(&foo());` is equivalent\n-to this:\n+Here, the expression `&foo()` is borrowing the expression `foo()`. As `foo()` is\n+a call to a function, and not the name of a variable, this creates a\n+**temporary** -- that temporary stores the return value from `foo()` so that it\n+can be borrowed. You could imagine that `let p = bar(&foo());` is equivalent to\n+this:\n \n ```compile_fail,E0597\n # fn foo() -> i32 { 22 }\n@@ -28,16 +26,14 @@ let p = {\n let q = p;\n ```\n \n-Whenever a temporary is created, it is automatically dropped (freed)\n-according to fixed rules. Ordinarily, the temporary is dropped\n-at the end of the enclosing statement -- in this case, after the `let`.\n-This is illustrated in the example above by showing that `tmp` would\n-be freed as we exit the block.\n+Whenever a temporary is created, it is automatically dropped (freed) according\n+to fixed rules. Ordinarily, the temporary is dropped at the end of the enclosing\n+statement -- in this case, after the `let`. This is illustrated in the example\n+above by showing that `tmp` would be freed as we exit the block.\n \n-To fix this problem, you need to create a local variable\n-to store the value in rather than relying on a temporary.\n-For example, you might change the original program to\n-the following:\n+To fix this problem, you need to create a local variable to store the value in\n+rather than relying on a temporary. For example, you might change the original\n+program to the following:\n \n ```\n fn foo() -> i32 { 22 }\n@@ -47,16 +43,15 @@ let p = bar(&value);\n let q = *p;\n ```\n \n-By introducing the explicit `let value`, we allocate storage\n-that will last until the end of the enclosing block (when `value`\n-goes out of scope). When we borrow `&value`, we are borrowing a\n-local variable that already exists, and hence no temporary is created.\n+By introducing the explicit `let value`, we allocate storage that will last\n+until the end of the enclosing block (when `value` goes out of scope). When we\n+borrow `&value`, we are borrowing a local variable that already exists, and\n+hence no temporary is created.\n \n-Temporaries are not always dropped at the end of the enclosing\n-statement. In simple cases where the `&` expression is immediately\n-stored into a variable, the compiler will automatically extend\n-the lifetime of the temporary until the end of the enclosing\n-block. Therefore, an alternative way to fix the original\n+Temporaries are not always dropped at the end of the enclosing statement. In\n+simple cases where the `&` expression is immediately stored into a variable, the\n+compiler will automatically extend the lifetime of the temporary until the end\n+of the enclosing block. Therefore, an alternative way to fix the original\n program is to write `let tmp = &foo()` and not `let tmp = foo()`:\n \n ```\n@@ -67,10 +62,10 @@ let p = bar(value);\n let q = *p;\n ```\n \n-Here, we are still borrowing `foo()`, but as the borrow is assigned\n-directly into a variable, the temporary will not be dropped until\n-the end of the enclosing block. Similar rules apply when temporaries\n-are stored into aggregate structures like a tuple or struct:\n+Here, we are still borrowing `foo()`, but as the borrow is assigned directly\n+into a variable, the temporary will not be dropped until the end of the\n+enclosing block. Similar rules apply when temporaries are stored into aggregate\n+structures like a tuple or struct:\n \n ```\n // Here, two temporaries are created, but"}]}