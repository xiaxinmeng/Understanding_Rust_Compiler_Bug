{"sha": "84bf922b696e235c18c9b7b1b7ecb7b8481bfe34", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg0YmY5MjJiNjk2ZTIzNWMxOGM5YjdiMWI3ZWNiN2I4NDgxYmZlMzQ=", "commit": {"author": {"name": "Adrien T\u00e9tar", "email": "adri-from-59@hotmail.fr", "date": "2014-04-12T19:39:12Z"}, "committer": {"name": "Adrien T\u00e9tar", "email": "adri-from-59@hotmail.fr", "date": "2014-04-15T11:15:19Z"}, "message": "rustdoc: add webfonts and tweak the styles accordingly", "tree": {"sha": "a38ba18ab58eaddbe2e33d8154353e313f4d81e0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a38ba18ab58eaddbe2e33d8154353e313f4d81e0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/84bf922b696e235c18c9b7b1b7ecb7b8481bfe34", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/84bf922b696e235c18c9b7b1b7ecb7b8481bfe34", "html_url": "https://github.com/rust-lang/rust/commit/84bf922b696e235c18c9b7b1b7ecb7b8481bfe34", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/84bf922b696e235c18c9b7b1b7ecb7b8481bfe34/comments", "author": {"login": "adrientetar", "id": 1250894, "node_id": "MDQ6VXNlcjEyNTA4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1250894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrientetar", "html_url": "https://github.com/adrientetar", "followers_url": "https://api.github.com/users/adrientetar/followers", "following_url": "https://api.github.com/users/adrientetar/following{/other_user}", "gists_url": "https://api.github.com/users/adrientetar/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrientetar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrientetar/subscriptions", "organizations_url": "https://api.github.com/users/adrientetar/orgs", "repos_url": "https://api.github.com/users/adrientetar/repos", "events_url": "https://api.github.com/users/adrientetar/events{/privacy}", "received_events_url": "https://api.github.com/users/adrientetar/received_events", "type": "User", "site_admin": false}, "committer": {"login": "adrientetar", "id": 1250894, "node_id": "MDQ6VXNlcjEyNTA4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1250894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrientetar", "html_url": "https://github.com/adrientetar", "followers_url": "https://api.github.com/users/adrientetar/followers", "following_url": "https://api.github.com/users/adrientetar/following{/other_user}", "gists_url": "https://api.github.com/users/adrientetar/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrientetar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrientetar/subscriptions", "organizations_url": "https://api.github.com/users/adrientetar/orgs", "repos_url": "https://api.github.com/users/adrientetar/repos", "events_url": "https://api.github.com/users/adrientetar/events{/privacy}", "received_events_url": "https://api.github.com/users/adrientetar/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea344fd18f27a14625480a7ce0b428113f363a61", "url": "https://api.github.com/repos/rust-lang/rust/commits/ea344fd18f27a14625480a7ce0b428113f363a61", "html_url": "https://github.com/rust-lang/rust/commit/ea344fd18f27a14625480a7ce0b428113f363a61"}], "stats": {"total": 126, "additions": 82, "deletions": 44}, "files": [{"sha": "1874e4abd66e00a271274f9c533971ef48561476", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 23, "deletions": 22, "changes": 45, "blob_url": "https://github.com/rust-lang/rust/blob/84bf922b696e235c18c9b7b1b7ecb7b8481bfe34/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/84bf922b696e235c18c9b7b1b7ecb7b8481bfe34/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=84bf922b696e235c18c9b7b1b7ecb7b8481bfe34", "patch": "@@ -934,28 +934,8 @@ impl<'a> fmt::Show for Item<'a> {\n             None => {}\n         }\n \n-        if self.cx.include_sources {\n-            let mut path = Vec::new();\n-            clean_srcpath(self.item.source.filename.as_bytes(), |component| {\n-                path.push(component.to_owned());\n-            });\n-            let href = if self.item.source.loline == self.item.source.hiline {\n-                format!(\"{}\", self.item.source.loline)\n-            } else {\n-                format!(\"{}-{}\", self.item.source.loline, self.item.source.hiline)\n-            };\n-            try!(write!(fmt.buf,\n-                          \"<a class='source'\n-                              href='{root}src/{krate}/{path}.html\\\\#{href}'>\\\n-                              [src]</a>\",\n-                          root = self.cx.root_path,\n-                          krate = self.cx.layout.krate,\n-                          path = path.connect(\"/\"),\n-                          href = href));\n-        }\n-\n         // Write the breadcrumb trail header for the top\n-        try!(write!(fmt.buf, \"<h1 class='fqn'>\"));\n+        try!(write!(fmt.buf, \"\\n<h1 class='fqn'>\"));\n         match self.item.inner {\n             clean::ModuleItem(ref m) => if m.is_crate {\n                     try!(write!(fmt.buf, \"Crate \"));\n@@ -978,9 +958,30 @@ impl<'a> fmt::Show for Item<'a> {\n             try!(write!(fmt.buf, \"<a href='{}index.html'>{}</a>::\",\n                           trail, component.as_slice()));\n         }\n-        try!(write!(fmt.buf, \"<a class='{}' href=''>{}</a></h1>\",\n+        try!(write!(fmt.buf, \"<a class='{}' href=''>{}</a>\",\n                       shortty(self.item), self.item.name.get_ref().as_slice()));\n \n+        if self.cx.include_sources {\n+            let mut path = Vec::new();\n+            clean_srcpath(self.item.source.filename.as_bytes(), |component| {\n+                path.push(component.to_owned());\n+            });\n+            let href = if self.item.source.loline == self.item.source.hiline {\n+                format!(\"{}\", self.item.source.loline)\n+            } else {\n+                format!(\"{}-{}\", self.item.source.loline, self.item.source.hiline)\n+            };\n+            try!(write!(fmt.buf,\n+                          \"<a class='source'\\\n+                              href='{root}src/{krate}/{path}.html\\\\#{href}'>\\\n+                              [src]</a>\",\n+                          root = self.cx.root_path,\n+                          krate = self.cx.layout.krate,\n+                          path = path.connect(\"/\"),\n+                          href = href));\n+        }\n+        try!(write!(fmt.buf, \"</h1>\\n\"));\n+\n         match self.item.inner {\n             clean::ModuleItem(ref m) => {\n                 item_module(fmt.buf, self.cx, self.item, m.items.as_slice())"}, {"sha": "9a9b00e7d5d42076895333ff3c87fa074e0c3efa", "filename": "src/librustdoc/html/static/main.css", "status": "modified", "additions": 59, "deletions": 22, "changes": 81, "blob_url": "https://github.com/rust-lang/rust/blob/84bf922b696e235c18c9b7b1b7ecb7b8481bfe34/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "raw_url": "https://github.com/rust-lang/rust/raw/84bf922b696e235c18c9b7b1b7ecb7b8481bfe34/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css?ref=84bf922b696e235c18c9b7b1b7ecb7b8481bfe34", "patch": "@@ -9,6 +9,37 @@\n  * option. This file may not be copied, modified, or distributed\n  * except according to those terms.\n  */\n+@font-face {\n+    font-family: 'Fira Sans';\n+    font-style: normal;\n+    font-weight: 400;\n+    src: local('Fira Sans'), url(\"http://rust-lang.org/fonts/FiraSans-Regular.woff\") format('woff');\n+}\n+@font-face {\n+    font-family: 'Fira Sans';\n+    font-style: normal;\n+    font-weight: 500;\n+    src: local('Fira Sans Medium'), url(\"http://rust-lang.org/fonts/FiraSans-Medium.woff\") format('woff');\n+}\n+@font-face {\n+    font-family: 'Heuristica';\n+    font-style: normal;\n+    font-weight: 400;\n+    src: local('Heuristica Regular'), url(\"http://rust-lang.org/fonts/Heuristica-Regular.woff\") format('woff');\n+}\n+@font-face {\n+    font-family: 'Heuristica';\n+    font-style: italic;\n+    font-weight: 400;\n+    src: local('Heuristica Italic'), url(\"http://rust-lang.org/fonts/Heuristica-Italic.woff\") format('woff');\n+}\n+@font-face {\n+    font-family: 'Heuristica';\n+    font-style: normal;\n+    font-weight: 700;\n+    src: local('Heuristica Bold'), url(\"http://rust-lang.org/fonts/Heuristica-Bold.woff\") format('woff');\n+}\n+\n @import \"normalize.css\";\n \n * {\n@@ -21,13 +52,12 @@\n \n body {\n     color: #333;\n-    min-height: 100%;\n     min-width: 500px;\n-    height: 100%;\n-    font: 15px \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n-    line-height: 150%;\n+    font: 18px \"Heuristica\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n+    line-height: 1.4;\n+    margin: 0;\n     position: relative;\n-    height: auto;\n+    padding: 10px 15px 20px 15px;\n     padding-bottom: 20px;\n }\n \n@@ -44,13 +74,23 @@ h1.fqn {\n h2, h3, h4 {\n     border-bottom: 1px solid #DDDDDD;\n }\n-h2 code, h3 code, h4 code {\n-\n+h2 code, h3 code, h4 code, .block a {\n     font-size: 1.2em;\n }\n+h1, h2, h3, h4, section.sidebar, a.source, .content a, .search-input {\n+    font-family: \"Fira Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n+}\n+\n+ul {\n+    padding-left: 25px;\n+}\n+\n+p {\n+    margin: 0 0 1em 0;\n+}\n \n code, pre {\n-    font-family: \"Inconsolata\", Menlo, Monaco, Consolas, \"DejaVu Sans Mono\", monospace;\n+    font-family: Menlo, Monaco, Consolas, Inconsolata, \"DejaVu Sans Mono\", monospace;\n }\n pre {\n     font-size: 15px;\n@@ -92,8 +132,6 @@ nav.sub {\n     color: #333;\n }\n \n-.sidebar .block, pre { background: #fff; }\n-\n .block {\n     padding: 10px;\n     margin-bottom: 10px;\n@@ -111,11 +149,12 @@ nav.sub {\n     padding-left: 5px;\n     padding-bottom: 6px;\n     font-size: 14px;\n+    font-weight: 300;\n     transition: border 500ms ease-out;\n }\n \n .content {\n-    padding: 20px 40px;\n+    padding: 20px 0;\n }\n \n .content pre { padding: 20px; }\n@@ -165,10 +204,9 @@ nav.sub {\n .docblock h2 { font-size: 1.15em; }\n .docblock h3, .docblock h4, .docblock h5 { font-size: 1em; }\n \n-.content .source { \n+.content .source {\n     float: right;\n-    font-weight: 500;\n-    padding: 9px 15px;\n+    font-size: 23px;\n }\n \n .content table {\n@@ -224,7 +262,7 @@ nav.sum { text-align: right; }\n nav.sub form { display: inline; }\n \n nav, .content {\n-    margin-left: 220px;\n+    margin-left: 230px;\n }\n \n a {\n@@ -254,18 +292,18 @@ a {\n     margin-top: 5px;\n     padding: 10px 16px;\n     font-size: 17px;\n-    font-weight: 300;\n     box-shadow: 0 0 0 1px #e0e0e0, 0 0 0 2px transparent;\n-    transition: background-color 50ms linear;\n-    transition: border 500ms ease-out;\n-    transition: box-shadow 500ms ease-out;\n+    transition: border-color 300ms ease;\n+    transition: border-radius 300ms ease-in-out;\n+    transition: box-shadow 300ms ease-in-out;\n }\n \n .search-input:focus {\n     border-color: #66afe9;\n+    border-radius: 2px;\n     border: 0;\n     outline: 0;\n-    box-shadow: 0 0 0 1px #078dd8, 0 0 0 2px #078dd8;\n+    box-shadow: 0 0 8px #078dd8;\n }\n \n .search-results .desc {\n@@ -327,7 +365,7 @@ a {\n \n :target { background: #FDFFD3; }\n \n-pre.rust, pre.line-numbers { background-color: #FDFDFD; }\n+pre.rust, pre.line-numbers { background-color: #F5F5F5; }\n \n /* Code highlighting */\n pre.rust .kw { color: #8959A8; }\n@@ -361,7 +399,6 @@ h6.section-link:hover a:after {\n     }\n \n     nav.sub {\n-        width: 85.5%;\n         margin: 0 auto;\n     }\n }\n\\ No newline at end of file"}]}