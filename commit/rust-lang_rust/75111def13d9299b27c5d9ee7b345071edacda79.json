{"sha": "75111def13d9299b27c5d9ee7b345071edacda79", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc1MTExZGVmMTNkOTI5OWIyN2M1ZDllZTdiMzQ1MDcxZWRhY2RhNzk=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-09-13T18:06:26Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-09-13T18:06:26Z"}, "message": "Merge pull request #3165 from phansch/cleanup_readme_for_clippy_preview_on_stable\n\nCleanup README for clippy-preview on stable", "tree": {"sha": "b52579b44f89d3dd7f2612b6ce29ab9e06b8fdca", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b52579b44f89d3dd7f2612b6ce29ab9e06b8fdca"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/75111def13d9299b27c5d9ee7b345071edacda79", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbmqciCRBK7hj4Ov3rIwAAdHIIAAEYuvC0ft7GHhtfTQ5/cMPM\nOl2PkuiFXtDbdTnaJ8BcKBsp+Ng0snBJ5qR+MLankRojSDPIa2EKKxjfGa3hA9a4\nzcGQb9M4NJy/W4zAxVnNU5Q7rvN+rifd/j4ZoV5VbKe/aVJH+uZehi/1Hk7d6ihN\n+cYhW3QiOH2LCqrzjgqPtPvlHoena6W2ta39btYql4v9+yWwY/58FGgNC3/BHxIY\nu9fbcn1H1XcxKX//wlo0DPLxJsYgnuaBdkRVmE91wII6OeKNKyeFICp0oae6Nj7q\naKFT0s44DtPSiPLv9++7dBQhyHYy8EtzFGsQvHkoDxT1tNbmJyiJmpVaPDFZ7V4=\n=qRpU\n-----END PGP SIGNATURE-----\n", "payload": "tree b52579b44f89d3dd7f2612b6ce29ab9e06b8fdca\nparent 07cb45bc85f983fb97880ab523afe32c903c4e0c\nparent c42cd6092673dd822fe483886c4c6bb9708dd2f1\nauthor Philipp Hansch <dev@phansch.net> 1536861986 +0100\ncommitter GitHub <noreply@github.com> 1536861986 +0100\n\nMerge pull request #3165 from phansch/cleanup_readme_for_clippy_preview_on_stable\n\nCleanup README for clippy-preview on stable"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/75111def13d9299b27c5d9ee7b345071edacda79", "html_url": "https://github.com/rust-lang/rust/commit/75111def13d9299b27c5d9ee7b345071edacda79", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/75111def13d9299b27c5d9ee7b345071edacda79/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "07cb45bc85f983fb97880ab523afe32c903c4e0c", "url": "https://api.github.com/repos/rust-lang/rust/commits/07cb45bc85f983fb97880ab523afe32c903c4e0c", "html_url": "https://github.com/rust-lang/rust/commit/07cb45bc85f983fb97880ab523afe32c903c4e0c"}, {"sha": "c42cd6092673dd822fe483886c4c6bb9708dd2f1", "url": "https://api.github.com/repos/rust-lang/rust/commits/c42cd6092673dd822fe483886c4c6bb9708dd2f1", "html_url": "https://github.com/rust-lang/rust/commit/c42cd6092673dd822fe483886c4c6bb9708dd2f1"}], "stats": {"total": 61, "additions": 5, "deletions": 56}, "files": [{"sha": "25dbeaedcba9ea48e74c64e68d96cfcc38e0fe08", "filename": "README.md", "status": "modified", "additions": 5, "deletions": 25, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/75111def13d9299b27c5d9ee7b345071edacda79/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/75111def13d9299b27c5d9ee7b345071edacda79/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=75111def13d9299b27c5d9ee7b345071edacda79", "patch": "@@ -45,7 +45,7 @@ subcommand.\n #### Step 1: Install rustup\n \n You can install [rustup](http://rustup.rs/) on supported platforms. This will help\n-us install clippy and its dependencies.\n+us install Clippy and its dependencies.\n \n If you already have rustup installed, update to ensure you have the latest\n rustup and compiler:\n@@ -54,26 +54,15 @@ rustup and compiler:\n rustup update\n ```\n \n-#### Step 2: Install nightly toolchain\n+#### Step 2: Install Clippy\n \n-Rustup integration is still new, you will need a relatively new nightly (2018-07-15 or later).\n-\n-To install Rust nightly with [rustup](https://rustup.rs/):\n+Once you have rustup and the latest stable release (at least Rust 1.29) installed, run the following command:\n \n ```terminal\n-rustup install nightly\n+rustup component add clippy-preview\n ```\n \n-#### Step 3: Install clippy\n-\n-Once you have rustup and the nightly toolchain installed, run the following command:\n-\n-```terminal\n-rustup component add clippy-preview --toolchain=nightly\n-```\n-\n-Now you can run Clippy by invoking `cargo +nightly clippy`. If nightly is your\n-default toolchain in rustup, `cargo clippy` will work fine.\n+Now you can run Clippy by invoking `cargo clippy`.\n \n ### Running Clippy from the command line without installing it\n \n@@ -133,15 +122,6 @@ enable/disable Clippy lints until `tool_lints` are stable:\n #![cfg_attr(feature = \"cargo-clippy\", allow(clippy_lint))]\n ```\n \n-## Updating rustc\n-\n-Sometimes, rustc moves forward without Clippy catching up. Therefore updating\n-rustc may leave Clippy a non-functional state until we fix the resulting\n-breakage.\n-\n-You can use the [rust-update](rust-update) script to update rustc only if\n-Clippy would also update correctly.\n-\n ## License\n \n Licensed under [MPL](https://www.mozilla.org/MPL/2.0/)."}, {"sha": "d065319c736cf1ce747f63fb67e695c4c186f4c9", "filename": "rust-update", "status": "removed", "additions": 0, "deletions": 31, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/07cb45bc85f983fb97880ab523afe32c903c4e0c/rust-update", "raw_url": "https://github.com/rust-lang/rust/raw/07cb45bc85f983fb97880ab523afe32c903c4e0c/rust-update", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rust-update?ref=07cb45bc85f983fb97880ab523afe32c903c4e0c", "patch": "@@ -1,31 +0,0 @@\n-#!/bin/sh\n-\n-if [ \"$1\" = '-h' ] ; then\n-\techo 'Updates rustc & clippy'\n-\techo 'It first checks if clippy would compile at current nightly and if so, it updates.'\n-\techo 'Options:'\n-\techo '-h: This help message'\n-\techo '-f: Skips the check and just updates'\n-\texit\n-fi\n-\n-set -ex\n-\n-renice -n 10 -p $$\n-\n-export CARGO_INCREMENTAL=0\n-export RUSTFLAGS='-C target-cpu=native'\n-\n-try_out() {\n-\texport RUSTUP_HOME=$HOME/.rustup-attempt\n-\ttest -d $RUSTUP_HOME || (rustup toolchain add nightly && rustup default nightly)\n-\trustup update\n-\tcargo +nightly install --force clippy\n-\tunset RUSTUP_HOME\n-\texport RUSTUP_HOME\n-}\n-\n-[ \"$1\" = '-f' ] || try_out\n-\n-rustup update\n-cargo +nightly install --force clippy"}]}