{"sha": "9decfff6f87d3e5760fd61375c3d27fa45a83e52", "node_id": "C_kwDOAAsO6NoAKDlkZWNmZmY2Zjg3ZDNlNTc2MGZkNjEzNzVjM2QyN2ZhNDVhODNlNTI", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-11-18T17:23:10Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-11-23T05:35:49Z"}, "message": "Add fatal overflow test", "tree": {"sha": "c6f45e457bb14c8b569b7d180c2725a6111fb054", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c6f45e457bb14c8b569b7d180c2725a6111fb054"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9decfff6f87d3e5760fd61375c3d27fa45a83e52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9decfff6f87d3e5760fd61375c3d27fa45a83e52", "html_url": "https://github.com/rust-lang/rust/commit/9decfff6f87d3e5760fd61375c3d27fa45a83e52", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9decfff6f87d3e5760fd61375c3d27fa45a83e52/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a884a9e634b827781e77bddf4082f1196301d86f", "url": "https://api.github.com/repos/rust-lang/rust/commits/a884a9e634b827781e77bddf4082f1196301d86f", "html_url": "https://github.com/rust-lang/rust/commit/a884a9e634b827781e77bddf4082f1196301d86f"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "a8330c9b65c312d232b09b08a2a6c0c5f29073fd", "filename": "src/test/ui/typeck/hang-in-overflow.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/9decfff6f87d3e5760fd61375c3d27fa45a83e52/src%2Ftest%2Fui%2Ftypeck%2Fhang-in-overflow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9decfff6f87d3e5760fd61375c3d27fa45a83e52/src%2Ftest%2Fui%2Ftypeck%2Fhang-in-overflow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Fhang-in-overflow.rs?ref=9decfff6f87d3e5760fd61375c3d27fa45a83e52", "patch": "@@ -0,0 +1,19 @@\n+// normalize-stderr-test \"the requirement `.*`\" -> \"the requirement `...`\"\n+// normalize-stderr-test \"required for `.*` to implement `.*`\" -> \"required for `...` to implement `...`\"\n+// normalize-stderr-test: \".*the full type name has been written to.*\\n\" -> \"\"\n+\n+// Currently this fatally aborts instead of hanging.\n+// Make sure at least that this doesn't turn into a hang.\n+\n+fn f() {\n+    foo::<_>();\n+    //~^ ERROR overflow evaluating the requirement\n+}\n+\n+fn foo<B>()\n+where\n+    Vec<[[[B; 1]; 1]; 1]>: PartialEq<B>,\n+{\n+}\n+\n+fn main() {}"}, {"sha": "7a7b85b19b4eee4acec356b30f56f7025dd6ba4c", "filename": "src/test/ui/typeck/hang-in-overflow.stderr", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/9decfff6f87d3e5760fd61375c3d27fa45a83e52/src%2Ftest%2Fui%2Ftypeck%2Fhang-in-overflow.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9decfff6f87d3e5760fd61375c3d27fa45a83e52/src%2Ftest%2Fui%2Ftypeck%2Fhang-in-overflow.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Fhang-in-overflow.stderr?ref=9decfff6f87d3e5760fd61375c3d27fa45a83e52", "patch": "@@ -0,0 +1,22 @@\n+error[E0275]: overflow evaluating the requirement `...`\n+  --> $DIR/hang-in-overflow.rs:9:5\n+   |\n+LL |     foo::<_>();\n+   |     ^^^^^^^^\n+   |\n+   = help: consider increasing the recursion limit by adding a `#![recursion_limit = \"256\"]` attribute to your crate (`hang_in_overflow`)\n+   = note: required for `...` to implement `...`\n+   = note: 127 redundant requirements hidden\n+   = note: required for `...` to implement `...`\n+note: required by a bound in `foo`\n+  --> $DIR/hang-in-overflow.rs:15:28\n+   |\n+LL | fn foo<B>()\n+   |    --- required by a bound in this\n+LL | where\n+LL |     Vec<[[[B; 1]; 1]; 1]>: PartialEq<B>,\n+   |                            ^^^^^^^^^^^^ required by this bound in `foo`\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0275`."}]}