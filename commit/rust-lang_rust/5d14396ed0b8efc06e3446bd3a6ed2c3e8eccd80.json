{"sha": "5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkMTQzOTZlZDBiOGVmYzA2ZTM0NDZiZDNhNmVkMmMzZThlY2NkODA=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-09-17T05:09:48Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-09-17T05:09:48Z"}, "message": "Rollup merge of #88887 - fee1-dead:const-deref, r=oli-obk\n\nConst Deref\n\nImplements `const Deref`/`const DerefMut` for `&mut T`, `&T`, `Cow<'_, B>` and `ManuallyDrop<T>`", "tree": {"sha": "4073f44f464551649077abfbd609413a29bd229f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4073f44f464551649077abfbd609413a29bd229f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhRCMdCRBK7hj4Ov3rIwAAHHoIADW4x36z5gYc6PbPRKF8WhdP\nr3SjABRRgQ0ZmhTD3TgP0bKBL+Hp1uFUFpS6O7vP1Nlriik3bzhwAUrnB6MOjYJ+\ngxJDitUkRu4Dh+T1YbNolC6ETCqcMu8fs9H566hZO6CJJ2fF17JSom4Db0tm/Hb4\nwr/rkxNUrSTu44K9p7THvzR9/pMZIEQ+J8vKFFmpGdZbAtOisvs3EwY6Hdu+6hxK\nCfSghjQExRNegzWkLWuFC/fhcqUIxrzSQblOXygatrRkpTQ5OND/z0IH9pZjhhGS\nLXp2GVjzTbthuB8eQvMS+xnkvYX6FXEBd1W0BdVs4sSa1R2J3N/eCDQvQ0wtjec=\n=vZQP\n-----END PGP SIGNATURE-----\n", "payload": "tree 4073f44f464551649077abfbd609413a29bd229f\nparent 5e910373f14880161ca22f7ce825048ffba1ab78\nparent 349ac4f6c8839c89a39d1dd9fac1fbe9a30f2626\nauthor Yuki Okushi <jtitor@2k36.org> 1631855388 +0900\ncommitter GitHub <noreply@github.com> 1631855388 +0900\n\nRollup merge of #88887 - fee1-dead:const-deref, r=oli-obk\n\nConst Deref\n\nImplements `const Deref`/`const DerefMut` for `&mut T`, `&T`, `Cow<'_, B>` and `ManuallyDrop<T>`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80", "html_url": "https://github.com/rust-lang/rust/commit/5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5e910373f14880161ca22f7ce825048ffba1ab78", "url": "https://api.github.com/repos/rust-lang/rust/commits/5e910373f14880161ca22f7ce825048ffba1ab78", "html_url": "https://github.com/rust-lang/rust/commit/5e910373f14880161ca22f7ce825048ffba1ab78"}, {"sha": "349ac4f6c8839c89a39d1dd9fac1fbe9a30f2626", "url": "https://api.github.com/repos/rust-lang/rust/commits/349ac4f6c8839c89a39d1dd9fac1fbe9a30f2626", "html_url": "https://github.com/rust-lang/rust/commit/349ac4f6c8839c89a39d1dd9fac1fbe9a30f2626"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "9ecbf0582319e845febdf4cca95e4d822c0bd7c6", "filename": "library/alloc/src/borrow.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80/library%2Falloc%2Fsrc%2Fborrow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80/library%2Falloc%2Fsrc%2Fborrow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fborrow.rs?ref=5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80", "patch": "@@ -330,7 +330,11 @@ impl<B: ?Sized + ToOwned> Cow<'_, B> {\n }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-impl<B: ?Sized + ToOwned> Deref for Cow<'_, B> {\n+#[rustc_const_unstable(feature = \"const_deref\", issue = \"88955\")]\n+impl<B: ?Sized + ToOwned> const Deref for Cow<'_, B>\n+where\n+    B::Owned: ~const Borrow<B>,\n+{\n     type Target = B;\n \n     fn deref(&self) -> &B {"}, {"sha": "20b6453990d7519ce7199d49733b59fa0c899dd4", "filename": "library/core/src/mem/manually_drop.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80/library%2Fcore%2Fsrc%2Fmem%2Fmanually_drop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80/library%2Fcore%2Fsrc%2Fmem%2Fmanually_drop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fmem%2Fmanually_drop.rs?ref=5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80", "patch": "@@ -145,7 +145,8 @@ impl<T: ?Sized> ManuallyDrop<T> {\n }\n \n #[stable(feature = \"manually_drop\", since = \"1.20.0\")]\n-impl<T: ?Sized> Deref for ManuallyDrop<T> {\n+#[rustc_const_unstable(feature = \"const_deref\", issue = \"88955\")]\n+impl<T: ?Sized> const Deref for ManuallyDrop<T> {\n     type Target = T;\n     #[inline(always)]\n     fn deref(&self) -> &T {\n@@ -154,7 +155,8 @@ impl<T: ?Sized> Deref for ManuallyDrop<T> {\n }\n \n #[stable(feature = \"manually_drop\", since = \"1.20.0\")]\n-impl<T: ?Sized> DerefMut for ManuallyDrop<T> {\n+#[rustc_const_unstable(feature = \"const_deref\", issue = \"88955\")]\n+impl<T: ?Sized> const DerefMut for ManuallyDrop<T> {\n     #[inline(always)]\n     fn deref_mut(&mut self) -> &mut T {\n         &mut self.value"}, {"sha": "fb4ec83bc287e7d42a4ccbf132365d8f910f3951", "filename": "library/core/src/ops/deref.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80/library%2Fcore%2Fsrc%2Fops%2Fderef.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80/library%2Fcore%2Fsrc%2Fops%2Fderef.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fops%2Fderef.rs?ref=5d14396ed0b8efc06e3446bd3a6ed2c3e8eccd80", "patch": "@@ -76,7 +76,8 @@ pub trait Deref {\n }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-impl<T: ?Sized> Deref for &T {\n+#[rustc_const_unstable(feature = \"const_deref\", issue = \"88955\")]\n+impl<T: ?Sized> const Deref for &T {\n     type Target = T;\n \n     #[rustc_diagnostic_item = \"noop_method_deref\"]\n@@ -89,7 +90,8 @@ impl<T: ?Sized> Deref for &T {\n impl<T: ?Sized> !DerefMut for &T {}\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-impl<T: ?Sized> Deref for &mut T {\n+#[rustc_const_unstable(feature = \"const_deref\", issue = \"88955\")]\n+impl<T: ?Sized> const Deref for &mut T {\n     type Target = T;\n \n     fn deref(&self) -> &T {"}]}