{"sha": "a33cfcb55db4fafc873c0ce6d508cb27d6531cb6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEzM2NmY2I1NWRiNGZhZmM4NzNjMGNlNmQ1MDhjYjI3ZDY1MzFjYjY=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-06-03T13:39:30Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-06-03T13:39:30Z"}, "message": "Merge #4502\n\n4502: Mark fixes from diagnostics as quick fixes r=kjeremy a=kjeremy\n\nPopulates the diagnostic UI with fixes:\r\n\r\nBefore: \r\n![quickfix-before](https://user-images.githubusercontent.com/4325700/82165183-0e38df00-9882-11ea-96cf-7dab5faec4d4.PNG)\r\n\r\nAfter:\r\n![image](https://user-images.githubusercontent.com/4325700/82165193-1a24a100-9882-11ea-97d7-be1b64b135e0.png)\r\n\n\nCo-authored-by: Jeremy Kolb <kjeremy@gmail.com>", "tree": {"sha": "f3c5655ecc9efc42b89954530210f4871a16d941", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f3c5655ecc9efc42b89954530210f4871a16d941"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a33cfcb55db4fafc873c0ce6d508cb27d6531cb6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJe16gSCRBK7hj4Ov3rIwAAdHIIAFL5B7ppYLa/zd3f1l88L8FF\nj8jp49IaVlenZ0m0Yk0+zX2IwsiLkR3iepZ6JPLWUuPuc6zYVaM2g+mWXBgT3Anj\nlSloW3v/vGcb0lUv5dRbjaXYDbi8HGhu1asgBnK8M1gKlcCVAbRi5egcfo72p1iR\nX+SCWaymHCEZuSC7biYbmM3VlCadKydXvju2n9TTQpWGtaC0VOkG02xFcTrLp2ad\njrjfCQhGx3sR6qge145DB8acMMmW77jdRJCS3yAiJ5VLfc13VVW7GEzAGKS0jQqV\n1g3+nyw/0K6B6Z2nzavxnk+/g+ZCUwaYlZ2Ut8mHpu6RsAZlrAt/hWgrvEykiqk=\n=seMw\n-----END PGP SIGNATURE-----\n", "payload": "tree f3c5655ecc9efc42b89954530210f4871a16d941\nparent 1edf6d2d4fe613b43796554d9765056183efe21a\nparent 9e71fc0314a2555eda446a64057df7e8f78fb7c9\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1591191570 +0000\ncommitter GitHub <noreply@github.com> 1591191570 +0000\n\nMerge #4502\n\n4502: Mark fixes from diagnostics as quick fixes r=kjeremy a=kjeremy\n\nPopulates the diagnostic UI with fixes:\r\n\r\nBefore: \r\n![quickfix-before](https://user-images.githubusercontent.com/4325700/82165183-0e38df00-9882-11ea-96cf-7dab5faec4d4.PNG)\r\n\r\nAfter:\r\n![image](https://user-images.githubusercontent.com/4325700/82165193-1a24a100-9882-11ea-97d7-be1b64b135e0.png)\r\n\n\nCo-authored-by: Jeremy Kolb <kjeremy@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a33cfcb55db4fafc873c0ce6d508cb27d6531cb6", "html_url": "https://github.com/rust-lang/rust/commit/a33cfcb55db4fafc873c0ce6d508cb27d6531cb6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a33cfcb55db4fafc873c0ce6d508cb27d6531cb6/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1edf6d2d4fe613b43796554d9765056183efe21a", "url": "https://api.github.com/repos/rust-lang/rust/commits/1edf6d2d4fe613b43796554d9765056183efe21a", "html_url": "https://github.com/rust-lang/rust/commit/1edf6d2d4fe613b43796554d9765056183efe21a"}, {"sha": "9e71fc0314a2555eda446a64057df7e8f78fb7c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/9e71fc0314a2555eda446a64057df7e8f78fb7c9", "html_url": "https://github.com/rust-lang/rust/commit/9e71fc0314a2555eda446a64057df7e8f78fb7c9"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "c2a5bf4d6b8f7a9cc38fad22afe194eee664f46c", "filename": "crates/rust-analyzer/src/main_loop/handlers.rs", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a33cfcb55db4fafc873c0ce6d508cb27d6531cb6/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a33cfcb55db4fafc873c0ce6d508cb27d6531cb6/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs?ref=a33cfcb55db4fafc873c0ce6d508cb27d6531cb6", "patch": "@@ -730,8 +730,13 @@ pub fn handle_code_action(\n     for fix in fixes_from_diagnostics {\n         let title = fix.label;\n         let edit = to_proto::snippet_workspace_edit(&snap, fix.source_change)?;\n-        let action =\n-            lsp_ext::CodeAction { title, group: None, kind: None, edit: Some(edit), command: None };\n+        let action = lsp_ext::CodeAction {\n+            title,\n+            group: None,\n+            kind: Some(lsp_types::code_action_kind::QUICKFIX.into()),\n+            edit: Some(edit),\n+            command: None,\n+        };\n         res.push(action);\n     }\n "}, {"sha": "ad347631054b7f8ae6c1f4dd3ec0d7570c0970ab", "filename": "crates/rust-analyzer/tests/heavy_tests/main.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a33cfcb55db4fafc873c0ce6d508cb27d6531cb6/crates%2Frust-analyzer%2Ftests%2Fheavy_tests%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a33cfcb55db4fafc873c0ce6d508cb27d6531cb6/crates%2Frust-analyzer%2Ftests%2Fheavy_tests%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Ftests%2Fheavy_tests%2Fmain.rs?ref=a33cfcb55db4fafc873c0ce6d508cb27d6531cb6", "patch": "@@ -298,6 +298,7 @@ fn main() {}\n                 }\n               ]\n             },\n+            \"kind\": \"quickfix\",\n             \"title\": \"Create module\"\n         }]),\n     );\n@@ -368,6 +369,7 @@ fn main() {{}}\n                 }\n               ]\n             },\n+            \"kind\": \"quickfix\",\n             \"title\": \"Create module\"\n         }]),\n     );"}]}