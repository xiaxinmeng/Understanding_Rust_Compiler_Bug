{"sha": "4e8b91a920ce7bdb2284e39121bcda2294dc41a8", "node_id": "C_kwDOAAsO6NoAKDRlOGI5MWE5MjBjZTdiZGIyMjg0ZTM5MTIxYmNkYTIyOTRkYzQxYTg", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2021-12-08T06:33:31Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2021-12-08T06:33:31Z"}, "message": "Work around Clippy false positive on `as c_char`", "tree": {"sha": "b2ce9853f4bc1826d535c1d4e416d30118ea3db0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b2ce9853f4bc1826d535c1d4e416d30118ea3db0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4e8b91a920ce7bdb2284e39121bcda2294dc41a8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmGwUbsACgkQ+boUO5X/\nbYKUyRAAih4L52rh8OVrOg03idZcbqtanlSxMNj8hxJ7iKi8AAx2tuamf1XsWlHT\nVnMhg/chS4E9FLRy1JuV1lV5po4ULd00NLujNPDZrR6+n8YjnWnk5cj+21tuNNIr\nAfDP+8RzQEqr21f9QsXLPJxgzn+Vxdb5ebulV6ekLp4qBYw2uNYznIThD54BRIAh\nraUg81Zo2/5cd+ysGXKwQ3LvCV6EuKQT623/Hkz+p33xZXZowU3vBd7W0M5uCibS\n9Vp7SExYoKHTZQtlkyOnWHy8ylWSL4bOARoCCfoy7nFdQQ7XDvGKZsg2DnoSuAbm\n27RywaAS9gGHOUn+pagO9k6hpMEllUkOQwOz2NMyJzG1A1yXAS8HAzfSlCnpd67Q\nYB2Dsdp/sXYlRWdzj47mHVyj9rJxFd5sIl6xJB0qtdT5KPAGs1ShKwopF7Q0wfKm\n7HSh7fnJHa885rk6lkhPuV5VWg92J9FaEC2/0SPgoE/5fjQkmta3TVoMtVFM6TDV\nKC71EDb5x88jNeLZ2qKHaNfwdfrovw29F/U9DSDFGmsETvyjPTpJlvePbxl4sYpf\nqQQnRqn0M4/tg96UkoTQqiHzfvu8AW0dGEYFKR03+w2r+CLGmOy6pvi4Mg4hhbwE\nMVj11EcdpZ+PKMjiFR7XhvHpZbq6oWYxHnZluA8lmQRvi51P9gA=\n=6xIs\n-----END PGP SIGNATURE-----", "payload": "tree b2ce9853f4bc1826d535c1d4e416d30118ea3db0\nparent db5a2ae6a401ec8154e7532b9ff3164cc6a29975\nauthor David Tolnay <dtolnay@gmail.com> 1638945211 -0800\ncommitter David Tolnay <dtolnay@gmail.com> 1638945211 -0800\n\nWork around Clippy false positive on `as c_char`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4e8b91a920ce7bdb2284e39121bcda2294dc41a8", "html_url": "https://github.com/rust-lang/rust/commit/4e8b91a920ce7bdb2284e39121bcda2294dc41a8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4e8b91a920ce7bdb2284e39121bcda2294dc41a8/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db5a2ae6a401ec8154e7532b9ff3164cc6a29975", "url": "https://api.github.com/repos/rust-lang/rust/commits/db5a2ae6a401ec8154e7532b9ff3164cc6a29975", "html_url": "https://github.com/rust-lang/rust/commit/db5a2ae6a401ec8154e7532b9ff3164cc6a29975"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "b6d5199341c7db7739874300b8fa8a45cc4fa7e4", "filename": "library/std/src/os/raw/mod.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/4e8b91a920ce7bdb2284e39121bcda2294dc41a8/library%2Fstd%2Fsrc%2Fos%2Fraw%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e8b91a920ce7bdb2284e39121bcda2294dc41a8/library%2Fstd%2Fsrc%2Fos%2Fraw%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fraw%2Fmod.rs?ref=4e8b91a920ce7bdb2284e39121bcda2294dc41a8", "patch": "@@ -46,6 +46,11 @@ macro_rules! type_alias {\n }\n \n type_alias! { \"char.md\", c_char = c_char_definition::c_char, NonZero_c_char = c_char_definition::NonZero_c_char;\n+// Make this type alias appear cfg-dependent so that Clippy does not suggest\n+// replacing `0 as c_char` with `0_i8`/`0_u8`. This #[cfg(all())] can be removed\n+// after the false positive in https://github.com/rust-lang/rust-clippy/issues/8093\n+// is fixed.\n+#[cfg(all())]\n #[doc(cfg(all()))] }\n type_alias! { \"schar.md\", c_schar = i8, NonZero_c_schar = NonZeroI8; }\n type_alias! { \"uchar.md\", c_uchar = u8, NonZero_c_uchar = NonZeroU8; }"}]}