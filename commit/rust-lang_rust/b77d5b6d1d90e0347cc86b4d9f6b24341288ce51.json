{"sha": "b77d5b6d1d90e0347cc86b4d9f6b24341288ce51", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI3N2Q1YjZkMWQ5MGUwMzQ3Y2M4NmI0ZDlmNmIyNDM0MTI4OGNlNTE=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2019-02-21T14:12:37Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2019-02-21T14:12:37Z"}, "message": "Rustup to rustc 1.34.0-nightly (f66e4697a 2019-02-20)", "tree": {"sha": "bb2dc6122f7c079822f5819101ff7a173d6aae0c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bb2dc6122f7c079822f5819101ff7a173d6aae0c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b77d5b6d1d90e0347cc86b4d9f6b24341288ce51", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b77d5b6d1d90e0347cc86b4d9f6b24341288ce51", "html_url": "https://github.com/rust-lang/rust/commit/b77d5b6d1d90e0347cc86b4d9f6b24341288ce51", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b77d5b6d1d90e0347cc86b4d9f6b24341288ce51/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f02490d960ecff8fc17272453f4eb8a6837b5a18", "url": "https://api.github.com/repos/rust-lang/rust/commits/f02490d960ecff8fc17272453f4eb8a6837b5a18", "html_url": "https://github.com/rust-lang/rust/commit/f02490d960ecff8fc17272453f4eb8a6837b5a18"}], "stats": {"total": 44, "additions": 33, "deletions": 11}, "files": [{"sha": "fef4a802c7fa427e6e9d3f2fce880b450afca9ab", "filename": "patches/0002-Disable-u128-and-i128-in-libcore.patch", "status": "modified", "additions": 33, "deletions": 11, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/b77d5b6d1d90e0347cc86b4d9f6b24341288ce51/patches%2F0002-Disable-u128-and-i128-in-libcore.patch", "raw_url": "https://github.com/rust-lang/rust/raw/b77d5b6d1d90e0347cc86b4d9f6b24341288ce51/patches%2F0002-Disable-u128-and-i128-in-libcore.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/patches%2F0002-Disable-u128-and-i128-in-libcore.patch?ref=b77d5b6d1d90e0347cc86b4d9f6b24341288ce51", "patch": "@@ -1053,30 +1053,52 @@ index 9a4232d..592fea0 100644\n  pub use core::hint;\n  \n diff --git a/src/libstd/net/ip.rs b/src/libstd/net/ip.rs\n-index d19cc48..aeae69a 100644\n+index c856129..2bfe9cb 100644\n --- a/src/libstd/net/ip.rs\n +++ b/src/libstd/net/ip.rs\n-@@ -1380,26 +1380,6 @@ impl FromInner<c::in6_addr> for Ipv6Addr {\n+@@ -1391,48 +1391,6 @@ impl FromInner<c::in6_addr> for Ipv6Addr {\n      }\n  }\n  \n -#[stable(feature = \"i128\", since = \"1.26.0\")]\n -impl From<Ipv6Addr> for u128 {\n+-    /// Convert an `Ipv6Addr` into a host byte order `u128`.\n+-    ///\n+-    /// # Examples\n+-    ///\n+-    /// ```\n+-    /// use std::net::Ipv6Addr;\n+-    ///\n+-    /// let addr = Ipv6Addr::new(\n+-    ///     0x1020, 0x3040, 0x5060, 0x7080,\n+-    ///     0x90A0, 0xB0C0, 0xD0E0, 0xF00D,\n+-    /// );\n+-    /// assert_eq!(0x102030405060708090A0B0C0D0E0F00D_u128, u128::from(addr));\n+-    /// ```\n -    fn from(ip: Ipv6Addr) -> u128 {\n--        let ip = ip.segments();\n--        ((ip[0] as u128) << 112) + ((ip[1] as u128) << 96) + ((ip[2] as u128) << 80) +\n--            ((ip[3] as u128) << 64) + ((ip[4] as u128) << 48) + ((ip[5] as u128) << 32) +\n--            ((ip[6] as u128) << 16) + (ip[7] as u128)\n+-        let ip = ip.octets();\n+-        u128::from_be_bytes(ip)\n -    }\n -}\n -#[stable(feature = \"i128\", since = \"1.26.0\")]\n -impl From<u128> for Ipv6Addr {\n+-    /// Convert a host byte order `u128` into an `Ipv6Addr`.\n+-    ///\n+-    /// # Examples\n+-    ///\n+-    /// ```\n+-    /// use std::net::Ipv6Addr;\n+-    ///\n+-    /// let addr = Ipv6Addr::from(0x102030405060708090A0B0C0D0E0F00D_u128);\n+-    /// assert_eq!(\n+-    ///     Ipv6Addr::new(\n+-    ///         0x1020, 0x3040, 0x5060, 0x7080,\n+-    ///         0x90A0, 0xB0C0, 0xD0E0, 0xF00D,\n+-    ///     ),\n+-    ///     addr);\n+-    /// ```\n -    fn from(ip: u128) -> Ipv6Addr {\n--        Ipv6Addr::new(\n--            (ip >> 112) as u16, (ip >> 96) as u16, (ip >> 80) as u16,\n--            (ip >> 64) as u16, (ip >> 48) as u16, (ip >> 32) as u16,\n--            (ip >> 16) as u16, ip as u16,\n--        )\n+-        Ipv6Addr::from(ip.to_be_bytes())\n -    }\n -}\n -"}]}