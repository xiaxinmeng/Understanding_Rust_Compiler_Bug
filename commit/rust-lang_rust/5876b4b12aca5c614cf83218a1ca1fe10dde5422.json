{"sha": "5876b4b12aca5c614cf83218a1ca1fe10dde5422", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU4NzZiNGIxMmFjYTVjNjE0Y2Y4MzIxOGExY2ExZmUxMGRkZTU0MjI=", "commit": {"author": {"name": "Ariel Ben-Yehuda", "email": "ariel.byd@gmail.com", "date": "2016-04-22T14:26:31Z"}, "committer": {"name": "Ariel Ben-Yehuda", "email": "ariel.byd@gmail.com", "date": "2016-05-03T15:30:10Z"}, "message": "improve error message for WF Tuples", "tree": {"sha": "f1ec156363db36f6adce1651d76b6f60fbb5f5f3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f1ec156363db36f6adce1651d76b6f60fbb5f5f3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5876b4b12aca5c614cf83218a1ca1fe10dde5422", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5876b4b12aca5c614cf83218a1ca1fe10dde5422", "html_url": "https://github.com/rust-lang/rust/commit/5876b4b12aca5c614cf83218a1ca1fe10dde5422", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5876b4b12aca5c614cf83218a1ca1fe10dde5422/comments", "author": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "committer": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "05f1a057b6e59fd07b4af7a9a2f0101d67faba88", "url": "https://api.github.com/repos/rust-lang/rust/commits/05f1a057b6e59fd07b4af7a9a2f0101d67faba88", "html_url": "https://github.com/rust-lang/rust/commit/05f1a057b6e59fd07b4af7a9a2f0101d67faba88"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "98812f4e00fcc8cc942b34c115443e1b31ed6c3c", "filename": "src/librustc/traits/error_reporting.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5876b4b12aca5c614cf83218a1ca1fe10dde5422/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5876b4b12aca5c614cf83218a1ca1fe10dde5422/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs?ref=5876b4b12aca5c614cf83218a1ca1fe10dde5422", "patch": "@@ -768,6 +768,10 @@ fn note_obligation_cause_code<'a, 'tcx, T>(infcx: &InferCtxt<'a, 'tcx>,\n             err.fileline_note(\n                 cause_span,\n                 \"tuple elements must have `Sized` type\");\n+\n+            err.fileline_warn(\n+                cause_span,\n+                \"this is a new restriction added in rustc 1.10\");\n         }\n         ObligationCauseCode::ProjectionWf(data) => {\n             err.note(&format!(\"required so that the projection `{}` is well-formed\","}, {"sha": "d5f2cf65a69f2b87c1e5f023c63676d7817db1c8", "filename": "src/test/compile-fail/unsized3.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5876b4b12aca5c614cf83218a1ca1fe10dde5422/src%2Ftest%2Fcompile-fail%2Funsized3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5876b4b12aca5c614cf83218a1ca1fe10dde5422/src%2Ftest%2Fcompile-fail%2Funsized3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funsized3.rs?ref=5876b4b12aca5c614cf83218a1ca1fe10dde5422", "patch": "@@ -60,7 +60,9 @@ fn f8<X: ?Sized>(x1: &S<X>, x2: &S<X>) {\n fn f9<X: ?Sized>(x1: Box<S<X>>, x2: Box<E<X>>) {\n     f5(&(*x1, 34));\n     //~^ ERROR `X: std::marker::Sized` is not satisfied\n-    //~^^ ERROR `X: std::marker::Sized` is not satisfied\n+    //~| WARNING this is a new restriction added in rustc 1.10\n+    //~^^^ ERROR `X: std::marker::Sized` is not satisfied\n+    //~| WARNING this is a new restriction added in rustc 1.10\n }\n \n fn f10<X: ?Sized>(x1: Box<S<X>>, x2: Box<E<X>>) {"}, {"sha": "ba9a8a4f294f9b44d735d29a497dceea3a621b69", "filename": "src/test/compile-fail/unsized6.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5876b4b12aca5c614cf83218a1ca1fe10dde5422/src%2Ftest%2Fcompile-fail%2Funsized6.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5876b4b12aca5c614cf83218a1ca1fe10dde5422/src%2Ftest%2Fcompile-fail%2Funsized6.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funsized6.rs?ref=5876b4b12aca5c614cf83218a1ca1fe10dde5422", "patch": "@@ -15,12 +15,15 @@ trait T {}\n fn f1<X: ?Sized>(x: &X) {\n     let _: X; // <-- this is OK, no bindings created, no initializer.\n     let _: (isize, (X, isize)); //~ERROR `X: std::marker::Sized` is not satisfied\n+    //~| WARNING this is a new restriction added in rustc 1.10\n     let y: X; //~ERROR `X: std::marker::Sized` is not satisfied\n     let y: (isize, (X, usize)); //~ERROR `X: std::marker::Sized` is not satisfied\n+    //~| WARNING this is a new restriction added in rustc 1.10\n }\n fn f2<X: ?Sized + T>(x: &X) {\n     let y: X; //~ERROR `X: std::marker::Sized` is not satisfied\n     let y: (isize, (X, isize)); //~ERROR `X: std::marker::Sized` is not satisfied\n+    //~| WARNING this is a new restriction added in rustc 1.10\n }\n \n fn f3<X: ?Sized>(x1: Box<X>, x2: Box<X>, x3: Box<X>) {"}]}