{"sha": "71de9dbe5bc823a9603318c9cf92f58d7f5eb6f9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcxZGU5ZGJlNWJjODIzYTk2MDMzMThjOWNmOTJmNThkN2Y1ZWI2Zjk=", "commit": {"author": {"name": "Jethro Beekman", "email": "jethro@jbeekman.nl", "date": "2017-05-03T17:24:49Z"}, "committer": {"name": "Jethro Beekman", "email": "jethro@jbeekman.nl", "date": "2017-05-11T16:47:02Z"}, "message": "Add test", "tree": {"sha": "722155987001a9fd9aa5cdbd86206a65a00db2f9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/722155987001a9fd9aa5cdbd86206a65a00db2f9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/71de9dbe5bc823a9603318c9cf92f58d7f5eb6f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/71de9dbe5bc823a9603318c9cf92f58d7f5eb6f9", "html_url": "https://github.com/rust-lang/rust/commit/71de9dbe5bc823a9603318c9cf92f58d7f5eb6f9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/71de9dbe5bc823a9603318c9cf92f58d7f5eb6f9/comments", "author": null, "committer": null, "parents": [{"sha": "70c267fc91eddcfa47b5f6be65f8ec01d86edbe3", "url": "https://api.github.com/repos/rust-lang/rust/commits/70c267fc91eddcfa47b5f6be65f8ec01d86edbe3", "html_url": "https://github.com/rust-lang/rust/commit/70c267fc91eddcfa47b5f6be65f8ec01d86edbe3"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "a51b458451e8623ff3fd397956f276cf6e5e4604", "filename": "src/libstd/sys/windows/os.rs", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/71de9dbe5bc823a9603318c9cf92f58d7f5eb6f9/src%2Flibstd%2Fsys%2Fwindows%2Fos.rs", "raw_url": "https://github.com/rust-lang/rust/raw/71de9dbe5bc823a9603318c9cf92f58d7f5eb6f9/src%2Flibstd%2Fsys%2Fwindows%2Fos.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fwindows%2Fos.rs?ref=71de9dbe5bc823a9603318c9cf92f58d7f5eb6f9", "patch": "@@ -317,3 +317,17 @@ pub fn home_dir() -> Option<PathBuf> {\n pub fn exit(code: i32) -> ! {\n     unsafe { c::ExitProcess(code as c::UINT) }\n }\n+\n+#[cfg(test)]\n+mod tests {\n+    use io::Error;\n+    use sys::c;\n+\n+    // tests `error_string` above\n+    #[test]\n+    fn ntstatus_error() {\n+        const STATUS_UNSUCCESSFUL: u32 = 0xc000_0001;\n+        assert!(!Error::from_raw_os_error((STATUS_UNSUCCESSFUL | c::FACILITY_NT_BIT) as _)\n+            .to_string().contains(\"FormatMessageW() returned error\"));\n+    }\n+}"}]}