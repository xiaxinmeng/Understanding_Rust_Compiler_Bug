{"sha": "3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkNzBhZWI0MTJhYjJlYmM4ZTdiOTQxOGQ3NWU4YzNjZDJkNjNkZjM=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-07-31T16:55:33Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-07-31T16:55:33Z"}, "message": "Use names&refs", "tree": {"sha": "11ad5206849da97917616c36cac4224f763057bc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/11ad5206849da97917616c36cac4224f763057bc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "html_url": "https://github.com/rust-lang/rust/commit/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "63e2ed4e75bc16cdd1882be031d026469b49dbc4", "url": "https://api.github.com/repos/rust-lang/rust/commits/63e2ed4e75bc16cdd1882be031d026469b49dbc4", "html_url": "https://github.com/rust-lang/rust/commit/63e2ed4e75bc16cdd1882be031d026469b49dbc4"}], "stats": {"total": 88, "additions": 56, "deletions": 32}, "files": [{"sha": "276c8b4ae4227cea3b5d4e5dc25c22e9e0c86def", "filename": "src/parser/grammar/type_args.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/src%2Fparser%2Fgrammar%2Ftype_args.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/src%2Fparser%2Fgrammar%2Ftype_args.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Ftype_args.rs?ref=3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "patch": "@@ -35,7 +35,7 @@ fn type_arg(p: &mut Parser) {\n             m.complete(p, LIFETIME_ARG);\n         },\n         IDENT if p.nth(1) == EQ => {\n-            p.bump();\n+            name_ref(p);\n             p.bump();\n             types::type_(p);\n             m.complete(p, ASSOC_TYPE_ARG);"}, {"sha": "ccb44c0df91163be0ffb5cc3477de20d2082f2f6", "filename": "src/parser/grammar/type_params.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/src%2Fparser%2Fgrammar%2Ftype_params.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/src%2Fparser%2Fgrammar%2Ftype_params.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Ftype_params.rs?ref=3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "patch": "@@ -38,7 +38,7 @@ pub(super) fn list(p: &mut Parser) {\n     fn type_param(p: &mut Parser) {\n         assert!(p.at(IDENT));\n         let m = p.start();\n-        p.bump();\n+        name(p);\n         if p.at(COLON) {\n             bounds(p);\n         }"}, {"sha": "437ce13e1ac6d7f2e88c6696c78cd05cae803512", "filename": "tests/data/parser/inline/0014_type_item_type_params.txt", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Finline%2F0014_type_item_type_params.txt", "raw_url": "https://github.com/rust-lang/rust/raw/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Finline%2F0014_type_item_type_params.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0014_type_item_type_params.txt?ref=3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "patch": "@@ -7,7 +7,8 @@ FILE@[0; 21)\n     TYPE_PARAM_LIST@[11; 15)\n       L_ANGLE@[11; 12)\n       TYPE_PARAM@[12; 13)\n-        IDENT@[12; 13) \"T\"\n+        NAME@[12; 13)\n+          IDENT@[12; 13) \"T\"\n       R_ANGLE@[13; 14)\n       WHITESPACE@[14; 15)\n     EQ@[15; 16)"}, {"sha": "c03a80fa0290c9be52832138396f3982bb20fdb8", "filename": "tests/data/parser/inline/0041_type_param_bounds.txt", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Finline%2F0041_type_param_bounds.txt", "raw_url": "https://github.com/rust-lang/rust/raw/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Finline%2F0041_type_param_bounds.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0041_type_param_bounds.txt?ref=3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "patch": "@@ -7,7 +7,8 @@ FILE@[0; 35)\n     TYPE_PARAM_LIST@[8; 33)\n       L_ANGLE@[8; 9)\n       TYPE_PARAM@[9; 32)\n-        IDENT@[9; 10) \"T\"\n+        NAME@[9; 10)\n+          IDENT@[9; 10) \"T\"\n         COLON@[10; 11)\n         WHITESPACE@[11; 12)\n         LIFETIME@[12; 14) \"'a\""}, {"sha": "24671ed6baa9fec24c87eaaa4e786151c6a7b336", "filename": "tests/data/parser/inline/0042_type_param_default.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Finline%2F0042_type_param_default.txt", "raw_url": "https://github.com/rust-lang/rust/raw/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Finline%2F0042_type_param_default.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0042_type_param_default.txt?ref=3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "patch": "@@ -7,8 +7,9 @@ FILE@[0; 19)\n     TYPE_PARAM_LIST@[8; 17)\n       L_ANGLE@[8; 9)\n       TYPE_PARAM@[9; 16)\n-        IDENT@[9; 10) \"T\"\n-        WHITESPACE@[10; 11)\n+        NAME@[9; 11)\n+          IDENT@[9; 10) \"T\"\n+          WHITESPACE@[10; 11)\n         EQ@[11; 12)\n         PATH_TYPE@[12; 16)\n           PATH@[12; 16)"}, {"sha": "7ed8d4a55eb8772364167be769f31dcc682f62df", "filename": "tests/data/parser/inline/0056_trait_item.txt", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Finline%2F0056_trait_item.txt", "raw_url": "https://github.com/rust-lang/rust/raw/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Finline%2F0056_trait_item.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0056_trait_item.txt?ref=3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "patch": "@@ -7,7 +7,8 @@ FILE@[0; 42)\n     TYPE_PARAM_LIST@[7; 10)\n       L_ANGLE@[7; 8)\n       TYPE_PARAM@[8; 9)\n-        IDENT@[8; 9) \"U\"\n+        NAME@[8; 9)\n+          IDENT@[8; 9) \"U\"\n       R_ANGLE@[9; 10)\n     COLON@[10; 11)\n     PATH@[11; 17)"}, {"sha": "7a3a2aa1015314a43e448534631b531731e55dce", "filename": "tests/data/parser/inline/0058_type_arg.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Finline%2F0058_type_arg.txt", "raw_url": "https://github.com/rust-lang/rust/raw/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Finline%2F0058_type_arg.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0058_type_arg.txt?ref=3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "patch": "@@ -26,8 +26,9 @@ FILE@[0; 35)\n                       IDENT@[20; 23) \"i32\"\n             COMMA@[23; 24)\n             ASSOC_TYPE_ARG@[24; 33)\n-              WHITESPACE@[24; 25)\n-              IDENT@[25; 29) \"Item\"\n+              NAME_REF@[24; 29)\n+                WHITESPACE@[24; 25)\n+                IDENT@[25; 29) \"Item\"\n               EQ@[29; 30)\n               PATH_TYPE@[30; 33)\n                 PATH@[30; 33)"}, {"sha": "1d3b4a57679c580e42d99f5441a74b3f0226b246", "filename": "tests/data/parser/ok/0018_struct_type_params.txt", "status": "modified", "additions": 19, "deletions": 11, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Fok%2F0018_struct_type_params.txt", "raw_url": "https://github.com/rust-lang/rust/raw/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Fok%2F0018_struct_type_params.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0018_struct_type_params.txt?ref=3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "patch": "@@ -7,7 +7,8 @@ FILE@[0; 290)\n     TYPE_PARAM_LIST@[9; 12)\n       L_ANGLE@[9; 10)\n       TYPE_PARAM@[10; 11)\n-        IDENT@[10; 11) \"T\"\n+        NAME@[10; 11)\n+          IDENT@[10; 11) \"T\"\n       R_ANGLE@[11; 12)\n     SEMI@[12; 13)\n     WHITESPACE@[13; 14)\n@@ -19,7 +20,8 @@ FILE@[0; 290)\n     TYPE_PARAM_LIST@[23; 26)\n       L_ANGLE@[23; 24)\n       TYPE_PARAM@[24; 25)\n-        IDENT@[24; 25) \"T\"\n+        NAME@[24; 25)\n+          IDENT@[24; 25) \"T\"\n       R_ANGLE@[25; 26)\n     L_PAREN@[26; 27)\n     POS_FIELD@[27; 30)\n@@ -39,7 +41,8 @@ FILE@[0; 290)\n     TYPE_PARAM_LIST@[42; 46)\n       L_ANGLE@[42; 43)\n       TYPE_PARAM@[43; 44)\n-        IDENT@[43; 44) \"T\"\n+        NAME@[43; 44)\n+          IDENT@[43; 44) \"T\"\n       R_ANGLE@[44; 45)\n       WHITESPACE@[45; 46)\n     L_CURLY@[46; 47)\n@@ -205,7 +208,8 @@ FILE@[0; 290)\n     TYPE_PARAM_LIST@[245; 248)\n       L_ANGLE@[245; 246)\n       TYPE_PARAM@[246; 247)\n-        IDENT@[246; 247) \"T\"\n+        NAME@[246; 247)\n+          IDENT@[246; 247) \"T\"\n       R_ANGLE@[247; 248)\n     SEMI@[248; 249)\n     WHITESPACE@[249; 250)\n@@ -217,11 +221,13 @@ FILE@[0; 290)\n     TYPE_PARAM_LIST@[260; 266)\n       L_ANGLE@[260; 261)\n       TYPE_PARAM@[261; 262)\n-        IDENT@[261; 262) \"T\"\n+        NAME@[261; 262)\n+          IDENT@[261; 262) \"T\"\n       COMMA@[262; 263)\n       TYPE_PARAM@[263; 265)\n-        WHITESPACE@[263; 264)\n-        IDENT@[264; 265) \"U\"\n+        NAME@[263; 265)\n+          WHITESPACE@[263; 264)\n+          IDENT@[264; 265) \"U\"\n       R_ANGLE@[265; 266)\n     SEMI@[266; 267)\n     WHITESPACE@[267; 268)\n@@ -236,12 +242,14 @@ FILE@[0; 290)\n         LIFETIME@[279; 281) \"'a\"\n       COMMA@[281; 282)\n       TYPE_PARAM@[282; 284)\n-        WHITESPACE@[282; 283)\n-        IDENT@[283; 284) \"T\"\n+        NAME@[282; 284)\n+          WHITESPACE@[282; 283)\n+          IDENT@[283; 284) \"T\"\n       COMMA@[284; 285)\n       TYPE_PARAM@[285; 287)\n-        WHITESPACE@[285; 286)\n-        IDENT@[286; 287) \"U\"\n+        NAME@[285; 287)\n+          WHITESPACE@[285; 286)\n+          IDENT@[286; 287) \"U\"\n       R_ANGLE@[287; 288)\n     SEMI@[288; 289)\n     WHITESPACE@[289; 290)"}, {"sha": "86d29e650fb00fecca1de530e7651b4ba09ef04e", "filename": "tests/data/parser/ok/0019_enums.txt", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Fok%2F0019_enums.txt", "raw_url": "https://github.com/rust-lang/rust/raw/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Fok%2F0019_enums.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0019_enums.txt?ref=3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "patch": "@@ -17,7 +17,8 @@ FILE@[0; 182)\n     TYPE_PARAM_LIST@[20; 24)\n       L_ANGLE@[20; 21)\n       TYPE_PARAM@[21; 22)\n-        IDENT@[21; 22) \"T\"\n+        NAME@[21; 22)\n+          IDENT@[21; 22) \"T\"\n       R_ANGLE@[22; 23)\n       WHITESPACE@[23; 24)\n     L_CURLY@[24; 25)"}, {"sha": "9ff2df578a9827bf799bef6ef4e02971934143bc", "filename": "tests/data/parser/ok/0020_type_param_bounds.txt", "status": "modified", "additions": 21, "deletions": 11, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Fok%2F0020_type_param_bounds.txt", "raw_url": "https://github.com/rust-lang/rust/raw/3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3/tests%2Fdata%2Fparser%2Fok%2F0020_type_param_bounds.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0020_type_param_bounds.txt?ref=3d70aeb412ab2ebc8e7b9418d75e8c3cd2d63df3", "patch": "@@ -7,7 +7,8 @@ FILE@[0; 200)\n     TYPE_PARAM_LIST@[8; 11)\n       L_ANGLE@[8; 9)\n       TYPE_PARAM@[9; 10)\n-        IDENT@[9; 10) \"T\"\n+        NAME@[9; 10)\n+          IDENT@[9; 10) \"T\"\n       R_ANGLE@[10; 11)\n     SEMI@[11; 12)\n     WHITESPACE@[12; 13)\n@@ -19,7 +20,8 @@ FILE@[0; 200)\n     TYPE_PARAM_LIST@[21; 25)\n       L_ANGLE@[21; 22)\n       TYPE_PARAM@[22; 24)\n-        IDENT@[22; 23) \"T\"\n+        NAME@[22; 23)\n+          IDENT@[22; 23) \"T\"\n         COLON@[23; 24)\n       R_ANGLE@[24; 25)\n     SEMI@[25; 26)\n@@ -32,7 +34,8 @@ FILE@[0; 200)\n     TYPE_PARAM_LIST@[35; 42)\n       L_ANGLE@[35; 36)\n       TYPE_PARAM@[36; 41)\n-        IDENT@[36; 37) \"T\"\n+        NAME@[36; 37)\n+          IDENT@[36; 37) \"T\"\n         COLON@[37; 38)\n         WHITESPACE@[38; 39)\n         LIFETIME@[39; 41) \"'a\"\n@@ -47,7 +50,8 @@ FILE@[0; 200)\n     TYPE_PARAM_LIST@[52; 62)\n       L_ANGLE@[52; 53)\n       TYPE_PARAM@[53; 61)\n-        IDENT@[53; 54) \"T\"\n+        NAME@[53; 54)\n+          IDENT@[53; 54) \"T\"\n         COLON@[54; 55)\n         WHITESPACE@[55; 56)\n         LIFETIME@[56; 58) \"'a\"\n@@ -65,7 +69,8 @@ FILE@[0; 200)\n     TYPE_PARAM_LIST@[72; 85)\n       L_ANGLE@[72; 73)\n       TYPE_PARAM@[73; 84)\n-        IDENT@[73; 74) \"T\"\n+        NAME@[73; 74)\n+          IDENT@[73; 74) \"T\"\n         COLON@[74; 75)\n         WHITESPACE@[75; 76)\n         LIFETIME@[76; 78) \"'a\"\n@@ -85,7 +90,8 @@ FILE@[0; 200)\n     TYPE_PARAM_LIST@[95; 115)\n       L_ANGLE@[95; 96)\n       TYPE_PARAM@[96; 114)\n-        IDENT@[96; 97) \"T\"\n+        NAME@[96; 97)\n+          IDENT@[96; 97) \"T\"\n         COLON@[97; 98)\n         WHITESPACE@[98; 99)\n         LIFETIME@[99; 101) \"'a\"\n@@ -111,7 +117,8 @@ FILE@[0; 200)\n     TYPE_PARAM_LIST@[125; 142)\n       L_ANGLE@[125; 126)\n       TYPE_PARAM@[126; 141)\n-        IDENT@[126; 127) \"T\"\n+        NAME@[126; 127)\n+          IDENT@[126; 127) \"T\"\n         COLON@[127; 128)\n         PATH@[128; 135)\n           PATH_SEGMENT@[128; 135)\n@@ -136,7 +143,8 @@ FILE@[0; 200)\n     TYPE_PARAM_LIST@[152; 179)\n       L_ANGLE@[152; 153)\n       TYPE_PARAM@[153; 178)\n-        IDENT@[153; 154) \"T\"\n+        NAME@[153; 154)\n+          IDENT@[153; 154) \"T\"\n         COLON@[154; 155)\n         PATH@[155; 162)\n           PATH_SEGMENT@[155; 162)\n@@ -170,12 +178,14 @@ FILE@[0; 200)\n     TYPE_PARAM_LIST@[189; 198)\n       L_ANGLE@[189; 190)\n       TYPE_PARAM@[190; 192)\n-        IDENT@[190; 191) \"T\"\n+        NAME@[190; 191)\n+          IDENT@[190; 191) \"T\"\n         COLON@[191; 192)\n       COMMA@[192; 193)\n       TYPE_PARAM@[193; 196)\n-        WHITESPACE@[193; 194)\n-        IDENT@[194; 195) \"U\"\n+        NAME@[193; 195)\n+          WHITESPACE@[193; 194)\n+          IDENT@[194; 195) \"U\"\n         COLON@[195; 196)\n       COMMA@[196; 197)\n       R_ANGLE@[197; 198)"}]}