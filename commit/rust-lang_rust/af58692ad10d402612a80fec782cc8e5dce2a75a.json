{"sha": "af58692ad10d402612a80fec782cc8e5dce2a75a", "node_id": "C_kwDOAAsO6NoAKGFmNTg2OTJhZDEwZDQwMjYxMmE4MGZlYzc4MmNjOGU1ZGNlMmE3NWE", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-06-04T23:25:43Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-06-25T14:30:47Z"}, "message": "bless remaining tests", "tree": {"sha": "30fa46a848c342438cebda3b090d87f0baaa01f5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/30fa46a848c342438cebda3b090d87f0baaa01f5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/af58692ad10d402612a80fec782cc8e5dce2a75a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/af58692ad10d402612a80fec782cc8e5dce2a75a", "html_url": "https://github.com/rust-lang/rust/commit/af58692ad10d402612a80fec782cc8e5dce2a75a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/af58692ad10d402612a80fec782cc8e5dce2a75a/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dc2cc109419ac497ac24046297f452c9cced0ec0", "url": "https://api.github.com/repos/rust-lang/rust/commits/dc2cc109419ac497ac24046297f452c9cced0ec0", "html_url": "https://github.com/rust-lang/rust/commit/dc2cc109419ac497ac24046297f452c9cced0ec0"}], "stats": {"total": 104, "additions": 104, "deletions": 0}, "files": [{"sha": "bd7c95342f7f942467ca0a6bf3a417904c712b4b", "filename": "src/test/ui/consts/invalid-union.32bit.stderr", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Fconsts%2Finvalid-union.32bit.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Fconsts%2Finvalid-union.32bit.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Finvalid-union.32bit.stderr?ref=af58692ad10d402612a80fec782cc8e5dce2a75a", "patch": "@@ -22,3 +22,14 @@ LL |     let _: &'static _ = &C;\n error: aborting due to 2 previous errors\n \n For more information about this error, try `rustc --explain E0080`.\n+Future incompatibility report: Future breakage diagnostic:\n+error: erroneous constant used\n+  --> $DIR/invalid-union.rs:41:25\n+   |\n+LL |     let _: &'static _ = &C;\n+   |                         ^^ referenced constant has errors\n+   |\n+   = note: `#[deny(const_err)]` on by default\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>\n+"}, {"sha": "2a0766294d3e0b22a37e80906c17329ea8039187", "filename": "src/test/ui/consts/miri_unleashed/const_refers_to_static_cross_crate.32bit.stderr", "status": "modified", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fconst_refers_to_static_cross_crate.32bit.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fconst_refers_to_static_cross_crate.32bit.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmiri_unleashed%2Fconst_refers_to_static_cross_crate.32bit.stderr?ref=af58692ad10d402612a80fec782cc8e5dce2a75a", "patch": "@@ -170,3 +170,45 @@ LL |     unsafe { match static_cross_crate::OPT_ZERO { Some(ref u) => u, None =>\n error: aborting due to 10 previous errors; 3 warnings emitted\n \n For more information about this error, try `rustc --explain E0080`.\n+Future incompatibility report: Future breakage diagnostic:\n+warning: any use of this value will cause an error\n+  --> $DIR/const_refers_to_static_cross_crate.rs:25:15\n+   |\n+LL | / const U8_MUT2: &u8 = {\n+LL | |     unsafe { &(*static_cross_crate::ZERO_REF)[0] }\n+   | |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ constant accesses static\n+LL | |\n+LL | |\n+LL | |\n+LL | | };\n+   | |__-\n+   |\n+note: the lint level is defined here\n+  --> $DIR/const_refers_to_static_cross_crate.rs:23:8\n+   |\n+LL | #[warn(const_err)]\n+   |        ^^^^^^^^^\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>\n+\n+Future breakage diagnostic:\n+warning: any use of this value will cause an error\n+  --> $DIR/const_refers_to_static_cross_crate.rs:32:20\n+   |\n+LL | / const U8_MUT3: &u8 = {\n+LL | |     unsafe { match static_cross_crate::OPT_ZERO { Some(ref u) => u, None => panic!() } }\n+   | |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ constant accesses static\n+LL | |\n+LL | |\n+LL | |\n+LL | | };\n+   | |__-\n+   |\n+note: the lint level is defined here\n+  --> $DIR/const_refers_to_static_cross_crate.rs:30:8\n+   |\n+LL | #[warn(const_err)]\n+   |        ^^^^^^^^^\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>\n+"}, {"sha": "1402d1387037ec04f60467bab8ecd14d46ce85ca", "filename": "src/test/ui/limits/issue-55878.stderr", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Flimits%2Fissue-55878.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Flimits%2Fissue-55878.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flimits%2Fissue-55878.stderr?ref=af58692ad10d402612a80fec782cc8e5dce2a75a", "patch": "@@ -23,3 +23,15 @@ LL |     println!(\"Size: {}\", std::mem::size_of::<[u8; u64::MAX as usize]>());\n error: aborting due to 2 previous errors\n \n For more information about this error, try `rustc --explain E0080`.\n+Future incompatibility report: Future breakage diagnostic:\n+error: erroneous constant used\n+  --> $DIR/issue-55878.rs:7:26\n+   |\n+LL |     println!(\"Size: {}\", std::mem::size_of::<[u8; u64::MAX as usize]>());\n+   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ referenced constant has errors\n+   |\n+   = note: `#[deny(const_err)]` on by default\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>\n+   = note: this error originates in the macro `$crate::format_args_nl` (in Nightly builds, run with -Z macro-backtrace for more info)\n+"}, {"sha": "c14529a7d090a2106eae46719360bf77f4fa04bc", "filename": "src/test/ui/lint/force-warn/allowed-cli-deny-by-default-lint.stderr", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fallowed-cli-deny-by-default-lint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fallowed-cli-deny-by-default-lint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fallowed-cli-deny-by-default-lint.stderr?ref=af58692ad10d402612a80fec782cc8e5dce2a75a", "patch": "@@ -12,3 +12,16 @@ LL | const C: i32 = 1 / 0;\n \n warning: 1 warning emitted\n \n+Future incompatibility report: Future breakage diagnostic:\n+warning: any use of this value will cause an error\n+  --> $DIR/allowed-cli-deny-by-default-lint.rs:6:16\n+   |\n+LL | const C: i32 = 1 / 0;\n+   | ---------------^^^^^-\n+   |                |\n+   |                attempt to divide `1_i32` by zero\n+   |\n+   = note: requested on the command line with `--force-warn const-err`\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>\n+"}, {"sha": "dd71a168960ab0b9070182c9a5fdcf9b1aa59641", "filename": "src/test/ui/lint/force-warn/allowed-deny-by-default-lint.stderr", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fallowed-deny-by-default-lint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fallowed-deny-by-default-lint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fallowed-deny-by-default-lint.stderr?ref=af58692ad10d402612a80fec782cc8e5dce2a75a", "patch": "@@ -12,3 +12,16 @@ LL | const C: i32 = 1 / 0;\n \n warning: 1 warning emitted\n \n+Future incompatibility report: Future breakage diagnostic:\n+warning: any use of this value will cause an error\n+  --> $DIR/allowed-deny-by-default-lint.rs:7:16\n+   |\n+LL | const C: i32 = 1 / 0;\n+   | ---------------^^^^^-\n+   |                |\n+   |                attempt to divide `1_i32` by zero\n+   |\n+   = note: requested on the command line with `--force-warn const-err`\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>\n+"}, {"sha": "d4e80584669aecda80963e2b4ccd60617ac5a72f", "filename": "src/test/ui/lint/force-warn/deny-by-default-lint.stderr", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fdeny-by-default-lint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/af58692ad10d402612a80fec782cc8e5dce2a75a/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fdeny-by-default-lint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fdeny-by-default-lint.stderr?ref=af58692ad10d402612a80fec782cc8e5dce2a75a", "patch": "@@ -12,3 +12,16 @@ LL | const C: i32 = 1 / 0;\n \n warning: 1 warning emitted\n \n+Future incompatibility report: Future breakage diagnostic:\n+warning: any use of this value will cause an error\n+  --> $DIR/deny-by-default-lint.rs:5:16\n+   |\n+LL | const C: i32 = 1 / 0;\n+   | ---------------^^^^^-\n+   |                |\n+   |                attempt to divide `1_i32` by zero\n+   |\n+   = note: requested on the command line with `--force-warn const-err`\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>\n+"}]}