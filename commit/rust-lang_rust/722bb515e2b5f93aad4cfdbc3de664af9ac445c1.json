{"sha": "722bb515e2b5f93aad4cfdbc3de664af9ac445c1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcyMmJiNTE1ZTJiNWY5M2FhZDRjZmRiYzNkZTY2NGFmOWFjNDQ1YzE=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-10-05T17:41:24Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-10-09T17:17:29Z"}, "message": "Obligation must apply modulo regions", "tree": {"sha": "c4d03926fa205b1126c6fba83348bf659d85ae76", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c4d03926fa205b1126c6fba83348bf659d85ae76"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/722bb515e2b5f93aad4cfdbc3de664af9ac445c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/722bb515e2b5f93aad4cfdbc3de664af9ac445c1", "html_url": "https://github.com/rust-lang/rust/commit/722bb515e2b5f93aad4cfdbc3de664af9ac445c1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/722bb515e2b5f93aad4cfdbc3de664af9ac445c1/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "acd6540a74e5e83ce6d24c696ad833b6f80027b2", "url": "https://api.github.com/repos/rust-lang/rust/commits/acd6540a74e5e83ce6d24c696ad833b6f80027b2", "html_url": "https://github.com/rust-lang/rust/commit/acd6540a74e5e83ce6d24c696ad833b6f80027b2"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "1e8f699b520f9e79fe2fb786c5f6762ba3476244", "filename": "src/librustc/traits/error_reporting.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/722bb515e2b5f93aad4cfdbc3de664af9ac445c1/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/722bb515e2b5f93aad4cfdbc3de664af9ac445c1/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs?ref=722bb515e2b5f93aad4cfdbc3de664af9ac445c1", "patch": "@@ -1149,7 +1149,9 @@ impl<'a, 'tcx> InferCtxt<'a, 'tcx> {\n                     new_trait_ref.to_predicate(),\n                 );\n \n-                if self.predicate_may_hold(&new_obligation) {\n+                if self.evaluate_obligation_no_overflow(\n+                    &new_obligation,\n+                ).must_apply_modulo_regions() {\n                     let sp = self.tcx.sess.source_map()\n                         .span_take_while(span, |c| c.is_whitespace() || *c == '&');\n                     if points_at_arg &&"}, {"sha": "0d426cab9b751381f3106051b92e97ca269acdc2", "filename": "src/librustc/traits/query/evaluate_obligation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/722bb515e2b5f93aad4cfdbc3de664af9ac445c1/src%2Flibrustc%2Ftraits%2Fquery%2Fevaluate_obligation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/722bb515e2b5f93aad4cfdbc3de664af9ac445c1/src%2Flibrustc%2Ftraits%2Fquery%2Fevaluate_obligation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Fquery%2Fevaluate_obligation.rs?ref=722bb515e2b5f93aad4cfdbc3de664af9ac445c1", "patch": "@@ -56,7 +56,7 @@ impl<'cx, 'tcx> InferCtxt<'cx, 'tcx> {\n     // Helper function that canonicalizes and runs the query. If an\n     // overflow results, we re-run it in the local context so we can\n     // report a nice error.\n-    fn evaluate_obligation_no_overflow(\n+    crate fn evaluate_obligation_no_overflow(\n         &self,\n         obligation: &PredicateObligation<'tcx>,\n     ) -> EvaluationResult {"}, {"sha": "a7bbe05e94b7b7a15c6536203cd173b8e9f9380c", "filename": "src/test/ui/parser/lex-bad-char-literals-6.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/722bb515e2b5f93aad4cfdbc3de664af9ac445c1/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-6.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/722bb515e2b5f93aad4cfdbc3de664af9ac445c1/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-6.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-6.stderr?ref=722bb515e2b5f93aad4cfdbc3de664af9ac445c1", "patch": "@@ -35,7 +35,6 @@ LL |     if x == y {}\n    |          ^^ no implementation for `&str == char`\n    |\n    = help: the trait `std::cmp::PartialEq<char>` is not implemented for `&str`\n-   = note: `std::cmp::PartialEq<char>` is implemented for `&mut str`, but not for `&str`\n \n error[E0308]: mismatched types\n   --> $DIR/lex-bad-char-literals-6.rs:15:20\n@@ -53,7 +52,6 @@ LL |     if x == z {}\n    |          ^^ no implementation for `&str == char`\n    |\n    = help: the trait `std::cmp::PartialEq<char>` is not implemented for `&str`\n-   = note: `std::cmp::PartialEq<char>` is implemented for `&mut str`, but not for `&str`\n \n error: aborting due to 6 previous errors\n "}]}