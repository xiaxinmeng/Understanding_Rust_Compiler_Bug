{"sha": "0ad7468ff2f3727d0eac6fc6311cedf6c15db5c4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBhZDc0NjhmZjJmMzcyN2QwZWFjNmZjNjMxMWNlZGY2YzE1ZGI1YzQ=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-06-29T17:30:36Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-06-29T17:30:36Z"}, "message": "Revert \"Improve makefile to try to avoid wedging on failure-to-dep lib/std.rc\"\n\nThis reverts commit 3bc263f10215e5768e9ff57ee1f1aa2bd81da5d1.", "tree": {"sha": "732480750073263707d6ce2cc43e562a7546dcf1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/732480750073263707d6ce2cc43e562a7546dcf1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0ad7468ff2f3727d0eac6fc6311cedf6c15db5c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0ad7468ff2f3727d0eac6fc6311cedf6c15db5c4", "html_url": "https://github.com/rust-lang/rust/commit/0ad7468ff2f3727d0eac6fc6311cedf6c15db5c4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0ad7468ff2f3727d0eac6fc6311cedf6c15db5c4/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3bc263f10215e5768e9ff57ee1f1aa2bd81da5d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/3bc263f10215e5768e9ff57ee1f1aa2bd81da5d1", "html_url": "https://github.com/rust-lang/rust/commit/3bc263f10215e5768e9ff57ee1f1aa2bd81da5d1"}], "stats": {"total": 15, "additions": 6, "deletions": 9}, "files": [{"sha": "5a72afdeea95cf0c9e70b1bddf7f58d2805abc56", "filename": "src/Makefile", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/0ad7468ff2f3727d0eac6fc6311cedf6c15db5c4/src%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/0ad7468ff2f3727d0eac6fc6311cedf6c15db5c4/src%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FMakefile?ref=0ad7468ff2f3727d0eac6fc6311cedf6c15db5c4", "patch": "@@ -631,17 +631,17 @@ test/run-fail/%.bc: test/run-fail/%.rs $(REQ)\n ML_DEPFILES := $(BOOT_MLS:%.ml=%.d)\n C_DEPFILES := $(RUNTIME_CS:%.cpp=%.d)\n \n-%.d.tmp: %.cpp $(MKFILES)\n+%.d: %.cpp $(MKFILES)\n \t@$(call CFG_ECHO, dep: $<)\n \t$(CFG_QUIET)$(call CFG_DEPEND_C, $@ \\\n       $(patsubst %.cpp, %$(CFG_OBJ_SUFFIX), $<), \\\n       $(RUNTIME_INCS)) $< $(CFG_PATH_MUNGE) >$@\n \n-%.d.tmp: %.ml $(MKFILES)\n+%.d: %.ml $(MKFILES)\n \t@$(call CFG_ECHO, dep: $<)\n \t$(CFG_QUIET)ocamldep$(OPT) $(ML_INCS) $< $(CFG_PATH_MUNGE) >$@\n \n-%.d.tmp: %.mli $(MKFILES)\n+%.d: %.mli $(MKFILES)\n \t@$(call CFG_ECHO, dep: $<)\n \t$(CFG_QUIET)ocamldep$(OPT) $(ML_INCS) $< $(CFG_PATH_MUNGE) >$@\n \n@@ -656,21 +656,18 @@ CFG_INFO := $(info cfg: using built $(CFG_BOOT) for rust deps)\n STDLIB_DEPFILE := $(CFG_STDLIB).d\n CRATE_DEPFILES := $(ALL_TEST_CRATES:%.rc=%.d) $(STDLIB_DEPFILE)\n \n-$(STDLIB_DEPFILE).tmp: $(STDLIB_CRATE) $(MKFILES) $(CFG_BOOT)\n+$(STDLIB_DEPFILE): $(STDLIB_CRATE) $(MKFILES) $(CFG_BOOT)\n \t@$(call CFG_ECHO, dep: $<)\n \t$(BOOT) -shared -rdeps $< $(CFG_PATH_MUNGE) >$@\n \n-%.d.tmp: %.rc $(MKFILES) $(CFG_BOOT)\n+%.d: %.rc $(MKFILES) $(CFG_BOOT)\n \t@$(call CFG_ECHO, dep: $<)\n \t$(BOOT) -rdeps $< $(CFG_PATH_MUNGE) >$@\n \n-%.d.tmp: %.rs $(MKFILES) $(CFG_BOOT)\n+%.d: %.rs $(MKFILES) $(CFG_BOOT)\n \t@$(call CFG_ECHO, dep: $<)\n \t$(BOOT) -rdeps $< $(CFG_PATH_MUNGE) >$@\n \n-%.d: %.d.tmp\n-\t$(CFG_QUIET)mv $< $@\n-\n ifneq ($(MAKECMDGOALS),clean)\n -include $(CRATE_DEPFILES)\n endif"}]}