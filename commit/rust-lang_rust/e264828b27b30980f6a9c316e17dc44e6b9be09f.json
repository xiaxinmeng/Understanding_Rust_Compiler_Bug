{"sha": "e264828b27b30980f6a9c316e17dc44e6b9be09f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUyNjQ4MjhiMjdiMzA5ODBmNmE5YzMxNmUxN2RjNDRlNmI5YmUwOWY=", "commit": {"author": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-08-23T03:39:04Z"}, "committer": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-08-25T20:41:39Z"}, "message": "Refactor away `AttributeMethods`.", "tree": {"sha": "5103b9790bd9579024135778574ca9d3cc7ba3fd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5103b9790bd9579024135778574ca9d3cc7ba3fd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e264828b27b30980f6a9c316e17dc44e6b9be09f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e264828b27b30980f6a9c316e17dc44e6b9be09f", "html_url": "https://github.com/rust-lang/rust/commit/e264828b27b30980f6a9c316e17dc44e6b9be09f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e264828b27b30980f6a9c316e17dc44e6b9be09f/comments", "author": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4eb08bb2ab43f0ad80071469771381a4dd03603d", "url": "https://api.github.com/repos/rust-lang/rust/commits/4eb08bb2ab43f0ad80071469771381a4dd03603d", "html_url": "https://github.com/rust-lang/rust/commit/4eb08bb2ab43f0ad80071469771381a4dd03603d"}], "stats": {"total": 22, "additions": 7, "deletions": 15}, "files": [{"sha": "b8c5ed51eabaf0986323d1193278c737a65cdea4", "filename": "src/librustc/traits/error_reporting.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs?ref=e264828b27b30980f6a9c316e17dc44e6b9be09f", "patch": "@@ -37,7 +37,7 @@ use util::nodemap::{FnvHashMap, FnvHashSet};\n use std::cmp;\n use std::fmt;\n use syntax::ast;\n-use syntax::attr::{AttributeMethods, AttrMetaMethods};\n+use syntax::attr::AttrMetaMethods;\n use syntax_pos::Span;\n use errors::DiagnosticBuilder;\n "}, {"sha": "b14c20ae8d46e84b54ebc54a19778b01031a373e", "filename": "src/librustc_incremental/calculate_svh/mod.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibrustc_incremental%2Fcalculate_svh%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibrustc_incremental%2Fcalculate_svh%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_incremental%2Fcalculate_svh%2Fmod.rs?ref=e264828b27b30980f6a9c316e17dc44e6b9be09f", "patch": "@@ -28,7 +28,6 @@\n //! at the beginning.\n \n use syntax::ast;\n-use syntax::attr::AttributeMethods;\n use std::hash::{Hash, SipHasher, Hasher};\n use rustc::dep_graph::DepNode;\n use rustc::hir;"}, {"sha": "6ab53b75f502830284fb748625b3b347e085b5fa", "filename": "src/librustc_lint/builtin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibrustc_lint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibrustc_lint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Fbuiltin.rs?ref=e264828b27b30980f6a9c316e17dc44e6b9be09f", "patch": "@@ -44,7 +44,7 @@ use lint::{LintPass, LateLintPass};\n use std::collections::HashSet;\n \n use syntax::{ast};\n-use syntax::attr::{self, AttrMetaMethods, AttributeMethods};\n+use syntax::attr::{self, AttrMetaMethods};\n use syntax_pos::{Span};\n \n use rustc::hir::{self, PatKind};"}, {"sha": "1f1844f9b73a1810661a2836e9a41794b1917e90", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=e264828b27b30980f6a9c316e17dc44e6b9be09f", "patch": "@@ -26,7 +26,7 @@ pub use self::Visibility::*;\n use syntax::abi::Abi;\n use syntax::ast;\n use syntax::attr;\n-use syntax::attr::{AttributeMethods, AttrMetaMethods};\n+use syntax::attr::AttrMetaMethods;\n use syntax::codemap::Spanned;\n use syntax::parse::token::{self, InternedString, keywords};\n use syntax::ptr::P;"}, {"sha": "f8fecd5fda02f2c4e9ca5ccf080340d9d01730bf", "filename": "src/libsyntax/attr.rs", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibsyntax%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibsyntax%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fattr.rs?ref=e264828b27b30980f6a9c316e17dc44e6b9be09f", "patch": "@@ -267,23 +267,16 @@ impl AttrMetaMethods for P<MetaItem> {\n     fn span(&self) -> Span { (**self).span() }\n }\n \n-\n-pub trait AttributeMethods {\n-    fn meta(&self) -> &MetaItem;\n-    fn with_desugared_doc<T, F>(&self, f: F) -> T where\n-        F: FnOnce(&Attribute) -> T;\n-}\n-\n-impl AttributeMethods for Attribute {\n+impl Attribute {\n     /// Extract the MetaItem from inside this Attribute.\n-    fn meta(&self) -> &MetaItem {\n+    pub fn meta(&self) -> &MetaItem {\n         &self.node.value\n     }\n \n     /// Convert self to a normal #[doc=\"foo\"] comment, if it is a\n     /// comment like `///` or `/** */`. (Returns self unchanged for\n     /// non-sugared doc attributes.)\n-    fn with_desugared_doc<T, F>(&self, f: F) -> T where\n+    pub fn with_desugared_doc<T, F>(&self, f: F) -> T where\n         F: FnOnce(&Attribute) -> T,\n     {\n         if self.node.is_sugared_doc {"}, {"sha": "0caf9ae0d78ddd87bfa20d09269aeadaf99444d0", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e264828b27b30980f6a9c316e17dc44e6b9be09f/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=e264828b27b30980f6a9c316e17dc44e6b9be09f", "patch": "@@ -16,7 +16,7 @@ use ast::{SelfKind, RegionTyParamBound, TraitTyParamBound, TraitBoundModifier};\n use ast::Attribute;\n use util::parser::AssocOp;\n use attr;\n-use attr::{AttrMetaMethods, AttributeMethods};\n+use attr::AttrMetaMethods;\n use codemap::{self, CodeMap};\n use syntax_pos::{self, BytePos};\n use errors;"}]}