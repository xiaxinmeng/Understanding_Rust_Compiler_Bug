{"sha": "9e30e57eeb6218124ca9de085074ff5af95ef4f5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjllMzBlNTdlZWI2MjE4MTI0Y2E5ZGUwODUwNzRmZjVhZjk1ZWY0ZjU=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2021-04-01T00:41:44Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-04-01T00:41:44Z"}, "message": "Rollup merge of #83015 - hyd-dev:test-79825-81555, r=Aaron1011\n\nAdd regression tests for #79825 and #81555\n\nCloses #79825.\nCloses #81555.\n\n`@rustbot` label A-proc-macros T-compiler", "tree": {"sha": "67d99d00e0d8a849c7f957e3884dc70a2f84c7e9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/67d99d00e0d8a849c7f957e3884dc70a2f84c7e9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9e30e57eeb6218124ca9de085074ff5af95ef4f5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgZRbICRBK7hj4Ov3rIwAAdHIIAKfc9UDCBIuUBD7EiZaTBTjO\nZd7TqmoibxCZlNiefbL0N++kqxa/Dk91hK8XMx+kpdjmrYaI66JtVcAJePLh2/yR\nwwv5H0Cy9X1Vg4/EFPYILKM5ETaSACw5+CvGJS5tBv+nt8qMbqSXTEC7HlhD6dG1\nBN5mQQ+Jdysoy6O2UNVfMgPQSXG7mayJk5jI6MC8985gIXGGSuI4BFbW62H/msma\nrZvY59viUkY1y4xvx9aL5uv5Q+4zRbuNyizm1ye786KUepJjC0HXH/IhIJSqkD0c\nAFQTcufT3hEaKY97JiXEuyuEqRGljK2gnq25pRHbfSa8SqCe1pP/h3wyAE5S61M=\n=py9G\n-----END PGP SIGNATURE-----\n", "payload": "tree 67d99d00e0d8a849c7f957e3884dc70a2f84c7e9\nparent 4fdac23f3171e2f8864d359a21da600dd3faafc9\nparent c8b2c86b2eaa2d98add7c13e6c9c5df11ca34549\nauthor Dylan DPC <dylan.dpc@gmail.com> 1617237704 +0200\ncommitter GitHub <noreply@github.com> 1617237704 +0200\n\nRollup merge of #83015 - hyd-dev:test-79825-81555, r=Aaron1011\n\nAdd regression tests for #79825 and #81555\n\nCloses #79825.\nCloses #81555.\n\n`@rustbot` label A-proc-macros T-compiler\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9e30e57eeb6218124ca9de085074ff5af95ef4f5", "html_url": "https://github.com/rust-lang/rust/commit/9e30e57eeb6218124ca9de085074ff5af95ef4f5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9e30e57eeb6218124ca9de085074ff5af95ef4f5/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4fdac23f3171e2f8864d359a21da600dd3faafc9", "url": "https://api.github.com/repos/rust-lang/rust/commits/4fdac23f3171e2f8864d359a21da600dd3faafc9", "html_url": "https://github.com/rust-lang/rust/commit/4fdac23f3171e2f8864d359a21da600dd3faafc9"}, {"sha": "c8b2c86b2eaa2d98add7c13e6c9c5df11ca34549", "url": "https://api.github.com/repos/rust-lang/rust/commits/c8b2c86b2eaa2d98add7c13e6c9c5df11ca34549", "html_url": "https://github.com/rust-lang/rust/commit/c8b2c86b2eaa2d98add7c13e6c9c5df11ca34549"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "930891b1d43f9a4b3459d73ebf06a9a5fa643592", "filename": "src/test/ui/proc-macro/auxiliary/issue-79825.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9e30e57eeb6218124ca9de085074ff5af95ef4f5/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fissue-79825.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e30e57eeb6218124ca9de085074ff5af95ef4f5/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fissue-79825.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fissue-79825.rs?ref=9e30e57eeb6218124ca9de085074ff5af95ef4f5", "patch": "@@ -0,0 +1,14 @@\n+// force-host\n+// no-prefer-dynamic\n+#![crate_type = \"proc-macro\"]\n+\n+extern crate proc_macro;\n+\n+use proc_macro::TokenStream;\n+\n+#[proc_macro_attribute]\n+pub fn assert_input(args: TokenStream, input: TokenStream) -> TokenStream {\n+    assert_eq!(input.to_string(), \"trait Alias = Sized ;\");\n+    assert!(args.is_empty());\n+    TokenStream::new()\n+}"}, {"sha": "f628469ce3a62ff88becb4de73fafdd42d380a75", "filename": "src/test/ui/proc-macro/issue-79825.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/9e30e57eeb6218124ca9de085074ff5af95ef4f5/src%2Ftest%2Fui%2Fproc-macro%2Fissue-79825.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e30e57eeb6218124ca9de085074ff5af95ef4f5/src%2Ftest%2Fui%2Fproc-macro%2Fissue-79825.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fissue-79825.rs?ref=9e30e57eeb6218124ca9de085074ff5af95ef4f5", "patch": "@@ -0,0 +1,10 @@\n+// check-pass\n+// aux-build:issue-79825.rs\n+#![feature(trait_alias)]\n+\n+extern crate issue_79825;\n+\n+#[issue_79825::assert_input]\n+trait Alias = Sized;\n+\n+fn main() {}"}, {"sha": "693f1f7dc39ff23c6e5ac8a7825ed7eda75fba28", "filename": "src/test/ui/proc-macro/issue-81555.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/9e30e57eeb6218124ca9de085074ff5af95ef4f5/src%2Ftest%2Fui%2Fproc-macro%2Fissue-81555.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e30e57eeb6218124ca9de085074ff5af95ef4f5/src%2Ftest%2Fui%2Fproc-macro%2Fissue-81555.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fissue-81555.rs?ref=9e30e57eeb6218124ca9de085074ff5af95ef4f5", "patch": "@@ -0,0 +1,15 @@\n+// check-pass\n+// aux-build:test-macros.rs\n+#![feature(stmt_expr_attributes, proc_macro_hygiene)]\n+\n+extern crate test_macros;\n+\n+use test_macros::identity_attr;\n+\n+#[identity_attr]\n+fn main() {\n+    let _x;\n+    let y = ();\n+    #[identity_attr]\n+    _x = y;\n+}"}]}