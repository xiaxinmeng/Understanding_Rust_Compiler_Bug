{"sha": "56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU2YTFlZThmODRlNGFhMmI5YTQ1ZmUzZmE3NDI1YWU4YzhlNjY0OWE=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2013-05-13T16:23:32Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2013-05-13T16:23:32Z"}, "message": "librustdoc: Remove old-style extern mods from rustdoc tests.", "tree": {"sha": "9148f7b5b8e890f7ca5979c82fb8725a8aaa6c42", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9148f7b5b8e890f7ca5979c82fb8725a8aaa6c42"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a", "comment_count": 4, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a", "html_url": "https://github.com/rust-lang/rust/commit/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "58a37a1f485a738f6802b42dd39437618b18bbae", "url": "https://api.github.com/repos/rust-lang/rust/commits/58a37a1f485a738f6802b42dd39437618b18bbae", "html_url": "https://github.com/rust-lang/rust/commit/58a37a1f485a738f6802b42dd39437618b18bbae"}], "stats": {"total": 34, "additions": 5, "deletions": 29}, "files": [{"sha": "24bfa62305a947cc7f627c4c27838e0cd629b8b4", "filename": "src/librustdoc/markdown_index_pass.rs", "status": "modified", "additions": 1, "deletions": 15, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a/src%2Flibrustdoc%2Fmarkdown_index_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a/src%2Flibrustdoc%2Fmarkdown_index_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fmarkdown_index_pass.rs?ref=56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a", "patch": "@@ -252,20 +252,6 @@ mod test {\n         });\n     }\n \n-    #[test]\n-    fn should_index_foreign_mod_pages() {\n-        let doc = mk_doc(\n-            config::DocPerMod,\n-            ~\"extern mod a { }\"\n-        );\n-        assert!((&doc.cratemod().index).get().entries[0] == doc::IndexEntry {\n-            kind: ~\"Foreign module\",\n-            name: ~\"a\",\n-            brief: None,\n-            link: ~\"a.html\"\n-        });\n-    }\n-\n     #[test]\n     fn should_add_brief_desc_to_index() {\n         let doc = mk_doc(\n@@ -280,7 +266,7 @@ mod test {\n     fn should_index_foreign_mod_contents() {\n         let doc = mk_doc(\n             config::DocPerCrate,\n-            ~\"extern mod a { fn b(); }\"\n+            ~\"extern { fn b(); }\"\n         );\n         assert!((&doc.cratemod().nmods()[0].index).get().entries[0]\n                 == doc::IndexEntry {"}, {"sha": "65171c30a523d35870a2e6c1cea07627e82db8a6", "filename": "src/librustdoc/markdown_pass.rs", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a/src%2Flibrustdoc%2Fmarkdown_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a/src%2Flibrustdoc%2Fmarkdown_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fmarkdown_pass.rs?ref=56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a", "patch": "@@ -702,31 +702,24 @@ mod test {\n \n     #[test]\n     fn should_write_index_for_foreign_mods() {\n-        let markdown = render(~\"extern mod a { fn a(); }\");\n+        let markdown = render(~\"extern { fn a(); }\");\n         assert!(str::contains(\n             markdown,\n             ~\"\\n\\n* [Function `a`](#function-a)\\n\\n\"\n         ));\n     }\n \n-    #[test]\n-    fn should_write_foreign_mods() {\n-        let markdown = render(~\"#[doc = \\\"test\\\"] extern mod a { }\");\n-        assert!(str::contains(markdown, ~\"Foreign module `a`\"));\n-        assert!(str::contains(markdown, ~\"test\"));\n-    }\n-\n     #[test]\n     fn should_write_foreign_fns() {\n         let markdown = render(\n-            ~\"extern mod a { #[doc = \\\"test\\\"] fn a(); }\");\n+            ~\"extern { #[doc = \\\"test\\\"] fn a(); }\");\n         assert!(str::contains(markdown, ~\"test\"));\n     }\n \n     #[test]\n     fn should_write_foreign_fn_headers() {\n         let markdown = render(\n-            ~\"extern mod a { #[doc = \\\"test\\\"] fn a(); }\");\n+            ~\"extern { #[doc = \\\"test\\\"] fn a(); }\");\n         assert!(str::contains(markdown, ~\"## Function `a`\"));\n     }\n "}, {"sha": "158d407fff64fd2c253f679dbd44c6395a131311", "filename": "src/librustdoc/sort_item_type_pass.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a/src%2Flibrustdoc%2Fsort_item_type_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a/src%2Flibrustdoc%2Fsort_item_type_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fsort_item_type_pass.rs?ref=56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a", "patch": "@@ -43,8 +43,6 @@ fn test() {\n \n     let source =\n         ~\"mod imod { } \\\n-         extern mod inmod {\n-         } \\\n          static iconst: int = 0; \\\n          fn ifn() { } \\\n          enum ienum { ivar } \\\n@@ -63,6 +61,5 @@ fn test() {\n         assert!(doc.cratemod().items[5].name() == ~\"__extensions__\");\n         assert!(doc.cratemod().items[6].name() == ~\"ifn\");\n         assert!(doc.cratemod().items[7].name() == ~\"imod\");\n-        assert!(doc.cratemod().items[8].name() == ~\"inmod\");\n     }\n }"}, {"sha": "9006543a4dee445a74796f438ae1c2ed22b9497c", "filename": "src/librustdoc/tystr_pass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a/src%2Flibrustdoc%2Ftystr_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a/src%2Flibrustdoc%2Ftystr_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Ftystr_pass.rs?ref=56a1ee8f84e4aa2b9a45fe3fa7425ae8c8e6649a", "patch": "@@ -365,7 +365,7 @@ mod test {\n \n     #[test]\n     fn should_add_foreign_fn_sig() {\n-        let doc = mk_doc(~\"extern mod a { fn a<T>() -> int; }\");\n+        let doc = mk_doc(~\"extern { fn a<T>() -> int; }\");\n         assert!(doc.cratemod().nmods()[0].fns[0].sig ==\n                 Some(~\"fn a<T>() -> int\"));\n     }"}]}