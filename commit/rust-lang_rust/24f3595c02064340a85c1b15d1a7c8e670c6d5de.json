{"sha": "24f3595c02064340a85c1b15d1a7c8e670c6d5de", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI0ZjM1OTVjMDIwNjQzNDBhODVjMWIxNWQxYTdjOGU2NzBjNmQ1ZGU=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-01-30T21:00:40Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-02-01T14:43:57Z"}, "message": "Remove unnecessary is_local() check", "tree": {"sha": "01b8e407fb1d33bbf0f17e03bdb218ed9df250f4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/01b8e407fb1d33bbf0f17e03bdb218ed9df250f4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/24f3595c02064340a85c1b15d1a7c8e670c6d5de", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAlxUWy0ACgkQtAh+UQ6Y\nsWS+CBAAqmLSJU4qFgO0aKapoKd0VgxKFZqzzxFqziRVJPcPSXFCcKuXBwePgA61\n09s6UGqVqV97ETHuhd1QmVyAeTTp1fjCarIyh0KdaZkAvGWJVVdZVqiD2+lh7xJy\nqy5zqZX8DiQnoPlwrwQlUdtOV2ybLty/7DAUL05qMagPjasnlzAvG5YKmKI93t2a\nGiAQlIp1dKddcetibEyXJT3vJTANifrwN8wEZ1b21K/fvCNBEcnuAb9590Kx65Sp\nZCOXxEph2o3nLePxOd7EWUPJw3V3h/Kkz3XfWf9Ke9C11MKNeFMMEqwwm74rdEqf\nuBEz9kuMQR+G3WFBVWIqgDz/3arWnidRfxWjFJC+cEQKjvxaBH1N+M5BcM1s3fhs\nsJux6dUV+xLLUxIPo/B5SSY57OiiHeMtbHPv+6wAshZ6z05DSoGY5KIkHZuSksVb\npOCvKI023PijXsiJi1cWYZXUqXzdrOi2oS6bglwHY3gNlHYKFEuO41o7Wb/MRBV1\niHHuUi5OpNdmD17YRzvUSIRPmRe3ISdUZrDxJMYz5m9+aCiEN/Rfn2fRGFvY++wm\n8BTCiXsMIkRfZIKiI3JR4y95nhva+hN6dPbHFCrx40gOkHDrRHUNHPLWAxS77Wit\nXE5uZ42f1pgcUOlpVM1lspEDV1vNaXyd/ZCnIzf9isvqJ+5ztvs=\n=1g3J\n-----END PGP SIGNATURE-----", "payload": "tree 01b8e407fb1d33bbf0f17e03bdb218ed9df250f4\nparent a05bfc6aeb8e5be70d15b3296cd4ba68d3578e01\nauthor Aaron Hill <aa1ronham@gmail.com> 1548882040 -0500\ncommitter Aaron Hill <aa1ronham@gmail.com> 1549032237 -0500\n\nRemove unnecessary is_local() check\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/24f3595c02064340a85c1b15d1a7c8e670c6d5de", "html_url": "https://github.com/rust-lang/rust/commit/24f3595c02064340a85c1b15d1a7c8e670c6d5de", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/24f3595c02064340a85c1b15d1a7c8e670c6d5de/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a05bfc6aeb8e5be70d15b3296cd4ba68d3578e01", "url": "https://api.github.com/repos/rust-lang/rust/commits/a05bfc6aeb8e5be70d15b3296cd4ba68d3578e01", "html_url": "https://github.com/rust-lang/rust/commit/a05bfc6aeb8e5be70d15b3296cd4ba68d3578e01"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "3d67aeff00e8a99bac16fd04efb180b9b0e008ce", "filename": "src/librustc_privacy/lib.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/24f3595c02064340a85c1b15d1a7c8e670c6d5de/src%2Flibrustc_privacy%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/24f3595c02064340a85c1b15d1a7c8e670c6d5de/src%2Flibrustc_privacy%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_privacy%2Flib.rs?ref=24f3595c02064340a85c1b15d1a7c8e670c6d5de", "patch": "@@ -1536,14 +1536,13 @@ impl<'a, 'tcx: 'a> SearchInterfaceForPrivateItemsVisitor<'a, 'tcx> {\n     /// An item is 'leaked' from a private dependency if all\n     /// of the following are true:\n     /// 1. It's contained within a public type\n-    /// 2. It does not come from a crate marked as public\n+    /// 2. It comes from a private crate\n     fn leaks_private_dep(&self, item_id: DefId) -> bool {\n         // Don't do any leak checking if no private crates were specified\n         if self.private_crates.is_empty() {\n             return false\n         }\n         let ret = self.required_visibility == ty::Visibility::Public &&\n-            !item_id.is_local() &&\n             self.private_crates.contains(&item_id.krate);\n \n "}]}