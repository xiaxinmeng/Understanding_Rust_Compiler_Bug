{"sha": "42852d7857d2955f19ec333bec1ed107964db200", "node_id": "C_kwDOAAsO6NoAKDQyODUyZDc4NTdkMjk1NWYxOWVjMzMzYmVjMWVkMTA3OTY0ZGIyMDA", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-01-16T08:12:23Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-01-16T08:12:23Z"}, "message": "Auto merge of #92740 - cuviper:update-rayons, r=Mark-Simulacrum\n\nUpdate rayon and rustc-rayon\n\nThis updates rayon for various tools and rustc-rayon for the compiler's parallel mode.\n\n- rayon v1.3.1 -> v1.5.1\n- rayon-core v1.7.1 -> v1.9.1\n- rustc-rayon v0.3.1 -> v0.3.2\n- rustc-rayon-core v0.3.1 -> v0.3.2\n\n... and indirectly, this updates all of crossbeam-* to their latest versions.\n\nFixes #92677 by removing crossbeam-queue, but there's still a lingering question about how tidy discovers \"runtime\" dependencies. None of this is truly in the standard library's dependency tree at all.", "tree": {"sha": "ae7aae62e98c28f9940dd510dc3a6b7575523dea", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ae7aae62e98c28f9940dd510dc3a6b7575523dea"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/42852d7857d2955f19ec333bec1ed107964db200", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/42852d7857d2955f19ec333bec1ed107964db200", "html_url": "https://github.com/rust-lang/rust/commit/42852d7857d2955f19ec333bec1ed107964db200", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/42852d7857d2955f19ec333bec1ed107964db200/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "26c06cf8e27e5fa06b4894f14588c187510bae47", "url": "https://api.github.com/repos/rust-lang/rust/commits/26c06cf8e27e5fa06b4894f14588c187510bae47", "html_url": "https://github.com/rust-lang/rust/commit/26c06cf8e27e5fa06b4894f14588c187510bae47"}, {"sha": "f3b8812f2473b49453e79c3f57acf4fa4c2ca227", "url": "https://api.github.com/repos/rust-lang/rust/commits/f3b8812f2473b49453e79c3f57acf4fa4c2ca227", "html_url": "https://github.com/rust-lang/rust/commit/f3b8812f2473b49453e79c3f57acf4fa4c2ca227"}], "stats": {"total": 141, "additions": 53, "deletions": 88}, "files": [{"sha": "8565c075036f237bb648900a03cf913f0035f3df", "filename": "Cargo.lock", "status": "modified", "additions": 31, "deletions": 63, "changes": 94, "blob_url": "https://github.com/rust-lang/rust/blob/42852d7857d2955f19ec333bec1ed107964db200/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/42852d7857d2955f19ec333bec1ed107964db200/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=42852d7857d2955f19ec333bec1ed107964db200", "patch": "@@ -337,7 +337,7 @@ dependencies = [\n  \"cargo-util\",\n  \"clap 3.0.6\",\n  \"crates-io\",\n- \"crossbeam-utils 0.8.3\",\n+ \"crossbeam-utils\",\n  \"curl\",\n  \"curl-sys\",\n  \"env_logger 0.9.0\",\n@@ -857,69 +857,44 @@ dependencies = [\n \n [[package]]\n name = \"crossbeam-channel\"\n-version = \"0.5.0\"\n+version = \"0.5.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"dca26ee1f8d361640700bde38b2c37d8c22b3ce2d360e1fc1c74ea4b0aa7d775\"\n+checksum = \"e54ea8bc3fb1ee042f5aace6e3c6e025d3874866da222930f70ce62aceba0bfa\"\n dependencies = [\n  \"cfg-if 1.0.0\",\n- \"crossbeam-utils 0.8.3\",\n+ \"crossbeam-utils\",\n ]\n \n [[package]]\n name = \"crossbeam-deque\"\n-version = \"0.7.4\"\n+version = \"0.8.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c20ff29ded3204c5106278a81a38f4b482636ed4fa1e6cfbeef193291beb29ed\"\n+checksum = \"6455c0ca19f0d2fbf751b908d5c55c1f5cbc65e03c4225427254b46890bdde1e\"\n dependencies = [\n+ \"cfg-if 1.0.0\",\n  \"crossbeam-epoch\",\n- \"crossbeam-utils 0.7.2\",\n- \"maybe-uninit\",\n+ \"crossbeam-utils\",\n ]\n \n [[package]]\n name = \"crossbeam-epoch\"\n-version = \"0.8.2\"\n+version = \"0.9.6\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"058ed274caafc1f60c4997b5fc07bf7dc7cca454af7c6e81edffe5f33f70dace\"\n+checksum = \"97242a70df9b89a65d0b6df3c4bf5b9ce03c5b7309019777fbde37e7537f8762\"\n dependencies = [\n- \"autocfg\",\n- \"cfg-if 0.1.10\",\n- \"crossbeam-utils 0.7.2\",\n+ \"cfg-if 1.0.0\",\n+ \"crossbeam-utils\",\n  \"lazy_static\",\n- \"maybe-uninit\",\n  \"memoffset\",\n  \"scopeguard\",\n ]\n \n-[[package]]\n-name = \"crossbeam-queue\"\n-version = \"0.2.3\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"774ba60a54c213d409d5353bda12d49cd68d14e45036a285234c8d6f91f92570\"\n-dependencies = [\n- \"cfg-if 0.1.10\",\n- \"crossbeam-utils 0.7.2\",\n- \"maybe-uninit\",\n-]\n-\n-[[package]]\n-name = \"crossbeam-utils\"\n-version = \"0.7.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c3c7c73a2d1e9fc0886a08b93e98eb643461230d5f1925e4036204d5f2e261a8\"\n-dependencies = [\n- \"autocfg\",\n- \"cfg-if 0.1.10\",\n- \"lazy_static\",\n-]\n-\n [[package]]\n name = \"crossbeam-utils\"\n-version = \"0.8.3\"\n+version = \"0.8.6\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e7e9d99fa91428effe99c5c6d4634cdeba32b8cf784fc428a2a687f61a952c49\"\n+checksum = \"cfcae03edb34f947e64acdb1c33ec169824e20657e9ecb61cef6c8c74dcb8120\"\n dependencies = [\n- \"autocfg\",\n  \"cfg-if 1.0.0\",\n  \"lazy_static\",\n ]\n@@ -1725,7 +1700,7 @@ version = \"0.4.17\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"b287fb45c60bb826a0dc68ff08742b9d88a2fea13d6e0c286b3172065aaf878c\"\n dependencies = [\n- \"crossbeam-utils 0.8.3\",\n+ \"crossbeam-utils\",\n  \"globset\",\n  \"lazy_static\",\n  \"log\",\n@@ -2195,12 +2170,6 @@ version = \"0.1.8\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"7ffc5c5338469d4d3ea17d269fa8ea3512ad247247c30bd2df69e68309ed0a08\"\n \n-[[package]]\n-name = \"maybe-uninit\"\n-version = \"2.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"60302e4db3a61da70c0cb7991976248362f30319e88850c487b9b95bbf059e00\"\n-\n [[package]]\n name = \"md-5\"\n version = \"0.9.1\"\n@@ -2289,9 +2258,9 @@ dependencies = [\n \n [[package]]\n name = \"memoffset\"\n-version = \"0.5.5\"\n+version = \"0.6.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c198b026e1bbf08a937e94c6c60f9ec4a2267f5b0d2eec9c1b21b061ce2be55f\"\n+checksum = \"5aa361d4faea93603064a027415f07bd8e1d5c88c9fbf68bf56a285428fd79ce\"\n dependencies = [\n  \"autocfg\",\n ]\n@@ -3101,9 +3070,9 @@ dependencies = [\n \n [[package]]\n name = \"rayon\"\n-version = \"1.3.1\"\n+version = \"1.5.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"62f02856753d04e03e26929f820d0a0a337ebe71f849801eea335d464b349080\"\n+checksum = \"c06aca804d41dbc8ba42dfd964f0d01334eceb64314b9ecf7c5fad5188a06d90\"\n dependencies = [\n  \"autocfg\",\n  \"crossbeam-deque\",\n@@ -3113,13 +3082,13 @@ dependencies = [\n \n [[package]]\n name = \"rayon-core\"\n-version = \"1.7.1\"\n+version = \"1.9.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e92e15d89083484e11353891f1af602cc661426deb9564c298b270c726973280\"\n+checksum = \"d78120e2c850279833f1dd3582f730c4ab53ed95aeaaaa862a2a5c71b1656d8e\"\n dependencies = [\n+ \"crossbeam-channel\",\n  \"crossbeam-deque\",\n- \"crossbeam-queue\",\n- \"crossbeam-utils 0.7.2\",\n+ \"crossbeam-utils\",\n  \"lazy_static\",\n  \"num_cpus\",\n ]\n@@ -3372,7 +3341,7 @@ dependencies = [\n  \"arrayvec\",\n  \"bitflags\",\n  \"cfg-if 0.1.10\",\n- \"crossbeam-utils 0.8.3\",\n+ \"crossbeam-utils\",\n  \"ena\",\n  \"indexmap\",\n  \"jobserver\",\n@@ -3599,9 +3568,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-rayon\"\n-version = \"0.3.1\"\n+version = \"0.3.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"ed7d6a39f8bfd4421ce720918234d1e672b83824c91345b47c93746839cf1629\"\n+checksum = \"9974ab223660e61c1b4e7b43b827379df286736ca988308ce7e16f59f2d89246\"\n dependencies = [\n  \"crossbeam-deque\",\n  \"either\",\n@@ -3610,13 +3579,12 @@ dependencies = [\n \n [[package]]\n name = \"rustc-rayon-core\"\n-version = \"0.3.1\"\n+version = \"0.3.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e94187d9ea3e8c38fafdbc38acb94eafa7ce155867f6ccb13830466a0d0db8c6\"\n+checksum = \"564bfd27be8db888d0fa76aa4335e7851aaed0c2c11ad1e93aeb9349f6b88500\"\n dependencies = [\n  \"crossbeam-deque\",\n- \"crossbeam-queue\",\n- \"crossbeam-utils 0.7.2\",\n+ \"crossbeam-utils\",\n  \"lazy_static\",\n  \"num_cpus\",\n ]\n@@ -3654,7 +3622,7 @@ version = \"1.0.0\"\n dependencies = [\n  \"bstr\",\n  \"byteorder\",\n- \"crossbeam-utils 0.8.3\",\n+ \"crossbeam-utils\",\n  \"libc\",\n  \"libz-sys\",\n  \"proc-macro2\",\n@@ -5417,7 +5385,7 @@ name = \"tidy\"\n version = \"0.1.0\"\n dependencies = [\n  \"cargo_metadata 0.12.0\",\n- \"crossbeam-utils 0.8.3\",\n+ \"crossbeam-utils\",\n  \"lazy_static\",\n  \"regex\",\n  \"walkdir\","}, {"sha": "2bb9d6c189314082a6ea56319eb981f11f41a362", "filename": "compiler/rustc_data_structures/Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/42852d7857d2955f19ec333bec1ed107964db200/compiler%2Frustc_data_structures%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/42852d7857d2955f19ec333bec1ed107964db200/compiler%2Frustc_data_structures%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_data_structures%2FCargo.toml?ref=42852d7857d2955f19ec333bec1ed107964db200", "patch": "@@ -17,8 +17,8 @@ rustc_macros = { path = \"../rustc_macros\" }\n rustc_graphviz = { path = \"../rustc_graphviz\" }\n cfg-if = \"0.1.2\"\n stable_deref_trait = \"1.0.0\"\n-rayon = { version = \"0.3.1\", package = \"rustc-rayon\" }\n-rayon-core = { version = \"0.3.1\", package = \"rustc-rayon-core\" }\n+rayon = { version = \"0.3.2\", package = \"rustc-rayon\" }\n+rayon-core = { version = \"0.3.2\", package = \"rustc-rayon-core\" }\n rustc-hash = \"1.1.0\"\n smallvec = { version = \"1.6.1\", features = [\"union\", \"may_dangle\"] }\n rustc_index = { path = \"../rustc_index\", package = \"rustc_index\" }"}, {"sha": "e31119c12921df6a02824c56420198905764d87c", "filename": "compiler/rustc_interface/Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/42852d7857d2955f19ec333bec1ed107964db200/compiler%2Frustc_interface%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/42852d7857d2955f19ec333bec1ed107964db200/compiler%2Frustc_interface%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_interface%2FCargo.toml?ref=42852d7857d2955f19ec333bec1ed107964db200", "patch": "@@ -10,8 +10,8 @@ doctest = false\n libc = \"0.2\"\n libloading = \"0.7.1\"\n tracing = \"0.1\"\n-rustc-rayon-core = \"0.3.1\"\n-rayon = { version = \"0.3.1\", package = \"rustc-rayon\" }\n+rustc-rayon-core = \"0.3.2\"\n+rayon = { version = \"0.3.2\", package = \"rustc-rayon\" }\n smallvec = { version = \"1.6.1\", features = [\"union\", \"may_dangle\"] }\n rustc_ast = { path = \"../rustc_ast\" }\n rustc_attr = { path = \"../rustc_attr\" }"}, {"sha": "30664784ed8f8540a0a91e59ddac373a5f4f5d84", "filename": "compiler/rustc_middle/Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/42852d7857d2955f19ec333bec1ed107964db200/compiler%2Frustc_middle%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/42852d7857d2955f19ec333bec1ed107964db200/compiler%2Frustc_middle%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2FCargo.toml?ref=42852d7857d2955f19ec333bec1ed107964db200", "patch": "@@ -12,8 +12,8 @@ bitflags = \"1.2.1\"\n either = \"1.5.0\"\n gsgdt = \"0.1.2\"\n tracing = \"0.1\"\n-rustc-rayon = \"0.3.1\"\n-rustc-rayon-core = \"0.3.1\"\n+rustc-rayon = \"0.3.2\"\n+rustc-rayon-core = \"0.3.2\"\n polonius-engine = \"0.13.0\"\n rustc_apfloat = { path = \"../rustc_apfloat\" }\n rustc_attr = { path = \"../rustc_attr\" }"}, {"sha": "f1899a6fb2b07488338b77e27a86757d01775b72", "filename": "compiler/rustc_query_impl/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/42852d7857d2955f19ec333bec1ed107964db200/compiler%2Frustc_query_impl%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/42852d7857d2955f19ec333bec1ed107964db200/compiler%2Frustc_query_impl%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_query_impl%2FCargo.toml?ref=42852d7857d2955f19ec333bec1ed107964db200", "patch": "@@ -8,7 +8,7 @@ doctest = false\n \n [dependencies]\n measureme = \"10.0.0\"\n-rustc-rayon-core = \"0.3.1\"\n+rustc-rayon-core = \"0.3.2\"\n rustc_ast = { path = \"../rustc_ast\" }\n rustc_data_structures = { path = \"../rustc_data_structures\" }\n rustc_errors = { path = \"../rustc_errors\" }"}, {"sha": "79f791eb7545f4075562711eb415b88d3325b628", "filename": "compiler/rustc_query_system/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/42852d7857d2955f19ec333bec1ed107964db200/compiler%2Frustc_query_system%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/42852d7857d2955f19ec333bec1ed107964db200/compiler%2Frustc_query_system%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_query_system%2FCargo.toml?ref=42852d7857d2955f19ec333bec1ed107964db200", "patch": "@@ -9,7 +9,7 @@ doctest = false\n [dependencies]\n rustc_arena = { path = \"../rustc_arena\" }\n tracing = \"0.1\"\n-rustc-rayon-core = \"0.3.1\"\n+rustc-rayon-core = \"0.3.2\"\n rustc_ast = { path = \"../rustc_ast\" }\n rustc_data_structures = { path = \"../rustc_data_structures\" }\n rustc_errors = { path = \"../rustc_errors\" }"}, {"sha": "bdf756df6fd79e0e4428af186fc60d4b6c9fc261", "filename": "src/librustdoc/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/42852d7857d2955f19ec333bec1ed107964db200/src%2Flibrustdoc%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/42852d7857d2955f19ec333bec1ed107964db200/src%2Flibrustdoc%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2FCargo.toml?ref=42852d7857d2955f19ec333bec1ed107964db200", "patch": "@@ -11,7 +11,7 @@ arrayvec = { version = \"0.7\", default-features = false }\n askama = { version = \"0.11\", default-features = false }\n pulldown-cmark = { version = \"0.9\", default-features = false }\n minifier = \"0.0.41\"\n-rayon = \"1.3.1\"\n+rayon = \"1.5.1\"\n serde = { version = \"1.0\", features = [\"derive\"] }\n serde_json = \"1.0\"\n smallvec = \"1.6.1\""}, {"sha": "dedafd85cfd61d3d397f60d8caf2d59d527d0346", "filename": "src/tools/build-manifest/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/42852d7857d2955f19ec333bec1ed107964db200/src%2Ftools%2Fbuild-manifest%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/42852d7857d2955f19ec333bec1ed107964db200/src%2Ftools%2Fbuild-manifest%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fbuild-manifest%2FCargo.toml?ref=42852d7857d2955f19ec333bec1ed107964db200", "patch": "@@ -11,6 +11,6 @@ anyhow = \"1.0.32\"\n flate2 = \"1.0.16\"\n tar = \"0.4.29\"\n sha2 = \"0.9.1\"\n-rayon = \"1.3.1\"\n+rayon = \"1.5.1\"\n hex = \"0.4.2\"\n num_cpus = \"1.13.0\""}, {"sha": "c694037021a5e518a69af67aed66340ab075ef0d", "filename": "src/tools/clippy/lintcheck/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/42852d7857d2955f19ec333bec1ed107964db200/src%2Ftools%2Fclippy%2Flintcheck%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/42852d7857d2955f19ec333bec1ed107964db200/src%2Ftools%2Fclippy%2Flintcheck%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Flintcheck%2FCargo.toml?ref=42852d7857d2955f19ec333bec1ed107964db200", "patch": "@@ -13,7 +13,7 @@ publish = false\n clap = \"2.33\"\n flate2 = \"1.0\"\n fs_extra = \"1.2\"\n-rayon = \"1.5\"\n+rayon = \"1.5.1\"\n serde = { version = \"1.0\", features = [\"derive\"] }\n serde_json = \"1.0\"\n tar = \"0.4\""}, {"sha": "3bdd6a29537944a057f651bf91db5536a6aca955", "filename": "src/tools/tidy/src/deps.rs", "status": "modified", "additions": 11, "deletions": 14, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/42852d7857d2955f19ec333bec1ed107964db200/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/42852d7857d2955f19ec333bec1ed107964db200/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs?ref=42852d7857d2955f19ec333bec1ed107964db200", "patch": "@@ -27,18 +27,17 @@ const LICENSES: &[&str] = &[\n /// tooling. It is _crucial_ that no exception crates be dependencies\n /// of the Rust runtime (std/test).\n const EXCEPTIONS: &[(&str, &str)] = &[\n-    (\"mdbook\", \"MPL-2.0\"),                                  // mdbook\n-    (\"openssl\", \"Apache-2.0\"),                              // cargo, mdbook\n-    (\"colored\", \"MPL-2.0\"),                                 // rustfmt\n-    (\"ordslice\", \"Apache-2.0\"),                             // rls\n-    (\"ryu\", \"Apache-2.0 OR BSL-1.0\"),                       // rls/cargo/... (because of serde)\n-    (\"bytesize\", \"Apache-2.0\"),                             // cargo\n-    (\"im-rc\", \"MPL-2.0+\"),                                  // cargo\n-    (\"sized-chunks\", \"MPL-2.0+\"),                           // cargo via im-rc\n-    (\"bitmaps\", \"MPL-2.0+\"),                                // cargo via im-rc\n-    (\"crossbeam-queue\", \"MIT/Apache-2.0 AND BSD-2-Clause\"), // rls via rayon\n-    (\"instant\", \"BSD-3-Clause\"), // rustc_driver/tracing-subscriber/parking_lot\n-    (\"snap\", \"BSD-3-Clause\"),    // rustc\n+    (\"mdbook\", \"MPL-2.0\"),            // mdbook\n+    (\"openssl\", \"Apache-2.0\"),        // cargo, mdbook\n+    (\"colored\", \"MPL-2.0\"),           // rustfmt\n+    (\"ordslice\", \"Apache-2.0\"),       // rls\n+    (\"ryu\", \"Apache-2.0 OR BSL-1.0\"), // rls/cargo/... (because of serde)\n+    (\"bytesize\", \"Apache-2.0\"),       // cargo\n+    (\"im-rc\", \"MPL-2.0+\"),            // cargo\n+    (\"sized-chunks\", \"MPL-2.0+\"),     // cargo via im-rc\n+    (\"bitmaps\", \"MPL-2.0+\"),          // cargo via im-rc\n+    (\"instant\", \"BSD-3-Clause\"),      // rustc_driver/tracing-subscriber/parking_lot\n+    (\"snap\", \"BSD-3-Clause\"),         // rustc\n     // FIXME: this dependency violates the documentation comment above:\n     (\"fortanix-sgx-abi\", \"MPL-2.0\"), // libstd but only for `sgx` target\n ];\n@@ -98,7 +97,6 @@ const PERMITTED_DEPENDENCIES: &[&str] = &[\n     \"crc32fast\",\n     \"crossbeam-deque\",\n     \"crossbeam-epoch\",\n-    \"crossbeam-queue\",\n     \"crossbeam-utils\",\n     \"cstr\",\n     \"datafrog\",\n@@ -136,7 +134,6 @@ const PERMITTED_DEPENDENCIES: &[&str] = &[\n     \"lock_api\",\n     \"log\",\n     \"matchers\",\n-    \"maybe-uninit\",\n     \"md-5\",\n     \"measureme\",\n     \"memchr\","}]}