{"sha": "83b05ef0ee05307143e2d04db401d6085f4759b9", "node_id": "C_kwDOAAsO6NoAKDgzYjA1ZWYwZWUwNTMwNzE0M2UyZDA0ZGI0MDFkNjA4NWY0NzU5Yjk", "commit": {"author": {"name": "Trevor Gross", "email": "tmgross@umich.edu", "date": "2023-01-28T22:06:30Z"}, "committer": {"name": "Trevor Gross", "email": "tmgross@umich.edu", "date": "2023-02-01T07:14:07Z"}, "message": "Stabilize feature 'cstr_from_bytes_until_nul'", "tree": {"sha": "8ef7168a683cae7b6e515d047b0f65ffecc168c3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8ef7168a683cae7b6e515d047b0f65ffecc168c3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/83b05ef0ee05307143e2d04db401d6085f4759b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/83b05ef0ee05307143e2d04db401d6085f4759b9", "html_url": "https://github.com/rust-lang/rust/commit/83b05ef0ee05307143e2d04db401d6085f4759b9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/83b05ef0ee05307143e2d04db401d6085f4759b9/comments", "author": {"login": "tgross35", "id": 13724985, "node_id": "MDQ6VXNlcjEzNzI0OTg1", "avatar_url": "https://avatars.githubusercontent.com/u/13724985?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgross35", "html_url": "https://github.com/tgross35", "followers_url": "https://api.github.com/users/tgross35/followers", "following_url": "https://api.github.com/users/tgross35/following{/other_user}", "gists_url": "https://api.github.com/users/tgross35/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgross35/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgross35/subscriptions", "organizations_url": "https://api.github.com/users/tgross35/orgs", "repos_url": "https://api.github.com/users/tgross35/repos", "events_url": "https://api.github.com/users/tgross35/events{/privacy}", "received_events_url": "https://api.github.com/users/tgross35/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tgross35", "id": 13724985, "node_id": "MDQ6VXNlcjEzNzI0OTg1", "avatar_url": "https://avatars.githubusercontent.com/u/13724985?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgross35", "html_url": "https://github.com/tgross35", "followers_url": "https://api.github.com/users/tgross35/followers", "following_url": "https://api.github.com/users/tgross35/following{/other_user}", "gists_url": "https://api.github.com/users/tgross35/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgross35/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgross35/subscriptions", "organizations_url": "https://api.github.com/users/tgross35/orgs", "repos_url": "https://api.github.com/users/tgross35/repos", "events_url": "https://api.github.com/users/tgross35/events{/privacy}", "received_events_url": "https://api.github.com/users/tgross35/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ad8e1dc2863f63c35ef3ceef3064d0851a1d2582", "url": "https://api.github.com/repos/rust-lang/rust/commits/ad8e1dc2863f63c35ef3ceef3064d0851a1d2582", "html_url": "https://github.com/rust-lang/rust/commit/ad8e1dc2863f63c35ef3ceef3064d0851a1d2582"}], "stats": {"total": 15, "additions": 5, "deletions": 10}, "files": [{"sha": "e9cc3875f683b1cf09c301775eb249ce87734920", "filename": "library/alloc/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/83b05ef0ee05307143e2d04db401d6085f4759b9/library%2Falloc%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83b05ef0ee05307143e2d04db401d6085f4759b9/library%2Falloc%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Flib.rs?ref=83b05ef0ee05307143e2d04db401d6085f4759b9", "patch": "@@ -116,7 +116,6 @@\n #![feature(const_eval_select)]\n #![feature(const_pin)]\n #![feature(const_waker)]\n-#![feature(cstr_from_bytes_until_nul)]\n #![feature(dispatch_from_dyn)]\n #![feature(error_generic_member_access)]\n #![feature(error_in_core)]"}, {"sha": "e11a5e99184cb47bdee8bdc8a9d9c92ee2319268", "filename": "library/core/src/error.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83b05ef0ee05307143e2d04db401d6085f4759b9/library%2Fcore%2Fsrc%2Ferror.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83b05ef0ee05307143e2d04db401d6085f4759b9/library%2Fcore%2Fsrc%2Ferror.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Ferror.rs?ref=83b05ef0ee05307143e2d04db401d6085f4759b9", "patch": "@@ -505,7 +505,7 @@ impl Error for crate::ffi::FromBytesWithNulError {\n     }\n }\n \n-#[unstable(feature = \"cstr_from_bytes_until_nul\", issue = \"95027\")]\n+#[stable(feature = \"cstr_from_bytes_until_nul\", since = \"CURRENT_RUSTC_VERSION\")]\n impl Error for crate::ffi::FromBytesUntilNulError {}\n \n #[unstable(feature = \"get_many_mut\", issue = \"104642\")]"}, {"sha": "288bac67f7564e89a76ffe81f66e03ceff67e76d", "filename": "library/core/src/ffi/c_str.rs", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/83b05ef0ee05307143e2d04db401d6085f4759b9/library%2Fcore%2Fsrc%2Fffi%2Fc_str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83b05ef0ee05307143e2d04db401d6085f4759b9/library%2Fcore%2Fsrc%2Fffi%2Fc_str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fffi%2Fc_str.rs?ref=83b05ef0ee05307143e2d04db401d6085f4759b9", "patch": "@@ -150,10 +150,10 @@ impl FromBytesWithNulError {\n /// This error is created by the [`CStr::from_bytes_until_nul`] method.\n ///\n #[derive(Clone, PartialEq, Eq, Debug)]\n-#[unstable(feature = \"cstr_from_bytes_until_nul\", issue = \"95027\")]\n+#[stable(feature = \"cstr_from_bytes_until_nul\", since = \"CURRENT_RUSTC_VERSION\")]\n pub struct FromBytesUntilNulError(());\n \n-#[unstable(feature = \"cstr_from_bytes_until_nul\", issue = \"95027\")]\n+#[stable(feature = \"cstr_from_bytes_until_nul\", since = \"CURRENT_RUSTC_VERSION\")]\n impl fmt::Display for FromBytesUntilNulError {\n     fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n         write!(f, \"data provided does not contain a nul\")\n@@ -306,8 +306,6 @@ impl CStr {\n     ///\n     /// # Examples\n     /// ```\n-    /// #![feature(cstr_from_bytes_until_nul)]\n-    ///\n     /// use std::ffi::CStr;\n     ///\n     /// let mut buffer = [0u8; 16];\n@@ -322,8 +320,8 @@ impl CStr {\n     /// assert_eq!(c_str.to_str().unwrap(), \"AAAAAAAA\");\n     /// ```\n     ///\n-    #[unstable(feature = \"cstr_from_bytes_until_nul\", issue = \"95027\")]\n-    #[rustc_const_unstable(feature = \"cstr_from_bytes_until_nul\", issue = \"95027\")]\n+    #[stable(feature = \"cstr_from_bytes_until_nul\", since = \"CURRENT_RUSTC_VERSION\")]\n+    #[rustc_const_unstable(feature = \"const_cstr_from_bytes_until_nul\", issue = \"95027\")]\n     pub const fn from_bytes_until_nul(bytes: &[u8]) -> Result<&CStr, FromBytesUntilNulError> {\n         let nul_pos = memchr::memchr(0, bytes);\n         match nul_pos {"}, {"sha": "cd9f74820ae9b576fbe529b0b6995ba23fcbd90f", "filename": "library/std/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/83b05ef0ee05307143e2d04db401d6085f4759b9/library%2Fstd%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83b05ef0ee05307143e2d04db401d6085f4759b9/library%2Fstd%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Flib.rs?ref=83b05ef0ee05307143e2d04db401d6085f4759b9", "patch": "@@ -278,7 +278,6 @@\n #![feature(char_error_internals)]\n #![feature(char_internals)]\n #![feature(core_intrinsics)]\n-#![feature(cstr_from_bytes_until_nul)]\n #![feature(cstr_internals)]\n #![feature(duration_constants)]\n #![feature(error_generic_member_access)]"}, {"sha": "80b8d67401ad143086b69363c11e86e51f1dae2b", "filename": "src/tools/miri/tests/pass-dep/shims/pthreads.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/83b05ef0ee05307143e2d04db401d6085f4759b9/src%2Ftools%2Fmiri%2Ftests%2Fpass-dep%2Fshims%2Fpthreads.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83b05ef0ee05307143e2d04db401d6085f4759b9/src%2Ftools%2Fmiri%2Ftests%2Fpass-dep%2Fshims%2Fpthreads.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Ftests%2Fpass-dep%2Fshims%2Fpthreads.rs?ref=83b05ef0ee05307143e2d04db401d6085f4759b9", "patch": "@@ -1,5 +1,4 @@\n //@ignore-target-windows: No libc on Windows\n-#![feature(cstr_from_bytes_until_nul)]\n use std::ffi::{CStr, CString};\n use std::thread;\n "}]}