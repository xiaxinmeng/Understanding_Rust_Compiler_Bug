{"sha": "611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYxMTA2MWI2YzMxZWM3Zjk2MDI1YjA3Y2VlNTNjZmI3ZmU4ZWUzZDk=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-04-14T06:27:03Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-04-14T07:15:12Z"}, "message": "test: Add a test for interesting module template polymorphism", "tree": {"sha": "77ddd557219fee4047401a89eb51141c3f8a1aee", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/77ddd557219fee4047401a89eb51141c3f8a1aee"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "html_url": "https://github.com/rust-lang/rust/commit/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "979a225598e9b4fd51a519c4d7012e8d1659c600", "url": "https://api.github.com/repos/rust-lang/rust/commits/979a225598e9b4fd51a519c4d7012e8d1659c600", "html_url": "https://github.com/rust-lang/rust/commit/979a225598e9b4fd51a519c4d7012e8d1659c600"}], "stats": {"total": 196, "additions": 196, "deletions": 0}, "files": [{"sha": "ea7d8fd77a0762efb03751e7cc6d7d69cbcb39c3", "filename": "src/test/run-pass/module-polymorphism-files/inst_f32.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Finst_f32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Finst_f32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Finst_f32.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1 @@\n+type T = f32;\n\\ No newline at end of file"}, {"sha": "8811863b27c55ba7fa3bc7e6b265a2d01bef6679", "filename": "src/test/run-pass/module-polymorphism-files/inst_f64.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Finst_f64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Finst_f64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Finst_f64.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1 @@\n+type T = f64;\n\\ No newline at end of file"}, {"sha": "5726ccf7ad068f09c469a68cae0e7ba531012f43", "filename": "src/test/run-pass/module-polymorphism-files/inst_float.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Finst_float.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Finst_float.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Finst_float.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1 @@\n+type T = float;\n\\ No newline at end of file"}, {"sha": "c8d52145cab950ce5643344c4101ac9a5238ed87", "filename": "src/test/run-pass/module-polymorphism-files/template.rs", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Ftemplate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Ftemplate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism-files%2Ftemplate.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1,3 @@\n+fn plus(x: T, y: T) -> T {\n+    x + y\n+}\n\\ No newline at end of file"}, {"sha": "ed8e8be283ea6dae3a98b8d41f3d48af8244ec40", "filename": "src/test/run-pass/module-polymorphism.rc", "status": "added", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism.rc", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism.rc?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1,45 @@\n+#[no_core];\n+\n+\n+#[path = \"module-polymorphism-files\"]\n+mod float {\n+\n+    // The type of the float\n+    import inst::T;\n+\n+    // Define T as float\n+    #[path = \"inst_float.rs\"]\n+    mod inst;\n+\n+    // Add in the implementation from a single source file\n+    #[path = \"template.rs\"]\n+    mod template;\n+\n+}\n+\n+#[path = \"module-polymorphism-files\"]\n+mod f64 {\n+\n+    import inst::T;\n+\n+    // Define T as f64\n+    #[path = \"inst_f64.rs\"]\n+    mod inst;\n+\n+    // Use the implementation for the same source file!\n+    #[path = \"template.rs\"]\n+    mod template;\n+\n+}\n+\n+#[path = \"module-polymorphism-files\"]\n+mod f32 {\n+    import inst::T;\n+\n+    #[path = \"inst_f32.rs\"]\n+    mod inst;\n+\n+    #[path = \"template.rs\"]\n+    mod template;\n+\n+}\n\\ No newline at end of file"}, {"sha": "e2f8350ef72af207b7fa931e8285e1d1425eaabf", "filename": "src/test/run-pass/module-polymorphism.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1,11 @@\n+// This isn't really xfailed; it's used by the\n+// module-polymorphism.rc test\n+// xfail-test\n+\n+fn main() {\n+    // All of these functions are defined by a single module\n+    // source file but instantiated for different types\n+    assert float::template::plus(1.0f, 2.0f) == 3.0f;\n+    assert f64::template::plus(1.0f64, 2.0f64) == 3.0f64;\n+    assert f32::template::plus(1.0f32, 2.0f32) == 3.0f32;\n+}\n\\ No newline at end of file"}, {"sha": "ea7d8fd77a0762efb03751e7cc6d7d69cbcb39c3", "filename": "src/test/run-pass/module-polymorphism2-files/float-template/inst_f32.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Finst_f32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Finst_f32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Finst_f32.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1 @@\n+type T = f32;\n\\ No newline at end of file"}, {"sha": "8811863b27c55ba7fa3bc7e6b265a2d01bef6679", "filename": "src/test/run-pass/module-polymorphism2-files/float-template/inst_f64.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Finst_f64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Finst_f64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Finst_f64.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1 @@\n+type T = f64;\n\\ No newline at end of file"}, {"sha": "5726ccf7ad068f09c469a68cae0e7ba531012f43", "filename": "src/test/run-pass/module-polymorphism2-files/float-template/inst_float.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Finst_float.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Finst_float.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Finst_float.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1 @@\n+type T = float;\n\\ No newline at end of file"}, {"sha": "c8d52145cab950ce5643344c4101ac9a5238ed87", "filename": "src/test/run-pass/module-polymorphism2-files/float-template/template.rs", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Ftemplate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Ftemplate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2-files%2Ffloat-template%2Ftemplate.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1,3 @@\n+fn plus(x: T, y: T) -> T {\n+    x + y\n+}\n\\ No newline at end of file"}, {"sha": "0d64cb46a2672ce7a061eab9898b222bb71dfce5", "filename": "src/test/run-pass/module-polymorphism2.rc", "status": "added", "additions": 61, "deletions": 0, "changes": 61, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2.rc", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2.rc?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1,61 @@\n+#[no_core];\n+\n+\n+#[path = \"module-polymorphism2-files\"]\n+mod mystd {\n+\n+    #[path = \"float-template\"]\n+    mod float {\n+        // The type of the float\n+        import inst::T;\n+\n+        // Unfortunate\n+        import template::*;\n+        export plus;\n+\n+        // Define T as float\n+        #[path = \"inst_float.rs\"]\n+        mod inst;\n+\n+        // Add in the implementation from a single source file\n+        #[path = \"template.rs\"]\n+        mod template;\n+    }\n+\n+\n+    #[path = \"float-template\"]\n+    mod f64 {\n+\n+        import inst::T;\n+\n+        // Unfortunate\n+        import template::*;\n+        export plus;\n+\n+        // Define T as f64\n+        #[path = \"inst_f64.rs\"]\n+        mod inst;\n+\n+        // Use the implementation for the same source file!\n+        #[path = \"template.rs\"]\n+        mod template;\n+\n+    }\n+\n+    #[path = \"float-template\"]\n+    mod f32 {\n+        import inst::T;\n+\n+        // Unfortunate\n+        import template::*;\n+        export plus;\n+\n+        #[path = \"inst_f32.rs\"]\n+        mod inst;\n+\n+        #[path = \"template.rs\"]\n+        mod template;\n+\n+    }\n+\n+}\n\\ No newline at end of file"}, {"sha": "7bb55c454306dcb514bfce95bd85c6768004f0b4", "filename": "src/test/run-pass/module-polymorphism2.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism2.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1,11 @@\n+// This isn't really xfailed; it's used by the\n+// module-polymorphism.rc test\n+// xfail-test\n+\n+fn main() {\n+    // All of these functions are defined by a single module\n+    // source file but instantiated for different types\n+    assert mystd::float::plus(1.0f, 2.0f) == 3.0f;\n+    assert mystd::f64::plus(1.0f64, 2.0f64) == 3.0f64;\n+    assert mystd::f32::plus(1.0f32, 2.0f32) == 3.0f32;\n+}\n\\ No newline at end of file"}, {"sha": "c8d52145cab950ce5643344c4101ac9a5238ed87", "filename": "src/test/run-pass/module-polymorphism3-files/float-template.rs", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1,3 @@\n+fn plus(x: T, y: T) -> T {\n+    x + y\n+}\n\\ No newline at end of file"}, {"sha": "ea7d8fd77a0762efb03751e7cc6d7d69cbcb39c3", "filename": "src/test/run-pass/module-polymorphism3-files/float-template/inst_f32.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template%2Finst_f32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template%2Finst_f32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template%2Finst_f32.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1 @@\n+type T = f32;\n\\ No newline at end of file"}, {"sha": "8811863b27c55ba7fa3bc7e6b265a2d01bef6679", "filename": "src/test/run-pass/module-polymorphism3-files/float-template/inst_f64.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template%2Finst_f64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template%2Finst_f64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template%2Finst_f64.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1 @@\n+type T = f64;\n\\ No newline at end of file"}, {"sha": "5726ccf7ad068f09c469a68cae0e7ba531012f43", "filename": "src/test/run-pass/module-polymorphism3-files/float-template/inst_float.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template%2Finst_float.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template%2Finst_float.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3-files%2Ffloat-template%2Finst_float.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1 @@\n+type T = float;\n\\ No newline at end of file"}, {"sha": "34dc9000e32368a8a4ed14f12c3e8055bd994e1a", "filename": "src/test/run-pass/module-polymorphism3.rc", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3.rc", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3.rc?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1,39 @@\n+#[no_core];\n+\n+// Use one template module to specify in a single file the implementation\n+// of functions for multiple types\n+\n+#[path = \"module-polymorphism3-files\"]\n+mod mystd {\n+\n+    // The template is specified in float-template.rs\n+    #[path = \"float-template\"]\n+    mod float {\n+        // The type of the float\n+        import inst::T;\n+\n+        // Define T as appropriate for platform\n+        #[path = \"inst_float.rs\"]\n+        mod inst;\n+    }\n+\n+    // Use the same template\n+    #[path = \"float-template\"]\n+    mod f64 {\n+\n+        import inst::T;\n+\n+        // Define T as f64\n+        #[path = \"inst_f64.rs\"]\n+        mod inst;\n+    }\n+\n+    #[path = \"float-template\"]\n+    mod f32 {\n+        import inst::T;\n+\n+        #[path = \"inst_f32.rs\"]\n+        mod inst;\n+    }\n+\n+}\n\\ No newline at end of file"}, {"sha": "7bb55c454306dcb514bfce95bd85c6768004f0b4", "filename": "src/test/run-pass/module-polymorphism3.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/611061b6c31ec7f96025b07cee53cfb7fe8ee3d9/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmodule-polymorphism3.rs?ref=611061b6c31ec7f96025b07cee53cfb7fe8ee3d9", "patch": "@@ -0,0 +1,11 @@\n+// This isn't really xfailed; it's used by the\n+// module-polymorphism.rc test\n+// xfail-test\n+\n+fn main() {\n+    // All of these functions are defined by a single module\n+    // source file but instantiated for different types\n+    assert mystd::float::plus(1.0f, 2.0f) == 3.0f;\n+    assert mystd::f64::plus(1.0f64, 2.0f64) == 3.0f64;\n+    assert mystd::f32::plus(1.0f32, 2.0f32) == 3.0f32;\n+}\n\\ No newline at end of file"}]}