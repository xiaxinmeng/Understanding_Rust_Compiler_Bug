{"sha": "1b2f594f48a9e6424d7120212ac66446efb489d9", "node_id": "C_kwDOAAsO6NoAKDFiMmY1OTRmNDhhOWU2NDI0ZDcxMjAyMTJhYzY2NDQ2ZWZiNDg5ZDk", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-10-21T22:14:03Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-10-21T22:14:03Z"}, "message": "Rollup merge of #103359 - WaffleLapkin:drain_no_mut_qqq, r=scottmcm\n\nRemove incorrect comment in `Vec::drain`\n\nr? ``@scottmcm``\n\nTurns out this comment wasn't correct for 6 years, since #34951, which switched from using `slice::IterMut` into using `slice::Iter`.", "tree": {"sha": "e8fd87cffc61e772f31fbc0c05fb53e8d36d5358", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e8fd87cffc61e772f31fbc0c05fb53e8d36d5358"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1b2f594f48a9e6424d7120212ac66446efb489d9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjUxmrCRBK7hj4Ov3rIwAA0HQIAA88yaZr8Ueke7hxxutcLORx\nkuJBZ1lnUrzGRH/yGu98oNYHFWBkfo7icei13+ox8QRYjXP113gyRfnHZsPpt5pS\nwsuD3Sj+Tf1Q79pXkNotsSWcYP+OZYLd021Hz4Cjcvm+YtqqW1TyamwEXlZcND5e\nzrM7CtAV2HGNJdBhfKxUbd2E6PcGhmsVI5Yf8O7h3TZIzjSNPcikQZmIFpg0PayS\nb9z2HXpMYh37b3tqLxY2dEVQ4ePK8Fs9oovPJ7gLTR2t9rWdJNXDFpb5e565JYmM\nL13E4nrKpUHRU7d//7rb+1kITuEDX4SuxMFfxdXl5722sBW/9teBM4bFxgFPUYg=\n=OtGg\n-----END PGP SIGNATURE-----\n", "payload": "tree e8fd87cffc61e772f31fbc0c05fb53e8d36d5358\nparent ed430ca5feaffeeb78f16198f3a7df21a51903ee\nparent e97d295d0078b03212cecb91854b979e4757ba72\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1666390443 +0200\ncommitter GitHub <noreply@github.com> 1666390443 +0200\n\nRollup merge of #103359 - WaffleLapkin:drain_no_mut_qqq, r=scottmcm\n\nRemove incorrect comment in `Vec::drain`\n\nr? ``@scottmcm``\n\nTurns out this comment wasn't correct for 6 years, since #34951, which switched from using `slice::IterMut` into using `slice::Iter`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1b2f594f48a9e6424d7120212ac66446efb489d9", "html_url": "https://github.com/rust-lang/rust/commit/1b2f594f48a9e6424d7120212ac66446efb489d9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1b2f594f48a9e6424d7120212ac66446efb489d9/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ed430ca5feaffeeb78f16198f3a7df21a51903ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/ed430ca5feaffeeb78f16198f3a7df21a51903ee", "html_url": "https://github.com/rust-lang/rust/commit/ed430ca5feaffeeb78f16198f3a7df21a51903ee"}, {"sha": "e97d295d0078b03212cecb91854b979e4757ba72", "url": "https://api.github.com/repos/rust-lang/rust/commits/e97d295d0078b03212cecb91854b979e4757ba72", "html_url": "https://github.com/rust-lang/rust/commit/e97d295d0078b03212cecb91854b979e4757ba72"}], "stats": {"total": 4, "additions": 1, "deletions": 3}, "files": [{"sha": "6a71f08330ca9563bcc34b0522f5762fbebbe859", "filename": "library/alloc/src/vec/mod.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1b2f594f48a9e6424d7120212ac66446efb489d9/library%2Falloc%2Fsrc%2Fvec%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1b2f594f48a9e6424d7120212ac66446efb489d9/library%2Falloc%2Fsrc%2Fvec%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fvec%2Fmod.rs?ref=1b2f594f48a9e6424d7120212ac66446efb489d9", "patch": "@@ -1999,9 +1999,7 @@ impl<T, A: Allocator> Vec<T, A> {\n         unsafe {\n             // set self.vec length's to start, to be safe in case Drain is leaked\n             self.set_len(start);\n-            // Use the borrow in the IterMut to indicate borrowing behavior of the\n-            // whole Drain iterator (like &mut T).\n-            let range_slice = slice::from_raw_parts_mut(self.as_mut_ptr().add(start), end - start);\n+            let range_slice = slice::from_raw_parts(self.as_ptr().add(start), end - start);\n             Drain {\n                 tail_start: end,\n                 tail_len: len - end,"}]}