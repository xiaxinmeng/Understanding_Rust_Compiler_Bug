{"sha": "c20e0e1e8e0d58ad9147b0c486712b1df9e64dd2", "node_id": "C_kwDOAAsO6NoAKGMyMGUwZTFlOGUwZDU4YWQ5MTQ3YjBjNDg2NzEyYjFkZjllNjRkZDI", "commit": {"author": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-06-18T10:20:53Z"}, "committer": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-06-22T03:12:26Z"}, "message": "Document unstable `--extern` options\n\nCo-Authored-By: Joshua Nelson <github@jyn.dev>\nCo-Authored-By: Eric Huss <eric@huss.org>", "tree": {"sha": "d71f48bd816fd4d21fb9f90b2b5d2b4183ebf48e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d71f48bd816fd4d21fb9f90b2b5d2b4183ebf48e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c20e0e1e8e0d58ad9147b0c486712b1df9e64dd2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+p/jD6jrzmnSIWJLcTRy8vRWJ94FAmKyiJsACgkQcTRy8vRW\nJ96Pdw//frf69ZsDZjPzmOlsET4isPS98WQUP0MXovUJkgTtyQXnb0ggnoVPMNzS\nIxMMg9wJPzZ1QPwfaUTO1sogyQErwuwdM+pgynLqaEl1+6GRP/qRMmwwpkihSLnG\nsHYN1X9VoJbMkse+8aDbGm/ipCJlYqL82TtBK4oOy+sivzrdY0p/KIW2TJ9+XOAh\n0rUJ5SkvrlH+66JAN3D/MCfgP6ZXq1K/NGVTAbebEuZDuF/P71FeCLGeK4Gt5TAZ\njvfgNjkGEwqEVhGMHLnKnoNJOpBnG+F/HmyATQAiywvmGb9JXk0XydbEQjXUito+\n/Xu3ISzlqn5rYJhjSBp83rWKc5bWBKG3N9AwzpRiYMzQwFtsbUv3ZkDuQXq8rQyE\nd/yM3XNR1WI/MxayEUxTIe02blUzLWS2jRJ1KJ74of35vojX3S+N0KquCa5chs2+\ngk78B796v7MMYIyE9Ddexgu/85S/vNK0I/TSbVY6SsdAwb9Y8Lg1LNc3K5KBDWeL\nfigIFdnnM8Mj15O/3Gu6z2I8qbgTfdA7Zd7LkFiQg7sc98kWZKjnl4MCIxrkrhyz\n/H3JrdcXQ+MG+2Q1Fmvdkdmx+ufq8zMpuk2UPDPOm6arPl5x8PXeLUDng1vD/j7n\nJ/ckRzaNoOUNM1HHXDZUto6BXIHpmhnGMOvkDfAWqKcdR0ATxlQ=\n=Ut4o\n-----END PGP SIGNATURE-----", "payload": "tree d71f48bd816fd4d21fb9f90b2b5d2b4183ebf48e\nparent ff86b27e7be1ffff9e00d80beb15560d5f301459\nauthor Chris Denton <christophersdenton@gmail.com> 1655547653 +0100\ncommitter Chris Denton <christophersdenton@gmail.com> 1655867546 +0100\n\nDocument unstable `--extern` options\n\nCo-Authored-By: Joshua Nelson <github@jyn.dev>\nCo-Authored-By: Eric Huss <eric@huss.org>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c20e0e1e8e0d58ad9147b0c486712b1df9e64dd2", "html_url": "https://github.com/rust-lang/rust/commit/c20e0e1e8e0d58ad9147b0c486712b1df9e64dd2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c20e0e1e8e0d58ad9147b0c486712b1df9e64dd2/comments", "author": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ff86b27e7be1ffff9e00d80beb15560d5f301459", "url": "https://api.github.com/repos/rust-lang/rust/commits/ff86b27e7be1ffff9e00d80beb15560d5f301459", "html_url": "https://github.com/rust-lang/rust/commit/ff86b27e7be1ffff9e00d80beb15560d5f301459"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "858eee5d2c283bdc0865e460ce4241a66ae50f30", "filename": "src/doc/unstable-book/src/compiler-flags/extern-options.md", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/c20e0e1e8e0d58ad9147b0c486712b1df9e64dd2/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fextern-options.md", "raw_url": "https://github.com/rust-lang/rust/raw/c20e0e1e8e0d58ad9147b0c486712b1df9e64dd2/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fextern-options.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fextern-options.md?ref=c20e0e1e8e0d58ad9147b0c486712b1df9e64dd2", "patch": "@@ -0,0 +1,22 @@\n+# `--extern` Options\n+\n+The behavior of the `--extern` flag can be modified with `noprelude`, `priv` or `nounused` options.\n+\n+This is unstable feature, so you have to provide `-Zunstable-options` to enable it.\n+\n+## Examples\n+\n+Use your own build of the `core` crate.\n+\n+`rustc main.rs -Z unstable-options --extern noprelude:core=libcore.rlib`\n+\n+To use multiple options, separate them with a comma:\n+\n+`rustc main.rs -Z unstable-options --extern noprelude,priv,nounused:mydep=mydep.rlib`\n+\n+## Options\n+\n+* `noprelude`: Do not add the crate to the external prelude. If used, it will need to be imported using `extern crate`.\n+  This is used by the [build-std project](https://github.com/rust-lang/wg-cargo-std-aware/) to simulate compatibility with sysroot-only crates.\n+* `priv`: Mark the crate as a private dependency for the [`exported_private_dependencies`](../../rustc/lints/listing/warn-by-default.html#exported-private-dependencies) lint.\n+* `nounused`: Suppress [`unused-crate-dependencies`](../../rustc/lints/listing/allowed-by-default.html#unused-crate-dependencies) warnings for the crate."}]}