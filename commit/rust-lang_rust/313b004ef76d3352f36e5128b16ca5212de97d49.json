{"sha": "313b004ef76d3352f36e5128b16ca5212de97d49", "node_id": "C_kwDOAAsO6NoAKDMxM2IwMDRlZjc2ZDMzNTJmMzZlNTEyOGIxNmNhNTIxMmRlOTdkNDk", "commit": {"author": {"name": "Aleksandr Pak", "email": "aleksandr.vl.pak@gmail.com", "date": "2022-08-17T09:50:33Z"}, "committer": {"name": "Aleksandr Pak", "email": "aleksandr.vl.pak@gmail.com", "date": "2022-08-17T09:50:33Z"}, "message": "fixup! feat: add inline_type_alias_uses assist", "tree": {"sha": "e637339b877139b5c3b5f613f50aefc966dd8e35", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e637339b877139b5c3b5f613f50aefc966dd8e35"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/313b004ef76d3352f36e5128b16ca5212de97d49", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE7xHno2sGEErwYcGQo/bjwOzEZzYFAmL8uekACgkQo/bjwOzE\nZzZW7AwA0qEWPL6rC0kRDeWubGYeqACvsPa9DmZkmwj1d9kaxGKDdZ4e4ljJLVoo\nxQyuNnwVT6nodbQ28pO99TU6YELcMWDUfRYsZNH/GBDIaT3l7MI0oe9voVhR+byd\nLGvxKZQFM8vfq92yl56hhZvu336d/6fcb87CLaIFvB8gzLdBdpdK7BLr6mTD7LHa\nQoXxJFhj6x16wT+fNeQyHk6Xx5gjeFZsUWMc8uyeE4fyFta9lZ4uxAV4hxbj6LNA\nJA7yMJH1fthJqg+HDB+ExSXuhRN0DhWUaV4r0Q4LGriAuXkoR64tIsE80RIEalx1\n9t/ZKkXcFcyfhtahi7PK4s1yqGJTz56v4cYVB+UgTxbbo3YZu8LO1wDg/BYkRn84\nqaNaKuEKWEGgH/9vdBwll+7/Nrq2Jlk2083toOGHkprB0TqkZ/zwKLGL1OxemgZw\nUnSoPPeenqsT8sk4dNyt7ZJHqhMKRDfb23HojPNBIZzROorwIGKOYmyN28a6BcsI\na8T+nRWb\n=7myu\n-----END PGP SIGNATURE-----", "payload": "tree e637339b877139b5c3b5f613f50aefc966dd8e35\nparent 6d6356b103225522166496975f98b15d9827b6c8\nauthor Aleksandr Pak <aleksandr.vl.pak@gmail.com> 1660729833 +0300\ncommitter Aleksandr Pak <aleksandr.vl.pak@gmail.com> 1660729833 +0300\n\nfixup! feat: add inline_type_alias_uses assist\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/313b004ef76d3352f36e5128b16ca5212de97d49", "html_url": "https://github.com/rust-lang/rust/commit/313b004ef76d3352f36e5128b16ca5212de97d49", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/313b004ef76d3352f36e5128b16ca5212de97d49/comments", "author": {"login": "sancho20021", "id": 45790125, "node_id": "MDQ6VXNlcjQ1NzkwMTI1", "avatar_url": "https://avatars.githubusercontent.com/u/45790125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sancho20021", "html_url": "https://github.com/sancho20021", "followers_url": "https://api.github.com/users/sancho20021/followers", "following_url": "https://api.github.com/users/sancho20021/following{/other_user}", "gists_url": "https://api.github.com/users/sancho20021/gists{/gist_id}", "starred_url": "https://api.github.com/users/sancho20021/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sancho20021/subscriptions", "organizations_url": "https://api.github.com/users/sancho20021/orgs", "repos_url": "https://api.github.com/users/sancho20021/repos", "events_url": "https://api.github.com/users/sancho20021/events{/privacy}", "received_events_url": "https://api.github.com/users/sancho20021/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sancho20021", "id": 45790125, "node_id": "MDQ6VXNlcjQ1NzkwMTI1", "avatar_url": "https://avatars.githubusercontent.com/u/45790125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sancho20021", "html_url": "https://github.com/sancho20021", "followers_url": "https://api.github.com/users/sancho20021/followers", "following_url": "https://api.github.com/users/sancho20021/following{/other_user}", "gists_url": "https://api.github.com/users/sancho20021/gists{/gist_id}", "starred_url": "https://api.github.com/users/sancho20021/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sancho20021/subscriptions", "organizations_url": "https://api.github.com/users/sancho20021/orgs", "repos_url": "https://api.github.com/users/sancho20021/repos", "events_url": "https://api.github.com/users/sancho20021/events{/privacy}", "received_events_url": "https://api.github.com/users/sancho20021/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6d6356b103225522166496975f98b15d9827b6c8", "url": "https://api.github.com/repos/rust-lang/rust/commits/6d6356b103225522166496975f98b15d9827b6c8", "html_url": "https://github.com/rust-lang/rust/commit/6d6356b103225522166496975f98b15d9827b6c8"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "9adf6381c1cbcf752b41b1852706043d71150050", "filename": "crates/ide-assists/src/handlers/inline_type_alias.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/313b004ef76d3352f36e5128b16ca5212de97d49/crates%2Fide-assists%2Fsrc%2Fhandlers%2Finline_type_alias.rs", "raw_url": "https://github.com/rust-lang/rust/raw/313b004ef76d3352f36e5128b16ca5212de97d49/crates%2Fide-assists%2Fsrc%2Fhandlers%2Finline_type_alias.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-assists%2Fsrc%2Fhandlers%2Finline_type_alias.rs?ref=313b004ef76d3352f36e5128b16ca5212de97d49", "patch": "@@ -66,7 +66,7 @@ pub(crate) fn inline_type_alias_uses(acc: &mut Assists, ctx: &AssistContext<'_>)\n                     .into_iter()\n                     .filter_map(|file_ref| match file_ref.name {\n                         ast::NameLike::NameRef(path_type) => {\n-                            path_type.syntax().ancestors().find_map(ast::PathType::cast)\n+                            path_type.syntax().ancestors().nth(3).and_then(ast::PathType::cast)\n                         }\n                         _ => None,\n                     })"}]}