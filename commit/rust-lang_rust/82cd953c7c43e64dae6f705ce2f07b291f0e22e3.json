{"sha": "82cd953c7c43e64dae6f705ce2f07b291f0e22e3", "node_id": "C_kwDOAAsO6NoAKDgyY2Q5NTNjN2M0M2U2NGRhZTZmNzA1Y2UyZjA3YjI5MWYwZTIyZTM", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-05-03T07:06:42Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-05-03T07:06:42Z"}, "message": "Auto merge of #110846 - jdno:reduce-builder-sizes, r=pietroalbini\n\nOptimize builder sizes\n\nThe infra-team is continuously monitoring the efficiency of the CI system in an effort to improve overall build times and resource usage. Some builders have used much less than their allocated resources, so we are testing smaller builder sizes for them.\n\nr? `@pietroalbini`", "tree": {"sha": "0e67bdf20505b436192b96cc75087289397d618f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0e67bdf20505b436192b96cc75087289397d618f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/82cd953c7c43e64dae6f705ce2f07b291f0e22e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/82cd953c7c43e64dae6f705ce2f07b291f0e22e3", "html_url": "https://github.com/rust-lang/rust/commit/82cd953c7c43e64dae6f705ce2f07b291f0e22e3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/82cd953c7c43e64dae6f705ce2f07b291f0e22e3/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cad92b4c979760b088ffd18e6c89801668c944f2", "url": "https://api.github.com/repos/rust-lang/rust/commits/cad92b4c979760b088ffd18e6c89801668c944f2", "html_url": "https://github.com/rust-lang/rust/commit/cad92b4c979760b088ffd18e6c89801668c944f2"}, {"sha": "47528c0b144f4c49adf58e34e8d3d47ff8e80c34", "url": "https://api.github.com/repos/rust-lang/rust/commits/47528c0b144f4c49adf58e34e8d3d47ff8e80c34", "html_url": "https://github.com/rust-lang/rust/commit/47528c0b144f4c49adf58e34e8d3d47ff8e80c34"}], "stats": {"total": 32, "additions": 18, "deletions": 14}, "files": [{"sha": "dcdaa06caa2064ede2874038a4587b745fe63745", "filename": ".github/workflows/ci.yml", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/82cd953c7c43e64dae6f705ce2f07b291f0e22e3/.github%2Fworkflows%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/82cd953c7c43e64dae6f705ce2f07b291f0e22e3/.github%2Fworkflows%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fci.yml?ref=82cd953c7c43e64dae6f705ce2f07b291f0e22e3", "patch": "@@ -260,13 +260,13 @@ jobs:\n             os: ubuntu-20.04-8core-32gb\n             env: {}\n           - name: i686-gnu\n-            os: ubuntu-20.04-16core-64gb\n+            os: ubuntu-20.04-8core-32gb\n             env: {}\n           - name: i686-gnu-nopt\n-            os: ubuntu-20.04-16core-64gb\n+            os: ubuntu-20.04-8core-32gb\n             env: {}\n           - name: mingw-check\n-            os: ubuntu-20.04-8core-32gb\n+            os: ubuntu-20.04-4core-16gb\n             env: {}\n           - name: test-various\n             os: ubuntu-20.04-8core-32gb\n@@ -275,16 +275,16 @@ jobs:\n             os: ubuntu-20.04-8core-32gb\n             env: {}\n           - name: x86_64-gnu\n-            os: ubuntu-20.04-8core-32gb\n+            os: ubuntu-20.04-4core-16gb\n             env: {}\n           - name: x86_64-gnu-stable\n             env:\n               IMAGE: x86_64-gnu\n               RUST_CI_OVERRIDE_RELEASE_CHANNEL: stable\n               CI_ONLY_WHEN_CHANNEL: nightly\n-            os: ubuntu-20.04-8core-32gb\n+            os: ubuntu-20.04-4core-16gb\n           - name: x86_64-gnu-aux\n-            os: ubuntu-20.04-8core-32gb\n+            os: ubuntu-20.04-4core-16gb\n             env: {}\n           - name: x86_64-gnu-debug\n             os: ubuntu-20.04-8core-32gb\n@@ -309,7 +309,7 @@ jobs:\n               RUST_BACKTRACE: 1\n             os: ubuntu-20.04-8core-32gb\n           - name: x86_64-gnu-nopt\n-            os: ubuntu-20.04-8core-32gb\n+            os: ubuntu-20.04-4core-16gb\n             env: {}\n           - name: x86_64-gnu-tools\n             env:"}, {"sha": "5661adf677625ca4d04551e3d7998e6bdfcd5aa1", "filename": "src/ci/github-actions/ci.yml", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/82cd953c7c43e64dae6f705ce2f07b291f0e22e3/src%2Fci%2Fgithub-actions%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/82cd953c7c43e64dae6f705ce2f07b291f0e22e3/src%2Fci%2Fgithub-actions%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fgithub-actions%2Fci.yml?ref=82cd953c7c43e64dae6f705ce2f07b291f0e22e3", "patch": "@@ -73,6 +73,10 @@ x--expand-yaml-anchors--remove:\n   - &base-job\n     env: {}\n \n+  - &job-linux-4c\n+    os: ubuntu-20.04-4core-16gb\n+    <<: *base-job\n+\n   - &job-linux-8c\n     os: ubuntu-20.04-8core-32gb\n     <<: *base-job\n@@ -416,13 +420,13 @@ jobs:\n             <<: *job-linux-8c\n \n           - name: i686-gnu\n-            <<: *job-linux-16c\n+            <<: *job-linux-8c\n \n           - name: i686-gnu-nopt\n-            <<: *job-linux-16c\n+            <<: *job-linux-8c\n \n           - name: mingw-check\n-            <<: *job-linux-8c\n+            <<: *job-linux-4c\n \n           - name: test-various\n             <<: *job-linux-8c\n@@ -431,7 +435,7 @@ jobs:\n             <<: *job-linux-8c\n \n           - name: x86_64-gnu\n-            <<: *job-linux-8c\n+            <<: *job-linux-4c\n \n           # This job ensures commits landing on nightly still pass the full\n           # test suite on the stable channel. There are some UI tests that\n@@ -446,10 +450,10 @@ jobs:\n               # could cause failures when `dev: 1` in `stage0.txt`, and running\n               # this on stable is useless.\n               CI_ONLY_WHEN_CHANNEL: nightly\n-            <<: *job-linux-8c\n+            <<: *job-linux-4c\n \n           - name: x86_64-gnu-aux\n-            <<: *job-linux-8c\n+            <<: *job-linux-4c\n \n           - name: x86_64-gnu-debug\n             <<: *job-linux-8c\n@@ -478,7 +482,7 @@ jobs:\n             <<: *job-linux-8c\n \n           - name: x86_64-gnu-nopt\n-            <<: *job-linux-8c\n+            <<: *job-linux-4c\n \n           - name: x86_64-gnu-tools\n             env:"}]}