{"sha": "ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "node_id": "C_kwDOAAsO6NoAKGFkNzBiZmZhOWVhYzI4MzIzOTY0ZmY3ZDI2MzgwYmMyZGZlYjgxZDM", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-06-06T16:34:27Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-06-06T16:34:27Z"}, "message": "Auto merge of #8944 - xFrednet:8877-append-doc-idents, r=Manishearth\n\nList configuration values can now be extended instead of replaced\n\nI've seen some `clippy.toml` files, that have a few additions to the default list of a configuration and then a copy of our default. The list will therefore not be updated, when we add new names. This change should make it simple for new users to append values instead of replacing them.\n\nI'm uncertain if the documentation of the `\"..\"` is apparent. Any suggestions are welcome. I've also check that the lint list displays the examples correctly.\n\n<details>\n<summary>Lint list screenshots</summary>\n\n![image](https://user-images.githubusercontent.com/17087237/171999434-393f2f83-09aa-4bab-8b05-bd4973150f27.png)\n\n![image](https://user-images.githubusercontent.com/17087237/171999401-e6942b53-25e6-4b09-89e5-d867c7463156.png)\n\n</details>\n\n---\n\nchangelog: enhancement: [`doc_markdown`]: Users can now indicate, that the `doc-valid-idents` should extend the default and not replace it\nchangelog: enhancement: [`blacklisted-name`]: Users can now indicate, that the `blacklisted-names` should extend the default and not replace it\n\nCloses: #8877\n\nThat's it. Have a fantastic weekend to everyone reading this. Here is a cookie :cookie:", "tree": {"sha": "3e6f3bfb2931b76bee2c245aa973940edd79fd91", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3e6f3bfb2931b76bee2c245aa973940edd79fd91"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "html_url": "https://github.com/rust-lang/rust/commit/ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f6e50fe1b8a9f40b77d248d05695bba9fd8773f", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f6e50fe1b8a9f40b77d248d05695bba9fd8773f", "html_url": "https://github.com/rust-lang/rust/commit/0f6e50fe1b8a9f40b77d248d05695bba9fd8773f"}, {"sha": "c31b4a9d21c9a5af7fcd2ee7cf1fbec0589b9954", "url": "https://api.github.com/repos/rust-lang/rust/commits/c31b4a9d21c9a5af7fcd2ee7cf1fbec0589b9954", "html_url": "https://github.com/rust-lang/rust/commit/c31b4a9d21c9a5af7fcd2ee7cf1fbec0589b9954"}], "stats": {"total": 198, "additions": 174, "deletions": 24}, "files": [{"sha": "38e5c5e5b7365f3de8550257b218f72384d294fe", "filename": "clippy_lints/src/utils/conf.rs", "status": "modified", "additions": 50, "deletions": 24, "changes": 74, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/clippy_lints%2Fsrc%2Futils%2Fconf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/clippy_lints%2Fsrc%2Futils%2Fconf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fconf.rs?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -9,6 +9,29 @@ use std::path::{Path, PathBuf};\n use std::str::FromStr;\n use std::{cmp, env, fmt, fs, io, iter};\n \n+#[rustfmt::skip]\n+const DEFAULT_DOC_VALID_IDENTS: &[&str] = &[\n+    \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\",\n+    \"DirectX\",\n+    \"ECMAScript\",\n+    \"GPLv2\", \"GPLv3\",\n+    \"GitHub\", \"GitLab\",\n+    \"IPv4\", \"IPv6\",\n+    \"ClojureScript\", \"CoffeeScript\", \"JavaScript\", \"PureScript\", \"TypeScript\",\n+    \"NaN\", \"NaNs\",\n+    \"OAuth\", \"GraphQL\",\n+    \"OCaml\",\n+    \"OpenGL\", \"OpenMP\", \"OpenSSH\", \"OpenSSL\", \"OpenStreetMap\", \"OpenDNS\",\n+    \"WebGL\",\n+    \"TensorFlow\",\n+    \"TrueType\",\n+    \"iOS\", \"macOS\", \"FreeBSD\",\n+    \"TeX\", \"LaTeX\", \"BibTeX\", \"BibLaTeX\",\n+    \"MinGW\",\n+    \"CamelCase\",\n+];\n+const DEFAULT_BLACKLISTED_NAMES: &[&str] = &[\"foo\", \"baz\", \"quux\"];\n+\n /// Holds information used by `MISSING_ENFORCED_IMPORT_RENAMES` lint.\n #[derive(Clone, Debug, Deserialize)]\n pub struct Rename {\n@@ -178,8 +201,10 @@ define_Conf! {\n     (msrv: Option<String> = None),\n     /// Lint: BLACKLISTED_NAME.\n     ///\n-    /// The list of blacklisted names to lint about. NB: `bar` is not here since it has legitimate uses\n-    (blacklisted_names: Vec<String> = [\"foo\", \"baz\", \"quux\"].iter().map(ToString::to_string).collect()),\n+    /// The list of blacklisted names to lint about. NB: `bar` is not here since it has legitimate uses. The value\n+    /// `\"..\"` can be used as part of the list to indicate, that the configured values should be appended to the\n+    /// default configuration of Clippy. By default any configuraction will replace the default value.\n+    (blacklisted_names: Vec<String> = super::DEFAULT_BLACKLISTED_NAMES.iter().map(ToString::to_string).collect()),\n     /// Lint: COGNITIVE_COMPLEXITY.\n     ///\n     /// The maximum cognitive complexity a function can have\n@@ -191,27 +216,14 @@ define_Conf! {\n     (cyclomatic_complexity_threshold: Option<u64> = None),\n     /// Lint: DOC_MARKDOWN.\n     ///\n-    /// The list of words this lint should not consider as identifiers needing ticks\n-    (doc_valid_idents: Vec<String> = [\n-        \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\",\n-        \"DirectX\",\n-        \"ECMAScript\",\n-        \"GPLv2\", \"GPLv3\",\n-        \"GitHub\", \"GitLab\",\n-        \"IPv4\", \"IPv6\",\n-        \"ClojureScript\", \"CoffeeScript\", \"JavaScript\", \"PureScript\", \"TypeScript\",\n-        \"NaN\", \"NaNs\",\n-        \"OAuth\", \"GraphQL\",\n-        \"OCaml\",\n-        \"OpenGL\", \"OpenMP\", \"OpenSSH\", \"OpenSSL\", \"OpenStreetMap\", \"OpenDNS\",\n-        \"WebGL\",\n-        \"TensorFlow\",\n-        \"TrueType\",\n-        \"iOS\", \"macOS\", \"FreeBSD\",\n-        \"TeX\", \"LaTeX\", \"BibTeX\", \"BibLaTeX\",\n-        \"MinGW\",\n-        \"CamelCase\",\n-    ].iter().map(ToString::to_string).collect()),\n+    /// The list of words this lint should not consider as identifiers needing ticks. The value\n+    /// `\"..\"` can be used as part of the list to indicate, that the configured values should be appended to the\n+    /// default configuration of Clippy. By default any configuraction will replace the default value. For example:\n+    /// * `doc-valid-idents = [\"ClipPy\"]` would replace the default list with `[\"ClipPy\"]`.\n+    /// * `doc-valid-idents = [\"ClipPy\", \"..\"]` would append `ClipPy` to the default list.\n+    ///\n+    /// Default list:\n+    (doc_valid_idents: Vec<String> = super::DEFAULT_DOC_VALID_IDENTS.iter().map(ToString::to_string).collect()),\n     /// Lint: TOO_MANY_ARGUMENTS.\n     ///\n     /// The maximum number of argument a function or method can have\n@@ -401,7 +413,21 @@ pub fn read(path: &Path) -> TryConf {\n         Err(e) => return TryConf::from_error(e),\n         Ok(content) => content,\n     };\n-    toml::from_str(&content).unwrap_or_else(TryConf::from_error)\n+    match toml::from_str::<TryConf>(&content) {\n+        Ok(mut conf) => {\n+            extend_vec_if_indicator_present(&mut conf.conf.doc_valid_idents, DEFAULT_DOC_VALID_IDENTS);\n+            extend_vec_if_indicator_present(&mut conf.conf.blacklisted_names, DEFAULT_BLACKLISTED_NAMES);\n+\n+            conf\n+        },\n+        Err(e) => TryConf::from_error(e),\n+    }\n+}\n+\n+fn extend_vec_if_indicator_present(vec: &mut Vec<String>, default: &[&str]) {\n+    if vec.contains(&\"..\".to_string()) {\n+        vec.extend(default.iter().map(ToString::to_string));\n+    }\n }\n \n const SEPARATOR_WIDTH: usize = 4;"}, {"sha": "fb2395cf90be357c69b22d4749f4b6a113ab4af4", "filename": "tests/ui-toml/blacklisted_names_append/blacklisted_names.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_append%2Fblacklisted_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_append%2Fblacklisted_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fblacklisted_names_append%2Fblacklisted_names.rs?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1,10 @@\n+#[warn(clippy::blacklisted_name)]\n+\n+fn main() {\n+    // `foo` is part of the default configuration\n+    let foo = \"bar\";\n+    // `ducks` was unrightfully blacklisted\n+    let ducks = [\"quack\", \"quack\"];\n+    // `fox` is okay\n+    let fox = [\"what\", \"does\", \"the\", \"fox\", \"say\", \"?\"];\n+}"}, {"sha": "9169bb0e866ac2c47cb5698b1dc3ffe02908ab9b", "filename": "tests/ui-toml/blacklisted_names_append/blacklisted_names.stderr", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_append%2Fblacklisted_names.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_append%2Fblacklisted_names.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fblacklisted_names_append%2Fblacklisted_names.stderr?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1,16 @@\n+error: use of a blacklisted/placeholder name `foo`\n+  --> $DIR/blacklisted_names.rs:5:9\n+   |\n+LL |     let foo = \"bar\";\n+   |         ^^^\n+   |\n+   = note: `-D clippy::blacklisted-name` implied by `-D warnings`\n+\n+error: use of a blacklisted/placeholder name `ducks`\n+  --> $DIR/blacklisted_names.rs:7:9\n+   |\n+LL |     let ducks = [\"quack\", \"quack\"];\n+   |         ^^^^^\n+\n+error: aborting due to 2 previous errors\n+"}, {"sha": "0e052ef50f07bfe5d42a783614f2209c5219255b", "filename": "tests/ui-toml/blacklisted_names_append/clippy.toml", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_append%2Fclippy.toml", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_append%2Fclippy.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fblacklisted_names_append%2Fclippy.toml?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1 @@\n+blacklisted-names = [\"ducks\", \"..\"]"}, {"sha": "fb2395cf90be357c69b22d4749f4b6a113ab4af4", "filename": "tests/ui-toml/blacklisted_names_replace/blacklisted_names.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_replace%2Fblacklisted_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_replace%2Fblacklisted_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fblacklisted_names_replace%2Fblacklisted_names.rs?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1,10 @@\n+#[warn(clippy::blacklisted_name)]\n+\n+fn main() {\n+    // `foo` is part of the default configuration\n+    let foo = \"bar\";\n+    // `ducks` was unrightfully blacklisted\n+    let ducks = [\"quack\", \"quack\"];\n+    // `fox` is okay\n+    let fox = [\"what\", \"does\", \"the\", \"fox\", \"say\", \"?\"];\n+}"}, {"sha": "ec6f7f084f2a55336408fe0ddeadb30597c5e39b", "filename": "tests/ui-toml/blacklisted_names_replace/blacklisted_names.stderr", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_replace%2Fblacklisted_names.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_replace%2Fblacklisted_names.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fblacklisted_names_replace%2Fblacklisted_names.stderr?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1,10 @@\n+error: use of a blacklisted/placeholder name `ducks`\n+  --> $DIR/blacklisted_names.rs:7:9\n+   |\n+LL |     let ducks = [\"quack\", \"quack\"];\n+   |         ^^^^^\n+   |\n+   = note: `-D clippy::blacklisted-name` implied by `-D warnings`\n+\n+error: aborting due to previous error\n+"}, {"sha": "4582f1c06674c1aa4d57709363841698ea581aad", "filename": "tests/ui-toml/blacklisted_names_replace/clippy.toml", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_replace%2Fclippy.toml", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fblacklisted_names_replace%2Fclippy.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fblacklisted_names_replace%2Fclippy.toml?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1 @@\n+blacklisted-names = [\"ducks\"]"}, {"sha": "daf3276854bdb15793944476a877e1c26ed4a660", "filename": "tests/ui-toml/doc_valid_idents_append/clippy.toml", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_append%2Fclippy.toml", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_append%2Fclippy.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fdoc_valid_idents_append%2Fclippy.toml?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1 @@\n+doc-valid-idents = [\"ClipPy\", \"..\"]"}, {"sha": "327a592e9cadcada46ccad7d4eab24224314905b", "filename": "tests/ui-toml/doc_valid_idents_append/doc_markdown.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_append%2Fdoc_markdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_append%2Fdoc_markdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fdoc_valid_idents_append%2Fdoc_markdown.rs?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1,12 @@\n+#![warn(clippy::doc_markdown)]\n+\n+/// This is a special interface for ClipPy which doesn't require backticks\n+fn allowed_name() {}\n+\n+/// OAuth and LaTeX are inside Clippy's default list.\n+fn default_name() {}\n+\n+/// TestItemThingyOfCoolness might sound cool but is not on the list and should be linted.\n+fn unknown_name() {}\n+\n+fn main() {}"}, {"sha": "0f767c9b8559f712b87b59a2d773d59b966cc997", "filename": "tests/ui-toml/doc_valid_idents_append/doc_markdown.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_append%2Fdoc_markdown.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_append%2Fdoc_markdown.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fdoc_valid_idents_append%2Fdoc_markdown.stderr?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1,14 @@\n+error: item in documentation is missing backticks\n+  --> $DIR/doc_markdown.rs:9:5\n+   |\n+LL | /// TestItemThingyOfCoolness might sound cool but is not on the list and should be linted.\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `-D clippy::doc-markdown` implied by `-D warnings`\n+help: try\n+   |\n+LL | /// `TestItemThingyOfCoolness` might sound cool but is not on the list and should be linted.\n+   |     ~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+error: aborting due to previous error\n+"}, {"sha": "70bc477b08c6a2deb54e6d638fba8bf5a5e5ee41", "filename": "tests/ui-toml/doc_valid_idents_replace/clippy.toml", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_replace%2Fclippy.toml", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_replace%2Fclippy.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fdoc_valid_idents_replace%2Fclippy.toml?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1 @@\n+doc-valid-idents = [\"ClipPy\"]"}, {"sha": "327a592e9cadcada46ccad7d4eab24224314905b", "filename": "tests/ui-toml/doc_valid_idents_replace/doc_markdown.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_replace%2Fdoc_markdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_replace%2Fdoc_markdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fdoc_valid_idents_replace%2Fdoc_markdown.rs?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1,12 @@\n+#![warn(clippy::doc_markdown)]\n+\n+/// This is a special interface for ClipPy which doesn't require backticks\n+fn allowed_name() {}\n+\n+/// OAuth and LaTeX are inside Clippy's default list.\n+fn default_name() {}\n+\n+/// TestItemThingyOfCoolness might sound cool but is not on the list and should be linted.\n+fn unknown_name() {}\n+\n+fn main() {}"}, {"sha": "e0613eb863b3996130d9e662980b2b4077b22bfe", "filename": "tests/ui-toml/doc_valid_idents_replace/doc_markdown.stderr", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_replace%2Fdoc_markdown.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ad70bffa9eac28323964ff7d26380bc2dfeb81d3/tests%2Fui-toml%2Fdoc_valid_idents_replace%2Fdoc_markdown.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fdoc_valid_idents_replace%2Fdoc_markdown.stderr?ref=ad70bffa9eac28323964ff7d26380bc2dfeb81d3", "patch": "@@ -0,0 +1,36 @@\n+error: item in documentation is missing backticks\n+  --> $DIR/doc_markdown.rs:6:5\n+   |\n+LL | /// OAuth and LaTeX are inside Clippy's default list.\n+   |     ^^^^^\n+   |\n+   = note: `-D clippy::doc-markdown` implied by `-D warnings`\n+help: try\n+   |\n+LL | /// `OAuth` and LaTeX are inside Clippy's default list.\n+   |     ~~~~~~~\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc_markdown.rs:6:15\n+   |\n+LL | /// OAuth and LaTeX are inside Clippy's default list.\n+   |               ^^^^^\n+   |\n+help: try\n+   |\n+LL | /// OAuth and `LaTeX` are inside Clippy's default list.\n+   |               ~~~~~~~\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc_markdown.rs:9:5\n+   |\n+LL | /// TestItemThingyOfCoolness might sound cool but is not on the list and should be linted.\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: try\n+   |\n+LL | /// `TestItemThingyOfCoolness` might sound cool but is not on the list and should be linted.\n+   |     ~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+error: aborting due to 3 previous errors\n+"}]}