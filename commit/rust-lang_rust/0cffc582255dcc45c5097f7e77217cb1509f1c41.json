{"sha": "0cffc582255dcc45c5097f7e77217cb1509f1c41", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjZmZjNTgyMjU1ZGNjNDVjNTA5N2Y3ZTc3MjE3Y2IxNTA5ZjFjNDE=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-04-24T07:05:47Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-04-24T07:29:19Z"}, "message": "Fix LD_LIBRARY_PATH on STAGE0, STAGE1 defs; define STAGE2.", "tree": {"sha": "81b1e7087f0ba52f8511358c61b0fe85ba443a5f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/81b1e7087f0ba52f8511358c61b0fe85ba443a5f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0cffc582255dcc45c5097f7e77217cb1509f1c41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0cffc582255dcc45c5097f7e77217cb1509f1c41", "html_url": "https://github.com/rust-lang/rust/commit/0cffc582255dcc45c5097f7e77217cb1509f1c41", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0cffc582255dcc45c5097f7e77217cb1509f1c41/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9eec7e3b15750abbb646cc4dbc573764f284d5cd", "url": "https://api.github.com/repos/rust-lang/rust/commits/9eec7e3b15750abbb646cc4dbc573764f284d5cd", "html_url": "https://github.com/rust-lang/rust/commit/9eec7e3b15750abbb646cc4dbc573764f284d5cd"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "fe59108722e209cfe3bfbc71df397a09b6a75474", "filename": "Makefile.in", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/0cffc582255dcc45c5097f7e77217cb1509f1c41/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/0cffc582255dcc45c5097f7e77217cb1509f1c41/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=0cffc582255dcc45c5097f7e77217cb1509f1c41", "patch": "@@ -90,7 +90,7 @@ ifdef CFG_WINDOWSY\n   CFG_LDPATH :=$(CFG_LDPATH):$(CFG_LLVM_BINDIR)\n   CFG_LDPATH :=$(CFG_LDPATH):$$PATH\n   CFG_RUN_TEST=PATH=\"$(CFG_LDPATH):$(call CFG_EXE_TESTLIB,$(1))\" $(1)\n-  CFG_RUN_TARG=PATH=\"$(CFG_LDPATH)\" $(1)\n+  CFG_RUN_TARG=PATH=\"$(CFG_BUILD_DIR)/$(1):$(CFG_LDPATH)\" $(2)\n \n   CFG_PATH_MUNGE := $(strip perl -i.bak -p             \\\n                            -e 's@\\\\(\\S)@/\\1@go;'       \\\n@@ -109,7 +109,7 @@ ifdef CFG_UNIXY\n   CFG_PATH_MUNGE := true\n   CFG_EXE_SUFFIX :=\n   CFG_LDPATH :=$(CFG_LDPATH):$(CFG_LLVM_LIBDIR)\n-  CFG_RUN_TARG=$(CFG_LDENV)=$(CFG_LDPATH) $(1)\n+  CFG_RUN_TARG=$(CFG_LDENV)=$(CFG_BUILD_DIR)/$(1):$(CFG_LDPATH) $(2)\n   CFG_RUN_TEST=\\\n       $(CFG_LDENV)=$(call CFG_TESTLIB,$(1)):$(CFG_LDPATH) \\\n       $(CFG_VALGRIND) $(1)\n@@ -121,7 +121,7 @@ ifdef CFG_UNIXY\n     CFG_LIB_NAME=$(1).dll\n     CFG_LDPATH :=$(CFG_LDPATH):$(CFG_LLVM_BINDIR)\n     CFG_LDPATH :=$(CFG_LDPATH):$$PATH\n-    CFG_RUN_TARG=PATH=$(CFG_LDPATH) $(1)\n+    CFG_RUN_TARG=PATH=$(CFG_BUILD_DIR)/$(1):$(CFG_LDPATH) $(2)\n     CFG_RUN_TEST=PATH=$(CFG_LDPATH):$(call CFG_EXE_TESTLIB,$(1)) $(1)\n \n     CFG_INFO := $(info cfg: mingw-cross)\n@@ -232,10 +232,12 @@ VPATH := $(S)doc $(S)src\n \n # Compilers we build, we now know how to run.\n BOOT := $(Q)OCAMLRUNPARAM=\"b1\" boot/rustboot$(X) $(CFG_BOOT_FLAGS) -L boot\n-STAGE0 := $(Q)$(call CFG_RUN_TARG,\\\n+STAGE0 := $(Q)$(call CFG_RUN_TARG,boot,\\\n                 stage0/rustc$(X) $(CFG_RUSTC_FLAGS) -L stage0)\n-STAGE1 := $(Q)$(call CFG_RUN_TARG,\\\n+STAGE1 := $(Q)$(call CFG_RUN_TARG,stage0, \\\n                 stage1/rustc$(X) $(CFG_RUSTC_FLAGS) -L stage1)\n+STAGE2 := $(Q)$(call CFG_RUN_TARG,stage1, \\\n+                stage2/rustc$(X) $(CFG_RUSTC_FLAGS) -L stage2)\n \n # \"Source\" files we generate in builddir along the way.\n GENERATED := boot/fe/lexer.ml boot/version.ml"}]}