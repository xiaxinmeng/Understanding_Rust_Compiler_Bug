{"sha": "59634bc1d43c56683ee752e23ee92e1b256b56e7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU5NjM0YmMxZDQzYzU2NjgzZWU3NTJlMjNlZTkyZTFiMjU2YjU2ZTc=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2019-07-05T18:35:19Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2019-07-18T06:18:41Z"}, "message": "Replace deref with as_deref", "tree": {"sha": "cd0cd1149de9b0e6435084300930dae55f4d30e8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cd0cd1149de9b0e6435084300930dae55f4d30e8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/59634bc1d43c56683ee752e23ee92e1b256b56e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/59634bc1d43c56683ee752e23ee92e1b256b56e7", "html_url": "https://github.com/rust-lang/rust/commit/59634bc1d43c56683ee752e23ee92e1b256b56e7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/59634bc1d43c56683ee752e23ee92e1b256b56e7/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f2a97210b2388a71fd9e3f8101c496ba51a6a45a", "url": "https://api.github.com/repos/rust-lang/rust/commits/f2a97210b2388a71fd9e3f8101c496ba51a6a45a", "html_url": "https://github.com/rust-lang/rust/commit/f2a97210b2388a71fd9e3f8101c496ba51a6a45a"}], "stats": {"total": 22, "additions": 11, "deletions": 11}, "files": [{"sha": "da4a25e0860b11b0228f2264a09a6496c4e5b847", "filename": "src/librustc/hir/print.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Flibrustc%2Fhir%2Fprint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Flibrustc%2Fhir%2Fprint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fprint.rs?ref=59634bc1d43c56683ee752e23ee92e1b256b56e7", "patch": "@@ -941,7 +941,7 @@ impl<'a> State<'a> {\n         self.maybe_print_comment(st.span.lo());\n         match st.node {\n             hir::StmtKind::Local(ref loc) => {\n-                self.print_local(loc.init.deref(), |this| this.print_local_decl(&loc));\n+                self.print_local(loc.init.as_deref(), |this| this.print_local_decl(&loc));\n             }\n             hir::StmtKind::Item(item) => {\n                 self.ann.nested(self, Nested::Item(item))"}, {"sha": "7dfc4b82515d1ec4bbb7163c81eaeb6f4f0405e4", "filename": "src/librustc_typeck/check/expr.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Flibrustc_typeck%2Fcheck%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Flibrustc_typeck%2Fcheck%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fexpr.rs?ref=59634bc1d43c56683ee752e23ee92e1b256b56e7", "patch": "@@ -226,7 +226,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                 tcx.mk_unit()\n             }\n             ExprKind::Break(destination, ref expr_opt) => {\n-                self.check_expr_break(destination, expr_opt.deref(), expr)\n+                self.check_expr_break(destination, expr_opt.as_deref(), expr)\n             }\n             ExprKind::Continue(destination) => {\n                 if destination.target_id.is_ok() {\n@@ -237,7 +237,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                 }\n             }\n             ExprKind::Ret(ref expr_opt) => {\n-                self.check_expr_return(expr_opt.deref(), expr)\n+                self.check_expr_return(expr_opt.as_deref(), expr)\n             }\n             ExprKind::Assign(ref lhs, ref rhs) => {\n                 self.check_expr_assign(expr, expected, lhs, rhs)"}, {"sha": "6270ed37859055c0e99067f2877ed35c8a13d14b", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=59634bc1d43c56683ee752e23ee92e1b256b56e7", "patch": "@@ -2137,7 +2137,7 @@ impl Context {\n         self.shared.fs.write(&final_file, &v)?;\n \n         // Generating settings page.\n-        let settings = Settings::new(self.shared.static_root_path.deref().unwrap_or(\"./\"),\n+        let settings = Settings::new(self.shared.static_root_path.as_deref().unwrap_or(\"./\"),\n                                      &self.shared.resource_suffix);\n         page.title = \"Rustdoc settings\";\n         page.description = \"Settings of Rustdoc\";"}, {"sha": "345f91437b82725ea92e7b25d0ada275d9938db7", "filename": "src/test/ui/issues/issue-50264-inner-deref-trait/option-as_deref.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Foption-as_deref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Foption-as_deref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Foption-as_deref.stderr?ref=59634bc1d43c56683ee752e23ee92e1b256b56e7", "patch": "@@ -2,7 +2,7 @@ error[E0599]: no method named `as_deref` found for type `std::option::Option<{in\n   --> $DIR/option-as_deref.rs:4:29\n    |\n LL |     let _result = &Some(42).as_deref();\n-   |                             ^^^^^^^^ help: did you mean: `as_ref`\n+   |                             ^^^^^^^^ help: there is a method with a similar name: `as_ref`\n    |\n    = note: the method `as_deref` exists but the following trait bounds were not satisfied:\n            `{integer} : std::ops::Deref`"}, {"sha": "5e016748770dc98ebade3318b8134c9759e31dc4", "filename": "src/test/ui/issues/issue-50264-inner-deref-trait/result-as_deref.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref.stderr?ref=59634bc1d43c56683ee752e23ee92e1b256b56e7", "patch": "@@ -2,7 +2,7 @@ error[E0599]: no method named `as_deref` found for type `std::result::Result<{in\n   --> $DIR/result-as_deref.rs:4:27\n    |\n LL |     let _result = &Ok(42).as_deref();\n-   |                           ^^^^^^^^ help: did you mean: `as_ref`\n+   |                           ^^^^^^^^ help: there is a method with a similar name: `as_ref`\n    |\n    = note: the method `as_deref` exists but the following trait bounds were not satisfied:\n            `{integer} : std::ops::Deref`"}, {"sha": "6dc13da548b1246a81e3597ea23b3e6cb9225f48", "filename": "src/test/ui/issues/issue-50264-inner-deref-trait/result-as_deref_err.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_err.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_err.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_err.stderr?ref=59634bc1d43c56683ee752e23ee92e1b256b56e7", "patch": "@@ -2,7 +2,7 @@ error[E0599]: no method named `as_deref_err` found for type `std::result::Result\n   --> $DIR/result-as_deref_err.rs:4:28\n    |\n LL |     let _result = &Err(41).as_deref_err();\n-   |                            ^^^^^^^^^^^^ help: did you mean: `as_deref_ok`\n+   |                            ^^^^^^^^^^^^ help: there is a method with a similar name: `as_deref_ok`\n    |\n    = note: the method `as_deref_err` exists but the following trait bounds were not satisfied:\n            `{integer} : std::ops::Deref`"}, {"sha": "f21e97388b6f4084b2453c4db26ac83d64fc8510", "filename": "src/test/ui/issues/issue-50264-inner-deref-trait/result-as_deref_mut.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_mut.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_mut.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_mut.stderr?ref=59634bc1d43c56683ee752e23ee92e1b256b56e7", "patch": "@@ -2,7 +2,7 @@ error[E0599]: no method named `as_deref_mut` found for type `std::result::Result\n   --> $DIR/result-as_deref_mut.rs:4:31\n    |\n LL |     let _result = &mut Ok(42).as_deref_mut();\n-   |                               ^^^^^^^^^^^^ help: did you mean: `as_deref_err`\n+   |                               ^^^^^^^^^^^^ help: there is a method with a similar name: `as_deref_err`\n    |\n    = note: the method `as_deref_mut` exists but the following trait bounds were not satisfied:\n            `{integer} : std::ops::DerefMut`"}, {"sha": "44c0c954eeeca414dd1a5f1d6bbde25f707d5853", "filename": "src/test/ui/issues/issue-50264-inner-deref-trait/result-as_deref_mut_err.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_mut_err.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_mut_err.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_mut_err.stderr?ref=59634bc1d43c56683ee752e23ee92e1b256b56e7", "patch": "@@ -2,7 +2,7 @@ error[E0599]: no method named `as_deref_mut_err` found for type `std::result::Re\n   --> $DIR/result-as_deref_mut_err.rs:4:32\n    |\n LL |     let _result = &mut Err(41).as_deref_mut_err();\n-   |                                ^^^^^^^^^^^^^^^^ help: did you mean: `as_deref_mut_ok`\n+   |                                ^^^^^^^^^^^^^^^^ help: there is a method with a similar name: `as_deref_mut_ok`\n    |\n    = note: the method `as_deref_mut_err` exists but the following trait bounds were not satisfied:\n            `{integer} : std::ops::DerefMut`"}, {"sha": "b8369c9b82e1a6d267e510da1a7362aeec4c876c", "filename": "src/test/ui/issues/issue-50264-inner-deref-trait/result-as_deref_mut_ok.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_mut_ok.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_mut_ok.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_mut_ok.stderr?ref=59634bc1d43c56683ee752e23ee92e1b256b56e7", "patch": "@@ -2,7 +2,7 @@ error[E0599]: no method named `as_deref_mut_ok` found for type `std::result::Res\n   --> $DIR/result-as_deref_mut_ok.rs:4:31\n    |\n LL |     let _result = &mut Ok(42).as_deref_mut_ok();\n-   |                               ^^^^^^^^^^^^^^^ help: did you mean: `as_deref_mut_err`\n+   |                               ^^^^^^^^^^^^^^^ help: there is a method with a similar name: `as_deref_mut_err`\n    |\n    = note: the method `as_deref_mut_ok` exists but the following trait bounds were not satisfied:\n            `{integer} : std::ops::DerefMut`"}, {"sha": "b26705a99e3bcee38fb3e0aca0e4223dc32f7ec6", "filename": "src/test/ui/issues/issue-50264-inner-deref-trait/result-as_deref_ok.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_ok.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/59634bc1d43c56683ee752e23ee92e1b256b56e7/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_ok.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-50264-inner-deref-trait%2Fresult-as_deref_ok.stderr?ref=59634bc1d43c56683ee752e23ee92e1b256b56e7", "patch": "@@ -2,7 +2,7 @@ error[E0599]: no method named `as_deref_ok` found for type `std::result::Result<\n   --> $DIR/result-as_deref_ok.rs:4:27\n    |\n LL |     let _result = &Ok(42).as_deref_ok();\n-   |                           ^^^^^^^^^^^ help: did you mean: `as_deref_err`\n+   |                           ^^^^^^^^^^^ help: there is a method with a similar name: `as_deref_err`\n    |\n    = note: the method `as_deref_ok` exists but the following trait bounds were not satisfied:\n            `{integer} : std::ops::Deref`"}]}