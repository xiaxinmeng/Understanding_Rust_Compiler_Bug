{"sha": "0d6d74e78ecb6d110de751c528e662fc61113e78", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBkNmQ3NGU3OGVjYjZkMTEwZGU3NTFjNTI4ZTY2MmZjNjExMTNlNzg=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-08-30T09:34:31Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-08-30T09:34:31Z"}, "message": "minor", "tree": {"sha": "65a79f939ccf4edde82a967584998883520a7d80", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/65a79f939ccf4edde82a967584998883520a7d80"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0d6d74e78ecb6d110de751c528e662fc61113e78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0d6d74e78ecb6d110de751c528e662fc61113e78", "html_url": "https://github.com/rust-lang/rust/commit/0d6d74e78ecb6d110de751c528e662fc61113e78", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0d6d74e78ecb6d110de751c528e662fc61113e78/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7d95d38ecb9b197721e2533ba98afbc2f91610d0", "url": "https://api.github.com/repos/rust-lang/rust/commits/7d95d38ecb9b197721e2533ba98afbc2f91610d0", "html_url": "https://github.com/rust-lang/rust/commit/7d95d38ecb9b197721e2533ba98afbc2f91610d0"}], "stats": {"total": 36, "additions": 18, "deletions": 18}, "files": [{"sha": "02eaf7b1cfbdc205eb2100f79816f128879bf3ce", "filename": "crates/libanalysis/src/api.rs", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/0d6d74e78ecb6d110de751c528e662fc61113e78/crates%2Flibanalysis%2Fsrc%2Fapi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0d6d74e78ecb6d110de751c528e662fc61113e78/crates%2Flibanalysis%2Fsrc%2Fapi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Flibanalysis%2Fsrc%2Fapi.rs?ref=0d6d74e78ecb6d110de751c528e662fc61113e78", "patch": "@@ -109,19 +109,3 @@ impl Analysis {\n         self.imp.diagnostics(file_id)\n     }\n }\n-\n-impl SourceChange {\n-    pub(crate) fn from_local_edit(file_id: FileId, label: &str, edit: LocalEdit) -> SourceChange {\n-        let file_edit = SourceFileEdit {\n-            file_id,\n-            edits: edit.edit.into_atoms(),\n-        };\n-        SourceChange {\n-            label: label.to_string(),\n-            source_file_edits: vec![file_edit],\n-            file_system_edits: vec![],\n-            cursor_position: edit.cursor_position\n-                .map(|offset| Position { offset, file_id })\n-        }\n-    }\n-}"}, {"sha": "5f451f53f9e9c9afa840a45da8e25422ea5a7965", "filename": "crates/libanalysis/src/imp.rs", "status": "modified", "additions": 18, "deletions": 2, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/0d6d74e78ecb6d110de751c528e662fc61113e78/crates%2Flibanalysis%2Fsrc%2Fimp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0d6d74e78ecb6d110de751c528e662fc61113e78/crates%2Flibanalysis%2Fsrc%2Fimp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Flibanalysis%2Fsrc%2Fimp.rs?ref=0d6d74e78ecb6d110de751c528e662fc61113e78", "patch": "@@ -16,10 +16,10 @@ use libsyntax2::{\n };\n use rayon::prelude::*;\n use once_cell::sync::OnceCell;\n-use libeditor::{self, FileSymbol, LineIndex, find_node_at_offset};\n+use libeditor::{self, FileSymbol, LineIndex, find_node_at_offset, LocalEdit};\n \n use {\n-    FileId, FileResolver, Query, Diagnostic, SourceChange, FileSystemEdit,\n+    FileId, FileResolver, Query, Diagnostic, SourceChange, SourceFileEdit, Position, FileSystemEdit,\n     module_map::Problem,\n     symbol_index::FileSymbols,\n     module_map::ModuleMap,\n@@ -289,3 +289,19 @@ impl FileData {\n             .get_or_init(|| FileSymbols::new(&syntax))\n     }\n }\n+\n+impl SourceChange {\n+    pub(crate) fn from_local_edit(file_id: FileId, label: &str, edit: LocalEdit) -> SourceChange {\n+        let file_edit = SourceFileEdit {\n+            file_id,\n+            edits: edit.edit.into_atoms(),\n+        };\n+        SourceChange {\n+            label: label.to_string(),\n+            source_file_edits: vec![file_edit],\n+            file_system_edits: vec![],\n+            cursor_position: edit.cursor_position\n+                .map(|offset| Position { offset, file_id })\n+        }\n+    }\n+}"}]}