{"sha": "40d85a5f7d102d0ffba6abb5ca22df47e8778d7d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQwZDg1YTVmN2QxMDJkMGZmYmE2YWJiNWNhMjJkZjQ3ZTg3NzhkN2Q=", "commit": {"author": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2021-02-15T15:07:02Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-02-15T15:07:02Z"}, "message": "Rollup merge of #82106 - jyn514:cleanup-bootstrap, r=Mark-Simulacrum\n\nRemove unnecessary `Option` in `default_doc`\n\nPreviously, there were two different ways to encode the same info: `None` or\n`Some(&[])`. Now there is only one way, `&[]`.", "tree": {"sha": "6f5cf02f3160801ff162d5ba7b24ab1375463f41", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6f5cf02f3160801ff162d5ba7b24ab1375463f41"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/40d85a5f7d102d0ffba6abb5ca22df47e8778d7d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgKo4XCRBK7hj4Ov3rIwAAdHIIAIoxTnjYwoZsH7/tl2vuSiMU\nE8qHwSWzwx6OgqDbCNxbGdOkl+Q8PszwYdI6f2nOT1Lwe4ZxadLUBVbydlVfAys+\nL9MhFrG68lMLlvwG+O2qqtVMUWXWUpMprsepDxRQ5ywKDHbxHyA6D0hJYWWmvzbz\nd4lblGjZGVFfimBzbpt51H9UVaaemSPZ0h5Be+qulYI9jYq5fqOHwzWuLlDEk8O8\nrbtrvY1XXbElyclDj13cPZJ0EQD3TQY7vr5ulVFdd3anyzSc2pIoI7zZHvvPclJ6\n9QsXn7mZUcDQy5qhbsMemKHu/Z+QLvQ4F4xNluKqiocnI094fquHVitKGklNFwM=\n=lMDp\n-----END PGP SIGNATURE-----\n", "payload": "tree 6f5cf02f3160801ff162d5ba7b24ab1375463f41\nparent db5ae6a6265e12e50f6e3002e37d72d06f46b3b7\nparent c58386012623d6f3940f28451d2e7088bce6ae58\nauthor Jonas Schievink <jonasschievink@gmail.com> 1613401622 +0100\ncommitter GitHub <noreply@github.com> 1613401622 +0100\n\nRollup merge of #82106 - jyn514:cleanup-bootstrap, r=Mark-Simulacrum\n\nRemove unnecessary `Option` in `default_doc`\n\nPreviously, there were two different ways to encode the same info: `None` or\n`Some(&[])`. Now there is only one way, `&[]`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/40d85a5f7d102d0ffba6abb5ca22df47e8778d7d", "html_url": "https://github.com/rust-lang/rust/commit/40d85a5f7d102d0ffba6abb5ca22df47e8778d7d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/40d85a5f7d102d0ffba6abb5ca22df47e8778d7d/comments", "author": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db5ae6a6265e12e50f6e3002e37d72d06f46b3b7", "url": "https://api.github.com/repos/rust-lang/rust/commits/db5ae6a6265e12e50f6e3002e37d72d06f46b3b7", "html_url": "https://github.com/rust-lang/rust/commit/db5ae6a6265e12e50f6e3002e37d72d06f46b3b7"}, {"sha": "c58386012623d6f3940f28451d2e7088bce6ae58", "url": "https://api.github.com/repos/rust-lang/rust/commits/c58386012623d6f3940f28451d2e7088bce6ae58", "html_url": "https://github.com/rust-lang/rust/commit/c58386012623d6f3940f28451d2e7088bce6ae58"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "a9099981e644a83f425a65dfd65622e6f4dd9319", "filename": "src/bootstrap/builder.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/40d85a5f7d102d0ffba6abb5ca22df47e8778d7d/src%2Fbootstrap%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40d85a5f7d102d0ffba6abb5ca22df47e8778d7d/src%2Fbootstrap%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbuilder.rs?ref=40d85a5f7d102d0ffba6abb5ca22df47e8778d7d", "patch": "@@ -579,8 +579,7 @@ impl<'a> Builder<'a> {\n         self.run_step_descriptions(&Builder::get_step_descriptions(self.kind), &self.paths);\n     }\n \n-    pub fn default_doc(&self, paths: Option<&[PathBuf]>) {\n-        let paths = paths.unwrap_or(&[]);\n+    pub fn default_doc(&self, paths: &[PathBuf]) {\n         self.run_step_descriptions(&Builder::get_step_descriptions(Kind::Doc), paths);\n     }\n "}, {"sha": "802b5c99500cce32ff5b18dfe6df166df6351b28", "filename": "src/bootstrap/dist.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40d85a5f7d102d0ffba6abb5ca22df47e8778d7d/src%2Fbootstrap%2Fdist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40d85a5f7d102d0ffba6abb5ca22df47e8778d7d/src%2Fbootstrap%2Fdist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdist.rs?ref=40d85a5f7d102d0ffba6abb5ca22df47e8778d7d", "patch": "@@ -68,7 +68,7 @@ impl Step for Docs {\n         if !builder.config.docs {\n             return None;\n         }\n-        builder.default_doc(None);\n+        builder.default_doc(&[]);\n \n         let dest = \"share/doc/rust/html\";\n \n@@ -103,7 +103,7 @@ impl Step for RustcDocs {\n         if !builder.config.compiler_docs {\n             return None;\n         }\n-        builder.default_doc(None);\n+        builder.default_doc(&[]);\n \n         let mut tarball = Tarball::new(builder, \"rustc-docs\", &host.triple);\n         tarball.set_product_name(\"Rustc Documentation\");"}, {"sha": "7830dc82394649197a93a952bedd47fd33b36d51", "filename": "src/bootstrap/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40d85a5f7d102d0ffba6abb5ca22df47e8778d7d/src%2Fbootstrap%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40d85a5f7d102d0ffba6abb5ca22df47e8778d7d/src%2Fbootstrap%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftest.rs?ref=40d85a5f7d102d0ffba6abb5ca22df47e8778d7d", "patch": "@@ -111,7 +111,7 @@ impl Step for Linkcheck {\n \n         builder.info(&format!(\"Linkcheck ({})\", host));\n \n-        builder.default_doc(None);\n+        builder.default_doc(&[]);\n \n         let _time = util::timeit(&builder);\n         try_run("}]}