{"sha": "fa0755c9fd9f7c43fbd313db32935ff37e588ee2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZhMDc1NWM5ZmQ5ZjdjNDNmYmQzMTNkYjMyOTM1ZmYzN2U1ODhlZTI=", "commit": {"author": {"name": "Tim Diekmann", "email": "tim.diekmann@3dvision.de", "date": "2019-04-07T23:12:50Z"}, "committer": {"name": "Tim Diekmann", "email": "tim.diekmann@3dvision.de", "date": "2019-04-07T23:12:50Z"}, "message": "Add calloc test", "tree": {"sha": "6f081ff25cab4518fcc1ab5a758adb0fbcafd10a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6f081ff25cab4518fcc1ab5a758adb0fbcafd10a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fa0755c9fd9f7c43fbd313db32935ff37e588ee2", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCgAdFiEELQoiL21itfwzY62qWM12+I31Y+AFAlyqg/IACgkQWM12+I31\nY+DVfggAxgV2AWkyM9cylOEIU0py7DKgqqLC9Ujv53Le9hG42iSWfqaN/0bX89cS\nxQcwDAP5Emh9G0XBjVBLHsETy3fYpm6XmCXSGgXjXlQnveaiTFvvKI6c/V4hgr5o\nUA3BlMrvAvZwFp6LuDTebTuZ3GNIVtd1kUQMwULJR9ZYMCxhkn8C0UVE36iiOlHW\nEGZyA83atBxI0ZpWmrZC69JwUj3lU13fNzDXzaeS8Yb0qPUMTcL+zmrtOZkcLdjt\nAcfE3nk/jgOneCLeKfzSIiitdQoJqECIRuIEh4g8VL5zh20MXnZ1TyTn10mboCSC\nVzn8hPUTyUFdibnlBLYKAfAoVULNKQ==\n=TIzq\n-----END PGP SIGNATURE-----", "payload": "tree 6f081ff25cab4518fcc1ab5a758adb0fbcafd10a\nparent a59e155206ca596722a67e967848fa2d3e516e8c\nauthor Tim Diekmann <tim.diekmann@3dvision.de> 1554678770 +0200\ncommitter Tim Diekmann <tim.diekmann@3dvision.de> 1554678770 +0200\n\nAdd calloc test\n\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fa0755c9fd9f7c43fbd313db32935ff37e588ee2", "html_url": "https://github.com/rust-lang/rust/commit/fa0755c9fd9f7c43fbd313db32935ff37e588ee2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fa0755c9fd9f7c43fbd313db32935ff37e588ee2/comments", "author": {"login": "TimDiekmann", "id": 21277928, "node_id": "MDQ6VXNlcjIxMjc3OTI4", "avatar_url": "https://avatars.githubusercontent.com/u/21277928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimDiekmann", "html_url": "https://github.com/TimDiekmann", "followers_url": "https://api.github.com/users/TimDiekmann/followers", "following_url": "https://api.github.com/users/TimDiekmann/following{/other_user}", "gists_url": "https://api.github.com/users/TimDiekmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimDiekmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimDiekmann/subscriptions", "organizations_url": "https://api.github.com/users/TimDiekmann/orgs", "repos_url": "https://api.github.com/users/TimDiekmann/repos", "events_url": "https://api.github.com/users/TimDiekmann/events{/privacy}", "received_events_url": "https://api.github.com/users/TimDiekmann/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TimDiekmann", "id": 21277928, "node_id": "MDQ6VXNlcjIxMjc3OTI4", "avatar_url": "https://avatars.githubusercontent.com/u/21277928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimDiekmann", "html_url": "https://github.com/TimDiekmann", "followers_url": "https://api.github.com/users/TimDiekmann/followers", "following_url": "https://api.github.com/users/TimDiekmann/following{/other_user}", "gists_url": "https://api.github.com/users/TimDiekmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimDiekmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimDiekmann/subscriptions", "organizations_url": "https://api.github.com/users/TimDiekmann/orgs", "repos_url": "https://api.github.com/users/TimDiekmann/repos", "events_url": "https://api.github.com/users/TimDiekmann/events{/privacy}", "received_events_url": "https://api.github.com/users/TimDiekmann/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a59e155206ca596722a67e967848fa2d3e516e8c", "url": "https://api.github.com/repos/rust-lang/rust/commits/a59e155206ca596722a67e967848fa2d3e516e8c", "html_url": "https://github.com/rust-lang/rust/commit/a59e155206ca596722a67e967848fa2d3e516e8c"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "8e8e2e5f10f4f9fb8b20cb38a76b1873af4808e5", "filename": "tests/run-pass/calloc.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/fa0755c9fd9f7c43fbd313db32935ff37e588ee2/tests%2Frun-pass%2Fcalloc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa0755c9fd9f7c43fbd313db32935ff37e588ee2/tests%2Frun-pass%2Fcalloc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fcalloc.rs?ref=fa0755c9fd9f7c43fbd313db32935ff37e588ee2", "patch": "@@ -0,0 +1,26 @@\n+//ignore-windows: Uses POSIX APIs\n+\n+#![feature(rustc_private)]\n+\n+use core::slice;\n+\n+extern crate libc;\n+\n+fn main() {\n+    unsafe {\n+        let p1 = libc::calloc(0, 0);\n+        assert!(p1.is_null());\n+\n+        let p2 = libc::calloc(20, 0);\n+        assert!(p2.is_null());\n+\n+        let p3 = libc::calloc(0, 20);\n+        assert!(p3.is_null());\n+\n+        let p4 = libc::calloc(4, 8) as *const u8;\n+        assert!(!p4.is_null());\n+\n+        let slice = slice::from_raw_parts(p4, 4 * 8);\n+        assert_eq!(&slice, &[0_u8; 4 * 8]);\n+    }\n+}"}]}