{"sha": "f0cc060b4147ad7cfc6666dc1986adb213a0ceaf", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYwY2MwNjBiNDE0N2FkN2NmYzY2NjZkYzE5ODZhZGIyMTNhMGNlYWY=", "commit": {"author": {"name": "Nick Cameron", "email": "nrc@ncameron.org", "date": "2017-07-27T02:27:06Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-07-27T02:27:06Z"}, "message": "Merge pull request #1827 from topecongiro/default-keyword\n\nFormat defaultness", "tree": {"sha": "2aba48c3888b34d4437ebb70d80a209333795abd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2aba48c3888b34d4437ebb70d80a209333795abd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f0cc060b4147ad7cfc6666dc1986adb213a0ceaf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f0cc060b4147ad7cfc6666dc1986adb213a0ceaf", "html_url": "https://github.com/rust-lang/rust/commit/f0cc060b4147ad7cfc6666dc1986adb213a0ceaf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f0cc060b4147ad7cfc6666dc1986adb213a0ceaf/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1f991d00e0268976111dc21d8ec82425b9dd5186", "url": "https://api.github.com/repos/rust-lang/rust/commits/1f991d00e0268976111dc21d8ec82425b9dd5186", "html_url": "https://github.com/rust-lang/rust/commit/1f991d00e0268976111dc21d8ec82425b9dd5186"}, {"sha": "c3cc8fcb13b6eac21721d1932b14b249d3d2c896", "url": "https://api.github.com/repos/rust-lang/rust/commits/c3cc8fcb13b6eac21721d1932b14b249d3d2c896", "html_url": "https://github.com/rust-lang/rust/commit/c3cc8fcb13b6eac21721d1932b14b249d3d2c896"}], "stats": {"total": 22, "additions": 18, "deletions": 4}, "files": [{"sha": "924c6b22969a6df42f1bcc2cdd43063e36c3b494", "filename": "src/items.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f0cc060b4147ad7cfc6666dc1986adb213a0ceaf/src%2Fitems.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f0cc060b4147ad7cfc6666dc1986adb213a0ceaf/src%2Fitems.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fitems.rs?ref=f0cc060b4147ad7cfc6666dc1986adb213a0ceaf", "patch": "@@ -26,9 +26,9 @@ use lists::{definitive_tactic, itemize_list, write_list, DefinitiveListTactic, L\n             ListItem, ListTactic, SeparatorTactic};\n use rewrite::{Rewrite, RewriteContext};\n use types::join_bounds;\n-use utils::{colon_spaces, contains_skip, end_typaram, format_mutability, format_unsafety,\n-            format_visibility, last_line_width, mk_sp, semicolon_for_expr, stmt_expr,\n-            trim_newlines, trimmed_last_line_width, wrap_str};\n+use utils::{colon_spaces, contains_skip, end_typaram, format_defaultness, format_mutability,\n+            format_unsafety, format_visibility, last_line_width, mk_sp, semicolon_for_expr,\n+            stmt_expr, trim_newlines, trimmed_last_line_width, wrap_str};\n use vertical::rewrite_with_alignment;\n use visitor::FmtVisitor;\n \n@@ -695,7 +695,7 @@ fn format_impl_ref_and_type(\n     if let ast::ItemKind::Impl(\n         unsafety,\n         polarity,\n-        _,\n+        defaultness,\n         ref generics,\n         ref trait_ref,\n         ref self_ty,\n@@ -705,6 +705,7 @@ fn format_impl_ref_and_type(\n         let mut result = String::new();\n \n         result.push_str(&format_visibility(&item.vis));\n+        result.push_str(&format_defaultness(defaultness));\n         result.push_str(format_unsafety(unsafety));\n         result.push_str(\"impl\");\n "}, {"sha": "56dde6c247a333e835fab7ae29e6c2e40e48e22f", "filename": "src/utils.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f0cc060b4147ad7cfc6666dc1986adb213a0ceaf/src%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f0cc060b4147ad7cfc6666dc1986adb213a0ceaf/src%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Futils.rs?ref=f0cc060b4147ad7cfc6666dc1986adb213a0ceaf", "patch": "@@ -56,6 +56,14 @@ pub fn format_visibility(vis: &Visibility) -> Cow<'static, str> {\n     }\n }\n \n+#[inline]\n+pub fn format_defaultness(defaultness: ast::Defaultness) -> &'static str {\n+    match defaultness {\n+        ast::Defaultness::Default => \"default \",\n+        ast::Defaultness::Final => \"\",\n+    }\n+}\n+\n #[inline]\n pub fn format_unsafety(unsafety: ast::Unsafety) -> &'static str {\n     match unsafety {"}, {"sha": "c0db6769512df1546cf42c050a1b2df8234f6ce3", "filename": "tests/target/impl.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f0cc060b4147ad7cfc6666dc1986adb213a0ceaf/tests%2Ftarget%2Fimpl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f0cc060b4147ad7cfc6666dc1986adb213a0ceaf/tests%2Ftarget%2Fimpl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fimpl.rs?ref=f0cc060b4147ad7cfc6666dc1986adb213a0ceaf", "patch": "@@ -26,3 +26,8 @@ where\n     T: Clone,\n {\n }\n+\n+// #1823\n+default impl Trait for X {}\n+default unsafe impl Trait for Y {}\n+pub default unsafe impl Trait for Z {}"}]}