{"sha": "6a1b4912bf2d65ac2176cddf6556eb7c68ba5b31", "node_id": "C_kwDOAAsO6NoAKDZhMWI0OTEyYmYyZDY1YWMyMTc2Y2RkZjY1NTZlYjdjNjhiYTViMzE", "commit": {"author": {"name": "Jeroen Vannevel", "email": "jer_vannevel@outlook.com", "date": "2022-01-10T18:14:29Z"}, "committer": {"name": "Jeroen Vannevel", "email": "jer_vannevel@outlook.com", "date": "2022-01-14T01:32:09Z"}, "message": "removed some unused stuff", "tree": {"sha": "27c258144cc2131064b0c5dc858dd654e66a1d09", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/27c258144cc2131064b0c5dc858dd654e66a1d09"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6a1b4912bf2d65ac2176cddf6556eb7c68ba5b31", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCAAdFiEEEzoFOOQgvfPzrDpfeO9fUvOMSb0FAmHg0poACgkQeO9fUvOM\nSb2BjQv+KqDkmzdNRd9LJAH6x5OknPIvSYuwqtAsEl2z6Oz6Dc7f8JG9n5IoI7Zm\naoIWtw8d3sMM5MACkzfaGeUzxB/Yyw6zgF44plnjCDER05byC8yHQDonrNn+RXK/\nOsEBiYzSk38Vj1CBnb17kFObgGbFr4KF909Spm+VWlAnWBIoZTv3hd0SFKXD3hPM\n3l61tnNAGedeOkGMK5oZeAtMepmhHMB4mHhv91d4nBYel6BasuZPf7dNqahnYody\ndkdjk1wDJxmy/NcrEkbxrCMis3kuzw86XwCB7/k3cx8XQv7wXwR6+s84GG5eSN6N\nppiBXMSn1q3XTOXvGI1DjsXqDOSEXLtZJq4MzOCYwMjQc1XQ08KNy2/u1gdCpkqO\nEXvErPBYoCbF7ReeeGmE2wcrABw6jjUIeOoqInCgOFn/4M6fFei9E9yfmNCzJqoM\numitnhP9W/NAH/b4Njs5rDNTIqyfA1DYlvY2YE7fdHM5SFgKDaT6mm2cqCVF5IOh\nrd9o7ZIq\n=Mr2k\n-----END PGP SIGNATURE-----", "payload": "tree 27c258144cc2131064b0c5dc858dd654e66a1d09\nparent c9fc91822f4bd110bdda7fb30d568871139f72d0\nauthor Jeroen Vannevel <jer_vannevel@outlook.com> 1641838469 +0000\ncommitter Jeroen Vannevel <jer_vannevel@outlook.com> 1642123929 +0000\n\nremoved some unused stuff\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6a1b4912bf2d65ac2176cddf6556eb7c68ba5b31", "html_url": "https://github.com/rust-lang/rust/commit/6a1b4912bf2d65ac2176cddf6556eb7c68ba5b31", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6a1b4912bf2d65ac2176cddf6556eb7c68ba5b31/comments", "author": {"login": "Vannevelj", "id": 2777107, "node_id": "MDQ6VXNlcjI3NzcxMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2777107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vannevelj", "html_url": "https://github.com/Vannevelj", "followers_url": "https://api.github.com/users/Vannevelj/followers", "following_url": "https://api.github.com/users/Vannevelj/following{/other_user}", "gists_url": "https://api.github.com/users/Vannevelj/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vannevelj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vannevelj/subscriptions", "organizations_url": "https://api.github.com/users/Vannevelj/orgs", "repos_url": "https://api.github.com/users/Vannevelj/repos", "events_url": "https://api.github.com/users/Vannevelj/events{/privacy}", "received_events_url": "https://api.github.com/users/Vannevelj/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Vannevelj", "id": 2777107, "node_id": "MDQ6VXNlcjI3NzcxMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2777107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vannevelj", "html_url": "https://github.com/Vannevelj", "followers_url": "https://api.github.com/users/Vannevelj/followers", "following_url": "https://api.github.com/users/Vannevelj/following{/other_user}", "gists_url": "https://api.github.com/users/Vannevelj/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vannevelj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vannevelj/subscriptions", "organizations_url": "https://api.github.com/users/Vannevelj/orgs", "repos_url": "https://api.github.com/users/Vannevelj/repos", "events_url": "https://api.github.com/users/Vannevelj/events{/privacy}", "received_events_url": "https://api.github.com/users/Vannevelj/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c9fc91822f4bd110bdda7fb30d568871139f72d0", "url": "https://api.github.com/repos/rust-lang/rust/commits/c9fc91822f4bd110bdda7fb30d568871139f72d0", "html_url": "https://github.com/rust-lang/rust/commit/c9fc91822f4bd110bdda7fb30d568871139f72d0"}], "stats": {"total": 12, "additions": 2, "deletions": 10}, "files": [{"sha": "81089771e163fc95d2cb0233dabe0730a987e830", "filename": "crates/ide_assists/src/handlers/merge_match_arms.rs", "status": "modified", "additions": 2, "deletions": 10, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/6a1b4912bf2d65ac2176cddf6556eb7c68ba5b31/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fmerge_match_arms.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a1b4912bf2d65ac2176cddf6556eb7c68ba5b31/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fmerge_match_arms.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fmerge_match_arms.rs?ref=6a1b4912bf2d65ac2176cddf6556eb7c68ba5b31", "patch": "@@ -48,7 +48,7 @@ pub(crate) fn merge_match_arms(acc: &mut Assists, ctx: &AssistContext) -> Option\n     // compare to the previous match arm as well.\n     let arms_to_merge = successors(Some(current_arm), |it| neighbor(it, Direction::Next))\n         .take_while(|arm| match arm.expr() {\n-            Some(expr) if arm.guard().is_none() && arm.pat().is_some() => {\n+            Some(expr) if arm.guard().is_none() => {\n                 let same_text = expr.syntax().text() == current_expr.syntax().text();\n                 if !same_text {\n                     return false;\n@@ -59,15 +59,7 @@ pub(crate) fn merge_match_arms(acc: &mut Assists, ctx: &AssistContext) -> Option\n                     let other_arm_type = &arm_types[i].as_ref();\n                     let current_arm_type = current_arm_types[i].as_ref();\n                     if let (Some(other_arm_type), Some(current_arm_type)) = (other_arm_type, current_arm_type) {\n-                        let other_arm_type = &other_arm_type.original;\n-                        let current_arm_type = &current_arm_type.original;\n-\n-                        println!(\"Same types!\");\n-                        println!(\"{:?}\", other_arm_type);\n-                        println!(\"{:?}\", current_arm_type);\n-                        return other_arm_type == current_arm_type;\n-\n-                        \n+                        return &other_arm_type.original == &current_arm_type.original;\n                     }\n                 }\n "}]}