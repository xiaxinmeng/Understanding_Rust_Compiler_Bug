{"sha": "f377ac5e665911877ea9d94708fc2357e08eab9c", "node_id": "C_kwDOAAsO6NoAKGYzNzdhYzVlNjY1OTExODc3ZWE5ZDk0NzA4ZmMyMzU3ZTA4ZWFiOWM", "commit": {"author": {"name": "Jacob Hoffman-Andrews", "email": "github@hoffman-andrews.com", "date": "2021-11-22T05:09:23Z"}, "committer": {"name": "Jacob Hoffman-Andrews", "email": "github@hoffman-andrews.com", "date": "2021-11-22T05:09:23Z"}, "message": "rustdoc-gui/tester: print full filename on error\n\nThis makes it easier to find the test that needs fixing.", "tree": {"sha": "a51e7439a043e8f6a019f305989c995b9febb8d1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a51e7439a043e8f6a019f305989c995b9febb8d1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f377ac5e665911877ea9d94708fc2357e08eab9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f377ac5e665911877ea9d94708fc2357e08eab9c", "html_url": "https://github.com/rust-lang/rust/commit/f377ac5e665911877ea9d94708fc2357e08eab9c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f377ac5e665911877ea9d94708fc2357e08eab9c/comments", "author": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ce3f3a5ffa7452131cde06c003cc2eaa7c729bfb", "url": "https://api.github.com/repos/rust-lang/rust/commits/ce3f3a5ffa7452131cde06c003cc2eaa7c729bfb", "html_url": "https://github.com/rust-lang/rust/commit/ce3f3a5ffa7452131cde06c003cc2eaa7c729bfb"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "0d6a2605d4f2aabb09a0f76635c6d918de5569ec", "filename": "src/tools/rustdoc-gui/tester.js", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f377ac5e665911877ea9d94708fc2357e08eab9c/src%2Ftools%2Frustdoc-gui%2Ftester.js", "raw_url": "https://github.com/rust-lang/rust/raw/f377ac5e665911877ea9d94708fc2357e08eab9c/src%2Ftools%2Frustdoc-gui%2Ftester.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frustdoc-gui%2Ftester.js?ref=f377ac5e665911877ea9d94708fc2357e08eab9c", "patch": "@@ -194,7 +194,7 @@ async function main(argv) {\n             .then(out => {\n                 const [output, nb_failures] = out;\n                 results[nb_failures === 0 ? \"successful\" : \"failed\"].push({\n-                    file_name: file_name,\n+                    file_name: testPath,\n                     output: output,\n                 });\n                 if (nb_failures > 0) {\n@@ -206,7 +206,7 @@ async function main(argv) {\n             })\n             .catch(err => {\n                 results.errored.push({\n-                    file_name: file_name,\n+                    file_name: testPath + file_name,\n                     output: err,\n                 });\n                 status_bar.erroneous();\n@@ -239,15 +239,15 @@ async function main(argv) {\n         console.log(\"\");\n         results.failed.sort(by_filename);\n         results.failed.forEach(r => {\n-            console.log(r.output);\n+            console.log(r.file_name, r.output);\n         });\n     }\n     if (results.errored.length > 0) {\n         console.log(os.EOL);\n         // print run errors on the bottom so developers see them better\n         results.errored.sort(by_filename);\n         results.errored.forEach(r => {\n-            console.error(r.output);\n+            console.error(r.file_name, r.output);\n         });\n     }\n "}]}