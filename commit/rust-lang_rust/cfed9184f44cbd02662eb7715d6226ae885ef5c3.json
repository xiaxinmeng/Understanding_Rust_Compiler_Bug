{"sha": "cfed9184f44cbd02662eb7715d6226ae885ef5c3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNmZWQ5MTg0ZjQ0Y2JkMDI2NjJlYjc3MTVkNjIyNmFlODg1ZWY1YzM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-11-27T00:18:24Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-11-27T00:18:24Z"}, "message": "Auto merge of #79266 - b-naber:gat_trait_path_parser, r=petrochenkov\n\nGeneric Associated Types in Trait Paths - Ast part\n\nThe Ast part of https://github.com/rust-lang/rust/pull/78978\n\nr? `@petrochenkov`", "tree": {"sha": "4d96abae2d8073f2f288f09b175e628be6db2549", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4d96abae2d8073f2f288f09b175e628be6db2549"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cfed9184f44cbd02662eb7715d6226ae885ef5c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cfed9184f44cbd02662eb7715d6226ae885ef5c3", "html_url": "https://github.com/rust-lang/rust/commit/cfed9184f44cbd02662eb7715d6226ae885ef5c3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cfed9184f44cbd02662eb7715d6226ae885ef5c3/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cb56a4420c8d41aab5c569c0fb6e51098d3a4745", "url": "https://api.github.com/repos/rust-lang/rust/commits/cb56a4420c8d41aab5c569c0fb6e51098d3a4745", "html_url": "https://github.com/rust-lang/rust/commit/cb56a4420c8d41aab5c569c0fb6e51098d3a4745"}, {"sha": "5c4568d08b00dbd437aa7f4e572b41b598ee9734", "url": "https://api.github.com/repos/rust-lang/rust/commits/5c4568d08b00dbd437aa7f4e572b41b598ee9734", "html_url": "https://github.com/rust-lang/rust/commit/5c4568d08b00dbd437aa7f4e572b41b598ee9734"}], "stats": {"total": 507, "additions": 447, "deletions": 60}, "files": [{"sha": "92b58782465bfa76dbc70d8031ef882464aef6fb", "filename": "compiler/rustc_ast/src/ast.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_ast%2Fsrc%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_ast%2Fsrc%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast%2Fsrc%2Fast.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1845,6 +1845,7 @@ impl UintTy {\n pub struct AssocTyConstraint {\n     pub id: NodeId,\n     pub ident: Ident,\n+    pub gen_args: Option<GenericArgs>,\n     pub kind: AssocTyConstraintKind,\n     pub span: Span,\n }"}, {"sha": "878196a69338128541c9d45030effb51226e9718", "filename": "compiler/rustc_ast/src/mut_visit.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_ast%2Fsrc%2Fmut_visit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_ast%2Fsrc%2Fmut_visit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast%2Fsrc%2Fmut_visit.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -441,11 +441,14 @@ pub fn noop_flat_map_arm<T: MutVisitor>(mut arm: Arm, vis: &mut T) -> SmallVec<[\n }\n \n pub fn noop_visit_ty_constraint<T: MutVisitor>(\n-    AssocTyConstraint { id, ident, kind, span }: &mut AssocTyConstraint,\n+    AssocTyConstraint { id, ident, gen_args, kind, span }: &mut AssocTyConstraint,\n     vis: &mut T,\n ) {\n     vis.visit_id(id);\n     vis.visit_ident(ident);\n+    if let Some(ref mut gen_args) = gen_args {\n+        vis.visit_generic_args(gen_args);\n+    }\n     match kind {\n         AssocTyConstraintKind::Equality { ref mut ty } => {\n             vis.visit_ty(ty);"}, {"sha": "60ff956bd96246ce941f168267fa5bef2d765dbc", "filename": "compiler/rustc_ast/src/visit.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_ast%2Fsrc%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_ast%2Fsrc%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast%2Fsrc%2Fvisit.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -485,6 +485,9 @@ pub fn walk_assoc_ty_constraint<'a, V: Visitor<'a>>(\n     constraint: &'a AssocTyConstraint,\n ) {\n     visitor.visit_ident(constraint.ident);\n+    if let Some(ref gen_args) = constraint.gen_args {\n+        visitor.visit_generic_args(gen_args.span(), gen_args);\n+    }\n     match constraint.kind {\n         AssocTyConstraintKind::Equality { ref ty } => {\n             visitor.visit_ty(ty);"}, {"sha": "eb45a0e1c0582a652055d34da8e5c051833b1bd1", "filename": "compiler/rustc_ast_lowering/src/lib.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_ast_lowering%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_ast_lowering%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_lowering%2Fsrc%2Flib.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1000,6 +1000,13 @@ impl<'a, 'hir> LoweringContext<'a, 'hir> {\n     ) -> hir::TypeBinding<'hir> {\n         debug!(\"lower_assoc_ty_constraint(constraint={:?}, itctx={:?})\", constraint, itctx);\n \n+        if let Some(ref gen_args) = constraint.gen_args {\n+            self.sess.span_fatal(\n+                gen_args.span(),\n+                \"generic associated types in trait paths are currently not implemented\",\n+            );\n+        }\n+\n         let kind = match constraint.kind {\n             AssocTyConstraintKind::Equality { ref ty } => {\n                 hir::TypeBindingKind::Equality { ty: self.lower_ty(ty, itctx) }"}, {"sha": "4ec3e39facc9f6b6b05e36f97cdc389dc7d78ca6", "filename": "compiler/rustc_ast_passes/src/ast_validation.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_ast_passes%2Fsrc%2Fast_validation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_ast_passes%2Fsrc%2Fast_validation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_passes%2Fsrc%2Fast_validation.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1372,16 +1372,18 @@ fn deny_equality_constraints(\n                         if param.ident == *ident {\n                             let param = ident;\n                             match &full_path.segments[qself.position..] {\n-                                [PathSegment { ident, .. }] => {\n+                                [PathSegment { ident, args, .. }] => {\n                                     // Make a new `Path` from `foo::Bar` to `Foo<Bar = RhsTy>`.\n                                     let mut assoc_path = full_path.clone();\n                                     // Remove `Bar` from `Foo::Bar`.\n                                     assoc_path.segments.pop();\n                                     let len = assoc_path.segments.len() - 1;\n+                                    let gen_args = args.as_ref().map(|p| (**p).clone());\n                                     // Build `<Bar = RhsTy>`.\n                                     let arg = AngleBracketedArg::Constraint(AssocTyConstraint {\n                                         id: rustc_ast::node_id::DUMMY_NODE_ID,\n                                         ident: *ident,\n+                                        gen_args,\n                                         kind: AssocTyConstraintKind::Equality {\n                                             ty: predicate.rhs_ty.clone(),\n                                         },"}, {"sha": "17e5bcf760504c944ba80eee89bf9137aeaae811", "filename": "compiler/rustc_parse/src/parser/path.rs", "status": "modified", "additions": 83, "deletions": 26, "changes": 109, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fpath.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -3,10 +3,9 @@ use super::{Parser, TokenType};\n use crate::maybe_whole;\n use rustc_ast::ptr::P;\n use rustc_ast::token::{self, Token};\n-use rustc_ast::{\n-    self as ast, AngleBracketedArg, AngleBracketedArgs, GenericArg, ParenthesizedArgs,\n-};\n+use rustc_ast::{self as ast, AngleBracketedArg, AngleBracketedArgs, ParenthesizedArgs};\n use rustc_ast::{AnonConst, AssocTyConstraint, AssocTyConstraintKind, BlockCheckMode};\n+use rustc_ast::{GenericArg, GenericArgs};\n use rustc_ast::{Path, PathSegment, QSelf};\n use rustc_errors::{pluralize, Applicability, PResult};\n use rustc_span::source_map::{BytePos, Span};\n@@ -414,32 +413,40 @@ impl<'a> Parser<'a> {\n \n     /// Parses a single argument in the angle arguments `<...>` of a path segment.\n     fn parse_angle_arg(&mut self) -> PResult<'a, Option<AngleBracketedArg>> {\n-        if self.check_ident() && self.look_ahead(1, |t| matches!(t.kind, token::Eq | token::Colon))\n-        {\n-            // Parse associated type constraint.\n-            let lo = self.token.span;\n-            let ident = self.parse_ident()?;\n-            let kind = if self.eat(&token::Eq) {\n-                let ty = self.parse_assoc_equality_term(ident, self.prev_token.span)?;\n-                AssocTyConstraintKind::Equality { ty }\n-            } else if self.eat(&token::Colon) {\n-                let bounds = self.parse_generic_bounds(Some(self.prev_token.span))?;\n-                AssocTyConstraintKind::Bound { bounds }\n-            } else {\n-                unreachable!();\n-            };\n+        let lo = self.token.span;\n+        let arg = self.parse_generic_arg()?;\n+        match arg {\n+            Some(arg) => {\n+                if self.check(&token::Colon) | self.check(&token::Eq) {\n+                    let (ident, gen_args) = self.get_ident_from_generic_arg(arg, lo)?;\n+                    let kind = if self.eat(&token::Colon) {\n+                        // Parse associated type constraint bound.\n+\n+                        let bounds = self.parse_generic_bounds(Some(self.prev_token.span))?;\n+                        AssocTyConstraintKind::Bound { bounds }\n+                    } else if self.eat(&token::Eq) {\n+                        // Parse associated type equality constraint\n+\n+                        let ty = self.parse_assoc_equality_term(ident, self.prev_token.span)?;\n+                        AssocTyConstraintKind::Equality { ty }\n+                    } else {\n+                        unreachable!();\n+                    };\n \n-            let span = lo.to(self.prev_token.span);\n+                    let span = lo.to(self.prev_token.span);\n \n-            // Gate associated type bounds, e.g., `Iterator<Item: Ord>`.\n-            if let AssocTyConstraintKind::Bound { .. } = kind {\n-                self.sess.gated_spans.gate(sym::associated_type_bounds, span);\n+                    // Gate associated type bounds, e.g., `Iterator<Item: Ord>`.\n+                    if let AssocTyConstraintKind::Bound { .. } = kind {\n+                        self.sess.gated_spans.gate(sym::associated_type_bounds, span);\n+                    }\n+                    let constraint =\n+                        AssocTyConstraint { id: ast::DUMMY_NODE_ID, ident, gen_args, kind, span };\n+                    Ok(Some(AngleBracketedArg::Constraint(constraint)))\n+                } else {\n+                    Ok(Some(AngleBracketedArg::Arg(arg)))\n+                }\n             }\n-\n-            let constraint = AssocTyConstraint { id: ast::DUMMY_NODE_ID, ident, kind, span };\n-            Ok(Some(AngleBracketedArg::Constraint(constraint)))\n-        } else {\n-            Ok(self.parse_generic_arg()?.map(AngleBracketedArg::Arg))\n+            _ => Ok(None),\n         }\n     }\n \n@@ -542,4 +549,54 @@ impl<'a> Parser<'a> {\n         };\n         Ok(Some(arg))\n     }\n+\n+    fn get_ident_from_generic_arg(\n+        &self,\n+        gen_arg: GenericArg,\n+        lo: Span,\n+    ) -> PResult<'a, (Ident, Option<GenericArgs>)> {\n+        let gen_arg_span = gen_arg.span();\n+        match gen_arg {\n+            GenericArg::Type(t) => match t.into_inner().kind {\n+                ast::TyKind::Path(qself, mut path) => {\n+                    if let Some(qself) = qself {\n+                        let mut err = self.struct_span_err(\n+                            gen_arg_span,\n+                            \"qualified paths cannot be used in associated type constraints\",\n+                        );\n+                        err.span_label(\n+                            qself.path_span,\n+                            \"not allowed in associated type constraints\",\n+                        );\n+                        return Err(err);\n+                    }\n+                    if path.segments.len() == 1 {\n+                        let path_seg = path.segments.remove(0);\n+                        let ident = path_seg.ident;\n+                        let gen_args = path_seg.args.map(|args| args.into_inner());\n+                        return Ok((ident, gen_args));\n+                    }\n+                    let err = self.struct_span_err(\n+                        path.span,\n+                        \"paths with multiple segments cannot be used in associated type constraints\",\n+                    );\n+                    return Err(err);\n+                }\n+                _ => {\n+                    let span = lo.to(self.prev_token.span);\n+                    let err = self.struct_span_err(\n+                        span,\n+                        \"only path types can be used in associated type constraints\",\n+                    );\n+                    return Err(err);\n+                }\n+            },\n+            _ => {\n+                let span = lo.to(self.prev_token.span);\n+                let err = self\n+                    .struct_span_err(span, \"only types can be used in associated type constraints\");\n+                return Err(err);\n+            }\n+        }\n+    }\n }"}, {"sha": "b10bfea9febe50efb34384d8ec3287301d10cf3b", "filename": "src/test/ui/generic-associated-types/parse/trait-path-expected-token.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expected-token.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expected-token.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expected-token.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,11 @@\n+#![feature(generic_associated_types)]\n+//~^ WARNING: the feature `generic_associated_types` is incomplete\n+\n+trait X {\n+    type Y<'a>;\n+}\n+\n+fn f1<'a>(arg : Box<dyn X<Y = B = &'a ()>>) {}\n+    //~^ ERROR: expected one of `!`, `(`, `+`, `,`, `::`, `<`, or `>`, found `=`\n+\n+fn main() {}"}, {"sha": "051253cadc652a7fab35ad5208a42c512ce94f53", "filename": "src/test/ui/generic-associated-types/parse/trait-path-expected-token.stderr", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expected-token.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expected-token.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expected-token.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,17 @@\n+error: expected one of `!`, `(`, `+`, `,`, `::`, `<`, or `>`, found `=`\n+  --> $DIR/trait-path-expected-token.rs:8:33\n+   |\n+LL | fn f1<'a>(arg : Box<dyn X<Y = B = &'a ()>>) {}\n+   |                                 ^ expected one of 7 possible tokens\n+\n+warning: the feature `generic_associated_types` is incomplete and may not be safe to use and/or cause compiler crashes\n+  --> $DIR/trait-path-expected-token.rs:1:12\n+   |\n+LL | #![feature(generic_associated_types)]\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `#[warn(incomplete_features)]` on by default\n+   = note: see issue #44265 <https://github.com/rust-lang/rust/issues/44265> for more information\n+\n+error: aborting due to previous error; 1 warning emitted\n+"}, {"sha": "de61cfa1cf7181acfc548d84abcacf5d78c6e525", "filename": "src/test/ui/generic-associated-types/parse/trait-path-expressions.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expressions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expressions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expressions.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,23 @@\n+#![feature(generic_associated_types)]\n+//~^ WARNING: the feature `generic_associated_types` is incomplete\n+\n+mod error1 {\n+  trait X {\n+      type Y<'a>;\n+  }\n+\n+  fn f1<'a>(arg : Box<dyn X< 1 = 32 >>) {}\n+      //~^ ERROR: expected expression, found `)`\n+}\n+\n+mod error2 {\n+\n+  trait X {\n+      type Y<'a>;\n+  }\n+\n+  fn f2<'a>(arg : Box<dyn X< { 1 } = 32 >>) {}\n+    //~^ ERROR: only types can be used in associated type constraints\n+}\n+\n+fn main() {}"}, {"sha": "a9ba8adcaba3f6f2fe6b847179f4c2f6c4224330", "filename": "src/test/ui/generic-associated-types/parse/trait-path-expressions.stderr", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expressions.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expressions.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-expressions.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,25 @@\n+error: expected expression, found `)`\n+  --> $DIR/trait-path-expressions.rs:9:39\n+   |\n+LL |   fn f1<'a>(arg : Box<dyn X< 1 = 32 >>) {}\n+   |                              -        ^ expected expression\n+   |                              |\n+   |                              while parsing a const generic argument starting here\n+\n+error: only types can be used in associated type constraints\n+  --> $DIR/trait-path-expressions.rs:19:30\n+   |\n+LL |   fn f2<'a>(arg : Box<dyn X< { 1 } = 32 >>) {}\n+   |                              ^^^^^\n+\n+warning: the feature `generic_associated_types` is incomplete and may not be safe to use and/or cause compiler crashes\n+  --> $DIR/trait-path-expressions.rs:1:12\n+   |\n+LL | #![feature(generic_associated_types)]\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `#[warn(incomplete_features)]` on by default\n+   = note: see issue #44265 <https://github.com/rust-lang/rust/issues/44265> for more information\n+\n+error: aborting due to 2 previous errors; 1 warning emitted\n+"}, {"sha": "dad8c2a2909da85a0bb7cf9d3db7155c043fb3d0", "filename": "src/test/ui/generic-associated-types/parse/trait-path-missing-gen_arg.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-missing-gen_arg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-missing-gen_arg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-missing-gen_arg.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,21 @@\n+#![feature(generic_associated_types)]\n+//~^ WARNING: the feature `generic_associated_types` is incomplete\n+\n+trait X {\n+    type Y<'a>;\n+}\n+\n+const _: () = {\n+  fn f1<'a>(arg : Box<dyn X< : 32 >>) {}\n+      //~^ ERROR: expected one of `>`, const, lifetime, or type, found `:`\n+      //~| ERROR: expected parameter name, found `>`\n+      //~| ERROR: expected one of `!`, `)`, `+`, `,`, or `::`, found `>`\n+      //~| ERROR: constant provided when a type was expected\n+};\n+\n+const _: () = {\n+  fn f1<'a>(arg : Box<dyn X< = 32 >>) {}\n+      //~^ ERROR: expected one of `>`, const, lifetime, or type, found `=`\n+};\n+\n+fn main() {}"}, {"sha": "583697f0b67d2df01a62d1a4b4115a76e071686d", "filename": "src/test/ui/generic-associated-types/parse/trait-path-missing-gen_arg.stderr", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-missing-gen_arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-missing-gen_arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-missing-gen_arg.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,50 @@\n+error: expected one of `>`, const, lifetime, or type, found `:`\n+  --> $DIR/trait-path-missing-gen_arg.rs:9:30\n+   |\n+LL |   fn f1<'a>(arg : Box<dyn X< : 32 >>) {}\n+   |                              ^ expected one of `>`, const, lifetime, or type\n+   |\n+help: expressions must be enclosed in braces to be used as const generic arguments\n+   |\n+LL |   fn f1<'a>(arg : Box<{ dyn X< : 32 } >>) {}\n+   |                       ^             ^\n+\n+error: expected parameter name, found `>`\n+  --> $DIR/trait-path-missing-gen_arg.rs:9:36\n+   |\n+LL |   fn f1<'a>(arg : Box<dyn X< : 32 >>) {}\n+   |                                    ^ expected parameter name\n+\n+error: expected one of `!`, `)`, `+`, `,`, or `::`, found `>`\n+  --> $DIR/trait-path-missing-gen_arg.rs:9:36\n+   |\n+LL |   fn f1<'a>(arg : Box<dyn X< : 32 >>) {}\n+   |                                    ^\n+   |                                    |\n+   |                                    expected one of `!`, `)`, `+`, `,`, or `::`\n+   |                                    help: missing `,`\n+\n+error: expected one of `>`, const, lifetime, or type, found `=`\n+  --> $DIR/trait-path-missing-gen_arg.rs:17:30\n+   |\n+LL |   fn f1<'a>(arg : Box<dyn X< = 32 >>) {}\n+   |                              ^ expected one of `>`, const, lifetime, or type\n+\n+warning: the feature `generic_associated_types` is incomplete and may not be safe to use and/or cause compiler crashes\n+  --> $DIR/trait-path-missing-gen_arg.rs:1:12\n+   |\n+LL | #![feature(generic_associated_types)]\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `#[warn(incomplete_features)]` on by default\n+   = note: see issue #44265 <https://github.com/rust-lang/rust/issues/44265> for more information\n+\n+error[E0747]: constant provided when a type was expected\n+  --> $DIR/trait-path-missing-gen_arg.rs:9:23\n+   |\n+LL |   fn f1<'a>(arg : Box<dyn X< : 32 >>) {}\n+   |                       ^^^^^^^^^^^\n+\n+error: aborting due to 5 previous errors; 1 warning emitted\n+\n+For more information about this error, try `rustc --explain E0747`."}, {"sha": "0bf48b1f418109e546de11796ab659a531735cc4", "filename": "src/test/ui/generic-associated-types/parse/trait-path-segments.rs", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-segments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-segments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-segments.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,35 @@\n+#![feature(generic_associated_types)]\n+//~^ WARNING: the feature `generic_associated_types` is incomplete\n+\n+const _: () = {\n+    trait X {\n+        type Y<'a>;\n+    }\n+\n+    fn f1<'a>(arg : Box<dyn X<X::Y = u32>>) {}\n+        //~^ ERROR: paths with multiple segments cannot be used in associated type constraints\n+  };\n+\n+const _: () = {\n+    trait X {\n+        type Y<'a>;\n+    }\n+\n+    trait Z {}\n+\n+    impl<T : X<<Self as X>::Y<'a> = &'a u32>> Z for T {}\n+        //~^ ERROR: qualified paths cannot be used in associated type constraints\n+};\n+\n+const _: () = {\n+    trait X {\n+      type Y<'a>;\n+    }\n+\n+    trait Z {}\n+\n+    impl<T : X<X::Y<'a> = &'a u32>> Z for T {}\n+        //~^ ERROR: paths with multiple segments cannot be used in associated type constraints\n+};\n+\n+fn main() {}"}, {"sha": "4e2b84d0182392fdbd05bb57fdc36b56ed1b6a18", "filename": "src/test/ui/generic-associated-types/parse/trait-path-segments.stderr", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-segments.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-segments.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-segments.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,31 @@\n+error: paths with multiple segments cannot be used in associated type constraints\n+  --> $DIR/trait-path-segments.rs:9:31\n+   |\n+LL |     fn f1<'a>(arg : Box<dyn X<X::Y = u32>>) {}\n+   |                               ^^^^\n+\n+error: qualified paths cannot be used in associated type constraints\n+  --> $DIR/trait-path-segments.rs:20:16\n+   |\n+LL |     impl<T : X<<Self as X>::Y<'a> = &'a u32>> Z for T {}\n+   |                ^^^^^^^^^-^^^^^^^^\n+   |                         |\n+   |                         not allowed in associated type constraints\n+\n+error: paths with multiple segments cannot be used in associated type constraints\n+  --> $DIR/trait-path-segments.rs:31:16\n+   |\n+LL |     impl<T : X<X::Y<'a> = &'a u32>> Z for T {}\n+   |                ^^^^^^^^\n+\n+warning: the feature `generic_associated_types` is incomplete and may not be safe to use and/or cause compiler crashes\n+  --> $DIR/trait-path-segments.rs:1:12\n+   |\n+LL | #![feature(generic_associated_types)]\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `#[warn(incomplete_features)]` on by default\n+   = note: see issue #44265 <https://github.com/rust-lang/rust/issues/44265> for more information\n+\n+error: aborting due to 3 previous errors; 1 warning emitted\n+"}, {"sha": "e203a5e0d2de682ede2c2a3d7032decca0930d4b", "filename": "src/test/ui/generic-associated-types/parse/trait-path-type-error-once-implemented.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-type-error-once-implemented.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-type-error-once-implemented.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-type-error-once-implemented.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,10 @@\n+#![feature(generic_associated_types)]\n+\n+trait X {\n+    type Y<'a>;\n+}\n+\n+const _: () = {\n+  fn f2<'a>(arg : Box<dyn X<Y<1> = &'a ()>>) {}\n+      //~^  ERROR: generic associated types in trait paths are currently not implemented\n+};"}, {"sha": "e59a72a99eeb9d437b56327930f34e56ad2b5715", "filename": "src/test/ui/generic-associated-types/parse/trait-path-type-error-once-implemented.stderr", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-type-error-once-implemented.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-type-error-once-implemented.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-type-error-once-implemented.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,8 @@\n+error: generic associated types in trait paths are currently not implemented\n+  --> $DIR/trait-path-type-error-once-implemented.rs:8:30\n+   |\n+LL |   fn f2<'a>(arg : Box<dyn X<Y<1> = &'a ()>>) {}\n+   |                              ^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "6cdb501ec65fb2c184a5d24dd87980e75d8093f6", "filename": "src/test/ui/generic-associated-types/parse/trait-path-types.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-types.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,23 @@\n+#![feature(generic_associated_types)]\n+//~^ WARNING: the feature `generic_associated_types` is incomplete\n+\n+trait X {\n+    type Y<'a>;\n+}\n+\n+const _: () = {\n+  fn f<'a>(arg : Box<dyn X< [u8; 1] = u32>>) {}\n+      //~^ ERROR: only path types can be used in associated type constraints\n+};\n+\n+const _: () = {\n+  fn f1<'a>(arg : Box<dyn X<(Y<'a>) = &'a ()>>) {}\n+      //~^ ERROR: only path types can be used in associated type constraints\n+};\n+\n+const _: () = {\n+  fn f1<'a>(arg : Box<dyn X< 'a = u32 >>) {}\n+      //~^ ERROR: only types can be used in associated type constraints\n+};\n+\n+fn main() {}"}, {"sha": "f5be084613b4c1f5ecaf4b72f7642c902bca8417", "filename": "src/test/ui/generic-associated-types/parse/trait-path-types.stderr", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-types.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,29 @@\n+error: only path types can be used in associated type constraints\n+  --> $DIR/trait-path-types.rs:9:29\n+   |\n+LL |   fn f<'a>(arg : Box<dyn X< [u8; 1] = u32>>) {}\n+   |                             ^^^^^^^\n+\n+error: only path types can be used in associated type constraints\n+  --> $DIR/trait-path-types.rs:14:29\n+   |\n+LL |   fn f1<'a>(arg : Box<dyn X<(Y<'a>) = &'a ()>>) {}\n+   |                             ^^^^^^^\n+\n+error: only types can be used in associated type constraints\n+  --> $DIR/trait-path-types.rs:19:30\n+   |\n+LL |   fn f1<'a>(arg : Box<dyn X< 'a = u32 >>) {}\n+   |                              ^^\n+\n+warning: the feature `generic_associated_types` is incomplete and may not be safe to use and/or cause compiler crashes\n+  --> $DIR/trait-path-types.rs:1:12\n+   |\n+LL | #![feature(generic_associated_types)]\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `#[warn(incomplete_features)]` on by default\n+   = note: see issue #44265 <https://github.com/rust-lang/rust/issues/44265> for more information\n+\n+error: aborting due to 3 previous errors; 1 warning emitted\n+"}, {"sha": "02d53d5faeec5ae7eca25957f382476010b5315c", "filename": "src/test/ui/generic-associated-types/parse/trait-path-unimplemented.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-unimplemented.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-unimplemented.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-unimplemented.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,17 @@\n+#![feature(generic_associated_types)]\n+\n+trait X {\n+    type Y<'a>;\n+}\n+\n+const _: () = {\n+  fn f1<'a>(arg : Box<dyn X<Y<'a> = &'a ()>>) {}\n+      //~^  ERROR: generic associated types in trait paths are currently not implemented\n+};\n+\n+const _: () = {\n+  fn f1<'a>(arg : Box<dyn X<Y('a) = &'a ()>>) {}\n+      //~^  ERROR: lifetime in trait object type must be followed by `+`\n+};\n+\n+fn main() {}"}, {"sha": "1fba9cebd249102dd147136ea193554ce2f32fae", "filename": "src/test/ui/generic-associated-types/parse/trait-path-unimplemented.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-unimplemented.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-unimplemented.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fparse%2Ftrait-path-unimplemented.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -0,0 +1,14 @@\n+error: lifetime in trait object type must be followed by `+`\n+  --> $DIR/trait-path-unimplemented.rs:13:31\n+   |\n+LL |   fn f1<'a>(arg : Box<dyn X<Y('a) = &'a ()>>) {}\n+   |                               ^^\n+\n+error: generic associated types in trait paths are currently not implemented\n+  --> $DIR/trait-path-unimplemented.rs:8:30\n+   |\n+LL |   fn f1<'a>(arg : Box<dyn X<Y<'a> = &'a ()>>) {}\n+   |                              ^^^^\n+\n+error: aborting due to 2 previous errors\n+"}, {"sha": "f108ae5de1483cf219ebe129b9f8a58472dce51c", "filename": "src/test/ui/issues/issue-20616-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-2.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -9,7 +9,7 @@ type Type_1_<'a, T> = &'a T;\n //type Type_1<'a T> = &'a T; // error: expected `,` or `>` after lifetime name, found `T`\n \n \n-type Type_2 = Type_1_<'static ()>; //~ error: expected one of `,` or `>`, found `(`\n+type Type_2 = Type_1_<'static ()>; //~ error: expected one of `,`, `:`, `=`, or `>`, found `(`\n \n \n //type Type_3<T> = Box<T,,>; // error: expected type, found `,`"}, {"sha": "01e3d3dd7ccf03f0600c15e5239595c97827befd", "filename": "src/test/ui/issues/issue-20616-2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-2.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,8 +1,8 @@\n-error: expected one of `,` or `>`, found `(`\n+error: expected one of `,`, `:`, `=`, or `>`, found `(`\n   --> $DIR/issue-20616-2.rs:12:31\n    |\n LL | type Type_2 = Type_1_<'static ()>;\n-   |                               ^ expected one of `,` or `>`\n+   |                               ^ expected one of `,`, `:`, `=`, or `>`\n \n error: aborting due to previous error\n "}, {"sha": "780038c11b8089aa2d9ad95e3b66ad5290bd8eea", "filename": "src/test/ui/issues/issue-20616-3.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-3.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -11,7 +11,7 @@ type Type_1_<'a, T> = &'a T;\n \n \n type Type_3<T> = Box<T,,>;\n-//~^ error: expected one of `>`, const, identifier, lifetime, or type, found `,`\n+//~^ error: expected one of `>`, const, lifetime, or type, found `,`\n \n \n //type Type_4<T> = Type_1_<'static,, T>; // error: expected type, found `,`"}, {"sha": "2f8cf8a79ed9439544dcdf9ac33092d6ffc311d1", "filename": "src/test/ui/issues/issue-20616-3.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-3.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,8 +1,8 @@\n-error: expected one of `>`, const, identifier, lifetime, or type, found `,`\n+error: expected one of `>`, const, lifetime, or type, found `,`\n   --> $DIR/issue-20616-3.rs:13:24\n    |\n LL | type Type_3<T> = Box<T,,>;\n-   |                        ^ expected one of `>`, const, identifier, lifetime, or type\n+   |                        ^ expected one of `>`, const, lifetime, or type\n \n error: aborting due to previous error\n "}, {"sha": "85aa9c1146d67982dbd11011eb3855493f494970", "filename": "src/test/ui/issues/issue-20616-4.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-4.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -14,7 +14,7 @@ type Type_1_<'a, T> = &'a T;\n \n \n type Type_4<T> = Type_1_<'static,, T>;\n-//~^ error: expected one of `>`, const, identifier, lifetime, or type, found `,`\n+//~^ error: expected one of `>`, const, lifetime, or type, found `,`\n \n \n type Type_5_<'a> = Type_1_<'a, ()>;"}, {"sha": "3be6c2e78ced00995ffe0688224ea46312811da2", "filename": "src/test/ui/issues/issue-20616-4.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-4.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-4.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-4.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,8 +1,8 @@\n-error: expected one of `>`, const, identifier, lifetime, or type, found `,`\n+error: expected one of `>`, const, lifetime, or type, found `,`\n   --> $DIR/issue-20616-4.rs:16:34\n    |\n LL | type Type_4<T> = Type_1_<'static,, T>;\n-   |                                  ^ expected one of `>`, const, identifier, lifetime, or type\n+   |                                  ^ expected one of `>`, const, lifetime, or type\n \n error: aborting due to previous error\n "}, {"sha": "c0c6bc6dd97fee24d90de55e7fb7cf1970628653", "filename": "src/test/ui/issues/issue-20616-5.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-5.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-5.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-5.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -20,7 +20,7 @@ type Type_5_<'a> = Type_1_<'a, ()>;\n \n \n type Type_5<'a> = Type_1_<'a, (),,>;\n-//~^ error: expected one of `>`, const, identifier, lifetime, or type, found `,`\n+//~^ error: expected one of `>`, const, lifetime, or type, found `,`\n \n \n //type Type_6 = Type_5_<'a,,>; // error: expected type, found `,`"}, {"sha": "b90fbf60051476412dc84c36e55655a8e9ab7066", "filename": "src/test/ui/issues/issue-20616-5.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-5.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-5.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-5.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,8 +1,8 @@\n-error: expected one of `>`, const, identifier, lifetime, or type, found `,`\n+error: expected one of `>`, const, lifetime, or type, found `,`\n   --> $DIR/issue-20616-5.rs:22:34\n    |\n LL | type Type_5<'a> = Type_1_<'a, (),,>;\n-   |                                  ^ expected one of `>`, const, identifier, lifetime, or type\n+   |                                  ^ expected one of `>`, const, lifetime, or type\n \n error: aborting due to previous error\n "}, {"sha": "73c75bdc45fb1dc72f59e2e89acab98345b4a8a6", "filename": "src/test/ui/issues/issue-20616-6.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-6.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-6.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-6.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -23,7 +23,7 @@ type Type_5_<'a> = Type_1_<'a, ()>;\n \n \n type Type_6 = Type_5_<'a,,>;\n-//~^ error: expected one of `>`, const, identifier, lifetime, or type, found `,`\n+//~^ error: expected one of `>`, const, lifetime, or type, found `,`\n \n \n //type Type_7 = Box<(),,>; // error: expected type, found `,`"}, {"sha": "ea1c15ba4233773e7216ecc02fee562f7162ebff", "filename": "src/test/ui/issues/issue-20616-6.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-6.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-6.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-6.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,8 +1,8 @@\n-error: expected one of `>`, const, identifier, lifetime, or type, found `,`\n+error: expected one of `>`, const, lifetime, or type, found `,`\n   --> $DIR/issue-20616-6.rs:25:26\n    |\n LL | type Type_6 = Type_5_<'a,,>;\n-   |                          ^ expected one of `>`, const, identifier, lifetime, or type\n+   |                          ^ expected one of `>`, const, lifetime, or type\n \n error: aborting due to previous error\n "}, {"sha": "8beeebd7a9550f63341b519b78106a479066c9a4", "filename": "src/test/ui/issues/issue-20616-7.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-7.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-7.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-7.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -26,7 +26,7 @@ type Type_5_<'a> = Type_1_<'a, ()>;\n \n \n type Type_7 = Box<(),,>;\n-//~^ error: expected one of `>`, const, identifier, lifetime, or type, found `,`\n+//~^ error: expected one of `>`, const, lifetime, or type, found `,`\n \n \n //type Type_8<'a,,> = &'a (); // error: expected ident, found `,`"}, {"sha": "dcd199902fc0b5643710ad34e0a745c849298170", "filename": "src/test/ui/issues/issue-20616-7.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-7.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-20616-7.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20616-7.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,8 +1,8 @@\n-error: expected one of `>`, const, identifier, lifetime, or type, found `,`\n+error: expected one of `>`, const, lifetime, or type, found `,`\n   --> $DIR/issue-20616-7.rs:28:22\n    |\n LL | type Type_7 = Box<(),,>;\n-   |                      ^ expected one of `>`, const, identifier, lifetime, or type\n+   |                      ^ expected one of `>`, const, lifetime, or type\n \n error: aborting due to previous error\n "}, {"sha": "b45c00f694321227064f2fe67d81206fa7a3d028", "filename": "src/test/ui/issues/issue-34334.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-34334.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-34334.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-34334.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,6 +1,6 @@\n fn main () {\n     let sr: Vec<(u32, _, _) = vec![];\n-    //~^ ERROR expected one of `,` or `>`, found `=`\n+    //~^ ERROR only path types can be used in associated type constraints\n     let sr2: Vec<(u32, _, _)> = sr.iter().map(|(faction, th_sender, th_receiver)| {}).collect();\n     //~^ ERROR a value of type `Vec<(u32, _, _)>` cannot be built\n }"}, {"sha": "a9b9bf06d7f420a98092fdf59af9fda8cc65f01f", "filename": "src/test/ui/issues/issue-34334.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-34334.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fissues%2Fissue-34334.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-34334.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,8 +1,8 @@\n-error: expected one of `,` or `>`, found `=`\n-  --> $DIR/issue-34334.rs:2:29\n+error: only path types can be used in associated type constraints\n+  --> $DIR/issue-34334.rs:2:17\n    |\n LL |     let sr: Vec<(u32, _, _) = vec![];\n-   |         --                  ^ expected one of `,` or `>`\n+   |         --      ^^^^^^^^^^^\n    |         |\n    |         while parsing the type for `sr`\n "}, {"sha": "4f866b78976612a1e0ebaba7f5efbc64ec4d614e", "filename": "src/test/ui/parser/issue-62660.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Fissue-62660.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Fissue-62660.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-62660.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -5,7 +5,7 @@ struct Foo;\n \n impl Foo {\n     pub fn foo(_: i32, self: Box<Self) {}\n-    //~^ ERROR expected one of `!`, `(`, `+`, `,`, `::`, `<`, or `>`, found `)`\n+    //~^ ERROR expected one of `!`, `(`, `+`, `,`, `::`, `:`, `<`, `=`, or `>`, found `)`\n }\n \n fn main() {}"}, {"sha": "a50ada9056b977560903f6e2c9ef7402fe78353a", "filename": "src/test/ui/parser/issue-62660.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Fissue-62660.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Fissue-62660.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-62660.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,8 +1,8 @@\n-error: expected one of `!`, `(`, `+`, `,`, `::`, `<`, or `>`, found `)`\n+error: expected one of `!`, `(`, `+`, `,`, `::`, `:`, `<`, `=`, or `>`, found `)`\n   --> $DIR/issue-62660.rs:7:38\n    |\n LL |     pub fn foo(_: i32, self: Box<Self) {}\n-   |                                      ^ expected one of 7 possible tokens\n+   |                                      ^ expected one of 9 possible tokens\n \n error: aborting due to previous error\n "}, {"sha": "e249a93df92a2174b4ab221f7c07788560667f9f", "filename": "src/test/ui/parser/issue-63116.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Fissue-63116.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Fissue-63116.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-63116.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -12,7 +12,7 @@ error: expected one of `!`, `(`, `)`, `+`, `,`, `::`, or `<`, found `;`\n LL | impl W <s(f;Y(;]\n    |            ^ expected one of 7 possible tokens\n \n-error: expected one of `!`, `&&`, `&`, `(`, `)`, `*`, `+`, `,`, `->`, `...`, `::`, `<`, `>`, `?`, `[`, `_`, `async`, `const`, `dyn`, `extern`, `fn`, `for`, `impl`, `unsafe`, lifetime, or path, found `;`\n+error: expected one of `!`, `&&`, `&`, `(`, `)`, `*`, `+`, `,`, `->`, `...`, `::`, `:`, `<`, `=`, `>`, `?`, `[`, `_`, `async`, `const`, `dyn`, `extern`, `fn`, `for`, `impl`, `unsafe`, lifetime, or path, found `;`\n   --> $DIR/issue-63116.rs:3:15\n    |\n LL | impl W <s(f;Y(;]"}, {"sha": "7cc14971f633f619a1c3f21c10126ee711fb5e6f", "filename": "src/test/ui/parser/lifetime-semicolon.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Flifetime-semicolon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Flifetime-semicolon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flifetime-semicolon.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -3,6 +3,6 @@ struct Foo<'a, 'b> {\n }\n \n fn foo<'a, 'b>(x: &mut Foo<'a; 'b>) {}\n-//~^ ERROR expected one of `,` or `>`, found `;`\n+//~^ ERROR expected one of `,`, `:`, `=`, or `>`, found `;`\n \n fn main() {}"}, {"sha": "3b67705aae9f2446e6dc088f9db14b8efc2debd1", "filename": "src/test/ui/parser/lifetime-semicolon.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Flifetime-semicolon.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Flifetime-semicolon.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flifetime-semicolon.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,8 +1,8 @@\n-error: expected one of `,` or `>`, found `;`\n+error: expected one of `,`, `:`, `=`, or `>`, found `;`\n   --> $DIR/lifetime-semicolon.rs:5:30\n    |\n LL | fn foo<'a, 'b>(x: &mut Foo<'a; 'b>) {}\n-   |                              ^ expected one of `,` or `>`\n+   |                              ^ expected one of `,`, `:`, `=`, or `>`\n \n error: aborting due to previous error\n "}, {"sha": "e807a179473c4ecd2ebb63a53123d0d6f36fb42f", "filename": "src/test/ui/parser/removed-syntax-closure-lifetime.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Fremoved-syntax-closure-lifetime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Fremoved-syntax-closure-lifetime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fremoved-syntax-closure-lifetime.rs?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,2 +1,2 @@\n type closure = Box<lt/fn()>;\n-//~^ ERROR expected one of `!`, `(`, `+`, `,`, `::`, `<`, or `>`, found `/`\n+//~^ ERROR expected one of `!`, `(`, `+`, `,`, `::`, `:`, `<`, `=`, or `>`, found `/`"}, {"sha": "63b6e138ce5f6cc29a9244d81f77138b8f4fcb45", "filename": "src/test/ui/parser/removed-syntax-closure-lifetime.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Fremoved-syntax-closure-lifetime.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cfed9184f44cbd02662eb7715d6226ae885ef5c3/src%2Ftest%2Fui%2Fparser%2Fremoved-syntax-closure-lifetime.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fremoved-syntax-closure-lifetime.stderr?ref=cfed9184f44cbd02662eb7715d6226ae885ef5c3", "patch": "@@ -1,8 +1,8 @@\n-error: expected one of `!`, `(`, `+`, `,`, `::`, `<`, or `>`, found `/`\n+error: expected one of `!`, `(`, `+`, `,`, `::`, `:`, `<`, `=`, or `>`, found `/`\n   --> $DIR/removed-syntax-closure-lifetime.rs:1:22\n    |\n LL | type closure = Box<lt/fn()>;\n-   |                      ^ expected one of 7 possible tokens\n+   |                      ^ expected one of 9 possible tokens\n \n error: aborting due to previous error\n "}]}