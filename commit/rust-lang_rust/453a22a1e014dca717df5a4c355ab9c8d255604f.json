{"sha": "453a22a1e014dca717df5a4c355ab9c8d255604f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ1M2EyMmExZTAxNGRjYTcxN2RmNWE0YzM1NWFiOWM4ZDI1NTYwNGY=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-06-16T08:52:23Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-06-16T08:52:23Z"}, "message": "forward `RUST_SYSROOT` to miri test calls", "tree": {"sha": "0a6d8b1c11fb4df42430b29e5bc430bb40a44e65", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0a6d8b1c11fb4df42430b29e5bc430bb40a44e65"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/453a22a1e014dca717df5a4c355ab9c8d255604f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXYmjHAAoJEFbW7qD8Z6xGnWcQAI6kpRbeoqo+v/jD2hY80RSq\nuwn+EPBm9OOhzC59AiFuSnEGImzcLQPe9OzSkyQjOxi+UfkxKJwAdKEJ/WG4xAHV\n9raMUmsnX5GJIdWvcPSzKnCX+eYWAEjWCl6f22Z59DuI5mt7DBvM092qQhKSH3Qk\nmLW9duQBycsKZNsVO5jhJ0JIzGHG1K+9jIF+/wyj4BmH26iTBDQjnbgIJtt85Daf\noE3Q7kKFa232XgJieTlaqqJUWasP30JmxHxPdU7Pn9Abm9rf8ShAkxA9wZVmpv4I\nz/O8lTEhkAlcqlpyErWlfH3mDOCalG66nDRa3AZzGfTPo/r+S3L+xktxfVE0cPtP\njjEEutdQLXzeV0y4wFqImi5XTvY1qOwxCo/yt1QO/F3LbOkF8Lrris9S2OGbZbgW\nWo7LL5r7znd9wieJ56NRk6caXzHFroDFUq1qvKUu0VbTdPnFRKeQ+AUtmN8eMTPS\nBmGg/gMT3w5jnMvgACURQK4OrUXgO64vntvSuiznDfwqXMBb0cEpTX6CeQFPRibF\n0NJHCdNZhQfQCoyBMxdXNJSmMCaMkUTpr3F7cR8i5sWz8XiG4lT7USaKr/0ws4Pz\nMWTAkZKdMLDYb8W36XKtS76C9awBdwXPMkKWjC9CQJLNbJZpUda3ZgF0GGt1ZYQq\n/Kz8qbiwhRCaynzRCKky\n=Ou0W\n-----END PGP SIGNATURE-----", "payload": "tree 0a6d8b1c11fb4df42430b29e5bc430bb40a44e65\nparent b6fca7355c4acf59d177eb2029ba4a3834d078ba\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1466067143 +0200\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1466067143 +0200\n\nforward `RUST_SYSROOT` to miri test calls"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/453a22a1e014dca717df5a4c355ab9c8d255604f", "html_url": "https://github.com/rust-lang/rust/commit/453a22a1e014dca717df5a4c355ab9c8d255604f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/453a22a1e014dca717df5a4c355ab9c8d255604f/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b6fca7355c4acf59d177eb2029ba4a3834d078ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/b6fca7355c4acf59d177eb2029ba4a3834d078ba", "html_url": "https://github.com/rust-lang/rust/commit/b6fca7355c4acf59d177eb2029ba4a3834d078ba"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "fd86f40637b2f8bb76175affeff4005f6d5fdcbf", "filename": "tests/compiletest.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/453a22a1e014dca717df5a4c355ab9c8d255604f/tests%2Fcompiletest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/453a22a1e014dca717df5a4c355ab9c8d255604f/tests%2Fcompiletest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompiletest.rs?ref=453a22a1e014dca717df5a4c355ab9c8d255604f", "patch": "@@ -63,6 +63,7 @@ fn compile_test() {\n             cmd.arg(format!(\"--sysroot={}\", sysroot));\n             cmd.arg(\"-Dwarnings\");\n             cmd.arg(format!(\"--target={}\", target));\n+            cmd.env(\"RUST_SYSROOT\", sysroot);\n             let libs = Path::new(&sysroot).join(\"lib\");\n             let sysroot = libs.join(\"rustlib\").join(&target).join(\"lib\");\n             let paths = std::env::join_paths(&[libs, sysroot]).unwrap();"}]}