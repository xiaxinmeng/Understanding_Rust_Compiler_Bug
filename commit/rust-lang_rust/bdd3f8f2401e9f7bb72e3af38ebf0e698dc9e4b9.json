{"sha": "bdd3f8f2401e9f7bb72e3af38ebf0e698dc9e4b9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJkZDNmOGYyNDAxZTlmN2JiNzJlM2FmMzhlYmYwZTY5OGRjOWU0Yjk=", "commit": {"author": {"name": "Jonathan Turner", "email": "jturner@mozilla.com", "date": "2016-06-23T19:40:54Z"}, "committer": {"name": "Jonathan Turner", "email": "jturner@mozilla.com", "date": "2016-06-23T19:40:54Z"}, "message": "Updating test I missed for old school refactor", "tree": {"sha": "e425844316ad941ba11afef2922cff1434debb68", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e425844316ad941ba11afef2922cff1434debb68"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bdd3f8f2401e9f7bb72e3af38ebf0e698dc9e4b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bdd3f8f2401e9f7bb72e3af38ebf0e698dc9e4b9", "html_url": "https://github.com/rust-lang/rust/commit/bdd3f8f2401e9f7bb72e3af38ebf0e698dc9e4b9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bdd3f8f2401e9f7bb72e3af38ebf0e698dc9e4b9/comments", "author": null, "committer": null, "parents": [{"sha": "80f1c7875278b4dde63d5a523fe773e61d0f754e", "url": "https://api.github.com/repos/rust-lang/rust/commits/80f1c7875278b4dde63d5a523fe773e61d0f754e", "html_url": "https://github.com/rust-lang/rust/commit/80f1c7875278b4dde63d5a523fe773e61d0f754e"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "95d02d6ce4bee33135aae9a295aaf593965bbd6d", "filename": "src/librustdoc/test.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/bdd3f8f2401e9f7bb72e3af38ebf0e698dc9e4b9/src%2Flibrustdoc%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bdd3f8f2401e9f7bb72e3af38ebf0e698dc9e4b9/src%2Flibrustdoc%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Ftest.rs?ref=bdd3f8f2401e9f7bb72e3af38ebf0e698dc9e4b9", "patch": "@@ -229,8 +229,9 @@ fn runtest(test: &str, cratename: &str, cfgs: Vec<String>, libs: SearchPaths,\n     let data = Arc::new(Mutex::new(Vec::new()));\n     let codemap = Rc::new(CodeMap::new());\n     let emitter = errors::emitter::EmitterWriter::new(box Sink(data.clone()),\n-                                                      None,\n-                                                      codemap.clone());\n+                                                None,\n+                                                codemap.clone(),\n+                                                errors::snippet::FormatMode::EnvironmentSelected);\n     let old = io::set_panic(box Sink(data.clone()));\n     let _bomb = Bomb(data.clone(), old.unwrap_or(box io::stdout()));\n "}]}