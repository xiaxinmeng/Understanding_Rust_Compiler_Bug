{"sha": "aa3d40cd7189b324afd20fbe3baffe76ea1a67a1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFhM2Q0MGNkNzE4OWIzMjRhZmQyMGZiZTNiYWZmZTc2ZWExYTY3YTE=", "commit": {"author": {"name": "Saleem Jaffer", "email": "ssaleem1992@gmail.com", "date": "2019-07-27T12:26:45Z"}, "committer": {"name": "Saleem Jaffer", "email": "ssaleem1992@gmail.com", "date": "2019-07-29T08:05:10Z"}, "message": "tidy fixes", "tree": {"sha": "306e7629ea0448a66a127188bb2c0104cc30da19", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/306e7629ea0448a66a127188bb2c0104cc30da19"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aa3d40cd7189b324afd20fbe3baffe76ea1a67a1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aa3d40cd7189b324afd20fbe3baffe76ea1a67a1", "html_url": "https://github.com/rust-lang/rust/commit/aa3d40cd7189b324afd20fbe3baffe76ea1a67a1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aa3d40cd7189b324afd20fbe3baffe76ea1a67a1/comments", "author": {"login": "saleemjaffer", "id": 19221716, "node_id": "MDQ6VXNlcjE5MjIxNzE2", "avatar_url": "https://avatars.githubusercontent.com/u/19221716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saleemjaffer", "html_url": "https://github.com/saleemjaffer", "followers_url": "https://api.github.com/users/saleemjaffer/followers", "following_url": "https://api.github.com/users/saleemjaffer/following{/other_user}", "gists_url": "https://api.github.com/users/saleemjaffer/gists{/gist_id}", "starred_url": "https://api.github.com/users/saleemjaffer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saleemjaffer/subscriptions", "organizations_url": "https://api.github.com/users/saleemjaffer/orgs", "repos_url": "https://api.github.com/users/saleemjaffer/repos", "events_url": "https://api.github.com/users/saleemjaffer/events{/privacy}", "received_events_url": "https://api.github.com/users/saleemjaffer/received_events", "type": "User", "site_admin": false}, "committer": {"login": "saleemjaffer", "id": 19221716, "node_id": "MDQ6VXNlcjE5MjIxNzE2", "avatar_url": "https://avatars.githubusercontent.com/u/19221716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saleemjaffer", "html_url": "https://github.com/saleemjaffer", "followers_url": "https://api.github.com/users/saleemjaffer/followers", "following_url": "https://api.github.com/users/saleemjaffer/following{/other_user}", "gists_url": "https://api.github.com/users/saleemjaffer/gists{/gist_id}", "starred_url": "https://api.github.com/users/saleemjaffer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saleemjaffer/subscriptions", "organizations_url": "https://api.github.com/users/saleemjaffer/orgs", "repos_url": "https://api.github.com/users/saleemjaffer/repos", "events_url": "https://api.github.com/users/saleemjaffer/events{/privacy}", "received_events_url": "https://api.github.com/users/saleemjaffer/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "307798aa38b00d92c9d541a199c3b2ed5422d358", "url": "https://api.github.com/repos/rust-lang/rust/commits/307798aa38b00d92c9d541a199c3b2ed5422d358", "html_url": "https://github.com/rust-lang/rust/commit/307798aa38b00d92c9d541a199c3b2ed5422d358"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "3b89b50f1a41d35b813238e9f35fa4f8c4b35e32", "filename": "src/librustc_mir/interpret/operand.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/aa3d40cd7189b324afd20fbe3baffe76ea1a67a1/src%2Flibrustc_mir%2Finterpret%2Foperand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa3d40cd7189b324afd20fbe3baffe76ea1a67a1/src%2Flibrustc_mir%2Finterpret%2Foperand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Finterpret%2Foperand.rs?ref=aa3d40cd7189b324afd20fbe3baffe76ea1a67a1", "patch": "@@ -646,15 +646,18 @@ impl<'mir, 'tcx, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n             } => {\n                 let variants_start = niche_variants.start().as_u32() as u128;\n                 let variants_end = niche_variants.end().as_u32() as u128;\n-                let raw_discr = raw_discr.not_undef()\n-                    .map_err(|_| InterpError::Unsupported(InvalidDiscriminant(ScalarMaybeUndef::Undef)))?;\n+                let raw_discr = raw_discr.not_undef().map_err(|_| {\n+                    InterpError::Unsupported(InvalidDiscriminant(ScalarMaybeUndef::Undef))\n+                })?;\n                 match raw_discr.to_bits_or_ptr(discr_val.layout.size, self) {\n                     Err(ptr) => {\n                         // The niche must be just 0 (which an inbounds pointer value never is)\n                         let ptr_valid = niche_start == 0 && variants_start == variants_end &&\n                             !self.memory.ptr_may_be_null(ptr);\n                         if !ptr_valid {\n-                            return err!(Unsupported(InvalidDiscriminant(raw_discr.erase_tag().into())));\n+                            return err!(Unsupported(InvalidDiscriminant(\n+                                raw_discr.erase_tag().into()\n+                            )));\n                         }\n                         (dataful_variant.as_u32() as u128, dataful_variant)\n                     },"}, {"sha": "6a39839de45b308c7fc4d7e5b44ada6b06474445", "filename": "src/librustc_mir/transform/const_prop.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/aa3d40cd7189b324afd20fbe3baffe76ea1a67a1/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa3d40cd7189b324afd20fbe3baffe76ea1a67a1/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs?ref=aa3d40cd7189b324afd20fbe3baffe76ea1a67a1", "patch": "@@ -270,7 +270,6 @@ impl<'mir, 'tcx> ConstPropagator<'mir, 'tcx> {\n                     | UndefinedBehaviour(_) => {},\n                     | InvalidProgram(_) => {},\n                     | ResourceExhaustion(_) => {},\n-                    \n                     | Panic(_)\n                     => {\n                         diagnostic.report_as_lint("}]}