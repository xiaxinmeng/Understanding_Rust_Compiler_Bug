{"sha": "47ada9ae074b34fa850c512f80c210f13846850e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ3YWRhOWFlMDc0YjM0ZmE4NTBjNTEyZjgwYzIxMGYxMzg0Njg1MGU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-07-01T08:10:25Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-07-01T08:10:25Z"}, "message": "Auto merge of #4243 - mikerite:fix-4058, r=flip1995\n\nFix `never_loop` false positive\n\nCloses #4058\n\nchangelog: none", "tree": {"sha": "2ab8f04d692c71b7b984a0c0d134f3e3ae6bd082", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2ab8f04d692c71b7b984a0c0d134f3e3ae6bd082"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/47ada9ae074b34fa850c512f80c210f13846850e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/47ada9ae074b34fa850c512f80c210f13846850e", "html_url": "https://github.com/rust-lang/rust/commit/47ada9ae074b34fa850c512f80c210f13846850e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/47ada9ae074b34fa850c512f80c210f13846850e/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ad638a3e423e5bc2bc621a60eb392ed77209dfe1", "url": "https://api.github.com/repos/rust-lang/rust/commits/ad638a3e423e5bc2bc621a60eb392ed77209dfe1", "html_url": "https://github.com/rust-lang/rust/commit/ad638a3e423e5bc2bc621a60eb392ed77209dfe1"}, {"sha": "7c98915da9c5eb80ceb846d6dac7553c90855763", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c98915da9c5eb80ceb846d6dac7553c90855763", "html_url": "https://github.com/rust-lang/rust/commit/7c98915da9c5eb80ceb846d6dac7553c90855763"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "2d7a641a8313bd0fe4b6bd926ff8466589544227", "filename": "clippy_lints/src/loops.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/47ada9ae074b34fa850c512f80c210f13846850e/clippy_lints%2Fsrc%2Floops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/47ada9ae074b34fa850c512f80c210f13846850e/clippy_lints%2Fsrc%2Floops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops.rs?ref=47ada9ae074b34fa850c512f80c210f13846850e", "patch": "@@ -727,8 +727,7 @@ fn never_loop_expr(expr: &Expr, main_loop_id: HirId) -> NeverLoopResult {\n                 NeverLoopResult::AlwaysBreak\n             }\n         },\n-        ExprKind::Break(_, _) => NeverLoopResult::AlwaysBreak,\n-        ExprKind::Ret(ref e) => {\n+        ExprKind::Break(_, ref e) | ExprKind::Ret(ref e) => {\n             if let Some(ref e) = *e {\n                 combine_seq(never_loop_expr(e, main_loop_id), NeverLoopResult::AlwaysBreak)\n             } else {"}, {"sha": "cbc4ca39161681f3edd71b684a9a91a2d8722d0b", "filename": "tests/ui/never_loop.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/47ada9ae074b34fa850c512f80c210f13846850e/tests%2Fui%2Fnever_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/47ada9ae074b34fa850c512f80c210f13846850e/tests%2Fui%2Fnever_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fnever_loop.rs?ref=47ada9ae074b34fa850c512f80c210f13846850e", "patch": "@@ -175,6 +175,17 @@ pub fn test15() {\n     }\n }\n \n+// Issue #4058: `continue` in `break` expression\n+pub fn test16() {\n+    let mut n = 1;\n+    loop {\n+        break if n != 5 {\n+            n += 1;\n+            continue;\n+        };\n+    }\n+}\n+\n fn main() {\n     test1();\n     test2();"}]}