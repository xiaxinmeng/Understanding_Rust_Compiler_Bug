{"sha": "0c05a21b3a7f2ef2f3d2f38b848655b32b3a705d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjMDVhMjFiM2E3ZjJlZjJmM2QyZjM4Yjg0ODY1NWIzMmIzYTcwNWQ=", "commit": {"author": {"name": "St\u00e9phane Campinas", "email": "stephane.campinas@gmail.com", "date": "2019-05-22T13:48:40Z"}, "committer": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2019-05-22T13:48:40Z"}, "message": "Document some additional points about maintaining rustfmt (#3579)", "tree": {"sha": "0d49601e873ac853757a14060c4cbb2b24a44036", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0d49601e873ac853757a14060c4cbb2b24a44036"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0c05a21b3a7f2ef2f3d2f38b848655b32b3a705d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0c05a21b3a7f2ef2f3d2f38b848655b32b3a705d", "html_url": "https://github.com/rust-lang/rust/commit/0c05a21b3a7f2ef2f3d2f38b848655b32b3a705d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0c05a21b3a7f2ef2f3d2f38b848655b32b3a705d/comments", "author": {"login": "scampi", "id": 795879, "node_id": "MDQ6VXNlcjc5NTg3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/795879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scampi", "html_url": "https://github.com/scampi", "followers_url": "https://api.github.com/users/scampi/followers", "following_url": "https://api.github.com/users/scampi/following{/other_user}", "gists_url": "https://api.github.com/users/scampi/gists{/gist_id}", "starred_url": "https://api.github.com/users/scampi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scampi/subscriptions", "organizations_url": "https://api.github.com/users/scampi/orgs", "repos_url": "https://api.github.com/users/scampi/repos", "events_url": "https://api.github.com/users/scampi/events{/privacy}", "received_events_url": "https://api.github.com/users/scampi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a7d4ec92cb4cb77e602ef78a7e2ce3461922a7f1", "url": "https://api.github.com/repos/rust-lang/rust/commits/a7d4ec92cb4cb77e602ef78a7e2ce3461922a7f1", "html_url": "https://github.com/rust-lang/rust/commit/a7d4ec92cb4cb77e602ef78a7e2ce3461922a7f1"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "3f1c07c52b35565710f5247d0e6a57bf38545732", "filename": "Processes.md", "status": "modified", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/0c05a21b3a7f2ef2f3d2f38b848655b32b3a705d/Processes.md", "raw_url": "https://github.com/rust-lang/rust/raw/0c05a21b3a7f2ef2f3d2f38b848655b32b3a705d/Processes.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Processes.md?ref=0c05a21b3a7f2ef2f3d2f38b848655b32b3a705d", "patch": "@@ -6,6 +6,7 @@ In this Section, we describe how to stabilise an option of the rustfmt's configr\n \n ## Conditions\n \n+- Is the default value correct ?\n - The design and implementation of the option are sound and clean.\n - The option is well tested, both in unit tests and, optimally, in real usage.\n - There is no open bug about the option that prevents its use.\n@@ -20,3 +21,36 @@ Open a pull request that closes the tracking issue. The tracking issue is listed\n ## After the stabilisation\n \n The option should remain backward-compatible with previous parameters of the option. For instance, if the option is an enum `enum Foo { Alice, Bob }` and the variant `Foo::Bob` is removed/renamed, existing use of the `Foo::Bob` variant should map to the new logic. Breaking changes can be applied under the condition they are version-gated.\n+\n+# Make a Release\n+\n+## 0. Update CHANGELOG.md\n+\n+## 1. Update Cargo.toml and Cargo.lock\n+\n+For example, 1.0.0 -> 1.0.1:\n+\n+```diff\n+-version = \"1.0.0\"\n++version = \"1.0.1\"\n+```\n+\n+## 2. Push the commit to the master branch\n+\n+E.g., https://github.com/rust-lang/rustfmt/commit/5274b49caa1a7db6ac10c76bf1a3d5710ccef569\n+\n+## 3. Create a release tag\n+\n+```sh\n+git tag -s v1.2.3 -m \"Release 1.2.3\"\n+```\n+\n+## 4. Publish to crates.io\n+\n+`cargo publish`\n+\n+## 5. Create a PR to rust-lang/rust to update the rustfmt submodule\n+\n+Note that if you are updating `rustc-ap-*` crates, then you need to update **every** submodules in the rust-lang/rust repository that depend on the crates to use the same version of those.\n+\n+As of 2019/05, there are two such crates: `rls` and `racer` (`racer` depends on `rustc-ap-syntax` and `rls` depends on `racer`, and `rls` is one of submodules of the rust-lang/rust repository)."}]}