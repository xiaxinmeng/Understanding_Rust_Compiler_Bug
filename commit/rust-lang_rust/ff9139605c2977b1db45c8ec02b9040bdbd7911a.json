{"sha": "ff9139605c2977b1db45c8ec02b9040bdbd7911a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZmOTEzOTYwNWMyOTc3YjFkYjQ1YzhlYzAyYjkwNDBiZGJkNzkxMWE=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-01-25T22:48:57Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-01-25T22:49:02Z"}, "message": "Start running the libsyntax unit tests. #4618", "tree": {"sha": "d78f81fda42278a5b6f3107d61bdc12d37ad4ba5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d78f81fda42278a5b6f3107d61bdc12d37ad4ba5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ff9139605c2977b1db45c8ec02b9040bdbd7911a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ff9139605c2977b1db45c8ec02b9040bdbd7911a", "html_url": "https://github.com/rust-lang/rust/commit/ff9139605c2977b1db45c8ec02b9040bdbd7911a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ff9139605c2977b1db45c8ec02b9040bdbd7911a/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d73077f82dc0f074f7abcb017bd73f4d70a685e9", "url": "https://api.github.com/repos/rust-lang/rust/commits/d73077f82dc0f074f7abcb017bd73f4d70a685e9", "html_url": "https://github.com/rust-lang/rust/commit/d73077f82dc0f074f7abcb017bd73f4d70a685e9"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "e9b407b8d795b48b74b5da96159ab00992634d88", "filename": "mk/tests.mk", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/ff9139605c2977b1db45c8ec02b9040bdbd7911a/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/ff9139605c2977b1db45c8ec02b9040bdbd7911a/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=ff9139605c2977b1db45c8ec02b9040bdbd7911a", "patch": "@@ -236,6 +236,7 @@ check-stage$(1)-T-$(2)-H-$(3):     \t\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rustc\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-core          \\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-std\t\t\t\\\n+\tcheck-stage$(1)-T-$(2)-H-$(3)-syntax\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rpass\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rpass-full\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rfail\t\t\t\\\n@@ -261,6 +262,9 @@ check-stage$(1)-T-$(2)-H-$(3)-core:\t\t\t\t\\\n check-stage$(1)-T-$(2)-H-$(3)-std:\t\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-std-dummy\n \n+check-stage$(1)-T-$(2)-H-$(3)-syntax:\t\t\t\t\\\n+\tcheck-stage$(1)-T-$(2)-H-$(3)-syntax-dummy\n+\n check-stage$(1)-T-$(2)-H-$(3)-rustc:\t\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rustc-dummy\n \n@@ -359,6 +363,20 @@ check-stage$(1)-T-$(2)-H-$(3)-std-dummy:\t\t\t\\\n \t$$(Q)$$(call CFG_RUN_TEST,$$<,$(2),$(3)) $$(TESTARGS)\t\\\n \t--logfile tmp/check-stage$(1)-T-$(2)-H-$(3)-std.log\n \n+# Rules for the libsyntax test runner\n+\n+$(3)/test/syntaxtest.stage$(1)-$(2)$$(X):\t\t\t\\\n+\t\t$$(LIBSYNTAX_CRATE) $$(LIBSYNTAX_INPUTS)\t\\\n+        $$(SREQ$(1)_T_$(2)_H_$(3))\n+\t@$$(call E, compile_and_link: $$@)\n+\t$$(STAGE$(1)_T_$(2)_H_$(3)) -o $$@ $$< --test\n+\n+check-stage$(1)-T-$(2)-H-$(3)-syntax-dummy:\t\t\t\\\n+\t\t$(3)/test/syntaxtest.stage$(1)-$(2)$$(X)\n+\t@$$(call E, run: $$<)\n+\t$$(Q)$$(call CFG_RUN_TEST,$$<,$(2),$(3)) $$(TESTARGS)\t\\\n+\t--logfile tmp/check-stage$(1)-T-$(2)-H-$(3)-syntax.log\n+\n # Rules for the rustc test runner\n \n $(3)/test/rustctest.stage$(1)-$(2)$$(X):\t\t\t\t\t\\\n@@ -760,6 +778,9 @@ check-stage$(1)-H-$(2)-core:\t\t\t\t\t\\\n check-stage$(1)-H-$(2)-std:\t\t\t\t\t\\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-T-$$(target)-H-$(2)-std)\n+check-stage$(1)-H-$(2)-syntax:\t\t\t\t\t\\\n+\t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n+\t check-stage$(1)-T-$$(target)-H-$(2)-syntax)\n check-stage$(1)-H-$(2)-rpass:\t\t\t\t\t\\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-T-$$(target)-H-$(2)-rpass)\n@@ -856,6 +877,9 @@ check-stage$(1)-H-all-core: \\\n check-stage$(1)-H-all-std: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-std)\n+check-stage$(1)-H-all-syntax: \\\n+\t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n+\t check-stage$(1)-H-$$(target)-syntax)\n check-stage$(1)-H-all-rpass: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-rpass)\n@@ -917,6 +941,7 @@ check-stage$(1)-perf: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-perf\n check-stage$(1)-rustc: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rustc\n check-stage$(1)-core: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-core\n check-stage$(1)-std: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-std\n+check-stage$(1)-syntax: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-syntax\n check-stage$(1)-rpass: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rpass\n check-stage$(1)-rpass-full: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rpass-full\n check-stage$(1)-rfail: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rfail"}]}