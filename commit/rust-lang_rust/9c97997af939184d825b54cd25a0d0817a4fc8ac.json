{"sha": "9c97997af939184d825b54cd25a0d0817a4fc8ac", "node_id": "C_kwDOAAsO6NoAKDljOTc5OTdhZjkzOTE4NGQ4MjViNTRjZDI1YTBkMDgxN2E0ZmM4YWM", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2022-09-10T09:50:55Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2022-09-10T09:50:55Z"}, "message": "Remove the toggleInlayHints command from VSCode\n\nInlay hints are no longer something specifc to r-a as it has been\nupstreamed into the LSP, we don't have a reason to give the config\nfor this feature special treatment in regards to toggling. There are\nplenty of other options out there in the VSCode marketplace to create\ntoggle commands/hotkeys for configurations in general which I believe\nwe should nudge people towards instead.", "tree": {"sha": "cf7f881dadec885ffc1af20b8be1d0f04bfad8a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cf7f881dadec885ffc1af20b8be1d0f04bfad8a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9c97997af939184d825b54cd25a0d0817a4fc8ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9c97997af939184d825b54cd25a0d0817a4fc8ac", "html_url": "https://github.com/rust-lang/rust/commit/9c97997af939184d825b54cd25a0d0817a4fc8ac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9c97997af939184d825b54cd25a0d0817a4fc8ac/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "690955643504b0dea0d49ab5c9d5fd45ce96230f", "url": "https://api.github.com/repos/rust-lang/rust/commits/690955643504b0dea0d49ab5c9d5fd45ce96230f", "html_url": "https://github.com/rust-lang/rust/commit/690955643504b0dea0d49ab5c9d5fd45ce96230f"}], "stats": {"total": 34, "additions": 0, "deletions": 34}, "files": [{"sha": "023b4502091d4a3afc013331635732db268bbc86", "filename": "editors/code/package.json", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9c97997af939184d825b54cd25a0d0817a4fc8ac/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/9c97997af939184d825b54cd25a0d0817a4fc8ac/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=9c97997af939184d825b54cd25a0d0817a4fc8ac", "patch": "@@ -206,11 +206,6 @@\n                 \"title\": \"Show RA Version\",\n                 \"category\": \"rust-analyzer\"\n             },\n-            {\n-                \"command\": \"rust-analyzer.toggleInlayHints\",\n-                \"title\": \"Toggle inlay hints\",\n-                \"category\": \"rust-analyzer\"\n-            },\n             {\n                 \"command\": \"rust-analyzer.openDocs\",\n                 \"title\": \"Open docs under cursor\",\n@@ -1633,10 +1628,6 @@\n                     \"command\": \"rust-analyzer.serverVersion\",\n                     \"when\": \"inRustProject\"\n                 },\n-                {\n-                    \"command\": \"rust-analyzer.toggleInlayHints\",\n-                    \"when\": \"inRustProject\"\n-                },\n                 {\n                     \"command\": \"rust-analyzer.openDocs\",\n                     \"when\": \"inRustProject\""}, {"sha": "b9ad525e361f0e20e5807ac9d2b24ab306d4f716", "filename": "editors/code/src/commands.ts", "status": "modified", "additions": 0, "deletions": 24, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/9c97997af939184d825b54cd25a0d0817a4fc8ac/editors%2Fcode%2Fsrc%2Fcommands.ts", "raw_url": "https://github.com/rust-lang/rust/raw/9c97997af939184d825b54cd25a0d0817a4fc8ac/editors%2Fcode%2Fsrc%2Fcommands.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands.ts?ref=9c97997af939184d825b54cd25a0d0817a4fc8ac", "patch": "@@ -321,30 +321,6 @@ export function serverVersion(ctx: Ctx): Cmd {\n     };\n }\n \n-export function toggleInlayHints(_ctx: Ctx): Cmd {\n-    return async () => {\n-        const config = vscode.workspace.getConfiguration(\"editor.inlayHints\", {\n-            languageId: \"rust\",\n-        });\n-\n-        const value = config.get(\"enabled\");\n-        let stringValue;\n-        if (typeof value === \"string\") {\n-            stringValue = value;\n-        } else {\n-            stringValue = value ? \"on\" : \"off\";\n-        }\n-        const nextValues: Record<string, string> = {\n-            on: \"off\",\n-            off: \"on\",\n-            onUnlessPressed: \"offUnlessPressed\",\n-            offUnlessPressed: \"onUnlessPressed\",\n-        };\n-        const nextValue = nextValues[stringValue] ?? \"on\";\n-        await config.update(\"enabled\", nextValue, vscode.ConfigurationTarget.Global);\n-    };\n-}\n-\n // Opens the virtual file that will show the syntax tree\n //\n // The contents of the file come from the `TextDocumentContentProvider`"}, {"sha": "41bde4195e07d254da0d5532101c140969c17dc2", "filename": "editors/code/src/main.ts", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9c97997af939184d825b54cd25a0d0817a4fc8ac/editors%2Fcode%2Fsrc%2Fmain.ts", "raw_url": "https://github.com/rust-lang/rust/raw/9c97997af939184d825b54cd25a0d0817a4fc8ac/editors%2Fcode%2Fsrc%2Fmain.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fmain.ts?ref=9c97997af939184d825b54cd25a0d0817a4fc8ac", "patch": "@@ -180,7 +180,6 @@ async function initCommonContext(context: vscode.ExtensionContext, ctx: Ctx) {\n \n     ctx.registerCommand(\"ssr\", commands.ssr);\n     ctx.registerCommand(\"serverVersion\", commands.serverVersion);\n-    ctx.registerCommand(\"toggleInlayHints\", commands.toggleInlayHints);\n \n     // Internal commands which are invoked by the server.\n     ctx.registerCommand(\"runSingle\", commands.runSingle);"}]}