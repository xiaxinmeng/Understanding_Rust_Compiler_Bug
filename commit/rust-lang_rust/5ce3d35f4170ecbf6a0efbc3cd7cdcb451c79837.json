{"sha": "5ce3d35f4170ecbf6a0efbc3cd7cdcb451c79837", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVjZTNkMzVmNDE3MGVjYmY2YTBlZmJjM2NkN2NkY2I0NTFjNzk4Mzc=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-03-29T04:04:13Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-03-29T15:41:25Z"}, "message": "rustc: Don't zero out arena chunks with vec::from_elem; that's slow because it calls the glue.", "tree": {"sha": "88b2d6c593a45d1b84328aa5a84f079c61b318d7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/88b2d6c593a45d1b84328aa5a84f079c61b318d7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5ce3d35f4170ecbf6a0efbc3cd7cdcb451c79837", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5ce3d35f4170ecbf6a0efbc3cd7cdcb451c79837", "html_url": "https://github.com/rust-lang/rust/commit/5ce3d35f4170ecbf6a0efbc3cd7cdcb451c79837", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5ce3d35f4170ecbf6a0efbc3cd7cdcb451c79837/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "26630187920a8b3f1b2f2d73f0172addd6c35ccd", "url": "https://api.github.com/repos/rust-lang/rust/commits/26630187920a8b3f1b2f2d73f0172addd6c35ccd", "html_url": "https://github.com/rust-lang/rust/commit/26630187920a8b3f1b2f2d73f0172addd6c35ccd"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "b066232cd23216e008aaa0e5407f1ba0278b8155", "filename": "src/libstd/arena.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5ce3d35f4170ecbf6a0efbc3cd7cdcb451c79837/src%2Flibstd%2Farena.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5ce3d35f4170ecbf6a0efbc3cd7cdcb451c79837/src%2Flibstd%2Farena.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Farena.rs?ref=5ce3d35f4170ecbf6a0efbc3cd7cdcb451c79837", "patch": "@@ -8,7 +8,9 @@ type chunk = {data: [u8], mut fill: uint};\n type arena = {mut chunks: list::list<@chunk>};\n \n fn chunk(size: uint) -> @chunk {\n-    @{ data: vec::from_elem(size, 0u8), mut fill: 0u }\n+    let mut v = [];\n+    vec::reserve(v, size);\n+    @{ data: v, mut fill: 0u }\n }\n \n fn arena_with_size(initial_size: uint) -> arena {"}]}