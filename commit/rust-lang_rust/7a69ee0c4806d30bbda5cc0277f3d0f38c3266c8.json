{"sha": "7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdhNjllZTBjNDgwNmQzMGJiZGE1Y2MwMjc3ZjNkMGYzOGMzMjY2Yzg=", "commit": {"author": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2015-12-18T10:10:31Z"}, "committer": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-01-31T02:21:54Z"}, "message": "Revert PR #30324, fixing a bug in which a public glob import can make preceding imports public (fixes #30159).", "tree": {"sha": "274c80c79335e7d39e44627220d59e6a1fff2f94", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/274c80c79335e7d39e44627220d59e6a1fff2f94"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8", "html_url": "https://github.com/rust-lang/rust/commit/7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8/comments", "author": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a07087bc5533f4dc7318ea15d9fb4822c0ba67b", "url": "https://api.github.com/repos/rust-lang/rust/commits/9a07087bc5533f4dc7318ea15d9fb4822c0ba67b", "html_url": "https://github.com/rust-lang/rust/commit/9a07087bc5533f4dc7318ea15d9fb4822c0ba67b"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "50537a6b936e96b0e7948b8bbadd6631c261987c", "filename": "src/librustc_resolve/resolve_imports.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8/src%2Flibrustc_resolve%2Fresolve_imports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8/src%2Flibrustc_resolve%2Fresolve_imports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fresolve_imports.rs?ref=7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8", "patch": "@@ -798,9 +798,6 @@ impl<'a, 'b:'a, 'tcx:'b> ImportResolver<'a, 'b, 'tcx> {\n                 dest_import_resolution.is_public = is_public;\n                 self.add_export(module_, name, &dest_import_resolution);\n             }\n-        } else {\n-            // FIXME #30159: This is required for backwards compatability.\n-            dest_import_resolution.is_public |= is_public;\n         }\n \n         self.check_for_conflicts_between_imports_and_items(module_,"}, {"sha": "1bf7f3933849de76ba2307357ba574ebc776b90c", "filename": "src/test/compile-fail/shadowed-use-visibility.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8/src%2Ftest%2Fcompile-fail%2Fshadowed-use-visibility.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8/src%2Ftest%2Fcompile-fail%2Fshadowed-use-visibility.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fshadowed-use-visibility.rs?ref=7a69ee0c4806d30bbda5cc0277f3d0f38c3266c8", "patch": "@@ -17,6 +17,10 @@ mod foo {\n \n mod bar {\n     use foo::bar::f as g; //~ ERROR unresolved import\n+\n+    use foo as f;\n+    pub use foo::*;\n }\n \n+use bar::f::f; //~ ERROR unresolved import\n fn main() {}"}]}