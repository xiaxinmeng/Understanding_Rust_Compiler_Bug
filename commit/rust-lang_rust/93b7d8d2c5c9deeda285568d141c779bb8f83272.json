{"sha": "93b7d8d2c5c9deeda285568d141c779bb8f83272", "node_id": "C_kwDOAAsO6NoAKDkzYjdkOGQyYzVjOWRlZWRhMjg1NTY4ZDE0MWM3NzliYjhmODMyNzI", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-08-28T04:11:57Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-08-28T04:11:57Z"}, "message": "Add test for APIT", "tree": {"sha": "1316fe2c98d7b5672628b26c36f7232653988c0d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1316fe2c98d7b5672628b26c36f7232653988c0d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/93b7d8d2c5c9deeda285568d141c779bb8f83272", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/93b7d8d2c5c9deeda285568d141c779bb8f83272", "html_url": "https://github.com/rust-lang/rust/commit/93b7d8d2c5c9deeda285568d141c779bb8f83272", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/93b7d8d2c5c9deeda285568d141c779bb8f83272/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "448c6a4db7fa98dbf16be16f6eb27d8d7f2d9662", "url": "https://api.github.com/repos/rust-lang/rust/commits/448c6a4db7fa98dbf16be16f6eb27d8d7f2d9662", "html_url": "https://github.com/rust-lang/rust/commit/448c6a4db7fa98dbf16be16f6eb27d8d7f2d9662"}], "stats": {"total": 26, "additions": 23, "deletions": 3}, "files": [{"sha": "86c7c1537421ea7ab6e2ae3396ed7a8e82e1c0cf", "filename": "src/test/ui/suggestions/return-closures.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/93b7d8d2c5c9deeda285568d141c779bb8f83272/src%2Ftest%2Fui%2Fsuggestions%2Freturn-closures.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93b7d8d2c5c9deeda285568d141c779bb8f83272/src%2Ftest%2Fui%2Fsuggestions%2Freturn-closures.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Freturn-closures.rs?ref=93b7d8d2c5c9deeda285568d141c779bb8f83272", "patch": "@@ -1,6 +1,13 @@\n fn foo() {\n+    //~^ HELP try adding a return type\n     |x: &i32| 1i32\n     //~^ ERROR mismatched types\n }\n \n+fn bar(i: impl Sized) {\n+    //~^ HELP a return type might be missing here\n+    || i\n+    //~^ ERROR mismatched types\n+}\n+\n fn main() {}"}, {"sha": "e273793ea2c293fbdfebd1e8790e160e4adafe4e", "filename": "src/test/ui/suggestions/return-closures.stderr", "status": "modified", "additions": 16, "deletions": 3, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/93b7d8d2c5c9deeda285568d141c779bb8f83272/src%2Ftest%2Fui%2Fsuggestions%2Freturn-closures.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/93b7d8d2c5c9deeda285568d141c779bb8f83272/src%2Ftest%2Fui%2Fsuggestions%2Freturn-closures.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Freturn-closures.stderr?ref=93b7d8d2c5c9deeda285568d141c779bb8f83272", "patch": "@@ -1,14 +1,27 @@\n error[E0308]: mismatched types\n-  --> $DIR/return-closures.rs:2:5\n+  --> $DIR/return-closures.rs:3:5\n    |\n LL | fn foo() {\n    |          - help: try adding a return type: `-> impl for<'r> Fn(&'r i32) -> i32`\n+LL |\n LL |     |x: &i32| 1i32\n    |     ^^^^^^^^^^^^^^ expected `()`, found closure\n    |\n    = note: expected unit type `()`\n-                found closure `[closure@$DIR/return-closures.rs:2:5: 2:14]`\n+                found closure `[closure@$DIR/return-closures.rs:3:5: 3:14]`\n \n-error: aborting due to previous error\n+error[E0308]: mismatched types\n+  --> $DIR/return-closures.rs:9:5\n+   |\n+LL | fn bar(i: impl Sized) {\n+   |                       - help: a return type might be missing here: `-> _`\n+LL |\n+LL |     || i\n+   |     ^^^^ expected `()`, found closure\n+   |\n+   = note: expected unit type `()`\n+                found closure `[closure@$DIR/return-closures.rs:9:5: 9:7]`\n+\n+error: aborting due to 2 previous errors\n \n For more information about this error, try `rustc --explain E0308`."}]}