{"sha": "e56ba156e223e24025a743247610283cca49b30a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU1NmJhMTU2ZTIyM2UyNDAyNWE3NDMyNDc2MTAyODNjY2E0OWIzMGE=", "commit": {"author": {"name": "Ben Blum", "email": "bblum@andrew.cmu.edu", "date": "2012-06-25T22:04:00Z"}, "committer": {"name": "Ben Blum", "email": "bblum@andrew.cmu.edu", "date": "2012-06-28T04:02:16Z"}, "message": "Add position() to iter/iter-trait", "tree": {"sha": "e73e0ba5a6c8a95f3f18aa0c895aab59cb5070c0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e73e0ba5a6c8a95f3f18aa0c895aab59cb5070c0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e56ba156e223e24025a743247610283cca49b30a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e56ba156e223e24025a743247610283cca49b30a", "html_url": "https://github.com/rust-lang/rust/commit/e56ba156e223e24025a743247610283cca49b30a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e56ba156e223e24025a743247610283cca49b30a/comments", "author": {"login": "bblum", "id": 1820515, "node_id": "MDQ6VXNlcjE4MjA1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bblum", "html_url": "https://github.com/bblum", "followers_url": "https://api.github.com/users/bblum/followers", "following_url": "https://api.github.com/users/bblum/following{/other_user}", "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}", "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bblum/subscriptions", "organizations_url": "https://api.github.com/users/bblum/orgs", "repos_url": "https://api.github.com/users/bblum/repos", "events_url": "https://api.github.com/users/bblum/events{/privacy}", "received_events_url": "https://api.github.com/users/bblum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bblum", "id": 1820515, "node_id": "MDQ6VXNlcjE4MjA1MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1820515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bblum", "html_url": "https://github.com/bblum", "followers_url": "https://api.github.com/users/bblum/followers", "following_url": "https://api.github.com/users/bblum/following{/other_user}", "gists_url": "https://api.github.com/users/bblum/gists{/gist_id}", "starred_url": "https://api.github.com/users/bblum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bblum/subscriptions", "organizations_url": "https://api.github.com/users/bblum/orgs", "repos_url": "https://api.github.com/users/bblum/repos", "events_url": "https://api.github.com/users/bblum/events{/privacy}", "received_events_url": "https://api.github.com/users/bblum/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9f7e62ea209811fd1ca864498761e733f1c99298", "url": "https://api.github.com/repos/rust-lang/rust/commits/9f7e62ea209811fd1ca864498761e733f1c99298", "html_url": "https://github.com/rust-lang/rust/commit/9f7e62ea209811fd1ca864498761e733f1c99298"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "468bebce4b3a12142a1cd9a7f2f9adf0611ba7ad", "filename": "src/libcore/iter-trait.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e56ba156e223e24025a743247610283cca49b30a/src%2Flibcore%2Fiter-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e56ba156e223e24025a743247610283cca49b30a/src%2Flibcore%2Fiter-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fiter-trait.rs?ref=e56ba156e223e24025a743247610283cca49b30a", "patch": "@@ -16,6 +16,9 @@ impl extensions<A> of iter::base_iter<A> for IMPL_T<A> {\n     }\n     fn contains(x: A) -> bool { iter::contains(self, x) }\n     fn count(x: A) -> uint { iter::count(self, x) }\n+    fn position(f: fn(A) -> bool) -> option<uint> {\n+        iter::position(self, f)\n+    }\n }\n \n impl extensions<A:copy> for IMPL_T<A> {"}, {"sha": "f08fa20fc538c208b2c3b80323b1f68f767b430c", "filename": "src/libcore/iter.rs", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e56ba156e223e24025a743247610283cca49b30a/src%2Flibcore%2Fiter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e56ba156e223e24025a743247610283cca49b30a/src%2Flibcore%2Fiter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fiter.rs?ref=e56ba156e223e24025a743247610283cca49b30a", "patch": "@@ -85,6 +85,20 @@ fn count<A,IA:base_iter<A>>(self: IA, x: A) -> uint {\n     }\n }\n \n+fn position<A,IA:base_iter<A>>(self: IA, f: fn(A) -> bool)\n+        -> option<uint> {\n+    let mut i = 0;\n+    for self.each {|a|\n+        if f(a) { ret some(i); }\n+        i += 1;\n+    }\n+    ret none;\n+}\n+\n+// note: 'rposition' would only make sense to provide with a bidirectional\n+// iter interface, such as would provide \"reach\" in addition to \"each\". as is,\n+// it would have to be implemented with foldr, which is too inefficient.\n+\n fn repeat(times: uint, blk: fn()) {\n     let mut i = 0u;\n     while i < times {"}]}