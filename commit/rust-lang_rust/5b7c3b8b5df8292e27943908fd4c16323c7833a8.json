{"sha": "5b7c3b8b5df8292e27943908fd4c16323c7833a8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViN2MzYjhiNWRmODI5MmUyNzk0MzkwOGZkNGMxNjMyM2M3ODMzYTg=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-09T01:34:15Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-09T01:34:41Z"}, "message": "rustc: Typecheck the base part of record extension expressions. Un-XFAIL rec-extend.rs.", "tree": {"sha": "c7ffdb44d0c074b9916fcecf0a2986a7f8c858f6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c7ffdb44d0c074b9916fcecf0a2986a7f8c858f6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5b7c3b8b5df8292e27943908fd4c16323c7833a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5b7c3b8b5df8292e27943908fd4c16323c7833a8", "html_url": "https://github.com/rust-lang/rust/commit/5b7c3b8b5df8292e27943908fd4c16323c7833a8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5b7c3b8b5df8292e27943908fd4c16323c7833a8/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1a05f99a10dacfbdecc1bf2458f14b10390c1180", "url": "https://api.github.com/repos/rust-lang/rust/commits/1a05f99a10dacfbdecc1bf2458f14b10390c1180", "html_url": "https://github.com/rust-lang/rust/commit/1a05f99a10dacfbdecc1bf2458f14b10390c1180"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "43cb1a7f57910ccde87399207136f0d2b46940d7", "filename": "src/Makefile", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5b7c3b8b5df8292e27943908fd4c16323c7833a8/src%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/5b7c3b8b5df8292e27943908fd4c16323c7833a8/src%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FMakefile?ref=5b7c3b8b5df8292e27943908fd4c16323c7833a8", "patch": "@@ -479,7 +479,6 @@ TEST_XFAILS_RUSTC := $(addprefix test/run-pass/, \\\n                         obj-dtor.rs \\\n                         pred.rs \\\n                         preempt.rs \\\n-                        rec-extend.rs \\\n                         rt-circular-buffer.rs \\\n                         size-and-align.rs \\\n                         spawn-fn.rs \\"}, {"sha": "cbb6e4acf2425c999e7a1c8dc715c9dde6e069ee", "filename": "src/comp/middle/typeck.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5b7c3b8b5df8292e27943908fd4c16323c7833a8/src%2Fcomp%2Fmiddle%2Ftypeck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b7c3b8b5df8292e27943908fd4c16323c7833a8/src%2Fcomp%2Fmiddle%2Ftypeck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftypeck.rs?ref=5b7c3b8b5df8292e27943908fd4c16323c7833a8", "patch": "@@ -2064,7 +2064,13 @@ fn check_expr(&@fn_ctxt fcx, @ast.expr expr) -> @ast.expr {\n \n         case (ast.expr_rec(?fields, ?base, _)) {\n \n-            auto base_1 = base;\n+            auto base_1;\n+            alt (base) {\n+                case (none[@ast.expr]) { base_1 = none[@ast.expr]; }\n+                case (some[@ast.expr](?b_0)) {\n+                    base_1 = some[@ast.expr](check_expr(fcx, b_0));\n+                }\n+            }\n \n             let vec[ast.field] fields_1 = vec();\n             let vec[field] fields_t = vec();"}]}