{"sha": "2bc180e888ebfa4712c4763fbba30c1c599a68e3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJiYzE4MGU4ODhlYmZhNDcxMmM0NzYzZmJiYTMwYzFjNTk5YTY4ZTM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-03-22T19:48:27Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-03-22T19:48:27Z"}, "message": "Auto merge of #79278 - mark-i-m:stabilize-or-pattern, r=nikomatsakis\n\nStabilize or_patterns (RFC 2535, 2530, 2175)\n\ncloses #54883\n\nThis PR stabilizes the or_patterns feature in Rust 1.53.\n\nThis is blocked on the following (in order):\n- [x] The crater run in https://github.com/rust-lang/rust/pull/78935#issuecomment-731564021\n- [x] The resolution of the unresolved questions and a second crater run (https://github.com/rust-lang/rust/pull/78935#issuecomment-735412705)\n    - It looks like we will need to pursue some sort of edition-based transition for `:pat`.\n- [x] Nomination and discussion by T-lang\n- [x] Implement new behavior for `:pat` based on consensus (https://github.com/rust-lang/rust/pull/80100).\n- [ ] An FCP on stabilization\n\nEDIT: Stabilization report is in https://github.com/rust-lang/rust/pull/79278#issuecomment-772815177", "tree": {"sha": "dfa12162d1d8dd216099714e9e4547c15e9dcf37", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dfa12162d1d8dd216099714e9e4547c15e9dcf37"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2bc180e888ebfa4712c4763fbba30c1c599a68e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2bc180e888ebfa4712c4763fbba30c1c599a68e3", "html_url": "https://github.com/rust-lang/rust/commit/2bc180e888ebfa4712c4763fbba30c1c599a68e3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2bc180e888ebfa4712c4763fbba30c1c599a68e3/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "731c98b16bd1dad46bd3c22bcf35a86c34ad7997", "url": "https://api.github.com/repos/rust-lang/rust/commits/731c98b16bd1dad46bd3c22bcf35a86c34ad7997", "html_url": "https://github.com/rust-lang/rust/commit/731c98b16bd1dad46bd3c22bcf35a86c34ad7997"}, {"sha": "d2f0b27f0a2c5821a966ee2a02c6ba7191a27fe7", "url": "https://api.github.com/repos/rust-lang/rust/commits/d2f0b27f0a2c5821a966ee2a02c6ba7191a27fe7", "html_url": "https://github.com/rust-lang/rust/commit/d2f0b27f0a2c5821a966ee2a02c6ba7191a27fe7"}], "stats": {"total": 83, "additions": 33, "deletions": 50}, "files": [{"sha": "b4c450bda5c728fa4d2f2cf93bd00a4a7440cd49", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -5,7 +5,7 @@\n #![feature(drain_filter)]\n #![feature(in_band_lifetimes)]\n #![feature(once_cell)]\n-#![feature(or_patterns)]\n+#![cfg_attr(bootstrap, feature(or_patterns))]\n #![feature(rustc_private)]\n #![feature(stmt_expr_attributes)]\n #![feature(control_flow_enum)]"}, {"sha": "5826e9a4aa5b354a8023eb3f6ffa9910d5f18e5c", "filename": "clippy_lints/src/unnested_or_patterns.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/clippy_lints%2Fsrc%2Funnested_or_patterns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/clippy_lints%2Fsrc%2Funnested_or_patterns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funnested_or_patterns.rs?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -72,11 +72,6 @@ impl EarlyLintPass for UnnestedOrPatterns {\n }\n \n fn lint_unnested_or_patterns(cx: &EarlyContext<'_>, pat: &Pat) {\n-    if !cx.sess.features_untracked().or_patterns {\n-        // Do not suggest nesting the patterns if the feature `or_patterns` is not enabled.\n-        return;\n-    }\n-\n     if let Ident(.., None) | Lit(_) | Wild | Path(..) | Range(..) | Rest | MacCall(_) = pat.kind {\n         // This is a leaf pattern, so cloning is unprofitable.\n         return;"}, {"sha": "7d3584333af6ef1313ee63edbce09f29f570b8dc", "filename": "clippy_utils/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/clippy_utils%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/clippy_utils%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Flib.rs?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -1,6 +1,6 @@\n #![feature(box_patterns)]\n #![feature(in_band_lifetimes)]\n-#![feature(or_patterns)]\n+#![cfg_attr(bootstrap, feature(or_patterns))]\n #![feature(rustc_private)]\n #![recursion_limit = \"512\"]\n #![allow(clippy::missing_errors_doc, clippy::missing_panics_doc, clippy::must_use_candidate)]"}, {"sha": "46463a29e9b20deec853a9a7fab3293cad5017d5", "filename": "tests/ui/unnested_or_patterns.fixed", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns.fixed?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -1,6 +1,5 @@\n // run-rustfix\n \n-#![feature(or_patterns)]\n #![feature(box_patterns)]\n #![warn(clippy::unnested_or_patterns)]\n #![allow(clippy::cognitive_complexity, clippy::match_ref_pats, clippy::upper_case_acronyms)]"}, {"sha": "8ce0738bfc27b3c31cfe88e858544cf8d3bddc71", "filename": "tests/ui/unnested_or_patterns.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns.rs?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -1,6 +1,5 @@\n // run-rustfix\n \n-#![feature(or_patterns)]\n #![feature(box_patterns)]\n #![warn(clippy::unnested_or_patterns)]\n #![allow(clippy::cognitive_complexity, clippy::match_ref_pats, clippy::upper_case_acronyms)]"}, {"sha": "f7cb513c15c90867ec1eceab3a656d66a0ba4bb7", "filename": "tests/ui/unnested_or_patterns.stderr", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns.stderr?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -1,5 +1,5 @@\n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:10:12\n+  --> $DIR/unnested_or_patterns.rs:9:12\n    |\n LL |     if let box 0 | box 2 = Box::new(0) {}\n    |            ^^^^^^^^^^^^^\n@@ -11,7 +11,7 @@ LL |     if let box (0 | 2) = Box::new(0) {}\n    |            ^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:11:12\n+  --> $DIR/unnested_or_patterns.rs:10:12\n    |\n LL |     if let box ((0 | 1)) | box (2 | 3) | box 4 = Box::new(0) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -22,7 +22,7 @@ LL |     if let box (0 | 1 | 2 | 3 | 4) = Box::new(0) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:13:12\n+  --> $DIR/unnested_or_patterns.rs:12:12\n    |\n LL |     if let &0 | C0 | &2 = &0 {}\n    |            ^^^^^^^^^^^^\n@@ -33,7 +33,7 @@ LL |     if let &(0 | 2) | C0 = &0 {}\n    |            ^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:14:12\n+  --> $DIR/unnested_or_patterns.rs:13:12\n    |\n LL |     if let &mut 0 | &mut 2 = &mut 0 {}\n    |            ^^^^^^^^^^^^^^^\n@@ -44,7 +44,7 @@ LL |     if let &mut (0 | 2) = &mut 0 {}\n    |            ^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:15:12\n+  --> $DIR/unnested_or_patterns.rs:14:12\n    |\n LL |     if let x @ 0 | x @ 2 = 0 {}\n    |            ^^^^^^^^^^^^^\n@@ -55,7 +55,7 @@ LL |     if let x @ (0 | 2) = 0 {}\n    |            ^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:16:12\n+  --> $DIR/unnested_or_patterns.rs:15:12\n    |\n LL |     if let (0, 1) | (0, 2) | (0, 3) = (0, 0) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -66,7 +66,7 @@ LL |     if let (0, 1 | 2 | 3) = (0, 0) {}\n    |            ^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:17:12\n+  --> $DIR/unnested_or_patterns.rs:16:12\n    |\n LL |     if let (1, 0) | (2, 0) | (3, 0) = (0, 0) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -77,7 +77,7 @@ LL |     if let (1 | 2 | 3, 0) = (0, 0) {}\n    |            ^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:18:12\n+  --> $DIR/unnested_or_patterns.rs:17:12\n    |\n LL |     if let (x, ..) | (x, 1) | (x, 2) = (0, 1) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -88,7 +88,7 @@ LL |     if let (x, ..) | (x, 1 | 2) = (0, 1) {}\n    |            ^^^^^^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:19:12\n+  --> $DIR/unnested_or_patterns.rs:18:12\n    |\n LL |     if let [0] | [1] = [0] {}\n    |            ^^^^^^^^^\n@@ -99,7 +99,7 @@ LL |     if let [0 | 1] = [0] {}\n    |            ^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:20:12\n+  --> $DIR/unnested_or_patterns.rs:19:12\n    |\n LL |     if let [x, 0] | [x, 1] = [0, 1] {}\n    |            ^^^^^^^^^^^^^^^\n@@ -110,7 +110,7 @@ LL |     if let [x, 0 | 1] = [0, 1] {}\n    |            ^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:21:12\n+  --> $DIR/unnested_or_patterns.rs:20:12\n    |\n LL |     if let [x, 0] | [x, 1] | [x, 2] = [0, 1] {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -121,7 +121,7 @@ LL |     if let [x, 0 | 1 | 2] = [0, 1] {}\n    |            ^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:22:12\n+  --> $DIR/unnested_or_patterns.rs:21:12\n    |\n LL |     if let [x, ..] | [x, 1] | [x, 2] = [0, 1] {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -132,7 +132,7 @@ LL |     if let [x, ..] | [x, 1 | 2] = [0, 1] {}\n    |            ^^^^^^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:24:12\n+  --> $DIR/unnested_or_patterns.rs:23:12\n    |\n LL |     if let TS(0, x) | TS(1, x) = TS(0, 0) {}\n    |            ^^^^^^^^^^^^^^^^^^^\n@@ -143,7 +143,7 @@ LL |     if let TS(0 | 1, x) = TS(0, 0) {}\n    |            ^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:25:12\n+  --> $DIR/unnested_or_patterns.rs:24:12\n    |\n LL |     if let TS(1, 0) | TS(2, 0) | TS(3, 0) = TS(0, 0) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -154,7 +154,7 @@ LL |     if let TS(1 | 2 | 3, 0) = TS(0, 0) {}\n    |            ^^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:26:12\n+  --> $DIR/unnested_or_patterns.rs:25:12\n    |\n LL |     if let TS(x, ..) | TS(x, 1) | TS(x, 2) = TS(0, 0) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -165,7 +165,7 @@ LL |     if let TS(x, ..) | TS(x, 1 | 2) = TS(0, 0) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:31:12\n+  --> $DIR/unnested_or_patterns.rs:30:12\n    |\n LL |     if let S { x: 0, y } | S { y, x: 1 } = (S { x: 0, y: 1 }) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"}, {"sha": "d3539d798157b699c7aee8aea479741d38e8bbba", "filename": "tests/ui/unnested_or_patterns2.fixed", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns2.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns2.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns2.fixed?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -1,6 +1,5 @@\n // run-rustfix\n \n-#![feature(or_patterns)]\n #![feature(box_patterns)]\n #![warn(clippy::unnested_or_patterns)]\n #![allow(clippy::cognitive_complexity, clippy::match_ref_pats)]"}, {"sha": "9cea5cdea69977755613df2f9d58e351406cb7df", "filename": "tests/ui/unnested_or_patterns2.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns2.rs?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -1,6 +1,5 @@\n // run-rustfix\n \n-#![feature(or_patterns)]\n #![feature(box_patterns)]\n #![warn(clippy::unnested_or_patterns)]\n #![allow(clippy::cognitive_complexity, clippy::match_ref_pats)]"}, {"sha": "9042c9c00b1ac525a6c448fe9ea9a7a2343b448b", "filename": "tests/ui/unnested_or_patterns2.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Funnested_or_patterns2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns2.stderr?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -1,5 +1,5 @@\n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns2.rs:10:12\n+  --> $DIR/unnested_or_patterns2.rs:9:12\n    |\n LL |     if let Some(Some(0)) | Some(Some(1)) = None {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -11,7 +11,7 @@ LL |     if let Some(Some(0 | 1)) = None {}\n    |            ^^^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns2.rs:11:12\n+  --> $DIR/unnested_or_patterns2.rs:10:12\n    |\n LL |     if let Some(Some(0)) | Some(Some(1) | Some(2)) = None {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -22,7 +22,7 @@ LL |     if let Some(Some(0 | 1 | 2)) = None {}\n    |            ^^^^^^^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns2.rs:12:12\n+  --> $DIR/unnested_or_patterns2.rs:11:12\n    |\n LL |     if let Some(Some(0 | 1) | Some(2)) | Some(Some(3) | Some(4)) = None {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -33,7 +33,7 @@ LL |     if let Some(Some(0 | 1 | 2 | 3 | 4)) = None {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns2.rs:13:12\n+  --> $DIR/unnested_or_patterns2.rs:12:12\n    |\n LL |     if let Some(Some(0) | Some(1 | 2)) = None {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -44,7 +44,7 @@ LL |     if let Some(Some(0 | 1 | 2)) = None {}\n    |            ^^^^^^^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns2.rs:14:12\n+  --> $DIR/unnested_or_patterns2.rs:13:12\n    |\n LL |     if let ((0,),) | ((1,) | (2,),) = ((0,),) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -55,7 +55,7 @@ LL |     if let ((0 | 1 | 2,),) = ((0,),) {}\n    |            ^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns2.rs:15:12\n+  --> $DIR/unnested_or_patterns2.rs:14:12\n    |\n LL |     if let 0 | (1 | 2) = 0 {}\n    |            ^^^^^^^^^^^\n@@ -66,7 +66,7 @@ LL |     if let 0 | 1 | 2 = 0 {}\n    |            ^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns2.rs:16:12\n+  --> $DIR/unnested_or_patterns2.rs:15:12\n    |\n LL |     if let box (0 | 1) | (box 2 | box (3 | 4)) = Box::new(0) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -77,7 +77,7 @@ LL |     if let box (0 | 1 | 2 | 3 | 4) = Box::new(0) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^\n \n error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns2.rs:17:12\n+  --> $DIR/unnested_or_patterns2.rs:16:12\n    |\n LL |     if let box box 0 | box (box 2 | box 4) = Box::new(Box::new(0)) {}\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"}, {"sha": "6bd35057bfad12f8ef301d808fc12e38db203a4c", "filename": "tests/ui/unnested_or_patterns3.rs", "status": "removed", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/731c98b16bd1dad46bd3c22bcf35a86c34ad7997/tests%2Fui%2Funnested_or_patterns3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/731c98b16bd1dad46bd3c22bcf35a86c34ad7997/tests%2Fui%2Funnested_or_patterns3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns3.rs?ref=731c98b16bd1dad46bd3c22bcf35a86c34ad7997", "patch": "@@ -1,6 +0,0 @@\n-#![warn(clippy::unnested_or_patterns)]\n-\n-// Test that `unnested_or_patterns` does not trigger without enabling `or_patterns`\n-fn main() {\n-    if let (0, 1) | (0, 2) | (0, 3) = (0, 0) {}\n-}"}, {"sha": "749393db124b67bed265c18304c7b3966043115e", "filename": "tests/ui/while_let_on_iterator.fixed", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Fwhile_let_on_iterator.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Fwhile_let_on_iterator.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwhile_let_on_iterator.fixed?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -2,7 +2,6 @@\n \n #![warn(clippy::while_let_on_iterator)]\n #![allow(clippy::never_loop, unreachable_code, unused_mut)]\n-#![feature(or_patterns)]\n \n fn base() {\n     let mut iter = 1..20;"}, {"sha": "30e3b82a7ccdd9e8669ec9cc4ed6d22e5645c9a8", "filename": "tests/ui/while_let_on_iterator.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Fwhile_let_on_iterator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Fwhile_let_on_iterator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwhile_let_on_iterator.rs?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -2,7 +2,6 @@\n \n #![warn(clippy::while_let_on_iterator)]\n #![allow(clippy::never_loop, unreachable_code, unused_mut)]\n-#![feature(or_patterns)]\n \n fn base() {\n     let mut iter = 1..20;"}, {"sha": "6554977c798bc4195a9688b5c51d3b7afe7d1d81", "filename": "tests/ui/while_let_on_iterator.stderr", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Fwhile_let_on_iterator.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2bc180e888ebfa4712c4763fbba30c1c599a68e3/tests%2Fui%2Fwhile_let_on_iterator.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwhile_let_on_iterator.stderr?ref=2bc180e888ebfa4712c4763fbba30c1c599a68e3", "patch": "@@ -1,43 +1,43 @@\n error: this loop could be written as a `for` loop\n-  --> $DIR/while_let_on_iterator.rs:9:5\n+  --> $DIR/while_let_on_iterator.rs:8:5\n    |\n LL |     while let Option::Some(x) = iter.next() {\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `for x in iter`\n    |\n    = note: `-D clippy::while-let-on-iterator` implied by `-D warnings`\n \n error: this loop could be written as a `for` loop\n-  --> $DIR/while_let_on_iterator.rs:14:5\n+  --> $DIR/while_let_on_iterator.rs:13:5\n    |\n LL |     while let Some(x) = iter.next() {\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `for x in iter`\n \n error: this loop could be written as a `for` loop\n-  --> $DIR/while_let_on_iterator.rs:19:5\n+  --> $DIR/while_let_on_iterator.rs:18:5\n    |\n LL |     while let Some(_) = iter.next() {}\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `for _ in iter`\n \n error: this loop could be written as a `for` loop\n-  --> $DIR/while_let_on_iterator.rs:102:9\n+  --> $DIR/while_let_on_iterator.rs:101:9\n    |\n LL |         while let Some([..]) = it.next() {}\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `for [..] in it`\n \n error: this loop could be written as a `for` loop\n-  --> $DIR/while_let_on_iterator.rs:109:9\n+  --> $DIR/while_let_on_iterator.rs:108:9\n    |\n LL |         while let Some([_x]) = it.next() {}\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `for [_x] in it`\n \n error: this loop could be written as a `for` loop\n-  --> $DIR/while_let_on_iterator.rs:122:9\n+  --> $DIR/while_let_on_iterator.rs:121:9\n    |\n LL |         while let Some(x @ [_]) = it.next() {\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `for x @ [_] in it`\n \n error: this loop could be written as a `for` loop\n-  --> $DIR/while_let_on_iterator.rs:154:9\n+  --> $DIR/while_let_on_iterator.rs:153:9\n    |\n LL |         while let Some(_) = y.next() {\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `for _ in y`"}]}