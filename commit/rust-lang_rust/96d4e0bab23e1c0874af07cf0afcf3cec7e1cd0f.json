{"sha": "96d4e0bab23e1c0874af07cf0afcf3cec7e1cd0f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk2ZDRlMGJhYjIzZTFjMDg3NGFmMDdjZjBhZmNmM2NlYzdlMWNkMGY=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-05-06T17:13:20Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-05-06T17:22:08Z"}, "message": "Add test for #29988", "tree": {"sha": "5119da2d1932751fce88301e1af34a32068e8eb0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5119da2d1932751fce88301e1af34a32068e8eb0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/96d4e0bab23e1c0874af07cf0afcf3cec7e1cd0f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEXmatGLoofN5+9u4rsJhshcDi2qEFAl6y8kAACgkQsJhshcDi\n2qFz9w/8CG6oUQxGuGnz2FWxt4FDmIyCAO4NaWRqAopEJX0QxjOA2/5eq6TnirYF\npjqcrkgsnWP3QxAdbLUf98Ml9ol5GhzpK2O5ootdwyJKzYblhPJyLKAkaFErwIH4\nblTtxclYiJHpqIH0QqlZJnntnoYuUDcwqVtvETgzOYLcE/bWx8SzqUtBRNHcIs3A\nVsl8VNha2iibdyPxfd+4c3kQ9Rvwzi6LAD0tDrUvnpuirBqz7ix132XMxa0TNrAF\nVm4/tA5qO7Tj3+Eb+e/PDMpdPFYmFNR2RWr4rCeW8LXqcw3WgvGnw+W2mQmH/tSm\nFw7TDlDsYLrMFifTX1N8AVRUbWuxi1XUfMeJCDNJKMArHQb2SISRLVt/OxC4c6xL\nF5s3S55MIn/5VK1nK4962VPH8feSVudTQMzpxxonPedH70/URYev0PrwGD/pucmQ\nDsh8PVZ7LGyg5bCZiJ8CFZlwFcIuF6beLP7VQ+l1k52RERhhm0lCCgSvh+3azXen\n4VUt62/GmZeTQRm3LVXdhMUcPOUb+PwgdLhfd5XW3AIuXfGdu9NXw56W44vDn6wI\nctuREymh5xUHhxtAeex/EROOEhNeRiXB81dfHIOQXcM1wctFQR08qO0b6MUBh7w3\niAvA43olR1V3oqH+liFygWTGS3TD69FC5xXmgeAafNo2Kb3A0r4=\n=vHYW\n-----END PGP SIGNATURE-----", "payload": "tree 5119da2d1932751fce88301e1af34a32068e8eb0\nparent 339f574809bf8e4166b8de3cdbe7df181d37af3d\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1588785200 +0900\ncommitter Yuki Okushi <huyuumi.dev@gmail.com> 1588785728 +0900\n\nAdd test for #29988\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/96d4e0bab23e1c0874af07cf0afcf3cec7e1cd0f", "html_url": "https://github.com/rust-lang/rust/commit/96d4e0bab23e1c0874af07cf0afcf3cec7e1cd0f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/96d4e0bab23e1c0874af07cf0afcf3cec7e1cd0f/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "339f574809bf8e4166b8de3cdbe7df181d37af3d", "url": "https://api.github.com/repos/rust-lang/rust/commits/339f574809bf8e4166b8de3cdbe7df181d37af3d", "html_url": "https://github.com/rust-lang/rust/commit/339f574809bf8e4166b8de3cdbe7df181d37af3d"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "a58d75389f5e2cbc8cb3606cf2f2bdcda7247d1e", "filename": "src/test/codegen/ffi-out-of-bounds-loads.rs", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/96d4e0bab23e1c0874af07cf0afcf3cec7e1cd0f/src%2Ftest%2Fcodegen%2Fffi-out-of-bounds-loads.rs", "raw_url": "https://github.com/rust-lang/rust/raw/96d4e0bab23e1c0874af07cf0afcf3cec7e1cd0f/src%2Ftest%2Fcodegen%2Fffi-out-of-bounds-loads.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fffi-out-of-bounds-loads.rs?ref=96d4e0bab23e1c0874af07cf0afcf3cec7e1cd0f", "patch": "@@ -0,0 +1,22 @@\n+// compile-flags: -C no-prepopulate-passes\n+// Regression test for #29988\n+\n+#[repr(C)]\n+struct S {\n+    f1: i32,\n+    f2: i32,\n+    f3: i32,\n+}\n+\n+extern {\n+    fn foo(s: S);\n+}\n+\n+fn main() {\n+    let s = S { f1: 1, f2: 2, f3: 3 };\n+    unsafe {\n+        // CHECK: load { i64, i32 }, { i64, i32 }* {{.*}}, align 4\n+        // CHECK: call void @foo({ i64, i32 } {{.*}})\n+        foo(s);\n+    }\n+}"}]}