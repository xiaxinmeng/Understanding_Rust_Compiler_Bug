{"sha": "b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI2ZWQxZGUyOWUzMDkyYTA2MWVkNWY2NGJhNTYwZjY4MTRiNmQyNWE=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-06-15T19:24:12Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-06-15T19:24:12Z"}, "message": "Issue #2591: Change \"upvar\" to \"variable declared in an outer block\" in tests", "tree": {"sha": "5d22579305a09369b320aa1fe93969502bc43e02", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5d22579305a09369b320aa1fe93969502bc43e02"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "html_url": "https://github.com/rust-lang/rust/commit/b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "68670f631c22b1cab5eaa29aab4d97c94117c424", "url": "https://api.github.com/repos/rust-lang/rust/commits/68670f631c22b1cab5eaa29aab4d97c94117c424", "html_url": "https://github.com/rust-lang/rust/commit/68670f631c22b1cab5eaa29aab4d97c94117c424"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "c4ea3483196b5e6f600dd380b29cdb72798e51b3", "filename": "src/test/compile-fail/block-deinitializes-upvar.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Fblock-deinitializes-upvar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Fblock-deinitializes-upvar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fblock-deinitializes-upvar.rs?ref=b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "patch": "@@ -1,4 +1,4 @@\n-// error-pattern:moving out of immutable upvar\n+// error-pattern:moving out of immutable variable declared in an outer block\n fn force(f: fn()) { f(); }\n fn main() {\n     let mut x = @{x: 17, y: 2};"}, {"sha": "b4d81aa09ae56f9767c7beba1d258f2614721f86", "filename": "src/test/compile-fail/borrowck-lend-flow.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Fborrowck-lend-flow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Fborrowck-lend-flow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fborrowck-lend-flow.rs?ref=b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "patch": "@@ -63,7 +63,7 @@ fn loop_in_block() {\n     let mut v = ~3, w = ~4;\n     let mut _x = &mut w;\n     for uint::range(0u, 10u) {|_i|\n-        borrow(v); //! ERROR loan of mutable upvar as immutable conflicts with prior loan\n+        borrow(v); //! ERROR loan of mutable variable declared in an outer block as immutable conflicts with prior loan\n         _x = &mut v; //! NOTE prior loan as mutable granted here\n     }\n }\n@@ -77,7 +77,7 @@ fn at_most_once_block() {\n     let mut v = ~3, w = ~4;\n     let mut _x = &mut w;\n     at_most_once {||\n-        borrow(v); //! ERROR loan of mutable upvar as immutable conflicts with prior loan\n+        borrow(v); //! ERROR loan of mutable variable declared in an outer block as immutable conflicts with prior loan\n         _x = &mut v; //! NOTE prior loan as mutable granted here\n     }\n }"}, {"sha": "a09d2e7a71bab31d097fd82e6dd9364899653c8c", "filename": "src/test/compile-fail/borrowck-loan-blocks-mut-uniq.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Fborrowck-loan-blocks-mut-uniq.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Fborrowck-loan-blocks-mut-uniq.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fborrowck-loan-blocks-mut-uniq.rs?ref=b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "patch": "@@ -5,7 +5,7 @@ fn borrow(v: &int, f: fn(x: &int)) {\n fn box_imm() {\n     let mut v = ~3;\n     borrow(v) { |w| //! NOTE loan of mutable local variable granted here\n-        v = ~4; //! ERROR assigning to mutable upvar prohibited due to outstanding loan\n+        v = ~4; //! ERROR assigning to mutable variable declared in an outer block prohibited due to outstanding loan\n         assert *v == 3;\n         assert *w == 4;\n     }"}, {"sha": "3920298c35515c8246ae2b8005176cd800a1c5f7", "filename": "src/test/compile-fail/cap-clause-move-upvar.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Fcap-clause-move-upvar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Fcap-clause-move-upvar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcap-clause-move-upvar.rs?ref=b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "patch": "@@ -1,7 +1,7 @@\n fn main() {\n     let x = 5;\n     let _y = fn~(move x) -> int {\n-        let _z = fn~(move x) -> int { x }; //! ERROR moving out of upvar\n+        let _z = fn~(move x) -> int { x }; //! ERROR moving out of variable declared in an outer block\n         22\n     };\n }"}, {"sha": "0774c0d21c25d6aa501007252d348ac8a4773748", "filename": "src/test/compile-fail/issue-1965.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Fissue-1965.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Fissue-1965.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-1965.rs?ref=b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "patch": "@@ -1,7 +1,7 @@\n-// error-pattern:moving out of immutable upvar\n+// error-pattern:moving out of immutable variable declared in an outer block\n fn test(-x: uint) {}\n \n fn main() {\n     let i = 3u;\n     for uint::range(0u, 10u) {|_x| test(i)}\n-}\n\\ No newline at end of file\n+}"}, {"sha": "a989c543b54510b53ed6707c750b5e1720749289", "filename": "src/test/compile-fail/lambda-mutate-nested.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Flambda-mutate-nested.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Flambda-mutate-nested.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flambda-mutate-nested.rs?ref=b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "patch": "@@ -1,4 +1,4 @@\n-// error-pattern:assigning to immutable upvar\n+// error-pattern:assigning to immutable variable declared in an outer block\n // Make sure that nesting a block within a fn@ doesn't let us\n // mutate upvars from a fn@.\n fn f2(x: fn()) { x(); }"}, {"sha": "ce36ac7b12778dba8110ddea66b8563f3d396b2c", "filename": "src/test/compile-fail/lambda-mutate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Flambda-mutate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b6ed1de29e3092a061ed5f64ba560f6814b6d25a/src%2Ftest%2Fcompile-fail%2Flambda-mutate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flambda-mutate.rs?ref=b6ed1de29e3092a061ed5f64ba560f6814b6d25a", "patch": "@@ -1,4 +1,4 @@\n-// error-pattern:assigning to upvar\n+// error-pattern:assigning to variable declared in an outer block\n // Make sure we can't write to upvars from fn@s\n fn main() {\n     let i = 0;"}]}