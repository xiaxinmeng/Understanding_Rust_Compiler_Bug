{"sha": "b66410043a8d2f352b8261f93c4227d48292df72", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI2NjQxMDA0M2E4ZDJmMzUyYjgyNjFmOTNjNDIyN2Q0ODI5MmRmNzI=", "commit": {"author": {"name": "Jake Goldsborough", "email": "rjgoldsborough@gmail.com", "date": "2016-09-04T03:22:12Z"}, "committer": {"name": "Jake Goldsborough", "email": "rjgoldsborough@gmail.com", "date": "2016-09-04T03:22:12Z"}, "message": "adding a check to bootstrap script\nand a check to the rust config script", "tree": {"sha": "88b249bee72dee3687ef8fef9594c9cc2383e7b7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/88b249bee72dee3687ef8fef9594c9cc2383e7b7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b66410043a8d2f352b8261f93c4227d48292df72", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b66410043a8d2f352b8261f93c4227d48292df72", "html_url": "https://github.com/rust-lang/rust/commit/b66410043a8d2f352b8261f93c4227d48292df72", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b66410043a8d2f352b8261f93c4227d48292df72/comments", "author": null, "committer": null, "parents": [{"sha": "70598e04f922a0f451f63cec4134bd28b31c6411", "url": "https://api.github.com/repos/rust-lang/rust/commits/70598e04f922a0f451f63cec4134bd28b31c6411", "html_url": "https://github.com/rust-lang/rust/commit/70598e04f922a0f451f63cec4134bd28b31c6411"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "3f4a18ab1247d536de187231b6f21859bcb4055c", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/b66410043a8d2f352b8261f93c4227d48292df72/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/b66410043a8d2f352b8261f93c4227d48292df72/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=b66410043a8d2f352b8261f93c4227d48292df72", "patch": "@@ -236,6 +236,15 @@ def rustc(self):\n             return config + '/bin/rustc' + self.exe_suffix()\n         return os.path.join(self.bin_root(), \"bin/rustc\" + self.exe_suffix())\n \n+    def nodejs(self):\n+        config = self.get_toml('nodejs')\n+        if config:\n+            return config\n+        if os.path.exists(os.path.join(self.bin_root(), \"bin/nodejs\")):\n+            return os.path.join(self.bin_root(), \"bin/nodejs\" + self.exe_suffix())\n+        elif os.path.exists(os.path.join(self.bin_root(), \"bin/node\")):\n+            return os.path.join(self.bin_root(), \"bin/node\" + self.exe_suffix())\n+\n     def get_string(self, line):\n         start = line.find('\"')\n         end = start + 1 + line[start+1:].find('\"')"}, {"sha": "5a7ae4f6973d5766caa929867fff843991412445", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b66410043a8d2f352b8261f93c4227d48292df72/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b66410043a8d2f352b8261f93c4227d48292df72/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=b66410043a8d2f352b8261f93c4227d48292df72", "patch": "@@ -67,6 +67,7 @@ pub struct Config {\n     pub target: Vec<String>,\n     pub rustc: Option<PathBuf>,\n     pub cargo: Option<PathBuf>,\n+    pub nodejs: Option<PathBuf>,\n     pub local_rebuild: bool,\n \n     // libstd features\n@@ -111,6 +112,7 @@ struct Build {\n     host: Vec<String>,\n     target: Vec<String>,\n     cargo: Option<String>,\n+    nodejs: Option<String>,\n     rustc: Option<String>,\n     compiler_docs: Option<bool>,\n     docs: Option<bool>,\n@@ -215,6 +217,7 @@ impl Config {\n         }\n         config.rustc = build.rustc.map(PathBuf::from);\n         config.cargo = build.cargo.map(PathBuf::from);\n+        config.nodejs = build.nodejs.map(PathBuf::from);\n         set(&mut config.compiler_docs, build.compiler_docs);\n         set(&mut config.docs, build.docs);\n "}]}