{"sha": "480e9ff8dfc3d5d8dc73145579143d0d1bc5aba4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4MGU5ZmY4ZGZjM2Q1ZDhkYzczMTQ1NTc5MTQzZDBkMWJjNWFiYTQ=", "commit": {"author": {"name": "Luqman Aden", "email": "me@luqman.ca", "date": "2013-03-19T23:36:06Z"}, "committer": {"name": "Luqman Aden", "email": "me@luqman.ca", "date": "2013-03-19T23:36:06Z"}, "message": "compiletest: Make pretty tests actually use compile-flags.", "tree": {"sha": "8a5976088b4a0c07ba0b5ae5c2dbb5a061708b28", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8a5976088b4a0c07ba0b5ae5c2dbb5a061708b28"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/480e9ff8dfc3d5d8dc73145579143d0d1bc5aba4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/480e9ff8dfc3d5d8dc73145579143d0d1bc5aba4", "html_url": "https://github.com/rust-lang/rust/commit/480e9ff8dfc3d5d8dc73145579143d0d1bc5aba4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/480e9ff8dfc3d5d8dc73145579143d0d1bc5aba4/comments", "author": {"login": "luqmana", "id": 287063, "node_id": "MDQ6VXNlcjI4NzA2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luqmana", "html_url": "https://github.com/luqmana", "followers_url": "https://api.github.com/users/luqmana/followers", "following_url": "https://api.github.com/users/luqmana/following{/other_user}", "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}", "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions", "organizations_url": "https://api.github.com/users/luqmana/orgs", "repos_url": "https://api.github.com/users/luqmana/repos", "events_url": "https://api.github.com/users/luqmana/events{/privacy}", "received_events_url": "https://api.github.com/users/luqmana/received_events", "type": "User", "site_admin": false}, "committer": {"login": "luqmana", "id": 287063, "node_id": "MDQ6VXNlcjI4NzA2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/287063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luqmana", "html_url": "https://github.com/luqmana", "followers_url": "https://api.github.com/users/luqmana/followers", "following_url": "https://api.github.com/users/luqmana/following{/other_user}", "gists_url": "https://api.github.com/users/luqmana/gists{/gist_id}", "starred_url": "https://api.github.com/users/luqmana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luqmana/subscriptions", "organizations_url": "https://api.github.com/users/luqmana/orgs", "repos_url": "https://api.github.com/users/luqmana/repos", "events_url": "https://api.github.com/users/luqmana/events{/privacy}", "received_events_url": "https://api.github.com/users/luqmana/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6450ee91beada599a86f0020e438608ca2a13850", "url": "https://api.github.com/repos/rust-lang/rust/commits/6450ee91beada599a86f0020e438608ca2a13850", "html_url": "https://github.com/rust-lang/rust/commit/6450ee91beada599a86f0020e438608ca2a13850"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "2eb44ba6815e318722a628b7e9aba033b62becf4", "filename": "src/compiletest/runtest.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/480e9ff8dfc3d5d8dc73145579143d0d1bc5aba4/src%2Fcompiletest%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/480e9ff8dfc3d5d8dc73145579143d0d1bc5aba4/src%2Fcompiletest%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Fruntest.rs?ref=480e9ff8dfc3d5d8dc73145579143d0d1bc5aba4", "patch": "@@ -208,18 +208,19 @@ actual:\\n\\\n                         testfile: &Path, src: ~str) -> ProcRes {\n         compose_and_run_compiler(\n             config, props, testfile,\n-            make_typecheck_args(config, testfile),\n+            make_typecheck_args(config, props, testfile),\n             Some(src))\n     }\n \n-    fn make_typecheck_args(config: config, testfile: &Path) -> ProcArgs {\n+    fn make_typecheck_args(config: config, props: TestProps, testfile: &Path) -> ProcArgs {\n         let prog = config.rustc_path;\n         let mut args = ~[~\"-\",\n                          ~\"--no-trans\", ~\"--lib\",\n                          ~\"-L\", config.build_base.to_str(),\n                          ~\"-L\",\n                          aux_output_dir_name(config, testfile).to_str()];\n         args += split_maybe_args(config.rustcflags);\n+        args += split_maybe_args(props.compile_flags);\n         return ProcArgs {prog: prog.to_str(), args: args};\n     }\n }"}]}