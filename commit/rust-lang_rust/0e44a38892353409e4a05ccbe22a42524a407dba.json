{"sha": "0e44a38892353409e4a05ccbe22a42524a407dba", "node_id": "C_kwDOAAsO6NoAKDBlNDRhMzg4OTIzNTM0MDllNGEwNWNjYmUyMmE0MjUyNGE0MDdkYmE", "commit": {"author": {"name": "Dominik Stolz", "email": "d.stolz@tum.de", "date": "2023-05-17T14:07:01Z"}, "committer": {"name": "Dominik Stolz", "email": "d.stolz@tum.de", "date": "2023-05-23T11:11:23Z"}, "message": "Return promoteds in BodyWithBorrowckFacts", "tree": {"sha": "1727c71bd851b1b65edd5625cfbeacf0b5fc03bc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1727c71bd851b1b65edd5625cfbeacf0b5fc03bc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0e44a38892353409e4a05ccbe22a42524a407dba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0e44a38892353409e4a05ccbe22a42524a407dba", "html_url": "https://github.com/rust-lang/rust/commit/0e44a38892353409e4a05ccbe22a42524a407dba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0e44a38892353409e4a05ccbe22a42524a407dba/comments", "author": {"login": "voidc", "id": 5302792, "node_id": "MDQ6VXNlcjUzMDI3OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5302792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/voidc", "html_url": "https://github.com/voidc", "followers_url": "https://api.github.com/users/voidc/followers", "following_url": "https://api.github.com/users/voidc/following{/other_user}", "gists_url": "https://api.github.com/users/voidc/gists{/gist_id}", "starred_url": "https://api.github.com/users/voidc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/voidc/subscriptions", "organizations_url": "https://api.github.com/users/voidc/orgs", "repos_url": "https://api.github.com/users/voidc/repos", "events_url": "https://api.github.com/users/voidc/events{/privacy}", "received_events_url": "https://api.github.com/users/voidc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "voidc", "id": 5302792, "node_id": "MDQ6VXNlcjUzMDI3OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/5302792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/voidc", "html_url": "https://github.com/voidc", "followers_url": "https://api.github.com/users/voidc/followers", "following_url": "https://api.github.com/users/voidc/following{/other_user}", "gists_url": "https://api.github.com/users/voidc/gists{/gist_id}", "starred_url": "https://api.github.com/users/voidc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/voidc/subscriptions", "organizations_url": "https://api.github.com/users/voidc/orgs", "repos_url": "https://api.github.com/users/voidc/repos", "events_url": "https://api.github.com/users/voidc/events{/privacy}", "received_events_url": "https://api.github.com/users/voidc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "388071a2cb694dfad0920d302190e207842ff768", "url": "https://api.github.com/repos/rust-lang/rust/commits/388071a2cb694dfad0920d302190e207842ff768", "html_url": "https://github.com/rust-lang/rust/commit/388071a2cb694dfad0920d302190e207842ff768"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "4f1e12c364e4ca7a1687e56852cc418b2a0a904a", "filename": "compiler/rustc_borrowck/src/lib.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0e44a38892353409e4a05ccbe22a42524a407dba/compiler%2Frustc_borrowck%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0e44a38892353409e4a05ccbe22a42524a407dba/compiler%2Frustc_borrowck%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Flib.rs?ref=0e44a38892353409e4a05ccbe22a42524a407dba", "patch": "@@ -447,6 +447,7 @@ fn do_mir_borrowck<'tcx>(\n         let output_facts = mbcx.polonius_output;\n         Some(Box::new(BodyWithBorrowckFacts {\n             body: body_owned,\n+            promoted,\n             borrow_set,\n             region_inference_context: regioncx,\n             location_table: polonius_input.as_ref().map(|_| location_table_owned),\n@@ -470,6 +471,8 @@ fn do_mir_borrowck<'tcx>(\n pub struct BodyWithBorrowckFacts<'tcx> {\n     /// A mir body that contains region identifiers.\n     pub body: Body<'tcx>,\n+    /// The mir bodies of promoteds.\n+    pub promoted: IndexVec<Promoted, Body<'tcx>>,\n     /// The set of borrows occurring in `body` with data about them.\n     pub borrow_set: Rc<BorrowSet<'tcx>>,\n     /// Context generated during borrowck, intended to be passed to"}]}