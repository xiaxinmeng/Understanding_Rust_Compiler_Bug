{"sha": "708861e5b77d2600da523dc817bc831f7d7d7733", "node_id": "C_kwDOAAsO6NoAKDcwODg2MWU1Yjc3ZDI2MDBkYTUyM2RjODE3YmM4MzFmN2Q3ZDc3MzM", "commit": {"author": {"name": "Ezra Shaw", "email": "ezrasure@outlook.com", "date": "2023-01-16T10:30:50Z"}, "committer": {"name": "Ezra Shaw", "email": "ezrasure@outlook.com", "date": "2023-01-18T08:10:27Z"}, "message": "remove error code from `#[rustc_variance]` and document its remains", "tree": {"sha": "7166de5fa1af5c92ad2ab71a7345b271d1870917", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7166de5fa1af5c92ad2ab71a7345b271d1870917"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/708861e5b77d2600da523dc817bc831f7d7d7733", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJJBAABCAAzFiEEYSWD6p+RIeSP1N2eF81cKtrg00QFAmPHqaIVHGV6cmFzdXJl\nQG91dGxvb2suY29tAAoJEBfNXCra4NNENJUP/RDYCewfKshVx9des7QbQOUDEDmX\nU9CN5i4Iq+ky3nMezXaHqr/WSjyZHmQBpBiFTZlGvMcs9q9UZR7zELmC9mwgWGob\nXAIF53mkl+iuYwzQsoEQdsb5IvKrExWycyvfEjLro3cfo26VgYaphiw+DXniUC2E\nhmENlarPZIrBVJ0zZpRNUVpdIg/fcVTsP1ZBu8lsQp545P6mEn+X07PSWtRU7RC3\nChJRx5/DXMgm/4ij5T2G29qRk8qjd8K330h6pHGjLn+lph+QzBVnvyqmOtnOmyBK\nqNrX4FH4ghuIqS8CwZpAVAa6DD4t7Tme/VDjsa/vyMYAFTKlk8sgpKTQsT5T2ucu\nz5RFxJzhtfx5dNcW7oMK17FtmD2J/3Id1Bj3S+lvqMHPwxwSRjuB+NwSXLT21wjU\nYfozGWspqDCr5kaRRnMi1iKUnIeTRdAFuoOBmK5vMssrU/BUobnqQkzKHgV57L2z\ngO815Nxwaq6GGCFgmQgrhWRCHzHO37deBHOuwzTt9L0rJXmiLB0nyOYzV8KNEl0f\npji/ebPVKk2q2KiteAq8IZqHxw0osGn9nz/FvXErUG++4vD+/BkadcH5yo3xNjFo\nlqjoPUbcG+DJvxS+t3yrnuht2e1SwGLThymbCl2CBRyXBcBsE2z3cgrLWLu7ejiG\nVnNInAdaM7SuxPL2\n=Gc5g\n-----END PGP SIGNATURE-----", "payload": "tree 7166de5fa1af5c92ad2ab71a7345b271d1870917\nparent 41edaac716dde55b6a9d83ae4da0fba354ae5ba8\nauthor Ezra Shaw <ezrasure@outlook.com> 1673865050 +1300\ncommitter Ezra Shaw <ezrasure@outlook.com> 1674029427 +1300\n\nremove error code from `#[rustc_variance]` and document its remains\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/708861e5b77d2600da523dc817bc831f7d7d7733", "html_url": "https://github.com/rust-lang/rust/commit/708861e5b77d2600da523dc817bc831f7d7d7733", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/708861e5b77d2600da523dc817bc831f7d7d7733/comments", "author": {"login": "Ezrashaw", "id": 38062690, "node_id": "MDQ6VXNlcjM4MDYyNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/38062690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ezrashaw", "html_url": "https://github.com/Ezrashaw", "followers_url": "https://api.github.com/users/Ezrashaw/followers", "following_url": "https://api.github.com/users/Ezrashaw/following{/other_user}", "gists_url": "https://api.github.com/users/Ezrashaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ezrashaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ezrashaw/subscriptions", "organizations_url": "https://api.github.com/users/Ezrashaw/orgs", "repos_url": "https://api.github.com/users/Ezrashaw/repos", "events_url": "https://api.github.com/users/Ezrashaw/events{/privacy}", "received_events_url": "https://api.github.com/users/Ezrashaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Ezrashaw", "id": 38062690, "node_id": "MDQ6VXNlcjM4MDYyNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/38062690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ezrashaw", "html_url": "https://github.com/Ezrashaw", "followers_url": "https://api.github.com/users/Ezrashaw/followers", "following_url": "https://api.github.com/users/Ezrashaw/following{/other_user}", "gists_url": "https://api.github.com/users/Ezrashaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ezrashaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ezrashaw/subscriptions", "organizations_url": "https://api.github.com/users/Ezrashaw/orgs", "repos_url": "https://api.github.com/users/Ezrashaw/repos", "events_url": "https://api.github.com/users/Ezrashaw/events{/privacy}", "received_events_url": "https://api.github.com/users/Ezrashaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "41edaac716dde55b6a9d83ae4da0fba354ae5ba8", "url": "https://api.github.com/repos/rust-lang/rust/commits/41edaac716dde55b6a9d83ae4da0fba354ae5ba8", "html_url": "https://github.com/rust-lang/rust/commit/41edaac716dde55b6a9d83ae4da0fba354ae5ba8"}], "stats": {"total": 142, "additions": 96, "deletions": 46}, "files": [{"sha": "1ae01106f2014c4362d29d3a4a306dde7f091bd0", "filename": "compiler/rustc_error_codes/src/error_codes/E0208.md", "status": "modified", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0208.md", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0208.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0208.md?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1 +1,46 @@\n #### This error code is internal to the compiler and will not be emitted with normal Rust code.\n+#### Note: this error code is no longer emitted by the compiler.\n+\n+This error code shows the variance of a type's generic parameters.\n+\n+Erroneous code example:\n+\n+```compile_fail\n+// NOTE: this feature is perma-unstable and should *only* be used for\n+//       testing purposes.\n+#![feature(rustc_attrs)]\n+\n+#[rustc_variance]\n+struct Foo<'a, T> { // error: deliberate error to display type's variance\n+    t: &'a mut T,\n+}\n+```\n+\n+which produces the following error:\n+\n+```text\n+error: [-, o]\n+ --> <anon>:4:1\n+  |\n+4 | struct Foo<'a, T> {\n+  | ^^^^^^^^^^^^^^^^^\n+```\n+\n+*Note that while `#[rustc_variance]` still exists and is used within the*\n+*compiler, it no longer is marked as `E0208` and instead has no error code.*\n+\n+This error is deliberately triggered with the `#[rustc_variance]` attribute\n+(`#![feature(rustc_attrs)]` must be enabled) and helps to show you the variance\n+of the type's generic parameters. You can read more about variance and\n+subtyping in [this section of the Rustnomicon]. For a more in depth look at\n+variance (including a more complete list of common variances) see\n+[this section of the Reference]. For information on how variance is implemented\n+in the compiler, see [this section of `rustc-dev-guide`].\n+\n+This error can be easily fixed by removing the `#[rustc_variance]` attribute,\n+the compiler's suggestion to comment it out can be applied automatically with\n+`rustfix`.\n+\n+[this section of the Rustnomicon]: https://doc.rust-lang.org/nomicon/subtyping.html\n+[this section of the Reference]: https://doc.rust-lang.org/reference/subtyping.html#variance\n+[this section of `rustc-dev-guide`]: https://rustc-dev-guide.rust-lang.org/variance.html"}, {"sha": "5feeb92d3378251e9e551acf2a435c9c24134c62", "filename": "compiler/rustc_hir_analysis/src/variance/test.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Ftest.rs?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1,4 +1,3 @@\n-use rustc_errors::struct_span_err;\n use rustc_middle::ty::TyCtxt;\n use rustc_span::symbol::sym;\n \n@@ -8,8 +7,8 @@ pub fn test_variance(tcx: TyCtxt<'_>) {\n     for id in tcx.hir().items() {\n         if tcx.has_attr(id.owner_id.to_def_id(), sym::rustc_variance) {\n             let variances_of = tcx.variances_of(id.owner_id);\n-            struct_span_err!(tcx.sess, tcx.def_span(id.owner_id), E0208, \"{:?}\", variances_of)\n-                .emit();\n+\n+            tcx.sess.struct_span_err(tcx.def_span(id.owner_id), format!(\"{variances_of:?}\")).emit();\n         }\n     }\n }"}, {"sha": "5b84b51a035d4141ccd80a1d3cafd6522182fd5a", "filename": "src/tools/tidy/src/error_codes.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -27,8 +27,7 @@ const ERROR_DOCS_PATH: &str = \"compiler/rustc_error_codes/src/error_codes/\";\n const ERROR_TESTS_PATH: &str = \"tests/ui/error-codes/\";\n \n // Error codes that (for some reason) can't have a doctest in their explanation. Error codes are still expected to provide a code example, even if untested.\n-const IGNORE_DOCTEST_CHECK: &[&str] =\n-    &[\"E0208\", \"E0464\", \"E0570\", \"E0601\", \"E0602\", \"E0640\", \"E0717\"];\n+const IGNORE_DOCTEST_CHECK: &[&str] = &[\"E0464\", \"E0570\", \"E0601\", \"E0602\", \"E0640\", \"E0717\"];\n \n // Error codes that don't yet have a UI test. This list will eventually be removed.\n const IGNORE_UI_TEST_CHECK: &[&str] ="}, {"sha": "c67d42889d69b3c7bb32b2128bdcf777146309a0", "filename": "tests/ui/error-codes/E0208.rs", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Ferror-codes%2FE0208.rs", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Ferror-codes%2FE0208.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ferror-codes%2FE0208.rs?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -0,0 +1,8 @@\n+#![feature(rustc_attrs)]\n+\n+#[rustc_variance]\n+struct Foo<'a, T> { //~ ERROR [-, o]\n+    t: &'a mut T,\n+}\n+\n+fn main() {}"}, {"sha": "dbbb41e79500cbcd5b5fc862d64e915f0073ff46", "filename": "tests/ui/error-codes/E0208.stderr", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Ferror-codes%2FE0208.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Ferror-codes%2FE0208.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ferror-codes%2FE0208.stderr?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -0,0 +1,8 @@\n+error: [-, o]\n+  --> $DIR/E0208.rs:4:1\n+   |\n+LL | struct Foo<'a, T> {\n+   | ^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "4df2d8da3d6806ca5fa44b440f906204b1d329b0", "filename": "tests/ui/variance/variance-associated-consts.stderr", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-associated-consts.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-associated-consts.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-associated-consts.stderr?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1,9 +1,8 @@\n-error[E0208]: [o]\n+error: [o]\n   --> $DIR/variance-associated-consts.rs:13:1\n    |\n LL | struct Foo<T: Trait> {\n    | ^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "51f17c7c2288720941d54229652087e97efdc416", "filename": "tests/ui/variance/variance-associated-types.stderr", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-associated-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-associated-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-associated-types.stderr?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1,15 +1,14 @@\n-error[E0208]: [-, +]\n+error: [-, +]\n   --> $DIR/variance-associated-types.rs:13:1\n    |\n LL | struct Foo<'a, T : Trait<'a>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o, o]\n+error: [o, o]\n   --> $DIR/variance-associated-types.rs:18:1\n    |\n LL | struct Bar<'a, T : Trait<'a>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "55a760425ee592e6ab24d38560e0967796b1c86e", "filename": "tests/ui/variance/variance-object-types.stderr", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-object-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-object-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-object-types.stderr?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1,9 +1,8 @@\n-error[E0208]: [o]\n+error: [o]\n   --> $DIR/variance-object-types.rs:7:1\n    |\n LL | struct Foo<'a> {\n    | ^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "eda02e9b03bb89b49fd1f3ea81c5fb6071c022d9", "filename": "tests/ui/variance/variance-regions-direct.stderr", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-regions-direct.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-regions-direct.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-regions-direct.stderr?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1,45 +1,44 @@\n-error[E0208]: [-, -, -]\n+error: [-, -, -]\n   --> $DIR/variance-regions-direct.rs:9:1\n    |\n LL | struct Test2<'a, 'b, 'c> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, +, +]\n+error: [+, +, +]\n   --> $DIR/variance-regions-direct.rs:18:1\n    |\n LL | struct Test3<'a, 'b, 'c> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [-, o]\n+error: [-, o]\n   --> $DIR/variance-regions-direct.rs:27:1\n    |\n LL | struct Test4<'a, 'b:'a> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, o]\n+error: [+, o]\n   --> $DIR/variance-regions-direct.rs:35:1\n    |\n LL | struct Test5<'a, 'b:'a> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [-, o]\n+error: [-, o]\n   --> $DIR/variance-regions-direct.rs:45:1\n    |\n LL | struct Test6<'a, 'b:'a> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [*]\n+error: [*]\n   --> $DIR/variance-regions-direct.rs:52:1\n    |\n LL | struct Test7<'a> {\n    | ^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, -, o]\n+error: [+, -, o]\n   --> $DIR/variance-regions-direct.rs:59:1\n    |\n LL | enum Test8<'a, 'b, 'c:'b> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 7 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "fa2f4d507f3d53ff11391a7a520182ef1b2e9ca6", "filename": "tests/ui/variance/variance-regions-indirect.stderr", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-regions-indirect.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-regions-indirect.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-regions-indirect.stderr?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1,33 +1,32 @@\n-error[E0208]: [+, -, o, *]\n+error: [+, -, o, *]\n   --> $DIR/variance-regions-indirect.rs:8:1\n    |\n LL | enum Base<'a, 'b, 'c:'b, 'd> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [*, o, -, +]\n+error: [*, o, -, +]\n   --> $DIR/variance-regions-indirect.rs:15:1\n    |\n LL | struct Derived1<'w, 'x:'y, 'y, 'z> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o, o, *]\n+error: [o, o, *]\n   --> $DIR/variance-regions-indirect.rs:20:1\n    |\n LL | struct Derived2<'a, 'b:'a, 'c> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o, -, *]\n+error: [o, -, *]\n   --> $DIR/variance-regions-indirect.rs:25:1\n    |\n LL | struct Derived3<'a:'b, 'b, 'c> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, -, o]\n+error: [+, -, o]\n   --> $DIR/variance-regions-indirect.rs:30:1\n    |\n LL | struct Derived4<'a, 'b, 'c:'b> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 5 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "5a73e541c3a173d047232305e99b7fcb65a8c1a6", "filename": "tests/ui/variance/variance-trait-bounds.stderr", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-trait-bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-trait-bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-trait-bounds.stderr?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1,27 +1,26 @@\n-error[E0208]: [+, +]\n+error: [+, +]\n   --> $DIR/variance-trait-bounds.rs:16:1\n    |\n LL | struct TestStruct<U,T:Setter<U>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [*, +]\n+error: [*, +]\n   --> $DIR/variance-trait-bounds.rs:21:1\n    |\n LL | enum TestEnum<U,T:Setter<U>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [*, +]\n+error: [*, +]\n   --> $DIR/variance-trait-bounds.rs:26:1\n    |\n LL | struct TestContraStruct<U,T:Setter<U>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [*, +]\n+error: [*, +]\n   --> $DIR/variance-trait-bounds.rs:31:1\n    |\n LL | struct TestBox<U,T:Getter<U>+Setter<U>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 4 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "7c46b553f43949459b0417b3dcf3d9e325e43ef5", "filename": "tests/ui/variance/variance-trait-object-bound.stderr", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-trait-object-bound.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-trait-object-bound.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-trait-object-bound.stderr?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1,9 +1,8 @@\n-error[E0208]: [-]\n+error: [-]\n   --> $DIR/variance-trait-object-bound.rs:14:1\n    |\n LL | struct TOption<'a> {\n    | ^^^^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "bb81644347693b4eb710565fffd2457f8a746ffb", "filename": "tests/ui/variance/variance-types-bounds.stderr", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-types-bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-types-bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-types-bounds.stderr?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1,33 +1,32 @@\n-error[E0208]: [+, +]\n+error: [+, +]\n   --> $DIR/variance-types-bounds.rs:7:1\n    |\n LL | struct TestImm<A, B> {\n    | ^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, o]\n+error: [+, o]\n   --> $DIR/variance-types-bounds.rs:13:1\n    |\n LL | struct TestMut<A, B:'static> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, o]\n+error: [+, o]\n   --> $DIR/variance-types-bounds.rs:19:1\n    |\n LL | struct TestIndirect<A:'static, B:'static> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o, o]\n+error: [o, o]\n   --> $DIR/variance-types-bounds.rs:24:1\n    |\n LL | struct TestIndirect2<A:'static, B:'static> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o, o]\n+error: [o, o]\n   --> $DIR/variance-types-bounds.rs:38:1\n    |\n LL | struct TestObject<A, R> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 5 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "9f7f1d9b0e332fcbfde63357d01fcf9a1440d0f9", "filename": "tests/ui/variance/variance-types.stderr", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/708861e5b77d2600da523dc817bc831f7d7d7733/tests%2Fui%2Fvariance%2Fvariance-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-types.stderr?ref=708861e5b77d2600da523dc817bc831f7d7d7733", "patch": "@@ -1,39 +1,38 @@\n-error[E0208]: [-, o, o]\n+error: [-, o, o]\n   --> $DIR/variance-types.rs:10:1\n    |\n LL | struct InvariantMut<'a,A:'a,B:'a> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o]\n+error: [o]\n   --> $DIR/variance-types.rs:15:1\n    |\n LL | struct InvariantCell<A> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o]\n+error: [o]\n   --> $DIR/variance-types.rs:20:1\n    |\n LL | struct InvariantIndirect<A> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+]\n+error: [+]\n   --> $DIR/variance-types.rs:25:1\n    |\n LL | struct Covariant<A> {\n    | ^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [-]\n+error: [-]\n   --> $DIR/variance-types.rs:30:1\n    |\n LL | struct Contravariant<A> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, -, o]\n+error: [+, -, o]\n   --> $DIR/variance-types.rs:35:1\n    |\n LL | enum Enum<A,B,C> {\n    | ^^^^^^^^^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}]}