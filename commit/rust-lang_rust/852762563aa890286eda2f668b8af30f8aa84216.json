{"sha": "852762563aa890286eda2f668b8af30f8aa84216", "node_id": "C_kwDOAAsO6NoAKDg1Mjc2MjU2M2FhODkwMjg2ZWRhMmY2NjhiOGFmMzBmOGFhODQyMTY", "commit": {"author": {"name": "Jubilee Young", "email": "workingjubilee@gmail.com", "date": "2023-05-10T12:45:24Z"}, "committer": {"name": "Jubilee", "email": "46493976+workingjubilee@users.noreply.github.com", "date": "2023-05-10T13:49:00Z"}, "message": "Temp fix for swizzle_dyn\n\n- disable the AVX512 variant for now (flaky)\n- tell Clippy to knock it off", "tree": {"sha": "d34122f96b0871367df3cd901c368356f932193d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d34122f96b0871367df3cd901c368356f932193d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/852762563aa890286eda2f668b8af30f8aa84216", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/852762563aa890286eda2f668b8af30f8aa84216", "html_url": "https://github.com/rust-lang/rust/commit/852762563aa890286eda2f668b8af30f8aa84216", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/852762563aa890286eda2f668b8af30f8aa84216/comments", "author": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "site_admin": false}, "committer": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d361e4335f7e37d2409820510e059744d1c96457", "url": "https://api.github.com/repos/rust-lang/rust/commits/d361e4335f7e37d2409820510e059744d1c96457", "html_url": "https://github.com/rust-lang/rust/commit/d361e4335f7e37d2409820510e059744d1c96457"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "3eb80d5dca1ff8adb80570409cfa2c40c03b8262", "filename": "crates/core_simd/src/swizzle_dyn.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/852762563aa890286eda2f668b8af30f8aa84216/crates%2Fcore_simd%2Fsrc%2Fswizzle_dyn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/852762563aa890286eda2f668b8af30f8aa84216/crates%2Fcore_simd%2Fsrc%2Fswizzle_dyn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcore_simd%2Fsrc%2Fswizzle_dyn.rs?ref=852762563aa890286eda2f668b8af30f8aa84216", "patch": "@@ -43,8 +43,9 @@ where\n                 32 => transize(x86::_mm256_permutexvar_epi8, self, idxs),\n                 // Notable absence: avx512bw shuffle\n                 // If avx512bw is available, odds of avx512vbmi are good\n-                #[cfg(target_feature = \"avx512vbmi\")]\n-                64 => transize(x86::_mm512_permutexvar_epi8, self, idxs),\n+                // FIXME: initial AVX512VBMI variant didn't actually pass muster\n+                // #[cfg(target_feature = \"avx512vbmi\")]\n+                // 64 => transize(x86::_mm512_permutexvar_epi8, self, idxs),\n                 _ => {\n                     let mut array = [0; N];\n                     for (i, k) in idxs.to_array().into_iter().enumerate() {\n@@ -67,6 +68,7 @@ where\n #[target_feature(enable = \"avx2\")]\n #[allow(unused)]\n #[inline]\n+#[allow(clippy::let_and_return)]\n unsafe fn avx2_pshufb(bytes: Simd<u8, 32>, idxs: Simd<u8, 32>) -> Simd<u8, 32> {\n     use crate::simd::SimdPartialOrd;\n     #[cfg(target_arch = \"x86\")]"}]}