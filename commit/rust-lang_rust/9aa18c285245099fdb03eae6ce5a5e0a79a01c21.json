{"sha": "9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlhYTE4YzI4NTI0NTA5OWZkYjAzZWFlNmNlNWE1ZTBhNzlhMDFjMjE=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-05-22T06:34:34Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-05-22T06:39:27Z"}, "message": "rustc: Move ast_map to the syntax crate", "tree": {"sha": "ce1bd42840c41976c35250b4d79b41f2b523aace", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ce1bd42840c41976c35250b4d79b41f2b523aace"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "html_url": "https://github.com/rust-lang/rust/commit/9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "47bb1185f2ae17e6a8b24da533c4d2f548e1e808", "url": "https://api.github.com/repos/rust-lang/rust/commits/47bb1185f2ae17e6a8b24da533c4d2f548e1e808", "html_url": "https://github.com/rust-lang/rust/commit/47bb1185f2ae17e6a8b24da533c4d2f548e1e808"}], "stats": {"total": 84, "additions": 42, "deletions": 42}, "files": [{"sha": "fbea5026b3c2fbe42fb096a1fa915bf15e1c36c5", "filename": "src/librustsyntax/ast_map.rs", "status": "renamed", "additions": 5, "deletions": 8, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Flibrustsyntax%2Fast_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Flibrustsyntax%2Fast_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fast_map.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -1,13 +1,10 @@\n import std::map;\n import std::map::hashmap;\n-import syntax::ast::*;\n-import syntax::print::pprust;\n-import syntax::ast_util;\n-import syntax::ast_util::path_to_ident;\n-import syntax::ast_util::inlined_item_methods;\n-import syntax::{visit, codemap};\n-import syntax::attr;\n-import syntax::diagnostic::span_handler;\n+import ast::*;\n+import print::pprust;\n+import ast_util::path_to_ident;\n+import ast_util::inlined_item_methods;\n+import diagnostic::span_handler;\n \n enum path_elt { path_mod(str), path_name(str) }\n type path = [path_elt];", "previous_filename": "src/rustc/middle/ast_map.rs"}, {"sha": "eeb2d31d6a3c943f55d5044edb0dfadde9834b6a", "filename": "src/librustsyntax/rustsyntax.rc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Flibrustsyntax%2Frustsyntax.rc", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Flibrustsyntax%2Frustsyntax.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Frustsyntax.rc?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -16,6 +16,7 @@ mod diagnostic;\n mod codemap;\n mod ast;\n mod ast_util;\n+mod ast_map;\n mod visit;\n mod fold;\n mod util {"}, {"sha": "5541bbd8451c30126954ee5f10821e979b078aaf", "filename": "src/rustc/back/link.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fback%2Flink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fback%2Flink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fback%2Flink.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -14,7 +14,7 @@ import syntax::print::pprust;\n import lib::llvm::{ModuleRef, mk_pass_manager, mk_target_data, True, False,\n         FileType};\n import util::filesearch;\n-import middle::ast_map::{path, path_mod, path_name};\n+import syntax::ast_map::{path, path_mod, path_name};\n \n enum output_type {\n     output_type_none,"}, {"sha": "fc50f40c58b80224af8688a7cb229f3e3372bcdd", "filename": "src/rustc/driver/driver.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fdriver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fdriver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fdriver%2Fdriver.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -160,7 +160,7 @@ fn compile_upto(sess: session, cfg: ast::crate_cfg,\n \n     let ast_map =\n         time(time_passes, \"ast indexing\",\n-             bind middle::ast_map::map_crate(sess.diagnostic(), *crate));\n+             bind syntax::ast_map::map_crate(sess.diagnostic(), *crate));\n     time(time_passes, \"external crate/lib resolution\",\n          bind creader::read_crates(sess, *crate));\n     let {def_map, exp_map, impl_map} ="}, {"sha": "87a01d8182975b0faf5ec29ffc83031d1e1c8ca1", "filename": "src/rustc/metadata.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmetadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmetadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmetadata.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -3,8 +3,6 @@\n // no dependencies on rustc it can move into its own crate.\n \n mod middle {\n-    import ast_map = middle_::ast_map;\n-    export ast_map;\n     import ty = middle_::ty;\n     export ty;\n }"}, {"sha": "4365e41e6ebf00e5a0dc4f0bcd0e0e7cce64b6a1", "filename": "src/rustc/metadata/csearch.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmetadata%2Fcsearch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmetadata%2Fcsearch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmetadata%2Fcsearch.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -3,7 +3,8 @@\n import std::{ebml};\n import syntax::ast;\n import syntax::ast_util;\n-import middle::{ty, ast_map};\n+import syntax::ast_map;\n+import middle::ty;\n import option::{some, none};\n import driver::session;\n import driver::session::expect;"}, {"sha": "644d519fc0f283e36bf71e4d0da043f69d8d57d0", "filename": "src/rustc/metadata/decoder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmetadata%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmetadata%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmetadata%2Fdecoder.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -6,7 +6,7 @@ import io::writer_util;\n import syntax::{ast, ast_util};\n import syntax::attr;\n import middle::ty;\n-import middle::ast_map;\n+import syntax::ast_map;\n import common::*;\n import tydecode::{parse_ty_data, parse_def_id, parse_bounds_data,\n         parse_ident};"}, {"sha": "50683ec32839c0fe4c4b8c3930cf5aef9bfe21c7", "filename": "src/rustc/metadata/encoder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmetadata%2Fencoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmetadata%2Fencoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmetadata%2Fencoder.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -13,7 +13,7 @@ import syntax::ast_util::local_def;\n import common::*;\n import middle::ty;\n import middle::ty::node_id_to_type;\n-import middle::ast_map;\n+import syntax::ast_map;\n import syntax::attr;\n import std::serialization::serializer;\n import std::ebml::serializer;"}, {"sha": "843607380d8d9f58d94906770f48f5d906cc3fcb", "filename": "src/rustc/middle/alias.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Falias.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Falias.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Falias.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -1,4 +1,4 @@\n-import syntax::{ast, ast_util};\n+import syntax::{ast, ast_util, ast_map};\n import ast_util::path_to_ident;\n import ast::{ident, fn_ident, node_id};\n import syntax::codemap::span;"}, {"sha": "796f316f442f79781d6ae9618bc3181fd49f07eb", "filename": "src/rustc/middle/astencode.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Fastencode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Fastencode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Fastencode.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -3,6 +3,7 @@ import util::ppaux::ty_to_str;\n import syntax::ast;\n import syntax::fold;\n import syntax::visit;\n+import syntax::ast_map;\n import syntax::ast_util;\n import syntax::ast_util::inlined_item_methods;\n import syntax::codemap::span;\n@@ -17,7 +18,7 @@ import std::serialization::serializer_helpers;\n import std::serialization::deserializer_helpers;\n import std::prettyprint::serializer;\n import std::smallintmap::map;\n-import middle::{ty, typeck, last_use, ast_map};\n+import middle::{ty, typeck, last_use};\n import middle::typeck::{method_origin,\n                         serialize_method_origin,\n                         deserialize_method_origin,"}, {"sha": "0adce9b2feca8e38ad9502efa44cd1413600e69a", "filename": "src/rustc/middle/borrowck.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Fborrowck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Fborrowck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Fborrowck.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -2,6 +2,7 @@ import syntax::ast;\n import syntax::ast::{m_mutbl, m_imm, m_const};\n import syntax::visit;\n import syntax::ast_util;\n+import syntax::ast_map;\n import syntax::codemap::span;\n import util::ppaux::{ty_to_str, region_to_str};\n import driver::session::session;"}, {"sha": "4fbab3879d0c48ae98388552852bdfd1c760c139", "filename": "src/rustc/middle/check_const.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Fcheck_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Fcheck_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Fcheck_const.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -1,5 +1,5 @@\n import syntax::ast::*;\n-import syntax::{visit, ast_util};\n+import syntax::{visit, ast_util, ast_map};\n import driver::session::session;\n import std::map::hashmap;\n "}, {"sha": "9521b0d14882353759c76bbedf1798fc2f414548", "filename": "src/rustc/middle/resolve.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Fresolve.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Fresolve.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Fresolve.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -1,4 +1,4 @@\n-import syntax::{ast, ast_util, codemap};\n+import syntax::{ast, ast_util, codemap, ast_map};\n import syntax::ast::*;\n import ast::{ident, fn_ident, def, def_id, node_id};\n import syntax::ast_util::{local_def, def_id_of_def,"}, {"sha": "ab13491e2275310727d96f661ffdf51e10c9927c", "filename": "src/rustc/middle/trans/base.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -21,7 +21,7 @@ import driver::session;\n import session::session;\n import syntax::attr;\n import back::{link, abi, upcall};\n-import syntax::{ast, ast_util, codemap};\n+import syntax::{ast, ast_util, codemap, ast_map};\n import ast_util::{inlined_item_methods, local_def, path_to_ident};\n import syntax::visit;\n import syntax::codemap::span;\n@@ -46,7 +46,7 @@ import build::*;\n import shape::*;\n import type_of::*;\n import type_of::type_of; // Issue #1873\n-import ast_map::{path, path_mod, path_name};\n+import syntax::ast_map::{path, path_mod, path_name};\n \n import std::smallintmap;\n "}, {"sha": "bfc93ddf93d673ed01dc3477acdce16fec5cf5aa", "filename": "src/rustc/middle/trans/closure.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fclosure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fclosure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fclosure.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -15,7 +15,7 @@ import back::link::{\n     mangle_internal_name_by_path,\n     mangle_internal_name_by_path_and_seq};\n import util::ppaux::ty_to_str;\n-import ast_map::{path, path_mod, path_name};\n+import syntax::ast_map::{path, path_mod, path_name};\n import driver::session::session;\n import std::map::hashmap;\n "}, {"sha": "d4b0c045759910abefabbb39a91bacd31db19c51", "filename": "src/rustc/middle/trans/common.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fcommon.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -6,7 +6,7 @@\n import libc::c_uint;\n import vec::unsafe::to_ptr;\n import std::map::{hashmap,set};\n-import syntax::ast;\n+import syntax::{ast, ast_map};\n import driver::session;\n import session::session;\n import middle::{resolve, ty};\n@@ -19,7 +19,7 @@ import lib::llvm::{ModuleRef, ValueRef, TypeRef, BasicBlockRef, BuilderRef};\n import lib::llvm::{True, False, Bool};\n import metadata::{csearch};\n import metadata::common::link_meta;\n-import ast_map::path;\n+import syntax::ast_map::path;\n import util::ppaux::ty_to_str;\n \n type namegen = fn@(str) -> str;"}, {"sha": "09e40558858b62b66cd4a81268b3a0a43e5beeb1", "filename": "src/rustc/middle/trans/debuginfo.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fdebuginfo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fdebuginfo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fdebuginfo.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -6,7 +6,7 @@ import trans::common::*;\n import trans::base;\n import trans::build::B;\n import middle::ty;\n-import syntax::{ast, codemap, ast_util};\n+import syntax::{ast, codemap, ast_util, ast_map};\n import codemap::span;\n import ast::ty;\n import pat_util::*;"}, {"sha": "7d40a9535b28609492a1fa1d721c26a7fef555bd", "filename": "src/rustc/middle/trans/impl.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fimpl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fimpl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fimpl.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -4,14 +4,14 @@ import common::*;\n import type_of::*;\n import build::*;\n import driver::session::session;\n-import syntax::ast;\n+import syntax::{ast, ast_map};\n+import ast_map::{path, path_mod, path_name, node_id_to_str};\n import syntax::ast_util::{local_def, split_class_items};\n import metadata::csearch;\n import back::{link, abi};\n import lib::llvm::llvm;\n import lib::llvm::{ValueRef, TypeRef};\n import lib::llvm::llvm::LLVMGetParam;\n-import ast_map::{path, path_mod, path_name, node_id_to_str};\n import std::map::hashmap;\n \n fn trans_impl(ccx: @crate_ctxt, path: path, name: ast::ident,"}, {"sha": "8c71e89f930a5bf931eef681c13cc45e8aa83f1c", "filename": "src/rustc/middle/trans/native.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fnative.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Fnative.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fnative.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -4,7 +4,7 @@\n import driver::session::{session, arch_x86_64};\n import syntax::codemap::span;\n import libc::c_uint;\n-import syntax::attr;\n+import syntax::{attr, ast_map};\n import lib::llvm::{ llvm, TypeRef, ValueRef,\n                     ModuleRef, CallConv, Attribute,\n                     StructRetAttribute, ByValAttribute"}, {"sha": "814bff13e99d838f9b6612fc2af60154b4c7bd1c", "filename": "src/rustc/middle/trans/reachable.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Freachable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Freachable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Freachable.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -6,7 +6,7 @@\n // reachable as well.\n \n import syntax::ast::*;\n-import syntax::{visit, ast_util};\n+import syntax::{visit, ast_util, ast_map};\n import syntax::ast_util::def_id_of_def;\n import syntax::attr;\n import std::map::hashmap;"}, {"sha": "b91cdff15b7fa35648ddfff2e086ea6d1283230f", "filename": "src/rustc/middle/trans/type_use.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Ftype_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftrans%2Ftype_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Ftype_use.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -23,6 +23,7 @@ import std::list::{list, cons, nil};\n import driver::session::session;\n import metadata::csearch;\n import syntax::ast::*, syntax::ast_util, syntax::visit;\n+import syntax::ast_map;\n import common::*;\n \n // FIXME distinguish between size/alignment and take/drop dependencies"}, {"sha": "6d0362882fe243d3ec37479f4225bd75b58443bd", "filename": "src/rustc/middle/ty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Fty.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -3,7 +3,7 @@ import result::result;\n import std::map::hashmap;\n import driver::session;\n import session::session;\n-import syntax::ast;\n+import syntax::{ast, ast_map};\n import syntax::ast::*;\n import syntax::ast_util;\n import syntax::ast_util::{is_local, local_def, split_class_items};"}, {"sha": "7b97bfb713806281fa1f7933a9beb5c14b03faa5", "filename": "src/rustc/middle/typeck.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftypeck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftypeck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftypeck.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -39,9 +39,9 @@ independently:\n */\n \n import result::{result, extensions};\n-import syntax::{ast, ast_util};\n+import syntax::{ast, ast_util, ast_map};\n import ast::spanned;\n-import ast_map::node_id_to_str;\n+import syntax::ast_map::node_id_to_str;\n import syntax::ast_util::{local_def, respan, split_class_items};\n import syntax::visit;\n import metadata::csearch;"}, {"sha": "0aa8b741d12c08a7f820b1256437010d1a0bfc36", "filename": "src/rustc/middle/typeck/check/method.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -1,5 +1,6 @@\n /* Code to handle method lookups (which can be quite complex) */\n \n+import syntax::ast_map;\n import regionmanip::universally_quantify_regions;\n import middle::typeck::infer::{ty_and_region_var_methods};\n "}, {"sha": "2f75a7c2e221942118128dffa2da32cce99f8ac7", "filename": "src/rustc/rustc.rc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Frustc.rc", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Frustc.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Frustc.rc?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -49,7 +49,6 @@ mod middle {\n         mod reachable;\n     }\n     mod ty;\n-    mod ast_map;\n     mod resolve;\n     mod typeck {\n         mod check {"}, {"sha": "0cd45e0dcf53ec6a07401258963e80212387f6c2", "filename": "src/rustc/util/common.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Futil%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Futil%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Futil%2Fcommon.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -121,10 +121,10 @@ fn local_rhs_span(l: @ast::local, def: span) -> span {\n     alt l.node.init { some(i) { ret i.expr.span; } _ { ret def; } }\n }\n \n-fn is_main_name(path: middle::ast_map::path) -> bool {\n+fn is_main_name(path: syntax::ast_map::path) -> bool {\n     // FIXME: path should be a constrained type, so we know\n     // the call to last doesn't fail\n-    vec::last(path) == middle::ast_map::path_name(\"main\")\n+    vec::last(path) == syntax::ast_map::path_name(\"main\")\n }\n \n //"}, {"sha": "0e3682963f6b7405a76bed807adc289b68b093b1", "filename": "src/rustc/util/ppaux.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Futil%2Fppaux.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustc%2Futil%2Fppaux.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Futil%2Fppaux.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -7,7 +7,7 @@ import syntax::print::pprust;\n import syntax::print::pprust::{path_to_str, constr_args_to_str, proto_to_str,\n                                mode_to_str};\n import syntax::{ast, ast_util};\n-import middle::ast_map;\n+import syntax::ast_map;\n import driver::session::session;\n \n fn bound_region_to_str(cx: ctxt, br: bound_region) -> str {"}, {"sha": "30e803a898a91c9c5e3e6f1db9ae97f3010b6e8f", "filename": "src/rustdoc/astsrv.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Fastsrv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Fastsrv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fastsrv.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -15,7 +15,7 @@ import syntax::diagnostic;\n import syntax::diagnostic::handler;\n import syntax::ast;\n import syntax::codemap;\n-import rustc::middle::ast_map;\n+import syntax::ast_map;\n import rustc::back::link;\n import rustc::util::filesearch;\n import rustc::front;"}, {"sha": "8ea297843b038c02e502f4f0603ec37c55d71c7d", "filename": "src/rustdoc/attr_pass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Fattr_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Fattr_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fattr_pass.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -7,7 +7,7 @@\n )];\n \n import syntax::ast;\n-import rustc::middle::ast_map;\n+import syntax::ast_map;\n import std::map::hashmap;\n \n export mk_pass;"}, {"sha": "b73576448258b4624aa60b8de96a789de690f7ec", "filename": "src/rustdoc/prune_hidden_pass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Fprune_hidden_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Fprune_hidden_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fprune_hidden_pass.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -33,7 +33,7 @@ fn fold_mod(\n }\n \n fn is_hidden(srv: astsrv::srv, doc: doc::itemdoc) -> bool {\n-    import rustc::middle::ast_map;\n+    import syntax::ast_map;\n \n     let id = doc.id;\n     astsrv::exec(srv) {|ctxt|"}, {"sha": "2c14271a630b852f26f3f9f9a8ff4fc41ba2471a", "filename": "src/rustdoc/prune_unexported_pass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Fprune_unexported_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Fprune_unexported_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fprune_unexported_pass.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -2,7 +2,7 @@\n \n import syntax::ast;\n import syntax::ast_util;\n-import rustc::middle::ast_map;\n+import syntax::ast_map;\n import std::map::hashmap;\n \n export mk_pass;"}, {"sha": "2637f8755d0b2e69b5d086bedbb1ab2bdaffe69f", "filename": "src/rustdoc/reexport_pass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Freexport_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Freexport_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Freexport_pass.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -6,7 +6,7 @@ import std::list;\n import syntax::ast;\n import syntax::ast_util;\n import rustc::util::common;\n-import rustc::middle::ast_map;\n+import syntax::ast_map;\n import syntax::visit;\n import syntax::codemap;\n import rustc::middle::resolve;"}, {"sha": "289062ddcdf91c6dffeb2cf27b328891ffee7659", "filename": "src/rustdoc/tystr_pass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Ftystr_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aa18c285245099fdb03eae6ce5a5e0a79a01c21/src%2Frustdoc%2Ftystr_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Ftystr_pass.rs?ref=9aa18c285245099fdb03eae6ce5a5e0a79a01c21", "patch": "@@ -3,7 +3,7 @@\n \n import syntax::ast;\n import syntax::print::pprust;\n-import rustc::middle::ast_map;\n+import syntax::ast_map;\n import std::map::hashmap;\n \n export mk_pass;"}]}