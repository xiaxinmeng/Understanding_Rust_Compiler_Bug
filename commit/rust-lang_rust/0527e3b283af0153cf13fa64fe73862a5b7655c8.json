{"sha": "0527e3b283af0153cf13fa64fe73862a5b7655c8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA1MjdlM2IyODNhZjAxNTNjZjEzZmE2NGZlNzM4NjJhNWI3NjU1Yzg=", "commit": {"author": {"name": "Bernardo", "email": "berublan@gmail.com", "date": "2018-12-11T18:07:17Z"}, "committer": {"name": "Bernardo", "email": "berublan@gmail.com", "date": "2018-12-11T18:07:17Z"}, "message": "rename Edit to TextEdit and AtomEdit to AtomTextEdit", "tree": {"sha": "07c4eacaad717ea802ab26972f45223281f2c9c1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/07c4eacaad717ea802ab26972f45223281f2c9c1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0527e3b283af0153cf13fa64fe73862a5b7655c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0527e3b283af0153cf13fa64fe73862a5b7655c8", "html_url": "https://github.com/rust-lang/rust/commit/0527e3b283af0153cf13fa64fe73862a5b7655c8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0527e3b283af0153cf13fa64fe73862a5b7655c8/comments", "author": {"login": "vemoo", "id": 4866051, "node_id": "MDQ6VXNlcjQ4NjYwNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4866051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vemoo", "html_url": "https://github.com/vemoo", "followers_url": "https://api.github.com/users/vemoo/followers", "following_url": "https://api.github.com/users/vemoo/following{/other_user}", "gists_url": "https://api.github.com/users/vemoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/vemoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vemoo/subscriptions", "organizations_url": "https://api.github.com/users/vemoo/orgs", "repos_url": "https://api.github.com/users/vemoo/repos", "events_url": "https://api.github.com/users/vemoo/events{/privacy}", "received_events_url": "https://api.github.com/users/vemoo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "vemoo", "id": 4866051, "node_id": "MDQ6VXNlcjQ4NjYwNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4866051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vemoo", "html_url": "https://github.com/vemoo", "followers_url": "https://api.github.com/users/vemoo/followers", "following_url": "https://api.github.com/users/vemoo/following{/other_user}", "gists_url": "https://api.github.com/users/vemoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/vemoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vemoo/subscriptions", "organizations_url": "https://api.github.com/users/vemoo/orgs", "repos_url": "https://api.github.com/users/vemoo/repos", "events_url": "https://api.github.com/users/vemoo/events{/privacy}", "received_events_url": "https://api.github.com/users/vemoo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7344d28768c43d8955bf23c183d606be08f27c64", "url": "https://api.github.com/repos/rust-lang/rust/commits/7344d28768c43d8955bf23c183d606be08f27c64", "html_url": "https://github.com/rust-lang/rust/commit/7344d28768c43d8955bf23c183d606be08f27c64"}], "stats": {"total": 179, "additions": 92, "deletions": 87}, "files": [{"sha": "f480af61161a6b1ff9d7db1963006689df41e238", "filename": "crates/ra_analysis/src/completion.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_analysis%2Fsrc%2Fcompletion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_analysis%2Fsrc%2Fcompletion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_analysis%2Fsrc%2Fcompletion.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -1,7 +1,7 @@\n mod reference_completion;\n \n use ra_editor::find_node_at_offset;\n-use ra_text_edit::AtomEdit;\n+use ra_text_edit::AtomTextEdit;\n use ra_syntax::{\n     algo::visit::{visitor_ctx, VisitorCtx},\n     ast,\n@@ -34,7 +34,7 @@ pub(crate) fn completions(\n     let original_file = db.source_file(position.file_id);\n     // Insert a fake ident to get a valid parse tree\n     let file = {\n-        let edit = AtomEdit::insert(position.offset, \"intellijRulezz\".to_string());\n+        let edit = AtomTextEdit::insert(position.offset, \"intellijRulezz\".to_string());\n         original_file.reparse(&edit)\n     };\n "}, {"sha": "22fff71abb42af935e23ff11adb71bbff631a6b5", "filename": "crates/ra_analysis/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_analysis%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_analysis%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_analysis%2Fsrc%2Flib.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -19,7 +19,7 @@ pub mod mock_analysis;\n use std::{fmt, sync::Arc};\n \n use ra_syntax::{SourceFileNode, TextRange, TextUnit};\n-use ra_text_edit::AtomEdit;\n+use ra_text_edit::AtomTextEdit;\n use ra_db::FileResolverImp;\n use rayon::prelude::*;\n use relative_path::RelativePathBuf;\n@@ -121,7 +121,7 @@ pub struct SourceChange {\n #[derive(Debug)]\n pub struct SourceFileNodeEdit {\n     pub file_id: FileId,\n-    pub edits: Vec<AtomEdit>,\n+    pub edits: Vec<AtomTextEdit>,\n }\n \n #[derive(Debug)]"}, {"sha": "688a89c3dc497d76a09c7f8a156688b9fda9f5a3", "filename": "crates/ra_editor/src/code_actions.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_editor%2Fsrc%2Fcode_actions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_editor%2Fsrc%2Fcode_actions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_editor%2Fsrc%2Fcode_actions.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -8,11 +8,11 @@ use ra_syntax::{\n     SyntaxNodeRef, TextRange, TextUnit,\n };\n \n-use crate::{find_node_at_offset, Edit, EditBuilder};\n+use crate::{find_node_at_offset, TextEdit, TextEditBuilder};\n \n #[derive(Debug)]\n pub struct LocalEdit {\n-    pub edit: Edit,\n+    pub edit: TextEdit,\n     pub cursor_position: Option<TextUnit>,\n }\n \n@@ -26,7 +26,7 @@ pub fn flip_comma<'a>(\n     let prev = non_trivia_sibling(comma, Direction::Prev)?;\n     let next = non_trivia_sibling(comma, Direction::Next)?;\n     Some(move || {\n-        let mut edit = EditBuilder::new();\n+        let mut edit = TextEditBuilder::new();\n         edit.replace(prev.range(), next.text().to_string());\n         edit.replace(next.range(), prev.text().to_string());\n         LocalEdit {\n@@ -49,7 +49,7 @@ pub fn add_derive<'a>(\n             .filter(|(name, _arg)| name == \"derive\")\n             .map(|(_name, arg)| arg)\n             .next();\n-        let mut edit = EditBuilder::new();\n+        let mut edit = TextEditBuilder::new();\n         let offset = match derive_attr {\n             None => {\n                 edit.insert(node_start, \"#[derive()]\\n\".to_string());\n@@ -82,7 +82,7 @@ pub fn add_impl<'a>(\n \n     Some(move || {\n         let type_params = nominal.type_param_list();\n-        let mut edit = EditBuilder::new();\n+        let mut edit = TextEditBuilder::new();\n         let start_offset = nominal.syntax().range().end();\n         let mut buf = String::new();\n         buf.push_str(\"\\n\\nimpl\");\n@@ -129,7 +129,7 @@ pub fn introduce_variable<'a>(\n     }\n     return Some(move || {\n         let mut buf = String::new();\n-        let mut edit = EditBuilder::new();\n+        let mut edit = TextEditBuilder::new();\n \n         buf.push_str(\"let var_name = \");\n         expr.syntax().text().push_to(&mut buf);"}, {"sha": "36cabed25906df1cd45d95963e80fb0309153374", "filename": "crates/ra_editor/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_editor%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_editor%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_editor%2Fsrc%2Flib.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -15,7 +15,7 @@ pub use self::{\n     symbols::{file_structure, file_symbols, FileSymbol, StructureNode},\n     typing::{join_lines, on_enter, on_eq_typed},\n };\n-use ra_text_edit::{Edit, EditBuilder};\n+use ra_text_edit::{TextEdit, TextEditBuilder};\n use ra_syntax::{\n     algo::find_leaf_at_offset,\n     ast::{self, AstNode, NameOwner},"}, {"sha": "46a6e2d62e86d9a80f4d58d9226a3d762ee02706", "filename": "crates/ra_editor/src/typing.rs", "status": "modified", "additions": 14, "deletions": 9, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_editor%2Fsrc%2Ftyping.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_editor%2Fsrc%2Ftyping.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_editor%2Fsrc%2Ftyping.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -10,7 +10,7 @@ use ra_syntax::{\n };\n use ra_text_edit::text_utils::contains_offset_nonstrict;\n \n-use crate::{find_node_at_offset, EditBuilder, LocalEdit};\n+use crate::{find_node_at_offset, TextEditBuilder, LocalEdit};\n \n pub fn join_lines(file: &SourceFileNode, range: TextRange) -> LocalEdit {\n     let range = if range.is_empty() {\n@@ -19,7 +19,7 @@ pub fn join_lines(file: &SourceFileNode, range: TextRange) -> LocalEdit {\n         let pos = match text.find('\\n') {\n             None => {\n                 return LocalEdit {\n-                    edit: EditBuilder::new().finish(),\n+                    edit: TextEditBuilder::new().finish(),\n                     cursor_position: None,\n                 };\n             }\n@@ -31,7 +31,7 @@ pub fn join_lines(file: &SourceFileNode, range: TextRange) -> LocalEdit {\n     };\n \n     let node = find_covering_node(file.syntax(), range);\n-    let mut edit = EditBuilder::new();\n+    let mut edit = TextEditBuilder::new();\n     for node in node.descendants() {\n         let text = match node.leaf_text() {\n             Some(text) => text,\n@@ -73,7 +73,7 @@ pub fn on_enter(file: &SourceFileNode, offset: TextUnit) -> Option<LocalEdit> {\n     let indent = node_indent(file, comment.syntax())?;\n     let inserted = format!(\"\\n{}{} \", indent, prefix);\n     let cursor_position = offset + TextUnit::of_str(&inserted);\n-    let mut edit = EditBuilder::new();\n+    let mut edit = TextEditBuilder::new();\n     edit.insert(offset, inserted);\n     Some(LocalEdit {\n         edit: edit.finish(),\n@@ -123,15 +123,20 @@ pub fn on_eq_typed(file: &SourceFileNode, offset: TextUnit) -> Option<LocalEdit>\n         return None;\n     }\n     let offset = let_stmt.syntax().range().end();\n-    let mut edit = EditBuilder::new();\n+    let mut edit = TextEditBuilder::new();\n     edit.insert(offset, \";\".to_string());\n     Some(LocalEdit {\n         edit: edit.finish(),\n         cursor_position: None,\n     })\n }\n \n-fn remove_newline(edit: &mut EditBuilder, node: SyntaxNodeRef, node_text: &str, offset: TextUnit) {\n+fn remove_newline(\n+    edit: &mut TextEditBuilder,\n+    node: SyntaxNodeRef,\n+    node_text: &str,\n+    offset: TextUnit,\n+) {\n     if node.kind() != WHITESPACE || node_text.bytes().filter(|&b| b == b'\\n').count() != 1 {\n         // The node is either the first or the last in the file\n         let suff = &node_text[TextRange::from_to(\n@@ -192,7 +197,7 @@ fn is_trailing_comma(left: SyntaxKind, right: SyntaxKind) -> bool {\n     }\n }\n \n-fn join_single_expr_block(edit: &mut EditBuilder, node: SyntaxNodeRef) -> Option<()> {\n+fn join_single_expr_block(edit: &mut TextEditBuilder, node: SyntaxNodeRef) -> Option<()> {\n     let block = ast::Block::cast(node.parent()?)?;\n     let block_expr = ast::BlockExpr::cast(block.syntax().parent()?)?;\n     let expr = single_expr(block)?;\n@@ -270,14 +275,14 @@ fn foo() {\n     fn test_join_lines_lambda_block() {\n         check_join_lines(\n             r\"\n-pub fn reparse(&self, edit: &AtomEdit) -> File {\n+pub fn reparse(&self, edit: &AtomTextEdit) -> File {\n     <|>self.incremental_reparse(edit).unwrap_or_else(|| {\n         self.full_reparse(edit)\n     })\n }\n \",\n             r\"\n-pub fn reparse(&self, edit: &AtomEdit) -> File {\n+pub fn reparse(&self, edit: &AtomTextEdit) -> File {\n     <|>self.incremental_reparse(edit).unwrap_or_else(|| self.full_reparse(edit))\n }\n \","}, {"sha": "7467f472cb4fb552cd3da7f7aa95c56423594873", "filename": "crates/ra_lsp_server/src/conv.rs", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_lsp_server%2Fsrc%2Fconv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_lsp_server%2Fsrc%2Fconv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_lsp_server%2Fsrc%2Fconv.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -1,10 +1,10 @@\n use languageserver_types::{\n-    Location, Position, Range, SymbolKind, TextDocumentEdit, TextDocumentIdentifier,\n-    TextDocumentItem, TextDocumentPositionParams, TextEdit, Url, VersionedTextDocumentIdentifier,\n+    self, Location, Position, Range, SymbolKind, TextDocumentEdit, TextDocumentIdentifier,\n+    TextDocumentItem, TextDocumentPositionParams, Url, VersionedTextDocumentIdentifier,\n };\n use ra_analysis::{FileId, FileSystemEdit, SourceChange, SourceFileNodeEdit, FilePosition};\n use ra_editor::{LineCol, LineIndex};\n-use ra_text_edit::{AtomEdit, Edit};\n+use ra_text_edit::{AtomTextEdit, TextEdit};\n use ra_syntax::{SyntaxKind, TextRange, TextUnit};\n \n use crate::{req, server_world::ServerWorld, Result};\n@@ -92,24 +92,24 @@ impl ConvWith for Range {\n     }\n }\n \n-impl ConvWith for Edit {\n+impl ConvWith for TextEdit {\n     type Ctx = LineIndex;\n-    type Output = Vec<TextEdit>;\n+    type Output = Vec<languageserver_types::TextEdit>;\n \n-    fn conv_with(self, line_index: &LineIndex) -> Vec<TextEdit> {\n+    fn conv_with(self, line_index: &LineIndex) -> Vec<languageserver_types::TextEdit> {\n         self.into_atoms()\n             .into_iter()\n             .map_conv_with(line_index)\n             .collect()\n     }\n }\n \n-impl ConvWith for AtomEdit {\n+impl ConvWith for AtomTextEdit {\n     type Ctx = LineIndex;\n-    type Output = TextEdit;\n+    type Output = languageserver_types::TextEdit;\n \n-    fn conv_with(self, line_index: &LineIndex) -> TextEdit {\n-        TextEdit {\n+    fn conv_with(self, line_index: &LineIndex) -> languageserver_types::TextEdit {\n+        languageserver_types::TextEdit {\n             range: self.delete.conv_with(line_index),\n             new_text: self.insert,\n         }\n@@ -229,7 +229,7 @@ impl TryConvWith for SourceChange {\n fn translate_offset_with_edit(\n     pre_edit_index: &LineIndex,\n     offset: TextUnit,\n-    edits: &[AtomEdit],\n+    edits: &[AtomTextEdit],\n ) -> LineCol {\n     let fallback = pre_edit_index.line_col(offset);\n     let edit = match edits.first() {"}, {"sha": "34a3aabef87c301f67a20cc09fae9fb71b11be1c", "filename": "crates/ra_syntax/src/lib.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_syntax%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_syntax%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Flib.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -47,7 +47,7 @@ pub use crate::{\n     },\n };\n \n-use ra_text_edit::AtomEdit;\n+use ra_text_edit::AtomTextEdit;\n use crate::yellow::GreenNode;\n \n /// `SourceFileNode` represents a parse tree for a single Rust file.\n@@ -68,15 +68,15 @@ impl SourceFileNode {\n             parser_impl::parse_with(yellow::GreenBuilder::new(), text, &tokens, grammar::root);\n         SourceFileNode::new(green, errors)\n     }\n-    pub fn reparse(&self, edit: &AtomEdit) -> SourceFileNode {\n+    pub fn reparse(&self, edit: &AtomTextEdit) -> SourceFileNode {\n         self.incremental_reparse(edit)\n             .unwrap_or_else(|| self.full_reparse(edit))\n     }\n-    pub fn incremental_reparse(&self, edit: &AtomEdit) -> Option<SourceFileNode> {\n+    pub fn incremental_reparse(&self, edit: &AtomTextEdit) -> Option<SourceFileNode> {\n         reparsing::incremental_reparse(self.syntax(), edit, self.errors())\n             .map(|(green_node, errors)| SourceFileNode::new(green_node, errors))\n     }\n-    fn full_reparse(&self, edit: &AtomEdit) -> SourceFileNode {\n+    fn full_reparse(&self, edit: &AtomTextEdit) -> SourceFileNode {\n         let text =\n             text_utils::replace_range(self.syntax().text().to_string(), edit.delete, &edit.insert);\n         SourceFileNode::parse(&text)"}, {"sha": "208cae5c8f85a23acc4c0ffe650f63135e9040fd", "filename": "crates/ra_syntax/src/reparsing.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_syntax%2Fsrc%2Freparsing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_syntax%2Fsrc%2Freparsing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Freparsing.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -6,11 +6,11 @@ use crate::parser_impl;\n use crate::text_utils::replace_range;\n use crate::yellow::{self, GreenNode, SyntaxError, SyntaxNodeRef};\n use crate::{SyntaxKind::*, TextRange, TextUnit};\n-use ra_text_edit::AtomEdit;\n+use ra_text_edit::AtomTextEdit;\n \n pub(crate) fn incremental_reparse(\n     node: SyntaxNodeRef,\n-    edit: &AtomEdit,\n+    edit: &AtomTextEdit,\n     errors: Vec<SyntaxError>,\n ) -> Option<(GreenNode, Vec<SyntaxError>)> {\n     let (node, green, new_errors) =\n@@ -22,7 +22,7 @@ pub(crate) fn incremental_reparse(\n \n fn reparse_leaf<'node>(\n     node: SyntaxNodeRef<'node>,\n-    edit: &AtomEdit,\n+    edit: &AtomTextEdit,\n ) -> Option<(SyntaxNodeRef<'node>, GreenNode, Vec<SyntaxError>)> {\n     let node = algo::find_covering_node(node, edit.delete);\n     match node.kind() {\n@@ -48,7 +48,7 @@ fn reparse_leaf<'node>(\n \n fn reparse_block<'node>(\n     node: SyntaxNodeRef<'node>,\n-    edit: &AtomEdit,\n+    edit: &AtomTextEdit,\n ) -> Option<(SyntaxNodeRef<'node>, GreenNode, Vec<SyntaxError>)> {\n     let (node, reparser) = find_reparsable_node(node, edit.delete)?;\n     let text = get_text_after_edit(node, &edit);\n@@ -61,7 +61,7 @@ fn reparse_block<'node>(\n     Some((node, green, new_errors))\n }\n \n-fn get_text_after_edit(node: SyntaxNodeRef, edit: &AtomEdit) -> String {\n+fn get_text_after_edit(node: SyntaxNodeRef, edit: &AtomTextEdit) -> String {\n     replace_range(\n         node.text().to_string(),\n         edit.delete - node.range().start(),\n@@ -139,7 +139,7 @@ fn merge_errors(\n     old_errors: Vec<SyntaxError>,\n     new_errors: Vec<SyntaxError>,\n     old_node: SyntaxNodeRef,\n-    edit: &AtomEdit,\n+    edit: &AtomTextEdit,\n ) -> Vec<SyntaxError> {\n     let mut res = Vec::new();\n     for e in old_errors {\n@@ -166,7 +166,7 @@ mod tests {\n     where\n         for<'a> F: Fn(\n             SyntaxNodeRef<'a>,\n-            &AtomEdit,\n+            &AtomTextEdit,\n         ) -> Option<(SyntaxNodeRef<'a>, GreenNode, Vec<SyntaxError>)>,\n     {\n         let (range, before) = extract_range(before);\n@@ -175,7 +175,7 @@ mod tests {\n         let fully_reparsed = SourceFileNode::parse(&after);\n         let incrementally_reparsed = {\n             let f = SourceFileNode::parse(&before);\n-            let edit = AtomEdit {\n+            let edit = AtomTextEdit {\n                 delete: range,\n                 insert: replace_with.to_string(),\n             };"}, {"sha": "59cd1149531934da86f6d87d5346436b2bd35700", "filename": "crates/ra_syntax/tests/data/parser/fuzz-failures/0000.rs", "status": "modified", "additions": 19, "deletions": 19, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Ffuzz-failures%2F0000.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Ffuzz-failures%2F0000.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Ffuzz-failures%2F0000.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -10,10 +10,10 @@\n         );\n         File::new(green, errors)\n     }\n-    pub fn reparse(&self, edit: &AtomEdit) -> File {\n+    pub fn reparse(&self, edit: &AtomTextEdit) -> File {\n         self.incremental_reparse(edit).unwrap_or_else(|| self.full_reparse(edit))\n     }\n-    pub fn incremental_reparse(&self, edit: &AtomEdit) -> Option<File> {\n+    pub fn incremental_reparse(&self, edit: &AtomTextEdit) -> Option<File> {\n         let (node, reparser) = find_reparsable_node(self.syntax(), edit.delete)?;\n         let text = replace_range(\n             node.text().to_string(),\n@@ -31,7 +31,7 @@\n         let errors = merge_errors(self.errors(), new_errors, node, edit);\n         Some(File::new(green_root, errors))\n     }\n-    fn full_reparse(&self, edit: &AtomEdit) -> File {\n+    fn full_reparse(&self, edit: &AtomTextEdit) -> File {\n         let text = replace_range(self.syntax().text().to_string(), edit.delete, &edit.insert);\n         File::parse(&text)\n     }\n@@ -58,22 +58,22 @@\n }\n \n #[derive(Debug, Clone)]\n-pub struct AtomEdit {\n+pub struct AtomTextEdit {\n     pub delete: TextRange,\n     pub insert: String,\n }\n \n-impl AtomEdit {\n-    pub fn replace(range: TextRange, replace_with: String) -> AtomEdit {\n-        AtomEdit { delete: range, insert: replace_with }\n+impl AtomTextEdit {\n+    pub fn replace(range: TextRange, replace_with: String) -> AtomTextEdit {\n+        AtomTextEdit { delete: range, insert: replace_with }\n     }\n \n-    pub fn delete(range: TextRange) -> AtomEdit {\n-        AtomEdit::replace(range, String::new())\n+    pub fn delete(range: TextRange) -> AtomTextEdit {\n+        AtomTextEdit::replace(range, String::new())\n     }\n \n-    pub fn insert(offset: TextUnit, text: String) -> AtomEdit {\n-        AtomEdit::replace(TextRange::offset_len(offset, 0.into()), text)\n+    pub fn insert(offset: TextUnit, text: String) -> AtomTextEdit {\n+        AtomTextEdit::replace(TextRange::offset_len(offset, 0.into()), text)\n     }\n }\n \n@@ -114,17 +114,17 @@ fn is_balanced(tokens: &[Token]) -> bool {\n     pub insert: String,\n }\n \n-impl AtomEdit {\n-    pub fn replace(range: TextRange, replace_with: String) -> AtomEdit {\n-        AtomEdit { delete: range, insert: replace_with }\n+impl AtomTextEdit {\n+    pub fn replace(range: TextRange, replace_with: String) -> AtomTextEdit {\n+        AtomTextEdit { delete: range, insert: replace_with }\n     }\n \n-    pub fn delete(range: TextRange) -> AtomEdit {\n-        AtomEdit::replace(range, String::new())\n+    pub fn delete(range: TextRange) -> AtomTextEdit {\n+        AtomTextEdit::replace(range, String::new())\n     }\n \n-    pub fn insert(offset: TextUnit, text: String) -> AtomEdit {\n-        AtomEdit::replace(TextRange::offset_len(offset, 0.into()), text)\n+    pub fn insert(offset: TextUnit, text: String) -> AtomTextEdit {\n+        AtomTextEdit::replace(TextRange::offset_len(offset, 0.into()), text)\n     }\n }\n \n@@ -176,7 +176,7 @@ fn merge_errors(\n     old_errors: Vec<SyntaxError>,\n     new_errors: Vec<SyntaxError>,\n     old_node: SyntaxNodeRef,\n-    edit: &AtomEdit,\n+    edit: &AtomTextEdit,\n ) -> Vec<SyntaxError> {\n     let mut res = Vec::new();\n     for e in old_errors {"}, {"sha": "13e20f6fb05dd3750364de911013b22eee91ae41", "filename": "crates/ra_text_edit/src/lib.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_text_edit%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_text_edit%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_text_edit%2Fsrc%2Flib.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -1,29 +1,29 @@\n-mod edit;\n+mod text_edit;\n pub mod text_utils;\n \n-pub use crate::edit::{Edit, EditBuilder};\n+pub use crate::text_edit::{TextEdit, TextEditBuilder};\n \n use text_unit::{TextRange, TextUnit};\n \n #[derive(Debug, Clone)]\n-pub struct AtomEdit {\n+pub struct AtomTextEdit {\n     pub delete: TextRange,\n     pub insert: String,\n }\n \n-impl AtomEdit {\n-    pub fn replace(range: TextRange, replace_with: String) -> AtomEdit {\n-        AtomEdit {\n+impl AtomTextEdit {\n+    pub fn replace(range: TextRange, replace_with: String) -> AtomTextEdit {\n+        AtomTextEdit {\n             delete: range,\n             insert: replace_with,\n         }\n     }\n \n-    pub fn delete(range: TextRange) -> AtomEdit {\n-        AtomEdit::replace(range, String::new())\n+    pub fn delete(range: TextRange) -> AtomTextEdit {\n+        AtomTextEdit::replace(range, String::new())\n     }\n \n-    pub fn insert(offset: TextUnit, text: String) -> AtomEdit {\n-        AtomEdit::replace(TextRange::offset_len(offset, 0.into()), text)\n+    pub fn insert(offset: TextUnit, text: String) -> AtomTextEdit {\n+        AtomTextEdit::replace(TextRange::offset_len(offset, 0.into()), text)\n     }\n }"}, {"sha": "fb46f046d8441afdd01e51035b42d674a7248763", "filename": "crates/ra_text_edit/src/text_edit.rs", "status": "renamed", "additions": 15, "deletions": 15, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_text_edit%2Fsrc%2Ftext_edit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0527e3b283af0153cf13fa64fe73862a5b7655c8/crates%2Fra_text_edit%2Fsrc%2Ftext_edit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_text_edit%2Fsrc%2Ftext_edit.rs?ref=0527e3b283af0153cf13fa64fe73862a5b7655c8", "patch": "@@ -1,37 +1,37 @@\n-use crate::AtomEdit;\n+use crate::AtomTextEdit;\n use crate::text_utils::contains_offset_nonstrict;\n use text_unit::{TextRange, TextUnit};\n \n #[derive(Debug, Clone)]\n-pub struct Edit {\n-    atoms: Vec<AtomEdit>,\n+pub struct TextEdit {\n+    atoms: Vec<AtomTextEdit>,\n }\n \n #[derive(Debug)]\n-pub struct EditBuilder {\n-    atoms: Vec<AtomEdit>,\n+pub struct TextEditBuilder {\n+    atoms: Vec<AtomTextEdit>,\n }\n \n-impl EditBuilder {\n-    pub fn new() -> EditBuilder {\n-        EditBuilder { atoms: Vec::new() }\n+impl TextEditBuilder {\n+    pub fn new() -> TextEditBuilder {\n+        TextEditBuilder { atoms: Vec::new() }\n     }\n     pub fn replace(&mut self, range: TextRange, replace_with: String) {\n-        self.atoms.push(AtomEdit::replace(range, replace_with))\n+        self.atoms.push(AtomTextEdit::replace(range, replace_with))\n     }\n     pub fn delete(&mut self, range: TextRange) {\n-        self.atoms.push(AtomEdit::delete(range))\n+        self.atoms.push(AtomTextEdit::delete(range))\n     }\n     pub fn insert(&mut self, offset: TextUnit, text: String) {\n-        self.atoms.push(AtomEdit::insert(offset, text))\n+        self.atoms.push(AtomTextEdit::insert(offset, text))\n     }\n-    pub fn finish(self) -> Edit {\n+    pub fn finish(self) -> TextEdit {\n         let mut atoms = self.atoms;\n         atoms.sort_by_key(|a| (a.delete.start(), a.delete.end()));\n         for (a1, a2) in atoms.iter().zip(atoms.iter().skip(1)) {\n             assert!(a1.delete.end() <= a2.delete.start())\n         }\n-        Edit { atoms }\n+        TextEdit { atoms }\n     }\n     pub fn invalidates_offset(&self, offset: TextUnit) -> bool {\n         self.atoms\n@@ -40,8 +40,8 @@ impl EditBuilder {\n     }\n }\n \n-impl Edit {\n-    pub fn into_atoms(self) -> Vec<AtomEdit> {\n+impl TextEdit {\n+    pub fn into_atoms(self) -> Vec<AtomTextEdit> {\n         self.atoms\n     }\n ", "previous_filename": "crates/ra_text_edit/src/edit.rs"}]}