{"sha": "ac732b62dd823a669628ca8a54655c18ea269c7d", "node_id": "C_kwDOAAsO6NoAKGFjNzMyYjYyZGQ4MjNhNjY5NjI4Y2E4YTU0NjU1YzE4ZWEyNjljN2Q", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-09-17T16:38:57Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-10-24T18:03:46Z"}, "message": "rustdoc: clean up `#toggle-all-docs`\n\nThis change converts the element from an `<a>` link to a button. It's\npretty much directly trading slightly more CSS for slightly less HTML, and\nit's also semantically correct (so you don't get a broken \"bookmark\" option\nwhen you right click on it).\n\nWhile doing this, I also got rid of the unnecessary `class=\"inner\"`\nattribute on the inner span. There was a style targeting\n`.collapse-toggle > .inner`, but no CSS ever targeted the\n`#toggle-all-docs > .inner`.", "tree": {"sha": "a1bd58d69d88d0fe8a8654f52cf9402869a7fb5c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a1bd58d69d88d0fe8a8654f52cf9402869a7fb5c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ac732b62dd823a669628ca8a54655c18ea269c7d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ac732b62dd823a669628ca8a54655c18ea269c7d", "html_url": "https://github.com/rust-lang/rust/commit/ac732b62dd823a669628ca8a54655c18ea269c7d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ac732b62dd823a669628ca8a54655c18ea269c7d/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c07a6a9c0c6c571d535de74d7ec28469fba46e37", "url": "https://api.github.com/repos/rust-lang/rust/commits/c07a6a9c0c6c571d535de74d7ec28469fba46e37", "html_url": "https://github.com/rust-lang/rust/commit/c07a6a9c0c6c571d535de74d7ec28469fba46e37"}], "stats": {"total": 18, "additions": 11, "deletions": 7}, "files": [{"sha": "f49176e720174944718898d0a0e2be8d04ef4d86", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ac732b62dd823a669628ca8a54655c18ea269c7d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/ac732b62dd823a669628ca8a54655c18ea269c7d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=ac732b62dd823a669628ca8a54655c18ea269c7d", "patch": "@@ -163,9 +163,6 @@ h1.fqn {\n \tpadding-bottom: 6px;\n \tmargin-bottom: 15px;\n }\n-#toggle-all-docs {\n-\ttext-decoration: none;\n-}\n /* The only headings that get underlines are:\n \t Markdown-generated headings within the top-doc\n \t Rustdoc-generated h2 section headings (e.g. \"Implementations\", \"Required Methods\", etc)\n@@ -209,7 +206,7 @@ ul.all-items {\n \tfont-family: \"Fira Sans\", Arial, NanumBarunGothic, sans-serif;\n }\n \n-a#toggle-all-docs,\n+#toggle-all-docs,\n a.anchor,\n .small-section-header a,\n #source-sidebar a,\n@@ -303,6 +300,13 @@ button {\n \tpadding: 1px 6px;\n }\n \n+button#toggle-all-docs {\n+\tpadding: 0;\n+\tbackground: none;\n+\tborder: none;\n+\tcursor: pointer;\n+}\n+\n /* end tweaks for normalize.css 8 */\n \n .rustdoc {"}, {"sha": "e497b619366b175e0513fce42de6754d961d0d95", "filename": "src/librustdoc/html/templates/print_item.html", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ac732b62dd823a669628ca8a54655c18ea269c7d/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fprint_item.html", "raw_url": "https://github.com/rust-lang/rust/raw/ac732b62dd823a669628ca8a54655c18ea269c7d/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fprint_item.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fprint_item.html?ref=ac732b62dd823a669628ca8a54655c18ea269c7d", "patch": "@@ -21,8 +21,8 @@ <h1 class=\"fqn\"> {#- -#}\n                 <a class=\"srclink\" href=\"{{href|safe}}\">source</a> \u00b7 {# -#}\n             {%- else -%}\n         {%- endmatch -%}\n-        <a id=\"toggle-all-docs\" href=\"javascript:void(0)\" title=\"collapse all docs\"> {#- -#}\n-            [<span class=\"inner\">&#x2212;</span>] {#- -#}\n-        </a> {#- -#}\n+        <button id=\"toggle-all-docs\" title=\"collapse all docs\"> {#- -#}\n+            [<span>&#x2212;</span>] {#- -#}\n+        </button> {#- -#}\n     </span> {#- -#}\n </div> {#- -#}"}]}