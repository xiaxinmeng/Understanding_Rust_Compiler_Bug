{"sha": "e84537bcdd84e43bd6a296ede94e227e35c1ab4b", "node_id": "C_kwDOAAsO6NoAKGU4NDUzN2JjZGQ4NGU0M2JkNmEyOTZlZGU5NGUyMjdlMzVjMWFiNGI", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2021-10-18T06:13:30Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-10-18T06:13:30Z"}, "message": "Rollup merge of #89990 - petrochenkov:idempty, r=wesleywiser\n\nrustc_span: `Ident::invalid` -> `Ident::empty`\n\nThe equivalent for `Symbol`s was renamed some time ago (`kw::Invalid` -> `kw::Empty`), and it makes sense to do the same thing for `Ident`s as well.", "tree": {"sha": "d2817edbfd4cbde7e2479d331832b00dd5f35592", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d2817edbfd4cbde7e2479d331832b00dd5f35592"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e84537bcdd84e43bd6a296ede94e227e35c1ab4b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e84537bcdd84e43bd6a296ede94e227e35c1ab4b", "html_url": "https://github.com/rust-lang/rust/commit/e84537bcdd84e43bd6a296ede94e227e35c1ab4b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e84537bcdd84e43bd6a296ede94e227e35c1ab4b/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "79b73ac98d660cebd1968cac70163b8bcd54164a", "url": "https://api.github.com/repos/rust-lang/rust/commits/79b73ac98d660cebd1968cac70163b8bcd54164a", "html_url": "https://github.com/rust-lang/rust/commit/79b73ac98d660cebd1968cac70163b8bcd54164a"}, {"sha": "5f2ecc37f895f2eeea84651c9246ffea97e5b0fe", "url": "https://api.github.com/repos/rust-lang/rust/commits/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe", "html_url": "https://github.com/rust-lang/rust/commit/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe"}], "stats": {"total": 17, "additions": 8, "deletions": 9}, "files": [{"sha": "95b8c6dfe89eea23435b45dfd0ae6386ae34367a", "filename": "tests/ui-internal/unnecessary_symbol_str.fixed", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e84537bcdd84e43bd6a296ede94e227e35c1ab4b/tests%2Fui-internal%2Funnecessary_symbol_str.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/e84537bcdd84e43bd6a296ede94e227e35c1ab4b/tests%2Fui-internal%2Funnecessary_symbol_str.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-internal%2Funnecessary_symbol_str.fixed?ref=e84537bcdd84e43bd6a296ede94e227e35c1ab4b", "patch": "@@ -11,6 +11,6 @@ fn main() {\n     Symbol::intern(\"foo\") == rustc_span::sym::clippy;\n     Symbol::intern(\"foo\") == rustc_span::symbol::kw::SelfLower;\n     Symbol::intern(\"foo\") != rustc_span::symbol::kw::SelfUpper;\n-    Ident::invalid().name == rustc_span::sym::clippy;\n-    rustc_span::sym::clippy == Ident::invalid().name;\n+    Ident::empty().name == rustc_span::sym::clippy;\n+    rustc_span::sym::clippy == Ident::empty().name;\n }"}, {"sha": "ad6937cf60a65c71035adde5ff4ea9a6681ce63b", "filename": "tests/ui-internal/unnecessary_symbol_str.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e84537bcdd84e43bd6a296ede94e227e35c1ab4b/tests%2Fui-internal%2Funnecessary_symbol_str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e84537bcdd84e43bd6a296ede94e227e35c1ab4b/tests%2Fui-internal%2Funnecessary_symbol_str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-internal%2Funnecessary_symbol_str.rs?ref=e84537bcdd84e43bd6a296ede94e227e35c1ab4b", "patch": "@@ -11,6 +11,6 @@ fn main() {\n     Symbol::intern(\"foo\").as_str() == \"clippy\";\n     Symbol::intern(\"foo\").to_string() == \"self\";\n     Symbol::intern(\"foo\").to_ident_string() != \"Self\";\n-    &*Ident::invalid().as_str() == \"clippy\";\n-    \"clippy\" == Ident::invalid().to_string();\n+    &*Ident::empty().as_str() == \"clippy\";\n+    \"clippy\" == Ident::empty().to_string();\n }"}, {"sha": "8e04d447fbcaaa3de92c81f26ff4cc450c5f39cd", "filename": "tests/ui-internal/unnecessary_symbol_str.stderr", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/e84537bcdd84e43bd6a296ede94e227e35c1ab4b/tests%2Fui-internal%2Funnecessary_symbol_str.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e84537bcdd84e43bd6a296ede94e227e35c1ab4b/tests%2Fui-internal%2Funnecessary_symbol_str.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-internal%2Funnecessary_symbol_str.stderr?ref=e84537bcdd84e43bd6a296ede94e227e35c1ab4b", "patch": "@@ -26,14 +26,13 @@ LL |     Symbol::intern(\"foo\").to_ident_string() != \"Self\";\n error: unnecessary `Symbol` to string conversion\n   --> $DIR/unnecessary_symbol_str.rs:14:5\n    |\n-LL |     &*Ident::invalid().as_str() == \"clippy\";\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `Ident::invalid().name == rustc_span::sym::clippy`\n+LL |     &*Ident::empty().as_str() == \"clippy\";\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `Ident::empty().name == rustc_span::sym::clippy`\n \n error: unnecessary `Symbol` to string conversion\n   --> $DIR/unnecessary_symbol_str.rs:15:5\n    |\n-LL |     \"clippy\" == Ident::invalid().to_string();\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `rustc_span::sym::clippy == Ident::invalid().name`\n+LL |     \"clippy\" == Ident::empty().to_string();\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `rustc_span::sym::clippy == Ident::empty().name`\n \n error: aborting due to 5 previous errors\n-"}]}