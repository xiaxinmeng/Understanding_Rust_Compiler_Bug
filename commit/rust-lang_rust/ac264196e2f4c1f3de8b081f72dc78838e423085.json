{"sha": "ac264196e2f4c1f3de8b081f72dc78838e423085", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjMjY0MTk2ZTJmNGMxZjNkZThiMDgxZjcyZGM3ODgzOGU0MjMwODU=", "commit": {"author": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-04-27T19:30:16Z"}, "committer": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-04-28T03:43:35Z"}, "message": "Address style nits", "tree": {"sha": "58494e80cceab11f1085c828b54827bd23888c67", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/58494e80cceab11f1085c828b54827bd23888c67"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ac264196e2f4c1f3de8b081f72dc78838e423085", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ac264196e2f4c1f3de8b081f72dc78838e423085", "html_url": "https://github.com/rust-lang/rust/commit/ac264196e2f4c1f3de8b081f72dc78838e423085", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ac264196e2f4c1f3de8b081f72dc78838e423085/comments", "author": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6aa91457535a1bc5433eec5f2bc5630e13b04895", "url": "https://api.github.com/repos/rust-lang/rust/commits/6aa91457535a1bc5433eec5f2bc5630e13b04895", "html_url": "https://github.com/rust-lang/rust/commit/6aa91457535a1bc5433eec5f2bc5630e13b04895"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "bc342b235dd42f80c77fc2d866517bbf984cadb2", "filename": "src/librustc/ty/mod.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ac264196e2f4c1f3de8b081f72dc78838e423085/src%2Flibrustc%2Fty%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ac264196e2f4c1f3de8b081f72dc78838e423085/src%2Flibrustc%2Fty%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Fmod.rs?ref=ac264196e2f4c1f3de8b081f72dc78838e423085", "patch": "@@ -290,12 +290,14 @@ pub trait NodeIdTree {\n impl<'a> NodeIdTree for ast_map::Map<'a> {\n     fn is_descendant_of(&self, node: NodeId, ancestor: NodeId) -> bool {\n         let mut node_ancestor = node;\n-        loop {\n-            if node_ancestor == ancestor { return true }\n+        while node_ancestor != ancestor {\n             let node_ancestor_parent = self.get_module_parent(node_ancestor);\n-            if node_ancestor_parent == node_ancestor { return false }\n+            if node_ancestor_parent == node_ancestor {\n+                return false;\n+            }\n             node_ancestor = node_ancestor_parent;\n         }\n+        true\n     }\n }\n "}, {"sha": "1674a96c8badc4daf702cccb7fcf2ed7df698172", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ac264196e2f4c1f3de8b081f72dc78838e423085/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ac264196e2f4c1f3de8b081f72dc78838e423085/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=ac264196e2f4c1f3de8b081f72dc78838e423085", "patch": "@@ -1125,14 +1125,14 @@ impl<'a, 'tcx> ty::NodeIdTree for Resolver<'a, 'tcx> {\n     fn is_descendant_of(&self, node: NodeId, ancestor: NodeId) -> bool {\n         let ancestor = self.ast_map.local_def_id(ancestor);\n         let mut module = *self.module_map.get(&node).unwrap();\n-        loop {\n-            if module.def_id() == Some(ancestor) { return true; }\n+        while module.def_id() != Some(ancestor) {\n             let module_parent = match self.get_nearest_normal_module_parent(module) {\n                 Some(parent) => parent,\n                 None => return false,\n             };\n             module = module_parent;\n         }\n+        true\n     }\n }\n "}]}