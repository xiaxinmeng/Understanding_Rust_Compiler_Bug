{"sha": "370df40dab8df9f3c0b10bb7396225b8d24869b3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM3MGRmNDBkYWI4ZGY5ZjNjMGIxMGJiNzM5NjIyNWI4ZDI0ODY5YjM=", "commit": {"author": {"name": "Jonathan Behrens", "email": "fintelia@gmail.com", "date": "2018-03-03T04:23:00Z"}, "committer": {"name": "Jonathan Behrens", "email": "fintelia@gmail.com", "date": "2018-03-03T04:25:52Z"}, "message": "Don't have Vec<T> delegate to [T]'s bounds for indexing", "tree": {"sha": "e124a618b0938099723894b23325eb1bbf1e8c87", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e124a618b0938099723894b23325eb1bbf1e8c87"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/370df40dab8df9f3c0b10bb7396225b8d24869b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/370df40dab8df9f3c0b10bb7396225b8d24869b3", "html_url": "https://github.com/rust-lang/rust/commit/370df40dab8df9f3c0b10bb7396225b8d24869b3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/370df40dab8df9f3c0b10bb7396225b8d24869b3/comments", "author": {"login": "fintelia", "id": 4943209, "node_id": "MDQ6VXNlcjQ5NDMyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4943209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fintelia", "html_url": "https://github.com/fintelia", "followers_url": "https://api.github.com/users/fintelia/followers", "following_url": "https://api.github.com/users/fintelia/following{/other_user}", "gists_url": "https://api.github.com/users/fintelia/gists{/gist_id}", "starred_url": "https://api.github.com/users/fintelia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fintelia/subscriptions", "organizations_url": "https://api.github.com/users/fintelia/orgs", "repos_url": "https://api.github.com/users/fintelia/repos", "events_url": "https://api.github.com/users/fintelia/events{/privacy}", "received_events_url": "https://api.github.com/users/fintelia/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fintelia", "id": 4943209, "node_id": "MDQ6VXNlcjQ5NDMyMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4943209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fintelia", "html_url": "https://github.com/fintelia", "followers_url": "https://api.github.com/users/fintelia/followers", "following_url": "https://api.github.com/users/fintelia/following{/other_user}", "gists_url": "https://api.github.com/users/fintelia/gists{/gist_id}", "starred_url": "https://api.github.com/users/fintelia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fintelia/subscriptions", "organizations_url": "https://api.github.com/users/fintelia/orgs", "repos_url": "https://api.github.com/users/fintelia/repos", "events_url": "https://api.github.com/users/fintelia/events{/privacy}", "received_events_url": "https://api.github.com/users/fintelia/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ae73a210814bdf50d72a95568eb8c9c96772c641", "url": "https://api.github.com/repos/rust-lang/rust/commits/ae73a210814bdf50d72a95568eb8c9c96772c641", "html_url": "https://github.com/rust-lang/rust/commit/ae73a210814bdf50d72a95568eb8c9c96772c641"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "feed7c8699a3ebf0cbb8a4822bf91fa2bb209697", "filename": "src/liballoc/vec.rs", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/370df40dab8df9f3c0b10bb7396225b8d24869b3/src%2Fliballoc%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/370df40dab8df9f3c0b10bb7396225b8d24869b3/src%2Fliballoc%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fvec.rs?ref=370df40dab8df9f3c0b10bb7396225b8d24869b3", "patch": "@@ -1527,23 +1527,27 @@ impl<T: Hash> Hash for Vec<T> {\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n #[rustc_on_unimplemented = \"vector indices are of type `usize` or ranges of `usize`\"]\n-impl<T, I> Index<I> for Vec<T> where [T]: Index<I> {\n-    type Output = <[T] as Index<I>>::Output;\n+impl<T, I> Index<I> for Vec<T>\n+where\n+    I: ::core::slice::SliceIndex<[T]>,\n+{\n+    type Output = I::Output;\n \n     #[inline]\n     fn index(&self, index: I) -> &Self::Output {\n-        // NB indexing via implementation on slice\n-        &(**self)[index]\n+        Index::index(&**self, index)\n     }\n }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n #[rustc_on_unimplemented = \"vector indices are of type `usize` or ranges of `usize`\"]\n-impl<T, I> IndexMut<I> for Vec<T> where [T]: IndexMut<I> {\n+impl<T, I> IndexMut<I> for Vec<T>\n+where\n+    I: ::core::slice::SliceIndex<[T]>,\n+{\n     #[inline]\n     fn index_mut(&mut self, index: I) -> &mut Self::Output {\n-        // NB indexing via implementation on slice\n-        &mut (**self)[index]\n+        IndexMut::index_mut(&mut **self, index)\n     }\n }\n "}, {"sha": "ae3cd529ac42e499454f1909ed0fb1c34f79838b", "filename": "src/test/ui/index-help.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/370df40dab8df9f3c0b10bb7396225b8d24869b3/src%2Ftest%2Fui%2Findex-help.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/370df40dab8df9f3c0b10bb7396225b8d24869b3/src%2Ftest%2Fui%2Findex-help.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Findex-help.stderr?ref=370df40dab8df9f3c0b10bb7396225b8d24869b3", "patch": "@@ -5,7 +5,7 @@ LL |     x[0i32]; //~ ERROR E0277\n    |     ^^^^^^^ slice indices are of type `usize` or ranges of `usize`\n    |\n    = help: the trait `std::slice::SliceIndex<[{integer}]>` is not implemented for `i32`\n-   = note: required because of the requirements on the impl of `std::ops::Index<i32>` for `[{integer}]`\n+   = note: required because of the requirements on the impl of `std::ops::Index<i32>` for `std::vec::Vec<{integer}>`\n \n error: aborting due to previous error\n "}]}