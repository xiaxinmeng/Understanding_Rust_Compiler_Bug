{"sha": "c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM1ODI5NzQ2ZjlhZjhmMWU4ZmRhYmZjYmRiYjhhNzZkYTJmY2JkOTg=", "commit": {"author": {"name": "Kevin Ballard", "email": "kevin@sb.org", "date": "2014-10-23T05:22:44Z"}, "committer": {"name": "Kevin Ballard", "email": "kevin@sb.org", "date": "2014-10-23T05:22:44Z"}, "message": "vim: Fix :RustRun when cwd has a space in it", "tree": {"sha": "db0e2c111b9d0cb1ebbe7a49f5f517514ac76d5e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/db0e2c111b9d0cb1ebbe7a49f5f517514ac76d5e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98", "html_url": "https://github.com/rust-lang/rust/commit/c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98/comments", "author": {"login": "lilyball", "id": 714, "node_id": "MDQ6VXNlcjcxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilyball", "html_url": "https://github.com/lilyball", "followers_url": "https://api.github.com/users/lilyball/followers", "following_url": "https://api.github.com/users/lilyball/following{/other_user}", "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions", "organizations_url": "https://api.github.com/users/lilyball/orgs", "repos_url": "https://api.github.com/users/lilyball/repos", "events_url": "https://api.github.com/users/lilyball/events{/privacy}", "received_events_url": "https://api.github.com/users/lilyball/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lilyball", "id": 714, "node_id": "MDQ6VXNlcjcxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilyball", "html_url": "https://github.com/lilyball", "followers_url": "https://api.github.com/users/lilyball/followers", "following_url": "https://api.github.com/users/lilyball/following{/other_user}", "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions", "organizations_url": "https://api.github.com/users/lilyball/orgs", "repos_url": "https://api.github.com/users/lilyball/repos", "events_url": "https://api.github.com/users/lilyball/events{/privacy}", "received_events_url": "https://api.github.com/users/lilyball/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "96991e9335e260d2684785ee97dc1af9cbed5aad", "url": "https://api.github.com/repos/rust-lang/rust/commits/96991e9335e260d2684785ee97dc1af9cbed5aad", "html_url": "https://github.com/rust-lang/rust/commit/96991e9335e260d2684785ee97dc1af9cbed5aad"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "fe8e743e7826dae0055ed476667fd304a9588b73", "filename": "src/etc/vim/autoload/rust.vim", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98/src%2Fetc%2Fvim%2Fautoload%2Frust.vim", "raw_url": "https://github.com/rust-lang/rust/raw/c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98/src%2Fetc%2Fvim%2Fautoload%2Frust.vim", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fautoload%2Frust.vim?ref=c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98", "patch": "@@ -178,14 +178,14 @@ function! s:WithPath(func, ...)\n \t\t\tcall mkdir(tmpdir)\n \n \t\t\tlet save_cwd = getcwd()\n-\t\t\tsilent exe 'lcd' tmpdir\n+\t\t\tsilent exe 'lcd' fnameescape(tmpdir)\n \n \t\t\tlet path = 'unnamed.rs'\n \n \t\t\tlet save_mod = &mod\n \t\t\tset nomod\n \n-\t\t\tsilent exe 'keepalt write! ' . path\n+\t\t\tsilent exe 'keepalt write! ' . fnameescape(path)\n \t\t\tif pathisempty\n \t\t\t\tsilent keepalt 0file\n \t\t\tendif\n@@ -195,10 +195,10 @@ function! s:WithPath(func, ...)\n \n \t\tcall call(a:func, [path] + a:000)\n \tfinally\n-\t\tif exists(\"save_mod\")   | let &mod = save_mod          | endif\n-\t\tif exists(\"save_write\") | let &write = save_write      | endif\n-\t\tif exists(\"save_cwd\")   | silent exe 'lcd' save_cwd    | endif\n-\t\tif exists(\"tmpdir\")     | silent call s:RmDir(tmpdir)  | endif\n+\t\tif exists(\"save_mod\")   | let &mod = save_mod                    | endif\n+\t\tif exists(\"save_write\") | let &write = save_write                | endif\n+\t\tif exists(\"save_cwd\")   | silent exe 'lcd' fnameescape(save_cwd) | endif\n+\t\tif exists(\"tmpdir\")     | silent call s:RmDir(tmpdir)            | endif\n \tendtry\n endfunction\n "}]}