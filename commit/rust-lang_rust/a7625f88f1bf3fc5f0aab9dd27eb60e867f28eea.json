{"sha": "a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE3NjI1Zjg4ZjFiZjNmYzVmMGFhYjlkZDI3ZWI2MGU4NjdmMjhlZWE=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2021-01-27T07:10:35Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2021-01-27T07:37:46Z"}, "message": "compiletest: Add two more unit tests", "tree": {"sha": "027e36589dd3fc46d698ee5307eaf0e97b5d5ed3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/027e36589dd3fc46d698ee5307eaf0e97b5d5ed3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE6VFioMHrom999LRAK0OZxL9Ny94FAmARGEwACgkQK0OZxL9N\ny95DdxAAidsqUaA07UEy02+KruCx+mPMMCw7YHbyUGebLV6STISiY6LkGEU9OArf\ngw0ke31cwyU2rfW8ZiYpYz63W1jC0hFFoyfvkhBGq9+l11m8Yb9VnbC5Vc4auPbA\nt1xKdmZIKMqsCy+6vZqEAzugM2xCcaG4YNxDDHIDPc+1DQCIuiJXxDstJYPO/NHZ\n95Nz1hJ+w67IljBVXyzP+Q+yFcvv4s/dJ3QDznjatddKp+Jtsu+0xhHXgTnzzY69\nhopdD+BpXBaHl5cdIFpWu+9PIC6TBODrBLOHAWN4KRwBvwlwH1n9oqpIJyod4uXL\nmE6bhE2bh4w7DJwzJMFPErc4HHtXideuBMpqe7xigGJspS4ESOspOya2wRWCRd0Z\nIH96W05dIPVtSO3AJExNSPTKb6d3hFd24eEBKVBFx3oWiw4zYzmDvh3Vgrqxg8iE\ncsqIsysG0KzH7IaOAaRjJ57hLiBcjvAuA3clEOcc43riGBK/wUG/Y1IkN1Hl5U2u\nFTNoDyfNOVner0+XIOFWjFPoVK69DMELW6eE5fMtNK4poo4TNjYVKfV+ittkWOv5\nGQbh45VtL81cd4ZQy32P3aAAGoWlyp1dRqNCqfBVrYz1b0Vdf8jfFtI/6iKlPlC6\nCauAm4yTnToxFhd5HAd2JgsQV5MSXGo+kxGAJ/EFSco3L/1xmXQ=\n=1qnR\n-----END PGP SIGNATURE-----", "payload": "tree 027e36589dd3fc46d698ee5307eaf0e97b5d5ed3\nparent 90ccf4f5adfb2562fc95c996b97faac7775a34bb\nauthor Philipp Hansch <dev@phansch.net> 1611731435 +0100\ncommitter Philipp Hansch <dev@phansch.net> 1611733066 +0100\n\ncompiletest: Add two more unit tests\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea", "html_url": "https://github.com/rust-lang/rust/commit/a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "90ccf4f5adfb2562fc95c996b97faac7775a34bb", "url": "https://api.github.com/repos/rust-lang/rust/commits/90ccf4f5adfb2562fc95c996b97faac7775a34bb", "html_url": "https://github.com/rust-lang/rust/commit/90ccf4f5adfb2562fc95c996b97faac7775a34bb"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "9f88ed6e4e4b48cf1d3bef927b2548cb567d5f5c", "filename": "src/tools/compiletest/src/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea/src%2Ftools%2Fcompiletest%2Fsrc%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea/src%2Ftools%2Fcompiletest%2Fsrc%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fcommon.rs?ref=a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea", "patch": "@@ -174,7 +174,7 @@ impl fmt::Display for Debugger {\n /// Configuration for compiletest\n #[derive(Debug, Clone)]\n pub struct Config {\n-    /// `true` to to overwrite stderr/stdout files instead of complaining about changes in output.\n+    /// `true` to overwrite stderr/stdout files instead of complaining about changes in output.\n     pub bless: bool,\n \n     /// The library paths required for running the compiler."}, {"sha": "663027173ff9d442857f96f92c5189ab03eb299c", "filename": "src/tools/compiletest/src/util/tests.rs", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea/src%2Ftools%2Fcompiletest%2Fsrc%2Futil%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea/src%2Ftools%2Fcompiletest%2Fsrc%2Futil%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Futil%2Ftests.rs?ref=a7625f88f1bf3fc5f0aab9dd27eb60e867f28eea", "patch": "@@ -30,3 +30,22 @@ fn test_matches_os() {\n     assert!(matches_os(\"nvptx64-nvidia-cuda\", \"cuda\"));\n     assert!(matches_os(\"x86_64-fortanix-unknown-sgx\", \"sgx\"));\n }\n+\n+#[test]\n+fn is_big_endian_test() {\n+    assert!(!is_big_endian(\"no\"));\n+    assert!(is_big_endian(\"sparc-unknown-unknown\"));\n+}\n+\n+#[test]\n+fn path_buf_with_extra_extension_test() {\n+    assert_eq!(\n+        PathBuf::from(\"foo.rs.stderr\"),\n+        PathBuf::from(\"foo.rs\").with_extra_extension(\"stderr\")\n+    );\n+    assert_eq!(\n+        PathBuf::from(\"foo.rs.stderr\"),\n+        PathBuf::from(\"foo.rs\").with_extra_extension(\".stderr\")\n+    );\n+    assert_eq!(PathBuf::from(\"foo.rs\"), PathBuf::from(\"foo.rs\").with_extra_extension(\"\"));\n+}"}]}