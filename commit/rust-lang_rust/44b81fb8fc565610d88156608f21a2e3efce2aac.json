{"sha": "44b81fb8fc565610d88156608f21a2e3efce2aac", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ0YjgxZmI4ZmM1NjU2MTBkODgxNTY2MDhmMjFhMmUzZWZjZTJhYWM=", "commit": {"author": {"name": "unknown", "email": "andypythonappdeveloper@gmail.com", "date": "2021-05-16T03:28:16Z"}, "committer": {"name": "Andy-Python-Programmer", "email": "andypythonappdeveloper@gmail.com", "date": "2021-08-09T06:49:04Z"}, "message": "Add the aarch64-unknown-uefi target\n\n* This commit adds the aarch64-unknown-uefi target and also adds it into\nthe supported targets list under the tier-3 target table.\n* Uses the small code model by default\n\nSigned-off-by: Andy-Python-Programmer <andypythonappdeveloper@gmail.com>", "tree": {"sha": "7704cc06549e7e05249fdc5c7fdcecb5558bd2d2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7704cc06549e7e05249fdc5c7fdcecb5558bd2d2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/44b81fb8fc565610d88156608f21a2e3efce2aac", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERh4YP5GYs6WFBkXNgOA1c0dVS4kFAmEQ0CQACgkQgOA1c0dV\nS4lHZw/7Bq7MiFbeZ9xzOK6odd6SLwJy+Mm3faEQmv+nD/2k2GSaNniMWJBmakcc\nUxEPnVifZuEzlNz0KgyUJ4aaP9dzv1eoGkRD2k1CC02w68tucacNt3mT52bcRLV/\nozp0xJeaIFSlGZuew2uQrPoLpDiIeu+ZMm+j3+Vtb66gFrcM29fJ94fPMd37kI99\nd6xfgP22vi5An9NEC4+HhnmH+Jw2ovW6QICXecmbLn35ZMtqbNGQSd3kBwToQFx6\n2h22hRiIy8pboybO/63X7n7hS+NlZrED1Ogs8Lv0Tco0ByBxAjsNYQiG2k6VgfZk\nLuB7EFnYJOpFUVQXcSu4Gx1JY+ej0vmbIVkBGp7kcfSn/pab7oN5pl9smRuVnvfk\n+0ecGzRE9Yy0aARb6kak3E8Zm1bYbNSJaB6nU+7Q1sE1YXwGna3RXz4XhdvDuu4G\nGHk3VcmMGN5OFvKWlPe0pRHfX2VVkOjWuOf5qcAntRLNuFtZ3LF0Zg/uOYgEXwIK\nWO3lQ1CrECvnxYy3706RGICF0NgYOzpfRSvxPZEdmGUZpdWtrU73vQAxGRpTY6IQ\n9HI2FFpiC5tpedBfgF3g7iPxP8l8gqEyNND35wS66FXDw4LytEUozBl7VlpKaMS7\nPeJcmn/6Men6zeATl4CJM4O7xVpSYCNBoslKdSu5TZlxt0hrr44=\n=qKCf\n-----END PGP SIGNATURE-----", "payload": "tree 7704cc06549e7e05249fdc5c7fdcecb5558bd2d2\nparent ac8c3bfffb2829d0af075a5d4020fb7e9e86c3a2\nauthor unknown <andypythonappdeveloper@gmail.com> 1621135696 +1000\ncommitter Andy-Python-Programmer <andypythonappdeveloper@gmail.com> 1628491744 +1000\n\nAdd the aarch64-unknown-uefi target\n\n* This commit adds the aarch64-unknown-uefi target and also adds it into\nthe supported targets list under the tier-3 target table.\n* Uses the small code model by default\n\nSigned-off-by: Andy-Python-Programmer <andypythonappdeveloper@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/44b81fb8fc565610d88156608f21a2e3efce2aac", "html_url": "https://github.com/rust-lang/rust/commit/44b81fb8fc565610d88156608f21a2e3efce2aac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/44b81fb8fc565610d88156608f21a2e3efce2aac/comments", "author": {"login": "Andy-Python-Programmer", "id": 62820092, "node_id": "MDQ6VXNlcjYyODIwMDky", "avatar_url": "https://avatars.githubusercontent.com/u/62820092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Andy-Python-Programmer", "html_url": "https://github.com/Andy-Python-Programmer", "followers_url": "https://api.github.com/users/Andy-Python-Programmer/followers", "following_url": "https://api.github.com/users/Andy-Python-Programmer/following{/other_user}", "gists_url": "https://api.github.com/users/Andy-Python-Programmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Andy-Python-Programmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Andy-Python-Programmer/subscriptions", "organizations_url": "https://api.github.com/users/Andy-Python-Programmer/orgs", "repos_url": "https://api.github.com/users/Andy-Python-Programmer/repos", "events_url": "https://api.github.com/users/Andy-Python-Programmer/events{/privacy}", "received_events_url": "https://api.github.com/users/Andy-Python-Programmer/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Andy-Python-Programmer", "id": 62820092, "node_id": "MDQ6VXNlcjYyODIwMDky", "avatar_url": "https://avatars.githubusercontent.com/u/62820092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Andy-Python-Programmer", "html_url": "https://github.com/Andy-Python-Programmer", "followers_url": "https://api.github.com/users/Andy-Python-Programmer/followers", "following_url": "https://api.github.com/users/Andy-Python-Programmer/following{/other_user}", "gists_url": "https://api.github.com/users/Andy-Python-Programmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Andy-Python-Programmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Andy-Python-Programmer/subscriptions", "organizations_url": "https://api.github.com/users/Andy-Python-Programmer/orgs", "repos_url": "https://api.github.com/users/Andy-Python-Programmer/repos", "events_url": "https://api.github.com/users/Andy-Python-Programmer/events{/privacy}", "received_events_url": "https://api.github.com/users/Andy-Python-Programmer/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ac8c3bfffb2829d0af075a5d4020fb7e9e86c3a2", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac8c3bfffb2829d0af075a5d4020fb7e9e86c3a2", "html_url": "https://github.com/rust-lang/rust/commit/ac8c3bfffb2829d0af075a5d4020fb7e9e86c3a2"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "20c528d25f3861efd8e1cad2e1ba86c819ab5fdd", "filename": "compiler/rustc_target/src/spec/aarch64_unknown_uefi.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/44b81fb8fc565610d88156608f21a2e3efce2aac/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_uefi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/44b81fb8fc565610d88156608f21a2e3efce2aac/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_uefi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_uefi.rs?ref=44b81fb8fc565610d88156608f21a2e3efce2aac", "patch": "@@ -0,0 +1,27 @@\n+// This defines the aarch64 target for UEFI systems as described in the UEFI specification. See the\n+// uefi-base module for generic UEFI options.\n+\n+use super::uefi_msvc_base;\n+use crate::spec::{LinkerFlavor, LldFlavor, Target};\n+\n+pub fn target() -> Target {\n+    let mut base = uefi_msvc_base::opts();\n+\n+    base.max_atomic_width = Some(64);\n+\n+    let pre_link_args_msvc = vec![\"/machine:arm64\".to_string()];\n+\n+    base.pre_link_args.get_mut(&LinkerFlavor::Msvc).unwrap().extend(pre_link_args_msvc.clone());\n+    base.pre_link_args\n+        .get_mut(&LinkerFlavor::Lld(LldFlavor::Link))\n+        .unwrap()\n+        .extend(pre_link_args_msvc);\n+\n+    Target {\n+        llvm_target: \"aarch64-unknown-windows\".to_string(),\n+        pointer_width: 64,\n+        data_layout: \"e-m:w-p:64:64-i32:32-i64:64-i128:128-n32:64-S128\".to_string(),\n+        arch: \"aarch64\".to_string(),\n+        options: base,\n+    }\n+}"}, {"sha": "d00534481ff44edc3aae6859fac0752a7eac500a", "filename": "compiler/rustc_target/src/spec/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/44b81fb8fc565610d88156608f21a2e3efce2aac/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/44b81fb8fc565610d88156608f21a2e3efce2aac/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs?ref=44b81fb8fc565610d88156608f21a2e3efce2aac", "patch": "@@ -917,6 +917,7 @@ supported_targets! {\n \n     (\"x86_64-unknown-uefi\", x86_64_unknown_uefi),\n     (\"i686-unknown-uefi\", i686_unknown_uefi),\n+    (\"aarch64-unknown-uefi\", aarch64_unknown_uefi),\n \n     (\"nvptx64-nvidia-cuda\", nvptx64_nvidia_cuda),\n "}, {"sha": "253e37043e3dedfa3756e0c33f5f4e77c345d10d", "filename": "src/doc/rustc/src/platform-support.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/44b81fb8fc565610d88156608f21a2e3efce2aac/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md", "raw_url": "https://github.com/rust-lang/rust/raw/44b81fb8fc565610d88156608f21a2e3efce2aac/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md?ref=44b81fb8fc565610d88156608f21a2e3efce2aac", "patch": "@@ -200,6 +200,7 @@ target | std | host | notes\n `aarch64-apple-tvos` | * |  | ARM64 tvOS\n `aarch64-unknown-freebsd` | \u2713 | \u2713 | ARM64 FreeBSD\n `aarch64-unknown-hermit` | ? |  |\n+`aarch64-unknown-uefi` | * |  | ARM64 UEFI\n `aarch64-unknown-linux-gnu_ilp32` | \u2713 | \u2713 | ARM64 Linux (ILP32 ABI)\n `aarch64-unknown-netbsd` | \u2713 | \u2713 |\n `aarch64-unknown-openbsd` | \u2713 | \u2713 | ARM64 OpenBSD"}]}