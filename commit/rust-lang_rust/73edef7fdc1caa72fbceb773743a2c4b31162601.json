{"sha": "73edef7fdc1caa72fbceb773743a2c4b31162601", "node_id": "MDY6Q29tbWl0NzI0NzEyOjczZWRlZjdmZGMxY2FhNzJmYmNlYjc3Mzc0M2EyYzRiMzExNjI2MDE=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-08-09T09:43:25Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-08-09T10:12:24Z"}, "message": "reduce some test sizes in Miri", "tree": {"sha": "28c19112903255b3ab0921527a0a02f37b02c4c2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/28c19112903255b3ab0921527a0a02f37b02c4c2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/73edef7fdc1caa72fbceb773743a2c4b31162601", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/73edef7fdc1caa72fbceb773743a2c4b31162601", "html_url": "https://github.com/rust-lang/rust/commit/73edef7fdc1caa72fbceb773743a2c4b31162601", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/73edef7fdc1caa72fbceb773743a2c4b31162601/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d8f8be4636f6f49d28f548e0b8730f8e916b070d", "url": "https://api.github.com/repos/rust-lang/rust/commits/d8f8be4636f6f49d28f548e0b8730f8e916b070d", "html_url": "https://github.com/rust-lang/rust/commit/d8f8be4636f6f49d28f548e0b8730f8e916b070d"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "266a0d055d5bc1a2a217fa8ccd40a86fcb181875", "filename": "src/liballoc/tests/btree/map.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/73edef7fdc1caa72fbceb773743a2c4b31162601/src%2Fliballoc%2Ftests%2Fbtree%2Fmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73edef7fdc1caa72fbceb773743a2c4b31162601/src%2Fliballoc%2Ftests%2Fbtree%2Fmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Ftests%2Fbtree%2Fmap.rs?ref=73edef7fdc1caa72fbceb773743a2c4b31162601", "patch": "@@ -689,7 +689,10 @@ fn test_split_off_empty_left() {\n \n #[test]\n fn test_split_off_large_random_sorted() {\n+    #[cfg(not(miri))] // Miri is too slow\n     let mut data = rand_data(1529);\n+    #[cfg(miri)]\n+    let mut data = rand_data(529);\n     // special case with maximum height.\n     data.sort();\n "}, {"sha": "b3e85ce18608243bc704cd5a4cd697b93504271d", "filename": "src/liballoc/tests/btree/set.rs", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/73edef7fdc1caa72fbceb773743a2c4b31162601/src%2Fliballoc%2Ftests%2Fbtree%2Fset.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73edef7fdc1caa72fbceb773743a2c4b31162601/src%2Fliballoc%2Ftests%2Fbtree%2Fset.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Ftests%2Fbtree%2Fset.rs?ref=73edef7fdc1caa72fbceb773743a2c4b31162601", "patch": "@@ -69,6 +69,11 @@ fn test_intersection() {\n     check_intersection(&[11, 1, 3, 77, 103, 5, -5],\n                        &[2, 11, 77, -9, -42, 5, 3],\n                        &[3, 5, 11, 77]);\n+\n+    if cfg!(miri) { // Miri is too slow\n+        return;\n+    }\n+\n     let large = (0..1000).collect::<Vec<_>>();\n     check_intersection(&[], &large, &[]);\n     check_intersection(&large, &[], &[]);\n@@ -98,6 +103,11 @@ fn test_difference() {\n     check_difference(&[-5, 11, 22, 33, 40, 42],\n                      &[-12, -5, 14, 23, 34, 38, 39, 50],\n                      &[11, 22, 33, 40, 42]);\n+\n+    if cfg!(miri) { // Miri is too slow\n+        return;\n+    }\n+\n     let large = (0..1000).collect::<Vec<_>>();\n     check_difference(&[], &large, &[]);\n     check_difference(&[-1], &large, &[-1]);\n@@ -166,6 +176,17 @@ fn test_is_subset() {\n     assert_eq!(is_subset(&[1, 2], &[1]), false);\n     assert_eq!(is_subset(&[1, 2], &[1, 2]), true);\n     assert_eq!(is_subset(&[1, 2], &[2, 3]), false);\n+    assert_eq!(is_subset(&[-5, 11, 22, 33, 40, 42],\n+                         &[-12, -5, 14, 23, 11, 34, 22, 38, 33, 42, 39, 40]),\n+               true);\n+    assert_eq!(is_subset(&[-5, 11, 22, 33, 40, 42],\n+                         &[-12, -5, 14, 23, 34, 38, 22, 11]),\n+               false);\n+\n+    if cfg!(miri) { // Miri is too slow\n+        return;\n+    }\n+\n     let large = (0..1000).collect::<Vec<_>>();\n     assert_eq!(is_subset(&[], &large), true);\n     assert_eq!(is_subset(&large, &[]), false);\n@@ -371,7 +392,10 @@ fn test_split_off_empty_left() {\n \n #[test]\n fn test_split_off_large_random_sorted() {\n+    #[cfg(not(miri))] // Miri is too slow\n     let mut data = rand_data(1529);\n+    #[cfg(miri)]\n+    let mut data = rand_data(529);\n     // special case with maximum height.\n     data.sort();\n "}]}