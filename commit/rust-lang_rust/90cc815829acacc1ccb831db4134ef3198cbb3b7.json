{"sha": "90cc815829acacc1ccb831db4134ef3198cbb3b7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkwY2M4MTU4MjlhY2FjYzFjY2I4MzFkYjQxMzRlZjMxOThjYmIzYjc=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2021-01-14T18:00:16Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-01-14T18:00:16Z"}, "message": "Rollup merge of #80969 - camelid:monomorph-ice-msg, r=nagisa\n\nUse better ICE message when no MIR is available\n\nThe ICE message is somewhat confusing and overly specific - the issue is\nthat there's no MIR available.\n\nThis should make debugging these ICEs easier since the error tells you\nwhat's actually wrong, not what it was trying to do when it failed.\n\ncc https://github.com/rust-lang/rust/pull/80952#issuecomment-759198841\ncc `````@jyn514`````", "tree": {"sha": "00dadeccadfbba969fa197ddbb260bcfdd3f7ee8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/00dadeccadfbba969fa197ddbb260bcfdd3f7ee8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/90cc815829acacc1ccb831db4134ef3198cbb3b7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgAIaxCRBK7hj4Ov3rIwAAdHIIADfBEvHPEMZSfhKunaAS35/j\nltG+R2AIJaZaeQ9Ad1WrwzrIiYc3V4bb04ZOioWD1OKqg1TiMwfBGUJdqrawkAMN\n4+5v72Au5uhSgInpmXG1HGOWxksQ3kl7JSj7nVJr/W/ZeZJtzPHJtQZIEAtWl0Vt\n+p8NYkkHr0wRCwAdDA3kH1Z7+TJmIfjoxr21ZObAI05n7GxRzTOKHuoRXcj6b1iC\nsNbGD8N2N6onKi7RYIIMq/7xd8lIK6iGT8ZBtO79J/SvZpGvQb6YbL+dgQUnKJv1\nzJ/2QBGNXOnM6zwA+f3uFpdflckRIFJBV1NHgPwdnI0DDfkcFDPFqmEUG7PWauE=\n=2FTk\n-----END PGP SIGNATURE-----\n", "payload": "tree 00dadeccadfbba969fa197ddbb260bcfdd3f7ee8\nparent 7855a730b971d39a4743cf6183e9591fae6f17a6\nparent c3f7429fb4edae31b5e4838404aa2a11117dabcc\nauthor Mara Bos <m-ou.se@m-ou.se> 1610647216 +0000\ncommitter GitHub <noreply@github.com> 1610647216 +0000\n\nRollup merge of #80969 - camelid:monomorph-ice-msg, r=nagisa\n\nUse better ICE message when no MIR is available\n\nThe ICE message is somewhat confusing and overly specific - the issue is\nthat there's no MIR available.\n\nThis should make debugging these ICEs easier since the error tells you\nwhat's actually wrong, not what it was trying to do when it failed.\n\ncc https://github.com/rust-lang/rust/pull/80952#issuecomment-759198841\ncc `````@jyn514`````\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/90cc815829acacc1ccb831db4134ef3198cbb3b7", "html_url": "https://github.com/rust-lang/rust/commit/90cc815829acacc1ccb831db4134ef3198cbb3b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/90cc815829acacc1ccb831db4134ef3198cbb3b7/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7855a730b971d39a4743cf6183e9591fae6f17a6", "url": "https://api.github.com/repos/rust-lang/rust/commits/7855a730b971d39a4743cf6183e9591fae6f17a6", "html_url": "https://github.com/rust-lang/rust/commit/7855a730b971d39a4743cf6183e9591fae6f17a6"}, {"sha": "c3f7429fb4edae31b5e4838404aa2a11117dabcc", "url": "https://api.github.com/repos/rust-lang/rust/commits/c3f7429fb4edae31b5e4838404aa2a11117dabcc", "html_url": "https://github.com/rust-lang/rust/commit/c3f7429fb4edae31b5e4838404aa2a11117dabcc"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "75f80f69beafc54741c1f534537d1e3fd806792f", "filename": "compiler/rustc_mir/src/monomorphize/collector.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90cc815829acacc1ccb831db4134ef3198cbb3b7/compiler%2Frustc_mir%2Fsrc%2Fmonomorphize%2Fcollector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/90cc815829acacc1ccb831db4134ef3198cbb3b7/compiler%2Frustc_mir%2Fsrc%2Fmonomorphize%2Fcollector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Fmonomorphize%2Fcollector.rs?ref=90cc815829acacc1ccb831db4134ef3198cbb3b7", "patch": "@@ -823,7 +823,7 @@ fn should_codegen_locally<'tcx>(tcx: TyCtxt<'tcx>, instance: &Instance<'tcx>) ->\n     }\n \n     if !tcx.is_mir_available(def_id) {\n-        bug!(\"cannot create local mono-item for {:?}\", def_id)\n+        bug!(\"no MIR available for {:?}\", def_id);\n     }\n \n     true"}]}