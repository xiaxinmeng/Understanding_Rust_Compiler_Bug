{"sha": "644ee8d2507f80dab7408c90102517e8c9321b5e", "node_id": "C_kwDOAAsO6NoAKDY0NGVlOGQyNTA3ZjgwZGFiNzQwOGM5MDEwMjUxN2U4YzkzMjFiNWU", "commit": {"author": {"name": "yukang", "email": "moorekang@gmail.com", "date": "2023-01-14T09:03:25Z"}, "committer": {"name": "yukang", "email": "moorekang@gmail.com", "date": "2023-01-14T09:11:05Z"}, "message": "add test case for issue 105601", "tree": {"sha": "4c2beff0d91778af7d92cb7556a3a0c127969899", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4c2beff0d91778af7d92cb7556a3a0c127969899"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/644ee8d2507f80dab7408c90102517e8c9321b5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/644ee8d2507f80dab7408c90102517e8c9321b5e", "html_url": "https://github.com/rust-lang/rust/commit/644ee8d2507f80dab7408c90102517e8c9321b5e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/644ee8d2507f80dab7408c90102517e8c9321b5e/comments", "author": {"login": "chenyukang", "id": 230646, "node_id": "MDQ6VXNlcjIzMDY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/230646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenyukang", "html_url": "https://github.com/chenyukang", "followers_url": "https://api.github.com/users/chenyukang/followers", "following_url": "https://api.github.com/users/chenyukang/following{/other_user}", "gists_url": "https://api.github.com/users/chenyukang/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenyukang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenyukang/subscriptions", "organizations_url": "https://api.github.com/users/chenyukang/orgs", "repos_url": "https://api.github.com/users/chenyukang/repos", "events_url": "https://api.github.com/users/chenyukang/events{/privacy}", "received_events_url": "https://api.github.com/users/chenyukang/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chenyukang", "id": 230646, "node_id": "MDQ6VXNlcjIzMDY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/230646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenyukang", "html_url": "https://github.com/chenyukang", "followers_url": "https://api.github.com/users/chenyukang/followers", "following_url": "https://api.github.com/users/chenyukang/following{/other_user}", "gists_url": "https://api.github.com/users/chenyukang/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenyukang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenyukang/subscriptions", "organizations_url": "https://api.github.com/users/chenyukang/orgs", "repos_url": "https://api.github.com/users/chenyukang/repos", "events_url": "https://api.github.com/users/chenyukang/events{/privacy}", "received_events_url": "https://api.github.com/users/chenyukang/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c67903ef21d18024f14609a7996fcf14b6b8d5b6", "url": "https://api.github.com/repos/rust-lang/rust/commits/c67903ef21d18024f14609a7996fcf14b6b8d5b6", "html_url": "https://github.com/rust-lang/rust/commit/c67903ef21d18024f14609a7996fcf14b6b8d5b6"}], "stats": {"total": 104, "additions": 104, "deletions": 0}, "files": [{"sha": "9b06a4fde04d76cdd2890a2a7f6c1e48cc2be621", "filename": "tests/ui/lint/unused/issue-105061-array-lint.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/644ee8d2507f80dab7408c90102517e8c9321b5e/tests%2Fui%2Flint%2Funused%2Fissue-105061-array-lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/644ee8d2507f80dab7408c90102517e8c9321b5e/tests%2Fui%2Flint%2Funused%2Fissue-105061-array-lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint%2Funused%2Fissue-105061-array-lint.rs?ref=644ee8d2507f80dab7408c90102517e8c9321b5e", "patch": "@@ -0,0 +1,11 @@\n+#![warn(unused)]\n+#![deny(warnings)]\n+\n+fn main() {\n+    let _x: ([u32; 3]); //~ ERROR unnecessary parentheses around type\n+    let _y: [u8; (3)]; //~ ERROR unnecessary parentheses around const expression\n+    let _z: ([u8; (3)]);\n+    //~^ ERROR unnecessary parentheses around const expression\n+    //~| ERROR unnecessary parentheses around type\n+\n+}"}, {"sha": "7eb761aee431f29919371feeb0ec7904b5d28b24", "filename": "tests/ui/lint/unused/issue-105061-array-lint.stderr", "status": "added", "additions": 56, "deletions": 0, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/644ee8d2507f80dab7408c90102517e8c9321b5e/tests%2Fui%2Flint%2Funused%2Fissue-105061-array-lint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/644ee8d2507f80dab7408c90102517e8c9321b5e/tests%2Fui%2Flint%2Funused%2Fissue-105061-array-lint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint%2Funused%2Fissue-105061-array-lint.stderr?ref=644ee8d2507f80dab7408c90102517e8c9321b5e", "patch": "@@ -0,0 +1,56 @@\n+error: unnecessary parentheses around type\n+  --> $DIR/issue-105061-array-lint.rs:5:13\n+   |\n+LL |     let _x: ([u32; 3]);\n+   |             ^        ^\n+   |\n+note: the lint level is defined here\n+  --> $DIR/issue-105061-array-lint.rs:2:9\n+   |\n+LL | #![deny(warnings)]\n+   |         ^^^^^^^^\n+   = note: `#[deny(unused_parens)]` implied by `#[deny(warnings)]`\n+help: remove these parentheses\n+   |\n+LL -     let _x: ([u32; 3]);\n+LL +     let _x: [u32; 3];\n+   |\n+\n+error: unnecessary parentheses around const expression\n+  --> $DIR/issue-105061-array-lint.rs:6:18\n+   |\n+LL |     let _y: [u8; (3)];\n+   |                  ^ ^\n+   |\n+help: remove these parentheses\n+   |\n+LL -     let _y: [u8; (3)];\n+LL +     let _y: [u8; 3];\n+   |\n+\n+error: unnecessary parentheses around type\n+  --> $DIR/issue-105061-array-lint.rs:7:13\n+   |\n+LL |     let _z: ([u8; (3)]);\n+   |             ^         ^\n+   |\n+help: remove these parentheses\n+   |\n+LL -     let _z: ([u8; (3)]);\n+LL +     let _z: [u8; (3)];\n+   |\n+\n+error: unnecessary parentheses around const expression\n+  --> $DIR/issue-105061-array-lint.rs:7:19\n+   |\n+LL |     let _z: ([u8; (3)]);\n+   |                   ^ ^\n+   |\n+help: remove these parentheses\n+   |\n+LL -     let _z: ([u8; (3)]);\n+LL +     let _z: ([u8; 3]);\n+   |\n+\n+error: aborting due to 4 previous errors\n+"}, {"sha": "ff47e1734f7b0b343e933a236dceef8f61e1f81c", "filename": "tests/ui/lint/unused/issue-105061-should-lint.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/644ee8d2507f80dab7408c90102517e8c9321b5e/tests%2Fui%2Flint%2Funused%2Fissue-105061-should-lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/644ee8d2507f80dab7408c90102517e8c9321b5e/tests%2Fui%2Flint%2Funused%2Fissue-105061-should-lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint%2Funused%2Fissue-105061-should-lint.rs?ref=644ee8d2507f80dab7408c90102517e8c9321b5e", "patch": "@@ -0,0 +1,17 @@\n+#![warn(unused)]\n+#![deny(warnings)]\n+\n+struct Inv<'a>(&'a mut &'a ());\n+\n+trait Trait<'a> {}\n+impl<'b> Trait<'b> for for<'a> fn(Inv<'a>) {}\n+\n+\n+fn with_bound()\n+where\n+    for<'b> (for<'a> fn(Inv<'a>)): Trait<'b>, //~ ERROR unnecessary parentheses around type\n+{}\n+\n+fn main() {\n+    with_bound();\n+}"}, {"sha": "60b1af71e0e56b7a2a8eaa06f9d005ecfaa5d582", "filename": "tests/ui/lint/unused/issue-105061-should-lint.stderr", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/644ee8d2507f80dab7408c90102517e8c9321b5e/tests%2Fui%2Flint%2Funused%2Fissue-105061-should-lint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/644ee8d2507f80dab7408c90102517e8c9321b5e/tests%2Fui%2Flint%2Funused%2Fissue-105061-should-lint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint%2Funused%2Fissue-105061-should-lint.stderr?ref=644ee8d2507f80dab7408c90102517e8c9321b5e", "patch": "@@ -0,0 +1,20 @@\n+error: unnecessary parentheses around type\n+  --> $DIR/issue-105061-should-lint.rs:12:13\n+   |\n+LL |     for<'b> (for<'a> fn(Inv<'a>)): Trait<'b>,\n+   |             ^                   ^\n+   |\n+note: the lint level is defined here\n+  --> $DIR/issue-105061-should-lint.rs:2:9\n+   |\n+LL | #![deny(warnings)]\n+   |         ^^^^^^^^\n+   = note: `#[deny(unused_parens)]` implied by `#[deny(warnings)]`\n+help: remove these parentheses\n+   |\n+LL -     for<'b> (for<'a> fn(Inv<'a>)): Trait<'b>,\n+LL +     for<'b> for<'a> fn(Inv<'a>): Trait<'b>,\n+   |\n+\n+error: aborting due to previous error\n+"}]}