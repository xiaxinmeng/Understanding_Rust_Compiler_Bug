{"sha": "f22bc7b1cf485666404938bc87a6267258a6d42f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYyMmJjN2IxY2Y0ODU2NjY0MDQ5MzhiYzg3YTYyNjcyNThhNmQ0MmY=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-05-06T17:14:05Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-05-06T17:22:08Z"}, "message": "Add some tests for #67945", "tree": {"sha": "4d42f86eae39d767d8bb2042efd10249e5a2a429", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4d42f86eae39d767d8bb2042efd10249e5a2a429"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f22bc7b1cf485666404938bc87a6267258a6d42f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEXmatGLoofN5+9u4rsJhshcDi2qEFAl6y8kAACgkQsJhshcDi\n2qFEWA/+LxHXd0IXLvABr4Cr4J7NZLf6283rzxCwVWAjIDG0LqNuVY4a+Ftg9Zwd\nL5ryggYYuBoWUvjl5ogC9IfQqrmBdJR5UJTvuBXz4iNwektymWMcrIUrBurkZ6ST\nlIA8ImnRIIUrWcacJ3tcKMysJ5YF7mZ6OF1jEG9INbvHVIlpBsp7p13euhK2MTBw\nBFpU1CFetwjgOwQxiHF2lSBUD2e6wth/PLdt+7QorqssADORn6RGx0Vavtb1CzlT\nD3FubkdZhSTR4A4vYOpAHMzTLVE5F0maqLrcudqMnRdWDjRZk8cRzKx8saX89ClN\ntdTkHJjja/rNnNtmNCIz2QdDKAsgMT89M8ZSH60SnY2LC5FTmqjaSVxVc+8afsjT\neAg0g3qjGK/doAT2MXgzv2PzSsDR9SGlw2m0QxHEf563JfYvMG2O/o5758QFW3Qk\nbH/bOnRoXnopnzuCe3X9pXG8SR++WV04PXhl8PxfUmfJdlDmM+QIowhq0IOPRx66\nmz5gL3H6vuiJiNp1T97Ps+C3tUMLYU3peAprRVaf7VwTyuZvbrtFnApBY3aGXX/O\nA+LK7Zqmq3qSvnVbPoV9FvS7rJD3H934x3YLj+97aOZtzHnNawPq8zNflnklGl6S\nQLJ8aplFvd+E24KfOAH+nJRPOgLullDAd3h6OWWkC93N3QlvipE=\n=v8Pv\n-----END PGP SIGNATURE-----", "payload": "tree 4d42f86eae39d767d8bb2042efd10249e5a2a429\nparent be2d5535ead0dbd9d188f8f3e5d9bd4918b6153a\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1588785245 +0900\ncommitter Yuki Okushi <huyuumi.dev@gmail.com> 1588785728 +0900\n\nAdd some tests for #67945\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f22bc7b1cf485666404938bc87a6267258a6d42f", "html_url": "https://github.com/rust-lang/rust/commit/f22bc7b1cf485666404938bc87a6267258a6d42f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f22bc7b1cf485666404938bc87a6267258a6d42f/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "be2d5535ead0dbd9d188f8f3e5d9bd4918b6153a", "url": "https://api.github.com/repos/rust-lang/rust/commits/be2d5535ead0dbd9d188f8f3e5d9bd4918b6153a", "html_url": "https://github.com/rust-lang/rust/commit/be2d5535ead0dbd9d188f8f3e5d9bd4918b6153a"}], "stats": {"total": 59, "additions": 59, "deletions": 0}, "files": [{"sha": "7977bddae7bcb39dc5efd61290baddfc4189142d", "filename": "src/test/ui/enum/issue-67945-1.rs", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f22bc7b1cf485666404938bc87a6267258a6d42f/src%2Ftest%2Fui%2Fenum%2Fissue-67945-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f22bc7b1cf485666404938bc87a6267258a6d42f/src%2Ftest%2Fui%2Fenum%2Fissue-67945-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fenum%2Fissue-67945-1.rs?ref=f22bc7b1cf485666404938bc87a6267258a6d42f", "patch": "@@ -0,0 +1,8 @@\n+enum Bug<S> {\n+    Var = {\n+        let x: S = 0; //~ ERROR: mismatched types\n+        0\n+    },\n+}\n+\n+fn main() {}"}, {"sha": "6583fe13d0c6345524cc3a3e805b46c2eea72cc7", "filename": "src/test/ui/enum/issue-67945-1.stderr", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/f22bc7b1cf485666404938bc87a6267258a6d42f/src%2Ftest%2Fui%2Fenum%2Fissue-67945-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f22bc7b1cf485666404938bc87a6267258a6d42f/src%2Ftest%2Fui%2Fenum%2Fissue-67945-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fenum%2Fissue-67945-1.stderr?ref=f22bc7b1cf485666404938bc87a6267258a6d42f", "patch": "@@ -0,0 +1,17 @@\n+error[E0308]: mismatched types\n+  --> $DIR/issue-67945-1.rs:3:20\n+   |\n+LL | enum Bug<S> {\n+   |          - this type parameter\n+LL |     Var = {\n+LL |         let x: S = 0;\n+   |                -   ^ expected type parameter `S`, found integer\n+   |                |\n+   |                expected due to this\n+   |\n+   = note: expected type parameter `S`\n+                        found type `{integer}`\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0308`."}, {"sha": "16bd8530ab38c47a32220219c01cffd0d8f48f75", "filename": "src/test/ui/enum/issue-67945-2.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f22bc7b1cf485666404938bc87a6267258a6d42f/src%2Ftest%2Fui%2Fenum%2Fissue-67945-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f22bc7b1cf485666404938bc87a6267258a6d42f/src%2Ftest%2Fui%2Fenum%2Fissue-67945-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fenum%2Fissue-67945-2.rs?ref=f22bc7b1cf485666404938bc87a6267258a6d42f", "patch": "@@ -0,0 +1,9 @@\n+#![feature(type_ascription)]\n+\n+enum Bug<S> {\n+    Var = 0: S,\n+    //~^ ERROR: mismatched types\n+    //~| ERROR: mismatched types\n+}\n+\n+fn main() {}"}, {"sha": "c40506d59edd9ec8d76bb29ca7843b92b078d8bc", "filename": "src/test/ui/enum/issue-67945-2.stderr", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/f22bc7b1cf485666404938bc87a6267258a6d42f/src%2Ftest%2Fui%2Fenum%2Fissue-67945-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f22bc7b1cf485666404938bc87a6267258a6d42f/src%2Ftest%2Fui%2Fenum%2Fissue-67945-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fenum%2Fissue-67945-2.stderr?ref=f22bc7b1cf485666404938bc87a6267258a6d42f", "patch": "@@ -0,0 +1,25 @@\n+error[E0308]: mismatched types\n+  --> $DIR/issue-67945-2.rs:4:11\n+   |\n+LL | enum Bug<S> {\n+   |          - this type parameter\n+LL |     Var = 0: S,\n+   |           ^ expected type parameter `S`, found integer\n+   |\n+   = note: expected type parameter `S`\n+                        found type `{integer}`\n+\n+error[E0308]: mismatched types\n+  --> $DIR/issue-67945-2.rs:4:11\n+   |\n+LL | enum Bug<S> {\n+   |          - this type parameter\n+LL |     Var = 0: S,\n+   |           ^^^^ expected `isize`, found type parameter `S`\n+   |\n+   = note:        expected type `isize`\n+           found type parameter `S`\n+\n+error: aborting due to 2 previous errors\n+\n+For more information about this error, try `rustc --explain E0308`."}]}