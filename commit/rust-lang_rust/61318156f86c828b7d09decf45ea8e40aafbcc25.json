{"sha": "61318156f86c828b7d09decf45ea8e40aafbcc25", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYxMzE4MTU2Zjg2YzgyOGI3ZDA5ZGVjZjQ1ZWE4ZTQwYWFmYmNjMjU=", "commit": {"author": {"name": "William Lee", "email": "wlee@mochify.com", "date": "2016-08-04T04:32:49Z"}, "committer": {"name": "William Lee", "email": "wlee@mochify.com", "date": "2016-08-04T04:32:49Z"}, "message": "Fixes for issues #35215 and #35216", "tree": {"sha": "95c4ca591b679c36ee853c8f10e7116344e1db5c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/95c4ca591b679c36ee853c8f10e7116344e1db5c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/61318156f86c828b7d09decf45ea8e40aafbcc25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/61318156f86c828b7d09decf45ea8e40aafbcc25", "html_url": "https://github.com/rust-lang/rust/commit/61318156f86c828b7d09decf45ea8e40aafbcc25", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/61318156f86c828b7d09decf45ea8e40aafbcc25/comments", "author": {"login": "leikahing", "id": 809026, "node_id": "MDQ6VXNlcjgwOTAyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/809026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leikahing", "html_url": "https://github.com/leikahing", "followers_url": "https://api.github.com/users/leikahing/followers", "following_url": "https://api.github.com/users/leikahing/following{/other_user}", "gists_url": "https://api.github.com/users/leikahing/gists{/gist_id}", "starred_url": "https://api.github.com/users/leikahing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leikahing/subscriptions", "organizations_url": "https://api.github.com/users/leikahing/orgs", "repos_url": "https://api.github.com/users/leikahing/repos", "events_url": "https://api.github.com/users/leikahing/events{/privacy}", "received_events_url": "https://api.github.com/users/leikahing/received_events", "type": "User", "site_admin": false}, "committer": {"login": "leikahing", "id": 809026, "node_id": "MDQ6VXNlcjgwOTAyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/809026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leikahing", "html_url": "https://github.com/leikahing", "followers_url": "https://api.github.com/users/leikahing/followers", "following_url": "https://api.github.com/users/leikahing/following{/other_user}", "gists_url": "https://api.github.com/users/leikahing/gists{/gist_id}", "starred_url": "https://api.github.com/users/leikahing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leikahing/subscriptions", "organizations_url": "https://api.github.com/users/leikahing/orgs", "repos_url": "https://api.github.com/users/leikahing/repos", "events_url": "https://api.github.com/users/leikahing/events{/privacy}", "received_events_url": "https://api.github.com/users/leikahing/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a0b4e6764809022433edbff275528ec2540bda73", "url": "https://api.github.com/repos/rust-lang/rust/commits/a0b4e6764809022433edbff275528ec2540bda73", "html_url": "https://github.com/rust-lang/rust/commit/a0b4e6764809022433edbff275528ec2540bda73"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "de81ae26f5dd54bf84de0a4bbc4ae2303cc607ea", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=61318156f86c828b7d09decf45ea8e40aafbcc25", "patch": "@@ -2384,6 +2384,12 @@ impl<'a, 'gcx, 'tcx> FnCtxt<'a, 'gcx, 'tcx> {\n                     arg_count,\n                     if arg_count == 1 {\" was\"} else {\"s were\"}),\n                 error_code);\n+\n+            err.span_label(sp, &format!(\"expected {}{} parameter{}\",\n+                                        if variadic {\"at least \"} else {\"\"},\n+                                        expected_count,\n+                                        if expected_count == 1 {\"\"} else {\"s\"}));\n+\n             let input_types = fn_inputs.iter().map(|i| format!(\"{:?}\", i)).collect::<Vec<String>>();\n             if input_types.len() > 0 {\n                 err.note(&format!(\"the following parameter type{} expected: {}\","}, {"sha": "f0aecba8afe5e4f1d20a578ae9db0a95f1de5ad3", "filename": "src/test/compile-fail/E0060.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2FE0060.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2FE0060.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0060.rs?ref=61318156f86c828b7d09decf45ea8e40aafbcc25", "patch": "@@ -14,4 +14,6 @@ extern \"C\" {\n \n fn main() {\n     unsafe { printf(); } //~ ERROR E0060\n+                         //~| NOTE expected at least 1 parameter\n+                         //~| NOTE the following parameter type was expected\n }"}, {"sha": "3d8622647ef2fdfb3f1eee39640f12d5d2d85284", "filename": "src/test/compile-fail/E0061.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2FE0061.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2FE0061.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0061.rs?ref=61318156f86c828b7d09decf45ea8e40aafbcc25", "patch": "@@ -11,5 +11,7 @@\n fn f(a: u16, b: &str) {}\n \n fn main() {\n-    f(0); //~ ERROR E0061\n+    f(0); //~ ERROR E0061 \n+          //~| NOTE expected 2 parameters\n+          //~| NOTE the following parameter types were expected\n }"}, {"sha": "b6bdd4c2e65dd60e1b08b168ecfae18c0558661f", "filename": "src/test/compile-fail/issue-18819.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fissue-18819.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fissue-18819.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-18819.rs?ref=61318156f86c828b7d09decf45ea8e40aafbcc25", "patch": "@@ -25,4 +25,5 @@ fn print_x(_: &Foo<Item=bool>, extra: &str) {\n fn main() {\n     print_x(X);  //~error this function takes 2 parameters but 1 parameter was supplied\n     //~^ NOTE the following parameter types were expected: &Foo<Item=bool>, &str\n+    //~| NOTE expected 2 parameters\n }"}, {"sha": "144ceafdbfcd76ac98ed906f2acc12349a369a4b", "filename": "src/test/compile-fail/issue-3044.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fissue-3044.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fissue-3044.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-3044.rs?ref=61318156f86c828b7d09decf45ea8e40aafbcc25", "patch": "@@ -15,6 +15,6 @@ fn main() {\n     });\n     //~^^ ERROR this function takes 2 parameters but 1 parameter was supplied\n     //~^^^ NOTE the following parameter types were expected\n-    //\n+    //~| NOTE expected 2 parameters\n     // the first error is, um, non-ideal.\n }"}, {"sha": "9ca4de7878ce5997e0f6255c63a2184aecdf4101", "filename": "src/test/compile-fail/issue-4935.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fissue-4935.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fissue-4935.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-4935.rs?ref=61318156f86c828b7d09decf45ea8e40aafbcc25", "patch": "@@ -13,3 +13,4 @@\n fn foo(a: usize) {}\n fn main() { foo(5, 6) } //~ ERROR this function takes 1 parameter but 2 parameters were supplied\n //~^ NOTE the following parameter type was expected\n+//~| NOTE expected 1 parameter"}, {"sha": "bcf676dbede6ff5bbd60c1cd209bc941de948936", "filename": "src/test/compile-fail/method-call-err-msg.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fmethod-call-err-msg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fmethod-call-err-msg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmethod-call-err-msg.rs?ref=61318156f86c828b7d09decf45ea8e40aafbcc25", "patch": "@@ -20,10 +20,13 @@ impl Foo {\n fn main() {\n     let x = Foo;\n     x.zero(0)   //~ ERROR this function takes 0 parameters but 1 parameter was supplied\n+     //~^ NOTE expected 0 parameters\n      .one()     //~ ERROR this function takes 1 parameter but 0 parameters were supplied\n      //~^ NOTE the following parameter type was expected\n+     //~| NOTE expected 1 parameter\n      .two(0);   //~ ERROR this function takes 2 parameters but 1 parameter was supplied\n      //~^ NOTE the following parameter types were expected\n+     //~| NOTE expected 2 parameters\n \n     let y = Foo;\n     y.zero()"}, {"sha": "8dcde2cf48ce2439633629e82fc14a410cdf4ece", "filename": "src/test/compile-fail/not-enough-arguments.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fnot-enough-arguments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fnot-enough-arguments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fnot-enough-arguments.rs?ref=61318156f86c828b7d09decf45ea8e40aafbcc25", "patch": "@@ -20,4 +20,5 @@ fn main() {\n   foo(1, 2, 3);\n   //~^ ERROR this function takes 4 parameters but 3\n   //~^^ NOTE the following parameter types were expected\n+  //~| NOTE expected 4 parameters\n }"}, {"sha": "5865d93e1282ffdbe28e397fa7bf4e93f8438996", "filename": "src/test/compile-fail/overloaded-calls-bad.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Foverloaded-calls-bad.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Foverloaded-calls-bad.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Foverloaded-calls-bad.rs?ref=61318156f86c828b7d09decf45ea8e40aafbcc25", "patch": "@@ -42,7 +42,9 @@ fn main() {\n     let ans = s();\n     //~^ ERROR this function takes 1 parameter but 0 parameters were supplied\n     //~| NOTE the following parameter type was expected\n+    //~| NOTE expected 1 parameter\n     let ans = s(\"burma\", \"shave\");\n     //~^ ERROR this function takes 1 parameter but 2 parameters were supplied\n     //~| NOTE the following parameter type was expected\n+    //~| NOTE expected 1 parameter\n }"}, {"sha": "cc9a7c84eded46c495a185350591a4b48382d53a", "filename": "src/test/compile-fail/variadic-ffi-3.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fvariadic-ffi-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61318156f86c828b7d09decf45ea8e40aafbcc25/src%2Ftest%2Fcompile-fail%2Fvariadic-ffi-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fvariadic-ffi-3.rs?ref=61318156f86c828b7d09decf45ea8e40aafbcc25", "patch": "@@ -18,8 +18,10 @@ fn main() {\n     unsafe {\n         foo(); //~ ERROR: this function takes at least 2 parameters but 0 parameters were supplied\n         //~^ NOTE the following parameter types were expected\n+        //~| NOTE expected at least 2 parameters\n         foo(1); //~ ERROR: this function takes at least 2 parameters but 1 parameter was supplied\n         //~^ NOTE the following parameter types were expected\n+        //~| NOTE expected at least 2 parameters\n \n         let x: unsafe extern \"C\" fn(f: isize, x: u8) = foo;\n         //~^ ERROR: mismatched types"}]}