{"sha": "3ef1dab211f92b238fda40749fa5602521d7af10", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlZjFkYWIyMTFmOTJiMjM4ZmRhNDA3NDlmYTU2MDI1MjFkN2FmMTA=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2020-04-10T17:03:34Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2020-04-10T17:03:34Z"}, "message": "Rustup to https://github.com/rust-lang/rust/pull/70913", "tree": {"sha": "14f6f330059d63605687b83df34ee0acf04b3465", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/14f6f330059d63605687b83df34ee0acf04b3465"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3ef1dab211f92b238fda40749fa5602521d7af10", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE6VFioMHrom999LRAK0OZxL9Ny94FAl6Qpu0ACgkQK0OZxL9N\ny96EsQ//bR4EpMk/oevWfFctZduuEHTE2BFCLS66M/92136/hMzjvETkMhYTozRX\n4SkswapBtoKFMMPXK2d6bsVN6nKwHrFUmJ9SUiWHUIy09oe4syOovqtXAVOVxZKz\nS7eoEEyGm9rR+6XdptYZ3WKDUOJAJ9d3TzDNFiMLQjTHQVkOfo2Z2DK8+yVovxbd\n9er+xRljeQXa9p7lv1Q+MlXFa5EdxisuuABIfwR7ckSt4NQZoKtBSjbWgQG4R0pn\nKBsqd1uEC5jDkag0o6q7PLXtjhcFXi5HfFSvVz2369E61sQT1TD1l2L7oANK2g2S\nr/0zgr7SXwZZ5fpAAsgF+55Waji7QdJqdGi7DuFpmiHz0uG39wkd1X3cKnBzw8tE\nOKjWKIBgaaG+0k/EVtD4OBCjJGZvMoZIRqabAwF52g5pqMf9MPq3kQ9DN2WzzXTr\n3ebu+6or1WIIvyUeU7hgqMq/wjkrv1r7/aQ/to7mft0jMMxBc7SJYb0hNKB8n1nn\nDmSqlMAeo4CMCeSwwczboBCgA1kpNl00Iu5dBaddhxCHobHIvhsMVFZTJAmEQ5E0\nOUbQNVaLxIASjbEYN+gsqGQxmC3Ie6rsaJtxah17/SjSkq/UZJOQZfQJ+nEpSiCH\nnK7PdsOQLnxnWsGd8gfMF8RH4yUGUs/y9VKW7PcXxwfhYiD7+ls=\n=4A44\n-----END PGP SIGNATURE-----", "payload": "tree 14f6f330059d63605687b83df34ee0acf04b3465\nparent 34763a5f3632b1d9081ba0245a729174996f0b38\nauthor Philipp Hansch <dev@phansch.net> 1586538214 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1586538214 +0200\n\nRustup to https://github.com/rust-lang/rust/pull/70913\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3ef1dab211f92b238fda40749fa5602521d7af10", "html_url": "https://github.com/rust-lang/rust/commit/3ef1dab211f92b238fda40749fa5602521d7af10", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3ef1dab211f92b238fda40749fa5602521d7af10/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "34763a5f3632b1d9081ba0245a729174996f0b38", "url": "https://api.github.com/repos/rust-lang/rust/commits/34763a5f3632b1d9081ba0245a729174996f0b38", "html_url": "https://github.com/rust-lang/rust/commit/34763a5f3632b1d9081ba0245a729174996f0b38"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "bab3cf8ecb185df6de23e4a9b725c2d78b88de3d", "filename": "clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3ef1dab211f92b238fda40749fa5602521d7af10/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ef1dab211f92b238fda40749fa5602521d7af10/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=3ef1dab211f92b238fda40749fa5602521d7af10", "patch": "@@ -3425,12 +3425,12 @@ enum SelfKind {\n \n impl SelfKind {\n     fn matches<'a>(self, cx: &LateContext<'_, 'a>, parent_ty: Ty<'a>, ty: Ty<'a>) -> bool {\n-        fn matches_value(parent_ty: Ty<'_>, ty: Ty<'_>) -> bool {\n+        fn matches_value<'a>(cx: &LateContext<'_, 'a>, parent_ty: Ty<'_>, ty: Ty<'_>) -> bool {\n             if ty == parent_ty {\n                 true\n             } else if ty.is_box() {\n                 ty.boxed_ty() == parent_ty\n-            } else if ty.is_rc() || ty.is_arc() {\n+            } else if is_type_diagnostic_item(cx, ty, sym::Rc) || is_type_diagnostic_item(cx, ty, sym::Arc) {\n                 if let ty::Adt(_, substs) = ty.kind {\n                     substs.types().next().map_or(false, |t| t == parent_ty)\n                 } else {\n@@ -3464,7 +3464,7 @@ impl SelfKind {\n         }\n \n         match self {\n-            Self::Value => matches_value(parent_ty, ty),\n+            Self::Value => matches_value(cx, parent_ty, ty),\n             Self::Ref => matches_ref(cx, hir::Mutability::Not, parent_ty, ty) || ty == parent_ty && is_copy(cx, ty),\n             Self::RefMut => matches_ref(cx, hir::Mutability::Mut, parent_ty, ty),\n             Self::No => ty != parent_ty,"}, {"sha": "67399fb64683ce730bc314c86c96626d43be32b0", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3ef1dab211f92b238fda40749fa5602521d7af10/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ef1dab211f92b238fda40749fa5602521d7af10/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=3ef1dab211f92b238fda40749fa5602521d7af10", "patch": "@@ -347,7 +347,7 @@ impl Types {\n                             );\n                             return; // don't recurse into the type\n                         }\n-                    } else if Some(def_id) == cx.tcx.lang_items().rc() {\n+                    } else if cx.tcx.is_diagnostic_item(sym::Rc, def_id) {\n                         if let Some(span) = match_type_parameter(cx, qpath, &paths::RC) {\n                             span_lint_and_sugg(\n                                 cx,"}]}