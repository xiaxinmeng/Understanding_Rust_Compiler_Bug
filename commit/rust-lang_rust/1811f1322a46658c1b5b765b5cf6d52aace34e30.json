{"sha": "1811f1322a46658c1b5b765b5cf6d52aace34e30", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE4MTFmMTMyMmE0NjY1OGMxYjViNzY1YjVjZjZkNTJhYWNlMzRlMzA=", "commit": {"author": {"name": "Andy Russell", "email": "arussell123@gmail.com", "date": "2018-10-12T20:25:22Z"}, "committer": {"name": "Andy Russell", "email": "arussell123@gmail.com", "date": "2018-10-12T21:30:13Z"}, "message": "raise ICE if LLVM worker threads panic", "tree": {"sha": "ade2c6bb4b3148a123ab40d455ee42933409d18e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ade2c6bb4b3148a123ab40d455ee42933409d18e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1811f1322a46658c1b5b765b5cf6d52aace34e30", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQFKBAABCAA0FiEELriChyEaiMu0yCg7viIhAz7bw3QFAlvBEm8WHGFydXNzZWxs\nMTIzQGdtYWlsLmNvbQAKCRC+IiEDPtvDdMq7B/42fHLAxlCr9+oEj7CvhlmVVPLk\naSRdFsZKfUkoDb1jD1p06T2x5J4ozJMhpBjTQjNDEuODBI5ykpsoKXLp0hZRMRDX\n1ctesWbX/CJI1iPCbdJBdO6NoujTDHhZumUa4oFTB6NTVbpAJUJ8pJzdm4KMOJyv\n3Z3fRs6YwvenLcKCNIp8CIggOOjlstP/xtZtu9cCHhQ9sNfqOC/1ierp6bQZo/l5\nLCkeSikbYwFYIyiVZqycu5ojm0fwgaw038M75T7LmjOr2b+dcE6pqug20g51nXH+\n180daf5FnNSvEu0oqaMWApgRuX+gwfW1LL9eflJS06bW4MSf5ytQeh6sD4JE\n=vxV1\n-----END PGP SIGNATURE-----", "payload": "tree ade2c6bb4b3148a123ab40d455ee42933409d18e\nparent 00e1f5b8df5382a7296ba463a8e53ce55bf4c6a5\nauthor Andy Russell <arussell123@gmail.com> 1539375922 -0400\ncommitter Andy Russell <arussell123@gmail.com> 1539379813 -0400\n\nraise ICE if LLVM worker threads panic\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1811f1322a46658c1b5b765b5cf6d52aace34e30", "html_url": "https://github.com/rust-lang/rust/commit/1811f1322a46658c1b5b765b5cf6d52aace34e30", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1811f1322a46658c1b5b765b5cf6d52aace34e30/comments", "author": {"login": "euclio", "id": 1372438, "node_id": "MDQ6VXNlcjEzNzI0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1372438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/euclio", "html_url": "https://github.com/euclio", "followers_url": "https://api.github.com/users/euclio/followers", "following_url": "https://api.github.com/users/euclio/following{/other_user}", "gists_url": "https://api.github.com/users/euclio/gists{/gist_id}", "starred_url": "https://api.github.com/users/euclio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/euclio/subscriptions", "organizations_url": "https://api.github.com/users/euclio/orgs", "repos_url": "https://api.github.com/users/euclio/repos", "events_url": "https://api.github.com/users/euclio/events{/privacy}", "received_events_url": "https://api.github.com/users/euclio/received_events", "type": "User", "site_admin": false}, "committer": {"login": "euclio", "id": 1372438, "node_id": "MDQ6VXNlcjEzNzI0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1372438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/euclio", "html_url": "https://github.com/euclio", "followers_url": "https://api.github.com/users/euclio/followers", "following_url": "https://api.github.com/users/euclio/following{/other_user}", "gists_url": "https://api.github.com/users/euclio/gists{/gist_id}", "starred_url": "https://api.github.com/users/euclio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/euclio/subscriptions", "organizations_url": "https://api.github.com/users/euclio/orgs", "repos_url": "https://api.github.com/users/euclio/repos", "events_url": "https://api.github.com/users/euclio/events{/privacy}", "received_events_url": "https://api.github.com/users/euclio/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "00e1f5b8df5382a7296ba463a8e53ce55bf4c6a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/00e1f5b8df5382a7296ba463a8e53ce55bf4c6a5", "html_url": "https://github.com/rust-lang/rust/commit/00e1f5b8df5382a7296ba463a8e53ce55bf4c6a5"}], "stats": {"total": 6, "additions": 2, "deletions": 4}, "files": [{"sha": "95281e2445a1c36baecc71c9f116094e085b3668", "filename": "src/librustc_codegen_llvm/back/write.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/1811f1322a46658c1b5b765b5cf6d52aace34e30/src%2Flibrustc_codegen_llvm%2Fback%2Fwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1811f1322a46658c1b5b765b5cf6d52aace34e30/src%2Flibrustc_codegen_llvm%2Fback%2Fwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fback%2Fwrite.rs?ref=1811f1322a46658c1b5b765b5cf6d52aace34e30", "patch": "@@ -2031,9 +2031,7 @@ fn start_executing_work(tcx: TyCtxt,\n                     main_thread_worker_state = MainThreadWorkerState::Idle;\n                 }\n                 Message::Done { result: Err(()), worker_id: _ } => {\n-                    shared_emitter.fatal(\"aborting due to worker thread failure\");\n-                    // Exit the coordinator thread\n-                    return Err(())\n+                    bug!(\"worker thread panicked\");\n                 }\n                 Message::CodegenItem => {\n                     bug!(\"the coordinator should not receive codegen requests\")\n@@ -2392,7 +2390,7 @@ impl OngoingCodegen {\n                 panic!(\"expected abort due to worker thread errors\")\n             },\n             Err(_) => {\n-                sess.fatal(\"Error during codegen/LLVM phase.\");\n+                bug!(\"panic during codegen/LLVM phase\");\n             }\n         };\n "}]}