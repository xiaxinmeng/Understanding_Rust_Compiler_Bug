{"sha": "16992930835ce3376a4aaed42307726e1fc78e45", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE2OTkyOTMwODM1Y2UzMzc2YTRhYWVkNDIzMDc3MjZlMWZjNzhlNDU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-12-23T04:40:39Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-12-23T04:40:39Z"}, "message": "Auto merge of #46864 - estebank:closure-type-err-sp, r=nikomatsakis\n\nClosure type error ui tweak\n\nDo not point at the same span on all notes/help messages, and instead\nshow them without a span.", "tree": {"sha": "4a78b1fcdb1691ec808f7107c977450e27238547", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4a78b1fcdb1691ec808f7107c977450e27238547"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/16992930835ce3376a4aaed42307726e1fc78e45", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/16992930835ce3376a4aaed42307726e1fc78e45", "html_url": "https://github.com/rust-lang/rust/commit/16992930835ce3376a4aaed42307726e1fc78e45", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/16992930835ce3376a4aaed42307726e1fc78e45/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "565907fefb2a69c279b59bffa84c6d30129cafe9", "url": "https://api.github.com/repos/rust-lang/rust/commits/565907fefb2a69c279b59bffa84c6d30129cafe9", "html_url": "https://github.com/rust-lang/rust/commit/565907fefb2a69c279b59bffa84c6d30129cafe9"}, {"sha": "eed98d55fb39027cdcfbcbdac067f993848a3e60", "url": "https://api.github.com/repos/rust-lang/rust/commits/eed98d55fb39027cdcfbcbdac067f993848a3e60", "html_url": "https://github.com/rust-lang/rust/commit/eed98d55fb39027cdcfbcbdac067f993848a3e60"}], "stats": {"total": 152, "additions": 52, "deletions": 100}, "files": [{"sha": "d2152024cff072c471a3e9eb999e08689750335d", "filename": "src/librustc/ty/error.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Flibrustc%2Fty%2Ferror.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Flibrustc%2Fty%2Ferror.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Ferror.rs?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -260,10 +260,8 @@ impl<'a, 'gcx, 'tcx> TyCtxt<'a, 'gcx, 'tcx> {\n                 let expected_str = values.expected.sort_string(self);\n                 let found_str = values.found.sort_string(self);\n                 if expected_str == found_str && expected_str == \"closure\" {\n-                    db.span_note(sp,\n-                        \"no two closures, even if identical, have the same type\");\n-                    db.span_help(sp,\n-                        \"consider boxing your closure and/or using it as a trait object\");\n+                    db.note(\"no two closures, even if identical, have the same type\");\n+                    db.help(\"consider boxing your closure and/or using it as a trait object\");\n                 }\n             },\n             TyParamDefaultMismatch(values) => {"}, {"sha": "fd171b89924701f7a268edc9c37f0dd46603646c", "filename": "src/librustc_const_eval/check_match.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Flibrustc_const_eval%2Fcheck_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Flibrustc_const_eval%2Fcheck_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_const_eval%2Fcheck_match.rs?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -402,8 +402,8 @@ fn check_arms<'a, 'tcx>(cx: &mut MatchCheckCtxt<'a, 'tcx>,\n                             );\n                             // if we had a catchall pattern, hint at that\n                             if let Some(catchall) = catchall {\n-                                err.span_label(pat.span, \"this is an unreachable pattern\");\n-                                err.span_note(catchall, \"this pattern matches any value\");\n+                                err.span_label(pat.span, \"unreachable pattern\");\n+                                err.span_label(catchall, \"matches any value\");\n                             }\n                             err.emit();\n                         },"}, {"sha": "72017ec215f82f4ac0a4713a5611991dc4efb58c", "filename": "src/librustc_resolve/build_reduced_graph.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Flibrustc_resolve%2Fbuild_reduced_graph.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Flibrustc_resolve%2Fbuild_reduced_graph.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fbuild_reduced_graph.rs?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -220,7 +220,7 @@ impl<'a> Resolver<'a> {\n                         ResolutionError::SelfImportCanOnlyAppearOnceInTheList);\n \n                     for other_span in self_spans.iter().skip(1) {\n-                        e.span_note(*other_span, \"another `self` import appears here\");\n+                        e.span_label(*other_span, \"another `self` import appears here\");\n                     }\n \n                     e.emit();"}, {"sha": "b49d9d2c7cf113949bd3be116d46b1ece7a92b53", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 20, "deletions": 22, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -290,17 +290,17 @@ fn resolve_struct_error<'sess, 'a>(resolver: &'sess Resolver,\n                              \"`self` imports are only allowed within a { } list\")\n         }\n         ResolutionError::SelfImportCanOnlyAppearOnceInTheList => {\n-            struct_span_err!(resolver.session,\n-                             span,\n-                             E0430,\n-                             \"`self` import can only appear once in the list\")\n+            let mut err = struct_span_err!(resolver.session, span, E0430,\n+                                           \"`self` import can only appear once in an import list\");\n+            err.span_label(span, \"can only appear once in an import list\");\n+            err\n         }\n         ResolutionError::SelfImportOnlyInImportListWithNonEmptyPrefix => {\n-            struct_span_err!(resolver.session,\n-                             span,\n-                             E0431,\n-                             \"`self` import can only appear in an import list with a \\\n-                              non-empty prefix\")\n+            let mut err = struct_span_err!(resolver.session, span, E0431,\n+                                           \"`self` import can only appear in an import list with \\\n+                                            a non-empty prefix\");\n+            err.span_label(span, \"can only appear in an import list with a non-empty prefix\");\n+            err\n         }\n         ResolutionError::UnresolvedImport(name) => {\n             let (span, msg) = match name {\n@@ -320,18 +320,17 @@ fn resolve_struct_error<'sess, 'a>(resolver: &'sess Resolver,\n             err\n         }\n         ResolutionError::CannotCaptureDynamicEnvironmentInFnItem => {\n-            struct_span_err!(resolver.session,\n-                             span,\n-                             E0434,\n-                             \"{}\",\n-                             \"can't capture dynamic environment in a fn item; use the || { ... } \\\n-                              closure form instead\")\n+            let mut err = struct_span_err!(resolver.session,\n+                                           span,\n+                                           E0434,\n+                                           \"{}\",\n+                                           \"can't capture dynamic environment in a fn item\");\n+            err.help(\"use the `|| { ... }` closure form instead\");\n+            err\n         }\n         ResolutionError::AttemptToUseNonConstantValueInConstant => {\n-            let mut err = struct_span_err!(resolver.session,\n-                             span,\n-                             E0435,\n-                             \"attempt to use a non-constant value in a constant\");\n+            let mut err = struct_span_err!(resolver.session, span, E0435,\n+                                           \"attempt to use a non-constant value in a constant\");\n             err.span_label(span, \"non-constant value\");\n             err\n         }\n@@ -351,8 +350,7 @@ fn resolve_struct_error<'sess, 'a>(resolver: &'sess Resolver,\n             let mut err = struct_span_err!(resolver.session, span, E0128,\n                                            \"type parameters with a default cannot use \\\n                                             forward declared identifiers\");\n-            err.span_label(span, format!(\"defaulted type parameters \\\n-                                           cannot be forward declared\"));\n+            err.span_label(span, format!(\"defaulted type parameters cannot be forward declared\"));\n             err\n         }\n     }\n@@ -3950,7 +3948,7 @@ impl<'a> Resolver<'a> {\n \n                     feature_err(&self.session.parse_sess, feature,\n                                 attr.span, GateIssue::Language, msg)\n-                        .span_note(binding.span(), \"procedural macro imported here\")\n+                        .span_label(binding.span(), \"procedural macro imported here\")\n                         .emit();\n                 }\n             }"}, {"sha": "6a5e4cfef895a40021b702c17b75d2b835c57f5d", "filename": "src/test/compile-fail/bad-env-capture.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fcompile-fail%2Fbad-env-capture.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fcompile-fail%2Fbad-env-capture.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fbad-env-capture.rs?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: can't capture dynamic environment in a fn item;\n+// error-pattern: can't capture dynamic environment in a fn item\n fn foo() {\n     let x: isize;\n     fn bar() { log(debug, x); }"}, {"sha": "cf67c73c539799afdb51bedb0562ef4a5cf52f88", "filename": "src/test/compile-fail/bad-env-capture2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fcompile-fail%2Fbad-env-capture2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fcompile-fail%2Fbad-env-capture2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fbad-env-capture2.rs?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: can't capture dynamic environment in a fn item;\n+// error-pattern: can't capture dynamic environment in a fn item\n fn foo(x: isize) {\n     fn bar() { log(debug, x); }\n }"}, {"sha": "a30c6770b87ff839be0fdf769540b4db4fcffe8d", "filename": "src/test/compile-fail/bad-env-capture3.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fcompile-fail%2Fbad-env-capture3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fcompile-fail%2Fbad-env-capture3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fbad-env-capture3.rs?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: can't capture dynamic environment in a fn item;\n+// error-pattern: can't capture dynamic environment in a fn item\n fn foo(x: isize) {\n     fn mth() {\n         fn bar() { log(debug, x); }"}, {"sha": "984385f4cc0ebbc696a1f9c0202ba8ddfbbe8cb0", "filename": "src/test/compile-fail/capture1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fcompile-fail%2Fcapture1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fcompile-fail%2Fcapture1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcapture1.rs?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -9,7 +9,7 @@\n // except according to those terms.\n \n \n-// error-pattern: can't capture dynamic environment in a fn item;\n+// error-pattern: can't capture dynamic environment in a fn item\n \n fn main() {\n     let bar: isize = 5;"}, {"sha": "efa02c3fc5989e18c4dbceecdf0b8c6dfcaa82f4", "filename": "src/test/ui/issue-24036.stderr", "status": "modified", "additions": 4, "deletions": 32, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fui%2Fissue-24036.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fui%2Fissue-24036.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-24036.stderr?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -6,16 +6,8 @@ error[E0308]: mismatched types\n    |\n    = note: expected type `[closure@$DIR/issue-24036.rs:12:17: 12:26]`\n               found type `[closure@$DIR/issue-24036.rs:13:9: 13:18]`\n-note: no two closures, even if identical, have the same type\n-  --> $DIR/issue-24036.rs:13:9\n-   |\n-13 |     x = |c| c + 1;\n-   |         ^^^^^^^^^\n-help: consider boxing your closure and/or using it as a trait object\n-  --> $DIR/issue-24036.rs:13:9\n-   |\n-13 |     x = |c| c + 1;\n-   |         ^^^^^^^^^\n+   = note: no two closures, even if identical, have the same type\n+   = help: consider boxing your closure and/or using it as a trait object\n \n error[E0308]: match arms have incompatible types\n   --> $DIR/issue-24036.rs:18:13\n@@ -31,28 +23,8 @@ error[E0308]: match arms have incompatible types\n    |\n    = note: expected type `[closure@$DIR/issue-24036.rs:20:14: 20:23]`\n               found type `[closure@$DIR/issue-24036.rs:21:14: 21:23]`\n-note: no two closures, even if identical, have the same type\n-  --> $DIR/issue-24036.rs:18:13\n-   |\n-18 |       let x = match 1usize {\n-   |  _____________^\n-19 | |     //~^ ERROR match arms have incompatible types\n-20 | |         1 => |c| c + 1,\n-21 | |         2 => |c| c - 1,\n-22 | |         _ => |c| c - 1\n-23 | |     };\n-   | |_____^\n-help: consider boxing your closure and/or using it as a trait object\n-  --> $DIR/issue-24036.rs:18:13\n-   |\n-18 |       let x = match 1usize {\n-   |  _____________^\n-19 | |     //~^ ERROR match arms have incompatible types\n-20 | |         1 => |c| c + 1,\n-21 | |         2 => |c| c - 1,\n-22 | |         _ => |c| c - 1\n-23 | |     };\n-   | |_____^\n+   = note: no two closures, even if identical, have the same type\n+   = help: consider boxing your closure and/or using it as a trait object\n note: match arm with an incompatible type\n   --> $DIR/issue-24036.rs:21:14\n    |"}, {"sha": "66e43d0859f466981eaab8c4a9b4455a7f2e994f", "filename": "src/test/ui/issue-30302.stderr", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fui%2Fissue-30302.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fui%2Fissue-30302.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-30302.stderr?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -9,19 +9,17 @@ warning[E0170]: pattern binding `Nil` is named the same as one of the variants o\n error: unreachable pattern\n   --> $DIR/issue-30302.rs:25:9\n    |\n+23 |         Nil => true,\n+   |         --- matches any value\n+24 | //~^ WARN pattern binding `Nil` is named the same as one of the variants of the type `Stack`\n 25 |         _ => false\n-   |         ^ this is an unreachable pattern\n+   |         ^ unreachable pattern\n    |\n note: lint level defined here\n   --> $DIR/issue-30302.rs:14:9\n    |\n 14 | #![deny(unreachable_patterns)]\n    |         ^^^^^^^^^^^^^^^^^^^^\n-note: this pattern matches any value\n-  --> $DIR/issue-30302.rs:23:9\n-   |\n-23 |         Nil => true,\n-   |         ^^^\n \n error: aborting due to previous error\n "}, {"sha": "1db48346c6e44ef7b0fdc072094e19fda36adcd6", "filename": "src/test/ui/issue-31221.stderr", "status": "modified", "additions": 9, "deletions": 20, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fui%2Fissue-31221.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fui%2Fissue-31221.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-31221.stderr?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -1,43 +1,32 @@\n error: unreachable pattern\n   --> $DIR/issue-31221.rs:28:9\n    |\n+27 |         Var3 => (),\n+   |         ---- matches any value\n 28 |         Var2 => (),\n-   |         ^^^^ this is an unreachable pattern\n+   |         ^^^^ unreachable pattern\n    |\n note: lint level defined here\n   --> $DIR/issue-31221.rs:14:9\n    |\n 14 | #![deny(unreachable_patterns)]\n    |         ^^^^^^^^^^^^^^^^^^^^\n-note: this pattern matches any value\n-  --> $DIR/issue-31221.rs:27:9\n-   |\n-27 |         Var3 => (),\n-   |         ^^^^\n \n error: unreachable pattern\n   --> $DIR/issue-31221.rs:34:9\n    |\n-34 |         &Var2 => (),\n-   |         ^^^^^ this is an unreachable pattern\n-   |\n-note: this pattern matches any value\n-  --> $DIR/issue-31221.rs:33:9\n-   |\n 33 |         &Var3 => (),\n-   |         ^^^^^\n+   |         ----- matches any value\n+34 |         &Var2 => (),\n+   |         ^^^^^ unreachable pattern\n \n error: unreachable pattern\n   --> $DIR/issue-31221.rs:41:9\n    |\n-41 |         anything => ()\n-   |         ^^^^^^^^ this is an unreachable pattern\n-   |\n-note: this pattern matches any value\n-  --> $DIR/issue-31221.rs:40:9\n-   |\n 40 |         (c, d) => (),\n-   |         ^^^^^^\n+   |         ------ matches any value\n+41 |         anything => ()\n+   |         ^^^^^^^^ unreachable pattern\n \n error: aborting due to 3 previous errors\n "}, {"sha": "37495cd1724eee5aacf37fd6cd18ec035911aa93", "filename": "src/test/ui/use-mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fui%2Fuse-mod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fui%2Fuse-mod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuse-mod.rs?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -10,7 +10,7 @@\n \n use foo::bar::{\n     self,\n-//~^ ERROR `self` import can only appear once in the list\n+//~^ ERROR `self` import can only appear once in an import list\n     Bar,\n     self\n //~^ ERROR the name `bar` is defined multiple times"}, {"sha": "bb64909e64a0c5b67b780c2f9dbfee59205b5be5", "filename": "src/test/ui/use-mod.stderr", "status": "modified", "additions": 5, "deletions": 8, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fui%2Fuse-mod.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/16992930835ce3376a4aaed42307726e1fc78e45/src%2Ftest%2Fui%2Fuse-mod.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuse-mod.stderr?ref=16992930835ce3376a4aaed42307726e1fc78e45", "patch": "@@ -1,20 +1,17 @@\n-error[E0430]: `self` import can only appear once in the list\n+error[E0430]: `self` import can only appear once in an import list\n   --> $DIR/use-mod.rs:12:5\n    |\n 12 |     self,\n-   |     ^^^^\n-   |\n-note: another `self` import appears here\n-  --> $DIR/use-mod.rs:15:5\n-   |\n+   |     ^^^^ can only appear once in an import list\n+...\n 15 |     self\n-   |     ^^^^\n+   |     ---- another `self` import appears here\n \n error[E0431]: `self` import can only appear in an import list with a non-empty prefix\n   --> $DIR/use-mod.rs:19:6\n    |\n 19 | use {self};\n-   |      ^^^^\n+   |      ^^^^ can only appear in an import list with a non-empty prefix\n \n error[E0252]: the name `bar` is defined multiple times\n   --> $DIR/use-mod.rs:15:5"}]}