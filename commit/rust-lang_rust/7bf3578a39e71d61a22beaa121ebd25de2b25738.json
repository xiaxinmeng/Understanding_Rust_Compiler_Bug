{"sha": "7bf3578a39e71d61a22beaa121ebd25de2b25738", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiZjM1NzhhMzllNzFkNjFhMjJiZWFhMTIxZWJkMjVkZTJiMjU3Mzg=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-07-20T18:59:13Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-07-20T20:08:12Z"}, "message": "Rollup merge of #52573 - oli-obk:cleanups, r=RalfJung\n\nCleanups\n\nr? @RalfJung", "tree": {"sha": "58591a0b1ee54b82f350606115522153232ce8a1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/58591a0b1ee54b82f350606115522153232ce8a1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7bf3578a39e71d61a22beaa121ebd25de2b25738", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAltSQSwACgkQ/vbIBR0O\nATw7Zw/9GmbxWL0By46DyVLHQ+UeT9YwnICTGBiEIZJqzw9wBq6TboUdiRXupqcv\nhufLUbONFXwl7L86t/tGNievrgauffU0uCkqWNP65mRYhKhDMFsn6FEVFVKO+xQu\ntZvN4YVTzxpTktSnCo7mxQzjQoFTLDCaKnFzNckhExZPL22xKDUcMpu/lF4tEZWQ\nYbEgeYfa6GL9VXjzbzrEUMln+0V1tSr16peVOzb5DwyZu7jWRYBeTQbHhwZkLJWz\naIzeG5kyG5Tlg8O+1awvjUhfa60nQcptkIjRmrZZ5y/L+N/5MTrFtALCMfJ3m3CN\nmty4jl7FUg7y2ii2GJ72mXa2sRdaLIOfyVQkVtn83vUOK4kyZMgO0fqNMIhQ4hs4\n6YkjX4eOdIsCNaQyCDg7JJH/DSXL6jDZzJyQwyjXWoqJXfeqvLnl7Ow+4x36DiPr\n5vBU9Hbs2X/AFsHgkDVy4Hh3M3LqLm/3aIEikyz7hFJy29cxdK7I4j4krzhsvviA\n+S6Cl2ZpPYVzbQtd9ImspOlFQGABG7vcQaJsZ8C4kZ08HH25ApViVMqdYa7dC4Ck\n95vvEB2kFky07KBdznmgRLFwDKElEZ1VdcN05ASFKzWHKiVsVBzBithvusBJPhlZ\nsOxVjopr0yq5ppE9bRaU1K7JYEmhU14EVloZLxk4V+HSgaYZMBg=\n=YTQb\n-----END PGP SIGNATURE-----", "payload": "tree 58591a0b1ee54b82f350606115522153232ce8a1\nparent a9a4f062543e66d935d12091adf0d9cc4ff852f6\nparent c7d39e0c510206b74453ca8636e647852e6f294c\nauthor kennytm <kennytm@gmail.com> 1532113153 +0800\ncommitter kennytm <kennytm@gmail.com> 1532117292 +0800\n\nRollup merge of #52573 - oli-obk:cleanups, r=RalfJung\n\nCleanups\n\nr? @RalfJung\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7bf3578a39e71d61a22beaa121ebd25de2b25738", "html_url": "https://github.com/rust-lang/rust/commit/7bf3578a39e71d61a22beaa121ebd25de2b25738", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7bf3578a39e71d61a22beaa121ebd25de2b25738/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a9a4f062543e66d935d12091adf0d9cc4ff852f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/a9a4f062543e66d935d12091adf0d9cc4ff852f6", "html_url": "https://github.com/rust-lang/rust/commit/a9a4f062543e66d935d12091adf0d9cc4ff852f6"}, {"sha": "c7d39e0c510206b74453ca8636e647852e6f294c", "url": "https://api.github.com/repos/rust-lang/rust/commits/c7d39e0c510206b74453ca8636e647852e6f294c", "html_url": "https://github.com/rust-lang/rust/commit/c7d39e0c510206b74453ca8636e647852e6f294c"}], "stats": {"total": 27, "additions": 8, "deletions": 19}, "files": [{"sha": "f2f7f95426ab827e977cab992111d409df00bfa5", "filename": "src/librustc/hir/map/blocks.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7bf3578a39e71d61a22beaa121ebd25de2b25738/src%2Flibrustc%2Fhir%2Fmap%2Fblocks.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7bf3578a39e71d61a22beaa121ebd25de2b25738/src%2Flibrustc%2Fhir%2Fmap%2Fblocks.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmap%2Fblocks.rs?ref=7bf3578a39e71d61a22beaa121ebd25de2b25738", "patch": "@@ -51,6 +51,12 @@ impl MaybeFnLike for ast::Item {\n     }\n }\n \n+impl MaybeFnLike for ast::ImplItem {\n+    fn is_fn_like(&self) -> bool {\n+        match self.node { ast::ImplItemKind::Method(..) => true, _ => false, }\n+    }\n+}\n+\n impl MaybeFnLike for ast::TraitItem {\n     fn is_fn_like(&self) -> bool {\n         match self.node {\n@@ -141,7 +147,7 @@ impl<'a> FnLikeNode<'a> {\n         let fn_like = match node {\n             map::NodeItem(item) => item.is_fn_like(),\n             map::NodeTraitItem(tm) => tm.is_fn_like(),\n-            map::NodeImplItem(_) => true,\n+            map::NodeImplItem(it) => it.is_fn_like(),\n             map::NodeExpr(e) => e.is_fn_like(),\n             _ => false\n         };"}, {"sha": "e4acb2ad4b161d2d684a403acc62605b48099e8f", "filename": "src/librustc_codegen_llvm/builder.rs", "status": "modified", "additions": 1, "deletions": 18, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/7bf3578a39e71d61a22beaa121ebd25de2b25738/src%2Flibrustc_codegen_llvm%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7bf3578a39e71d61a22beaa121ebd25de2b25738/src%2Flibrustc_codegen_llvm%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fbuilder.rs?ref=7bf3578a39e71d61a22beaa121ebd25de2b25738", "patch": "@@ -13,7 +13,7 @@\n use llvm;\n use llvm::{AtomicRmwBinOp, AtomicOrdering, SynchronizationScope, AsmDialect};\n use llvm::{Opcode, IntPredicate, RealPredicate, False, OperandBundleDef};\n-use llvm::{ValueRef, BasicBlockRef, BuilderRef, ModuleRef};\n+use llvm::{ValueRef, BasicBlockRef, BuilderRef};\n use common::*;\n use type_::Type;\n use value::Value;\n@@ -1157,23 +1157,6 @@ impl<'a, 'tcx> Builder<'a, 'tcx> {\n         }\n     }\n \n-    pub fn trap(&self) {\n-        unsafe {\n-            let bb: BasicBlockRef = llvm::LLVMGetInsertBlock(self.llbuilder);\n-            let fn_: ValueRef = llvm::LLVMGetBasicBlockParent(bb);\n-            let m: ModuleRef = llvm::LLVMGetGlobalParent(fn_);\n-            let p = \"llvm.trap\\0\".as_ptr();\n-            let t: ValueRef = llvm::LLVMGetNamedFunction(m, p as *const _);\n-            assert!((t as isize != 0));\n-            let args: &[ValueRef] = &[];\n-            self.count_insn(\"trap\");\n-            llvm::LLVMRustBuildCall(self.llbuilder, t,\n-                                    args.as_ptr(), args.len() as c_uint,\n-                                    ptr::null_mut(),\n-                                    noname());\n-        }\n-    }\n-\n     pub fn landing_pad(&self, ty: Type, pers_fn: ValueRef,\n                        num_clauses: usize) -> ValueRef {\n         self.count_insn(\"landingpad\");"}]}