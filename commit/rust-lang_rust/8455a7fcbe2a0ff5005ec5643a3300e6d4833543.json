{"sha": "8455a7fcbe2a0ff5005ec5643a3300e6d4833543", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg0NTVhN2ZjYmUyYTBmZjUwMDVlYzU2NDNhMzMwMGU2ZDQ4MzM1NDM=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2018-09-22T07:56:35Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-09-22T07:56:35Z"}, "message": "Rollup merge of #54402 - bgermann:master, r=alexcrichton\n\nUse no_default_libraries for all NetBSD flavors\n\nThe no_default_libraries was introduced in #28578 because the\nNetBSD-based rumprun needed to disable the link flag.\nThis moves the definition to be used by all NetBSD linker flavors to\nclose #49627.\n\nA different solution would be adding -lc but as there is no platform\nwith explicit -lc, this approach is used.", "tree": {"sha": "1b30d727a9491c3fb24292918ef61491ab26f95e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1b30d727a9491c3fb24292918ef61491ab26f95e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8455a7fcbe2a0ff5005ec5643a3300e6d4833543", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbpfWzCRBK7hj4Ov3rIwAAdHIIAGTl0SmoHSRbavI0G1wEqmvB\nfgtScNHwf3dBhVi3AYBi9p1u5LuWr1DqRZ0rDRk9Pe9jM138KbNz9sdnNqPP0c+6\nOT0YyExkO677YiufEwNG6ScmudsJdHIsjCMdTc/aJYpG2DCZVDTh9HQpcxj7mfmP\nfu93Z+d+iUZwvTuOCVafj5WN6BEkVXQikvVvclP5cRai+e35XuRWWklX7npqEzzd\ncqx5Yvsfwz/79w7goZBmzGwgturelqrcnPewZD1dlTCiEbn4y1dXg7oA8/HRdBuW\nf8IgfKwsXU+0Nb5U7QHsBigEs9CKK3e/jwA7gILGolxdbm1H0Wt45SlDYhqcxY0=\n=E0AZ\n-----END PGP SIGNATURE-----\n", "payload": "tree 1b30d727a9491c3fb24292918ef61491ab26f95e\nparent 5d8a27e4da31440470979e9a85f61fd2b72dc9f5\nparent 36d562ff2305242d528d0d51b666e4a15e6bf811\nauthor Pietro Albini <pietro@pietroalbini.org> 1537602995 +0200\ncommitter GitHub <noreply@github.com> 1537602995 +0200\n\nRollup merge of #54402 - bgermann:master, r=alexcrichton\n\nUse no_default_libraries for all NetBSD flavors\n\nThe no_default_libraries was introduced in #28578 because the\nNetBSD-based rumprun needed to disable the link flag.\nThis moves the definition to be used by all NetBSD linker flavors to\nclose #49627.\n\nA different solution would be adding -lc but as there is no platform\nwith explicit -lc, this approach is used.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8455a7fcbe2a0ff5005ec5643a3300e6d4833543", "html_url": "https://github.com/rust-lang/rust/commit/8455a7fcbe2a0ff5005ec5643a3300e6d4833543", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8455a7fcbe2a0ff5005ec5643a3300e6d4833543/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5d8a27e4da31440470979e9a85f61fd2b72dc9f5", "url": "https://api.github.com/repos/rust-lang/rust/commits/5d8a27e4da31440470979e9a85f61fd2b72dc9f5", "html_url": "https://github.com/rust-lang/rust/commit/5d8a27e4da31440470979e9a85f61fd2b72dc9f5"}, {"sha": "36d562ff2305242d528d0d51b666e4a15e6bf811", "url": "https://api.github.com/repos/rust-lang/rust/commits/36d562ff2305242d528d0d51b666e4a15e6bf811", "html_url": "https://github.com/rust-lang/rust/commit/36d562ff2305242d528d0d51b666e4a15e6bf811"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "8cb5a33cdb5f89d572353d65ec35319b74843d93", "filename": "src/librustc_target/spec/netbsd_base.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8455a7fcbe2a0ff5005ec5643a3300e6d4833543/src%2Flibrustc_target%2Fspec%2Fnetbsd_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8455a7fcbe2a0ff5005ec5643a3300e6d4833543/src%2Flibrustc_target%2Fspec%2Fnetbsd_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fnetbsd_base.rs?ref=8455a7fcbe2a0ff5005ec5643a3300e6d4833543", "patch": "@@ -29,6 +29,7 @@ pub fn opts() -> TargetOptions {\n         executables: true,\n         target_family: Some(\"unix\".to_string()),\n         linker_is_gnu: true,\n+        no_default_libraries: false,\n         has_rpath: true,\n         pre_link_args: args,\n         position_independent_executables: true,"}, {"sha": "684bf5a6c1026e2e950e679decfc18a22f883cda", "filename": "src/librustc_target/spec/x86_64_rumprun_netbsd.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8455a7fcbe2a0ff5005ec5643a3300e6d4833543/src%2Flibrustc_target%2Fspec%2Fx86_64_rumprun_netbsd.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8455a7fcbe2a0ff5005ec5643a3300e6d4833543/src%2Flibrustc_target%2Fspec%2Fx86_64_rumprun_netbsd.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fx86_64_rumprun_netbsd.rs?ref=8455a7fcbe2a0ff5005ec5643a3300e6d4833543", "patch": "@@ -21,7 +21,6 @@ pub fn target() -> TargetResult {\n     base.has_rpath = false;\n     base.position_independent_executables = false;\n     base.disable_redzone = true;\n-    base.no_default_libraries = false;\n     base.exe_allocation_crate = None;\n     base.stack_probes = true;\n "}]}