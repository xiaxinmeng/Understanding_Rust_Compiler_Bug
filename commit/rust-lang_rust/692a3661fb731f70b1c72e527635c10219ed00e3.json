{"sha": "692a3661fb731f70b1c72e527635c10219ed00e3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5MmEzNjYxZmI3MzFmNzBiMWM3MmU1Mjc2MzVjMTAyMTllZDAwZTM=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-01-30T20:03:16Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-01-30T20:03:16Z"}, "message": "rollup merge of #21704: FlaPer87/macro-reexport\n\nConflicts:\n\tsrc/libstd/lib.rs", "tree": {"sha": "b5301fc617c6d5b8df9f35d6f0eda0b9a12a3cce", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b5301fc617c6d5b8df9f35d6f0eda0b9a12a3cce"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/692a3661fb731f70b1c72e527635c10219ed00e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/692a3661fb731f70b1c72e527635c10219ed00e3", "html_url": "https://github.com/rust-lang/rust/commit/692a3661fb731f70b1c72e527635c10219ed00e3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/692a3661fb731f70b1c72e527635c10219ed00e3/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "103f1459c00e66c7326f8d332f04f5b546c033c6", "url": "https://api.github.com/repos/rust-lang/rust/commits/103f1459c00e66c7326f8d332f04f5b546c033c6", "html_url": "https://github.com/rust-lang/rust/commit/103f1459c00e66c7326f8d332f04f5b546c033c6"}, {"sha": "947f6ca4a1b8a3decc535963addb67864b988277", "url": "https://api.github.com/repos/rust-lang/rust/commits/947f6ca4a1b8a3decc535963addb67864b988277", "html_url": "https://github.com/rust-lang/rust/commit/947f6ca4a1b8a3decc535963addb67864b988277"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "3735a0035bd09d099f4363f69665f150223c89e1", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=692a3661fb731f70b1c72e527635c10219ed00e3", "patch": "@@ -114,7 +114,6 @@\n #![feature(old_impl_check)]\n #![feature(optin_builtin_traits)]\n #![feature(int_uint)]\n-#![feature(int_uint)]\n #![feature(core)]\n #![feature(libc)]\n #![feature(alloc)]\n@@ -125,6 +124,7 @@\n #![cfg_attr(test, feature(test))]\n // NOTE(stage0): remove cfg_attr after a snapshot\n #![cfg_attr(not(stage0), allow(unused_mut))]\n+#![feature(macro_reexport)]\n \n // Don't link to std. We are std.\n #![no_std]"}, {"sha": "059838ceb6418dd3f41d72e069d4d5d3874de0b5", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=692a3661fb731f70b1c72e527635c10219ed00e3", "patch": "@@ -109,6 +109,9 @@ static KNOWN_FEATURES: &'static [(&'static str, &'static str, Status)] = &[\n     // int and uint are now deprecated\n     (\"int_uint\", \"1.0.0\", Active),\n \n+    // macro reexport needs more discusion and stabilization\n+    (\"macro_reexport\", Active),\n+\n     // These are used to test this portion of the compiler, they don't actually\n     // mean anything\n     (\"test_accepted_feature\", \"1.0.0\", Accepted),\n@@ -272,6 +275,10 @@ impl<'a, 'v> Visitor<'v> for PostExpansionVisitor<'a> {\n                     self.gate_feature(\"plugin\", i.span,\n                                       \"compiler plugins are experimental \\\n                                        and possibly buggy\");\n+                } else if attr::contains_name(&i.attrs[], \"macro_reexport\") {\n+                    self.gate_feature(\"macro_reexport\", i.span,\n+                                      \"macros reexports are experimental \\\n+                                       and possibly buggy\");\n                 }\n             }\n "}, {"sha": "3918be88d867684e1d27b1a3eee7248da595e024", "filename": "src/test/auxiliary/macro_reexport_2.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2.rs?ref=692a3661fb731f70b1c72e527635c10219ed00e3", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n #![crate_type = \"dylib\"]\n+#![feature(macro_reexport)]\n \n #[macro_reexport(reexported)]\n #[macro_use] #[no_link]"}, {"sha": "1d3dc26b0b4cb6beb04a03699bac8ec8709f0e54", "filename": "src/test/auxiliary/macro_reexport_2_no_use.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2_no_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2_no_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2_no_use.rs?ref=692a3661fb731f70b1c72e527635c10219ed00e3", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n #![crate_type = \"dylib\"]\n+#![feature(macro_reexport)]\n \n #[macro_reexport(reexported)]\n #[no_link]"}, {"sha": "6c85cf5c7f5db91db5c73df5b9fca1095ec2c609", "filename": "src/test/compile-fail/macro-reexport-malformed-1.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-1.rs?ref=692a3661fb731f70b1c72e527635c10219ed00e3", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(macro_reexport)]\n+\n #[macro_reexport]  //~ ERROR bad macro reexport\n extern crate std;\n "}, {"sha": "1dd0168181f83c3f7bebf5375933df21ab22e811", "filename": "src/test/compile-fail/macro-reexport-malformed-2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-2.rs?ref=692a3661fb731f70b1c72e527635c10219ed00e3", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(macro_reexport)]\n+\n #[macro_reexport=\"foo\"]  //~ ERROR bad macro reexport\n extern crate std;\n "}, {"sha": "7ae045f6e4f5160a556d407d36206f84a8972bdf", "filename": "src/test/compile-fail/macro-reexport-malformed-3.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-3.rs?ref=692a3661fb731f70b1c72e527635c10219ed00e3", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(macro_reexport)]\n+\n #[macro_reexport(foo=\"bar\")]  //~ ERROR bad macro reexport\n extern crate std;\n "}, {"sha": "6859ccfe3b7534b18965aedf024fe27847b80417", "filename": "src/test/compile-fail/macro-reexport-not-locally-visible.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-not-locally-visible.rs", "raw_url": "https://github.com/rust-lang/rust/raw/692a3661fb731f70b1c72e527635c10219ed00e3/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-not-locally-visible.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-not-locally-visible.rs?ref=692a3661fb731f70b1c72e527635c10219ed00e3", "patch": "@@ -11,6 +11,8 @@\n // aux-build:macro_reexport_1.rs\n // ignore-stage1\n \n+#![feature(macro_reexport)]\n+\n #[macro_reexport(reexported)]\n #[no_link]\n extern crate macro_reexport_1;"}]}