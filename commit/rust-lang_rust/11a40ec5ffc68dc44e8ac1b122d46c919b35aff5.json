{"sha": "11a40ec5ffc68dc44e8ac1b122d46c919b35aff5", "node_id": "C_kwDOAAsO6NoAKDExYTQwZWM1ZmZjNjhkYzQ0ZThhYzFiMTIyZDQ2YzkxOWIzNWFmZjU", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-10-15T13:59:11Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-10-15T13:59:11Z"}, "message": "Add more GUI tests for settings page", "tree": {"sha": "f9f738450c8e9263750bce28e846963193f073c5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f9f738450c8e9263750bce28e846963193f073c5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/11a40ec5ffc68dc44e8ac1b122d46c919b35aff5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/11a40ec5ffc68dc44e8ac1b122d46c919b35aff5", "html_url": "https://github.com/rust-lang/rust/commit/11a40ec5ffc68dc44e8ac1b122d46c919b35aff5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/11a40ec5ffc68dc44e8ac1b122d46c919b35aff5/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e14d2efba3a43ca5f02ce69f978f64323c471abb", "url": "https://api.github.com/repos/rust-lang/rust/commits/e14d2efba3a43ca5f02ce69f978f64323c471abb", "html_url": "https://github.com/rust-lang/rust/commit/e14d2efba3a43ca5f02ce69f978f64323c471abb"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "ed4e9c2516b0b3dcef7586c5dd6768f697e43e9a", "filename": "src/test/rustdoc-gui/settings.goml", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/11a40ec5ffc68dc44e8ac1b122d46c919b35aff5/src%2Ftest%2Frustdoc-gui%2Fsettings.goml", "raw_url": "https://github.com/rust-lang/rust/raw/11a40ec5ffc68dc44e8ac1b122d46c919b35aff5/src%2Ftest%2Frustdoc-gui%2Fsettings.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsettings.goml?ref=11a40ec5ffc68dc44e8ac1b122d46c919b35aff5", "patch": "@@ -1,4 +1,5 @@\n-// This test ensures that the settings menu display is working as expected.\n+// This test ensures that the settings menu display is working as expected and that\n+// the settings page is also rendered as expected.\n goto: \"file://\" + |DOC_PATH| + \"/test_docs/index.html\"\n show-text: true // needed when we check for colors below.\n // First, we check that the settings page doesn't exist.\n@@ -140,7 +141,13 @@ assert-css: (\"#settings-menu .popover\", {\"display\": \"none\"})\n // Now we go to the settings page to check that the CSS is loaded as expected.\n goto: \"file://\" + |DOC_PATH| + \"/settings.html\"\n wait-for: \"#settings\"\n-assert-css: (\".setting-line .toggle .slider\", {\"width\": \"45px\", \"margin-right\": \"20px\"})\n+assert-css: (\n+    \".setting-line .toggle .slider\",\n+    {\"width\": \"45px\", \"margin-right\": \"20px\", \"border\": \"0px none rgb(0, 0, 0)\"},\n+)\n+\n+assert-attribute-false: (\"#settings\", {\"class\": \"popover\"}, CONTAINS)\n+compare-elements-position: (\".sub-container\", \"#settings\", (\"x\"))\n \n // We now check the display with JS disabled.\n assert-false: \"noscript section\""}]}