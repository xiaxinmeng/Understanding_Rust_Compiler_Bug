{"sha": "731f15551bbdf11e971b5a518d69c8f5772dfe9b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjczMWYxNTU1MWJiZGYxMWU5NzFiNWE1MThkNjljOGY1NzcyZGZlOWI=", "commit": {"author": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2019-12-02T23:47:50Z"}, "committer": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2019-12-02T23:47:25Z"}, "message": "Do not add block around async closure (#3946)", "tree": {"sha": "710dd079f9608a2584b2cd7a20dd00b5ab455317", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/710dd079f9608a2584b2cd7a20dd00b5ab455317"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/731f15551bbdf11e971b5a518d69c8f5772dfe9b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEvad8glYxF0mBkb3vPBMiIxeGBCYFAl3loo0ACgkQPBMiIxeG\nBCYG/RAA388GNmgaO42KVsDHz6NdMJyr+XBaPgRPnpXVBoRlJan9pXgD7Ns6hM82\nr1RBzeTTQRPRIQwpT3B2iG6khV/VnIOrsdT8tXI2TLM59eZLkSp5OrfwqYTXnd45\ndRgrkmXWTwsbtioWXzLiQ3svuhImU4N5rwNbcbxS0BhpTiphZAP3eeM7YPdkjrBg\no/irlHNiR+joOeEr9xNy/U9ojIOKs1tGQrH8CzhWNqvOycB4RtUdYOErmMBNa+Cg\nb4rRGL+BIojSsuKm7jll7V3Rz9Fyyc8x7icgSU3O8DYTfVOnfG0k7vEVcAlzPKpw\n2S4Khkc75aaKIFU7OJuvGcULax7o3KuNoFzvwjj7EaPRofJMm7NrKIRZbqVd/ofy\nU5bXkvf2uU5CIgPV5V9J0NwNZPOGY51SfKFq8an+qiQSZQKRNvvOTVzBiMNw2J6y\n0s+Qo/2wKRkBextaeDWjOvfNsZ4ibXdlDFHMmoZ6ykaNQsUS2cU4+/aFCyn68HKQ\nEluhWwt7lecqDuuhHlojzxaR5zpx53WCfuHUG07HHVWZ+oOZ5sqZLCARcy1pi5Wb\nZUeyijJv1Ia3tnyBAi+dskYRZh5h7B9y+jEtZv4YXhs2sk/vNApi6lCW80+jdBfX\nN6x7oulObrEligiNQKE694r8ugWXmm/Q/ARVi3NohV7ZZHeRxPg=\n=uYWF\n-----END PGP SIGNATURE-----", "payload": "tree 710dd079f9608a2584b2cd7a20dd00b5ab455317\nparent e47aae769e3507002ead3e1e41916e8e77ecb189\nauthor Seiichi Uchida <seuchida@gmail.com> 1575330470 +0900\ncommitter topecongiro <seuchida@gmail.com> 1575330445 +0900\n\nDo not add block around async closure (#3946)\n\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/731f15551bbdf11e971b5a518d69c8f5772dfe9b", "html_url": "https://github.com/rust-lang/rust/commit/731f15551bbdf11e971b5a518d69c8f5772dfe9b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/731f15551bbdf11e971b5a518d69c8f5772dfe9b/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e47aae769e3507002ead3e1e41916e8e77ecb189", "url": "https://api.github.com/repos/rust-lang/rust/commits/e47aae769e3507002ead3e1e41916e8e77ecb189", "html_url": "https://github.com/rust-lang/rust/commit/e47aae769e3507002ead3e1e41916e8e77ecb189"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "ed5c577d9331b288d3650f3bebda7ccb4e954451", "filename": "src/closures.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/731f15551bbdf11e971b5a518d69c8f5772dfe9b/src%2Fclosures.rs", "raw_url": "https://github.com/rust-lang/rust/raw/731f15551bbdf11e971b5a518d69c8f5772dfe9b/src%2Fclosures.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fclosures.rs?ref=731f15551bbdf11e971b5a518d69c8f5772dfe9b", "patch": "@@ -170,6 +170,7 @@ fn rewrite_closure_expr(\n     fn allow_multi_line(expr: &ast::Expr) -> bool {\n         match expr.kind {\n             ast::ExprKind::Match(..)\n+            | ast::ExprKind::Async(..)\n             | ast::ExprKind::Block(..)\n             | ast::ExprKind::TryBlock(..)\n             | ast::ExprKind::Loop(..)"}, {"sha": "9364e7dcc67da7dd36abb5f38840951c435104b3", "filename": "tests/target/async_closure.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/731f15551bbdf11e971b5a518d69c8f5772dfe9b/tests%2Ftarget%2Fasync_closure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/731f15551bbdf11e971b5a518d69c8f5772dfe9b/tests%2Ftarget%2Fasync_closure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fasync_closure.rs?ref=731f15551bbdf11e971b5a518d69c8f5772dfe9b", "patch": "@@ -15,4 +15,8 @@ fn main() {\n         let x = 3;\n         x\n     };\n+\n+    let f = |x| async {\n+        println!(\"hello, world\");\n+    };\n }"}]}