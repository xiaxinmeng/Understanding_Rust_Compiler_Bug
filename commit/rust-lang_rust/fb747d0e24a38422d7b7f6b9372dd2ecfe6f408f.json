{"sha": "fb747d0e24a38422d7b7f6b9372dd2ecfe6f408f", "node_id": "C_kwDOAAsO6NoAKGZiNzQ3ZDBlMjRhMzg0MjJkN2I3ZjZiOTM3MmRkMmVjZmU2ZjQwOGY", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-11-13T11:14:59Z"}, "committer": {"name": "Antoni Boucher", "email": "bouanto@zoho.com", "date": "2023-03-01T00:22:27Z"}, "message": "add is_sized method on Abi and Layout, and use it", "tree": {"sha": "860d16f57fbc5f6ec4da081abc81359410970eaf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/860d16f57fbc5f6ec4da081abc81359410970eaf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fb747d0e24a38422d7b7f6b9372dd2ecfe6f408f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fb747d0e24a38422d7b7f6b9372dd2ecfe6f408f", "html_url": "https://github.com/rust-lang/rust/commit/fb747d0e24a38422d7b7f6b9372dd2ecfe6f408f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fb747d0e24a38422d7b7f6b9372dd2ecfe6f408f/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a8978641504ba90aaaa41b2acb72578ea7bb328c", "url": "https://api.github.com/repos/rust-lang/rust/commits/a8978641504ba90aaaa41b2acb72578ea7bb328c", "html_url": "https://github.com/rust-lang/rust/commit/a8978641504ba90aaaa41b2acb72578ea7bb328c"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "55e4d0c6289a2ff82899902f8516851917ad0851", "filename": "src/type_.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fb747d0e24a38422d7b7f6b9372dd2ecfe6f408f/src%2Ftype_.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fb747d0e24a38422d7b7f6b9372dd2ecfe6f408f/src%2Ftype_.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftype_.rs?ref=fb747d0e24a38422d7b7f6b9372dd2ecfe6f408f", "patch": "@@ -277,7 +277,7 @@ pub fn struct_fields<'gcc, 'tcx>(cx: &CodegenCx<'gcc, 'tcx>, layout: TyAndLayout\n         offset = target_offset + field.size;\n         prev_effective_align = effective_field_align;\n     }\n-    if !layout.is_unsized() && field_count > 0 {\n+    if layout.is_sized() && field_count > 0 {\n         if offset > layout.size {\n             bug!(\"layout: {:#?} stride: {:?} offset: {:?}\", layout, layout.size, offset);\n         }"}]}