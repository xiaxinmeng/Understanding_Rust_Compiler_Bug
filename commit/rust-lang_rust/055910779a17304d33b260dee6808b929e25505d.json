{"sha": "055910779a17304d33b260dee6808b929e25505d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA1NTkxMDc3OWExNzMwNGQzM2IyNjBkZWU2ODA4YjkyOWUyNTUwNWQ=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2017-11-16T17:20:51Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2017-11-17T00:21:24Z"}, "message": "Use local spans only", "tree": {"sha": "4d367622aa0ffc23fee0cd9148b193725afeea4d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4d367622aa0ffc23fee0cd9148b193725afeea4d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/055910779a17304d33b260dee6808b929e25505d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/055910779a17304d33b260dee6808b929e25505d", "html_url": "https://github.com/rust-lang/rust/commit/055910779a17304d33b260dee6808b929e25505d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/055910779a17304d33b260dee6808b929e25505d/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f796fcd623c6e21544accb2315344be176c43e77", "url": "https://api.github.com/repos/rust-lang/rust/commits/f796fcd623c6e21544accb2315344be176c43e77", "html_url": "https://github.com/rust-lang/rust/commit/f796fcd623c6e21544accb2315344be176c43e77"}], "stats": {"total": 285, "additions": 100, "deletions": 185}, "files": [{"sha": "0f6f906ea55c962708450b3365e8ffb19e6cc568", "filename": "src/librustc_typeck/check/method/suggest.rs", "status": "modified", "additions": 13, "deletions": 11, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/055910779a17304d33b260dee6808b929e25505d/src%2Flibrustc_typeck%2Fcheck%2Fmethod%2Fsuggest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/055910779a17304d33b260dee6808b929e25505d/src%2Flibrustc_typeck%2Fcheck%2Fmethod%2Fsuggest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmethod%2Fsuggest.rs?ref=055910779a17304d33b260dee6808b929e25505d", "patch": "@@ -176,7 +176,8 @@ impl<'a, 'gcx, 'tcx> FnCtxt<'a, 'gcx, 'tcx> {\n \n                 let actual = self.resolve_type_vars_if_possible(&rcvr_ty);\n                 let ty_string = self.ty_to_string(actual);\n-                let type_str = if mode == Mode::MethodCall {\n+                let is_method = mode == Mode::MethodCall;\n+                let type_str = if is_method {\n                     \"method\"\n                 } else if actual.is_enum() {\n                     \"variant\"\n@@ -207,16 +208,17 @@ impl<'a, 'gcx, 'tcx> FnCtxt<'a, 'gcx, 'tcx> {\n                 };\n \n                 if let Some(def) =  actual.ty_adt_def() {\n-                    let full_sp = tcx.def_span(def.did);\n-                    let def_sp = tcx.sess.codemap().def_span(full_sp);\n-                    err.span_label(def_sp, format!(\"{} `{}` not found {}\",\n-                                                   type_str,\n-                                                   item_name,\n-                                                   if def.is_enum() {\n-                                                       \"here\"\n-                                                   } else {\n-                                                       \"for this\"\n-                                                   }));\n+                    if let Some(full_sp) = tcx.hir.span_if_local(def.did) {\n+                        let def_sp = tcx.sess.codemap().def_span(full_sp);\n+                        err.span_label(def_sp, format!(\"{} `{}` not found {}\",\n+                                                       type_str,\n+                                                       item_name,\n+                                                       if def.is_enum() && !is_method {\n+                                                           \"here\"\n+                                                       } else {\n+                                                           \"for this\"\n+                                                       }));\n+                    }\n                 }\n \n                 // If the method name is the name of a field with a function or closure type,"}, {"sha": "a629f76d8b3e917b0b4af361e6472d8319970dc6", "filename": "src/test/compile-fail/bogus-tag.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fcompile-fail%2Fbogus-tag.rs", "raw_url": "https://github.com/rust-lang/rust/raw/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fcompile-fail%2Fbogus-tag.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fbogus-tag.rs?ref=055910779a17304d33b260dee6808b929e25505d", "patch": "@@ -16,6 +16,8 @@ fn main() {\n     let red: color = color::rgb(255, 0, 0);\n     match red {\n       color::rgb(r, g, b) => { println!(\"rgb\"); }\n-      color::hsl(h, s, l) => { println!(\"hsl\"); }  //~ ERROR no variant\n+      color::hsl(h, s, l) => { println!(\"hsl\"); }\n+      //~^ ERROR no variant\n+      //~| NOTE variant not found in `color`\n     }\n }"}, {"sha": "583f2ace4ba054b65a0678ff4b107cf5374499f8", "filename": "src/test/compile-fail/issue-22933-2.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fcompile-fail%2Fissue-22933-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fcompile-fail%2Fissue-22933-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-22933-2.rs?ref=055910779a17304d33b260dee6808b929e25505d", "patch": "@@ -13,6 +13,7 @@ enum Delicious { //~ NOTE variant `PIE` not found here\n     Apple    = 0x2,\n     ApplePie = Delicious::Apple as isize | Delicious::PIE as isize,\n     //~^ ERROR no variant named `PIE` found for type `Delicious`\n+    //~| NOTE variant not found in `Delicious`\n }\n \n fn main() {}"}, {"sha": "6f1013ec593faaa6bf8828a5593ee1e63a885d3b", "filename": "src/test/compile-fail/issue-23173.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fcompile-fail%2Fissue-23173.rs", "raw_url": "https://github.com/rust-lang/rust/raw/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fcompile-fail%2Fissue-23173.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-23173.rs?ref=055910779a17304d33b260dee6808b929e25505d", "patch": "@@ -14,5 +14,7 @@ enum Token { LeftParen, RightParen, Plus, Minus, /* etc */ }\n fn use_token(token: &Token) { unimplemented!() }\n \n fn main() {\n-    use_token(&Token::Homura); //~ ERROR no variant named `Homura`\n+    use_token(&Token::Homura);\n+    //~^ ERROR no variant named `Homura`\n+    //~| NOTE variant not found in `Token`\n }"}, {"sha": "cce0b99c04d79822727675b4197ba48d5445e45f", "filename": "src/test/compile-fail/issue-23217.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fcompile-fail%2Fissue-23217.rs", "raw_url": "https://github.com/rust-lang/rust/raw/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fcompile-fail%2Fissue-23217.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-23217.rs?ref=055910779a17304d33b260dee6808b929e25505d", "patch": "@@ -11,6 +11,7 @@\n pub enum SomeEnum { //~ NOTE variant `A` not found here\n     B = SomeEnum::A,\n     //~^ ERROR no variant named `A` found for type `SomeEnum`\n+    //~| NOTE variant not found in `SomeEnum`\n }\n \n fn main() {}"}, {"sha": "10be4d6210d7adbdd747db9d55343f71025fd048", "filename": "src/test/compile-fail/issue-28971.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fcompile-fail%2Fissue-28971.rs", "raw_url": "https://github.com/rust-lang/rust/raw/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fcompile-fail%2Fissue-28971.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-28971.rs?ref=055910779a17304d33b260dee6808b929e25505d", "patch": "@@ -18,6 +18,7 @@ fn main(){\n         match Foo::Bar(1) {\n             Foo::Baz(..) => (),\n             //~^ ERROR no variant named `Baz` found for type `Foo`\n+            //~| NOTE variant not found in `Foo`\n             _ => (),\n         }\n     });"}, {"sha": "6ea62341f7277319e685847c8d429a4be656565e", "filename": "src/test/ui/impl-trait/no-method-suggested-traits.stderr", "status": "modified", "additions": 57, "deletions": 136, "changes": 193, "blob_url": "https://github.com/rust-lang/rust/blob/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fui%2Fimpl-trait%2Fno-method-suggested-traits.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fui%2Fimpl-trait%2Fno-method-suggested-traits.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimpl-trait%2Fno-method-suggested-traits.stderr?ref=055910779a17304d33b260dee6808b929e25505d", "patch": "@@ -12,22 +12,17 @@ error[E0599]: no method named `method` found for type `u32` in the current scope\n            candidate #4: `use no_method_suggested_traits::Reexported;`\n \n error[E0599]: no method named `method` found for type `std::rc::Rc<&mut std::boxed::Box<&u32>>` in the current scope\n-   --> $DIR/no-method-suggested-traits.rs:38:44\n-    |\n-38  |     std::rc::Rc::new(&mut Box::new(&1u32)).method();\n-    |                                            ^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method` not found for this\n-    |\n-    = help: items from traits can only be used if the trait is in scope\n-    = note: the following traits are implemented but not in scope, perhaps add a `use` for one of them:\n-            candidate #1: `use foo::Bar;`\n-            candidate #2: `use no_method_suggested_traits::foo::PubPub;`\n-            candidate #3: `use no_method_suggested_traits::qux::PrivPub;`\n-            candidate #4: `use no_method_suggested_traits::Reexported;`\n+  --> $DIR/no-method-suggested-traits.rs:38:44\n+   |\n+38 |     std::rc::Rc::new(&mut Box::new(&1u32)).method();\n+   |                                            ^^^^^^\n+   |\n+   = help: items from traits can only be used if the trait is in scope\n+   = note: the following traits are implemented but not in scope, perhaps add a `use` for one of them:\n+           candidate #1: `use foo::Bar;`\n+           candidate #2: `use no_method_suggested_traits::foo::PubPub;`\n+           candidate #3: `use no_method_suggested_traits::qux::PrivPub;`\n+           candidate #4: `use no_method_suggested_traits::Reexported;`\n \n error[E0599]: no method named `method` found for type `char` in the current scope\n   --> $DIR/no-method-suggested-traits.rs:44:9\n@@ -40,19 +35,14 @@ error[E0599]: no method named `method` found for type `char` in the current scop\n            candidate #1: `use foo::Bar;`\n \n error[E0599]: no method named `method` found for type `std::rc::Rc<&mut std::boxed::Box<&char>>` in the current scope\n-   --> $DIR/no-method-suggested-traits.rs:48:43\n-    |\n-48  |     std::rc::Rc::new(&mut Box::new(&'a')).method();\n-    |                                           ^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method` not found for this\n-    |\n-    = help: items from traits can only be used if the trait is in scope\n-    = note: the following trait is implemented but not in scope, perhaps add a `use` for it:\n-            candidate #1: `use foo::Bar;`\n+  --> $DIR/no-method-suggested-traits.rs:48:43\n+   |\n+48 |     std::rc::Rc::new(&mut Box::new(&'a')).method();\n+   |                                           ^^^^^^\n+   |\n+   = help: items from traits can only be used if the trait is in scope\n+   = note: the following trait is implemented but not in scope, perhaps add a `use` for it:\n+           candidate #1: `use foo::Bar;`\n \n error[E0599]: no method named `method` found for type `i32` in the current scope\n   --> $DIR/no-method-suggested-traits.rs:53:10\n@@ -65,18 +55,14 @@ error[E0599]: no method named `method` found for type `i32` in the current scope\n            candidate #1: `use no_method_suggested_traits::foo::PubPub;`\n \n error[E0599]: no method named `method` found for type `std::rc::Rc<&mut std::boxed::Box<&i32>>` in the current scope\n-   --> $DIR/no-method-suggested-traits.rs:57:44\n-    |\n-57  |     std::rc::Rc::new(&mut Box::new(&1i32)).method();\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method` not found for this\n-    |\n-    = help: items from traits can only be used if the trait is in scope\n-    = note: the following trait is implemented but not in scope, perhaps add a `use` for it:\n-            candidate #1: `use no_method_suggested_traits::foo::PubPub;`\n+  --> $DIR/no-method-suggested-traits.rs:57:44\n+   |\n+57 |     std::rc::Rc::new(&mut Box::new(&1i32)).method();\n+   |                                            ^^^^^^\n+   |\n+   = help: items from traits can only be used if the trait is in scope\n+   = note: the following trait is implemented but not in scope, perhaps add a `use` for it:\n+           candidate #1: `use no_method_suggested_traits::foo::PubPub;`\n \n error[E0599]: no method named `method` found for type `Foo` in the current scope\n   --> $DIR/no-method-suggested-traits.rs:62:9\n@@ -97,24 +83,19 @@ error[E0599]: no method named `method` found for type `Foo` in the current scope\n            candidate #6: `no_method_suggested_traits::Reexported`\n \n error[E0599]: no method named `method` found for type `std::rc::Rc<&mut std::boxed::Box<&Foo>>` in the current scope\n-   --> $DIR/no-method-suggested-traits.rs:71:43\n-    |\n-71  |     std::rc::Rc::new(&mut Box::new(&Foo)).method();\n-    |                                           ^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method` not found for this\n-    |\n-    = help: items from traits can only be used if the trait is implemented and in scope\n-    = note: the following traits define an item `method`, perhaps you need to implement one of them:\n-            candidate #1: `foo::Bar`\n-            candidate #2: `no_method_suggested_traits::foo::PubPub`\n-            candidate #3: `no_method_suggested_traits::bar::PubPriv`\n-            candidate #4: `no_method_suggested_traits::qux::PrivPub`\n-            candidate #5: `no_method_suggested_traits::quz::PrivPriv`\n-            candidate #6: `no_method_suggested_traits::Reexported`\n+  --> $DIR/no-method-suggested-traits.rs:71:43\n+   |\n+71 |     std::rc::Rc::new(&mut Box::new(&Foo)).method();\n+   |                                           ^^^^^^\n+   |\n+   = help: items from traits can only be used if the trait is implemented and in scope\n+   = note: the following traits define an item `method`, perhaps you need to implement one of them:\n+           candidate #1: `foo::Bar`\n+           candidate #2: `no_method_suggested_traits::foo::PubPub`\n+           candidate #3: `no_method_suggested_traits::bar::PubPriv`\n+           candidate #4: `no_method_suggested_traits::qux::PrivPub`\n+           candidate #5: `no_method_suggested_traits::quz::PrivPriv`\n+           candidate #6: `no_method_suggested_traits::Reexported`\n \n error[E0599]: no method named `method2` found for type `u64` in the current scope\n   --> $DIR/no-method-suggested-traits.rs:81:10\n@@ -127,60 +108,40 @@ error[E0599]: no method named `method2` found for type `u64` in the current scop\n            candidate #1: `foo::Bar`\n \n error[E0599]: no method named `method2` found for type `std::rc::Rc<&mut std::boxed::Box<&u64>>` in the current scope\n-   --> $DIR/no-method-suggested-traits.rs:85:44\n-    |\n-85  |     std::rc::Rc::new(&mut Box::new(&1u64)).method2();\n-    |                                            ^^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method2` not found for this\n-    |\n-    = help: items from traits can only be used if the trait is implemented and in scope\n-    = note: the following trait defines an item `method2`, perhaps you need to implement it:\n-            candidate #1: `foo::Bar`\n+  --> $DIR/no-method-suggested-traits.rs:85:44\n+   |\n+85 |     std::rc::Rc::new(&mut Box::new(&1u64)).method2();\n+   |                                            ^^^^^^^\n+   |\n+   = help: items from traits can only be used if the trait is implemented and in scope\n+   = note: the following trait defines an item `method2`, perhaps you need to implement it:\n+           candidate #1: `foo::Bar`\n \n error[E0599]: no method named `method2` found for type `no_method_suggested_traits::Foo` in the current scope\n   --> $DIR/no-method-suggested-traits.rs:90:37\n    |\n 90 |     no_method_suggested_traits::Foo.method2();\n    |                                     ^^^^^^^\n-   | \n-  ::: $DIR/auxiliary/no_method_suggested_traits.rs\n-   |\n-13 | pub struct Foo;\n-   | --------------- method `method2` not found for this\n    |\n    = help: items from traits can only be used if the trait is implemented and in scope\n    = note: the following trait defines an item `method2`, perhaps you need to implement it:\n            candidate #1: `foo::Bar`\n \n error[E0599]: no method named `method2` found for type `std::rc::Rc<&mut std::boxed::Box<&no_method_suggested_traits::Foo>>` in the current scope\n-   --> $DIR/no-method-suggested-traits.rs:94:71\n-    |\n-94  |     std::rc::Rc::new(&mut Box::new(&no_method_suggested_traits::Foo)).method2();\n-    |                                                                       ^^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method2` not found for this\n-    |\n-    = help: items from traits can only be used if the trait is implemented and in scope\n-    = note: the following trait defines an item `method2`, perhaps you need to implement it:\n-            candidate #1: `foo::Bar`\n+  --> $DIR/no-method-suggested-traits.rs:94:71\n+   |\n+94 |     std::rc::Rc::new(&mut Box::new(&no_method_suggested_traits::Foo)).method2();\n+   |                                                                       ^^^^^^^\n+   |\n+   = help: items from traits can only be used if the trait is implemented and in scope\n+   = note: the following trait defines an item `method2`, perhaps you need to implement it:\n+           candidate #1: `foo::Bar`\n \n error[E0599]: no method named `method2` found for type `no_method_suggested_traits::Bar` in the current scope\n   --> $DIR/no-method-suggested-traits.rs:98:40\n    |\n 98 |     no_method_suggested_traits::Bar::X.method2();\n    |                                        ^^^^^^^\n-   | \n-  ::: $DIR/auxiliary/no_method_suggested_traits.rs\n-   |\n-14 | pub enum Bar { X }\n-   | ------------ method `method2` not found here\n    |\n    = help: items from traits can only be used if the trait is implemented and in scope\n    = note: the following trait defines an item `method2`, perhaps you need to implement it:\n@@ -191,11 +152,6 @@ error[E0599]: no method named `method2` found for type `std::rc::Rc<&mut std::bo\n     |\n 102 |     std::rc::Rc::new(&mut Box::new(&no_method_suggested_traits::Bar::X)).method2();\n     |                                                                          ^^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method2` not found for this\n     |\n     = help: items from traits can only be used if the trait is implemented and in scope\n     = note: the following trait defines an item `method2`, perhaps you need to implement it:\n@@ -219,11 +175,6 @@ error[E0599]: no method named `method3` found for type `std::rc::Rc<&mut std::bo\n     |\n 111 |     std::rc::Rc::new(&mut Box::new(&Foo)).method3();\n     |                                           ^^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method3` not found for this\n     |\n     = help: items from traits can only be used if the trait is implemented and in scope\n     = note: the following trait defines an item `method3`, perhaps you need to implement it:\n@@ -233,7 +184,7 @@ error[E0599]: no method named `method3` found for type `Bar` in the current scop\n    --> $DIR/no-method-suggested-traits.rs:115:12\n     |\n 15  | enum Bar { X }\n-    | -------- method `method3` not found here\n+    | -------- method `method3` not found for this\n ...\n 115 |     Bar::X.method3();\n     |            ^^^^^^^\n@@ -247,11 +198,6 @@ error[E0599]: no method named `method3` found for type `std::rc::Rc<&mut std::bo\n     |\n 119 |     std::rc::Rc::new(&mut Box::new(&Bar::X)).method3();\n     |                                              ^^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method3` not found for this\n     |\n     = help: items from traits can only be used if the trait is implemented and in scope\n     = note: the following trait defines an item `method3`, perhaps you need to implement it:\n@@ -268,55 +214,30 @@ error[E0599]: no method named `method3` found for type `std::rc::Rc<&mut std::bo\n     |\n 126 |     std::rc::Rc::new(&mut Box::new(&1_usize)).method3(); //~ ERROR no method named\n     |                                               ^^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method3` not found for this\n \n error[E0599]: no method named `method3` found for type `no_method_suggested_traits::Foo` in the current scope\n    --> $DIR/no-method-suggested-traits.rs:127:37\n     |\n 127 |     no_method_suggested_traits::Foo.method3();  //~ ERROR no method named\n     |                                     ^^^^^^^\n-    | \n-   ::: $DIR/auxiliary/no_method_suggested_traits.rs\n-    |\n-13  | pub struct Foo;\n-    | --------------- method `method3` not found for this\n \n error[E0599]: no method named `method3` found for type `std::rc::Rc<&mut std::boxed::Box<&no_method_suggested_traits::Foo>>` in the current scope\n    --> $DIR/no-method-suggested-traits.rs:128:71\n     |\n 128 |     std::rc::Rc::new(&mut Box::new(&no_method_suggested_traits::Foo)).method3();\n     |                                                                       ^^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method3` not found for this\n \n error[E0599]: no method named `method3` found for type `no_method_suggested_traits::Bar` in the current scope\n    --> $DIR/no-method-suggested-traits.rs:130:40\n     |\n 130 |     no_method_suggested_traits::Bar::X.method3();  //~ ERROR no method named\n     |                                        ^^^^^^^\n-    | \n-   ::: $DIR/auxiliary/no_method_suggested_traits.rs\n-    |\n-14  | pub enum Bar { X }\n-    | ------------ method `method3` not found here\n \n error[E0599]: no method named `method3` found for type `std::rc::Rc<&mut std::boxed::Box<&no_method_suggested_traits::Bar>>` in the current scope\n    --> $DIR/no-method-suggested-traits.rs:131:74\n     |\n 131 |     std::rc::Rc::new(&mut Box::new(&no_method_suggested_traits::Bar::X)).method3();\n     |                                                                          ^^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/rc.rs\n-    |\n-284 | pub struct Rc<T: ?Sized> {\n-    | ------------------------ method `method3` not found for this\n \n error: aborting due to 24 previous errors\n "}, {"sha": "71a3a0a5714e89a8687876cac4f02c0d08e27ce6", "filename": "src/test/ui/mismatched_types/issue-36053-2.stderr", "status": "modified", "additions": 8, "deletions": 13, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-36053-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-36053-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-36053-2.stderr?ref=055910779a17304d33b260dee6808b929e25505d", "patch": "@@ -1,17 +1,12 @@\n error[E0599]: no method named `count` found for type `std::iter::Filter<std::iter::Fuse<std::iter::Once<&str>>, [closure@$DIR/issue-36053-2.rs:17:39: 17:53]>` in the current scope\n-    --> $DIR/issue-36053-2.rs:17:55\n-     |\n-17   |     once::<&str>(\"str\").fuse().filter(|a: &str| true).count();\n-     |                                                       ^^^^^\n-     | \n-    ::: /checkout/src/libcore/iter/mod.rs\n-     |\n-1200 | pub struct Filter<I, P> {\n-     | ----------------------- method `count` not found for this\n-     |\n-     = note: the method `count` exists but the following trait bounds were not satisfied:\n-             `std::iter::Filter<std::iter::Fuse<std::iter::Once<&str>>, [closure@$DIR/issue-36053-2.rs:17:39: 17:53]> : std::iter::Iterator`\n-             `&mut std::iter::Filter<std::iter::Fuse<std::iter::Once<&str>>, [closure@$DIR/issue-36053-2.rs:17:39: 17:53]> : std::iter::Iterator`\n+  --> $DIR/issue-36053-2.rs:17:55\n+   |\n+17 |     once::<&str>(\"str\").fuse().filter(|a: &str| true).count();\n+   |                                                       ^^^^^\n+   |\n+   = note: the method `count` exists but the following trait bounds were not satisfied:\n+           `std::iter::Filter<std::iter::Fuse<std::iter::Once<&str>>, [closure@$DIR/issue-36053-2.rs:17:39: 17:53]> : std::iter::Iterator`\n+           `&mut std::iter::Filter<std::iter::Fuse<std::iter::Once<&str>>, [closure@$DIR/issue-36053-2.rs:17:39: 17:53]> : std::iter::Iterator`\n \n error[E0631]: type mismatch in closure arguments\n   --> $DIR/issue-36053-2.rs:17:32"}, {"sha": "ab5b3e1791528adfafb92d7490d9ede384641372", "filename": "src/test/ui/mismatched_types/method-help-unsatisfied-bound.stderr", "status": "modified", "additions": 7, "deletions": 12, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fui%2Fmismatched_types%2Fmethod-help-unsatisfied-bound.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fui%2Fmismatched_types%2Fmethod-help-unsatisfied-bound.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Fmethod-help-unsatisfied-bound.stderr?ref=055910779a17304d33b260dee6808b929e25505d", "patch": "@@ -1,16 +1,11 @@\n error[E0599]: no method named `unwrap` found for type `std::result::Result<(), Foo>` in the current scope\n-   --> $DIR/method-help-unsatisfied-bound.rs:15:7\n-    |\n-15  |     a.unwrap();\n-    |       ^^^^^^\n-    | \n-   ::: /checkout/src/libcore/result.rs\n-    |\n-256 | pub enum Result<T, E> {\n-    | --------------------- method `unwrap` not found here\n-    |\n-    = note: the method `unwrap` exists but the following trait bounds were not satisfied:\n-            `Foo : std::fmt::Debug`\n+  --> $DIR/method-help-unsatisfied-bound.rs:15:7\n+   |\n+15 |     a.unwrap();\n+   |       ^^^^^^\n+   |\n+   = note: the method `unwrap` exists but the following trait bounds were not satisfied:\n+           `Foo : std::fmt::Debug`\n \n error: aborting due to previous error\n "}, {"sha": "30e3bbd9979766d6398dadacd306beadae4f957a", "filename": "src/test/ui/suggestions/suggest-methods.stderr", "status": "modified", "additions": 6, "deletions": 11, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-methods.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/055910779a17304d33b260dee6808b929e25505d/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-methods.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-methods.stderr?ref=055910779a17304d33b260dee6808b929e25505d", "patch": "@@ -10,17 +10,12 @@ error[E0599]: no method named `bat` found for type `Foo` in the current scope\n    = help: did you mean `bar`?\n \n error[E0599]: no method named `is_emtpy` found for type `std::string::String` in the current scope\n-   --> $DIR/suggest-methods.rs:31:15\n-    |\n-31  |     let _ = s.is_emtpy();\n-    |               ^^^^^^^^\n-    | \n-   ::: /checkout/src/liballoc/string.rs\n-    |\n-294 | pub struct String {\n-    | ----------------- method `is_emtpy` not found for this\n-    |\n-    = help: did you mean `is_empty`?\n+  --> $DIR/suggest-methods.rs:31:15\n+   |\n+31 |     let _ = s.is_emtpy();\n+   |               ^^^^^^^^\n+   |\n+   = help: did you mean `is_empty`?\n \n error[E0599]: no method named `count_eos` found for type `u32` in the current scope\n   --> $DIR/suggest-methods.rs:35:19"}]}