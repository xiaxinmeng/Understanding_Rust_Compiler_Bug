{"sha": "5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVjYTM4NTVjMDZiNmUyOGFhYTk5ZjVmZGRhNDFiNmI4MGVkODcxYjc=", "commit": {"author": {"name": "GrayJack", "email": "gr41.j4ck@gmail.com", "date": "2020-07-21T02:37:31Z"}, "committer": {"name": "GrayJack", "email": "gr41.j4ck@gmail.com", "date": "2020-07-21T02:37:31Z"}, "message": "On second thought, we want to preserve the textMate here where all punctuation that are from a Attr be highlited as Attribute", "tree": {"sha": "4092abfe62bd2a1bdb478d437884a4afaccca5ff", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4092abfe62bd2a1bdb478d437884a4afaccca5ff"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEcp2lmfLVC4NXZ3mZEsVOBKq5kx4FAl8WVOsACgkQEsVOBKq5\nkx7uOw//ZkSm7J0NVDfjqTVpyIqWHcnwJnBwmFmyAsNEy1xc+p4QGeAuwxMOyRwj\nWXXRa5YFjjwyI/MAmQ/zm3reOqYv8ILs9ZEX3p/iwff45y4xWmGmhH6VVFRwfWbO\nCsMZONdcaPGbYuYk3e8qhVrYfKhH2BNTcY9b65DK1tbuXZNKeRGatWxJbW0jk6iY\nlzJADpLQHPnihGcqpp7/5EBM2BWI98xl5f1Z65gOxio5cAhkOg3dpnI0bW9+pFn0\nm04IQitAn4Feqk/SNTQ3FyPmWPsxFjTsWeICyTk6Sqk+Nsvb7gYN/X/6HK3SYpCa\nTER1o4xmkR2pHyqZ5anvPn997urwwl3aa/1S0kMugSCnNdJ+HGc7NXxsD4gNmo8Y\ndzrQSGcgqe5UaIOpPFhD74TWoNyMQRf5pxZ71YKf7n13jaDIUVNodPQYm8+jxg+7\nQ8AFOo4CW56wLdAc2jGZLSdaAVeZtuhMU8E/Ke+C0Wx4QHOd1iVyNdysP61nV+Ru\nnpw3Jod9m3dVUuUDVnZHbeaU+FB1Av1tljdT87fZD2L8GOdqPdya7/PnV8r3nM0V\nz6EIVtYTa+fgPpwAC3FCid7gWa2OwSDkmuZKQCRpnHH30SfTPo6q+J6Ba/98di0i\nQ/wkinQC+WIYOUW483uH9h5UsbIAdgpCaddJGc4HAGYhFeYwOfg=\n=AC5x\n-----END PGP SIGNATURE-----", "payload": "tree 4092abfe62bd2a1bdb478d437884a4afaccca5ff\nparent 04d8dc4a10be5e0c6a852011c98284f0121f3293\nauthor GrayJack <gr41.j4ck@gmail.com> 1595299051 -0300\ncommitter GrayJack <gr41.j4ck@gmail.com> 1595299051 -0300\n\nOn second thought, we want to preserve the textMate here where all punctuation that are from a Attr be highlited as Attribute\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7", "html_url": "https://github.com/rust-lang/rust/commit/5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7/comments", "author": {"login": "GrayJack", "id": 17973728, "node_id": "MDQ6VXNlcjE3OTczNzI4", "avatar_url": "https://avatars.githubusercontent.com/u/17973728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GrayJack", "html_url": "https://github.com/GrayJack", "followers_url": "https://api.github.com/users/GrayJack/followers", "following_url": "https://api.github.com/users/GrayJack/following{/other_user}", "gists_url": "https://api.github.com/users/GrayJack/gists{/gist_id}", "starred_url": "https://api.github.com/users/GrayJack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GrayJack/subscriptions", "organizations_url": "https://api.github.com/users/GrayJack/orgs", "repos_url": "https://api.github.com/users/GrayJack/repos", "events_url": "https://api.github.com/users/GrayJack/events{/privacy}", "received_events_url": "https://api.github.com/users/GrayJack/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GrayJack", "id": 17973728, "node_id": "MDQ6VXNlcjE3OTczNzI4", "avatar_url": "https://avatars.githubusercontent.com/u/17973728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GrayJack", "html_url": "https://github.com/GrayJack", "followers_url": "https://api.github.com/users/GrayJack/followers", "following_url": "https://api.github.com/users/GrayJack/following{/other_user}", "gists_url": "https://api.github.com/users/GrayJack/gists{/gist_id}", "starred_url": "https://api.github.com/users/GrayJack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GrayJack/subscriptions", "organizations_url": "https://api.github.com/users/GrayJack/orgs", "repos_url": "https://api.github.com/users/GrayJack/repos", "events_url": "https://api.github.com/users/GrayJack/events{/privacy}", "received_events_url": "https://api.github.com/users/GrayJack/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "04d8dc4a10be5e0c6a852011c98284f0121f3293", "url": "https://api.github.com/repos/rust-lang/rust/commits/04d8dc4a10be5e0c6a852011c98284f0121f3293", "html_url": "https://github.com/rust-lang/rust/commit/04d8dc4a10be5e0c6a852011c98284f0121f3293"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "d456d5d362c919550c408c5195aa33e68aa9715e", "filename": "crates/ra_ide/src/syntax_highlighting.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs?ref=5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7", "patch": "@@ -540,7 +540,6 @@ fn highlight_element(\n             }\n         }\n         p if p.is_punct() => match p {\n-            T![#] => HighlightTag::Attribute.into(),\n             T![::] | T![->] | T![=>] | T![&] | T![..] | T![=] | T![@] => {\n                 HighlightTag::Operator.into()\n             }\n@@ -581,6 +580,9 @@ fn highlight_element(\n             _ if element.parent().and_then(ast::DotDotPat::cast).is_some() => {\n                 HighlightTag::Operator.into()\n             }\n+            _ if element.parent().and_then(ast::Attr::cast).is_some() => {\n+                HighlightTag::Attribute.into()\n+            }\n             _ => HighlightTag::Punctuation.into(),\n         },\n "}, {"sha": "6322d404fba5c6c7cab62278eecce9b22af4b45c", "filename": "crates/ra_ide/test_data/highlight_doctest.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7/crates%2Fra_ide%2Ftest_data%2Fhighlight_doctest.html", "raw_url": "https://github.com/rust-lang/rust/raw/5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7/crates%2Fra_ide%2Ftest_data%2Fhighlight_doctest.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Ftest_data%2Fhighlight_doctest.html?ref=5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7", "patch": "@@ -50,7 +50,7 @@\n     <span class=\"comment documentation\">/// # Examples</span>\n     <span class=\"comment documentation\">///</span>\n     <span class=\"comment documentation\">/// ```</span>\n-    <span class=\"comment documentation\">/// #</span><span class=\"generic injected\"> </span><span class=\"attribute injected\">#</span><span class=\"punctuation injected\">!</span><span class=\"punctuation injected\">[</span><span class=\"function attribute injected\">allow</span><span class=\"punctuation injected\">(</span><span class=\"attribute injected\">unused_mut</span><span class=\"punctuation injected\">)</span><span class=\"punctuation injected\">]</span>\n+    <span class=\"comment documentation\">/// #</span><span class=\"generic injected\"> </span><span class=\"attribute injected\">#</span><span class=\"attribute injected\">!</span><span class=\"attribute injected\">[</span><span class=\"function attribute injected\">allow</span><span class=\"punctuation injected\">(</span><span class=\"attribute injected\">unused_mut</span><span class=\"punctuation injected\">)</span><span class=\"attribute injected\">]</span>\n     <span class=\"comment documentation\">/// </span><span class=\"keyword injected\">let</span><span class=\"generic injected\"> </span><span class=\"keyword injected\">mut</span><span class=\"generic injected\"> </span><span class=\"variable declaration injected mutable\">foo</span><span class=\"punctuation injected\">:</span><span class=\"generic injected\"> </span><span class=\"struct injected\">Foo</span><span class=\"generic injected\"> </span><span class=\"operator injected\">=</span><span class=\"generic injected\"> </span><span class=\"struct injected\">Foo</span><span class=\"operator injected\">::</span><span class=\"function injected\">new</span><span class=\"punctuation injected\">(</span><span class=\"punctuation injected\">)</span><span class=\"punctuation injected\">;</span><span class=\"punctuation injected\">\n </span>    <span class=\"comment documentation\">/// ```</span>\n     <span class=\"keyword\">pub</span> <span class=\"keyword\">const</span> <span class=\"keyword\">fn</span> <span class=\"function declaration\">new</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">-&gt;</span> <span class=\"struct\">Foo</span> <span class=\"punctuation\">{</span>"}, {"sha": "345a2f0231f26b5c034e20dff87e1cac43f2a343", "filename": "crates/ra_ide/test_data/highlighting.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7/crates%2Fra_ide%2Ftest_data%2Fhighlighting.html", "raw_url": "https://github.com/rust-lang/rust/raw/5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7/crates%2Fra_ide%2Ftest_data%2Fhighlighting.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Ftest_data%2Fhighlighting.html?ref=5ca3855c06b6e28aaa99f5fdda41b6b80ed871b7", "patch": "@@ -35,7 +35,7 @@\n \n .unresolved_reference { color: #FC5555; text-decoration: wavy underline; }\n </style>\n-<pre><code><span class=\"attribute\">#</span><span class=\"punctuation\">[</span><span class=\"function attribute\">derive</span><span class=\"punctuation\">(</span><span class=\"attribute\">Clone</span><span class=\"punctuation\">,</span><span class=\"attribute\"> Debug</span><span class=\"punctuation\">)</span><span class=\"punctuation\">]</span>\n+<pre><code><span class=\"attribute\">#</span><span class=\"attribute\">[</span><span class=\"function attribute\">derive</span><span class=\"punctuation\">(</span><span class=\"attribute\">Clone</span><span class=\"punctuation\">,</span><span class=\"attribute\"> Debug</span><span class=\"punctuation\">)</span><span class=\"attribute\">]</span>\n <span class=\"keyword\">struct</span> <span class=\"struct declaration\">Foo</span> <span class=\"punctuation\">{</span>\n     <span class=\"keyword\">pub</span> <span class=\"field declaration\">x</span><span class=\"punctuation\">:</span> <span class=\"builtin_type\">i32</span><span class=\"punctuation\">,</span>\n     <span class=\"keyword\">pub</span> <span class=\"field declaration\">y</span><span class=\"punctuation\">:</span> <span class=\"builtin_type\">i32</span><span class=\"punctuation\">,</span>"}]}