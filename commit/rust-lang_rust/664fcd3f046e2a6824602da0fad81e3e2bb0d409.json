{"sha": "664fcd3f046e2a6824602da0fad81e3e2bb0d409", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY2NGZjZDNmMDQ2ZTJhNjgyNDYwMmRhMGZhZDgxZTNlMmJiMGQ0MDk=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-05-27T18:31:45Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-05-27T18:31:45Z"}, "message": "Auto merge of #71996 - Marwes:detach_undo_log, r=nikomatsakis\n\nperf: Revert accidental inclusion of a part of #69218\n\nThis was accidentally included in #69464 after a rebase and given\nhow much `inflate` and `keccak` stresses the obligation forest seems\nlike a likely culprit to the regression in those benchmarks.\n\n(It is necessary in #69218 as obligation forest needs to accurately\ntrack the root variables or unifications will get lost)", "tree": {"sha": "ed667621520f5a6c31b14fc06365cdf4b0309afa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ed667621520f5a6c31b14fc06365cdf4b0309afa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/664fcd3f046e2a6824602da0fad81e3e2bb0d409", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/664fcd3f046e2a6824602da0fad81e3e2bb0d409", "html_url": "https://github.com/rust-lang/rust/commit/664fcd3f046e2a6824602da0fad81e3e2bb0d409", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/664fcd3f046e2a6824602da0fad81e3e2bb0d409/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2873165725c15e96dae521a412065c144d9c7a25", "url": "https://api.github.com/repos/rust-lang/rust/commits/2873165725c15e96dae521a412065c144d9c7a25", "html_url": "https://github.com/rust-lang/rust/commit/2873165725c15e96dae521a412065c144d9c7a25"}, {"sha": "ebc7eda9e75829305a31a00037056a5365d261fe", "url": "https://api.github.com/repos/rust-lang/rust/commits/ebc7eda9e75829305a31a00037056a5365d261fe", "html_url": "https://github.com/rust-lang/rust/commit/ebc7eda9e75829305a31a00037056a5365d261fe"}], "stats": {"total": 74, "additions": 41, "deletions": 33}, "files": [{"sha": "b4cc85293f7c19b84d27b612d0b09f56a25f7cd6", "filename": "src/librustc_data_structures/snapshot_map/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_data_structures%2Fsnapshot_map%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_data_structures%2Fsnapshot_map%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Fsnapshot_map%2Fmod.rs?ref=664fcd3f046e2a6824602da0fad81e3e2bb0d409", "patch": "@@ -37,6 +37,7 @@ pub enum UndoLog<K, V> {\n }\n \n impl<K, V, M, L> SnapshotMap<K, V, M, L> {\n+    #[inline]\n     pub fn with_log<L2>(&mut self, undo_log: L2) -> SnapshotMap<K, V, &mut M, L2> {\n         SnapshotMap { map: &mut self.map, undo_log, _marker: PhantomData }\n     }"}, {"sha": "4df0802976b918837a39a7549fd117d8f5781076", "filename": "src/librustc_infer/infer/mod.rs", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_infer%2Finfer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_infer%2Finfer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_infer%2Finfer%2Fmod.rs?ref=664fcd3f046e2a6824602da0fad81e3e2bb0d409", "patch": "@@ -217,18 +217,22 @@ impl<'tcx> InferCtxtInner<'tcx> {\n         }\n     }\n \n+    #[inline]\n     pub fn region_obligations(&self) -> &[(hir::HirId, RegionObligation<'tcx>)] {\n         &self.region_obligations\n     }\n \n+    #[inline]\n     pub fn projection_cache(&mut self) -> traits::ProjectionCache<'_, 'tcx> {\n         self.projection_cache.with_log(&mut self.undo_log)\n     }\n \n+    #[inline]\n     fn type_variables(&mut self) -> type_variable::TypeVariableTable<'_, 'tcx> {\n         self.type_variable_storage.with_log(&mut self.undo_log)\n     }\n \n+    #[inline]\n     fn int_unification_table(\n         &mut self,\n     ) -> ut::UnificationTable<\n@@ -241,6 +245,7 @@ impl<'tcx> InferCtxtInner<'tcx> {\n         self.int_unification_storage.with_log(&mut self.undo_log)\n     }\n \n+    #[inline]\n     fn float_unification_table(\n         &mut self,\n     ) -> ut::UnificationTable<\n@@ -253,6 +258,7 @@ impl<'tcx> InferCtxtInner<'tcx> {\n         self.float_unification_storage.with_log(&mut self.undo_log)\n     }\n \n+    #[inline]\n     fn const_unification_table(\n         &mut self,\n     ) -> ut::UnificationTable<\n@@ -265,6 +271,7 @@ impl<'tcx> InferCtxtInner<'tcx> {\n         self.const_unification_storage.with_log(&mut self.undo_log)\n     }\n \n+    #[inline]\n     pub fn unwrap_region_constraints(&mut self) -> RegionConstraintCollector<'_, 'tcx> {\n         self.region_constraint_storage\n             .as_mut()\n@@ -1602,14 +1609,13 @@ impl<'a, 'tcx> InferCtxt<'a, 'tcx> {\n     /// having to resort to storing full `GenericArg`s in `stalled_on`.\n     #[inline(always)]\n     pub fn ty_or_const_infer_var_changed(&self, infer_var: TyOrConstInferVar<'tcx>) -> bool {\n-        let mut inner = self.inner.borrow_mut();\n         match infer_var {\n             TyOrConstInferVar::Ty(v) => {\n                 use self::type_variable::TypeVariableValue;\n \n                 // If `inlined_probe` returns a `Known` value, it never equals\n                 // `ty::Infer(ty::TyVar(v))`.\n-                match inner.type_variables().inlined_probe(v) {\n+                match self.inner.borrow_mut().type_variables().inlined_probe(v) {\n                     TypeVariableValue::Unknown { .. } => false,\n                     TypeVariableValue::Known { .. } => true,\n                 }\n@@ -1619,23 +1625,23 @@ impl<'a, 'tcx> InferCtxt<'a, 'tcx> {\n                 // If `inlined_probe_value` returns a value it's always a\n                 // `ty::Int(_)` or `ty::UInt(_)`, which never matches a\n                 // `ty::Infer(_)`.\n-                inner.int_unification_table().inlined_probe_value(v).is_some()\n+                self.inner.borrow_mut().int_unification_table().inlined_probe_value(v).is_some()\n             }\n \n             TyOrConstInferVar::TyFloat(v) => {\n                 // If `probe_value` returns a value it's always a\n                 // `ty::Float(_)`, which never matches a `ty::Infer(_)`.\n                 //\n                 // Not `inlined_probe_value(v)` because this call site is colder.\n-                inner.float_unification_table().probe_value(v).is_some()\n+                self.inner.borrow_mut().float_unification_table().probe_value(v).is_some()\n             }\n \n             TyOrConstInferVar::Const(v) => {\n                 // If `probe_value` returns a `Known` value, it never equals\n                 // `ty::ConstKind::Infer(ty::InferConst::Var(v))`.\n                 //\n                 // Not `inlined_probe_value(v)` because this call site is colder.\n-                match inner.const_unification_table().probe_value(v).val {\n+                match self.inner.borrow_mut().const_unification_table().probe_value(v).val {\n                     ConstVariableValue::Unknown { .. } => false,\n                     ConstVariableValue::Known { .. } => true,\n                 }"}, {"sha": "626774617a67a24c9dc50c807015db9da18638bb", "filename": "src/librustc_infer/infer/region_constraints/mod.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_infer%2Finfer%2Fregion_constraints%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_infer%2Finfer%2Fregion_constraints%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_infer%2Finfer%2Fregion_constraints%2Fmod.rs?ref=664fcd3f046e2a6824602da0fad81e3e2bb0d409", "patch": "@@ -68,12 +68,14 @@ pub struct RegionConstraintCollector<'a, 'tcx> {\n \n impl std::ops::Deref for RegionConstraintCollector<'_, 'tcx> {\n     type Target = RegionConstraintStorage<'tcx>;\n+    #[inline]\n     fn deref(&self) -> &RegionConstraintStorage<'tcx> {\n         self.storage\n     }\n }\n \n impl std::ops::DerefMut for RegionConstraintCollector<'_, 'tcx> {\n+    #[inline]\n     fn deref_mut(&mut self) -> &mut RegionConstraintStorage<'tcx> {\n         self.storage\n     }\n@@ -345,6 +347,7 @@ impl<'tcx> RegionConstraintStorage<'tcx> {\n         Self::default()\n     }\n \n+    #[inline]\n     pub(crate) fn with_log<'a>(\n         &'a mut self,\n         undo_log: &'a mut InferCtxtUndoLogs<'tcx>,\n@@ -794,6 +797,7 @@ impl<'tcx> RegionConstraintCollector<'_, 'tcx> {\n             .unwrap_or(None)\n     }\n \n+    #[inline]\n     fn unification_table(&mut self) -> super::UnificationTable<'_, 'tcx, ty::RegionVid> {\n         ut::UnificationTable::with_log(&mut self.storage.unification_table, self.undo_log)\n     }"}, {"sha": "53c7dcc6377184c02cae803e1a30b2e14a525d81", "filename": "src/librustc_infer/infer/type_variable.rs", "status": "modified", "additions": 15, "deletions": 16, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_infer%2Finfer%2Ftype_variable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_infer%2Finfer%2Ftype_variable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_infer%2Finfer%2Ftype_variable.rs?ref=664fcd3f046e2a6824602da0fad81e3e2bb0d409", "patch": "@@ -87,11 +87,7 @@ pub struct TypeVariableStorage<'tcx> {\n }\n \n pub struct TypeVariableTable<'a, 'tcx> {\n-    values: &'a mut sv::SnapshotVecStorage<Delegate>,\n-\n-    eq_relations: &'a mut ut::UnificationTableStorage<TyVidEqKey<'tcx>>,\n-\n-    sub_relations: &'a mut ut::UnificationTableStorage<ty::TyVid>,\n+    storage: &'a mut TypeVariableStorage<'tcx>,\n \n     undo_log: &'a mut InferCtxtUndoLogs<'tcx>,\n }\n@@ -165,12 +161,12 @@ impl<'tcx> TypeVariableStorage<'tcx> {\n         }\n     }\n \n+    #[inline]\n     pub(crate) fn with_log<'a>(\n         &'a mut self,\n         undo_log: &'a mut InferCtxtUndoLogs<'tcx>,\n     ) -> TypeVariableTable<'a, 'tcx> {\n-        let TypeVariableStorage { values, eq_relations, sub_relations } = self;\n-        TypeVariableTable { values, eq_relations, sub_relations, undo_log }\n+        TypeVariableTable { storage: self, undo_log }\n     }\n }\n \n@@ -180,15 +176,15 @@ impl<'tcx> TypeVariableTable<'_, 'tcx> {\n     /// Note that this function does not return care whether\n     /// `vid` has been unified with something else or not.\n     pub fn var_diverges(&self, vid: ty::TyVid) -> bool {\n-        self.values.get(vid.index as usize).diverging\n+        self.storage.values.get(vid.index as usize).diverging\n     }\n \n     /// Returns the origin that was given when `vid` was created.\n     ///\n     /// Note that this function does not return care whether\n     /// `vid` has been unified with something else or not.\n     pub fn var_origin(&self, vid: ty::TyVid) -> &TypeVariableOrigin {\n-        &self.values.get(vid.index as usize).origin\n+        &self.storage.values.get(vid.index as usize).origin\n     }\n \n     /// Records that `a == b`, depending on `dir`.\n@@ -265,7 +261,7 @@ impl<'tcx> TypeVariableTable<'_, 'tcx> {\n \n     /// Returns the number of type variables created thus far.\n     pub fn num_vars(&self) -> usize {\n-        self.values.len()\n+        self.storage.values.len()\n     }\n \n     /// Returns the \"root\" variable of `vid` in the `eq_relations`\n@@ -319,18 +315,21 @@ impl<'tcx> TypeVariableTable<'_, 'tcx> {\n         }\n     }\n \n+    #[inline]\n     fn values(\n         &mut self,\n     ) -> sv::SnapshotVec<Delegate, &mut Vec<TypeVariableData>, &mut InferCtxtUndoLogs<'tcx>> {\n-        self.values.with_log(self.undo_log)\n+        self.storage.values.with_log(self.undo_log)\n     }\n \n+    #[inline]\n     fn eq_relations(&mut self) -> super::UnificationTable<'_, 'tcx, TyVidEqKey<'tcx>> {\n-        self.eq_relations.with_log(self.undo_log)\n+        self.storage.eq_relations.with_log(self.undo_log)\n     }\n \n+    #[inline]\n     fn sub_relations(&mut self) -> super::UnificationTable<'_, 'tcx, ty::TyVid> {\n-        self.sub_relations.with_log(self.undo_log)\n+        self.storage.sub_relations.with_log(self.undo_log)\n     }\n \n     /// Returns a range of the type variables created during the snapshot.\n@@ -342,7 +341,7 @@ impl<'tcx> TypeVariableTable<'_, 'tcx> {\n         (\n             range.start..range.end,\n             (range.start.index..range.end.index)\n-                .map(|index| self.values.get(index as usize).origin)\n+                .map(|index| self.storage.values.get(index as usize).origin)\n                 .collect(),\n         )\n     }\n@@ -378,7 +377,7 @@ impl<'tcx> TypeVariableTable<'_, 'tcx> {\n                         // quick check to see if this variable was\n                         // created since the snapshot started or not.\n                         let mut eq_relations = ut::UnificationTable::with_log(\n-                            &mut *self.eq_relations,\n+                            &mut self.storage.eq_relations,\n                             &mut *self.undo_log,\n                         );\n                         let escaping_type = match eq_relations.probe_value(vid) {\n@@ -400,7 +399,7 @@ impl<'tcx> TypeVariableTable<'_, 'tcx> {\n     /// Returns indices of all variables that are not yet\n     /// instantiated.\n     pub fn unsolved_variables(&mut self) -> Vec<ty::TyVid> {\n-        (0..self.values.len())\n+        (0..self.storage.values.len())\n             .filter_map(|i| {\n                 let vid = ty::TyVid { index: i as u32 };\n                 match self.probe(vid) {"}, {"sha": "e7f1869955d20cd84944370a6908fc48326f8d64", "filename": "src/librustc_infer/infer/undo_log.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_infer%2Finfer%2Fundo_log.rs", "raw_url": "https://github.com/rust-lang/rust/raw/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_infer%2Finfer%2Fundo_log.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_infer%2Finfer%2Fundo_log.rs?ref=664fcd3f046e2a6824602da0fad81e3e2bb0d409", "patch": "@@ -100,10 +100,12 @@ impl<'tcx, T> UndoLogs<T> for InferCtxtUndoLogs<'tcx>\n where\n     UndoLog<'tcx>: From<T>,\n {\n+    #[inline]\n     fn num_open_snapshots(&self) -> usize {\n         self.num_open_snapshots\n     }\n \n+    #[inline]\n     fn push(&mut self, undo: T) {\n         if self.in_snapshot() {\n             self.logs.push(undo.into())"}, {"sha": "65284bcee912c446d44df88659d67548098f4286", "filename": "src/librustc_infer/traits/project.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_infer%2Ftraits%2Fproject.rs", "raw_url": "https://github.com/rust-lang/rust/raw/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_infer%2Ftraits%2Fproject.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_infer%2Ftraits%2Fproject.rs?ref=664fcd3f046e2a6824602da0fad81e3e2bb0d409", "patch": "@@ -95,6 +95,7 @@ pub enum ProjectionCacheEntry<'tcx> {\n }\n \n impl<'tcx> ProjectionCacheStorage<'tcx> {\n+    #[inline]\n     pub(crate) fn with_log<'a>(\n         &'a mut self,\n         undo_log: &'a mut InferCtxtUndoLogs<'tcx>,\n@@ -104,6 +105,7 @@ impl<'tcx> ProjectionCacheStorage<'tcx> {\n }\n \n impl<'tcx> ProjectionCache<'_, 'tcx> {\n+    #[inline]\n     fn map(\n         &mut self,\n     ) -> SnapshotMapRef<"}, {"sha": "ba6808a0c81e7aba792d4aa762e9b414f6159d80", "filename": "src/librustc_trait_selection/traits/fulfill.rs", "status": "modified", "additions": 6, "deletions": 12, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_trait_selection%2Ftraits%2Ffulfill.rs", "raw_url": "https://github.com/rust-lang/rust/raw/664fcd3f046e2a6824602da0fad81e3e2bb0d409/src%2Flibrustc_trait_selection%2Ftraits%2Ffulfill.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trait_selection%2Ftraits%2Ffulfill.rs?ref=664fcd3f046e2a6824602da0fad81e3e2bb0d409", "patch": "@@ -242,15 +242,9 @@ struct FulfillProcessor<'a, 'b, 'tcx> {\n     register_region_obligations: bool,\n }\n \n-fn mk_pending(\n-    infcx: &InferCtxt<'_, 'tcx>,\n-    os: Vec<PredicateObligation<'tcx>>,\n-) -> Vec<PendingPredicateObligation<'tcx>> {\n+fn mk_pending(os: Vec<PredicateObligation<'tcx>>) -> Vec<PendingPredicateObligation<'tcx>> {\n     os.into_iter()\n-        .map(|mut o| {\n-            o.predicate = infcx.resolve_vars_if_possible(&o.predicate);\n-            PendingPredicateObligation { obligation: o, stalled_on: vec![] }\n-        })\n+        .map(|o| PendingPredicateObligation { obligation: o, stalled_on: vec![] })\n         .collect()\n }\n \n@@ -344,7 +338,7 @@ impl<'a, 'b, 'tcx> ObligationProcessor for FulfillProcessor<'a, 'b, 'tcx> {\n                             \"selecting trait `{:?}` at depth {} yielded Ok(Some)\",\n                             data, obligation.recursion_depth\n                         );\n-                        ProcessResult::Changed(mk_pending(infcx, vtable.nested_obligations()))\n+                        ProcessResult::Changed(mk_pending(vtable.nested_obligations()))\n                     }\n                     Ok(None) => {\n                         debug!(\n@@ -438,7 +432,7 @@ impl<'a, 'b, 'tcx> ObligationProcessor for FulfillProcessor<'a, 'b, 'tcx> {\n                             trait_ref_infer_vars(self.selcx, data.to_poly_trait_ref(tcx));\n                         ProcessResult::Unchanged\n                     }\n-                    Ok(Some(os)) => ProcessResult::Changed(mk_pending(infcx, os)),\n+                    Ok(Some(os)) => ProcessResult::Changed(mk_pending(os)),\n                     Err(e) => ProcessResult::Error(CodeProjectionError(e)),\n                 }\n             }\n@@ -477,7 +471,7 @@ impl<'a, 'b, 'tcx> ObligationProcessor for FulfillProcessor<'a, 'b, 'tcx> {\n                             vec![TyOrConstInferVar::maybe_from_ty(ty).unwrap()];\n                         ProcessResult::Unchanged\n                     }\n-                    Some(os) => ProcessResult::Changed(mk_pending(infcx, os)),\n+                    Some(os) => ProcessResult::Changed(mk_pending(os)),\n                 }\n             }\n \n@@ -495,7 +489,7 @@ impl<'a, 'b, 'tcx> ObligationProcessor for FulfillProcessor<'a, 'b, 'tcx> {\n                         ];\n                         ProcessResult::Unchanged\n                     }\n-                    Some(Ok(ok)) => ProcessResult::Changed(mk_pending(infcx, ok.obligations)),\n+                    Some(Ok(ok)) => ProcessResult::Changed(mk_pending(ok.obligations)),\n                     Some(Err(err)) => {\n                         let expected_found = ExpectedFound::new(\n                             subtype.skip_binder().a_is_expected,"}]}