{"sha": "7520ea9046de23d04829db40687a7fdde5034530", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc1MjBlYTkwNDZkZTIzZDA0ODI5ZGI0MDY4N2E3ZmRkZTUwMzQ1MzA=", "commit": {"author": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-08-05T09:42:27Z"}, "committer": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-08-05T10:01:17Z"}, "message": "Use `C-unwind` ABI for `__rust_start_panic` in `panic_abort`", "tree": {"sha": "79fd0dae00242ae18a2acfa719a3149169cd0066", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/79fd0dae00242ae18a2acfa719a3149169cd0066"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7520ea9046de23d04829db40687a7fdde5034530", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niIsEABYIADMWIQRJ2jPMDdiQ+U4U42Z0+n/VuNoUuAUCYQu28xUceWQtaHVhbmdA\nb3V0bG9vay5jb20ACgkQdPp/1bjaFLiKEgD+JS/2TBOdP0EcDDeQgucetIms70Er\n0pHNejVaTyBiPUMA/jgxuhXUPAPAzCU28l3vFMQqpGrSaOwDPe4c0OVXuiQH\n=+4e9\n-----END PGP SIGNATURE-----", "payload": "tree 79fd0dae00242ae18a2acfa719a3149169cd0066\nparent d4ad1cfc63ba5824196bfb2370451ddb5af2e020\nauthor hyd-dev <yd-huang@outlook.com> 1628156547 +0800\ncommitter hyd-dev <yd-huang@outlook.com> 1628157677 +0800\n\nUse `C-unwind` ABI for `__rust_start_panic` in `panic_abort`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7520ea9046de23d04829db40687a7fdde5034530", "html_url": "https://github.com/rust-lang/rust/commit/7520ea9046de23d04829db40687a7fdde5034530", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7520ea9046de23d04829db40687a7fdde5034530/comments", "author": null, "committer": null, "parents": [{"sha": "d4ad1cfc63ba5824196bfb2370451ddb5af2e020", "url": "https://api.github.com/repos/rust-lang/rust/commits/d4ad1cfc63ba5824196bfb2370451ddb5af2e020", "html_url": "https://github.com/rust-lang/rust/commit/d4ad1cfc63ba5824196bfb2370451ddb5af2e020"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "4580f9a7758f33351da3a1ca24706121c13982e1", "filename": "library/panic_abort/src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7520ea9046de23d04829db40687a7fdde5034530/library%2Fpanic_abort%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7520ea9046de23d04829db40687a7fdde5034530/library%2Fpanic_abort%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fpanic_abort%2Fsrc%2Flib.rs?ref=7520ea9046de23d04829db40687a7fdde5034530", "patch": "@@ -15,6 +15,7 @@\n #![feature(staged_api)]\n #![feature(rustc_attrs)]\n #![feature(asm)]\n+#![feature(c_unwind)]\n \n #[cfg(target_os = \"android\")]\n mod android;\n@@ -30,7 +31,7 @@ pub unsafe extern \"C\" fn __rust_panic_cleanup(_: *mut u8) -> *mut (dyn Any + Sen\n \n // \"Leak\" the payload and shim to the relevant abort on the platform in question.\n #[rustc_std_internal_symbol]\n-pub unsafe extern \"C\" fn __rust_start_panic(_payload: *mut &mut dyn BoxMeUp) -> u32 {\n+pub unsafe extern \"C-unwind\" fn __rust_start_panic(_payload: *mut &mut dyn BoxMeUp) -> u32 {\n     // Android has the ability to attach a message as part of the abort.\n     #[cfg(target_os = \"android\")]\n     android::android_set_abort_message(_payload);"}]}