{"sha": "84208b2d26703cb6bab6b6eb443fe8aa153eda27", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg0MjA4YjJkMjY3MDNjYjZiYWI2YjZlYjQ0M2ZlOGFhMTUzZWRhMjc=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-11-05T00:22:05Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-11-05T01:14:52Z"}, "message": "Librarify rusti, etc.", "tree": {"sha": "844b499552b882ec910decf8f4e137a381f0c73b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/844b499552b882ec910decf8f4e137a381f0c73b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/84208b2d26703cb6bab6b6eb443fe8aa153eda27", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/84208b2d26703cb6bab6b6eb443fe8aa153eda27", "html_url": "https://github.com/rust-lang/rust/commit/84208b2d26703cb6bab6b6eb443fe8aa153eda27", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/84208b2d26703cb6bab6b6eb443fe8aa153eda27/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3634ab817ebdcb3d8fa297fbb29daed0496fb794", "url": "https://api.github.com/repos/rust-lang/rust/commits/3634ab817ebdcb3d8fa297fbb29daed0496fb794", "html_url": "https://github.com/rust-lang/rust/commit/3634ab817ebdcb3d8fa297fbb29daed0496fb794"}], "stats": {"total": 44, "additions": 36, "deletions": 8}, "files": [{"sha": "c1249f07ca215ec852bf9fb9333136ff140a3f67", "filename": "Makefile.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/84208b2d26703cb6bab6b6eb443fe8aa153eda27/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/84208b2d26703cb6bab6b6eb443fe8aa153eda27/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=84208b2d26703cb6bab6b6eb443fe8aa153eda27", "patch": "@@ -123,6 +123,7 @@ CFG_LIBSYNTAX :=$(call CFG_LIB_NAME,syntax)\n CFG_LIBFUZZER :=$(call CFG_LIB_NAME,fuzzer)\n CFG_LIBCARGO :=$(call CFG_LIB_NAME,cargo)\n CFG_LIBRUSTDOC :=$(call CFG_LIB_NAME,rustdoc)\n+CFG_LIBRUSTI :=$(call CFG_LIB_NAME,rusti)\n \n STDLIB_GLOB :=$(call CFG_LIB_GLOB,std)\n CORELIB_GLOB :=$(call CFG_LIB_GLOB,core)\n@@ -131,13 +132,15 @@ LIBSYNTAX_GLOB :=$(call CFG_LIB_GLOB,syntax)\n LIBFUZZER_GLOB :=$(call CFG_LIB_GLOB,fuzzer)\n LIBCARGO_GLOB :=$(call CFG_LIB_GLOB,cargo)\n LIBRUSTDOC_GLOB :=$(call CFG_LIB_GLOB,rustdoc)\n+LIBRUSTI_GLOB :=$(call CFG_LIB_GLOB,rusti)\n STDLIB_DSYM_GLOB :=$(call CFG_LIB_DSYM_GLOB,std)\n CORELIB_DSYM_GLOB :=$(call CFG_LIB_DSYM_GLOB,core)\n LIBRUSTC_DSYM_GLOB :=$(call CFG_LIB_DSYM_GLOB,rustc)\n LIBSYNTAX_DSYM_GLOB :=$(call CFG_LIB_DSYM_GLOB,syntax)\n LIBFUZZER_DSYM_GLOB :=$(call CFG_LIB_DSYM_GLOB,fuzzer)\n LIBCARGO_DSYM_GLOB :=$(call CFG_LIB_DSYM_GLOB,cargo)\n LIBRUSTDOC_DSYM_GLOB :=$(call CFG_LIB_DSYM_GLOB,rustdoc)\n+LIBRUSTI_DSYM_GLOB :=$(call CFG_LIB_DSYM_GLOB,rusti)\n \n # version-string calculation\n CFG_GIT_DIR := $(CFG_SRC_DIR).git"}, {"sha": "18bcc39f009fb60719cc668eab22964b455f4e80", "filename": "mk/clean.mk", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/84208b2d26703cb6bab6b6eb443fe8aa153eda27/mk%2Fclean.mk", "raw_url": "https://github.com/rust-lang/rust/raw/84208b2d26703cb6bab6b6eb443fe8aa153eda27/mk%2Fclean.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fclean.mk?ref=84208b2d26703cb6bab6b6eb443fe8aa153eda27", "patch": "@@ -57,6 +57,7 @@ clean$(1)_H_$(2):\n \t$(Q)rm -f $$(HBIN$(1)_H_$(2))/cargo$(X)\n \t$(Q)rm -f $$(HBIN$(1)_H_$(2))/serializer$(X)\n \t$(Q)rm -f $$(HBIN$(1)_H_$(2))/rustdoc$(X)\n+\t$(Q)rm -f $$(HBIN$(1)_H_$(2))/rusti$(X)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBFUZZER)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBCARGO)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBRUSTDOC)\n@@ -65,13 +66,15 @@ clean$(1)_H_$(2):\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_STDLIB)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBRUSTC)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBSYNTAX)\n+\t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_LIBRUSTI)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CORELIB_GLOB)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(STDLIB_GLOB)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBRUSTC_GLOB)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBSYNTAX_GLOB)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBFUZZER_GLOB)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBCARGO_GLOB)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBRUSTDOC_GLOB)\n+\t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(LIBRUSTI_GLOB)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/$(CFG_RUSTLLVM)\n \t$(Q)rm -f $$(HLIB$(1)_H_$(2))/libstd.rlib\n "}, {"sha": "780d2cc6f536d563afd141e76685acc90fdcf0d6", "filename": "mk/install.mk", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/84208b2d26703cb6bab6b6eb443fe8aa153eda27/mk%2Finstall.mk", "raw_url": "https://github.com/rust-lang/rust/raw/84208b2d26703cb6bab6b6eb443fe8aa153eda27/mk%2Finstall.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Finstall.mk?ref=84208b2d26703cb6bab6b6eb443fe8aa153eda27", "patch": "@@ -78,11 +78,13 @@ install-host: $(SREQ$(ISTAGE)_T_$(CFG_HOST_TRIPLE)_H_$(CFG_HOST_TRIPLE))\n \t$(Q)$(call INSTALL,$(HB2),$(PHB),rusti$(X))\n \t$(Q)$(call INSTALL,$(HB2),$(PHB),rustdoc$(X))\n \t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_LIBRUSTDOC))\n+\t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_LIBRUSTI))\n \t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_RUNTIME))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(CORELIB_GLOB))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(STDLIB_GLOB))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(LIBRUSTC_GLOB))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(LIBSYNTAX_GLOB))\n+\t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(LIBRUSTI_GLOB))\n \t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_RUSTLLVM))\n \t$(Q)$(call INSTALL,$(S)/man, \\\n \t     $(PREFIX_ROOT)/share/man/man1,rustc.1)\n@@ -102,12 +104,14 @@ uninstall:\n \t$(Q)rm -f $(PHL)/$(CFG_FUZZER)\n \t$(Q)rm -f $(PHL)/$(CFG_CARGO)\n \t$(Q)rm -f $(PHL)/$(CFG_RUSTDOC)\n+\t$(Q)rm -f $(PHL)/$(CFG_RUSTI)\n \t$(Q)rm -f $(PHL)/$(CFG_RUNTIME)\n \t$(Q)for i in \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(CORELIB_GLOB)) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(STDLIB_GLOB)) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(LIBRUSTC_GLOB)) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(LIBSYNTAX_GLOB)) \\\n+          $(call HOST_LIB_FROM_HL_GLOB,$(LIBRUSTI_GLOB)) \\\n         ; \\\n         do rm -f $$i ; \\\n         done"}, {"sha": "7d23c565918786bb4fdb2d34eec1ee48bbf90987", "filename": "mk/tools.mk", "status": "modified", "additions": 22, "deletions": 7, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/84208b2d26703cb6bab6b6eb443fe8aa153eda27/mk%2Ftools.mk", "raw_url": "https://github.com/rust-lang/rust/raw/84208b2d26703cb6bab6b6eb443fe8aa153eda27/mk%2Ftools.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftools.mk?ref=84208b2d26703cb6bab6b6eb443fe8aa153eda27", "patch": "@@ -19,8 +19,8 @@ RUSTDOC_LIB := $(S)src/librustdoc/rustdoc.rc\n RUSTDOC_INPUTS := $(wildcard $(S)src/rustdoc/*.rs)\n \n # Rusti, the JIT REPL\n-RUSTI_CRATE := $(S)src/rusti/rusti.rc\n-RUSTI_INPUTS := $(wildcard $(S)src/rusti/*.rs)\n+RUSTI_LIB := $(S)src/librusti/rusti.rc\n+RUSTI_INPUTS := $(wildcard $(S)src/librusti/*.rs)\n \n # FIXME: These are only built for the host arch. Eventually we'll\n # have tools that need to built for other targets.\n@@ -130,21 +130,36 @@ $$(HBIN$(2)_H_$(4))/rustdoc$$(X):\t\t\t\t\\\n \t@$$(call E, cp: $$@)\n \t$$(Q)cp $$< $$@\n \n-$$(TBIN$(1)_T_$(4)_H_$(3))/rusti$$(X):\t\t\t\\\n-\t\t$$(RUSTI_CRATE) $$(RUSTI_INPUTS)\t\t\\\n+$$(TLIB$(1)_T_$(4)_H_$(3))/$$(CFG_LIBRUSTI):\t\t\\\n+\t\t$$(RUSTI_LIB) $$(RUSTI_INPUTS)\t\t\t\\\n \t\t$$(TSREQ$(1)_T_$(4)_H_$(3))\t\t\t\t\t\\\n-\t\t$$(TLIB$(1)_T_$(4)_H_$(3))/$$(CFG_CORELIB)  \\\n-\t\t$$(TLIB$(1)_T_$(4)_H_$(3))/$$(CFG_STDLIB)   \\\n+\t\t$$(TLIB$(1)_T_$(4)_H_$(3))/$$(CFG_CORELIB)\t\\\n+\t\t$$(TLIB$(1)_T_$(4)_H_$(3))/$$(CFG_STDLIB)\t\\\n \t\t$$(TLIB$(1)_T_$(4)_H_$(3))/$$(CFG_LIBRUSTC)\n \t@$$(call E, compile_and_link: $$@)\n-\t$$(STAGE$(1)_T_$(4)_H_$(3)) -o $$@ $$<\n+\t$$(STAGE$(1)_T_$(4)_H_$(3)) -o $$@ $$< && touch $$@\n+\n+$$(TBIN$(1)_T_$(4)_H_$(3))/rusti$$(X):\t\t\t\\\n+\t\t$$(TOOL_DRIVER) \t\t\t\t\t\t\t\\\n+\t\t$$(TLIB$(1)_T_$(4)_H_$(3))/$$(CFG_LIBRUSTI)\n+\t@$$(call E, compile_and_link: $$@)\n+\t$$(STAGE$(1)_T_$(4)_H_$(3)) --cfg rusti -o $$@ $$<\n+\n+$$(HLIB$(2)_H_$(4))/$$(CFG_LIBRUSTI):\t\t\t\t\t\\\n+\t\t$$(TLIB$(1)_T_$(4)_H_$(3))/$$(CFG_LIBRUSTI)\t\\\n+\t\t$$(HLIB$(2)_H_$(4))/$$(CFG_LIBRUSTC)\t\t\t\\\n+\t\t$$(HSREQ$(2)_H_$(4))\n+\t@$$(call E, cp: $$@)\n+\t$$(Q)cp $$< $$@\n \n $$(HBIN$(2)_H_$(4))/rusti$$(X):\t\t\t\t\\\n \t\t$$(TBIN$(1)_T_$(4)_H_$(3))/rusti$$(X)\t\\\n+\t\t$$(HLIB$(2)_H_$(4))/$$(CFG_LIBRUSTI)\t\\\n \t\t$$(HSREQ$(2)_H_$(4))\n \t@$$(call E, cp: $$@)\n \t$$(Q)cp $$< $$@\n \n+\n endef\n \n $(foreach host,$(CFG_TARGET_TRIPLES),\t\t\t\t\\"}, {"sha": "4689971eec041cf7b4250637fa388a1e00b44c6f", "filename": "src/driver/driver.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/84208b2d26703cb6bab6b6eb443fe8aa153eda27/src%2Fdriver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/84208b2d26703cb6bab6b6eb443fe8aa153eda27/src%2Fdriver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdriver%2Fdriver.rs?ref=84208b2d26703cb6bab6b6eb443fe8aa153eda27", "patch": "@@ -10,4 +10,7 @@ extern mod self(name = \"fuzzer\", vers = \"0.5\");\n #[cfg(rustdoc)]\n extern mod self(name = \"rustdoc\", vers = \"0.5\");\n \n+#[cfg(rusti)]\n+extern mod self(name = \"rusti\", vers = \"0.5\");\n+\n fn main() { self::main() }\n\\ No newline at end of file"}, {"sha": "e498b147ff44d03fa4fc2cb9247acd6167a14a63", "filename": "src/librusti/rusti.rc", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/84208b2d26703cb6bab6b6eb443fe8aa153eda27/src%2Flibrusti%2Frusti.rc", "raw_url": "https://github.com/rust-lang/rust/raw/84208b2d26703cb6bab6b6eb443fe8aa153eda27/src%2Flibrusti%2Frusti.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrusti%2Frusti.rc?ref=84208b2d26703cb6bab6b6eb443fe8aa153eda27", "patch": "@@ -1,7 +1,7 @@\n // rusti - REPL using the JIT backend\n \n #[link(name = \"rusti\",\n-       vers = \"0.4\",\n+       vers = \"0.5\",\n        uuid = \"7fb5bf52-7d45-4fee-8325-5ad3311149fc\",\n        url = \"https://github.com/mozilla/rust/tree/master/src/rusti\")];\n ", "previous_filename": "src/rusti/rusti.rc"}, {"sha": "c44961a8b4e5a555631dcc889807df3d984253ed", "filename": "src/librusti/rusti.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/84208b2d26703cb6bab6b6eb443fe8aa153eda27/src%2Flibrusti%2Frusti.rs", "raw_url": "https://github.com/rust-lang/rust/raw/84208b2d26703cb6bab6b6eb443fe8aa153eda27/src%2Flibrusti%2Frusti.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrusti%2Frusti.rs?ref=84208b2d26703cb6bab6b6eb443fe8aa153eda27", "previous_filename": "src/rusti/rusti.rs"}, {"sha": "1e98aa81369c5fcdaa9a64a2c2a105eedccef9a3", "filename": "src/librusti/wrapper.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/84208b2d26703cb6bab6b6eb443fe8aa153eda27/src%2Flibrusti%2Fwrapper.rs", "raw_url": "https://github.com/rust-lang/rust/raw/84208b2d26703cb6bab6b6eb443fe8aa153eda27/src%2Flibrusti%2Fwrapper.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrusti%2Fwrapper.rs?ref=84208b2d26703cb6bab6b6eb443fe8aa153eda27", "previous_filename": "src/rusti/wrapper.rs"}]}