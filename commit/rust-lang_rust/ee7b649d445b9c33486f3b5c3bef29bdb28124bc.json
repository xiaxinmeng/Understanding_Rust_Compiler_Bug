{"sha": "ee7b649d445b9c33486f3b5c3bef29bdb28124bc", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVlN2I2NDlkNDQ1YjljMzM0ODZmM2I1YzNiZWYyOWJkYjI4MTI0YmM=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-06-16T19:54:57Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-06-16T19:54:57Z"}, "message": "internal: switch some tests to minicore", "tree": {"sha": "b16bda6464bfac9aefcfb74cd94c00e7c20490e0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b16bda6464bfac9aefcfb74cd94c00e7c20490e0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ee7b649d445b9c33486f3b5c3bef29bdb28124bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ee7b649d445b9c33486f3b5c3bef29bdb28124bc", "html_url": "https://github.com/rust-lang/rust/commit/ee7b649d445b9c33486f3b5c3bef29bdb28124bc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ee7b649d445b9c33486f3b5c3bef29bdb28124bc/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "604267088c9ef6afa021807b437dab22d72dfc99", "url": "https://api.github.com/repos/rust-lang/rust/commits/604267088c9ef6afa021807b437dab22d72dfc99", "html_url": "https://github.com/rust-lang/rust/commit/604267088c9ef6afa021807b437dab22d72dfc99"}], "stats": {"total": 23, "additions": 8, "deletions": 15}, "files": [{"sha": "22e0bfc49e3a586919df4a3c54cd9df696c6c4c4", "filename": "crates/hir_ty/src/tests/traits.rs", "status": "modified", "additions": 1, "deletions": 15, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/ee7b649d445b9c33486f3b5c3bef29bdb28124bc/crates%2Fhir_ty%2Fsrc%2Ftests%2Ftraits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee7b649d445b9c33486f3b5c3bef29bdb28124bc/crates%2Fhir_ty%2Fsrc%2Ftests%2Ftraits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests%2Ftraits.rs?ref=ee7b649d445b9c33486f3b5c3bef29bdb28124bc", "patch": "@@ -1492,7 +1492,7 @@ fn test<T: Trait<Type = u32>>(x: T, y: impl Trait<Type = i64>) {\n fn impl_trait_assoc_binding_projection_bug() {\n     check_types(\n         r#\"\n-//- /main.rs crate:main deps:std\n+//- minicore: iterator\n pub trait Language {\n     type Kind;\n }\n@@ -1512,20 +1512,6 @@ fn api_walkthrough() {\n         node.clone();\n     }            //^ {unknown}\n }\n-\n-//- /std.rs crate:std\n-#[prelude_import] use iter::*;\n-mod iter {\n-    trait IntoIterator {\n-        type Item;\n-    }\n-    trait Iterator {\n-        type Item;\n-    }\n-    impl<T: Iterator> IntoIterator for T {\n-        type Item = <T as Iterator>::Item;\n-    }\n-}\n \"#,\n     );\n }"}, {"sha": "a861ff09c94ac0c48aa3213630a3b4b2e093a3ad", "filename": "crates/test_utils/src/minicore.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ee7b649d445b9c33486f3b5c3bef29bdb28124bc/crates%2Ftest_utils%2Fsrc%2Fminicore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee7b649d445b9c33486f3b5c3bef29bdb28124bc/crates%2Ftest_utils%2Fsrc%2Fminicore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Ftest_utils%2Fsrc%2Fminicore.rs?ref=ee7b649d445b9c33486f3b5c3bef29bdb28124bc", "patch": "@@ -227,6 +227,13 @@ pub mod iter {\n                 #[lang = \"into_iter\"]\n                 fn into_iter(self) -> Self::IntoIter;\n             }\n+            impl<I: Iterator> IntoIterator for I {\n+                type Item = I::Item;\n+                type IntoIter = I;\n+                fn into_iter(self) -> I {\n+                    self\n+                }\n+            }\n         }\n         pub use self::collect::IntoIterator;\n         pub use self::iterator::Iterator;"}]}