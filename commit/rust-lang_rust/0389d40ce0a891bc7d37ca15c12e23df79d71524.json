{"sha": "0389d40ce0a891bc7d37ca15c12e23df79d71524", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzODlkNDBjZTBhODkxYmM3ZDM3Y2ExNWMxMmUyM2RmNzlkNzE1MjQ=", "commit": {"author": {"name": "Mark Buer", "email": "mark@Marks-iMac.local", "date": "2017-06-12T04:03:25Z"}, "committer": {"name": "Mark Buer", "email": "mark@Marks-iMac.local", "date": "2017-06-12T04:13:58Z"}, "message": "Capture elapsed duration in Thread::park_timeout example", "tree": {"sha": "62865ffc7e0230b051a01a091b2d6e718af22b2c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/62865ffc7e0230b051a01a091b2d6e718af22b2c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0389d40ce0a891bc7d37ca15c12e23df79d71524", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0389d40ce0a891bc7d37ca15c12e23df79d71524", "html_url": "https://github.com/rust-lang/rust/commit/0389d40ce0a891bc7d37ca15c12e23df79d71524", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0389d40ce0a891bc7d37ca15c12e23df79d71524/comments", "author": null, "committer": null, "parents": [{"sha": "29ef41215c2ffe3105ea8cc1621dda00542f65ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/29ef41215c2ffe3105ea8cc1621dda00542f65ee", "html_url": "https://github.com/rust-lang/rust/commit/29ef41215c2ffe3105ea8cc1621dda00542f65ee"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "dda11e50380f516f6a031ebd18f6411c5f68ee80", "filename": "src/libstd/thread/mod.rs", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/0389d40ce0a891bc7d37ca15c12e23df79d71524/src%2Flibstd%2Fthread%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0389d40ce0a891bc7d37ca15c12e23df79d71524/src%2Flibstd%2Fthread%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fthread%2Fmod.rs?ref=0389d40ce0a891bc7d37ca15c12e23df79d71524", "patch": "@@ -787,12 +787,16 @@ pub fn park_timeout_ms(ms: u32) {\n ///\n /// let timeout = Duration::from_secs(2);\n /// let beginning_park = Instant::now();\n-/// park_timeout(timeout);\n ///\n-/// while beginning_park.elapsed() < timeout {\n-///     println!(\"restarting park_timeout after {:?}\", beginning_park.elapsed());\n-///     let timeout = timeout - beginning_park.elapsed();\n-///     park_timeout(timeout);\n+/// let mut timeout_remaining = timeout;\n+/// loop {\n+///     park_timeout(timeout_remaining);\n+///     let elapsed = beginning_park.elapsed();\n+///     if elapsed >= timeout {\n+///         break;\n+///     }\n+///     println!(\"restarting park_timeout after {:?}\", elapsed);\n+///     timeout_remaining = timeout - elapsed;\n /// }\n /// ```\n ///"}]}