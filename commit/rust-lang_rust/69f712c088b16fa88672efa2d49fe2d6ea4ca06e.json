{"sha": "69f712c088b16fa88672efa2d49fe2d6ea4ca06e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5ZjcxMmMwODhiMTZmYTg4NjcyZWZhMmQ0OWZlMmQ2ZWE0Y2EwNmU=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2021-07-28T14:57:25Z"}, "committer": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2021-07-28T14:57:25Z"}, "message": "set all of the optional tools as DEFAULT = true\n\nThe default is then overridden by `should_run`.", "tree": {"sha": "4396ae66ac7f51e1040ca4ad317a3b65303cc26b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4396ae66ac7f51e1040ca4ad317a3b65303cc26b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/69f712c088b16fa88672efa2d49fe2d6ea4ca06e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMycKYjxLY0eb13b7zXazX3c0dp4FAmEBcGgACgkQzXazX3c0\ndp6h6xAAkQMWynENzYVN1i/xcnYPCD7ia6hRGTbIXUDp0a/TbbKqHrqIgjMnE7Jd\nL9Yn+MIdb5DE74qucBZaK4Poi8lCYgWpMkTGDYpBHtvUsEzM+L4AYGwmGg8MptV+\nvaf4WaWi6PI3tw5DEMAKOKXnP65RAcY5MhBEVK0rO/j+0CXL/a8gfo16rh9Z5zdt\npDZbcbjCf7s47YLNTGV/DU8qE9Qgyhbe8W4A2LqWwyV36qsDoGJYAlNI5P6Sz+lz\nUqHcOBztkaGCLRTbyInH6sfJZr85JylHPEgbkj8zeGOBSNgzCG1Ug4NzlVOaCaX9\nQOBZww9wAPGH5HAnxFQmJDjZO50/X8Q701VvKP3xdWpVb/ah7FmOpYGaEpcc/K6i\nMFwdqdSaZOYv34maaEPhF+vIjuPe/aTsKa0LT9Pa18AyzpAXUKFIfsNbpx7vxapP\nqaHsKk/U/4R2FFiTij8nIIywa/tqREJIPuvzA/27jE2mmfQOHAeBRgbPbiMxNqfs\nK1D6Z1zLG2NX3jQKy4f2XosBDpSeVFkcX9J8+fWX5zxbifZnVj01xrCiiEplR5mc\nXZ+STGcUgGoHsKsx+zXUNlqcoRKm10TiTOd+7x+w0pjNv5mXkHr1DZdRYGBQR4pq\ndEfqu7RRyWiPEQzdWWQzuVPkqBR/X7aH1cfkAMnTV6u2iH9FggM=\n=xXH9\n-----END PGP SIGNATURE-----", "payload": "tree 4396ae66ac7f51e1040ca4ad317a3b65303cc26b\nparent c15e2480908868024f41ac4de92eabf435f5e911\nauthor Pietro Albini <pietro.albini@ferrous-systems.com> 1627484245 +0200\ncommitter Pietro Albini <pietro.albini@ferrous-systems.com> 1627484245 +0200\n\nset all of the optional tools as DEFAULT = true\n\nThe default is then overridden by `should_run`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/69f712c088b16fa88672efa2d49fe2d6ea4ca06e", "html_url": "https://github.com/rust-lang/rust/commit/69f712c088b16fa88672efa2d49fe2d6ea4ca06e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/69f712c088b16fa88672efa2d49fe2d6ea4ca06e/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c15e2480908868024f41ac4de92eabf435f5e911", "url": "https://api.github.com/repos/rust-lang/rust/commits/c15e2480908868024f41ac4de92eabf435f5e911", "html_url": "https://github.com/rust-lang/rust/commit/c15e2480908868024f41ac4de92eabf435f5e911"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "f5ddc07ebb2d5874c516ffa84bbdb0baffad2c38", "filename": "src/bootstrap/dist.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/69f712c088b16fa88672efa2d49fe2d6ea4ca06e/src%2Fbootstrap%2Fdist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/69f712c088b16fa88672efa2d49fe2d6ea4ca06e/src%2Fbootstrap%2Fdist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdist.rs?ref=69f712c088b16fa88672efa2d49fe2d6ea4ca06e", "patch": "@@ -679,6 +679,7 @@ pub struct Analysis {\n \n impl Step for Analysis {\n     type Output = Option<GeneratedTarball>;\n+    const DEFAULT: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n         let default = should_build_extended_tool(&run.builder, \"analysis\");\n@@ -958,6 +959,7 @@ pub struct Cargo {\n \n impl Step for Cargo {\n     type Output = Option<GeneratedTarball>;\n+    const DEFAULT: bool = true;\n     const ONLY_HOSTS: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n@@ -1014,6 +1016,7 @@ pub struct Rls {\n impl Step for Rls {\n     type Output = Option<GeneratedTarball>;\n     const ONLY_HOSTS: bool = true;\n+    const DEFAULT: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n         let default = should_build_extended_tool(&run.builder, \"rls\");\n@@ -1059,6 +1062,7 @@ pub struct RustAnalyzer {\n \n impl Step for RustAnalyzer {\n     type Output = Option<GeneratedTarball>;\n+    const DEFAULT: bool = true;\n     const ONLY_HOSTS: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n@@ -1114,6 +1118,7 @@ pub struct Clippy {\n \n impl Step for Clippy {\n     type Output = Option<GeneratedTarball>;\n+    const DEFAULT: bool = true;\n     const ONLY_HOSTS: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n@@ -1164,6 +1169,7 @@ pub struct Miri {\n \n impl Step for Miri {\n     type Output = Option<GeneratedTarball>;\n+    const DEFAULT: bool = true;\n     const ONLY_HOSTS: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n@@ -1223,6 +1229,7 @@ pub struct Rustfmt {\n \n impl Step for Rustfmt {\n     type Output = Option<GeneratedTarball>;\n+    const DEFAULT: bool = true;\n     const ONLY_HOSTS: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n@@ -1276,6 +1283,7 @@ pub struct RustDemangler {\n \n impl Step for RustDemangler {\n     type Output = Option<GeneratedTarball>;\n+    const DEFAULT: bool = true;\n     const ONLY_HOSTS: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n@@ -1975,6 +1983,7 @@ pub struct LlvmTools {\n impl Step for LlvmTools {\n     type Output = Option<GeneratedTarball>;\n     const ONLY_HOSTS: bool = true;\n+    const DEFAULT: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n         let default = should_build_extended_tool(&run.builder, \"llvm-tools\");"}]}