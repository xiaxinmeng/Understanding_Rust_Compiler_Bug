{"sha": "b81d7039704d2b9f84c7a90eee923a4a7a5304ac", "node_id": "C_kwDOAAsO6NoAKGI4MWQ3MDM5NzA0ZDJiOWY4NGM3YTkwZWVlOTIzYTRhN2E1MzA0YWM", "commit": {"author": {"name": "Serial", "email": "69764315+Serial-ATA@users.noreply.github.com", "date": "2022-05-15T15:30:00Z"}, "committer": {"name": "Serial", "email": "69764315+Serial-ATA@users.noreply.github.com", "date": "2022-05-15T15:30:00Z"}, "message": "Use early returns", "tree": {"sha": "9559e323b71dddf6901f3d73875ef203c19a71bd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9559e323b71dddf6901f3d73875ef203c19a71bd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b81d7039704d2b9f84c7a90eee923a4a7a5304ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b81d7039704d2b9f84c7a90eee923a4a7a5304ac", "html_url": "https://github.com/rust-lang/rust/commit/b81d7039704d2b9f84c7a90eee923a4a7a5304ac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b81d7039704d2b9f84c7a90eee923a4a7a5304ac/comments", "author": {"login": "Serial-ATA", "id": 69764315, "node_id": "MDQ6VXNlcjY5NzY0MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/69764315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Serial-ATA", "html_url": "https://github.com/Serial-ATA", "followers_url": "https://api.github.com/users/Serial-ATA/followers", "following_url": "https://api.github.com/users/Serial-ATA/following{/other_user}", "gists_url": "https://api.github.com/users/Serial-ATA/gists{/gist_id}", "starred_url": "https://api.github.com/users/Serial-ATA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Serial-ATA/subscriptions", "organizations_url": "https://api.github.com/users/Serial-ATA/orgs", "repos_url": "https://api.github.com/users/Serial-ATA/repos", "events_url": "https://api.github.com/users/Serial-ATA/events{/privacy}", "received_events_url": "https://api.github.com/users/Serial-ATA/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Serial-ATA", "id": 69764315, "node_id": "MDQ6VXNlcjY5NzY0MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/69764315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Serial-ATA", "html_url": "https://github.com/Serial-ATA", "followers_url": "https://api.github.com/users/Serial-ATA/followers", "following_url": "https://api.github.com/users/Serial-ATA/following{/other_user}", "gists_url": "https://api.github.com/users/Serial-ATA/gists{/gist_id}", "starred_url": "https://api.github.com/users/Serial-ATA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Serial-ATA/subscriptions", "organizations_url": "https://api.github.com/users/Serial-ATA/orgs", "repos_url": "https://api.github.com/users/Serial-ATA/repos", "events_url": "https://api.github.com/users/Serial-ATA/events{/privacy}", "received_events_url": "https://api.github.com/users/Serial-ATA/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a30587e0fe5bc35f4ca9ea885b27bc93dbfced89", "url": "https://api.github.com/repos/rust-lang/rust/commits/a30587e0fe5bc35f4ca9ea885b27bc93dbfced89", "html_url": "https://github.com/rust-lang/rust/commit/a30587e0fe5bc35f4ca9ea885b27bc93dbfced89"}], "stats": {"total": 27, "additions": 12, "deletions": 15}, "files": [{"sha": "2f586077af5428630b137b13d5ecc6df93c0b242", "filename": "util/gh-pages/index.html", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b81d7039704d2b9f84c7a90eee923a4a7a5304ac/util%2Fgh-pages%2Findex.html", "raw_url": "https://github.com/rust-lang/rust/raw/b81d7039704d2b9f84c7a90eee923a4a7a5304ac/util%2Fgh-pages%2Findex.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/util%2Fgh-pages%2Findex.html?ref=b81d7039704d2b9f84c7a90eee923a4a7a5304ac", "patch": "@@ -110,6 +110,7 @@\n                 left: auto;\n             }\n \n+            <!-- TODO -->\n             #version-filter-count {\n                 display: none;\n             }\n@@ -291,7 +292,7 @@\n             border: 1px solid var(--theme-popup-border);\n         }\n \n-        #version-filter-selector .item {\n+        #version-filter-selector .checkbox {\n             display: flex;\n         }\n \n@@ -440,14 +441,14 @@ <h1>Clippy Lints</h1>\n                                     <span class=\"caret\"></span>\n                                 </button>\n                                 <ul id=\"version-filter-selector\" class=\"dropdown-menu\">\n-                                    <li class=\"item\">\n+                                    <li class=\"checkbox\">\n                                         <label ng-click=\"clearVersionFilters()\">\n                                             <input type=\"checkbox\" class=\"invisible\" />\n                                             Clear filters\n                                         </label>\n                                     </li>\n                                     <li role=\"separator\" class=\"divider\"></li>\n-                                    <li class=\"item\" ng-repeat=\"(filter, vars) in versionFilters\">\n+                                    <li class=\"checkbox\" ng-repeat=\"(filter, vars) in versionFilters\">\n                                         <label ng-attr-for=\"filter-{filter}\">{{filter}}</label>\n                                         <span>1.</span>\n                                         <input type=\"number\""}, {"sha": "174758ad931b12cb9d96e4791e6f3fa4fd27ce0c", "filename": "util/gh-pages/script.js", "status": "modified", "additions": 8, "deletions": 12, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/b81d7039704d2b9f84c7a90eee923a4a7a5304ac/util%2Fgh-pages%2Fscript.js", "raw_url": "https://github.com/rust-lang/rust/raw/b81d7039704d2b9f84c7a90eee923a4a7a5304ac/util%2Fgh-pages%2Fscript.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/util%2Fgh-pages%2Fscript.js?ref=b81d7039704d2b9f84c7a90eee923a4a7a5304ac", "patch": "@@ -185,6 +185,7 @@\n                     // 1.29.0 and greater\n                     if (minorVersion && minorVersion > 28) {\n                         $scope.versionFilters[filter].enabled = true;\n+                        continue;\n                     }\n \n                     $scope.versionFilters[filter].enabled = false;\n@@ -201,25 +202,20 @@\n                         let lintVersion = lint.version.startsWith(\"pre \") ? lint.version.substring(4, lint.version.length) : lint.version;\n                         let lintMinorVersion = lintVersion.substring(2, 4);\n \n-                        let result;\n                         switch (filter) {\n+                            // \"=\" gets the highest priority, since all filters are inclusive\n+                            case \"=\":\n+                                return (lintMinorVersion == minorVersion);\n                             case \"\u2265\":\n-                                result = (lintMinorVersion >= minorVersion);\n+                                if (lintMinorVersion < minorVersion) { return false; }\n                                 break;\n                             case \"\u2264\":\n-                                result = (lintMinorVersion <= minorVersion);\n+                                if (lintMinorVersion > minorVersion) { return false; }\n                                 break;\n-                            // \"=\" gets the highest priority, since all filters are inclusive\n-                            case \"=\":\n-                                return (lintMinorVersion == minorVersion);\n                             default:\n                                 return true\n                         }\n \n-                        if (!result) {\n-                            return false;\n-                        }\n-\n                         let cmpFilter;\n                         if (filter === \"\u2265\") {\n                             cmpFilter = \"\u2264\";\n@@ -229,10 +225,10 @@\n \n                         if (filters[cmpFilter].enabled) {\n                             let cmpMinorVersion = filters[cmpFilter].minorVersion;\n-                            result = (cmpFilter === \"\u2265\") ? (lintMinorVersion >= cmpMinorVersion) : (lintMinorVersion <= cmpMinorVersion);\n+                            return (cmpFilter === \"\u2265\") ? (lintMinorVersion >= cmpMinorVersion) : (lintMinorVersion <= cmpMinorVersion);\n                         }\n \n-                        return result;\n+                        return true;\n                     }\n                 }\n "}]}