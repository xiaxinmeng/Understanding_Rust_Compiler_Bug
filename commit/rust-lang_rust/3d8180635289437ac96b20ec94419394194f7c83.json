{"sha": "3d8180635289437ac96b20ec94419394194f7c83", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkODE4MDYzNTI4OTQzN2FjOTZiMjBlYzk0NDE5Mzk0MTk0ZjdjODM=", "commit": {"author": {"name": "Ali\u00e9nore Bouttefeux", "email": "alienore.bouttefeux@gmail.com", "date": "2021-05-16T15:27:30Z"}, "committer": {"name": "Ali\u00e9nore Bouttefeux", "email": "alienore.bouttefeux@gmail.com", "date": "2021-05-16T20:33:41Z"}, "message": "remove mode for run and ignore tests", "tree": {"sha": "5a245b26c24f54d5da4283ebd5808b5a937201b9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5a245b26c24f54d5da4283ebd5808b5a937201b9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3d8180635289437ac96b20ec94419394194f7c83", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3d8180635289437ac96b20ec94419394194f7c83", "html_url": "https://github.com/rust-lang/rust/commit/3d8180635289437ac96b20ec94419394194f7c83", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3d8180635289437ac96b20ec94419394194f7c83/comments", "author": {"login": "ABouttefeux", "id": 77335613, "node_id": "MDQ6VXNlcjc3MzM1NjEz", "avatar_url": "https://avatars.githubusercontent.com/u/77335613?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ABouttefeux", "html_url": "https://github.com/ABouttefeux", "followers_url": "https://api.github.com/users/ABouttefeux/followers", "following_url": "https://api.github.com/users/ABouttefeux/following{/other_user}", "gists_url": "https://api.github.com/users/ABouttefeux/gists{/gist_id}", "starred_url": "https://api.github.com/users/ABouttefeux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ABouttefeux/subscriptions", "organizations_url": "https://api.github.com/users/ABouttefeux/orgs", "repos_url": "https://api.github.com/users/ABouttefeux/repos", "events_url": "https://api.github.com/users/ABouttefeux/events{/privacy}", "received_events_url": "https://api.github.com/users/ABouttefeux/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ABouttefeux", "id": 77335613, "node_id": "MDQ6VXNlcjc3MzM1NjEz", "avatar_url": "https://avatars.githubusercontent.com/u/77335613?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ABouttefeux", "html_url": "https://github.com/ABouttefeux", "followers_url": "https://api.github.com/users/ABouttefeux/followers", "following_url": "https://api.github.com/users/ABouttefeux/following{/other_user}", "gists_url": "https://api.github.com/users/ABouttefeux/gists{/gist_id}", "starred_url": "https://api.github.com/users/ABouttefeux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ABouttefeux/subscriptions", "organizations_url": "https://api.github.com/users/ABouttefeux/orgs", "repos_url": "https://api.github.com/users/ABouttefeux/repos", "events_url": "https://api.github.com/users/ABouttefeux/events{/privacy}", "received_events_url": "https://api.github.com/users/ABouttefeux/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4ce2e335d9bd0a4ef60429f5d57f119bdb562492", "url": "https://api.github.com/repos/rust-lang/rust/commits/4ce2e335d9bd0a4ef60429f5d57f119bdb562492", "html_url": "https://github.com/rust-lang/rust/commit/4ce2e335d9bd0a4ef60429f5d57f119bdb562492"}], "stats": {"total": 101, "additions": 55, "deletions": 46}, "files": [{"sha": "b3efb2c4437a75c9a4ed631ce799946ef58aa76f", "filename": "library/test/src/formatters/pretty.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/library%2Ftest%2Fsrc%2Fformatters%2Fpretty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/library%2Ftest%2Fsrc%2Fformatters%2Fpretty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Ftest%2Fsrc%2Fformatters%2Fpretty.rs?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -169,7 +169,12 @@ impl<T: Write> PrettyFormatter<T> {\n \n     fn write_test_name(&mut self, desc: &TestDesc) -> io::Result<()> {\n         let name = desc.padded_name(self.max_name_len, desc.name.padding());\n-        self.write_plain(&format!(\"test {} - {} ... \", name, desc.test_mode()))?;\n+        let test_mode = desc.test_mode();\n+        if test_mode == \"\" {\n+            self.write_plain(&format!(\"test {} ... \", name))?;\n+        } else {\n+            self.write_plain(&format!(\"test {} - {} ... \", name, test_mode))?;\n+        }\n \n         Ok(())\n     }"}, {"sha": "ce73f8d3bfbafd3ef13f4881dcd39c78a8756ebe", "filename": "library/test/src/formatters/terse.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/library%2Ftest%2Fsrc%2Fformatters%2Fterse.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/library%2Ftest%2Fsrc%2Fformatters%2Fterse.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Ftest%2Fsrc%2Fformatters%2Fterse.rs?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -158,7 +158,12 @@ impl<T: Write> TerseFormatter<T> {\n \n     fn write_test_name(&mut self, desc: &TestDesc) -> io::Result<()> {\n         let name = desc.padded_name(self.max_name_len, desc.name.padding());\n-        self.write_plain(&format!(\"test {} - {} ... \", name, desc.test_mode()))?;\n+        let test_mode = desc.test_mode();\n+        if test_mode == \"\" {\n+            self.write_plain(&format!(\"test {} ... \", name))?;\n+        } else {\n+            self.write_plain(&format!(\"test {} - {} ... \", name, test_mode))?;\n+        }\n \n         Ok(())\n     }"}, {"sha": "baf9908669b61d5ed05df2dd7e6f5ad43e201521", "filename": "library/test/src/types.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/library%2Ftest%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/library%2Ftest%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Ftest%2Fsrc%2Ftypes.rs?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -148,7 +148,7 @@ impl TestDesc {\n     #[cfg(not(bootstrap))]\n     pub fn test_mode(&self) -> &'static str {\n         if self.ignore {\n-            return &\"ignore\";\n+            return &\"\";\n         }\n         match self.should_panic {\n             options::ShouldPanic::Yes | options::ShouldPanic::YesWithMessage(_) => {\n@@ -165,7 +165,7 @@ impl TestDesc {\n         if self.no_run {\n             return &\"compile\";\n         }\n-        &\"run\"\n+        &\"\"\n     }\n \n     #[cfg(bootstrap)]"}, {"sha": "d76aaf5c146db9f091e77539271fe1be4209f36c", "filename": "src/test/run-make-fulldeps/issue-22131/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frun-make-fulldeps%2Fissue-22131%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frun-make-fulldeps%2Fissue-22131%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fissue-22131%2FMakefile?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -4,4 +4,4 @@ all: foo.rs\n \t$(RUSTC) --cfg 'feature=\"bar\"' --crate-type lib foo.rs\n \t$(RUSTDOC) --test --cfg 'feature=\"bar\"' \\\n \t\t-L $(TMPDIR) foo.rs |\\\n-\t\t$(CGREP) 'foo.rs - foo (line 1) - run ... ok'\n+\t\t$(CGREP) 'foo.rs - foo (line 1) ... ok'"}, {"sha": "39477c07ced7cbca048f41fb611ae52555d2ffd6", "filename": "src/test/run-make-fulldeps/test-harness/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frun-make-fulldeps%2Ftest-harness%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frun-make-fulldeps%2Ftest-harness%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Ftest-harness%2FMakefile?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -3,6 +3,6 @@\n all:\n \t# check that #[cfg_attr(..., ignore)] does the right thing.\n \t$(RUSTC) --test test-ignore-cfg.rs --cfg ignorecfg\n-\t$(call RUN,test-ignore-cfg) | $(CGREP) 'shouldnotignore - run ... ok' 'shouldignore - ignore ... ignored'\n+\t$(call RUN,test-ignore-cfg) | $(CGREP) 'shouldnotignore ... ok' 'shouldignore ... ignored'\n \t$(call RUN,test-ignore-cfg --quiet) | $(CGREP) -e \"^i\\.$$\"\n \t$(call RUN,test-ignore-cfg --quiet) | $(CGREP) -v 'should'"}, {"sha": "2960ff8d3b473882f8876b0da805ca5ec82d8ee8", "filename": "src/test/rustdoc-ui/cfg-test.stdout", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fcfg-test.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fcfg-test.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fcfg-test.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,7 +1,7 @@\n \n running 2 tests\n-test $DIR/cfg-test.rs - Bar (line 27) - run ... ok\n-test $DIR/cfg-test.rs - Foo (line 19) - run ... ok\n+test $DIR/cfg-test.rs - Bar (line 27) ... ok\n+test $DIR/cfg-test.rs - Foo (line 19) ... ok\n \n test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in $TIME\n "}, {"sha": "d7de1f105228f47d73619062c223893d264ee35e", "filename": "src/test/rustdoc-ui/doc-test-doctest-feature.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fdoc-test-doctest-feature.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fdoc-test-doctest-feature.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fdoc-test-doctest-feature.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,6 +1,6 @@\n \n running 1 test\n-test $DIR/doc-test-doctest-feature.rs - Foo (line 9) - run ... ok\n+test $DIR/doc-test-doctest-feature.rs - Foo (line 9) ... ok\n \n test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in $TIME\n "}, {"sha": "5b07fc4c87af518a13275ccde27acce0643a82e6", "filename": "src/test/rustdoc-ui/doc-test-rustdoc-feature.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fdoc-test-rustdoc-feature.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fdoc-test-rustdoc-feature.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fdoc-test-rustdoc-feature.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,6 +1,6 @@\n \n running 1 test\n-test $DIR/doc-test-rustdoc-feature.rs - Foo (line 10) - run ... ok\n+test $DIR/doc-test-rustdoc-feature.rs - Foo (line 10) ... ok\n \n test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in $TIME\n "}, {"sha": "35b0e366fb5cc3ce598c88415b85615bd8d84c40", "filename": "src/test/rustdoc-ui/doctest-output.stdout", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fdoctest-output.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fdoctest-output.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fdoctest-output.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,8 +1,8 @@\n \n running 3 tests\n-test $DIR/doctest-output.rs - (line 8) - run ... ok\n-test $DIR/doctest-output.rs - ExpandedStruct (line 24) - run ... ok\n-test $DIR/doctest-output.rs - foo::bar (line 18) - run ... ok\n+test $DIR/doctest-output.rs - (line 8) ... ok\n+test $DIR/doctest-output.rs - ExpandedStruct (line 24) ... ok\n+test $DIR/doctest-output.rs - foo::bar (line 18) ... ok\n \n test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in $TIME\n "}, {"sha": "6dfe648f8549e0f5f545e89fb006eb223634040b", "filename": "src/test/rustdoc-ui/failed-doctest-output.stdout", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-output.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-output.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-output.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,7 +1,7 @@\n \n running 2 tests\n-test $DIR/failed-doctest-output.rs - OtherStruct (line 22) - run ... FAILED\n-test $DIR/failed-doctest-output.rs - SomeStruct (line 12) - run ... FAILED\n+test $DIR/failed-doctest-output.rs - OtherStruct (line 22) ... FAILED\n+test $DIR/failed-doctest-output.rs - SomeStruct (line 12) ... FAILED\n \n failures:\n "}, {"sha": "57a20092a5d6c588825aa978cf2325ebe1740603", "filename": "src/test/rustdoc-ui/failed-doctest-should-panic.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-should-panic.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-should-panic.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-should-panic.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,6 +1,6 @@\n \n running 1 test\n-test $DIR/failed-doctest-should-panic.rs - Foo (line 9) - run ... FAILED\n+test $DIR/failed-doctest-should-panic.rs - Foo (line 9) ... FAILED\n \n failures:\n "}, {"sha": "748113be3a26d14d94a8d5f96b26b6750677ccd8", "filename": "src/test/rustdoc-ui/issue-81662-shortness.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fissue-81662-shortness.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fissue-81662-shortness.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fissue-81662-shortness.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,6 +1,6 @@\n \n running 1 test\n-test $DIR/issue-81662-shortness.rs - foo (line 6) - run ... FAILED\n+test $DIR/issue-81662-shortness.rs - foo (line 6) ... FAILED\n \n failures:\n "}, {"sha": "02f28aaf60da054a6040cb29927dd9b3ea3af28f", "filename": "src/test/rustdoc-ui/no-run-flag.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fno-run-flag.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Fno-run-flag.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fno-run-flag.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,7 +1,7 @@\n \n running 7 tests\n test $DIR/no-run-flag.rs - f (line 11) - compile ... ok\n-test $DIR/no-run-flag.rs - f (line 14) - ignore ... ignored\n+test $DIR/no-run-flag.rs - f (line 14) ... ignored\n test $DIR/no-run-flag.rs - f (line 17) - compile ... ok\n test $DIR/no-run-flag.rs - f (line 23) - compile fail ... ok\n test $DIR/no-run-flag.rs - f (line 28) - compile ... ok"}, {"sha": "e9b2754794a78c10ebb0536c2bc8db28c0f42858", "filename": "src/test/rustdoc-ui/run-directory.correct.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Frun-directory.correct.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Frun-directory.correct.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Frun-directory.correct.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,6 +1,6 @@\n \n running 1 test\n-test $DIR/run-directory.rs - foo (line 10) - run ... ok\n+test $DIR/run-directory.rs - foo (line 10) ... ok\n \n test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in $TIME\n "}, {"sha": "97a5dbc5c0cd19112a8b6c02652880f568ca197f", "filename": "src/test/rustdoc-ui/run-directory.incorrect.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Frun-directory.incorrect.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Frun-directory.incorrect.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Frun-directory.incorrect.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,6 +1,6 @@\n \n running 1 test\n-test $DIR/run-directory.rs - foo (line 19) - run ... ok\n+test $DIR/run-directory.rs - foo (line 19) ... ok\n \n test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in $TIME\n "}, {"sha": "8d5a30804c1e22e097e8a045f293f595e390b619", "filename": "src/test/rustdoc-ui/test-no_std.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Ftest-no_std.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Ftest-no_std.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Ftest-no_std.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,6 +1,6 @@\n \n running 1 test\n-test $DIR/test-no_std.rs - f (line 10) - run ... ok\n+test $DIR/test-no_std.rs - f (line 10) ... ok\n \n test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in $TIME\n "}, {"sha": "a66fd240d34c49c3af71529ca2c218c2d5fd91c2", "filename": "src/test/rustdoc-ui/test-type.stdout", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Ftest-type.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Ftest-type.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Ftest-type.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,10 +1,10 @@\n \n running 5 tests\n-test $DIR/test-type.rs - f (line 12) - ignore ... ignored\n+test $DIR/test-type.rs - f (line 12) ... ignored\n test $DIR/test-type.rs - f (line 15) - compile ... ok\n test $DIR/test-type.rs - f (line 21) - compile fail ... ok\n-test $DIR/test-type.rs - f (line 6) - run ... ok\n-test $DIR/test-type.rs - f (line 9) - run ... ok\n+test $DIR/test-type.rs - f (line 6) ... ok\n+test $DIR/test-type.rs - f (line 9) ... ok\n \n test result: ok. 4 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in $TIME\n "}, {"sha": "2641c66f25e7703433bc668058a770aad458c7d9", "filename": "src/test/rustdoc-ui/unparseable-doc-test.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Funparseable-doc-test.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Frustdoc-ui%2Funparseable-doc-test.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Funparseable-doc-test.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,6 +1,6 @@\n \n running 1 test\n-test $DIR/unparseable-doc-test.rs - foo (line 7) - run ... FAILED\n+test $DIR/unparseable-doc-test.rs - foo (line 7) ... FAILED\n \n failures:\n "}, {"sha": "1aa684ed5073a53dcacc2d54a600e6327b216da4", "filename": "src/test/ui/test-attrs/test-filter-multiple.run.stdout", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-attrs%2Ftest-filter-multiple.run.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-attrs%2Ftest-filter-multiple.run.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-attrs%2Ftest-filter-multiple.run.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,7 +1,7 @@\n \n running 2 tests\n-test test1 - run ... ok\n-test test2 - run ... ok\n+test test1 ... ok\n+test test2 ... ok\n \n test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in $TIME\n "}, {"sha": "be2fd8ae68c36420287241ba1820c5c0ef8f0895", "filename": "src/test/ui/test-attrs/test-type.run.stdout", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-attrs%2Ftest-type.run.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-attrs%2Ftest-type.run.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-attrs%2Ftest-type.run.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,7 +1,7 @@\n \n running 3 tests\n-test test_no_run - ignore ... ignored\n-test test_ok - run ... ok\n+test test_no_run ... ignored\n+test test_ok ... ok\n test test_panic - should panic ... ok\n \n test result: ok. 2 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in $TIME"}, {"sha": "8a91732a754ac56a4b837fe09d1599155ce3d34f", "filename": "src/test/ui/test-panic-abort-nocapture.run.stdout", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-panic-abort-nocapture.run.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-panic-abort-nocapture.run.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-panic-abort-nocapture.run.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,12 +1,12 @@\n \n running 4 tests\n-test it_fails - run ... about to fail\n+test it_fails ... about to fail\n FAILED\n test it_panics - should panic ... about to panic\n ok\n-test it_works - run ... about to succeed\n+test it_works ... about to succeed\n ok\n-test it_writes_to_stdio - run ... hello, world\n+test it_writes_to_stdio ... hello, world\n testing123\n ok\n "}, {"sha": "f608a8cdc55692fe6904f4471f16d9eb67633bd9", "filename": "src/test/ui/test-panic-abort.run.stdout", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-panic-abort.run.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-panic-abort.run.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-panic-abort.run.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,10 +1,10 @@\n \n running 5 tests\n-test it_exits - run ... FAILED\n-test it_fails - run ... FAILED\n+test it_exits ... FAILED\n+test it_fails ... FAILED\n test it_panics - should panic ... ok\n-test it_works - run ... ok\n-test no_residual_environment - run ... ok\n+test it_works ... ok\n+test no_residual_environment ... ok\n \n failures:\n "}, {"sha": "17f70d607494eb0a4d5c2b65470aee009072718f", "filename": "src/test/ui/test-passed.run.stdout", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-passed.run.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-passed.run.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-passed.run.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,7 +1,7 @@\n \n running 2 tests\n-test it_works - run ... ok\n-test it_works_too - run ... ok\n+test it_works ... ok\n+test it_works_too ... ok\n \n test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in $TIME\n "}, {"sha": "487cfb55eb47324947b0fbd594b72d4bdaab197e", "filename": "src/test/ui/test-thread-capture.run.stdout", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-thread-capture.run.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-thread-capture.run.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-thread-capture.run.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,7 +1,7 @@\n \n running 2 tests\n-test thready_fail - run ... FAILED\n-test thready_pass - run ... ok\n+test thready_fail ... FAILED\n+test thready_pass ... ok\n \n failures:\n "}, {"sha": "9d2da50826c25ca431c9de857d8ce441c485c882", "filename": "src/test/ui/test-thread-nocapture.run.stdout", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-thread-nocapture.run.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftest%2Fui%2Ftest-thread-nocapture.run.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-thread-nocapture.run.stdout?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -1,11 +1,11 @@\n \n running 2 tests\n-test thready_fail - run ... fee\n+test thready_fail ... fee\n fie\n foe\n fum\n FAILED\n-test thready_pass - run ... fee\n+test thready_pass ... fee\n fie\n foe\n fum"}, {"sha": "18c40a037c57c959f189fab995cbf9aeb255cc9a", "filename": "src/tools/compiletest/src/runtest.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d8180635289437ac96b20ec94419394194f7c83/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs?ref=3d8180635289437ac96b20ec94419394194f7c83", "patch": "@@ -2637,12 +2637,11 @@ impl<'test> TestCx<'test> {\n \n         let mut tested = 0;\n         for _ in res.stdout.split('\\n').filter(|s| s.starts_with(\"test \")).inspect(|s| {\n-            let tmp: Vec<&str> = s.split(\" - \").collect();\n-            if tmp.len() == 3 {\n-                let path = tmp[0].rsplit(\"test \").next().unwrap();\n+            if let Some((left, right)) = s.split_once(\" - \") {\n+                let path = left.rsplit(\"test \").next().unwrap();\n                 if let Some(ref mut v) = files.get_mut(&path.replace('\\\\', \"/\")) {\n                     tested += 1;\n-                    let mut iter = tmp[1].split(\"(line \");\n+                    let mut iter = right.split(\"(line \");\n                     iter.next();\n                     let line = iter\n                         .next()"}]}