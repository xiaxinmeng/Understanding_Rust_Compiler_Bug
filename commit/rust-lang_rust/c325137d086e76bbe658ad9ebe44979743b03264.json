{"sha": "c325137d086e76bbe658ad9ebe44979743b03264", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMzMjUxMzdkMDg2ZTc2YmJlNjU4YWQ5ZWJlNDQ5Nzk3NDNiMDMyNjQ=", "commit": {"author": {"name": "Wilco Kusee", "email": "wilcokusee@gmail.com", "date": "2019-01-13T18:59:00Z"}, "committer": {"name": "Wilco Kusee", "email": "wilcokusee@gmail.com", "date": "2019-01-13T18:59:00Z"}, "message": "Add run-rustfix to unit_arg test", "tree": {"sha": "584b8054c16d2f6fcca59516e72f225708c03aa8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/584b8054c16d2f6fcca59516e72f225708c03aa8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c325137d086e76bbe658ad9ebe44979743b03264", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c325137d086e76bbe658ad9ebe44979743b03264", "html_url": "https://github.com/rust-lang/rust/commit/c325137d086e76bbe658ad9ebe44979743b03264", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c325137d086e76bbe658ad9ebe44979743b03264/comments", "author": {"login": "detrumi", "id": 5758008, "node_id": "MDQ6VXNlcjU3NTgwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5758008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/detrumi", "html_url": "https://github.com/detrumi", "followers_url": "https://api.github.com/users/detrumi/followers", "following_url": "https://api.github.com/users/detrumi/following{/other_user}", "gists_url": "https://api.github.com/users/detrumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/detrumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/detrumi/subscriptions", "organizations_url": "https://api.github.com/users/detrumi/orgs", "repos_url": "https://api.github.com/users/detrumi/repos", "events_url": "https://api.github.com/users/detrumi/events{/privacy}", "received_events_url": "https://api.github.com/users/detrumi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "detrumi", "id": 5758008, "node_id": "MDQ6VXNlcjU3NTgwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5758008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/detrumi", "html_url": "https://github.com/detrumi", "followers_url": "https://api.github.com/users/detrumi/followers", "following_url": "https://api.github.com/users/detrumi/following{/other_user}", "gists_url": "https://api.github.com/users/detrumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/detrumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/detrumi/subscriptions", "organizations_url": "https://api.github.com/users/detrumi/orgs", "repos_url": "https://api.github.com/users/detrumi/repos", "events_url": "https://api.github.com/users/detrumi/events{/privacy}", "received_events_url": "https://api.github.com/users/detrumi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "67be42143a1c54c0050cc441b43b66c63652dcf3", "url": "https://api.github.com/repos/rust-lang/rust/commits/67be42143a1c54c0050cc441b43b66c63652dcf3", "html_url": "https://github.com/rust-lang/rust/commit/67be42143a1c54c0050cc441b43b66c63652dcf3"}], "stats": {"total": 68, "additions": 61, "deletions": 7}, "files": [{"sha": "d8f3e854ca9e338b18e5f5db94e7f9536e4a8384", "filename": "tests/ui/unit_arg.fixed", "status": "added", "additions": 53, "deletions": 0, "changes": 53, "blob_url": "https://github.com/rust-lang/rust/blob/c325137d086e76bbe658ad9ebe44979743b03264/tests%2Fui%2Funit_arg.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/c325137d086e76bbe658ad9ebe44979743b03264/tests%2Fui%2Funit_arg.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funit_arg.fixed?ref=c325137d086e76bbe658ad9ebe44979743b03264", "patch": "@@ -0,0 +1,53 @@\n+// run-rustfix\n+#![warn(clippy::unit_arg)]\n+#![allow(clippy::no_effect, unused_must_use)]\n+\n+use std::fmt::Debug;\n+\n+fn foo<T: Debug>(t: T) {\n+    println!(\"{:?}\", t);\n+}\n+\n+fn foo3<T1: Debug, T2: Debug, T3: Debug>(t1: T1, t2: T2, t3: T3) {\n+    println!(\"{:?}, {:?}, {:?}\", t1, t2, t3);\n+}\n+\n+struct Bar;\n+\n+impl Bar {\n+    fn bar<T: Debug>(&self, t: T) {\n+        println!(\"{:?}\", t);\n+    }\n+}\n+\n+fn bad() {\n+    foo(());\n+    foo(());\n+    foo(());\n+    foo(());\n+    foo3((), 2, 2);\n+    let b = Bar;\n+    b.bar(());\n+}\n+\n+fn ok() {\n+    foo(());\n+    foo(1);\n+    foo({ 1 });\n+    foo3(\"a\", 3, vec![3]);\n+    let b = Bar;\n+    b.bar({ 1 });\n+    b.bar(());\n+    question_mark();\n+}\n+\n+fn question_mark() -> Result<(), ()> {\n+    Ok(Ok(())?)?;\n+    Ok(Ok(()))??;\n+    Ok(())\n+}\n+\n+fn main() {\n+    bad();\n+    ok();\n+}"}, {"sha": "1403870eacfebc43b7e1962c8d5b5d40e99e2f7a", "filename": "tests/ui/unit_arg.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c325137d086e76bbe658ad9ebe44979743b03264/tests%2Fui%2Funit_arg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c325137d086e76bbe658ad9ebe44979743b03264/tests%2Fui%2Funit_arg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funit_arg.rs?ref=c325137d086e76bbe658ad9ebe44979743b03264", "patch": "@@ -1,5 +1,6 @@\n+// run-rustfix\n #![warn(clippy::unit_arg)]\n-#![allow(clippy::no_effect)]\n+#![allow(clippy::no_effect, unused_must_use)]\n \n use std::fmt::Debug;\n "}, {"sha": "862534b18ecbb20c0e89f260e070a71b8890dc1b", "filename": "tests/ui/unit_arg.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/c325137d086e76bbe658ad9ebe44979743b03264/tests%2Fui%2Funit_arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c325137d086e76bbe658ad9ebe44979743b03264/tests%2Fui%2Funit_arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funit_arg.stderr?ref=c325137d086e76bbe658ad9ebe44979743b03264", "patch": "@@ -1,5 +1,5 @@\n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:23:9\n+  --> $DIR/unit_arg.rs:24:9\n    |\n LL |     foo({});\n    |         ^^\n@@ -11,7 +11,7 @@ LL |     foo(());\n    |         ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:24:9\n+  --> $DIR/unit_arg.rs:25:9\n    |\n LL |       foo({\n    |  _________^\n@@ -24,7 +24,7 @@ LL |     foo(());\n    |         ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:27:9\n+  --> $DIR/unit_arg.rs:28:9\n    |\n LL |     foo(foo(1));\n    |         ^^^^^^\n@@ -34,7 +34,7 @@ LL |     foo(());\n    |         ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:28:9\n+  --> $DIR/unit_arg.rs:29:9\n    |\n LL |       foo({\n    |  _________^\n@@ -48,7 +48,7 @@ LL |     foo(());\n    |         ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:32:10\n+  --> $DIR/unit_arg.rs:33:10\n    |\n LL |     foo3({}, 2, 2);\n    |          ^^\n@@ -58,7 +58,7 @@ LL |     foo3((), 2, 2);\n    |          ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:34:11\n+  --> $DIR/unit_arg.rs:35:11\n    |\n LL |       b.bar({\n    |  ___________^"}]}