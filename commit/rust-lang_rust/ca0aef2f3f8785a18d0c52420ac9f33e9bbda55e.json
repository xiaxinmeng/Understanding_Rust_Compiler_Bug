{"sha": "ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNhMGFlZjJmM2Y4Nzg1YTE4ZDBjNTI0MjBhYzlmMzNlOWJiZGE1NWU=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-05-08T10:48:25Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-05-08T10:48:25Z"}, "message": "feat: make troubleshooting a top-level section", "tree": {"sha": "c5fbde1b4ce44914bf2e412eeef95d67415c9804", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c5fbde1b4ce44914bf2e412eeef95d67415c9804"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e", "html_url": "https://github.com/rust-lang/rust/commit/ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "12e093de224afa017c013bea5e1ccb9a5cd65025", "url": "https://api.github.com/repos/rust-lang/rust/commits/12e093de224afa017c013bea5e1ccb9a5cd65025", "html_url": "https://github.com/rust-lang/rust/commit/12e093de224afa017c013bea5e1ccb9a5cd65025"}], "stats": {"total": 70, "additions": 35, "deletions": 35}, "files": [{"sha": "a1d1951d0185ab5d3cab60a553ce7646583de071", "filename": "docs/user/manual.adoc", "status": "modified", "additions": 35, "deletions": 35, "changes": 70, "blob_url": "https://github.com/rust-lang/rust/blob/ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e/docs%2Fuser%2Fmanual.adoc", "raw_url": "https://github.com/rust-lang/rust/raw/ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e/docs%2Fuser%2Fmanual.adoc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Fmanual.adoc?ref=ca0aef2f3f8785a18d0c52420ac9f33e9bbda55e", "patch": "@@ -137,41 +137,6 @@ If you're not using Code, you can compile and install only the LSP server:\n $ cargo xtask install --server\n ----\n \n-==== Troubleshooting\n-\n-Start with looking at the rust-analyzer version.\n-Try **Rust Analyzer: Show RA Version** and `rust-analyzer --version` in the command line.\n-If the date is more than a week ago, it's better to update rust-analyzer version.\n-\n-The next thing to check would be panic messages in rust-analyzer's log.\n-Log messages are printed to stderr, in VS Code you can see then in the `Output > Rust Analyzer Language Server` tab of the panel.\n-To see more logs, set `RA_LOG=info` environmental variable.\n-\n-To fully capture LSP messages between the editor and the server, set `\"rust-analyzer.trace.server\": \"verbose\"` config and check\n-`Output > Rust Analyzer Language Server Trace`.\n-\n-The root cause for many \"`nothing works`\" problems is that rust-analyzer fails to understand the project structure.\n-To debug that, first note the `rust-analyzer` section in the status bar.\n-If it has an error icon and red, that's the problem (hover will have somewhat helpful error message).\n-**Rust Analyzer: Status** prints dependency information for the current file.\n-Finally, `RA_LOG=project_model=debug` enables verbose logs during project loading.\n-\n-If rust-analyzer outright crashes, try running `rust-analyzer analysis-stats /path/to/project/directory/` on the command line.\n-This command type checks the whole project in batch mode bypassing LSP machinery.\n-\n-When filing issues, it is useful (but not necessary) to try to minimize examples.\n-An ideal bug reproduction looks like this:\n-\n-```bash\n-$ git clone https://github.com/username/repo.git && cd repo && git switch --detach commit-hash\n-$ rust-analyzer --version\n-rust-analyzer dd12184e4 2021-05-08 dev\n-$ rust-analyzer analysis-stats .\n-\ud83d\udc80 \ud83d\udc80 \ud83d\udc80\n-```\n-\n-It is especially useful when the `repo` doesn't use external crates or the standard library.\n-\n === rust-analyzer Language Server Binary\n \n Other editors generally require the `rust-analyzer` binary to be in `$PATH`.\n@@ -434,6 +399,41 @@ With\n ----\n Then click on apply, and restart the LSP server for your rust project.\n \n+== Troubleshooting\n+\n+Start with looking at the rust-analyzer version.\n+Try **Rust Analyzer: Show RA Version** in VS Code and `rust-analyzer --version` in the command line.\n+If the date is more than a week ago, it's better to update rust-analyzer version.\n+\n+The next thing to check would be panic messages in rust-analyzer's log.\n+Log messages are printed to stderr, in VS Code you can see then in the `Output > Rust Analyzer Language Server` tab of the panel.\n+To see more logs, set `RA_LOG=info` environmental variable.\n+\n+To fully capture LSP messages between the editor and the server, set `\"rust-analyzer.trace.server\": \"verbose\"` config and check\n+`Output > Rust Analyzer Language Server Trace`.\n+\n+The root cause for many \"`nothing works`\" problems is that rust-analyzer fails to understand the project structure.\n+To debug that, first note the `rust-analyzer` section in the status bar.\n+If it has an error icon and red, that's the problem (hover will have somewhat helpful error message).\n+**Rust Analyzer: Status** prints dependency information for the current file.\n+Finally, `RA_LOG=project_model=debug` enables verbose logs during project loading.\n+\n+If rust-analyzer outright crashes, try running `rust-analyzer analysis-stats /path/to/project/directory/` on the command line.\n+This command type checks the whole project in batch mode bypassing LSP machinery.\n+\n+When filing issues, it is useful (but not necessary) to try to minimize examples.\n+An ideal bug reproduction looks like this:\n+\n+```bash\n+$ git clone https://github.com/username/repo.git && cd repo && git switch --detach commit-hash\n+$ rust-analyzer --version\n+rust-analyzer dd12184e4 2021-05-08 dev\n+$ rust-analyzer analysis-stats .\n+\ud83d\udc80 \ud83d\udc80 \ud83d\udc80\n+```\n+\n+It is especially useful when the `repo` doesn't use external crates or the standard library.\n+\n == Configuration\n \n **Source:** https://github.com/rust-analyzer/rust-analyzer/blob/master/crates/rust-analyzer/src/config.rs[config.rs]"}]}