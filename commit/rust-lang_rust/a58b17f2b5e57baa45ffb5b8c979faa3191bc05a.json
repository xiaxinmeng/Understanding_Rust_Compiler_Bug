{"sha": "a58b17f2b5e57baa45ffb5b8c979faa3191bc05a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE1OGIxN2YyYjVlNTdiYWE0NWZmYjViOGM5NzlmYWEzMTkxYmMwNWE=", "commit": {"author": {"name": "Mark Mansi", "email": "markm@cs.wisc.edu", "date": "2020-03-13T18:36:16Z"}, "committer": {"name": "Mark Mansi", "email": "markm@cs.wisc.edu", "date": "2020-03-13T18:36:16Z"}, "message": "update rustdocs for frozen", "tree": {"sha": "23cf13c1b35af552603de3829a321f90539f1b0e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/23cf13c1b35af552603de3829a321f90539f1b0e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a58b17f2b5e57baa45ffb5b8c979faa3191bc05a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a58b17f2b5e57baa45ffb5b8c979faa3191bc05a", "html_url": "https://github.com/rust-lang/rust/commit/a58b17f2b5e57baa45ffb5b8c979faa3191bc05a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a58b17f2b5e57baa45ffb5b8c979faa3191bc05a/comments", "author": {"login": "mark-i-m", "id": 8827840, "node_id": "MDQ6VXNlcjg4Mjc4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8827840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-i-m", "html_url": "https://github.com/mark-i-m", "followers_url": "https://api.github.com/users/mark-i-m/followers", "following_url": "https://api.github.com/users/mark-i-m/following{/other_user}", "gists_url": "https://api.github.com/users/mark-i-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-i-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-i-m/subscriptions", "organizations_url": "https://api.github.com/users/mark-i-m/orgs", "repos_url": "https://api.github.com/users/mark-i-m/repos", "events_url": "https://api.github.com/users/mark-i-m/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-i-m/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mark-i-m", "id": 8827840, "node_id": "MDQ6VXNlcjg4Mjc4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8827840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-i-m", "html_url": "https://github.com/mark-i-m", "followers_url": "https://api.github.com/users/mark-i-m/followers", "following_url": "https://api.github.com/users/mark-i-m/following{/other_user}", "gists_url": "https://api.github.com/users/mark-i-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-i-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-i-m/subscriptions", "organizations_url": "https://api.github.com/users/mark-i-m/orgs", "repos_url": "https://api.github.com/users/mark-i-m/repos", "events_url": "https://api.github.com/users/mark-i-m/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-i-m/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "da4e33a9e659071ae5e7418242dea38d951a260d", "url": "https://api.github.com/repos/rust-lang/rust/commits/da4e33a9e659071ae5e7418242dea38d951a260d", "html_url": "https://github.com/rust-lang/rust/commit/da4e33a9e659071ae5e7418242dea38d951a260d"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "2daf5b0414172ed1cf415438a8a6df31e2e1be8b", "filename": "src/librustc_data_structures/frozen.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a58b17f2b5e57baa45ffb5b8c979faa3191bc05a/src%2Flibrustc_data_structures%2Ffrozen.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a58b17f2b5e57baa45ffb5b8c979faa3191bc05a/src%2Flibrustc_data_structures%2Ffrozen.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Ffrozen.rs?ref=a58b17f2b5e57baa45ffb5b8c979faa3191bc05a", "patch": "@@ -1,4 +1,4 @@\n-//! An immutable, owned value.\n+//! An immutable, owned value (except for interior mutability).\n //!\n //! The purpose of `Frozen` is to make a value immutable for the sake of defensive programming. For example,\n //! suppose we have the following:\n@@ -37,6 +37,12 @@\n //! `Frozen` impls `Deref`, so we can ergonomically call methods on `Bar`, but it doesn't `impl\n //! DerefMut`.  Now calling `foo.compute.mutate()` will result in a compile-time error stating that\n //! `mutate` requires a mutable reference but we don't have one.\n+//!\n+//! # Caveats\n+//!\n+//! - `Frozen` doesn't try to defend against interior mutability (e.g. `Frozen<RefCell<Bar>>`).\n+//! - `Frozen` doesn't pin it's contents (e.g. one could still do `foo.computed =\n+//!    Frozen::freeze(new_bar)`).\n \n /// An owned immutable value.\n #[derive(Debug)]"}]}