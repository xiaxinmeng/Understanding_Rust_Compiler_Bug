{"sha": "bbdaf01a5aa3ef55b693384465e61db1007a9a09", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJiZGFmMDFhNWFhM2VmNTViNjkzMzg0NDY1ZTYxZGIxMDA3YTlhMDk=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-02-26T23:04:18Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-02-26T23:22:50Z"}, "message": "travis: Use LLVM 3.3 from the official repos\n\nWe can be certain that this version of LLVM will not be changing, so we don't\nhave to worry about API drift over time.", "tree": {"sha": "c5997c9c11a83bb709fa08ca17eb772b8445566a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c5997c9c11a83bb709fa08ca17eb772b8445566a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bbdaf01a5aa3ef55b693384465e61db1007a9a09", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bbdaf01a5aa3ef55b693384465e61db1007a9a09", "html_url": "https://github.com/rust-lang/rust/commit/bbdaf01a5aa3ef55b693384465e61db1007a9a09", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bbdaf01a5aa3ef55b693384465e61db1007a9a09/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1ac5e84e9179fd9c02b5f8d6c46eaab58baa6e4b", "url": "https://api.github.com/repos/rust-lang/rust/commits/1ac5e84e9179fd9c02b5f8d6c46eaab58baa6e4b", "html_url": "https://github.com/rust-lang/rust/commit/1ac5e84e9179fd9c02b5f8d6c46eaab58baa6e4b"}], "stats": {"total": 27, "additions": 9, "deletions": 18}, "files": [{"sha": "310d3f4111fd36c17e7f2d861f6f65010f8bd1f1", "filename": ".travis.yml", "status": "modified", "additions": 9, "deletions": 18, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/bbdaf01a5aa3ef55b693384465e61db1007a9a09/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/bbdaf01a5aa3ef55b693384465e61db1007a9a09/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=bbdaf01a5aa3ef55b693384465e61db1007a9a09", "patch": "@@ -3,32 +3,23 @@\n # it treats unknown languages as ruby-like I believe.\n language: c\n \n-# Before we start doing anything, install the latest stock LLVM. These are\n-# maintained by LLVM, and more information can be found at llvm.org/apt.\n-#\n-# Right now, the highest version is 3.5, and our SVN version is roughly aligned\n-# with the 3.5 API (hurray!)\n+# Before we start doing anything, install a stock LLVM\n install:\n-  - sudo sh -c \"echo 'deb http://llvm.org/apt/precise/ llvm-toolchain-precise main' >> /etc/apt/sources.list\"\n-  - sudo sh -c \"echo 'deb-src http://llvm.org/apt/precise/ llvm-toolchain-precise main' >> /etc/apt/sources.list\"\n-  - sudo sh -c \"echo 'deb http://ppa.launchpad.net/ubuntu-toolchain-r/test/ubuntu precise main' >> /etc/apt/sources.list\"\n-  - wget -O - http://llvm.org/apt/llvm-snapshot.gpg.key | sudo apt-key add -\n-  - sudo apt-get update -qq\n-  - sudo apt-get install -y --force-yes -qq llvm-3.5 llvm-3.5-dev clang-3.5 lldb-3.5\n+  - sudo apt-get install llvm-3.3 llvm-3.3-dev clang-3.3 lldb-3.3\n \n-# All of the llvm tools are suffixed with \"-3.5\" which we don't want, so symlink\n+# All of the llvm tools are suffixed with \"-3.3\" which we don't want, so symlink\n # them all into a local directory and just use that\n #\n # FIXME: this shouldn't update the src/llvm sub-repo, that takes about a minute\n #        it's gotta download so much stuff.\n before_script:\n   - mkdir -p local-llvm/bin\n-  - ln -nsf /usr/bin/llvm-config-3.5 local-llvm/bin/llvm-config\n-  - ln -nsf /usr/bin/llvm-mc-3.5 local-llvm/bin/llvm-mc\n-  - ln -nsf /usr/bin/llvm-as-3.5 local-llvm/bin/llvm-as\n-  - ln -nsf /usr/bin/llvm-dis-3.5 local-llvm/bin/llvm-dis\n-  - ln -nsf /usr/bin/llc-3.5 local-llvm/bin/llc\n-  - ln -nsf /usr/include/llvm-3.5 local-llvm/include\n+  - ln -nsf /usr/bin/llvm-config-3.3 local-llvm/bin/llvm-config\n+  - ln -nsf /usr/bin/llvm-mc-3.3 local-llvm/bin/llvm-mc\n+  - ln -nsf /usr/bin/llvm-as-3.3 local-llvm/bin/llvm-as\n+  - ln -nsf /usr/bin/llvm-dis-3.3 local-llvm/bin/llvm-dis\n+  - ln -nsf /usr/bin/llc-3.3 local-llvm/bin/llc\n+  - ln -nsf /usr/include/llvm-3.3 local-llvm/include\n   - ./configure --disable-optimize-tests --llvm-root=`pwd`/local-llvm --enable-fast-make --enable-clang\n \n # Tidy everything up first, then build a few things, and then run a few tests."}]}