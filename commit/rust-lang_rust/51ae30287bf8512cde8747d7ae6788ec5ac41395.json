{"sha": "51ae30287bf8512cde8747d7ae6788ec5ac41395", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUxYWUzMDI4N2JmODUxMmNkZTg3NDdkN2FlNjc4OGVjNWFjNDEzOTU=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-10-05T03:18:04Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-10-05T03:18:04Z"}, "message": "Add std::fs::split", "tree": {"sha": "c43bc02af874faf3dc7b057924fd29cabcee2de0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c43bc02af874faf3dc7b057924fd29cabcee2de0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/51ae30287bf8512cde8747d7ae6788ec5ac41395", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/51ae30287bf8512cde8747d7ae6788ec5ac41395", "html_url": "https://github.com/rust-lang/rust/commit/51ae30287bf8512cde8747d7ae6788ec5ac41395", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/51ae30287bf8512cde8747d7ae6788ec5ac41395/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0e5ea4d64f43cfbf91670b3d13ff3be7562d99fd", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e5ea4d64f43cfbf91670b3d13ff3be7562d99fd", "html_url": "https://github.com/rust-lang/rust/commit/0e5ea4d64f43cfbf91670b3d13ff3be7562d99fd"}], "stats": {"total": 45, "additions": 45, "deletions": 0}, "files": [{"sha": "0316c9d685cca8f5964af7905567a468da671409", "filename": "src/lib/fs.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/51ae30287bf8512cde8747d7ae6788ec5ac41395/src%2Flib%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/51ae30287bf8512cde8747d7ae6788ec5ac41395/src%2Flib%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Ffs.rs?ref=51ae30287bf8512cde8747d7ae6788ec5ac41395", "patch": "@@ -76,6 +76,15 @@ fn make_absolute(p: path) -> path {\n     if path_is_absolute(p) { ret p; } else { ret connect(getcwd(), p); }\n }\n \n+fn split(p: path) -> [path] {\n+    let split1 = str::split(p, os_fs::path_sep as u8);\n+    let split2 = [];\n+    for s in split1 {\n+        split2 += str::split(s, os_fs::alt_path_sep as u8);\n+    }\n+    ret split2;\n+}\n+\n // Local Variables:\n // mode: rust;\n // fill-column: 78;"}, {"sha": "65fc88d58941f88f41e395e33b041b16af573c6d", "filename": "src/test/stdtest/fs.rs", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/51ae30287bf8512cde8747d7ae6788ec5ac41395/src%2Ftest%2Fstdtest%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/51ae30287bf8512cde8747d7ae6788ec5ac41395/src%2Ftest%2Fstdtest%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fstdtest%2Ffs.rs?ref=51ae30287bf8512cde8747d7ae6788ec5ac41395", "patch": "@@ -28,3 +28,39 @@ fn file_is_dir() {\n     assert (fs::file_is_dir(\".\"));\n     assert (!fs::file_is_dir(\"test/stdtest/fs.rs\"));\n }\n+\n+fn ps() -> str {\n+    fs::path_sep()\n+}\n+\n+fn aps() -> str {\n+    \"/\"\n+}\n+\n+#[test]\n+fn split1() {\n+    let actual = fs::split(\"a\" + ps() + \"b\");\n+    let expected = [\"a\", \"b\"];\n+    assert actual == expected;\n+}\n+\n+#[test]\n+fn split2() {\n+    let actual = fs::split(\"a\" + aps() + \"b\");\n+    let expected = [\"a\", \"b\"];\n+    assert actual == expected;\n+}\n+\n+#[test]\n+fn split3() {\n+    let actual = fs::split(ps() + \"a\" + ps() + \"b\");\n+    let expected = [\"a\", \"b\"];\n+    assert actual == expected;\n+}\n+\n+#[test]\n+fn split4() {\n+    let actual = fs::split(\"a\" + ps() + \"b\" + aps() + \"c\");\n+    let expected = [\"a\", \"b\", \"c\"];\n+    assert actual == expected;\n+}"}]}