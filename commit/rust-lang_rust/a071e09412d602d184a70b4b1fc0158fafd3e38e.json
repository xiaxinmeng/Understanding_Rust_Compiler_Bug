{"sha": "a071e09412d602d184a70b4b1fc0158fafd3e38e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEwNzFlMDk0MTJkNjAyZDE4NGE3MGI0YjFmYzAxNThmYWZkM2UzOGU=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2017-12-31T12:29:09Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2017-12-31T12:29:09Z"}, "message": "Lexer: more symbols", "tree": {"sha": "f857392d2f88233c14f11f8206647a23c81dafe3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f857392d2f88233c14f11f8206647a23c81dafe3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a071e09412d602d184a70b4b1fc0158fafd3e38e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a071e09412d602d184a70b4b1fc0158fafd3e38e", "html_url": "https://github.com/rust-lang/rust/commit/a071e09412d602d184a70b4b1fc0158fafd3e38e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a071e09412d602d184a70b4b1fc0158fafd3e38e/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d76d7d2a7426e34b0fb358029cbaa2d71f0118e8", "url": "https://api.github.com/repos/rust-lang/rust/commits/d76d7d2a7426e34b0fb358029cbaa2d71f0118e8", "html_url": "https://github.com/rust-lang/rust/commit/d76d7d2a7426e34b0fb358029cbaa2d71f0118e8"}], "stats": {"total": 70, "additions": 65, "deletions": 5}, "files": [{"sha": "482e00f914c9feb4a18422109a03ef3ebd63a6c8", "filename": "grammar.ron", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a071e09412d602d184a70b4b1fc0158fafd3e38e/grammar.ron", "raw_url": "https://github.com/rust-lang/rust/raw/a071e09412d602d184a70b4b1fc0158fafd3e38e/grammar.ron", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/grammar.ron?ref=a071e09412d602d184a70b4b1fc0158fafd3e38e", "patch": "@@ -39,5 +39,14 @@ Grammar(\n         \"RAW_STRING\",\n         \"BYTE_STRING\",\n         \"RAW_BYTE_STRING\",\n+        \"PLUS\",\n+        \"MINUS\",\n+        \"STAR\",\n+        \"SLASH\",\n+        \"CARET\",\n+        \"PERCENT\",\n+        \"AMPERSAND\",\n+        \"PIPE\",\n+        \"THIN_ARROW\",\n     ]\n )\n\\ No newline at end of file"}, {"sha": "be86416c480a5fa13e6e51ffe88a73776deb9ee9", "filename": "src/lexer/mod.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/a071e09412d602d184a70b4b1fc0158fafd3e38e/src%2Flexer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a071e09412d602d184a70b4b1fc0158fafd3e38e/src%2Flexer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flexer%2Fmod.rs?ref=a071e09412d602d184a70b4b1fc0158fafd3e38e", "patch": "@@ -59,6 +59,13 @@ fn next_token_inner(c: char, ptr: &mut Ptr) -> SyntaxKind {\n         '~' => return TILDE,\n         '?' => return QUESTION,\n         '$' => return DOLLAR,\n+        '&' => return AMPERSAND,\n+        '|' => return PIPE,\n+        '+' => return PLUS,\n+        '*' => return STAR,\n+        '/' => return SLASH,\n+        '^' => return CARET,\n+        '%' => return PERCENT,\n \n         // Multi-byte tokens.\n         '.' => return match (ptr.next(), ptr.nnext()) {\n@@ -103,6 +110,12 @@ fn next_token_inner(c: char, ptr: &mut Ptr) -> SyntaxKind {\n             }\n             _ => NOT,\n         },\n+        '-' => return if ptr.next_is('>') {\n+            ptr.bump();\n+            THIN_ARROW\n+        } else {\n+            MINUS\n+        },\n \n         // If the character is an ident start not followed by another single\n         // quote, then this is a lifetime name:"}, {"sha": "83fabe403a30fbaaa3f672ce10fe4881bec8638a", "filename": "src/syntax_kinds.rs", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/a071e09412d602d184a70b4b1fc0158fafd3e38e/src%2Fsyntax_kinds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a071e09412d602d184a70b4b1fc0158fafd3e38e/src%2Fsyntax_kinds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsyntax_kinds.rs?ref=a071e09412d602d184a70b4b1fc0158fafd3e38e", "patch": "@@ -40,8 +40,17 @@ pub const STRING: SyntaxKind = SyntaxKind(35);\n pub const RAW_STRING: SyntaxKind = SyntaxKind(36);\n pub const BYTE_STRING: SyntaxKind = SyntaxKind(37);\n pub const RAW_BYTE_STRING: SyntaxKind = SyntaxKind(38);\n+pub const PLUS: SyntaxKind = SyntaxKind(39);\n+pub const MINUS: SyntaxKind = SyntaxKind(40);\n+pub const STAR: SyntaxKind = SyntaxKind(41);\n+pub const SLASH: SyntaxKind = SyntaxKind(42);\n+pub const CARET: SyntaxKind = SyntaxKind(43);\n+pub const PERCENT: SyntaxKind = SyntaxKind(44);\n+pub const AMPERSAND: SyntaxKind = SyntaxKind(45);\n+pub const PIPE: SyntaxKind = SyntaxKind(46);\n+pub const THIN_ARROW: SyntaxKind = SyntaxKind(47);\n \n-static INFOS: [SyntaxInfo; 39] = [\n+static INFOS: [SyntaxInfo; 48] = [\n     SyntaxInfo { name: \"ERROR\" },\n     SyntaxInfo { name: \"IDENT\" },\n     SyntaxInfo { name: \"UNDERSCORE\" },\n@@ -81,6 +90,15 @@ static INFOS: [SyntaxInfo; 39] = [\n     SyntaxInfo { name: \"RAW_STRING\" },\n     SyntaxInfo { name: \"BYTE_STRING\" },\n     SyntaxInfo { name: \"RAW_BYTE_STRING\" },\n+    SyntaxInfo { name: \"PLUS\" },\n+    SyntaxInfo { name: \"MINUS\" },\n+    SyntaxInfo { name: \"STAR\" },\n+    SyntaxInfo { name: \"SLASH\" },\n+    SyntaxInfo { name: \"CARET\" },\n+    SyntaxInfo { name: \"PERCENT\" },\n+    SyntaxInfo { name: \"AMPERSAND\" },\n+    SyntaxInfo { name: \"PIPE\" },\n+    SyntaxInfo { name: \"THIN_ARROW\" },\n ];\n \n pub(crate) fn syntax_info(kind: SyntaxKind) -> &'static SyntaxInfo {"}, {"sha": "4b5fd9f71c9b9b826edff44712c465bb0119aab8", "filename": "tests/data/lexer/0004_numbers.txt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a071e09412d602d184a70b4b1fc0158fafd3e38e/tests%2Fdata%2Flexer%2F0004_numbers.txt", "raw_url": "https://github.com/rust-lang/rust/raw/a071e09412d602d184a70b4b1fc0158fafd3e38e/tests%2Fdata%2Flexer%2F0004_numbers.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Flexer%2F0004_numbers.txt?ref=a071e09412d602d184a70b4b1fc0158fafd3e38e", "patch": "@@ -47,13 +47,13 @@ L_PAREN 1 \"(\"\n R_PAREN 1 \")\"\n WHITESPACE 1 \"\\n\"\n INT_NUMBER 2 \"0e\"\n-ERROR 1 \"+\"\n+PLUS 1 \"+\"\n INT_NUMBER 1 \"1\"\n WHITESPACE 1 \"\\n\"\n INT_NUMBER 1 \"0\"\n DOT 1 \".\"\n IDENT 1 \"e\"\n-ERROR 1 \"+\"\n+PLUS 1 \"+\"\n INT_NUMBER 1 \"1\"\n WHITESPACE 1 \"\\n\"\n FLOAT_NUMBER 6 \"0.0E-2\""}, {"sha": "487569b5ae3c4d579595ac97668b788cb5bee418", "filename": "tests/data/lexer/0005_symbols.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a071e09412d602d184a70b4b1fc0158fafd3e38e/tests%2Fdata%2Flexer%2F0005_symbols.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a071e09412d602d184a70b4b1fc0158fafd3e38e/tests%2Fdata%2Flexer%2F0005_symbols.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Flexer%2F0005_symbols.rs?ref=a071e09412d602d184a70b4b1fc0158fafd3e38e", "patch": "@@ -1,5 +1,6 @@\n-; , ( ) { } [ ] < > @ # ~ ? $\n+; , ( ) { } [ ] < > @ # ~ ? $ & | + * / ^ %\n . .. ... ..=\n : ::\n = =>\n-! !=\n\\ No newline at end of file\n+! !=\n+- ->"}, {"sha": "ebb41accd45eba8b466702ed753178a81b860b41", "filename": "tests/data/lexer/0005_symbols.txt", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/a071e09412d602d184a70b4b1fc0158fafd3e38e/tests%2Fdata%2Flexer%2F0005_symbols.txt", "raw_url": "https://github.com/rust-lang/rust/raw/a071e09412d602d184a70b4b1fc0158fafd3e38e/tests%2Fdata%2Flexer%2F0005_symbols.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Flexer%2F0005_symbols.txt?ref=a071e09412d602d184a70b4b1fc0158fafd3e38e", "patch": "@@ -27,6 +27,20 @@ WHITESPACE 1 \" \"\n QUESTION 1 \"?\"\n WHITESPACE 1 \" \"\n DOLLAR 1 \"$\"\n+WHITESPACE 1 \" \"\n+AMPERSAND 1 \"&\"\n+WHITESPACE 1 \" \"\n+PIPE 1 \"|\"\n+WHITESPACE 1 \" \"\n+PLUS 1 \"+\"\n+WHITESPACE 1 \" \"\n+STAR 1 \"*\"\n+WHITESPACE 1 \" \"\n+SLASH 1 \"/\"\n+WHITESPACE 1 \" \"\n+CARET 1 \"^\"\n+WHITESPACE 1 \" \"\n+PERCENT 1 \"%\"\n WHITESPACE 1 \"\\n\"\n DOT 1 \".\"\n WHITESPACE 1 \" \"\n@@ -47,3 +61,8 @@ WHITESPACE 1 \"\\n\"\n NOT 1 \"!\"\n WHITESPACE 1 \" \"\n NEQ 2 \"!=\"\n+WHITESPACE 1 \"\\n\"\n+MINUS 1 \"-\"\n+WHITESPACE 1 \" \"\n+THIN_ARROW 2 \"->\"\n+WHITESPACE 1 \"\\n\""}]}