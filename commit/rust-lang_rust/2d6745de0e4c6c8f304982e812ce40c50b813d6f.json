{"sha": "2d6745de0e4c6c8f304982e812ce40c50b813d6f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJkNjc0NWRlMGU0YzZjOGYzMDQ5ODJlODEyY2U0MGM1MGI4MTNkNmY=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2019-03-12T23:32:13Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2019-03-26T21:29:30Z"}, "message": "Add resource suffix for libtest and proc_macro as well", "tree": {"sha": "754fc14d92efcfc48273d2bd6e284df2bcdecc7b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/754fc14d92efcfc48273d2bd6e284df2bcdecc7b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2d6745de0e4c6c8f304982e812ce40c50b813d6f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2d6745de0e4c6c8f304982e812ce40c50b813d6f", "html_url": "https://github.com/rust-lang/rust/commit/2d6745de0e4c6c8f304982e812ce40c50b813d6f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2d6745de0e4c6c8f304982e812ce40c50b813d6f/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "080a8e7a7137482b91cb4c76326f0d9d1243a6d7", "url": "https://api.github.com/repos/rust-lang/rust/commits/080a8e7a7137482b91cb4c76326f0d9d1243a6d7", "html_url": "https://github.com/rust-lang/rust/commit/080a8e7a7137482b91cb4c76326f0d9d1243a6d7"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "cab6abf74b6bdb04ea3b583a6c67511cfa1b19b1", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2d6745de0e4c6c8f304982e812ce40c50b813d6f/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d6745de0e4c6c8f304982e812ce40c50b813d6f/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=2d6745de0e4c6c8f304982e812ce40c50b813d6f", "patch": "@@ -343,7 +343,6 @@ fn invoke_rustdoc(\n         .arg(\"--html-before-content\").arg(&version_info)\n         .arg(\"--html-in-header\").arg(&favicon)\n         .arg(\"--markdown-no-toc\")\n-        .arg(\"--resource-suffix\").arg(crate::channel::CFG_RELEASE_NUM)\n         .arg(\"--markdown-playground-url\").arg(\"https://play.rust-lang.org/\")\n         .arg(\"-o\").arg(&out).arg(&path)\n         .arg(\"--markdown-css\").arg(\"../rust.css\");\n@@ -428,7 +427,6 @@ impl Step for Standalone {\n                .arg(\"--html-before-content\").arg(&version_info)\n                .arg(\"--html-in-header\").arg(&favicon)\n                .arg(\"--markdown-no-toc\")\n-               .arg(\"--resource-suffix\").arg(crate::channel::CFG_RELEASE_NUM)\n                .arg(\"--index-page\").arg(&builder.src.join(\"src/doc/index.md\"))\n                .arg(\"--markdown-playground-url\").arg(\"https://play.rust-lang.org/\")\n                .arg(\"-o\").arg(&out)\n@@ -588,6 +586,7 @@ impl Step for Test {\n \n         cargo.arg(\"--no-deps\")\n              .arg(\"-p\").arg(\"test\")\n+             .env(\"RUSTDOC_RESOURCE_SUFFIX\", crate::channel::CFG_RELEASE_NUM)\n              .env(\"RUSTDOC_GENERATE_REDIRECT_PAGES\", \"1\");\n \n         builder.run(&mut cargo);\n@@ -659,6 +658,7 @@ impl Step for WhitelistedRustc {\n         // for which docs must be built.\n         for krate in &[\"proc_macro\"] {\n             cargo.arg(\"-p\").arg(krate)\n+                 .env(\"RUSTDOC_RESOURCE_SUFFIX\", crate::channel::CFG_RELEASE_NUM)\n                  .env(\"RUSTDOC_GENERATE_REDIRECT_PAGES\", \"1\");\n         }\n "}]}