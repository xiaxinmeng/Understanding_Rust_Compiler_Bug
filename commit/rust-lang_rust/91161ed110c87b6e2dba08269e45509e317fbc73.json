{"sha": "91161ed110c87b6e2dba08269e45509e317fbc73", "node_id": "C_kwDOAAsO6NoAKDkxMTYxZWQxMTBjODdiNmUyZGJhMDgyNjllNDU1MDllMzE3ZmJjNzM", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2021-12-20T19:49:47Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2021-12-20T19:49:47Z"}, "message": "impl RefUnwindSafe for Once", "tree": {"sha": "159b495eece007cd7d687dce6f73c909a52b5f35", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/159b495eece007cd7d687dce6f73c909a52b5f35"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/91161ed110c87b6e2dba08269e45509e317fbc73", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmHA3lsACgkQ+boUO5X/\nbYINtxAAuyT7wFU/oBKtsJbUljbhXYe+jaoiywxl3WZpXC6H+DBtUmCyCuCRjJ2d\n8DppuebdgGFZIcWrfqmxGDsjxmViUP4p2rjGlUQP7cMBW7VmZKDKuKsHpa7hj/dP\nDnJWRMWjC3P2hcoA19a00pLrF8PW07qk4pZDvUqYy0eASInZPuYxROe63bHc/Jj3\nLn3WTHApFuLV6iR07lAdYJJkCsvmbk1omR9eVNxbsQ+Zv/b9X+GY54QK0WmzxMkK\n8xlAqATPMGrtgOuGmqnN/3W/lLEOh66gJLUmre47w2/ggpZ1fgznYSfXGGLhEWxx\ngn5kaom0nUp23uiaGix+I7AobEuTW+aVdzQoSZ0D939l5pMRNjJW6MmRnJATCOkP\nBIMD22VLpP/CqSoCLnnOqNdsynE12+jeHfWwL2aA0mDU8H0xvLB3yUV6/dCC18xa\nGEJdfNuGWu6hFz8vxCsoV5mnZi5jSTd0iL1kqzXrAn6jUjyqP/BJe/8wNOJonCTQ\nyhQ8xQBbv5COHLsuKo6wFmqKndYzdXbjawgvqW9nlOn81ubOwtkebn2lS+ikV0rx\nyprY/J6+p6qAa4B8ePOYECU4AAvVUmVTiOYkiGLoDH1lfznfKXyTBWzD58bGLvQu\nN5wk03JBovdr/hq4wXtIzA1W6Lv8mGZJxj9aO6dR47CT/wDlp38=\n=B9O1\n-----END PGP SIGNATURE-----", "payload": "tree 159b495eece007cd7d687dce6f73c909a52b5f35\nparent 8ad6e5fb671a2343b81aee29cb344f4804bbb0f4\nauthor David Tolnay <dtolnay@gmail.com> 1640029787 -0800\ncommitter David Tolnay <dtolnay@gmail.com> 1640029787 -0800\n\nimpl RefUnwindSafe for Once\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/91161ed110c87b6e2dba08269e45509e317fbc73", "html_url": "https://github.com/rust-lang/rust/commit/91161ed110c87b6e2dba08269e45509e317fbc73", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/91161ed110c87b6e2dba08269e45509e317fbc73/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8ad6e5fb671a2343b81aee29cb344f4804bbb0f4", "url": "https://api.github.com/repos/rust-lang/rust/commits/8ad6e5fb671a2343b81aee29cb344f4804bbb0f4", "html_url": "https://github.com/rust-lang/rust/commit/8ad6e5fb671a2343b81aee29cb344f4804bbb0f4"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "f76d0759561acdc5f6f8a321c3f7a821cc13eaa1", "filename": "library/std/src/sync/once.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/91161ed110c87b6e2dba08269e45509e317fbc73/library%2Fstd%2Fsrc%2Fsync%2Fonce.rs", "raw_url": "https://github.com/rust-lang/rust/raw/91161ed110c87b6e2dba08269e45509e317fbc73/library%2Fstd%2Fsrc%2Fsync%2Fonce.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsync%2Fonce.rs?ref=91161ed110c87b6e2dba08269e45509e317fbc73", "patch": "@@ -90,7 +90,7 @@ mod tests;\n use crate::cell::Cell;\n use crate::fmt;\n use crate::marker;\n-use crate::panic::UnwindSafe;\n+use crate::panic::{RefUnwindSafe, UnwindSafe};\n use crate::sync::atomic::{AtomicBool, AtomicUsize, Ordering};\n use crate::thread::{self, Thread};\n \n@@ -124,9 +124,12 @@ unsafe impl Sync for Once {}\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n unsafe impl Send for Once {}\n \n-#[stable(feature = \"sync_once_ref_unwind_safe\", since = \"1.59.0\")]\n+#[stable(feature = \"sync_once_unwind_safe\", since = \"1.59.0\")]\n impl UnwindSafe for Once {}\n \n+#[stable(feature = \"sync_once_unwind_safe\", since = \"1.59.0\")]\n+impl RefUnwindSafe for Once {}\n+\n /// State yielded to [`Once::call_once_force()`]\u2019s closure parameter. The state\n /// can be used to query the poison status of the [`Once`].\n #[stable(feature = \"once_poison\", since = \"1.51.0\")]"}]}