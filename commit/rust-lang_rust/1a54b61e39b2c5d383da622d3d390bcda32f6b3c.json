{"sha": "1a54b61e39b2c5d383da622d3d390bcda32f6b3c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhNTRiNjFlMzliMmM1ZDM4M2RhNjIyZDNkMzkwYmNkYTMyZjZiM2M=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2020-07-18T23:50:57Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-18T23:50:57Z"}, "message": "Rollup merge of #74445 - lcnr:const-generic-ty-decl, r=Dylan-DPC\n\nadd test for #62878\n\nforgot to push this as part of #74159\n\nr? @Dylan-DPC", "tree": {"sha": "005e7175251757d1c8f7a74d8848e8316acd124d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/005e7175251757d1c8f7a74d8848e8316acd124d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1a54b61e39b2c5d383da622d3d390bcda32f6b3c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfE4riCRBK7hj4Ov3rIwAAdHIIAIP3BqxOpaK9UC/QRExK5e8L\naBaqV8mGxx0QJMk0J1DpNm3m0K9WKoUwHYTlCqt7yhFtxh16/tST/GIp3LXikJtR\n4gfzGOpB7MjNF+C4yKhJo7o/TC179PT2o+hmxyU3MZtLfse35tEFXvAggf0On/I1\nGR/2CQ4oivFfYyFLMMaWKoodsRy42j2TpGnejIZACKh/9epNtCdGuEA4F6poyL+J\nKWe0km51srGfBuaVTNxzI1j0I91j8Z30qLwcWXtv/q9RU1/h1v2bK08X787pq218\nBqAyhsSDmkr+5U1oanD4TRP42NBiJdZho2XtJnM7MuU2oK0vMytNjDDl3eU8FDg=\n=ti+F\n-----END PGP SIGNATURE-----\n", "payload": "tree 005e7175251757d1c8f7a74d8848e8316acd124d\nparent 43ba8409d7c7f93d6f0b3c22fe1b193788ff6162\nparent 0bac36105e24a1abef87644c3bcd1b3d92169b5d\nauthor Manish Goregaokar <manishsmail@gmail.com> 1595116257 -0700\ncommitter GitHub <noreply@github.com> 1595116257 -0700\n\nRollup merge of #74445 - lcnr:const-generic-ty-decl, r=Dylan-DPC\n\nadd test for #62878\n\nforgot to push this as part of #74159\n\nr? @Dylan-DPC\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1a54b61e39b2c5d383da622d3d390bcda32f6b3c", "html_url": "https://github.com/rust-lang/rust/commit/1a54b61e39b2c5d383da622d3d390bcda32f6b3c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1a54b61e39b2c5d383da622d3d390bcda32f6b3c/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "43ba8409d7c7f93d6f0b3c22fe1b193788ff6162", "url": "https://api.github.com/repos/rust-lang/rust/commits/43ba8409d7c7f93d6f0b3c22fe1b193788ff6162", "html_url": "https://github.com/rust-lang/rust/commit/43ba8409d7c7f93d6f0b3c22fe1b193788ff6162"}, {"sha": "0bac36105e24a1abef87644c3bcd1b3d92169b5d", "url": "https://api.github.com/repos/rust-lang/rust/commits/0bac36105e24a1abef87644c3bcd1b3d92169b5d", "html_url": "https://github.com/rust-lang/rust/commit/0bac36105e24a1abef87644c3bcd1b3d92169b5d"}], "stats": {"total": 48, "additions": 48, "deletions": 0}, "files": [{"sha": "ccc05fdf100e7872e8b195c594a77707425020c6", "filename": "src/test/ui/const-generics/issues/issue-62878.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/1a54b61e39b2c5d383da622d3d390bcda32f6b3c/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-62878.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a54b61e39b2c5d383da622d3d390bcda32f6b3c/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-62878.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-62878.rs?ref=1a54b61e39b2c5d383da622d3d390bcda32f6b3c", "patch": "@@ -0,0 +1,11 @@\n+#![feature(const_generics)] //~ WARN the feature `const_generics` is incomplete\n+\n+fn foo<const N: usize, const A: [u8; N]>() {}\n+//~^ ERROR the type of const parameters must not\n+\n+fn main() {\n+    foo::<_, {[1]}>();\n+    //~^ ERROR wrong number of const arguments\n+    //~| ERROR wrong number of type arguments\n+    //~| ERROR mismatched types\n+}"}, {"sha": "fe0990d8241fa6a7cbe414e73b29c98b97483f66", "filename": "src/test/ui/const-generics/issues/issue-62878.stderr", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/1a54b61e39b2c5d383da622d3d390bcda32f6b3c/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-62878.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/1a54b61e39b2c5d383da622d3d390bcda32f6b3c/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-62878.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-62878.stderr?ref=1a54b61e39b2c5d383da622d3d390bcda32f6b3c", "patch": "@@ -0,0 +1,37 @@\n+error[E0770]: the type of const parameters must not depend on other generic parameters\n+  --> $DIR/issue-62878.rs:3:38\n+   |\n+LL | fn foo<const N: usize, const A: [u8; N]>() {}\n+   |                                      ^ the type must not depend on the parameter `N`\n+\n+warning: the feature `const_generics` is incomplete and may not be safe to use and/or cause compiler crashes\n+  --> $DIR/issue-62878.rs:1:12\n+   |\n+LL | #![feature(const_generics)]\n+   |            ^^^^^^^^^^^^^^\n+   |\n+   = note: `#[warn(incomplete_features)]` on by default\n+   = note: see issue #44580 <https://github.com/rust-lang/rust/issues/44580> for more information\n+\n+error[E0107]: wrong number of const arguments: expected 2, found 1\n+  --> $DIR/issue-62878.rs:7:5\n+   |\n+LL |     foo::<_, {[1]}>();\n+   |     ^^^^^^^^^^^^^^^ expected 2 const arguments\n+\n+error[E0107]: wrong number of type arguments: expected 0, found 1\n+  --> $DIR/issue-62878.rs:7:11\n+   |\n+LL |     foo::<_, {[1]}>();\n+   |           ^ unexpected type argument\n+\n+error[E0308]: mismatched types\n+  --> $DIR/issue-62878.rs:7:15\n+   |\n+LL |     foo::<_, {[1]}>();\n+   |               ^^^ expected `usize`, found array `[{integer}; 1]`\n+\n+error: aborting due to 4 previous errors; 1 warning emitted\n+\n+Some errors have detailed explanations: E0107, E0308, E0770.\n+For more information about an error, try `rustc --explain E0107`."}]}