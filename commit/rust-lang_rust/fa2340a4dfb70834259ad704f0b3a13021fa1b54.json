{"sha": "fa2340a4dfb70834259ad704f0b3a13021fa1b54", "node_id": "C_kwDOAAsO6NoAKGZhMjM0MGE0ZGZiNzA4MzQyNTlhZDcwNGYwYjNhMTMwMjFmYTFiNTQ", "commit": {"author": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2023-05-06T11:29:13Z"}, "committer": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2023-05-06T11:31:11Z"}, "message": "Parse associated return type bounds", "tree": {"sha": "2b3cca042f55a90dcb537dbeff7f7390f9770280", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2b3cca042f55a90dcb537dbeff7f7390f9770280"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fa2340a4dfb70834259ad704f0b3a13021fa1b54", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEkSbsQIURluxz4rzf4laYqTBYYXEFAmRWOsQACgkQ4laYqTBY\nYXGfUxAApXXQEnKKr6Yt7S2FiUOvKmasbgkGbtKElY3QMEl26edG/y3rllnVy3Ak\nghFdfkMniX8PqJ+e85ET0RIwN5jBM9BYyF4/ZrepgUQkrYyQrTxqBeWruGO/0Hok\n4YrKehlMXGw6MUpo9p3sbOUd5cBdroU1moRKahNA/PCm08gg3Ni6A8e/rAOT6sB8\nJhWSmIzj3BpOoRry3CQdEPdhmNT6Fd+kzLEWlJDkE2Ucz9Lhx0XBlM6KIYon7oLy\njuMlmOmFnZhvFOaYBG5YcycJVTnSgse/J+h1tknsYgBJT1T6D4ANV+wdwM4Vua6K\ns/KhOMTjE90nyVcGYw0QxsfQ16BnyVoYJwknLawf26UR8LZgudS8Da+LmpBPut8i\nAkwuweFCUM2wk/z3T8ssjG6Rv5z5qODl3C8xlcPqu+6fyfv/75O0ZycioAi67tLq\nrNady0d7W8eo2UQXCOgQJFlCn404BWPCt9mRtBuG0i0AGFqN2an1OCa5iYyBoSGu\nynmkD/1Sw+Ehv4Rr+njp3zk0T0GTnfcUvnsvEdcf4Ei6EasLvsfp2o4dcbSjPHC5\nTUQHmqy7iPyikbxxkv01TojyfLnxaruHvrQh+GfS8cXGMIh8wFu8wHLYtOJCfybs\n1nq+X17eO/SB0g8RnJeCudRCQEHTXAS1RxJkZiTVPe5lL7IEQmI=\n=7Q/7\n-----END PGP SIGNATURE-----", "payload": "tree 2b3cca042f55a90dcb537dbeff7f7390f9770280\nparent d7d89712032e367b0eb8bafe9192403eef1ef4b2\nauthor Ryo Yoshida <low.ryoshida@gmail.com> 1683372553 +0900\ncommitter Ryo Yoshida <low.ryoshida@gmail.com> 1683372671 +0900\n\nParse associated return type bounds\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fa2340a4dfb70834259ad704f0b3a13021fa1b54", "html_url": "https://github.com/rust-lang/rust/commit/fa2340a4dfb70834259ad704f0b3a13021fa1b54", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fa2340a4dfb70834259ad704f0b3a13021fa1b54/comments", "author": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d7d89712032e367b0eb8bafe9192403eef1ef4b2", "url": "https://api.github.com/repos/rust-lang/rust/commits/d7d89712032e367b0eb8bafe9192403eef1ef4b2", "html_url": "https://github.com/rust-lang/rust/commit/d7d89712032e367b0eb8bafe9192403eef1ef4b2"}], "stats": {"total": 366, "additions": 361, "deletions": 5}, "files": [{"sha": "26d2706175ca986f0802f44cdaeaa80cf3dc3a4a", "filename": "crates/hir-def/src/path/lower.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fhir-def%2Fsrc%2Fpath%2Flower.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fhir-def%2Fsrc%2Fpath%2Flower.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-def%2Fsrc%2Fpath%2Flower.rs?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -189,6 +189,10 @@ pub(super) fn lower_generic_args(\n                 args.push(GenericArg::Type(type_ref));\n             }\n             ast::GenericArg::AssocTypeArg(assoc_type_arg) => {\n+                if assoc_type_arg.param_list().is_some() {\n+                    // We currently ignore associated return type bounds.\n+                    continue;\n+                }\n                 if let Some(name_ref) = assoc_type_arg.name_ref() {\n                     let name = name_ref.as_name();\n                     let args = assoc_type_arg"}, {"sha": "b7d72b8d33659cec712dda49020ea979e80ccbc1", "filename": "crates/parser/src/grammar/generic_args.rs", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Fsrc%2Fgrammar%2Fgeneric_args.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Fsrc%2Fgrammar%2Fgeneric_args.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Fsrc%2Fgrammar%2Fgeneric_args.rs?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -76,6 +76,29 @@ fn generic_arg(p: &mut Parser<'_>) -> bool {\n                 }\n             }\n         }\n+        IDENT if p.nth_at(1, T!['(']) => {\n+            let m = p.start();\n+            name_ref(p);\n+            params::param_list_fn_trait(p);\n+            if p.at(T![:]) && !p.at(T![::]) {\n+                // test associated_return_type_bounds\n+                // fn foo<T: Foo<foo(): Send, bar(i32): Send, baz(i32, i32): Send>>() {}\n+                generic_params::bounds(p);\n+                m.complete(p, ASSOC_TYPE_ARG);\n+            } else {\n+                // test bare_dyn_types_with_paren_as_generic_args\n+                // type A = S<Fn(i32)>;\n+                // type A = S<Fn(i32) + Send>;\n+                // type B = S<Fn(i32) -> i32>;\n+                // type C = S<Fn(i32) -> i32 + Send>;\n+                opt_ret_type(p);\n+                let m = m.complete(p, PATH_SEGMENT).precede(p).complete(p, PATH);\n+                let m = paths::type_path_for_qualifier(p, m);\n+                let m = m.precede(p).complete(p, PATH_TYPE);\n+                let m = types::opt_type_bounds_as_dyn_trait_type(p, m);\n+                m.precede(p).complete(p, TYPE_ARG);\n+            }\n+        }\n         _ if p.at_ts(types::TYPE_FIRST) => type_arg(p),\n         _ => return false,\n     }"}, {"sha": "01b8f9e918714e6358ebb58eb8f44808151a31c3", "filename": "crates/parser/src/grammar/paths.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Fsrc%2Fgrammar%2Fpaths.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Fsrc%2Fgrammar%2Fpaths.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Fsrc%2Fgrammar%2Fpaths.rs?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -136,6 +136,7 @@ fn opt_path_type_args(p: &mut Parser<'_>, mode: Mode) {\n         Mode::Type => {\n             // test typepathfn_with_coloncolon\n             // type F = Start::(Middle) -> (Middle)::End;\n+            // type GenericArg = S<Start(Middle)::End>;\n             if p.at(T![::]) && p.nth_at(2, T!['(']) {\n                 p.bump(T![::]);\n             }"}, {"sha": "93ef48350270b5e734cb8c3a0148787ea02751a9", "filename": "crates/parser/src/grammar/types.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Fsrc%2Fgrammar%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Fsrc%2Fgrammar%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Fsrc%2Fgrammar%2Ftypes.rs?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -337,13 +337,16 @@ pub(super) fn path_type_(p: &mut Parser<'_>, allow_bounds: bool) {\n \n /// This turns a parsed PATH_TYPE or FOR_TYPE optionally into a DYN_TRAIT_TYPE\n /// with a TYPE_BOUND_LIST\n-fn opt_type_bounds_as_dyn_trait_type(p: &mut Parser<'_>, type_marker: CompletedMarker) {\n+pub(super) fn opt_type_bounds_as_dyn_trait_type(\n+    p: &mut Parser<'_>,\n+    type_marker: CompletedMarker,\n+) -> CompletedMarker {\n     assert!(matches!(\n         type_marker.kind(),\n         SyntaxKind::PATH_TYPE | SyntaxKind::FOR_TYPE | SyntaxKind::MACRO_TYPE\n     ));\n     if !p.at(T![+]) {\n-        return;\n+        return type_marker;\n     }\n \n     // First create a TYPE_BOUND from the completed PATH_TYPE\n@@ -360,5 +363,5 @@ fn opt_type_bounds_as_dyn_trait_type(p: &mut Parser<'_>, type_marker: CompletedM\n     let m = generic_params::bounds_without_colon_m(p, m);\n \n     // Finally precede everything with DYN_TRAIT_TYPE\n-    m.precede(p).complete(p, DYN_TRAIT_TYPE);\n+    m.precede(p).complete(p, DYN_TRAIT_TYPE)\n }"}, {"sha": "67277d0639a8d9c26836f7726ffa56accccf7f5e", "filename": "crates/parser/test_data/parser/inline/ok/0202_typepathfn_with_coloncolon.rast", "status": "modified", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0202_typepathfn_with_coloncolon.rast", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0202_typepathfn_with_coloncolon.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0202_typepathfn_with_coloncolon.rast?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -41,3 +41,41 @@ SOURCE_FILE\n             IDENT \"End\"\n     SEMICOLON \";\"\n   WHITESPACE \"\\n\"\n+  TYPE_ALIAS\n+    TYPE_KW \"type\"\n+    WHITESPACE \" \"\n+    NAME\n+      IDENT \"GenericArg\"\n+    WHITESPACE \" \"\n+    EQ \"=\"\n+    WHITESPACE \" \"\n+    PATH_TYPE\n+      PATH\n+        PATH_SEGMENT\n+          NAME_REF\n+            IDENT \"S\"\n+          GENERIC_ARG_LIST\n+            L_ANGLE \"<\"\n+            TYPE_ARG\n+              PATH_TYPE\n+                PATH\n+                  PATH\n+                    PATH_SEGMENT\n+                      NAME_REF\n+                        IDENT \"Start\"\n+                      PARAM_LIST\n+                        L_PAREN \"(\"\n+                        PARAM\n+                          PATH_TYPE\n+                            PATH\n+                              PATH_SEGMENT\n+                                NAME_REF\n+                                  IDENT \"Middle\"\n+                        R_PAREN \")\"\n+                  COLON2 \"::\"\n+                  PATH_SEGMENT\n+                    NAME_REF\n+                      IDENT \"End\"\n+            R_ANGLE \">\"\n+    SEMICOLON \";\"\n+  WHITESPACE \"\\n\""}, {"sha": "8c54f6704b3fab3ad662e285da76afbfe29283bc", "filename": "crates/parser/test_data/parser/inline/ok/0202_typepathfn_with_coloncolon.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0202_typepathfn_with_coloncolon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0202_typepathfn_with_coloncolon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0202_typepathfn_with_coloncolon.rs?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -1 +1,2 @@\n type F = Start::(Middle) -> (Middle)::End;\n+type GenericArg = S<Start(Middle)::End>;"}, {"sha": "2fa52068c9b72441a53b7bbb3797ae9ea1bdbcda", "filename": "crates/parser/test_data/parser/inline/ok/0208_associated_return_type_bounds.rast", "status": "added", "additions": 102, "deletions": 0, "changes": 102, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0208_associated_return_type_bounds.rast", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0208_associated_return_type_bounds.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0208_associated_return_type_bounds.rast?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -0,0 +1,102 @@\n+SOURCE_FILE\n+  FN\n+    FN_KW \"fn\"\n+    WHITESPACE \" \"\n+    NAME\n+      IDENT \"foo\"\n+    GENERIC_PARAM_LIST\n+      L_ANGLE \"<\"\n+      TYPE_PARAM\n+        NAME\n+          IDENT \"T\"\n+        COLON \":\"\n+        WHITESPACE \" \"\n+        TYPE_BOUND_LIST\n+          TYPE_BOUND\n+            PATH_TYPE\n+              PATH\n+                PATH_SEGMENT\n+                  NAME_REF\n+                    IDENT \"Foo\"\n+                  GENERIC_ARG_LIST\n+                    L_ANGLE \"<\"\n+                    ASSOC_TYPE_ARG\n+                      NAME_REF\n+                        IDENT \"foo\"\n+                      PARAM_LIST\n+                        L_PAREN \"(\"\n+                        R_PAREN \")\"\n+                      COLON \":\"\n+                      WHITESPACE \" \"\n+                      TYPE_BOUND_LIST\n+                        TYPE_BOUND\n+                          PATH_TYPE\n+                            PATH\n+                              PATH_SEGMENT\n+                                NAME_REF\n+                                  IDENT \"Send\"\n+                    COMMA \",\"\n+                    WHITESPACE \" \"\n+                    ASSOC_TYPE_ARG\n+                      NAME_REF\n+                        IDENT \"bar\"\n+                      PARAM_LIST\n+                        L_PAREN \"(\"\n+                        PARAM\n+                          PATH_TYPE\n+                            PATH\n+                              PATH_SEGMENT\n+                                NAME_REF\n+                                  IDENT \"i32\"\n+                        R_PAREN \")\"\n+                      COLON \":\"\n+                      WHITESPACE \" \"\n+                      TYPE_BOUND_LIST\n+                        TYPE_BOUND\n+                          PATH_TYPE\n+                            PATH\n+                              PATH_SEGMENT\n+                                NAME_REF\n+                                  IDENT \"Send\"\n+                    COMMA \",\"\n+                    WHITESPACE \" \"\n+                    ASSOC_TYPE_ARG\n+                      NAME_REF\n+                        IDENT \"baz\"\n+                      PARAM_LIST\n+                        L_PAREN \"(\"\n+                        PARAM\n+                          PATH_TYPE\n+                            PATH\n+                              PATH_SEGMENT\n+                                NAME_REF\n+                                  IDENT \"i32\"\n+                        COMMA \",\"\n+                        WHITESPACE \" \"\n+                        PARAM\n+                          PATH_TYPE\n+                            PATH\n+                              PATH_SEGMENT\n+                                NAME_REF\n+                                  IDENT \"i32\"\n+                        R_PAREN \")\"\n+                      COLON \":\"\n+                      WHITESPACE \" \"\n+                      TYPE_BOUND_LIST\n+                        TYPE_BOUND\n+                          PATH_TYPE\n+                            PATH\n+                              PATH_SEGMENT\n+                                NAME_REF\n+                                  IDENT \"Send\"\n+                    R_ANGLE \">\"\n+      R_ANGLE \">\"\n+    PARAM_LIST\n+      L_PAREN \"(\"\n+      R_PAREN \")\"\n+    WHITESPACE \" \"\n+    BLOCK_EXPR\n+      STMT_LIST\n+        L_CURLY \"{\"\n+        R_CURLY \"}\"\n+  WHITESPACE \"\\n\""}, {"sha": "42029ac592702851e601e5a01eb96023ee2be0a7", "filename": "crates/parser/test_data/parser/inline/ok/0208_associated_return_type_bounds.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0208_associated_return_type_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0208_associated_return_type_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0208_associated_return_type_bounds.rs?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -0,0 +1 @@\n+fn foo<T: Foo<foo(): Send, bar(i32): Send, baz(i32, i32): Send>>() {}"}, {"sha": "d5f97bad898ed9e82372bc9a7b59808e2a43a45e", "filename": "crates/parser/test_data/parser/inline/ok/0209_bare_dyn_types_with_paren_as_generic_args.rast", "status": "added", "additions": 175, "deletions": 0, "changes": 175, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0209_bare_dyn_types_with_paren_as_generic_args.rast", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0209_bare_dyn_types_with_paren_as_generic_args.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0209_bare_dyn_types_with_paren_as_generic_args.rast?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -0,0 +1,175 @@\n+SOURCE_FILE\n+  TYPE_ALIAS\n+    TYPE_KW \"type\"\n+    WHITESPACE \" \"\n+    NAME\n+      IDENT \"A\"\n+    WHITESPACE \" \"\n+    EQ \"=\"\n+    WHITESPACE \" \"\n+    PATH_TYPE\n+      PATH\n+        PATH_SEGMENT\n+          NAME_REF\n+            IDENT \"S\"\n+          GENERIC_ARG_LIST\n+            L_ANGLE \"<\"\n+            TYPE_ARG\n+              PATH_TYPE\n+                PATH\n+                  PATH_SEGMENT\n+                    NAME_REF\n+                      IDENT \"Fn\"\n+                    PARAM_LIST\n+                      L_PAREN \"(\"\n+                      PARAM\n+                        PATH_TYPE\n+                          PATH\n+                            PATH_SEGMENT\n+                              NAME_REF\n+                                IDENT \"i32\"\n+                      R_PAREN \")\"\n+            R_ANGLE \">\"\n+    SEMICOLON \";\"\n+  WHITESPACE \"\\n\"\n+  TYPE_ALIAS\n+    TYPE_KW \"type\"\n+    WHITESPACE \" \"\n+    NAME\n+      IDENT \"A\"\n+    WHITESPACE \" \"\n+    EQ \"=\"\n+    WHITESPACE \" \"\n+    PATH_TYPE\n+      PATH\n+        PATH_SEGMENT\n+          NAME_REF\n+            IDENT \"S\"\n+          GENERIC_ARG_LIST\n+            L_ANGLE \"<\"\n+            TYPE_ARG\n+              DYN_TRAIT_TYPE\n+                TYPE_BOUND_LIST\n+                  TYPE_BOUND\n+                    PATH_TYPE\n+                      PATH\n+                        PATH_SEGMENT\n+                          NAME_REF\n+                            IDENT \"Fn\"\n+                          PARAM_LIST\n+                            L_PAREN \"(\"\n+                            PARAM\n+                              PATH_TYPE\n+                                PATH\n+                                  PATH_SEGMENT\n+                                    NAME_REF\n+                                      IDENT \"i32\"\n+                            R_PAREN \")\"\n+                  WHITESPACE \" \"\n+                  PLUS \"+\"\n+                  WHITESPACE \" \"\n+                  TYPE_BOUND\n+                    PATH_TYPE\n+                      PATH\n+                        PATH_SEGMENT\n+                          NAME_REF\n+                            IDENT \"Send\"\n+            R_ANGLE \">\"\n+    SEMICOLON \";\"\n+  WHITESPACE \"\\n\"\n+  TYPE_ALIAS\n+    TYPE_KW \"type\"\n+    WHITESPACE \" \"\n+    NAME\n+      IDENT \"B\"\n+    WHITESPACE \" \"\n+    EQ \"=\"\n+    WHITESPACE \" \"\n+    PATH_TYPE\n+      PATH\n+        PATH_SEGMENT\n+          NAME_REF\n+            IDENT \"S\"\n+          GENERIC_ARG_LIST\n+            L_ANGLE \"<\"\n+            TYPE_ARG\n+              PATH_TYPE\n+                PATH\n+                  PATH_SEGMENT\n+                    NAME_REF\n+                      IDENT \"Fn\"\n+                    PARAM_LIST\n+                      L_PAREN \"(\"\n+                      PARAM\n+                        PATH_TYPE\n+                          PATH\n+                            PATH_SEGMENT\n+                              NAME_REF\n+                                IDENT \"i32\"\n+                      R_PAREN \")\"\n+                    WHITESPACE \" \"\n+                    RET_TYPE\n+                      THIN_ARROW \"->\"\n+                      WHITESPACE \" \"\n+                      PATH_TYPE\n+                        PATH\n+                          PATH_SEGMENT\n+                            NAME_REF\n+                              IDENT \"i32\"\n+            R_ANGLE \">\"\n+    SEMICOLON \";\"\n+  WHITESPACE \"\\n\"\n+  TYPE_ALIAS\n+    TYPE_KW \"type\"\n+    WHITESPACE \" \"\n+    NAME\n+      IDENT \"C\"\n+    WHITESPACE \" \"\n+    EQ \"=\"\n+    WHITESPACE \" \"\n+    PATH_TYPE\n+      PATH\n+        PATH_SEGMENT\n+          NAME_REF\n+            IDENT \"S\"\n+          GENERIC_ARG_LIST\n+            L_ANGLE \"<\"\n+            TYPE_ARG\n+              DYN_TRAIT_TYPE\n+                TYPE_BOUND_LIST\n+                  TYPE_BOUND\n+                    PATH_TYPE\n+                      PATH\n+                        PATH_SEGMENT\n+                          NAME_REF\n+                            IDENT \"Fn\"\n+                          PARAM_LIST\n+                            L_PAREN \"(\"\n+                            PARAM\n+                              PATH_TYPE\n+                                PATH\n+                                  PATH_SEGMENT\n+                                    NAME_REF\n+                                      IDENT \"i32\"\n+                            R_PAREN \")\"\n+                          WHITESPACE \" \"\n+                          RET_TYPE\n+                            THIN_ARROW \"->\"\n+                            WHITESPACE \" \"\n+                            PATH_TYPE\n+                              PATH\n+                                PATH_SEGMENT\n+                                  NAME_REF\n+                                    IDENT \"i32\"\n+                  WHITESPACE \" \"\n+                  PLUS \"+\"\n+                  WHITESPACE \" \"\n+                  TYPE_BOUND\n+                    PATH_TYPE\n+                      PATH\n+                        PATH_SEGMENT\n+                          NAME_REF\n+                            IDENT \"Send\"\n+            R_ANGLE \">\"\n+    SEMICOLON \";\"\n+  WHITESPACE \"\\n\""}, {"sha": "800002b1b8238a85ee8031655f66754398786da5", "filename": "crates/parser/test_data/parser/inline/ok/0209_bare_dyn_types_with_paren_as_generic_args.rs", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0209_bare_dyn_types_with_paren_as_generic_args.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0209_bare_dyn_types_with_paren_as_generic_args.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0209_bare_dyn_types_with_paren_as_generic_args.rs?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -0,0 +1,4 @@\n+type A = S<Fn(i32)>;\n+type A = S<Fn(i32) + Send>;\n+type B = S<Fn(i32) -> i32>;\n+type C = S<Fn(i32) -> i32 + Send>;"}, {"sha": "4c9027dec68e99367f0697639d0632652a1bc841", "filename": "crates/syntax/rust.ungram", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fsyntax%2Frust.ungram", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fsyntax%2Frust.ungram", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Frust.ungram?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -51,7 +51,9 @@ TypeArg =\n   Type\n \n AssocTypeArg =\n-  NameRef GenericArgList? (':' TypeBoundList | ('=' Type | ConstArg))\n+  NameRef\n+  (GenericArgList | ParamList RetType?)?\n+  (':' TypeBoundList | ('=' Type | ConstArg))\n \n LifetimeArg =\n   Lifetime\n@@ -581,7 +583,7 @@ ImplTraitType =\n   'impl' TypeBoundList\n \n DynTraitType =\n-  'dyn' TypeBoundList\n+  'dyn'? TypeBoundList\n \n TypeBoundList =\n   bounds:(TypeBound ('+' TypeBound)* '+'?)"}, {"sha": "61f6a04c98d38568a1911429ed51574d131b905f", "filename": "crates/syntax/src/ast/generated/nodes.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fsyntax%2Fsrc%2Fast%2Fgenerated%2Fnodes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa2340a4dfb70834259ad704f0b3a13021fa1b54/crates%2Fsyntax%2Fsrc%2Fast%2Fgenerated%2Fnodes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Fsrc%2Fast%2Fgenerated%2Fnodes.rs?ref=fa2340a4dfb70834259ad704f0b3a13021fa1b54", "patch": "@@ -121,6 +121,8 @@ impl ast::HasTypeBounds for AssocTypeArg {}\n impl AssocTypeArg {\n     pub fn name_ref(&self) -> Option<NameRef> { support::child(&self.syntax) }\n     pub fn generic_arg_list(&self) -> Option<GenericArgList> { support::child(&self.syntax) }\n+    pub fn param_list(&self) -> Option<ParamList> { support::child(&self.syntax) }\n+    pub fn ret_type(&self) -> Option<RetType> { support::child(&self.syntax) }\n     pub fn eq_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![=]) }\n     pub fn ty(&self) -> Option<Type> { support::child(&self.syntax) }\n     pub fn const_arg(&self) -> Option<ConstArg> { support::child(&self.syntax) }"}]}