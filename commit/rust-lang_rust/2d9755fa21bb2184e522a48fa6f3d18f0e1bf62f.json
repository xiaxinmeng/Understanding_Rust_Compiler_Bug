{"sha": "2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f", "node_id": "C_kwDOAAsO6NoAKDJkOTc1NWZhMjFiYjIxODRlNTIyYTQ4ZmE2ZjNkMThmMGUxYmY2MmY", "commit": {"author": {"name": "Le\u00f3n Orell Valerian Liehr", "email": "liehr.exchange@gmx.net", "date": "2022-11-02T14:17:34Z"}, "committer": {"name": "Le\u00f3n Orell Valerian Liehr", "email": "liehr.exchange@gmx.net", "date": "2022-11-04T18:34:37Z"}, "message": "rustdoc: move cross-crate lifetime/outlives bounds on GAT params from where-clause to param declaration site\n\nI've overlooked this in #103190.", "tree": {"sha": "f4df5605b5d0fa34b019894e4f225b05018e984a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f4df5605b5d0fa34b019894e4f225b05018e984a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f", "html_url": "https://github.com/rust-lang/rust/commit/2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f/comments", "author": {"login": "fmease", "id": 14913065, "node_id": "MDQ6VXNlcjE0OTEzMDY1", "avatar_url": "https://avatars.githubusercontent.com/u/14913065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmease", "html_url": "https://github.com/fmease", "followers_url": "https://api.github.com/users/fmease/followers", "following_url": "https://api.github.com/users/fmease/following{/other_user}", "gists_url": "https://api.github.com/users/fmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmease/subscriptions", "organizations_url": "https://api.github.com/users/fmease/orgs", "repos_url": "https://api.github.com/users/fmease/repos", "events_url": "https://api.github.com/users/fmease/events{/privacy}", "received_events_url": "https://api.github.com/users/fmease/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fmease", "id": 14913065, "node_id": "MDQ6VXNlcjE0OTEzMDY1", "avatar_url": "https://avatars.githubusercontent.com/u/14913065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmease", "html_url": "https://github.com/fmease", "followers_url": "https://api.github.com/users/fmease/followers", "following_url": "https://api.github.com/users/fmease/following{/other_user}", "gists_url": "https://api.github.com/users/fmease/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmease/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmease/subscriptions", "organizations_url": "https://api.github.com/users/fmease/orgs", "repos_url": "https://api.github.com/users/fmease/repos", "events_url": "https://api.github.com/users/fmease/events{/privacy}", "received_events_url": "https://api.github.com/users/fmease/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9cdab67f6e3f249e677abf3580637fe42324a961", "url": "https://api.github.com/repos/rust-lang/rust/commits/9cdab67f6e3f249e677abf3580637fe42324a961", "html_url": "https://github.com/rust-lang/rust/commit/9cdab67f6e3f249e677abf3580637fe42324a961"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "eba2d23bdaa7c0c3c602afb51f1b5c9624192220", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f", "patch": "@@ -1303,7 +1303,16 @@ pub(crate) fn clean_middle_assoc_item<'tcx>(\n                         ..\n                     }) = generics.params.iter_mut().find(|param| &param.name == arg)\n                     {\n-                        param_bounds.extend(mem::take(bounds));\n+                        param_bounds.append(bounds);\n+                    } else if let WherePredicate::RegionPredicate { lifetime: Lifetime(arg), bounds } = &mut pred\n+                    && let Some(GenericParamDef {\n+                        kind: GenericParamDefKind::Lifetime { outlives: param_bounds },\n+                        ..\n+                    }) = generics.params.iter_mut().find(|param| &param.name == arg) {\n+                        param_bounds.extend(bounds.drain(..).map(|bound| match bound {\n+                            GenericBound::Outlives(lifetime) => lifetime,\n+                            _ => unreachable!(),\n+                        }));\n                     } else {\n                         where_predicates.push(pred);\n                     }"}, {"sha": "db2491b87b4d64b755027a9c430d3cb7348e3240", "filename": "src/test/rustdoc/inline_cross/assoc_item_trait_bounds.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f/src%2Ftest%2Frustdoc%2Finline_cross%2Fassoc_item_trait_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f/src%2Ftest%2Frustdoc%2Finline_cross%2Fassoc_item_trait_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_cross%2Fassoc_item_trait_bounds.rs?ref=2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f", "patch": "@@ -38,3 +38,7 @@ extern crate assoc_item_trait_bounds as aux;\n //     F: FnOnce(u32) -> String, \\\n //     Self::Out2<()>: Protocol<u8, Q0 = Self::Item, Q1 = ()>\"\n pub use aux::Main;\n+\n+// @has main/trait.Aid.html\n+// @has - '//*[@id=\"associatedtype.Result\"]' \"type Result<'inter: 'src>\"\n+pub use aux::Aid;"}, {"sha": "6644c8e41478914ae08ab0cd84393ec4dba17962", "filename": "src/test/rustdoc/inline_cross/auxiliary/assoc_item_trait_bounds.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f/src%2Ftest%2Frustdoc%2Finline_cross%2Fauxiliary%2Fassoc_item_trait_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f/src%2Ftest%2Frustdoc%2Finline_cross%2Fauxiliary%2Fassoc_item_trait_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_cross%2Fauxiliary%2Fassoc_item_trait_bounds.rs?ref=2d9755fa21bb2184e522a48fa6f3d18f0e1bf62f", "patch": "@@ -42,5 +42,5 @@ pub trait Helper {\n }\n \n pub trait Aid<'src> {\n-    type Result<'inter>;\n+    type Result<'inter: 'src>;\n }"}]}