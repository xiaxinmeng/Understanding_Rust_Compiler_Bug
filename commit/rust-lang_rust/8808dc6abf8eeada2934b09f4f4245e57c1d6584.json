{"sha": "8808dc6abf8eeada2934b09f4f4245e57c1d6584", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg4MDhkYzZhYmY4ZWVhZGEyOTM0YjA5ZjRmNDI0NWU1N2MxZDY1ODQ=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-08-22T02:11:41Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-09-10T21:58:14Z"}, "message": "Fully integrate token collection for additional AST structs\n\nThis commit contains miscellaneous changes that don't fit into any of\nthe other commits in this PR", "tree": {"sha": "5cfe1c7946505abd3853cde062803877e3f4d8e2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5cfe1c7946505abd3853cde062803877e3f4d8e2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8808dc6abf8eeada2934b09f4f4245e57c1d6584", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8808dc6abf8eeada2934b09f4f4245e57c1d6584", "html_url": "https://github.com/rust-lang/rust/commit/8808dc6abf8eeada2934b09f4f4245e57c1d6584", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8808dc6abf8eeada2934b09f4f4245e57c1d6584/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "961f18317dcb427277ac89a89936781fdef31a17", "url": "https://api.github.com/repos/rust-lang/rust/commits/961f18317dcb427277ac89a89936781fdef31a17", "html_url": "https://github.com/rust-lang/rust/commit/961f18317dcb427277ac89a89936781fdef31a17"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "67a463538568e9adf619ce3add880796f21c81c4", "filename": "clippy_lints/src/enum_variants.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8808dc6abf8eeada2934b09f4f4245e57c1d6584/clippy_lints%2Fsrc%2Fenum_variants.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8808dc6abf8eeada2934b09f4f4245e57c1d6584/clippy_lints%2Fsrc%2Fenum_variants.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fenum_variants.rs?ref=8808dc6abf8eeada2934b09f4f4245e57c1d6584", "patch": "@@ -285,7 +285,7 @@ impl EarlyLintPass for EnumVariantNames {\n                             );\n                         }\n                     }\n-                    if item.vis.node.is_pub() {\n+                    if item.vis.kind.is_pub() {\n                         let matching = partial_match(mod_camel, &item_camel);\n                         let rmatching = partial_rmatch(mod_camel, &item_camel);\n                         let nchars = mod_camel.chars().count();\n@@ -316,7 +316,7 @@ impl EarlyLintPass for EnumVariantNames {\n             }\n         }\n         if let ItemKind::Enum(ref def, _) = item.kind {\n-            let lint = match item.vis.node {\n+            let lint = match item.vis.kind {\n                 VisibilityKind::Public => PUB_ENUM_VARIANT_NAMES,\n                 _ => ENUM_VARIANT_NAMES,\n             };"}, {"sha": "9c623821fdddc3cee97deec82fc03398d43d299e", "filename": "clippy_lints/src/manual_non_exhaustive.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8808dc6abf8eeada2934b09f4f4245e57c1d6584/clippy_lints%2Fsrc%2Fmanual_non_exhaustive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8808dc6abf8eeada2934b09f4f4245e57c1d6584/clippy_lints%2Fsrc%2Fmanual_non_exhaustive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_non_exhaustive.rs?ref=8808dc6abf8eeada2934b09f4f4245e57c1d6584", "patch": "@@ -122,7 +122,7 @@ fn check_manual_non_exhaustive_enum(cx: &EarlyContext<'_>, item: &Item, variants\n \n fn check_manual_non_exhaustive_struct(cx: &EarlyContext<'_>, item: &Item, data: &VariantData) {\n     fn is_private(field: &StructField) -> bool {\n-        matches!(field.vis.node, VisibilityKind::Inherited)\n+        matches!(field.vis.kind, VisibilityKind::Inherited)\n     }\n \n     fn is_non_exhaustive_marker(field: &StructField) -> bool {\n@@ -141,7 +141,7 @@ fn check_manual_non_exhaustive_struct(cx: &EarlyContext<'_>, item: &Item, data:\n \n     let fields = data.fields();\n     let private_fields = fields.iter().filter(|f| is_private(f)).count();\n-    let public_fields = fields.iter().filter(|f| f.vis.node.is_pub()).count();\n+    let public_fields = fields.iter().filter(|f| f.vis.kind.is_pub()).count();\n \n     if_chain! {\n         if private_fields == 1 && public_fields >= 1 && public_fields == fields.len() - 1;"}, {"sha": "35b38eca14d1be6293e729d4ce3c370d0fef0a8a", "filename": "clippy_lints/src/single_component_path_imports.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8808dc6abf8eeada2934b09f4f4245e57c1d6584/clippy_lints%2Fsrc%2Fsingle_component_path_imports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8808dc6abf8eeada2934b09f4f4245e57c1d6584/clippy_lints%2Fsrc%2Fsingle_component_path_imports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fsingle_component_path_imports.rs?ref=8808dc6abf8eeada2934b09f4f4245e57c1d6584", "patch": "@@ -41,7 +41,7 @@ impl EarlyLintPass for SingleComponentPathImports {\n         if_chain! {\n             if !in_macro(item.span);\n             if cx.sess.opts.edition == Edition::Edition2018;\n-            if !item.vis.node.is_pub();\n+            if !item.vis.kind.is_pub();\n             if let ItemKind::Use(use_tree) = &item.kind;\n             if let segments = &use_tree.prefix.segments;\n             if segments.len() == 1;"}, {"sha": "4f0474c62cb6f23244b4e53dfaeefa24c314acdf", "filename": "clippy_lints/src/utils/ast_utils.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8808dc6abf8eeada2934b09f4f4245e57c1d6584/clippy_lints%2Fsrc%2Futils%2Fast_utils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8808dc6abf8eeada2934b09f4f4245e57c1d6584/clippy_lints%2Fsrc%2Futils%2Fast_utils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fast_utils.rs?ref=8808dc6abf8eeada2934b09f4f4245e57c1d6584", "patch": "@@ -392,7 +392,7 @@ pub fn eq_defaultness(l: Defaultness, r: Defaultness) -> bool {\n \n pub fn eq_vis(l: &Visibility, r: &Visibility) -> bool {\n     use VisibilityKind::*;\n-    match (&l.node, &r.node) {\n+    match (&l.kind, &r.kind) {\n         (Public, Public) | (Inherited, Inherited) | (Crate(_), Crate(_)) => true,\n         (Restricted { path: l, .. }, Restricted { path: r, .. }) => eq_path(l, r),\n         _ => false,"}]}