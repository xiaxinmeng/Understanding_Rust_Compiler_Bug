{"sha": "10f5a36664825bb22ae7132a31d5749fd84ac912", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwZjVhMzY2NjQ4MjViYjIyYWU3MTMyYTMxZDU3NDlmZDg0YWM5MTI=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-05-04T07:21:32Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-05-04T07:21:32Z"}, "message": "Rollup merge of #60521 - rasendubi:tidy-2018-edition, r=Centril\n\nMigrate tidy to rust 2018 edition\n\ncc @Centril", "tree": {"sha": "31968dfed49dcb93c5f2a85b8bc1fb4a5c523e32", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/31968dfed49dcb93c5f2a85b8bc1fb4a5c523e32"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/10f5a36664825bb22ae7132a31d5749fd84ac912", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJczT18CRBK7hj4Ov3rIwAAdHIIABT3PYniOoacejjtAQ5maoCl\n0JFmFBg/nFHk4BV6wj/4xMjqmcI9mVG9fZTTI4BiRFwJ/bZ2dTqpCappKDp9HuCY\n6N5xPRyj/ahGidVQe46XAMl/lJ69gvrfd3zVI2jvVqrBEFSN4y7t/AQSJBgNrOLR\n9gIeKOSkvZLEfaJ6H20wgwqMtxeI5fNDJNQ/XC9Db/TQ3/dpeDPxiNygb1gENpr8\nY1eg0yt4vrpsrbOuLotsEedin3p2Cbvs34I8G8LNco+7xrNLS2TSToC/+gRyHKzW\n1pFFbInWTjgHLPAPtP3rx5wkgzADX9VF+rvsvjlFofB6FWxMkbl1oieeeWUIIpM=\n=Lg5N\n-----END PGP SIGNATURE-----\n", "payload": "tree 31968dfed49dcb93c5f2a85b8bc1fb4a5c523e32\nparent 68dcca8e09e219294b5939b3c1cd73f01e64c2f3\nparent bacf792f6f8b3ae2e94930eb11faeaa49f081549\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1556954492 +0200\ncommitter GitHub <noreply@github.com> 1556954492 +0200\n\nRollup merge of #60521 - rasendubi:tidy-2018-edition, r=Centril\n\nMigrate tidy to rust 2018 edition\n\ncc @Centril\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/10f5a36664825bb22ae7132a31d5749fd84ac912", "html_url": "https://github.com/rust-lang/rust/commit/10f5a36664825bb22ae7132a31d5749fd84ac912", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/10f5a36664825bb22ae7132a31d5749fd84ac912/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "68dcca8e09e219294b5939b3c1cd73f01e64c2f3", "url": "https://api.github.com/repos/rust-lang/rust/commits/68dcca8e09e219294b5939b3c1cd73f01e64c2f3", "html_url": "https://github.com/rust-lang/rust/commit/68dcca8e09e219294b5939b3c1cd73f01e64c2f3"}, {"sha": "bacf792f6f8b3ae2e94930eb11faeaa49f081549", "url": "https://api.github.com/repos/rust-lang/rust/commits/bacf792f6f8b3ae2e94930eb11faeaa49f081549", "html_url": "https://github.com/rust-lang/rust/commit/bacf792f6f8b3ae2e94930eb11faeaa49f081549"}], "stats": {"total": 25, "additions": 8, "deletions": 17}, "files": [{"sha": "433e9264dd1dc369a8fc219358da811baa8fb940", "filename": "src/tools/tidy/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2FCargo.toml?ref=10f5a36664825bb22ae7132a31d5749fd84ac912", "patch": "@@ -2,6 +2,7 @@\n name = \"tidy\"\n version = \"0.1.0\"\n authors = [\"Alex Crichton <alex@alexcrichton.com>\"]\n+edition = \"2018\"\n \n [dependencies]\n regex = \"1\""}, {"sha": "e90737febd5bfb93af3f07f44e98dccf82e46a49", "filename": "src/tools/tidy/src/deps.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs?ref=10f5a36664825bb22ae7132a31d5749fd84ac912", "patch": "@@ -5,6 +5,7 @@ use std::fs;\n use std::path::Path;\n use std::process::Command;\n \n+use serde_derive::Deserialize;\n use serde_json;\n \n const LICENSES: &[&str] = &["}, {"sha": "f9f3623679e175db2a641a4ef1037a1857bf706a", "filename": "src/tools/tidy/src/features.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures.rs", "raw_url": "https://github.com/rust-lang/rust/raw/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures.rs?ref=10f5a36664825bb22ae7132a31d5749fd84ac912", "patch": "@@ -18,7 +18,7 @@ use std::path::Path;\n use regex::{Regex, escape};\n \n mod version;\n-use self::version::Version;\n+use version::Version;\n \n const FEATURE_GROUP_START_PREFIX: &str = \"// feature-group-start\";\n const FEATURE_GROUP_END_PREFIX: &str = \"// feature-group-end\";"}, {"sha": "1ce9fe127dd9395984b959b0741aa49a8ac78482", "filename": "src/tools/tidy/src/features/version.rs", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures%2Fversion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures%2Fversion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures%2Fversion.rs?ref=10f5a36664825bb22ae7132a31d5749fd84ac912", "patch": "@@ -31,15 +31,13 @@ impl FromStr for Version {\n     fn from_str(s: &str) -> Result<Self, Self::Err> {\n         let mut iter = s.split('.').map(|part| Ok(part.parse()?));\n \n-        let parts = {\n-            let mut part = || {\n-                iter.next()\n-                    .unwrap_or(Err(ParseVersionError::WrongNumberOfParts))\n-            };\n-\n-            [part()?, part()?, part()?]\n+        let mut part = || {\n+            iter.next()\n+                .unwrap_or(Err(ParseVersionError::WrongNumberOfParts))\n         };\n \n+        let parts = [part()?, part()?, part()?];\n+\n         if let Some(_) = iter.next() {\n             // Ensure we don't have more than 3 parts.\n             return Err(ParseVersionError::WrongNumberOfParts);"}, {"sha": "d06c99725bc6a5ea228fb688b9a8bfc2855ad752", "filename": "src/tools/tidy/src/lib.rs", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Flib.rs?ref=10f5a36664825bb22ae7132a31d5749fd84ac912", "patch": "@@ -3,13 +3,6 @@\n //! This library contains the tidy lints and exposes it\n //! to be used by tools.\n \n-#![deny(rust_2018_idioms)]\n-\n-extern crate regex;\n-extern crate serde_json;\n-#[macro_use]\n-extern crate serde_derive;\n-\n use std::fs;\n \n use std::path::Path;"}, {"sha": "eef3719043825e4b3f77635b0b6a6f1199d22e54", "filename": "src/tools/tidy/src/main.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/10f5a36664825bb22ae7132a31d5749fd84ac912/src%2Ftools%2Ftidy%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fmain.rs?ref=10f5a36664825bb22ae7132a31d5749fd84ac912", "patch": "@@ -4,10 +4,8 @@\n //! etc. This is run by default on `make check` and as part of the auto\n //! builders.\n \n-#![deny(rust_2018_idioms)]\n #![deny(warnings)]\n \n-extern crate tidy;\n use tidy::*;\n \n use std::process;"}]}