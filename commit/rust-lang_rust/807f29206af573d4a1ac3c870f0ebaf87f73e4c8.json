{"sha": "807f29206af573d4a1ac3c870f0ebaf87f73e4c8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgwN2YyOTIwNmFmNTczZDRhMWFjM2M4NzBmMGViYWY4N2Y3M2U0Yzg=", "commit": {"author": {"name": "Chris Emerson", "email": "github@mail.nosreme.org", "date": "2018-02-12T23:07:46Z"}, "committer": {"name": "Chris Emerson", "email": "github@mail.nosreme.org", "date": "2018-02-12T23:07:46Z"}, "message": "Update after review comments.", "tree": {"sha": "410fe4211ff88d038e1718ef1fc952ca83b09a65", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/410fe4211ff88d038e1718ef1fc952ca83b09a65"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/807f29206af573d4a1ac3c870f0ebaf87f73e4c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/807f29206af573d4a1ac3c870f0ebaf87f73e4c8", "html_url": "https://github.com/rust-lang/rust/commit/807f29206af573d4a1ac3c870f0ebaf87f73e4c8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/807f29206af573d4a1ac3c870f0ebaf87f73e4c8/comments", "author": {"login": "jugglerchris", "id": 1644842, "node_id": "MDQ6VXNlcjE2NDQ4NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1644842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jugglerchris", "html_url": "https://github.com/jugglerchris", "followers_url": "https://api.github.com/users/jugglerchris/followers", "following_url": "https://api.github.com/users/jugglerchris/following{/other_user}", "gists_url": "https://api.github.com/users/jugglerchris/gists{/gist_id}", "starred_url": "https://api.github.com/users/jugglerchris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jugglerchris/subscriptions", "organizations_url": "https://api.github.com/users/jugglerchris/orgs", "repos_url": "https://api.github.com/users/jugglerchris/repos", "events_url": "https://api.github.com/users/jugglerchris/events{/privacy}", "received_events_url": "https://api.github.com/users/jugglerchris/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jugglerchris", "id": 1644842, "node_id": "MDQ6VXNlcjE2NDQ4NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1644842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jugglerchris", "html_url": "https://github.com/jugglerchris", "followers_url": "https://api.github.com/users/jugglerchris/followers", "following_url": "https://api.github.com/users/jugglerchris/following{/other_user}", "gists_url": "https://api.github.com/users/jugglerchris/gists{/gist_id}", "starred_url": "https://api.github.com/users/jugglerchris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jugglerchris/subscriptions", "organizations_url": "https://api.github.com/users/jugglerchris/orgs", "repos_url": "https://api.github.com/users/jugglerchris/repos", "events_url": "https://api.github.com/users/jugglerchris/events{/privacy}", "received_events_url": "https://api.github.com/users/jugglerchris/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e02f2685776e7fa8f0cee4b2c81d28a85288cb30", "url": "https://api.github.com/repos/rust-lang/rust/commits/e02f2685776e7fa8f0cee4b2c81d28a85288cb30", "html_url": "https://github.com/rust-lang/rust/commit/e02f2685776e7fa8f0cee4b2c81d28a85288cb30"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "4390d49d1254e6b8ef56ec6e72603eb380df441f", "filename": "Configurations.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/807f29206af573d4a1ac3c870f0ebaf87f73e4c8/Configurations.md", "raw_url": "https://github.com/rust-lang/rust/raw/807f29206af573d4a1ac3c870f0ebaf87f73e4c8/Configurations.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Configurations.md?ref=807f29206af573d4a1ac3c870f0ebaf87f73e4c8", "patch": "@@ -1915,7 +1915,7 @@ See also: [`match_block_trailing_comma`](#match_block_trailing_comma).\n What Write Mode to use when none is supplied: Replace, Overwrite, Display, Diff, Coverage\n \n - **Default value**: `\"Overwrite\"`\n-- **Possible values**: `\"Checkstyle\"`, `\"Coverage\"`, `\"Diff\"`, `\"Display\"`, `\"Overwrite\"`, `\"Plain\"`, `\"Replace\"`, `\"Modified\"`\n+- **Possible values**: `\"Checkstyle\"`, `\"Coverage\"`, `\"Diff\"`, `\"Display\"`, `\"Overwrite\"`, `\"Plain\"`, `\"Replace\"`\n - **Stable**: No\n \n ## `blank_lines_upper_bound`"}, {"sha": "d94f2a2c12c493348a480d553a2f3a84b3710e54", "filename": "rustfmt-core/src/lib.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/807f29206af573d4a1ac3c870f0ebaf87f73e4c8/rustfmt-core%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/807f29206af573d4a1ac3c870f0ebaf87f73e4c8/rustfmt-core%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rustfmt-core%2Fsrc%2Flib.rs?ref=807f29206af573d4a1ac3c870f0ebaf87f73e4c8", "patch": "@@ -708,8 +708,8 @@ pub fn format_input<T: Write>(\n /// and a vector of 0 or more inserted lines.\n #[derive(Debug, PartialEq, Eq)]\n pub struct ModifiedChunk {\n-    /// The first affected line before formatting.\n-    pub line_number: u32,\n+    /// The first to be removed from the original text\n+    pub line_number_orig: u32,\n     /// The number of lines which have been replaced\n     pub lines_removed: u32,\n     /// The new lines\n@@ -756,24 +756,24 @@ pub fn get_modified_lines(\n             .map(|s| s.parse::<u32>().unwrap())\n             .collect();\n         assert_eq!(values.len(), 3);\n-        let line_number = values[0];\n-        let num_removed = values[1];\n+        let line_number_orig = values[0];\n+        let lines_removed = values[1];\n         let num_added = values[2];\n         let mut added_lines = Vec::new();\n         for _ in 0..num_added {\n             added_lines.push(lines.next().unwrap().unwrap());\n         }\n         chunks.push(ModifiedChunk {\n-            line_number: line_number,\n-            lines_removed: num_removed,\n+            line_number_orig,\n+            lines_removed,\n             lines: added_lines,\n         });\n     }\n     Ok(ModifiedLinesResult {\n         summary: summary,\n         filemap: filemap,\n         report: formatreport,\n-        modified_lines: ModifiedLines { chunks: chunks },\n+        modified_lines: ModifiedLines { chunks },\n     })\n }\n "}, {"sha": "3a990ebe88c5247a31e8c4795a5750841ccb29b7", "filename": "rustfmt-core/tests/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/807f29206af573d4a1ac3c870f0ebaf87f73e4c8/rustfmt-core%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/807f29206af573d4a1ac3c870f0ebaf87f73e4c8/rustfmt-core%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rustfmt-core%2Ftests%2Flib.rs?ref=807f29206af573d4a1ac3c870f0ebaf87f73e4c8", "patch": "@@ -153,12 +153,12 @@ fn modified_test() {\n         ModifiedLines {\n             chunks: vec![\n                 ModifiedChunk {\n-                    line_number: 4,\n+                    line_number_orig: 4,\n                     lines_removed: 4,\n                     lines: vec![\"fn blah() {}\".into()],\n                 },\n                 ModifiedChunk {\n-                    line_number: 9,\n+                    line_number_orig: 9,\n                     lines_removed: 6,\n                     lines: vec![\"#[cfg(a, b)]\".into(), \"fn main() {}\".into()],\n                 },"}]}