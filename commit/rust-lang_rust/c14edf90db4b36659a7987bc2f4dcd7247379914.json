{"sha": "c14edf90db4b36659a7987bc2f4dcd7247379914", "node_id": "C_kwDOAAsO6NoAKGMxNGVkZjkwZGI0YjM2NjU5YTc5ODdiYzJmNGRjZDcyNDczNzk5MTQ", "commit": {"author": {"name": "Rune Tynan", "email": "runetynan@gmail.com", "date": "2023-02-13T18:45:15Z"}, "committer": {"name": "Rune Tynan", "email": "runetynan@gmail.com", "date": "2023-02-20T18:38:29Z"}, "message": "Replace u32_len with constant", "tree": {"sha": "f515d469e1e545e13bf7e0c542be0c1e778fe96b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f515d469e1e545e13bf7e0c542be0c1e778fe96b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c14edf90db4b36659a7987bc2f4dcd7247379914", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEETdpCnQmiF6hBYUqdfsyTL4sscx4FAmPzviUACgkQfsyTL4ss\ncx683g//UeLGdE57YRcDU8EVmNfU4IlNrYM46Ig6PsIMH8T1gGT1hep4eiTxO+Q8\n6tO8Y/6wwVmpRV0HlwRX6Wq9BCcW7BUs9PKgmpN1yOZwQUOje4o09AEGMKoA9mzf\n8kYpgNSIhtZ2SHleAIXsaXIEJkLxyHoZURDa1djVrgpsaqgl9qn+hB5SuTWvtayz\nn3m0op98LBKgbfILP8UMbmhsTiPnbURdzJsI7QDetlflFcGb2B72lOkxuBL6UBTt\nD2Utbgj/9UB3yKRoD8sUMCsbYQgx4A/FDCpNCDsEq92aiERvWaeZfx0HyDGuBuYH\nD1ErA0aPluJtDT6q3XnkAm9ztxRtbB0KQm9iKPfkh6xFxZTb91sr5WpsHGBg7Gp0\nu6CxMeFoXWOdz3tT0V/Vas1FL3kIKizlVldEtNUMUlr/rATupoNBnaVCLbF88d2T\nFOscdZLdq+P0qvZ7yMjpOSXsHtloMJ3OBiukjUP/ff4VDTkijVFRzY4Nc8hARZfB\nzDHq667rAr06ujoA6G7YDHs7vI9Stycyef4l+ApQkBxwB9bPTiDHxPfGKTDyroBr\nt820Oh+K7zaSV3lK2p0ZNzIgYhyh2gwwpPe6zy22NOjSsbxgg2WOHTWY/4kPwdBY\nl3PG2Y1jpK76Xq3mud/PwAKFa8R9gVXsPcyRTV9/FkpYbeiavVo=\n=XvGj\n-----END PGP SIGNATURE-----", "payload": "tree f515d469e1e545e13bf7e0c542be0c1e778fe96b\nparent a9c3eb91e9f5a8da24cb6ef8254458a65bfcb77f\nauthor Rune Tynan <runetynan@gmail.com> 1676313915 -0500\ncommitter Rune Tynan <runetynan@gmail.com> 1676918309 -0500\n\nReplace u32_len with constant\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c14edf90db4b36659a7987bc2f4dcd7247379914", "html_url": "https://github.com/rust-lang/rust/commit/c14edf90db4b36659a7987bc2f4dcd7247379914", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c14edf90db4b36659a7987bc2f4dcd7247379914/comments", "author": {"login": "CraftSpider", "id": 13342132, "node_id": "MDQ6VXNlcjEzMzQyMTMy", "avatar_url": "https://avatars.githubusercontent.com/u/13342132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CraftSpider", "html_url": "https://github.com/CraftSpider", "followers_url": "https://api.github.com/users/CraftSpider/followers", "following_url": "https://api.github.com/users/CraftSpider/following{/other_user}", "gists_url": "https://api.github.com/users/CraftSpider/gists{/gist_id}", "starred_url": "https://api.github.com/users/CraftSpider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CraftSpider/subscriptions", "organizations_url": "https://api.github.com/users/CraftSpider/orgs", "repos_url": "https://api.github.com/users/CraftSpider/repos", "events_url": "https://api.github.com/users/CraftSpider/events{/privacy}", "received_events_url": "https://api.github.com/users/CraftSpider/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CraftSpider", "id": 13342132, "node_id": "MDQ6VXNlcjEzMzQyMTMy", "avatar_url": "https://avatars.githubusercontent.com/u/13342132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CraftSpider", "html_url": "https://github.com/CraftSpider", "followers_url": "https://api.github.com/users/CraftSpider/followers", "following_url": "https://api.github.com/users/CraftSpider/following{/other_user}", "gists_url": "https://api.github.com/users/CraftSpider/gists{/gist_id}", "starred_url": "https://api.github.com/users/CraftSpider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CraftSpider/subscriptions", "organizations_url": "https://api.github.com/users/CraftSpider/orgs", "repos_url": "https://api.github.com/users/CraftSpider/repos", "events_url": "https://api.github.com/users/CraftSpider/events{/privacy}", "received_events_url": "https://api.github.com/users/CraftSpider/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a9c3eb91e9f5a8da24cb6ef8254458a65bfcb77f", "url": "https://api.github.com/repos/rust-lang/rust/commits/a9c3eb91e9f5a8da24cb6ef8254458a65bfcb77f", "html_url": "https://github.com/rust-lang/rust/commit/a9c3eb91e9f5a8da24cb6ef8254458a65bfcb77f"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "c48e681eb94ad610f46cbddb9817c7391dc674a7", "filename": "compiler/rustc_metadata/src/locator.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c14edf90db4b36659a7987bc2f4dcd7247379914/compiler%2Frustc_metadata%2Fsrc%2Flocator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c14edf90db4b36659a7987bc2f4dcd7247379914/compiler%2Frustc_metadata%2Fsrc%2Flocator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_metadata%2Fsrc%2Flocator.rs?ref=c14edf90db4b36659a7987bc2f4dcd7247379914", "patch": "@@ -789,8 +789,8 @@ fn get_metadata_section<'p>(\n                 loader.get_dylib_metadata(target, filename).map_err(MetadataError::LoadFailure)?;\n             // The header is uncompressed\n             let header_len = METADATA_HEADER.len();\n-            let u32_len = core::mem::size_of::<u32>();\n-            let data_start = header_len + u32_len;\n+            // header + u32 length of data\n+            let data_start = header_len + 4;\n \n             debug!(\"checking {} bytes of metadata-version stamp\", header_len);\n             let header = &buf[..cmp::min(header_len, buf.len())];"}]}