{"sha": "140fbd301962991afac2358e445b48b4f647ca43", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE0MGZiZDMwMTk2Mjk5MWFmYWMyMzU4ZTQ0NWI0OGI0ZjY0N2NhNDM=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-15T23:06:59Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-16T09:07:41Z"}, "message": "rustdoc: Move document model into doc module", "tree": {"sha": "f303d6bc7bb83649ffa4037602dabd829832b6c2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f303d6bc7bb83649ffa4037602dabd829832b6c2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/140fbd301962991afac2358e445b48b4f647ca43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/140fbd301962991afac2358e445b48b4f647ca43", "html_url": "https://github.com/rust-lang/rust/commit/140fbd301962991afac2358e445b48b4f647ca43", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/140fbd301962991afac2358e445b48b4f647ca43/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e32cf827ffd7ae665ced523de7885197f1fa93a0", "url": "https://api.github.com/repos/rust-lang/rust/commits/e32cf827ffd7ae665ced523de7885197f1fa93a0", "html_url": "https://github.com/rust-lang/rust/commit/e32cf827ffd7ae665ced523de7885197f1fa93a0"}], "stats": {"total": 36, "additions": 18, "deletions": 18}, "files": [{"sha": "cb3fab1299c6ffcc63bd34e97eeb36c04cfc7a9c", "filename": "src/rustdoc/doc.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/140fbd301962991afac2358e445b48b4f647ca43/src%2Frustdoc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/140fbd301962991afac2358e445b48b4f647ca43/src%2Frustdoc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fdoc.rs?ref=140fbd301962991afac2358e445b48b4f647ca43", "patch": "@@ -0,0 +1,14 @@\n+type cratedoc = {\n+    mods: [moddoc]\n+};\n+\n+type moddoc = {\n+    fns: [fndoc]\n+};\n+\n+type fndoc = {\n+    brief: str,\n+    desc: option::t<str>,\n+    return: option::t<str>,\n+    args: map::hashmap<str, str>\n+};"}, {"sha": "390ba33a55edba09098620d2d5e2e8385039e8f2", "filename": "src/rustdoc/rustdoc.rc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/140fbd301962991afac2358e445b48b4f647ca43/src%2Frustdoc%2Frustdoc.rc", "raw_url": "https://github.com/rust-lang/rust/raw/140fbd301962991afac2358e445b48b4f647ca43/src%2Frustdoc%2Frustdoc.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Frustdoc.rc?ref=140fbd301962991afac2358e445b48b4f647ca43", "patch": "@@ -7,4 +7,5 @@\n #[license = \"MIT\"];\n #[crate_type = \"bin\"];\n \n-mod parse;\n\\ No newline at end of file\n+mod parse;\n+mod doc;\n\\ No newline at end of file"}, {"sha": "1f30fb4302ebd4b5941224b9fd63b6985f04d469", "filename": "src/rustdoc/rustdoc.rs", "status": "modified", "additions": 2, "deletions": 17, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/140fbd301962991afac2358e445b48b4f647ca43/src%2Frustdoc%2Frustdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/140fbd301962991afac2358e445b48b4f647ca43/src%2Frustdoc%2Frustdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Frustdoc.rs?ref=140fbd301962991afac2358e445b48b4f647ca43", "patch": "@@ -22,29 +22,14 @@ type rustdoc = {\n     w: io::writer\n };\n \n-type cratedoc = {\n-    mods: [moddoc]\n-};\n-\n-type moddoc = {\n-    fns: [fndoc]\n-};\n-\n-type fndoc = {\n-    brief: str,\n-    desc: option::t<str>,\n-    return: option::t<str>,\n-    args: map::hashmap<str, str>\n-};\n-\n #[doc(\n   brief = \"Documents a single function.\",\n   args(rd = \"Rustdoc context\",\n        ident = \"Identifier for this function\",\n        doc = \"Function docs extracted from attributes\",\n        _fn = \"AST object representing this function\")\n )]\n-fn doc_fn(rd: rustdoc, ident: str, doc: fndoc, decl: ast::fn_decl) {\n+fn doc_fn(rd: rustdoc, ident: str, doc: doc::fndoc, decl: ast::fn_decl) {\n     rd.w.write_line(\"## Function `\" + ident + \"`\");\n     rd.w.write_line(doc.brief);\n     alt doc.desc {\n@@ -84,7 +69,7 @@ fn doc_fn(rd: rustdoc, ident: str, doc: fndoc, decl: ast::fn_decl) {\n   args(items = \"Doc attribute contents\"),\n   return = \"Parsed function docs.\"\n )]\n-fn parse_compound_fndoc(items: [@ast::meta_item]) -> fndoc {\n+fn parse_compound_fndoc(items: [@ast::meta_item]) -> doc::fndoc {\n     let brief = none;\n     let desc = none;\n     let return = none;"}]}