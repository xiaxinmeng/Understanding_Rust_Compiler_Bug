{"sha": "80822b430dcba0ff1fbb02c16f20c2abcd67802e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgwODIyYjQzMGRjYmEwZmYxZmJiMDJjMTZmMjBjMmFiY2Q2NzgwMmU=", "commit": {"author": {"name": "Jason Olson", "email": "jolson88@outlook.com", "date": "2019-09-14T01:49:11Z"}, "committer": {"name": "Jason Olson", "email": "jolson88@outlook.com", "date": "2019-09-14T01:49:11Z"}, "message": "Convert to Place's new boxed slice projection\n\nFixes breaking change from rust-lang PR https://github.com/rust-lang/rust/pull/63420/", "tree": {"sha": "30ae5c3bb06e4babaf0be68b1a706a7a6101453e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/30ae5c3bb06e4babaf0be68b1a706a7a6101453e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/80822b430dcba0ff1fbb02c16f20c2abcd67802e", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEKyEgbYYQxMstyrCgENeSQqv8JzIFAl18R8MACgkQENeSQqv8\nJzItExAAmu8ervAV+bGJ5ceoDIIQhKOTVF48P/ma9gJ8qZDn/bDanvQ7njw0Bom5\nY32kxZWXe3b2yi68IsBpEOwQR0ivW6wDGaut4BdgSGQOG6iH3nXeqU7Tk6U1J5tm\nEUcmTVQmoxCWHF8EZ4AteBxv0ePbivG4IxVtCuXE0fZY1N4bpOP7WR3oZhFDbQOt\nOh24tEquzytGVLoY3S3dd9DeYynEaRpscX9njHWk83J7jjujuDXuK2k+4xamlww8\nL6bE4zYxrT0RhBoOATm25TS9QYceUNpOF8QHLIJuSMnwjvFruOLqe3N1MIRTzmkQ\nLQ4nEjytVzpFhXb6oeBicxquu8JAhpdvFD5Ypw3GSwojfS3o/iv3U/mvO3jObCgt\nrvfLYTqyrFGClT1QuPGCVi4qdAYWTFNUlTzRyWzcmEck9vfMxjRxTsiW/EfrxDT5\nBmwPbRLyb/Ypr8bj21vhz40x7SFbQGeq8C4MOWlbtGXtxdYgvcjBMmzcLSDTHpv9\n0WPvblO+/UKF44K2n5iVdXzfVR+9RX89Ffbi/lWPxGEUs9LUaYgm6CoIneMgMPYi\nFTrwDSoMC6xv2uY47a63wY5X1/2CTj3uA8t7RCjXUYaPrnes5Ns0jucm4XEf2eKZ\nTkU7E/FhBGjjW2uelTw9j8FX3/wzUTVXa+PyBVRmNVlWNN0ApDI=\n=eoxK\n-----END PGP SIGNATURE-----", "payload": "tree 30ae5c3bb06e4babaf0be68b1a706a7a6101453e\nparent ff4a3fb52fba52cc07c72840fadb7bfda650e165\nauthor Jason Olson <jolson88@outlook.com> 1568425751 -0700\ncommitter Jason Olson <jolson88@outlook.com> 1568425751 -0700\n\nConvert to Place's new boxed slice projection\n\nFixes breaking change from rust-lang PR https://github.com/rust-lang/rust/pull/63420/\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/80822b430dcba0ff1fbb02c16f20c2abcd67802e", "html_url": "https://github.com/rust-lang/rust/commit/80822b430dcba0ff1fbb02c16f20c2abcd67802e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/80822b430dcba0ff1fbb02c16f20c2abcd67802e/comments", "author": {"login": "jolson88", "id": 69651, "node_id": "MDQ6VXNlcjY5NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/69651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jolson88", "html_url": "https://github.com/jolson88", "followers_url": "https://api.github.com/users/jolson88/followers", "following_url": "https://api.github.com/users/jolson88/following{/other_user}", "gists_url": "https://api.github.com/users/jolson88/gists{/gist_id}", "starred_url": "https://api.github.com/users/jolson88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jolson88/subscriptions", "organizations_url": "https://api.github.com/users/jolson88/orgs", "repos_url": "https://api.github.com/users/jolson88/repos", "events_url": "https://api.github.com/users/jolson88/events{/privacy}", "received_events_url": "https://api.github.com/users/jolson88/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jolson88", "id": 69651, "node_id": "MDQ6VXNlcjY5NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/69651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jolson88", "html_url": "https://github.com/jolson88", "followers_url": "https://api.github.com/users/jolson88/followers", "following_url": "https://api.github.com/users/jolson88/following{/other_user}", "gists_url": "https://api.github.com/users/jolson88/gists{/gist_id}", "starred_url": "https://api.github.com/users/jolson88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jolson88/subscriptions", "organizations_url": "https://api.github.com/users/jolson88/orgs", "repos_url": "https://api.github.com/users/jolson88/repos", "events_url": "https://api.github.com/users/jolson88/events{/privacy}", "received_events_url": "https://api.github.com/users/jolson88/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ff4a3fb52fba52cc07c72840fadb7bfda650e165", "url": "https://api.github.com/repos/rust-lang/rust/commits/ff4a3fb52fba52cc07c72840fadb7bfda650e165", "html_url": "https://github.com/rust-lang/rust/commit/ff4a3fb52fba52cc07c72840fadb7bfda650e165"}], "stats": {"total": 11, "additions": 5, "deletions": 6}, "files": [{"sha": "d029267e034dc7de4339d45bd4304cdad1d56def", "filename": "clippy_lints/src/redundant_clone.rs", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/80822b430dcba0ff1fbb02c16f20c2abcd67802e/clippy_lints%2Fsrc%2Fredundant_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/80822b430dcba0ff1fbb02c16f20c2abcd67802e/clippy_lints%2Fsrc%2Fredundant_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_clone.rs?ref=80822b430dcba0ff1fbb02c16f20c2abcd67802e", "patch": "@@ -252,13 +252,13 @@ fn find_stmt_assigns_to<'a, 'tcx: 'a>(\n     stmts\n         .rev()\n         .find_map(|stmt| {\n-            if let mir::StatementKind::Assign(\n+            if let mir::StatementKind::Assign(box (\n                 mir::Place {\n                     base: mir::PlaceBase::Local(local),\n                     ..\n                 },\n                 v,\n-            ) = &stmt.kind\n+            )) = &stmt.kind\n             {\n                 if *local == to {\n                     return Some(v);\n@@ -269,10 +269,10 @@ fn find_stmt_assigns_to<'a, 'tcx: 'a>(\n         })\n         .and_then(|v| {\n             if by_ref {\n-                if let mir::Rvalue::Ref(_, _, ref place) = **v {\n+                if let mir::Rvalue::Ref(_, _, ref place) = v {\n                     return base_local_and_movability(cx, mir, place);\n                 }\n-            } else if let mir::Rvalue::Use(mir::Operand::Copy(ref place)) = **v {\n+            } else if let mir::Rvalue::Use(mir::Operand::Copy(ref place)) = v {\n                 return base_local_and_movability(cx, mir, place);\n             }\n             None\n@@ -291,7 +291,6 @@ fn base_local_and_movability<'tcx>(\n     use rustc::mir::Place;\n     use rustc::mir::PlaceBase;\n     use rustc::mir::PlaceRef;\n-    use rustc::mir::Projection;\n \n     // Dereference. You cannot move things out from a borrowed value.\n     let mut deref = false;\n@@ -303,7 +302,7 @@ fn base_local_and_movability<'tcx>(\n         mut projection,\n     } = place.as_ref();\n     if let PlaceBase::Local(local) = place_base {\n-        while let Some(box Projection { base, elem }) = projection {\n+        while let [base @ .., elem] = projection {\n             projection = base;\n             deref = matches!(elem, mir::ProjectionElem::Deref);\n             field = !field"}]}