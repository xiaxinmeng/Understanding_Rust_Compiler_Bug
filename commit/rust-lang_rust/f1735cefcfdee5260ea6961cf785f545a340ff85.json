{"sha": "f1735cefcfdee5260ea6961cf785f545a340ff85", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYxNzM1Y2VmY2ZkZWU1MjYwZWE2OTYxY2Y3ODVmNTQ1YTM0MGZmODU=", "commit": {"author": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2014-05-11T23:31:23Z"}, "committer": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2014-05-12T00:05:22Z"}, "message": "make sure jemalloc valgrind support is enabled\n\nThis requires pointing it at the valgrind headers we carry in-tree.", "tree": {"sha": "e298ac285466e1111fba1e5c76bec27dbd2e783c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e298ac285466e1111fba1e5c76bec27dbd2e783c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f1735cefcfdee5260ea6961cf785f545a340ff85", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f1735cefcfdee5260ea6961cf785f545a340ff85", "html_url": "https://github.com/rust-lang/rust/commit/f1735cefcfdee5260ea6961cf785f545a340ff85", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f1735cefcfdee5260ea6961cf785f545a340ff85/comments", "author": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "69b321c84bea60b2ac727c4acbd9a34b19182209", "url": "https://api.github.com/repos/rust-lang/rust/commits/69b321c84bea60b2ac727c4acbd9a34b19182209", "html_url": "https://github.com/rust-lang/rust/commit/69b321c84bea60b2ac727c4acbd9a34b19182209"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "c15f7aba7c9c11b85f8abd659ee60f9421bf6d1d", "filename": ".gitattributes", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f1735cefcfdee5260ea6961cf785f545a340ff85/.gitattributes", "raw_url": "https://github.com/rust-lang/rust/raw/f1735cefcfdee5260ea6961cf785f545a340ff85/.gitattributes", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.gitattributes?ref=f1735cefcfdee5260ea6961cf785f545a340ff85", "patch": "@@ -7,4 +7,4 @@\n src/etc/pkg/rust-logo.ico binary\n src/etc/pkg/rust-logo.png binary\n src/rt/msvc/* -whitespace\n-src/rt/vg/* -whitespace\n+src/rt/valgrind/* -whitespace"}, {"sha": "67ca5fefffc3ede870062ca9a88f77ba26f11a20", "filename": "mk/rt.mk", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f1735cefcfdee5260ea6961cf785f545a340ff85/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/f1735cefcfdee5260ea6961cf785f545a340ff85/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=f1735cefcfdee5260ea6961cf785f545a340ff85", "patch": "@@ -260,6 +260,7 @@ $$(JEMALLOC_LIB_$(1)): $$(JEMALLOC_DEPS) $$(MKFILE_DEPS)\n \t\tCC=\"$$(CC_$(1))\" \\\n \t\tAR=\"$$(AR_$(1))\" \\\n \t\tRANLIB=\"$$(AR_$(1)) s\" \\\n+\t\tCPPFLAGS=\"-I $(S)src/rt/\" \\\n \t\tEXTRA_CFLAGS=\"$$(CFG_CFLAGS_$(1))\"\n \t$$(Q)$$(MAKE) -C \"$$(JEMALLOC_BUILD_DIR_$(1))\" build_lib_static\n \t$$(Q)cp $$(JEMALLOC_BUILD_DIR_$(1))/lib/$$(JEMALLOC_REAL_NAME_$(1)) $$(JEMALLOC_LIB_$(1))"}, {"sha": "9ce7077e03cccc468d9fdc0326f48d868ad2da4f", "filename": "mk/tests.mk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f1735cefcfdee5260ea6961cf785f545a340ff85/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/f1735cefcfdee5260ea6961cf785f545a340ff85/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=f1735cefcfdee5260ea6961cf785f545a340ff85", "patch": "@@ -227,8 +227,8 @@ ALL_HS := $(wildcard $(S)src/rt/*.h \\\n                      $(S)src/rt/*/*.h \\\n                      $(S)src/rt/*/*/*.h \\\n                      $(S)src/rustllvm/*.h)\n-ALL_HS := $(filter-out $(S)src/rt/vg/valgrind.h \\\n-                       $(S)src/rt/vg/memcheck.h \\\n+ALL_HS := $(filter-out $(S)src/rt/valgrind/valgrind.h \\\n+                       $(S)src/rt/valgrind/memcheck.h \\\n                        $(S)src/rt/msvc/typeof.h \\\n                        $(S)src/rt/msvc/stdint.h \\\n                        $(S)src/rt/msvc/inttypes.h \\"}, {"sha": "6ab36f1db7a82f56ffb5c46b0af730e2d8c9e46f", "filename": "src/rt/rust_builtin.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f1735cefcfdee5260ea6961cf785f545a340ff85/src%2Frt%2Frust_builtin.c", "raw_url": "https://github.com/rust-lang/rust/raw/f1735cefcfdee5260ea6961cf785f545a340ff85/src%2Frt%2Frust_builtin.c", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_builtin.c?ref=f1735cefcfdee5260ea6961cf785f545a340ff85", "patch": "@@ -10,7 +10,7 @@\n \n /* Foreign builtins. */\n \n-#include \"vg/valgrind.h\"\n+#include \"valgrind/valgrind.h\"\n \n #include <stdint.h>\n #include <time.h>"}, {"sha": "68474b44186c68879716bf1d49715b8bade4ed4f", "filename": "src/rt/valgrind/memcheck.h", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f1735cefcfdee5260ea6961cf785f545a340ff85/src%2Frt%2Fvalgrind%2Fmemcheck.h", "raw_url": "https://github.com/rust-lang/rust/raw/f1735cefcfdee5260ea6961cf785f545a340ff85/src%2Frt%2Fvalgrind%2Fmemcheck.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Fvalgrind%2Fmemcheck.h?ref=f1735cefcfdee5260ea6961cf785f545a340ff85", "previous_filename": "src/rt/vg/memcheck.h"}, {"sha": "c9aa0fd0328356b0d3b376fc575b2ad6420074d4", "filename": "src/rt/valgrind/valgrind.h", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/f1735cefcfdee5260ea6961cf785f545a340ff85/src%2Frt%2Fvalgrind%2Fvalgrind.h", "raw_url": "https://github.com/rust-lang/rust/raw/f1735cefcfdee5260ea6961cf785f545a340ff85/src%2Frt%2Fvalgrind%2Fvalgrind.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Fvalgrind%2Fvalgrind.h?ref=f1735cefcfdee5260ea6961cf785f545a340ff85", "previous_filename": "src/rt/vg/valgrind.h"}]}