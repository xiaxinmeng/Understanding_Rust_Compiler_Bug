{"sha": "09d56a749c56b03f3b56b5d673328a58838cb5ca", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA5ZDU2YTc0OWM1NmIwM2YzYjU2YjVkNjczMzI4YTU4ODM4Y2I1Y2E=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-08-19T17:30:07Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-08-19T17:30:07Z"}, "message": "Rollup merge of #88050 - Aaron1011:filename-hash-stable, r=michaelwoerister\n\nRemove `HashStable` impls for `FileName` and `RealFileName`\n\nThese impls were unused, and incorrectly hashed the local\n(non-remapped) path for `RealFileName::Remapped` (which would\nbreak reproducible builds if these impls were used).", "tree": {"sha": "fbf7bad4359cdfe91fac41d786f21b16ad321bc2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fbf7bad4359cdfe91fac41d786f21b16ad321bc2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/09d56a749c56b03f3b56b5d673328a58838cb5ca", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhHpUgCRBK7hj4Ov3rIwAAIX8IAARxQAo8/tc6PA5IJxUq+po8\nSPkgUGiVw3jd6hz/h8wwTmd0wKnb6wiKcv/wkimRfk2dqWqVwjj4i8CRm0reQIVk\nffVNtAdWe61pFEvqCdaWGghJauOA2hoT7hApJqaL8oB5vyorE+lsJz2cTpB7NHYe\nkvNBSyISNpSrMe5EKgD1zteGCjs/A0UXjcg57ET+Uv22/ghv1f7dHVUqKzQH1Rkb\nE2Pzcu1auhLufKO5JzaB+YZA+A85W9KKk0BoxEJKlQHOGa27w7jsnFFBiyEkRvr3\nJCWDTFOa329LqO27YHlZGq8Cpyj6mXagRN9+lbTQsNXUg39w2As379u0Lc4C3fM=\n=ZeEy\n-----END PGP SIGNATURE-----\n", "payload": "tree fbf7bad4359cdfe91fac41d786f21b16ad321bc2\nparent 8b9a4c3c4bf1ec9b16d8e9913d4038c89b48db44\nparent d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1629394207 +0200\ncommitter GitHub <noreply@github.com> 1629394207 +0200\n\nRollup merge of #88050 - Aaron1011:filename-hash-stable, r=michaelwoerister\n\nRemove `HashStable` impls for `FileName` and `RealFileName`\n\nThese impls were unused, and incorrectly hashed the local\n(non-remapped) path for `RealFileName::Remapped` (which would\nbreak reproducible builds if these impls were used).\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/09d56a749c56b03f3b56b5d673328a58838cb5ca", "html_url": "https://github.com/rust-lang/rust/commit/09d56a749c56b03f3b56b5d673328a58838cb5ca", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/09d56a749c56b03f3b56b5d673328a58838cb5ca/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b9a4c3c4bf1ec9b16d8e9913d4038c89b48db44", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b9a4c3c4bf1ec9b16d8e9913d4038c89b48db44", "html_url": "https://github.com/rust-lang/rust/commit/8b9a4c3c4bf1ec9b16d8e9913d4038c89b48db44"}, {"sha": "d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb", "url": "https://api.github.com/repos/rust-lang/rust/commits/d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb", "html_url": "https://github.com/rust-lang/rust/commit/d8c3a649a6c94c56b4cbd3dd8d8301a58e0424eb"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "9e127577b61a664c8d75b1b561603c650923de73", "filename": "compiler/rustc_span/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/09d56a749c56b03f3b56b5d673328a58838cb5ca/compiler%2Frustc_span%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/09d56a749c56b03f3b56b5d673328a58838cb5ca/compiler%2Frustc_span%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Flib.rs?ref=09d56a749c56b03f3b56b5d673328a58838cb5ca", "patch": "@@ -157,7 +157,7 @@ scoped_tls::scoped_thread_local!(static SESSION_GLOBALS: SessionGlobals);\n // FIXME: We should use this enum or something like it to get rid of the\n // use of magic `/rust/1.x/...` paths across the board.\n #[derive(Debug, Eq, PartialEq, Clone, Ord, PartialOrd)]\n-#[derive(HashStable_Generic, Decodable)]\n+#[derive(Decodable)]\n pub enum RealFileName {\n     LocalPath(PathBuf),\n     /// For remapped paths (namely paths into libstd that have been mapped\n@@ -269,7 +269,7 @@ impl RealFileName {\n \n /// Differentiates between real files and common virtual files.\n #[derive(Debug, Eq, PartialEq, Clone, Ord, PartialOrd, Hash)]\n-#[derive(HashStable_Generic, Decodable, Encodable)]\n+#[derive(Decodable, Encodable)]\n pub enum FileName {\n     Real(RealFileName),\n     /// Call to `quote!`."}]}