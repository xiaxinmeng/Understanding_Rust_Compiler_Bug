{"sha": "f87f468dbdba374b5e2b04b832ab99dbd74dc288", "node_id": "C_kwDOAAsO6NoAKGY4N2Y0NjhkYmRiYTM3NGI1ZTJiMDRiODMyYWI5OWRiZDc0ZGMyODg", "commit": {"author": {"name": "hecatia-elegua", "email": "108802164+hecatia-elegua@users.noreply.github.com", "date": "2023-04-05T17:35:21Z"}, "committer": {"name": "hecatia-elegua", "email": "108802164+hecatia-elegua@users.noreply.github.com", "date": "2023-04-05T17:35:21Z"}, "message": "Add doc(alias)-based function name completion", "tree": {"sha": "bde454c2f2698b8ea743d89e81c2b8591fbad824", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bde454c2f2698b8ea743d89e81c2b8591fbad824"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f87f468dbdba374b5e2b04b832ab99dbd74dc288", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f87f468dbdba374b5e2b04b832ab99dbd74dc288", "html_url": "https://github.com/rust-lang/rust/commit/f87f468dbdba374b5e2b04b832ab99dbd74dc288", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f87f468dbdba374b5e2b04b832ab99dbd74dc288/comments", "author": {"login": "hecatia-elegua", "id": 108802164, "node_id": "U_kgDOBnwwdA", "avatar_url": "https://avatars.githubusercontent.com/u/108802164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hecatia-elegua", "html_url": "https://github.com/hecatia-elegua", "followers_url": "https://api.github.com/users/hecatia-elegua/followers", "following_url": "https://api.github.com/users/hecatia-elegua/following{/other_user}", "gists_url": "https://api.github.com/users/hecatia-elegua/gists{/gist_id}", "starred_url": "https://api.github.com/users/hecatia-elegua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hecatia-elegua/subscriptions", "organizations_url": "https://api.github.com/users/hecatia-elegua/orgs", "repos_url": "https://api.github.com/users/hecatia-elegua/repos", "events_url": "https://api.github.com/users/hecatia-elegua/events{/privacy}", "received_events_url": "https://api.github.com/users/hecatia-elegua/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hecatia-elegua", "id": 108802164, "node_id": "U_kgDOBnwwdA", "avatar_url": "https://avatars.githubusercontent.com/u/108802164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hecatia-elegua", "html_url": "https://github.com/hecatia-elegua", "followers_url": "https://api.github.com/users/hecatia-elegua/followers", "following_url": "https://api.github.com/users/hecatia-elegua/following{/other_user}", "gists_url": "https://api.github.com/users/hecatia-elegua/gists{/gist_id}", "starred_url": "https://api.github.com/users/hecatia-elegua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hecatia-elegua/subscriptions", "organizations_url": "https://api.github.com/users/hecatia-elegua/orgs", "repos_url": "https://api.github.com/users/hecatia-elegua/repos", "events_url": "https://api.github.com/users/hecatia-elegua/events{/privacy}", "received_events_url": "https://api.github.com/users/hecatia-elegua/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "410acd7188a5efb99f8629c7ff0630ce4935350a", "url": "https://api.github.com/repos/rust-lang/rust/commits/410acd7188a5efb99f8629c7ff0630ce4935350a", "html_url": "https://github.com/rust-lang/rust/commit/410acd7188a5efb99f8629c7ff0630ce4935350a"}], "stats": {"total": 47, "additions": 47, "deletions": 0}, "files": [{"sha": "bfcd23280ce305c44ec1462e13c4a762c40d39f0", "filename": "crates/ide-completion/src/render/function.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f87f468dbdba374b5e2b04b832ab99dbd74dc288/crates%2Fide-completion%2Fsrc%2Frender%2Ffunction.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f87f468dbdba374b5e2b04b832ab99dbd74dc288/crates%2Fide-completion%2Fsrc%2Frender%2Ffunction.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-completion%2Fsrc%2Frender%2Ffunction.rs?ref=f87f468dbdba374b5e2b04b832ab99dbd74dc288", "patch": "@@ -147,6 +147,8 @@ fn render(\n             }\n         }\n     }\n+\n+    item.doc_aliases(ctx.doc_aliases);\n     item\n }\n "}, {"sha": "8d9bd4ba1a0fba4447935205418ff434bed97ae4", "filename": "crates/ide-completion/src/tests/special.rs", "status": "modified", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/rust-lang/rust/blob/f87f468dbdba374b5e2b04b832ab99dbd74dc288/crates%2Fide-completion%2Fsrc%2Ftests%2Fspecial.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f87f468dbdba374b5e2b04b832ab99dbd74dc288/crates%2Fide-completion%2Fsrc%2Ftests%2Fspecial.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-completion%2Fsrc%2Ftests%2Fspecial.rs?ref=f87f468dbdba374b5e2b04b832ab99dbd74dc288", "patch": "@@ -1105,3 +1105,48 @@ fn here_we_go() {\n         \"#]],\n     );\n }\n+\n+#[test]\n+fn completes_fn_name_via_doc_alias_in_fn_body() {\n+    check(\n+        r#\"\n+#[doc(alias = \"qux\")]\n+fn foo() {}\n+fn bar() { qu$0 }\n+\"#,\n+        expect![[r#\"\n+            fn bar()             fn()\n+            fn foo() (alias qux) fn()\n+            bt u32\n+            kw const\n+            kw crate::\n+            kw enum\n+            kw extern\n+            kw false\n+            kw fn\n+            kw for\n+            kw if\n+            kw if let\n+            kw impl\n+            kw let\n+            kw loop\n+            kw match\n+            kw mod\n+            kw return\n+            kw self::\n+            kw static\n+            kw struct\n+            kw trait\n+            kw true\n+            kw type\n+            kw union\n+            kw unsafe\n+            kw use\n+            kw while\n+            kw while let\n+            sn macro_rules\n+            sn pd\n+            sn ppd\n+        \"#]],\n+    );\n+}"}]}