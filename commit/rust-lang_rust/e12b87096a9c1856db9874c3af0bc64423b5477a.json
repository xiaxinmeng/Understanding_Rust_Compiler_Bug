{"sha": "e12b87096a9c1856db9874c3af0bc64423b5477a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUxMmI4NzA5NmE5YzE4NTZkYjk4NzRjM2FmMGJjNjQ0MjNiNTQ3N2E=", "commit": {"author": {"name": "Michael Hewson", "email": "mah957@gmail.com", "date": "2017-05-11T22:59:48Z"}, "committer": {"name": "Matt Peterson", "email": "ricochet1k@gmail.com", "date": "2017-12-28T16:32:05Z"}, "message": "replace parse_lifetime with expect_lifetime\nmade `parser::Parser::expect_lifetime` public, so it can be called from `macro_parser::parse_nt`", "tree": {"sha": "a44154701cb6ffb810abc86a6f0a4e6399d1cd17", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a44154701cb6ffb810abc86a6f0a4e6399d1cd17"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e12b87096a9c1856db9874c3af0bc64423b5477a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e12b87096a9c1856db9874c3af0bc64423b5477a", "html_url": "https://github.com/rust-lang/rust/commit/e12b87096a9c1856db9874c3af0bc64423b5477a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e12b87096a9c1856db9874c3af0bc64423b5477a/comments", "author": {"login": "mikeyhew", "id": 6751033, "node_id": "MDQ6VXNlcjY3NTEwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/6751033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeyhew", "html_url": "https://github.com/mikeyhew", "followers_url": "https://api.github.com/users/mikeyhew/followers", "following_url": "https://api.github.com/users/mikeyhew/following{/other_user}", "gists_url": "https://api.github.com/users/mikeyhew/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeyhew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeyhew/subscriptions", "organizations_url": "https://api.github.com/users/mikeyhew/orgs", "repos_url": "https://api.github.com/users/mikeyhew/repos", "events_url": "https://api.github.com/users/mikeyhew/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeyhew/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ricochet1k", "id": 76901, "node_id": "MDQ6VXNlcjc2OTAx", "avatar_url": "https://avatars.githubusercontent.com/u/76901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ricochet1k", "html_url": "https://github.com/ricochet1k", "followers_url": "https://api.github.com/users/ricochet1k/followers", "following_url": "https://api.github.com/users/ricochet1k/following{/other_user}", "gists_url": "https://api.github.com/users/ricochet1k/gists{/gist_id}", "starred_url": "https://api.github.com/users/ricochet1k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ricochet1k/subscriptions", "organizations_url": "https://api.github.com/users/ricochet1k/orgs", "repos_url": "https://api.github.com/users/ricochet1k/repos", "events_url": "https://api.github.com/users/ricochet1k/events{/privacy}", "received_events_url": "https://api.github.com/users/ricochet1k/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "03a51019a40c1c5e2ab1635f993fc71517d1edc2", "url": "https://api.github.com/repos/rust-lang/rust/commits/03a51019a40c1c5e2ab1635f993fc71517d1edc2", "html_url": "https://github.com/rust-lang/rust/commit/03a51019a40c1c5e2ab1635f993fc71517d1edc2"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "124477620c27fea7de75b7c3fbdca7af39c693f8", "filename": "src/libsyntax/ext/tt/macro_parser.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e12b87096a9c1856db9874c3af0bc64423b5477a/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_parser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e12b87096a9c1856db9874c3af0bc64423b5477a/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_parser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_parser.rs?ref=e12b87096a9c1856db9874c3af0bc64423b5477a", "patch": "@@ -603,7 +603,7 @@ fn parse_nt<'a>(p: &mut Parser<'a>, sp: Span, name: &str) -> Nonterminal {\n         \"path\" => token::NtPath(panictry!(p.parse_path_common(PathStyle::Type, false))),\n         \"meta\" => token::NtMeta(panictry!(p.parse_meta_item())),\n         \"vis\" => token::NtVis(panictry!(p.parse_visibility(true))),\n-        \"lifetime\" => token::NtLifetime(panictry!(p.parse_lifetime())),\n+        \"lifetime\" => token::NtLifetime(p.expect_lifetime()),\n         // this is not supposed to happen, since it has been checked\n         // when compiling the macro.\n         _ => p.span_bug(sp, \"invalid fragment specifier\")"}, {"sha": "29f0e2a0fee4e3915faea3fbe14394d405c731f9", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e12b87096a9c1856db9874c3af0bc64423b5477a/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e12b87096a9c1856db9874c3af0bc64423b5477a/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=e12b87096a9c1856db9874c3af0bc64423b5477a", "patch": "@@ -2031,7 +2031,7 @@ impl<'a> Parser<'a> {\n     }\n \n     /// Parse single lifetime 'a or panic.\n-    fn expect_lifetime(&mut self) -> Lifetime {\n+    pub fn expect_lifetime(&mut self) -> Lifetime {\n         match self.token {\n             token::Lifetime(ident) => {\n                 let ident_span = self.span;"}]}