{"sha": "6cd2e04bd2a703c335566224e8b6bf773b83c0c6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZjZDJlMDRiZDJhNzAzYzMzNTU2NjIyNGU4YjZiZjc3M2I4M2MwYzY=", "commit": {"author": {"name": "Mikhail Rakhmanov", "email": "rakhmanov.m@gmail.com", "date": "2020-06-03T17:33:57Z"}, "committer": {"name": "Mikhail Rakhmanov", "email": "rakhmanov.m@gmail.com", "date": "2020-06-03T17:33:57Z"}, "message": "Fix more comments", "tree": {"sha": "8327b508541f80ff539c2b13559e7f2df2fe4d6b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8327b508541f80ff539c2b13559e7f2df2fe4d6b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6cd2e04bd2a703c335566224e8b6bf773b83c0c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6cd2e04bd2a703c335566224e8b6bf773b83c0c6", "html_url": "https://github.com/rust-lang/rust/commit/6cd2e04bd2a703c335566224e8b6bf773b83c0c6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6cd2e04bd2a703c335566224e8b6bf773b83c0c6/comments", "author": {"login": "mcrakhman", "id": 16068868, "node_id": "MDQ6VXNlcjE2MDY4ODY4", "avatar_url": "https://avatars.githubusercontent.com/u/16068868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcrakhman", "html_url": "https://github.com/mcrakhman", "followers_url": "https://api.github.com/users/mcrakhman/followers", "following_url": "https://api.github.com/users/mcrakhman/following{/other_user}", "gists_url": "https://api.github.com/users/mcrakhman/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcrakhman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcrakhman/subscriptions", "organizations_url": "https://api.github.com/users/mcrakhman/orgs", "repos_url": "https://api.github.com/users/mcrakhman/repos", "events_url": "https://api.github.com/users/mcrakhman/events{/privacy}", "received_events_url": "https://api.github.com/users/mcrakhman/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mcrakhman", "id": 16068868, "node_id": "MDQ6VXNlcjE2MDY4ODY4", "avatar_url": "https://avatars.githubusercontent.com/u/16068868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcrakhman", "html_url": "https://github.com/mcrakhman", "followers_url": "https://api.github.com/users/mcrakhman/followers", "following_url": "https://api.github.com/users/mcrakhman/following{/other_user}", "gists_url": "https://api.github.com/users/mcrakhman/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcrakhman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcrakhman/subscriptions", "organizations_url": "https://api.github.com/users/mcrakhman/orgs", "repos_url": "https://api.github.com/users/mcrakhman/repos", "events_url": "https://api.github.com/users/mcrakhman/events{/privacy}", "received_events_url": "https://api.github.com/users/mcrakhman/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6a0083a519680e8d16bde5d7c1940c8dd6d4e9d4", "url": "https://api.github.com/repos/rust-lang/rust/commits/6a0083a519680e8d16bde5d7c1940c8dd6d4e9d4", "html_url": "https://github.com/rust-lang/rust/commit/6a0083a519680e8d16bde5d7c1940c8dd6d4e9d4"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "6acf80c5827f86c48c46042577404915c02e1382", "filename": "crates/rust-analyzer/src/main_loop/handlers.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6cd2e04bd2a703c335566224e8b6bf773b83c0c6/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6cd2e04bd2a703c335566224e8b6bf773b83c0c6/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs?ref=6cd2e04bd2a703c335566224e8b6bf773b83c0c6", "patch": "@@ -25,7 +25,7 @@ use ra_project_model::TargetKind;\n use ra_syntax::{AstNode, SyntaxKind, TextRange, TextSize};\n use serde::{Deserialize, Serialize};\n use serde_json::to_value;\n-use stdx::format_to;\n+use stdx::{format_to, split1};\n \n use crate::{\n     cargo_target_spec::CargoTargetSpec,\n@@ -786,11 +786,10 @@ pub fn handle_resolve_code_action(\n     let frange = FileRange { file_id, range };\n \n     let assists = snap.analysis().resolved_assists(&snap.config.assist, frange)?;\n-    let id_components = params.id.split(\":\").collect::<Vec<&str>>();\n-    let index = id_components.last().unwrap().parse::<usize>().unwrap();\n-    let id_string = id_components.first().unwrap();\n+    let (id_string, index) = split1(&params.id, ':').unwrap();\n+    let index = index.parse::<usize>().unwrap();\n     let assist = &assists[index];\n-    assert!(assist.assist.id.0 == *id_string);\n+    assert!(assist.assist.id.0 == id_string);\n     Ok(to_proto::resolved_code_action(&snap, assist.clone())?.edit)\n }\n "}]}