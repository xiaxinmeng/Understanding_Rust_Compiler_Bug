{"sha": "089682611f055ca6315e2229e5ed29be3d2b41c8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA4OTY4MjYxMWYwNTVjYTYzMTVlMjIyOWU1ZWQyOWJlM2QyYjQxYzg=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-01-07T21:28:47Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-01-07T21:28:47Z"}, "message": "Auto merge of #38781 - SimonSapin:unishrink, r=alexcrichton\n\nReduce the size of static data in std_unicode::tables\n\n`BoolTrie` works well for sets of code points spread out through most of Unicode\u2019s range, but is uses a lot of space for sets with few, mostly low, code points.\n\nThis switches a few of its instances to a similar but simpler trie data structure.\n\nCC @raphlinus, who wrote the original `BoolTrie`.\n\n## Before\n\n`size_of::<BoolTrie>()` is 1552, which is added to `table.r3.len() * 8 + t.r5.len() + t.r6.len() * 8`:\n\n* `Cc_table`: 1632\n* `White_Space_table`: 1656\n* `Pattern_White_Space_table`: 1640\n* Total: 4928 bytes\n\n## After\n\n`size_of::<SmallBoolTrie>()` is 32, which is added to `t.r1.len() + t.r2.len() * 8`:\n\n* `Cc_table`: 51\n* `White_Space_table`: 273\n* `Pattern_White_Space_table`: 193\n* Total: 517 bytes\n\n## Difference\n\nEvery Rust program with `std` statically linked should be about 4 KB smaller.", "tree": {"sha": "f591e410c587ed49234a0e6b086de0a5be791f64", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f591e410c587ed49234a0e6b086de0a5be791f64"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/089682611f055ca6315e2229e5ed29be3d2b41c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/089682611f055ca6315e2229e5ed29be3d2b41c8", "html_url": "https://github.com/rust-lang/rust/commit/089682611f055ca6315e2229e5ed29be3d2b41c8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/089682611f055ca6315e2229e5ed29be3d2b41c8/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b97b60521199c9232cb42bbba87d53568fb29841", "url": "https://api.github.com/repos/rust-lang/rust/commits/b97b60521199c9232cb42bbba87d53568fb29841", "html_url": "https://github.com/rust-lang/rust/commit/b97b60521199c9232cb42bbba87d53568fb29841"}, {"sha": "3b208d2dac15237a46eb82c03bcc70a2b1165d20", "url": "https://api.github.com/repos/rust-lang/rust/commits/3b208d2dac15237a46eb82c03bcc70a2b1165d20", "html_url": "https://github.com/rust-lang/rust/commit/3b208d2dac15237a46eb82c03bcc70a2b1165d20"}], "stats": {"total": 337, "additions": 110, "deletions": 227}, "files": [{"sha": "8b141416e4f632b1188d801c108a418f731803fa", "filename": ".gitignore", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/089682611f055ca6315e2229e5ed29be3d2b41c8/.gitignore", "raw_url": "https://github.com/rust-lang/rust/raw/089682611f055ca6315e2229e5ed29be3d2b41c8/.gitignore", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.gitignore?ref=089682611f055ca6315e2229e5ed29be3d2b41c8", "patch": "@@ -73,12 +73,13 @@ __pycache__/\n /obj/\n /rt/\n /rustllvm/\n-/src/libunicode/DerivedCoreProperties.txt\n-/src/libunicode/EastAsianWidth.txt\n-/src/libunicode/HangulSyllableType.txt\n-/src/libunicode/PropList.txt\n-/src/libunicode/Scripts.txt\n-/src/libunicode/UnicodeData.txt\n+/src/libstd_unicode/DerivedCoreProperties.txt\n+/src/libstd_unicode/DerivedNormalizationProps.txt\n+/src/libstd_unicode/PropList.txt\n+/src/libstd_unicode/ReadMe.txt\n+/src/libstd_unicode/Scripts.txt\n+/src/libstd_unicode/SpecialCasing.txt\n+/src/libstd_unicode/UnicodeData.txt\n /stage[0-9]+/\n /target\n /test/"}, {"sha": "e5389c112e81170057688808023024651a3d2912", "filename": "src/etc/unicode.py", "status": "modified", "additions": 58, "deletions": 13, "changes": 71, "blob_url": "https://github.com/rust-lang/rust/blob/089682611f055ca6315e2229e5ed29be3d2b41c8/src%2Fetc%2Funicode.py", "raw_url": "https://github.com/rust-lang/rust/raw/089682611f055ca6315e2229e5ed29be3d2b41c8/src%2Fetc%2Funicode.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Funicode.py?ref=089682611f055ca6315e2229e5ed29be3d2b41c8", "patch": "@@ -23,10 +23,7 @@\n # Since this should not require frequent updates, we just store this\n # out-of-line and check the unicode.rs file into git.\n \n-import fileinput, re, os, sys, operator\n-\n-bytes_old = 0\n-bytes_new = 0\n+import fileinput, re, os, sys, operator, math\n \n preamble = '''// Copyright 2012-2016 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n@@ -362,7 +359,23 @@ def emit_trie_lookup_range_table(f):\n         let leaf = r.r5[((child as usize) << 6) + ((c >> 6) & 0x3f)];\n         trie_range_leaf(c, r.r6[leaf as usize])\n     }\n-}\\n\n+}\n+\n+pub struct SmallBoolTrie {\n+    r1: &'static [u8],  // first level\n+    r2: &'static [u64],  // leaves\n+}\n+\n+impl SmallBoolTrie {\n+    fn lookup(&self, c: char) -> bool {\n+        let c = c as usize;\n+        match self.r1.get(c >> 6) {\n+            Some(&child) => trie_range_leaf(c, self.r2[child as usize]),\n+            None => false,\n+        }\n+    }\n+}\n+\n \"\"\")\n \n def compute_trie(rawdata, chunksize):\n@@ -379,8 +392,6 @@ def compute_trie(rawdata, chunksize):\n     return (root, child_data)\n \n def emit_bool_trie(f, name, t_data, is_pub=True):\n-    global bytes_old, bytes_new\n-    bytes_old += 8 * len(t_data)\n     CHUNK = 64\n     rawdata = [False] * 0x110000\n     for (lo, hi) in t_data:\n@@ -433,15 +444,50 @@ def emit_bool_trie(f, name, t_data, is_pub=True):\n     f.write(\"\\n        ],\\n\")\n \n     f.write(\"    };\\n\\n\")\n-    bytes_new += 256 + 992 + 256 + 8 * len(r3) + len(r5) + 8 * len(r6)\n+\n+def emit_small_bool_trie(f, name, t_data, is_pub=True):\n+    last_chunk = max(int(hi / 64) for (lo, hi) in t_data)\n+    n_chunks = last_chunk + 1\n+    chunks = [0] * n_chunks\n+    for (lo, hi) in t_data:\n+        for cp in range(lo, hi + 1):\n+            if int(cp / 64) >= len(chunks):\n+                print(cp, int(cp / 64), len(chunks), lo, hi)\n+            chunks[int(cp / 64)] |= 1 << (cp & 63)\n+\n+    pub_string = \"\"\n+    if is_pub:\n+        pub_string = \"pub \"\n+    f.write(\"    %sconst %s: &'static super::SmallBoolTrie = &super::SmallBoolTrie {\\n\"\n+            % (pub_string, name))\n+\n+    (r1, r2) = compute_trie(chunks, 1)\n+\n+    f.write(\"        r1: &[\\n\")\n+    data = ','.join(str(node) for node in r1)\n+    format_table_content(f, data, 12)\n+    f.write(\"\\n        ],\\n\")\n+\n+    f.write(\"        r2: &[\\n\")\n+    data = ','.join('0x%016x' % node for node in r2)\n+    format_table_content(f, data, 12)\n+    f.write(\"\\n        ],\\n\")\n+\n+    f.write(\"    };\\n\\n\")\n \n def emit_property_module(f, mod, tbl, emit):\n     f.write(\"pub mod %s {\\n\" % mod)\n     for cat in sorted(emit):\n-        emit_bool_trie(f, \"%s_table\" % cat, tbl[cat])\n-        f.write(\"    pub fn %s(c: char) -> bool {\\n\" % cat)\n-        f.write(\"        super::trie_lookup_range_table(c, %s_table)\\n\" % cat)\n-        f.write(\"    }\\n\\n\")\n+        if cat in [\"Cc\", \"White_Space\", \"Pattern_White_Space\"]:\n+            emit_small_bool_trie(f, \"%s_table\" % cat, tbl[cat])\n+            f.write(\"    pub fn %s(c: char) -> bool {\\n\" % cat)\n+            f.write(\"        %s_table.lookup(c)\\n\" % cat)\n+            f.write(\"    }\\n\\n\")\n+        else:\n+            emit_bool_trie(f, \"%s_table\" % cat, tbl[cat])\n+            f.write(\"    pub fn %s(c: char) -> bool {\\n\" % cat)\n+            f.write(\"        super::trie_lookup_range_table(c, %s_table)\\n\" % cat)\n+            f.write(\"    }\\n\\n\")\n     f.write(\"}\\n\\n\")\n \n def emit_conversions_module(f, to_upper, to_lower, to_title):\n@@ -543,4 +589,3 @@ def emit_norm_module(f, canon, compat, combine, norm_props):\n         # normalizations and conversions module\n         emit_norm_module(rf, canon_decomp, compat_decomp, combines, norm_props)\n         emit_conversions_module(rf, to_upper, to_lower, to_title)\n-    #print 'bytes before = %d, bytes after = %d' % (bytes_old, bytes_new)"}, {"sha": "7a5667b96a50c744fcb3a728fbf047ff783f7ba9", "filename": "src/libstd_unicode/tables.rs", "status": "modified", "additions": 45, "deletions": 208, "changes": 253, "blob_url": "https://github.com/rust-lang/rust/blob/089682611f055ca6315e2229e5ed29be3d2b41c8/src%2Flibstd_unicode%2Ftables.rs", "raw_url": "https://github.com/rust-lang/rust/raw/089682611f055ca6315e2229e5ed29be3d2b41c8/src%2Flibstd_unicode%2Ftables.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd_unicode%2Ftables.rs?ref=089682611f055ca6315e2229e5ed29be3d2b41c8", "patch": "@@ -68,81 +68,33 @@ fn trie_lookup_range_table(c: char, r: &'static BoolTrie) -> bool {\n     }\n }\n \n+pub struct SmallBoolTrie {\n+    r1: &'static [u8],  // first level\n+    r2: &'static [u64],  // leaves\n+}\n+\n+impl SmallBoolTrie {\n+    fn lookup(&self, c: char) -> bool {\n+        let c = c as usize;\n+        match self.r1.get(c >> 6) {\n+            Some(&child) => trie_range_leaf(c, self.r2[child as usize]),\n+            None => false,\n+        }\n+    }\n+}\n+\n pub mod general_category {\n-    pub const Cc_table: &'static super::BoolTrie = &super::BoolTrie {\n-        r1: [\n-            0x00000000ffffffff, 0x8000000000000000, 0x00000000ffffffff, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000\n+    pub const Cc_table: &'static super::SmallBoolTrie = &super::SmallBoolTrie {\n+        r1: &[\n+            0, 1, 0\n         ],\n-        r2: [\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0\n-        ],\n-        r3: &[\n-            0x0000000000000000\n-        ],\n-        r4: [\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n-        ],\n-        r5: &[\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0\n-        ],\n-        r6: &[\n-            0x0000000000000000\n+        r2: &[\n+            0x00000000ffffffff, 0x8000000000000000\n         ],\n     };\n \n     pub fn Cc(c: char) -> bool {\n-        super::trie_lookup_range_table(c, Cc_table)\n+        Cc_table.lookup(c)\n     }\n \n     pub const N_table: &'static super::BoolTrie = &super::BoolTrie {\n@@ -1193,156 +1145,41 @@ pub mod derived_property {\n }\n \n pub mod property {\n-    pub const Pattern_White_Space_table: &'static super::BoolTrie = &super::BoolTrie {\n-        r1: [\n-            0x0000000100003e00, 0x0000000000000000, 0x0000000000000020, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000\n-        ],\n-        r2: [\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0\n+    pub const Pattern_White_Space_table: &'static super::SmallBoolTrie = &super::SmallBoolTrie {\n+        r1: &[\n+            0, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n+            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n+            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n+            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n+            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3\n         ],\n-        r3: &[\n-            0x0000000000000000, 0x000003000000c000\n-        ],\n-        r4: [\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n-        ],\n-        r5: &[\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0\n-        ],\n-        r6: &[\n-            0x0000000000000000\n+        r2: &[\n+            0x0000000100003e00, 0x0000000000000000, 0x0000000000000020, 0x000003000000c000\n         ],\n     };\n \n     pub fn Pattern_White_Space(c: char) -> bool {\n-        super::trie_lookup_range_table(c, Pattern_White_Space_table)\n+        Pattern_White_Space_table.lookup(c)\n     }\n \n-    pub const White_Space_table: &'static super::BoolTrie = &super::BoolTrie {\n-        r1: [\n-            0x0000000100003e00, 0x0000000000000000, 0x0000000100000020, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000,\n-            0x0000000000000000, 0x0000000000000000, 0x0000000000000000, 0x0000000000000000\n-        ],\n-        r2: [\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0\n-        ],\n-        r3: &[\n-            0x0000000000000000, 0x0000000000000001, 0x00008300000007ff, 0x0000000080000000\n-        ],\n-        r4: [\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n-        ],\n-        r5: &[\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-            0, 0, 0, 0, 0, 0\n-        ],\n-        r6: &[\n-            0x0000000000000000\n+    pub const White_Space_table: &'static super::SmallBoolTrie = &super::SmallBoolTrie {\n+        r1: &[\n+            0, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n+            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n+            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n+            1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n+            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n+            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n+            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3\n+        ],\n+        r2: &[\n+            0x0000000100003e00, 0x0000000000000000, 0x0000000100000020, 0x0000000000000001,\n+            0x00008300000007ff, 0x0000000080000000\n         ],\n     };\n \n     pub fn White_Space(c: char) -> bool {\n-        super::trie_lookup_range_table(c, White_Space_table)\n+        White_Space_table.lookup(c)\n     }\n \n }"}]}