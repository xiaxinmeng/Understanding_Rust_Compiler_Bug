{"sha": "5be2b8964c624ee619d2f8518215d3a3b13514e1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViZTJiODk2NGM2MjRlZTYxOWQyZjg1MTgyMTVkM2EzYjEzNTE0ZTE=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-02-17T23:13:46Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-02-17T23:13:46Z"}, "message": "rollup merge of #22191: nagisa/target-ptr-width-json\n\nThis aligns json target specification to match terminology used elsewhere in the code base.\n\n[breaking-change] for custom target json users. Change all appearances of target-word-size\nto target-pointer-width.", "tree": {"sha": "9b2e9849aff66a3661c3b5543c798bdc1e9de2e8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9b2e9849aff66a3661c3b5543c798bdc1e9de2e8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5be2b8964c624ee619d2f8518215d3a3b13514e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5be2b8964c624ee619d2f8518215d3a3b13514e1", "html_url": "https://github.com/rust-lang/rust/commit/5be2b8964c624ee619d2f8518215d3a3b13514e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5be2b8964c624ee619d2f8518215d3a3b13514e1/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "311fc36a57575ce42cae77a8aed12e43459a0b92", "url": "https://api.github.com/repos/rust-lang/rust/commits/311fc36a57575ce42cae77a8aed12e43459a0b92", "html_url": "https://github.com/rust-lang/rust/commit/311fc36a57575ce42cae77a8aed12e43459a0b92"}, {"sha": "6f5944bfcff96509e3f3de227570382056153392", "url": "https://api.github.com/repos/rust-lang/rust/commits/6f5944bfcff96509e3f3de227570382056153392", "html_url": "https://github.com/rust-lang/rust/commit/6f5944bfcff96509e3f3de227570382056153392"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "5768539b2cd76fe5502a20598bc5e1bee9ace8c4", "filename": "src/librustc/session/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5be2b8964c624ee619d2f8518215d3a3b13514e1/src%2Flibrustc%2Fsession%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5be2b8964c624ee619d2f8518215d3a3b13514e1/src%2Flibrustc%2Fsession%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fconfig.rs?ref=5be2b8964c624ee619d2f8518215d3a3b13514e1", "patch": "@@ -645,7 +645,7 @@ pub fn build_target_config(opts: &Options, sp: &SpanHandler) -> Config {\n         \"32\" => (ast::TyI32, ast::TyU32),\n         \"64\" => (ast::TyI64, ast::TyU64),\n         w    => sp.handler().fatal(&format!(\"target specification was invalid: unrecognized \\\n-                                            target-word-size {}\", w)[])\n+                                             target-pointer-width {}\", w)[])\n     };\n \n     Config {"}, {"sha": "d68b04176a5d0a2b2229a544842de17195771d09", "filename": "src/librustc_back/target/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5be2b8964c624ee619d2f8518215d3a3b13514e1/src%2Flibrustc_back%2Ftarget%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5be2b8964c624ee619d2f8518215d3a3b13514e1/src%2Flibrustc_back%2Ftarget%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fmod.rs?ref=5be2b8964c624ee619d2f8518215d3a3b13514e1", "patch": "@@ -40,7 +40,7 @@\n //! this module defines the format the JSON file should take, though each\n //! underscore in the field names should be replaced with a hyphen (`-`) in the\n //! JSON file. Some fields are required in every target specification, such as\n-//! `data-layout`, `llvm-target`, `target-endian`, `target-word-size`, and\n+//! `data-layout`, `llvm-target`, `target-endian`, `target-pointer-width`, and\n //! `arch`. In general, options passed to rustc with `-C` override the target's\n //! settings, though `target-feature` and `link-args` will *add* to the list\n //! specified by the target, rather than replace.\n@@ -241,7 +241,7 @@ impl Target {\n             data_layout: get_req_field(\"data-layout\"),\n             llvm_target: get_req_field(\"llvm-target\"),\n             target_endian: get_req_field(\"target-endian\"),\n-            target_pointer_width: get_req_field(\"target-word-size\"),\n+            target_pointer_width: get_req_field(\"target-pointer-width\"),\n             arch: get_req_field(\"arch\"),\n             target_os: get_req_field(\"os\"),\n             options: Default::default(),"}, {"sha": "d7cf7131d73813870609332b89e25813e1b08842", "filename": "src/test/run-make/target-specs/my-awesome-platform.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5be2b8964c624ee619d2f8518215d3a3b13514e1/src%2Ftest%2Frun-make%2Ftarget-specs%2Fmy-awesome-platform.json", "raw_url": "https://github.com/rust-lang/rust/raw/5be2b8964c624ee619d2f8518215d3a3b13514e1/src%2Ftest%2Frun-make%2Ftarget-specs%2Fmy-awesome-platform.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Ftarget-specs%2Fmy-awesome-platform.json?ref=5be2b8964c624ee619d2f8518215d3a3b13514e1", "patch": "@@ -2,7 +2,7 @@\n     \"data-layout\": \"e-p:32:32-f64:32:64-i64:32:64-f80:32:32-n8:16:32\",\n     \"llvm-target\": \"i686-unknown-linux-gnu\",\n     \"target-endian\": \"little\",\n-    \"target-word-size\": \"32\",\n+    \"target-pointer-width\": \"32\",\n     \"arch\": \"x86\",\n     \"os\": \"linux\",\n     \"morestack\": false"}, {"sha": "053f2dd63358a9b9e832e5dbaaf7831e5752b445", "filename": "src/test/run-make/target-specs/my-incomplete-platform.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5be2b8964c624ee619d2f8518215d3a3b13514e1/src%2Ftest%2Frun-make%2Ftarget-specs%2Fmy-incomplete-platform.json", "raw_url": "https://github.com/rust-lang/rust/raw/5be2b8964c624ee619d2f8518215d3a3b13514e1/src%2Ftest%2Frun-make%2Ftarget-specs%2Fmy-incomplete-platform.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Ftarget-specs%2Fmy-incomplete-platform.json?ref=5be2b8964c624ee619d2f8518215d3a3b13514e1", "patch": "@@ -1,7 +1,7 @@\n {\n     \"data-layout\": \"e-p:32:32-f64:32:64-i64:32:64-f80:32:32-n8:16:32\",\n     \"target-endian\": \"little\",\n-    \"target-word-size\": \"32\",\n+    \"target-pointer-width\": \"32\",\n     \"arch\": \"x86\",\n     \"os\": \"foo\",\n     \"morestack\": false"}, {"sha": "688bbe46bfaf0593b6df26e2a1035ee0952ee272", "filename": "src/test/run-make/target-specs/x86_64-unknown-linux-gnu.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5be2b8964c624ee619d2f8518215d3a3b13514e1/src%2Ftest%2Frun-make%2Ftarget-specs%2Fx86_64-unknown-linux-gnu.json", "raw_url": "https://github.com/rust-lang/rust/raw/5be2b8964c624ee619d2f8518215d3a3b13514e1/src%2Ftest%2Frun-make%2Ftarget-specs%2Fx86_64-unknown-linux-gnu.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Ftarget-specs%2Fx86_64-unknown-linux-gnu.json?ref=5be2b8964c624ee619d2f8518215d3a3b13514e1", "patch": "@@ -3,7 +3,7 @@\n     \"data-layout\": \"e-p:64:64:64-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-f32:32:32-f64:64:64-v64:64:64-v128:128:128-a0:0:64-s0:64:64-f80:128:128-n8:16:32:64-S128\",\n     \"llvm-target\": \"x86_64-unknown-linux-gnu\",\n     \"target-endian\": \"little\",\n-    \"target-word-size\": \"64\",\n+    \"target-pointer-width\": \"64\",\n     \"arch\": \"x86_64\",\n     \"os\": \"linux\",\n     \"morestack\": false"}]}