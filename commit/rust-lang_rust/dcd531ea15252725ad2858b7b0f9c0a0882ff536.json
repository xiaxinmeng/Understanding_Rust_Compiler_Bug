{"sha": "dcd531ea15252725ad2858b7b0f9c0a0882ff536", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRjZDUzMWVhMTUyNTI3MjVhZDI4NThiN2IwZjljMGEwODgyZmY1MzY=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-03-28T07:43:32Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-03-28T07:43:32Z"}, "message": "Rollup merge of #59198 - estebank:recovered-pattern, r=zackmdavis\n\nDo not complain about unmentioned fields in recovered patterns\n\nWhen the parser has to recover from malformed code in a pattern, do not\ncomplain about missing fields.\n\nFix #59145.", "tree": {"sha": "3209ea4d9e1f3324ffd5ebd8b4ccd79e634c3e8a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3209ea4d9e1f3324ffd5ebd8b4ccd79e634c3e8a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dcd531ea15252725ad2858b7b0f9c0a0882ff536", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcnHskCRBK7hj4Ov3rIwAAdHIIACX/60snzwXN+omaevkfxrCw\nkDqea9jsbI//5CVFZP53GYUEqg8NZxspT94mPSodf1qW+26opQiZLXYJBj7Vt5tt\nLea2v/vK4ut1Y4h1ZL40idS7nrdiO3ktVbZLRjIHCafPftVZWMG99kCPOdQN4qTb\nwp6WQ87sB1o327noyMl0SHFXphDejXDMbtPtFcoFHq+PSJ0T4dzT/zy4c9e1m7MO\nd1UYV0xN/8GCGpiKUwKur26B8pI6AcTUsvKkEF/r4WN4ac+6wfdNqcBWxik+frtA\nxos9xlqH7mEIP4ToxRSNm21cmg/qJr/B0j0fyuirZjc9uxTfXkzlF6lyn8KwrTo=\n=/GBL\n-----END PGP SIGNATURE-----\n", "payload": "tree 3209ea4d9e1f3324ffd5ebd8b4ccd79e634c3e8a\nparent 20f063a9398ea3966947577059aa1ba60b6b8e0a\nparent 6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1553759012 +0100\ncommitter GitHub <noreply@github.com> 1553759012 +0100\n\nRollup merge of #59198 - estebank:recovered-pattern, r=zackmdavis\n\nDo not complain about unmentioned fields in recovered patterns\n\nWhen the parser has to recover from malformed code in a pattern, do not\ncomplain about missing fields.\n\nFix #59145.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dcd531ea15252725ad2858b7b0f9c0a0882ff536", "html_url": "https://github.com/rust-lang/rust/commit/dcd531ea15252725ad2858b7b0f9c0a0882ff536", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dcd531ea15252725ad2858b7b0f9c0a0882ff536/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "20f063a9398ea3966947577059aa1ba60b6b8e0a", "url": "https://api.github.com/repos/rust-lang/rust/commits/20f063a9398ea3966947577059aa1ba60b6b8e0a", "html_url": "https://github.com/rust-lang/rust/commit/20f063a9398ea3966947577059aa1ba60b6b8e0a"}, {"sha": "6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "url": "https://api.github.com/repos/rust-lang/rust/commits/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12", "html_url": "https://github.com/rust-lang/rust/commit/6cd6759cfcb9794dba4cc2a5a1fae6ae63706d12"}], "stats": {"total": 33, "additions": 5, "deletions": 28}, "files": [{"sha": "79c1f0cb4cc3cf759b8afa5d3d14079a544d5ee6", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=dcd531ea15252725ad2858b7b0f9c0a0882ff536", "patch": "@@ -4734,7 +4734,7 @@ impl<'a> Parser<'a> {\n                         let (fields, etc) = self.parse_pat_fields().unwrap_or_else(|mut e| {\n                             e.emit();\n                             self.recover_stmt();\n-                            (vec![], false)\n+                            (vec![], true)\n                         });\n                         self.bump();\n                         pat = PatKind::Struct(path, fields, etc);"}, {"sha": "c4b1937de104f491516280e2ec8e857cbbb58474", "filename": "src/test/ui/parser/bind-struct-early-modifiers.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.rs?ref=dcd531ea15252725ad2858b7b0f9c0a0882ff536", "patch": "@@ -2,7 +2,6 @@ fn main() {\n     struct Foo { x: isize }\n     match (Foo { x: 10 }) {\n         Foo { ref x: ref x } => {}, //~ ERROR expected `,`\n-                                    //~| ERROR pattern does not mention field `x`\n         _ => {}\n     }\n }"}, {"sha": "03482a41f546597720f4a2f2348739ec7d4446d3", "filename": "src/test/ui/parser/bind-struct-early-modifiers.stderr", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fbind-struct-early-modifiers.stderr?ref=dcd531ea15252725ad2858b7b0f9c0a0882ff536", "patch": "@@ -4,12 +4,5 @@ error: expected `,`\n LL |         Foo { ref x: ref x } => {},\n    |                   ^\n \n-error[E0027]: pattern does not mention field `x`\n-  --> $DIR/bind-struct-early-modifiers.rs:4:9\n-   |\n-LL |         Foo { ref x: ref x } => {},\n-   |         ^^^^^^^^^^^^^^^^^^^^ missing field `x`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0027`."}, {"sha": "5b0c2fc2be4076dc38007aaa4fba6cd1406df267", "filename": "src/test/ui/parser/issue-10392.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fparser%2Fissue-10392.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fparser%2Fissue-10392.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-10392.rs?ref=dcd531ea15252725ad2858b7b0f9c0a0882ff536", "patch": "@@ -4,5 +4,4 @@ fn a() -> A { panic!() }\n \n fn main() {\n     let A { , } = a(); //~ ERROR expected ident\n-                       //~| ERROR pattern does not mention field `foo`\n }"}, {"sha": "34991151c1eb63eafaa9a713eb8b4ea7e08df2f0", "filename": "src/test/ui/parser/issue-10392.stderr", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fparser%2Fissue-10392.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fparser%2Fissue-10392.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-10392.stderr?ref=dcd531ea15252725ad2858b7b0f9c0a0882ff536", "patch": "@@ -4,12 +4,5 @@ error: expected identifier, found `,`\n LL |     let A { , } = a();\n    |             ^ expected identifier\n \n-error[E0027]: pattern does not mention field `foo`\n-  --> $DIR/issue-10392.rs:6:9\n-   |\n-LL |     let A { , } = a();\n-   |         ^^^^^^^ missing field `foo`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0027`."}, {"sha": "807c54393f29b55f99a7f6ab1ad141be834bcd66", "filename": "src/test/ui/resolve/issue-54379.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.rs?ref=dcd531ea15252725ad2858b7b0f9c0a0882ff536", "patch": "@@ -6,7 +6,7 @@ fn main() {\n     let thing = MyStruct { s1: None };\n \n     match thing {\n-        MyStruct { .., Some(_) } => {}, //~ ERROR pattern does not mention field `s1`\n+        MyStruct { .., Some(_) } => {},\n         //~^ ERROR expected `,`\n         //~| ERROR expected `}`, found `,`\n         _ => {}"}, {"sha": "2a6b54572de03eb955bfd7c81d011c1c27f6f510", "filename": "src/test/ui/resolve/issue-54379.stderr", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/dcd531ea15252725ad2858b7b0f9c0a0882ff536/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-54379.stderr?ref=dcd531ea15252725ad2858b7b0f9c0a0882ff536", "patch": "@@ -13,12 +13,5 @@ error: expected `,`\n LL |         MyStruct { .., Some(_) } => {},\n    |                        ^^^^\n \n-error[E0027]: pattern does not mention field `s1`\n-  --> $DIR/issue-54379.rs:9:9\n-   |\n-LL |         MyStruct { .., Some(_) } => {},\n-   |         ^^^^^^^^^^^^^^^^^^^^^^^^ missing field `s1`\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0027`."}]}