{"sha": "0649942a46d29a4782b4bfcce1c6fe006ad63dc6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA2NDk5NDJhNDZkMjlhNDc4MmI0YmZjY2UxYzZmZTAwNmFkNjNkYzY=", "commit": {"author": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-04-30T04:08:49Z"}, "committer": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-04-30T21:33:27Z"}, "message": "Panic on relowering an AST node with a cached node id", "tree": {"sha": "2111670b7249b4d52cf33aee137048a6245ecb90", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2111670b7249b4d52cf33aee137048a6245ecb90"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0649942a46d29a4782b4bfcce1c6fe006ad63dc6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0649942a46d29a4782b4bfcce1c6fe006ad63dc6", "html_url": "https://github.com/rust-lang/rust/commit/0649942a46d29a4782b4bfcce1c6fe006ad63dc6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0649942a46d29a4782b4bfcce1c6fe006ad63dc6/comments", "author": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b1dcf40f2a2e9e13fc9cb9fe2200841c6fa40f3", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b1dcf40f2a2e9e13fc9cb9fe2200841c6fa40f3", "html_url": "https://github.com/rust-lang/rust/commit/8b1dcf40f2a2e9e13fc9cb9fe2200841c6fa40f3"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "ea92cfd9ee0759d3ab7d0b2cd451e00995523893", "filename": "src/librustc/hir/lowering.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0649942a46d29a4782b4bfcce1c6fe006ad63dc6/src%2Flibrustc%2Fhir%2Flowering.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0649942a46d29a4782b4bfcce1c6fe006ad63dc6/src%2Flibrustc%2Fhir%2Flowering.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Flowering.rs?ref=0649942a46d29a4782b4bfcce1c6fe006ad63dc6", "patch": "@@ -213,6 +213,8 @@ fn cache_ids<'a, OP, R>(lctx: &LoweringContext, expr_id: NodeId, op: OP) -> R\n         let id_cache: &mut HashMap<_, _> = &mut lctx.id_cache.borrow_mut();\n \n         if id_cache.contains_key(&expr_id) {\n+            panic!(\"relowering!!!\");\n+            /*\n             let cached_id = lctx.cached_id.get();\n             if cached_id == 0 {\n                 // We're entering a node where we need to track ids, but are not\n@@ -224,6 +226,7 @@ fn cache_ids<'a, OP, R>(lctx: &LoweringContext, expr_id: NodeId, op: OP) -> R\n                 assert!(cached_id == id_cache[&expr_id], \"id mismatch\");\n             }\n             lctx.gensym_key.set(id_cache[&expr_id]);\n+            */\n         } else {\n             // We've never lowered this node before, remember it for next time.\n             let next_id = lctx.id_assigner.peek_node_id();"}]}