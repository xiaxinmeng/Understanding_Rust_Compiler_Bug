{"sha": "cb04275afa8c72a10ca5893de27dc0228d29ea8c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNiMDQyNzVhZmE4YzcyYTEwY2E1ODkzZGUyN2RjMDIyOGQyOWVhOGM=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-07-01T16:35:48Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-07-01T16:35:48Z"}, "message": "Add machine-dependent 'float' type.", "tree": {"sha": "311b929af7610673fa3a3ed7d1efbc4d2a08c5af", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/311b929af7610673fa3a3ed7d1efbc4d2a08c5af"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cb04275afa8c72a10ca5893de27dc0228d29ea8c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cb04275afa8c72a10ca5893de27dc0228d29ea8c", "html_url": "https://github.com/rust-lang/rust/commit/cb04275afa8c72a10ca5893de27dc0228d29ea8c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cb04275afa8c72a10ca5893de27dc0228d29ea8c/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "afc0dc8bfcc5d6fba1e907ab35c110fc074cad67", "url": "https://api.github.com/repos/rust-lang/rust/commits/afc0dc8bfcc5d6fba1e907ab35c110fc074cad67", "html_url": "https://github.com/rust-lang/rust/commit/afc0dc8bfcc5d6fba1e907ab35c110fc074cad67"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "47ee7cfbe56e4aee72eab7d83d22439c02efbcf5", "filename": "doc/rust.texi", "status": "modified", "additions": 18, "deletions": 4, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/cb04275afa8c72a10ca5893de27dc0228d29ea8c/doc%2Frust.texi", "raw_url": "https://github.com/rust-lang/rust/raw/cb04275afa8c72a10ca5893de27dc0228d29ea8c/doc%2Frust.texi", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Frust.texi?ref=cb04275afa8c72a10ca5893de27dc0228d29ea8c", "patch": "@@ -647,9 +647,10 @@ The keywords are:\n @tab @code{type}\n @tab @code{true}\n @tab @code{false}\n-@item @code{any}\n-@tab @code{int}\n+@tab @code{any}\n+@item @code{int}\n @tab @code{uint}\n+@tab @code{float}\n @tab @code{char}\n @tab @code{bool}\n @item @code{u8}\n@@ -1750,6 +1751,7 @@ Rust; they cannot be used as user-defined identifiers in any context.\n * Ref.Type.Any::                An open sum of every possible type.\n * Ref.Type.Mach::               Machine-level types.\n * Ref.Type.Int::                The machine-dependent integer types.\n+* Ref.Type.Float::              The machine-dependent floating-point types.\n * Ref.Type.Prim::               Primitive types.\n * Ref.Type.Big::                The arbitrary-precision integer type.\n * Ref.Type.Text::               Strings and characters.\n@@ -1842,9 +1844,21 @@ The Rust type @code{int}@footnote{A Rust @code{int} is analogous to a C99\n target-machine-dependent size. Its size, in bits, is equal to the size of the\n rust type @code{uint} on the same target machine.\n \n+@node       Ref.Type.Float\n+@subsection Ref.Type.Float\n+\n+The Rust type @code{float} is a machine-specific type equal to one of the\n+supported Rust floating-point machine types (@code{f32} or @code{f64}). It is\n+the largest floating-point type that is directly supported by hardware on the\n+target machine, or if the target machine has no floating-point hardware\n+support, the largest floating-point type supported by the software\n+floating-point library used to support the other floating-point machine types.\n+\n+Note that due to the preference for hardware-supported floating point, the\n+type @code{float} may not be equal to the largest @emph{supported}\n+floating-point type.\n \n \n-@page\n @node       Ref.Type.Prim\n @subsection Ref.Type.Prim\n \n@@ -1863,7 +1877,7 @@ The boolean type @code{bool} with values @code{true} and @code{false}.\n @item\n The machine types.\n @item\n-The machine-dependent integer types.\n+The machine-dependent integer and floating-point types.\n @end itemize\n \n "}, {"sha": "6430821de152fd4aa323f7c7fd84d9cec79167ff", "filename": "src/boot/fe/lexer.mll", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/cb04275afa8c72a10ca5893de27dc0228d29ea8c/src%2Fboot%2Ffe%2Flexer.mll", "raw_url": "https://github.com/rust-lang/rust/raw/cb04275afa8c72a10ca5893de27dc0228d29ea8c/src%2Fboot%2Ffe%2Flexer.mll", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Ffe%2Flexer.mll?ref=cb04275afa8c72a10ca5893de27dc0228d29ea8c", "patch": "@@ -79,6 +79,7 @@\n \n                 (\"int\", INT);\n                 (\"uint\", UINT);\n+                (\"float\", FLOAT);\n \n                 (\"char\", CHAR);\n                 (\"str\", STR);"}, {"sha": "446e5262a702de6f23e568c80a83806dec242f8a", "filename": "src/boot/fe/token.ml", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cb04275afa8c72a10ca5893de27dc0228d29ea8c/src%2Fboot%2Ffe%2Ftoken.ml", "raw_url": "https://github.com/rust-lang/rust/raw/cb04275afa8c72a10ca5893de27dc0228d29ea8c/src%2Fboot%2Ffe%2Ftoken.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Ffe%2Ftoken.ml?ref=cb04275afa8c72a10ca5893de27dc0228d29ea8c", "patch": "@@ -118,6 +118,7 @@ type token =\n   | BOOL\n   | INT\n   | UINT\n+  | FLOAT\n   | CHAR\n   | STR\n   | MACH          of Common.ty_mach\n@@ -267,6 +268,7 @@ let rec string_of_tok t =\n     | BOOL       -> \"bool\"\n     | INT        -> \"int\"\n     | UINT       -> \"uint\"\n+    | FLOAT      -> \"float\"\n     | CHAR       -> \"char\"\n     | STR        -> \"str\"\n     | MACH m     -> Common.string_of_ty_mach m"}]}