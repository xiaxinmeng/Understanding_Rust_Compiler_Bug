{"sha": "52a220cece729acb2f6c6fd40bda3964846eb7d2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUyYTIyMGNlY2U3MjlhY2IyZjZjNmZkNDBiZGEzOTY0ODQ2ZWI3ZDI=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-06-15T08:49:40Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-06-15T08:55:48Z"}, "message": "Deprecate hir::Path::from_ast", "tree": {"sha": "c7e19afee35f59750ddea5b2918ef6d3b7662028", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c7e19afee35f59750ddea5b2918ef6d3b7662028"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/52a220cece729acb2f6c6fd40bda3964846eb7d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/52a220cece729acb2f6c6fd40bda3964846eb7d2", "html_url": "https://github.com/rust-lang/rust/commit/52a220cece729acb2f6c6fd40bda3964846eb7d2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/52a220cece729acb2f6c6fd40bda3964846eb7d2/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5413a2f962aed7c602902ea7f4802b0e721c1551", "url": "https://api.github.com/repos/rust-lang/rust/commits/5413a2f962aed7c602902ea7f4802b0e721c1551", "html_url": "https://github.com/rust-lang/rust/commit/5413a2f962aed7c602902ea7f4802b0e721c1551"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "00fa95b6c3b456dcbb1394bd820b1573fee7cdf7", "filename": "crates/ra_assists/src/ast_transform.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/52a220cece729acb2f6c6fd40bda3964846eb7d2/crates%2Fra_assists%2Fsrc%2Fast_transform.rs", "raw_url": "https://github.com/rust-lang/rust/raw/52a220cece729acb2f6c6fd40bda3964846eb7d2/crates%2Fra_assists%2Fsrc%2Fast_transform.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fast_transform.rs?ref=52a220cece729acb2f6c6fd40bda3964846eb7d2", "patch": "@@ -106,6 +106,7 @@ impl<'a> SubstituteTypeParams<'a> {\n             _ => return None,\n         };\n         // FIXME: use `hir::Path::from_src` instead.\n+        #[allow(deprecated)]\n         let path = hir::Path::from_ast(path)?;\n         let resolution = self.source_scope.resolve_hir_path(&path)?;\n         match resolution {\n@@ -150,6 +151,7 @@ impl<'a> QualifyPaths<'a> {\n             return None;\n         }\n         // FIXME: use `hir::Path::from_src` instead.\n+        #[allow(deprecated)]\n         let hir_path = hir::Path::from_ast(p.clone());\n         let resolution = self.source_scope.resolve_hir_path(&hir_path?)?;\n         match resolution {"}, {"sha": "190d6d98d4bd223eac86029fe21cbf1a8fd3b184", "filename": "crates/ra_hir_def/src/path.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/52a220cece729acb2f6c6fd40bda3964846eb7d2/crates%2Fra_hir_def%2Fsrc%2Fpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/52a220cece729acb2f6c6fd40bda3964846eb7d2/crates%2Fra_hir_def%2Fsrc%2Fpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_def%2Fsrc%2Fpath.rs?ref=52a220cece729acb2f6c6fd40bda3964846eb7d2", "patch": "@@ -154,7 +154,7 @@ pub enum GenericArg {\n \n impl Path {\n     /// Converts an `ast::Path` to `Path`. Works with use trees.\n-    /// DEPRECATED: It does not handle `$crate` from macro call.\n+    #[deprecated = \"Doesn't handle hygiene, don't add new calls, remove old ones\"]\n     pub fn from_ast(path: ast::Path) -> Option<Path> {\n         lower::lower_path(path, &Hygiene::new_unhygienic())\n     }"}, {"sha": "560fb19e6a117709fe990099006c503266078285", "filename": "crates/ra_ide/src/completion/completion_context.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/52a220cece729acb2f6c6fd40bda3964846eb7d2/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs", "raw_url": "https://github.com/rust-lang/rust/raw/52a220cece729acb2f6c6fd40bda3964846eb7d2/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs?ref=52a220cece729acb2f6c6fd40bda3964846eb7d2", "patch": "@@ -381,6 +381,7 @@ impl<'a> CompletionContext<'a> {\n             self.is_path_type = path.syntax().parent().and_then(ast::PathType::cast).is_some();\n             self.has_type_args = segment.type_arg_list().is_some();\n \n+            #[allow(deprecated)]\n             if let Some(path) = hir::Path::from_ast(path.clone()) {\n                 if let Some(path_prefix) = path.qualifier() {\n                     self.path_prefix = Some(path_prefix);"}]}