{"sha": "a03da2bdeb7c7b466b7b4a9b361d1d19c171a589", "node_id": "C_kwDOAAsO6NoAKGEwM2RhMmJkZWI3YzdiNDY2YjdiNGE5YjM2MWQxZDE5YzE3MWE1ODk", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-02-09T19:45:01Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-02-10T13:44:54Z"}, "message": "Add test for implementation on projection", "tree": {"sha": "04d56dc48dc027ffb7d760f87cae90e816588dfc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/04d56dc48dc027ffb7d760f87cae90e816588dfc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a03da2bdeb7c7b466b7b4a9b361d1d19c171a589", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a03da2bdeb7c7b466b7b4a9b361d1d19c171a589", "html_url": "https://github.com/rust-lang/rust/commit/a03da2bdeb7c7b466b7b4a9b361d1d19c171a589", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a03da2bdeb7c7b466b7b4a9b361d1d19c171a589/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5919f62cf6681979cb5401d3907445f14d27ec8f", "url": "https://api.github.com/repos/rust-lang/rust/commits/5919f62cf6681979cb5401d3907445f14d27ec8f", "html_url": "https://github.com/rust-lang/rust/commit/5919f62cf6681979cb5401d3907445f14d27ec8f"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "f1ce317b3f78b584784ba3c1f6a09dd6dcb3c66a", "filename": "tests/ui/const-generics/wrong-normalization.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/a03da2bdeb7c7b466b7b4a9b361d1d19c171a589/tests%2Fui%2Fconst-generics%2Fwrong-normalization.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a03da2bdeb7c7b466b7b4a9b361d1d19c171a589/tests%2Fui%2Fconst-generics%2Fwrong-normalization.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fconst-generics%2Fwrong-normalization.rs?ref=a03da2bdeb7c7b466b7b4a9b361d1d19c171a589", "patch": "@@ -0,0 +1,19 @@\n+// This test ensures that if implementation on projections is supported,\n+// it doesn't end in very weird cycle error.\n+\n+#![crate_type = \"lib\"]\n+\n+pub trait Identity {\n+    type Identity: ?Sized;\n+}\n+\n+impl<T: ?Sized> Identity for T {\n+    type Identity = Self;\n+}\n+\n+pub struct I8<const F: i8>;\n+\n+impl <I8<{i8::MIN}> as Identity>::Identity {\n+//~^ ERROR no nominal type found for inherent implementation\n+    pub fn foo(&self) {}\n+}"}, {"sha": "fb806bdb1e7473996deef0ae86684acf15ace445", "filename": "tests/ui/const-generics/wrong-normalization.stderr", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/a03da2bdeb7c7b466b7b4a9b361d1d19c171a589/tests%2Fui%2Fconst-generics%2Fwrong-normalization.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a03da2bdeb7c7b466b7b4a9b361d1d19c171a589/tests%2Fui%2Fconst-generics%2Fwrong-normalization.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fconst-generics%2Fwrong-normalization.stderr?ref=a03da2bdeb7c7b466b7b4a9b361d1d19c171a589", "patch": "@@ -0,0 +1,11 @@\n+error[E0118]: no nominal type found for inherent implementation\n+  --> $DIR/wrong-normalization.rs:16:6\n+   |\n+LL | impl <I8<{i8::MIN}> as Identity>::Identity {\n+   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ impl requires a nominal type\n+   |\n+   = note: either implement a trait on it or create a newtype to wrap it instead\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0118`."}]}