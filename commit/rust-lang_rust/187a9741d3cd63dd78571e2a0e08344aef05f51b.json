{"sha": "187a9741d3cd63dd78571e2a0e08344aef05f51b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE4N2E5NzQxZDNjZDYzZGQ3ODU3MWUyYTBlMDgzNDRhZWYwNWY1MWI=", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2020-01-06T19:13:24Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2020-02-16T10:41:25Z"}, "message": "Make librustc compile.", "tree": {"sha": "5c695c823c7c5bf76ac6fda9d013fa29084e120d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5c695c823c7c5bf76ac6fda9d013fa29084e120d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/187a9741d3cd63dd78571e2a0e08344aef05f51b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/187a9741d3cd63dd78571e2a0e08344aef05f51b", "html_url": "https://github.com/rust-lang/rust/commit/187a9741d3cd63dd78571e2a0e08344aef05f51b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/187a9741d3cd63dd78571e2a0e08344aef05f51b/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d5691209b6d5fe5e47560b1db7b822dbeb0880fd", "url": "https://api.github.com/repos/rust-lang/rust/commits/d5691209b6d5fe5e47560b1db7b822dbeb0880fd", "html_url": "https://github.com/rust-lang/rust/commit/d5691209b6d5fe5e47560b1db7b822dbeb0880fd"}], "stats": {"total": 24, "additions": 12, "deletions": 12}, "files": [{"sha": "f5c83fed1fc154a6f713fbfc5eea4c4635dd0c07", "filename": "src/librustc/arena.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Farena.rs", "raw_url": "https://github.com/rust-lang/rust/raw/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Farena.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Farena.rs?ref=187a9741d3cd63dd78571e2a0e08344aef05f51b", "patch": "@@ -51,19 +51,19 @@ macro_rules! arena_types {\n             [] dropck_outlives:\n                 rustc::infer::canonical::Canonical<'tcx,\n                     rustc::infer::canonical::QueryResponse<'tcx,\n-                        rustc::traits::query::dropck_outlives::DropckOutlivesResult<'tcx>\n+                        rustc::traits::query::DropckOutlivesResult<'tcx>\n                     >\n                 >,\n             [] normalize_projection_ty:\n                 rustc::infer::canonical::Canonical<'tcx,\n                     rustc::infer::canonical::QueryResponse<'tcx,\n-                        rustc::traits::query::normalize::NormalizationResult<'tcx>\n+                        rustc::traits::query::NormalizationResult<'tcx>\n                     >\n                 >,\n             [] implied_outlives_bounds:\n                 rustc::infer::canonical::Canonical<'tcx,\n                     rustc::infer::canonical::QueryResponse<'tcx,\n-                        Vec<rustc::traits::query::outlives_bounds::OutlivesBound<'tcx>>\n+                        Vec<rustc::traits::query::OutlivesBound<'tcx>>\n                     >\n                 >,\n             [] type_op_subtype:"}, {"sha": "76d0d57e233a34a1a0c22720aa4426b1efd53be0", "filename": "src/librustc/infer/canonical.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Finfer%2Fcanonical.rs", "raw_url": "https://github.com/rust-lang/rust/raw/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Finfer%2Fcanonical.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Fcanonical.rs?ref=187a9741d3cd63dd78571e2a0e08344aef05f51b", "patch": "@@ -21,7 +21,7 @@\n //!\n //! [c]: https://rust-lang.github.io/rustc-guide/traits/canonicalization.html\n \n-use crate::infer::region_constraints::MemberConstraint;\n+use crate::infer::MemberConstraint;\n use crate::ty::subst::GenericArg;\n use crate::ty::{self, BoundVar, List, Region, TyCtxt};\n use rustc_index::vec::IndexVec;", "previous_filename": "src/librustc/infer/types/canonical.rs"}, {"sha": "497d3811f281b0af514163f092e46969f40dabc6", "filename": "src/librustc/infer/mod.rs", "status": "renamed", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Finfer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Finfer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Fmod.rs?ref=187a9741d3cd63dd78571e2a0e08344aef05f51b", "patch": "@@ -1,4 +1,5 @@\n pub mod canonical;\n+pub mod unify_key;\n \n use crate::ty::Region;\n use crate::ty::Ty;", "previous_filename": "src/librustc/infer/types/mod.rs"}, {"sha": "e1e774b853c20e26a7656899e6e06c9487d4395f", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=187a9741d3cd63dd78571e2a0e08344aef05f51b", "patch": "@@ -13,10 +13,6 @@\n //!   defined in the `ty` module. This includes the **type context**\n //!   (or `tcx`), which is the central context during most of\n //!   compilation, containing the interners and other things.\n-//! - **Traits.** Trait resolution is implemented in the `traits` module.\n-//! - **Type inference.** The type inference code can be found in the `infer` module;\n-//!   this code handles low-level equality and subtyping operations. The\n-//!   type check pass in the compiler is found in the `librustc_typeck` crate.\n //!\n //! For more information about how rustc works, see the [rustc guide].\n //!"}, {"sha": "c000aa7c25e974281826728805ce566ce958ff00", "filename": "src/librustc/traits/mod.rs", "status": "renamed", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Ftraits%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Ftraits%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Fmod.rs?ref=187a9741d3cd63dd78571e2a0e08344aef05f51b", "patch": "@@ -7,6 +7,7 @@ pub mod select;\n pub mod specialization_graph;\n mod structural_impls;\n \n+use crate::infer::canonical::Canonical;\n use crate::mir::interpret::ErrorHandled;\n use crate::ty::fold::{TypeFolder, TypeVisitor};\n use crate::ty::subst::SubstsRef;\n@@ -22,6 +23,8 @@ use std::rc::Rc;\n \n pub use self::select::{EvaluationCache, EvaluationResult, OverflowError, SelectionCache};\n \n+pub type ChalkCanonicalGoal<'tcx> = Canonical<'tcx, InEnvironment<'tcx, ty::Predicate<'tcx>>>;\n+\n pub use self::ObligationCauseCode::*;\n pub use self::SelectionError::*;\n pub use self::Vtable::*;", "previous_filename": "src/librustc/traits/types/mod.rs"}, {"sha": "c90551826202efd4300a90cde649cae91c71d8b0", "filename": "src/librustc/traits/query.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Ftraits%2Fquery.rs", "raw_url": "https://github.com/rust-lang/rust/raw/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Ftraits%2Fquery.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Fquery.rs?ref=187a9741d3cd63dd78571e2a0e08344aef05f51b", "previous_filename": "src/librustc/traits/types/query.rs"}, {"sha": "ac3d0049c0c7c42908e6cff2df5b90e46ea13c50", "filename": "src/librustc/traits/select.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Ftraits%2Fselect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Ftraits%2Fselect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Fselect.rs?ref=187a9741d3cd63dd78571e2a0e08344aef05f51b", "previous_filename": "src/librustc/traits/types/select.rs"}, {"sha": "36a84369d4a3ac6e407f0e9d2cf49fae1ec31b7e", "filename": "src/librustc/traits/specialization_graph.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Ftraits%2Fspecialization_graph.rs", "raw_url": "https://github.com/rust-lang/rust/raw/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Ftraits%2Fspecialization_graph.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Fspecialization_graph.rs?ref=187a9741d3cd63dd78571e2a0e08344aef05f51b", "previous_filename": "src/librustc/traits/types/specialization_graph.rs"}, {"sha": "48ed29f2bb33841cc974147d5b81218453a2cb16", "filename": "src/librustc/traits/structural_impls.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Ftraits%2Fstructural_impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Ftraits%2Fstructural_impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Fstructural_impls.rs?ref=187a9741d3cd63dd78571e2a0e08344aef05f51b", "previous_filename": "src/librustc/traits/types/structural_impls.rs"}, {"sha": "125ee316ed8870ffbd5a1b96cb18af35209b9de3", "filename": "src/librustc/ty/query/mod.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Fty%2Fquery%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/187a9741d3cd63dd78571e2a0e08344aef05f51b/src%2Flibrustc%2Fty%2Fquery%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Fquery%2Fmod.rs?ref=187a9741d3cd63dd78571e2a0e08344aef05f51b", "patch": "@@ -19,15 +19,15 @@ use crate::mir::interpret::{LitToConstError, LitToConstInput};\n use crate::mir::mono::CodegenUnit;\n use crate::session::config::{EntryFnType, OptLevel, OutputFilenames, SymbolManglingVersion};\n use crate::session::CrateDisambiguator;\n-use crate::traits::query::dropck_outlives::{DropckOutlivesResult, DtorckConstraint};\n-use crate::traits::query::method_autoderef::MethodAutoderefStepsResult;\n-use crate::traits::query::normalize::NormalizationResult;\n-use crate::traits::query::outlives_bounds::OutlivesBound;\n use crate::traits::query::{\n     CanonicalPredicateGoal, CanonicalProjectionGoal, CanonicalTyGoal,\n     CanonicalTypeOpAscribeUserTypeGoal, CanonicalTypeOpEqGoal, CanonicalTypeOpNormalizeGoal,\n     CanonicalTypeOpProvePredicateGoal, CanonicalTypeOpSubtypeGoal, NoSolution,\n };\n+use crate::traits::query::{\n+    DropckOutlivesResult, DtorckConstraint, MethodAutoderefStepsResult, NormalizationResult,\n+    OutlivesBound,\n+};\n use crate::traits::specialization_graph;\n use crate::traits::Clauses;\n use crate::traits::{self, Vtable};"}]}