{"sha": "ca1c0aa8196c439b385f6038b5bb52924c4808f9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNhMWMwYWE4MTk2YzQzOWIzODVmNjAzOGI1YmI1MjkyNGM0ODA4Zjk=", "commit": {"author": {"name": "Lzu Tao", "email": "taolzu@gmail.com", "date": "2019-09-07T03:53:34Z"}, "committer": {"name": "Lzu Tao", "email": "taolzu@gmail.com", "date": "2019-09-09T09:14:32Z"}, "message": "Add a regression test for proc-macro attribute", "tree": {"sha": "2fb8e161ef970158e0b49e2290278064ab652298", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2fb8e161ef970158e0b49e2290278064ab652298"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ca1c0aa8196c439b385f6038b5bb52924c4808f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ca1c0aa8196c439b385f6038b5bb52924c4808f9", "html_url": "https://github.com/rust-lang/rust/commit/ca1c0aa8196c439b385f6038b5bb52924c4808f9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ca1c0aa8196c439b385f6038b5bb52924c4808f9/comments", "author": {"login": "tesuji", "id": 15225902, "node_id": "MDQ6VXNlcjE1MjI1OTAy", "avatar_url": "https://avatars.githubusercontent.com/u/15225902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tesuji", "html_url": "https://github.com/tesuji", "followers_url": "https://api.github.com/users/tesuji/followers", "following_url": "https://api.github.com/users/tesuji/following{/other_user}", "gists_url": "https://api.github.com/users/tesuji/gists{/gist_id}", "starred_url": "https://api.github.com/users/tesuji/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tesuji/subscriptions", "organizations_url": "https://api.github.com/users/tesuji/orgs", "repos_url": "https://api.github.com/users/tesuji/repos", "events_url": "https://api.github.com/users/tesuji/events{/privacy}", "received_events_url": "https://api.github.com/users/tesuji/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tesuji", "id": 15225902, "node_id": "MDQ6VXNlcjE1MjI1OTAy", "avatar_url": "https://avatars.githubusercontent.com/u/15225902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tesuji", "html_url": "https://github.com/tesuji", "followers_url": "https://api.github.com/users/tesuji/followers", "following_url": "https://api.github.com/users/tesuji/following{/other_user}", "gists_url": "https://api.github.com/users/tesuji/gists{/gist_id}", "starred_url": "https://api.github.com/users/tesuji/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tesuji/subscriptions", "organizations_url": "https://api.github.com/users/tesuji/orgs", "repos_url": "https://api.github.com/users/tesuji/repos", "events_url": "https://api.github.com/users/tesuji/events{/privacy}", "received_events_url": "https://api.github.com/users/tesuji/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a5f4d3ce294f24d825080f48507ccdcce3d3e1fb", "url": "https://api.github.com/repos/rust-lang/rust/commits/a5f4d3ce294f24d825080f48507ccdcce3d3e1fb", "html_url": "https://github.com/rust-lang/rust/commit/a5f4d3ce294f24d825080f48507ccdcce3d3e1fb"}], "stats": {"total": 35, "additions": 26, "deletions": 9}, "files": [{"sha": "60ffd94e733236a14c1e126d5e9923ebedba76a7", "filename": "mini-macro/src/lib.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ca1c0aa8196c439b385f6038b5bb52924c4808f9/mini-macro%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca1c0aa8196c439b385f6038b5bb52924c4808f9/mini-macro%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mini-macro%2Fsrc%2Flib.rs?ref=ca1c0aa8196c439b385f6038b5bb52924c4808f9", "patch": "@@ -17,5 +17,8 @@ pub fn mini_macro(_: TokenStream) -> TokenStream {\n                 println!(\"{}\", items[i]);\n             }\n         }\n+        fn line_wrapper() {\n+            println!(\"{}\", line!());\n+        }\n     )\n }"}, {"sha": "3c422cc4fee72c5c8cfb2462e173cd88c84c40f7", "filename": "tests/ui/unseparated_prefix_literals.fixed", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ca1c0aa8196c439b385f6038b5bb52924c4808f9/tests%2Fui%2Funseparated_prefix_literals.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/ca1c0aa8196c439b385f6038b5bb52924c4808f9/tests%2Fui%2Funseparated_prefix_literals.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funseparated_prefix_literals.fixed?ref=ca1c0aa8196c439b385f6038b5bb52924c4808f9", "patch": "@@ -3,6 +3,13 @@\n #![warn(clippy::unseparated_literal_suffix)]\n #![allow(dead_code)]\n \n+#[macro_use]\n+extern crate clippy_mini_macro_test;\n+\n+// Test for proc-macro attribute\n+#[derive(ClippyMiniMacroTest)]\n+struct Foo;\n+\n macro_rules! lit_from_macro {\n     () => {\n         42_usize"}, {"sha": "09608661e0ef58585afbb94a1d2fdc1fa2c36fee", "filename": "tests/ui/unseparated_prefix_literals.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ca1c0aa8196c439b385f6038b5bb52924c4808f9/tests%2Fui%2Funseparated_prefix_literals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca1c0aa8196c439b385f6038b5bb52924c4808f9/tests%2Fui%2Funseparated_prefix_literals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funseparated_prefix_literals.rs?ref=ca1c0aa8196c439b385f6038b5bb52924c4808f9", "patch": "@@ -3,6 +3,13 @@\n #![warn(clippy::unseparated_literal_suffix)]\n #![allow(dead_code)]\n \n+#[macro_use]\n+extern crate clippy_mini_macro_test;\n+\n+// Test for proc-macro attribute\n+#[derive(ClippyMiniMacroTest)]\n+struct Foo;\n+\n macro_rules! lit_from_macro {\n     () => {\n         42usize"}, {"sha": "d353d34fb3575d30c2ed56ca8ccfef7022953b7d", "filename": "tests/ui/unseparated_prefix_literals.stderr", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/ca1c0aa8196c439b385f6038b5bb52924c4808f9/tests%2Fui%2Funseparated_prefix_literals.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ca1c0aa8196c439b385f6038b5bb52924c4808f9/tests%2Fui%2Funseparated_prefix_literals.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funseparated_prefix_literals.stderr?ref=ca1c0aa8196c439b385f6038b5bb52924c4808f9", "patch": "@@ -1,49 +1,49 @@\n error: integer type suffix should be separated by an underscore\n-  --> $DIR/unseparated_prefix_literals.rs:16:18\n+  --> $DIR/unseparated_prefix_literals.rs:23:18\n    |\n LL |     let _fail1 = 1234i32;\n    |                  ^^^^^^^ help: add an underscore: `1234_i32`\n    |\n    = note: `-D clippy::unseparated-literal-suffix` implied by `-D warnings`\n \n error: integer type suffix should be separated by an underscore\n-  --> $DIR/unseparated_prefix_literals.rs:17:18\n+  --> $DIR/unseparated_prefix_literals.rs:24:18\n    |\n LL |     let _fail2 = 1234u32;\n    |                  ^^^^^^^ help: add an underscore: `1234_u32`\n \n error: integer type suffix should be separated by an underscore\n-  --> $DIR/unseparated_prefix_literals.rs:18:18\n+  --> $DIR/unseparated_prefix_literals.rs:25:18\n    |\n LL |     let _fail3 = 1234isize;\n    |                  ^^^^^^^^^ help: add an underscore: `1234_isize`\n \n error: integer type suffix should be separated by an underscore\n-  --> $DIR/unseparated_prefix_literals.rs:19:18\n+  --> $DIR/unseparated_prefix_literals.rs:26:18\n    |\n LL |     let _fail4 = 1234usize;\n    |                  ^^^^^^^^^ help: add an underscore: `1234_usize`\n \n error: integer type suffix should be separated by an underscore\n-  --> $DIR/unseparated_prefix_literals.rs:20:18\n+  --> $DIR/unseparated_prefix_literals.rs:27:18\n    |\n LL |     let _fail5 = 0x123isize;\n    |                  ^^^^^^^^^^ help: add an underscore: `0x123_isize`\n \n error: float type suffix should be separated by an underscore\n-  --> $DIR/unseparated_prefix_literals.rs:24:19\n+  --> $DIR/unseparated_prefix_literals.rs:31:19\n    |\n LL |     let _failf1 = 1.5f32;\n    |                   ^^^^^^ help: add an underscore: `1.5_f32`\n \n error: float type suffix should be separated by an underscore\n-  --> $DIR/unseparated_prefix_literals.rs:25:19\n+  --> $DIR/unseparated_prefix_literals.rs:32:19\n    |\n LL |     let _failf2 = 1f32;\n    |                   ^^^^ help: add an underscore: `1_f32`\n \n error: integer type suffix should be separated by an underscore\n-  --> $DIR/unseparated_prefix_literals.rs:8:9\n+  --> $DIR/unseparated_prefix_literals.rs:15:9\n    |\n LL |         42usize\n    |         ^^^^^^^ help: add an underscore: `42_usize`\n@@ -52,7 +52,7 @@ LL |     let _ = lit_from_macro!();\n    |             ----------------- in this macro invocation\n \n error: integer type suffix should be separated by an underscore\n-  --> $DIR/unseparated_prefix_literals.rs:33:16\n+  --> $DIR/unseparated_prefix_literals.rs:40:16\n    |\n LL |     assert_eq!(4897u32, 32223);\n    |                ^^^^^^^ help: add an underscore: `4897_u32`"}]}