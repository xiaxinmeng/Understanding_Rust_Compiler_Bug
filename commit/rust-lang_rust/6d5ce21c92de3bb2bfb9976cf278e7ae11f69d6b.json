{"sha": "6d5ce21c92de3bb2bfb9976cf278e7ae11f69d6b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZkNWNlMjFjOTJkZTNiYjJiZmI5OTc2Y2YyNzhlN2FlMTFmNjlkNmI=", "commit": {"author": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-02-28T10:13:17Z"}, "committer": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-02-28T10:13:33Z"}, "message": "Cleanup test-cargo-miri/run-test.py", "tree": {"sha": "6071f66de382bd707f7a28c15d0b5ec8209d38e7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6071f66de382bd707f7a28c15d0b5ec8209d38e7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6d5ce21c92de3bb2bfb9976cf278e7ae11f69d6b", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niIsEABYIADMWIQRJ2jPMDdiQ+U4U42Z0+n/VuNoUuAUCYDts0xUceWQtaHVhbmdA\nb3V0bG9vay5jb20ACgkQdPp/1bjaFLicywD+LCfkf2WwfVrfVc2LG0qCmZ8Q59Wi\nj4hA9HHPrUNDMW8A/1pGpfxGfY/qACV8m5j92a0TcNFVAjOxioqkEK5MWEoP\n=Rihd\n-----END PGP SIGNATURE-----", "payload": "tree 6071f66de382bd707f7a28c15d0b5ec8209d38e7\nparent 46af1890a51db4b7f6ca122123704fef65980a5c\nauthor hyd-dev <yd-huang@outlook.com> 1614507197 +0800\ncommitter hyd-dev <yd-huang@outlook.com> 1614507213 +0800\n\nCleanup test-cargo-miri/run-test.py\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6d5ce21c92de3bb2bfb9976cf278e7ae11f69d6b", "html_url": "https://github.com/rust-lang/rust/commit/6d5ce21c92de3bb2bfb9976cf278e7ae11f69d6b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6d5ce21c92de3bb2bfb9976cf278e7ae11f69d6b/comments", "author": null, "committer": null, "parents": [{"sha": "46af1890a51db4b7f6ca122123704fef65980a5c", "url": "https://api.github.com/repos/rust-lang/rust/commits/46af1890a51db4b7f6ca122123704fef65980a5c", "html_url": "https://github.com/rust-lang/rust/commit/46af1890a51db4b7f6ca122123704fef65980a5c"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "81f589705dc332e7a17dd5969f8a095ad26806c4", "filename": "test-cargo-miri/run-test.py", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/6d5ce21c92de3bb2bfb9976cf278e7ae11f69d6b/test-cargo-miri%2Frun-test.py", "raw_url": "https://github.com/rust-lang/rust/raw/6d5ce21c92de3bb2bfb9976cf278e7ae11f69d6b/test-cargo-miri%2Frun-test.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/test-cargo-miri%2Frun-test.py?ref=6d5ce21c92de3bb2bfb9976cf278e7ae11f69d6b", "patch": "@@ -83,9 +83,10 @@ def test_cargo_miri_run():\n         },\n     )\n     # Special test: run it again *without* `-q` to make sure nothing is being rebuilt (Miri issue #1722)\n-    test_no_rebuild(\"`cargo miri run` (no rebuild, no isolation)\",\n+    test_no_rebuild(\"`cargo miri run` (no rebuild)\",\n         cargo_miri(\"run\", quiet=False) + [\"--\", \"\"],\n-        env={'MIRITESTVAR': \"wrongval\"},\n+        env={'MIRITESTVAR': \"wrongval\"}, # changing the env var causes a rebuild (re-runs build.rs),\n+                                         # so keep it set\n     )\n     test(\"`cargo miri run` (with arguments and target)\",\n         cargo_miri(\"run\") + [\"--bin\", \"cargo-miri-test\", \"--\", \"hello world\", '\"hello world\"'],"}]}