{"sha": "81ed4cfd0138e68d370873281f53f4e63e5a223f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgxZWQ0Y2ZkMDEzOGU2OGQzNzA4NzMyODFmNTNmNGU2M2U1YTIyM2Y=", "commit": {"author": {"name": "0yoyoyo", "email": "60439919+0yoyoyo@users.noreply.github.com", "date": "2021-01-29T10:23:04Z"}, "committer": {"name": "0yoyoyo", "email": "60439919+0yoyoyo@users.noreply.github.com", "date": "2021-01-30T09:26:29Z"}, "message": "Add a regression test", "tree": {"sha": "c3eb2a066e8af415e18808936b08998b2debde5d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c3eb2a066e8af415e18808936b08998b2debde5d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/81ed4cfd0138e68d370873281f53f4e63e5a223f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/81ed4cfd0138e68d370873281f53f4e63e5a223f", "html_url": "https://github.com/rust-lang/rust/commit/81ed4cfd0138e68d370873281f53f4e63e5a223f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/81ed4cfd0138e68d370873281f53f4e63e5a223f/comments", "author": {"login": "0yoyoyo", "id": 60439919, "node_id": "MDQ6VXNlcjYwNDM5OTE5", "avatar_url": "https://avatars.githubusercontent.com/u/60439919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0yoyoyo", "html_url": "https://github.com/0yoyoyo", "followers_url": "https://api.github.com/users/0yoyoyo/followers", "following_url": "https://api.github.com/users/0yoyoyo/following{/other_user}", "gists_url": "https://api.github.com/users/0yoyoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/0yoyoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0yoyoyo/subscriptions", "organizations_url": "https://api.github.com/users/0yoyoyo/orgs", "repos_url": "https://api.github.com/users/0yoyoyo/repos", "events_url": "https://api.github.com/users/0yoyoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/0yoyoyo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "0yoyoyo", "id": 60439919, "node_id": "MDQ6VXNlcjYwNDM5OTE5", "avatar_url": "https://avatars.githubusercontent.com/u/60439919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0yoyoyo", "html_url": "https://github.com/0yoyoyo", "followers_url": "https://api.github.com/users/0yoyoyo/followers", "following_url": "https://api.github.com/users/0yoyoyo/following{/other_user}", "gists_url": "https://api.github.com/users/0yoyoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/0yoyoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0yoyoyo/subscriptions", "organizations_url": "https://api.github.com/users/0yoyoyo/orgs", "repos_url": "https://api.github.com/users/0yoyoyo/repos", "events_url": "https://api.github.com/users/0yoyoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/0yoyoyo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0e190206e2ff0c13d64701d9b4145bf89a2d0cab", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e190206e2ff0c13d64701d9b4145bf89a2d0cab", "html_url": "https://github.com/rust-lang/rust/commit/0e190206e2ff0c13d64701d9b4145bf89a2d0cab"}], "stats": {"total": 32, "additions": 22, "deletions": 10}, "files": [{"sha": "0c890f88c60dca2530554a8030b06935d8bb0b41", "filename": "src/test/ui/typeck/typeck_type_placeholder_item_help.rs", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/81ed4cfd0138e68d370873281f53f4e63e5a223f/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81ed4cfd0138e68d370873281f53f4e63e5a223f/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.rs?ref=81ed4cfd0138e68d370873281f53f4e63e5a223f", "patch": "@@ -10,15 +10,18 @@ const TEST2: _ = 42u32;\n const TEST3: _ = Some(42);\n //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n \n-trait Test4 {\n-    const TEST4: _ = 42;\n+const TEST4: fn() -> _ = 42;\n+//~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n+\n+trait Test5 {\n+    const TEST5: _ = 42;\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n }\n \n-struct Test5;\n+struct Test6;\n \n-impl Test5 {\n-    const TEST5: _ = 13;\n+impl Test6 {\n+    const TEST6: _ = 13;\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n }\n "}, {"sha": "0121e18631676c7d3a791d7aa21cd79d5542cec7", "filename": "src/test/ui/typeck/typeck_type_placeholder_item_help.stderr", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/81ed4cfd0138e68d370873281f53f4e63e5a223f/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/81ed4cfd0138e68d370873281f53f4e63e5a223f/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.stderr?ref=81ed4cfd0138e68d370873281f53f4e63e5a223f", "patch": "@@ -26,23 +26,32 @@ LL | const TEST3: _ = Some(42);\n    |              help: replace `_` with the correct type: `Option<i32>`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item_help.rs:14:18\n+  --> $DIR/typeck_type_placeholder_item_help.rs:13:22\n    |\n-LL |     const TEST4: _ = 42;\n+LL | const TEST4: fn() -> _ = 42;\n+   |                      ^\n+   |                      |\n+   |                      not allowed in type signatures\n+   |                      help: use type parameters instead: `T`\n+\n+error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n+  --> $DIR/typeck_type_placeholder_item_help.rs:17:18\n+   |\n+LL |     const TEST5: _ = 42;\n    |                  ^\n    |                  |\n    |                  not allowed in type signatures\n    |                  help: replace `_` with the correct type: `i32`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item_help.rs:21:18\n+  --> $DIR/typeck_type_placeholder_item_help.rs:24:18\n    |\n-LL |     const TEST5: _ = 13;\n+LL |     const TEST6: _ = 13;\n    |                  ^\n    |                  |\n    |                  not allowed in type signatures\n    |                  help: replace `_` with the correct type: `i32`\n \n-error: aborting due to 5 previous errors\n+error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0121`."}]}