{"sha": "a3818685e412435d6faecfcf9b016b4eb7627e90", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEzODE4Njg1ZTQxMjQzNWQ2ZmFlY2ZjZjliMDE2YjRlYjc2MjdlOTA=", "commit": {"author": {"name": "Alex Stokes", "email": "r.alex.stokes@gmail.com", "date": "2018-09-23T00:07:56Z"}, "committer": {"name": "Alex Stokes", "email": "r.alex.stokes@gmail.com", "date": "2018-09-23T00:07:56Z"}, "message": "stabilize pattern_parentheses feature", "tree": {"sha": "76a01dc64cac22d1ece026cb89617a3e46181370", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/76a01dc64cac22d1ece026cb89617a3e46181370"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a3818685e412435d6faecfcf9b016b4eb7627e90", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a3818685e412435d6faecfcf9b016b4eb7627e90", "html_url": "https://github.com/rust-lang/rust/commit/a3818685e412435d6faecfcf9b016b4eb7627e90", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a3818685e412435d6faecfcf9b016b4eb7627e90/comments", "author": {"login": "ralexstokes", "id": 3113781, "node_id": "MDQ6VXNlcjMxMTM3ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/3113781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ralexstokes", "html_url": "https://github.com/ralexstokes", "followers_url": "https://api.github.com/users/ralexstokes/followers", "following_url": "https://api.github.com/users/ralexstokes/following{/other_user}", "gists_url": "https://api.github.com/users/ralexstokes/gists{/gist_id}", "starred_url": "https://api.github.com/users/ralexstokes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ralexstokes/subscriptions", "organizations_url": "https://api.github.com/users/ralexstokes/orgs", "repos_url": "https://api.github.com/users/ralexstokes/repos", "events_url": "https://api.github.com/users/ralexstokes/events{/privacy}", "received_events_url": "https://api.github.com/users/ralexstokes/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ralexstokes", "id": 3113781, "node_id": "MDQ6VXNlcjMxMTM3ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/3113781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ralexstokes", "html_url": "https://github.com/ralexstokes", "followers_url": "https://api.github.com/users/ralexstokes/followers", "following_url": "https://api.github.com/users/ralexstokes/following{/other_user}", "gists_url": "https://api.github.com/users/ralexstokes/gists{/gist_id}", "starred_url": "https://api.github.com/users/ralexstokes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ralexstokes/subscriptions", "organizations_url": "https://api.github.com/users/ralexstokes/orgs", "repos_url": "https://api.github.com/users/ralexstokes/repos", "events_url": "https://api.github.com/users/ralexstokes/events{/privacy}", "received_events_url": "https://api.github.com/users/ralexstokes/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "de5f6ee3c6208149d69c5547623fe818c1f1d2ab", "url": "https://api.github.com/repos/rust-lang/rust/commits/de5f6ee3c6208149d69c5547623fe818c1f1d2ab", "html_url": "https://github.com/rust-lang/rust/commit/de5f6ee3c6208149d69c5547623fe818c1f1d2ab"}], "stats": {"total": 42, "additions": 4, "deletions": 38}, "files": [{"sha": "1befc8e3ee0965b55efa78777f5777207b415d8a", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a3818685e412435d6faecfcf9b016b4eb7627e90/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3818685e412435d6faecfcf9b016b4eb7627e90/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=a3818685e412435d6faecfcf9b016b4eb7627e90", "patch": "@@ -412,9 +412,6 @@ declare_features! (\n     // Multiple patterns with `|` in `if let` and `while let`\n     (active, if_while_or_patterns, \"1.26.0\", Some(48215), None),\n \n-    // Parentheses in patterns\n-    (active, pattern_parentheses, \"1.26.0\", Some(51087), None),\n-\n     // Allows `#[repr(packed)]` attribute on structs\n     (active, repr_packed, \"1.26.0\", Some(33158), None),\n \n@@ -680,6 +677,8 @@ declare_features! (\n     (accepted, extern_absolute_paths, \"1.30.0\", Some(44660), None),\n     // Access to crate names passed via `--extern` through prelude\n     (accepted, extern_prelude, \"1.30.0\", Some(44660), None),\n+    // Parentheses in patterns\n+    (accepted, pattern_parentheses, \"1.31.0\", Some(51087), None),\n );\n \n // If you change this, please modify src/doc/unstable-book as well. You must\n@@ -1773,10 +1772,6 @@ impl<'a> Visitor<'a> for PostExpansionVisitor<'a> {\n                 gate_feature_post!(&self, exclusive_range_pattern, pattern.span,\n                                    \"exclusive range pattern syntax is experimental\");\n             }\n-            PatKind::Paren(..) => {\n-                gate_feature_post!(&self, pattern_parentheses, pattern.span,\n-                                   \"parentheses in patterns are unstable\");\n-            }\n             _ => {}\n         }\n         visit::walk_pat(self, pattern)"}, {"sha": "8f54f2e2dc3f965754609866ab8486b388ba5a20", "filename": "src/test/run-pass-fulldeps/ast_stmt_expr_attr.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a3818685e412435d6faecfcf9b016b4eb7627e90/src%2Ftest%2Frun-pass-fulldeps%2Fast_stmt_expr_attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3818685e412435d6faecfcf9b016b4eb7627e90/src%2Ftest%2Frun-pass-fulldeps%2Fast_stmt_expr_attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fast_stmt_expr_attr.rs?ref=a3818685e412435d6faecfcf9b016b4eb7627e90", "patch": "@@ -284,9 +284,7 @@ fn run() {\n     reject_stmt_parse(\"#[attr] #![attr] foo!{}\");\n \n     // FIXME: Allow attributes in pattern constexprs?\n-    // would require parens in patterns to allow disambiguation...\n-    // \u2014which is now available under the `pattern_parentheses` feature gate\n-    // (tracking issue #51087)\n+    // note: requires parens in patterns to allow disambiguation\n \n     reject_expr_parse(\"match 0 {\n         0..=#[attr] 10 => ()"}, {"sha": "29768018f0e447bb8de78c7faa4ac306f5d50e29", "filename": "src/test/ui/feature-gates/feature-gate-pattern_parentheses.rs", "status": "removed", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/de5f6ee3c6208149d69c5547623fe818c1f1d2ab/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-pattern_parentheses.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de5f6ee3c6208149d69c5547623fe818c1f1d2ab/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-pattern_parentheses.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-pattern_parentheses.rs?ref=de5f6ee3c6208149d69c5547623fe818c1f1d2ab", "patch": "@@ -1,15 +0,0 @@\n-// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-fn main() {\n-    match 0 {\n-        (pat) => {} //~ ERROR parentheses in patterns are unstable\n-    }\n-}"}, {"sha": "4268d27ebec991a3d32e90f4950ac91e6b330cc2", "filename": "src/test/ui/feature-gates/feature-gate-pattern_parentheses.stderr", "status": "removed", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/de5f6ee3c6208149d69c5547623fe818c1f1d2ab/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-pattern_parentheses.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/de5f6ee3c6208149d69c5547623fe818c1f1d2ab/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-pattern_parentheses.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-pattern_parentheses.stderr?ref=de5f6ee3c6208149d69c5547623fe818c1f1d2ab", "patch": "@@ -1,11 +0,0 @@\n-error[E0658]: parentheses in patterns are unstable (see issue #51087)\n-  --> $DIR/feature-gate-pattern_parentheses.rs:13:9\n-   |\n-LL |         (pat) => {} //~ ERROR parentheses in patterns are unstable\n-   |         ^^^^^\n-   |\n-   = help: add #![feature(pattern_parentheses)] to the crate attributes to enable\n-\n-error: aborting due to previous error\n-\n-For more information about this error, try `rustc --explain E0658`."}, {"sha": "c32b52eac33d1c3e2af6642d53617dd4e9be2624", "filename": "src/test/ui/run-pass/binding/pat-tuple-7.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a3818685e412435d6faecfcf9b016b4eb7627e90/src%2Ftest%2Fui%2Frun-pass%2Fbinding%2Fpat-tuple-7.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3818685e412435d6faecfcf9b016b4eb7627e90/src%2Ftest%2Fui%2Frun-pass%2Fbinding%2Fpat-tuple-7.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frun-pass%2Fbinding%2Fpat-tuple-7.rs?ref=a3818685e412435d6faecfcf9b016b4eb7627e90", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n // run-pass\n-#![feature(pattern_parentheses)]\n \n fn main() {\n     match 0 {"}, {"sha": "d492edb16171d0e405573bd0e0c62b347de83622", "filename": "src/test/ui/run-pass/binding/range-inclusive-pattern-precedence.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a3818685e412435d6faecfcf9b016b4eb7627e90/src%2Ftest%2Fui%2Frun-pass%2Fbinding%2Frange-inclusive-pattern-precedence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3818685e412435d6faecfcf9b016b4eb7627e90/src%2Ftest%2Fui%2Frun-pass%2Fbinding%2Frange-inclusive-pattern-precedence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frun-pass%2Fbinding%2Frange-inclusive-pattern-precedence.rs?ref=a3818685e412435d6faecfcf9b016b4eb7627e90", "patch": "@@ -9,7 +9,7 @@\n // except according to those terms.\n \n // run-pass\n-#![feature(box_patterns, pattern_parentheses)]\n+#![feature(box_patterns)]\n \n const VALUE: usize = 21;\n "}]}