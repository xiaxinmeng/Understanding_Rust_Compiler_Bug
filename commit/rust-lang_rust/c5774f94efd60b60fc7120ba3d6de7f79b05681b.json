{"sha": "c5774f94efd60b60fc7120ba3d6de7f79b05681b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM1Nzc0Zjk0ZWZkNjBiNjBmYzcxMjBiYTNkNmRlN2Y3OWIwNTY4MWI=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2020-10-12T14:50:34Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2020-10-12T16:19:18Z"}, "message": "lintlist.rs: Replace lazy_static with once_cell\n\nFollow-up to https://github.com/rust-lang/rust-clippy/pull/6120", "tree": {"sha": "e908a78755bbb43c02097c39a76ec129b3ca27b3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e908a78755bbb43c02097c39a76ec129b3ca27b3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c5774f94efd60b60fc7120ba3d6de7f79b05681b", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEb0jkZw3AJLMiOp9wGI/nM3KGUrEFAl+EggoACgkQGI/nM3KG\nUrEKVA//bcacS/R7iBtUVODdxJlJtOHeXkbeJphJJ4Lgk0oLiD8NE/TsBRAHgjSc\nwuXfKNDGuA9GV0b8bVR9SYTl4TT4sR7eb4QJ3uGI0wIayuKddfaEYZeev57uEFKc\nN3vm7uhM3+jKVisIbq61nYnZP0LDM1FluLJQRlYoxMPMR6kDeas6Aearb1IaRihu\nLjakL2tL8x0REUL1uO0v63HWpM1I8zeX49KmBFmpDN1Px9iNxOYjbXi4+6AbDSyF\nmcSeQt2qg7rIhWxu+jm0YlMAh0TdzKoKVTfd16i2eCKW/yFSgAHgJ9viGuatBT3Z\nZYOqfl1Cpx1wzJOSxmxrlsOHZOY9q2wdfAtJ6HmgaxK93RXzr2FiPMBiqjPnuhFG\neKPD1qlHyfPZtl26SBzl7aLEDqLQZ1x9lJE+bfp3ZYjhNObrB7LPVIQlhFXPJm58\nRQDh9X1pOK9OEKlLk9YHJlqrN2Qv3CkL6fa+K6PYoGzqkzu8L82+zOb0eRooQ0bh\nbd5iMevTuGlQf2OEmIUKS0ETqtnk8MiPEvivQuNGNoAY9cCR7LtWVKgOSNLvTa8E\nyTgX7rTxUAgVMRV14XzEI/sWvZ/GwNPYiG2tBBWrtacL0YltPBmj+dealAlYIuFc\nX8ypNNspgFl4/HbqDKqqRK6LYvPF5BQXLIhsX6o+2anTzQFTY9w=\n=A1Ld\n-----END PGP SIGNATURE-----", "payload": "tree e908a78755bbb43c02097c39a76ec129b3ca27b3\nparent 92783e39de26a114389c1e45a29ccbe75698dd2a\nauthor Philipp Hansch <dev@phansch.net> 1602514234 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1602519558 +0200\n\nlintlist.rs: Replace lazy_static with once_cell\n\nFollow-up to https://github.com/rust-lang/rust-clippy/pull/6120\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c5774f94efd60b60fc7120ba3d6de7f79b05681b", "html_url": "https://github.com/rust-lang/rust/commit/c5774f94efd60b60fc7120ba3d6de7f79b05681b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c5774f94efd60b60fc7120ba3d6de7f79b05681b/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "92783e39de26a114389c1e45a29ccbe75698dd2a", "url": "https://api.github.com/repos/rust-lang/rust/commits/92783e39de26a114389c1e45a29ccbe75698dd2a", "html_url": "https://github.com/rust-lang/rust/commit/92783e39de26a114389c1e45a29ccbe75698dd2a"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "556b67e0b3742ec1eee0165cf5937b38d8167d9b", "filename": "clippy_dev/src/update_lints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c5774f94efd60b60fc7120ba3d6de7f79b05681b/clippy_dev%2Fsrc%2Fupdate_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c5774f94efd60b60fc7120ba3d6de7f79b05681b/clippy_dev%2Fsrc%2Fupdate_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fupdate_lints.rs?ref=c5774f94efd60b60fc7120ba3d6de7f79b05681b", "patch": "@@ -29,7 +29,7 @@ pub fn run(update_mode: UpdateMode) {\n         false,\n         update_mode == UpdateMode::Change,\n         || {\n-            format!(\"pub static ref ALL_LINTS: Vec<Lint> = vec!{:#?};\", sorted_usable_lints)\n+            format!(\"vec!{:#?}\", sorted_usable_lints)\n                 .lines()\n                 .map(ToString::to_string)\n                 .collect::<Vec<_>>()"}, {"sha": "c9b07855af10d453ffda4ee5e1c37959a625a311", "filename": "src/driver.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c5774f94efd60b60fc7120ba3d6de7f79b05681b/src%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c5774f94efd60b60fc7120ba3d6de7f79b05681b/src%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdriver.rs?ref=c5774f94efd60b60fc7120ba3d6de7f79b05681b", "patch": "@@ -1,4 +1,5 @@\n #![feature(rustc_private)]\n+#![feature(once_cell)]\n #![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n // warn on lints, that are included in `rust-lang/rust`s bootstrap\n #![warn(rust_2018_idioms, unused_lifetimes)]"}, {"sha": "624223ff70620592a1b358fd2ba9a4a1130018ea", "filename": "src/lintlist/mod.rs", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/c5774f94efd60b60fc7120ba3d6de7f79b05681b/src%2Flintlist%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c5774f94efd60b60fc7120ba3d6de7f79b05681b/src%2Flintlist%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flintlist%2Fmod.rs?ref=c5774f94efd60b60fc7120ba3d6de7f79b05681b", "patch": "@@ -1,15 +1,16 @@\n-//! This file is managed by `cargo dev update_lints`. Do not edit.\n+//! This file is managed by `cargo dev update_lints`. Do not edit or format this file.\n \n-use lazy_static::lazy_static;\n+use std::lazy::SyncLazy;\n \n pub mod lint;\n pub use lint::Level;\n pub use lint::Lint;\n pub use lint::LINT_LEVELS;\n \n-lazy_static! {\n+#[rustfmt::skip]\n+pub static ALL_LINTS: SyncLazy<Vec<Lint>> = SyncLazy::new(|| {\n // begin lint list, do not remove this comment, it\u2019s used in `update_lints`\n-pub static ref ALL_LINTS: Vec<Lint> = vec![\n+vec![\n     Lint {\n         name: \"absurd_extreme_comparisons\",\n         group: \"correctness\",\n@@ -2831,6 +2832,6 @@ pub static ref ALL_LINTS: Vec<Lint> = vec![\n         deprecation: None,\n         module: \"methods\",\n     },\n-];\n+]\n // end lint list, do not remove this comment, it\u2019s used in `update_lints`\n-}\n+});"}]}