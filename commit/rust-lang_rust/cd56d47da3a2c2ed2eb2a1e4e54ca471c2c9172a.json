{"sha": "cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkNTZkNDdkYTNhMmMyZWQyZWIyYTFlNGU1NGNhNDcxYzJjOTE3MmE=", "commit": {"author": {"name": "Gavin Baker", "email": "gavinb@antonym.org", "date": "2016-08-30T01:44:25Z"}, "committer": {"name": "Gavin Baker", "email": "gavinb@antonym.org", "date": "2016-09-05T14:21:04Z"}, "message": "E0518 Update error format #36111\n\n- Fixes #36111\n- Part of #35233", "tree": {"sha": "5ebd71a664d986df2afe6ac6377451df58ace5e0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5ebd71a664d986df2afe6ac6377451df58ace5e0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a", "html_url": "https://github.com/rust-lang/rust/commit/cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a/comments", "author": {"login": "gavinb", "id": 158326, "node_id": "MDQ6VXNlcjE1ODMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/158326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gavinb", "html_url": "https://github.com/gavinb", "followers_url": "https://api.github.com/users/gavinb/followers", "following_url": "https://api.github.com/users/gavinb/following{/other_user}", "gists_url": "https://api.github.com/users/gavinb/gists{/gist_id}", "starred_url": "https://api.github.com/users/gavinb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gavinb/subscriptions", "organizations_url": "https://api.github.com/users/gavinb/orgs", "repos_url": "https://api.github.com/users/gavinb/repos", "events_url": "https://api.github.com/users/gavinb/events{/privacy}", "received_events_url": "https://api.github.com/users/gavinb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "gavinb", "id": 158326, "node_id": "MDQ6VXNlcjE1ODMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/158326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gavinb", "html_url": "https://github.com/gavinb", "followers_url": "https://api.github.com/users/gavinb/followers", "following_url": "https://api.github.com/users/gavinb/following{/other_user}", "gists_url": "https://api.github.com/users/gavinb/gists{/gist_id}", "starred_url": "https://api.github.com/users/gavinb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gavinb/subscriptions", "organizations_url": "https://api.github.com/users/gavinb/orgs", "repos_url": "https://api.github.com/users/gavinb/repos", "events_url": "https://api.github.com/users/gavinb/events{/privacy}", "received_events_url": "https://api.github.com/users/gavinb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8bcd6a33bebb8177781ae07ea1fc0d4a9a679627", "url": "https://api.github.com/repos/rust-lang/rust/commits/8bcd6a33bebb8177781ae07ea1fc0d4a9a679627", "html_url": "https://github.com/rust-lang/rust/commit/8bcd6a33bebb8177781ae07ea1fc0d4a9a679627"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "8ba52cdb64f5fd83a6c274f2dfa3720f676fdfdd", "filename": "src/librustc/hir/check_attr.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a/src%2Flibrustc%2Fhir%2Fcheck_attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a/src%2Flibrustc%2Fhir%2Fcheck_attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fcheck_attr.rs?ref=cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a", "patch": "@@ -42,7 +42,9 @@ struct CheckAttrVisitor<'a> {\n impl<'a> CheckAttrVisitor<'a> {\n     fn check_inline(&self, attr: &ast::Attribute, target: Target) {\n         if target != Target::Fn {\n-            span_err!(self.sess, attr.span, E0518, \"attribute should be applied to function\");\n+            struct_span_err!(self.sess, attr.span, E0518, \"attribute should be applied to function\")\n+                .span_label(attr.span, &format!(\"requires a function\"))\n+                .emit();\n         }\n     }\n "}, {"sha": "f9494e0bcb5310bcd385c879d095c9cbce4cb007", "filename": "src/test/compile-fail/E0518.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a/src%2Ftest%2Fcompile-fail%2FE0518.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a/src%2Ftest%2Fcompile-fail%2FE0518.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0518.rs?ref=cd56d47da3a2c2ed2eb2a1e4e54ca471c2c9172a", "patch": "@@ -9,9 +9,11 @@\n // except according to those terms.\n \n #[inline(always)] //~ ERROR E0518\n+                  //~| requires a function\n struct Foo;\n \n #[inline(never)] //~ ERROR E0518\n+                 //~| requires a function\n impl Foo {\n }\n "}]}