{"sha": "22339c340615d6c8ad6a05bf4ff339113c19d968", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIyMzM5YzM0MDYxNWQ2YzhhZDZhMDViZjRmZjMzOTExM2MxOWQ5Njg=", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2020-03-01T19:21:09Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2020-03-01T20:17:48Z"}, "message": "use  for (idx, item) in iter.enumerate()  instead of manually counting loop iterations by variables", "tree": {"sha": "9a9ff960a680a17039eb704c264a80db6510a6a6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9a9ff960a680a17039eb704c264a80db6510a6a6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/22339c340615d6c8ad6a05bf4ff339113c19d968", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/22339c340615d6c8ad6a05bf4ff339113c19d968", "html_url": "https://github.com/rust-lang/rust/commit/22339c340615d6c8ad6a05bf4ff339113c19d968", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/22339c340615d6c8ad6a05bf4ff339113c19d968/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "03aecda83ad54098266e9e44cc04e0b37c3cf47a", "url": "https://api.github.com/repos/rust-lang/rust/commits/03aecda83ad54098266e9e44cc04e0b37c3cf47a", "html_url": "https://github.com/rust-lang/rust/commit/03aecda83ad54098266e9e44cc04e0b37c3cf47a"}], "stats": {"total": 11, "additions": 4, "deletions": 7}, "files": [{"sha": "641f904ae695917dcad9c4cb19ebf2b7360443d0", "filename": "src/librustc/ty/layout.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/22339c340615d6c8ad6a05bf4ff339113c19d968/src%2Flibrustc%2Fty%2Flayout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/22339c340615d6c8ad6a05bf4ff339113c19d968/src%2Flibrustc%2Fty%2Flayout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Flayout.rs?ref=22339c340615d6c8ad6a05bf4ff339113c19d968", "patch": "@@ -1382,10 +1382,8 @@ impl<'tcx> LayoutCx<'tcx, TyCtxt<'tcx>> {\n \n         // Write down the order of our locals that will be promoted to the prefix.\n         {\n-            let mut idx = 0u32;\n-            for local in ineligible_locals.iter() {\n-                assignments[local] = Ineligible(Some(idx));\n-                idx += 1;\n+            for (idx, local) in ineligible_locals.iter().enumerate() {\n+                assignments[local] = Ineligible(Some(idx as u32));\n             }\n         }\n         debug!(\"generator saved local assignments: {:?}\", assignments);"}, {"sha": "eb9d4b887ad1d192edce00390260c99e4af1d23d", "filename": "src/librustc_errors/emitter.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/22339c340615d6c8ad6a05bf4ff339113c19d968/src%2Flibrustc_errors%2Femitter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/22339c340615d6c8ad6a05bf4ff339113c19d968/src%2Flibrustc_errors%2Femitter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Femitter.rs?ref=22339c340615d6c8ad6a05bf4ff339113c19d968", "patch": "@@ -1574,9 +1574,9 @@ impl EmitterWriter {\n \n             let line_start = sm.lookup_char_pos(parts[0].span.lo()).line;\n             draw_col_separator_no_space(&mut buffer, 1, max_line_num_len + 1);\n-            let mut line_pos = 0;\n             let mut lines = complete.lines();\n-            for line in lines.by_ref().take(MAX_SUGGESTION_HIGHLIGHT_LINES) {\n+            for (line_pos, line) in lines.by_ref().take(MAX_SUGGESTION_HIGHLIGHT_LINES).enumerate()\n+            {\n                 // Print the span column to avoid confusion\n                 buffer.puts(\n                     row_num,\n@@ -1587,7 +1587,6 @@ impl EmitterWriter {\n                 // print the suggestion\n                 draw_col_separator(&mut buffer, row_num, max_line_num_len + 1);\n                 buffer.append(row_num, line, Style::NoStyle);\n-                line_pos += 1;\n                 row_num += 1;\n             }\n "}]}