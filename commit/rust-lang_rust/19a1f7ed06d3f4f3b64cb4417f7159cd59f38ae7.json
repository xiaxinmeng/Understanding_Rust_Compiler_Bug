{"sha": "19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE5YTFmN2VkMDZkM2Y0ZjNiNjRjYjQ0MTdmNzE1OWNkNTlmMzhhZTc=", "commit": {"author": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2015-01-30T16:17:26Z"}, "committer": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2015-01-30T16:22:45Z"}, "message": "Don't use as_slice() in docs\n\nUse deref coercions instead.", "tree": {"sha": "c2cef75a734b59d26498720cc6975cebc19eed3b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c2cef75a734b59d26498720cc6975cebc19eed3b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7", "html_url": "https://github.com/rust-lang/rust/commit/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/comments", "author": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "committer": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e0f5980ead4f88e78a47f4d84da4dc11472f66ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/e0f5980ead4f88e78a47f4d84da4dc11472f66ba", "html_url": "https://github.com/rust-lang/rust/commit/e0f5980ead4f88e78a47f4d84da4dc11472f66ba"}], "stats": {"total": 38, "additions": 9, "deletions": 29}, "files": [{"sha": "86b7af9477e5fa84b1be74a3142b27932aa2d96f", "filename": "src/doc/reference.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/src%2Fdoc%2Freference.md", "raw_url": "https://github.com/rust-lang/rust/raw/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/src%2Fdoc%2Freference.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Freference.md?ref=19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7", "patch": "@@ -3518,7 +3518,7 @@ An example of each kind:\n ```{rust}\n let vec: Vec<i32> = vec![1, 2, 3];\n let arr: [i32; 3] = [1, 2, 3];\n-let s: &[i32] = vec.as_slice();\n+let s: &[i32] = &vec;\n ```\n \n As you can see, the `vec!` macro allows you to create a `Vec<T>` easily. The"}, {"sha": "986ad23c665a705a9b34a9fb11abd3c39ffcae00", "filename": "src/doc/trpl/more-strings.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/src%2Fdoc%2Ftrpl%2Fmore-strings.md", "raw_url": "https://github.com/rust-lang/rust/raw/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/src%2Fdoc%2Ftrpl%2Fmore-strings.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Fmore-strings.md?ref=19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7", "patch": "@@ -100,7 +100,7 @@ To write a function that's generic over types of strings, use `&str`.\n \n ```\n fn some_string_length(x: &str) -> uint {\n-        x.len()\n+    x.len()\n }\n \n fn main() {\n@@ -110,7 +110,7 @@ fn main() {\n \n     let s = \"Hello, world\".to_string();\n \n-    println!(\"{}\", some_string_length(s.as_slice()));\n+    println!(\"{}\", some_string_length(&s));\n }\n ```\n "}, {"sha": "8240689c24b7c61d38d0e4264a837cbcd2f785cf", "filename": "src/doc/trpl/patterns.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/src%2Fdoc%2Ftrpl%2Fpatterns.md", "raw_url": "https://github.com/rust-lang/rust/raw/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/src%2Fdoc%2Ftrpl%2Fpatterns.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Fpatterns.md?ref=19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7", "patch": "@@ -174,13 +174,13 @@ match origin {\n }\n ```\n \n-If you want to match against a slice or array, you can use `[]`:\n+If you want to match against a slice or array, you can use `&`:\n \n ```{rust}\n fn main() {\n     let v = vec![\"match_this\", \"1\"];\n \n-    match v.as_slice() {\n+    match &v {\n         [\"match_this\", second] => println!(\"The second element is {}\", second),\n         _ => {},\n     }"}, {"sha": "5ff233b4844157f78450859bc9a5cf7335595768", "filename": "src/doc/trpl/plugins.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/src%2Fdoc%2Ftrpl%2Fplugins.md", "raw_url": "https://github.com/rust-lang/rust/raw/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/src%2Fdoc%2Ftrpl%2Fplugins.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Fplugins.md?ref=19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7", "patch": "@@ -82,7 +82,7 @@ fn expand_rn(cx: &mut ExtCtxt, sp: Span, args: &[TokenTree])\n         }\n     };\n \n-    let mut text = text.as_slice();\n+    let mut text = &text;\n     let mut total = 0;\n     while !text.is_empty() {\n         match NUMERALS.iter().find(|&&(rn, _)| text.starts_with(rn)) {"}, {"sha": "e05c6e172a49e9d5dafd6dd355702de4be60a510", "filename": "src/doc/trpl/strings.md", "status": "modified", "additions": 3, "deletions": 23, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/src%2Fdoc%2Ftrpl%2Fstrings.md", "raw_url": "https://github.com/rust-lang/rust/raw/19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7/src%2Fdoc%2Ftrpl%2Fstrings.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Fstrings.md?ref=19a1f7ed06d3f4f3b64cb4417f7159cd59f38ae7", "patch": "@@ -36,36 +36,16 @@ s.push_str(\", world.\");\n println!(\"{}\", s);\n ```\n \n-You can get a `&str` view into a `String` with the `as_slice()` method:\n+`String`s will coerece into `&str` with an `&`:\n \n-```{rust}\n+```\n fn takes_slice(slice: &str) {\n     println!(\"Got: {}\", slice);\n }\n \n fn main() {\n     let s = \"Hello\".to_string();\n-    takes_slice(s.as_slice());\n-}\n-```\n-\n-To compare a String to a constant string, prefer `as_slice()`...\n-\n-```{rust}\n-fn compare(string: String) {\n-    if string.as_slice() == \"Hello\" {\n-        println!(\"yes\");\n-    }\n-}\n-```\n-\n-... over `to_string()`:\n-\n-```{rust}\n-fn compare(string: String) {\n-    if string == \"Hello\".to_string() {\n-        println!(\"yes\");\n-    }\n+    takes_slice(&s);\n }\n ```\n "}]}