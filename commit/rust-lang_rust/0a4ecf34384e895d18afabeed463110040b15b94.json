{"sha": "0a4ecf34384e895d18afabeed463110040b15b94", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBhNGVjZjM0Mzg0ZTg5NWQxOGFmYWJlZWQ0NjMxMTAwNDBiMTViOTQ=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-03-11T16:50:50Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-03-23T20:05:30Z"}, "message": "Mark duplicate import removal suggestion tool only", "tree": {"sha": "e4c3f7cc43737836c377ebbf72466c278a750585", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e4c3f7cc43737836c377ebbf72466c278a750585"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0a4ecf34384e895d18afabeed463110040b15b94", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0a4ecf34384e895d18afabeed463110040b15b94", "html_url": "https://github.com/rust-lang/rust/commit/0a4ecf34384e895d18afabeed463110040b15b94", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0a4ecf34384e895d18afabeed463110040b15b94/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ce90db1ff103224bc2a63e7a9ac503259fbe7eb0", "url": "https://api.github.com/repos/rust-lang/rust/commits/ce90db1ff103224bc2a63e7a9ac503259fbe7eb0", "html_url": "https://github.com/rust-lang/rust/commit/ce90db1ff103224bc2a63e7a9ac503259fbe7eb0"}], "stats": {"total": 12, "additions": 1, "deletions": 11}, "files": [{"sha": "38ca5f0b6640a85e992383d78d1806cb3463c8ef", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0a4ecf34384e895d18afabeed463110040b15b94/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a4ecf34384e895d18afabeed463110040b15b94/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=0a4ecf34384e895d18afabeed463110040b15b94", "patch": "@@ -4932,7 +4932,7 @@ impl<'a> Resolver<'a> {\n             Some((directive, _, true)) if should_remove_import && !directive.is_glob() => {\n                 // Simple case - remove the entire import. Due to the above match arm, this can\n                 // only be a single use so just remove it entirely.\n-                err.span_suggestion_hidden(\n+                err.tool_only_span_suggestion(\n                     directive.use_span_with_attributes,\n                     \"remove unnecessary import\",\n                     String::new(),"}, {"sha": "a2f30d82ec38bda4562bb147d4cdad340fa67f7e", "filename": "src/test/ui/double-type-import.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fdouble-type-import.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fdouble-type-import.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdouble-type-import.stderr?ref=0a4ecf34384e895d18afabeed463110040b15b94", "patch": "@@ -7,7 +7,6 @@ LL |     use self::bar::X;\n    |         ^^^^^^^^^^^^ `X` reimported here\n    |\n    = note: `X` must be defined only once in the type namespace of this module\n-   = help: remove unnecessary import\n \n error: aborting due to previous error\n "}, {"sha": "cc897b2b6b7e97ba2bebd88b39585c95f5b7c8f0", "filename": "src/test/ui/imports/duplicate.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fimports%2Fduplicate.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fimports%2Fduplicate.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fduplicate.stderr?ref=0a4ecf34384e895d18afabeed463110040b15b94", "patch": "@@ -7,7 +7,6 @@ LL |     use a::foo;\n    |         ^^^^^^ `foo` reimported here\n    |\n    = note: `foo` must be defined only once in the value namespace of this module\n-   = help: remove unnecessary import\n \n error[E0659]: `foo` is ambiguous (glob import vs glob import in the same module)\n   --> $DIR/duplicate.rs:46:15"}, {"sha": "e2b925ec5a70587a8871285612b2c1ac5c49c91e", "filename": "src/test/ui/issues/issue-26886.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fissues%2Fissue-26886.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fissues%2Fissue-26886.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-26886.stderr?ref=0a4ecf34384e895d18afabeed463110040b15b94", "patch": "@@ -7,7 +7,6 @@ LL | use std::sync::Arc;\n    |     ^^^^^^^^^^^^^^ `Arc` reimported here\n    |\n    = note: `Arc` must be defined only once in the type namespace of this module\n-   = help: remove unnecessary import\n \n error[E0252]: the name `sync` is defined multiple times\n   --> $DIR/issue-26886.rs:4:5\n@@ -19,7 +18,6 @@ LL | use std::sync;\n    |     ^^^^^^^^^ `sync` reimported here\n    |\n    = note: `sync` must be defined only once in the type namespace of this module\n-   = help: remove unnecessary import\n \n error: aborting due to 2 previous errors\n "}, {"sha": "9173c02bcd8661dbe5dfaa101760a5bcedcd40dc", "filename": "src/test/ui/issues/issue-52891.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fissues%2Fissue-52891.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fissues%2Fissue-52891.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-52891.stderr?ref=0a4ecf34384e895d18afabeed463110040b15b94", "patch": "@@ -7,7 +7,6 @@ LL | use issue_52891::a;\n    |     ^^^^^^^^^^^^^^ `a` reimported here\n    |\n    = note: `a` must be defined only once in the type namespace of this module\n-   = help: remove unnecessary import\n \n error[E0252]: the name `a` is defined multiple times\n   --> $DIR/issue-52891.rs:14:19\n@@ -125,7 +124,6 @@ LL | use issue_52891::n;\n    |     ^^^^^^^^^^^^^^ `n` reimported here\n    |\n    = note: `n` must be defined only once in the type namespace of this module\n-   = help: remove unnecessary import\n \n error: aborting due to 10 previous errors\n "}, {"sha": "08057e163496dd633147ee3d5922ebe8f63760f9", "filename": "src/test/ui/proc-macro/shadow.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fproc-macro%2Fshadow.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fproc-macro%2Fshadow.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fshadow.stderr?ref=0a4ecf34384e895d18afabeed463110040b15b94", "patch": "@@ -8,7 +8,6 @@ LL | extern crate derive_a;\n    | ^^^^^^^^^^^^^^^^^^^^^^ `derive_a` reimported here\n    |\n    = note: `derive_a` must be defined only once in the type namespace of this module\n-   = help: remove unnecessary import\n \n error: aborting due to previous error\n "}, {"sha": "8df68ad3229edcaa21dd3e0ff12acbe2fa03764f", "filename": "src/test/ui/resolve/resolve-conflict-import-vs-import.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fresolve%2Fresolve-conflict-import-vs-import.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fresolve%2Fresolve-conflict-import-vs-import.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fresolve-conflict-import-vs-import.stderr?ref=0a4ecf34384e895d18afabeed463110040b15b94", "patch": "@@ -7,7 +7,6 @@ LL | use std::mem::transmute;\n    |     ^^^^^^^^^^^^^^^^^^^ `transmute` reimported here\n    |\n    = note: `transmute` must be defined only once in the value namespace of this module\n-   = help: remove unnecessary import\n \n error: aborting due to previous error\n "}, {"sha": "28333228a29baccd46f54bdc8b816421e3a2cdba", "filename": "src/test/ui/unresolved/unresolved-extern-mod-suggestion.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Funresolved%2Funresolved-extern-mod-suggestion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Funresolved%2Funresolved-extern-mod-suggestion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funresolved%2Funresolved-extern-mod-suggestion.stderr?ref=0a4ecf34384e895d18afabeed463110040b15b94", "patch": "@@ -7,7 +7,6 @@ LL | use core;\n    |     ^^^^ `core` reimported here\n    |\n    = note: `core` must be defined only once in the type namespace of this module\n-   = help: remove unnecessary import\n \n error: aborting due to previous error\n "}, {"sha": "b09001a9bcd45b8f4458689a10af81616c90fb40", "filename": "src/test/ui/use/use-paths-as-items.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fuse%2Fuse-paths-as-items.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0a4ecf34384e895d18afabeed463110040b15b94/src%2Ftest%2Fui%2Fuse%2Fuse-paths-as-items.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuse%2Fuse-paths-as-items.stderr?ref=0a4ecf34384e895d18afabeed463110040b15b94", "patch": "@@ -7,7 +7,6 @@ LL | use std::mem;\n    |     ^^^^^^^^ `mem` reimported here\n    |\n    = note: `mem` must be defined only once in the type namespace of this module\n-   = help: remove unnecessary import\n \n error: aborting due to previous error\n "}]}