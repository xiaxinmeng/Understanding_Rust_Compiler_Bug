{"sha": "5dd602f90162cc3ec89751d76265c761b5aa2797", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkZDYwMmY5MDE2MmNjM2VjODk3NTFkNzYyNjVjNzYxYjVhYTI3OTc=", "commit": {"author": {"name": "DJMcNab", "email": "36049421+DJMcNab@users.noreply.github.com", "date": "2018-12-29T22:45:01Z"}, "committer": {"name": "DJMcNab", "email": "36049421+DJMcNab@users.noreply.github.com", "date": "2018-12-29T22:45:01Z"}, "message": "Reuse has_rs_extension in io.rs", "tree": {"sha": "7faaff4e5e54baeeabd614e363c8f59ab33b66ae", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7faaff4e5e54baeeabd614e363c8f59ab33b66ae"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5dd602f90162cc3ec89751d76265c761b5aa2797", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5dd602f90162cc3ec89751d76265c761b5aa2797", "html_url": "https://github.com/rust-lang/rust/commit/5dd602f90162cc3ec89751d76265c761b5aa2797", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5dd602f90162cc3ec89751d76265c761b5aa2797/comments", "author": {"login": "DJMcNab", "id": 36049421, "node_id": "MDQ6VXNlcjM2MDQ5NDIx", "avatar_url": "https://avatars.githubusercontent.com/u/36049421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DJMcNab", "html_url": "https://github.com/DJMcNab", "followers_url": "https://api.github.com/users/DJMcNab/followers", "following_url": "https://api.github.com/users/DJMcNab/following{/other_user}", "gists_url": "https://api.github.com/users/DJMcNab/gists{/gist_id}", "starred_url": "https://api.github.com/users/DJMcNab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DJMcNab/subscriptions", "organizations_url": "https://api.github.com/users/DJMcNab/orgs", "repos_url": "https://api.github.com/users/DJMcNab/repos", "events_url": "https://api.github.com/users/DJMcNab/events{/privacy}", "received_events_url": "https://api.github.com/users/DJMcNab/received_events", "type": "User", "site_admin": false}, "committer": {"login": "DJMcNab", "id": 36049421, "node_id": "MDQ6VXNlcjM2MDQ5NDIx", "avatar_url": "https://avatars.githubusercontent.com/u/36049421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DJMcNab", "html_url": "https://github.com/DJMcNab", "followers_url": "https://api.github.com/users/DJMcNab/followers", "following_url": "https://api.github.com/users/DJMcNab/following{/other_user}", "gists_url": "https://api.github.com/users/DJMcNab/gists{/gist_id}", "starred_url": "https://api.github.com/users/DJMcNab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DJMcNab/subscriptions", "organizations_url": "https://api.github.com/users/DJMcNab/orgs", "repos_url": "https://api.github.com/users/DJMcNab/repos", "events_url": "https://api.github.com/users/DJMcNab/events{/privacy}", "received_events_url": "https://api.github.com/users/DJMcNab/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "07202f944c556ef71f6d6676189db73ed5980992", "url": "https://api.github.com/repos/rust-lang/rust/commits/07202f944c556ef71f6d6676189db73ed5980992", "html_url": "https://github.com/rust-lang/rust/commit/07202f944c556ef71f6d6676189db73ed5980992"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "4cfdb83da2a711802e41b0b123f4530a8efb3334", "filename": "crates/ra_vfs/src/io.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5dd602f90162cc3ec89751d76265c761b5aa2797/crates%2Fra_vfs%2Fsrc%2Fio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5dd602f90162cc3ec89751d76265c761b5aa2797/crates%2Fra_vfs%2Fsrc%2Fio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_vfs%2Fsrc%2Fio.rs?ref=5dd602f90162cc3ec89751d76265c761b5aa2797", "patch": "@@ -8,7 +8,7 @@ use walkdir::{DirEntry, WalkDir};\n use thread_worker::{WorkerHandle};\n use relative_path::RelativePathBuf;\n \n-use crate::VfsRoot;\n+use crate::{VfsRoot, has_rs_extension};\n \n pub(crate) struct Task {\n     pub(crate) root: VfsRoot,\n@@ -59,7 +59,7 @@ fn load_root(root: &Path, filter: &dyn Fn(&DirEntry) -> bool) -> Vec<(RelativePa\n             continue;\n         }\n         let path = entry.path();\n-        if path.extension().and_then(|os| os.to_str()) != Some(\"rs\") {\n+        if !has_rs_extension(path) {\n             continue;\n         }\n         let text = match fs::read_to_string(path) {"}]}