{"sha": "e513d7b5049092c3797cc30e13d658efb11ad17a", "node_id": "C_kwDOAAsO6NoAKGU1MTNkN2I1MDQ5MDkyYzM3OTdjYzMwZTEzZDY1OGVmYjExYWQxN2E", "commit": {"author": {"name": "Dorian Scheidt", "email": "dorian.scheidt@gmail.com", "date": "2022-08-18T23:20:06Z"}, "committer": {"name": "Dorian Scheidt", "email": "dorian.scheidt@gmail.com", "date": "2022-08-18T23:20:06Z"}, "message": "Replace tuple with TargetInfo struct", "tree": {"sha": "72498fe758e31958e8827ca6b835bb9b3e092f75", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/72498fe758e31958e8827ca6b835bb9b3e092f75"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e513d7b5049092c3797cc30e13d658efb11ad17a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e513d7b5049092c3797cc30e13d658efb11ad17a", "html_url": "https://github.com/rust-lang/rust/commit/e513d7b5049092c3797cc30e13d658efb11ad17a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e513d7b5049092c3797cc30e13d658efb11ad17a/comments", "author": {"login": "DorianListens", "id": 5692947, "node_id": "MDQ6VXNlcjU2OTI5NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5692947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DorianListens", "html_url": "https://github.com/DorianListens", "followers_url": "https://api.github.com/users/DorianListens/followers", "following_url": "https://api.github.com/users/DorianListens/following{/other_user}", "gists_url": "https://api.github.com/users/DorianListens/gists{/gist_id}", "starred_url": "https://api.github.com/users/DorianListens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DorianListens/subscriptions", "organizations_url": "https://api.github.com/users/DorianListens/orgs", "repos_url": "https://api.github.com/users/DorianListens/repos", "events_url": "https://api.github.com/users/DorianListens/events{/privacy}", "received_events_url": "https://api.github.com/users/DorianListens/received_events", "type": "User", "site_admin": false}, "committer": {"login": "DorianListens", "id": 5692947, "node_id": "MDQ6VXNlcjU2OTI5NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5692947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DorianListens", "html_url": "https://github.com/DorianListens", "followers_url": "https://api.github.com/users/DorianListens/followers", "following_url": "https://api.github.com/users/DorianListens/following{/other_user}", "gists_url": "https://api.github.com/users/DorianListens/gists{/gist_id}", "starred_url": "https://api.github.com/users/DorianListens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DorianListens/subscriptions", "organizations_url": "https://api.github.com/users/DorianListens/orgs", "repos_url": "https://api.github.com/users/DorianListens/repos", "events_url": "https://api.github.com/users/DorianListens/events{/privacy}", "received_events_url": "https://api.github.com/users/DorianListens/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "30eabeb95d047b91268a70c5170b6374c6bab622", "url": "https://api.github.com/repos/rust-lang/rust/commits/30eabeb95d047b91268a70c5170b6374c6bab622", "html_url": "https://github.com/rust-lang/rust/commit/30eabeb95d047b91268a70c5170b6374c6bab622"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "dee5fea2330f315e11d420bc949ce62f4899767b", "filename": "crates/ide-assists/src/handlers/generate_function.rs", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e513d7b5049092c3797cc30e13d658efb11ad17a/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fgenerate_function.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e513d7b5049092c3797cc30e13d658efb11ad17a/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fgenerate_function.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fgenerate_function.rs?ref=e513d7b5049092c3797cc30e13d658efb11ad17a", "patch": "@@ -61,7 +61,7 @@ fn gen_fn(acc: &mut Assists, ctx: &AssistContext<'_>) -> Option<()> {\n     }\n \n     let fn_name = &*name_ref.text();\n-    let (target_module, adt_name, target, file, insert_offset) =\n+    let TargetInfo { target_module, adt_name, target, file, insert_offset } =\n         fn_target_info(path, ctx, &call, fn_name)?;\n     let function_builder = FunctionBuilder::from_call(ctx, &call, fn_name, target_module, target)?;\n     let text_range = call.syntax().text_range();\n@@ -78,12 +78,20 @@ fn gen_fn(acc: &mut Assists, ctx: &AssistContext<'_>) -> Option<()> {\n     )\n }\n \n+struct TargetInfo {\n+    target_module: Option<Module>,\n+    adt_name: Option<hir::Name>,\n+    target: GeneratedFunctionTarget,\n+    file: FileId,\n+    insert_offset: TextSize,\n+}\n+\n fn fn_target_info(\n     path: ast::Path,\n     ctx: &AssistContext<'_>,\n     call: &CallExpr,\n     fn_name: &str,\n-) -> Option<(Option<Module>, Option<hir::Name>, GeneratedFunctionTarget, FileId, TextSize)> {\n+) -> Option<TargetInfo> {\n     let mut target_module = None;\n     let mut adt_name = None;\n     let (target, file, insert_offset) = match path.qualifier() {\n@@ -115,7 +123,7 @@ fn fn_target_info(\n             get_fn_target(ctx, &target_module, call.clone())?\n         }\n     };\n-    Some((target_module, adt_name, target, file, insert_offset))\n+    Some(TargetInfo { target_module, adt_name, target, file, insert_offset })\n }\n \n fn gen_method(acc: &mut Assists, ctx: &AssistContext<'_>) -> Option<()> {"}]}