{"sha": "f6367c41dc2f8d262c741100b24396afc62d9389", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY2MzY3YzQxZGMyZjhkMjYyYzc0MTEwMGIyNDM5NmFmYzYyZDkzODk=", "commit": {"author": {"name": "Jane Lusby", "email": "jlusby42@gmail.com", "date": "2019-06-08T18:29:27Z"}, "committer": {"name": "Jane Lusby", "email": "jlusby42@gmail.com", "date": "2019-06-12T19:29:37Z"}, "message": "switch to sorted usable lints", "tree": {"sha": "208260bddab863d79ac6704b317c0e6735341deb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/208260bddab863d79ac6704b317c0e6735341deb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f6367c41dc2f8d262c741100b24396afc62d9389", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f6367c41dc2f8d262c741100b24396afc62d9389", "html_url": "https://github.com/rust-lang/rust/commit/f6367c41dc2f8d262c741100b24396afc62d9389", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f6367c41dc2f8d262c741100b24396afc62d9389/comments", "author": {"login": "yaahc", "id": 1993852, "node_id": "MDQ6VXNlcjE5OTM4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1993852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaahc", "html_url": "https://github.com/yaahc", "followers_url": "https://api.github.com/users/yaahc/followers", "following_url": "https://api.github.com/users/yaahc/following{/other_user}", "gists_url": "https://api.github.com/users/yaahc/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaahc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaahc/subscriptions", "organizations_url": "https://api.github.com/users/yaahc/orgs", "repos_url": "https://api.github.com/users/yaahc/repos", "events_url": "https://api.github.com/users/yaahc/events{/privacy}", "received_events_url": "https://api.github.com/users/yaahc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "yaahc", "id": 1993852, "node_id": "MDQ6VXNlcjE5OTM4NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1993852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaahc", "html_url": "https://github.com/yaahc", "followers_url": "https://api.github.com/users/yaahc/followers", "following_url": "https://api.github.com/users/yaahc/following{/other_user}", "gists_url": "https://api.github.com/users/yaahc/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaahc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaahc/subscriptions", "organizations_url": "https://api.github.com/users/yaahc/orgs", "repos_url": "https://api.github.com/users/yaahc/repos", "events_url": "https://api.github.com/users/yaahc/events{/privacy}", "received_events_url": "https://api.github.com/users/yaahc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "44b849521eed8ea901dd0808b4d977ff1ac70ff9", "url": "https://api.github.com/repos/rust-lang/rust/commits/44b849521eed8ea901dd0808b4d977ff1ac70ff9", "html_url": "https://github.com/rust-lang/rust/commit/44b849521eed8ea901dd0808b4d977ff1ac70ff9"}], "stats": {"total": 2369, "additions": 1121, "deletions": 1248}, "files": [{"sha": "4c50cc3b81e3d00a26f0b857bc1748ed93dc2904", "filename": "clippy_dev/src/main.rs", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/f6367c41dc2f8d262c741100b24396afc62d9389/clippy_dev%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6367c41dc2f8d262c741100b24396afc62d9389/clippy_dev%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fmain.rs?ref=f6367c41dc2f8d262c741100b24396afc62d9389", "patch": "@@ -88,10 +88,18 @@ fn print_lints() {\n fn update_lints(update_mode: &UpdateMode) {\n     let lint_list: Vec<Lint> = gather_all().collect();\n \n+    let usable_lints: Vec<Lint> = Lint::usable_lints(lint_list.clone().into_iter()).collect();\n+    let lint_count = usable_lints.len();\n+\n+    let mut sorted_usable_lints = usable_lints.clone();\n+    sorted_usable_lints.sort_by_key(|lint| lint.name.clone());\n+\n     std::fs::write(\n         \"../src/lintlist.rs\",\n         &format!(\n             \"\\\n+//! This file is managed by util/dev update_lints. Do not edit.\n+\n /// Lint data parsed from the Clippy source code.\n #[derive(Clone, PartialEq, Debug)]\n pub struct Lint {{\n@@ -103,15 +111,12 @@ pub struct Lint {{\n }}\n \n pub const ALL_LINTS: [Lint; {}] = {:#?};\\n\",\n-            lint_list.len(),\n-            lint_list\n+            sorted_usable_lints.len(),\n+            sorted_usable_lints\n         ),\n     )\n     .expect(\"can write to file\");\n \n-    let usable_lints: Vec<Lint> = Lint::usable_lints(lint_list.clone().into_iter()).collect();\n-    let lint_count = usable_lints.len();\n-\n     let mut file_change = replace_region_in_file(\n         \"../README.md\",\n         r#\"\\[There are \\d+ lints included in this crate!\\]\\(https://rust-lang.github.io/rust-clippy/master/index.html\\)\"#,"}, {"sha": "113f993dd8a30d9a726b2721de43ecdc2e4193d5", "filename": "src/lintlist.rs", "status": "modified", "additions": 1111, "deletions": 1243, "changes": 2354, "blob_url": "https://github.com/rust-lang/rust/blob/f6367c41dc2f8d262c741100b24396afc62d9389/src%2Flintlist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6367c41dc2f8d262c741100b24396afc62d9389/src%2Flintlist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flintlist.rs?ref=f6367c41dc2f8d262c741100b24396afc62d9389"}]}