{"sha": "384fae7fcd8e8063b30b3d318bcc8e545fca7d6b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4NGZhZTdmY2Q4ZTgwNjNiMzBiM2QzMThiY2M4ZTU0NWZjYTdkNmI=", "commit": {"author": {"name": "BooksBaum", "email": "15612932+Booksbaum@users.noreply.github.com", "date": "2021-08-13T17:16:36Z"}, "committer": {"name": "BooksBaum", "email": "15612932+Booksbaum@users.noreply.github.com", "date": "2021-08-17T17:23:06Z"}, "message": "Switch order of assists\n\nDestructure in sub-pattern before Destructure in place to favor the\nfirst one", "tree": {"sha": "65fafa99bb51a5b628ad8f2f75169187f0b48cc4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/65fafa99bb51a5b628ad8f2f75169187f0b48cc4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/384fae7fcd8e8063b30b3d318bcc8e545fca7d6b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEJTdsK5zmAD3L8AFljIMXU7iI9loFAmEb8HoACgkQjIMXU7iI\n9lof6g//RZujHkefqjrcBIafwOdfKdIRKjDL9hOQi/rUc/MxgLSKf6/CxLK3RE6t\n1Mp4K7xbuVZRfLly5yZaKvNkU5Fas2W3zHwHcKq7UXnLKcT2M46sN6774UEkwtzL\ncNbqxdbxH8j/jqG7h69KIec8dEKnZc4XZDVYq26FtktM8s5nOdlLxFQpErXvDCo1\ncAkvAOtUd9YdmXIQB8753KzCtDd4qEGhyU6KHkf4ID2gXjuHTufmcfZjBGZ469q2\nd8HAtcvMhhmWhMxDlS1Yl69hBfhmioU848GQhROw3cfEk4JwrvAHWLUQg6bpPjxX\ngzLFn2akZCWhHw55Jjoiz7U2R7nyuTFDI/S8gFFCs+X5fBczc8iBRBO6qMgp4Mxj\nusw+jbAj62Xkdc5Bk9myEMyPz/nkSnsyjGKMsCfw5KlKWGgGfuZynxNbB9Fx9mOX\ndxRwuSQgsCrEmCAvxzNQgWBGs3ZNfsZEayIvzgMmXQQ4Ii93Y917nlwx7ieoYhm9\n1kqKE0E0S7Bcxd5nYEqCLwh9KBooCBf8wAKesKx6rpBv9rudADYIHG5WrbnyfYxn\n8G/Si3cB5ABQ1il4uaHcl9FAoum3EECMC7XhFAKjA9aucIJnhxyO9Z/UhmkkAq6Y\nFiuA9OOvV03Y4/hj6gD38GaPzi4B18cdj3CCBqAjcgX8A0X0vkc=\n=6Q+F\n-----END PGP SIGNATURE-----", "payload": "tree 65fafa99bb51a5b628ad8f2f75169187f0b48cc4\nparent d0cf28322a2ae5a7df2bf739469b64754a3b9bd0\nauthor BooksBaum <15612932+Booksbaum@users.noreply.github.com> 1628874996 +0200\ncommitter BooksBaum <15612932+Booksbaum@users.noreply.github.com> 1629220986 +0200\n\nSwitch order of assists\n\nDestructure in sub-pattern before Destructure in place to favor the\nfirst one\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/384fae7fcd8e8063b30b3d318bcc8e545fca7d6b", "html_url": "https://github.com/rust-lang/rust/commit/384fae7fcd8e8063b30b3d318bcc8e545fca7d6b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/384fae7fcd8e8063b30b3d318bcc8e545fca7d6b/comments", "author": {"login": "Booksbaum", "id": 15612932, "node_id": "MDQ6VXNlcjE1NjEyOTMy", "avatar_url": "https://avatars.githubusercontent.com/u/15612932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Booksbaum", "html_url": "https://github.com/Booksbaum", "followers_url": "https://api.github.com/users/Booksbaum/followers", "following_url": "https://api.github.com/users/Booksbaum/following{/other_user}", "gists_url": "https://api.github.com/users/Booksbaum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Booksbaum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Booksbaum/subscriptions", "organizations_url": "https://api.github.com/users/Booksbaum/orgs", "repos_url": "https://api.github.com/users/Booksbaum/repos", "events_url": "https://api.github.com/users/Booksbaum/events{/privacy}", "received_events_url": "https://api.github.com/users/Booksbaum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Booksbaum", "id": 15612932, "node_id": "MDQ6VXNlcjE1NjEyOTMy", "avatar_url": "https://avatars.githubusercontent.com/u/15612932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Booksbaum", "html_url": "https://github.com/Booksbaum", "followers_url": "https://api.github.com/users/Booksbaum/followers", "following_url": "https://api.github.com/users/Booksbaum/following{/other_user}", "gists_url": "https://api.github.com/users/Booksbaum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Booksbaum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Booksbaum/subscriptions", "organizations_url": "https://api.github.com/users/Booksbaum/orgs", "repos_url": "https://api.github.com/users/Booksbaum/repos", "events_url": "https://api.github.com/users/Booksbaum/events{/privacy}", "received_events_url": "https://api.github.com/users/Booksbaum/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d0cf28322a2ae5a7df2bf739469b64754a3b9bd0", "url": "https://api.github.com/repos/rust-lang/rust/commits/d0cf28322a2ae5a7df2bf739469b64754a3b9bd0", "html_url": "https://github.com/rust-lang/rust/commit/d0cf28322a2ae5a7df2bf739469b64754a3b9bd0"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "1fe58442bf7eab5a0d7524b0f24db96724e5ed8f", "filename": "crates/ide_assists/src/handlers/destructure_tuple_binding.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/384fae7fcd8e8063b30b3d318bcc8e545fca7d6b/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fdestructure_tuple_binding.rs", "raw_url": "https://github.com/rust-lang/rust/raw/384fae7fcd8e8063b30b3d318bcc8e545fca7d6b/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fdestructure_tuple_binding.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fdestructure_tuple_binding.rs?ref=384fae7fcd8e8063b30b3d318bcc8e545fca7d6b", "patch": "@@ -58,16 +58,6 @@ pub(crate) fn destructure_tuple_binding_impl(\n     let ident_pat = ctx.find_node_at_offset::<ast::IdentPat>()?;\n     let data = collect_data(ident_pat, ctx)?;\n \n-    acc.add(\n-        AssistId(\"destructure_tuple_binding\", AssistKind::RefactorRewrite),\n-        if with_sub_pattern { \"Destructure tuple in place\" } else { \"Destructure tuple\" },\n-        data.range,\n-        |builder| {\n-            edit_tuple_assignment(&data, builder, ctx, false);\n-            edit_tuple_usages(&data, builder, ctx, false);\n-        },\n-    );\n-\n     if with_sub_pattern {\n         acc.add(\n             AssistId(\"destructure_tuple_binding_in_sub_pattern\", AssistKind::RefactorRewrite),\n@@ -80,6 +70,16 @@ pub(crate) fn destructure_tuple_binding_impl(\n         );\n     }\n \n+    acc.add(\n+        AssistId(\"destructure_tuple_binding\", AssistKind::RefactorRewrite),\n+        if with_sub_pattern { \"Destructure tuple in place\" } else { \"Destructure tuple\" },\n+        data.range,\n+        |builder| {\n+            edit_tuple_assignment(&data, builder, ctx, false);\n+            edit_tuple_usages(&data, builder, ctx, false);\n+        },\n+    );\n+\n     Some(())\n }\n "}]}