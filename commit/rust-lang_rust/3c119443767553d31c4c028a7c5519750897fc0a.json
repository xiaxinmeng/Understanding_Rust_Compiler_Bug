{"sha": "3c119443767553d31c4c028a7c5519750897fc0a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNjMTE5NDQzNzY3NTUzZDMxYzRjMDI4YTdjNTUxOTc1MDg5N2ZjMGE=", "commit": {"author": {"name": "Ferdia McKeogh", "email": "ferdia@mckeogh.tech", "date": "2019-07-16T05:51:13Z"}, "committer": {"name": "Ferdia McKeogh", "email": "ferdia@mckeogh.tech", "date": "2019-07-16T05:53:30Z"}, "message": "Suggested change", "tree": {"sha": "49c705dc0a0c343b0a96b32f7e1fbaea408e0f1e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/49c705dc0a0c343b0a96b32f7e1fbaea408e0f1e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3c119443767553d31c4c028a7c5519750897fc0a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEuT+BMYQxiclgroA1ODOxEDk5O5oFAl0tZloACgkQODOxEDk5\nO5pgMxAA1IK9rffoymK8rwX3z//YVzOnS4sFT5X07ZBcO8QStpQshFcL6q5N04kF\n1leLuTVsCxMBeidyVwQbdZx8+WBZC9lxojKN7hOEsJdnT8Dkb6os8raBehZFFmYQ\n2GXpWR7jDR9t1BhCr1Mj2X7flgbmfA//cTcTC76Nn6rn5Z7lPmo+iJOsuXuFX08H\nKogmpoK16zbE0S4xkgyPnY2ge/XGzwMebD3cPHoXUOc+J/dHlkH+iaQ/Que4Ykk1\nNd6SvfUHlKaYMYAEoYWD4MZiA9zXkVGuAmLayOfROJGLkUuHrS1LM0cvFs9r9QA7\nJec+xOBJHYp1Ym+WTIjh1eaxobk+1wlHoWX7MDggCttTUYs9WmXZChkzm5XDbBZT\nBYxXDL2XUjYx6F8vdJ9l2Hm0kYnqKk8dlEjRSegP/MY9BMV6UDsk55vnIC9h96Ka\nymtsVDnWupMmVN6EZcjEmOwUgsDotfbwZjpD9D9LqqPaay9bvd0y7n6C0deHtuvR\n0cx0upEoRZ8/0xs+LG3K07VVasDRmXapBERQJI03R+9vq4oPrW7fOoKx5trGfBJr\nZQ736wJHS57g6jNFL4uJ/hr7MQZJzAFEfy0N02EfEEZslHojQzdqmWnvcUrDw88N\nN+1oe9LgAGxW3ZTKTwPw3gQTQZCVSZiIcwED6eWrxsSb8KRSkFo=\n=jYW2\n-----END PGP SIGNATURE-----", "payload": "tree 49c705dc0a0c343b0a96b32f7e1fbaea408e0f1e\nparent 2ced474e808d59e4b3bf2c6874e40446a4598f51\nauthor Ferdia McKeogh <ferdia@mckeogh.tech> 1563256273 +0200\ncommitter Ferdia McKeogh <ferdia@mckeogh.tech> 1563256410 +0200\n\nSuggested change\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3c119443767553d31c4c028a7c5519750897fc0a", "html_url": "https://github.com/rust-lang/rust/commit/3c119443767553d31c4c028a7c5519750897fc0a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3c119443767553d31c4c028a7c5519750897fc0a/comments", "author": {"login": "fmckeogh", "id": 8290136, "node_id": "MDQ6VXNlcjgyOTAxMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/8290136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmckeogh", "html_url": "https://github.com/fmckeogh", "followers_url": "https://api.github.com/users/fmckeogh/followers", "following_url": "https://api.github.com/users/fmckeogh/following{/other_user}", "gists_url": "https://api.github.com/users/fmckeogh/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmckeogh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmckeogh/subscriptions", "organizations_url": "https://api.github.com/users/fmckeogh/orgs", "repos_url": "https://api.github.com/users/fmckeogh/repos", "events_url": "https://api.github.com/users/fmckeogh/events{/privacy}", "received_events_url": "https://api.github.com/users/fmckeogh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fmckeogh", "id": 8290136, "node_id": "MDQ6VXNlcjgyOTAxMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/8290136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmckeogh", "html_url": "https://github.com/fmckeogh", "followers_url": "https://api.github.com/users/fmckeogh/followers", "following_url": "https://api.github.com/users/fmckeogh/following{/other_user}", "gists_url": "https://api.github.com/users/fmckeogh/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmckeogh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmckeogh/subscriptions", "organizations_url": "https://api.github.com/users/fmckeogh/orgs", "repos_url": "https://api.github.com/users/fmckeogh/repos", "events_url": "https://api.github.com/users/fmckeogh/events{/privacy}", "received_events_url": "https://api.github.com/users/fmckeogh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2ced474e808d59e4b3bf2c6874e40446a4598f51", "url": "https://api.github.com/repos/rust-lang/rust/commits/2ced474e808d59e4b3bf2c6874e40446a4598f51", "html_url": "https://github.com/rust-lang/rust/commit/2ced474e808d59e4b3bf2c6874e40446a4598f51"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "8a84fca14380996cb0eb229a82843879e80cfdca", "filename": "src/librustc/traits/specialize/mod.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/3c119443767553d31c4c028a7c5519750897fc0a/src%2Flibrustc%2Ftraits%2Fspecialize%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c119443767553d31c4c028a7c5519750897fc0a/src%2Flibrustc%2Ftraits%2Fspecialize%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Fspecialize%2Fmod.rs?ref=3c119443767553d31c4c028a7c5519750897fc0a", "patch": "@@ -367,10 +367,11 @@ pub(super) fn specialization_graph_provider(\n                 }\n \n                 let access_levels = tcx.privacy_access_levels(impl_def_id.krate);\n-                let id = tcx.hir().as_local_hir_id(impl_def_id).unwrap();\n-                if access_levels.is_exported(id) || access_levels.is_public(id) {\n-                    for cause in &overlap.intercrate_ambiguity_causes {\n-                        cause.add_intercrate_ambiguity_hint(&mut err);\n+                if let Some(id) = tcx.hir().as_local_hir_id(impl_def_id) {\n+                    if access_levels.is_exported(id) || access_levels.is_public(id) {\n+                        for cause in &overlap.intercrate_ambiguity_causes {\n+                            cause.add_intercrate_ambiguity_hint(&mut err);\n+                        }\n                     }\n                 }\n "}]}