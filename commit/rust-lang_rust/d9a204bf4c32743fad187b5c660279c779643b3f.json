{"sha": "d9a204bf4c32743fad187b5c660279c779643b3f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ5YTIwNGJmNGMzMjc0M2ZhZDE4N2I1YzY2MDI3OWM3Nzk2NDNiM2Y=", "commit": {"author": {"name": "Huon Wilson", "email": "dbau.pp+github@gmail.com", "date": "2014-01-27T04:28:04Z"}, "committer": {"name": "Huon Wilson", "email": "dbau.pp+github@gmail.com", "date": "2014-01-27T04:28:04Z"}, "message": "Add autogenerated tests for the spans of various derived traits.", "tree": {"sha": "1fc4ddf0161e478ec4b2a6fa5e3d0fdf422316b8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1fc4ddf0161e478ec4b2a6fa5e3d0fdf422316b8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d9a204bf4c32743fad187b5c660279c779643b3f", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d9a204bf4c32743fad187b5c660279c779643b3f", "html_url": "https://github.com/rust-lang/rust/commit/d9a204bf4c32743fad187b5c660279c779643b3f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d9a204bf4c32743fad187b5c660279c779643b3f/comments", "author": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b079ebeb8da4198112831af05c88b48974268337", "url": "https://api.github.com/repos/rust-lang/rust/commits/b079ebeb8da4198112831af05c88b48974268337", "html_url": "https://github.com/rust-lang/rust/commit/b079ebeb8da4198112831af05c88b48974268337"}], "stats": {"total": 940, "additions": 912, "deletions": 28}, "files": [{"sha": "e66b7113a451da32881560e201b506585ebb0197", "filename": "src/etc/generate-deriving-span-tests.py", "status": "added", "additions": 131, "deletions": 0, "changes": 131, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Fetc%2Fgenerate-deriving-span-tests.py", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Fetc%2Fgenerate-deriving-span-tests.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fgenerate-deriving-span-tests.py?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,131 @@\n+#!/usr/bin/env python\n+# xfail-license\n+# Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+# file at the top-level directory of this distribution and at\n+# http://rust-lang.org/COPYRIGHT.\n+#\n+# Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+# http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+# <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+# option. This file may not be copied, modified, or distributed\n+# except according to those terms.\n+\n+\"\"\"\n+This script creates a pile of compile-fail tests check that all the\n+derivings have spans that point to the fields, rather than the\n+#[deriving(...)] line.\n+\n+sample usage: src/etc/generate-deriving-span-tests.py\n+\"\"\"\n+\n+import sys, os, datetime, stat\n+\n+TEST_DIR = os.path.abspath(\n+    os.path.join(os.path.dirname(__file__), '../test/compile-fail'))\n+\n+YEAR = datetime.datetime.now().year\n+\n+TEMPLATE = \"\"\"// Copyright {year} The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+{error_deriving}\n+struct Error;\n+{code}\n+fn main() {{}}\n+\"\"\"\n+\n+ENUM_STRING = \"\"\"\n+#[deriving({traits})]\n+enum Enum {{\n+   A(\n+     Error {errors}\n+     )\n+}}\n+\"\"\"\n+ENUM_STRUCT_VARIANT_STRING = \"\"\"\n+#[deriving({traits})]\n+enum Enum {{\n+   A {{\n+     x: Error {errors}\n+   }}\n+}}\n+\"\"\"\n+STRUCT_STRING = \"\"\"\n+#[deriving({traits})]\n+struct Struct {{\n+    x: Error {errors}\n+}}\n+\"\"\"\n+STRUCT_TUPLE_STRING = \"\"\"\n+#[deriving({traits})]\n+struct Struct(\n+    Error {errors}\n+);\n+\"\"\"\n+\n+ENUM_TUPLE, ENUM_STRUCT, STRUCT_FIELDS, STRUCT_TUPLE = range(4)\n+\n+def create_test_case(type, trait, super_traits, number_of_errors):\n+    string = [ENUM_STRING, ENUM_STRUCT_VARIANT_STRING, STRUCT_STRING, STRUCT_TUPLE_STRING][type]\n+    all_traits = ','.join([trait] + super_traits)\n+    super_traits = ','.join(super_traits)\n+    error_deriving = '#[deriving(%s)]' % super_traits if super_traits else ''\n+\n+    errors = '\\n'.join('//~%s ERROR' % ('^' * n) for n in range(error_count))\n+    code = string.format(traits = all_traits, errors = errors)\n+    return TEMPLATE.format(year = YEAR, error_deriving=error_deriving, code = code)\n+\n+def write_file(name, string):\n+    test_file = os.path.join(TEST_DIR, 'deriving-span-%s.rs' % name)\n+\n+    # set write permission if file exists, so it can be changed\n+    if os.path.exists(test_file):\n+        os.chmod(test_file, stat.S_IWUSR)\n+\n+    with open(test_file, 'wt') as f:\n+        f.write(string)\n+\n+    # mark file read-only\n+    os.chmod(test_file, stat.S_IRUSR|stat.S_IRGRP|stat.S_IROTH)\n+\n+\n+\n+ENUM = 1\n+STRUCT = 2\n+ALL = STRUCT | ENUM\n+\n+traits = {\n+    'Zero': (STRUCT, [], 1),\n+    'Default': (STRUCT, [], 1),\n+    'FromPrimitive': (0, [], 0), # only works for C-like enums\n+\n+    'Decodable': (0, [], 0), # FIXME: quoting gives horrible spans\n+    'Encodable': (0, [], 0), # FIXME: quoting gives horrible spans\n+}\n+\n+for (trait, supers, errs) in [('Rand', [], 1),\n+                              ('Clone', [], 1), ('DeepClone', ['Clone'], 1),\n+                              ('Eq', [], 2), ('Ord', [], 8),\n+                              ('TotalEq', [], 2), ('TotalOrd', ['TotalEq'], 2)]:\n+    traits[trait] = (ALL, supers, errs)\n+\n+for (trait, (types, super_traits, error_count)) in traits.items():\n+    mk = lambda ty: create_test_case(ty, trait, super_traits, error_count)\n+    if types & ENUM:\n+        write_file(trait + '-enum', mk(ENUM_TUPLE))\n+        write_file(trait + '-enum-struct-variant', mk(ENUM_STRUCT))\n+    if types & STRUCT:\n+        write_file(trait + '-struct', mk(STRUCT_FIELDS))\n+        write_file(trait + '-tuple-struct', mk(STRUCT_TUPLE))"}, {"sha": "983156f9b4ffbb9654bb30b1f3182647e7e1782c", "filename": "src/test/compile-fail/deriving-span-Clone-enum-struct-variant.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-enum-struct-variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-enum-struct-variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-enum-struct-variant.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Clone)]\n+enum Enum {\n+   A {\n+     x: Error //~ ERROR\n+   }\n+}\n+\n+fn main() {}"}, {"sha": "e5ceef886e1d3af7b627b206113f9c4e8f37714f", "filename": "src/test/compile-fail/deriving-span-Clone-enum.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-enum.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Clone)]\n+enum Enum {\n+   A(\n+     Error //~ ERROR\n+     )\n+}\n+\n+fn main() {}"}, {"sha": "fd763df311c67340382e54649be58e59b98670ba", "filename": "src/test/compile-fail/deriving-span-Clone-struct.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Clone)]\n+struct Struct {\n+    x: Error //~ ERROR\n+}\n+\n+fn main() {}"}, {"sha": "d444c5e3161684a4d5320e26a5eebc1a7576961a", "filename": "src/test/compile-fail/deriving-span-Clone-tuple-struct.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-tuple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-tuple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Clone-tuple-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Clone)]\n+struct Struct(\n+    Error //~ ERROR\n+);\n+\n+fn main() {}"}, {"sha": "0dc6266bec41b0919e3dbbf0227fe22ce1d2641f", "filename": "src/test/compile-fail/deriving-span-DeepClone-enum-struct-variant.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-enum-struct-variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-enum-struct-variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-enum-struct-variant.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+#[deriving(Clone)]\n+struct Error;\n+\n+#[deriving(DeepClone,Clone)]\n+enum Enum {\n+   A {\n+     x: Error //~ ERROR\n+   }\n+}\n+\n+fn main() {}"}, {"sha": "5b210d0ff7964181c538c787157b38b3c785dad9", "filename": "src/test/compile-fail/deriving-span-DeepClone-enum.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-enum.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+#[deriving(Clone)]\n+struct Error;\n+\n+#[deriving(DeepClone,Clone)]\n+enum Enum {\n+   A(\n+     Error //~ ERROR\n+     )\n+}\n+\n+fn main() {}"}, {"sha": "f063ed58dce5b1a33547300aef2f6d005aea1fb9", "filename": "src/test/compile-fail/deriving-span-DeepClone-struct.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+#[deriving(Clone)]\n+struct Error;\n+\n+#[deriving(DeepClone,Clone)]\n+struct Struct {\n+    x: Error //~ ERROR\n+}\n+\n+fn main() {}"}, {"sha": "1b053897c0e016899ec25f14b1d1cc7879616005", "filename": "src/test/compile-fail/deriving-span-DeepClone-tuple-struct.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-tuple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-tuple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-DeepClone-tuple-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+#[deriving(Clone)]\n+struct Error;\n+\n+#[deriving(DeepClone,Clone)]\n+struct Struct(\n+    Error //~ ERROR\n+);\n+\n+fn main() {}"}, {"sha": "7c2edd8cb7bff2217daaff0f83c0d2ad589c7984", "filename": "src/test/compile-fail/deriving-span-Default-struct.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Default-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Default-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Default-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Default)]\n+struct Struct {\n+    x: Error //~ ERROR\n+}\n+\n+fn main() {}"}, {"sha": "e0269a6aad3b2e4f26a97188664c3da0c6a24fc6", "filename": "src/test/compile-fail/deriving-span-Default-tuple-struct.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Default-tuple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Default-tuple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Default-tuple-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Default)]\n+struct Struct(\n+    Error //~ ERROR\n+);\n+\n+fn main() {}"}, {"sha": "abedb3e660f18ddbbe56cecb3bf8142f0ac821ed", "filename": "src/test/compile-fail/deriving-span-Eq-enum-struct-variant.rs", "status": "renamed", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-enum-struct-variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-enum-struct-variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-enum-struct-variant.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -8,16 +8,20 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n #[feature(struct_variant)];\n+extern mod extra;\n+\n \n-struct NotEq;\n+struct Error;\n \n #[deriving(Eq)]\n-enum Foo {\n-    Bar {\n-        x: NotEq //~ ERROR mismatched types\n-        //~^ ERROR failed to find an implementation of trait std::cmp::Eq for NotEq\n-    }\n+enum Enum {\n+   A {\n+     x: Error //~ ERROR\n+//~^ ERROR\n+   }\n }\n \n-pub fn main() {}\n+fn main() {}", "previous_filename": "src/test/compile-fail/deriving-field-span-enum-struct-variant.rs"}, {"sha": "3486d96205b4d75ea59793f20798b12b43edaae1", "filename": "src/test/compile-fail/deriving-span-Eq-enum.rs", "status": "renamed", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-enum.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -8,15 +8,20 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n #[feature(struct_variant)];\n+extern mod extra;\n+\n \n-struct NotEq;\n+struct Error;\n \n #[deriving(Eq)]\n-enum Foo {\n-    Bar(NotEq), //~ ERROR mismatched types\n-        //~^ ERROR failed to find an implementation of trait std::cmp::Eq for NotEq\n-    Baz { x: NotEq }\n+enum Enum {\n+   A(\n+     Error //~ ERROR\n+//~^ ERROR\n+     )\n }\n \n-pub fn main() {}\n+fn main() {}", "previous_filename": "src/test/compile-fail/deriving-field-span-enum.rs"}, {"sha": "32d2e78eabcefaf141313c4a97e25693b82be6ac", "filename": "src/test/compile-fail/deriving-span-Eq-struct.rs", "status": "renamed", "additions": 12, "deletions": 6, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -8,12 +8,18 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-struct NotEq;\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n \n #[deriving(Eq)]\n-struct Foo {\n-    x: NotEq //~ ERROR mismatched types\n-        //~^ ERROR failed to find an implementation of trait std::cmp::Eq for NotEq\n+struct Struct {\n+    x: Error //~ ERROR\n+//~^ ERROR\n }\n \n-pub fn main() {}\n+fn main() {}", "previous_filename": "src/test/compile-fail/deriving-field-span-struct.rs"}, {"sha": "acc46a1002af1170cae9b0e3f23b7b6b86ff91ab", "filename": "src/test/compile-fail/deriving-span-Eq-tuple-struct.rs", "status": "renamed", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-tuple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-tuple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Eq-tuple-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -8,12 +8,18 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-struct NotEq;\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n \n #[deriving(Eq)]\n-struct Foo (\n-    NotEq //~ ERROR mismatched types\n-        //~^ ERROR failed to find an implementation of trait std::cmp::Eq for NotEq\n-        );\n+struct Struct(\n+    Error //~ ERROR\n+//~^ ERROR\n+);\n \n-pub fn main() {}\n+fn main() {}", "previous_filename": "src/test/compile-fail/deriving-field-span-tuple-struct.rs"}, {"sha": "933da411db8b723d399949efa83372737c10a2c0", "filename": "src/test/compile-fail/deriving-span-Ord-enum-struct-variant.rs", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-enum-struct-variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-enum-struct-variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-enum-struct-variant.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,33 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Ord)]\n+enum Enum {\n+   A {\n+     x: Error //~ ERROR\n+//~^ ERROR\n+//~^^ ERROR\n+//~^^^ ERROR\n+//~^^^^ ERROR\n+//~^^^^^ ERROR\n+//~^^^^^^ ERROR\n+//~^^^^^^^ ERROR\n+   }\n+}\n+\n+fn main() {}"}, {"sha": "c310965cfa1b9559a87b8978c99ddf127f2db7bf", "filename": "src/test/compile-fail/deriving-span-Ord-enum.rs", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-enum.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,33 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Ord)]\n+enum Enum {\n+   A(\n+     Error //~ ERROR\n+//~^ ERROR\n+//~^^ ERROR\n+//~^^^ ERROR\n+//~^^^^ ERROR\n+//~^^^^^ ERROR\n+//~^^^^^^ ERROR\n+//~^^^^^^^ ERROR\n+     )\n+}\n+\n+fn main() {}"}, {"sha": "327ac73ff2d980d611e9f41669268f7915d268d7", "filename": "src/test/compile-fail/deriving-span-Ord-struct.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Ord)]\n+struct Struct {\n+    x: Error //~ ERROR\n+//~^ ERROR\n+//~^^ ERROR\n+//~^^^ ERROR\n+//~^^^^ ERROR\n+//~^^^^^ ERROR\n+//~^^^^^^ ERROR\n+//~^^^^^^^ ERROR\n+}\n+\n+fn main() {}"}, {"sha": "2a482f872c59a99429d86c19f9d9e5c5538a1235", "filename": "src/test/compile-fail/deriving-span-Ord-tuple-struct.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-tuple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-tuple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Ord-tuple-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Ord)]\n+struct Struct(\n+    Error //~ ERROR\n+//~^ ERROR\n+//~^^ ERROR\n+//~^^^ ERROR\n+//~^^^^ ERROR\n+//~^^^^^ ERROR\n+//~^^^^^^ ERROR\n+//~^^^^^^^ ERROR\n+);\n+\n+fn main() {}"}, {"sha": "ae0732e4db63484873fc0e51a69efe185052c32a", "filename": "src/test/compile-fail/deriving-span-Rand-enum-struct-variant.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-enum-struct-variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-enum-struct-variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-enum-struct-variant.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Rand)]\n+enum Enum {\n+   A {\n+     x: Error //~ ERROR\n+   }\n+}\n+\n+fn main() {}"}, {"sha": "ef29ce082923d9930a43f649f2bd00ead61722d3", "filename": "src/test/compile-fail/deriving-span-Rand-enum.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-enum.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Rand)]\n+enum Enum {\n+   A(\n+     Error //~ ERROR\n+     )\n+}\n+\n+fn main() {}"}, {"sha": "2ce4d49e721537c89600904484501aed38cf033d", "filename": "src/test/compile-fail/deriving-span-Rand-struct.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Rand)]\n+struct Struct {\n+    x: Error //~ ERROR\n+}\n+\n+fn main() {}"}, {"sha": "3f6738fd306d4a9cf5cd31d425094067fd605b3d", "filename": "src/test/compile-fail/deriving-span-Rand-tuple-struct.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-tuple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-tuple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Rand-tuple-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Rand)]\n+struct Struct(\n+    Error //~ ERROR\n+);\n+\n+fn main() {}"}, {"sha": "22c9351e13a554082ad52d8080931e6e2c7227d2", "filename": "src/test/compile-fail/deriving-span-TotalEq-enum-struct-variant.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-enum-struct-variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-enum-struct-variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-enum-struct-variant.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,27 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(TotalEq)]\n+enum Enum {\n+   A {\n+     x: Error //~ ERROR\n+//~^ ERROR\n+   }\n+}\n+\n+fn main() {}"}, {"sha": "36028ebb82cfa9b3d3ebbf189f038292db7f6cc2", "filename": "src/test/compile-fail/deriving-span-TotalEq-enum.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-enum.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,27 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(TotalEq)]\n+enum Enum {\n+   A(\n+     Error //~ ERROR\n+//~^ ERROR\n+     )\n+}\n+\n+fn main() {}"}, {"sha": "f3e38b3df4e678c947dd052b2f5d98e77c5def73", "filename": "src/test/compile-fail/deriving-span-TotalEq-struct.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,25 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(TotalEq)]\n+struct Struct {\n+    x: Error //~ ERROR\n+//~^ ERROR\n+}\n+\n+fn main() {}"}, {"sha": "7293da91471b55deac2669f1bfec12526cff58ad", "filename": "src/test/compile-fail/deriving-span-TotalEq-tuple-struct.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-tuple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-tuple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalEq-tuple-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,25 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(TotalEq)]\n+struct Struct(\n+    Error //~ ERROR\n+//~^ ERROR\n+);\n+\n+fn main() {}"}, {"sha": "27a6bea1b04b7f71241f8975d08fdaf6d1f8e672", "filename": "src/test/compile-fail/deriving-span-TotalOrd-enum-struct-variant.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-enum-struct-variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-enum-struct-variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-enum-struct-variant.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,27 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+#[deriving(TotalEq)]\n+struct Error;\n+\n+#[deriving(TotalOrd,TotalEq)]\n+enum Enum {\n+   A {\n+     x: Error //~ ERROR\n+//~^ ERROR\n+   }\n+}\n+\n+fn main() {}"}, {"sha": "84c691b0fadc2fcc713bf4730d9e10a8f37186a4", "filename": "src/test/compile-fail/deriving-span-TotalOrd-enum.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-enum.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,27 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+#[deriving(TotalEq)]\n+struct Error;\n+\n+#[deriving(TotalOrd,TotalEq)]\n+enum Enum {\n+   A(\n+     Error //~ ERROR\n+//~^ ERROR\n+     )\n+}\n+\n+fn main() {}"}, {"sha": "c3a83df67d4e6c0b47e6cbf061c881afdc2b5c97", "filename": "src/test/compile-fail/deriving-span-TotalOrd-struct.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,25 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+#[deriving(TotalEq)]\n+struct Error;\n+\n+#[deriving(TotalOrd,TotalEq)]\n+struct Struct {\n+    x: Error //~ ERROR\n+//~^ ERROR\n+}\n+\n+fn main() {}"}, {"sha": "9d913727e6c1eb27b8242d45d26ce79154be1118", "filename": "src/test/compile-fail/deriving-span-TotalOrd-tuple-struct.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-tuple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-tuple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-TotalOrd-tuple-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,25 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+#[deriving(TotalEq)]\n+struct Error;\n+\n+#[deriving(TotalOrd,TotalEq)]\n+struct Struct(\n+    Error //~ ERROR\n+//~^ ERROR\n+);\n+\n+fn main() {}"}, {"sha": "2892938926b498a5b5cdc38ac78de481e0328f69", "filename": "src/test/compile-fail/deriving-span-Zero-struct.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Zero-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Zero-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Zero-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Zero)]\n+struct Struct {\n+    x: Error //~ ERROR\n+}\n+\n+fn main() {}"}, {"sha": "43d84a593edaede08af05c9c04e75defe3fb4981", "filename": "src/test/compile-fail/deriving-span-Zero-tuple-struct.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Zero-tuple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9a204bf4c32743fad187b5c660279c779643b3f/src%2Ftest%2Fcompile-fail%2Fderiving-span-Zero-tuple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fderiving-span-Zero-tuple-struct.rs?ref=d9a204bf4c32743fad187b5c660279c779643b3f", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This file was auto-generated using 'src/etc/generate-keyword-span-tests.py'\n+\n+#[feature(struct_variant)];\n+extern mod extra;\n+\n+\n+struct Error;\n+\n+#[deriving(Zero)]\n+struct Struct(\n+    Error //~ ERROR\n+);\n+\n+fn main() {}"}]}