{"sha": "ab08f2a81301d535dfbaafe2d846ecfad1ed8688", "node_id": "C_kwDOAAsO6NoAKGFiMDhmMmE4MTMwMWQ1MzVkZmJhYWZlMmQ4NDZlY2ZhZDFlZDg2ODg", "commit": {"author": {"name": "Vanille-N", "email": "neven.villani@crans.org", "date": "2022-12-02T12:30:06Z"}, "committer": {"name": "Vanille-N", "email": "neven.villani@crans.org", "date": "2022-12-02T12:30:06Z"}, "message": "fix imports", "tree": {"sha": "b6d131edd595f007e7fadc6154bc7297b03c995b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b6d131edd595f007e7fadc6154bc7297b03c995b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ab08f2a81301d535dfbaafe2d846ecfad1ed8688", "comment_count": 0, "verification": {"verified": false, "reason": "invalid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCAAdFiEE1bhy5AfUOHIeWIegAOdl+n9PLt4FAmOJ79IACgkQAOdl+n9P\nLt4TpQv/R8nHABhz9ds+v10OhLIUboEDEzoObzVhZCVkGIntob/FznMmNaY5zGsC\n5ofSohpGr0s+728r1Fk7ACaPgWEM8t6O4Ed0bOl5gJLTI/QznIApET4DLyLA55sE\nkja96SemsraEfsjl1Yxut+Px/HWRp2n2HuOX3gTGZ684qZV8EWwSBUP4bP1scXiW\nfCEFTvSRrIJqOiGeLFRWYe/g9yGiRpX87WeasX+7Gxe6BK70T4YNgxvF3KE6ofFq\nuL0I4HkQHU/MPh4CeSU+2X+lalc5UVVUFJCH4JEiflG+9CPyBU1Nc/tOfBJmODwy\nr6U1HNZmFe2RmE/LxZ8mn/IV/7wxdZvY1Q39GmwOrML1fUlRdkJQSYtTn9TCrc3W\n+h7F+DZmS9YWzpeqGTWmtNvQncN6xUXnAOKDgxodvbxZgLNzI+Fst5M8RsoECe7x\nU1FZ2Nkuq8aVN6Nwk6W1F4O5IzYwZbMVPjFZy3rqHkQmQ5hyud7XO+DCc8TC3DNb\nyDVKLOAM\n=NjDO\n-----END PGP SIGNATURE-----", "payload": "tree b6d131edd595f007e7fadc6154bc7297b03c995b\nparent 8bb3d9e94a74dec560e520659c45c82ab3ba0566\nauthor Vanille-N <neven.villani@crans.org> 1669984206 +0100\ncommitter Vanille-N <neven.villani@crans.org> 1669984206 +0100\n\nfix imports\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ab08f2a81301d535dfbaafe2d846ecfad1ed8688", "html_url": "https://github.com/rust-lang/rust/commit/ab08f2a81301d535dfbaafe2d846ecfad1ed8688", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ab08f2a81301d535dfbaafe2d846ecfad1ed8688/comments", "author": {"login": "Vanille-N", "id": 58042063, "node_id": "MDQ6VXNlcjU4MDQyMDYz", "avatar_url": "https://avatars.githubusercontent.com/u/58042063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vanille-N", "html_url": "https://github.com/Vanille-N", "followers_url": "https://api.github.com/users/Vanille-N/followers", "following_url": "https://api.github.com/users/Vanille-N/following{/other_user}", "gists_url": "https://api.github.com/users/Vanille-N/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vanille-N/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vanille-N/subscriptions", "organizations_url": "https://api.github.com/users/Vanille-N/orgs", "repos_url": "https://api.github.com/users/Vanille-N/repos", "events_url": "https://api.github.com/users/Vanille-N/events{/privacy}", "received_events_url": "https://api.github.com/users/Vanille-N/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Vanille-N", "id": 58042063, "node_id": "MDQ6VXNlcjU4MDQyMDYz", "avatar_url": "https://avatars.githubusercontent.com/u/58042063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vanille-N", "html_url": "https://github.com/Vanille-N", "followers_url": "https://api.github.com/users/Vanille-N/followers", "following_url": "https://api.github.com/users/Vanille-N/following{/other_user}", "gists_url": "https://api.github.com/users/Vanille-N/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vanille-N/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vanille-N/subscriptions", "organizations_url": "https://api.github.com/users/Vanille-N/orgs", "repos_url": "https://api.github.com/users/Vanille-N/repos", "events_url": "https://api.github.com/users/Vanille-N/events{/privacy}", "received_events_url": "https://api.github.com/users/Vanille-N/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8bb3d9e94a74dec560e520659c45c82ab3ba0566", "url": "https://api.github.com/repos/rust-lang/rust/commits/8bb3d9e94a74dec560e520659c45c82ab3ba0566", "html_url": "https://github.com/rust-lang/rust/commit/8bb3d9e94a74dec560e520659c45c82ab3ba0566"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "bc771ca057f098c6a9ff350a8335649148dd9df2", "filename": "src/tools/miri/src/diagnostics.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ab08f2a81301d535dfbaafe2d846ecfad1ed8688/src%2Ftools%2Fmiri%2Fsrc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab08f2a81301d535dfbaafe2d846ecfad1ed8688/src%2Ftools%2Fmiri%2Fsrc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Fsrc%2Fdiagnostics.rs?ref=ab08f2a81301d535dfbaafe2d846ecfad1ed8688", "patch": "@@ -6,7 +6,7 @@ use log::trace;\n use rustc_span::{source_map::DUMMY_SP, SpanData, Symbol};\n use rustc_target::abi::{Align, Size};\n \n-use crate::stacked_borrows::{diagnostics::TagHistory, AccessKind};\n+use crate::borrow_tracker::{stacked_borrows::diagnostics::TagHistory, AccessKind};\n use crate::*;\n \n /// Details of premature program termination."}, {"sha": "7b4973f3b9daf2bdf3bce7e7f19bfd25db85c17c", "filename": "src/tools/miri/src/eval.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ab08f2a81301d535dfbaafe2d846ecfad1ed8688/src%2Ftools%2Fmiri%2Fsrc%2Feval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab08f2a81301d535dfbaafe2d846ecfad1ed8688/src%2Ftools%2Fmiri%2Fsrc%2Feval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Fsrc%2Feval.rs?ref=ab08f2a81301d535dfbaafe2d846ecfad1ed8688", "patch": "@@ -9,6 +9,7 @@ use std::thread;\n \n use log::info;\n \n+use crate::borrow_tracker::RetagFields;\n use rustc_data_structures::fx::FxHashSet;\n use rustc_hir::def::Namespace;\n use rustc_hir::def_id::DefId;"}, {"sha": "2c427c166c16d00fd7bdb2862327e2dff3d27afa", "filename": "src/tools/miri/src/lib.rs", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/ab08f2a81301d535dfbaafe2d846ecfad1ed8688/src%2Ftools%2Fmiri%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab08f2a81301d535dfbaafe2d846ecfad1ed8688/src%2Ftools%2Fmiri%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Fsrc%2Flib.rs?ref=ab08f2a81301d535dfbaafe2d846ecfad1ed8688", "patch": "@@ -53,6 +53,7 @@ extern crate rustc_session;\n extern crate rustc_span;\n extern crate rustc_target;\n \n+mod borrow_tracker;\n mod clock;\n mod concurrency;\n mod diagnostics;\n@@ -64,7 +65,6 @@ mod mono_hash_map;\n mod operator;\n mod range_map;\n mod shims;\n-mod stacked_borrows;\n mod tag_gc;\n \n // Establish a \"crate-wide prelude\": we often import `crate::*`.\n@@ -84,6 +84,12 @@ pub use crate::shims::time::EvalContextExt as _;\n pub use crate::shims::tls::TlsData;\n pub use crate::shims::EvalContextExt as _;\n \n+pub use crate::borrow_tracker::stacked_borrows::{\n+    EvalContextExt as _, Item, Permission, Stack, Stacks,\n+};\n+pub use crate::borrow_tracker::{\n+    BorTag, BorrowTrackerMethod, CallId, EvalContextExt as _, RetagFields,\n+};\n pub use crate::clock::{Clock, Instant};\n pub use crate::concurrency::{\n     data_race::{AtomicFenceOrd, AtomicReadOrd, AtomicRwOrd, AtomicWriteOrd, EvalContextExt as _},\n@@ -106,9 +112,6 @@ pub use crate::machine::{\n pub use crate::mono_hash_map::MonoHashMap;\n pub use crate::operator::EvalContextExt as _;\n pub use crate::range_map::RangeMap;\n-pub use crate::stacked_borrows::{\n-    CallId, EvalContextExt as _, Item, Permission, RetagFields, SbTag,\n-};\n pub use crate::tag_gc::{EvalContextExt as _, VisitTags};\n \n /// Insert rustc arguments at the beginning of the argument list that Miri wants to be"}]}