{"sha": "83ba42526fd859ab5605ada767f14c77b1dc2560", "node_id": "C_kwDOAAsO6NoAKDgzYmE0MjUyNmZkODU5YWI1NjA1YWRhNzY3ZjE0Yzc3YjFkYzI1NjA", "commit": {"author": {"name": "Will Crichton", "email": "wcrichto@cs.stanford.edu", "date": "2022-11-27T03:39:39Z"}, "committer": {"name": "Will Crichton", "email": "wcrichto@cs.stanford.edu", "date": "2022-11-27T04:04:45Z"}, "message": "Fix UI issues with Rustdoc scrape-examples feature.\n* Help file was being loaded from the wrong place.\n* CSS selector in JS has a typo.\n* Line numbers are overflowing, change to display: grid to fix.", "tree": {"sha": "fe81461b5b119638493320e5633d012c12ac0853", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe81461b5b119638493320e5633d012c12ac0853"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/83ba42526fd859ab5605ada767f14c77b1dc2560", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/83ba42526fd859ab5605ada767f14c77b1dc2560", "html_url": "https://github.com/rust-lang/rust/commit/83ba42526fd859ab5605ada767f14c77b1dc2560", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/83ba42526fd859ab5605ada767f14c77b1dc2560/comments", "author": {"login": "willcrichton", "id": 663326, "node_id": "MDQ6VXNlcjY2MzMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/663326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willcrichton", "html_url": "https://github.com/willcrichton", "followers_url": "https://api.github.com/users/willcrichton/followers", "following_url": "https://api.github.com/users/willcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/willcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/willcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willcrichton/subscriptions", "organizations_url": "https://api.github.com/users/willcrichton/orgs", "repos_url": "https://api.github.com/users/willcrichton/repos", "events_url": "https://api.github.com/users/willcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/willcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "willcrichton", "id": 663326, "node_id": "MDQ6VXNlcjY2MzMyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/663326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willcrichton", "html_url": "https://github.com/willcrichton", "followers_url": "https://api.github.com/users/willcrichton/followers", "following_url": "https://api.github.com/users/willcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/willcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/willcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willcrichton/subscriptions", "organizations_url": "https://api.github.com/users/willcrichton/orgs", "repos_url": "https://api.github.com/users/willcrichton/repos", "events_url": "https://api.github.com/users/willcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/willcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "579c993b35a02dc439b74bba18b0a14f77911c95", "url": "https://api.github.com/repos/rust-lang/rust/commits/579c993b35a02dc439b74bba18b0a14f77911c95", "html_url": "https://github.com/rust-lang/rust/commit/579c993b35a02dc439b74bba18b0a14f77911c95"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "ad943a06a6e214f858929e1be1c6852573199566", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/83ba42526fd859ab5605ada767f14c77b1dc2560/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/83ba42526fd859ab5605ada767f14c77b1dc2560/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=83ba42526fd859ab5605ada767f14c77b1dc2560", "patch": "@@ -2015,7 +2015,9 @@ in storage.js\n }\n \n .scraped-example .code-wrapper .example-wrap {\n-\tflex: 1;\n+\tdisplay: grid;\n+\tgrid-template-columns: max-content auto;\n+\twidth: 100%;\n \toverflow-x: auto;\n \toverflow-y: hidden;\n \tmargin-bottom: 0;"}, {"sha": "e328e656edda4caa59625cdca9b5c0b9d53b143f", "filename": "src/librustdoc/html/static/js/scrape-examples.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83ba42526fd859ab5605ada767f14c77b1dc2560/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fscrape-examples.js", "raw_url": "https://github.com/rust-lang/rust/raw/83ba42526fd859ab5605ada767f14c77b1dc2560/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fscrape-examples.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fscrape-examples.js?ref=83ba42526fd859ab5605ada767f14c77b1dc2560", "patch": "@@ -57,7 +57,7 @@\n                     });\n                 });\n \n-            example.querySelector(\"next\")\n+            example.querySelector(\".next\")\n                 .addEventListener(\"click\", () => {\n                     onChangeLoc(() => {\n                         locIndex = (locIndex + 1) % locs.length;"}, {"sha": "b48b82307ebc3c672a87b2af3765250ea6081748", "filename": "src/librustdoc/html/static_files.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83ba42526fd859ab5605ada767f14c77b1dc2560/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83ba42526fd859ab5605ada767f14c77b1dc2560/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs?ref=83ba42526fd859ab5605ada767f14c77b1dc2560", "patch": "@@ -130,4 +130,4 @@ static_files! {\n     nanum_barun_gothic_license => \"static/fonts/NanumBarunGothic-LICENSE.txt\",\n }\n \n-pub(crate) static SCRAPE_EXAMPLES_HELP_MD: &str = include_str!(\"static/js/scrape-examples.js\");\n+pub(crate) static SCRAPE_EXAMPLES_HELP_MD: &str = include_str!(\"static/scrape-examples-help.md\");"}]}