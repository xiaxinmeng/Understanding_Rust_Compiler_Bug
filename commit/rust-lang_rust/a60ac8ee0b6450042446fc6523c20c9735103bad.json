{"sha": "a60ac8ee0b6450042446fc6523c20c9735103bad", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE2MGFjOGVlMGI2NDUwMDQyNDQ2ZmM2NTIzYzIwYzk3MzUxMDNiYWQ=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-09-28T03:37:42Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-09-28T03:37:42Z"}, "message": "Rollup merge of #64745 - kennethbgoodin:should-panic-msg, r=varkor\n\nInclude message on tests that should panic but do not\n\nAs per issue #60790 includes a message for tests marked `#[should_panic]` that do not panic as expected.\n\nFixes #60790.", "tree": {"sha": "7c9df7fb4bda00e0a74bb53a7710944b1823e410", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7c9df7fb4bda00e0a74bb53a7710944b1823e410"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a60ac8ee0b6450042446fc6523c20c9735103bad", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdjtWGCRBK7hj4Ov3rIwAAdHIIABCNgVQOEZXfDjB+GYNoMhya\nZTLF4XJcrP3ZFYY6Oa/kbr4ew3/9QtMvVIGBoKAxcehFr3WOvrF9nKFgVMY8pJ/l\nmSDhFjOAoP4K9e/BPf8+QqqWM/oap4OxeW7aZelFMY2lmXiOjJYS3AonegO/k1qi\noQ9nkOMMbZUYczP0ATk8zFsA8491cg8XELWbC0Lziea1N6B4Uv+fJahmKFP9JSYQ\neaGTWeBn9shjPXVgpjfeQD9kITBxUmERRbCS3sW24iN0hUxThkcpcTjg0CjI6bkI\nRpUFOMmHWyqB6uhsakB5KrAcAmGMTxaYIe4e5eL7n3IkeLKvV8f4gw1W5nxMQoQ=\n=5o0T\n-----END PGP SIGNATURE-----\n", "payload": "tree 7c9df7fb4bda00e0a74bb53a7710944b1823e410\nparent 4c57882cfd0c09ca6552daa4a63905e3446993f6\nparent 821ff468780176d3d668e67847f73e38b97ca9f8\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1569641862 +0200\ncommitter GitHub <noreply@github.com> 1569641862 +0200\n\nRollup merge of #64745 - kennethbgoodin:should-panic-msg, r=varkor\n\nInclude message on tests that should panic but do not\n\nAs per issue #60790 includes a message for tests marked `#[should_panic]` that do not panic as expected.\n\nFixes #60790.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a60ac8ee0b6450042446fc6523c20c9735103bad", "html_url": "https://github.com/rust-lang/rust/commit/a60ac8ee0b6450042446fc6523c20c9735103bad", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a60ac8ee0b6450042446fc6523c20c9735103bad/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4c57882cfd0c09ca6552daa4a63905e3446993f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/4c57882cfd0c09ca6552daa4a63905e3446993f6", "html_url": "https://github.com/rust-lang/rust/commit/4c57882cfd0c09ca6552daa4a63905e3446993f6"}, {"sha": "821ff468780176d3d668e67847f73e38b97ca9f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/821ff468780176d3d668e67847f73e38b97ca9f8", "html_url": "https://github.com/rust-lang/rust/commit/821ff468780176d3d668e67847f73e38b97ca9f8"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "bcda5384204d8de3caa0db0dc0c9d5396f5edb4f", "filename": "src/libtest/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a60ac8ee0b6450042446fc6523c20c9735103bad/src%2Flibtest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a60ac8ee0b6450042446fc6523c20c9735103bad/src%2Flibtest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Flib.rs?ref=a60ac8ee0b6450042446fc6523c20c9735103bad", "patch": "@@ -1546,6 +1546,7 @@ fn calc_result(desc: &TestDesc, task_result: Result<(), Box<dyn Any + Send>>) ->\n                 }\n             }\n         }\n+        (&ShouldPanic::Yes, Ok(())) => TrFailedMsg(\"test did not panic as expected\".to_string()),\n         _ if desc.allow_fail => TrAllowedFail,\n         _ => TrFailed,\n     }"}, {"sha": "38ec7bd70930c44fd77f7efb7640e6f4d51a1963", "filename": "src/libtest/tests.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a60ac8ee0b6450042446fc6523c20c9735103bad/src%2Flibtest%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a60ac8ee0b6450042446fc6523c20c9735103bad/src%2Flibtest%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Ftests.rs?ref=a60ac8ee0b6450042446fc6523c20c9735103bad", "patch": "@@ -2,7 +2,7 @@ use super::*;\n \n use crate::test::{\n     filter_tests, parse_opts, run_test, DynTestFn, DynTestName, MetricMap, RunIgnored,\n-    ShouldPanic, StaticTestName, TestDesc, TestDescAndFn, TestOpts, TrFailed, TrFailedMsg,\n+    ShouldPanic, StaticTestName, TestDesc, TestDescAndFn, TestOpts, TrFailedMsg,\n     TrIgnored, TrOk,\n };\n use std::sync::mpsc::channel;\n@@ -167,7 +167,7 @@ fn test_should_panic_but_succeeds() {\n     let (tx, rx) = channel();\n     run_test(&TestOpts::new(), false, desc, tx, Concurrent::No);\n     let (_, res, _, _) = rx.recv().unwrap();\n-    assert!(res == TrFailed);\n+    assert!(res == TrFailedMsg(\"test did not panic as expected\".to_string()));\n }\n \n fn report_time_test_template(report_time: bool) -> Option<TestExecTime> {"}]}