{"sha": "8e7ade85e60f2834f6f6637d916c5709a33a9109", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhlN2FkZTg1ZTYwZjI4MzRmNmY2NjM3ZDkxNmM1NzA5YTMzYTkxMDk=", "commit": {"author": {"name": "Chris Gregory", "email": "czipperz@gmail.com", "date": "2019-06-10T02:02:28Z"}, "committer": {"name": "Chris Gregory", "email": "czipperz@gmail.com", "date": "2019-06-10T02:02:28Z"}, "message": "Reword const fn conditional and loop error text", "tree": {"sha": "6b94692543be57a3f5688bc1162e2c4e12265fec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6b94692543be57a3f5688bc1162e2c4e12265fec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8e7ade85e60f2834f6f6637d916c5709a33a9109", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8e7ade85e60f2834f6f6637d916c5709a33a9109", "html_url": "https://github.com/rust-lang/rust/commit/8e7ade85e60f2834f6f6637d916c5709a33a9109", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8e7ade85e60f2834f6f6637d916c5709a33a9109/comments", "author": {"login": "czipperz", "id": 10054343, "node_id": "MDQ6VXNlcjEwMDU0MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/10054343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/czipperz", "html_url": "https://github.com/czipperz", "followers_url": "https://api.github.com/users/czipperz/followers", "following_url": "https://api.github.com/users/czipperz/following{/other_user}", "gists_url": "https://api.github.com/users/czipperz/gists{/gist_id}", "starred_url": "https://api.github.com/users/czipperz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/czipperz/subscriptions", "organizations_url": "https://api.github.com/users/czipperz/orgs", "repos_url": "https://api.github.com/users/czipperz/repos", "events_url": "https://api.github.com/users/czipperz/events{/privacy}", "received_events_url": "https://api.github.com/users/czipperz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "czipperz", "id": 10054343, "node_id": "MDQ6VXNlcjEwMDU0MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/10054343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/czipperz", "html_url": "https://github.com/czipperz", "followers_url": "https://api.github.com/users/czipperz/followers", "following_url": "https://api.github.com/users/czipperz/following{/other_user}", "gists_url": "https://api.github.com/users/czipperz/gists{/gist_id}", "starred_url": "https://api.github.com/users/czipperz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/czipperz/subscriptions", "organizations_url": "https://api.github.com/users/czipperz/orgs", "repos_url": "https://api.github.com/users/czipperz/repos", "events_url": "https://api.github.com/users/czipperz/events{/privacy}", "received_events_url": "https://api.github.com/users/czipperz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e22b7a3eef962b1314d344ba7b2f27c986320b32", "url": "https://api.github.com/repos/rust-lang/rust/commits/e22b7a3eef962b1314d344ba7b2f27c986320b32", "html_url": "https://github.com/rust-lang/rust/commit/e22b7a3eef962b1314d344ba7b2f27c986320b32"}], "stats": {"total": 28, "additions": 14, "deletions": 14}, "files": [{"sha": "ff4459dd3577f74504b441af8fff789d2ab7b29c", "filename": "src/librustc_mir/transform/qualify_min_const_fn.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Flibrustc_mir%2Ftransform%2Fqualify_min_const_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Flibrustc_mir%2Ftransform%2Fqualify_min_const_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fqualify_min_const_fn.rs?ref=8e7ade85e60f2834f6f6637d916c5709a33a9109", "patch": "@@ -299,7 +299,7 @@ fn check_terminator(\n \n         TerminatorKind::FalseEdges { .. } | TerminatorKind::SwitchInt { .. } => Err((\n             span,\n-            \"`if`, `match`, `&&` and `||` are not stable in const fn\".into(),\n+            \"loops and conditional expressions are not stable in const fn\".into(),\n         )),\n         | TerminatorKind::Abort | TerminatorKind::Unreachable => {\n             Err((span, \"const fn with unreachable code is not stable\".into()))"}, {"sha": "abbdb4ab632dc2d7a2956d00be7ef452f82e2982", "filename": "src/test/ui/consts/min_const_fn/min_const_fn.nll.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.nll.stderr?ref=8e7ade85e60f2834f6f6637d916c5709a33a9109", "patch": "@@ -160,7 +160,7 @@ LL | const fn foo30_2_with_unsafe(x: *mut u32) -> usize { unsafe { x as usize }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:100:38\n    |\n LL | const fn foo30_4(b: bool) -> usize { if b { 1 } else { 42 } }\n@@ -169,7 +169,7 @@ LL | const fn foo30_4(b: bool) -> usize { if b { 1 } else { 42 } }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:102:29\n    |\n LL | const fn foo30_5(b: bool) { while b { } }\n@@ -178,7 +178,7 @@ LL | const fn foo30_5(b: bool) { while b { } }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:104:44\n    |\n LL | const fn foo36(a: bool, b: bool) -> bool { a && b }\n@@ -187,7 +187,7 @@ LL | const fn foo36(a: bool, b: bool) -> bool { a && b }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:106:44\n    |\n LL | const fn foo37(a: bool, b: bool) -> bool { a || b }"}, {"sha": "40e7107e4a15e1654309a068a612819d59d0e576", "filename": "src/test/ui/consts/min_const_fn/min_const_fn.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.rs?ref=8e7ade85e60f2834f6f6637d916c5709a33a9109", "patch": "@@ -98,13 +98,13 @@ const fn foo30_2(x: *mut u32) -> usize { x as usize }\n const fn foo30_2_with_unsafe(x: *mut u32) -> usize { unsafe { x as usize } }\n //~^ ERROR casting pointers to ints is unstable\n const fn foo30_4(b: bool) -> usize { if b { 1 } else { 42 } }\n-//~^ ERROR `if`, `match`, `&&` and `||` are not stable in const fn\n+//~^ ERROR loops and conditional expressions are not stable in const fn\n const fn foo30_5(b: bool) { while b { } } //~ ERROR not stable in const fn\n const fn foo30_6() -> bool { let x = true; x }\n const fn foo36(a: bool, b: bool) -> bool { a && b }\n-//~^ ERROR `if`, `match`, `&&` and `||` are not stable in const fn\n+//~^ ERROR loops and conditional expressions are not stable in const fn\n const fn foo37(a: bool, b: bool) -> bool { a || b }\n-//~^ ERROR `if`, `match`, `&&` and `||` are not stable in const fn\n+//~^ ERROR loops and conditional expressions are not stable in const fn\n const fn inc(x: &mut i32) { *x += 1 }\n //~^ ERROR mutable references in const fn are unstable\n "}, {"sha": "28a5ffb2015945ecefd3c7aea04d668b614c004e", "filename": "src/test/ui/consts/min_const_fn/min_const_fn.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr?ref=8e7ade85e60f2834f6f6637d916c5709a33a9109", "patch": "@@ -160,7 +160,7 @@ LL | const fn foo30_2_with_unsafe(x: *mut u32) -> usize { unsafe { x as usize }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:100:38\n    |\n LL | const fn foo30_4(b: bool) -> usize { if b { 1 } else { 42 } }\n@@ -169,7 +169,7 @@ LL | const fn foo30_4(b: bool) -> usize { if b { 1 } else { 42 } }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:102:29\n    |\n LL | const fn foo30_5(b: bool) { while b { } }\n@@ -178,7 +178,7 @@ LL | const fn foo30_5(b: bool) { while b { } }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:104:44\n    |\n LL | const fn foo36(a: bool, b: bool) -> bool { a && b }\n@@ -187,7 +187,7 @@ LL | const fn foo36(a: bool, b: bool) -> bool { a && b }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:106:44\n    |\n LL | const fn foo37(a: bool, b: bool) -> bool { a || b }"}, {"sha": "6002506689e12c8cb3a0a55e57d1637bd7db0643", "filename": "src/test/ui/consts/single_variant_match_ice.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.rs?ref=8e7ade85e60f2834f6f6637d916c5709a33a9109", "patch": "@@ -15,7 +15,7 @@ impl Foo {\n         use self::Foo::*;\n \n         match *self {\n-            Prob => 0x1, //~ ERROR `if`, `match`, `&&` and `||` are not stable in const fn\n+            Prob => 0x1, //~ ERROR loops and conditional expressions are not stable in const fn\n         }\n     }\n }"}, {"sha": "1e092c8af99674bdc8ddaa7468ead797dd74a0af", "filename": "src/test/ui/consts/single_variant_match_ice.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8e7ade85e60f2834f6f6637d916c5709a33a9109/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.stderr?ref=8e7ade85e60f2834f6f6637d916c5709a33a9109", "patch": "@@ -10,7 +10,7 @@ error[E0019]: constant contains unimplemented expression type\n LL |     x => 42,\n    |     ^\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/single_variant_match_ice.rs:18:13\n    |\n LL |             Prob => 0x1,"}]}