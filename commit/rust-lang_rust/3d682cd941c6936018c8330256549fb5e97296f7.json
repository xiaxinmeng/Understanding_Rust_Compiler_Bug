{"sha": "3d682cd941c6936018c8330256549fb5e97296f7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkNjgyY2Q5NDFjNjkzNjAxOGM4MzMwMjU2NTQ5ZmI1ZTk3Mjk2Zjc=", "commit": {"author": {"name": "Tyler Mandry", "email": "tmandry@gmail.com", "date": "2019-05-30T20:28:31Z"}, "committer": {"name": "Tyler Mandry", "email": "tmandry@gmail.com", "date": "2019-06-04T23:14:36Z"}, "message": "Revert \"Make MaybeStorageLive drop-aware\"\n\nThis reverts commit dd2eabc49d415dd30cea0953df5d7659d4d9440f.", "tree": {"sha": "6751d785a6b55345ff7ee875098c9ea39d5f4a75", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6751d785a6b55345ff7ee875098c9ea39d5f4a75"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3d682cd941c6936018c8330256549fb5e97296f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3d682cd941c6936018c8330256549fb5e97296f7", "html_url": "https://github.com/rust-lang/rust/commit/3d682cd941c6936018c8330256549fb5e97296f7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3d682cd941c6936018c8330256549fb5e97296f7/comments", "author": {"login": "tmandry", "id": 2280544, "node_id": "MDQ6VXNlcjIyODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2280544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmandry", "html_url": "https://github.com/tmandry", "followers_url": "https://api.github.com/users/tmandry/followers", "following_url": "https://api.github.com/users/tmandry/following{/other_user}", "gists_url": "https://api.github.com/users/tmandry/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmandry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmandry/subscriptions", "organizations_url": "https://api.github.com/users/tmandry/orgs", "repos_url": "https://api.github.com/users/tmandry/repos", "events_url": "https://api.github.com/users/tmandry/events{/privacy}", "received_events_url": "https://api.github.com/users/tmandry/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tmandry", "id": 2280544, "node_id": "MDQ6VXNlcjIyODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2280544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmandry", "html_url": "https://github.com/tmandry", "followers_url": "https://api.github.com/users/tmandry/followers", "following_url": "https://api.github.com/users/tmandry/following{/other_user}", "gists_url": "https://api.github.com/users/tmandry/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmandry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmandry/subscriptions", "organizations_url": "https://api.github.com/users/tmandry/orgs", "repos_url": "https://api.github.com/users/tmandry/repos", "events_url": "https://api.github.com/users/tmandry/events{/privacy}", "received_events_url": "https://api.github.com/users/tmandry/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5d8f59f4b1473217c2de7e02330b5aaae70a1668", "url": "https://api.github.com/repos/rust-lang/rust/commits/5d8f59f4b1473217c2de7e02330b5aaae70a1668", "html_url": "https://github.com/rust-lang/rust/commit/5d8f59f4b1473217c2de7e02330b5aaae70a1668"}], "stats": {"total": 13, "additions": 3, "deletions": 10}, "files": [{"sha": "9bf346f5f62d64814b4d4b018cefd17fcb6f35c7", "filename": "src/librustc_mir/dataflow/impls/storage_liveness.rs", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/3d682cd941c6936018c8330256549fb5e97296f7/src%2Flibrustc_mir%2Fdataflow%2Fimpls%2Fstorage_liveness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d682cd941c6936018c8330256549fb5e97296f7/src%2Flibrustc_mir%2Fdataflow%2Fimpls%2Fstorage_liveness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fdataflow%2Fimpls%2Fstorage_liveness.rs?ref=3d682cd941c6936018c8330256549fb5e97296f7", "patch": "@@ -43,16 +43,9 @@ impl<'a, 'tcx> BitDenotation<'tcx> for MaybeStorageLive<'a, 'tcx> {\n     }\n \n     fn terminator_effect(&self,\n-                         sets: &mut BlockSets<'_, Local>,\n-                         loc: Location) {\n-        match &self.mir[loc.block].terminator().kind {\n-            TerminatorKind::Drop { location, .. } => {\n-                if let Some(l) = location.local_or_deref_local() {\n-                    sets.kill(l);\n-                }\n-            }\n-            _ => (),\n-        }\n+                         _sets: &mut BlockSets<'_, Local>,\n+                         _loc: Location) {\n+        // Terminators have no effect\n     }\n \n     fn propagate_call_return("}]}