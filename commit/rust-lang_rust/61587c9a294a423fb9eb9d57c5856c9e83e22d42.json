{"sha": "61587c9a294a423fb9eb9d57c5856c9e83e22d42", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYxNTg3YzlhMjk0YTQyM2ZiOWViOWQ1N2M1ODU2YzllODNlMjJkNDI=", "commit": {"author": {"name": "ThibsG", "email": "Thibs@debian.com", "date": "2020-05-27T14:24:53Z"}, "committer": {"name": "ThibsG", "email": "Thibs@debian.com", "date": "2020-06-01T08:39:52Z"}, "message": "Fix some code examples in doc", "tree": {"sha": "801dbc5ca2058eec42565478bd64dbfe100decc6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/801dbc5ca2058eec42565478bd64dbfe100decc6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/61587c9a294a423fb9eb9d57c5856c9e83e22d42", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/61587c9a294a423fb9eb9d57c5856c9e83e22d42", "html_url": "https://github.com/rust-lang/rust/commit/61587c9a294a423fb9eb9d57c5856c9e83e22d42", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/61587c9a294a423fb9eb9d57c5856c9e83e22d42/comments", "author": {"login": "ThibsG", "id": 12683889, "node_id": "MDQ6VXNlcjEyNjgzODg5", "avatar_url": "https://avatars.githubusercontent.com/u/12683889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThibsG", "html_url": "https://github.com/ThibsG", "followers_url": "https://api.github.com/users/ThibsG/followers", "following_url": "https://api.github.com/users/ThibsG/following{/other_user}", "gists_url": "https://api.github.com/users/ThibsG/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThibsG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThibsG/subscriptions", "organizations_url": "https://api.github.com/users/ThibsG/orgs", "repos_url": "https://api.github.com/users/ThibsG/repos", "events_url": "https://api.github.com/users/ThibsG/events{/privacy}", "received_events_url": "https://api.github.com/users/ThibsG/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ThibsG", "id": 12683889, "node_id": "MDQ6VXNlcjEyNjgzODg5", "avatar_url": "https://avatars.githubusercontent.com/u/12683889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThibsG", "html_url": "https://github.com/ThibsG", "followers_url": "https://api.github.com/users/ThibsG/followers", "following_url": "https://api.github.com/users/ThibsG/following{/other_user}", "gists_url": "https://api.github.com/users/ThibsG/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThibsG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThibsG/subscriptions", "organizations_url": "https://api.github.com/users/ThibsG/orgs", "repos_url": "https://api.github.com/users/ThibsG/repos", "events_url": "https://api.github.com/users/ThibsG/events{/privacy}", "received_events_url": "https://api.github.com/users/ThibsG/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bee0608fadc1d10f525171d0986ada74024beb83", "url": "https://api.github.com/repos/rust-lang/rust/commits/bee0608fadc1d10f525171d0986ada74024beb83", "html_url": "https://github.com/rust-lang/rust/commit/bee0608fadc1d10f525171d0986ada74024beb83"}], "stats": {"total": 85, "additions": 78, "deletions": 7}, "files": [{"sha": "13e61fe98bac1d6ff18a1f61dce52ba52acf9a45", "filename": "clippy_lints/src/assign_ops.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fassign_ops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fassign_ops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fassign_ops.rs?ref=61587c9a294a423fb9eb9d57c5856c9e83e22d42", "patch": "@@ -24,7 +24,11 @@ declare_clippy_lint! {\n     /// let mut a = 5;\n     /// let b = 0;\n     /// // ...\n+    /// // Bad\n     /// a = a + b;\n+    ///\n+    /// // Good\n+    /// a += b;\n     /// ```\n     pub ASSIGN_OP_PATTERN,\n     style,"}, {"sha": "05517f6f9f0ccfe4f8b28bd38e09e19205739316", "filename": "clippy_lints/src/double_parens.rs", "status": "modified", "additions": 16, "deletions": 2, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fdouble_parens.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fdouble_parens.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdouble_parens.rs?ref=61587c9a294a423fb9eb9d57c5856c9e83e22d42", "patch": "@@ -13,10 +13,24 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n+    /// // Bad\n+    /// fn simple_double_parens() -> i32 {\n+    ///     ((0))\n+    /// }\n+    ///\n+    /// // Good\n+    /// fn simple_no_parens() -> i32 {\n+    ///     0\n+    /// }\n+    ///\n+    /// // or\n+    ///\n     /// # fn foo(bar: usize) {}\n-    /// ((0));\n+    /// // Bad\n     /// foo((0));\n-    /// ((1, 2));\n+    ///\n+    /// // Good\n+    /// foo(0);\n     /// ```\n     pub DOUBLE_PARENS,\n     complexity,"}, {"sha": "4ef963ac3148ea9e718d98b46a0a26c46997c6b5", "filename": "clippy_lints/src/drop_bounds.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fdrop_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fdrop_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdrop_bounds.rs?ref=61587c9a294a423fb9eb9d57c5856c9e83e22d42", "patch": "@@ -27,6 +27,10 @@ declare_clippy_lint! {\n     /// ```rust\n     /// fn foo<T: Drop>() {}\n     /// ```\n+    /// Could be written as:\n+    /// ```rust\n+    /// fn foo() {}\n+    /// ```\n     pub DROP_BOUNDS,\n     correctness,\n     \"Bounds of the form `T: Drop` are useless\""}, {"sha": "afefa2506381b99f0a108e12b5ee3e09160b12d8", "filename": "clippy_lints/src/duration_subsec.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fduration_subsec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fduration_subsec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fduration_subsec.rs?ref=61587c9a294a423fb9eb9d57c5856c9e83e22d42", "patch": "@@ -22,8 +22,14 @@ declare_clippy_lint! {\n     /// ```rust\n     /// # use std::time::Duration;\n     /// let dur = Duration::new(5, 0);\n+    ///\n+    /// // Bad\n     /// let _micros = dur.subsec_nanos() / 1_000;\n     /// let _millis = dur.subsec_nanos() / 1_000_000;\n+    ///\n+    /// // Good\n+    /// let _micros = dur.subsec_micros();\n+    /// let _millis = dur.subsec_millis();\n     /// ```\n     pub DURATION_SUBSEC,\n     complexity,"}, {"sha": "cb0fd59a2d4079acd2835fb752cd3e045cb43b1f", "filename": "clippy_lints/src/enum_variants.rs", "status": "modified", "additions": 27, "deletions": 5, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fenum_variants.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fenum_variants.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fenum_variants.rs?ref=61587c9a294a423fb9eb9d57c5856c9e83e22d42", "patch": "@@ -25,31 +25,47 @@ declare_clippy_lint! {\n     ///     BattenbergCake,\n     /// }\n     /// ```\n+    /// Could be written as:\n+    /// ```rust\n+    /// enum Cake {\n+    ///     BlackForest,\n+    ///     Hummingbird,\n+    ///     Battenberg,\n+    /// }\n+    /// ```\n     pub ENUM_VARIANT_NAMES,\n     style,\n     \"enums where all variants share a prefix/postfix\"\n }\n \n declare_clippy_lint! {\n-    /// **What it does:** Detects enumeration variants that are prefixed or suffixed\n-    /// by the same characters.\n+    /// **What it does:** Detects public enumeration variants that are\n+    /// prefixed or suffixed by the same characters.\n     ///\n-    /// **Why is this bad?** Enumeration variant names should specify their variant,\n+    /// **Why is this bad?** Public enumeration variant names should specify their variant,\n     /// not repeat the enumeration name.\n     ///\n     /// **Known problems:** None.\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// enum Cake {\n+    /// pub enum Cake {\n     ///     BlackForestCake,\n     ///     HummingbirdCake,\n     ///     BattenbergCake,\n     /// }\n     /// ```\n+    /// Could be written as:\n+    /// ```rust\n+    /// pub enum Cake {\n+    ///     BlackForest,\n+    ///     Hummingbird,\n+    ///     Battenberg,\n+    /// }\n+    /// ```\n     pub PUB_ENUM_VARIANT_NAMES,\n     pedantic,\n-    \"enums where all variants share a prefix/postfix\"\n+    \"public enums where all variants share a prefix/postfix\"\n }\n \n declare_clippy_lint! {\n@@ -66,6 +82,12 @@ declare_clippy_lint! {\n     ///     struct BlackForestCake;\n     /// }\n     /// ```\n+    /// Could be written as:\n+    /// ```rust\n+    /// mod cake {\n+    ///     struct BlackForest;\n+    /// }\n+    /// ```\n     pub MODULE_NAME_REPETITIONS,\n     pedantic,\n     \"type names prefixed/postfixed with their containing module's name\""}, {"sha": "d7819d737ea0445565b4bd67f7b1467b4b6b4f25", "filename": "clippy_lints/src/eq_op.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Feq_op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Feq_op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feq_op.rs?ref=61587c9a294a423fb9eb9d57c5856c9e83e22d42", "patch": "@@ -39,7 +39,11 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```ignore\n+    /// // Bad\n     /// &x == y\n+    ///\n+    /// // Good\n+    /// x == *y\n     /// ```\n     pub OP_REF,\n     style,"}, {"sha": "7227683aa5ac2c0104f1a535c1bbbdbb641da55b", "filename": "clippy_lints/src/escape.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fescape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Fescape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fescape.rs?ref=61587c9a294a423fb9eb9d57c5856c9e83e22d42", "patch": "@@ -28,9 +28,16 @@ declare_clippy_lint! {\n     /// **Example:**\n     /// ```rust\n     /// # fn foo(bar: usize) {}\n+    ///\n+    /// // Bad\n     /// let x = Box::new(1);\n     /// foo(*x);\n     /// println!(\"{}\", *x);\n+    ///\n+    /// // Good\n+    /// let x = 1;\n+    /// foo(x);\n+    /// println!(\"{}\", x);\n     /// ```\n     pub BOXED_LOCAL,\n     perf,"}, {"sha": "5f0cd1ec72ceea86b4da7d1a97bb772c72f323ed", "filename": "clippy_lints/src/eta_reduction.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Feta_reduction.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Feta_reduction.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feta_reduction.rs?ref=61587c9a294a423fb9eb9d57c5856c9e83e22d42", "patch": "@@ -26,7 +26,11 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust,ignore\n+    /// // Bad\n     /// xs.map(|x| foo(x))\n+    ///\n+    /// // Good\n+    /// foo(xs)\n     /// ```\n     /// where `foo(_)` is a plain function that takes the exact argument type of\n     /// `x`."}, {"sha": "37e24ff34f7aeea48241e009eee3922d2acf7286", "filename": "clippy_lints/src/eval_order_dependence.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Feval_order_dependence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61587c9a294a423fb9eb9d57c5856c9e83e22d42/clippy_lints%2Fsrc%2Feval_order_dependence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feval_order_dependence.rs?ref=61587c9a294a423fb9eb9d57c5856c9e83e22d42", "patch": "@@ -21,11 +21,17 @@ declare_clippy_lint! {\n     /// **Example:**\n     /// ```rust\n     /// let mut x = 0;\n+    ///\n+    /// // Bad\n     /// let a = {\n     ///     x = 1;\n     ///     1\n     /// } + x;\n     /// // Unclear whether a is 1 or 2.\n+    ///\n+    /// // Good\n+    /// x = 1;\n+    /// let a = 1 + x;\n     /// ```\n     pub EVAL_ORDER_DEPENDENCE,\n     complexity,"}]}