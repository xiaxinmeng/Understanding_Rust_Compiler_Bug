{"sha": "3f21f07e72eeb8dabdcf76bfda00028d607632d5", "node_id": "C_kwDOAAsO6NoAKDNmMjFmMDdlNzJlZWI4ZGFiZGNmNzZiZmRhMDAwMjhkNjA3NjMyZDU", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-09-28T21:47:56Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-09-28T23:18:12Z"}, "message": "rustdoc: remove bad CSS font-weight on `.impl`, `.method`, etc\n\nThis line was added in c494a06064017f307a8d9dc4797e614d2ed99143, because at\nthe time, the headers had these classes on them. Now, the headers are\nchildren of the `<section>` with the class on it.\n\nThis commit also adds a test case, to make sure the srclink font weight does\nnot regress again.", "tree": {"sha": "18aad6406ebfa63f9dfb561b664eaa7e7d16583d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/18aad6406ebfa63f9dfb561b664eaa7e7d16583d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3f21f07e72eeb8dabdcf76bfda00028d607632d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3f21f07e72eeb8dabdcf76bfda00028d607632d5", "html_url": "https://github.com/rust-lang/rust/commit/3f21f07e72eeb8dabdcf76bfda00028d607632d5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3f21f07e72eeb8dabdcf76bfda00028d607632d5/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "307dd938d7937c93dc7a880e81a2383b82f30ad0", "url": "https://api.github.com/repos/rust-lang/rust/commits/307dd938d7937c93dc7a880e81a2383b82f30ad0", "html_url": "https://github.com/rust-lang/rust/commit/307dd938d7937c93dc7a880e81a2383b82f30ad0"}], "stats": {"total": 15, "additions": 7, "deletions": 8}, "files": [{"sha": "06d5829317cdeef4bf518e6b750076eff2901447", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3f21f07e72eeb8dabdcf76bfda00028d607632d5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/3f21f07e72eeb8dabdcf76bfda00028d607632d5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=3f21f07e72eeb8dabdcf76bfda00028d607632d5", "patch": "@@ -187,7 +187,6 @@ h4.code-header {\n .impl-items .associatedtype,\n .methods .associatedtype {\n \tflex-basis: 100%;\n-\tfont-weight: 600;\n \tposition: relative;\n }\n "}, {"sha": "14653f0bfc7487077990eafe2b838ddd9b43891a", "filename": "src/test/rustdoc-gui/anchor-navigable.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f21f07e72eeb8dabdcf76bfda00028d607632d5/src%2Ftest%2Frustdoc-gui%2Fanchor-navigable.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f21f07e72eeb8dabdcf76bfda00028d607632d5/src%2Ftest%2Frustdoc-gui%2Fanchor-navigable.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fanchor-navigable.goml?ref=3f21f07e72eeb8dabdcf76bfda00028d607632d5", "patch": "@@ -7,5 +7,5 @@\n goto: file://|DOC_PATH|/test_docs/struct.Foo.html\n // We check that \".item-info\" is bigger than its content.\n move-cursor-to: \".impl\"\n-assert-property: (\".impl > a.anchor\", {\"offsetWidth\": \"9\"})\n+assert-property: (\".impl > a.anchor\", {\"offsetWidth\": \"8\"})\n assert-css: (\".impl > a.anchor\", {\"left\": \"-8px\"})"}, {"sha": "d5c934551a57237cfd3e40adc0e5a7ffc50a6ef5", "filename": "src/test/rustdoc-gui/font-weight.goml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3f21f07e72eeb8dabdcf76bfda00028d607632d5/src%2Ftest%2Frustdoc-gui%2Ffont-weight.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f21f07e72eeb8dabdcf76bfda00028d607632d5/src%2Ftest%2Frustdoc-gui%2Ffont-weight.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ffont-weight.goml?ref=3f21f07e72eeb8dabdcf76bfda00028d607632d5", "patch": "@@ -13,7 +13,7 @@ goto: file://|DOC_PATH|/test_docs/type.SomeType.html\n assert-css: (\".top-doc .docblock p\", {\"font-weight\": \"400\"}, ALL)\n \n goto: file://|DOC_PATH|/test_docs/struct.Foo.html\n-assert-css: (\".impl-items .method\", {\"font-weight\": \"600\"}, ALL)\n+assert-css: (\".impl-items .method > .code-header\", {\"font-weight\": \"600\"}, ALL)\n \n goto: file://|DOC_PATH|/lib2/trait.Trait.html\n \n@@ -41,4 +41,4 @@ assert-count: (\".methods .associatedtype\", 1)\n assert-css: (\".methods .associatedtype\", {\"font-weight\": \"600\"})\n assert-count: (\".methods .constant\", 1)\n assert-css: (\".methods .constant\", {\"font-weight\": \"600\"})\n-assert-css: (\".methods .method\", {\"font-weight\": \"600\"})\n+assert-css: (\".methods .method > .code-header\", {\"font-weight\": \"600\"})"}, {"sha": "ebb413b8c412c123335310bc6fda891087a29e2c", "filename": "src/test/rustdoc-gui/src-font-size.goml", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3f21f07e72eeb8dabdcf76bfda00028d607632d5/src%2Ftest%2Frustdoc-gui%2Fsrc-font-size.goml", "raw_url": "https://github.com/rust-lang/rust/raw/3f21f07e72eeb8dabdcf76bfda00028d607632d5/src%2Ftest%2Frustdoc-gui%2Fsrc-font-size.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsrc-font-size.goml?ref=3f21f07e72eeb8dabdcf76bfda00028d607632d5", "patch": "@@ -4,8 +4,8 @@\n goto: file://|DOC_PATH|/test_docs/struct.Foo.html\n show-text: true\n // Check the impl headers.\n-assert-css: (\".impl.has-srclink .srclink\", {\"font-size\": \"16px\"}, ALL)\n-assert-css: (\".impl.has-srclink .code-header\", {\"font-size\": \"18px\"}, ALL)\n+assert-css: (\".impl.has-srclink .srclink\", {\"font-size\": \"16px\", \"font-weight\": 400}, ALL)\n+assert-css: (\".impl.has-srclink .code-header\", {\"font-size\": \"18px\", \"font-weight\": 600}, ALL)\n // Check the impl items.\n-assert-css: (\".impl-items .has-srclink .srclink\", {\"font-size\": \"16px\"}, ALL)\n-assert-css: (\".impl-items .has-srclink .code-header\", {\"font-size\": \"16px\"}, ALL)\n+assert-css: (\".impl-items .has-srclink .srclink\", {\"font-size\": \"16px\", \"font-weight\": 400}, ALL)\n+assert-css: (\".impl-items .has-srclink .code-header\", {\"font-size\": \"16px\", \"font-weight\": 600}, ALL)"}]}