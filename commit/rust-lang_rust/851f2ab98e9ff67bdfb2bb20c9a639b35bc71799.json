{"sha": "851f2ab98e9ff67bdfb2bb20c9a639b35bc71799", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg1MWYyYWI5OGU5ZmY2N2JkZmIyYmIyMGM5YTYzOWIzNWJjNzE3OTk=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-07-26T14:43:45Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-07-26T14:43:51Z"}, "message": "test `cargo miri` output", "tree": {"sha": "16b22ec3ecfa7d5db33c9eea8c4d3e41cb779510", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/16b22ec3ecfa7d5db33c9eea8c4d3e41cb779510"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799", "html_url": "https://github.com/rust-lang/rust/commit/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8a6d6f0c95fc831c2ddc54d87d7fce2282cb48f5", "url": "https://api.github.com/repos/rust-lang/rust/commits/8a6d6f0c95fc831c2ddc54d87d7fce2282cb48f5", "html_url": "https://github.com/rust-lang/rust/commit/8a6d6f0c95fc831c2ddc54d87d7fce2282cb48f5"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "b130c6dc5b2b4d4b569c5d9ab304057113dbd607", "filename": ".travis.yml", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=851f2ab98e9ff67bdfb2bb20c9a639b35bc71799", "patch": "@@ -30,9 +30,13 @@ script:\n   RUST_BACKTRACE=1 cargo test --release --all-features --all &&\n   cargo install --all-features --force\n - |\n-  # Test cargo miri\n+  # Test `cargo miri`\n   cd cargo-miri-test &&\n-  cargo miri &&\n+  MIRI_SYSROOT=~/.xargo/HOST cargo miri -q -- -Zmiri-start-fn >stdout.real 2>stderr.real &&\n+  # Test `cargo miri` output.\n+  diff stdout.ref stdout.real &&\n+  diff stderr.ref stderr.real &&\n+  # Test `cargo miri test`\n   #cargo miri test &&\n   cd ..\n - |"}, {"sha": "56f307a7fb1331742bd7b9536eea235af055f636", "filename": "cargo-miri-test/.gitignore", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/cargo-miri-test%2F.gitignore", "raw_url": "https://github.com/rust-lang/rust/raw/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/cargo-miri-test%2F.gitignore", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/cargo-miri-test%2F.gitignore?ref=851f2ab98e9ff67bdfb2bb20c9a639b35bc71799", "patch": "@@ -0,0 +1 @@\n+*.real"}, {"sha": "6ad516710e1b107b0e13c5dec46c6730d1f8c460", "filename": "cargo-miri-test/src/main.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/cargo-miri-test%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/cargo-miri-test%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/cargo-miri-test%2Fsrc%2Fmain.rs?ref=851f2ab98e9ff67bdfb2bb20c9a639b35bc71799", "patch": "@@ -6,4 +6,6 @@ fn main() {\n     let buf = &[1,2,3,4];\n     let n = <BigEndian as ByteOrder>::read_u32(buf);\n     assert_eq!(n, 0x01020304);\n+    println!(\"{:#x}\", n);\n+    eprintln!(\"standard error\");\n }"}, {"sha": "aa7d1a2bdec7dcd036b35446c26da4ed483f080c", "filename": "cargo-miri-test/stderr.ref", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/cargo-miri-test%2Fstderr.ref", "raw_url": "https://github.com/rust-lang/rust/raw/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/cargo-miri-test%2Fstderr.ref", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/cargo-miri-test%2Fstderr.ref?ref=851f2ab98e9ff67bdfb2bb20c9a639b35bc71799", "patch": "@@ -0,0 +1 @@\n+standard error"}, {"sha": "53fefc734c853589145da91800c7c5c66e27f772", "filename": "cargo-miri-test/stdout.ref", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/cargo-miri-test%2Fstdout.ref", "raw_url": "https://github.com/rust-lang/rust/raw/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/cargo-miri-test%2Fstdout.ref", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/cargo-miri-test%2Fstdout.ref?ref=851f2ab98e9ff67bdfb2bb20c9a639b35bc71799", "patch": "@@ -0,0 +1 @@\n+0x1020304"}, {"sha": "a51ff73008ec8becbff2369c6c58173a833bb55d", "filename": "src/fn_call.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/src%2Ffn_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/851f2ab98e9ff67bdfb2bb20c9a639b35bc71799/src%2Ffn_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ffn_call.rs?ref=851f2ab98e9ff67bdfb2bb20c9a639b35bc71799", "patch": "@@ -612,7 +612,7 @@ impl<'a, 'mir, 'tcx: 'mir + 'a> EvalContextExt<'tcx> for EvalContext<'a, 'mir, '\n \n             // Stub out all the other pthread calls to just return 0\n             link_name if link_name.starts_with(\"pthread_\") => {\n-                info!(\"ignoring C ABI call: {}\", link_name);\n+                debug!(\"ignoring C ABI call: {}\", link_name);\n                 self.write_null(dest, dest_ty)?;\n             }\n "}]}