{"sha": "9cceef06630b9346831b4f85f6b7a6077a119dad", "node_id": "MDY6Q29tbWl0NzI0NzEyOjljY2VlZjA2NjMwYjkzNDY4MzFiNGY4NWY2YjdhNjA3N2ExMTlkYWQ=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-06-16T08:34:05Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-06-16T08:34:05Z"}, "message": "simplify target name extraction", "tree": {"sha": "96fd53c2e7e4f88c61451e4a659e66ff1671b4f8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/96fd53c2e7e4f88c61451e4a659e66ff1671b4f8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9cceef06630b9346831b4f85f6b7a6077a119dad", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXYmR9AAoJEFbW7qD8Z6xG2JYQAI/+IE0QY8ic9mHbQTBoR/G1\nhv54xYU9mB4OHLP7CPOxUgHvWYnlFGFJZWijYjHa/wP4tG2bjjxRHueFQS5wRi1I\n9oNx/snzx0Q9F0zZZm9XpaPNWIzW5YQS3yeF5SQtB+E29XHFpzb6Do2cg03wcbLD\nfD3cZvaNZYxmd2X+fUfSMSiWov+qa1OeNLnUPfTOq7SFK8KG3qdsfxqdlMowZumk\niA4fRbjXWOQnq06oEFfMTiuQPHKbGYrV1obixUDJ0nvMSy9hxn0Wa2gDKl4vSGUh\nlxggn/QPCYr8zb8OA3t9dvpQwbK2HYsNpBfigFjkxt22WitHuPzsoviRgTjxUomX\nEZYzEDVXW6x6qZil9SAgTmQ3RnEb9P2io2wcW94/zpOl3XP5vzRah6B99NZ1/J1D\ncioYE9BAsTa91SeZhVt+zEfV/c7FILYXrtkn1nl38sTOqowzhU2qrSfSU9MksIg6\nM+G6hybXAFoAJ1PIMQ6CUBB1gecWL+KWU5vjmb+ZYPUsdSzBXXs8xaukFHdsapXC\nO/SdHPFrpZedSjJuXq8n08+8hQtfHVU14GkY+1/R3PKXgWnvPVW6hc2xB7w19sHI\n7fiZyjT8LMYRwDgvT5Q3vWXMxPB91LSpCDKa2IKtQ1Bx278Eywn6L4TQe7Ob4l4T\nqI3z+GPbT1EyaOkRC7N/\n=06tK\n-----END PGP SIGNATURE-----", "payload": "tree 96fd53c2e7e4f88c61451e4a659e66ff1671b4f8\nparent 506f2deaf9e718a947f0b4107036bce22b843721\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1466066045 +0200\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1466066045 +0200\n\nsimplify target name extraction"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9cceef06630b9346831b4f85f6b7a6077a119dad", "html_url": "https://github.com/rust-lang/rust/commit/9cceef06630b9346831b4f85f6b7a6077a119dad", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9cceef06630b9346831b4f85f6b7a6077a119dad/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "506f2deaf9e718a947f0b4107036bce22b843721", "url": "https://api.github.com/repos/rust-lang/rust/commits/506f2deaf9e718a947f0b4107036bce22b843721", "html_url": "https://github.com/rust-lang/rust/commit/506f2deaf9e718a947f0b4107036bce22b843721"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "bdb7acf56b045b69298ce0606760bdb38aa12f30", "filename": "tests/compiletest.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9cceef06630b9346831b4f85f6b7a6077a119dad/tests%2Fcompiletest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cceef06630b9346831b4f85f6b7a6077a119dad/tests%2Fcompiletest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompiletest.rs?ref=9cceef06630b9346831b4f85f6b7a6077a119dad", "patch": "@@ -26,7 +26,7 @@ fn for_all_targets<F: Fn(String)>(sysroot: &str, f: F) {\n         if !target.metadata().unwrap().is_dir() {\n             continue;\n         }\n-        let target = target.path().iter().rev().next().unwrap().to_str().unwrap().to_owned();\n+        let target = target.file_name().into_string().unwrap();\n         if target == \"etc\" {\n             continue;\n         }"}]}