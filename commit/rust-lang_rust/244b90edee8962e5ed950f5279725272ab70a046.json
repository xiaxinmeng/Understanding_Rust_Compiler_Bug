{"sha": "244b90edee8962e5ed950f5279725272ab70a046", "node_id": "C_kwDOAAsO6NoAKDI0NGI5MGVkZWU4OTYyZTVlZDk1MGY1Mjc5NzI1MjcyYWI3MGEwNDY", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2023-01-12T06:25:48Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-01-12T06:25:48Z"}, "message": "Rollup merge of #106323 - starkat99:stabilize-f16c_target_feature, r=petrochenkov\n\nStabilize f16c_target_feature\n\nResolves https://github.com/rust-lang/stdarch/issues/1234\n\nLibrary PR for stabilizing corresponding intrinsics: https://github.com/rust-lang/stdarch/pull/1366\n\nSee also #44839 tracking issue for target_feature", "tree": {"sha": "49d61a18125b0a1ed9d77670923fffd39268fd1c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/49d61a18125b0a1ed9d77670923fffd39268fd1c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/244b90edee8962e5ed950f5279725272ab70a046", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjv6fsCRBK7hj4Ov3rIwAATK0IAKP9R9Puz7BuCnCs6iRyMYfF\n+NBxKAeuxolOdX7VjgllSblITQNNT3DRwtMeHNQRRaYQx5VxmwHd30gMWYejTa8Z\n+u04+1SwOfc7RkKyOCrz4PpFdkK1gOMd9sHIx/ZYn9fT1xXtHFVjZs7yb36li2q2\nmYGRKwDG77I1HqPwgzAGikG/jrRXDU7NDESy31mn3HXgdTAsJvwrDuZH9ZxPTK+B\n8H90Ygf5sfPlM3yRoiDHQLGnN8NE50EPCqy7KT5K6wgu0lCGmenRi653GZPW2eGM\nMhu5W6dD8e4wVvgkpgdEaMnk+Lso+yr6Jj+QP1QeBAiOPlnhhT4edVBaOCX88is=\n=4H+y\n-----END PGP SIGNATURE-----\n", "payload": "tree 49d61a18125b0a1ed9d77670923fffd39268fd1c\nparent 9928b1477284d4b9ea04b97012fd1e72382bc435\nparent a29425c6d41db7d356d4fc8acddc2e3a497961ab\nauthor Michael Goulet <michael@errs.io> 1673504748 -0800\ncommitter GitHub <noreply@github.com> 1673504748 -0800\n\nRollup merge of #106323 - starkat99:stabilize-f16c_target_feature, r=petrochenkov\n\nStabilize f16c_target_feature\n\nResolves https://github.com/rust-lang/stdarch/issues/1234\n\nLibrary PR for stabilizing corresponding intrinsics: https://github.com/rust-lang/stdarch/pull/1366\n\nSee also #44839 tracking issue for target_feature\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/244b90edee8962e5ed950f5279725272ab70a046", "html_url": "https://github.com/rust-lang/rust/commit/244b90edee8962e5ed950f5279725272ab70a046", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/244b90edee8962e5ed950f5279725272ab70a046/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9928b1477284d4b9ea04b97012fd1e72382bc435", "url": "https://api.github.com/repos/rust-lang/rust/commits/9928b1477284d4b9ea04b97012fd1e72382bc435", "html_url": "https://github.com/rust-lang/rust/commit/9928b1477284d4b9ea04b97012fd1e72382bc435"}, {"sha": "a29425c6d41db7d356d4fc8acddc2e3a497961ab", "url": "https://api.github.com/repos/rust-lang/rust/commits/a29425c6d41db7d356d4fc8acddc2e3a497961ab", "html_url": "https://github.com/rust-lang/rust/commit/a29425c6d41db7d356d4fc8acddc2e3a497961ab"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "739963fffd132b217c25d6f083805563aa99c2b7", "filename": "compiler/rustc_codegen_ssa/src/target_features.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/244b90edee8962e5ed950f5279725272ab70a046/compiler%2Frustc_codegen_ssa%2Fsrc%2Ftarget_features.rs", "raw_url": "https://github.com/rust-lang/rust/raw/244b90edee8962e5ed950f5279725272ab70a046/compiler%2Frustc_codegen_ssa%2Fsrc%2Ftarget_features.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_ssa%2Fsrc%2Ftarget_features.rs?ref=244b90edee8962e5ed950f5279725272ab70a046", "patch": "@@ -187,7 +187,7 @@ const X86_ALLOWED_FEATURES: &[(&str, Option<Symbol>)] = &[\n     (\"bmi2\", None),\n     (\"cmpxchg16b\", Some(sym::cmpxchg16b_target_feature)),\n     (\"ermsb\", Some(sym::ermsb_target_feature)),\n-    (\"f16c\", Some(sym::f16c_target_feature)),\n+    (\"f16c\", None),\n     (\"fma\", None),\n     (\"fxsr\", None),\n     (\"gfni\", Some(sym::avx512_target_feature)),\n@@ -396,7 +396,6 @@ pub fn from_target_feature(\n                 Some(sym::cmpxchg16b_target_feature) => rust_features.cmpxchg16b_target_feature,\n                 Some(sym::movbe_target_feature) => rust_features.movbe_target_feature,\n                 Some(sym::rtm_target_feature) => rust_features.rtm_target_feature,\n-                Some(sym::f16c_target_feature) => rust_features.f16c_target_feature,\n                 Some(sym::ermsb_target_feature) => rust_features.ermsb_target_feature,\n                 Some(sym::bpf_target_feature) => rust_features.bpf_target_feature,\n                 Some(sym::aarch64_ver_target_feature) => rust_features.aarch64_ver_target_feature,"}, {"sha": "fcbc5bacfcccf12eca59cea62911ab0467600479", "filename": "compiler/rustc_feature/src/accepted.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/244b90edee8962e5ed950f5279725272ab70a046/compiler%2Frustc_feature%2Fsrc%2Faccepted.rs", "raw_url": "https://github.com/rust-lang/rust/raw/244b90edee8962e5ed950f5279725272ab70a046/compiler%2Frustc_feature%2Fsrc%2Faccepted.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Faccepted.rs?ref=244b90edee8962e5ed950f5279725272ab70a046", "patch": "@@ -161,6 +161,8 @@ declare_features! (\n     (accepted, extern_crate_self, \"1.34.0\", Some(56409), None),\n     /// Allows access to crate names passed via `--extern` through prelude.\n     (accepted, extern_prelude, \"1.30.0\", Some(44660), None),\n+    /// Allows using F16C intrinsics from `core::arch::{x86, x86_64}`.\n+    (accepted, f16c_target_feature, \"CURRENT_RUSTC_VERSION\", Some(44839), None),\n     /// Allows field shorthands (`x` meaning `x: x`) in struct literal expressions.\n     (accepted, field_init_shorthand, \"1.17.0\", Some(37340), None),\n     /// Allows `#[must_use]` on functions, and introduces must-use operators (RFC 1940)."}, {"sha": "f0bc35d06bfd04e7697bab13e8de2fa91ad00575", "filename": "compiler/rustc_feature/src/active.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/244b90edee8962e5ed950f5279725272ab70a046/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/244b90edee8962e5ed950f5279725272ab70a046/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Factive.rs?ref=244b90edee8962e5ed950f5279725272ab70a046", "patch": "@@ -254,7 +254,6 @@ declare_features! (\n     (active, bpf_target_feature, \"1.54.0\", Some(44839), None),\n     (active, cmpxchg16b_target_feature, \"1.32.0\", Some(44839), None),\n     (active, ermsb_target_feature, \"1.49.0\", Some(44839), None),\n-    (active, f16c_target_feature, \"1.36.0\", Some(44839), None),\n     (active, hexagon_target_feature, \"1.27.0\", Some(44839), None),\n     (active, mips_target_feature, \"1.27.0\", Some(44839), None),\n     (active, movbe_target_feature, \"1.34.0\", Some(44839), None),"}, {"sha": "e898bca88e419e1b31da51398fccafaf3d36b0ac", "filename": "library/core/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/244b90edee8962e5ed950f5279725272ab70a046/library%2Fcore%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/244b90edee8962e5ed950f5279725272ab70a046/library%2Fcore%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Flib.rs?ref=244b90edee8962e5ed950f5279725272ab70a046", "patch": "@@ -239,7 +239,6 @@\n #![feature(arm_target_feature)]\n #![feature(avx512_target_feature)]\n #![feature(cmpxchg16b_target_feature)]\n-#![feature(f16c_target_feature)]\n #![feature(hexagon_target_feature)]\n #![feature(mips_target_feature)]\n #![feature(powerpc_target_feature)]\n@@ -248,6 +247,7 @@\n #![feature(sse4a_target_feature)]\n #![feature(tbm_target_feature)]\n #![feature(wasm_target_feature)]\n+#![cfg_attr(bootstrap, feature(f16c_target_feature))]\n \n // allow using `core::` in intra-doc links\n #[allow(unused_extern_crates)]"}]}