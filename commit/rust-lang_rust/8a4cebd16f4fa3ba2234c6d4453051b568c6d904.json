{"sha": "8a4cebd16f4fa3ba2234c6d4453051b568c6d904", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhhNGNlYmQxNmY0ZmEzYmEyMjM0YzZkNDQ1MzA1MWI1NjhjNmQ5MDQ=", "commit": {"author": {"name": "Emilio Cobos \u00c1lvarez", "email": "emilio@crisal.io", "date": "2018-03-12T20:18:01Z"}, "committer": {"name": "Emilio Cobos \u00c1lvarez", "email": "emilio@crisal.io", "date": "2018-03-25T01:30:06Z"}, "message": "librustc_trans: Turn PGO diagnostics into warnings.\n\nThey should at least be that, they usually warn about control flow mismatches,\nand or the profile being useless, which looks like at least a warning to me.\n\nSigned-off-by: Emilio Cobos \u00c1lvarez <emilio@crisal.io>", "tree": {"sha": "579306ac1857d22b0699b16acc6d7f45796d3d08", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/579306ac1857d22b0699b16acc6d7f45796d3d08"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8a4cebd16f4fa3ba2234c6d4453051b568c6d904", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEE+uMrE+H37zcdV8pyBWtye7nBAnwFAlq2+54ACgkQBWtye7nB\nAnyp1ggA7iiGlOxia2Sprnz1Jha1of2vYA1CTRea/Tl8QOWz0rfLRkLznTRQ9yOm\nTrItfMfxPNG+Mkib5aH8Cq7hqhj9e1t0aNh5QLWITLLZx9K/FmSGBVABhoAFEPuS\nr/2WEOiUXbOhiu4yQHLzMrREMcWsC+HGfev483fK4ty+fQuOBrnfgUYs3878Lk2R\njFfEn0av/dXHPPzyuXbiFhnqGORf6/JRH74ipUzg4XjZUZnmKzWmznfjKlaQG9Vo\nuGm5piuzMKHUL3yAsbufK4gkdu2lZyzf6dMOC+Afs+tkJhkJ/NbIxpPjcFzmo91n\nzC1zyDh2ZjsF4EkSwmFm3vKULonk2Q==\n=D1TM\n-----END PGP SIGNATURE-----", "payload": "tree 579306ac1857d22b0699b16acc6d7f45796d3d08\nparent e31addf7c358aba28ce0910e93d009397a72a05f\nauthor Emilio Cobos \u00c1lvarez <emilio@crisal.io> 1520885881 +0100\ncommitter Emilio Cobos \u00c1lvarez <emilio@crisal.io> 1521941406 +0200\n\nlibrustc_trans: Turn PGO diagnostics into warnings.\n\nThey should at least be that, they usually warn about control flow mismatches,\nand or the profile being useless, which looks like at least a warning to me.\n\nSigned-off-by: Emilio Cobos \u00c1lvarez <emilio@crisal.io>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8a4cebd16f4fa3ba2234c6d4453051b568c6d904", "html_url": "https://github.com/rust-lang/rust/commit/8a4cebd16f4fa3ba2234c6d4453051b568c6d904", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8a4cebd16f4fa3ba2234c6d4453051b568c6d904/comments", "author": {"login": "emilio", "id": 1323194, "node_id": "MDQ6VXNlcjEzMjMxOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1323194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emilio", "html_url": "https://github.com/emilio", "followers_url": "https://api.github.com/users/emilio/followers", "following_url": "https://api.github.com/users/emilio/following{/other_user}", "gists_url": "https://api.github.com/users/emilio/gists{/gist_id}", "starred_url": "https://api.github.com/users/emilio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emilio/subscriptions", "organizations_url": "https://api.github.com/users/emilio/orgs", "repos_url": "https://api.github.com/users/emilio/repos", "events_url": "https://api.github.com/users/emilio/events{/privacy}", "received_events_url": "https://api.github.com/users/emilio/received_events", "type": "User", "site_admin": false}, "committer": {"login": "emilio", "id": 1323194, "node_id": "MDQ6VXNlcjEzMjMxOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1323194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emilio", "html_url": "https://github.com/emilio", "followers_url": "https://api.github.com/users/emilio/followers", "following_url": "https://api.github.com/users/emilio/following{/other_user}", "gists_url": "https://api.github.com/users/emilio/gists{/gist_id}", "starred_url": "https://api.github.com/users/emilio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emilio/subscriptions", "organizations_url": "https://api.github.com/users/emilio/orgs", "repos_url": "https://api.github.com/users/emilio/repos", "events_url": "https://api.github.com/users/emilio/events{/privacy}", "received_events_url": "https://api.github.com/users/emilio/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e31addf7c358aba28ce0910e93d009397a72a05f", "url": "https://api.github.com/repos/rust-lang/rust/commits/e31addf7c358aba28ce0910e93d009397a72a05f", "html_url": "https://github.com/rust-lang/rust/commit/e31addf7c358aba28ce0910e93d009397a72a05f"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "2cbb88fed05c2c09b0ebdd49a9768b40cf93162d", "filename": "src/librustc_trans/back/write.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8a4cebd16f4fa3ba2234c6d4453051b568c6d904/src%2Flibrustc_trans%2Fback%2Fwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8a4cebd16f4fa3ba2234c6d4453051b568c6d904/src%2Flibrustc_trans%2Fback%2Fwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fback%2Fwrite.rs?ref=8a4cebd16f4fa3ba2234c6d4453051b568c6d904", "patch": "@@ -502,7 +502,7 @@ unsafe extern \"C\" fn diagnostic_handler(info: DiagnosticInfoRef, user: *mut c_vo\n             let msg = llvm::build_string(|s| {\n                 llvm::LLVMRustWriteDiagnosticInfoToString(diagnostic_ref, s)\n             }).expect(\"non-UTF8 PGO diagnostic\");\n-            diag_handler.note_without_error(&msg);\n+            diag_handler.warn(&msg);\n         }\n         llvm::diagnostic::UnknownDiagnostic(..) => {},\n     }"}]}