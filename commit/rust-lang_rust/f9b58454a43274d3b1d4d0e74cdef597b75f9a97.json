{"sha": "f9b58454a43274d3b1d4d0e74cdef597b75f9a97", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY5YjU4NDU0YTQzMjc0ZDNiMWQ0ZDBlNzRjZGVmNTk3Yjc1ZjlhOTc=", "commit": {"author": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2018-12-30T20:33:32Z"}, "committer": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2018-12-30T20:33:32Z"}, "message": "Merge #378\n\n378: migrate-to-tempdir r=matklad a=matklad\n\n\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "d55ebf4bf4753fb4becefa134b7a9a18c0bb241f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d55ebf4bf4753fb4becefa134b7a9a18c0bb241f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f9b58454a43274d3b1d4d0e74cdef597b75f9a97", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f9b58454a43274d3b1d4d0e74cdef597b75f9a97", "html_url": "https://github.com/rust-lang/rust/commit/f9b58454a43274d3b1d4d0e74cdef597b75f9a97", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f9b58454a43274d3b1d4d0e74cdef597b75f9a97/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "parents": [{"sha": "45e3de8eed878afa1066b61fa27f7625bf57b1e6", "url": "https://api.github.com/repos/rust-lang/rust/commits/45e3de8eed878afa1066b61fa27f7625bf57b1e6", "html_url": "https://github.com/rust-lang/rust/commit/45e3de8eed878afa1066b61fa27f7625bf57b1e6"}, {"sha": "f0edb93df2e282146e86174a5b129039cc6fce0a", "url": "https://api.github.com/repos/rust-lang/rust/commits/f0edb93df2e282146e86174a5b129039cc6fce0a", "html_url": "https://github.com/rust-lang/rust/commit/f0edb93df2e282146e86174a5b129039cc6fce0a"}], "stats": {"total": 29, "additions": 4, "deletions": 25}, "files": [{"sha": "150e6d1eabec8ecd1e2127a0ae6b5a0209e80ae4", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 22, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/f9b58454a43274d3b1d4d0e74cdef597b75f9a97/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/f9b58454a43274d3b1d4d0e74cdef597b75f9a97/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=f9b58454a43274d3b1d4d0e74cdef597b75f9a97", "patch": "@@ -766,7 +766,7 @@ dependencies = [\n  \"serde 1.0.83 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.33 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"smol_str 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"tempdir 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"tempfile 3.0.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"test_utils 0.1.0\",\n  \"text_unit 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"thread_worker 0.1.0\",\n@@ -814,16 +814,6 @@ dependencies = [\n  \"walkdir 2.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"rand\"\n-version = \"0.4.3\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"fuchsia-zircon 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.45 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"rand\"\n version = \"0.5.5\"\n@@ -1188,15 +1178,6 @@ dependencies = [\n  \"unicode-xid 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"tempdir\"\n-version = \"0.3.7\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"rand 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"remove_dir_all 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"tempfile\"\n version = \"3.0.5\"\n@@ -1585,7 +1566,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum proptest 0.8.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"926d0604475349f463fe44130aae73f2294b5309ab2ca0310b998bd334ef191f\"\n \"checksum quick-error 1.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9274b940887ce9addde99c4eee6b5c44cc494b182b97e73dc8ffdcb3397fd3f0\"\n \"checksum quote 0.6.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"53fa22a1994bd0f9372d7a816207d8a2677ad0325b073f5c5332760f0fb62b5c\"\n-\"checksum rand 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8356f47b32624fef5b3301c1be97e5944ecdd595409cc5da11d05f211db6cfbd\"\n \"checksum rand 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e464cd887e869cddcae8792a4ee31d23c7edd516700695608f5b98c67ee0131c\"\n \"checksum rand 0.6.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ae9d223d52ae411a33cf7e54ec6034ec165df296ccd23533d671a28252b6f66a\"\n \"checksum rand_chacha 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"771b009e3a508cb67e8823dda454aaa5368c7bc1c16829fb77d3e980440dd34a\"\n@@ -1629,7 +1609,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum syn 0.14.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"261ae9ecaa397c42b960649561949d69311f08eeaea86a65696e6e46517cf741\"\n \"checksum syn 0.15.23 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9545a6a093a3f0bd59adb472700acc08cad3776f860f16a897dfce8c88721cbc\"\n \"checksum synstructure 0.10.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"73687139bf99285483c96ac0add482c3776528beac1d97d444f6e91f203a2015\"\n-\"checksum tempdir 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"15f2b5fb00ccdf689e0149d1b1b3c03fead81c2b37735d812fa8bddbbf41b6d8\"\n \"checksum tempfile 3.0.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7e91405c14320e5c79b3d148e1c86f40749a36e490642202a31689cb1a3452b2\"\n \"checksum tera 0.11.20 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4b505279e19d8f7d24b1a9dc58327c9c36174b1a2c7ebdeac70792d017cb64f3\"\n \"checksum teraron 0.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0d89ad4617d1dec55331067fadaa041e813479e1779616f3d3ce9308bf46184e\""}, {"sha": "22a26b844cdaa3d0b5c61247aa9d8215402a0e5e", "filename": "crates/ra_lsp_server/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9b58454a43274d3b1d4d0e74cdef597b75f9a97/crates%2Fra_lsp_server%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/f9b58454a43274d3b1d4d0e74cdef597b75f9a97/crates%2Fra_lsp_server%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_lsp_server%2FCargo.toml?ref=f9b58454a43274d3b1d4d0e74cdef597b75f9a97", "patch": "@@ -35,6 +35,6 @@ gen_lsp_server = { path = \"../gen_lsp_server\" }\n ra_vfs = { path = \"../ra_vfs\" }\n \n [dev-dependencies]\n-tempdir = \"0.3.7\"\n+tempfile = \"3\"\n test_utils = { path = \"../test_utils\" }\n tools = { path = \"../tools\" }"}, {"sha": "7db168b0f292db1f69fbfccf6acf007ed96bd6ff", "filename": "crates/ra_lsp_server/tests/heavy_tests/support.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f9b58454a43274d3b1d4d0e74cdef597b75f9a97/crates%2Fra_lsp_server%2Ftests%2Fheavy_tests%2Fsupport.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9b58454a43274d3b1d4d0e74cdef597b75f9a97/crates%2Fra_lsp_server%2Ftests%2Fheavy_tests%2Fsupport.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_lsp_server%2Ftests%2Fheavy_tests%2Fsupport.rs?ref=f9b58454a43274d3b1d4d0e74cdef597b75f9a97", "patch": "@@ -16,7 +16,7 @@ use languageserver_types::{\n };\n use serde::Serialize;\n use serde_json::{to_string_pretty, Value};\n-use tempdir::TempDir;\n+use tempfile::TempDir;\n use thread_worker::{WorkerHandle, Worker};\n use test_utils::{parse_fixture, find_mismatch};\n \n@@ -28,7 +28,7 @@ pub fn project(fixture: &str) -> Server {\n     static INIT: Once = Once::new();\n     INIT.call_once(|| Logger::with_env_or_str(crate::LOG).start().unwrap());\n \n-    let tmp_dir = TempDir::new(\"test-project\").unwrap();\n+    let tmp_dir = TempDir::new().unwrap();\n     let mut paths = vec![];\n \n     for entry in parse_fixture(fixture) {"}]}