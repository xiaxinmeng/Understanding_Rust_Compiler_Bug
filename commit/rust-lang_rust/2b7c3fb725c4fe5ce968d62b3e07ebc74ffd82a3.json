{"sha": "2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJiN2MzZmI3MjVjNGZlNWNlOTY4ZDYyYjNlMDdlYmM3NGZmZDgyYTM=", "commit": {"author": {"name": "giacomo", "email": "g.pasini98@gmail.com", "date": "2018-11-17T10:39:58Z"}, "committer": {"name": "giacomo", "email": "g.pasini98@gmail.com", "date": "2018-11-17T10:39:58Z"}, "message": "add test for #[test] attribute only allowed on non associated functions", "tree": {"sha": "34fc14f3771db498cab4fd4fcb8793cf3ac1d864", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/34fc14f3771db498cab4fd4fcb8793cf3ac1d864"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3", "html_url": "https://github.com/rust-lang/rust/commit/2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3/comments", "author": {"login": "Zeegomo", "id": 21265557, "node_id": "MDQ6VXNlcjIxMjY1NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21265557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zeegomo", "html_url": "https://github.com/Zeegomo", "followers_url": "https://api.github.com/users/Zeegomo/followers", "following_url": "https://api.github.com/users/Zeegomo/following{/other_user}", "gists_url": "https://api.github.com/users/Zeegomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zeegomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zeegomo/subscriptions", "organizations_url": "https://api.github.com/users/Zeegomo/orgs", "repos_url": "https://api.github.com/users/Zeegomo/repos", "events_url": "https://api.github.com/users/Zeegomo/events{/privacy}", "received_events_url": "https://api.github.com/users/Zeegomo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Zeegomo", "id": 21265557, "node_id": "MDQ6VXNlcjIxMjY1NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21265557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zeegomo", "html_url": "https://github.com/Zeegomo", "followers_url": "https://api.github.com/users/Zeegomo/followers", "following_url": "https://api.github.com/users/Zeegomo/following{/other_user}", "gists_url": "https://api.github.com/users/Zeegomo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zeegomo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zeegomo/subscriptions", "organizations_url": "https://api.github.com/users/Zeegomo/orgs", "repos_url": "https://api.github.com/users/Zeegomo/repos", "events_url": "https://api.github.com/users/Zeegomo/events{/privacy}", "received_events_url": "https://api.github.com/users/Zeegomo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0671bdb1ebf61a2d8528738392e0a01c1436d49f", "url": "https://api.github.com/repos/rust-lang/rust/commits/0671bdb1ebf61a2d8528738392e0a01c1436d49f", "html_url": "https://github.com/rust-lang/rust/commit/0671bdb1ebf61a2d8528738392e0a01c1436d49f"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "872dbd89770701970a00e9e1b082f11ee38acfcd", "filename": "src/test/ui/test-attr-non-associated-functions.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3/src%2Ftest%2Fui%2Ftest-attr-non-associated-functions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3/src%2Ftest%2Fui%2Ftest-attr-non-associated-functions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-attr-non-associated-functions.rs?ref=2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3", "patch": "@@ -0,0 +1,19 @@\n+// #[test] attribute is not allowed on associated functions or methods\n+// reworded error message \n+// compile-flags:--test\n+\n+struct A {}\n+\n+impl A {\n+\t#[test] \n+\tfn new() -> A { //~ ERROR #[test] attribute is only allowed on non associated functions \n+\t\tA {}\n+\t}\n+}\n+\n+#[test]\n+fn test() {\n+\tlet _ = A::new();\n+}\n+\n+fn main() {}\n\\ No newline at end of file"}, {"sha": "780a119a6663494db1680d9066cf745b866a52d2", "filename": "src/test/ui/test-attr-non-associated-functions.stderr", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3/src%2Ftest%2Fui%2Ftest-attr-non-associated-functions.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3/src%2Ftest%2Fui%2Ftest-attr-non-associated-functions.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-attr-non-associated-functions.stderr?ref=2b7c3fb725c4fe5ce968d62b3e07ebc74ffd82a3", "patch": "@@ -0,0 +1,11 @@\n+error: #[test] attribute is only allowed on non associated functions\n+  --> $DIR/test-attr-non-associated-functions.rs:9:2\n+   |\n+LL |       fn new() -> A { //~ ERROR #[test] attribute is only allowed on non associated functions \n+   |  _____^\n+LL | |         A {}\n+LL | |     }\n+   | |_____^\n+\n+error: aborting due to previous error\n+"}]}