{"sha": "9763e0c089c1e55d8e25bb4b97d0c61b8c402f11", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk3NjNlMGMwODljMWU1NWQ4ZTI1YmI0Yjk3ZDBjNjFiOGM0MDJmMTE=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-06-02T16:29:59Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-06-02T16:29:59Z"}, "message": "Rollup merge of #72888 - poliorcetics:improve-read_line-read_until-doc, r=Dylan-DPC\n\nAdd a warning about infinite reading in read_(until|line)\n\nFix for #48788.\n\nThis PR adds a warning to [`BufRead::read_line`](https://doc.rust-lang.org/stable/std/io/trait.BufRead.html#method.read_line) and [`BufRead::read_until`](https://doc.rust-lang.org/stable/std/io/trait.BufRead.html#method.read_until) about the possibility of an attack using the behaviour of these functions.\n\nI did not mention a possible fix (using [`Read::take`](https://doc.rust-lang.org/stable/std/io/trait.Read.html#method.take), should I ?", "tree": {"sha": "007b401fbf0180aae24aed2b50e3e9d1fb9f12ca", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/007b401fbf0180aae24aed2b50e3e9d1fb9f12ca"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9763e0c089c1e55d8e25bb4b97d0c61b8c402f11", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJe1n6HCRBK7hj4Ov3rIwAAdHIIAEyYoMyWX996D2THFr/Q5ql/\nlyjSy8LZQ016UfiK4lcoUyvFBc4vYjRvi0gTeanmwSSrx+EIc5UMJ6z123MtPMfY\n+3m9JCBoI9Ug5G2hcnz3n5cGFKjisS+REAHV86HkkOL0WNX1WCCDt5A/VQjB2U0T\nBaslCrv0L6wHwqbYm1X6GF28YzQ+LpGn2QCw0E7BV+yl8E2TdIik/AXX24H1ctMV\nPkUTxOakaq3y0PILTdtmp9AX9GitIeZ5y+sXLRnAJ7u03DnNLQBqq4Th+jO104kt\noILRSj7yF2GGVVMqOmtulsI5bCBwzUc9pca9zfoNIof+fupETQe/MVHC/u5Cabs=\n=QILJ\n-----END PGP SIGNATURE-----\n", "payload": "tree 007b401fbf0180aae24aed2b50e3e9d1fb9f12ca\nparent 466d3e702a0626305f32b3230b206f4f2b650bfc\nparent d8cc2c1e4f8fa6bd49fe9c395353f9e24c7b51fc\nauthor Dylan DPC <dylan.dpc@gmail.com> 1591115399 +0200\ncommitter GitHub <noreply@github.com> 1591115399 +0200\n\nRollup merge of #72888 - poliorcetics:improve-read_line-read_until-doc, r=Dylan-DPC\n\nAdd a warning about infinite reading in read_(until|line)\n\nFix for #48788.\n\nThis PR adds a warning to [`BufRead::read_line`](https://doc.rust-lang.org/stable/std/io/trait.BufRead.html#method.read_line) and [`BufRead::read_until`](https://doc.rust-lang.org/stable/std/io/trait.BufRead.html#method.read_until) about the possibility of an attack using the behaviour of these functions.\n\nI did not mention a possible fix (using [`Read::take`](https://doc.rust-lang.org/stable/std/io/trait.Read.html#method.take), should I ?\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9763e0c089c1e55d8e25bb4b97d0c61b8c402f11", "html_url": "https://github.com/rust-lang/rust/commit/9763e0c089c1e55d8e25bb4b97d0c61b8c402f11", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9763e0c089c1e55d8e25bb4b97d0c61b8c402f11/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "466d3e702a0626305f32b3230b206f4f2b650bfc", "url": "https://api.github.com/repos/rust-lang/rust/commits/466d3e702a0626305f32b3230b206f4f2b650bfc", "html_url": "https://github.com/rust-lang/rust/commit/466d3e702a0626305f32b3230b206f4f2b650bfc"}, {"sha": "d8cc2c1e4f8fa6bd49fe9c395353f9e24c7b51fc", "url": "https://api.github.com/repos/rust-lang/rust/commits/d8cc2c1e4f8fa6bd49fe9c395353f9e24c7b51fc", "html_url": "https://github.com/rust-lang/rust/commit/d8cc2c1e4f8fa6bd49fe9c395353f9e24c7b51fc"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "717d2868abf982295502b98b45e07b7454490a27", "filename": "src/libstd/io/mod.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/9763e0c089c1e55d8e25bb4b97d0c61b8c402f11/src%2Flibstd%2Fio%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9763e0c089c1e55d8e25bb4b97d0c61b8c402f11/src%2Flibstd%2Fio%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Fmod.rs?ref=9763e0c089c1e55d8e25bb4b97d0c61b8c402f11", "patch": "@@ -1883,6 +1883,10 @@ pub trait BufRead: Read {\n     ///\n     /// If successful, this function will return the total number of bytes read.\n     ///\n+    /// This function is blocking and should be used carefully: it is possible for\n+    /// an attacker to continuously send bytes without ever sending the delimiter\n+    /// or EOF.\n+    ///\n     /// # Errors\n     ///\n     /// This function will ignore all instances of [`ErrorKind::Interrupted`] and\n@@ -1945,6 +1949,10 @@ pub trait BufRead: Read {\n     ///\n     /// If this function returns `Ok(0)`, the stream has reached EOF.\n     ///\n+    /// This function is blocking and should be used carefully: it is possible for\n+    /// an attacker to continuously send bytes without ever sending a newline\n+    /// or EOF.\n+    ///\n     /// # Errors\n     ///\n     /// This function has the same error semantics as [`read_until`] and will"}]}