{"sha": "99861c0e88493e6f8fa1363d7040866bfef912ac", "node_id": "C_kwDOAAsO6NoAKDk5ODYxYzBlODg0OTNlNmY4ZmExMzYzZDcwNDA4NjZiZmVmOTEyYWM", "commit": {"author": {"name": "Cameron Steffen", "email": "cam.steffen94@gmail.com", "date": "2021-01-11T15:10:24Z"}, "committer": {"name": "Cameron Steffen", "email": "cam.steffen94@gmail.com", "date": "2021-09-30T18:54:30Z"}, "message": "Remove initialization note from shadow lint", "tree": {"sha": "cc5478c376efe3a546e28cc964fa4fd6e88b1c7b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cc5478c376efe3a546e28cc964fa4fd6e88b1c7b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/99861c0e88493e6f8fa1363d7040866bfef912ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/99861c0e88493e6f8fa1363d7040866bfef912ac", "html_url": "https://github.com/rust-lang/rust/commit/99861c0e88493e6f8fa1363d7040866bfef912ac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/99861c0e88493e6f8fa1363d7040866bfef912ac/comments", "author": {"login": "camsteffen", "id": 5565418, "node_id": "MDQ6VXNlcjU1NjU0MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5565418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camsteffen", "html_url": "https://github.com/camsteffen", "followers_url": "https://api.github.com/users/camsteffen/followers", "following_url": "https://api.github.com/users/camsteffen/following{/other_user}", "gists_url": "https://api.github.com/users/camsteffen/gists{/gist_id}", "starred_url": "https://api.github.com/users/camsteffen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camsteffen/subscriptions", "organizations_url": "https://api.github.com/users/camsteffen/orgs", "repos_url": "https://api.github.com/users/camsteffen/repos", "events_url": "https://api.github.com/users/camsteffen/events{/privacy}", "received_events_url": "https://api.github.com/users/camsteffen/received_events", "type": "User", "site_admin": false}, "committer": {"login": "camsteffen", "id": 5565418, "node_id": "MDQ6VXNlcjU1NjU0MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5565418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camsteffen", "html_url": "https://github.com/camsteffen", "followers_url": "https://api.github.com/users/camsteffen/followers", "following_url": "https://api.github.com/users/camsteffen/following{/other_user}", "gists_url": "https://api.github.com/users/camsteffen/gists{/gist_id}", "starred_url": "https://api.github.com/users/camsteffen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camsteffen/subscriptions", "organizations_url": "https://api.github.com/users/camsteffen/orgs", "repos_url": "https://api.github.com/users/camsteffen/repos", "events_url": "https://api.github.com/users/camsteffen/events{/privacy}", "received_events_url": "https://api.github.com/users/camsteffen/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "89f77f351245d207068e48b260f154d9c5dc349b", "url": "https://api.github.com/repos/rust-lang/rust/commits/89f77f351245d207068e48b260f154d9c5dc349b", "html_url": "https://github.com/rust-lang/rust/commit/89f77f351245d207068e48b260f154d9c5dc349b"}], "stats": {"total": 27, "additions": 0, "deletions": 27}, "files": [{"sha": "c17acfc8be7b968ca05c1bbe043c21b38f3e11b9", "filename": "clippy_lints/src/shadow.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/99861c0e88493e6f8fa1363d7040866bfef912ac/clippy_lints%2Fsrc%2Fshadow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99861c0e88493e6f8fa1363d7040866bfef912ac/clippy_lints%2Fsrc%2Fshadow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fshadow.rs?ref=99861c0e88493e6f8fa1363d7040866bfef912ac", "patch": "@@ -298,7 +298,6 @@ fn lint_shadow<'tcx>(\n                     snippet(cx, expr.span, \"..\")\n                 ),\n                 |diag| {\n-                    diag.span_note(expr.span, \"initialization happens here\");\n                     diag.span_note(prev_span, \"previous binding is here\");\n                 },\n             );\n@@ -309,7 +308,6 @@ fn lint_shadow<'tcx>(\n                 pattern_span,\n                 &format!(\"`{}` is being shadowed\", snippet(cx, pattern_span, \"_\")),\n                 |diag| {\n-                    diag.span_note(expr.span, \"initialization happens here\");\n                     diag.span_note(prev_span, \"previous binding is here\");\n                 },\n             );"}, {"sha": "23839749018748e7412f179a7799ccda79089968", "filename": "tests/ui/shadow.stderr", "status": "modified", "additions": 0, "deletions": 25, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/99861c0e88493e6f8fa1363d7040866bfef912ac/tests%2Fui%2Fshadow.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/99861c0e88493e6f8fa1363d7040866bfef912ac/tests%2Fui%2Fshadow.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fshadow.stderr?ref=99861c0e88493e6f8fa1363d7040866bfef912ac", "patch": "@@ -42,11 +42,6 @@ LL |     let x = { *x + 1 };\n    |         ^\n    |\n    = note: `-D clippy::shadow-reuse` implied by `-D warnings`\n-note: initialization happens here\n-  --> $DIR/shadow.rs:30:13\n-   |\n-LL |     let x = { *x + 1 };\n-   |             ^^^^^^^^^^\n note: previous binding is here\n   --> $DIR/shadow.rs:29:9\n    |\n@@ -59,11 +54,6 @@ error: `x` is shadowed by `id(x)` which reuses the original value\n LL |     let x = id(x);\n    |         ^\n    |\n-note: initialization happens here\n-  --> $DIR/shadow.rs:31:13\n-   |\n-LL |     let x = id(x);\n-   |             ^^^^^\n note: previous binding is here\n   --> $DIR/shadow.rs:30:9\n    |\n@@ -76,11 +66,6 @@ error: `x` is shadowed by `(1, x)` which reuses the original value\n LL |     let x = (1, x);\n    |         ^\n    |\n-note: initialization happens here\n-  --> $DIR/shadow.rs:32:13\n-   |\n-LL |     let x = (1, x);\n-   |             ^^^^^^\n note: previous binding is here\n   --> $DIR/shadow.rs:31:9\n    |\n@@ -93,11 +78,6 @@ error: `x` is shadowed by `first(x)` which reuses the original value\n LL |     let x = first(x);\n    |         ^\n    |\n-note: initialization happens here\n-  --> $DIR/shadow.rs:33:13\n-   |\n-LL |     let x = first(x);\n-   |             ^^^^^^^^\n note: previous binding is here\n   --> $DIR/shadow.rs:32:9\n    |\n@@ -111,11 +91,6 @@ LL |     let x = y;\n    |         ^\n    |\n    = note: `-D clippy::shadow-unrelated` implied by `-D warnings`\n-note: initialization happens here\n-  --> $DIR/shadow.rs:35:13\n-   |\n-LL |     let x = y;\n-   |             ^\n note: previous binding is here\n   --> $DIR/shadow.rs:33:9\n    |"}]}