{"sha": "b59e743666adba7ad0eb1a8eaea5c5ffb7086e01", "node_id": "C_kwDOAAsO6NoAKGI1OWU3NDM2NjZhZGJhN2FkMGViMWE4ZWFlYTVjNWZmYjcwODZlMDE", "commit": {"author": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2022-01-09T21:08:30Z"}, "committer": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2022-01-09T21:08:30Z"}, "message": "Mark windows_subsytem and no_builtins as crate-only attributes.\n\nThese attributes are only checked at the crate root, so they should\nhave a warning if they are used anywhere else.", "tree": {"sha": "c40d8bd000f8c51ad78f75ebbf0207eb08993beb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c40d8bd000f8c51ad78f75ebbf0207eb08993beb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b59e743666adba7ad0eb1a8eaea5c5ffb7086e01", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b59e743666adba7ad0eb1a8eaea5c5ffb7086e01", "html_url": "https://github.com/rust-lang/rust/commit/b59e743666adba7ad0eb1a8eaea5c5ffb7086e01", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b59e743666adba7ad0eb1a8eaea5c5ffb7086e01/comments", "author": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "59d4bae018d04dc2957804ae4fc534364a9d08d9", "url": "https://api.github.com/repos/rust-lang/rust/commits/59d4bae018d04dc2957804ae4fc534364a9d08d9", "html_url": "https://github.com/rust-lang/rust/commit/59d4bae018d04dc2957804ae4fc534364a9d08d9"}], "stats": {"total": 162, "additions": 123, "deletions": 39}, "files": [{"sha": "ebd1b78b0cd18e7a4b8e9c1862bc98f32d37a0b6", "filename": "compiler/rustc_feature/src/builtin_attrs.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b59e743666adba7ad0eb1a8eaea5c5ffb7086e01/compiler%2Frustc_feature%2Fsrc%2Fbuiltin_attrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b59e743666adba7ad0eb1a8eaea5c5ffb7086e01/compiler%2Frustc_feature%2Fsrc%2Fbuiltin_attrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Fbuiltin_attrs.rs?ref=b59e743666adba7ad0eb1a8eaea5c5ffb7086e01", "patch": "@@ -352,15 +352,15 @@ pub const BUILTIN_ATTRIBUTES: &[BuiltinAttribute] = &[\n \n     // Runtime\n     ungated!(\n-        windows_subsystem, Normal,\n+        windows_subsystem, CrateLevel,\n         template!(NameValueStr: \"windows|console\"), FutureWarnFollowing\n     ),\n     ungated!(panic_handler, Normal, template!(Word), WarnFollowing), // RFC 2070\n \n     // Code generation:\n     ungated!(inline, Normal, template!(Word, List: \"always|never\"), FutureWarnFollowing),\n     ungated!(cold, Normal, template!(Word), WarnFollowing),\n-    ungated!(no_builtins, Normal, template!(Word), WarnFollowing),\n+    ungated!(no_builtins, CrateLevel, template!(Word), WarnFollowing),\n     ungated!(target_feature, Normal, template!(List: r#\"enable = \"name\"\"#), DuplicatesOk),\n     ungated!(track_caller, Normal, template!(Word), WarnFollowing),\n     gated!("}, {"sha": "ed382406efacf7d8a9cbee69cc593760bca33275", "filename": "src/test/ui/feature-gates/issue-43106-gating-of-builtin-attrs.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b59e743666adba7ad0eb1a8eaea5c5ffb7086e01/src%2Ftest%2Fui%2Ffeature-gates%2Fissue-43106-gating-of-builtin-attrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b59e743666adba7ad0eb1a8eaea5c5ffb7086e01/src%2Ftest%2Fui%2Ffeature-gates%2Fissue-43106-gating-of-builtin-attrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Fissue-43106-gating-of-builtin-attrs.rs?ref=b59e743666adba7ad0eb1a8eaea5c5ffb7086e01", "patch": "@@ -611,16 +611,22 @@ mod must_use {\n }\n \n #[windows_subsystem = \"windows\"]\n+//~^ WARN crate-level attribute should be an inner attribute\n mod windows_subsystem {\n     mod inner { #![windows_subsystem=\"windows\"] }\n+    //~^ WARN crate-level attribute should be in the root module\n \n     #[windows_subsystem = \"windows\"] fn f() { }\n+    //~^ WARN crate-level attribute should be an inner attribute\n \n     #[windows_subsystem = \"windows\"] struct S;\n+    //~^ WARN crate-level attribute should be an inner attribute\n \n     #[windows_subsystem = \"windows\"] type T = S;\n+    //~^ WARN crate-level attribute should be an inner attribute\n \n     #[windows_subsystem = \"windows\"] impl S { }\n+    //~^ WARN crate-level attribute should be an inner attribute\n }\n \n // BROKEN USES OF CRATE-LEVEL BUILT-IN ATTRIBUTES\n@@ -703,16 +709,22 @@ mod no_main_1 {\n }\n \n #[no_builtins]\n+//~^ WARN crate-level attribute should be an inner attribute\n mod no_builtins {\n     mod inner { #![no_builtins] }\n+    //~^ WARN crate-level attribute should be in the root module\n \n     #[no_builtins] fn f() { }\n+    //~^ WARN crate-level attribute should be an inner attribute\n \n     #[no_builtins] struct S;\n+    //~^ WARN crate-level attribute should be an inner attribute\n \n     #[no_builtins] type T = S;\n+    //~^ WARN crate-level attribute should be an inner attribute\n \n     #[no_builtins] impl S { }\n+    //~^ WARN crate-level attribute should be an inner attribute\n }\n \n #[recursion_limit=\"0200\"]"}, {"sha": "bd3e33320c38452741e34239f31c6251da0f3b7f", "filename": "src/test/ui/feature-gates/issue-43106-gating-of-builtin-attrs.stderr", "status": "modified", "additions": 109, "deletions": 37, "changes": 146, "blob_url": "https://github.com/rust-lang/rust/blob/b59e743666adba7ad0eb1a8eaea5c5ffb7086e01/src%2Ftest%2Fui%2Ffeature-gates%2Fissue-43106-gating-of-builtin-attrs.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b59e743666adba7ad0eb1a8eaea5c5ffb7086e01/src%2Ftest%2Fui%2Ffeature-gates%2Fissue-43106-gating-of-builtin-attrs.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Fissue-43106-gating-of-builtin-attrs.stderr?ref=b59e743666adba7ad0eb1a8eaea5c5ffb7086e01", "patch": "@@ -328,37 +328,49 @@ LL | | }\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:628:1\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:613:1\n+   |\n+LL | #[windows_subsystem = \"windows\"]\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:634:1\n    |\n LL | #[crate_name = \"0900\"]\n    | ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:647:1\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:653:1\n    |\n LL | #[crate_type = \"0800\"]\n    | ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:666:1\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:672:1\n    |\n LL | #[feature(x0600)]\n    | ^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:686:1\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:692:1\n    |\n LL | #[no_main]\n    | ^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:718:1\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:711:1\n+   |\n+LL | #[no_builtins]\n+   | ^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:730:1\n    |\n LL | #[recursion_limit=\"0200\"]\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:737:1\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:749:1\n    |\n LL | #[type_length_limit=\"0100\"]\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -880,181 +892,241 @@ LL |     #[link()] impl S { }\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n \n warning: crate-level attribute should be in the root module\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:631:17\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:616:17\n+   |\n+LL |     mod inner { #![windows_subsystem=\"windows\"] }\n+   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:619:5\n+   |\n+LL |     #[windows_subsystem = \"windows\"] fn f() { }\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:622:5\n+   |\n+LL |     #[windows_subsystem = \"windows\"] struct S;\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:625:5\n+   |\n+LL |     #[windows_subsystem = \"windows\"] type T = S;\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:628:5\n+   |\n+LL |     #[windows_subsystem = \"windows\"] impl S { }\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be in the root module\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:637:17\n    |\n LL |     mod inner { #![crate_name=\"0900\"] }\n    |                 ^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:634:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:640:5\n    |\n LL |     #[crate_name = \"0900\"] fn f() { }\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:637:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:643:5\n    |\n LL |     #[crate_name = \"0900\"] struct S;\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:640:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:646:5\n    |\n LL |     #[crate_name = \"0900\"] type T = S;\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:643:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:649:5\n    |\n LL |     #[crate_name = \"0900\"] impl S { }\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be in the root module\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:650:17\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:656:17\n    |\n LL |     mod inner { #![crate_type=\"0800\"] }\n    |                 ^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:653:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:659:5\n    |\n LL |     #[crate_type = \"0800\"] fn f() { }\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:656:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:662:5\n    |\n LL |     #[crate_type = \"0800\"] struct S;\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:659:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:665:5\n    |\n LL |     #[crate_type = \"0800\"] type T = S;\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:662:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:668:5\n    |\n LL |     #[crate_type = \"0800\"] impl S { }\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be in the root module\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:669:17\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:675:17\n    |\n LL |     mod inner { #![feature(x0600)] }\n    |                 ^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:672:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:678:5\n    |\n LL |     #[feature(x0600)] fn f() { }\n    |     ^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:675:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:681:5\n    |\n LL |     #[feature(x0600)] struct S;\n    |     ^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:678:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:684:5\n    |\n LL |     #[feature(x0600)] type T = S;\n    |     ^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:681:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:687:5\n    |\n LL |     #[feature(x0600)] impl S { }\n    |     ^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be in the root module\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:689:17\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:695:17\n    |\n LL |     mod inner { #![no_main] }\n    |                 ^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:692:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:698:5\n    |\n LL |     #[no_main] fn f() { }\n    |     ^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:695:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:701:5\n    |\n LL |     #[no_main] struct S;\n    |     ^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:698:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:704:5\n    |\n LL |     #[no_main] type T = S;\n    |     ^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:701:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:707:5\n    |\n LL |     #[no_main] impl S { }\n    |     ^^^^^^^^^^\n \n warning: crate-level attribute should be in the root module\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:721:17\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:714:17\n+   |\n+LL |     mod inner { #![no_builtins] }\n+   |                 ^^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:717:5\n+   |\n+LL |     #[no_builtins] fn f() { }\n+   |     ^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:720:5\n+   |\n+LL |     #[no_builtins] struct S;\n+   |     ^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:723:5\n+   |\n+LL |     #[no_builtins] type T = S;\n+   |     ^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:726:5\n+   |\n+LL |     #[no_builtins] impl S { }\n+   |     ^^^^^^^^^^^^^^\n+\n+warning: crate-level attribute should be in the root module\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:733:17\n    |\n LL |     mod inner { #![recursion_limit=\"0200\"] }\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:724:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:736:5\n    |\n LL |     #[recursion_limit=\"0200\"] fn f() { }\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:727:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:739:5\n    |\n LL |     #[recursion_limit=\"0200\"] struct S;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:730:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:742:5\n    |\n LL |     #[recursion_limit=\"0200\"] type T = S;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:733:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:745:5\n    |\n LL |     #[recursion_limit=\"0200\"] impl S { }\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be in the root module\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:740:17\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:752:17\n    |\n LL |     mod inner { #![type_length_limit=\"0100\"] }\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:743:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:755:5\n    |\n LL |     #[type_length_limit=\"0100\"] fn f() { }\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:746:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:758:5\n    |\n LL |     #[type_length_limit=\"0100\"] struct S;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:749:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:761:5\n    |\n LL |     #[type_length_limit=\"0100\"] type T = S;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:752:5\n+  --> $DIR/issue-43106-gating-of-builtin-attrs.rs:764:5\n    |\n LL |     #[type_length_limit=\"0100\"] impl S { }\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -1067,5 +1139,5 @@ LL | #![feature(rust1)]\n    |\n    = note: `#[warn(stable_features)]` on by default\n \n-warning: 155 warnings emitted\n+warning: 167 warnings emitted\n "}]}