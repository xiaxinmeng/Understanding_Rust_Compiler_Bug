{"sha": "621ccf8917b25d66aff3beb45c540afbda29e980", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYyMWNjZjg5MTdiMjVkNjZhZmYzYmViNDVjNTQwYWZiZGEyOWU5ODA=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2018-04-05T00:35:42Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2018-04-05T00:35:42Z"}, "message": "ci: Remove x86_64-gnu-incremental builder\n\nThis builder is starting to time out frequently causing PRs to bounce and\notherwise doesn't seem to be catching too many bugs, so this commit removes it\nentirely. We've had a number of timeouts in the last few weeks related to this\nbuilder:\n\n* https://travis-ci.org/rust-lang/rust/jobs/360947582\n* https://travis-ci.org/rust-lang/rust/jobs/360464190\n* https://travis-ci.org/rust-lang/rust/jobs/359946975\n* https://travis-ci.org/rust-lang/rust/jobs/361213241\n* https://travis-ci.org/rust-lang/rust/jobs/362346279\n* https://travis-ci.org/rust-lang/rust/jobs/362072331\n\nOn a good run this builder takes about 2h15m, which is already too long for\nTravis and the variable build times end up pushing it beyond the 3h limit\noccasionally.\n\nThe timeouts here are somewhat expected in that an incrementally compiled rustc\ncompiler isn't optimized like a normal rustc, disallowing inlining between\ncodegen units and losing lots of optimization opportunities.", "tree": {"sha": "a527c0667f15a225a83a2285d20e5e4f0414ab4f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a527c0667f15a225a83a2285d20e5e4f0414ab4f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/621ccf8917b25d66aff3beb45c540afbda29e980", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/621ccf8917b25d66aff3beb45c540afbda29e980", "html_url": "https://github.com/rust-lang/rust/commit/621ccf8917b25d66aff3beb45c540afbda29e980", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/621ccf8917b25d66aff3beb45c540afbda29e980/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fb44b4c0eb1d344f84f7bb2c90f28e31a8a180be", "url": "https://api.github.com/repos/rust-lang/rust/commits/fb44b4c0eb1d344f84f7bb2c90f28e31a8a180be", "html_url": "https://github.com/rust-lang/rust/commit/fb44b4c0eb1d344f84f7bb2c90f28e31a8a180be"}], "stats": {"total": 24, "additions": 0, "deletions": 24}, "files": [{"sha": "36329ab91143c46e116609163e843124e5998e79", "filename": ".travis.yml", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/621ccf8917b25d66aff3beb45c540afbda29e980/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/621ccf8917b25d66aff3beb45c540afbda29e980/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=621ccf8917b25d66aff3beb45c540afbda29e980", "patch": "@@ -171,8 +171,6 @@ matrix:\n       if: branch = auto\n     - env: IMAGE=x86_64-gnu-distcheck\n       if: branch = auto\n-    - env: IMAGE=x86_64-gnu-incremental\n-      if: branch = auto\n \n     - stage: publish toolstate\n       if: branch = master AND type = push"}, {"sha": "7304ed6015cc9042f5e552df3244d45f105d932e", "filename": "src/ci/docker/x86_64-gnu-incremental/Dockerfile", "status": "removed", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/fb44b4c0eb1d344f84f7bb2c90f28e31a8a180be/src%2Fci%2Fdocker%2Fx86_64-gnu-incremental%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/fb44b4c0eb1d344f84f7bb2c90f28e31a8a180be/src%2Fci%2Fdocker%2Fx86_64-gnu-incremental%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fx86_64-gnu-incremental%2FDockerfile?ref=fb44b4c0eb1d344f84f7bb2c90f28e31a8a180be", "patch": "@@ -1,22 +0,0 @@\n-FROM ubuntu:16.04\n-\n-RUN apt-get update && apt-get install -y --no-install-recommends \\\n-  g++ \\\n-  make \\\n-  file \\\n-  curl \\\n-  ca-certificates \\\n-  python2.7 \\\n-  git \\\n-  cmake \\\n-  sudo \\\n-  gdb \\\n-  xz-utils\n-\n-COPY scripts/sccache.sh /scripts/\n-RUN sh /scripts/sccache.sh\n-\n-ENV RUST_CONFIGURE_ARGS --build=x86_64-unknown-linux-gnu\n-ENV RUSTFLAGS -Zincremental=/tmp/rust-incr-cache\n-ENV RUST_CHECK_TARGET check\n-ENV CARGO_INCREMENTAL 0"}]}