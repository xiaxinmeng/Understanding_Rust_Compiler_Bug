{"sha": "20a460e1cf23262b46a7e9672a02c5f07b91eff5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIwYTQ2MGUxY2YyMzI2MmI0NmE3ZTk2NzJhMDJjNWYwN2I5MWVmZjU=", "commit": {"author": {"name": "LeSeulArtichaut", "email": "leseulartichaut@gmail.com", "date": "2021-01-23T17:41:04Z"}, "committer": {"name": "LeSeulArtichaut", "email": "leseulartichaut@gmail.com", "date": "2021-01-23T21:02:06Z"}, "message": "Fix rendering of stabilization version for trait implementors", "tree": {"sha": "26a945878155ae140c30920fd1719490fdccb627", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/26a945878155ae140c30920fd1719490fdccb627"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/20a460e1cf23262b46a7e9672a02c5f07b91eff5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/20a460e1cf23262b46a7e9672a02c5f07b91eff5", "html_url": "https://github.com/rust-lang/rust/commit/20a460e1cf23262b46a7e9672a02c5f07b91eff5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/20a460e1cf23262b46a7e9672a02c5f07b91eff5/comments", "author": {"login": "LeSeulArtichaut", "id": 38361244, "node_id": "MDQ6VXNlcjM4MzYxMjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/38361244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeSeulArtichaut", "html_url": "https://github.com/LeSeulArtichaut", "followers_url": "https://api.github.com/users/LeSeulArtichaut/followers", "following_url": "https://api.github.com/users/LeSeulArtichaut/following{/other_user}", "gists_url": "https://api.github.com/users/LeSeulArtichaut/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeSeulArtichaut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeSeulArtichaut/subscriptions", "organizations_url": "https://api.github.com/users/LeSeulArtichaut/orgs", "repos_url": "https://api.github.com/users/LeSeulArtichaut/repos", "events_url": "https://api.github.com/users/LeSeulArtichaut/events{/privacy}", "received_events_url": "https://api.github.com/users/LeSeulArtichaut/received_events", "type": "User", "site_admin": false}, "committer": {"login": "LeSeulArtichaut", "id": 38361244, "node_id": "MDQ6VXNlcjM4MzYxMjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/38361244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeSeulArtichaut", "html_url": "https://github.com/LeSeulArtichaut", "followers_url": "https://api.github.com/users/LeSeulArtichaut/followers", "following_url": "https://api.github.com/users/LeSeulArtichaut/following{/other_user}", "gists_url": "https://api.github.com/users/LeSeulArtichaut/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeSeulArtichaut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeSeulArtichaut/subscriptions", "organizations_url": "https://api.github.com/users/LeSeulArtichaut/orgs", "repos_url": "https://api.github.com/users/LeSeulArtichaut/repos", "events_url": "https://api.github.com/users/LeSeulArtichaut/events{/privacy}", "received_events_url": "https://api.github.com/users/LeSeulArtichaut/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1129e8678038cfc938559b90b4155dde8b84edf3", "url": "https://api.github.com/repos/rust-lang/rust/commits/1129e8678038cfc938559b90b4155dde8b84edf3", "html_url": "https://github.com/rust-lang/rust/commit/1129e8678038cfc938559b90b4155dde8b84edf3"}], "stats": {"total": 27, "additions": 23, "deletions": 4}, "files": [{"sha": "bfaadc38763c3af41d03e6914551188710ad13d2", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/20a460e1cf23262b46a7e9672a02c5f07b91eff5/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20a460e1cf23262b46a7e9672a02c5f07b91eff5/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=20a460e1cf23262b46a7e9672a02c5f07b91eff5", "patch": "@@ -2471,7 +2471,7 @@ fn item_function(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, f: &clean::\n fn render_implementor(\n     cx: &Context<'_>,\n     implementor: &Impl,\n-    parent: &clean::Item,\n+    trait_: &clean::Item,\n     w: &mut Buffer,\n     implementor_dups: &FxHashMap<Symbol, (DefId, bool)>,\n     aliases: &[String],\n@@ -2491,11 +2491,11 @@ fn render_implementor(\n         w,\n         cx,\n         implementor,\n-        parent,\n+        trait_,\n         AssocItemLink::Anchor(None),\n         RenderMode::Normal,\n-        implementor.impl_item.stable_since(cx.tcx()).as_deref(),\n-        implementor.impl_item.const_stable_since(cx.tcx()).as_deref(),\n+        trait_.stable_since(cx.tcx()).as_deref(),\n+        trait_.const_stable_since(cx.tcx()).as_deref(),\n         false,\n         Some(use_absolute),\n         false,"}, {"sha": "0a065d8095bf238a11538909a8b5b653221d97b4", "filename": "src/test/rustdoc/implementor-stable-version.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/20a460e1cf23262b46a7e9672a02c5f07b91eff5/src%2Ftest%2Frustdoc%2Fimplementor-stable-version.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20a460e1cf23262b46a7e9672a02c5f07b91eff5/src%2Ftest%2Frustdoc%2Fimplementor-stable-version.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fimplementor-stable-version.rs?ref=20a460e1cf23262b46a7e9672a02c5f07b91eff5", "patch": "@@ -0,0 +1,19 @@\n+#![crate_name = \"foo\"]\n+\n+#![feature(staged_api)]\n+\n+#[stable(feature = \"bar\", since = \"OLD 1.0\")]\n+pub trait Bar {}\n+\n+#[stable(feature = \"baz\", since = \"OLD 1.0\")]\n+pub trait Baz {}\n+\n+pub struct Foo;\n+\n+// @has foo/trait.Bar.html '//div[@id=\"implementors-list\"]//span[@class=\"since\"]' 'NEW 2.0'\n+#[stable(feature = \"foobar\", since = \"NEW 2.0\")]\n+impl Bar for Foo {}\n+\n+// @!has foo/trait.Baz.html '//div[@id=\"implementors-list\"]//span[@class=\"since\"]' 'OLD 1.0'\n+#[stable(feature = \"foobaz\", since = \"OLD 1.0\")]\n+impl Baz for Foo {}"}]}