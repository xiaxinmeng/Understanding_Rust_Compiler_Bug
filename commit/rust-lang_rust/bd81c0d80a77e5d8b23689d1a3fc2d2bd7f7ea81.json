{"sha": "bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81", "node_id": "C_kwDOAAsO6NoAKGJkODFjMGQ4MGE3N2U1ZDhiMjM2ODlkMWEzZmMyZDJiZDdmN2VhODE", "commit": {"author": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2022-08-11T04:07:13Z"}, "committer": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2022-08-11T04:07:13Z"}, "message": "Allow old toolchain on images with CUSTOM_MINGW", "tree": {"sha": "9f1f87f87b305ccc0a2892822dab644172b0afb6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9f1f87f87b305ccc0a2892822dab644172b0afb6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81", "html_url": "https://github.com/rust-lang/rust/commit/bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81/comments", "author": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b2f247e1bdc85cd06c19eccd580eae9501ee0235", "url": "https://api.github.com/repos/rust-lang/rust/commits/b2f247e1bdc85cd06c19eccd580eae9501ee0235", "html_url": "https://github.com/rust-lang/rust/commit/b2f247e1bdc85cd06c19eccd580eae9501ee0235"}], "stats": {"total": 42, "additions": 30, "deletions": 12}, "files": [{"sha": "ceda348025e364bff23cfdb24679939f8f7b8646", "filename": ".github/workflows/ci.yml", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81/.github%2Fworkflows%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81/.github%2Fworkflows%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fci.yml?ref=bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81", "patch": "@@ -389,26 +389,26 @@ jobs:\n             os: windows-latest-xl\n           - name: i686-mingw-1\n             env:\n-              RUST_CONFIGURE_ARGS: \"--build=i686-pc-windows-gnu\"\n+              RUST_CONFIGURE_ARGS: \"--build=i686-pc-windows-gnu --set llvm.allow-old-toolchain\"\n               SCRIPT: make ci-mingw-subset-1\n               CUSTOM_MINGW: 1\n             os: windows-latest-xl\n           - name: i686-mingw-2\n             env:\n-              RUST_CONFIGURE_ARGS: \"--build=i686-pc-windows-gnu\"\n+              RUST_CONFIGURE_ARGS: \"--build=i686-pc-windows-gnu --set llvm.allow-old-toolchain\"\n               SCRIPT: make ci-mingw-subset-2\n               CUSTOM_MINGW: 1\n             os: windows-latest-xl\n           - name: x86_64-mingw-1\n             env:\n               SCRIPT: make ci-mingw-subset-1\n-              RUST_CONFIGURE_ARGS: \"--build=x86_64-pc-windows-gnu --enable-profiler\"\n+              RUST_CONFIGURE_ARGS: \"--build=x86_64-pc-windows-gnu --enable-profiler --set llvm.allow-old-toolchain\"\n               CUSTOM_MINGW: 1\n             os: windows-latest-xl\n           - name: x86_64-mingw-2\n             env:\n               SCRIPT: make ci-mingw-subset-2\n-              RUST_CONFIGURE_ARGS: \"--build=x86_64-pc-windows-gnu --enable-profiler\"\n+              RUST_CONFIGURE_ARGS: \"--build=x86_64-pc-windows-gnu --enable-profiler --set llvm.allow-old-toolchain\"\n               CUSTOM_MINGW: 1\n             os: windows-latest-xl\n           - name: dist-x86_64-msvc\n@@ -432,15 +432,15 @@ jobs:\n             os: windows-latest-xl\n           - name: dist-i686-mingw\n             env:\n-              RUST_CONFIGURE_ARGS: \"--build=i686-pc-windows-gnu --enable-full-tools --enable-profiler\"\n+              RUST_CONFIGURE_ARGS: \"--build=i686-pc-windows-gnu --enable-full-tools --enable-profiler --set llvm.allow-old-toolchain\"\n               SCRIPT: python x.py dist\n               CUSTOM_MINGW: 1\n               DIST_REQUIRE_ALL_TOOLS: 1\n             os: windows-latest-xl\n           - name: dist-x86_64-mingw\n             env:\n               SCRIPT: python x.py dist\n-              RUST_CONFIGURE_ARGS: \"--build=x86_64-pc-windows-gnu --enable-full-tools --enable-profiler\"\n+              RUST_CONFIGURE_ARGS: \"--build=x86_64-pc-windows-gnu --enable-full-tools --enable-profiler --set llvm.allow-old-toolchain\"\n               CUSTOM_MINGW: 1\n               DIST_REQUIRE_ALL_TOOLS: 1\n             os: windows-latest-xl"}, {"sha": "a21400cc4726d04e5161bb76a4bea7e6bb288843", "filename": "src/ci/github-actions/ci.yml", "status": "modified", "additions": 24, "deletions": 6, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81/src%2Fci%2Fgithub-actions%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81/src%2Fci%2Fgithub-actions%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fgithub-actions%2Fci.yml?ref=bd81c0d80a77e5d8b23689d1a3fc2d2bd7f7ea81", "patch": "@@ -596,29 +596,39 @@ jobs:\n \n           - name: i686-mingw-1\n             env:\n-              RUST_CONFIGURE_ARGS: --build=i686-pc-windows-gnu\n+              RUST_CONFIGURE_ARGS: >-\n+                --build=i686-pc-windows-gnu\n+                --set llvm.allow-old-toolchain\n               SCRIPT: make ci-mingw-subset-1\n               CUSTOM_MINGW: 1\n             <<: *job-windows-xl\n \n           - name: i686-mingw-2\n             env:\n-              RUST_CONFIGURE_ARGS: --build=i686-pc-windows-gnu\n+              RUST_CONFIGURE_ARGS: >-\n+                --build=i686-pc-windows-gnu\n+                --set llvm.allow-old-toolchain\n               SCRIPT: make ci-mingw-subset-2\n               CUSTOM_MINGW: 1\n             <<: *job-windows-xl\n \n           - name: x86_64-mingw-1\n             env:\n               SCRIPT: make ci-mingw-subset-1\n-              RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-gnu --enable-profiler\n+              RUST_CONFIGURE_ARGS: >-\n+                --build=x86_64-pc-windows-gnu\n+                --enable-profiler\n+                --set llvm.allow-old-toolchain\n               CUSTOM_MINGW: 1\n             <<: *job-windows-xl\n \n           - name: x86_64-mingw-2\n             env:\n               SCRIPT: make ci-mingw-subset-2\n-              RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-gnu --enable-profiler\n+              RUST_CONFIGURE_ARGS: >-\n+                --build=x86_64-pc-windows-gnu\n+                --enable-profiler\n+                --set llvm.allow-old-toolchain\n               CUSTOM_MINGW: 1\n             <<: *job-windows-xl\n \n@@ -663,7 +673,11 @@ jobs:\n \n           - name: dist-i686-mingw\n             env:\n-              RUST_CONFIGURE_ARGS: --build=i686-pc-windows-gnu --enable-full-tools --enable-profiler\n+              RUST_CONFIGURE_ARGS: >-\n+                --build=i686-pc-windows-gnu\n+                --enable-full-tools\n+                --enable-profiler\n+                --set llvm.allow-old-toolchain\n               SCRIPT: python x.py dist\n               CUSTOM_MINGW: 1\n               DIST_REQUIRE_ALL_TOOLS: 1\n@@ -672,7 +686,11 @@ jobs:\n           - name: dist-x86_64-mingw\n             env:\n               SCRIPT: python x.py dist\n-              RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-gnu --enable-full-tools --enable-profiler\n+              RUST_CONFIGURE_ARGS: >-\n+                --build=x86_64-pc-windows-gnu\n+                --enable-full-tools\n+                --enable-profiler\n+                --set llvm.allow-old-toolchain\n               CUSTOM_MINGW: 1\n               DIST_REQUIRE_ALL_TOOLS: 1\n             <<: *job-windows-xl"}]}