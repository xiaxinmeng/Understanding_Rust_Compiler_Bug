{"sha": "befaa874ac25e53300d6c8362334c712304041c3", "node_id": "C_kwDOAAsO6NoAKGJlZmFhODc0YWMyNWU1MzMwMGQ2YzgzNjIzMzRjNzEyMzA0MDQxYzM", "commit": {"author": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2022-02-03T19:54:23Z"}, "committer": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2022-02-03T19:54:23Z"}, "message": "Update install notes", "tree": {"sha": "13943b567efb947df51322b220e00817688a5f5b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/13943b567efb947df51322b220e00817688a5f5b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/befaa874ac25e53300d6c8362334c712304041c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/befaa874ac25e53300d6c8362334c712304041c3", "html_url": "https://github.com/rust-lang/rust/commit/befaa874ac25e53300d6c8362334c712304041c3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/befaa874ac25e53300d6c8362334c712304041c3/comments", "author": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6162d12890f02a70a71c804328bee942c5345400", "url": "https://api.github.com/repos/rust-lang/rust/commits/6162d12890f02a70a71c804328bee942c5345400", "html_url": "https://github.com/rust-lang/rust/commit/6162d12890f02a70a71c804328bee942c5345400"}], "stats": {"total": 40, "additions": 13, "deletions": 27}, "files": [{"sha": "c631ae46554ae5c8c4457cdac9dd82ecc9e81209", "filename": "docs/user/manual.adoc", "status": "modified", "additions": 13, "deletions": 27, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/befaa874ac25e53300d6c8362334c712304041c3/docs%2Fuser%2Fmanual.adoc", "raw_url": "https://github.com/rust-lang/rust/raw/befaa874ac25e53300d6c8362334c712304041c3/docs%2Fuser%2Fmanual.adoc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Fmanual.adoc?ref=befaa874ac25e53300d6c8362334c712304041c3", "patch": "@@ -67,16 +67,16 @@ To disable this notification put the following to `settings.json`\n ----\n ====\n \n-The server binary is stored in:\n+The server binary is stored in the extension install directory, which starts with `matklad.rust-analyzer-` and is located under:\n \n-* Linux: `~/.config/Code/User/globalStorage/matklad.rust-analyzer`\n-* Linux (Remote, such as WSL): `~/.vscode-server/data/User/globalStorage/matklad.rust-analyzer`\n-* macOS: `~/Library/Application\\ Support/Code/User/globalStorage/matklad.rust-analyzer`\n-* Windows: `%APPDATA%\\Code\\User\\globalStorage\\matklad.rust-analyzer`\n+* Linux: `~/.vscode/extensions`\n+* Linux (Remote, such as WSL): `~/.vscode-server/extensions`\n+* macOS: `~/.vscode/extensions`\n+* Windows: `%USERPROFILE%\\.vscode\\extensions`\n \n-However, if you are using a version of the extension with a bundled server binary and you are not running NixOS, the server binary might be instead running from: `~/.vscode/extensions/matklad.rust-analyzer-VERSION`.\n+As an exception, on NixOS, the extension makes a copy of the server and stores it under `~/.config/Code/User/globalStorage/matklad.rust-analyzer`.\n \n-Note that we only support two most recent versions of VS Code.\n+Note that we only support the two most recent versions of VS Code.\n \n ==== Updates\n \n@@ -86,27 +86,12 @@ It will ask your permission to download the matching language server version bin\n ===== Nightly\n \n We ship nightly releases for VS Code.\n+You can opt in to these by switching to the pre-release version in the Code extension page or settings.\n To help us out with testing the newest code and follow the bleeding edge of our `master`, please use the following config:\n \n-[source,json]\n-----\n-{ \"rust-analyzer.updates.channel\": \"nightly\" }\n-----\n-\n-You will be prompted to install the `nightly` extension version.\n-Just click `Download now` and from that moment you will get automatic updates every 24 hours.\n-\n-If you don't want to be asked for `Download now` every day when the new nightly version is released add the following to your `settings.json`:\n-[source,json]\n-----\n-{ \"rust-analyzer.updates.askBeforeDownload\": false }\n-----\n-\n-NOTE: Nightly extension should **only** be installed via the `Download now` action from VS Code.\n-\n ==== Manual installation\n \n-Alternatively, procure both `rust-analyzer.vsix` and your platform's matching `rust-analyzer-{platform}`, for example from the\n+Alternatively, download a VSIX corresponding to your platform from the\n https://github.com/rust-analyzer/rust-analyzer/releases[releases] page.\n \n Install the extension with the `Extensions: Install from VSIX` command within VS Code, or from the command line via:\n@@ -115,23 +100,24 @@ Install the extension with the `Extensions: Install from VSIX` command within VS\n $ code --install-extension /path/to/rust-analyzer.vsix\n ----\n \n-Copy the `rust-analyzer-{platform}` binary anywhere, then add the path to your settings.json, for example:\n+If you are running an unsupported platform, you can install `rust-analyzer-no-server.vsix` and compile or obtain a server binary.\n+Copy the server anywhere, then add the path to your settings.json, for example:\n [source,json]\n ----\n { \"rust-analyzer.server.path\": \"~/.local/bin/rust-analyzer-linux\" }\n ----\n \n ==== Building From Source\n \n-Alternatively, both the server and the Code plugin can be installed from source:\n+Both the server and the Code plugin can be installed from source:\n \n [source]\n ----\n $ git clone https://github.com/rust-analyzer/rust-analyzer.git && cd rust-analyzer\n $ cargo xtask install\n ----\n \n-You'll need Cargo, nodejs and npm for this.\n+You'll need Cargo, nodejs (matching a supported version of VS Code) and npm for this.\n \n Note that installing via `xtask install` does not work for VS Code Remote, instead you'll need to install the `.vsix` manually.\n "}]}