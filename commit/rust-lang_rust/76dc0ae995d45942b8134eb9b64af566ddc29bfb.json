{"sha": "76dc0ae995d45942b8134eb9b64af566ddc29bfb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc2ZGMwYWU5OTVkNDU5NDJiODEzNGViOWI2NGFmNTY2ZGRjMjliZmI=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-10-22T20:43:25Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-10-22T20:43:25Z"}, "message": "Match llvm xfails inside-out, to make life a little less painful.", "tree": {"sha": "f5688e67466cbfc1c3277970f0ac205e0fac8fde", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f5688e67466cbfc1c3277970f0ac205e0fac8fde"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/76dc0ae995d45942b8134eb9b64af566ddc29bfb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/76dc0ae995d45942b8134eb9b64af566ddc29bfb", "html_url": "https://github.com/rust-lang/rust/commit/76dc0ae995d45942b8134eb9b64af566ddc29bfb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/76dc0ae995d45942b8134eb9b64af566ddc29bfb/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "25263c9576a0a92be32c3647da59df3c43d40ef4", "url": "https://api.github.com/repos/rust-lang/rust/commits/25263c9576a0a92be32c3647da59df3c43d40ef4", "html_url": "https://github.com/rust-lang/rust/commit/25263c9576a0a92be32c3647da59df3c43d40ef4"}], "stats": {"total": 194, "additions": 32, "deletions": 162}, "files": [{"sha": "c5dbf238789b174d737da43b0916afe238d34b90", "filename": "src/Makefile", "status": "modified", "additions": 32, "deletions": 162, "changes": 194, "blob_url": "https://github.com/rust-lang/rust/blob/76dc0ae995d45942b8134eb9b64af566ddc29bfb/src%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/76dc0ae995d45942b8134eb9b64af566ddc29bfb/src%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FMakefile?ref=76dc0ae995d45942b8134eb9b64af566ddc29bfb", "patch": "@@ -440,171 +440,39 @@ TEST_XFAILS_X86 :=  $(TASK_XFAILS) \\\n                     test/compile-fail/infinite-vec-type-recursion.rs \\\n                     test/compile-fail/writing-through-read-alias.rs\n \n+# Most tests fail on the boot-llvm backend, so we list the run-pass\n+# xfails inside-out, by listing those that *don't* fail. A bit\n+# double-negative-y but it's a bit unwieldy the other way just now.\n+\n TEST_XFAILS_LLVM := $(TASK_XFAILS) \\\n                     $(NOMINAL_TAG_XFAILS) \\\n                     $(CONST_TAG_XFAILS) \\\n-                    $(addprefix test/run-pass/, \\\n-                      arith-1.rs \\\n-                      acyclic-unwind.rs \\\n-                      alt-pattern-drop.rs \\\n-                      alt-pattern-simple.rs \\\n-                      alt-tag.rs \\\n-                      append-units.rs \\\n-                      argv.rs \\\n-                      autoderef-full-lval.rs \\\n-                      autoderef-objfn.rs \\\n-                      auto-instantiate.rs \\\n-                      basic.rs \\\n-                      basic-1.rs \\\n-                      basic-2.rs \\\n-                      bind-exterior.rs \\\n-                      bind-obj-ctor.rs \\\n-                      bind-thunk.rs \\\n-                      bind-trivial.rs \\\n-                      bitwise.rs \\\n-                      bool-not.rs \\\n-                      box-in-tup.rs \\\n-                      box-unbox.rs \\\n-                      cast.rs \\\n-                      child-outlives-parent.rs \\\n-                      clone-with-exterior.rs \\\n-                      comm.rs \\\n-                      command-line-args.rs \\\n-                      complex.rs \\\n-                      const.rs \\\n-                      constrained-type.rs \\\n-                      deep.rs \\\n-                      deref.rs \\\n-                      destructor-ordering.rs \\\n-                      drop-bind-thunk-args.rs \\\n-                      drop-on-empty-block-exit.rs \\\n-                      drop-parametric-closure-with-bound-box.rs \\\n-                      export-non-interference.rs \\\n-                      exterior.rs \\\n-                      fn-lval.rs \\\n-                      foreach-nested-2.rs \\\n-                      foreach-nested.rs \\\n-                      foreach-put-structured.rs \\\n-                      foreach-simple-outer-slot.rs \\\n-                      foreach-simple.rs \\\n-                      fun-call-variants.rs \\\n-                      fun-indirect-call.rs \\\n-                      generic-bind.rs \\\n-                      generic-derived-type.rs \\\n-                      generic-drop-glue.rs \\\n-                      generic-exterior-box.rs \\\n-                      generic-fn-infer.rs \\\n-                      generic-fn.rs \\\n-                      generic-iter-frame.rs \\\n-                      generic-obj-with-derived-type.rs \\\n-                      generic-obj.rs \\\n-                      generic-recursive-tag.rs \\\n-                      generic-tag-alt.rs \\\n-                      generic-tag-values.rs \\\n-                      generic-tag.rs \\\n-                      i32-sub.rs \\\n-                      i8-incr.rs \\\n-                      import.rs \\\n-                      integral-indexing.rs \\\n-                      iter-range.rs \\\n-                      iter-ret.rs \\\n-                      large-records.rs \\\n-                      lazy-and-or.rs \\\n-                      lazy-init.rs \\\n-                      lazychan.rs \\\n-                      leak-box-as-tydesc.rs \\\n-                      lib-bitv.rs \\\n-                      lib-deque.rs \\\n-                      lib-int.rs \\\n-                      lib-io.rs \\\n-                      lib-map.rs \\\n-                      lib-rand.rs \\\n-                      lib-str.rs \\\n-                      lib-task.rs \\\n-                      lib-uint.rs \\\n-                      lib-vec.rs \\\n-                      lib-vec-str-conversions.rs \\\n-                      linear-for-loop.rs \\\n-                      list.rs \\\n-                      many.rs \\\n-                      mlist-cycle.rs \\\n-                      mlist.rs \\\n-                      mutable-alias-vec.rs \\\n-                      mutable-vec-drop.rs \\\n-                      mutual-recursion-group.rs \\\n-                      obj-as.rs \\\n-                      obj-drop.rs \\\n-                      obj-dtor.rs \\\n-                      obj-recursion.rs \\\n-                      obj-return-polytypes.rs \\\n-                      obj-with-vec.rs \\\n-                      operator-associativity.rs \\\n-                      output-slot-variants.rs \\\n-                      over-constrained-vregs.rs \\\n-                      pred.rs \\\n-                      preempt.rs \\\n-                      readalias.rs \\\n-                      rec-auto.rs \\\n-                      rec-extend.rs \\\n-                      rec-tup.rs \\\n-                      rec.rs \\\n-                      simple-obj.rs \\\n-                      size-and-align.rs \\\n-                      spawn-fn.rs \\\n-                      spawn-module-qualified.rs \\\n-                      spawn.rs \\\n-                      stateful-obj.rs \\\n-                      str-append.rs \\\n-                      str-concat.rs \\\n-                      str-idx.rs \\\n-                      structured-compare.rs \\\n-                      syntax-extension-fmt.rs \\\n-                      tag.rs \\\n-                      tail-call-arg-leak.rs \\\n-                      tail-cps.rs \\\n-                      tail-direct.rs \\\n-                      task-comm.rs \\\n-                      task-comm-0.rs \\\n-                      task-comm-1.rs \\\n-                      task-comm-2.rs \\\n-                      task-comm-3.rs \\\n-                      task-comm-4.rs \\\n-                      task-comm-5.rs \\\n-                      task-comm-6.rs \\\n-                      task-comm-7.rs \\\n-                      task-comm-8.rs \\\n-                      task-comm-9.rs \\\n-                      task-comm-10.rs \\\n-                      task-comm-11.rs \\\n-                      task-comm-12.rs \\\n-                      task-comm-13.rs \\\n-                      task-comm-13-thread.rs \\\n-                      task-comm-15.rs \\\n-                      task-life-0.rs \\\n-                      threads.rs \\\n-                      type-sizes.rs \\\n-                      u8-incr.rs \\\n-                      u8-incr-decr.rs \\\n-                      u32-decr.rs \\\n-                      uint.rs \\\n-                      unit.rs \\\n-                      use-import-export.rs \\\n-                      user.rs \\\n-                      utf8.rs \\\n-                      vec-alloc-append.rs \\\n-                      vec-append.rs \\\n-                      vec-concat.rs \\\n-                      vec-drop.rs \\\n-                      vec-in-tup.rs \\\n-                      vec-late-init.rs \\\n-                      vec-slice.rs \\\n-                      vec.rs \\\n-                      while-flow-graph.rs \\\n-                      while-with-break.rs \\\n-                      writealias.rs \\\n-                      yield.rs \\\n-                      yield2.rs \\\n-                     ) \\\n+                    $(filter-out \\\n+                      $(addprefix test/run-pass/, \\\n+                        arith-0.rs \\\n+                        arith-2.rs \\\n+                        char.rs \\\n+                        dead-code-one-arm-if.rs \\\n+                        div-mod.rs \\\n+                        drop-on-ret.rs \\\n+                        else-if.rs \\\n+                        fact.rs \\\n+                        generic-fn-twice.rs \\\n+                        generic-type.rs \\\n+                        generic-type-synonym.rs \\\n+                        hello.rs \\\n+                        inner-module.rs \\\n+                        int.rs \\\n+                        item-name-overload.rs \\\n+                        multiline-comment.rs \\\n+                        native.rs \\\n+                        native-mod.rs \\\n+                        native-opaque-type.rs \\\n+                        opeq.rs \\\n+                        return-nil.rs \\\n+                        syntax-extension-shell.rs \\\n+                        tup.rs), \\\n+                      $(wildcard test/run-pass/*.rs) ) \\\n                     $(addprefix test/run-fail/, \\\n                       explicit-fail.rs \\\n                       fail.rs \\\n@@ -623,6 +491,8 @@ TEST_XFAILS_LLVM := $(TASK_XFAILS) \\\n                       writing-through-read-alias.rs \\\n                      )\n \n+\n+\n ifdef MINGW_CROSS\n TEST_XFAILS_X86 += test/run-pass/native-mod.rc\n TEST_XFAILS_LLVM += test/run-pass/native-mod.rc"}]}