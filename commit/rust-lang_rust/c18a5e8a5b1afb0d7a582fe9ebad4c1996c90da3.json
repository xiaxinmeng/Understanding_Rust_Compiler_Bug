{"sha": "c18a5e8a5b1afb0d7a582fe9ebad4c1996c90da3", "node_id": "C_kwDOAAsO6NoAKGMxOGE1ZThhNWIxYWZiMGQ3YTU4MmZlOWViYWQ0YzE5OTZjOTBkYTM", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-01-25T20:59:10Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-01-25T20:59:10Z"}, "message": "Auto merge of #107142 - cuviper:relnotes-1.67, r=Mark-Simulacrum\n\nRelease notes for 1.67.0\n\nr? `@Mark-Simulacrum`\ncc `@rust-lang/release`", "tree": {"sha": "d8c378117f64856e67d9637eb09f10aa076502f0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d8c378117f64856e67d9637eb09f10aa076502f0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c18a5e8a5b1afb0d7a582fe9ebad4c1996c90da3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c18a5e8a5b1afb0d7a582fe9ebad4c1996c90da3", "html_url": "https://github.com/rust-lang/rust/commit/c18a5e8a5b1afb0d7a582fe9ebad4c1996c90da3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c18a5e8a5b1afb0d7a582fe9ebad4c1996c90da3/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "027c8507b4265dcf285b0b503e2a49214b929f7b", "url": "https://api.github.com/repos/rust-lang/rust/commits/027c8507b4265dcf285b0b503e2a49214b929f7b", "html_url": "https://github.com/rust-lang/rust/commit/027c8507b4265dcf285b0b503e2a49214b929f7b"}, {"sha": "b9be9e5fd1d2b7aace3875a77d1715bd9daa7e54", "url": "https://api.github.com/repos/rust-lang/rust/commits/b9be9e5fd1d2b7aace3875a77d1715bd9daa7e54", "html_url": "https://github.com/rust-lang/rust/commit/b9be9e5fd1d2b7aace3875a77d1715bd9daa7e54"}], "stats": {"total": 103, "additions": 103, "deletions": 0}, "files": [{"sha": "a63d4e8a043c606e4384eb5b7f6d6bc581802de9", "filename": "RELEASES.md", "status": "modified", "additions": 103, "deletions": 0, "changes": 103, "blob_url": "https://github.com/rust-lang/rust/blob/c18a5e8a5b1afb0d7a582fe9ebad4c1996c90da3/RELEASES.md", "raw_url": "https://github.com/rust-lang/rust/raw/c18a5e8a5b1afb0d7a582fe9ebad4c1996c90da3/RELEASES.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/RELEASES.md?ref=c18a5e8a5b1afb0d7a582fe9ebad4c1996c90da3", "patch": "@@ -1,3 +1,106 @@\n+Version 1.67.0 (2023-01-26)\n+==========================\n+\n+<a id=\"1.67.0-Language\"></a>\n+\n+Language\n+--------\n+\n+- [Make `Sized` predicates coinductive, allowing cycles.](https://github.com/rust-lang/rust/pull/100386/)\n+- [`#[must_use]` annotations on `async fn` also affect the `Future::Output`.](https://github.com/rust-lang/rust/pull/100633/)\n+- [Elaborate supertrait obligations when deducing closure signatures.](https://github.com/rust-lang/rust/pull/101834/)\n+- [Invalid literals are no longer an error under `cfg(FALSE)`.](https://github.com/rust-lang/rust/pull/102944/)\n+- [Unreserve braced enum variants in value namespace.](https://github.com/rust-lang/rust/pull/103578/)\n+\n+<a id=\"1.67.0-Compiler\"></a>\n+\n+Compiler\n+--------\n+\n+- [Enable varargs support for calling conventions other than `C` or `cdecl`.](https://github.com/rust-lang/rust/pull/97971/)\n+- [Add new MIR constant propagation based on dataflow analysis.](https://github.com/rust-lang/rust/pull/101168/)\n+- [Optimize field ordering by grouping m\\*2^n-sized fields with equivalently aligned ones.](https://github.com/rust-lang/rust/pull/102750/)\n+- [Stabilize native library modifier `verbatim`.](https://github.com/rust-lang/rust/pull/104360/)\n+\n+Added and removed targets:\n+\n+- [Add a tier 3 target for PowerPC on AIX](https://github.com/rust-lang/rust/pull/102293/), `powerpc64-ibm-aix`.\n+- [Add a tier 3 target for the Sony PlayStation 1](https://github.com/rust-lang/rust/pull/102689/), `mipsel-sony-psx`.\n+- [Add tier 3 `no_std` targets for the QNX Neutrino RTOS](https://github.com/rust-lang/rust/pull/102701/),\n+  `aarch64-unknown-nto-qnx710` and `x86_64-pc-nto-qnx710`.\n+- [Remove tier 3 `linuxkernel` targets](https://github.com/rust-lang/rust/pull/104015/) (not used by the actual kernel).\n+\n+Refer to Rust's [platform support page][platform-support-doc]\n+for more information on Rust's tiered platform support.\n+\n+<a id=\"1.67.0-Libraries\"></a>\n+\n+Libraries\n+---------\n+\n+- [Merge `crossbeam-channel` into `std::sync::mpsc`.](https://github.com/rust-lang/rust/pull/93563/)\n+- [Fix inconsistent rounding of 0.5 when formatted to 0 decimal places.](https://github.com/rust-lang/rust/pull/102935/)\n+- [Derive `Eq` and `Hash` for `ControlFlow`.](https://github.com/rust-lang/rust/pull/103084/)\n+- [Don't build `compiler_builtins` with `-C panic=abort`.](https://github.com/rust-lang/rust/pull/103786/)\n+\n+<a id=\"1.67.0-Stabilized-APIs\"></a>\n+\n+Stabilized APIs\n+---------------\n+\n+- [`{integer}::checked_ilog`](https://doc.rust-lang.org/stable/std/primitive.i32.html#method.checked_ilog)\n+- [`{integer}::checked_ilog2`](https://doc.rust-lang.org/stable/std/primitive.i32.html#method.checked_ilog2)\n+- [`{integer}::checked_ilog10`](https://doc.rust-lang.org/stable/std/primitive.i32.html#method.checked_ilog10)\n+- [`{integer}::ilog`](https://doc.rust-lang.org/stable/std/primitive.i32.html#method.ilog)\n+- [`{integer}::ilog2`](https://doc.rust-lang.org/stable/std/primitive.i32.html#method.ilog2)\n+- [`{integer}::ilog10`](https://doc.rust-lang.org/stable/std/primitive.i32.html#method.ilog10)\n+- [`NonZeroU*::ilog2`](https://doc.rust-lang.org/stable/std/num/struct.NonZeroU32.html#method.ilog2)\n+- [`NonZeroU*::ilog10`](https://doc.rust-lang.org/stable/std/num/struct.NonZeroU32.html#method.ilog10)\n+- [`NonZero*::BITS`](https://doc.rust-lang.org/stable/std/num/struct.NonZeroU32.html#associatedconstant.BITS)\n+\n+These APIs are now stable in const contexts:\n+\n+- [`char::from_u32`](https://doc.rust-lang.org/stable/std/primitive.char.html#method.from_u32)\n+- [`char::from_digit`](https://doc.rust-lang.org/stable/std/primitive.char.html#method.from_digit)\n+- [`char::to_digit`](https://doc.rust-lang.org/stable/std/primitive.char.html#method.to_digit)\n+- [`core::char::from_u32`](https://doc.rust-lang.org/stable/core/char/fn.from_u32.html)\n+- [`core::char::from_digit`](https://doc.rust-lang.org/stable/core/char/fn.from_digit.html)\n+\n+<a id=\"1.67.0-Compatibility-Notes\"></a>\n+\n+Compatibility Notes\n+-------------------\n+\n+- [The layout of `repr(Rust)` types now groups m\\*2^n-sized fields with\n+  equivalently aligned ones.](https://github.com/rust-lang/rust/pull/102750/)\n+  This is intended to be an optimization, but it is also known to increase type\n+  sizes in a few cases for the placement of enum tags. As a reminder, the layout\n+  of `repr(Rust)` types is an implementation detail, subject to change.\n+- [0.5 now rounds to 0 when formatted to 0 decimal places.](https://github.com/rust-lang/rust/pull/102935/)\n+  This makes it consistent with the rest of floating point formatting that\n+  rounds ties toward even digits.\n+- [Chains of `&&` and `||` will now drop temporaries from their sub-expressions in\n+  evaluation order, left-to-right.](https://github.com/rust-lang/rust/pull/103293/)\n+  Previously, it was \"twisted\" such that the _first_ expression dropped its\n+  temporaries _last_, after all of the other expressions dropped in order.\n+- [Underscore suffixes on string literals are now a hard error.](https://github.com/rust-lang/rust/pull/103914/)\n+  This has been a future-compatibility warning since 1.20.0.\n+- [Stop passing `-export-dynamic` to `wasm-ld`.](https://github.com/rust-lang/rust/pull/105405/)\n+- [`main` is now mangled as `__main_void` on `wasm32-wasi`.](https://github.com/rust-lang/rust/pull/105468/)\n+- [Cargo now emits an error if there are multiple registries in the configuration\n+  with the same index URL.](https://github.com/rust-lang/cargo/pull/10592)\n+\n+<a id=\"1.67.0-Internal-Changes\"></a>\n+\n+Internal Changes\n+----------------\n+\n+These changes do not affect any public interfaces of Rust, but they represent\n+significant improvements to the performance or internals of rustc and related\n+tools.\n+\n+- [Rewrite LLVM's archive writer in Rust.](https://github.com/rust-lang/rust/pull/97485/)\n+\n Version 1.66.1 (2023-01-10)\n ===========================\n "}]}