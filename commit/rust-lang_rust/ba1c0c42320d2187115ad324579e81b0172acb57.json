{"sha": "ba1c0c42320d2187115ad324579e81b0172acb57", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJhMWMwYzQyMzIwZDIxODcxMTVhZDMyNDU3OWU4MWIwMTcyYWNiNTc=", "commit": {"author": {"name": "Keegan McAllister", "email": "kmcallister@mozilla.com", "date": "2014-06-18T00:06:04Z"}, "committer": {"name": "Keegan McAllister", "email": "kmcallister@mozilla.com", "date": "2014-06-24T18:36:27Z"}, "message": "Drop the ExportedItems argument from LintPass::check_crate\n\nNone of the builtin lints use this, and it's now available through the Context.", "tree": {"sha": "e29b658c83f756653111b494602b4cf464f3555b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e29b658c83f756653111b494602b4cf464f3555b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ba1c0c42320d2187115ad324579e81b0172acb57", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ba1c0c42320d2187115ad324579e81b0172acb57", "html_url": "https://github.com/rust-lang/rust/commit/ba1c0c42320d2187115ad324579e81b0172acb57", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ba1c0c42320d2187115ad324579e81b0172acb57/comments", "author": {"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kmcallister", "id": 444997, "node_id": "MDQ6VXNlcjQ0NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/444997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmcallister", "html_url": "https://github.com/kmcallister", "followers_url": "https://api.github.com/users/kmcallister/followers", "following_url": "https://api.github.com/users/kmcallister/following{/other_user}", "gists_url": "https://api.github.com/users/kmcallister/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmcallister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmcallister/subscriptions", "organizations_url": "https://api.github.com/users/kmcallister/orgs", "repos_url": "https://api.github.com/users/kmcallister/repos", "events_url": "https://api.github.com/users/kmcallister/events{/privacy}", "received_events_url": "https://api.github.com/users/kmcallister/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6fede93475013a5a8bef1678dfd04fef3118836e", "url": "https://api.github.com/repos/rust-lang/rust/commits/6fede93475013a5a8bef1678dfd04fef3118836e", "html_url": "https://github.com/rust-lang/rust/commit/6fede93475013a5a8bef1678dfd04fef3118836e"}], "stats": {"total": 8, "additions": 3, "deletions": 5}, "files": [{"sha": "af9d0cbcb7f519c1a2fc31e026c371bb22c8f5c2", "filename": "src/librustc/lint/builtin.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ba1c0c42320d2187115ad324579e81b0172acb57/src%2Flibrustc%2Flint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ba1c0c42320d2187115ad324579e81b0172acb57/src%2Flibrustc%2Flint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Fbuiltin.rs?ref=ba1c0c42320d2187115ad324579e81b0172acb57", "patch": "@@ -30,7 +30,6 @@ use middle::def::*;\n use middle::trans::adt; // for `adt::is_ffi_safe`\n use middle::typeck::astconv::ast_ty_to_ty;\n use middle::typeck::infer;\n-use middle::privacy::ExportedItems;\n use middle::{typeck, ty, def, pat_util};\n use util::ppaux::{ty_to_str};\n use util::nodemap::NodeSet;\n@@ -1322,7 +1321,7 @@ impl LintPass for MissingDoc {\n         assert!(popped == id);\n     }\n \n-    fn check_crate(&mut self, cx: &Context, _: &ExportedItems, krate: &ast::Crate) {\n+    fn check_crate(&mut self, cx: &Context, krate: &ast::Crate) {\n         self.check_missing_doc_attrs(cx, None, krate.attrs.as_slice(),\n             krate.span, \"crate\");\n     }"}, {"sha": "17fa8f06fe59985ee109ffc62c2a1404ce77b39d", "filename": "src/librustc/lint/context.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ba1c0c42320d2187115ad324579e81b0172acb57/src%2Flibrustc%2Flint%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ba1c0c42320d2187115ad324579e81b0172acb57/src%2Flibrustc%2Flint%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Fcontext.rs?ref=ba1c0c42320d2187115ad324579e81b0172acb57", "patch": "@@ -641,7 +641,7 @@ pub fn check_crate(tcx: &ty::ctxt,\n \n         // since the root module isn't visited as an item (because it isn't an\n         // item), warn for it here.\n-        run_lints!(cx, check_crate, exported_items, krate);\n+        run_lints!(cx, check_crate, krate);\n \n         visit::walk_crate(cx, krate, ());\n     });"}, {"sha": "13106973c1d17c08264e04ed394bcfc3c7e94404", "filename": "src/librustc/lint/mod.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ba1c0c42320d2187115ad324579e81b0172acb57/src%2Flibrustc%2Flint%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ba1c0c42320d2187115ad324579e81b0172acb57/src%2Flibrustc%2Flint%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Fmod.rs?ref=ba1c0c42320d2187115ad324579e81b0172acb57", "patch": "@@ -29,7 +29,6 @@\n \n #![macro_escape]\n \n-use middle::privacy::ExportedItems;\n use std::hash;\n use std::ascii::StrAsciiExt;\n use syntax::codemap::Span;\n@@ -122,7 +121,7 @@ pub trait LintPass {\n     /// `Lint`, make it a private `static` item in its own module.\n     fn get_lints(&self) -> LintArray;\n \n-    fn check_crate(&mut self, _: &Context, _: &ExportedItems, _: &ast::Crate) { }\n+    fn check_crate(&mut self, _: &Context, _: &ast::Crate) { }\n     fn check_ident(&mut self, _: &Context, _: Span, _: ast::Ident) { }\n     fn check_mod(&mut self, _: &Context, _: &ast::Mod, _: Span, _: ast::NodeId) { }\n     fn check_view_item(&mut self, _: &Context, _: &ast::ViewItem) { }"}]}