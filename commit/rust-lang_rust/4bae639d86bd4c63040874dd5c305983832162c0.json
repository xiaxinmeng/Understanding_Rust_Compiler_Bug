{"sha": "4bae639d86bd4c63040874dd5c305983832162c0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRiYWU2MzlkODZiZDRjNjMwNDA4NzRkZDVjMzA1OTgzODMyMTYyYzA=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-10-03T21:01:41Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-10-03T21:01:41Z"}, "message": "auto merge of #9705 : luisbg/rust/strptime, r=alexcrichton\n\ndo_strptime() and do_strftime()\r\n\r\nI don't see any reason why src/libextra/time.rs has two functions that just call a very similar function, which only use is to be called by them.\r\nstrftime() just calls do_strftime()\r\nstrptime() just calls do_strptime()\r\nand the do_functions aren't called by anyone else.\r\nthe parameters and return types are exactly the same in both levels, so I just have removed the second layer.\r\n\r\nUnless there is a need for that second level.", "tree": {"sha": "a2691145399b7c3f35b4170a6d8aa1e6abd2202d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a2691145399b7c3f35b4170a6d8aa1e6abd2202d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4bae639d86bd4c63040874dd5c305983832162c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4bae639d86bd4c63040874dd5c305983832162c0", "html_url": "https://github.com/rust-lang/rust/commit/4bae639d86bd4c63040874dd5c305983832162c0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4bae639d86bd4c63040874dd5c305983832162c0/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "012f909f3546dc7515b43ba389cfc0a1ead0d21f", "url": "https://api.github.com/repos/rust-lang/rust/commits/012f909f3546dc7515b43ba389cfc0a1ead0d21f", "html_url": "https://github.com/rust-lang/rust/commit/012f909f3546dc7515b43ba389cfc0a1ead0d21f"}, {"sha": "a0c59941e3f6cca0ff1505c4ed431ac7327cc66a", "url": "https://api.github.com/repos/rust-lang/rust/commits/a0c59941e3f6cca0ff1505c4ed431ac7327cc66a", "html_url": "https://github.com/rust-lang/rust/commit/a0c59941e3f6cca0ff1505c4ed431ac7327cc66a"}], "stats": {"total": 15, "additions": 4, "deletions": 11}, "files": [{"sha": "c7add96fca12163b312aa256e9adcef9c1507b52", "filename": "src/libextra/time.rs", "status": "modified", "additions": 4, "deletions": 11, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/4bae639d86bd4c63040874dd5c305983832162c0/src%2Flibextra%2Ftime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4bae639d86bd4c63040874dd5c305983832162c0/src%2Flibextra%2Ftime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Ftime.rs?ref=4bae639d86bd4c63040874dd5c305983832162c0", "patch": "@@ -174,15 +174,6 @@ pub fn now() -> Tm {\n     at(get_time())\n }\n \n-/// Parses the time from the string according to the format string.\n-pub fn strptime(s: &str, format: &str) -> Result<Tm, ~str> {\n-    do_strptime(s, format)\n-}\n-\n-/// Formats the time according to the format string.\n-pub fn strftime(format: &str, tm: &Tm) -> ~str {\n-    do_strftime(format, tm)\n-}\n \n impl Tm {\n     /// Convert time to the seconds from January 1, 1970\n@@ -264,7 +255,8 @@ impl Tm {\n     }\n }\n \n-fn do_strptime(s: &str, format: &str) -> Result<Tm, ~str> {\n+/// Parses the time from the string according to the format string.\n+pub fn strptime(s: &str, format: &str) -> Result<Tm, ~str> {\n     fn match_str(s: &str, pos: uint, needle: &str) -> bool {\n         let mut i = pos;\n         for ch in needle.byte_iter() {\n@@ -733,7 +725,8 @@ fn do_strptime(s: &str, format: &str) -> Result<Tm, ~str> {\n     }\n }\n \n-fn do_strftime(format: &str, tm: &Tm) -> ~str {\n+/// Formats the time according to the format string.\n+pub fn strftime(format: &str, tm: &Tm) -> ~str {\n     fn days_in_year(year: int) -> i32 {\n         if ((year % 4 == 0) && ((year % 100 != 0) || (year % 400 == 0))) {\n             366    /* Days in a leap year */"}]}