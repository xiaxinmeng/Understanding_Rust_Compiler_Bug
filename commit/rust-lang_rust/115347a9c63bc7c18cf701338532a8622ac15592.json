{"sha": "115347a9c63bc7c18cf701338532a8622ac15592", "node_id": "MDY6Q29tbWl0NzI0NzEyOjExNTM0N2E5YzYzYmM3YzE4Y2Y3MDEzMzg1MzJhODYyMmFjMTU1OTI=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-05-11T17:16:26Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-05-11T17:16:26Z"}, "message": "Merge #4424\n\n4424: Use RA_LOG instead of RUST_LOG for logging r=matklad a=matklad\n\nRUST_LOG might be set up for debugging the user's problem, slowing\ndown rust-analyzer considerably. That's the same reason why rustc uses\nRUSTC_LOG.\n\n\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "77a45256d7eedac1ab8b53d35fd036ded3d35522", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/77a45256d7eedac1ab8b53d35fd036ded3d35522"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/115347a9c63bc7c18cf701338532a8622ac15592", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeuYhqCRBK7hj4Ov3rIwAAdHIIAH3Xe05NtUd9q1aUy69SsrbR\nw0EE+hAGm/o7d3pPIgBrxmsWuisYI5xs4Jwy4zO3RIe6SipHN+BDpCj2hVvIJ69n\nmdtANodzBMZuS6LXTxIKwRseDvHMuQQE8lO21DCg2R0oTw48uulklpy1g/jbcfVe\nerirNxXsPQ+XSuVulXYz8TpW8TJa8OBTqW2A0u+EQ7ScUv7PthRhfmH93tklbGRI\nQJ/W8Og/hOGEsabOpEnmQ7nuViD3Aq/Do4i5X6lNqnG7A52458aYuu1BPZviHAlr\n/lgcxKle1qmGH+DOS8A3LTF3QiO5IH8d/aapXwmTagIrnZdTcwLIBD9D4+LU6BU=\n=jHpb\n-----END PGP SIGNATURE-----\n", "payload": "tree 77a45256d7eedac1ab8b53d35fd036ded3d35522\nparent 05399250d47cdceffbf1ded08983b13a9dcc87c1\nparent 72e229fcb35f6056183f681e0d16c4fff8e5e381\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1589217386 +0000\ncommitter GitHub <noreply@github.com> 1589217386 +0000\n\nMerge #4424\n\n4424: Use RA_LOG instead of RUST_LOG for logging r=matklad a=matklad\n\nRUST_LOG might be set up for debugging the user's problem, slowing\ndown rust-analyzer considerably. That's the same reason why rustc uses\nRUSTC_LOG.\n\n\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/115347a9c63bc7c18cf701338532a8622ac15592", "html_url": "https://github.com/rust-lang/rust/commit/115347a9c63bc7c18cf701338532a8622ac15592", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/115347a9c63bc7c18cf701338532a8622ac15592/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "05399250d47cdceffbf1ded08983b13a9dcc87c1", "url": "https://api.github.com/repos/rust-lang/rust/commits/05399250d47cdceffbf1ded08983b13a9dcc87c1", "html_url": "https://github.com/rust-lang/rust/commit/05399250d47cdceffbf1ded08983b13a9dcc87c1"}, {"sha": "72e229fcb35f6056183f681e0d16c4fff8e5e381", "url": "https://api.github.com/repos/rust-lang/rust/commits/72e229fcb35f6056183f681e0d16c4fff8e5e381", "html_url": "https://github.com/rust-lang/rust/commit/72e229fcb35f6056183f681e0d16c4fff8e5e381"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "001f277e6fa0b5590a1faa09ba9c8df85dce37a7", "filename": "crates/rust-analyzer/src/bin/main.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/115347a9c63bc7c18cf701338532a8622ac15592/crates%2Frust-analyzer%2Fsrc%2Fbin%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/115347a9c63bc7c18cf701338532a8622ac15592/crates%2Frust-analyzer%2Fsrc%2Fbin%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fbin%2Fmain.rs?ref=115347a9c63bc7c18cf701338532a8622ac15592", "patch": "@@ -60,7 +60,7 @@ fn main() -> Result<()> {\n \n fn setup_logging() -> Result<()> {\n     std::env::set_var(\"RUST_BACKTRACE\", \"short\");\n-    env_logger::try_init()?;\n+    env_logger::try_init_from_env(\"RA_LOG\")?;\n     ra_prof::init();\n     Ok(())\n }"}, {"sha": "a20ead0b6c5492d68737e55981c25d07a06e278f", "filename": "docs/dev/README.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/115347a9c63bc7c18cf701338532a8622ac15592/docs%2Fdev%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/115347a9c63bc7c18cf701338532a8622ac15592/docs%2Fdev%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fdev%2FREADME.md?ref=115347a9c63bc7c18cf701338532a8622ac15592", "patch": "@@ -134,7 +134,7 @@ To log all communication between the server and the client, there are two choice\n \n * you can log on the server side, by running something like\n   ```\n-  env RUST_LOG=gen_lsp_server=trace code .\n+  env RA_LOG=gen_lsp_server=trace code .\n   ```\n \n * you can log on the client side, by enabling `\"rust-analyzer.trace.server\":"}, {"sha": "d750c7705b453872cfc15d4416f65e7095362ce1", "filename": "docs/user/readme.adoc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/115347a9c63bc7c18cf701338532a8622ac15592/docs%2Fuser%2Freadme.adoc", "raw_url": "https://github.com/rust-lang/rust/raw/115347a9c63bc7c18cf701338532a8622ac15592/docs%2Fuser%2Freadme.adoc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Freadme.adoc?ref=115347a9c63bc7c18cf701338532a8622ac15592", "patch": "@@ -108,7 +108,7 @@ Here are some useful self-diagnostic commands:\n \n * **Rust Analyzer: Show RA Version** shows the version of `rust-analyzer` binary\n * **Rust Analyzer: Status** prints some statistics about the server, like the few latest LSP requests\n-* To enable server-side logging, run with `env RUST_LOG=info` and see `Output > Rust Analyzer Language Server` in VS Code's panel.\n+* To enable server-side logging, run with `env RA_LOG=info` and see `Output > Rust Analyzer Language Server` in VS Code's panel.\n * To log all LSP requests, add `\"rust-analyzer.trace.server\": \"verbose\"` to the settings and look for `Server Trace` in the panel.\n * To enable client-side logging, add `\"rust-analyzer.trace.extension\": true` to the settings and open the `Console` tab of VS Code developer tools.\n "}]}