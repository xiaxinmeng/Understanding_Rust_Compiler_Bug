{"sha": "eda840a498d1cf796d3be386c8f985ec0d17e91f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVkYTg0MGE0OThkMWNmNzk2ZDNiZTM4NmM4Zjk4NWVjMGQxN2U5MWY=", "commit": {"author": {"name": "Vitaly Shukela", "email": "vi0oss@gmail.com", "date": "2020-06-25T15:59:46Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-06-25T15:59:46Z"}, "message": "Longer README about how to use this instead of `cargo run` (#1054)\n\n* Longer README about how to use this instead of `cargo run`\r\n\r\nResolves #1052.\r\n\r\nCo-authored-by: bjorn3 <bjorn3@users.noreply.github.com>", "tree": {"sha": "851afe8c2d33e96437dc9f36d7b0e973a9c9127a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/851afe8c2d33e96437dc9f36d7b0e973a9c9127a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eda840a498d1cf796d3be386c8f985ec0d17e91f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJe9MnyCRBK7hj4Ov3rIwAAdHIIACM0PPCOa6uUQLjAWZCfJva0\n6OJHL5JyOcPhYqP8pyGyxA4J+NSVa3ELg2NfRrepV9IJvgPCvjNn432Pn4oGeddj\nlzWnwkfAmRHLcMUW8UzLCFlnvZRI8Vqs15xDsUn0ihZQYSuh8xdOEdA9RIVdZKlk\nAdIvFBeV/HkpCtCnz4Va1mTZgbiSBHlqmjRbsiRn7P1kOE/2LpSeBix0qTybIsrb\n2W0QKAKCZP58yhStM/mySfM776/iuK96LFYdgE3vkvLFOLfbcLz5Xbd/MVkqCkY9\nRTBFbAWVpdvLh63pVV9Aoe2yTZjh0At19aeqpE3I3YgV14nK8UOS93tduRMMts8=\n=Jv25\n-----END PGP SIGNATURE-----\n", "payload": "tree 851afe8c2d33e96437dc9f36d7b0e973a9c9127a\nparent a3cd293148e0678074cbbec06e5d3e9159a14ea0\nauthor Vitaly Shukela <vi0oss@gmail.com> 1593100786 +0300\ncommitter GitHub <noreply@github.com> 1593100786 +0200\n\nLonger README about how to use this instead of `cargo run` (#1054)\n\n* Longer README about how to use this instead of `cargo run`\r\n\r\nResolves #1052.\r\n\r\nCo-authored-by: bjorn3 <bjorn3@users.noreply.github.com>"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eda840a498d1cf796d3be386c8f985ec0d17e91f", "html_url": "https://github.com/rust-lang/rust/commit/eda840a498d1cf796d3be386c8f985ec0d17e91f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eda840a498d1cf796d3be386c8f985ec0d17e91f/comments", "author": {"login": "vi", "id": 173219, "node_id": "MDQ6VXNlcjE3MzIxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/173219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vi", "html_url": "https://github.com/vi", "followers_url": "https://api.github.com/users/vi/followers", "following_url": "https://api.github.com/users/vi/following{/other_user}", "gists_url": "https://api.github.com/users/vi/gists{/gist_id}", "starred_url": "https://api.github.com/users/vi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vi/subscriptions", "organizations_url": "https://api.github.com/users/vi/orgs", "repos_url": "https://api.github.com/users/vi/repos", "events_url": "https://api.github.com/users/vi/events{/privacy}", "received_events_url": "https://api.github.com/users/vi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a3cd293148e0678074cbbec06e5d3e9159a14ea0", "url": "https://api.github.com/repos/rust-lang/rust/commits/a3cd293148e0678074cbbec06e5d3e9159a14ea0", "html_url": "https://github.com/rust-lang/rust/commit/a3cd293148e0678074cbbec06e5d3e9159a14ea0"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "23167f82bfeb3455afe32e4c0efef3759d8b4d52", "filename": "Readme.md", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/eda840a498d1cf796d3be386c8f985ec0d17e91f/Readme.md", "raw_url": "https://github.com/rust-lang/rust/raw/eda840a498d1cf796d3be386c8f985ec0d17e91f/Readme.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Readme.md?ref=eda840a498d1cf796d3be386c8f985ec0d17e91f", "patch": "@@ -13,14 +13,20 @@ $ ./test.sh --release\n \n ## Usage\n \n-`$cg_clif_dir` is the directory you cloned this repo into in the following instructions.\n+rustc_codegen_cranelift can be used as a near-drop-in replacement for `cargo build` or `cargo run` for existing projects.\n+\n+Assuming `$cg_clif_dir` is the directory you cloned this repo into and you followed the instructions (`prepare.sh` and `test.sh`).\n \n ### Cargo\n \n+In the directory with your project (where you can do the usual `cargo build`), run:\n+\n ```bash\n $ CHANNEL=\"release\" $cg_clif_dir/cargo.sh run\n ```\n \n+This should build and run your project with rustc_codegen_cranelift instead of the usual LLVM backend.\n+\n If you compiled cg_clif in debug mode (aka you didn't pass `--release` to `./test.sh`) you should use `CHANNEL=\"debug\"` instead or omit `CHANNEL=\"release\"` completely.\n \n ### Rustc"}]}