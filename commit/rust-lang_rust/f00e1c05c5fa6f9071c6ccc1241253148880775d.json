{"sha": "f00e1c05c5fa6f9071c6ccc1241253148880775d", "node_id": "C_kwDOAAsO6NoAKGYwMGUxYzA1YzVmYTZmOTA3MWM2Y2NjMTI0MTI1MzE0ODg4MDc3NWQ", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-12-04T12:37:19Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-12-04T12:37:19Z"}, "message": "Merge #10927\n\n10927: minor: bump the rest of the npm deps r=lnicola a=lnicola\n\nbors r+\n\nCo-authored-by: Lauren\u021biu Nicola <lnicola@dend.ro>", "tree": {"sha": "8f8eaf73c0b03d4a611db7a4beedbb4d97f74a5f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8f8eaf73c0b03d4a611db7a4beedbb4d97f74a5f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f00e1c05c5fa6f9071c6ccc1241253148880775d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhq2D/CRBK7hj4Ov3rIwAALgIIAI1T6iAX72MzntohT7EGs7pU\nPrBJONAolw6JSrWuCVwmpmd8ANei5gEQ025igEobIq/SPIEzXnO/sEM4Fv05guvb\nbRmd0Q1V6o0ToRzLU/anV6tDRqnLZmzuT3aFa2ZE+6x4SjPg3O2CXHuwi9ZnVEsh\n5ef1eDraxihsfyvfrtg7kW9adhO6SgvuZ6pnV7NZkDBED6WCFgy/YNuAWixAzKjs\nWniCPHfV295riGJow6iP17q6fnnlxiUbM8AhydsM0R1zL/iDjCrW7HxlgJxsYeYJ\nnVE4WOd27bpAF7/Ja9zhVzT7bosvRqqfGwSRbQBcpRT7jlltwwDWG8s6ZiCUbHs=\n=dKm1\n-----END PGP SIGNATURE-----\n", "payload": "tree 8f8eaf73c0b03d4a611db7a4beedbb4d97f74a5f\nparent 71cbc79b0e05d5cefb3648781abfaa90f87687ce\nparent 341e3773c34f2621c42a93bf3f848b43ca4b6494\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1638621439 +0000\ncommitter GitHub <noreply@github.com> 1638621439 +0000\n\nMerge #10927\n\n10927: minor: bump the rest of the npm deps r=lnicola a=lnicola\n\nbors r+\n\nCo-authored-by: Lauren\u021biu Nicola <lnicola@dend.ro>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f00e1c05c5fa6f9071c6ccc1241253148880775d", "html_url": "https://github.com/rust-lang/rust/commit/f00e1c05c5fa6f9071c6ccc1241253148880775d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f00e1c05c5fa6f9071c6ccc1241253148880775d/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "71cbc79b0e05d5cefb3648781abfaa90f87687ce", "url": "https://api.github.com/repos/rust-lang/rust/commits/71cbc79b0e05d5cefb3648781abfaa90f87687ce", "html_url": "https://github.com/rust-lang/rust/commit/71cbc79b0e05d5cefb3648781abfaa90f87687ce"}, {"sha": "341e3773c34f2621c42a93bf3f848b43ca4b6494", "url": "https://api.github.com/repos/rust-lang/rust/commits/341e3773c34f2621c42a93bf3f848b43ca4b6494", "html_url": "https://github.com/rust-lang/rust/commit/341e3773c34f2621c42a93bf3f848b43ca4b6494"}], "stats": {"total": 2196, "additions": 1728, "deletions": 468}, "files": [{"sha": "e260062167d19c3b615ff0e6cc5a7ea672f0c477", "filename": "editors/code/package-lock.json", "status": "modified", "additions": 1717, "deletions": 462, "changes": 2179, "blob_url": "https://github.com/rust-lang/rust/blob/f00e1c05c5fa6f9071c6ccc1241253148880775d/editors%2Fcode%2Fpackage-lock.json", "raw_url": "https://github.com/rust-lang/rust/raw/f00e1c05c5fa6f9071c6ccc1241253148880775d/editors%2Fcode%2Fpackage-lock.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage-lock.json?ref=f00e1c05c5fa6f9071c6ccc1241253148880775d"}, {"sha": "13b0867c251489782bce4083a8d1818a9bef38ea", "filename": "editors/code/package.json", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f00e1c05c5fa6f9071c6ccc1241253148880775d/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/f00e1c05c5fa6f9071c6ccc1241253148880775d/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=f00e1c05c5fa6f9071c6ccc1241253148880775d", "patch": "@@ -37,24 +37,23 @@\n     },\n     \"dependencies\": {\n         \"https-proxy-agent\": \"^5.0.0\",\n-        \"node-fetch\": \"^2.6.1\",\n+        \"node-fetch\": \"^3.0.3\",\n         \"vscode-languageclient\": \"8.0.0-next.2\",\n         \"d3\": \"^7.1.0\",\n         \"d3-graphviz\": \"^4.0.0\"\n     },\n     \"devDependencies\": {\n         \"@types/node\": \"~14.17.5\",\n-        \"@types/node-fetch\": \"^2.5.11\",\n         \"@types/vscode\": \"^1.61.0\",\n         \"@typescript-eslint/eslint-plugin\": \"^5.5.0\",\n         \"@typescript-eslint/parser\": \"^5.5.0\",\n         \"@vscode/test-electron\": \"^1.6.2\",\n-        \"esbuild\": \"^0.12.29\",\n+        \"esbuild\": \"^0.14.1\",\n         \"eslint\": \"^8.3.0\",\n         \"tslib\": \"^2.3.0\",\n         \"typescript\": \"^4.5.2\",\n         \"typescript-formatter\": \"^7.2.2\",\n-        \"vsce\": \"^1.95.1\"\n+        \"vsce\": \"^2.5.1\"\n     },\n     \"activationEvents\": [\n         \"onLanguage:rust\","}, {"sha": "c295716addc797728a1a7b8c5adadf54d1dddc7c", "filename": "editors/code/src/net.ts", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f00e1c05c5fa6f9071c6ccc1241253148880775d/editors%2Fcode%2Fsrc%2Fnet.ts", "raw_url": "https://github.com/rust-lang/rust/raw/f00e1c05c5fa6f9071c6ccc1241253148880775d/editors%2Fcode%2Fsrc%2Fnet.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fnet.ts?ref=f00e1c05c5fa6f9071c6ccc1241253148880775d", "patch": "@@ -73,8 +73,8 @@ export async function fetchRelease(\n         );\n     }\n \n-    // We skip runtime type checks for simplicity (here we cast from `any` to `GithubRelease`)\n-    const release: GithubRelease = await response.json();\n+    // We skip runtime type checks for simplicity (here we cast from `unknown` to `GithubRelease`)\n+    const release = await response.json() as GithubRelease;\n     return release;\n }\n \n@@ -205,6 +205,12 @@ async function downloadFile(\n         throw new Error(`Got response ${res.status} when trying to download a file.`);\n     }\n \n+    if (!res.body) {\n+        log.error(\"Empty body while downloading file from\", urlString);\n+        log.error({ headers: res.headers });\n+        throw new Error(`Got empty body when trying to download a file.`);\n+    }\n+\n     const totalBytes = Number(res.headers.get('content-length'));\n     assert(!Number.isNaN(totalBytes), \"Sanity check of content-length protocol\");\n "}]}