{"sha": "ae9c09d3602fff3c98dbb4488147059f1024ff69", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFlOWMwOWQzNjAyZmZmM2M5OGRiYjQ0ODgxNDcwNTlmMTAyNGZmNjk=", "commit": {"author": {"name": "hank-der-hafenarbeiter", "email": "kevinkielholz@web.de", "date": "2016-08-08T23:39:23Z"}, "committer": {"name": "hank-der-hafenarbeiter", "email": "kevinkielholz@web.de", "date": "2016-08-08T23:39:23Z"}, "message": "Updated error for E0045 (no bonus)", "tree": {"sha": "3208d58d169b19b2ec28c51ddbc3fddd5fe50c53", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3208d58d169b19b2ec28c51ddbc3fddd5fe50c53"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ae9c09d3602fff3c98dbb4488147059f1024ff69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ae9c09d3602fff3c98dbb4488147059f1024ff69", "html_url": "https://github.com/rust-lang/rust/commit/ae9c09d3602fff3c98dbb4488147059f1024ff69", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ae9c09d3602fff3c98dbb4488147059f1024ff69/comments", "author": {"login": "hank-der-hafenarbeiter", "id": 3400693, "node_id": "MDQ6VXNlcjM0MDA2OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/3400693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hank-der-hafenarbeiter", "html_url": "https://github.com/hank-der-hafenarbeiter", "followers_url": "https://api.github.com/users/hank-der-hafenarbeiter/followers", "following_url": "https://api.github.com/users/hank-der-hafenarbeiter/following{/other_user}", "gists_url": "https://api.github.com/users/hank-der-hafenarbeiter/gists{/gist_id}", "starred_url": "https://api.github.com/users/hank-der-hafenarbeiter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hank-der-hafenarbeiter/subscriptions", "organizations_url": "https://api.github.com/users/hank-der-hafenarbeiter/orgs", "repos_url": "https://api.github.com/users/hank-der-hafenarbeiter/repos", "events_url": "https://api.github.com/users/hank-der-hafenarbeiter/events{/privacy}", "received_events_url": "https://api.github.com/users/hank-der-hafenarbeiter/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hank-der-hafenarbeiter", "id": 3400693, "node_id": "MDQ6VXNlcjM0MDA2OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/3400693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hank-der-hafenarbeiter", "html_url": "https://github.com/hank-der-hafenarbeiter", "followers_url": "https://api.github.com/users/hank-der-hafenarbeiter/followers", "following_url": "https://api.github.com/users/hank-der-hafenarbeiter/following{/other_user}", "gists_url": "https://api.github.com/users/hank-der-hafenarbeiter/gists{/gist_id}", "starred_url": "https://api.github.com/users/hank-der-hafenarbeiter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hank-der-hafenarbeiter/subscriptions", "organizations_url": "https://api.github.com/users/hank-der-hafenarbeiter/orgs", "repos_url": "https://api.github.com/users/hank-der-hafenarbeiter/repos", "events_url": "https://api.github.com/users/hank-der-hafenarbeiter/events{/privacy}", "received_events_url": "https://api.github.com/users/hank-der-hafenarbeiter/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b42a384a8078d79b299f2029b6c183b5e9288062", "url": "https://api.github.com/repos/rust-lang/rust/commits/b42a384a8078d79b299f2029b6c183b5e9288062", "html_url": "https://github.com/rust-lang/rust/commit/b42a384a8078d79b299f2029b6c183b5e9288062"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "37de3b1f60965775ccf43475236d0103d437b48b", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ae9c09d3602fff3c98dbb4488147059f1024ff69/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ae9c09d3602fff3c98dbb4488147059f1024ff69/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=ae9c09d3602fff3c98dbb4488147059f1024ff69", "patch": "@@ -181,8 +181,10 @@ fn require_c_abi_if_variadic(tcx: TyCtxt,\n                              abi: Abi,\n                              span: Span) {\n     if decl.variadic && abi != Abi::C {\n-        span_err!(tcx.sess, span, E0045,\n+        let mut err = struct_span_err!(tcx.sess, span, E0045,\n                   \"variadic function must have C calling convention\");\n+        err.span_label(span, &(\"variadics require C calling conventions\").to_string())\n+            .emit();\n     }\n }\n "}]}