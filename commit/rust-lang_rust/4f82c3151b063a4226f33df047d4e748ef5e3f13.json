{"sha": "4f82c3151b063a4226f33df047d4e748ef5e3f13", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRmODJjMzE1MWIwNjNhNDIyNmYzM2RmMDQ3ZDRlNzQ4ZWY1ZTNmMTM=", "commit": {"author": {"name": "Lee Jeffery", "email": "leejeffery@gmail.com", "date": "2015-05-13T21:06:26Z"}, "committer": {"name": "Lee Jeffery", "email": "leejeffery@gmail.com", "date": "2015-05-13T21:06:26Z"}, "message": "Added test to check that newlines are stripped from comments", "tree": {"sha": "c2e7299cb8efe1e80d612d4278801a6b252925e0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c2e7299cb8efe1e80d612d4278801a6b252925e0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4f82c3151b063a4226f33df047d4e748ef5e3f13", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4f82c3151b063a4226f33df047d4e748ef5e3f13", "html_url": "https://github.com/rust-lang/rust/commit/4f82c3151b063a4226f33df047d4e748ef5e3f13", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4f82c3151b063a4226f33df047d4e748ef5e3f13/comments", "author": null, "committer": null, "parents": [{"sha": "aef0581513f3fd01068cb423d9c62cb48b3f077a", "url": "https://api.github.com/repos/rust-lang/rust/commits/aef0581513f3fd01068cb423d9c62cb48b3f077a", "html_url": "https://github.com/rust-lang/rust/commit/aef0581513f3fd01068cb423d9c62cb48b3f077a"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "184f503bbc2386e248c6ac1303d67804cc7f62ac", "filename": "src/libsyntax/parse/lexer/mod.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/4f82c3151b063a4226f33df047d4e748ef5e3f13/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4f82c3151b063a4226f33df047d4e748ef5e3f13/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs?ref=4f82c3151b063a4226f33df047d4e748ef5e3f13", "patch": "@@ -1565,4 +1565,13 @@ mod tests {\n         assert_eq!(lexer.next_token().tok, token::Literal(token::Char(token::intern(\"a\")), None));\n     }\n \n+    #[test] fn crlf_comments() {\n+        let sh = mk_sh();\n+        let mut lexer = setup(&sh, \"// test\\r\\n/// test\\r\\n\".to_string());\n+        let comment = lexer.next_token();\n+        assert_eq!(comment.tok, token::Comment);\n+        assert_eq!(comment.sp, ::codemap::mk_sp(BytePos(0), BytePos(7)));\n+        assert_eq!(lexer.next_token().tok, token::Whitespace);\n+        assert_eq!(lexer.next_token().tok, token::DocComment(token::intern(\"/// test\")));\n+    }\n }"}]}