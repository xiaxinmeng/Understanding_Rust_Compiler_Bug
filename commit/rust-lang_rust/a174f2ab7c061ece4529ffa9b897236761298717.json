{"sha": "a174f2ab7c061ece4529ffa9b897236761298717", "node_id": "MDY6Q29tbWl0NzI0NzEyOmExNzRmMmFiN2MwNjFlY2U0NTI5ZmZhOWI4OTcyMzY3NjEyOTg3MTc=", "commit": {"author": {"name": "Jorge Aparicio", "email": "jorge@japaric.io", "date": "2018-05-29T10:33:11Z"}, "committer": {"name": "Jorge Aparicio", "email": "jorge@japaric.io", "date": "2018-06-03T11:46:20Z"}, "message": "add more tests", "tree": {"sha": "75d28b29612786bf429fc78cfe861c1783cc64b1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/75d28b29612786bf429fc78cfe861c1783cc64b1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a174f2ab7c061ece4529ffa9b897236761298717", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a174f2ab7c061ece4529ffa9b897236761298717", "html_url": "https://github.com/rust-lang/rust/commit/a174f2ab7c061ece4529ffa9b897236761298717", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a174f2ab7c061ece4529ffa9b897236761298717/comments", "author": {"login": "japaric", "id": 5018213, "node_id": "MDQ6VXNlcjUwMTgyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japaric", "html_url": "https://github.com/japaric", "followers_url": "https://api.github.com/users/japaric/followers", "following_url": "https://api.github.com/users/japaric/following{/other_user}", "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}", "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japaric/subscriptions", "organizations_url": "https://api.github.com/users/japaric/orgs", "repos_url": "https://api.github.com/users/japaric/repos", "events_url": "https://api.github.com/users/japaric/events{/privacy}", "received_events_url": "https://api.github.com/users/japaric/received_events", "type": "User", "site_admin": false}, "committer": {"login": "japaric", "id": 5018213, "node_id": "MDQ6VXNlcjUwMTgyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japaric", "html_url": "https://github.com/japaric", "followers_url": "https://api.github.com/users/japaric/followers", "following_url": "https://api.github.com/users/japaric/following{/other_user}", "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}", "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japaric/subscriptions", "organizations_url": "https://api.github.com/users/japaric/orgs", "repos_url": "https://api.github.com/users/japaric/repos", "events_url": "https://api.github.com/users/japaric/events{/privacy}", "received_events_url": "https://api.github.com/users/japaric/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "da2ee5dcb29b3675cb342c9bc240a22eea9cc2b7", "url": "https://api.github.com/repos/rust-lang/rust/commits/da2ee5dcb29b3675cb342c9bc240a22eea9cc2b7", "html_url": "https://github.com/rust-lang/rust/commit/da2ee5dcb29b3675cb342c9bc240a22eea9cc2b7"}], "stats": {"total": 115, "additions": 115, "deletions": 0}, "files": [{"sha": "db16ac325ac595c8d93335623d8e90c67a3859b8", "filename": "src/test/compile-fail/auxiliary/some-panic-impl.rs", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Fcompile-fail%2Fauxiliary%2Fsome-panic-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Fcompile-fail%2Fauxiliary%2Fsome-panic-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fauxiliary%2Fsome-panic-impl.rs?ref=a174f2ab7c061ece4529ffa9b897236761298717", "patch": "@@ -0,0 +1,22 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// no-prefer-dynamic\n+\n+#![crate_type = \"rlib\"]\n+#![feature(panic_implementation)]\n+#![no_std]\n+\n+use core::panic::PanicInfo;\n+\n+#[panic_implementation]\n+fn panic(info: &PanicInfo) -> ! {\n+    loop {}\n+}"}, {"sha": "f25cd3605c1dd00450651b1a9d06cf1cfaeee375", "filename": "src/test/compile-fail/panic-implementation-std.rs", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Fcompile-fail%2Fpanic-implementation-std.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Fcompile-fail%2Fpanic-implementation-std.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fpanic-implementation-std.rs?ref=a174f2ab7c061ece4529ffa9b897236761298717", "patch": "@@ -0,0 +1,22 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// error-pattern: duplicate lang item found: `panic_impl`.\n+\n+#![feature(panic_implementation)]\n+\n+use std::panic::PanicInfo;\n+\n+#[panic_implementation]\n+fn panic(info: PanicInfo) -> ! {\n+    loop {}\n+}\n+\n+fn main() {}"}, {"sha": "78dc545c036f889b27420d8c4caf8c35ebcaff41", "filename": "src/test/compile-fail/panic-implementation-twice.rs", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Fcompile-fail%2Fpanic-implementation-twice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Fcompile-fail%2Fpanic-implementation-twice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fpanic-implementation-twice.rs?ref=a174f2ab7c061ece4529ffa9b897236761298717", "patch": "@@ -0,0 +1,29 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// aux-build:some-panic-impl.rs\n+\n+#![feature(panic_implementation)]\n+#![feature(lang_items)]\n+#![no_std]\n+#![no_main]\n+\n+extern crate some_panic_impl;\n+\n+use core::panic::PanicInfo;\n+\n+#[panic_implementation]\n+fn panic(info: &PanicInfo) -> ! {\n+    //~^ error duplicate lang item found: `panic_impl`\n+    loop {}\n+}\n+\n+#[lang = \"eh_personality\"]\n+fn eh() {}"}, {"sha": "1714578b2ba288d1f1198c8ee472ff8ca923a342", "filename": "src/test/run-make/panic-impl-transitive/Makefile", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Frun-make%2Fpanic-impl-transitive%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Frun-make%2Fpanic-impl-transitive%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fpanic-impl-transitive%2FMakefile?ref=a174f2ab7c061ece4529ffa9b897236761298717", "patch": "@@ -0,0 +1,7 @@\n+-include ../../run-make-fulldeps/tools.mk\n+\n+# NOTE we use --emit=llvm-ir to avoid running the linker (linking will fail because there's no main\n+# in this crate)\n+all:\n+\t$(RUSTC) panic-impl-provider.rs\n+\t$(RUSTC) panic-impl-consumer.rs -C panic=abort --emit=llvm-ir -L $(TMPDIR)"}, {"sha": "592fab8be85ece9c8b9a59a59c8692cbe5f3585b", "filename": "src/test/run-make/panic-impl-transitive/panic-impl-consumer.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Frun-make%2Fpanic-impl-transitive%2Fpanic-impl-consumer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Frun-make%2Fpanic-impl-transitive%2Fpanic-impl-consumer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fpanic-impl-transitive%2Fpanic-impl-consumer.rs?ref=a174f2ab7c061ece4529ffa9b897236761298717", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![no_std]\n+#![no_main]\n+\n+// this crate provides the `panic_impl` lang item so we don't need to define it here\n+extern crate panic_impl_provider;"}, {"sha": "46cdf2e2fa55e5397fb4d60ccdc436acebbbec8d", "filename": "src/test/run-make/panic-impl-transitive/panic-impl-provider.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Frun-make%2Fpanic-impl-transitive%2Fpanic-impl-provider.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a174f2ab7c061ece4529ffa9b897236761298717/src%2Ftest%2Frun-make%2Fpanic-impl-transitive%2Fpanic-impl-provider.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fpanic-impl-transitive%2Fpanic-impl-provider.rs?ref=a174f2ab7c061ece4529ffa9b897236761298717", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![crate_type = \"rlib\"]\n+#![feature(panic_implementation)]\n+#![no_std]\n+\n+use core::panic::PanicInfo;\n+\n+#[panic_implementation]\n+fn panic(info: &PanicInfo) -> ! {\n+    loop {}\n+}"}]}