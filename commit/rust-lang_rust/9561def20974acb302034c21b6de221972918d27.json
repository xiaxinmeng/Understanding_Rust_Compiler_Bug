{"sha": "9561def20974acb302034c21b6de221972918d27", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk1NjFkZWYyMDk3NGFjYjMwMjAzNGMyMWI2ZGUyMjE5NzI5MThkMjc=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-06-28T15:53:00Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-06-28T16:00:39Z"}, "message": "Use 'resource' rather than 'res' as a keyword\n\nResources are now defined like...\n\n    resource fd(int n) { close(n); }\n\nCalling fd with an int will then produce a non-copyable value\nthat, when dropped, will call close on the given int.", "tree": {"sha": "cc9bb14a35c98f08af14983467ff03a6f91d4dbf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cc9bb14a35c98f08af14983467ff03a6f91d4dbf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9561def20974acb302034c21b6de221972918d27", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9561def20974acb302034c21b6de221972918d27", "html_url": "https://github.com/rust-lang/rust/commit/9561def20974acb302034c21b6de221972918d27", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9561def20974acb302034c21b6de221972918d27/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fb14afd5eb8ab19f08e37e295fb207f0a1bb8e23", "url": "https://api.github.com/repos/rust-lang/rust/commits/fb14afd5eb8ab19f08e37e295fb207f0a1bb8e23", "html_url": "https://github.com/rust-lang/rust/commit/fb14afd5eb8ab19f08e37e295fb207f0a1bb8e23"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "35db8495de02c0b924e6f4db1fd917bbc06fd216", "filename": "src/comp/front/parser.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9561def20974acb302034c21b6de221972918d27/src%2Fcomp%2Ffront%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9561def20974acb302034c21b6de221972918d27/src%2Fcomp%2Ffront%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Fparser.rs?ref=9561def20974acb302034c21b6de221972918d27", "patch": "@@ -139,7 +139,7 @@ fn bad_expr_word_table() -> hashmap[str, ()] {\n     words.insert(\"be\", ());\n     words.insert(\"fail\", ());\n     words.insert(\"type\", ());\n-    words.insert(\"res\", ());\n+    words.insert(\"resource\", ());\n     words.insert(\"check\", ());\n     words.insert(\"assert\", ());\n     words.insert(\"claim\", ());\n@@ -2045,7 +2045,7 @@ fn parse_item(&parser p, vec[ast::attribute] attrs) -> parsed_item {\n         ret got_item(parse_item_tag(p, attrs));\n     } else if (eat_word(p, \"obj\")) {\n         ret got_item(parse_item_obj(p, lyr, attrs));\n-    } else if (eat_word(p, \"res\")) {\n+    } else if (eat_word(p, \"resource\")) {\n         ret got_item(parse_item_res(p, lyr, attrs));\n     } else { ret no_item; }\n }"}, {"sha": "c22a154bae6361c33b58ad73487b2c49088b7b8f", "filename": "src/test/compile-fail/copy-a-resource.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9561def20974acb302034c21b6de221972918d27/src%2Ftest%2Fcompile-fail%2Fcopy-a-resource.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9561def20974acb302034c21b6de221972918d27/src%2Ftest%2Fcompile-fail%2Fcopy-a-resource.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcopy-a-resource.rs?ref=9561def20974acb302034c21b6de221972918d27", "patch": "@@ -1,6 +1,6 @@\n // error-pattern:Copying a non-copyable type\n \n-res foo(int i) {}\n+resource foo(int i) {}\n \n fn main() {\n     auto x <- foo(10);"}, {"sha": "52868f431a40cf681d056ed08d038c3d647f64d0", "filename": "src/test/run-pass/expr-alt-box.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/9561def20974acb302034c21b6de221972918d27/src%2Ftest%2Frun-pass%2Fexpr-alt-box.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9561def20974acb302034c21b6de221972918d27/src%2Ftest%2Frun-pass%2Fexpr-alt-box.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fexpr-alt-box.rs?ref=9561def20974acb302034c21b6de221972918d27", "patch": "@@ -5,13 +5,13 @@\n \n // Tests for alt as expressions resulting in boxed types\n fn test_box() {\n-    auto rs = alt (true) { case (true) { @100 } };\n-    assert (*rs == 100);\n+    auto res = alt (true) { case (true) { @100 } };\n+    assert (*res == 100);\n }\n \n fn test_str() {\n-    auto rs = alt (true) { case (true) { \"happy\" } };\n-    assert (rs == \"happy\");\n+    auto res = alt (true) { case (true) { \"happy\" } };\n+    assert (res == \"happy\");\n }\n \n fn main() { test_box(); test_str(); }\n\\ No newline at end of file"}, {"sha": "3732a802b5bf409e54806b249470b545601b21de", "filename": "src/test/run-pass/resource-destruct.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9561def20974acb302034c21b6de221972918d27/src%2Ftest%2Frun-pass%2Fresource-destruct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9561def20974acb302034c21b6de221972918d27/src%2Ftest%2Frun-pass%2Fresource-destruct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fresource-destruct.rs?ref=9561def20974acb302034c21b6de221972918d27", "patch": "@@ -1,4 +1,4 @@\n-res shrinky_pointer(@mutable int i) {\n+resource shrinky_pointer(@mutable int i) {\n     *i -= 1;\n }\n "}]}