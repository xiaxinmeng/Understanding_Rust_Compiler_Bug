{"sha": "ea65ab6c7e96bf38c291ed7192137e6b96772687", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVhNjVhYjZjN2U5NmJmMzhjMjkxZWQ3MTkyMTM3ZTZiOTY3NzI2ODc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2016-09-27T14:30:34Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-09-27T14:30:34Z"}, "message": "Auto merge of #36761 - jonathandturner:E0425_E0446_E0449, r=nrc\n\nUpdate E0425, E0446, E0449\n\nThis addresses https://github.com/rust-lang/rust/issues/35343, https://github.com/rust-lang/rust/issues/35923, and https://github.com/rust-lang/rust/issues/35924.  Part of https://github.com/rust-lang/rust/issues/35233\n\nSpecifically, this adds labels to these error messages following the suggestions in the attached bugs.\n\nr? @nrc", "tree": {"sha": "44d9d4bee967c7ba3bb0f13e270af8b39df2bb6b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/44d9d4bee967c7ba3bb0f13e270af8b39df2bb6b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ea65ab6c7e96bf38c291ed7192137e6b96772687", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ea65ab6c7e96bf38c291ed7192137e6b96772687", "html_url": "https://github.com/rust-lang/rust/commit/ea65ab6c7e96bf38c291ed7192137e6b96772687", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ea65ab6c7e96bf38c291ed7192137e6b96772687/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8467e8d24a48027d3d328c6135c0a55cfc9a4cf9", "url": "https://api.github.com/repos/rust-lang/rust/commits/8467e8d24a48027d3d328c6135c0a55cfc9a4cf9", "html_url": "https://github.com/rust-lang/rust/commit/8467e8d24a48027d3d328c6135c0a55cfc9a4cf9"}, {"sha": "c0f29fdd58666df69352c66ecbc3be68b500da27", "url": "https://api.github.com/repos/rust-lang/rust/commits/c0f29fdd58666df69352c66ecbc3be68b500da27", "html_url": "https://github.com/rust-lang/rust/commit/c0f29fdd58666df69352c66ecbc3be68b500da27"}], "stats": {"total": 142, "additions": 107, "deletions": 35}, "files": [{"sha": "5096a574e2ba59419b06b6b14c86b9bc6119e1c9", "filename": "src/librustc_passes/ast_validation.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Flibrustc_passes%2Fast_validation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Flibrustc_passes%2Fast_validation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_passes%2Fast_validation.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -53,8 +53,11 @@ impl<'a> AstValidator<'a> {\n                                            span,\n                                            E0449,\n                                            \"unnecessary visibility qualifier\");\n+            if vis == &Visibility::Public {\n+                err.span_label(span, &format!(\"`pub` not needed here\"));\n+            }\n             if let Some(note) = note {\n-                err.span_note(span, note);\n+                err.note(note);\n             }\n             err.emit();\n         }"}, {"sha": "43cdf2942d23068a280f18f255d03e6d3150d676", "filename": "src/librustc_privacy/lib.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Flibrustc_privacy%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Flibrustc_privacy%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_privacy%2Flib.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -972,8 +972,10 @@ impl<'a, 'tcx: 'a, 'v> Visitor<'v> for SearchInterfaceForPrivateItemsVisitor<'a,\n                         if !vis.is_at_least(self.required_visibility, &self.tcx.map) {\n                             if self.tcx.sess.features.borrow().pub_restricted ||\n                                self.old_error_set.contains(&ty.id) {\n-                                span_err!(self.tcx.sess, ty.span, E0446,\n+                                let mut err = struct_span_err!(self.tcx.sess, ty.span, E0446,\n                                           \"private type in public interface\");\n+                                err.span_label(ty.span, &format!(\"can't leak private type\"));\n+                                err.emit();\n                             } else {\n                                 self.tcx.sess.add_lint(lint::builtin::PRIVATE_IN_PUBLIC,\n                                                        node_id,"}, {"sha": "38b31db6781431723bd95589e7760d5bf89b37c3", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -366,9 +366,14 @@ fn resolve_struct_error<'b, 'a: 'b, 'c>(resolver: &'b Resolver<'a>,\n             let mut err = struct_span_err!(resolver.session,\n                                            span,\n                                            E0425,\n-                                           \"unresolved name `{}`{}\",\n-                                           path,\n-                                           msg);\n+                                           \"unresolved name `{}`\",\n+                                           path);\n+            if msg != \"\" {\n+                err.span_label(span, &msg);\n+            } else {\n+                err.span_label(span, &format!(\"unresolved name\"));\n+            }\n+\n             match context {\n                 UnresolvedNameContext::Other => {\n                     if msg.is_empty() && is_static_method && is_field {\n@@ -2941,7 +2946,7 @@ impl<'a> Resolver<'a> {\n                                 let mut context =  UnresolvedNameContext::Other;\n                                 let mut def = Def::Err;\n                                 if !msg.is_empty() {\n-                                    msg = format!(\". Did you mean {}?\", msg);\n+                                    msg = format!(\"did you mean {}?\", msg);\n                                 } else {\n                                     // we display a help message if this is a module\n                                     let name_path = path.segments.iter()"}, {"sha": "44f73e10e25d3d93c39c93593cefa774231b3cd9", "filename": "src/test/compile-fail/E0033.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2FE0033.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2FE0033.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0033.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -15,6 +15,7 @@ trait SomeTrait {\n fn main() {\n     let trait_obj: &SomeTrait = SomeTrait;\n     //~^ ERROR E0425\n+    //~| NOTE unresolved name\n     //~| ERROR E0038\n     //~| method `foo` has no receiver\n     //~| NOTE the trait `SomeTrait` cannot be made into an object"}, {"sha": "493a2722617762163b66b032dd0f84779d28c39b", "filename": "src/test/compile-fail/E0446.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2FE0446.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2FE0446.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0446.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -12,6 +12,7 @@ mod Foo {\n     struct Bar(u32);\n \n     pub fn bar() -> Bar { //~ ERROR E0446\n+                          //~| NOTE can't leak private type\n         Bar(0)\n     }\n }"}, {"sha": "0b3fdb9e6abe69ba77e1109f5b94cdb4e870cd90", "filename": "src/test/compile-fail/E0449.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2FE0449.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2FE0449.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0449.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -15,9 +15,13 @@ trait Foo {\n }\n \n pub impl Bar {} //~ ERROR E0449\n+                //~| NOTE `pub` not needed here\n+                //~| NOTE place qualifiers on individual impl items instead\n \n pub impl Foo for Bar { //~ ERROR E0449\n+                       //~| NOTE `pub` not needed here\n     pub fn foo() {} //~ ERROR E0449\n+                    //~| NOTE `pub` not needed here\n }\n \n fn main() {"}, {"sha": "c18a318347745600c237235760541766f8d37454", "filename": "src/test/compile-fail/bad-expr-path.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Fbad-expr-path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Fbad-expr-path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fbad-expr-path.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: unresolved name `m1::arguments`. Did you mean `arguments`?\n+// error-pattern: unresolved name `m1::arguments`\n \n mod m1 {}\n "}, {"sha": "e1c1afb0049d74d76286a70842848124448f4ddb", "filename": "src/test/compile-fail/bad-expr-path2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Fbad-expr-path2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Fbad-expr-path2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fbad-expr-path2.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: unresolved name `m1::arguments`. Did you mean `arguments`?\n+// error-pattern: unresolved name `m1::arguments`\n \n mod m1 {\n     pub mod arguments {}"}, {"sha": "c7bd343bc9a33aef72a3c784702b892bfb98472b", "filename": "src/test/compile-fail/issue-14254.rs", "status": "modified", "additions": 43, "deletions": 19, "changes": 62, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Fissue-14254.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Fissue-14254.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-14254.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -27,87 +27,111 @@ impl BarTy {\n impl Foo for *const BarTy {\n     fn bar(&self) {\n         baz();\n-        //~^ ERROR: unresolved name `baz`. Did you mean to call `self.baz`?\n+        //~^ ERROR: unresolved name `baz`\n+        //~| NOTE did you mean to call `self.baz`?\n         a;\n         //~^ ERROR: unresolved name `a`\n+        //~| NOTE unresolved name\n     }\n }\n \n impl<'a> Foo for &'a BarTy {\n     fn bar(&self) {\n         baz();\n-        //~^ ERROR: unresolved name `baz`. Did you mean to call `self.baz`?\n+        //~^ ERROR: unresolved name `baz`\n+        //~| NOTE did you mean to call `self.baz`?\n         x;\n-        //~^ ERROR: unresolved name `x`. Did you mean `self.x`?\n+        //~^ ERROR: unresolved name `x`\n+        //~| NOTE did you mean `self.x`?\n         y;\n-        //~^ ERROR: unresolved name `y`. Did you mean `self.y`?\n+        //~^ ERROR: unresolved name `y`\n+        //~| NOTE did you mean `self.y`?\n         a;\n         //~^ ERROR: unresolved name `a`\n+        //~| NOTE unresolved name\n         bah;\n-        //~^ ERROR: unresolved name `bah`. Did you mean to call `Foo::bah`?\n+        //~^ ERROR: unresolved name `bah`\n+        //~| NOTE did you mean to call `Foo::bah`?\n         b;\n         //~^ ERROR: unresolved name `b`\n+        //~| NOTE unresolved name\n     }\n }\n \n impl<'a> Foo for &'a mut BarTy {\n     fn bar(&self) {\n         baz();\n-        //~^ ERROR: unresolved name `baz`. Did you mean to call `self.baz`?\n+        //~^ ERROR: unresolved name `baz`\n+        //~| NOTE did you mean to call `self.baz`?\n         x;\n-        //~^ ERROR: unresolved name `x`. Did you mean `self.x`?\n+        //~^ ERROR: unresolved name `x`\n+        //~| NOTE did you mean `self.x`?\n         y;\n-        //~^ ERROR: unresolved name `y`. Did you mean `self.y`?\n+        //~^ ERROR: unresolved name `y`\n+        //~| NOTE did you mean `self.y`?\n         a;\n         //~^ ERROR: unresolved name `a`\n+        //~| NOTE unresolved name\n         bah;\n-        //~^ ERROR: unresolved name `bah`. Did you mean to call `Foo::bah`?\n+        //~^ ERROR: unresolved name `bah`\n+        //~| NOTE did you mean to call `Foo::bah`?\n         b;\n         //~^ ERROR: unresolved name `b`\n+        //~| NOTE unresolved name\n     }\n }\n \n impl Foo for Box<BarTy> {\n     fn bar(&self) {\n         baz();\n-        //~^ ERROR: unresolved name `baz`. Did you mean to call `self.baz`?\n+        //~^ ERROR: unresolved name `baz`\n+        //~| NOTE did you mean to call `self.baz`?\n         bah;\n-        //~^ ERROR: unresolved name `bah`. Did you mean to call `Foo::bah`?\n+        //~^ ERROR: unresolved name `bah`\n+        //~| NOTE did you mean to call `Foo::bah`?\n     }\n }\n \n impl Foo for *const isize {\n     fn bar(&self) {\n         baz();\n-        //~^ ERROR: unresolved name `baz`. Did you mean to call `self.baz`?\n+        //~^ ERROR: unresolved name `baz`\n+        //~| NOTE did you mean to call `self.baz`?\n         bah;\n-        //~^ ERROR: unresolved name `bah`. Did you mean to call `Foo::bah`?\n+        //~^ ERROR: unresolved name `bah`\n+        //~| NOTE did you mean to call `Foo::bah`?\n     }\n }\n \n impl<'a> Foo for &'a isize {\n     fn bar(&self) {\n         baz();\n-        //~^ ERROR: unresolved name `baz`. Did you mean to call `self.baz`?\n+        //~^ ERROR: unresolved name `baz`\n+        //~| NOTE did you mean to call `self.baz`?\n         bah;\n-        //~^ ERROR: unresolved name `bah`. Did you mean to call `Foo::bah`?\n+        //~^ ERROR: unresolved name `bah`\n+        //~| NOTE did you mean to call `Foo::bah`?\n     }\n }\n \n impl<'a> Foo for &'a mut isize {\n     fn bar(&self) {\n         baz();\n-        //~^ ERROR: unresolved name `baz`. Did you mean to call `self.baz`?\n+        //~^ ERROR: unresolved name `baz`\n+        //~| NOTE did you mean to call `self.baz`?\n         bah;\n-        //~^ ERROR: unresolved name `bah`. Did you mean to call `Foo::bah`?\n+        //~^ ERROR: unresolved name `bah`\n+        //~| NOTE did you mean to call `Foo::bah`?\n     }\n }\n \n impl Foo for Box<isize> {\n     fn bar(&self) {\n         baz();\n-        //~^ ERROR: unresolved name `baz`. Did you mean to call `self.baz`?\n+        //~^ ERROR: unresolved name `baz`\n+        //~| NOTE did you mean to call `self.baz`?\n         bah;\n-        //~^ ERROR: unresolved name `bah`. Did you mean to call `Foo::bah`?\n+        //~^ ERROR: unresolved name `bah`\n+        //~| NOTE did you mean to call `Foo::bah`?\n     }\n }"}, {"sha": "d7635d7bc9473fc1b482e2d9b2c418cfba30eb73", "filename": "src/test/compile-fail/issue-2356.rs", "status": "modified", "additions": 16, "deletions": 2, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Fissue-2356.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Fissue-2356.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-2356.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -26,18 +26,22 @@ impl MaybeDog {\n     // If this provides a suggestion, it's a bug as MaybeDog doesn't impl Groom\n     shave();\n     //~^ ERROR: unresolved name `shave`\n+    //~| NOTE unresolved name\n   }\n }\n \n impl Groom for cat {\n   fn shave(other: usize) {\n     whiskers -= other;\n     //~^ ERROR: unresolved name `whiskers`\n+    //~| NOTE unresolved name\n     //~| HELP this is an associated function\n     shave(4);\n-    //~^ ERROR: unresolved name `shave`. Did you mean to call `Groom::shave`?\n+    //~^ ERROR: unresolved name `shave`\n+    //~| NOTE did you mean to call `Groom::shave`?\n     purr();\n     //~^ ERROR: unresolved name `purr`\n+    //~| NOTE unresolved name\n   }\n }\n \n@@ -47,12 +51,16 @@ impl cat {\n     fn purr_louder() {\n         static_method();\n         //~^ ERROR: unresolved name `static_method`\n+        //~| NOTE unresolved name\n         purr();\n         //~^ ERROR: unresolved name `purr`\n+        //~| NOTE unresolved name\n         purr();\n         //~^ ERROR: unresolved name `purr`\n+        //~| NOTE unresolved name\n         purr();\n         //~^ ERROR: unresolved name `purr`\n+        //~| NOTE unresolved name\n     }\n }\n \n@@ -69,27 +77,33 @@ impl cat {\n   fn purr(&self) {\n     grow_older();\n     //~^ ERROR: unresolved name `grow_older`\n+    //~| NOTE unresolved name\n     shave();\n     //~^ ERROR: unresolved name `shave`\n+    //~| NOTE unresolved name\n   }\n \n   fn burn_whiskers(&mut self) {\n     whiskers = 0;\n-    //~^ ERROR: unresolved name `whiskers`. Did you mean `self.whiskers`?\n+    //~^ ERROR: unresolved name `whiskers`\n+    //~| NOTE did you mean `self.whiskers`?\n   }\n \n   pub fn grow_older(other:usize) {\n     whiskers = 4;\n     //~^ ERROR: unresolved name `whiskers`\n+    //~| NOTE unresolved name\n     //~| HELP this is an associated function\n     purr_louder();\n     //~^ ERROR: unresolved name `purr_louder`\n+    //~| NOTE unresolved name\n   }\n }\n \n fn main() {\n     self += 1;\n     //~^ ERROR: unresolved name `self`\n+    //~| NOTE unresolved name\n     //~| HELP: module `self`\n     // it's a bug if this suggests a missing `self` as we're not in a method\n }"}, {"sha": "edaab012757126ac17af640cc6024e7d1dd658e0", "filename": "src/test/compile-fail/resolve-hint-macro.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Fresolve-hint-macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Fresolve-hint-macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fresolve-hint-macro.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -9,5 +9,7 @@\n // except according to those terms.\n \n fn main() {\n-    assert(true); //~ERROR unresolved name `assert`. Did you mean the macro `assert!`?\n+    assert(true);\n+    //~^ ERROR unresolved name `assert`\n+    //~| NOTE did you mean the macro `assert!`?\n }"}, {"sha": "151c1d432ed364715a31e02ea94169b40e46f217", "filename": "src/test/compile-fail/token-error-correct-2.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Ftoken-error-correct-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Ftoken-error-correct-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftoken-error-correct-2.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -13,5 +13,6 @@\n fn main() {\n     if foo { //~ NOTE: unclosed delimiter\n     //~^ ERROR: unresolved name `foo`\n+    //~| NOTE unresolved name\n     ) //~ ERROR: incorrect close delimiter: `)`\n }"}, {"sha": "5f21bf18d7b1bfd6e5356d2d14c8de7a58775e8f", "filename": "src/test/compile-fail/token-error-correct-3.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Ftoken-error-correct-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Ftoken-error-correct-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftoken-error-correct-3.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -19,6 +19,7 @@ pub mod raw {\n                                                                callback: F)\n                                                                -> io::Result<bool> {\n         if !is_directory(path.as_ref()) { //~ ERROR: unresolved name `is_directory`\n+                                          //~| NOTE unresolved name\n             callback(path.as_ref();  //~ NOTE: unclosed delimiter\n                      //~^ ERROR: expected one of\n             fs::create_dir_all(path.as_ref()).map(|()| true) //~ ERROR: mismatched types"}, {"sha": "3ba9edda07f266a5b28385d1ddcb6f6887c329b7", "filename": "src/test/compile-fail/token-error-correct.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Ftoken-error-correct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fcompile-fail%2Ftoken-error-correct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftoken-error-correct.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -17,6 +17,8 @@ fn main() {\n     //~^^^ ERROR: unresolved name `bar`\n     //~^^^^ ERROR: unresolved name `foo`\n     //~^^^^^ ERROR: expected one of `)`, `,`, `.`, `<`, `?`\n+    //~| NOTE unresolved name\n+    //~| NOTE unresolved name\n } //~ ERROR: incorrect close delimiter: `}`\n //~^ ERROR: incorrect close delimiter: `}`\n //~^^ ERROR: expected expression, found `)`"}, {"sha": "f865f0a5f23cdc4427c610d74a8bd97ec548b5c9", "filename": "src/test/ui/codemap_tests/tab.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fui%2Fcodemap_tests%2Ftab.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fui%2Fcodemap_tests%2Ftab.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcodemap_tests%2Ftab.stderr?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -2,7 +2,7 @@ error[E0425]: unresolved name `bar`\n   --> $DIR/tab.rs:14:2\n    |\n 14 | \\tbar;\n-   | \\t^^^\n+   | \\t^^^ unresolved name\n \n error: aborting due to previous error\n "}, {"sha": "1c7fac894f976cf2468dbedf5e2aa9c147e1625d", "filename": "src/test/ui/macros/macro-backtrace-nested.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fui%2Fmacros%2Fmacro-backtrace-nested.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fui%2Fmacros%2Fmacro-backtrace-nested.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-backtrace-nested.stderr?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -2,7 +2,7 @@ error[E0425]: unresolved name `fake`\n   --> $DIR/macro-backtrace-nested.rs:15:12\n    |\n 15 |     () => (fake)\n-   |            ^^^^\n+   |            ^^^^ unresolved name\n ...\n 27 |     1 + call_nested_expr!();\n    |         ------------------- in this macro invocation\n@@ -11,7 +11,7 @@ error[E0425]: unresolved name `fake`\n   --> $DIR/macro-backtrace-nested.rs:15:12\n    |\n 15 |     () => (fake)\n-   |            ^^^^\n+   |            ^^^^ unresolved name\n ...\n 28 |     call_nested_expr_sum!();\n    |     ------------------------ in this macro invocation"}, {"sha": "536bf16142b3072318773f2868c625003b1dc695", "filename": "src/test/ui/span/typo-suggestion.rs", "status": "renamed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fui%2Fspan%2Ftypo-suggestion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fui%2Fspan%2Ftypo-suggestion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Ftypo-suggestion.rs?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -13,9 +13,7 @@ fn main() {\n \n     // `foo` shouldn't be suggested, it is too dissimilar from `bar`.\n     println!(\"Hello {}\", bar);\n-    //~^ ERROR: unresolved name `bar`\n \n     // But this is close enough.\n     println!(\"Hello {}\", fob);\n-    //~^ ERROR: unresolved name `fob`. Did you mean `foo`?\n }", "previous_filename": "src/test/compile-fail/typo-suggestion.rs"}, {"sha": "5446175aa250500bcd957c9de550862f1bcfd1ac", "filename": "src/test/ui/span/typo-suggestion.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fui%2Fspan%2Ftypo-suggestion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ea65ab6c7e96bf38c291ed7192137e6b96772687/src%2Ftest%2Fui%2Fspan%2Ftypo-suggestion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Ftypo-suggestion.stderr?ref=ea65ab6c7e96bf38c291ed7192137e6b96772687", "patch": "@@ -0,0 +1,14 @@\n+error[E0425]: unresolved name `bar`\n+  --> $DIR/typo-suggestion.rs:15:26\n+   |\n+15 |     println!(\"Hello {}\", bar);\n+   |                          ^^^ unresolved name\n+\n+error[E0425]: unresolved name `fob`\n+  --> $DIR/typo-suggestion.rs:18:26\n+   |\n+18 |     println!(\"Hello {}\", fob);\n+   |                          ^^^ did you mean `foo`?\n+\n+error: aborting due to 2 previous errors\n+"}]}