{"sha": "a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6", "node_id": "C_kwDOAAsO6NoAKGE3YmQwZDBlMDdhZTFjNWM2ODBhMzJlY2YyYjVlNTU1NmM2OTM1ZjY", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-06-01T14:36:51Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-06-01T14:36:51Z"}, "message": "Rollup merge of #97580 - JohnTitor:issue-71546, r=compiler-errors\n\nAdd regression test for #71546\n\nCloses #71546\nr? `@compiler-errors`", "tree": {"sha": "524f01d405933a251573a2a0c28094bba67073b9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/524f01d405933a251573a2a0c28094bba67073b9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJil3mDCRBK7hj4Ov3rIwAAq78IAGfW/WtLZpOncy5MnBlZMH10\nUTLqiPzViY4tVoxFCJv2j5W72bC9JmNdXoalFNGFnBaOFEfmE40zewfXnGrswbKo\nmbVvYmzStyudJ4GU1UUHzeSoEYFbwfW/5ixae+tEau9MzFirFSqmcjnR322Ld1EG\novcR3+hB3C3vHvU+1iFS1nALt6yuDnz75TDEmLL6D2vnEqMqVNJjqO6VdTQTZvqz\nkSu6gGwRoIV7wA6TVRU+JRWzSbZ24ZuoamMDBAb+G4tqTAiCR5jXyBx1AokMapek\nAN+bmBTla5Tbk4tHtD1xwXJfc+7OlzSq7LaGIexvDFNDYGAocJ9CV2zdVZnnN0Y=\n=htT6\n-----END PGP SIGNATURE-----\n", "payload": "tree 524f01d405933a251573a2a0c28094bba67073b9\nparent 2f99f1b3a48eb03221c56681c0ed8252f04c9df4\nparent ea50d773e3f75855ca8a40ca72ad8f8c67153474\nauthor Yuki Okushi <jtitor@2k36.org> 1654094211 +0900\ncommitter GitHub <noreply@github.com> 1654094211 +0900\n\nRollup merge of #97580 - JohnTitor:issue-71546, r=compiler-errors\n\nAdd regression test for #71546\n\nCloses #71546\nr? `@compiler-errors`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6", "html_url": "https://github.com/rust-lang/rust/commit/a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2f99f1b3a48eb03221c56681c0ed8252f04c9df4", "url": "https://api.github.com/repos/rust-lang/rust/commits/2f99f1b3a48eb03221c56681c0ed8252f04c9df4", "html_url": "https://github.com/rust-lang/rust/commit/2f99f1b3a48eb03221c56681c0ed8252f04c9df4"}, {"sha": "ea50d773e3f75855ca8a40ca72ad8f8c67153474", "url": "https://api.github.com/repos/rust-lang/rust/commits/ea50d773e3f75855ca8a40ca72ad8f8c67153474", "html_url": "https://github.com/rust-lang/rust/commit/ea50d773e3f75855ca8a40ca72ad8f8c67153474"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "943f7f86e55246dc7db866e350651b2bf8cee98e", "filename": "src/test/ui/borrowck/issue-71546.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6/src%2Ftest%2Fui%2Fborrowck%2Fissue-71546.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6/src%2Ftest%2Fui%2Fborrowck%2Fissue-71546.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fissue-71546.rs?ref=a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6", "patch": "@@ -0,0 +1,19 @@\n+// Regression test for #71546.\n+\n+// ignore-compare-mode-nll\n+// NLL stderr is different from the original one.\n+\n+pub fn serialize_as_csv<V>(value: &V) -> Result<String, &str>\n+where\n+    V: 'static,\n+    for<'a> &'a V: IntoIterator,\n+    for<'a> <&'a V as IntoIterator>::Item: ToString + 'static,\n+{\n+    let csv_str: String = value //~ ERROR: the associated type `<&'a V as IntoIterator>::Item` may not live long enough\n+        .into_iter()\n+        .map(|elem| elem.to_string())\n+        .collect::<String>();\n+    Ok(csv_str)\n+}\n+\n+fn main() {}"}, {"sha": "d479ca8f1d8b97d5e688eed976107b020c8db595", "filename": "src/test/ui/borrowck/issue-71546.stderr", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6/src%2Ftest%2Fui%2Fborrowck%2Fissue-71546.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6/src%2Ftest%2Fui%2Fborrowck%2Fissue-71546.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fissue-71546.stderr?ref=a7bd0d0e07ae1c5c680a32ecf2b5e5556c6935f6", "patch": "@@ -0,0 +1,20 @@\n+error[E0310]: the associated type `<&'a V as IntoIterator>::Item` may not live long enough\n+  --> $DIR/issue-71546.rs:12:27\n+   |\n+LL |       let csv_str: String = value\n+   |  ___________________________^\n+LL | |         .into_iter()\n+LL | |         .map(|elem| elem.to_string())\n+   | |_____________________________________^\n+   |\n+   = help: consider adding an explicit lifetime bound `<&'a V as IntoIterator>::Item: 'static`...\n+   = note: ...so that the type `<&'a V as IntoIterator>::Item` will meet its required lifetime bounds...\n+note: ...that is required by this bound\n+  --> $DIR/issue-71546.rs:10:55\n+   |\n+LL |     for<'a> <&'a V as IntoIterator>::Item: ToString + 'static,\n+   |                                                       ^^^^^^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0310`."}]}