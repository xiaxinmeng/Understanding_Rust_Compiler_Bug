{"sha": "9b44c4b29c79edf92a9974d2d72a01c7832e273d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjliNDRjNGIyOWM3OWVkZjkyYTk5NzRkMmQ3MmEwMWM3ODMyZTI3M2Q=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-04-25T14:06:42Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-04-25T14:06:42Z"}, "message": "Add test to ensure that the element pointed to by the URL hash is \"expanded\"", "tree": {"sha": "39238917c0d1ab4b08dc258d61e55f07a3cf29a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/39238917c0d1ab4b08dc258d61e55f07a3cf29a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9b44c4b29c79edf92a9974d2d72a01c7832e273d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9b44c4b29c79edf92a9974d2d72a01c7832e273d", "html_url": "https://github.com/rust-lang/rust/commit/9b44c4b29c79edf92a9974d2d72a01c7832e273d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9b44c4b29c79edf92a9974d2d72a01c7832e273d/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1afea79e42f1090d0c565be16442a95f899c6c60", "url": "https://api.github.com/repos/rust-lang/rust/commits/1afea79e42f1090d0c565be16442a95f899c6c60", "html_url": "https://github.com/rust-lang/rust/commit/1afea79e42f1090d0c565be16442a95f899c6c60"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "d736d15d184a3f0a12a4906412c36ad9cd277b88", "filename": "src/test/rustdoc-gui/hash-item-expansion.goml", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/9b44c4b29c79edf92a9974d2d72a01c7832e273d/src%2Ftest%2Frustdoc-gui%2Fhash-item-expansion.goml", "raw_url": "https://github.com/rust-lang/rust/raw/9b44c4b29c79edf92a9974d2d72a01c7832e273d/src%2Ftest%2Frustdoc-gui%2Fhash-item-expansion.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fhash-item-expansion.goml?ref=9b44c4b29c79edf92a9974d2d72a01c7832e273d", "patch": "@@ -0,0 +1,18 @@\n+// This test ensures that the element corresponding to the hash is displayed.\n+goto: file://|DOC_PATH|/struct.Foo.html#method.borrow\n+// In the blanket implementations list, \"Borrow\" is the second one, hence the \":nth(2)\".\n+assert: (\"#blanket-implementations-list > details:nth-child(2)\", \"open\", \"\")\n+// Please note the \"\\\" below is needed because otherwise \".borrow\" would be interpreted as\n+// a class selector.\n+assert: (\"#method\\.borrow\", {\"display\": \"flex\"})\n+// We first check that the impl block is open by default.\n+assert: (\"#implementations + details\", \"open\", \"\")\n+// We collapse it.\n+click: \"#implementations + details > summary\"\n+// We check that it was collapsed as expected.\n+assert-false: (\"#implementations + details\", \"open\", \"\")\n+// To ensure that we will click on the currently hidden method.\n+assert: (\".sidebar-links > a\", \"must_use\")\n+click: \".sidebar-links > a\"\n+// We check that the impl block was opened as expected so that we can see the method.\n+assert: (\"#implementations + details\", \"open\", \"\")"}]}