{"sha": "c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM4YjJhMzE2N2IwNjhmN2VhMzBlZWJjZmE3YWQxM2Q0YzdlYTMwMjY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-07-05T18:11:43Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-07-05T18:11:43Z"}, "message": "auto merge of #15431 : iliekturtles/rust/13279-error-msg-order, r=pcwalton\n\nMoved note after error to reduce confusion when the pair appears in the\r\nmiddle of other errors. Closes #13279.", "tree": {"sha": "31dedb36fe2f679e4ec7f8ff2cf37f76360d8973", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/31dedb36fe2f679e4ec7f8ff2cf37f76360d8973"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026", "html_url": "https://github.com/rust-lang/rust/commit/c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aaff4e05e19b48d81e4ecb3337f288f42d06edd0", "url": "https://api.github.com/repos/rust-lang/rust/commits/aaff4e05e19b48d81e4ecb3337f288f42d06edd0", "html_url": "https://github.com/rust-lang/rust/commit/aaff4e05e19b48d81e4ecb3337f288f42d06edd0"}, {"sha": "f37e202b53d208cd65f45fa96d2f2453b26bb9ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/f37e202b53d208cd65f45fa96d2f2453b26bb9ee", "html_url": "https://github.com/rust-lang/rust/commit/f37e202b53d208cd65f45fa96d2f2453b26bb9ee"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "ab480745b689a05630ddd35e7f68423b8ed51ec9", "filename": "src/doc/guide.md", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026/src%2Fdoc%2Fguide.md", "raw_url": "https://github.com/rust-lang/rust/raw/c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026/src%2Fdoc%2Fguide.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fguide.md?ref=c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026", "patch": "@@ -895,13 +895,14 @@ fn add_one(x: int) -> int {\n We would get an error:\n \n ```{ignore,notrust}\n-note: consider removing this semicolon:\n-     x + 1;\n-          ^\n error: not all control paths return a value\n fn add_one(x: int) -> int {\n      x + 1;\n }\n+\n+note: consider removing this semicolon:\n+     x + 1;\n+          ^\n ```\n \n Remember our earlier discussions about semicolons and `()`? Our function claims"}, {"sha": "a33062457629b3bc97b5e4bce227022be0713313", "filename": "src/librustc/middle/liveness.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026/src%2Flibrustc%2Fmiddle%2Fliveness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026/src%2Flibrustc%2Fmiddle%2Fliveness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fliveness.rs?ref=c8b2a3167b068f7ea30eebcfa7ad13d4c7ea3026", "patch": "@@ -1458,6 +1458,8 @@ impl<'a> Liveness<'a> {\n                         },\n                     _ => false\n                 };\n+                self.ir.tcx.sess.span_err(\n+                    sp, \"not all control paths return a value\");\n                 if ends_with_stmt {\n                     let last_stmt = body.stmts.last().unwrap();\n                     let original_span = original_sp(last_stmt.span, sp);\n@@ -1469,8 +1471,6 @@ impl<'a> Liveness<'a> {\n                     self.ir.tcx.sess.span_note(\n                         span_semicolon, \"consider removing this semicolon:\");\n                 }\n-                self.ir.tcx.sess.span_err(\n-                    sp, \"not all control paths return a value\");\n            }\n         }\n     }"}]}