{"sha": "6cfda078bf36e081323b118082af822bacd8aef5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZjZmRhMDc4YmYzNmUwODEzMjNiMTE4MDgyYWY4MjJiYWNkOGFlZjU=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2018-02-23T12:52:33Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2018-03-08T07:35:38Z"}, "message": "Use clearer name for integer bit width helper function", "tree": {"sha": "d4f8195628e0976704846b702cb03a53c4990155", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d4f8195628e0976704846b702cb03a53c4990155"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6cfda078bf36e081323b118082af822bacd8aef5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEYFTdM4NKd7XQft77pp+NIls619kFAlqg58oACgkQpp+NIls6\n19n2bA//T7NkwSTcSJCy8rSflurm8KjQF1eSETtnRa2ymMixcSbLxZ0aS27BbxBu\npRuqGsVPQusCsiqcnjK9/9zN16TbYYeB7nX9BqG2Gx9bL6fbLriZeSLqvujWIIl1\ngtwsJgkRfSl/b10cuKWa9U4sQi0RowCv5Haa3zJLy4p0uCoMoX5bOCLjqLyXd69O\nkg3IcLl9xMBEtSGX7HfixdT9wFdTHhvkxhk1TqcrIANkBmu8aFLV6aERn25TUwLi\nuhBTQIoR1VKqAehQnm+pVLNHZ1X8KBerSoNSLmny44a6O7U0o/g4LMI7dc8khQYw\nJESoVCNbjAlqTnHqhq2ijHmeHm+GLhfLRjYjjWd05bpPCrtPlta+AT2Alj/qnkcr\neaUlOl9JxnyV2A3CdVFMbOMaXDGSyWzYLdA4qxIi3kFzO3wGXW6PKUuWy0KAR/At\ndVyuv+bkCLdb8/eVeE+RniFcbYZR14fBMAXpzeQk0Z4VGDFUGgT99+zW/i03oNYN\nKUQOgHYPYR3Zli+ceOzMjacdaZFkNHHx0sk8aEMns19GpOON67ZyHqvTyr+uF/Bx\nAbFpLn7FFJdoSMSWB5NHHds6CTEMcNgQPGGPPC5gn2C3K95521ZGJFCBjc/N9PhG\np5S8QXoG62jK47jTqYVE3K5M2mY3Yza24mz7u9WS5MM99iyIEAw=\n=fkV6\n-----END PGP SIGNATURE-----", "payload": "tree d4f8195628e0976704846b702cb03a53c4990155\nparent eb18d39a04dc524232471d1011bfd7c1f1fcad4d\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1519390353 +0100\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1520494538 +0100\n\nUse clearer name for integer bit width helper function\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6cfda078bf36e081323b118082af822bacd8aef5", "html_url": "https://github.com/rust-lang/rust/commit/6cfda078bf36e081323b118082af822bacd8aef5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6cfda078bf36e081323b118082af822bacd8aef5/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eb18d39a04dc524232471d1011bfd7c1f1fcad4d", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb18d39a04dc524232471d1011bfd7c1f1fcad4d", "html_url": "https://github.com/rust-lang/rust/commit/eb18d39a04dc524232471d1011bfd7c1f1fcad4d"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "1a9064aab1b2f25e050f47ab333dff292fc17871", "filename": "src/librustc_mir/build/expr/as_rvalue.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6cfda078bf36e081323b118082af822bacd8aef5/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_rvalue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6cfda078bf36e081323b118082af822bacd8aef5/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_rvalue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_rvalue.rs?ref=6cfda078bf36e081323b118082af822bacd8aef5", "patch": "@@ -381,7 +381,7 @@ impl<'a, 'gcx, 'tcx> Builder<'a, 'gcx, 'tcx> {\n \n     // Helper to get a `-1` value of the appropriate type\n     fn neg_1_literal(&mut self, span: Span, ty: Ty<'tcx>) -> Operand<'tcx> {\n-        let bits = self.hir.type_bit_size(ty);\n+        let bits = self.hir.integer_bit_width(ty);\n         let n = (!0u128) >> (128 - bits);\n         let literal = Literal::Value {\n             value: self.hir.tcx().mk_const(ty::Const {\n@@ -396,7 +396,7 @@ impl<'a, 'gcx, 'tcx> Builder<'a, 'gcx, 'tcx> {\n     // Helper to get the minimum value of the appropriate type\n     fn minval_literal(&mut self, span: Span, ty: Ty<'tcx>) -> Operand<'tcx> {\n         assert!(ty.is_signed());\n-        let bits = self.hir.type_bit_size(ty);\n+        let bits = self.hir.integer_bit_width(ty);\n         let n = 1 << (bits - 1);\n         let literal = Literal::Value {\n             value: self.hir.tcx().mk_const(ty::Const {"}, {"sha": "d8d5f5073abc1d4828490e766ef7b9ffb9717a81", "filename": "src/librustc_mir/hair/cx/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6cfda078bf36e081323b118082af822bacd8aef5/src%2Flibrustc_mir%2Fhair%2Fcx%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6cfda078bf36e081323b118082af822bacd8aef5/src%2Flibrustc_mir%2Fhair%2Fcx%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fhair%2Fcx%2Fmod.rs?ref=6cfda078bf36e081323b118082af822bacd8aef5", "patch": "@@ -149,7 +149,7 @@ impl<'a, 'gcx, 'tcx> Cx<'a, 'gcx, 'tcx> {\n         }\n     }\n \n-    pub fn type_bit_size(\n+    pub fn integer_bit_width(\n         &self,\n         ty: Ty,\n     ) -> u64 {\n@@ -179,7 +179,7 @@ impl<'a, 'gcx, 'tcx> Cx<'a, 'gcx, 'tcx> {\n         };\n \n         let clamp = |n| {\n-            let size = self.type_bit_size(ty);\n+            let size = self.integer_bit_width(ty);\n             trace!(\"clamp {} with size {} and amt {}\", n, size, 128 - size);\n             let amt = 128 - size;\n             let result = (n << amt) >> amt;"}]}