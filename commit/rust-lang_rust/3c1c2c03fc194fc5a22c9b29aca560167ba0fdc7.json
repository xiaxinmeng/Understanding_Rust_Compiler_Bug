{"sha": "3c1c2c03fc194fc5a22c9b29aca560167ba0fdc7", "node_id": "C_kwDOAAsO6NoAKDNjMWMyYzAzZmMxOTRmYzVhMjJjOWIyOWFjYTU2MDE2N2JhMGZkYzc", "commit": {"author": {"name": "yukang", "email": "moorekang@gmail.com", "date": "2023-05-14T00:02:21Z"}, "committer": {"name": "yukang", "email": "moorekang@gmail.com", "date": "2023-05-14T03:35:03Z"}, "message": "skip rustc version check in dry_run", "tree": {"sha": "4bbe38c578dcf5cb1b5c2648a42ba29a2b707bd1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4bbe38c578dcf5cb1b5c2648a42ba29a2b707bd1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3c1c2c03fc194fc5a22c9b29aca560167ba0fdc7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3c1c2c03fc194fc5a22c9b29aca560167ba0fdc7", "html_url": "https://github.com/rust-lang/rust/commit/3c1c2c03fc194fc5a22c9b29aca560167ba0fdc7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3c1c2c03fc194fc5a22c9b29aca560167ba0fdc7/comments", "author": {"login": "chenyukang", "id": 230646, "node_id": "MDQ6VXNlcjIzMDY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/230646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenyukang", "html_url": "https://github.com/chenyukang", "followers_url": "https://api.github.com/users/chenyukang/followers", "following_url": "https://api.github.com/users/chenyukang/following{/other_user}", "gists_url": "https://api.github.com/users/chenyukang/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenyukang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenyukang/subscriptions", "organizations_url": "https://api.github.com/users/chenyukang/orgs", "repos_url": "https://api.github.com/users/chenyukang/repos", "events_url": "https://api.github.com/users/chenyukang/events{/privacy}", "received_events_url": "https://api.github.com/users/chenyukang/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chenyukang", "id": 230646, "node_id": "MDQ6VXNlcjIzMDY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/230646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenyukang", "html_url": "https://github.com/chenyukang", "followers_url": "https://api.github.com/users/chenyukang/followers", "following_url": "https://api.github.com/users/chenyukang/following{/other_user}", "gists_url": "https://api.github.com/users/chenyukang/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenyukang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenyukang/subscriptions", "organizations_url": "https://api.github.com/users/chenyukang/orgs", "repos_url": "https://api.github.com/users/chenyukang/repos", "events_url": "https://api.github.com/users/chenyukang/events{/privacy}", "received_events_url": "https://api.github.com/users/chenyukang/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "69c7d82f42eb91354dbbe83ce4ffed63c8e65ee7", "url": "https://api.github.com/repos/rust-lang/rust/commits/69c7d82f42eb91354dbbe83ce4ffed63c8e65ee7", "html_url": "https://github.com/rust-lang/rust/commit/69c7d82f42eb91354dbbe83ce4ffed63c8e65ee7"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "2354393899961783d519ba4d9796916375a9386d", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3c1c2c03fc194fc5a22c9b29aca560167ba0fdc7/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c1c2c03fc194fc5a22c9b29aca560167ba0fdc7/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=3c1c2c03fc194fc5a22c9b29aca560167ba0fdc7", "patch": "@@ -1684,6 +1684,10 @@ impl Config {\n     }\n \n     fn check_build_rustc_version(&self) {\n+        if self.dry_run() {\n+            return;\n+        }\n+\n         // check rustc version is same or lower with 1 apart from the building one\n         let mut cmd = Command::new(&self.initial_rustc);\n         cmd.arg(\"--version\");"}]}