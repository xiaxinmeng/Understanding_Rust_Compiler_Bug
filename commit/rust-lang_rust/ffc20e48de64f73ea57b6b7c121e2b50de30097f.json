{"sha": "ffc20e48de64f73ea57b6b7c121e2b50de30097f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZmYzIwZTQ4ZGU2NGY3M2VhNTdiNmI3YzEyMWUyYjUwZGUzMDA5N2Y=", "commit": {"author": {"name": "Christiaan Dirkx", "email": "christiaan@dirkx.email", "date": "2021-03-04T14:15:26Z"}, "committer": {"name": "Christiaan Dirkx", "email": "christiaan@dirkx.email", "date": "2021-05-03T14:56:20Z"}, "message": "Move `std::sys::windows::ext` to `std::os::windows`", "tree": {"sha": "940d3816f1f7c9605615d5ab47313ef748a1411a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/940d3816f1f7c9605615d5ab47313ef748a1411a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ffc20e48de64f73ea57b6b7c121e2b50de30097f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ffc20e48de64f73ea57b6b7c121e2b50de30097f", "html_url": "https://github.com/rust-lang/rust/commit/ffc20e48de64f73ea57b6b7c121e2b50de30097f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ffc20e48de64f73ea57b6b7c121e2b50de30097f/comments", "author": {"login": "CDirkx", "id": 11176562, "node_id": "MDQ6VXNlcjExMTc2NTYy", "avatar_url": "https://avatars.githubusercontent.com/u/11176562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CDirkx", "html_url": "https://github.com/CDirkx", "followers_url": "https://api.github.com/users/CDirkx/followers", "following_url": "https://api.github.com/users/CDirkx/following{/other_user}", "gists_url": "https://api.github.com/users/CDirkx/gists{/gist_id}", "starred_url": "https://api.github.com/users/CDirkx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CDirkx/subscriptions", "organizations_url": "https://api.github.com/users/CDirkx/orgs", "repos_url": "https://api.github.com/users/CDirkx/repos", "events_url": "https://api.github.com/users/CDirkx/events{/privacy}", "received_events_url": "https://api.github.com/users/CDirkx/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CDirkx", "id": 11176562, "node_id": "MDQ6VXNlcjExMTc2NTYy", "avatar_url": "https://avatars.githubusercontent.com/u/11176562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CDirkx", "html_url": "https://github.com/CDirkx", "followers_url": "https://api.github.com/users/CDirkx/followers", "following_url": "https://api.github.com/users/CDirkx/following{/other_user}", "gists_url": "https://api.github.com/users/CDirkx/gists{/gist_id}", "starred_url": "https://api.github.com/users/CDirkx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CDirkx/subscriptions", "organizations_url": "https://api.github.com/users/CDirkx/orgs", "repos_url": "https://api.github.com/users/CDirkx/repos", "events_url": "https://api.github.com/users/CDirkx/events{/privacy}", "received_events_url": "https://api.github.com/users/CDirkx/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7024bfffbdd1fb3dafa3f263f6d10fd2aed2ff2d", "url": "https://api.github.com/repos/rust-lang/rust/commits/7024bfffbdd1fb3dafa3f263f6d10fd2aed2ff2d", "html_url": "https://github.com/rust-lang/rust/commit/7024bfffbdd1fb3dafa3f263f6d10fd2aed2ff2d"}], "stats": {"total": 21, "additions": 5, "deletions": 16}, "files": [{"sha": "85ffe8adb1f03c5990cb50783c9d2a2fb9f6834d", "filename": "library/std/src/os/mod.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fmod.rs?ref=ffc20e48de64f73ea57b6b7c121e2b50de30097f", "patch": "@@ -23,8 +23,7 @@ cfg_if::cfg_if! {\n         #[stable(feature = \"wasi_ext_doc\", since = \"1.35.0\")]\n         pub use crate::sys::wasi_ext as wasi;\n \n-        #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-        pub use crate::sys::windows_ext as windows;\n+        pub mod windows;\n     } else if #[cfg(doc)] {\n         // On certain platforms right now the \"main modules\" modules that are\n         // documented don't compile (missing things in `libc` which is empty),\n@@ -94,7 +93,6 @@ cfg_if::cfg_if! {\n         pub mod wasi;\n \n         #[cfg(windows)]\n-        #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-        pub use crate::sys::ext as windows;\n+        pub mod windows;\n     }\n }"}, {"sha": "c89b9ff1efa6b98e892b510fcc0af2796bcda054", "filename": "library/std/src/os/windows/ffi.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fffi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fffi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fffi.rs?ref=ffc20e48de64f73ea57b6b7c121e2b50de30097f", "previous_filename": "library/std/src/sys/windows/ext/ffi.rs"}, {"sha": "b20eafb4d53a59396a629ea903fda96b33e5e7a0", "filename": "library/std/src/os/windows/fs.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Ffs.rs?ref=ffc20e48de64f73ea57b6b7c121e2b50de30097f", "previous_filename": "library/std/src/sys/windows/ext/fs.rs"}, {"sha": "31b5d015ed0c31a94b52f6c7b409f71d5c0c8b90", "filename": "library/std/src/os/windows/io.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio.rs?ref=ffc20e48de64f73ea57b6b7c121e2b50de30097f", "previous_filename": "library/std/src/sys/windows/ext/io.rs"}, {"sha": "52ac508f9f707a11ba139bc721eea7337d1f17de", "filename": "library/std/src/os/windows/mod.rs", "status": "renamed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fmod.rs?ref=ffc20e48de64f73ea57b6b7c121e2b50de30097f", "patch": "@@ -8,7 +8,6 @@\n \n #![stable(feature = \"rust1\", since = \"1.0.0\")]\n #![doc(cfg(windows))]\n-#![allow(missing_docs)]\n \n pub mod ffi;\n pub mod fs;", "previous_filename": "library/std/src/sys/windows/ext/mod.rs"}, {"sha": "67756b15531bf360b9d5bc8995e240f713a29cb6", "filename": "library/std/src/os/windows/process.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fprocess.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fprocess.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fprocess.rs?ref=ffc20e48de64f73ea57b6b7c121e2b50de30097f", "previous_filename": "library/std/src/sys/windows/ext/process.rs"}, {"sha": "5014e008eb599c12d911a9b89eaf7d3d42d4388d", "filename": "library/std/src/os/windows/raw.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fraw.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fraw.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fraw.rs?ref=ffc20e48de64f73ea57b6b7c121e2b50de30097f", "previous_filename": "library/std/src/sys/windows/ext/raw.rs"}, {"sha": "6bd02054f7150ba5e662a1810bf3f046952fc225", "filename": "library/std/src/os/windows/thread.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fthread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fthread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fthread.rs?ref=ffc20e48de64f73ea57b6b7c121e2b50de30097f", "previous_filename": "library/std/src/sys/windows/ext/thread.rs"}, {"sha": "6b38f62dfe508e76b8ed4a6da5e1364c5c789a23", "filename": "library/std/src/sys/mod.rs", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fsys%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fsys%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fmod.rs?ref=ffc20e48de64f73ea57b6b7c121e2b50de30097f", "patch": "@@ -78,23 +78,16 @@ cfg_if::cfg_if! {\n     all(target_vendor = \"fortanix\", target_env = \"sgx\")\n )))]\n cfg_if::cfg_if! {\n-    if #[cfg(windows)] {\n-        #[allow(missing_docs)]\n-        #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-        pub use self::ext as windows_ext;\n-    } else {\n+    if #[cfg(not(windows))] {\n         // On non-Windows platforms (aka linux/osx/etc) pull in a \"minimal\"\n         // amount of windows goop which ends up compiling\n \n         #[macro_use]\n         #[path = \"windows/compat.rs\"]\n-        mod compat;\n+        pub mod compat;\n \n         #[path = \"windows/c.rs\"]\n-        mod c;\n-\n-        #[path = \"windows/ext/mod.rs\"]\n-        pub mod windows_ext;\n+        pub mod c;\n     }\n }\n "}, {"sha": "cc60ca375ea39254a854bac0ff4fd25b218556be", "filename": "library/std/src/sys/windows/mod.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffc20e48de64f73ea57b6b7c121e2b50de30097f/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fmod.rs?ref=ffc20e48de64f73ea57b6b7c121e2b50de30097f", "patch": "@@ -18,7 +18,6 @@ pub mod c;\n pub mod cmath;\n pub mod condvar;\n pub mod env;\n-pub mod ext;\n pub mod fs;\n pub mod handle;\n pub mod io;"}]}