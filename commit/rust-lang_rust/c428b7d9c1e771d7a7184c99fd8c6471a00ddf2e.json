{"sha": "c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM0MjhiN2Q5YzFlNzcxZDdhNzE4NGM5OWZkOGM2NDcxYTAwZGRmMmU=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2017-12-21T18:56:48Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2017-12-22T15:01:47Z"}, "message": "Converted moves-based-on-type-tuple test and added MIR borrowck comparison.", "tree": {"sha": "9cb1872746457471f136313280807c5dd4648faf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9cb1872746457471f136313280807c5dd4648faf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEWwgxPGhT5b/6kagXAXYLT59T8VQFAlo9HlsACgkQAXYLT59T\n8VR5uBAAjZlZ747GaMWDxKXAPsUF/0Ajkg0Pwhc2SxLRRWfWRqB5GaN89SytpHdT\n4+zTD8EuIJ0lDgnmoT4eMUJ1+euucLFb7YIBwSHkIacyrtFAu9NnR1Bo/ByGSWi1\nc+AYhoJL2BmJtMwHsQQr39o8l4YdGh3MhrSVdEomv9378FlkHWsSdOG+mynI6R5S\ng4OwhXBQxb23nZJy6TXVk2ZKZ1LZzwVL377qb8Pfx5vaba8V3mbBNoMHsQO3vEC3\nEh/FSpcOIb7Hgmd9JawUIARnnnZ9ajbMpzTlZ3PKIN9JO1aOxJOng8m3I8/jIO3n\nFTmXpJv/2jTBGxTdjXZG0Vq741gzN0MkdfNIjFQbRzAbOz+PCO907D5CzDry0npW\ngv7G+HdPOaZIaiesvsNYFp4jSSY7vK4N7ct/02sxtbtygQScMG9i8x+LVisLw7g1\nQe5uNeK0BhSjxLUpCkiRdKEc53fI57M7c7ro5eiVhRt+ZUwTybcwxzMIEZ78vlTs\n2P+50HP8l7Iymg8eJSCWY4SN6D6tcM51jAmSdvoORVm+duNo8IKX3h5ED+19z4Po\nujGfExORUfT8jd7s44hj5o+jx7GSKqH/Uq51rQAcb5qAikEnRXG5YofY4IgLXtsh\n3fjBhr7WMta23BocOm4oqcCMOBKM2BgErkoyc5A4OuwSTf+aeLQ=\n=vmFA\n-----END PGP SIGNATURE-----", "payload": "tree 9cb1872746457471f136313280807c5dd4648faf\nparent 81622c6b02536bdcf56145beb317da0d336703c1\nauthor David Wood <david@davidtw.co> 1513882608 +0000\ncommitter David Wood <david@davidtw.co> 1513954907 +0000\n\nConverted moves-based-on-type-tuple test and added MIR borrowck comparison.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e", "html_url": "https://github.com/rust-lang/rust/commit/c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "81622c6b02536bdcf56145beb317da0d336703c1", "url": "https://api.github.com/repos/rust-lang/rust/commits/81622c6b02536bdcf56145beb317da0d336703c1", "html_url": "https://github.com/rust-lang/rust/commit/81622c6b02536bdcf56145beb317da0d336703c1"}], "stats": {"total": 29, "additions": 28, "deletions": 1}, "files": [{"sha": "27903fee117b3d7658c2e10c8c700e570176e70e", "filename": "src/test/ui/moves-based-on-type-tuple.rs", "status": "renamed", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e/src%2Ftest%2Fui%2Fmoves-based-on-type-tuple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e/src%2Ftest%2Fui%2Fmoves-based-on-type-tuple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves-based-on-type-tuple.rs?ref=c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e", "patch": "@@ -10,9 +10,14 @@\n \n #![feature(box_syntax)]\n \n+// compile-flags: -Z emit-end-regions -Z borrowck=compare\n+\n fn dup(x: Box<isize>) -> Box<(Box<isize>,Box<isize>)> {\n-    box (x, x) //~ ERROR use of moved value\n+    box (x, x)\n+    //~^ use of moved value: `x` (Ast) [E0382]\n+    //~| use of moved value: `x` (Mir) [E0382]\n }\n+\n fn main() {\n     dup(box 3);\n }", "previous_filename": "src/test/compile-fail/moves-based-on-type-tuple.rs"}, {"sha": "e1667107c927caec732646460172f805bccb49ea", "filename": "src/test/ui/moves-based-on-type-tuple.stderr", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e/src%2Ftest%2Fui%2Fmoves-based-on-type-tuple.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e/src%2Ftest%2Fui%2Fmoves-based-on-type-tuple.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves-based-on-type-tuple.stderr?ref=c428b7d9c1e771d7a7184c99fd8c6471a00ddf2e", "patch": "@@ -0,0 +1,22 @@\n+error[E0382]: use of moved value: `x` (Ast)\n+  --> $DIR/moves-based-on-type-tuple.rs:16:13\n+   |\n+16 |     box (x, x)\n+   |          -  ^ value used here after move\n+   |          |\n+   |          value moved here\n+   |\n+   = note: move occurs because `x` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n+\n+error[E0382]: use of moved value: `x` (Mir)\n+  --> $DIR/moves-based-on-type-tuple.rs:16:13\n+   |\n+16 |     box (x, x)\n+   |          -  ^ value used here after move\n+   |          |\n+   |          value moved here\n+   |\n+   = note: move occurs because `x` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n+\n+error: aborting due to 2 previous errors\n+"}]}