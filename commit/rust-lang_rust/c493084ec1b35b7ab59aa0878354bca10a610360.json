{"sha": "c493084ec1b35b7ab59aa0878354bca10a610360", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM0OTMwODRlYzFiMzViN2FiNTlhYTA4NzgzNTRiY2ExMGE2MTAzNjA=", "commit": {"author": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-09-03T08:54:17Z"}, "committer": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-09-03T08:54:17Z"}, "message": "Adapt the PR for HIR changes", "tree": {"sha": "33e101a3ce014fd34f24937c33ee095a55ff040b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/33e101a3ce014fd34f24937c33ee095a55ff040b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c493084ec1b35b7ab59aa0878354bca10a610360", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c493084ec1b35b7ab59aa0878354bca10a610360", "html_url": "https://github.com/rust-lang/rust/commit/c493084ec1b35b7ab59aa0878354bca10a610360", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c493084ec1b35b7ab59aa0878354bca10a610360/comments", "author": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1a6934840edcef6bb37171f7d6d035ab59f5d725", "url": "https://api.github.com/repos/rust-lang/rust/commits/1a6934840edcef6bb37171f7d6d035ab59f5d725", "html_url": "https://github.com/rust-lang/rust/commit/1a6934840edcef6bb37171f7d6d035ab59f5d725"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "ba20b46090afc9aa9e357d15a517cfdd13fafb87", "filename": "src/librustc_front/fold.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c493084ec1b35b7ab59aa0878354bca10a610360/src%2Flibrustc_front%2Ffold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c493084ec1b35b7ab59aa0878354bca10a610360/src%2Flibrustc_front%2Ffold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_front%2Ffold.rs?ref=c493084ec1b35b7ab59aa0878354bca10a610360", "patch": "@@ -1124,8 +1124,14 @@ pub fn noop_fold_expr<T: Folder>(Expr {id, node, span}: Expr, folder: &mut T) ->\n                 });\n                 ExprPath(qself, folder.fold_path(path))\n             }\n-            ExprBreak(opt_ident) => ExprBreak(opt_ident.map(|x| folder.fold_ident(x))),\n-            ExprAgain(opt_ident) => ExprAgain(opt_ident.map(|x| folder.fold_ident(x))),\n+            ExprBreak(opt_ident) => ExprBreak(opt_ident.map(|label|\n+                respan(folder.new_span(label.span),\n+                       folder.fold_ident(label.node)))\n+            ),\n+            ExprAgain(opt_ident) => ExprAgain(opt_ident.map(|label|\n+                respan(folder.new_span(label.span),\n+                       folder.fold_ident(label.node)))\n+            ),\n             ExprRet(e) => ExprRet(e.map(|x| folder.fold_expr(x))),\n             ExprInlineAsm(InlineAsm {\n                 inputs,"}, {"sha": "4a53a4c60cf5a0cb0ecaa4d199934843eb188d81", "filename": "src/librustc_front/hir.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c493084ec1b35b7ab59aa0878354bca10a610360/src%2Flibrustc_front%2Fhir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c493084ec1b35b7ab59aa0878354bca10a610360/src%2Flibrustc_front%2Fhir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_front%2Fhir.rs?ref=c493084ec1b35b7ab59aa0878354bca10a610360", "patch": "@@ -730,9 +730,9 @@ pub enum Expr_ {\n     /// A referencing operation (`&a` or `&mut a`)\n     ExprAddrOf(Mutability, P<Expr>),\n     /// A `break`, with an optional label to break\n-    ExprBreak(Option<Ident>),\n+    ExprBreak(Option<SpannedIdent>),\n     /// A `continue`, with an optional label\n-    ExprAgain(Option<Ident>),\n+    ExprAgain(Option<SpannedIdent>),\n     /// A `return`, with an optional value to be returned\n     ExprRet(Option<P<Expr>>),\n "}, {"sha": "2f106f6a9e1b048db9481fa465b013d54de7508a", "filename": "src/librustc_front/print/pprust.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c493084ec1b35b7ab59aa0878354bca10a610360/src%2Flibrustc_front%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c493084ec1b35b7ab59aa0878354bca10a610360/src%2Flibrustc_front%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_front%2Fprint%2Fpprust.rs?ref=c493084ec1b35b7ab59aa0878354bca10a610360", "patch": "@@ -1587,15 +1587,15 @@ impl<'a> State<'a> {\n                 try!(word(&mut self.s, \"break\"));\n                 try!(space(&mut self.s));\n                 if let Some(ident) = opt_ident {\n-                    try!(self.print_ident(ident));\n+                    try!(self.print_ident(ident.node));\n                     try!(space(&mut self.s));\n                 }\n             }\n             hir::ExprAgain(opt_ident) => {\n                 try!(word(&mut self.s, \"continue\"));\n                 try!(space(&mut self.s));\n                 if let Some(ident) = opt_ident {\n-                    try!(self.print_ident(ident));\n+                    try!(self.print_ident(ident.node));\n                     try!(space(&mut self.s))\n                 }\n             }"}]}