{"sha": "298f29a57dfb02e7f1475469dfa3571521f30ee3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI5OGYyOWE1N2RmYjAyZTdmMTQ3NTQ2OWRmYTM1NzE1MjFmMzBlZTM=", "commit": {"author": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2018-01-17T15:50:16Z"}, "committer": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2018-01-17T15:50:16Z"}, "message": "Do not panic when special macros have less args than expected", "tree": {"sha": "84f76b97522b3b030d2257b3bb54205541c2f794", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/84f76b97522b3b030d2257b3bb54205541c2f794"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/298f29a57dfb02e7f1475469dfa3571521f30ee3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/298f29a57dfb02e7f1475469dfa3571521f30ee3", "html_url": "https://github.com/rust-lang/rust/commit/298f29a57dfb02e7f1475469dfa3571521f30ee3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/298f29a57dfb02e7f1475469dfa3571521f30ee3/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c87bd9e92e2df9a4b35201c976d41a0224f6936d", "url": "https://api.github.com/repos/rust-lang/rust/commits/c87bd9e92e2df9a4b35201c976d41a0224f6936d", "html_url": "https://github.com/rust-lang/rust/commit/c87bd9e92e2df9a4b35201c976d41a0224f6936d"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "5965f3007b40733027f05e083ffcf8f7fb2cb5a6", "filename": "src/expr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/298f29a57dfb02e7f1475469dfa3571521f30ee3/src%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/298f29a57dfb02e7f1475469dfa3571521f30ee3/src%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fexpr.rs?ref=298f29a57dfb02e7f1475469dfa3571521f30ee3", "patch": "@@ -2163,7 +2163,7 @@ fn maybe_get_args_offset<T: ToExpr>(callee_str: &str, args: &[&T]) -> Option<(bo\n         .iter()\n         .find(|&&(s, _)| s == callee_str)\n     {\n-        let all_simple = args.len() >= num_args_before && is_every_args_simple(args);\n+        let all_simple = args.len() > num_args_before && is_every_args_simple(args);\n \n         Some((all_simple, num_args_before))\n     } else {"}, {"sha": "dca1e0e7033b59a49a60140205ed735627181fe1", "filename": "tests/source/macros.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/298f29a57dfb02e7f1475469dfa3571521f30ee3/tests%2Fsource%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/298f29a57dfb02e7f1475469dfa3571521f30ee3/tests%2Fsource%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fmacros.rs?ref=298f29a57dfb02e7f1475469dfa3571521f30ee3", "patch": "@@ -218,6 +218,7 @@ make_test!(str_searcher_ascii_haystack, \"bb\", \"abbcbbd\", [\n }\n \n fn special_case_macros() {\n+    let p = eprint!();\n     let q = eprint!(\"{}\", 1);\n     let r = eprint!(\"{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}\", 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15);\n     let s = eprint!(\"{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}\", 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26);\n@@ -266,10 +267,15 @@ fn special_case_macros() {\n     warn!(\"{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}\", 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15);\n     warn!(\"{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}\", 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26);\n \n+    assert!();\n+    assert!(result == 42);\n     assert!(result == 42, \"Ahoy there, {}!\", target);\n     assert!(result == 42, \"Arr! While plunderin' the hold, we got '{}' when given '{}' (we expected '{}')\", result, input, expected);\n     assert!(result == 42, \"{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}\", 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26);\n \n+    assert_eq!();\n+    assert_eq!(left);\n+    assert_eq!(left, right);\n     assert_eq!(left, right, \"Ahoy there, {}!\", target);\n     assert_eq!(left, right, \"Arr! While plunderin' the hold, we got '{}' when given '{}' (we expected '{}')\", result, input, expected);\n     assert_eq!(first_realllllllllllly_long_variable_that_doesnt_fit_one_one_line, second_reallllllllllly_long_variable_that_doesnt_fit_one_one_line, \"Arr! While plunderin' the hold, we got '{}' when given '{}' (we expected '{}')\", result, input, expected);"}, {"sha": "75238b11ab732c1be46755f4571c96a18a193eff", "filename": "tests/target/macros.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/298f29a57dfb02e7f1475469dfa3571521f30ee3/tests%2Ftarget%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/298f29a57dfb02e7f1475469dfa3571521f30ee3/tests%2Ftarget%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fmacros.rs?ref=298f29a57dfb02e7f1475469dfa3571521f30ee3", "patch": "@@ -271,6 +271,7 @@ fn issue2214() {\n }\n \n fn special_case_macros() {\n+    let p = eprint!();\n     let q = eprint!(\"{}\", 1);\n     let r = eprint!(\n         \"{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}\",\n@@ -691,6 +692,8 @@ fn special_case_macros() {\n         26\n     );\n \n+    assert!();\n+    assert!(result == 42);\n     assert!(result == 42, \"Ahoy there, {}!\", target);\n     assert!(\n         result == 42,\n@@ -730,6 +733,9 @@ fn special_case_macros() {\n         26\n     );\n \n+    assert_eq!();\n+    assert_eq!(left);\n+    assert_eq!(left, right);\n     assert_eq!(left, right, \"Ahoy there, {}!\", target);\n     assert_eq!(\n         left, right,"}]}