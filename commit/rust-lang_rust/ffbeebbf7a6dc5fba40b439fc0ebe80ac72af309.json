{"sha": "ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309", "node_id": "C_kwDOAAsO6NoAKGZmYmVlYmJmN2E2ZGM1ZmJhNDBiNDM5ZmMwZWJlODBhYzcyYWYzMDk", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-01-04T06:01:35Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-01-04T06:31:56Z"}, "message": "Make rustc_log doc test runnable", "tree": {"sha": "13924fc498058b44683bebc0937b1e17a1fdd739", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/13924fc498058b44683bebc0937b1e17a1fdd739"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmHT6d8ACgkQ+boUO5X/\nbYKZ7w/+MqlhH8ub0aa5Mc0LUYnSKNrW+W8o7O8q7qtgirgX8Ckm5N2OMdMyj5nX\nm57MLcRyhB+/NKQevQT7Jcw7ZTPoxBZrXDC7vZFnlMC3jVPW7Xmv/RjKOHeBmdwp\nDWiC8biGPf/Nwc6V7r8nEurqHUUMy7Pa5OyG+8RlLOcVdJxHxlNQJ83nPhyGxyuX\nhaZgs4FOmf+rWbIa7kYnopCJxCghuLnqcY1t21M+n17nr0VgK3w+cSyBUqK8lqTM\nBJFGm1j75F9eTR+WtJ4qiOgyqHbzdnwLX+svYHMeNv4MHsMMpx25/OuohtwbXnKI\nrgw5kNwpq/twYas6AxaPG4ygOyJLrloHVCIFnOH/a57YA4GcAWCugxPRcO5kE4nq\nFiIRe0//AMmGHQj729til0ydpQvLIUAZw4eMj/R6t1SF1FrmIoW8aNzxrBGTf97g\nTbgv7GyO8agtdpYMh7dB1P8W98XwbicitHBSfXXggVsZdnJvi+Ngq45VhuYcD3Ib\nBI+ouGWgiHsjq4C7UkZqGXurUZ9L3UFoUc9S+8ZS9dkjIG9xXrNY0cMvU2nSsjt2\naKrXhoAklSK15mJis8SaVDIoTXZsLqxhhBJ5olCNxqhFeKImsvyyEMiTSGCX1+Ar\nxEF8ec9/EjOX+41Ljd+hNypurWQNs0YeahK7521vF7dD8+8Ltko=\n=XFlY\n-----END PGP SIGNATURE-----", "payload": "tree 13924fc498058b44683bebc0937b1e17a1fdd739\nparent dd5ee326bc565b19421ac952c23203f9ec63140c\nauthor David Tolnay <dtolnay@gmail.com> 1641276095 -0800\ncommitter David Tolnay <dtolnay@gmail.com> 1641277916 -0800\n\nMake rustc_log doc test runnable\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309", "html_url": "https://github.com/rust-lang/rust/commit/ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dd5ee326bc565b19421ac952c23203f9ec63140c", "url": "https://api.github.com/repos/rust-lang/rust/commits/dd5ee326bc565b19421ac952c23203f9ec63140c", "html_url": "https://github.com/rust-lang/rust/commit/dd5ee326bc565b19421ac952c23203f9ec63140c"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "eed6cb275164773600cd51e6a8f4b80ef7f55de1", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309", "patch": "@@ -4080,6 +4080,7 @@ name = \"rustc_log\"\n version = \"0.0.0\"\n dependencies = [\n  \"atty\",\n+ \"rustc_span\",\n  \"tracing\",\n  \"tracing-subscriber\",\n  \"tracing-tree\","}, {"sha": "1b2cde605556dcd4ee0141333c06cab68fca5a7d", "filename": "compiler/rustc_log/Cargo.toml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309/compiler%2Frustc_log%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309/compiler%2Frustc_log%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_log%2FCargo.toml?ref=ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309", "patch": "@@ -3,14 +3,14 @@ name = \"rustc_log\"\n version = \"0.0.0\"\n edition = \"2021\"\n \n-[lib]\n-doctest = false\n-\n [dependencies]\n atty = \"0.2\"\n tracing = \"0.1.28\"\n tracing-subscriber = { version = \"0.3.3\", default-features = false, features = [\"fmt\", \"env-filter\", \"smallvec\", \"parking_lot\", \"ansi\"] }\n tracing-tree = \"0.2.0\"\n \n+[dev-dependencies]\n+rustc_span = { path = \"../rustc_span\" }\n+\n [features]\n max_level_info = ['tracing/max_level_info']"}, {"sha": "f5e7435d36e36f462a16f81d5c0de5c550592959", "filename": "compiler/rustc_log/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309/compiler%2Frustc_log%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309/compiler%2Frustc_log%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_log%2Fsrc%2Flib.rs?ref=ffbeebbf7a6dc5fba40b439fc0ebe80ac72af309", "patch": "@@ -12,7 +12,7 @@\n //! rustc_span = { path = \"../rust/compiler/rustc_span\" }\n //! ```\n //!\n-//! ```ignore\n+//! ```\n //! fn main() {\n //!     rustc_log::init_rustc_env_logger().unwrap();\n //!"}]}