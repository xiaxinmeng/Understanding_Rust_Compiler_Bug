{"sha": "39fd4d92740ce4f838326fbaa101ba951b757e39", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM5ZmQ0ZDkyNzQwY2U0ZjgzODMyNmZiYWExMDFiYTk1MWI3NTdlMzk=", "commit": {"author": {"name": "Denis Merigoux", "email": "denis.merigoux@gmail.com", "date": "2018-09-28T09:40:59Z"}, "committer": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2018-11-16T12:38:19Z"}, "message": "Starting to move backend-agnostic code into codegen_utils\nIntPredicate moved", "tree": {"sha": "286497713cecee02aa8f8747a29f30398d765a22", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/286497713cecee02aa8f8747a29f30398d765a22"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/39fd4d92740ce4f838326fbaa101ba951b757e39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/39fd4d92740ce4f838326fbaa101ba951b757e39", "html_url": "https://github.com/rust-lang/rust/commit/39fd4d92740ce4f838326fbaa101ba951b757e39", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/39fd4d92740ce4f838326fbaa101ba951b757e39/comments", "author": {"login": "denismerigoux", "id": 1766128, "node_id": "MDQ6VXNlcjE3NjYxMjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1766128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denismerigoux", "html_url": "https://github.com/denismerigoux", "followers_url": "https://api.github.com/users/denismerigoux/followers", "following_url": "https://api.github.com/users/denismerigoux/following{/other_user}", "gists_url": "https://api.github.com/users/denismerigoux/gists{/gist_id}", "starred_url": "https://api.github.com/users/denismerigoux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denismerigoux/subscriptions", "organizations_url": "https://api.github.com/users/denismerigoux/orgs", "repos_url": "https://api.github.com/users/denismerigoux/repos", "events_url": "https://api.github.com/users/denismerigoux/events{/privacy}", "received_events_url": "https://api.github.com/users/denismerigoux/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4ba09ab8d226d4d362e466c7dc744f51869cecc3", "url": "https://api.github.com/repos/rust-lang/rust/commits/4ba09ab8d226d4d362e466c7dc744f51869cecc3", "html_url": "https://github.com/rust-lang/rust/commit/4ba09ab8d226d4d362e466c7dc744f51869cecc3"}], "stats": {"total": 74, "additions": 45, "deletions": 29}, "files": [{"sha": "7d1b3a4c6e5a223205852af0e41ceee0cd08bcb6", "filename": "src/librustc_codegen_llvm/base.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fbase.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -53,7 +53,8 @@ use mir::place::PlaceRef;\n use builder::{Builder, MemFlags};\n use callee;\n use rustc_mir::monomorphize::item::DefPathBasedNames;\n-use common::{self, IntPredicate, RealPredicate, TypeKind};\n+use common::{self, RealPredicate, TypeKind};\n+use rustc_codegen_utils::common::IntPredicate;\n use meth;\n use mir;\n use context::CodegenCx;"}, {"sha": "94b308421eb66821eda291c046a44ca7ff0f4abe", "filename": "src/librustc_codegen_llvm/builder.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fbuilder.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -11,6 +11,7 @@\n use llvm::{AtomicRmwBinOp, AtomicOrdering, SynchronizationScope, AsmDialect};\n use llvm::{self, False, OperandBundleDef, BasicBlock};\n use common::{self, *};\n+use rustc_codegen_utils::common::IntPredicate;\n use context::CodegenCx;\n use type_::Type;\n use type_of::LayoutLlvmExt;"}, {"sha": "67fae48e2e5e6524da110fc6a8cadc81d348a229", "filename": "src/librustc_codegen_llvm/common.rs", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fcommon.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -64,19 +64,6 @@ impl<'a, V> OperandBundleDef<'a, V> {\n     }\n }\n \n-pub enum IntPredicate {\n-    IntEQ,\n-    IntNE,\n-    IntUGT,\n-    IntUGE,\n-    IntULT,\n-    IntULE,\n-    IntSGT,\n-    IntSGE,\n-    IntSLT,\n-    IntSLE\n-}\n-\n #[allow(dead_code)]\n pub enum RealPredicate {\n     RealPredicateFalse,"}, {"sha": "e641c15302321e7b8ccddb2464f9bcd0996d877a", "filename": "src/librustc_codegen_llvm/glue.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fglue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fglue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fglue.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -14,7 +14,7 @@\n \n use std;\n \n-use common::*;\n+use rustc_codegen_utils::common::IntPredicate;\n use meth;\n use rustc::ty::layout::LayoutOf;\n use rustc::ty::{self, Ty};"}, {"sha": "7874a4496e9e158c37c7de074acfd8bbb7ce3b88", "filename": "src/librustc_codegen_llvm/interfaces/builder.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Finterfaces%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Finterfaces%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Finterfaces%2Fbuilder.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -20,6 +20,7 @@ use libc::c_char;\n use mir::operand::OperandRef;\n use mir::place::PlaceRef;\n use rustc::ty::layout::{Align, Size};\n+use rustc_codegen_utils::common::IntPredicate;\n \n use std::borrow::Cow;\n use std::ops::Range;"}, {"sha": "e3aac40c081b63b8313668cf651316959aac257a", "filename": "src/librustc_codegen_llvm/llvm/ffi.rs", "status": "modified", "additions": 12, "deletions": 11, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fllvm%2Fffi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fllvm%2Fffi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fllvm%2Fffi.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -20,6 +20,7 @@ use libc::{c_ulonglong, c_void};\n \n use std::marker::PhantomData;\n use common;\n+use rustc_codegen_utils;\n use syntax;\n \n use super::RustString;\n@@ -144,18 +145,18 @@ pub enum IntPredicate {\n }\n \n impl IntPredicate {\n-    pub fn from_generic(intpre: common::IntPredicate) -> Self {\n+    pub fn from_generic(intpre: rustc_codegen_utils::common::IntPredicate) -> Self {\n         match intpre {\n-            common::IntPredicate::IntEQ => IntPredicate::IntEQ,\n-            common::IntPredicate::IntNE => IntPredicate::IntNE,\n-            common::IntPredicate::IntUGT => IntPredicate::IntUGT,\n-            common::IntPredicate::IntUGE => IntPredicate::IntUGE,\n-            common::IntPredicate::IntULT => IntPredicate::IntULT,\n-            common::IntPredicate::IntULE => IntPredicate::IntULE,\n-            common::IntPredicate::IntSGT => IntPredicate::IntSGT,\n-            common::IntPredicate::IntSGE => IntPredicate::IntSGE,\n-            common::IntPredicate::IntSLT => IntPredicate::IntSLT,\n-            common::IntPredicate::IntSLE => IntPredicate::IntSLE,\n+            rustc_codegen_utils::common::IntPredicate::IntEQ => IntPredicate::IntEQ,\n+            rustc_codegen_utils::common::IntPredicate::IntNE => IntPredicate::IntNE,\n+            rustc_codegen_utils::common::IntPredicate::IntUGT => IntPredicate::IntUGT,\n+            rustc_codegen_utils::common::IntPredicate::IntUGE => IntPredicate::IntUGE,\n+            rustc_codegen_utils::common::IntPredicate::IntULT => IntPredicate::IntULT,\n+            rustc_codegen_utils::common::IntPredicate::IntULE => IntPredicate::IntULE,\n+            rustc_codegen_utils::common::IntPredicate::IntSGT => IntPredicate::IntSGT,\n+            rustc_codegen_utils::common::IntPredicate::IntSGE => IntPredicate::IntSGE,\n+            rustc_codegen_utils::common::IntPredicate::IntSLT => IntPredicate::IntSLT,\n+            rustc_codegen_utils::common::IntPredicate::IntSLE => IntPredicate::IntSLE,\n         }\n     }\n }"}, {"sha": "1d3ebebd997ad3cc321bfd23d694cde689d83c4c", "filename": "src/librustc_codegen_llvm/mir/block.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fmir%2Fblock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fmir%2Fblock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fmir%2Fblock.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -17,7 +17,8 @@ use abi::{Abi, FnType, PassMode};\n use rustc_target::abi::call::ArgType;\n use base;\n use builder::MemFlags;\n-use common::{self, Funclet, IntPredicate};\n+use common::{self, Funclet};\n+use rustc_codegen_utils::common::IntPredicate;\n use meth;\n use monomorphize;\n "}, {"sha": "22ba0fda83bbca9fe8a9e12d8c722d73b1f80df2", "filename": "src/librustc_codegen_llvm/mir/place.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fmir%2Fplace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fmir%2Fplace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fmir%2Fplace.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -13,7 +13,7 @@ use rustc::ty::layout::{self, Align, TyLayout, LayoutOf, VariantIdx, HasTyCtxt};\n use rustc::mir;\n use rustc::mir::tcx::PlaceTy;\n use builder::MemFlags;\n-use common::IntPredicate;\n+use rustc_codegen_utils::common::IntPredicate;\n use type_of::LayoutLlvmExt;\n use glue;\n "}, {"sha": "15a225e4e241bf8a3b7e49f73099dc926982b72e", "filename": "src/librustc_codegen_llvm/mir/rvalue.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fmir%2Frvalue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_llvm%2Fmir%2Frvalue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fmir%2Frvalue.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -19,7 +19,8 @@ use std::{u128, i128};\n use base;\n use builder::MemFlags;\n use callee;\n-use common::{self, IntPredicate, RealPredicate};\n+use common::{self, RealPredicate};\n+use rustc_codegen_utils::common::IntPredicate;\n use monomorphize;\n use type_of::LayoutLlvmExt;\n "}, {"sha": "b5640cfab38811b03b6f23d3403190d5535898f1", "filename": "src/librustc_codegen_utils/common.rs", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_utils%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_utils%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_utils%2Fcommon.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -0,0 +1,22 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+pub enum IntPredicate {\n+    IntEQ,\n+    IntNE,\n+    IntUGT,\n+    IntUGE,\n+    IntULT,\n+    IntULE,\n+    IntSGT,\n+    IntSGE,\n+    IntSLT,\n+    IntSLE\n+}"}, {"sha": "2141a763d165a328bcaf6b88faba71f40f8b1468", "filename": "src/librustc_codegen_utils/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_utils%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39fd4d92740ce4f838326fbaa101ba951b757e39/src%2Flibrustc_codegen_utils%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_utils%2Flib.rs?ref=39fd4d92740ce4f838326fbaa101ba951b757e39", "patch": "@@ -54,6 +54,7 @@ pub mod codegen_backend;\n pub mod symbol_export;\n pub mod symbol_names;\n pub mod symbol_names_test;\n+pub mod common;\n \n /// check for the #[rustc_error] annotation, which forces an\n /// error in codegen. This is used to write compile-fail tests"}]}