{"sha": "90a37bce44d145715eeac9f1f2f34433fc813ef0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkwYTM3YmNlNDRkMTQ1NzE1ZWVhYzlmMWYyZjM0NDMzZmM4MTNlZjA=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2019-11-22T14:37:36Z"}, "committer": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2019-11-22T14:37:36Z"}, "message": "DO NOT MERGE: enable windows try builder", "tree": {"sha": "e11a8b0747ace1903cc83aa5d0aed940101cebff", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e11a8b0747ace1903cc83aa5d0aed940101cebff"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/90a37bce44d145715eeac9f1f2f34433fc813ef0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE1JbYPtLJAsc22U9xPgar6Auq8ZwFAl3X8rgACgkQPgar6Auq\n8ZyirA/6A8UjWSvb77FZwzhbf6Tm/JOFpKjL30sWrX8irbPQEAdGe1Bs1eJM27QM\nOxxfJxZTexQaITw22k4o0zDeqq792nxjFS7DCWzjC/dIQ1m0yX8dYFKvuv51cKBp\np0s35Cid7GCj0m6LFykWaoANVhALX94rbAlfdV0O/VkcSVVc5qtxH57Svadz6nht\ntaR+6jaPjJrqerTdHKNka4WDrt2z5xucX88GklACE5Z8flTdGivl/g0E0jN9e0v2\n/jIiae0Q1p/v1GSF09a/9uUVfUdMVr8Lg0VwpExIJa/fNfoIbSAdVFXrGlB+pyMs\nmrCjCKns3Ku2EcMr4X6EEnhedXNap3pyvK6kx3dszxY9M3X03fZfPDpQyg52lkRk\nlCa/wXH2grFemhEcKbBL5aNoNG3Fa5WN+u+8pNvZAooLypxiGvPJEl/+EjQJpkE4\nZiPG/cxjPTvnI7ZSdWXmg9Und725v6779ZWl0mk4xAE5YwcJ5ivfnkwQrncVukPA\nBKhO6eAGpD+BU1fmqsOFAWgTL5qYUTG8ij3+4kNZ5swGohMMJJVMpyBhwrLMQbtm\nI83s/Hs6hWLu7hxxSJFPUvKE9rJYyoX0l943AoNx5dILOXi3WLTdmWZ87tJ4Tr2L\n7HuqxSvFOY1AKIG6JCsrMxyKjxLe/A7jlMt86gO5XzX0r/4vTBY=\n=2dm7\n-----END PGP SIGNATURE-----", "payload": "tree e11a8b0747ace1903cc83aa5d0aed940101cebff\nparent ee12992da955d3ec8132b5c5c4579b3535da05e6\nauthor Pietro Albini <pietro@pietroalbini.org> 1574433456 +0100\ncommitter Pietro Albini <pietro@pietroalbini.org> 1574433456 +0100\n\nDO NOT MERGE: enable windows try builder\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/90a37bce44d145715eeac9f1f2f34433fc813ef0", "html_url": "https://github.com/rust-lang/rust/commit/90a37bce44d145715eeac9f1f2f34433fc813ef0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/90a37bce44d145715eeac9f1f2f34433fc813ef0/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ee12992da955d3ec8132b5c5c4579b3535da05e6", "url": "https://api.github.com/repos/rust-lang/rust/commits/ee12992da955d3ec8132b5c5c4579b3535da05e6", "html_url": "https://github.com/rust-lang/rust/commit/ee12992da955d3ec8132b5c5c4579b3535da05e6"}], "stats": {"total": 69, "additions": 10, "deletions": 59}, "files": [{"sha": "3732ab5458f9b061b13333c5d857ec250cd953dd", "filename": "src/ci/azure-pipelines/try.yml", "status": "modified", "additions": 10, "deletions": 59, "changes": 69, "blob_url": "https://github.com/rust-lang/rust/blob/90a37bce44d145715eeac9f1f2f34433fc813ef0/src%2Fci%2Fazure-pipelines%2Ftry.yml", "raw_url": "https://github.com/rust-lang/rust/raw/90a37bce44d145715eeac9f1f2f34433fc813ef0/src%2Fci%2Fazure-pipelines%2Ftry.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fazure-pipelines%2Ftry.yml?ref=90a37bce44d145715eeac9f1f2f34433fc813ef0", "patch": "@@ -6,68 +6,19 @@ variables:\n - group: prod-credentials\n \n jobs:\n-- job: Linux\n+- job: Windows\n   timeoutInMinutes: 600\n   pool:\n-    vmImage: ubuntu-16.04\n+    vmImage: 'vs2017-win2016'\n   steps:\n   - template: steps/run.yml\n   strategy:\n     matrix:\n-      dist-x86_64-linux: {}\n-      dist-x86_64-linux-alt:\n-        IMAGE: dist-x86_64-linux\n-\n-# The macOS and Windows builds here are currently disabled due to them not being\n-# overly necessary on `try` builds. We also don't actually have anything that\n-# consumes the artifacts currently. Perhaps one day we can reenable, but for now\n-# it helps free up capacity on Azure.\n-# - job: macOS\n-#   timeoutInMinutes: 600\n-#   pool:\n-#     vmImage: macos-10.13\n-#   steps:\n-#   - template: steps/run.yml\n-#   strategy:\n-#     matrix:\n-#       dist-x86_64-apple:\n-#         SCRIPT: ./x.py dist\n-#         RUST_CONFIGURE_ARGS: --target=aarch64-apple-ios,armv7-apple-ios,armv7s-apple-ios,i386-apple-ios,x86_64-apple-ios --enable-full-tools --enable-sanitizers --enable-profiler --set rust.jemalloc\n-#         DEPLOY: 1\n-#         RUSTC_RETRY_LINKER_ON_SEGFAULT: 1\n-#         MACOSX_DEPLOYMENT_TARGET: 10.7\n-#         NO_LLVM_ASSERTIONS: 1\n-#         NO_DEBUG_ASSERTIONS: 1\n-#         DIST_REQUIRE_ALL_TOOLS: 1\n-#\n-#       dist-x86_64-apple-alt:\n-#         SCRIPT: ./x.py dist\n-#         RUST_CONFIGURE_ARGS: --enable-extended --enable-profiler --set rust.jemalloc\n-#         DEPLOY_ALT: 1\n-#         RUSTC_RETRY_LINKER_ON_SEGFAULT: 1\n-#         MACOSX_DEPLOYMENT_TARGET: 10.7\n-#         NO_LLVM_ASSERTIONS: 1\n-#         NO_DEBUG_ASSERTIONS: 1\n-#\n-# - job: Windows\n-#   timeoutInMinutes: 600\n-#   pool:\n-#     vmImage: 'vs2017-win2016'\n-#   steps:\n-#   - template: steps/run.yml\n-#   strategy:\n-#     matrix:\n-#       dist-x86_64-msvc:\n-#         RUST_CONFIGURE_ARGS: >\n-#           --build=x86_64-pc-windows-msvc\n-#           --target=x86_64-pc-windows-msvc,aarch64-pc-windows-msvc\n-#           --enable-full-tools\n-#           --enable-profiler\n-#         SCRIPT: python x.py dist\n-#         DIST_REQUIRE_ALL_TOOLS: 1\n-#         DEPLOY: 1\n-#\n-#       dist-x86_64-msvc-alt:\n-#         RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-msvc --enable-extended --enable-profiler\n-#         SCRIPT: python x.py dist\n-#         DEPLOY_ALT: 1\n+      dist-x86_64-msvc:\n+        RUST_CONFIGURE_ARGS: >-\n+          --build=x86_64-pc-windows-msvc\n+          --target=x86_64-pc-windows-msvc,aarch64-pc-windows-msvc\n+          --enable-full-tools\n+          --enable-profiler\n+        SCRIPT: python x.py dist\n+        DIST_REQUIRE_ALL_TOOLS: 1"}]}