{"sha": "0e9d227c043c1b990912508662e2e5158383ea54", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlOWQyMjdjMDQzYzFiOTkwOTEyNTA4NjYyZTJlNTE1ODM4M2VhNTQ=", "commit": {"author": {"name": "Hirochika Matsumoto", "email": "matsujika@gmail.com", "date": "2020-09-20T15:11:28Z"}, "committer": {"name": "Hirochika Matsumoto", "email": "matsujika@gmail.com", "date": "2020-11-17T16:28:37Z"}, "message": "Add test cases", "tree": {"sha": "d65d69d0490092e8b751b92b890c0f18b673a7e4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d65d69d0490092e8b751b92b890c0f18b673a7e4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0e9d227c043c1b990912508662e2e5158383ea54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0e9d227c043c1b990912508662e2e5158383ea54", "html_url": "https://github.com/rust-lang/rust/commit/0e9d227c043c1b990912508662e2e5158383ea54", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0e9d227c043c1b990912508662e2e5158383ea54/comments", "author": {"login": "hkmatsumoto", "id": 57856193, "node_id": "MDQ6VXNlcjU3ODU2MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/57856193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hkmatsumoto", "html_url": "https://github.com/hkmatsumoto", "followers_url": "https://api.github.com/users/hkmatsumoto/followers", "following_url": "https://api.github.com/users/hkmatsumoto/following{/other_user}", "gists_url": "https://api.github.com/users/hkmatsumoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/hkmatsumoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hkmatsumoto/subscriptions", "organizations_url": "https://api.github.com/users/hkmatsumoto/orgs", "repos_url": "https://api.github.com/users/hkmatsumoto/repos", "events_url": "https://api.github.com/users/hkmatsumoto/events{/privacy}", "received_events_url": "https://api.github.com/users/hkmatsumoto/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hkmatsumoto", "id": 57856193, "node_id": "MDQ6VXNlcjU3ODU2MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/57856193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hkmatsumoto", "html_url": "https://github.com/hkmatsumoto", "followers_url": "https://api.github.com/users/hkmatsumoto/followers", "following_url": "https://api.github.com/users/hkmatsumoto/following{/other_user}", "gists_url": "https://api.github.com/users/hkmatsumoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/hkmatsumoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hkmatsumoto/subscriptions", "organizations_url": "https://api.github.com/users/hkmatsumoto/orgs", "repos_url": "https://api.github.com/users/hkmatsumoto/repos", "events_url": "https://api.github.com/users/hkmatsumoto/events{/privacy}", "received_events_url": "https://api.github.com/users/hkmatsumoto/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0335b8d6a747672c0a4ff6cb14b12eced3848325", "url": "https://api.github.com/repos/rust-lang/rust/commits/0335b8d6a747672c0a4ff6cb14b12eced3848325", "html_url": "https://github.com/rust-lang/rust/commit/0335b8d6a747672c0a4ff6cb14b12eced3848325"}], "stats": {"total": 34, "additions": 27, "deletions": 7}, "files": [{"sha": "e7e3120f82f329b51355620844aec13a93f1e4a9", "filename": "tests/ui/unnecessary_wrap.fixed", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/0e9d227c043c1b990912508662e2e5158383ea54/tests%2Fui%2Funnecessary_wrap.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/0e9d227c043c1b990912508662e2e5158383ea54/tests%2Fui%2Funnecessary_wrap.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_wrap.fixed?ref=0e9d227c043c1b990912508662e2e5158383ea54", "patch": "@@ -42,20 +42,30 @@ fn func4() -> Option<i32> {\n     Some(1)\n }\n \n+// should not be linted\n+fn func5() -> Option<i32> {\n+    None\n+}\n+\n // should be linted\n-fn func5() -> Result<i32, ()> {\n+fn func6() -> Result<i32, ()> {\n     Ok(1)\n }\n \n // should not be linted\n-fn func6(a: bool) -> Result<i32, ()> {\n+fn func7(a: bool) -> Result<i32, ()> {\n     if a {\n         Ok(1)\n     } else {\n         Err(())\n     }\n }\n \n+// should not be linted\n+fn func8(a: bool) -> Result<i32, ()> {\n+    Err(())\n+}\n+\n fn main() {\n     // method calls are not linted\n     func1(true, true);"}, {"sha": "e7e3120f82f329b51355620844aec13a93f1e4a9", "filename": "tests/ui/unnecessary_wrap.rs", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/0e9d227c043c1b990912508662e2e5158383ea54/tests%2Fui%2Funnecessary_wrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0e9d227c043c1b990912508662e2e5158383ea54/tests%2Fui%2Funnecessary_wrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_wrap.rs?ref=0e9d227c043c1b990912508662e2e5158383ea54", "patch": "@@ -42,20 +42,30 @@ fn func4() -> Option<i32> {\n     Some(1)\n }\n \n+// should not be linted\n+fn func5() -> Option<i32> {\n+    None\n+}\n+\n // should be linted\n-fn func5() -> Result<i32, ()> {\n+fn func6() -> Result<i32, ()> {\n     Ok(1)\n }\n \n // should not be linted\n-fn func6(a: bool) -> Result<i32, ()> {\n+fn func7(a: bool) -> Result<i32, ()> {\n     if a {\n         Ok(1)\n     } else {\n         Err(())\n     }\n }\n \n+// should not be linted\n+fn func8(a: bool) -> Result<i32, ()> {\n+    Err(())\n+}\n+\n fn main() {\n     // method calls are not linted\n     func1(true, true);"}, {"sha": "76859fac589fb90bbde3de6993bfb0d8f74b5b25", "filename": "tests/ui/unnecessary_wrap.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0e9d227c043c1b990912508662e2e5158383ea54/tests%2Fui%2Funnecessary_wrap.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0e9d227c043c1b990912508662e2e5158383ea54/tests%2Fui%2Funnecessary_wrap.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_wrap.stderr?ref=0e9d227c043c1b990912508662e2e5158383ea54", "patch": "@@ -36,16 +36,16 @@ LL |     1\n    |\n \n error: this function returns unnecessarily wrapping data\n-  --> $DIR/unnecessary_wrap.rs:46:1\n+  --> $DIR/unnecessary_wrap.rs:51:1\n    |\n-LL | / fn func5() -> Result<i32, ()> {\n+LL | / fn func6() -> Result<i32, ()> {\n LL | |     Ok(1)\n LL | | }\n    | |_^\n    |\n help: factor this out to\n    |\n-LL | fn func5() -> i32 {\n+LL | fn func6() -> i32 {\n LL |     1\n    |\n "}]}