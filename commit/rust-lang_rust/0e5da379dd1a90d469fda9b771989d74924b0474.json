{"sha": "0e5da379dd1a90d469fda9b771989d74924b0474", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlNWRhMzc5ZGQxYTkwZDQ2OWZkYTliNzcxOTg5ZDc0OTI0YjA0NzQ=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2012-03-08T10:21:22Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2012-03-15T07:59:29Z"}, "message": "Turn on monomorphization by default", "tree": {"sha": "3b9f5ac8934b8a18699833d5fee4f85df24a73eb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3b9f5ac8934b8a18699833d5fee4f85df24a73eb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0e5da379dd1a90d469fda9b771989d74924b0474", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0e5da379dd1a90d469fda9b771989d74924b0474", "html_url": "https://github.com/rust-lang/rust/commit/0e5da379dd1a90d469fda9b771989d74924b0474", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0e5da379dd1a90d469fda9b771989d74924b0474/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c67679ea0331d2058c8cb3cd68700bd5f515a2d5", "url": "https://api.github.com/repos/rust-lang/rust/commits/c67679ea0331d2058c8cb3cd68700bd5f515a2d5", "html_url": "https://github.com/rust-lang/rust/commit/c67679ea0331d2058c8cb3cd68700bd5f515a2d5"}], "stats": {"total": 8, "additions": 1, "deletions": 7}, "files": [{"sha": "0c4d46196b462c832677f8a25a9aa368619d44c6", "filename": "src/rustc/driver/driver.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0e5da379dd1a90d469fda9b771989d74924b0474/src%2Frustc%2Fdriver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0e5da379dd1a90d469fda9b771989d74924b0474/src%2Frustc%2Fdriver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fdriver%2Fdriver.rs?ref=0e5da379dd1a90d469fda9b771989d74924b0474", "patch": "@@ -366,7 +366,6 @@ fn build_session_options(match: getopts::match,\n     if opt_present(match, \"no-lint-ctypes\") {\n         lint_opts += [(lint::ctypes, false)];\n     }\n-    let monomorphize = opt_present(match, \"monomorphize\");\n \n     let output_type =\n         if parse_only || no_trans {\n@@ -445,7 +444,6 @@ fn build_session_options(match: getopts::match,\n           parse_only: parse_only,\n           no_trans: no_trans,\n           no_asm_comments: no_asm_comments,\n-          monomorphize: monomorphize,\n           warn_unused_imports: warn_unused_imports,\n           enforce_mut_vars: enforce_mut_vars};\n     ret sopts;\n@@ -520,7 +518,6 @@ fn opts() -> [getopts::opt] {\n          optflag(\"time-passes\"), optflag(\"time-llvm-passes\"),\n          optflag(\"no-verify\"),\n          optflag(\"no-lint-ctypes\"),\n-         optflag(\"monomorphize\"),\n          optmulti(\"cfg\"), optflag(\"test\"),\n          optflag(\"lib\"), optflag(\"bin\"), optflag(\"static\"), optflag(\"gc\"),\n          optflag(\"no-asm-comments\"),"}, {"sha": "081b18b08dd97cc35b0dd678bdba23884e77fe6b", "filename": "src/rustc/driver/session.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0e5da379dd1a90d469fda9b771989d74924b0474/src%2Frustc%2Fdriver%2Fsession.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0e5da379dd1a90d469fda9b771989d74924b0474/src%2Frustc%2Fdriver%2Fsession.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fdriver%2Fsession.rs?ref=0e5da379dd1a90d469fda9b771989d74924b0474", "patch": "@@ -45,7 +45,6 @@ type options =\n      parse_only: bool,\n      no_trans: bool,\n      no_asm_comments: bool,\n-     monomorphize: bool,\n      warn_unused_imports: bool,\n      enforce_mut_vars: bool};\n "}, {"sha": "b5792ef640517451c1d57bc5fb78e40562be8c28", "filename": "src/rustc/middle/trans/base.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0e5da379dd1a90d469fda9b771989d74924b0474/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0e5da379dd1a90d469fda9b771989d74924b0474/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=0e5da379dd1a90d469fda9b771989d74924b0474", "patch": "@@ -2229,8 +2229,7 @@ fn lval_static_fn(bcx: block, fn_id: ast::def_id, id: ast::node_id,\n     // The awkwardness below mostly stems from the fact that we're mixing\n     // monomorphized and non-monomorphized functions at the moment. If\n     // monomorphizing becomes the only approach, this'll be much simpler.\n-    if ccx.sess.opts.monomorphize &&\n-       (option::is_some(substs) || tys.len() > 0u) &&\n+    if (option::is_some(substs) || tys.len() > 0u) &&\n        fn_id.crate == ast::local_crate &&\n        !vec::any(tys, {|t| ty::type_has_params(t)}) {\n         let mono = alt substs {"}, {"sha": "67b769d57dbc8d3cc13651ec681446194d1d8352", "filename": "src/rustdoc/astsrv.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0e5da379dd1a90d469fda9b771989d74924b0474/src%2Frustdoc%2Fastsrv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0e5da379dd1a90d469fda9b771989d74924b0474/src%2Frustdoc%2Fastsrv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fastsrv.rs?ref=0e5da379dd1a90d469fda9b771989d74924b0474", "patch": "@@ -145,7 +145,6 @@ fn build_session() -> (session::session, @mutable bool) {\n         parse_only: false,\n         no_trans: false,\n         no_asm_comments: false,\n-        monomorphize: false,\n         warn_unused_imports: false,\n         enforce_mut_vars: false\n     };"}]}