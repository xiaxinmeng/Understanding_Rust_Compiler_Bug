{"sha": "4a18d46130e13aad28fc072dafdd7e7b4baa8736", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhMThkNDYxMzBlMTNhYWQyOGZjMDcyZGFmZGQ3ZTdiNGJhYTg3MzY=", "commit": {"author": {"name": "jmgrosen", "email": "jmgrosen@gmail.com", "date": "2013-09-03T23:11:00Z"}, "committer": {"name": "jmgrosen", "email": "jmgrosen@gmail.com", "date": "2013-09-03T23:11:00Z"}, "message": "Fixes #8881. condition! imports parent's pub identifiers", "tree": {"sha": "55bf5d196fff7b938cfb7aa16374a897f8a3b653", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/55bf5d196fff7b938cfb7aa16374a897f8a3b653"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4a18d46130e13aad28fc072dafdd7e7b4baa8736", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4a18d46130e13aad28fc072dafdd7e7b4baa8736", "html_url": "https://github.com/rust-lang/rust/commit/4a18d46130e13aad28fc072dafdd7e7b4baa8736", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4a18d46130e13aad28fc072dafdd7e7b4baa8736/comments", "author": {"login": "jmgrosen", "id": 442136, "node_id": "MDQ6VXNlcjQ0MjEzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/442136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmgrosen", "html_url": "https://github.com/jmgrosen", "followers_url": "https://api.github.com/users/jmgrosen/followers", "following_url": "https://api.github.com/users/jmgrosen/following{/other_user}", "gists_url": "https://api.github.com/users/jmgrosen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmgrosen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmgrosen/subscriptions", "organizations_url": "https://api.github.com/users/jmgrosen/orgs", "repos_url": "https://api.github.com/users/jmgrosen/repos", "events_url": "https://api.github.com/users/jmgrosen/events{/privacy}", "received_events_url": "https://api.github.com/users/jmgrosen/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jmgrosen", "id": 442136, "node_id": "MDQ6VXNlcjQ0MjEzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/442136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmgrosen", "html_url": "https://github.com/jmgrosen", "followers_url": "https://api.github.com/users/jmgrosen/followers", "following_url": "https://api.github.com/users/jmgrosen/following{/other_user}", "gists_url": "https://api.github.com/users/jmgrosen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmgrosen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmgrosen/subscriptions", "organizations_url": "https://api.github.com/users/jmgrosen/orgs", "repos_url": "https://api.github.com/users/jmgrosen/repos", "events_url": "https://api.github.com/users/jmgrosen/events{/privacy}", "received_events_url": "https://api.github.com/users/jmgrosen/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fc9fa2cb6ca2b0979137134713fe3f693090a9d9", "url": "https://api.github.com/repos/rust-lang/rust/commits/fc9fa2cb6ca2b0979137134713fe3f693090a9d9", "html_url": "https://github.com/rust-lang/rust/commit/fc9fa2cb6ca2b0979137134713fe3f693090a9d9"}], "stats": {"total": 33, "additions": 23, "deletions": 10}, "files": [{"sha": "16ee9c1afb44590040269461a3da0bba4e1325ec", "filename": "src/librustpkg/conditions.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/4a18d46130e13aad28fc072dafdd7e7b4baa8736/src%2Flibrustpkg%2Fconditions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4a18d46130e13aad28fc072dafdd7e7b4baa8736/src%2Flibrustpkg%2Fconditions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustpkg%2Fconditions.rs?ref=4a18d46130e13aad28fc072dafdd7e7b4baa8736", "patch": "@@ -14,33 +14,33 @@ pub use std::path::Path;\n pub use package_id::PkgId;\n \n condition! {\n-    bad_path: (super::Path, ~str) -> super::Path;\n+    bad_path: (Path, ~str) -> Path;\n }\n \n condition! {\n-    nonexistent_package: (super::PkgId, ~str) -> super::Path;\n+    nonexistent_package: (PkgId, ~str) -> Path;\n }\n \n condition! {\n-    copy_failed: (super::Path, super::Path) -> ();\n+    copy_failed: (Path, Path) -> ();\n }\n \n condition! {\n-    missing_pkg_files: (super::PkgId) -> ();\n+    missing_pkg_files: (PkgId) -> ();\n }\n \n condition! {\n-    bad_pkg_id: (super::Path, ~str) -> super::PkgId;\n+    bad_pkg_id: (Path, ~str) -> PkgId;\n }\n \n condition! {\n-    no_rust_path: (~str) -> super::Path;\n+    no_rust_path: (~str) -> Path;\n }\n \n condition! {\n-    not_a_workspace: (~str) -> super::Path;\n+    not_a_workspace: (~str) -> Path;\n }\n \n condition! {\n-    failed_to_create_temp_dir: (~str) -> super::Path;\n+    failed_to_create_temp_dir: (~str) -> Path;\n }"}, {"sha": "8e7129578ee6759fd6fc825282f23a2cb487672e", "filename": "src/libstd/c_str.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4a18d46130e13aad28fc072dafdd7e7b4baa8736/src%2Flibstd%2Fc_str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4a18d46130e13aad28fc072dafdd7e7b4baa8736/src%2Flibstd%2Fc_str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fc_str.rs?ref=4a18d46130e13aad28fc072dafdd7e7b4baa8736", "patch": "@@ -29,6 +29,8 @@ pub enum NullByteResolution {\n \n condition! {\n     // this should be &[u8] but there's a lifetime issue\n+    // NOTE: this super::NullByteResolution should be NullByteResolution\n+    // Change this next time the snapshot it updated.\n     null_byte: (~[u8]) -> super::NullByteResolution;\n }\n "}, {"sha": "a2002c989f0b1b431364b6be184efc6a8b8a96b4", "filename": "src/libstd/rt/io/mod.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4a18d46130e13aad28fc072dafdd7e7b4baa8736/src%2Flibstd%2Frt%2Fio%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4a18d46130e13aad28fc072dafdd7e7b4baa8736/src%2Flibstd%2Frt%2Fio%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frt%2Fio%2Fmod.rs?ref=4a18d46130e13aad28fc072dafdd7e7b4baa8736", "patch": "@@ -385,13 +385,17 @@ impl ToStr for IoErrorKind {\n // Raised by `I/O` operations on error.\n condition! {\n     // FIXME (#6009): uncomment `pub` after expansion support lands.\n+    // NOTE: this super::IoError should be IoError\n+    // Change this next time the snapshot it updated.\n     /*pub*/ io_error: super::IoError -> ();\n }\n \n // XXX: Can't put doc comments on macros\n // Raised by `read` on error\n condition! {\n     // FIXME (#6009): uncomment `pub` after expansion support lands.\n+    // NOTE: this super::IoError should be IoError\n+    // Change this next time the snapshot it updated.\n     /*pub*/ read_error: super::IoError -> ();\n }\n "}, {"sha": "f183067a9c179d6f6fb7abaa70a18d57ca250f18", "filename": "src/libsyntax/ext/expand.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/4a18d46130e13aad28fc072dafdd7e7b4baa8736/src%2Flibsyntax%2Fext%2Fexpand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4a18d46130e13aad28fc072dafdd7e7b4baa8736/src%2Flibsyntax%2Fext%2Fexpand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fexpand.rs?ref=4a18d46130e13aad28fc072dafdd7e7b4baa8736", "patch": "@@ -889,7 +889,11 @@ pub fn std_macros() -> @str {\n         { pub $c:ident: $input:ty -> $out:ty; } => {\n \n             pub mod $c {\n+                #[allow(unused_imports)];\n                 #[allow(non_uppercase_statics)];\n+\n+                use super::*;\n+\n                 static key: ::std::local_data::Key<\n                     @::std::condition::Handler<$input, $out>> =\n                     &::std::local_data::Key;\n@@ -907,7 +911,11 @@ pub fn std_macros() -> @str {\n \n             // FIXME (#6009): remove mod's `pub` below once variant above lands.\n             pub mod $c {\n+                #[allow(unused_imports)];\n                 #[allow(non_uppercase_statics)];\n+\n+                use super::*;\n+\n                 static key: ::std::local_data::Key<\n                     @::std::condition::Handler<$input, $out>> =\n                     &::std::local_data::Key;"}, {"sha": "e98e6929970b040c2cc4083cfa6c8124cb8cae04", "filename": "src/test/auxiliary/xc_conditions_4.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4a18d46130e13aad28fc072dafdd7e7b4baa8736/src%2Ftest%2Fauxiliary%2Fxc_conditions_4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4a18d46130e13aad28fc072dafdd7e7b4baa8736/src%2Ftest%2Fauxiliary%2Fxc_conditions_4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fxc_conditions_4.rs?ref=4a18d46130e13aad28fc072dafdd7e7b4baa8736", "patch": "@@ -16,7 +16,7 @@ pub enum Color {\n }\n \n condition! {\n-    pub oops: (int,float,~str) -> ::Color;\n+    pub oops: (int,float,~str) -> Color;\n }\n \n pub trait Thunk<T> {\n@@ -26,4 +26,3 @@ pub trait Thunk<T> {\n pub fn callback<T,TH:Thunk<T>>(t:TH) -> T {\n     t.call()\n }\n-"}]}