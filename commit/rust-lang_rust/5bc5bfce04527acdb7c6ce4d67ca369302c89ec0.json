{"sha": "5bc5bfce04527acdb7c6ce4d67ca369302c89ec0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViYzViZmNlMDQ1MjdhY2RiN2M2Y2U0ZDY3Y2EzNjkzMDJjODllYzA=", "commit": {"author": {"name": "Devin Ragotzy", "email": "devin.ragotzy@gmail.com", "date": "2021-07-21T11:28:52Z"}, "committer": {"name": "Devin Ragotzy", "email": "devin.ragotzy@gmail.com", "date": "2021-07-24T11:30:22Z"}, "message": "Add tests for FP in nonstandard_macro_braces", "tree": {"sha": "26158b61dca8330ffee61c0c68e2645b752bcff3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/26158b61dca8330ffee61c0c68e2645b752bcff3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5bc5bfce04527acdb7c6ce4d67ca369302c89ec0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5bc5bfce04527acdb7c6ce4d67ca369302c89ec0", "html_url": "https://github.com/rust-lang/rust/commit/5bc5bfce04527acdb7c6ce4d67ca369302c89ec0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5bc5bfce04527acdb7c6ce4d67ca369302c89ec0/comments", "author": {"login": "DevinR528", "id": 29749111, "node_id": "MDQ6VXNlcjI5NzQ5MTEx", "avatar_url": "https://avatars.githubusercontent.com/u/29749111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DevinR528", "html_url": "https://github.com/DevinR528", "followers_url": "https://api.github.com/users/DevinR528/followers", "following_url": "https://api.github.com/users/DevinR528/following{/other_user}", "gists_url": "https://api.github.com/users/DevinR528/gists{/gist_id}", "starred_url": "https://api.github.com/users/DevinR528/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DevinR528/subscriptions", "organizations_url": "https://api.github.com/users/DevinR528/orgs", "repos_url": "https://api.github.com/users/DevinR528/repos", "events_url": "https://api.github.com/users/DevinR528/events{/privacy}", "received_events_url": "https://api.github.com/users/DevinR528/received_events", "type": "User", "site_admin": false}, "committer": {"login": "DevinR528", "id": 29749111, "node_id": "MDQ6VXNlcjI5NzQ5MTEx", "avatar_url": "https://avatars.githubusercontent.com/u/29749111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DevinR528", "html_url": "https://github.com/DevinR528", "followers_url": "https://api.github.com/users/DevinR528/followers", "following_url": "https://api.github.com/users/DevinR528/following{/other_user}", "gists_url": "https://api.github.com/users/DevinR528/gists{/gist_id}", "starred_url": "https://api.github.com/users/DevinR528/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DevinR528/subscriptions", "organizations_url": "https://api.github.com/users/DevinR528/orgs", "repos_url": "https://api.github.com/users/DevinR528/repos", "events_url": "https://api.github.com/users/DevinR528/events{/privacy}", "received_events_url": "https://api.github.com/users/DevinR528/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fb9b13a69ff7a65db793c442f8ac0381fe755da9", "url": "https://api.github.com/repos/rust-lang/rust/commits/fb9b13a69ff7a65db793c442f8ac0381fe755da9", "html_url": "https://github.com/rust-lang/rust/commit/fb9b13a69ff7a65db793c442f8ac0381fe755da9"}], "stats": {"total": 49, "additions": 36, "deletions": 13}, "files": [{"sha": "50ee363c3add391969d44238188916bcdc6e4444", "filename": "tests/ui-toml/nonstandard_macro_braces/clippy.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5bc5bfce04527acdb7c6ce4d67ca369302c89ec0/tests%2Fui-toml%2Fnonstandard_macro_braces%2Fclippy.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5bc5bfce04527acdb7c6ce4d67ca369302c89ec0/tests%2Fui-toml%2Fnonstandard_macro_braces%2Fclippy.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fnonstandard_macro_braces%2Fclippy.toml?ref=5bc5bfce04527acdb7c6ce4d67ca369302c89ec0", "patch": "@@ -3,4 +3,5 @@ standard-macro-braces = [\n     { name = \"quote::quote\", brace = \"{\" },\n     { name = \"eprint\", brace = \"[\" },\n     { name = \"type_pos\", brace = \"[\" },\n+    { name = \"printlnfoo\", brace = \"[\" },\n ]"}, {"sha": "3d884abb4c6a9f850de6b0efd88bf0a287ea46b4", "filename": "tests/ui-toml/nonstandard_macro_braces/conf_nonstandard_macro_braces.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5bc5bfce04527acdb7c6ce4d67ca369302c89ec0/tests%2Fui-toml%2Fnonstandard_macro_braces%2Fconf_nonstandard_macro_braces.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5bc5bfce04527acdb7c6ce4d67ca369302c89ec0/tests%2Fui-toml%2Fnonstandard_macro_braces%2Fconf_nonstandard_macro_braces.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fnonstandard_macro_braces%2Fconf_nonstandard_macro_braces.rs?ref=5bc5bfce04527acdb7c6ce4d67ca369302c89ec0", "patch": "@@ -32,6 +32,12 @@ macro_rules! type_pos {\n     };\n }\n \n+macro_rules! printlnfoo {\n+    ($thing:expr) => {\n+        println!(\"hey {}\", $thing)\n+    };\n+}\n+\n #[rustfmt::skip]\n fn main() {\n     let _ = vec! {1, 2, 3};\n@@ -49,4 +55,8 @@ fn main() {\n     let _: type_pos!(usize) = vec![];\n \n     eprint!(\"test if user config overrides defaults\");\n+\n+    println!(\"test if println triggers for printlnfoo\");\n+\n+    printlnfoo!(\"you\");\n }"}, {"sha": "4c3194e258e0a564f0ab881cb5f61fb57267c505", "filename": "tests/ui-toml/nonstandard_macro_braces/conf_nonstandard_macro_braces.stderr", "status": "modified", "additions": 25, "deletions": 13, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/5bc5bfce04527acdb7c6ce4d67ca369302c89ec0/tests%2Fui-toml%2Fnonstandard_macro_braces%2Fconf_nonstandard_macro_braces.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5bc5bfce04527acdb7c6ce4d67ca369302c89ec0/tests%2Fui-toml%2Fnonstandard_macro_braces%2Fconf_nonstandard_macro_braces.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fnonstandard_macro_braces%2Fconf_nonstandard_macro_braces.stderr?ref=5bc5bfce04527acdb7c6ce4d67ca369302c89ec0", "patch": "@@ -1,48 +1,48 @@\n error: use of irregular braces for `vec!` macro\n-  --> $DIR/conf_nonstandard_macro_braces.rs:37:13\n+  --> $DIR/conf_nonstandard_macro_braces.rs:43:13\n    |\n LL |     let _ = vec! {1, 2, 3};\n    |             ^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::nonstandard-macro-braces` implied by `-D warnings`\n help: consider writing `vec![1, 2, 3]`\n-  --> $DIR/conf_nonstandard_macro_braces.rs:37:13\n+  --> $DIR/conf_nonstandard_macro_braces.rs:43:13\n    |\n LL |     let _ = vec! {1, 2, 3};\n    |             ^^^^^^^^^^^^^^\n \n error: use of irregular braces for `format!` macro\n-  --> $DIR/conf_nonstandard_macro_braces.rs:38:13\n+  --> $DIR/conf_nonstandard_macro_braces.rs:44:13\n    |\n LL |     let _ = format![\"ugh {} stop being such a good compiler\", \"hello\"];\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n help: consider writing `format!(\"ugh () stop being such a good compiler\", \"hello\")`\n-  --> $DIR/conf_nonstandard_macro_braces.rs:38:13\n+  --> $DIR/conf_nonstandard_macro_braces.rs:44:13\n    |\n LL |     let _ = format![\"ugh {} stop being such a good compiler\", \"hello\"];\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: use of irregular braces for `quote!` macro\n-  --> $DIR/conf_nonstandard_macro_braces.rs:39:13\n+  --> $DIR/conf_nonstandard_macro_braces.rs:45:13\n    |\n LL |     let _ = quote!(let x = 1;);\n    |             ^^^^^^^^^^^^^^^^^^\n    |\n help: consider writing `quote! {let x = 1;}`\n-  --> $DIR/conf_nonstandard_macro_braces.rs:39:13\n+  --> $DIR/conf_nonstandard_macro_braces.rs:45:13\n    |\n LL |     let _ = quote!(let x = 1;);\n    |             ^^^^^^^^^^^^^^^^^^\n \n error: use of irregular braces for `quote::quote!` macro\n-  --> $DIR/conf_nonstandard_macro_braces.rs:40:13\n+  --> $DIR/conf_nonstandard_macro_braces.rs:46:13\n    |\n LL |     let _ = quote::quote!(match match match);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n help: consider writing `quote::quote! {match match match}`\n-  --> $DIR/conf_nonstandard_macro_braces.rs:40:13\n+  --> $DIR/conf_nonstandard_macro_braces.rs:46:13\n    |\n LL |     let _ = quote::quote!(match match match);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -67,28 +67,40 @@ LL |     let _ = test!();\n    = note: this error originates in the macro `test` (in Nightly builds, run with -Z macro-backtrace for more info)\n \n error: use of irregular braces for `type_pos!` macro\n-  --> $DIR/conf_nonstandard_macro_braces.rs:49:12\n+  --> $DIR/conf_nonstandard_macro_braces.rs:55:12\n    |\n LL |     let _: type_pos!(usize) = vec![];\n    |            ^^^^^^^^^^^^^^^^\n    |\n help: consider writing `type_pos![usize]`\n-  --> $DIR/conf_nonstandard_macro_braces.rs:49:12\n+  --> $DIR/conf_nonstandard_macro_braces.rs:55:12\n    |\n LL |     let _: type_pos!(usize) = vec![];\n    |            ^^^^^^^^^^^^^^^^\n \n error: use of irregular braces for `eprint!` macro\n-  --> $DIR/conf_nonstandard_macro_braces.rs:51:5\n+  --> $DIR/conf_nonstandard_macro_braces.rs:57:5\n    |\n LL |     eprint!(\"test if user config overrides defaults\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n help: consider writing `eprint![\"test if user config overrides defaults\"];`\n-  --> $DIR/conf_nonstandard_macro_braces.rs:51:5\n+  --> $DIR/conf_nonstandard_macro_braces.rs:57:5\n    |\n LL |     eprint!(\"test if user config overrides defaults\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error: aborting due to 7 previous errors\n+error: use of irregular braces for `printlnfoo!` macro\n+  --> $DIR/conf_nonstandard_macro_braces.rs:61:5\n+   |\n+LL |     printlnfoo!(\"you\");\n+   |     ^^^^^^^^^^^^^^^^^^^\n+   |\n+help: consider writing `printlnfoo![\"you\"];`\n+  --> $DIR/conf_nonstandard_macro_braces.rs:61:5\n+   |\n+LL |     printlnfoo!(\"you\");\n+   |     ^^^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to 8 previous errors\n "}]}