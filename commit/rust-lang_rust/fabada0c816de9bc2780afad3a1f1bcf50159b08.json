{"sha": "fabada0c816de9bc2780afad3a1f1bcf50159b08", "node_id": "C_kwDOAAsO6NoAKGZhYmFkYTBjODE2ZGU5YmMyNzgwYWZhZDNhMWYxYmNmNTAxNTliMDg", "commit": {"author": {"name": "Philipp Krones", "email": "hello@philkrones.com", "date": "2023-02-10T10:38:56Z"}, "committer": {"name": "Philipp Krones", "email": "hello@philkrones.com", "date": "2023-02-10T10:47:35Z"}, "message": "Fix CLI of clippy_dev\n\nClap was updated in rust-lang/rust-clippy#10270, which broke the command\nline of clippy_dev. This swaps out contains_id, which now returns always\ntrue in the places it was used with get_flag.", "tree": {"sha": "71f63288cdb3b5628c737ed4b8d60d00f5a72a07", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/71f63288cdb3b5628c737ed4b8d60d00f5a72a07"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fabada0c816de9bc2780afad3a1f1bcf50159b08", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEij1UXJ/PQTcb99vTHKDfKvWdaKUFAmPmIMkACgkQHKDfKvWd\naKUFdBAAwkzGGM7+GlK+Cu1k8+7VVPnvyzSpmA/jNHBIlnMseVR1Yi5+z/euBMdV\nITw7VcmfIkadzNEsKYYI/V0ZxxkLZerxpPNKI4R1B750TRZJy5oz7aziLNCrGyCd\n5vTKS/qUIptuGZHgNA19xqDFaFwJc90SHS8vd1oZV4Eg+QiLXMadVOZvk18U7KGa\nsbm0RcDho2O5va6ilALwxrdt59E+8pixjuOD7yv1cBrD2JiMJxl/7clDU1sIPHcq\nWWskrKntIynIqccjYiKoo1ZhaGQHOB5V1TmEXiI8HnikITwAUf/2Uw/AIN9qXL6F\nzdM10hwrwiyw4rgV+k7gi0EMJifrQq1vS6MTTwgGT+K09u0uARXqNXGAw9/cRKSZ\nBtWUespAoHJLtwgwreceFdPfWZzCIJJtrvYokNXqGQRAd1W+iUolaMetUeaR0ubU\nAVspJSYXmSmdF05RhiDiiSqt44H7bbBbL+kRk0MyZ/XIWH0uFj566Kipwkh4RJ2e\nj/qDHZQVspWW8qGJ4+lVhtDKYOaZ9lO88qiLJn57dsfIDJKgKl/3bMDqM7w9aIuf\nUHoqVlMVTgTZtr6JjjajL+H0xq6t+i17+h38QN3pEws08oN2USg6IYA9Djn7IGJp\n+pAqfXiCHk08qs1jDqRLmoF+kIO2pa0NRngaBFVyseIH3F7mhHc=\n=xpyL\n-----END PGP SIGNATURE-----", "payload": "tree 71f63288cdb3b5628c737ed4b8d60d00f5a72a07\nparent 5adeebf92fd5a639d2cb51c7374fc212e5de568f\nauthor Philipp Krones <hello@philkrones.com> 1676025536 +0100\ncommitter Philipp Krones <hello@philkrones.com> 1676026055 +0100\n\nFix CLI of clippy_dev\n\nClap was updated in rust-lang/rust-clippy#10270, which broke the command\nline of clippy_dev. This swaps out contains_id, which now returns always\ntrue in the places it was used with get_flag.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fabada0c816de9bc2780afad3a1f1bcf50159b08", "html_url": "https://github.com/rust-lang/rust/commit/fabada0c816de9bc2780afad3a1f1bcf50159b08", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fabada0c816de9bc2780afad3a1f1bcf50159b08/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5adeebf92fd5a639d2cb51c7374fc212e5de568f", "url": "https://api.github.com/repos/rust-lang/rust/commits/5adeebf92fd5a639d2cb51c7374fc212e5de568f", "html_url": "https://github.com/rust-lang/rust/commit/5adeebf92fd5a639d2cb51c7374fc212e5de568f"}], "stats": {"total": 28, "additions": 14, "deletions": 14}, "files": [{"sha": "e2457e5a8a5e9215d8f18fefd32ca379a723b972", "filename": "clippy_dev/src/main.rs", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/fabada0c816de9bc2780afad3a1f1bcf50159b08/clippy_dev%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fabada0c816de9bc2780afad3a1f1bcf50159b08/clippy_dev%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fmain.rs?ref=fabada0c816de9bc2780afad3a1f1bcf50159b08", "patch": "@@ -11,22 +11,22 @@ fn main() {\n \n     match matches.subcommand() {\n         Some((\"bless\", matches)) => {\n-            bless::bless(matches.contains_id(\"ignore-timestamp\"));\n+            bless::bless(matches.get_flag(\"ignore-timestamp\"));\n         },\n         Some((\"dogfood\", matches)) => {\n             dogfood::dogfood(\n-                matches.contains_id(\"fix\"),\n-                matches.contains_id(\"allow-dirty\"),\n-                matches.contains_id(\"allow-staged\"),\n+                matches.get_flag(\"fix\"),\n+                matches.get_flag(\"allow-dirty\"),\n+                matches.get_flag(\"allow-staged\"),\n             );\n         },\n         Some((\"fmt\", matches)) => {\n-            fmt::run(matches.contains_id(\"check\"), matches.contains_id(\"verbose\"));\n+            fmt::run(matches.get_flag(\"check\"), matches.get_flag(\"verbose\"));\n         },\n         Some((\"update_lints\", matches)) => {\n-            if matches.contains_id(\"print-only\") {\n+            if matches.get_flag(\"print-only\") {\n                 update_lints::print_lints();\n-            } else if matches.contains_id(\"check\") {\n+            } else if matches.get_flag(\"check\") {\n                 update_lints::update(update_lints::UpdateMode::Check);\n             } else {\n                 update_lints::update(update_lints::UpdateMode::Change);\n@@ -38,15 +38,15 @@ fn main() {\n                 matches.get_one::<String>(\"name\"),\n                 matches.get_one::<String>(\"category\").map(String::as_str),\n                 matches.get_one::<String>(\"type\").map(String::as_str),\n-                matches.contains_id(\"msrv\"),\n+                matches.get_flag(\"msrv\"),\n             ) {\n                 Ok(_) => update_lints::update(update_lints::UpdateMode::Change),\n                 Err(e) => eprintln!(\"Unable to create lint: {e}\"),\n             }\n         },\n         Some((\"setup\", sub_command)) => match sub_command.subcommand() {\n             Some((\"intellij\", matches)) => {\n-                if matches.contains_id(\"remove\") {\n+                if matches.get_flag(\"remove\") {\n                     setup::intellij::remove_rustc_src();\n                 } else {\n                     setup::intellij::setup_rustc_src(\n@@ -57,17 +57,17 @@ fn main() {\n                 }\n             },\n             Some((\"git-hook\", matches)) => {\n-                if matches.contains_id(\"remove\") {\n+                if matches.get_flag(\"remove\") {\n                     setup::git_hook::remove_hook();\n                 } else {\n-                    setup::git_hook::install_hook(matches.contains_id(\"force-override\"));\n+                    setup::git_hook::install_hook(matches.get_flag(\"force-override\"));\n                 }\n             },\n             Some((\"vscode-tasks\", matches)) => {\n-                if matches.contains_id(\"remove\") {\n+                if matches.get_flag(\"remove\") {\n                     setup::vscode::remove_tasks();\n                 } else {\n-                    setup::vscode::install_tasks(matches.contains_id(\"force-override\"));\n+                    setup::vscode::install_tasks(matches.get_flag(\"force-override\"));\n                 }\n             },\n             _ => {},\n@@ -91,7 +91,7 @@ fn main() {\n         Some((\"rename_lint\", matches)) => {\n             let old_name = matches.get_one::<String>(\"old_name\").unwrap();\n             let new_name = matches.get_one::<String>(\"new_name\").unwrap_or(old_name);\n-            let uplift = matches.contains_id(\"uplift\");\n+            let uplift = matches.get_flag(\"uplift\");\n             update_lints::rename(old_name, new_name, uplift);\n         },\n         Some((\"deprecate\", matches)) => {"}]}