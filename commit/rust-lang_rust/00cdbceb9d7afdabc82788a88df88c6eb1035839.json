{"sha": "00cdbceb9d7afdabc82788a88df88c6eb1035839", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAwY2RiY2ViOWQ3YWZkYWJjODI3ODhhODhkZjg4YzZlYjEwMzU4Mzk=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-04-09T20:52:41Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-04-09T20:52:41Z"}, "message": "Merge #8453\n\n8453: Avoid an unnecessary `collect` r=jonas-schievink a=jonas-schievink\n\nbors r+\n\nCo-authored-by: Jonas Schievink <jonasschievink@gmail.com>", "tree": {"sha": "02fd9fd5dc8dd425e717d8237d622ef0336f3c05", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/02fd9fd5dc8dd425e717d8237d622ef0336f3c05"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/00cdbceb9d7afdabc82788a88df88c6eb1035839", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgcL6ZCRBK7hj4Ov3rIwAAdHIIAGd0zc42OyNjDD6/8EV3CiJV\ncoPshZA7juhdgOfrV9yh7qocfX/216f2Ruv+lYgiYLaiCzIm1rqwGqBAP0GO7W/K\nnAMVSW7ju4R0y+dtUCZM4O+GE/kJXlryneUD34y8hTV56/qfAEkZe+Kqfg73daZr\n7fp1Ae9iAy/rHwKQsfdxigJQrhpy5XYvDUpppSwZsXoRPKLFqLT8E4tgQykJPfxC\nIX4ILCjeUuBu4ZONdyUzxVyHQ6HZDUNK9HeLVgTKPykp11PEmEZidCgZOklopKcV\nPITUNQjKrpSUmFHG2M1mTEKWabJ3ruPIIe7apRu8J7R7LR1Q2EksAccHiYt689k=\n=2pMF\n-----END PGP SIGNATURE-----\n", "payload": "tree 02fd9fd5dc8dd425e717d8237d622ef0336f3c05\nparent 343b14f7e06f3ec82a15b3648ba229e03e0b0583\nparent 30ce8b20ec70e8eb5d2203c4dbf104f57dfca49b\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1618001561 +0000\ncommitter GitHub <noreply@github.com> 1618001561 +0000\n\nMerge #8453\n\n8453: Avoid an unnecessary `collect` r=jonas-schievink a=jonas-schievink\n\nbors r+\n\nCo-authored-by: Jonas Schievink <jonasschievink@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/00cdbceb9d7afdabc82788a88df88c6eb1035839", "html_url": "https://github.com/rust-lang/rust/commit/00cdbceb9d7afdabc82788a88df88c6eb1035839", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/00cdbceb9d7afdabc82788a88df88c6eb1035839/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "343b14f7e06f3ec82a15b3648ba229e03e0b0583", "url": "https://api.github.com/repos/rust-lang/rust/commits/343b14f7e06f3ec82a15b3648ba229e03e0b0583", "html_url": "https://github.com/rust-lang/rust/commit/343b14f7e06f3ec82a15b3648ba229e03e0b0583"}, {"sha": "30ce8b20ec70e8eb5d2203c4dbf104f57dfca49b", "url": "https://api.github.com/repos/rust-lang/rust/commits/30ce8b20ec70e8eb5d2203c4dbf104f57dfca49b", "html_url": "https://github.com/rust-lang/rust/commit/30ce8b20ec70e8eb5d2203c4dbf104f57dfca49b"}], "stats": {"total": 4, "additions": 1, "deletions": 3}, "files": [{"sha": "786fad6e1d5fc9d85aaee7926f72520608540b11", "filename": "crates/hir_def/src/attr.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/00cdbceb9d7afdabc82788a88df88c6eb1035839/crates%2Fhir_def%2Fsrc%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00cdbceb9d7afdabc82788a88df88c6eb1035839/crates%2Fhir_def%2Fsrc%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2Fsrc%2Fattr.rs?ref=00cdbceb9d7afdabc82788a88df88c6eb1035839", "patch": "@@ -751,9 +751,7 @@ fn collect_attrs(\n         .chain(inner_docs.into_iter().flatten())\n         .map(|docs_text| (docs_text.syntax().text_range().start(), Either::Right(docs_text)));\n     // sort here by syntax node offset because the source can have doc attributes and doc strings be interleaved\n-    let attrs: Vec<_> = docs.chain(attrs).sorted_by_key(|&(offset, _)| offset).collect();\n-\n-    attrs.into_iter().map(|(_, attr)| attr)\n+    docs.chain(attrs).sorted_by_key(|&(offset, _)| offset).map(|(_, attr)| attr)\n }\n \n pub(crate) fn variants_attrs_source_map("}]}