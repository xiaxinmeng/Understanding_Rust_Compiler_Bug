{"sha": "691638582ad1029e77e4ceec3a5f0f6a6449841b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5MTYzODU4MmFkMTAyOWU3N2U0Y2VlYzNhNWYwZjZhNjQ0OTg0MWI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-08-26T04:02:19Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-08-26T04:02:19Z"}, "message": "Auto merge of #53619 - japaric:panic-handler, r=SimonSapin\n\nadd #[panic_handler]; deprecate #[panic_implementation]\n\nr? @SimonSapin\ncc #44489", "tree": {"sha": "ae6bac52a73cca46785ba3680eaecdb27cad7dbe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ae6bac52a73cca46785ba3680eaecdb27cad7dbe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/691638582ad1029e77e4ceec3a5f0f6a6449841b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/691638582ad1029e77e4ceec3a5f0f6a6449841b", "html_url": "https://github.com/rust-lang/rust/commit/691638582ad1029e77e4ceec3a5f0f6a6449841b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/691638582ad1029e77e4ceec3a5f0f6a6449841b/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "36f14b95a2a2849600f7719007b5fe9c4e9bb569", "url": "https://api.github.com/repos/rust-lang/rust/commits/36f14b95a2a2849600f7719007b5fe9c4e9bb569", "html_url": "https://github.com/rust-lang/rust/commit/36f14b95a2a2849600f7719007b5fe9c4e9bb569"}, {"sha": "40a38b01641d453a7b0f4d6af853d06b8cfef161", "url": "https://api.github.com/repos/rust-lang/rust/commits/40a38b01641d453a7b0f4d6af853d06b8cfef161", "html_url": "https://github.com/rust-lang/rust/commit/40a38b01641d453a7b0f4d6af853d06b8cfef161"}], "stats": {"total": 243, "additions": 164, "deletions": 79}, "files": [{"sha": "d49271382b60496d7e1b69d065f5408119e4f4d8", "filename": "src/doc/unstable-book/src/language-features/used.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fused.md", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fused.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fused.md?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -87,7 +87,7 @@ This condition can be met using `#[used]` and `#[link_section]` plus a linker\n script.\n \n ``` rust,ignore\n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![feature(used)]\n #![no_main]\n #![no_std]\n@@ -102,8 +102,8 @@ extern \"C\" fn reset_handler() -> ! {\n #[used]\n static RESET_HANDLER: extern \"C\" fn() -> ! = reset_handler;\n \n-#[panic_implementation]\n-fn panic_impl(info: &PanicInfo) -> ! {\n+#[panic_handler]\n+fn panic(info: &PanicInfo) -> ! {\n     loop {}\n }\n ```"}, {"sha": "30701654f299de3e1a5419070a6071c7edeea3d5", "filename": "src/librustc/middle/dead.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibrustc%2Fmiddle%2Fdead.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibrustc%2Fmiddle%2Fdead.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fdead.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -293,7 +293,9 @@ fn has_allow_dead_code_or_lang_attr(tcx: TyCtxt,\n     }\n \n     // (To be) stable attribute for #[lang = \"panic_impl\"]\n-    if attr::contains_name(attrs, \"panic_implementation\") {\n+    if attr::contains_name(attrs, \"panic_implementation\") ||\n+        attr::contains_name(attrs, \"panic_handler\")\n+    {\n         return true;\n     }\n "}, {"sha": "d92f856fa4dbff90445e78b1276bd011d5255b9b", "filename": "src/librustc/middle/lang_items.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibrustc%2Fmiddle%2Flang_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibrustc%2Fmiddle%2Flang_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Flang_items.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -185,7 +185,9 @@ pub fn extract(attrs: &[ast::Attribute]) -> Option<(Symbol, Span)> {\n             if let Some(value) = attribute.value_str() {\n                 return Some((value, attribute.span));\n             }\n-        } else if attribute.check_name(\"panic_implementation\") {\n+        } else if attribute.check_name(\"panic_implementation\") ||\n+            attribute.check_name(\"panic_handler\")\n+        {\n             return Some((Symbol::intern(\"panic_impl\"), attribute.span))\n         } else if attribute.check_name(\"alloc_error_handler\") {\n             return Some((Symbol::intern(\"oom\"), attribute.span))"}, {"sha": "bfc27e3b5806c95f31d34e28033065f724cedd5f", "filename": "src/librustc/middle/weak_lang_items.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibrustc%2Fmiddle%2Fweak_lang_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibrustc%2Fmiddle%2Fweak_lang_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fweak_lang_items.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -113,7 +113,7 @@ fn verify<'a, 'tcx>(tcx: TyCtxt<'a, 'tcx, 'tcx>,\n            !whitelisted(tcx, lang_items::$item) &&\n            items.$name().is_none() {\n             if lang_items::$item == lang_items::PanicImplLangItem {\n-                tcx.sess.err(&format!(\"`#[panic_implementation]` function required, \\\n+                tcx.sess.err(&format!(\"`#[panic_handler]` function required, \\\n                                         but not found\"));\n             } else if lang_items::$item == lang_items::OomLangItem {\n                 tcx.sess.err(&format!(\"`#[alloc_error_handler]` function required, \\"}, {"sha": "2b33f28934630887b8e53f021588f0b176f66dc7", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -1172,8 +1172,7 @@ fn check_fn<'a, 'gcx, 'tcx>(inherited: &'a Inherited<'a, 'gcx, 'tcx>,\n                             if !generics.params.is_empty() {\n                                 fcx.tcx.sess.span_err(\n                                     span,\n-                                    \"`#[panic_implementation]` function should have no type \\\n-                                     parameters\",\n+                                    \"should have no type parameters\",\n                                 );\n                             }\n                         }"}, {"sha": "f8b425bc7854618970902a5fb41bd1082a443a9e", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -309,7 +309,8 @@\n #![feature(doc_alias)]\n #![feature(doc_keyword)]\n #![feature(panic_info_message)]\n-#![feature(panic_implementation)]\n+#![cfg_attr(stage0, feature(panic_implementation))]\n+#![cfg_attr(not(stage0), feature(panic_handler))]\n #![feature(non_exhaustive)]\n \n #![default_lib_allocator]"}, {"sha": "6eb2db8e63bfed7567ad11a842c4d13fde6292fa", "filename": "src/libstd/panicking.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibstd%2Fpanicking.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibstd%2Fpanicking.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpanicking.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -319,7 +319,8 @@ pub fn panicking() -> bool {\n \n /// Entry point of panic from the libcore crate.\n #[cfg(not(test))]\n-#[panic_implementation]\n+#[cfg_attr(stage0, panic_implementation)]\n+#[cfg_attr(not(stage0), panic_handler)]\n #[unwind(allowed)]\n pub fn rust_begin_panic(info: &PanicInfo) -> ! {\n     continue_panic_fmt(&info)"}, {"sha": "6dd788bf6e2ac79fe19f730da425d052068c7eb7", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 15, "deletions": 5, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -469,8 +469,9 @@ declare_features! (\n     // Integer match exhaustiveness checking\n     (active, exhaustive_integer_patterns, \"1.30.0\", Some(50907), None),\n \n-    // #[panic_implementation]\n+    // RFC 2070: #[panic_implementation] / #[panic_handler]\n     (active, panic_implementation, \"1.28.0\", Some(44489), None),\n+    (active, panic_handler, \"1.30.0\", Some(44489), None),\n \n     // #[doc(keyword = \"...\")]\n     (active, doc_keyword, \"1.28.0\", Some(51315), None),\n@@ -1109,11 +1110,20 @@ pub const BUILTIN_ATTRIBUTES: &'static [(&'static str, AttributeType, AttributeG\n                                    \"infer 'static lifetime requirements\",\n                                    cfg_fn!(infer_static_outlives_requirements))),\n \n+    // RFC 2070 (deprecated attribute name)\n+    (\"panic_implementation\",\n+     Normal,\n+     Gated(Stability::Deprecated(\"https://github.com/rust-lang/rust/issues/44489\\\n+                                  #issuecomment-415140224\"),\n+           \"panic_implementation\",\n+           \"This attribute was renamed to `panic_handler`\",\n+           cfg_fn!(panic_implementation))),\n+\n     // RFC 2070\n-    (\"panic_implementation\", Normal, Gated(Stability::Unstable,\n-                           \"panic_implementation\",\n-                           \"#[panic_implementation] is an unstable feature\",\n-                           cfg_fn!(panic_implementation))),\n+    (\"panic_handler\", Normal, Gated(Stability::Unstable,\n+                                    \"panic_handler\",\n+                                    \"#[panic_handler] is an unstable feature\",\n+                                    cfg_fn!(panic_handler))),\n \n     (\"alloc_error_handler\", Normal, Gated(Stability::Unstable,\n                            \"alloc_error_handler\","}, {"sha": "e3b4fba176e3c2be517e4ac7672dbf62a7f36df1", "filename": "src/test/compile-fail/auxiliary/some-panic-impl.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fcompile-fail%2Fauxiliary%2Fsome-panic-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fcompile-fail%2Fauxiliary%2Fsome-panic-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fauxiliary%2Fsome-panic-impl.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -11,12 +11,12 @@\n // no-prefer-dynamic\n \n #![crate_type = \"rlib\"]\n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![no_std]\n \n use core::panic::PanicInfo;\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(info: &PanicInfo) -> ! {\n     loop {}\n }"}, {"sha": "d17c19b4c1308b5253b33dcfc1c94ff35018875c", "filename": "src/test/compile-fail/panic-handler-missing.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fcompile-fail%2Fpanic-handler-missing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fcompile-fail%2Fpanic-handler-missing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fpanic-handler-missing.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: `#[panic_implementation]` function required, but not found\n+// error-pattern: `#[panic_handler]` function required, but not found\n \n #![feature(lang_items)]\n #![no_main]", "previous_filename": "src/test/compile-fail/panic-implementation-missing.rs"}, {"sha": "6c9515ca909942bc602b6d15fcd5d03392bfbed9", "filename": "src/test/compile-fail/panic-handler-twice.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fcompile-fail%2Fpanic-handler-twice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fcompile-fail%2Fpanic-handler-twice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fpanic-handler-twice.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,7 +10,7 @@\n \n // aux-build:some-panic-impl.rs\n \n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![feature(lang_items)]\n #![no_std]\n #![no_main]\n@@ -19,7 +19,7 @@ extern crate some_panic_impl;\n \n use core::panic::PanicInfo;\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(info: &PanicInfo) -> ! {\n     //~^ error duplicate lang item found: `panic_impl`\n     loop {}", "previous_filename": "src/test/compile-fail/panic-implementation-twice.rs"}, {"sha": "493c708018177e7f9ffb4dfe88f6d04e49eb42a1", "filename": "src/test/compile-fail/weak-lang-item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fcompile-fail%2Fweak-lang-item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fcompile-fail%2Fweak-lang-item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fweak-lang-item.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -9,7 +9,7 @@\n // except according to those terms.\n \n // aux-build:weak-lang-items.rs\n-// error-pattern: `#[panic_implementation]` function required, but not found\n+// error-pattern: `#[panic_handler]` function required, but not found\n // error-pattern: language item required, but not found: `eh_personality`\n // ignore-wasm32-bare compiled with panic=abort, personality not required\n "}, {"sha": "e980b12039e96d35ba674b0a437b8469570b37b6", "filename": "src/test/run-make-fulldeps/issue-51671/app.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Frun-make-fulldeps%2Fissue-51671%2Fapp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Frun-make-fulldeps%2Fissue-51671%2Fapp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fissue-51671%2Fapp.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,14 +10,14 @@\n \n #![crate_type = \"bin\"]\n #![feature(lang_items)]\n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![no_main]\n #![no_std]\n \n use core::alloc::Layout;\n use core::panic::PanicInfo;\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(_: &PanicInfo) -> ! {\n     loop {}\n }"}, {"sha": "065b2b6bf18faf70de11bf0123470bc092718492", "filename": "src/test/run-make-fulldeps/panic-impl-transitive/panic-impl-provider.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Frun-make-fulldeps%2Fpanic-impl-transitive%2Fpanic-impl-provider.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Frun-make-fulldeps%2Fpanic-impl-transitive%2Fpanic-impl-provider.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fpanic-impl-transitive%2Fpanic-impl-provider.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -9,12 +9,12 @@\n // except according to those terms.\n \n #![crate_type = \"rlib\"]\n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![no_std]\n \n use core::panic::PanicInfo;\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(info: &PanicInfo) -> ! {\n     loop {}\n }"}, {"sha": "061280779b0cf633fc2584527bc8a496033aaec7", "filename": "src/test/run-make/wasm-symbols-not-exported/bar.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Frun-make%2Fwasm-symbols-not-exported%2Fbar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Frun-make%2Fwasm-symbols-not-exported%2Fbar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fwasm-symbols-not-exported%2Fbar.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(panic_implementation, alloc_error_handler)]\n+#![feature(panic_handler, alloc_error_handler)]\n #![crate_type = \"cdylib\"]\n #![no_std]\n \n@@ -39,7 +39,7 @@ fn a(_: core::alloc::Layout) -> ! {\n     loop {}\n }\n \n-#[panic_implementation]\n+#[panic_handler]\n fn b(_: &core::panic::PanicInfo) -> ! {\n     loop {}\n }"}, {"sha": "0a54ae8341bbf70440c17b90400337e91935e465", "filename": "src/test/ui/alloc-error/alloc-error-handler-bad-signature-1.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Falloc-error%2Falloc-error-handler-bad-signature-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Falloc-error%2Falloc-error-handler-bad-signature-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Falloc-error%2Falloc-error-handler-bad-signature-1.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,7 +10,7 @@\n \n // compile-flags:-C panic=abort\n \n-#![feature(alloc_error_handler, panic_implementation)]\n+#![feature(alloc_error_handler, panic_handler)]\n #![no_std]\n #![no_main]\n \n@@ -24,5 +24,5 @@ fn oom(\n     loop {}\n }\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(_: &core::panic::PanicInfo) -> ! { loop {} }"}, {"sha": "b33d82cd55008ede367ce912ef4ceb7e1dc17d50", "filename": "src/test/ui/alloc-error/alloc-error-handler-bad-signature-2.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Falloc-error%2Falloc-error-handler-bad-signature-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Falloc-error%2Falloc-error-handler-bad-signature-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Falloc-error%2Falloc-error-handler-bad-signature-2.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,7 +10,7 @@\n \n // compile-flags:-C panic=abort\n \n-#![feature(alloc_error_handler, panic_implementation)]\n+#![feature(alloc_error_handler, panic_handler)]\n #![no_std]\n #![no_main]\n \n@@ -23,5 +23,5 @@ fn oom(\n     loop {}\n }\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(_: &core::panic::PanicInfo) -> ! { loop {} }"}, {"sha": "0e102dd08ea5de6212be85f8ea879e31fcebc444", "filename": "src/test/ui/alloc-error/alloc-error-handler-bad-signature-3.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Falloc-error%2Falloc-error-handler-bad-signature-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Falloc-error%2Falloc-error-handler-bad-signature-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Falloc-error%2Falloc-error-handler-bad-signature-3.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,7 +10,7 @@\n \n // compile-flags:-C panic=abort\n \n-#![feature(alloc_error_handler, panic_implementation)]\n+#![feature(alloc_error_handler, panic_handler)]\n #![no_std]\n #![no_main]\n \n@@ -21,5 +21,5 @@ fn oom() -> ! { //~ ERROR function should have one argument\n     loop {}\n }\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(_: &core::panic::PanicInfo) -> ! { loop {} }"}, {"sha": "f5e5f9778faed70a352dde4485eae5666423dfa4", "filename": "src/test/ui/consts/const-eval/const_panic_libcore_main.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_panic_libcore_main.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_panic_libcore_main.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_panic_libcore_main.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,7 +10,7 @@\n \n #![crate_type = \"bin\"]\n #![feature(lang_items)]\n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![feature(const_panic)]\n #![no_main]\n #![no_std]\n@@ -31,7 +31,7 @@ fn eh() {}\n #[lang = \"eh_unwind_resume\"]\n fn eh_unwind_resume() {}\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(_info: &PanicInfo) -> ! {\n     loop {}\n }"}, {"sha": "fd16268ef8b4e8ffc3dc8523fae5db034c6d1183", "filename": "src/test/ui/feature-gates/feature-gate-panic-handler.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-handler.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-handler.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-handler.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags:-C panic=abort\n+\n+#![no_std]\n+#![no_main]\n+\n+use core::panic::PanicInfo;\n+\n+#[panic_handler] //~ ERROR #[panic_handler] is an unstable feature (see issue #44489)\n+fn panic(info: &PanicInfo) -> ! {\n+    loop {}\n+}"}, {"sha": "9680a240a992590648d6205c741604d1b358e449", "filename": "src/test/ui/feature-gates/feature-gate-panic-handler.stderr", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-handler.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-handler.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-handler.stderr?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -0,0 +1,11 @@\n+error[E0658]: #[panic_handler] is an unstable feature (see issue #44489)\n+  --> $DIR/feature-gate-panic-handler.rs:18:1\n+   |\n+LL | #[panic_handler] //~ ERROR #[panic_handler] is an unstable feature (see issue #44489)\n+   | ^^^^^^^^^^^^^^^^\n+   |\n+   = help: add #![feature(panic_handler)] to the crate attributes to enable\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0658`."}, {"sha": "84e5f302c1676e027c04c17a6e9862642daa8d76", "filename": "src/test/ui/feature-gates/feature-gate-panic-implementation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-implementation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-implementation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-implementation.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -15,7 +15,7 @@\n \n use core::panic::PanicInfo;\n \n-#[panic_implementation] //~ ERROR #[panic_implementation] is an unstable feature (see issue #44489)\n+#[panic_implementation] //~ ERROR This attribute was renamed to `panic_handler` (see issue #44489)\n fn panic(info: &PanicInfo) -> ! {\n     loop {}\n }"}, {"sha": "926a49ae83199b4c6e07c386d6f5a3719ecfb685", "filename": "src/test/ui/feature-gates/feature-gate-panic-implementation.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-implementation.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-implementation.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-panic-implementation.stderr?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -1,7 +1,7 @@\n-error[E0658]: #[panic_implementation] is an unstable feature (see issue #44489)\n+error[E0658]: This attribute was renamed to `panic_handler` (see issue #44489)\n   --> $DIR/feature-gate-panic-implementation.rs:18:1\n    |\n-LL | #[panic_implementation] //~ ERROR #[panic_implementation] is an unstable feature (see issue #44489)\n+LL | #[panic_implementation] //~ ERROR This attribute was renamed to `panic_handler` (see issue #44489)\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: add #![feature(panic_implementation)] to the crate attributes to enable"}, {"sha": "1096027c8dc0becb64d663398e9773072a9edfa6", "filename": "src/test/ui/missing/missing-alloc_error_handler.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fmissing%2Fmissing-alloc_error_handler.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fmissing%2Fmissing-alloc_error_handler.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmissing%2Fmissing-alloc_error_handler.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -13,9 +13,9 @@\n \n #![no_std]\n #![crate_type = \"staticlib\"]\n-#![feature(panic_implementation, alloc_error_handler, alloc)]\n+#![feature(panic_handler, alloc_error_handler, alloc)]\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(_: &core::panic::PanicInfo) -> ! {\n     loop {}\n }"}, {"sha": "f4331c4b99480cc2f2dd5b38afe0106c1e83513e", "filename": "src/test/ui/missing/missing-allocator.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fmissing%2Fmissing-allocator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fmissing%2Fmissing-allocator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmissing%2Fmissing-allocator.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -13,9 +13,9 @@\n \n #![no_std]\n #![crate_type = \"staticlib\"]\n-#![feature(panic_implementation, alloc_error_handler, alloc)]\n+#![feature(panic_handler, alloc_error_handler, alloc)]\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(_: &core::panic::PanicInfo) -> ! {\n     loop {}\n }"}, {"sha": "e3b4fba176e3c2be517e4ac7672dbf62a7f36df1", "filename": "src/test/ui/panic-handler/auxiliary/some-panic-impl.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fauxiliary%2Fsome-panic-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fauxiliary%2Fsome-panic-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fauxiliary%2Fsome-panic-impl.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -11,12 +11,12 @@\n // no-prefer-dynamic\n \n #![crate_type = \"rlib\"]\n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![no_std]\n \n use core::panic::PanicInfo;\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(info: &PanicInfo) -> ! {\n     loop {}\n }", "previous_filename": "src/test/ui/panic-implementation/auxiliary/some-panic-impl.rs"}, {"sha": "cc7e337fc9e657a7b9599643396445c0a2a47d51", "filename": "src/test/ui/panic-handler/panic-handler-bad-signature-1.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-1.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,13 +10,13 @@\n \n // compile-flags:-C panic=abort\n \n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![no_std]\n #![no_main]\n \n use core::panic::PanicInfo;\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(\n     info: PanicInfo, //~ ERROR argument should be `&PanicInfo`\n ) -> () //~ ERROR return type should be `!`", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-bad-signature-1.rs"}, {"sha": "5771f4277b46d895d627341b59bed5d7000c1fb2", "filename": "src/test/ui/panic-handler/panic-handler-bad-signature-1.stderr", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-1.stderr?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -1,11 +1,11 @@\n error: return type should be `!`\n-  --> $DIR/panic-implementation-bad-signature-1.rs:22:6\n+  --> $DIR/panic-handler-bad-signature-1.rs:22:6\n    |\n LL | ) -> () //~ ERROR return type should be `!`\n    |      ^^\n \n error: argument should be `&PanicInfo`\n-  --> $DIR/panic-implementation-bad-signature-1.rs:21:11\n+  --> $DIR/panic-handler-bad-signature-1.rs:21:11\n    |\n LL |     info: PanicInfo, //~ ERROR argument should be `&PanicInfo`\n    |           ^^^^^^^^^", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-bad-signature-1.stderr"}, {"sha": "ec698903c846e517dfb6463bac2e73f7a9c9fefb", "filename": "src/test/ui/panic-handler/panic-handler-bad-signature-2.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-2.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,13 +10,13 @@\n \n // compile-flags:-C panic=abort\n \n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![no_std]\n #![no_main]\n \n use core::panic::PanicInfo;\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(\n     info: &'static PanicInfo, //~ ERROR argument should be `&PanicInfo`\n ) -> !", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-bad-signature-2.rs"}, {"sha": "4823f8a2781b004bfd8267f94af2700527511d75", "filename": "src/test/ui/panic-handler/panic-handler-bad-signature-2.stderr", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-2.stderr?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -1,5 +1,5 @@\n error: argument should be `&PanicInfo`\n-  --> $DIR/panic-implementation-bad-signature-2.rs:21:11\n+  --> $DIR/panic-handler-bad-signature-2.rs:21:11\n    |\n LL |     info: &'static PanicInfo, //~ ERROR argument should be `&PanicInfo`\n    |           ^^^^^^^^^^^^^^^^^^", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-bad-signature-2.stderr"}, {"sha": "585716c7c756906400e0922c6a303a92053df06c", "filename": "src/test/ui/panic-handler/panic-handler-bad-signature-3.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-3.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,13 +10,13 @@\n \n // compile-flags:-C panic=abort\n \n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![no_std]\n #![no_main]\n \n use core::panic::PanicInfo;\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic() -> ! { //~ ERROR function should have one argument\n     loop {}\n }", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-bad-signature-3.rs"}, {"sha": "0eb0d4e10004b9a783afc0acf42dade3f24900b1", "filename": "src/test/ui/panic-handler/panic-handler-bad-signature-3.stderr", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-3.stderr?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -1,5 +1,5 @@\n error: function should have one argument\n-  --> $DIR/panic-implementation-bad-signature-3.rs:20:1\n+  --> $DIR/panic-handler-bad-signature-3.rs:20:1\n    |\n LL | / fn panic() -> ! { //~ ERROR function should have one argument\n LL | |     loop {}", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-bad-signature-3.stderr"}, {"sha": "9cda37f27b332ffea2f09a17b8a0ee488670b5f2", "filename": "src/test/ui/panic-handler/panic-handler-bad-signature-4.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-4.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -0,0 +1,23 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags:-C panic=abort\n+\n+#![feature(panic_handler)]\n+#![no_std]\n+#![no_main]\n+\n+use core::panic::PanicInfo;\n+\n+#[panic_handler]\n+fn panic<T>(pi: &PanicInfo) -> ! {\n+    //~^ ERROR should have no type parameters\n+    loop {}\n+}"}, {"sha": "a61b9b3743c7da9a1cbd6708e0c3dfe684d4dab5", "filename": "src/test/ui/panic-handler/panic-handler-bad-signature-4.stderr", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-4.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-4.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-bad-signature-4.stderr?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -0,0 +1,11 @@\n+error: should have no type parameters\n+  --> $DIR/panic-handler-bad-signature-4.rs:20:1\n+   |\n+LL | / fn panic<T>(pi: &PanicInfo) -> ! {\n+LL | |     //~^ ERROR should have no type parameters\n+LL | |     loop {}\n+LL | | }\n+   | |_^\n+\n+error: aborting due to previous error\n+"}, {"sha": "7d7fe251869f19aff992868917b09f8d028ac375", "filename": "src/test/ui/panic-handler/panic-handler-duplicate.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-duplicate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-duplicate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-duplicate.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -11,13 +11,13 @@\n // compile-flags:-C panic=abort\n \n #![feature(lang_items)]\n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![no_std]\n #![no_main]\n \n use core::panic::PanicInfo;\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(info: &PanicInfo) -> ! {\n     loop {}\n }", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-duplicate.rs"}, {"sha": "d8afaa27e26624330f76884c1a00d2515d1e7e53", "filename": "src/test/ui/panic-handler/panic-handler-duplicate.stderr", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-duplicate.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-duplicate.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-duplicate.stderr?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -1,13 +1,13 @@\n error[E0152]: duplicate lang item found: `panic_impl`.\n-  --> $DIR/panic-implementation-duplicate.rs:26:1\n+  --> $DIR/panic-handler-duplicate.rs:26:1\n    |\n LL | / fn panic2(info: &PanicInfo) -> ! { //~ ERROR duplicate lang item found: `panic_impl`.\n LL | |     loop {}\n LL | | }\n    | |_^\n    |\n note: first defined here.\n-  --> $DIR/panic-implementation-duplicate.rs:21:1\n+  --> $DIR/panic-handler-duplicate.rs:21:1\n    |\n LL | / fn panic(info: &PanicInfo) -> ! {\n LL | |     loop {}", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-duplicate.stderr"}, {"sha": "ec68a414f54d5605433b568e66fba51352c8d911", "filename": "src/test/ui/panic-handler/panic-handler-requires-panic-info.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-requires-panic-info.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-requires-panic-info.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-requires-panic-info.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -13,11 +13,11 @@\n \n #![feature(lang_items)]\n #![feature(no_core)]\n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n #![no_core]\n #![no_main]\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic() -> ! {\n     loop {}\n }", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-requires-panic-info.rs"}, {"sha": "2bae12efbde383824d0cc6e2fa6ee4e9708a4336", "filename": "src/test/ui/panic-handler/panic-handler-requires-panic-info.stderr", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-requires-panic-info.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-requires-panic-info.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-requires-panic-info.stderr?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-requires-panic-info.stderr"}, {"sha": "7cbe0a35baed87eda155e2780b27090385be1172", "filename": "src/test/ui/panic-handler/panic-handler-std.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-std.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-std.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-std.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,11 +10,11 @@\n \n // error-pattern: duplicate lang item found: `panic_impl`.\n \n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n \n use std::panic::PanicInfo;\n \n-#[panic_implementation]\n+#[panic_handler]\n fn panic(info: PanicInfo) -> ! {\n     loop {}\n }", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-std.rs"}, {"sha": "c34a993e2c5e389d4e535b099bf942bea5e6efd0", "filename": "src/test/ui/panic-handler/panic-handler-std.stderr", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-std.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-std.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-handler%2Fpanic-handler-std.stderr?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -1,5 +1,5 @@\n error[E0152]: duplicate lang item found: `panic_impl`.\n-  --> $DIR/panic-implementation-std.rs:18:1\n+  --> $DIR/panic-handler-std.rs:18:1\n    |\n LL | / fn panic(info: PanicInfo) -> ! {\n LL | |     loop {}", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-std.stderr"}, {"sha": "362be2fc3b91e86590fa862ca100c430be2efcc6", "filename": "src/test/ui/panic-implementation/panic-implementation-bad-signature-4.stderr", "status": "removed", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/36f14b95a2a2849600f7719007b5fe9c4e9bb569/src%2Ftest%2Fui%2Fpanic-implementation%2Fpanic-implementation-bad-signature-4.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/36f14b95a2a2849600f7719007b5fe9c4e9bb569/src%2Ftest%2Fui%2Fpanic-implementation%2Fpanic-implementation-bad-signature-4.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-implementation%2Fpanic-implementation-bad-signature-4.stderr?ref=36f14b95a2a2849600f7719007b5fe9c4e9bb569", "patch": "@@ -1,11 +0,0 @@\n-error: `#[panic_implementation]` function should have no type parameters\n-  --> $DIR/panic-implementation-bad-signature-4.rs:20:1\n-   |\n-LL | / fn panic<T>(pi: &PanicInfo) -> ! {\n-LL | |     //~^ ERROR `#[panic_implementation]` function should have no type parameters\n-LL | |     loop {}\n-LL | | }\n-   | |_^\n-\n-error: aborting due to previous error\n-"}, {"sha": "c4bec01f6af61a59ef0ec990b4906c19e7ea41bf", "filename": "src/test/ui/panic-implementation/panic-implementation-deprecated.rs", "status": "renamed", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-implementation%2Fpanic-implementation-deprecated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-implementation%2Fpanic-implementation-deprecated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-implementation%2Fpanic-implementation-deprecated.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -10,14 +10,15 @@\n \n // compile-flags:-C panic=abort\n \n+#![deny(deprecated)]\n #![feature(panic_implementation)]\n #![no_std]\n-#![no_main]\n \n use core::panic::PanicInfo;\n \n #[panic_implementation]\n-fn panic<T>(pi: &PanicInfo) -> ! {\n-    //~^ ERROR `#[panic_implementation]` function should have no type parameters\n+fn panic(info: &PanicInfo) -> ! {\n     loop {}\n }\n+\n+fn main() {}", "previous_filename": "src/test/ui/panic-implementation/panic-implementation-bad-signature-4.rs"}, {"sha": "43f51447ac46e05647cf73b39558053088ef9998", "filename": "src/test/ui/panic-implementation/panic-implementation-deprecated.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-implementation%2Fpanic-implementation-deprecated.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic-implementation%2Fpanic-implementation-deprecated.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic-implementation%2Fpanic-implementation-deprecated.stderr?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -0,0 +1,14 @@\n+error: use of deprecated attribute `panic_implementation`: This attribute was renamed to `panic_handler`. See https://github.com/rust-lang/rust/issues/44489#issuecomment-415140224\n+  --> $DIR/panic-implementation-deprecated.rs:19:1\n+   |\n+LL | #[panic_implementation]\n+   | ^^^^^^^^^^^^^^^^^^^^^^^ help: remove this attribute\n+   |\n+note: lint level defined here\n+  --> $DIR/panic-implementation-deprecated.rs:13:9\n+   |\n+LL | #![deny(deprecated)]\n+   |         ^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "6642db6ee76bf25a73a8258866428d2a55735e99", "filename": "src/test/ui/panic_implementation-closures.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic_implementation-closures.rs", "raw_url": "https://github.com/rust-lang/rust/raw/691638582ad1029e77e4ceec3a5f0f6a6449841b/src%2Ftest%2Fui%2Fpanic_implementation-closures.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpanic_implementation-closures.rs?ref=691638582ad1029e77e4ceec3a5f0f6a6449841b", "patch": "@@ -12,9 +12,9 @@\n \n #![crate_type = \"rlib\"]\n #![no_std]\n-#![feature(panic_implementation)]\n+#![feature(panic_handler)]\n \n-#[panic_implementation]\n+#[panic_handler]\n pub fn panic_fmt(_: &::core::panic::PanicInfo) -> ! {\n     |x: u8| x;\n     loop {}"}]}