{"sha": "d374620de46ecc731bef1f8845ffe2ea9c54fbd5", "node_id": "C_kwDOAAsO6NoAKGQzNzQ2MjBkZTQ2ZWNjNzMxYmVmMWY4ODQ1ZmZlMmVhOWM1NGZiZDU", "commit": {"author": {"name": "Scott McMurray", "email": "scottmcm@users.noreply.github.com", "date": "2023-04-13T18:05:02Z"}, "committer": {"name": "Scott McMurray", "email": "scottmcm@users.noreply.github.com", "date": "2023-04-13T18:05:02Z"}, "message": "Add `tidy-alphabetical` to features in `alloc` & `std`\n\nSo that people have to keep them sorted in future, rather than just sticking them on the end where they conflict more often.", "tree": {"sha": "a594be47db67c8ecc0d67145724c82836643b30c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a594be47db67c8ecc0d67145724c82836643b30c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d374620de46ecc731bef1f8845ffe2ea9c54fbd5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d374620de46ecc731bef1f8845ffe2ea9c54fbd5", "html_url": "https://github.com/rust-lang/rust/commit/d374620de46ecc731bef1f8845ffe2ea9c54fbd5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d374620de46ecc731bef1f8845ffe2ea9c54fbd5/comments", "author": {"login": "scottmcm", "id": 18526288, "node_id": "MDQ6VXNlcjE4NTI2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottmcm", "html_url": "https://github.com/scottmcm", "followers_url": "https://api.github.com/users/scottmcm/followers", "following_url": "https://api.github.com/users/scottmcm/following{/other_user}", "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions", "organizations_url": "https://api.github.com/users/scottmcm/orgs", "repos_url": "https://api.github.com/users/scottmcm/repos", "events_url": "https://api.github.com/users/scottmcm/events{/privacy}", "received_events_url": "https://api.github.com/users/scottmcm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "scottmcm", "id": 18526288, "node_id": "MDQ6VXNlcjE4NTI2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottmcm", "html_url": "https://github.com/scottmcm", "followers_url": "https://api.github.com/users/scottmcm/followers", "following_url": "https://api.github.com/users/scottmcm/following{/other_user}", "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions", "organizations_url": "https://api.github.com/users/scottmcm/orgs", "repos_url": "https://api.github.com/users/scottmcm/repos", "events_url": "https://api.github.com/users/scottmcm/events{/privacy}", "received_events_url": "https://api.github.com/users/scottmcm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d8fc8192471063c7b72fb2f95f61a9427ab84b86", "url": "https://api.github.com/repos/rust-lang/rust/commits/d8fc8192471063c7b72fb2f95f61a9427ab84b86", "html_url": "https://github.com/rust-lang/rust/commit/d8fc8192471063c7b72fb2f95f61a9427ab84b86"}], "stats": {"total": 72, "additions": 44, "deletions": 28}, "files": [{"sha": "aa240c37e84427a512d2a792bebb3dfd4324a50a", "filename": "library/alloc/src/lib.rs", "status": "modified", "additions": 25, "deletions": 21, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/d374620de46ecc731bef1f8845ffe2ea9c54fbd5/library%2Falloc%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d374620de46ecc731bef1f8845ffe2ea9c54fbd5/library%2Falloc%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Flib.rs?ref=d374620de46ecc731bef1f8845ffe2ea9c54fbd5", "patch": "@@ -90,6 +90,11 @@\n #![warn(multiple_supertrait_upcastable)]\n //\n // Library features:\n+// tidy-alphabetical-start\n+#![cfg_attr(not(no_global_oom_handling), feature(const_alloc_error))]\n+#![cfg_attr(not(no_global_oom_handling), feature(const_btree_len))]\n+#![cfg_attr(test, feature(is_sorted))]\n+#![cfg_attr(test, feature(new_uninit))]\n #![feature(alloc_layout_extra)]\n #![feature(allocator_api)]\n #![feature(array_chunks)]\n@@ -99,23 +104,21 @@\n #![feature(assert_matches)]\n #![feature(async_iterator)]\n #![feature(coerce_unsized)]\n-#![cfg_attr(not(no_global_oom_handling), feature(const_alloc_error))]\n+#![feature(const_align_of_val)]\n #![feature(const_box)]\n-#![cfg_attr(not(no_global_oom_handling), feature(const_btree_len))]\n-#![feature(const_cow_is_borrowed)]\n #![feature(const_convert)]\n-#![feature(const_size_of_val)]\n-#![feature(const_align_of_val)]\n-#![feature(const_ptr_read)]\n-#![feature(const_maybe_uninit_zeroed)]\n-#![feature(const_maybe_uninit_write)]\n+#![feature(const_cow_is_borrowed)]\n+#![feature(const_eval_select)]\n #![feature(const_maybe_uninit_as_mut_ptr)]\n+#![feature(const_maybe_uninit_write)]\n+#![feature(const_maybe_uninit_zeroed)]\n+#![feature(const_pin)]\n+#![feature(const_ptr_read)]\n #![feature(const_refs_to_cell)]\n+#![feature(const_size_of_val)]\n+#![feature(const_waker)]\n #![feature(core_intrinsics)]\n #![feature(core_panic)]\n-#![feature(const_eval_select)]\n-#![feature(const_pin)]\n-#![feature(const_waker)]\n #![feature(dispatch_from_dyn)]\n #![feature(error_generic_member_access)]\n #![feature(error_in_core)]\n@@ -126,15 +129,13 @@\n #![feature(hasher_prefixfree_extras)]\n #![feature(inline_const)]\n #![feature(inplace_iteration)]\n-#![cfg_attr(test, feature(is_sorted))]\n #![feature(iter_advance_by)]\n #![feature(iter_next_chunk)]\n #![feature(iter_repeat_n)]\n #![feature(layout_for_ptr)]\n #![feature(maybe_uninit_slice)]\n #![feature(maybe_uninit_uninit_array)]\n #![feature(maybe_uninit_uninit_array_transpose)]\n-#![cfg_attr(test, feature(new_uninit))]\n #![feature(pattern)]\n #![feature(pointer_byte_offsets)]\n #![feature(provide_any)]\n@@ -150,6 +151,7 @@\n #![feature(slice_ptr_get)]\n #![feature(slice_ptr_len)]\n #![feature(slice_range)]\n+#![feature(std_internals)]\n #![feature(str_internals)]\n #![feature(strict_provenance)]\n #![feature(trusted_len)]\n@@ -160,41 +162,43 @@\n #![feature(unicode_internals)]\n #![feature(unsize)]\n #![feature(utf8_chunks)]\n-#![feature(std_internals)]\n+// tidy-alphabetical-end\n //\n // Language features:\n+// tidy-alphabetical-start\n+#![cfg_attr(not(test), feature(generator_trait))]\n+#![cfg_attr(test, feature(panic_update_hook))]\n+#![cfg_attr(test, feature(test))]\n #![feature(allocator_internals)]\n #![feature(allow_internal_unstable)]\n #![feature(associated_type_bounds)]\n+#![feature(c_unwind)]\n #![feature(cfg_sanitize)]\n #![feature(const_deref)]\n #![feature(const_mut_refs)]\n-#![feature(const_ptr_write)]\n #![feature(const_precise_live_drops)]\n+#![feature(const_ptr_write)]\n #![feature(const_trait_impl)]\n #![feature(const_try)]\n #![feature(dropck_eyepatch)]\n #![feature(exclusive_range_pattern)]\n #![feature(fundamental)]\n-#![cfg_attr(not(test), feature(generator_trait))]\n #![feature(hashmap_internals)]\n #![feature(lang_items)]\n #![feature(min_specialization)]\n+#![feature(multiple_supertrait_upcastable)]\n #![feature(negative_impls)]\n #![feature(never_type)]\n+#![feature(pointer_is_aligned)]\n #![feature(rustc_allow_const_fn_unstable)]\n #![feature(rustc_attrs)]\n-#![feature(pointer_is_aligned)]\n #![feature(slice_internals)]\n #![feature(staged_api)]\n #![feature(stmt_expr_attributes)]\n-#![cfg_attr(test, feature(test))]\n #![feature(unboxed_closures)]\n #![feature(unsized_fn_params)]\n-#![feature(c_unwind)]\n #![feature(with_negative_coherence)]\n-#![cfg_attr(test, feature(panic_update_hook))]\n-#![feature(multiple_supertrait_upcastable)]\n+// tidy-alphabetical-end\n //\n // Rustdoc features:\n #![feature(doc_cfg)]"}, {"sha": "289e9c3c5bf446329541f90fc5c1ea98b119b0c6", "filename": "library/std/src/lib.rs", "status": "modified", "additions": 19, "deletions": 7, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/d374620de46ecc731bef1f8845ffe2ea9c54fbd5/library%2Fstd%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d374620de46ecc731bef1f8845ffe2ea9c54fbd5/library%2Fstd%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Flib.rs?ref=d374620de46ecc731bef1f8845ffe2ea9c54fbd5", "patch": "@@ -235,6 +235,7 @@\n #![cfg_attr(windows, feature(round_char_boundary))]\n //\n // Language features:\n+// tidy-alphabetical-start\n #![feature(alloc_error_handler)]\n #![feature(allocator_internals)]\n #![feature(allow_internal_unsafe)]\n@@ -257,8 +258,8 @@\n #![feature(is_terminal)]\n #![feature(lang_items)]\n #![feature(let_chains)]\n-#![feature(linkage)]\n #![feature(link_cfg)]\n+#![feature(linkage)]\n #![feature(min_specialization)]\n #![feature(must_not_suspend)]\n #![feature(needs_panic_runtime)]\n@@ -272,8 +273,10 @@\n #![feature(thread_local)]\n #![feature(try_blocks)]\n #![feature(utf8_chunks)]\n+// tidy-alphabetical-end\n //\n // Library features (core):\n+// tidy-alphabetical-start\n #![feature(char_internals)]\n #![feature(core_intrinsics)]\n #![feature(duration_constants)]\n@@ -290,6 +293,7 @@\n #![feature(ip)]\n #![feature(ip_in_core)]\n #![feature(maybe_uninit_slice)]\n+#![feature(maybe_uninit_uninit_array)]\n #![feature(maybe_uninit_write_slice)]\n #![feature(panic_can_unwind)]\n #![feature(panic_info_message)]\n@@ -307,25 +311,28 @@\n #![feature(std_internals)]\n #![feature(str_internals)]\n #![feature(strict_provenance)]\n-#![feature(maybe_uninit_uninit_array)]\n-#![feature(const_maybe_uninit_uninit_array)]\n-#![feature(const_waker)]\n+// tidy-alphabetical-end\n //\n // Library features (alloc):\n+// tidy-alphabetical-start\n #![feature(alloc_layout_extra)]\n #![feature(allocator_api)]\n #![feature(get_mut_unchecked)]\n #![feature(map_try_insert)]\n #![feature(new_uninit)]\n+#![feature(slice_concat_trait)]\n #![feature(thin_box)]\n #![feature(try_reserve_kind)]\n #![feature(vec_into_raw_parts)]\n-#![feature(slice_concat_trait)]\n+// tidy-alphabetical-end\n //\n // Library features (unwind):\n+// tidy-alphabetical-start\n #![feature(panic_unwind)]\n+// tidy-alphabetical-end\n //\n // Only for re-exporting:\n+// tidy-alphabetical-start\n #![feature(assert_matches)]\n #![feature(async_iterator)]\n #![feature(c_variadic)]\n@@ -337,24 +344,29 @@\n #![feature(custom_test_frameworks)]\n #![feature(edition_panic)]\n #![feature(format_args_nl)]\n-#![feature(log_syntax)]\n+#![feature(get_many_mut)]\n #![feature(lazy_cell)]\n+#![feature(log_syntax)]\n #![feature(saturating_int_impl)]\n #![feature(stdsimd)]\n #![feature(test)]\n #![feature(trace_macros)]\n-#![feature(get_many_mut)]\n+// tidy-alphabetical-end\n //\n // Only used in tests/benchmarks:\n //\n // Only for const-ness:\n+// tidy-alphabetical-start\n #![feature(const_collections_with_hasher)]\n #![feature(const_hash)]\n #![feature(const_io_structs)]\n #![feature(const_ip)]\n #![feature(const_ipv4)]\n #![feature(const_ipv6)]\n+#![feature(const_maybe_uninit_uninit_array)]\n+#![feature(const_waker)]\n #![feature(thread_local_internals)]\n+// tidy-alphabetical-end\n //\n #![default_lib_allocator]\n "}]}