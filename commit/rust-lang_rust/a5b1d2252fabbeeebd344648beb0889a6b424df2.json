{"sha": "a5b1d2252fabbeeebd344648beb0889a6b424df2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE1YjFkMjI1MmZhYmJlZWViZDM0NDY0OGJlYjA4ODlhNmI0MjRkZjI=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-12-17T02:44:06Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-12-17T02:44:06Z"}, "message": "Rollup merge of #80072 - richkadel:llvm-coverage-counters-2.2.1, r=tmandry\n\nFixed conflict with drop elaboration and coverage\n\nSee\nhttps://github.com/rust-lang/rust/issues/80045#issuecomment-745733339\n\nCoverage statements are moved to the beginning of the BCB. This does\nalso affect what's counted before a panic, changing some results, but I\nthink these results may even be preferred? In any case, there are no\nguarantees about what's counted when a panic occurs (by design).\n\nr? `@tmandry`\n\nFYI `@wesleywiser` `@ecstatic-morse`", "tree": {"sha": "df66cfafd12db970f0a2a2b7678f2c459f77a34a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/df66cfafd12db970f0a2a2b7678f2c459f77a34a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a5b1d2252fabbeeebd344648beb0889a6b424df2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJf2sX3CRBK7hj4Ov3rIwAAdHIIADZP+yDxGOrLIuf5wzRZeppv\njbfNPLXQ0j/d3X3a8AGH37LzFu/WiY9PT5yfTOfOJX07SLiGTurVWp9/2BDiIjHy\n7tix3EAUMwQHXoZG8Tvor7y9/iWoyzwvOYNnkbcmiuPGQ7LZ1NPFevSY96N00FlI\nqzo+6epv1G9gnGN6HgwvpxRA6IOWVzkZj8p1QwgI7mYYq+qQfFfO/K/dxi07TIlb\nJX239zUIujYR1UEu9G0ikAn83LwZQhOIz2tEkhzE3gQQ95ux7v4+xfSo0vBUiPGW\naHNJO3i5X1y+yV2yXfwoiBGT2dNVtr76n8/BT6qRQJPS9FLcc2rdlsyJvLOONZc=\n=kjaW\n-----END PGP SIGNATURE-----\n", "payload": "tree df66cfafd12db970f0a2a2b7678f2c459f77a34a\nparent 3cf5bc8b370baf1a8fdf719a4342a282c757393a\nparent 1d6b455fb476115712cf7246c5f4cecb7c66915b\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1608173046 +0900\ncommitter GitHub <noreply@github.com> 1608173046 +0900\n\nRollup merge of #80072 - richkadel:llvm-coverage-counters-2.2.1, r=tmandry\n\nFixed conflict with drop elaboration and coverage\n\nSee\nhttps://github.com/rust-lang/rust/issues/80045#issuecomment-745733339\n\nCoverage statements are moved to the beginning of the BCB. This does\nalso affect what's counted before a panic, changing some results, but I\nthink these results may even be preferred? In any case, there are no\nguarantees about what's counted when a panic occurs (by design).\n\nr? `@tmandry`\n\nFYI `@wesleywiser` `@ecstatic-morse`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a5b1d2252fabbeeebd344648beb0889a6b424df2", "html_url": "https://github.com/rust-lang/rust/commit/a5b1d2252fabbeeebd344648beb0889a6b424df2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a5b1d2252fabbeeebd344648beb0889a6b424df2/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3cf5bc8b370baf1a8fdf719a4342a282c757393a", "url": "https://api.github.com/repos/rust-lang/rust/commits/3cf5bc8b370baf1a8fdf719a4342a282c757393a", "html_url": "https://github.com/rust-lang/rust/commit/3cf5bc8b370baf1a8fdf719a4342a282c757393a"}, {"sha": "1d6b455fb476115712cf7246c5f4cecb7c66915b", "url": "https://api.github.com/repos/rust-lang/rust/commits/1d6b455fb476115712cf7246c5f4cecb7c66915b", "html_url": "https://github.com/rust-lang/rust/commit/1d6b455fb476115712cf7246c5f4cecb7c66915b"}], "stats": {"total": 152, "additions": 76, "deletions": 76}, "files": [{"sha": "4590d37c182e405d292f3d8fa545b827846b0322", "filename": "compiler/rustc_mir/src/transform/coverage/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcoverage%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcoverage%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcoverage%2Fmod.rs?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -310,7 +310,7 @@ impl<'a, 'tcx> Instrumentor<'a, 'tcx> {\n             inject_statement(\n                 self.mir_body,\n                 counter_kind,\n-                self.bcb_last_bb(bcb),\n+                self.bcb_leader_bb(bcb),\n                 Some(make_code_region(file_name, &self.source_file, span, body_span)),\n             );\n         }\n@@ -470,7 +470,7 @@ fn inject_statement(\n             code_region: some_code_region,\n         }),\n     };\n-    data.statements.push(statement);\n+    data.statements.insert(0, statement);\n }\n \n // Non-code expressions are injected into the coverage map, without generating executable code."}, {"sha": "c00eae96e08386dcc62b453f13f1cc4d5ae9fed1", "filename": "src/test/mir-opt/coverage_graphviz.bar.InstrumentCoverage.0.dot", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Fmir-opt%2Fcoverage_graphviz.bar.InstrumentCoverage.0.dot", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Fmir-opt%2Fcoverage_graphviz.bar.InstrumentCoverage.0.dot", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fcoverage_graphviz.bar.InstrumentCoverage.0.dot?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -2,5 +2,5 @@ digraph Cov_0_4 {\n     graph [fontname=\"Courier, monospace\"];\n     node [fontname=\"Courier, monospace\"];\n     edge [fontname=\"Courier, monospace\"];\n-    bcb0__Cov_0_4 [shape=\"none\", label=<<table border=\"0\" cellborder=\"1\" cellspacing=\"0\"><tr><td bgcolor=\"gray\" align=\"center\" colspan=\"1\">bcb0</td></tr><tr><td align=\"left\" balign=\"left\"></td></tr><tr><td align=\"left\" balign=\"left\">Counter(bcb0) at 18:1-20:2<br/>    19:5-19:9: @0[0]: _0 = const true<br/>    20:2-20:2: @0.Return: return</td></tr><tr><td align=\"left\" balign=\"left\">bb0: Return</td></tr></table>>];\n+    bcb0__Cov_0_4 [shape=\"none\", label=<<table border=\"0\" cellborder=\"1\" cellspacing=\"0\"><tr><td bgcolor=\"gray\" align=\"center\" colspan=\"1\">bcb0</td></tr><tr><td align=\"left\" balign=\"left\"></td></tr><tr><td align=\"left\" balign=\"left\">Counter(bcb0) at 18:1-20:2<br/>    19:5-19:9: @0[0]: Coverage::Counter(1) for $DIR/coverage_graphviz.rs:18:1 - 20:2<br/>    20:2-20:2: @0.Return: return</td></tr><tr><td align=\"left\" balign=\"left\">bb0: Return</td></tr></table>>];\n }"}, {"sha": "5b6d73a7deefb557b4496f4f1f73407b97b782eb", "filename": "src/test/mir-opt/coverage_graphviz.main.InstrumentCoverage.0.dot", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Fmir-opt%2Fcoverage_graphviz.main.InstrumentCoverage.0.dot", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Fmir-opt%2Fcoverage_graphviz.main.InstrumentCoverage.0.dot", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fcoverage_graphviz.main.InstrumentCoverage.0.dot?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -2,7 +2,7 @@ digraph Cov_0_3 {\n     graph [fontname=\"Courier, monospace\"];\n     node [fontname=\"Courier, monospace\"];\n     edge [fontname=\"Courier, monospace\"];\n-    bcb2__Cov_0_3 [shape=\"none\", label=<<table border=\"0\" cellborder=\"1\" cellspacing=\"0\"><tr><td bgcolor=\"gray\" align=\"center\" colspan=\"1\">bcb2</td></tr><tr><td align=\"left\" balign=\"left\">Expression(bcb0 - bcb1) at 13:10-13:10<br/>    13:10-13:10: @4[0]: _1 = const ()</td></tr><tr><td align=\"left\" balign=\"left\">bb4: Goto</td></tr></table>>];\n+    bcb2__Cov_0_3 [shape=\"none\", label=<<table border=\"0\" cellborder=\"1\" cellspacing=\"0\"><tr><td bgcolor=\"gray\" align=\"center\" colspan=\"1\">bcb2</td></tr><tr><td align=\"left\" balign=\"left\">Expression(bcb0 - bcb1) at 13:10-13:10<br/>    13:10-13:10: @4[0]: Coverage::Expression(4294967295) = 1 - 2 for $DIR/coverage_graphviz.rs:13:10 - 13:11</td></tr><tr><td align=\"left\" balign=\"left\">bb4: Goto</td></tr></table>>];\n     bcb1__Cov_0_3 [shape=\"none\", label=<<table border=\"0\" cellborder=\"1\" cellspacing=\"0\"><tr><td bgcolor=\"gray\" align=\"center\" colspan=\"1\">bcb1</td></tr><tr><td align=\"left\" balign=\"left\">Counter(bcb1) at 12:13-12:18<br/>    12:13-12:18: @5[0]: _0 = const ()<br/>Expression(bcb1 + 0) at 15:2-15:2<br/>    15:2-15:2: @5.Return: return</td></tr><tr><td align=\"left\" balign=\"left\">bb3: FalseEdge</td></tr><tr><td align=\"left\" balign=\"left\">bb5: Return</td></tr></table>>];\n     bcb0__Cov_0_3 [shape=\"none\", label=<<table border=\"0\" cellborder=\"1\" cellspacing=\"0\"><tr><td bgcolor=\"gray\" align=\"center\" colspan=\"1\">bcb0</td></tr><tr><td align=\"left\" balign=\"left\"></td></tr><tr><td align=\"left\" balign=\"left\">Counter(bcb0) at 9:1-11:17<br/>    11:12-11:17: @1.Call: _2 = bar() -&gt; [return: bb2, unwind: bb6]<br/>    11:12-11:17: @2[0]: FakeRead(ForMatchedPlace, _2)</td></tr><tr><td align=\"left\" balign=\"left\">bb0: FalseUnwind<br/>bb1: Call</td></tr><tr><td align=\"left\" balign=\"left\">bb2: SwitchInt</td></tr></table>>];\n     bcb2__Cov_0_3 -> bcb0__Cov_0_3 [label=<>];"}, {"sha": "fef696df770b67ad22fb87a90dfaea803a8d7831", "filename": "src/test/mir-opt/instrument_coverage.bar.InstrumentCoverage.diff", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Fmir-opt%2Finstrument_coverage.bar.InstrumentCoverage.diff", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Fmir-opt%2Finstrument_coverage.bar.InstrumentCoverage.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Finstrument_coverage.bar.InstrumentCoverage.diff?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -5,8 +5,8 @@\n       let mut _0: bool;                    // return place in scope 0 at /the/src/instrument_coverage.rs:19:13: 19:17\n   \n       bb0: {\n-          _0 = const true;                 // scope 0 at /the/src/instrument_coverage.rs:20:5: 20:9\n +         Coverage::Counter(1) for /the/src/instrument_coverage.rs:19:1 - 21:2; // scope 0 at /the/src/instrument_coverage.rs:21:2: 21:2\n+          _0 = const true;                 // scope 0 at /the/src/instrument_coverage.rs:20:5: 20:9\n           return;                          // scope 0 at /the/src/instrument_coverage.rs:21:2: 21:2\n       }\n   }"}, {"sha": "9bd8c9cf61331c6bce17ceb1df4e8e0a8385f439", "filename": "src/test/mir-opt/instrument_coverage.main.InstrumentCoverage.diff", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Fmir-opt%2Finstrument_coverage.main.InstrumentCoverage.diff", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Fmir-opt%2Finstrument_coverage.main.InstrumentCoverage.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Finstrument_coverage.main.InstrumentCoverage.diff?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -8,6 +8,7 @@\n       let mut _3: !;                       // in scope 0 at /the/src/instrument_coverage.rs:12:18: 14:10\n   \n       bb0: {\n++         Coverage::Counter(1) for /the/src/instrument_coverage.rs:10:1 - 12:17; // scope 0 at /the/src/instrument_coverage.rs:11:5: 15:6\n           falseUnwind -> [real: bb1, cleanup: bb6]; // scope 0 at /the/src/instrument_coverage.rs:11:5: 15:6\n       }\n   \n@@ -21,26 +22,25 @@\n   \n       bb2: {\n           FakeRead(ForMatchedPlace, _2);   // scope 0 at /the/src/instrument_coverage.rs:12:12: 12:17\n-+         Coverage::Counter(1) for /the/src/instrument_coverage.rs:10:1 - 12:17; // scope 0 at /the/src/instrument_coverage.rs:12:9: 14:10\n           switchInt(_2) -> [false: bb4, otherwise: bb3]; // scope 0 at /the/src/instrument_coverage.rs:12:9: 14:10\n       }\n   \n       bb3: {\n++         Coverage::Expression(4294967294) = 2 + 0 for /the/src/instrument_coverage.rs:16:1 - 16:2; // scope 0 at /the/src/instrument_coverage.rs:12:9: 14:10\n++         Coverage::Counter(2) for /the/src/instrument_coverage.rs:13:13 - 13:18; // scope 0 at /the/src/instrument_coverage.rs:12:9: 14:10\n           falseEdge -> [real: bb5, imaginary: bb4]; // scope 0 at /the/src/instrument_coverage.rs:12:9: 14:10\n       }\n   \n       bb4: {\n++         Coverage::Expression(4294967295) = 1 - 2 for /the/src/instrument_coverage.rs:14:10 - 14:11; // scope 0 at /the/src/instrument_coverage.rs:11:5: 15:6\n           _1 = const ();                   // scope 0 at /the/src/instrument_coverage.rs:14:10: 14:10\n           StorageDead(_2);                 // scope 0 at /the/src/instrument_coverage.rs:15:5: 15:6\n-+         Coverage::Expression(4294967295) = 1 - 2 for /the/src/instrument_coverage.rs:14:10 - 14:11; // scope 0 at /the/src/instrument_coverage.rs:11:5: 15:6\n           goto -> bb0;                     // scope 0 at /the/src/instrument_coverage.rs:11:5: 15:6\n       }\n   \n       bb5: {\n           _0 = const ();                   // scope 0 at /the/src/instrument_coverage.rs:13:13: 13:18\n           StorageDead(_2);                 // scope 0 at /the/src/instrument_coverage.rs:15:5: 15:6\n-+         Coverage::Counter(2) for /the/src/instrument_coverage.rs:13:13 - 13:18; // scope 0 at /the/src/instrument_coverage.rs:16:2: 16:2\n-+         Coverage::Expression(4294967294) = 2 + 0 for /the/src/instrument_coverage.rs:16:1 - 16:2; // scope 0 at /the/src/instrument_coverage.rs:16:2: 16:2\n           return;                          // scope 0 at /the/src/instrument_coverage.rs:16:2: 16:2\n       }\n   "}, {"sha": "bb857ba3f3b3f42b83f582d08071a833f0871825", "filename": "src/test/run-make-fulldeps/coverage-reports/expected_export_coverage.assert.json", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_export_coverage.assert.json", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_export_coverage.assert.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_export_coverage.assert.json?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -17,14 +17,14 @@\n             },\n             \"lines\": {\n               \"count\": 15,\n-              \"covered\": 12,\n-              \"percent\": 80\n+              \"covered\": 13,\n+              \"percent\": 86.66666666666667\n             },\n             \"regions\": {\n               \"count\": 14,\n-              \"covered\": 12,\n-              \"notcovered\": 2,\n-              \"percent\": 85.71428571428571\n+              \"covered\": 13,\n+              \"notcovered\": 1,\n+              \"percent\": 92.85714285714286\n             }\n           }\n         }\n@@ -42,14 +42,14 @@\n         },\n         \"lines\": {\n           \"count\": 15,\n-          \"covered\": 12,\n-          \"percent\": 80\n+          \"covered\": 13,\n+          \"percent\": 86.66666666666667\n         },\n         \"regions\": {\n           \"count\": 14,\n-          \"covered\": 12,\n-          \"notcovered\": 2,\n-          \"percent\": 85.71428571428571\n+          \"covered\": 13,\n+          \"notcovered\": 1,\n+          \"percent\": 92.85714285714286\n         }\n       }\n     }"}, {"sha": "128f5888ed113acbc30836c6c8fdd2ba91d0a056", "filename": "src/test/run-make-fulldeps/coverage-reports/expected_export_coverage.overflow.json", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_export_coverage.overflow.json", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_export_coverage.overflow.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_export_coverage.overflow.json?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -17,14 +17,14 @@\n             },\n             \"lines\": {\n               \"count\": 23,\n-              \"covered\": 19,\n-              \"percent\": 82.6086956521739\n+              \"covered\": 21,\n+              \"percent\": 91.30434782608695\n             },\n             \"regions\": {\n               \"count\": 13,\n-              \"covered\": 11,\n-              \"notcovered\": 2,\n-              \"percent\": 84.61538461538461\n+              \"covered\": 12,\n+              \"notcovered\": 1,\n+              \"percent\": 92.3076923076923\n             }\n           }\n         }\n@@ -42,14 +42,14 @@\n         },\n         \"lines\": {\n           \"count\": 23,\n-          \"covered\": 19,\n-          \"percent\": 82.6086956521739\n+          \"covered\": 21,\n+          \"percent\": 91.30434782608695\n         },\n         \"regions\": {\n           \"count\": 13,\n-          \"covered\": 11,\n-          \"notcovered\": 2,\n-          \"percent\": 84.61538461538461\n+          \"covered\": 12,\n+          \"notcovered\": 1,\n+          \"percent\": 92.3076923076923\n         }\n       }\n     }"}, {"sha": "9c08dfd41a12b53052f25b0e50c972b2a3b5d8bc", "filename": "src/test/run-make-fulldeps/coverage-reports/expected_export_coverage.panic_unwind.json", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_export_coverage.panic_unwind.json", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_export_coverage.panic_unwind.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_export_coverage.panic_unwind.json?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -17,14 +17,14 @@\n             },\n             \"lines\": {\n               \"count\": 19,\n-              \"covered\": 16,\n-              \"percent\": 84.21052631578947\n+              \"covered\": 17,\n+              \"percent\": 89.47368421052632\n             },\n             \"regions\": {\n               \"count\": 13,\n-              \"covered\": 11,\n-              \"notcovered\": 2,\n-              \"percent\": 84.61538461538461\n+              \"covered\": 12,\n+              \"notcovered\": 1,\n+              \"percent\": 92.3076923076923\n             }\n           }\n         }\n@@ -42,14 +42,14 @@\n         },\n         \"lines\": {\n           \"count\": 19,\n-          \"covered\": 16,\n-          \"percent\": 84.21052631578947\n+          \"covered\": 17,\n+          \"percent\": 89.47368421052632\n         },\n         \"regions\": {\n           \"count\": 13,\n-          \"covered\": 11,\n-          \"notcovered\": 2,\n-          \"percent\": 84.61538461538461\n+          \"covered\": 12,\n+          \"notcovered\": 1,\n+          \"percent\": 92.3076923076923\n         }\n       }\n     }"}, {"sha": "405688806eaae7e0dc666e77e082dbbe12e27000", "filename": "src/test/run-make-fulldeps/coverage-reports/expected_show_coverage.assert.txt", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage.assert.txt", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage.assert.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage.assert.txt?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -9,13 +9,13 @@\n     8|       |\n     9|      1|fn main() -> Result<(),u8> {\n    10|      1|    let mut countdown = 10;\n-   11|     10|    while countdown > 0 {\n-   12|     10|        if countdown == 1 {\n-   13|      0|            might_fail_assert(3);\n+   11|     11|    while countdown > 0 {\n+   12|     11|        if countdown == 1 {\n+   13|      1|            might_fail_assert(3);\n    14|     10|        } else if countdown < 5 {\n    15|      3|            might_fail_assert(2);\n    16|      6|        }\n-   17|      9|        countdown -= 1;\n+   17|     10|        countdown -= 1;\n    18|       |    }\n    19|      0|    Ok(())\n    20|      0|}"}, {"sha": "25e822bffd11fb379483fe443efc308a8bf5dcd1", "filename": "src/test/run-make-fulldeps/coverage-reports/expected_show_coverage.overflow.txt", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage.overflow.txt", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage.overflow.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage.overflow.txt?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -14,15 +14,15 @@\n    14|       |\n    15|      1|fn main() -> Result<(),u8> {\n    16|      1|    let mut countdown = 10;\n-   17|     10|    while countdown > 0 {\n-   18|     10|        if countdown == 1 {\n-   19|      0|            let result = might_overflow(10);\n-   20|      0|            println!(\"Result: {}\", result);\n+   17|     11|    while countdown > 0 {\n+   18|     11|        if countdown == 1 {\n+   19|      1|            let result = might_overflow(10);\n+   20|      1|            println!(\"Result: {}\", result);\n    21|     10|        } else if countdown < 5 {\n    22|      3|            let result = might_overflow(1);\n    23|      3|            println!(\"Result: {}\", result);\n    24|      6|        }\n-   25|      9|        countdown -= 1;\n+   25|     10|        countdown -= 1;\n    26|       |    }\n    27|      0|    Ok(())\n    28|      0|}"}, {"sha": "c77ee5ddc207b2715e9585d9ee70aa60a93b95b8", "filename": "src/test/run-make-fulldeps/coverage-reports/expected_show_coverage.panic_unwind.txt", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage.panic_unwind.txt", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage.panic_unwind.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage.panic_unwind.txt?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -12,13 +12,13 @@\n    12|       |\n    13|      1|fn main() -> Result<(), u8> {\n    14|      1|    let mut countdown = 10;\n-   15|     10|    while countdown > 0 {\n-   16|     10|        if countdown == 1 {\n-   17|      0|            might_panic(true);\n+   15|     11|    while countdown > 0 {\n+   16|     11|        if countdown == 1 {\n+   17|      1|            might_panic(true);\n    18|     10|        } else if countdown < 5 {\n    19|      3|            might_panic(false);\n    20|      6|        }\n-   21|      9|        countdown -= 1;\n+   21|     10|        countdown -= 1;\n    22|       |    }\n    23|      0|    Ok(())\n    24|      0|}"}, {"sha": "0866a9a59a11d46445266614a5a357cef29604f5", "filename": "src/test/run-make-fulldeps/coverage-reports/expected_show_coverage_counters.assert.txt", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage_counters.assert.txt", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage_counters.assert.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage_counters.assert.txt?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -20,13 +20,13 @@ Combined regions:\n   6:37 -> 6:61 (count=1)\n   7:1 -> 7:2 (count=3)\n   9:1 -> 10:27 (count=1)\n-  11:11 -> 11:24 (count=10)\n-  12:12 -> 12:26 (count=10)\n-  12:27 -> 14:10 (count=0)\n+  11:11 -> 11:24 (count=11)\n+  12:12 -> 12:26 (count=11)\n+  12:27 -> 14:10 (count=1)\n   14:19 -> 14:32 (count=10)\n   14:33 -> 16:10 (count=3)\n   16:10 -> 16:11 (count=6)\n-  17:9 -> 17:23 (count=9)\n+  17:9 -> 17:23 (count=10)\n   19:5 -> 20:2 (count=0)\n Segment at 4:1 (count = 4), RegionEntry\n Segment at 4:41 (count = 0), Skipped\n@@ -40,18 +40,18 @@ Segment at 7:1 (count = 3), RegionEntry\n Segment at 7:2 (count = 0), Skipped\n Segment at 9:1 (count = 1), RegionEntry\n Segment at 10:27 (count = 0), Skipped\n-Segment at 11:11 (count = 10), RegionEntry\n+Segment at 11:11 (count = 11), RegionEntry\n Segment at 11:24 (count = 0), Skipped\n-Segment at 12:12 (count = 10), RegionEntry\n+Segment at 12:12 (count = 11), RegionEntry\n Segment at 12:26 (count = 0), Skipped\n-Segment at 12:27 (count = 0), RegionEntry\n+Segment at 12:27 (count = 1), RegionEntry\n Segment at 14:10 (count = 0), Skipped\n Segment at 14:19 (count = 10), RegionEntry\n Segment at 14:32 (count = 0), Skipped\n Segment at 14:33 (count = 3), RegionEntry\n Segment at 16:10 (count = 6), RegionEntry\n Segment at 16:11 (count = 0), Skipped\n-Segment at 17:9 (count = 9), RegionEntry\n+Segment at 17:9 (count = 10), RegionEntry\n Segment at 17:23 (count = 0), Skipped\n Segment at 19:5 (count = 0), RegionEntry\n Segment at 20:2 (count = 0), Skipped"}, {"sha": "380bb7cf170165320a48b8414e5ee37babe84e07", "filename": "src/test/run-make-fulldeps/coverage-reports/expected_show_coverage_counters.overflow.txt", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage_counters.overflow.txt", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage_counters.overflow.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage_counters.overflow.txt?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -18,13 +18,13 @@ Combined regions:\n   7:6 -> 7:7 (count=3)\n   8:9 -> 13:2 (count=4)\n   15:1 -> 16:27 (count=1)\n-  17:11 -> 17:24 (count=10)\n-  18:12 -> 18:26 (count=10)\n-  18:27 -> 21:10 (count=0)\n+  17:11 -> 17:24 (count=11)\n+  18:12 -> 18:26 (count=11)\n+  18:27 -> 21:10 (count=1)\n   21:19 -> 21:32 (count=10)\n   21:33 -> 24:10 (count=3)\n   24:10 -> 24:11 (count=6)\n-  25:9 -> 25:23 (count=9)\n+  25:9 -> 25:23 (count=10)\n   27:5 -> 28:2 (count=0)\n Segment at 4:1 (count = 4), RegionEntry\n Segment at 5:18 (count = 0), Skipped\n@@ -35,18 +35,18 @@ Segment at 8:9 (count = 4), RegionEntry\n Segment at 13:2 (count = 0), Skipped\n Segment at 15:1 (count = 1), RegionEntry\n Segment at 16:27 (count = 0), Skipped\n-Segment at 17:11 (count = 10), RegionEntry\n+Segment at 17:11 (count = 11), RegionEntry\n Segment at 17:24 (count = 0), Skipped\n-Segment at 18:12 (count = 10), RegionEntry\n+Segment at 18:12 (count = 11), RegionEntry\n Segment at 18:26 (count = 0), Skipped\n-Segment at 18:27 (count = 0), RegionEntry\n+Segment at 18:27 (count = 1), RegionEntry\n Segment at 21:10 (count = 0), Skipped\n Segment at 21:19 (count = 10), RegionEntry\n Segment at 21:32 (count = 0), Skipped\n Segment at 21:33 (count = 3), RegionEntry\n Segment at 24:10 (count = 6), RegionEntry\n Segment at 24:11 (count = 0), Skipped\n-Segment at 25:9 (count = 9), RegionEntry\n+Segment at 25:9 (count = 10), RegionEntry\n Segment at 25:23 (count = 0), Skipped\n Segment at 27:5 (count = 0), RegionEntry\n Segment at 28:2 (count = 0), Skipped"}, {"sha": "b3f61ad325d1c0cfd401ae862cdf490deffe9698", "filename": "src/test/run-make-fulldeps/coverage-reports/expected_show_coverage_counters.panic_unwind.txt", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage_counters.panic_unwind.txt", "raw_url": "https://github.com/rust-lang/rust/raw/a5b1d2252fabbeeebd344648beb0889a6b424df2/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage_counters.panic_unwind.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fcoverage-reports%2Fexpected_show_coverage_counters.panic_unwind.txt?ref=a5b1d2252fabbeeebd344648beb0889a6b424df2", "patch": "@@ -18,13 +18,13 @@ Combined regions:\n   6:9 -> 7:26 (count=1)\n   8:12 -> 11:2 (count=3)\n   13:1 -> 14:27 (count=1)\n-  15:11 -> 15:24 (count=10)\n-  16:12 -> 16:26 (count=10)\n-  16:27 -> 18:10 (count=0)\n+  15:11 -> 15:24 (count=11)\n+  16:12 -> 16:26 (count=11)\n+  16:27 -> 18:10 (count=1)\n   18:19 -> 18:32 (count=10)\n   18:33 -> 20:10 (count=3)\n   20:10 -> 20:11 (count=6)\n-  21:9 -> 21:23 (count=9)\n+  21:9 -> 21:23 (count=10)\n   23:5 -> 24:2 (count=0)\n Segment at 4:1 (count = 4), RegionEntry\n Segment at 4:36 (count = 0), Skipped\n@@ -36,18 +36,18 @@ Segment at 8:12 (count = 3), RegionEntry\n Segment at 11:2 (count = 0), Skipped\n Segment at 13:1 (count = 1), RegionEntry\n Segment at 14:27 (count = 0), Skipped\n-Segment at 15:11 (count = 10), RegionEntry\n+Segment at 15:11 (count = 11), RegionEntry\n Segment at 15:24 (count = 0), Skipped\n-Segment at 16:12 (count = 10), RegionEntry\n+Segment at 16:12 (count = 11), RegionEntry\n Segment at 16:26 (count = 0), Skipped\n-Segment at 16:27 (count = 0), RegionEntry\n+Segment at 16:27 (count = 1), RegionEntry\n Segment at 18:10 (count = 0), Skipped\n Segment at 18:19 (count = 10), RegionEntry\n Segment at 18:32 (count = 0), Skipped\n Segment at 18:33 (count = 3), RegionEntry\n Segment at 20:10 (count = 6), RegionEntry\n Segment at 20:11 (count = 0), Skipped\n-Segment at 21:9 (count = 9), RegionEntry\n+Segment at 21:9 (count = 10), RegionEntry\n Segment at 21:23 (count = 0), Skipped\n Segment at 23:5 (count = 0), RegionEntry\n Segment at 24:2 (count = 0), Skipped"}]}