{"sha": "1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhMjVjYjBiMWUwZjgxZTdiNzZjMGI0MWI5NGQxOGVjYTNiZDNiZmI=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-08-07T11:52:03Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-08-07T11:52:03Z"}, "message": "simplify unary expr grammar", "tree": {"sha": "3683c0849bccbe1aaf0d0b4373beebf5b62999f2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3683c0849bccbe1aaf0d0b4373beebf5b62999f2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb", "html_url": "https://github.com/rust-lang/rust/commit/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ba21da52741bf207db5081811e00eacf45796429", "url": "https://api.github.com/repos/rust-lang/rust/commits/ba21da52741bf207db5081811e00eacf45796429", "html_url": "https://github.com/rust-lang/rust/commit/ba21da52741bf207db5081811e00eacf45796429"}], "stats": {"total": 38, "additions": 11, "deletions": 27}, "files": [{"sha": "960838c973e7b338c8ead8c5e26c8817b8c9261f", "filename": "src/grammar.ron", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/src%2Fgrammar.ron", "raw_url": "https://github.com/rust-lang/rust/raw/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/src%2Fgrammar.ron", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fgrammar.ron?ref=1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb", "patch": "@@ -171,9 +171,7 @@ Grammar(\n \n         // unary\n         \"REF_EXPR\",\n-        \"DEREF_EXPR\",\n-        \"NOT_EXPR\",\n-        \"NEG_EXPR\",\n+        \"PREFIX_EXPR\",\n \n         \"RANGE_EXPR\", // just weird\n         \"BIN_EXPR\","}, {"sha": "853a9411ca089b96b67437389a2a9b148c26ceb9", "filename": "src/grammar/expressions/mod.rs", "status": "modified", "additions": 2, "deletions": 12, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/src%2Fgrammar%2Fexpressions%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/src%2Fgrammar%2Fexpressions%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fgrammar%2Fexpressions%2Fmod.rs?ref=1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb", "patch": "@@ -130,28 +130,18 @@ fn lhs(p: &mut Parser, r: Restrictions) -> Option<CompletedMarker> {\n         // fn foo() {\n         //     **&1;\n         // }\n-        STAR => {\n-            m = p.start();\n-            p.bump();\n-            DEREF_EXPR\n-        }\n         // test not_expr\n         // fn foo() {\n         //     !!true;\n         // }\n-        EXCL => {\n-            m = p.start();\n-            p.bump();\n-            NOT_EXPR\n-        }\n         // test neg_expr\n         // fn foo() {\n         //     --1;\n         // }\n-        MINUS => {\n+        STAR | EXCL | MINUS => {\n             m = p.start();\n             p.bump();\n-            NEG_EXPR\n+            PREFIX_EXPR\n         }\n         DOTDOT => {\n             m = p.start();"}, {"sha": "cf286a0f1f456a449f0f7aa6d269056eb7e21554", "filename": "src/syntax_kinds/generated.rs", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/src%2Fsyntax_kinds%2Fgenerated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/src%2Fsyntax_kinds%2Fgenerated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsyntax_kinds%2Fgenerated.rs?ref=1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb", "patch": "@@ -157,9 +157,7 @@ pub enum SyntaxKind {\n     TRY_EXPR,\n     CAST_EXPR,\n     REF_EXPR,\n-    DEREF_EXPR,\n-    NOT_EXPR,\n-    NEG_EXPR,\n+    PREFIX_EXPR,\n     RANGE_EXPR,\n     BIN_EXPR,\n     EXTERN_BLOCK_EXPR,\n@@ -397,9 +395,7 @@ impl SyntaxKind {\n             TRY_EXPR => &SyntaxInfo { name: \"TRY_EXPR\" },\n             CAST_EXPR => &SyntaxInfo { name: \"CAST_EXPR\" },\n             REF_EXPR => &SyntaxInfo { name: \"REF_EXPR\" },\n-            DEREF_EXPR => &SyntaxInfo { name: \"DEREF_EXPR\" },\n-            NOT_EXPR => &SyntaxInfo { name: \"NOT_EXPR\" },\n-            NEG_EXPR => &SyntaxInfo { name: \"NEG_EXPR\" },\n+            PREFIX_EXPR => &SyntaxInfo { name: \"PREFIX_EXPR\" },\n             RANGE_EXPR => &SyntaxInfo { name: \"RANGE_EXPR\" },\n             BIN_EXPR => &SyntaxInfo { name: \"BIN_EXPR\" },\n             EXTERN_BLOCK_EXPR => &SyntaxInfo { name: \"EXTERN_BLOCK_EXPR\" },"}, {"sha": "71be78bc2b40a4d5a28136bdfed775c9e98945ea", "filename": "tests/data/parser/inline/0062_deref_expr.txt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/tests%2Fdata%2Fparser%2Finline%2F0062_deref_expr.txt", "raw_url": "https://github.com/rust-lang/rust/raw/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/tests%2Fdata%2Fparser%2Finline%2F0062_deref_expr.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0062_deref_expr.txt?ref=1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb", "patch": "@@ -12,9 +12,9 @@ FILE@[0; 23)\n       L_CURLY@[9; 10)\n       WHITESPACE@[10; 15)\n       EXPR_STMT@[15; 20)\n-        DEREF_EXPR@[15; 19)\n+        PREFIX_EXPR@[15; 19)\n           STAR@[15; 16)\n-          DEREF_EXPR@[16; 19)\n+          PREFIX_EXPR@[16; 19)\n             STAR@[16; 17)\n             REF_EXPR@[17; 19)\n               AMP@[17; 18)"}, {"sha": "005a5bcf2a9c374f350bc251c3333069b055a13d", "filename": "tests/data/parser/inline/0066_not_expr.txt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/tests%2Fdata%2Fparser%2Finline%2F0066_not_expr.txt", "raw_url": "https://github.com/rust-lang/rust/raw/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/tests%2Fdata%2Fparser%2Finline%2F0066_not_expr.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0066_not_expr.txt?ref=1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb", "patch": "@@ -12,9 +12,9 @@ FILE@[0; 25)\n       L_CURLY@[9; 10)\n       WHITESPACE@[10; 15)\n       EXPR_STMT@[15; 22)\n-        NOT_EXPR@[15; 21)\n+        PREFIX_EXPR@[15; 21)\n           EXCL@[15; 16)\n-          NOT_EXPR@[16; 21)\n+          PREFIX_EXPR@[16; 21)\n             EXCL@[16; 17)\n             LITERAL@[17; 21)\n               TRUE_KW@[17; 21)"}, {"sha": "65855555ce3b9123d6a0892ac7150ea036fce7d4", "filename": "tests/data/parser/inline/0085_neg_expr.txt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/tests%2Fdata%2Fparser%2Finline%2F0085_neg_expr.txt", "raw_url": "https://github.com/rust-lang/rust/raw/1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb/tests%2Fdata%2Fparser%2Finline%2F0085_neg_expr.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0085_neg_expr.txt?ref=1a25cb0b1e0f81e7b76c0b41b94d18eca3bd3bfb", "patch": "@@ -12,9 +12,9 @@ FILE@[0; 22)\n       L_CURLY@[9; 10)\n       WHITESPACE@[10; 15)\n       EXPR_STMT@[15; 19)\n-        NEG_EXPR@[15; 18)\n+        PREFIX_EXPR@[15; 18)\n           MINUS@[15; 16)\n-          NEG_EXPR@[16; 18)\n+          PREFIX_EXPR@[16; 18)\n             MINUS@[16; 17)\n             LITERAL@[17; 18)\n               INT_NUMBER@[17; 18) \"1\""}]}