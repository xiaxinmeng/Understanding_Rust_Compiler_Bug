{"sha": "fb7d8a12db2a561c7dcc2534714243793446c7c4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZiN2Q4YTEyZGIyYTU2MWM3ZGNjMjUzNDcxNDI0Mzc5MzQ0NmM3YzQ=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-07-31T08:35:27Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-07-31T09:17:26Z"}, "message": "hopefully make test pass on windows", "tree": {"sha": "abae6454c3b95911bd545c6c12e6534ba674f8ca", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/abae6454c3b95911bd545c6c12e6534ba674f8ca"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fb7d8a12db2a561c7dcc2534714243793446c7c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fb7d8a12db2a561c7dcc2534714243793446c7c4", "html_url": "https://github.com/rust-lang/rust/commit/fb7d8a12db2a561c7dcc2534714243793446c7c4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fb7d8a12db2a561c7dcc2534714243793446c7c4/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50773991d3f8dee3cda032f6d1289277cdd9da25", "url": "https://api.github.com/repos/rust-lang/rust/commits/50773991d3f8dee3cda032f6d1289277cdd9da25", "html_url": "https://github.com/rust-lang/rust/commit/50773991d3f8dee3cda032f6d1289277cdd9da25"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "a6c846d7dab51862a185e42b53543bee84f4d6ec", "filename": "src/test/codegen/slice-position-bounds-check.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/fb7d8a12db2a561c7dcc2534714243793446c7c4/src%2Ftest%2Fcodegen%2Fslice-position-bounds-check.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fb7d8a12db2a561c7dcc2534714243793446c7c4/src%2Ftest%2Fcodegen%2Fslice-position-bounds-check.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fslice-position-bounds-check.rs?ref=fb7d8a12db2a561c7dcc2534714243793446c7c4", "patch": "@@ -9,7 +9,7 @@\n // except according to those terms.\n \n // no-system-llvm\n-// compile-flags: -O\n+// compile-flags: -O -C panic=abort\n #![crate_type = \"lib\"]\n \n fn search<T: Ord + Eq>(arr: &mut [T], a: &T) -> Result<usize, ()> {\n@@ -25,18 +25,18 @@ fn search<T: Ord + Eq>(arr: &mut [T], a: &T) -> Result<usize, ()> {\n #[no_mangle]\n pub fn position_no_bounds_check(y: &mut [u32], x: &u32, z: &u32) -> bool {\n     // This contains \"call assume\" so we cannot just rule out all calls\n-    // CHECK-NOT: panic\n+    // CHECK-NOT: panic_bounds_check\n     if let Ok(p) = search(y, x) {\n       y[p] == *z\n     } else {\n       false\n     }\n }\n \n-// just to make sure that panicking really emits \"panic\" somewhere in the IR\n+// just to make sure that panicking really emits \"panic_bounds_check\" somewhere in the IR\n // CHECK-LABEL: @test_check\n #[no_mangle]\n-pub fn test_check() {\n-    // CHECK: panic\n-    unreachable!()\n+pub fn test_check(y: &[i32]) -> i32 {\n+    // CHECK: panic_bounds_check\n+    y[12]\n }"}]}