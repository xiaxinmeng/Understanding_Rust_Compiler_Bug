{"sha": "32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "node_id": "C_kwDOAAsO6NoAKDMyYWU4ODEwZmNjNmQ5NmExZTdlNTQ0N2Y1YjM1NzU5Y2EzMzhlZDk", "commit": {"author": {"name": "\u8bb8\u6770\u53cb Jieyou Xu (Joe)", "email": "jieyouxu@outlook.com", "date": "2023-06-10T09:06:26Z"}, "committer": {"name": "\u8bb8\u6770\u53cb Jieyou Xu (Joe)", "email": "jieyouxu@outlook.com", "date": "2023-06-15T10:19:09Z"}, "message": "Fix suggestion for E0404 not dealing with multiple generics", "tree": {"sha": "7ad52c891db2fdebfe29ac7207a201562443235c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7ad52c891db2fdebfe29ac7207a201562443235c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEze4qXcfh0ileWqZTxf1dMgFP20cFAmSK5Z0ACgkQxf1dMgFP\n20cz4A/9HFDL+9vi80kmNT5ZwIPtHWH6y/1OIM+r2U/aOrykMmJwapw3aei2glGo\nqjOMbPNDvCzSPhWd9b3T4wCCD1OIFIL5PCM07xsU5hews3piajClBJLdruTH3sOW\nVRpdcQ/y7wupfO6iQEtW+GlbeIbZzxz8CnjOeMOZCitaibp6eAJJAbmEpw0wecRv\nTcrYS4seRbRrMkd77rMNPqSJ0vgMQhkTJ3qndwtCnjaZ/5vnkyQSnEHk5M5vkhNF\naPnmJ3KNgOI+81EIGVemNwmfX5blIRt2PxKvgsz39XBnUcQd3KyaRTJzh2HrylWg\nBlmu8TD/5UyrjRZF0zbe+gHjQlhC6tVX1U2Z58I/SDaxYA9pYc2qGkGmN3su2fMJ\n68HsMeN+WEAhx1OL4wq/tkqyG0varm7LE96+C6N68hD/OHsDEPDB7Nm+wbUlePLE\nTDcAiXap19PmXKs4mft6E9YvI9eFxw5psbhcWz/1+LBKvMTxkhuDGvGUc9rWoaqV\nVT0O8Wrst1Prafm6eVbkqIC9DdkQrYX5QvOTs0wOZjTIC9qreZTZoVIA42W0US7z\nPcqVMHofzgr8bwFu0UL/WNhtnGU102VElJ6W18fpv+fuZSqMc7dpoNjdiyxKNh7/\nOReektILLKmXirQzgKHZK7G6xfqKMYKtNybP8giLaOqKzSUCcSg=\n=bYQd\n-----END PGP SIGNATURE-----", "payload": "tree 7ad52c891db2fdebfe29ac7207a201562443235c\nparent 314c39d2ea07d8b50649149358ebeb1a6bd09179\nauthor \u8bb8\u6770\u53cb Jieyou Xu (Joe) <jieyouxu@outlook.com> 1686387986 +0800\ncommitter \u8bb8\u6770\u53cb Jieyou Xu (Joe) <jieyouxu@outlook.com> 1686824349 +0800\n\nFix suggestion for E0404 not dealing with multiple generics\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "html_url": "https://github.com/rust-lang/rust/commit/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/comments", "author": {"login": "jieyouxu", "id": 39484203, "node_id": "MDQ6VXNlcjM5NDg0MjAz", "avatar_url": "https://avatars.githubusercontent.com/u/39484203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jieyouxu", "html_url": "https://github.com/jieyouxu", "followers_url": "https://api.github.com/users/jieyouxu/followers", "following_url": "https://api.github.com/users/jieyouxu/following{/other_user}", "gists_url": "https://api.github.com/users/jieyouxu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jieyouxu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jieyouxu/subscriptions", "organizations_url": "https://api.github.com/users/jieyouxu/orgs", "repos_url": "https://api.github.com/users/jieyouxu/repos", "events_url": "https://api.github.com/users/jieyouxu/events{/privacy}", "received_events_url": "https://api.github.com/users/jieyouxu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jieyouxu", "id": 39484203, "node_id": "MDQ6VXNlcjM5NDg0MjAz", "avatar_url": "https://avatars.githubusercontent.com/u/39484203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jieyouxu", "html_url": "https://github.com/jieyouxu", "followers_url": "https://api.github.com/users/jieyouxu/followers", "following_url": "https://api.github.com/users/jieyouxu/following{/other_user}", "gists_url": "https://api.github.com/users/jieyouxu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jieyouxu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jieyouxu/subscriptions", "organizations_url": "https://api.github.com/users/jieyouxu/orgs", "repos_url": "https://api.github.com/users/jieyouxu/repos", "events_url": "https://api.github.com/users/jieyouxu/events{/privacy}", "received_events_url": "https://api.github.com/users/jieyouxu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "314c39d2ea07d8b50649149358ebeb1a6bd09179", "url": "https://api.github.com/repos/rust-lang/rust/commits/314c39d2ea07d8b50649149358ebeb1a6bd09179", "html_url": "https://github.com/rust-lang/rust/commit/314c39d2ea07d8b50649149358ebeb1a6bd09179"}], "stats": {"total": 218, "additions": 182, "deletions": 36}, "files": [{"sha": "83b7e13905aee7d7e8c01b0285a777bc9c782895", "filename": "compiler/rustc_ast_pretty/src/pprust/mod.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fmod.rs?ref=32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "patch": "@@ -32,6 +32,10 @@ pub fn bounds_to_string(bounds: &[ast::GenericBound]) -> String {\n     State::new().bounds_to_string(bounds)\n }\n \n+pub fn where_bound_predicate_to_string(where_bound_predicate: &ast::WhereBoundPredicate) -> String {\n+    State::new().where_bound_predicate_to_string(where_bound_predicate)\n+}\n+\n pub fn pat_to_string(pat: &ast::Pat) -> String {\n     State::new().pat_to_string(pat)\n }"}, {"sha": "59239b49eddd81414a3747dd3c379e18f04479ac", "filename": "compiler/rustc_ast_pretty/src/pprust/state.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs?ref=32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "patch": "@@ -824,6 +824,13 @@ pub trait PrintState<'a>: std::ops::Deref<Target = pp::Printer> + std::ops::Dere\n         Self::to_string(|s| s.print_type_bounds(bounds))\n     }\n \n+    fn where_bound_predicate_to_string(\n+        &self,\n+        where_bound_predicate: &ast::WhereBoundPredicate,\n+    ) -> String {\n+        Self::to_string(|s| s.print_where_bound_predicate(where_bound_predicate))\n+    }\n+\n     fn pat_to_string(&self, pat: &ast::Pat) -> String {\n         Self::to_string(|s| s.print_pat(pat))\n     }"}, {"sha": "5c01b7ea70a13419ffecebbd2e325c0fc79c65af", "filename": "compiler/rustc_ast_pretty/src/pprust/state/item.rs", "status": "modified", "additions": 15, "deletions": 13, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate%2Fitem.rs?ref=32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "patch": "@@ -623,19 +623,8 @@ impl<'a> State<'a> {\n \n     pub fn print_where_predicate(&mut self, predicate: &ast::WherePredicate) {\n         match predicate {\n-            ast::WherePredicate::BoundPredicate(ast::WhereBoundPredicate {\n-                bound_generic_params,\n-                bounded_ty,\n-                bounds,\n-                ..\n-            }) => {\n-                self.print_formal_generic_params(bound_generic_params);\n-                self.print_type(bounded_ty);\n-                self.word(\":\");\n-                if !bounds.is_empty() {\n-                    self.nbsp();\n-                    self.print_type_bounds(bounds);\n-                }\n+            ast::WherePredicate::BoundPredicate(where_bound_predicate) => {\n+                self.print_where_bound_predicate(where_bound_predicate);\n             }\n             ast::WherePredicate::RegionPredicate(ast::WhereRegionPredicate {\n                 lifetime,\n@@ -658,6 +647,19 @@ impl<'a> State<'a> {\n         }\n     }\n \n+    pub fn print_where_bound_predicate(\n+        &mut self,\n+        where_bound_predicate: &ast::WhereBoundPredicate,\n+    ) {\n+        self.print_formal_generic_params(&where_bound_predicate.bound_generic_params);\n+        self.print_type(&where_bound_predicate.bounded_ty);\n+        self.word(\":\");\n+        if !where_bound_predicate.bounds.is_empty() {\n+            self.nbsp();\n+            self.print_type_bounds(&where_bound_predicate.bounds);\n+        }\n+    }\n+\n     fn print_use_tree(&mut self, tree: &ast::UseTree) {\n         match &tree.kind {\n             ast::UseTreeKind::Simple(rename) => {"}, {"sha": "7284b33f09d8e57d21a7b7fb13dbc68a24dfffa5", "filename": "compiler/rustc_resolve/src/late/diagnostics.rs", "status": "modified", "additions": 69, "deletions": 23, "changes": 92, "blob_url": "https://github.com/rust-lang/rust/blob/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs?ref=32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "patch": "@@ -10,7 +10,7 @@ use rustc_ast::{\n     self as ast, AssocItemKind, Expr, ExprKind, GenericParam, GenericParamKind, Item, ItemKind,\n     MethodCall, NodeId, Path, Ty, TyKind, DUMMY_NODE_ID,\n };\n-use rustc_ast_pretty::pprust::path_segment_to_string;\n+use rustc_ast_pretty::pprust::where_bound_predicate_to_string;\n use rustc_data_structures::fx::FxHashSet;\n use rustc_errors::{\n     pluralize, struct_span_err, Applicability, Diagnostic, DiagnosticBuilder, ErrorGuaranteed,\n@@ -1050,7 +1050,7 @@ impl<'a: 'ast, 'ast, 'tcx> LateResolutionVisitor<'a, '_, 'ast, 'tcx> {\n             };\n \n         // Confirm that the target is an associated type.\n-        let (ty, position, path) = if let ast::TyKind::Path(Some(qself), path) = &bounded_ty.kind {\n+        let (ty, _, path) = if let ast::TyKind::Path(Some(qself), path) = &bounded_ty.kind {\n             // use this to verify that ident is a type param.\n             let Some(partial_res) = self.r.partial_res_map.get(&bounded_ty.id) else {\n                 return false;\n@@ -1079,37 +1079,19 @@ impl<'a: 'ast, 'ast, 'tcx> LateResolutionVisitor<'a, '_, 'ast, 'tcx> {\n                 return false;\n             }\n             if let (\n-                [ast::PathSegment { ident: constrain_ident, args: None, .. }],\n+                [ast::PathSegment { args: None, .. }],\n                 [ast::GenericBound::Trait(poly_trait_ref, ast::TraitBoundModifier::None)],\n             ) = (&type_param_path.segments[..], &bounds[..])\n             {\n                 if let [ast::PathSegment { ident, args: None, .. }] =\n                     &poly_trait_ref.trait_ref.path.segments[..]\n                 {\n                     if ident.span == span {\n+                        let Some(new_where_bound_predicate) = mk_where_bound_predicate(path, poly_trait_ref, ty) else { return false; };\n                         err.span_suggestion_verbose(\n                             *where_span,\n                             format!(\"constrain the associated type to `{}`\", ident),\n-                            format!(\n-                                \"{}: {}<{} = {}>\",\n-                                self.r\n-                                    .tcx\n-                                    .sess\n-                                    .source_map()\n-                                    .span_to_snippet(ty.span) // Account for `<&'a T as Foo>::Bar`.\n-                                    .unwrap_or_else(|_| constrain_ident.to_string()),\n-                                path.segments[..position]\n-                                    .iter()\n-                                    .map(|segment| path_segment_to_string(segment))\n-                                    .collect::<Vec<_>>()\n-                                    .join(\"::\"),\n-                                path.segments[position..]\n-                                    .iter()\n-                                    .map(|segment| path_segment_to_string(segment))\n-                                    .collect::<Vec<_>>()\n-                                    .join(\"::\"),\n-                                ident,\n-                            ),\n+                            where_bound_predicate_to_string(&new_where_bound_predicate),\n                             Applicability::MaybeIncorrect,\n                         );\n                     }\n@@ -2605,6 +2587,70 @@ impl<'a: 'ast, 'ast, 'tcx> LateResolutionVisitor<'a, '_, 'ast, 'tcx> {\n     }\n }\n \n+fn mk_where_bound_predicate(\n+    path: &Path,\n+    poly_trait_ref: &ast::PolyTraitRef,\n+    ty: &ast::Ty,\n+) -> Option<ast::WhereBoundPredicate> {\n+    use rustc_span::DUMMY_SP;\n+    let modified_segments = {\n+        let mut segments = path.segments.clone();\n+        let [preceding @ .., second_last, last] = segments.as_mut_slice() else { return None; };\n+        let mut segments = ThinVec::from(preceding);\n+\n+        let added_constraint = ast::AngleBracketedArg::Constraint(ast::AssocConstraint {\n+            id: DUMMY_NODE_ID,\n+            ident: last.ident,\n+            gen_args: None,\n+            kind: ast::AssocConstraintKind::Equality {\n+                term: ast::Term::Ty(ast::ptr::P(ast::Ty {\n+                    kind: ast::TyKind::Path(None, poly_trait_ref.trait_ref.path.clone()),\n+                    id: DUMMY_NODE_ID,\n+                    span: DUMMY_SP,\n+                    tokens: None,\n+                })),\n+            },\n+            span: DUMMY_SP,\n+        });\n+\n+        match second_last.args.as_deref_mut() {\n+            Some(ast::GenericArgs::AngleBracketed(ast::AngleBracketedArgs { args, .. })) => {\n+                args.push(added_constraint);\n+            }\n+            Some(_) => return None,\n+            None => {\n+                second_last.args =\n+                    Some(ast::ptr::P(ast::GenericArgs::AngleBracketed(ast::AngleBracketedArgs {\n+                        args: ThinVec::from([added_constraint]),\n+                        span: DUMMY_SP,\n+                    })));\n+            }\n+        }\n+\n+        segments.push(second_last.clone());\n+        segments\n+    };\n+\n+    let new_where_bound_predicate = ast::WhereBoundPredicate {\n+        span: DUMMY_SP,\n+        bound_generic_params: ThinVec::new(),\n+        bounded_ty: ast::ptr::P(ty.clone()),\n+        bounds: vec![ast::GenericBound::Trait(\n+            ast::PolyTraitRef {\n+                bound_generic_params: ThinVec::new(),\n+                trait_ref: ast::TraitRef {\n+                    path: ast::Path { segments: modified_segments, span: DUMMY_SP, tokens: None },\n+                    ref_id: DUMMY_NODE_ID,\n+                },\n+                span: DUMMY_SP,\n+            },\n+            ast::TraitBoundModifier::None,\n+        )],\n+    };\n+\n+    Some(new_where_bound_predicate)\n+}\n+\n /// Report lifetime/lifetime shadowing as an error.\n pub(super) fn signal_lifetime_shadowing(sess: &Session, orig: Ident, shadower: Ident) {\n     let mut err = struct_span_err!("}, {"sha": "892697493b7a9a41302540ec099843ac2fcca93b", "filename": "tests/ui/resolve/issue-112472-multi-generics-suggestion.fixed", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/tests%2Fui%2Fresolve%2Fissue-112472-multi-generics-suggestion.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/tests%2Fui%2Fresolve%2Fissue-112472-multi-generics-suggestion.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fresolve%2Fissue-112472-multi-generics-suggestion.fixed?ref=32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "patch": "@@ -0,0 +1,31 @@\n+// run-rustfix\n+\n+use std::fmt::Debug;\n+use std::marker::PhantomData;\n+use std::convert::{self, TryFrom};\n+\n+#[allow(unused)]\n+struct Codec<EncodeLine, DecodeLine> {\n+    phantom_decode: PhantomData<DecodeLine>,\n+    phantom_encode: PhantomData<EncodeLine>,\n+}\n+\n+pub enum ParseError {}\n+\n+impl<EncodeLine, DecodeLine> Codec<EncodeLine, DecodeLine> where\n+    DecodeLine: Debug + convert::TryFrom<String>,\n+    DecodeLine: convert::TryFrom<String, Error = ParseError>,\n+    //~^ ERROR expected trait, found enum `ParseError`\n+    //~| HELP constrain the associated type to `ParseError`\n+{\n+}\n+\n+impl<EncodeLine, DecodeLine> Codec<EncodeLine, DecodeLine> where\n+    DecodeLine: Debug + TryFrom<String>,\n+    DecodeLine: TryFrom<String, Error = ParseError>,\n+    //~^ ERROR expected trait, found enum `ParseError`\n+    //~| HELP constrain the associated type to `ParseError`\n+{\n+}\n+\n+fn main() {}"}, {"sha": "2b2f5f1ad8d0798973b554d9fb4ce8b489d94615", "filename": "tests/ui/resolve/issue-112472-multi-generics-suggestion.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/tests%2Fui%2Fresolve%2Fissue-112472-multi-generics-suggestion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/tests%2Fui%2Fresolve%2Fissue-112472-multi-generics-suggestion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fresolve%2Fissue-112472-multi-generics-suggestion.rs?ref=32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "patch": "@@ -0,0 +1,31 @@\n+// run-rustfix\n+\n+use std::fmt::Debug;\n+use std::marker::PhantomData;\n+use std::convert::{self, TryFrom};\n+\n+#[allow(unused)]\n+struct Codec<EncodeLine, DecodeLine> {\n+    phantom_decode: PhantomData<DecodeLine>,\n+    phantom_encode: PhantomData<EncodeLine>,\n+}\n+\n+pub enum ParseError {}\n+\n+impl<EncodeLine, DecodeLine> Codec<EncodeLine, DecodeLine> where\n+    DecodeLine: Debug + convert::TryFrom<String>,\n+    <DecodeLine as convert::TryFrom<String>>::Error: ParseError,\n+    //~^ ERROR expected trait, found enum `ParseError`\n+    //~| HELP constrain the associated type to `ParseError`\n+{\n+}\n+\n+impl<EncodeLine, DecodeLine> Codec<EncodeLine, DecodeLine> where\n+    DecodeLine: Debug + TryFrom<String>,\n+    <DecodeLine as TryFrom<String>>::Error: ParseError,\n+    //~^ ERROR expected trait, found enum `ParseError`\n+    //~| HELP constrain the associated type to `ParseError`\n+{\n+}\n+\n+fn main() {}"}, {"sha": "f463e2dad2cfc987a286784799bfe66ad11349f3", "filename": "tests/ui/resolve/issue-112472-multi-generics-suggestion.stderr", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/tests%2Fui%2Fresolve%2Fissue-112472-multi-generics-suggestion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/32ae8810fcc6d96a1e7e5447f5b35759ca338ed9/tests%2Fui%2Fresolve%2Fissue-112472-multi-generics-suggestion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fresolve%2Fissue-112472-multi-generics-suggestion.stderr?ref=32ae8810fcc6d96a1e7e5447f5b35759ca338ed9", "patch": "@@ -0,0 +1,25 @@\n+error[E0404]: expected trait, found enum `ParseError`\n+  --> $DIR/issue-112472-multi-generics-suggestion.rs:17:54\n+   |\n+LL |     <DecodeLine as convert::TryFrom<String>>::Error: ParseError,\n+   |                                                      ^^^^^^^^^^ not a trait\n+   |\n+help: constrain the associated type to `ParseError`\n+   |\n+LL |     DecodeLine: convert::TryFrom<String, Error = ParseError>,\n+   |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+error[E0404]: expected trait, found enum `ParseError`\n+  --> $DIR/issue-112472-multi-generics-suggestion.rs:25:45\n+   |\n+LL |     <DecodeLine as TryFrom<String>>::Error: ParseError,\n+   |                                             ^^^^^^^^^^ not a trait\n+   |\n+help: constrain the associated type to `ParseError`\n+   |\n+LL |     DecodeLine: TryFrom<String, Error = ParseError>,\n+   |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+error: aborting due to 2 previous errors\n+\n+For more information about this error, try `rustc --explain E0404`."}]}