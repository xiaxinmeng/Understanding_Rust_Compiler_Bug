{"sha": "6d9ee9e5eba16612bb2fc253f77673b823812b8a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZkOWVlOWU1ZWJhMTY2MTJiYjJmYzI1M2Y3NzY3M2I4MjM4MTJiOGE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-08-21T08:46:10Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-08-21T08:46:10Z"}, "message": "Auto merge of #4372 - phansch:changelog_update, r=flip1995\n\ndocs: Explain how to update the changelog\n\ncc @Manishearth Is this more or less how you did it last time?\n\n[Rendered](https://github.com/phansch/rust-clippy/blob/changelog_update/doc/changelog_update.md#changelog-update)\n\nchangelog: none", "tree": {"sha": "f3d06284257fba10fcb577b4802a77f32a900e5b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f3d06284257fba10fcb577b4802a77f32a900e5b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6d9ee9e5eba16612bb2fc253f77673b823812b8a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6d9ee9e5eba16612bb2fc253f77673b823812b8a", "html_url": "https://github.com/rust-lang/rust/commit/6d9ee9e5eba16612bb2fc253f77673b823812b8a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6d9ee9e5eba16612bb2fc253f77673b823812b8a/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "57c67a29d2ec11a3a299a5c9e7797fa06482c30b", "url": "https://api.github.com/repos/rust-lang/rust/commits/57c67a29d2ec11a3a299a5c9e7797fa06482c30b", "html_url": "https://github.com/rust-lang/rust/commit/57c67a29d2ec11a3a299a5c9e7797fa06482c30b"}, {"sha": "a0f9af2132e6dec27be80bd94abc0f2cfe22218e", "url": "https://api.github.com/repos/rust-lang/rust/commits/a0f9af2132e6dec27be80bd94abc0f2cfe22218e", "html_url": "https://github.com/rust-lang/rust/commit/a0f9af2132e6dec27be80bd94abc0f2cfe22218e"}], "stats": {"total": 70, "additions": 70, "deletions": 0}, "files": [{"sha": "46c2be3010de038d08a5f16c734c93bfdd4b8eea", "filename": "CHANGELOG.md", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6d9ee9e5eba16612bb2fc253f77673b823812b8a/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/6d9ee9e5eba16612bb2fc253f77673b823812b8a/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=6d9ee9e5eba16612bb2fc253f77673b823812b8a", "patch": "@@ -1,6 +1,8 @@\n # Change Log\n \n All notable changes to this project will be documented in this file.\n+See [Changelog Update](doc/changelog_update.md) if you want to update this\n+document.\n \n ## Unreleased / In Rust Beta or Nightly\n "}, {"sha": "cabf25135dacf7bb0e71a5df2375c77dbe81ae41", "filename": "doc/changelog_update.md", "status": "added", "additions": 68, "deletions": 0, "changes": 68, "blob_url": "https://github.com/rust-lang/rust/blob/6d9ee9e5eba16612bb2fc253f77673b823812b8a/doc%2Fchangelog_update.md", "raw_url": "https://github.com/rust-lang/rust/raw/6d9ee9e5eba16612bb2fc253f77673b823812b8a/doc%2Fchangelog_update.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Fchangelog_update.md?ref=6d9ee9e5eba16612bb2fc253f77673b823812b8a", "patch": "@@ -0,0 +1,68 @@\n+# Changelog Update\n+\n+If you want to help with updating the [changelog][changelog], you're in the right place.\n+\n+## When to update\n+\n+Typos and other small fixes/additions are _always_ welcome.\n+\n+Special care needs to be taken when it comes to updating the changelog for a new\n+Rust release. For that purpose, the changelog is ideally updated during the week\n+before an upcoming stable release. You can find the release dates on the [Rust\n+Forge][forge].\n+\n+Most of the time we only need to update the changelog for minor Rust releases. It's\n+been very rare that Clippy changes were included in a patch release.\n+\n+## How to update\n+\n+### 1. Finding the relevant Clippy commits\n+\n+Each Rust release ships with its own version of Clippy. The Clippy submodule can\n+be found in the [tools][tools] directory of the Rust repository.\n+\n+To find the Clippy commit hash for a specific Rust release you select the Rust\n+release tag from the dropdown and then check the commit of the Clippy directory:\n+\n+![Explanation of how to find the commit hash](https://user-images.githubusercontent.com/2042399/62846160-1f8b0480-bcce-11e9-9da8-7964ca034e7a.png)\n+\n+When writing the release notes for the upcoming stable release you want to check\n+out the commit of the current Rust `beta` tag.\n+\n+### 2. Fetching the PRs between those commits\n+\n+You'll want to run `util/fetch_prs_between.sh commit1 commit2 > changes.txt`\n+and open that file in your editor of choice.\n+\n+* `commit1` is the Clippy commit hash of the previous stable release\n+* `commit2` is the Clippy commit hash of the release you want to write the changelog for.\n+\n+When updating the changelog it's also a good idea to make sure that `commit1` is\n+already correct in the current changelog.\n+\n+### 3. Authoring the final changelog\n+\n+The above script should have dumped all the relevant PRs to the file you\n+specified. It should have filtered out most of the irrelevant PRs\n+already, but it's a good idea to do a manual cleanup pass where you look for\n+more irrelevant PRs. If you're not sure about some PRs, just leave them in for\n+the review and ask for feedback.\n+\n+With the PRs filtered, you can start to take each PR and move the\n+`changelog: ` content to `CHANGELOG.md`. Adapt the wording as you see fit but\n+try to keep it somewhat coherent.\n+\n+The order should roughly be:\n+\n+1. New lints\n+2. Changes that expand what code existing lints cover\n+3. ICE fixes\n+4. False positive fixes\n+5. Suggestion fixes/improvements\n+\n+Please also be sure to update the Beta/Unreleased sections at the top with the\n+relevant commit ranges.\n+\n+[changelog]: https://github.com/rust-lang/rust-clippy/blob/master/CHANGELOG.md\n+[forge]: https://forge.rust-lang.org/\n+[tools]: https://github.com/rust-lang/rust/tree/master/src/tools"}]}