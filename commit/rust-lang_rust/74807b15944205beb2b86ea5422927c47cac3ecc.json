{"sha": "74807b15944205beb2b86ea5422927c47cac3ecc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc0ODA3YjE1OTQ0MjA1YmViMmI4NmVhNTQyMjkyN2M0N2NhYzNlY2M=", "commit": {"author": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2013-04-07T05:29:37Z"}, "committer": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2013-04-10T23:08:22Z"}, "message": "syntax: match variants use 4 space indent by default", "tree": {"sha": "a68a98525fd86ed6646045c4255f328f29155871", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a68a98525fd86ed6646045c4255f328f29155871"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/74807b15944205beb2b86ea5422927c47cac3ecc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/74807b15944205beb2b86ea5422927c47cac3ecc", "html_url": "https://github.com/rust-lang/rust/commit/74807b15944205beb2b86ea5422927c47cac3ecc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/74807b15944205beb2b86ea5422927c47cac3ecc/comments", "author": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "11f5f73b2b7b287cee16d300a10b1c50776c38d6", "url": "https://api.github.com/repos/rust-lang/rust/commits/11f5f73b2b7b287cee16d300a10b1c50776c38d6", "html_url": "https://github.com/rust-lang/rust/commit/11f5f73b2b7b287cee16d300a10b1c50776c38d6"}], "stats": {"total": 27, "additions": 13, "deletions": 14}, "files": [{"sha": "4e7e5144a7df2be8b3ee2d756688c1e413f02147", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/74807b15944205beb2b86ea5422927c47cac3ecc/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/74807b15944205beb2b86ea5422927c47cac3ecc/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=74807b15944205beb2b86ea5422927c47cac3ecc", "patch": "@@ -95,7 +95,6 @@ pub fn rust_printer(writer: @io::Writer, intr: @ident_interner) -> @ps {\n }\n \n pub static indent_unit: uint = 4u;\n-pub static match_indent_unit: uint = 2u;\n \n pub static default_columns: uint = 78u;\n \n@@ -1227,16 +1226,16 @@ pub fn print_expr(s: @ps, &&expr: @ast::expr) {\n         print_block(s, blk);\n       }\n       ast::expr_match(expr, ref arms) => {\n-        cbox(s, match_indent_unit);\n+        cbox(s, indent_unit);\n         ibox(s, 4);\n         word_nbsp(s, ~\"match\");\n         print_expr(s, expr);\n         space(s.s);\n         bopen(s);\n-        let len = (*arms).len();\n-        for (*arms).eachi |i, arm| {\n+        let len = arms.len();\n+        for arms.eachi |i, arm| {\n             space(s.s);\n-            cbox(s, match_indent_unit);\n+            cbox(s, indent_unit);\n             ibox(s, 0u);\n             let mut first = true;\n             for arm.pats.each |p| {\n@@ -1269,7 +1268,7 @@ pub fn print_expr(s: @ps, &&expr: @ast::expr) {\n                             ast::expr_block(ref blk) => {\n                                 // the block will close the pattern's ibox\n                                 print_block_unclosed_indent(\n-                                    s, blk, match_indent_unit);\n+                                    s, blk, indent_unit);\n                             }\n                             _ => {\n                                 end(s); // close the ibox for the pattern\n@@ -1286,10 +1285,10 @@ pub fn print_expr(s: @ps, &&expr: @ast::expr) {\n                 }\n             } else {\n                 // the block will close the pattern's ibox\n-                print_block_unclosed_indent(s, &arm.body, match_indent_unit);\n+                print_block_unclosed_indent(s, &arm.body, indent_unit);\n             }\n         }\n-        bclose_(s, expr.span, match_indent_unit);\n+        bclose_(s, expr.span, indent_unit);\n       }\n       ast::expr_fn_block(ref decl, ref body) => {\n         // in do/for blocks we don't want to show an empty"}, {"sha": "66ad3d558201d27b027281233367e6d3251be3f1", "filename": "src/test/pretty/alt-naked-expr-long.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/74807b15944205beb2b86ea5422927c47cac3ecc/src%2Ftest%2Fpretty%2Falt-naked-expr-long.rs", "raw_url": "https://github.com/rust-lang/rust/raw/74807b15944205beb2b86ea5422927c47cac3ecc/src%2Ftest%2Fpretty%2Falt-naked-expr-long.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Falt-naked-expr-long.rs?ref=74807b15944205beb2b86ea5422927c47cac3ecc", "patch": "@@ -17,9 +17,9 @@ fn main() {\n     let x = Some(3);\n     let y =\n         match x {\n-          Some(_) =>\n-          ~\"some\" + ~\"very\" + ~\"very\" + ~\"very\" + ~\"very\" + ~\"very\" + ~\"very\"\n-              + ~\"very\" + ~\"very\" + ~\"long\" + ~\"string\",\n-          None => ~\"none\"\n+            Some(_) =>\n+            ~\"some\" + ~\"very\" + ~\"very\" + ~\"very\" + ~\"very\" + ~\"very\" +\n+                ~\"very\" + ~\"very\" + ~\"very\" + ~\"long\" + ~\"string\",\n+            None => ~\"none\"\n         };\n }"}, {"sha": "4ae129c7b7307ca30d3fea81aa7a09e693998c7f", "filename": "src/test/pretty/alt-naked-expr-medium.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/74807b15944205beb2b86ea5422927c47cac3ecc/src%2Ftest%2Fpretty%2Falt-naked-expr-medium.rs", "raw_url": "https://github.com/rust-lang/rust/raw/74807b15944205beb2b86ea5422927c47cac3ecc/src%2Ftest%2Fpretty%2Falt-naked-expr-medium.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Falt-naked-expr-medium.rs?ref=74807b15944205beb2b86ea5422927c47cac3ecc", "patch": "@@ -14,7 +14,7 @@ fn main() {\n     let x = Some(3);\n     let _y =\n         match x {\n-          Some(_) => ~[~\"some(_)\", ~\"not\", ~\"SO\", ~\"long\", ~\"string\"],\n-          None => ~[~\"none\"]\n+            Some(_) => ~[~\"some(_)\", ~\"not\", ~\"SO\", ~\"long\", ~\"string\"],\n+            None => ~[~\"none\"]\n         };\n }"}]}