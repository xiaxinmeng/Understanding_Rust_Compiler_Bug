{"sha": "123b72a05e140b7b39bb60b4ef8a24d32091b83d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEyM2I3MmEwNWUxNDBiN2IzOWJiNjBiNGVmOGEyNGQzMjA5MWI4M2Q=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-12-14T14:10:17Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-12-14T14:17:43Z"}, "message": "Rollup merge of #56748 - kinnison:kinnison/fix-56734, r=dtolnay\n\nUpdate panic message to be clearer about env-vars\n\nEsteban Kuber requested that the panic message make it clear\nthat `RUST_BACKTRACE=1` is an environment variable.  This change\nmakes that clear.\n\nI understand that this may simply be closed if the concept isn't accepted, and I'd be fine with that :-)\n\nFixes #56734", "tree": {"sha": "ed708bebd7b87b2b6b942e539d7af4503019b671", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ed708bebd7b87b2b6b942e539d7af4503019b671"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/123b72a05e140b7b39bb60b4ef8a24d32091b83d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlwTu4cACgkQ/vbIBR0O\nATxVihAAjxYTlq4KU74SUQqDF467p4qPlnI9soe6FJKptikdsvD8m93q5Uhoz3T2\nV23+7/3KSPrqWWu0DOKCDuNUsU6LiZXlgmp8reuFyPQXQ68eg9ydF5jKn4GOWGgh\nXwNcjRXRdf92eNvD5//+OfprVw03jr/Vd39OdjaXb0pzOV3S1lQ4ltOLliVtqFCX\npwG4jdslNfAFZLuP0NG5nLVrU/yhr0xC7m85JhsT0E37x3bh+a7pDyNOOaoej1WA\nZkeXbDknyoS77djXxAErcW/znv4bqpbLjex+nHdZLr8J/P0wRGUCdr4KGfJkfa1m\nlVqWWZnRETZFiD/W41TEGXhUebRL3qNKE5ITMILGeHqiIw0/nFrwaExYbVCxuTcY\nxUW5R0vgVdHSDJ1ap/09eocR2OCvZj7fycmCHazOHwSPdGWyXHyDOKsCNWHeXUKW\nRuP6lRujgp5bAsD9DG38J+TQo7rLScP2ayNtk8yKMgCXUYSjc9dSLyFUGphYYV1f\ni8jvAuYLO0JU8RTjclzmtlg1sPRAw/iNHO1Hjh2e7FzqvOZEJm1OwXpDq3wvjlRE\nb8zoCpkROibAeXff36OjxKLiWPHFHEW70lATKNjw0dt6BY/qlXpgAi7GSb3IzjuW\niwziWCxDTAu/mD/jjadJ3wO8DynvKY24J8595Xzvp6ZnWB6CL2s=\n=E6KA\n-----END PGP SIGNATURE-----", "payload": "tree ed708bebd7b87b2b6b942e539d7af4503019b671\nparent 7ec1faa27a83038dc4df2a3a916f0dc5e99cdf0d\nparent 6057147fde962f2369c61f8dbf74dd2b1b2ce239\nauthor kennytm <kennytm@gmail.com> 1544796617 +0800\ncommitter kennytm <kennytm@gmail.com> 1544797063 +0800\n\nRollup merge of #56748 - kinnison:kinnison/fix-56734, r=dtolnay\n\nUpdate panic message to be clearer about env-vars\n\nEsteban Kuber requested that the panic message make it clear\nthat `RUST_BACKTRACE=1` is an environment variable.  This change\nmakes that clear.\n\nI understand that this may simply be closed if the concept isn't accepted, and I'd be fine with that :-)\n\nFixes #56734\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/123b72a05e140b7b39bb60b4ef8a24d32091b83d", "html_url": "https://github.com/rust-lang/rust/commit/123b72a05e140b7b39bb60b4ef8a24d32091b83d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/123b72a05e140b7b39bb60b4ef8a24d32091b83d/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7ec1faa27a83038dc4df2a3a916f0dc5e99cdf0d", "url": "https://api.github.com/repos/rust-lang/rust/commits/7ec1faa27a83038dc4df2a3a916f0dc5e99cdf0d", "html_url": "https://github.com/rust-lang/rust/commit/7ec1faa27a83038dc4df2a3a916f0dc5e99cdf0d"}, {"sha": "6057147fde962f2369c61f8dbf74dd2b1b2ce239", "url": "https://api.github.com/repos/rust-lang/rust/commits/6057147fde962f2369c61f8dbf74dd2b1b2ce239", "html_url": "https://github.com/rust-lang/rust/commit/6057147fde962f2369c61f8dbf74dd2b1b2ce239"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "b6180fbeb506850e6554bf8f1b8d35148516c0a7", "filename": "src/libstd/panicking.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/123b72a05e140b7b39bb60b4ef8a24d32091b83d/src%2Flibstd%2Fpanicking.rs", "raw_url": "https://github.com/rust-lang/rust/raw/123b72a05e140b7b39bb60b4ef8a24d32091b83d/src%2Flibstd%2Fpanicking.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpanicking.rs?ref=123b72a05e140b7b39bb60b4ef8a24d32091b83d", "patch": "@@ -209,7 +209,8 @@ fn default_hook(info: &PanicInfo) {\n             if let Some(format) = log_backtrace {\n                 let _ = backtrace::print(err, format);\n             } else if FIRST_PANIC.compare_and_swap(true, false, Ordering::SeqCst) {\n-                let _ = writeln!(err, \"note: Run with `RUST_BACKTRACE=1` for a backtrace.\");\n+                let _ = writeln!(err, \"note: Run with `RUST_BACKTRACE=1` \\\n+                                       environment variable to display a backtrace.\");\n             }\n         }\n     };"}, {"sha": "2b831ea2bdca4e2d9cdfe945da0c5e507a3f6f5c", "filename": "src/test/run-make-fulldeps/libtest-json/output.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/123b72a05e140b7b39bb60b4ef8a24d32091b83d/src%2Ftest%2Frun-make-fulldeps%2Flibtest-json%2Foutput.json", "raw_url": "https://github.com/rust-lang/rust/raw/123b72a05e140b7b39bb60b4ef8a24d32091b83d/src%2Ftest%2Frun-make-fulldeps%2Flibtest-json%2Foutput.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Flibtest-json%2Foutput.json?ref=123b72a05e140b7b39bb60b4ef8a24d32091b83d", "patch": "@@ -2,7 +2,7 @@\n { \"type\": \"test\", \"event\": \"started\", \"name\": \"a\" }\n { \"type\": \"test\", \"name\": \"a\", \"event\": \"ok\" }\n { \"type\": \"test\", \"event\": \"started\", \"name\": \"b\" }\n-{ \"type\": \"test\", \"name\": \"b\", \"event\": \"failed\", \"stdout\": \"thread 'main' panicked at 'assertion failed: false', f.rs:18:5\\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\\n\" }\n+{ \"type\": \"test\", \"name\": \"b\", \"event\": \"failed\", \"stdout\": \"thread 'main' panicked at 'assertion failed: false', f.rs:18:5\\nnote: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.\\n\" }\n { \"type\": \"test\", \"event\": \"started\", \"name\": \"c\" }\n { \"type\": \"test\", \"name\": \"c\", \"event\": \"ok\" }\n { \"type\": \"test\", \"event\": \"started\", \"name\": \"d\" }"}, {"sha": "03e58fc2387c74493a323eadb170c1424fe9d00e", "filename": "src/test/run-pass/multi-panic.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/123b72a05e140b7b39bb60b4ef8a24d32091b83d/src%2Ftest%2Frun-pass%2Fmulti-panic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/123b72a05e140b7b39bb60b4ef8a24d32091b83d/src%2Ftest%2Frun-pass%2Fmulti-panic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmulti-panic.rs?ref=123b72a05e140b7b39bb60b4ef8a24d32091b83d", "patch": "@@ -17,7 +17,8 @@ fn check_for_no_backtrace(test: std::process::Output) {\n     let mut it = err.lines();\n \n     assert_eq!(it.next().map(|l| l.starts_with(\"thread '<unnamed>' panicked at\")), Some(true));\n-    assert_eq!(it.next(), Some(\"note: Run with `RUST_BACKTRACE=1` for a backtrace.\"));\n+    assert_eq!(it.next(), Some(\"note: Run with `RUST_BACKTRACE=1` \\\n+                                environment variable to display a backtrace.\"));\n     assert_eq!(it.next().map(|l| l.starts_with(\"thread 'main' panicked at\")), Some(true));\n     assert_eq!(it.next(), None);\n }"}, {"sha": "bd6fa1f84b468b5899ab6d78936f865d538f3c51", "filename": "src/test/rustdoc-ui/failed-doctest-output.stdout", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/123b72a05e140b7b39bb60b4ef8a24d32091b83d/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-output.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/123b72a05e140b7b39bb60b4ef8a24d32091b83d/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-output.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-output.stdout?ref=123b72a05e140b7b39bb60b4ef8a24d32091b83d", "patch": "@@ -13,13 +13,13 @@ error[E0425]: cannot find value `no` in this scope\n   | ^^ not found in this scope\n \n thread '$DIR/failed-doctest-output.rs - OtherStruct (line 27)' panicked at 'couldn't compile the test', src/librustdoc/test.rs:326:13\n-note: Run with `RUST_BACKTRACE=1` for a backtrace.\n+note: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.\n \n ---- $DIR/failed-doctest-output.rs - SomeStruct (line 21) stdout ----\n thread '$DIR/failed-doctest-output.rs - SomeStruct (line 21)' panicked at 'test executable failed:\n \n thread 'main' panicked at 'oh no', $DIR/failed-doctest-output.rs:3:1\n-note: Run with `RUST_BACKTRACE=1` for a backtrace.\n+note: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.\n \n ', src/librustdoc/test.rs:361:17\n "}]}