{"sha": "ee43f34700304e73d4e58fc643186717f1851659", "node_id": "C_kwDOAAsO6NoAKGVlNDNmMzQ3MDAzMDRlNzNkNGU1OGZjNjQzMTg2NzE3ZjE4NTE2NTk", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-12-22T18:36:15Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-12-22T18:36:15Z"}, "message": "Rollup merge of #106037 - JohnTitor:issue-94293, r=lcnr\n\nAdd regression test for #94293\n\nCloses #94293\nr? ```@lcnr```\n\nSigned-off-by: Yuki Okushi <jtitor@2k36.org>", "tree": {"sha": "52eca2d2eb18a7db5b86c35b30ba8556f3190770", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/52eca2d2eb18a7db5b86c35b30ba8556f3190770"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ee43f34700304e73d4e58fc643186717f1851659", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjpKOfCRBK7hj4Ov3rIwAA7QEIAJMwciKhncaV7krbRalQ7uV5\nhgSxAiH34k2trMy3007pAD/6gRW9SdyMr5eY8E4bjPizmp0NF+O4YJEiUImXFeAL\nZIfyFyqKzuTAN25PEGBXuUEJHJhc2kiwhMlG8jC0hJ1XonB8x92h8mRyJiuJ+xst\nk9mRlTWVDa7RYA5wSPkDhZX/OHIAQY9LLUVm5cQQHl7G/JtbP4gejzDs9OAU/ddG\nRIhnS/U7KSXWAstWjy3LITWkF0wkozsm8K1cQHFm+BhU3cbXx1O6XqaPIFxCmA7A\n7MrSKFrPsqBHE8CQrqlglk29UtMt9I0hantfJp2haH0xVSPYHDw8k/NGeHIXBAA=\n=cgu4\n-----END PGP SIGNATURE-----\n", "payload": "tree 52eca2d2eb18a7db5b86c35b30ba8556f3190770\nparent 9cd140e7a1be7147cb144df0a40c13507ae68d35\nparent 34ae96868fcbdb2d2fa4a0b269fab94279c13e6b\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1671734175 +0100\ncommitter GitHub <noreply@github.com> 1671734175 +0100\n\nRollup merge of #106037 - JohnTitor:issue-94293, r=lcnr\n\nAdd regression test for #94293\n\nCloses #94293\nr? ```@lcnr```\n\nSigned-off-by: Yuki Okushi <jtitor@2k36.org>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ee43f34700304e73d4e58fc643186717f1851659", "html_url": "https://github.com/rust-lang/rust/commit/ee43f34700304e73d4e58fc643186717f1851659", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ee43f34700304e73d4e58fc643186717f1851659/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9cd140e7a1be7147cb144df0a40c13507ae68d35", "url": "https://api.github.com/repos/rust-lang/rust/commits/9cd140e7a1be7147cb144df0a40c13507ae68d35", "html_url": "https://github.com/rust-lang/rust/commit/9cd140e7a1be7147cb144df0a40c13507ae68d35"}, {"sha": "34ae96868fcbdb2d2fa4a0b269fab94279c13e6b", "url": "https://api.github.com/repos/rust-lang/rust/commits/34ae96868fcbdb2d2fa4a0b269fab94279c13e6b", "html_url": "https://github.com/rust-lang/rust/commit/34ae96868fcbdb2d2fa4a0b269fab94279c13e6b"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "713c5d89a93006afd757dd0dc4117533720cae1e", "filename": "src/test/ui/const-generics/generic_const_exprs/issue-94293.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/ee43f34700304e73d4e58fc643186717f1851659/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fissue-94293.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee43f34700304e73d4e58fc643186717f1851659/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fissue-94293.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fissue-94293.rs?ref=ee43f34700304e73d4e58fc643186717f1851659", "patch": "@@ -0,0 +1,31 @@\n+// check-pass\n+\n+#![feature(generic_const_exprs)]\n+#![allow(incomplete_features)]\n+#![deny(const_evaluatable_unchecked)]\n+\n+pub struct If<const CONDITION: bool>;\n+pub trait True {}\n+impl True for If<true> {}\n+\n+pub struct FixedI8<const FRAC: u32> {\n+    pub bits: i8,\n+}\n+\n+impl<const FRAC_LHS: u32, const FRAC_RHS: u32> PartialEq<FixedI8<FRAC_RHS>> for FixedI8<FRAC_LHS>\n+where\n+    If<{ FRAC_RHS <= 8 }>: True,\n+{\n+    fn eq(&self, _rhs: &FixedI8<FRAC_RHS>) -> bool {\n+        unimplemented!()\n+    }\n+}\n+\n+impl<const FRAC: u32> PartialEq<i8> for FixedI8<FRAC> {\n+    fn eq(&self, rhs: &i8) -> bool {\n+        let rhs_as_fixed = FixedI8::<0> { bits: *rhs };\n+        PartialEq::eq(self, &rhs_as_fixed)\n+    }\n+}\n+\n+fn main() {}"}]}