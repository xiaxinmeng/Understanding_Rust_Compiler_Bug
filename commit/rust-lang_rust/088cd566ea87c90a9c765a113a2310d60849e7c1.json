{"sha": "088cd566ea87c90a9c765a113a2310d60849e7c1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA4OGNkNTY2ZWE4N2M5MGE5Yzc2NWExMTNhMjMxMGQ2MDg0OWU3YzE=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2015-03-23T02:50:32Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2015-03-24T21:06:13Z"}, "message": "Remove the UnusedCasts lint", "tree": {"sha": "7f8d654b2d6b8957a239ad0579851eb51ec27749", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7f8d654b2d6b8957a239ad0579851eb51ec27749"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/088cd566ea87c90a9c765a113a2310d60849e7c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/088cd566ea87c90a9c765a113a2310d60849e7c1", "html_url": "https://github.com/rust-lang/rust/commit/088cd566ea87c90a9c765a113a2310d60849e7c1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/088cd566ea87c90a9c765a113a2310d60849e7c1/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9374c216f6040189301aeb043d317c12ffb17a0b", "url": "https://api.github.com/repos/rust-lang/rust/commits/9374c216f6040189301aeb043d317c12ffb17a0b", "html_url": "https://github.com/rust-lang/rust/commit/9374c216f6040189301aeb043d317c12ffb17a0b"}], "stats": {"total": 25, "additions": 0, "deletions": 25}, "files": [{"sha": "395460aca9fe987401d7f1925ecdcc4e49229cf2", "filename": "src/librustc_lint/builtin.rs", "status": "modified", "additions": 0, "deletions": 24, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/088cd566ea87c90a9c765a113a2310d60849e7c1/src%2Flibrustc_lint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/088cd566ea87c90a9c765a113a2310d60849e7c1/src%2Flibrustc_lint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Fbuiltin.rs?ref=088cd566ea87c90a9c765a113a2310d60849e7c1", "patch": "@@ -84,30 +84,6 @@ impl LintPass for WhileTrue {\n     }\n }\n \n-declare_lint! {\n-    UNUSED_TYPECASTS,\n-    Allow,\n-    \"detects unnecessary type casts that can be removed\"\n-}\n-\n-#[derive(Copy)]\n-pub struct UnusedCasts;\n-\n-impl LintPass for UnusedCasts {\n-    fn get_lints(&self) -> LintArray {\n-        lint_array!(UNUSED_TYPECASTS)\n-    }\n-\n-    fn check_expr(&mut self, cx: &Context, e: &ast::Expr) {\n-        if let ast::ExprCast(ref expr, ref ty) = e.node {\n-            let t_t = ty::expr_ty(cx.tcx, e);\n-            if ty::expr_ty(cx.tcx, &**expr) == t_t {\n-                cx.span_lint(UNUSED_TYPECASTS, ty.span, \"unnecessary type cast\");\n-            }\n-        }\n-    }\n-}\n-\n declare_lint! {\n     UNSIGNED_NEGATION,\n     Warn,"}, {"sha": "e158541cd1cfffe8471fc3a9662070de078949c1", "filename": "src/librustc_lint/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/088cd566ea87c90a9c765a113a2310d60849e7c1/src%2Flibrustc_lint%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/088cd566ea87c90a9c765a113a2310d60849e7c1/src%2Flibrustc_lint%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Flib.rs?ref=088cd566ea87c90a9c765a113a2310d60849e7c1", "patch": "@@ -89,7 +89,6 @@ pub fn register_builtins(store: &mut lint::LintStore, sess: Option<&Session>) {\n     add_builtin!(sess,\n                  HardwiredLints,\n                  WhileTrue,\n-                 UnusedCasts,\n                  ImproperCTypes,\n                  BoxPointers,\n                  UnusedAttributes,"}]}