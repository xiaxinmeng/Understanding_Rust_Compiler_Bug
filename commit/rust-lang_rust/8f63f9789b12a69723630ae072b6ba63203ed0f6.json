{"sha": "8f63f9789b12a69723630ae072b6ba63203ed0f6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhmNjNmOTc4OWIxMmE2OTcyMzYzMGFlMDcyYjZiYTYzMjAzZWQwZjY=", "commit": {"author": {"name": "Brendan Zabarauskas", "email": "bjzaba@yahoo.com.au", "date": "2013-04-29T06:00:27Z"}, "committer": {"name": "Brendan Zabarauskas", "email": "bjzaba@yahoo.com.au", "date": "2013-04-29T06:00:27Z"}, "message": "Implement Fractional for Ratio", "tree": {"sha": "c97030e807a8bac736a71f40a37c9da8fc0468d6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c97030e807a8bac736a71f40a37c9da8fc0468d6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8f63f9789b12a69723630ae072b6ba63203ed0f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8f63f9789b12a69723630ae072b6ba63203ed0f6", "html_url": "https://github.com/rust-lang/rust/commit/8f63f9789b12a69723630ae072b6ba63203ed0f6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8f63f9789b12a69723630ae072b6ba63203ed0f6/comments", "author": {"login": "brendanzab", "id": 695077, "node_id": "MDQ6VXNlcjY5NTA3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendanzab", "html_url": "https://github.com/brendanzab", "followers_url": "https://api.github.com/users/brendanzab/followers", "following_url": "https://api.github.com/users/brendanzab/following{/other_user}", "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions", "organizations_url": "https://api.github.com/users/brendanzab/orgs", "repos_url": "https://api.github.com/users/brendanzab/repos", "events_url": "https://api.github.com/users/brendanzab/events{/privacy}", "received_events_url": "https://api.github.com/users/brendanzab/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brendanzab", "id": 695077, "node_id": "MDQ6VXNlcjY5NTA3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendanzab", "html_url": "https://github.com/brendanzab", "followers_url": "https://api.github.com/users/brendanzab/followers", "following_url": "https://api.github.com/users/brendanzab/following{/other_user}", "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions", "organizations_url": "https://api.github.com/users/brendanzab/orgs", "repos_url": "https://api.github.com/users/brendanzab/repos", "events_url": "https://api.github.com/users/brendanzab/events{/privacy}", "received_events_url": "https://api.github.com/users/brendanzab/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c9620dc0528866bda3a0d70036af082f45c78e96", "url": "https://api.github.com/repos/rust-lang/rust/commits/c9620dc0528866bda3a0d70036af082f45c78e96", "html_url": "https://github.com/rust-lang/rust/commit/c9620dc0528866bda3a0d70036af082f45c78e96"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "a7c170c1cd6da20ffa6d2a7884274a24b21a484d", "filename": "src/libstd/num/rational.rs", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/8f63f9789b12a69723630ae072b6ba63203ed0f6/src%2Flibstd%2Fnum%2Frational.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8f63f9789b12a69723630ae072b6ba63203ed0f6/src%2Flibstd%2Fnum%2Frational.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnum%2Frational.rs?ref=8f63f9789b12a69723630ae072b6ba63203ed0f6", "patch": "@@ -203,6 +203,9 @@ impl<T: Copy + Num + Ord>\n     }\n }\n \n+impl<T: Copy + Num + Ord>\n+    Num for Ratio<T> {}\n+\n /* Utils */\n impl<T: Copy + Num + Ord>\n     Round for Ratio<T> {\n@@ -242,6 +245,12 @@ impl<T: Copy + Num + Ord>\n     }\n }\n \n+impl<T: Copy + Num + Ord> Fractional for Ratio<T> {\n+    #[inline]\n+    fn recip(&self) -> Ratio<T> {\n+        Ratio::new_raw(self.denom, self.numer)\n+    }\n+}\n \n /* String conversions */\n impl<T: ToStr> ToStr for Ratio<T> {\n@@ -446,6 +455,15 @@ mod test {\n         assert_eq!(_3_2.fract(), _1_2);\n     }\n \n+    #[test]\n+    fn test_recip() {\n+        assert_eq!(_1 * _1.recip(), _1);\n+        assert_eq!(_2 * _2.recip(), _1);\n+        assert_eq!(_1_2 * _1_2.recip(), _1);\n+        assert_eq!(_3_2 * _3_2.recip(), _1);\n+        assert_eq!(_neg1_2 * _neg1_2.recip(), _1);\n+    }\n+\n     #[test]\n     fn test_to_from_str() {\n         fn test(r: Rational, s: ~str) {"}]}