{"sha": "1793a7acc74f5581febf5822923f8f38c63e8f2a", "node_id": "C_kwDOAAsO6NoAKDE3OTNhN2FjYzc0ZjU1ODFmZWJmNTgyMjkyM2Y4ZjM4YzYzZThmMmE", "commit": {"author": {"name": "Tor Hovland", "email": "tor.hovland@bekk.no", "date": "2021-11-10T07:25:35Z"}, "committer": {"name": "Tor Hovland", "email": "tor.hovland@bekk.no", "date": "2021-11-10T07:25:35Z"}, "message": "Changing cdylib to staticlib, as the former doesn't work with arm-none-eabi-gcc.", "tree": {"sha": "0daacb0c80c2adf2a05b3263cf289e745c8ad69b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0daacb0c80c2adf2a05b3263cf289e745c8ad69b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1793a7acc74f5581febf5822923f8f38c63e8f2a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1793a7acc74f5581febf5822923f8f38c63e8f2a", "html_url": "https://github.com/rust-lang/rust/commit/1793a7acc74f5581febf5822923f8f38c63e8f2a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1793a7acc74f5581febf5822923f8f38c63e8f2a/comments", "author": null, "committer": null, "parents": [{"sha": "13dbdc6ad30a6584f02c723ce3f7447237c97b17", "url": "https://api.github.com/repos/rust-lang/rust/commits/13dbdc6ad30a6584f02c723ce3f7447237c97b17", "html_url": "https://github.com/rust-lang/rust/commit/13dbdc6ad30a6584f02c723ce3f7447237c97b17"}], "stats": {"total": 5, "additions": 1, "deletions": 4}, "files": [{"sha": "5ce27192603e2ee91805a88ea0fd346ad7c83cd3", "filename": "src/test/run-make/issue-10971-temps-dir/Makefile", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/1793a7acc74f5581febf5822923f8f38c63e8f2a/src%2Ftest%2Frun-make%2Fissue-10971-temps-dir%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/1793a7acc74f5581febf5822923f8f38c63e8f2a/src%2Ftest%2Frun-make%2Fissue-10971-temps-dir%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fissue-10971-temps-dir%2FMakefile?ref=1793a7acc74f5581febf5822923f8f38c63e8f2a", "patch": "@@ -3,11 +3,8 @@\n # Regression test for issue #10971\n # Running two invocations in parallel would overwrite each other's temp files.\n \n-## clean up unused env variables which might cause harm.\n-unexport RUSTC_LINKER\n-\n all:\n \ttouch $(TMPDIR)/lib.rs\n \n \t$(RUSTC) --crate-type=lib -Z temps-dir=$(TMPDIR)/temp1 $(TMPDIR)/lib.rs & \\\n-\t$(RUSTC) --crate-type=cdylib -Z temps-dir=$(TMPDIR)/temp2 $(TMPDIR)/lib.rs\n+\t$(RUSTC) --crate-type=staticlib -Z temps-dir=$(TMPDIR)/temp2 $(TMPDIR)/lib.rs"}]}