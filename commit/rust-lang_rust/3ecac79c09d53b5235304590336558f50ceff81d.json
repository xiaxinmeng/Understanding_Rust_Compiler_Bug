{"sha": "3ecac79c09d53b5235304590336558f50ceff81d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlY2FjNzljMDlkNTNiNTIzNTMwNDU5MDMzNjU1OGY1MGNlZmY4MWQ=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-05-16T17:15:51Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-05-16T17:15:51Z"}, "message": "Shallow clone in integration tests\n\nThis should make cloning a bit faster for all the integration tests.", "tree": {"sha": "692e07e9f3d81d3bd2e0e9924bcbc46cde56a7bd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/692e07e9f3d81d3bd2e0e9924bcbc46cde56a7bd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3ecac79c09d53b5235304590336558f50ceff81d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABCAAGBQJa/GdrAAoJELb6Bqbg4mZboD0P/0Dcgi3Ee5fmLNuwuxn0Ric0\nrg5KwZwuEFdAnf4YG082jTPbXf+ToABPbjO6BE5ThWP65+nS132dtOTOHlZ8K0Dh\njXU5oP/KmOApJ6yP27gNA9t8fnpFc0S++8TWu3+vHP3+dDTzT/GwGTfOUlJvFm/U\nOXpLG6+KGw0iTWh12bd0mEpCYedvnNowVX3S82TEVPpWZnBLiB3CCtYwCNOQRDvr\nlSTdlrhIKJuE4KBJRt/ca15SnpwCGcLTuxqJHoXQJSV6XAQEX53A8CdTAeScx+qq\nhte9KVqwydE9NvYiDu/3nuKk35Ct3OQw0vPXTpMMoIxkFDc8f8ZITrPKGv5nIrpY\n9NeDmLHRFP9bsORLKiki3SIrNZfAqWYFjXFVe35XxnvyDtOZWqSTVgU9dWqrNFNw\ncg/n+7m9q34loXn9uU376x6OKYHMhJaGmnyRbsCixAGwocCOBqJFWMKJIu/aPClZ\ni4NyHsiKvJ35BYm77pE2qMkMGvTtbwEeussARPqVz+pHqx1bb04+Eap5RoO/+/PK\npoEmEanlLtYnw4G76/p7H4GoyaJal5ott1utPG3moZEzfaH+MDWHu+4o9yr0bz9p\n/Poxo1EkzxNHW9GkhKfHmYUTj6+lTLPrkWPhkOrR7UXwsnaYXLdg6LrjVJA0bjgq\nwIVGosRMciXJazJm7JAx\n=o61r\n-----END PGP SIGNATURE-----", "payload": "tree 692e07e9f3d81d3bd2e0e9924bcbc46cde56a7bd\nparent db8cb0b8d6942d42a322b1d36b2504977404f362\nauthor Philipp Hansch <dev@phansch.net> 1526490951 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1526490951 +0200\n\nShallow clone in integration tests\n\nThis should make cloning a bit faster for all the integration tests.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3ecac79c09d53b5235304590336558f50ceff81d", "html_url": "https://github.com/rust-lang/rust/commit/3ecac79c09d53b5235304590336558f50ceff81d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3ecac79c09d53b5235304590336558f50ceff81d/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db8cb0b8d6942d42a322b1d36b2504977404f362", "url": "https://api.github.com/repos/rust-lang/rust/commits/db8cb0b8d6942d42a322b1d36b2504977404f362", "html_url": "https://github.com/rust-lang/rust/commit/db8cb0b8d6942d42a322b1d36b2504977404f362"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "00e599dfb43095750fb4de5930c4b4022a11ccf5", "filename": "ci/integration.sh", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3ecac79c09d53b5235304590336558f50ceff81d/ci%2Fintegration.sh", "raw_url": "https://github.com/rust-lang/rust/raw/3ecac79c09d53b5235304590336558f50ceff81d/ci%2Fintegration.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ci%2Fintegration.sh?ref=3ecac79c09d53b5235304590336558f50ceff81d", "patch": "@@ -58,20 +58,20 @@ function check {\n \n case ${INTEGRATION} in\n     cargo)\n-        git clone https://github.com/rust-lang/${INTEGRATION}.git\n+        git clone --depth=1 https://github.com/rust-lang/${INTEGRATION}.git\n         cd ${INTEGRATION}\n         export CFG_DISABLE_CROSS_TESTS=1\n         check\n         cd -\n         ;;\n     failure)\n-        git clone https://github.com/rust-lang-nursery/${INTEGRATION}.git\n+        git clone --depth=1 https://github.com/rust-lang-nursery/${INTEGRATION}.git\n         cd ${INTEGRATION}/failure-1.X\n         check\n         cd -\n         ;;\n     *)\n-        git clone https://github.com/rust-lang-nursery/${INTEGRATION}.git\n+        git clone --depth=1 https://github.com/rust-lang-nursery/${INTEGRATION}.git\n         cd ${INTEGRATION}\n         check\n         cd -"}]}