{"sha": "12b069f43414f6bcc71bf4d77af05b3300797c1a", "node_id": "C_kwDOAAsO6NoAKDEyYjA2OWY0MzQxNGY2YmNjNzFiZjRkNzdhZjA1YjMzMDA3OTdjMWE", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2023-04-06T17:49:33Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2023-04-06T17:49:33Z"}, "message": "Move hir_def::keys to hir_def::dyn_map", "tree": {"sha": "fe4a95ab315593d3cb881bb77174cd533d437ccc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe4a95ab315593d3cb881bb77174cd533d437ccc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/12b069f43414f6bcc71bf4d77af05b3300797c1a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/12b069f43414f6bcc71bf4d77af05b3300797c1a", "html_url": "https://github.com/rust-lang/rust/commit/12b069f43414f6bcc71bf4d77af05b3300797c1a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/12b069f43414f6bcc71bf4d77af05b3300797c1a/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "40c068f502e9bbc38fb66ea3e5b36dcb316dc761", "url": "https://api.github.com/repos/rust-lang/rust/commits/40c068f502e9bbc38fb66ea3e5b36dcb316dc761", "html_url": "https://github.com/rust-lang/rust/commit/40c068f502e9bbc38fb66ea3e5b36dcb316dc761"}], "stats": {"total": 17, "additions": 9, "deletions": 8}, "files": [{"sha": "21180fcbdae40aab1709b2b1cdb999863ddb8a16", "filename": "crates/hir-def/src/child_by_source.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Fchild_by_source.rs", "raw_url": "https://github.com/rust-lang/rust/raw/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Fchild_by_source.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-def%2Fsrc%2Fchild_by_source.rs?ref=12b069f43414f6bcc71bf4d77af05b3300797c1a", "patch": "@@ -10,9 +10,8 @@ use syntax::ast::HasDocComments;\n \n use crate::{\n     db::DefDatabase,\n-    dyn_map::DynMap,\n+    dyn_map::{keys, DynMap},\n     item_scope::ItemScope,\n-    keys,\n     src::{HasChildSource, HasSource},\n     AdtId, AssocItemId, DefWithBodyId, EnumId, EnumVariantId, FieldId, ImplId, Lookup, MacroId,\n     ModuleDefId, ModuleId, TraitId, VariantId,"}, {"sha": "63138aa6ad78fa179e6df61f79aa935995553be2", "filename": "crates/hir-def/src/dyn_map.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Fdyn_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Fdyn_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-def%2Fsrc%2Fdyn_map.rs?ref=12b069f43414f6bcc71bf4d77af05b3300797c1a", "patch": "@@ -21,6 +21,8 @@\n //!\n //! This is a work of fiction. Any similarities to Kotlin's `BindingContext` are\n //! a coincidence.\n+pub mod keys;\n+\n use std::{\n     hash::Hash,\n     marker::PhantomData,"}, {"sha": "f30be6b64e3ded45ee26afb15fd74eb12d1811b8", "filename": "crates/hir-def/src/dyn_map/keys.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Fdyn_map%2Fkeys.rs", "raw_url": "https://github.com/rust-lang/rust/raw/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Fdyn_map%2Fkeys.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-def%2Fsrc%2Fdyn_map%2Fkeys.rs?ref=12b069f43414f6bcc71bf4d77af05b3300797c1a", "previous_filename": "crates/hir-def/src/keys.rs"}, {"sha": "354b8fd0af4a400a50240c06ce5e76a2a7d5f029", "filename": "crates/hir-def/src/generics.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Fgenerics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Fgenerics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-def%2Fsrc%2Fgenerics.rs?ref=12b069f43414f6bcc71bf4d77af05b3300797c1a", "patch": "@@ -20,8 +20,7 @@ use crate::{\n     body::{Expander, LowerCtx},\n     child_by_source::ChildBySource,\n     db::DefDatabase,\n-    dyn_map::DynMap,\n-    keys,\n+    dyn_map::{keys, DynMap},\n     src::{HasChildSource, HasSource},\n     type_ref::{LifetimeRef, TypeBound, TypeRef},\n     AdtId, ConstParamId, GenericDefId, HasModule, LifetimeParamId, LocalLifetimeParamId,"}, {"sha": "407ef4b4a787ff02483e81a771ad1bec3550c8b4", "filename": "crates/hir-def/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-def%2Fsrc%2Flib.rs?ref=12b069f43414f6bcc71bf4d77af05b3300797c1a", "patch": "@@ -24,7 +24,6 @@ pub mod per_ns;\n pub mod item_scope;\n \n pub mod dyn_map;\n-pub mod keys;\n \n pub mod item_tree;\n "}, {"sha": "314bf22b95ee76428066b412da9574ee5f09a6e4", "filename": "crates/hir-def/src/macro_expansion_tests/mod.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Fmacro_expansion_tests%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir-def%2Fsrc%2Fmacro_expansion_tests%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-def%2Fsrc%2Fmacro_expansion_tests%2Fmod.rs?ref=12b069f43414f6bcc71bf4d77af05b3300797c1a", "previous_filename": "crates/hir-def/src/macro_expansion_tests.rs"}, {"sha": "c50ffa4f8b70349d6252c0f4a55c32f501d3a4b3", "filename": "crates/hir/src/semantics/source_to_def.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir%2Fsrc%2Fsemantics%2Fsource_to_def.rs", "raw_url": "https://github.com/rust-lang/rust/raw/12b069f43414f6bcc71bf4d77af05b3300797c1a/crates%2Fhir%2Fsrc%2Fsemantics%2Fsource_to_def.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir%2Fsrc%2Fsemantics%2Fsource_to_def.rs?ref=12b069f43414f6bcc71bf4d77af05b3300797c1a", "patch": "@@ -14,7 +14,7 @@\n //! expression, an item definition.\n //!\n //! Knowing only the syntax gives us relatively little info. For example,\n-//! looking at the syntax of the function we can realise that it is a part of an\n+//! looking at the syntax of the function we can realize that it is a part of an\n //! `impl` block, but we won't be able to tell what trait function the current\n //! function overrides, and whether it does that correctly. For that, we need to\n //! go from [`ast::Fn`] to [`crate::Function`], and that's exactly what this\n@@ -88,9 +88,11 @@\n use base_db::FileId;\n use hir_def::{\n     child_by_source::ChildBySource,\n-    dyn_map::DynMap,\n+    dyn_map::{\n+        keys::{self, Key},\n+        DynMap,\n+    },\n     hir::{BindingId, LabelId},\n-    keys::{self, Key},\n     AdtId, ConstId, ConstParamId, DefWithBodyId, EnumId, EnumVariantId, FieldId, FunctionId,\n     GenericDefId, GenericParamId, ImplId, LifetimeParamId, MacroId, ModuleId, StaticId, StructId,\n     TraitAliasId, TraitId, TypeAliasId, TypeParamId, UnionId, VariantId,"}]}