{"sha": "40176e03fd2c80ce29e23c40dd9c1531ad0da8a2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQwMTc2ZTAzZmQyYzgwY2UyOWUyM2M0MGRkOWMxNTMxYWQwZGE4YTI=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2018-08-08T08:26:25Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2018-08-08T08:26:25Z"}, "message": "Fix some bugs", "tree": {"sha": "605fecc9c3d8086aa2f7155b1bf26b83cd9ae4ca", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/605fecc9c3d8086aa2f7155b1bf26b83cd9ae4ca"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/40176e03fd2c80ce29e23c40dd9c1531ad0da8a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/40176e03fd2c80ce29e23c40dd9c1531ad0da8a2", "html_url": "https://github.com/rust-lang/rust/commit/40176e03fd2c80ce29e23c40dd9c1531ad0da8a2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/40176e03fd2c80ce29e23c40dd9c1531ad0da8a2/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "018612cf22c95fe842345154f999268503a15960", "url": "https://api.github.com/repos/rust-lang/rust/commits/018612cf22c95fe842345154f999268503a15960", "html_url": "https://github.com/rust-lang/rust/commit/018612cf22c95fe842345154f999268503a15960"}], "stats": {"total": 85, "additions": 82, "deletions": 3}, "files": [{"sha": "e3c510d29f97fd64e3dcfbc04c0ee09371910e4a", "filename": "copy.clif", "status": "added", "additions": 80, "deletions": 0, "changes": 80, "blob_url": "https://github.com/rust-lang/rust/blob/40176e03fd2c80ce29e23c40dd9c1531ad0da8a2/copy.clif", "raw_url": "https://github.com/rust-lang/rust/raw/40176e03fd2c80ce29e23c40dd9c1531ad0da8a2/copy.clif", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/copy.clif?ref=40176e03fd2c80ce29e23c40dd9c1531ad0da8a2", "patch": "@@ -0,0 +1,80 @@\n+target x86_64\n+\n+; copy_nonoverlapping\n+function u0:0(i64, i64, i64) fast {\n+    ss0 = explicit_slot 8\n+    ss1 = explicit_slot 8\n+    ss2 = explicit_slot 8\n+ebb0(v0: i64, v1: i64, v2: i64): ; fn(src, dst, count)\n+    v99 = iconst.i64 1\n+    jump ebb1(v0, v1, v2)\n+\n+ebb1(v10: i64, v11: i64, v12: i64):\n+    ; if no more bytes to copy, return\n+    brz v12, ebb2\n+\n+    ; copy one byte\n+    v20 = uload8.i32 v10\n+    istore8.i32 v20, v11\n+\n+    ; increment src and dst and decrement remaining count\n+    v30 = iadd_imm v10, 1\n+    v31 = iadd_imm v11, 1\n+    v32 = isub v12, v99\n+\n+    ; loop\n+    jump ebb1(v30, v31, v32)\n+\n+ebb2:\n+    return\n+}\n+\n+; copy\n+function u0:0(i64, i64, i64) fast {\n+    ss0 = explicit_slot 8\n+    ss1 = explicit_slot 8\n+    ss2 = explicit_slot 8\n+ebb0(v0: i64, v1: i64, v2: i64): ; fn(src, dst, count):\n+    v98 = iconst.i64 8\n+    v99 = iconst.i64 1\n+    jump ebb1(v0, v1, v2)\n+\n+; copy eight bytes\n+ebb1(v10: i64, v11: i64, v12: i64):\n+    ; if less than eight bytes to copy, goto ebb2\n+    v90 = icmp ult v12, v98\n+    brz v90, ebb2(v10, v11, v12)\n+\n+    ; copy one byte\n+    v80 = load.i64 v10\n+    store.i64 v80, v11\n+\n+    ; increment src and dst and decrement remaining count\n+    v20 = iadd_imm v0, 1\n+    v21 = iadd_imm v1, 1\n+    v22 = isub v2, v98\n+\n+    ; loop\n+    jump ebb1(v20, v21, v22)\n+\n+; copy one byte\n+ebb2(v30: i64, v31: i64, v32: i64):\n+    ; if no more bytes to copy, return\n+    brz v32, ebb3\n+\n+    ; copy one byte\n+    v81 = uload8.i32 v30\n+    istore8.i32 v81, v31\n+\n+    ; increment src and dst and decrement remaining count\n+    v40 = iadd_imm v30, 1\n+    v41 = iadd_imm v31, 1\n+    v42 = isub v32, v99\n+\n+    ; loop\n+    jump ebb2(v40, v41, v42)\n+\n+; done\n+ebb3:\n+    return\n+}\n\\ No newline at end of file"}, {"sha": "1bf39095ddf231c5498dfacfb1aeffe8c4b3c707", "filename": "src/abi.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/40176e03fd2c80ce29e23c40dd9c1531ad0da8a2/src%2Fabi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40176e03fd2c80ce29e23c40dd9c1531ad0da8a2/src%2Fabi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fabi.rs?ref=40176e03fd2c80ce29e23c40dd9c1531ad0da8a2", "patch": "@@ -356,7 +356,6 @@ pub fn codegen_call<'a, 'tcx: 'a>(\n                         &[dst, src, CValue::ByVal(byte_amount, usize_layout)],\n                         nil_ty,\n                     );\n-                    unimplemented!(\"copy\");\n                 }\n                 \"discriminant_value\" => {\n                     assert_eq!(args.len(), 1);"}, {"sha": "f49827b3a977c113dad55b376d9c701674a96011", "filename": "src/common.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40176e03fd2c80ce29e23c40dd9c1531ad0da8a2/src%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40176e03fd2c80ce29e23c40dd9c1531ad0da8a2/src%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcommon.rs?ref=40176e03fd2c80ce29e23c40dd9c1531ad0da8a2", "patch": "@@ -45,8 +45,8 @@ pub fn cton_type_from_ty<'a, 'tcx: 'a>(\n         },\n         TypeVariants::TyChar => types::I32,\n         TypeVariants::TyFloat(size) => match size {\n-            FloatTy::F32 => types::I32,\n-            FloatTy::F64 => types::I64,\n+            FloatTy::F32 => types::F32,\n+            FloatTy::F64 => types::F64,\n         },\n         TypeVariants::TyFnPtr(_) => types::I64,\n         TypeVariants::TyRawPtr(TypeAndMut { ty, mutbl: _ }) | TypeVariants::TyRef(_, ty, _) => {"}]}