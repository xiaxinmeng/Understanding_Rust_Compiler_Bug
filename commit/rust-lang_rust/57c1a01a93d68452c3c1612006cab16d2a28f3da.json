{"sha": "57c1a01a93d68452c3c1612006cab16d2a28f3da", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU3YzFhMDFhOTNkNjg0NTJjM2MxNjEyMDA2Y2FiMTZkMmEyOGYzZGE=", "commit": {"author": {"name": "Jed Davis", "email": "jld@panix.com", "date": "2013-11-26T18:54:20Z"}, "committer": {"name": "Jed Davis", "email": "jld@panix.com", "date": "2013-11-27T01:47:49Z"}, "message": "Remove enum struct return workaround from LLVM bindings.", "tree": {"sha": "eaaee4d3ea42ba7f0a29c637602e48f2d1e682e7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/eaaee4d3ea42ba7f0a29c637602e48f2d1e682e7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/57c1a01a93d68452c3c1612006cab16d2a28f3da", "comment_count": 9, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/57c1a01a93d68452c3c1612006cab16d2a28f3da", "html_url": "https://github.com/rust-lang/rust/commit/57c1a01a93d68452c3c1612006cab16d2a28f3da", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/57c1a01a93d68452c3c1612006cab16d2a28f3da/comments", "author": {"login": "jld", "id": 254973, "node_id": "MDQ6VXNlcjI1NDk3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/254973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jld", "html_url": "https://github.com/jld", "followers_url": "https://api.github.com/users/jld/followers", "following_url": "https://api.github.com/users/jld/following{/other_user}", "gists_url": "https://api.github.com/users/jld/gists{/gist_id}", "starred_url": "https://api.github.com/users/jld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jld/subscriptions", "organizations_url": "https://api.github.com/users/jld/orgs", "repos_url": "https://api.github.com/users/jld/repos", "events_url": "https://api.github.com/users/jld/events{/privacy}", "received_events_url": "https://api.github.com/users/jld/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jld", "id": 254973, "node_id": "MDQ6VXNlcjI1NDk3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/254973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jld", "html_url": "https://github.com/jld", "followers_url": "https://api.github.com/users/jld/followers", "following_url": "https://api.github.com/users/jld/following{/other_user}", "gists_url": "https://api.github.com/users/jld/gists{/gist_id}", "starred_url": "https://api.github.com/users/jld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jld/subscriptions", "organizations_url": "https://api.github.com/users/jld/orgs", "repos_url": "https://api.github.com/users/jld/repos", "events_url": "https://api.github.com/users/jld/events{/privacy}", "received_events_url": "https://api.github.com/users/jld/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e03f17eb214e925b15f2c684ddb69a48fbd3d8f2", "url": "https://api.github.com/repos/rust-lang/rust/commits/e03f17eb214e925b15f2c684ddb69a48fbd3d8f2", "html_url": "https://github.com/rust-lang/rust/commit/e03f17eb214e925b15f2c684ddb69a48fbd3d8f2"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "50f29a05af24fe661b74770ca2bb4698e1da2dec", "filename": "src/librustc/lib/llvm.rs", "status": "modified", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/57c1a01a93d68452c3c1612006cab16d2a28f3da/src%2Flibrustc%2Flib%2Fllvm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/57c1a01a93d68452c3c1612006cab16d2a28f3da/src%2Flibrustc%2Flib%2Fllvm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib%2Fllvm.rs?ref=57c1a01a93d68452c3c1612006cab16d2a28f3da", "patch": "@@ -128,22 +128,62 @@ pub enum RealPredicate {\n \n // The LLVM TypeKind type - must stay in sync with the def of\n // LLVMTypeKind in llvm/include/llvm-c/Core.h\n+#[cfg(not(stage0))]\n+#[deriving(Eq)]\n+#[repr(C)]\n+pub enum TypeKind {\n+    Void      = 0,\n+    Half      = 1,\n+    Float     = 2,\n+    Double    = 3,\n+    X86_FP80  = 4,\n+    FP128     = 5,\n+    PPC_FP128 = 6,\n+    Label     = 7,\n+    Integer   = 8,\n+    Function  = 9,\n+    Struct    = 10,\n+    Array     = 11,\n+    Pointer   = 12,\n+    Vector    = 13,\n+    Metadata  = 14,\n+    X86_MMX   = 15,\n+}\n+\n+// NOTE remove these after snapshot.  (See also #10308.)\n+#[cfg(stage0)]\n pub type TypeKind = u32;\n+#[cfg(stage0)]\n pub static Void: TypeKind      = 0;\n+#[cfg(stage0)]\n pub static Half: TypeKind      = 1;\n+#[cfg(stage0)]\n pub static Float: TypeKind     = 2;\n+#[cfg(stage0)]\n pub static Double: TypeKind    = 3;\n+#[cfg(stage0)]\n pub static X86_FP80: TypeKind  = 4;\n+#[cfg(stage0)]\n pub static FP128: TypeKind     = 5;\n+#[cfg(stage0)]\n pub static PPC_FP128: TypeKind = 6;\n+#[cfg(stage0)]\n pub static Label: TypeKind     = 7;\n+#[cfg(stage0)]\n pub static Integer: TypeKind   = 8;\n+#[cfg(stage0)]\n pub static Function: TypeKind  = 9;\n+#[cfg(stage0)]\n pub static Struct: TypeKind    = 10;\n+#[cfg(stage0)]\n pub static Array: TypeKind     = 11;\n+#[cfg(stage0)]\n pub static Pointer: TypeKind   = 12;\n+#[cfg(stage0)]\n pub static Vector: TypeKind    = 13;\n+#[cfg(stage0)]\n pub static Metadata: TypeKind  = 14;\n+#[cfg(stage0)]\n pub static X86_MMX: TypeKind   = 15;\n \n #[repr(C)]"}]}