{"sha": "71d7e561bdc2e58cef7fedcec1970dafc852bb61", "node_id": "C_kwDOAAsO6NoAKDcxZDdlNTYxYmRjMmU1OGNlZjdmZWRjZWMxOTcwZGFmYzg1MmJiNjE", "commit": {"author": {"name": "Antoni Boucher", "email": "bouanto@zoho.com", "date": "2023-01-03T13:56:00Z"}, "committer": {"name": "Antoni Boucher", "email": "bouanto@zoho.com", "date": "2023-01-03T13:56:00Z"}, "message": "Comment", "tree": {"sha": "af5eb69a6175d418b18f8d85bc751b18c9cc62c8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/af5eb69a6175d418b18f8d85bc751b18c9cc62c8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/71d7e561bdc2e58cef7fedcec1970dafc852bb61", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/71d7e561bdc2e58cef7fedcec1970dafc852bb61", "html_url": "https://github.com/rust-lang/rust/commit/71d7e561bdc2e58cef7fedcec1970dafc852bb61", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/71d7e561bdc2e58cef7fedcec1970dafc852bb61/comments", "author": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b0cf0e8c0653aab2c89de7b5e1ef34a24bf8ea80", "url": "https://api.github.com/repos/rust-lang/rust/commits/b0cf0e8c0653aab2c89de7b5e1ef34a24bf8ea80", "html_url": "https://github.com/rust-lang/rust/commit/b0cf0e8c0653aab2c89de7b5e1ef34a24bf8ea80"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "e9c719d84722a2b7e0e946356edc4c3000c93997", "filename": "Readme.md", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/71d7e561bdc2e58cef7fedcec1970dafc852bb61/Readme.md", "raw_url": "https://github.com/rust-lang/rust/raw/71d7e561bdc2e58cef7fedcec1970dafc852bb61/Readme.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Readme.md?ref=71d7e561bdc2e58cef7fedcec1970dafc852bb61", "patch": "@@ -172,6 +172,16 @@ debug_gimple_stmt(gimple_struct)\n \n To get the `rustc` command to run in `gdb`, add the `--verbose` flag to `cargo build`.\n \n+To have the correct file paths in `gdb` instead of `/usr/src/debug/gcc/libstdc++-v3/libsupc++/eh_personality.cc`, TODO\n+\n+Maybe by calling the following at the beginning of gdb:\n+\n+```\n+set substitute-path /usr/src/debug/gcc /home/bouanto/Ordinateur/Programmation/Projets/gcc-repo/gcc\n+```\n+\n+TODO: but that's not what I remember I was doing.\n+\n ### How to use a custom-build rustc\n \n  * Build the stage2 compiler (`rustup toolchain link debug-current build/x86_64-unknown-linux-gnu/stage2`)."}, {"sha": "fd674ed0b8712079d0b653f73ede1fb9246113d9", "filename": "src/builder.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/71d7e561bdc2e58cef7fedcec1970dafc852bb61/src%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/71d7e561bdc2e58cef7fedcec1970dafc852bb61/src%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbuilder.rs?ref=71d7e561bdc2e58cef7fedcec1970dafc852bb61", "patch": "@@ -1210,6 +1210,14 @@ impl<'a, 'gcc, 'tcx> BuilderMethods<'a, 'tcx> for Builder<'a, 'gcc, 'tcx> {\n     fn cleanup_landing_pad(&mut self, _ty: Type<'gcc>, pers_fn: RValue<'gcc>) -> RValue<'gcc> {\n         self.set_personality_fn(pers_fn);\n \n+        /*\n+         * Matching GCC exception handling with LLVM:\n+         *\n+         *    GCC                 LLVM\n+         *    CATCH_EXPR          landing pad catch clause\n+         *    TRY_FINALLY_EXPR    cleanup\n+         */\n+\n         self.cleanup_blocks.borrow_mut().insert(self.block);\n \n         // FIXME: we're probably not creating a real cleanup pad here."}]}