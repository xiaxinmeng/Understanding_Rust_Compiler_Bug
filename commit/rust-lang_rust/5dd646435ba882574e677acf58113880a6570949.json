{"sha": "5dd646435ba882574e677acf58113880a6570949", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkZDY0NjQzNWJhODgyNTc0ZTY3N2FjZjU4MTEzODgwYTY1NzA5NDk=", "commit": {"author": {"name": "David Ross", "email": "daboross@daboross.net", "date": "2020-02-16T00:21:59Z"}, "committer": {"name": "David Ross", "email": "daboross@daboross.net", "date": "2020-02-16T03:51:02Z"}, "message": "Fix related type ascription tests.", "tree": {"sha": "1b37c201818da67b217e4eed5e99401df25ccc67", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1b37c201818da67b217e4eed5e99401df25ccc67"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5dd646435ba882574e677acf58113880a6570949", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5dd646435ba882574e677acf58113880a6570949", "html_url": "https://github.com/rust-lang/rust/commit/5dd646435ba882574e677acf58113880a6570949", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5dd646435ba882574e677acf58113880a6570949/comments", "author": {"login": "daboross", "id": 1152146, "node_id": "MDQ6VXNlcjExNTIxNDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1152146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daboross", "html_url": "https://github.com/daboross", "followers_url": "https://api.github.com/users/daboross/followers", "following_url": "https://api.github.com/users/daboross/following{/other_user}", "gists_url": "https://api.github.com/users/daboross/gists{/gist_id}", "starred_url": "https://api.github.com/users/daboross/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daboross/subscriptions", "organizations_url": "https://api.github.com/users/daboross/orgs", "repos_url": "https://api.github.com/users/daboross/repos", "events_url": "https://api.github.com/users/daboross/events{/privacy}", "received_events_url": "https://api.github.com/users/daboross/received_events", "type": "User", "site_admin": false}, "committer": {"login": "daboross", "id": 1152146, "node_id": "MDQ6VXNlcjExNTIxNDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1152146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daboross", "html_url": "https://github.com/daboross", "followers_url": "https://api.github.com/users/daboross/followers", "following_url": "https://api.github.com/users/daboross/following{/other_user}", "gists_url": "https://api.github.com/users/daboross/gists{/gist_id}", "starred_url": "https://api.github.com/users/daboross/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daboross/subscriptions", "organizations_url": "https://api.github.com/users/daboross/orgs", "repos_url": "https://api.github.com/users/daboross/repos", "events_url": "https://api.github.com/users/daboross/events{/privacy}", "received_events_url": "https://api.github.com/users/daboross/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f82ca8b0efa64bc33ed811b34c83a21aeb2950d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/f82ca8b0efa64bc33ed811b34c83a21aeb2950d1", "html_url": "https://github.com/rust-lang/rust/commit/f82ca8b0efa64bc33ed811b34c83a21aeb2950d1"}], "stats": {"total": 60, "additions": 50, "deletions": 10}, "files": [{"sha": "8d6fd2abb6d5f133fb2f85f79d5ace8c28ca75e0", "filename": "src/test/ui/type/ascription/issue-54516.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5dd646435ba882574e677acf58113880a6570949/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-54516.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5dd646435ba882574e677acf58113880a6570949/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-54516.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-54516.rs?ref=5dd646435ba882574e677acf58113880a6570949", "patch": "@@ -2,5 +2,7 @@ use std::collections::BTreeMap;\n \n fn main() {\n     println!(\"{}\", std::mem:size_of::<BTreeMap<u32, u32>>());\n-    //~^ ERROR expected one of\n+    //~^ ERROR casts cannot be followed by a function call\n+    //~| ERROR expected value, found module `std::mem` [E0423]\n+    //~| ERROR cannot find type `size_of` in this scope [E0412]\n }"}, {"sha": "fdf35700ef94cf278af823c94ad56a0ff24495fa", "filename": "src/test/ui/type/ascription/issue-54516.stderr", "status": "modified", "additions": 22, "deletions": 4, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/5dd646435ba882574e677acf58113880a6570949/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-54516.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5dd646435ba882574e677acf58113880a6570949/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-54516.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-54516.stderr?ref=5dd646435ba882574e677acf58113880a6570949", "patch": "@@ -1,13 +1,31 @@\n-error: expected one of `!`, `,`, or `::`, found `(`\n-  --> $DIR/issue-54516.rs:4:58\n+error: casts cannot be followed by a function call\n+  --> $DIR/issue-54516.rs:4:20\n    |\n LL |     println!(\"{}\", std::mem:size_of::<BTreeMap<u32, u32>>());\n-   |                            -                             ^ expected one of `!`, `,`, or `::`\n+   |                    ^^^^^^^^-^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                            |\n    |                            help: maybe write a path separator here: `::`\n    |\n    = note: `#![feature(type_ascription)]` lets you annotate an expression with a type: `<expr>: <type>`\n    = note: see issue #23416 <https://github.com/rust-lang/rust/issues/23416> for more information\n \n-error: aborting due to previous error\n+error[E0423]: expected value, found module `std::mem`\n+  --> $DIR/issue-54516.rs:4:20\n+   |\n+LL |     println!(\"{}\", std::mem:size_of::<BTreeMap<u32, u32>>());\n+   |                    ^^^^^^^^- help: maybe you meant to write a path separator here: `::`\n+   |                    |\n+   |                    not a value\n+\n+error[E0412]: cannot find type `size_of` in this scope\n+  --> $DIR/issue-54516.rs:4:29\n+   |\n+LL |     println!(\"{}\", std::mem:size_of::<BTreeMap<u32, u32>>());\n+   |                            -^^^^^^^ not found in this scope\n+   |                            |\n+   |                            help: maybe you meant to write a path separator here: `::`\n+\n+error: aborting due to 3 previous errors\n \n+Some errors have detailed explanations: E0412, E0423.\n+For more information about an error, try `rustc --explain E0412`."}, {"sha": "bcf9f88cb414b0ac93d260d555d8bd2cf0e54864", "filename": "src/test/ui/type/ascription/issue-60933.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5dd646435ba882574e677acf58113880a6570949/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-60933.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5dd646435ba882574e677acf58113880a6570949/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-60933.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-60933.rs?ref=5dd646435ba882574e677acf58113880a6570949", "patch": "@@ -1,4 +1,6 @@\n fn main() {\n     let u: usize = std::mem:size_of::<u32>();\n-    //~^ ERROR expected one of\n+    //~^ ERROR casts cannot be followed by a function call\n+    //~| ERROR expected value, found module `std::mem` [E0423]\n+    //~| ERROR cannot find type `size_of` in this scope [E0412]\n }"}, {"sha": "cd9ae8f49f4f1e8c7406bc91ff44b99a2d50d158", "filename": "src/test/ui/type/ascription/issue-60933.stderr", "status": "modified", "additions": 22, "deletions": 4, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/5dd646435ba882574e677acf58113880a6570949/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-60933.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5dd646435ba882574e677acf58113880a6570949/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-60933.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype%2Fascription%2Fissue-60933.stderr?ref=5dd646435ba882574e677acf58113880a6570949", "patch": "@@ -1,13 +1,31 @@\n-error: expected one of `!`, `::`, or `;`, found `(`\n-  --> $DIR/issue-60933.rs:2:43\n+error: casts cannot be followed by a function call\n+  --> $DIR/issue-60933.rs:2:20\n    |\n LL |     let u: usize = std::mem:size_of::<u32>();\n-   |                            -              ^ expected one of `!`, `::`, or `;`\n+   |                    ^^^^^^^^-^^^^^^^^^^^^^^\n    |                            |\n    |                            help: maybe write a path separator here: `::`\n    |\n    = note: `#![feature(type_ascription)]` lets you annotate an expression with a type: `<expr>: <type>`\n    = note: see issue #23416 <https://github.com/rust-lang/rust/issues/23416> for more information\n \n-error: aborting due to previous error\n+error[E0423]: expected value, found module `std::mem`\n+  --> $DIR/issue-60933.rs:2:20\n+   |\n+LL |     let u: usize = std::mem:size_of::<u32>();\n+   |                    ^^^^^^^^- help: maybe you meant to write a path separator here: `::`\n+   |                    |\n+   |                    not a value\n+\n+error[E0412]: cannot find type `size_of` in this scope\n+  --> $DIR/issue-60933.rs:2:29\n+   |\n+LL |     let u: usize = std::mem:size_of::<u32>();\n+   |                            -^^^^^^^ not found in this scope\n+   |                            |\n+   |                            help: maybe you meant to write a path separator here: `::`\n+\n+error: aborting due to 3 previous errors\n \n+Some errors have detailed explanations: E0412, E0423.\n+For more information about an error, try `rustc --explain E0412`."}]}