{"sha": "ea76c5ed569b170078d225c70f64bc773de80b81", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVhNzZjNWVkNTY5YjE3MDA3OGQyMjVjNzBmNjRiYzc3M2RlODBiODE=", "commit": {"author": {"name": "Corey Farwell", "email": "coreyf@rwell.org", "date": "2017-03-23T13:42:49Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-03-23T13:42:49Z"}, "message": "Rollup merge of #40753 - mandeep:change-ObjectSafetyViolation-message, r=brson\n\nChange object safety violation message\n\nHello!\n\nThis is my first pull request to rust so hopefully all goes well. This PR should fix issue #40670. I changed the error message in object_safety.rs and the corresponding compile-fail test in object-safety-supertrait-mentions-Self.rs.\n\nOnce the changes were made, I ran ```python x.py test src/tools/tidy``` and ```python x.py test```. Tidy passed and the compile-fail tests passed, however the test suite failed on the tcp tests as my machine has IPv6 disabled. I'm not sure what to do in this case besides letting travis run the suite against my changes. Please let me know if there's anything I can do to help further.\n\nThanks!\nMandeep", "tree": {"sha": "846d07f6afa6fb7f842dc196c365ce698eb0a25a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/846d07f6afa6fb7f842dc196c365ce698eb0a25a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ea76c5ed569b170078d225c70f64bc773de80b81", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ea76c5ed569b170078d225c70f64bc773de80b81", "html_url": "https://github.com/rust-lang/rust/commit/ea76c5ed569b170078d225c70f64bc773de80b81", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ea76c5ed569b170078d225c70f64bc773de80b81/comments", "author": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "08134cf861c952bb02120aedd5aaa3d1587b7600", "url": "https://api.github.com/repos/rust-lang/rust/commits/08134cf861c952bb02120aedd5aaa3d1587b7600", "html_url": "https://github.com/rust-lang/rust/commit/08134cf861c952bb02120aedd5aaa3d1587b7600"}, {"sha": "7d302d25826ee41703e10d6acd6d3114930e1dd2", "url": "https://api.github.com/repos/rust-lang/rust/commits/7d302d25826ee41703e10d6acd6d3114930e1dd2", "html_url": "https://github.com/rust-lang/rust/commit/7d302d25826ee41703e10d6acd6d3114930e1dd2"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "7cd0b26940d9118284e3adcc03b35a3fda36972d", "filename": "src/librustc/traits/object_safety.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ea76c5ed569b170078d225c70f64bc773de80b81/src%2Flibrustc%2Ftraits%2Fobject_safety.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea76c5ed569b170078d225c70f64bc773de80b81/src%2Flibrustc%2Ftraits%2Fobject_safety.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Fobject_safety.rs?ref=ea76c5ed569b170078d225c70f64bc773de80b81", "patch": "@@ -46,7 +46,7 @@ impl ObjectSafetyViolation {\n                 \"the trait cannot require that `Self : Sized`\".into(),\n             ObjectSafetyViolation::SupertraitSelf =>\n                 \"the trait cannot use `Self` as a type parameter \\\n-                 in the supertrait listing\".into(),\n+                 in the supertraits or where-clauses\".into(),\n             ObjectSafetyViolation::Method(name, MethodViolationCode::StaticMethod) =>\n                 format!(\"method `{}` has no receiver\", name).into(),\n             ObjectSafetyViolation::Method(name, MethodViolationCode::ReferencesSelf) =>"}, {"sha": "a93c056c410c6d5e48f108905ea6e62e07b0d2bb", "filename": "src/test/compile-fail/object-safety-supertrait-mentions-Self.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ea76c5ed569b170078d225c70f64bc773de80b81/src%2Ftest%2Fcompile-fail%2Fobject-safety-supertrait-mentions-Self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea76c5ed569b170078d225c70f64bc773de80b81/src%2Ftest%2Fcompile-fail%2Fobject-safety-supertrait-mentions-Self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fobject-safety-supertrait-mentions-Self.rs?ref=ea76c5ed569b170078d225c70f64bc773de80b81", "patch": "@@ -24,7 +24,7 @@ fn make_bar<T:Bar<u32>>(t: &T) -> &Bar<u32> {\n \n fn make_baz<T:Baz>(t: &T) -> &Baz {\n     //~^ ERROR E0038\n-    //~| NOTE the trait cannot use `Self` as a type parameter in the supertrait listing\n+    //~| NOTE the trait cannot use `Self` as a type parameter in the supertraits or where-clauses\n     //~| NOTE the trait `Baz` cannot be made into an object\n     t\n }"}]}