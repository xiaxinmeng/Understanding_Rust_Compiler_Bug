{"sha": "6ceb5f4bec83b525c5df409559272f0e10863f6a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZjZWI1ZjRiZWM4M2I1MjVjNWRmNDA5NTU5MjcyZjBlMTA4NjNmNmE=", "commit": {"author": {"name": "Stjepan Glavina", "email": "stjepang@gmail.com", "date": "2017-11-21T23:00:01Z"}, "committer": {"name": "Stjepan Glavina", "email": "stjepang@gmail.com", "date": "2017-11-21T23:00:01Z"}, "message": "Stabilize spin_loop_hint", "tree": {"sha": "47a8eb5631377b6b4514c49b36a644beaa53fc36", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/47a8eb5631377b6b4514c49b36a644beaa53fc36"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6ceb5f4bec83b525c5df409559272f0e10863f6a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6ceb5f4bec83b525c5df409559272f0e10863f6a", "html_url": "https://github.com/rust-lang/rust/commit/6ceb5f4bec83b525c5df409559272f0e10863f6a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6ceb5f4bec83b525c5df409559272f0e10863f6a/comments", "author": null, "committer": null, "parents": [{"sha": "b1409af73d133f513980ccbf27c941a28d8d5c50", "url": "https://api.github.com/repos/rust-lang/rust/commits/b1409af73d133f513980ccbf27c941a28d8d5c50", "html_url": "https://github.com/rust-lang/rust/commit/b1409af73d133f513980ccbf27c941a28d8d5c50"}], "stats": {"total": 13, "additions": 6, "deletions": 7}, "files": [{"sha": "cd33f0c5e0293bbe01380bf0d15affb65dcb7a0a", "filename": "src/doc/unstable-book/src/library-features/spin-loop-hint.md", "status": "renamed", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6ceb5f4bec83b525c5df409559272f0e10863f6a/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fspin-loop-hint.md", "raw_url": "https://github.com/rust-lang/rust/raw/6ceb5f4bec83b525c5df409559272f0e10863f6a/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fspin-loop-hint.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fspin-loop-hint.md?ref=6ceb5f4bec83b525c5df409559272f0e10863f6a", "patch": "@@ -1,4 +1,4 @@\n-# `hint_core_should_pause`\n+# `spin_loop_hint`\n \n The tracking issue for this feature is: [#41196]\n \n@@ -23,7 +23,7 @@ fn spin_loop(value: &AtomicBool) {\n These programs can be improved in performance like so:\n \n ```rust,no_run\n-#![feature(hint_core_should_pause)]\n+#![feature(spin_loop_hint)]\n use std::sync::atomic;\n use std::sync::atomic::{AtomicBool,Ordering};\n \n@@ -32,10 +32,10 @@ fn spin_loop(value: &AtomicBool) {\n         if value.load(Ordering::Acquire) {\n              break;\n         }\n-        atomic::hint_core_should_pause();\n+        atomic::spin_loop_hint();\n     }\n }\n ```\n \n-Further improvements could combine `hint_core_should_pause` with\n+Further improvements could combine `spin_loop_hint` with\n exponential backoff or `std::thread::yield_now`.", "previous_filename": "src/doc/unstable-book/src/library-features/hint-core-should-pause.md"}, {"sha": "5486cb2926650dc096b1183bc3864780feec075a", "filename": "src/libcore/sync/atomic.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/6ceb5f4bec83b525c5df409559272f0e10863f6a/src%2Flibcore%2Fsync%2Fatomic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6ceb5f4bec83b525c5df409559272f0e10863f6a/src%2Flibcore%2Fsync%2Fatomic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fsync%2Fatomic.rs?ref=6ceb5f4bec83b525c5df409559272f0e10863f6a", "patch": "@@ -103,9 +103,8 @@ use fmt;\n ///\n /// On some platforms this function may not do anything at all.\n #[inline]\n-#[unstable(feature = \"hint_core_should_pause\", issue = \"41196\")]\n-pub fn hint_core_should_pause()\n-{\n+#[stable(feature = \"spin_loop_hint\", since = \"1.23.0\")]\n+pub fn spin_loop_hint() {\n     #[cfg(any(target_arch = \"x86\", target_arch = \"x86_64\"))]\n     unsafe {\n         asm!(\"pause\" ::: \"memory\" : \"volatile\");"}]}