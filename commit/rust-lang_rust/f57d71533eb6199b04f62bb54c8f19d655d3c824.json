{"sha": "f57d71533eb6199b04f62bb54c8f19d655d3c824", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY1N2Q3MTUzM2ViNjE5OWIwNGY2MmJiNTRjOGYxOWQ2NTVkM2M4MjQ=", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2021-03-14T16:57:37Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2021-03-14T17:17:20Z"}, "message": "Use a number for row.id, instead of a string\n\nThere's no reason for it to be a string, since it's only used for\nde-duplicating the results arrays anyhow.", "tree": {"sha": "675fbec3d7a3faa280440716db85e5f84ae6a67e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/675fbec3d7a3faa280440716db85e5f84ae6a67e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f57d71533eb6199b04f62bb54c8f19d655d3c824", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f57d71533eb6199b04f62bb54c8f19d655d3c824", "html_url": "https://github.com/rust-lang/rust/commit/f57d71533eb6199b04f62bb54c8f19d655d3c824", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f57d71533eb6199b04f62bb54c8f19d655d3c824/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0bfd1429266518d86d28c29f86c30bca063706f0", "url": "https://api.github.com/repos/rust-lang/rust/commits/0bfd1429266518d86d28c29f86c30bca063706f0", "html_url": "https://github.com/rust-lang/rust/commit/0bfd1429266518d86d28c29f86c30bca063706f0"}], "stats": {"total": 16, "additions": 5, "deletions": 11}, "files": [{"sha": "68a7ed9a905379b57f6afc586ba8169c5aee2ba0", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 5, "deletions": 11, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/f57d71533eb6199b04f62bb54c8f19d655d3c824/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/f57d71533eb6199b04f62bb54c8f19d655d3c824/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=f57d71533eb6199b04f62bb54c8f19d655d3c824", "patch": "@@ -1833,18 +1833,12 @@ function defocusSearchBar() {\n             showResults(execSearch(query, index, filterCrates));\n         }\n \n-        function generateId(ty) {\n-            if (ty.parent && ty.parent.name) {\n-                return itemTypes[ty.ty] + ty.path + ty.parent.name + ty.name;\n-            }\n-            return itemTypes[ty.ty] + ty.path + ty.name;\n-        }\n-\n         function buildIndex(rawSearchIndex) {\n             searchIndex = [];\n             var searchWords = [];\n             var i;\n             var currentIndex = 0;\n+            var id = 0;\n \n             for (var crate in rawSearchIndex) {\n                 if (!hasOwnProperty(rawSearchIndex, crate)) { continue; }\n@@ -1866,10 +1860,10 @@ function defocusSearchBar() {\n                     desc: rawSearchIndex[crate].doc,\n                     parent: undefined,\n                     type: null,\n-                    id: \"\",\n+                    id: id,\n                     nameWithoutUnderscores: nameWithoutUnderscores,\n                 };\n-                crateRow.id = generateId(crateRow);\n+                id += 1;\n                 searchIndex.push(crateRow);\n                 currentIndex += 1;\n \n@@ -1921,10 +1915,10 @@ function defocusSearchBar() {\n                         desc: itemDescs[i],\n                         parent: itemParentIdxs[i] > 0 ? paths[itemParentIdxs[i] - 1] : undefined,\n                         type: itemFunctionSearchTypes[i],\n-                        id: \"\",\n+                        id: id,\n                         nameWithoutUnderscores: nameWithoutUnderscores,\n                     };\n-                    row.id = generateId(row);\n+                    id += 1;\n                     searchIndex.push(row);\n                     if (typeof row.name === \"string\") {\n                         var word = row.name.toLowerCase();"}]}