{"sha": "f178dda187c479f463e74f92e3bdd8be13bad9e7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYxNzhkZGExODdjNDc5ZjQ2M2U3NGY5MmUzYmRkOGJlMTNiYWQ5ZTc=", "commit": {"author": {"name": "Caleb Zulawski", "email": "caleb.zulawski@gmail.com", "date": "2021-06-27T19:38:30Z"}, "committer": {"name": "Caleb Zulawski", "email": "caleb.zulawski@gmail.com", "date": "2021-07-24T17:37:36Z"}, "message": "Add as_slice/as_mut_slice to Vector", "tree": {"sha": "f19234c7ae555476cede6fcbe95ae9a8727a78a7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f19234c7ae555476cede6fcbe95ae9a8727a78a7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f178dda187c479f463e74f92e3bdd8be13bad9e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f178dda187c479f463e74f92e3bdd8be13bad9e7", "html_url": "https://github.com/rust-lang/rust/commit/f178dda187c479f463e74f92e3bdd8be13bad9e7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f178dda187c479f463e74f92e3bdd8be13bad9e7/comments", "author": {"login": "calebzulawski", "id": 563826, "node_id": "MDQ6VXNlcjU2MzgyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/563826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebzulawski", "html_url": "https://github.com/calebzulawski", "followers_url": "https://api.github.com/users/calebzulawski/followers", "following_url": "https://api.github.com/users/calebzulawski/following{/other_user}", "gists_url": "https://api.github.com/users/calebzulawski/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebzulawski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebzulawski/subscriptions", "organizations_url": "https://api.github.com/users/calebzulawski/orgs", "repos_url": "https://api.github.com/users/calebzulawski/repos", "events_url": "https://api.github.com/users/calebzulawski/events{/privacy}", "received_events_url": "https://api.github.com/users/calebzulawski/received_events", "type": "User", "site_admin": false}, "committer": {"login": "calebzulawski", "id": 563826, "node_id": "MDQ6VXNlcjU2MzgyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/563826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebzulawski", "html_url": "https://github.com/calebzulawski", "followers_url": "https://api.github.com/users/calebzulawski/followers", "following_url": "https://api.github.com/users/calebzulawski/following{/other_user}", "gists_url": "https://api.github.com/users/calebzulawski/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebzulawski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebzulawski/subscriptions", "organizations_url": "https://api.github.com/users/calebzulawski/orgs", "repos_url": "https://api.github.com/users/calebzulawski/repos", "events_url": "https://api.github.com/users/calebzulawski/events{/privacy}", "received_events_url": "https://api.github.com/users/calebzulawski/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c077bf3c07280d1026fa8a5a1e36c9fbbdaec10b", "url": "https://api.github.com/repos/rust-lang/rust/commits/c077bf3c07280d1026fa8a5a1e36c9fbbdaec10b", "html_url": "https://github.com/rust-lang/rust/commit/c077bf3c07280d1026fa8a5a1e36c9fbbdaec10b"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "d1940ab9833da2b87b40df22100a5a7188e5bddf", "filename": "crates/core_simd/src/vector/mod.rs", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/f178dda187c479f463e74f92e3bdd8be13bad9e7/crates%2Fcore_simd%2Fsrc%2Fvector%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f178dda187c479f463e74f92e3bdd8be13bad9e7/crates%2Fcore_simd%2Fsrc%2Fvector%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcore_simd%2Fsrc%2Fvector%2Fmod.rs?ref=f178dda187c479f463e74f92e3bdd8be13bad9e7", "patch": "@@ -31,6 +31,11 @@ pub trait Vector: sealed::Sealed {\n     #[must_use]\n     fn splat(val: Self::Scalar) -> Self;\n \n+    /// Returns a slice containing the entire SIMD vector.\n+    fn as_slice(&self) -> &[Self::Scalar];\n+\n+    /// Returns a mutable slice containing the entire SIMD vector.\n+    fn as_mut_slice(&mut self) -> &mut [Self::Scalar];\n }\n \n macro_rules! impl_vector_for {\n@@ -53,7 +58,17 @@ macro_rules! impl_vector_for {\n \n             #[inline]\n             fn splat(val: Self::Scalar) -> Self {\n-                [val; $lanes].into()\n+                Self::splat(val)\n+            }\n+\n+            #[inline]\n+            fn as_slice(&self) -> &[Self::Scalar] {\n+                self.as_slice()\n+            }\n+\n+            #[inline]\n+            fn as_mut_slice(&mut self) -> &mut [Self::Scalar] {\n+                self.as_mut_slice()\n             }\n         }\n     };"}]}