{"sha": "b821ce6097812763fd6136a90b42f90a71364e76", "node_id": "C_kwDOAAsO6NoAKGI4MjFjZTYwOTc4MTI3NjNmZDYxMzZhOTBiNDJmOTBhNzEzNjRlNzY", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-08-11T22:20:35Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-08-12T15:15:36Z"}, "message": "enum variant ctor inherits stability of variant", "tree": {"sha": "044217a58322523a31e86203a4d672e2a51ab864", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/044217a58322523a31e86203a4d672e2a51ab864"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b821ce6097812763fd6136a90b42f90a71364e76", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b821ce6097812763fd6136a90b42f90a71364e76", "html_url": "https://github.com/rust-lang/rust/commit/b821ce6097812763fd6136a90b42f90a71364e76", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b821ce6097812763fd6136a90b42f90a71364e76/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "569788e47ee3595c9c6f0e332844d982b3e991c2", "url": "https://api.github.com/repos/rust-lang/rust/commits/569788e47ee3595c9c6f0e332844d982b3e991c2", "html_url": "https://github.com/rust-lang/rust/commit/569788e47ee3595c9c6f0e332844d982b3e991c2"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "3ec270a7c97f636f1cf1dd756696d6efc9023496", "filename": "compiler/rustc_passes/src/stability.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b821ce6097812763fd6136a90b42f90a71364e76/compiler%2Frustc_passes%2Fsrc%2Fstability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b821ce6097812763fd6136a90b42f90a71364e76/compiler%2Frustc_passes%2Fsrc%2Fstability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Fstability.rs?ref=b821ce6097812763fd6136a90b42f90a71364e76", "patch": "@@ -460,7 +460,7 @@ impl<'a, 'tcx> Visitor<'tcx> for Annotator<'a, 'tcx> {\n                         AnnotationKind::Required,\n                         InheritDeprecation::Yes,\n                         InheritConstStability::No,\n-                        InheritStability::No,\n+                        InheritStability::Yes,\n                         |_| {},\n                     );\n                 }"}, {"sha": "74c6023d7fbbd97d0de51e297fe58d641890cd90", "filename": "src/test/ui/stability-attribute/auxiliary/ctor-stability.rs", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b821ce6097812763fd6136a90b42f90a71364e76/src%2Ftest%2Fui%2Fstability-attribute%2Fauxiliary%2Fctor-stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b821ce6097812763fd6136a90b42f90a71364e76/src%2Ftest%2Fui%2Fstability-attribute%2Fauxiliary%2Fctor-stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fauxiliary%2Fctor-stability.rs?ref=b821ce6097812763fd6136a90b42f90a71364e76", "patch": "@@ -0,0 +1,8 @@\n+#![crate_type = \"lib\"]\n+#![feature(staged_api)]\n+#![stable(feature = \"none\", since = \"1.0\")]\n+\n+#[stable(feature = \"none\", since = \"1.0\")]\n+pub enum Foo {\n+    A,\n+}"}, {"sha": "fcab0cb109940a8fed1fe66be4774be1298e598e", "filename": "src/test/ui/stability-attribute/ctor-stability.rs", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b821ce6097812763fd6136a90b42f90a71364e76/src%2Ftest%2Fui%2Fstability-attribute%2Fctor-stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b821ce6097812763fd6136a90b42f90a71364e76/src%2Ftest%2Fui%2Fstability-attribute%2Fctor-stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fctor-stability.rs?ref=b821ce6097812763fd6136a90b42f90a71364e76", "patch": "@@ -0,0 +1,8 @@\n+// aux-build:ctor-stability.rs\n+// check-pass\n+\n+extern crate ctor_stability;\n+\n+fn main() {\n+    let _ = ctor_stability::Foo::A;\n+}"}]}