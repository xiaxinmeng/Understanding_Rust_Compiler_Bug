{"sha": "6f9b3ca346f9b6a878b9ba10eca382f9269fc193", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZmOWIzY2EzNDZmOWI2YTg3OGI5YmExMGVjYTM4MmY5MjY5ZmMxOTM=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-05-25T08:03:32Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-05-25T08:03:32Z"}, "message": "Merge pull request #2800 from phansch/no_deploy_in_integration_tests\n\nDon't run deploy script in integration tests", "tree": {"sha": "a0e3a4fb24943be9d8f6827db419d9f9e4e6f948", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a0e3a4fb24943be9d8f6827db419d9f9e4e6f948"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6f9b3ca346f9b6a878b9ba10eca382f9269fc193", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbB8NUCRBK7hj4Ov3rIwAAdHIIABDxgzY6qrflZq+E9vIdQQ92\nMmkxhl4NiiFURF/W2eXj+UOiEq+eZZ35sIBHkA40kgiLdqZaNiObvK6B9i5mf4gp\nfCvJgDepDwmOlzqDQ/8M533xf5f6Aj0gqy3GCN1009ldZOkGGz+VYnKc2Zf98QFU\nuu7LaAmShAaoC8Z/+Rxln+xdDxmA8eTN40VKc320pW6+5SZzRIpty4M1mPoCHqcH\nuORQZX37Gt+LBfNRB402QPf95i3j9V1m8FGkJY3AoQy0pB8vzYynuFNy+BL4ToYa\ntVV91HS4IXeqVo+F10V/U1zbVqkpbkxlPbFLcQybZiUCq9zugDy/lAk6j5ER0IY=\n=ZDMn\n-----END PGP SIGNATURE-----\n", "payload": "tree a0e3a4fb24943be9d8f6827db419d9f9e4e6f948\nparent b903d1c90235f425d49561ab965795bb133fb46d\nparent 2999be64bcc3d10eac2d0e719294547018f4e43d\nauthor Philipp Hansch <dev@phansch.net> 1527235412 +0200\ncommitter GitHub <noreply@github.com> 1527235412 +0200\n\nMerge pull request #2800 from phansch/no_deploy_in_integration_tests\n\nDon't run deploy script in integration tests"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6f9b3ca346f9b6a878b9ba10eca382f9269fc193", "html_url": "https://github.com/rust-lang/rust/commit/6f9b3ca346f9b6a878b9ba10eca382f9269fc193", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6f9b3ca346f9b6a878b9ba10eca382f9269fc193/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b903d1c90235f425d49561ab965795bb133fb46d", "url": "https://api.github.com/repos/rust-lang/rust/commits/b903d1c90235f425d49561ab965795bb133fb46d", "html_url": "https://github.com/rust-lang/rust/commit/b903d1c90235f425d49561ab965795bb133fb46d"}, {"sha": "2999be64bcc3d10eac2d0e719294547018f4e43d", "url": "https://api.github.com/repos/rust-lang/rust/commits/2999be64bcc3d10eac2d0e719294547018f4e43d", "html_url": "https://github.com/rust-lang/rust/commit/2999be64bcc3d10eac2d0e719294547018f4e43d"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "2d7d46abca3d5052b94c8e9693f93884e406bd31", "filename": ".travis.yml", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6f9b3ca346f9b6a878b9ba10eca382f9269fc193/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/6f9b3ca346f9b6a878b9ba10eca382f9269fc193/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=6f9b3ca346f9b6a878b9ba10eca382f9269fc193", "patch": "@@ -61,7 +61,11 @@ after_success: |\n   #!/bin/bash\n   if [ $(uname) == Linux ]; then\n     set -ex\n-    ./.github/deploy.sh\n+    if [ -z ${INTEGRATION} ]; then\n+      ./.github/deploy.sh\n+    else\n+      echo \"Not deploying, because we're in an integration test run\"\n+    fi\n     # trigger rebuild of the clippy-service, to keep it up to date with clippy itself\n     if [ \"$TRAVIS_PULL_REQUEST\" == \"false\" ] &&\n        [ \"$TRAVIS_REPO_SLUG\" == \"Manishearth/rust-clippy\" ] &&"}]}