{"sha": "2af82f75304b267167ad27368f410b4cb5daf1f5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJhZjgyZjc1MzA0YjI2NzE2N2FkMjczNjhmNDEwYjRjYjVkYWYxZjU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-11-22T01:46:46Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-11-22T01:46:46Z"}, "message": "auto merge of #19117 : jmesmon/rust/mk-cfg-suffix, r=cmr\n\nRight now we'll end up globbing them into the accepted targets and (ever worse) they will override the make variables of real target files because we `include`d everything in that directory.\r\n\r\nAs a side effect, editors get a better hint on file types.", "tree": {"sha": "497af6da048b011d472398926371b07a5bfd8dd1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/497af6da048b011d472398926371b07a5bfd8dd1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2af82f75304b267167ad27368f410b4cb5daf1f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2af82f75304b267167ad27368f410b4cb5daf1f5", "html_url": "https://github.com/rust-lang/rust/commit/2af82f75304b267167ad27368f410b4cb5daf1f5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2af82f75304b267167ad27368f410b4cb5daf1f5/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "81eeec0941f936f0f3de881c3991a74f32fe0625", "url": "https://api.github.com/repos/rust-lang/rust/commits/81eeec0941f936f0f3de881c3991a74f32fe0625", "html_url": "https://github.com/rust-lang/rust/commit/81eeec0941f936f0f3de881c3991a74f32fe0625"}, {"sha": "8581f00249b6d9fdd34b7c1733b18849240dd139", "url": "https://api.github.com/repos/rust-lang/rust/commits/8581f00249b6d9fdd34b7c1733b18849240dd139", "html_url": "https://github.com/rust-lang/rust/commit/8581f00249b6d9fdd34b7c1733b18849240dd139"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "8a6ba86dd475ecf13505e2119ed6de7e42c5a8bb", "filename": "configure", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/configure", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "patch": "@@ -893,7 +893,10 @@ CFG_PREFIX=${CFG_PREFIX%/}\n CFG_MANDIR=${CFG_MANDIR%/}\n CFG_HOST=\"$(echo $CFG_HOST | tr ',' ' ')\"\n CFG_TARGET=\"$(echo $CFG_TARGET | tr ',' ' ')\"\n-CFG_SUPPORTED_TARGET=\"$(ls ${CFG_SRC_DIR}mk/cfg)\"\n+CFG_SUPPORTED_TARGET=\"\"\n+for target_file in ${CFG_SRC_DIR}mk/cfg/*.mk; do\n+  CFG_SUPPORTED_TARGET=\"${CFG_SUPPORTED_TARGET} $(basename \"$target_file\" .mk)\"\n+done\n \n # copy host-triples to target-triples so that hosts are a subset of targets\n V_TEMP=\"\""}, {"sha": "d1f1ee6f3bdb42b88b0248baeb86319180f055f0", "filename": "mk/cfg/arm-apple-ios.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Farm-apple-ios.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Farm-apple-ios.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Farm-apple-ios.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/arm-apple-ios"}, {"sha": "471220e2b6618ae08bb6726c0489b39ed3b5c358", "filename": "mk/cfg/arm-linux-androideabi.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Farm-linux-androideabi.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Farm-linux-androideabi.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Farm-linux-androideabi.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/arm-linux-androideabi"}, {"sha": "b4c604b26bae04eda24ecf4b801c37fc55489e67", "filename": "mk/cfg/arm-unknown-linux-gnueabi.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Farm-unknown-linux-gnueabi.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Farm-unknown-linux-gnueabi.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Farm-unknown-linux-gnueabi.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/arm-unknown-linux-gnueabi"}, {"sha": "4f02de0f6b5e67893d589ffea47831a22b6a3d38", "filename": "mk/cfg/arm-unknown-linux-gnueabihf.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Farm-unknown-linux-gnueabihf.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Farm-unknown-linux-gnueabihf.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Farm-unknown-linux-gnueabihf.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/arm-unknown-linux-gnueabihf"}, {"sha": "63eb590c6e4f6962a8f67487c9554acfbe728992", "filename": "mk/cfg/i386-apple-ios.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fi386-apple-ios.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fi386-apple-ios.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fi386-apple-ios.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/i386-apple-ios"}, {"sha": "e935ce053e02aa273b0423522cd427446d89a326", "filename": "mk/cfg/i686-apple-darwin.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fi686-apple-darwin.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fi686-apple-darwin.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fi686-apple-darwin.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/i686-apple-darwin"}, {"sha": "ecb405b76f0109634d007b91eff1ced4596ac964", "filename": "mk/cfg/i686-pc-windows-gnu.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fi686-pc-windows-gnu.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fi686-pc-windows-gnu.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fi686-pc-windows-gnu.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/i686-pc-windows-gnu"}, {"sha": "1cc9c143e8d470860a269334b94929f10bcfc934", "filename": "mk/cfg/i686-unknown-linux-gnu.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fi686-unknown-linux-gnu.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fi686-unknown-linux-gnu.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fi686-unknown-linux-gnu.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/i686-unknown-linux-gnu"}, {"sha": "c5d84966f8526f332b2a19b3d3ab3c00e1eb88b7", "filename": "mk/cfg/mips-unknown-linux-gnu.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fmips-unknown-linux-gnu.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fmips-unknown-linux-gnu.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fmips-unknown-linux-gnu.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/mips-unknown-linux-gnu"}, {"sha": "eb2f300abffd8072665fab3d8c68ac8a527ee6e9", "filename": "mk/cfg/mipsel-unknown-linux-gnu.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fmipsel-unknown-linux-gnu.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fmipsel-unknown-linux-gnu.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fmipsel-unknown-linux-gnu.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/mipsel-unknown-linux-gnu"}, {"sha": "dbd67542ab75a08c994c27454a6189ba8297ef3c", "filename": "mk/cfg/x86_64-apple-darwin.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fx86_64-apple-darwin.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fx86_64-apple-darwin.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fx86_64-apple-darwin.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/x86_64-apple-darwin"}, {"sha": "a23e292c7bd5d8cd255ee34c8760b6972a1dc453", "filename": "mk/cfg/x86_64-pc-windows-gnu.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fx86_64-pc-windows-gnu.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fx86_64-pc-windows-gnu.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fx86_64-pc-windows-gnu.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/x86_64-pc-windows-gnu"}, {"sha": "05414c79dd78e80be17d814240ee210c60fa33ab", "filename": "mk/cfg/x86_64-unknown-dragonfly.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fx86_64-unknown-dragonfly.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fx86_64-unknown-dragonfly.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fx86_64-unknown-dragonfly.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/x86_64-unknown-dragonfly"}, {"sha": "4e847ea78a717e13f258003aa3b56447a837cc29", "filename": "mk/cfg/x86_64-unknown-freebsd.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fx86_64-unknown-freebsd.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fx86_64-unknown-freebsd.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fx86_64-unknown-freebsd.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/x86_64-unknown-freebsd"}, {"sha": "845f9c1c52d19fedb6aeef1c3bb362bfad9ce342", "filename": "mk/cfg/x86_64-unknown-linux-gnu.mk", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fx86_64-unknown-linux-gnu.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fcfg%2Fx86_64-unknown-linux-gnu.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fx86_64-unknown-linux-gnu.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "previous_filename": "mk/cfg/x86_64-unknown-linux-gnu"}, {"sha": "7ca24736cb8593b27eb916b3f50902dcef15c1cd", "filename": "mk/platform.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fplatform.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2af82f75304b267167ad27368f410b4cb5daf1f5/mk%2Fplatform.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fplatform.mk?ref=2af82f75304b267167ad27368f410b4cb5daf1f5", "patch": "@@ -113,7 +113,7 @@ $(foreach cvar,CC CXX CPP CFLAGS CXXFLAGS CPPFLAGS, \\\n \n CFG_RLIB_GLOB=lib$(1)-*.rlib\n \n-include $(wildcard $(CFG_SRC_DIR)mk/cfg/*)\n+include $(wildcard $(CFG_SRC_DIR)mk/cfg/*.mk)\n \n # The -Qunused-arguments sidesteps spurious warnings from clang\n define FILTER_FLAGS"}]}