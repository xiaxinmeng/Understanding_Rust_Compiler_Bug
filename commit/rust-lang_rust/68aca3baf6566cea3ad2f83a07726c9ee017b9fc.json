{"sha": "68aca3baf6566cea3ad2f83a07726c9ee017b9fc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY4YWNhM2JhZjY1NjZjZWEzYWQyZjgzYTA3NzI2YzllZTAxN2I5ZmM=", "commit": {"author": {"name": "Ayaz Hafiz", "email": "ayaz.hafiz.1@gmail.com", "date": "2020-07-15T01:13:51Z"}, "committer": {"name": "Ayaz Hafiz", "email": "ayaz.hafiz.1@gmail.com", "date": "2020-07-15T01:13:51Z"}, "message": "fixup! fixup! Don't visit foreign function bodies when lowering ast to hir", "tree": {"sha": "4173eea87f5fee6154c68cfcfd638db011381885", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4173eea87f5fee6154c68cfcfd638db011381885"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/68aca3baf6566cea3ad2f83a07726c9ee017b9fc", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEP1kDyr3I3sjT29nTtEP3owMMmu0FAl8OWE8ACgkQtEP3owMM\nmu1XwA//VIUL+rES7TsxDgsZ/NtYZJgWoVEfhP+tMf1tlzNapNTF/OGrLkEKQv3c\nj1kaSJRuZhfDArYh/YcXnkDuS+uWgLRhYFN54mUZGaWyiAqhvFxGJbjcH1+7aplb\nt8F5YFKYOZ74KZvx1wNPooxGpGs4TfWpSJJFFrZxRJaTAEQXBYlQdr/UUDZWLghr\noRgvU5xZnHy14PXclcNUbzPEmLtbWzfHYv6q4MlYYGaq6iKDLLYNf3K4+ygZ27gK\n2bDiYUODAAzeOuIzqzAW3UBs0w16+82CLzi+rRYe0bkNwEIZyMIX1UM66W8q7pdM\ns2ytp3PwBqtYmIbuobaDN1e2CrWaFYo8ZhZecrED5wwZc3Bf0NJh4U2td0SRM9vt\nP53/KclKF2tqll9xXogEHgTallH4lncW/YEUQJn9BjVqv5bnivHHAp3EMgnj+pvx\nPyXx8n4zp5XXYgyuAlb0dM/bZgqYxpDMxU19C8VrXm/lmtB/SMOQhIV7SRJb1/K2\n7obshePTEQCTxBugIQyLrITjzBzAA9V7Hql7gsChKDlH1KhO/5hWrbbPZdlqwBwS\ncJL1MBL3zcKQZQrxGLiSTwfCcqG2gIy8oFlSFw99/svGdNPVU8hxueyBb89YlVPF\nsgUG/Gdh1p632usy71+U1jEEWHTjVpAyy6QZYCz5tpcmSyE1hy8=\n=gKai\n-----END PGP SIGNATURE-----", "payload": "tree 4173eea87f5fee6154c68cfcfd638db011381885\nparent ab4275cddc3749caf9f20373eb812e6f09bd3309\nauthor Ayaz Hafiz <ayaz.hafiz.1@gmail.com> 1594775631 -0700\ncommitter Ayaz Hafiz <ayaz.hafiz.1@gmail.com> 1594775631 -0700\n\nfixup! fixup! Don't visit foreign function bodies when lowering ast to hir\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/68aca3baf6566cea3ad2f83a07726c9ee017b9fc", "html_url": "https://github.com/rust-lang/rust/commit/68aca3baf6566cea3ad2f83a07726c9ee017b9fc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/68aca3baf6566cea3ad2f83a07726c9ee017b9fc/comments", "author": {"login": "ayazhafiz", "id": 20735482, "node_id": "MDQ6VXNlcjIwNzM1NDgy", "avatar_url": "https://avatars.githubusercontent.com/u/20735482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayazhafiz", "html_url": "https://github.com/ayazhafiz", "followers_url": "https://api.github.com/users/ayazhafiz/followers", "following_url": "https://api.github.com/users/ayazhafiz/following{/other_user}", "gists_url": "https://api.github.com/users/ayazhafiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayazhafiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayazhafiz/subscriptions", "organizations_url": "https://api.github.com/users/ayazhafiz/orgs", "repos_url": "https://api.github.com/users/ayazhafiz/repos", "events_url": "https://api.github.com/users/ayazhafiz/events{/privacy}", "received_events_url": "https://api.github.com/users/ayazhafiz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ayazhafiz", "id": 20735482, "node_id": "MDQ6VXNlcjIwNzM1NDgy", "avatar_url": "https://avatars.githubusercontent.com/u/20735482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayazhafiz", "html_url": "https://github.com/ayazhafiz", "followers_url": "https://api.github.com/users/ayazhafiz/followers", "following_url": "https://api.github.com/users/ayazhafiz/following{/other_user}", "gists_url": "https://api.github.com/users/ayazhafiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayazhafiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayazhafiz/subscriptions", "organizations_url": "https://api.github.com/users/ayazhafiz/orgs", "repos_url": "https://api.github.com/users/ayazhafiz/repos", "events_url": "https://api.github.com/users/ayazhafiz/events{/privacy}", "received_events_url": "https://api.github.com/users/ayazhafiz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ab4275cddc3749caf9f20373eb812e6f09bd3309", "url": "https://api.github.com/repos/rust-lang/rust/commits/ab4275cddc3749caf9f20373eb812e6f09bd3309", "html_url": "https://github.com/rust-lang/rust/commit/ab4275cddc3749caf9f20373eb812e6f09bd3309"}], "stats": {"total": 12, "additions": 2, "deletions": 10}, "files": [{"sha": "306b599e64b450fbfa46c9fd26cd754700dd9aa9", "filename": "src/librustc_ast_lowering/item.rs", "status": "modified", "additions": 2, "deletions": 10, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/68aca3baf6566cea3ad2f83a07726c9ee017b9fc/src%2Flibrustc_ast_lowering%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68aca3baf6566cea3ad2f83a07726c9ee017b9fc/src%2Flibrustc_ast_lowering%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_ast_lowering%2Fitem.rs?ref=68aca3baf6566cea3ad2f83a07726c9ee017b9fc", "patch": "@@ -77,21 +77,13 @@ impl<'a> Visitor<'a> for ItemLowerer<'a, '_, '_> {\n         }\n     }\n \n-    fn visit_fn(&mut self, fk: FnKind<'a>, _: Span, _: NodeId) {\n+    fn visit_fn(&mut self, fk: FnKind<'a>, sp: Span, _: NodeId) {\n         match fk {\n             FnKind::Fn(FnCtxt::Foreign, _, sig, _, _) => {\n                 self.visit_fn_header(&sig.header);\n                 visit::walk_fn_decl(self, &sig.decl);\n             }\n-            FnKind::Fn(_, _, sig, _, body) => {\n-                self.visit_fn_header(&sig.header);\n-                visit::walk_fn_decl(self, &sig.decl);\n-                walk_list!(self, visit_block, body);\n-            }\n-            FnKind::Closure(decl, body) => {\n-                visit::walk_fn_decl(self, decl);\n-                self.visit_expr(body);\n-            }\n+            _ => visit::walk_fn(self, fk, sp),\n         }\n     }\n "}]}