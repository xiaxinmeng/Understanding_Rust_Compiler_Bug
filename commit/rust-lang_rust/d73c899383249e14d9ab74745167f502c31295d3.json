{"sha": "d73c899383249e14d9ab74745167f502c31295d3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ3M2M4OTkzODMyNDllMTRkOWFiNzQ3NDUxNjdmNTAyYzMxMjk1ZDM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-03-16T10:21:21Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-03-16T10:21:21Z"}, "message": "auto merge of #12929 : sfackler/rust/automatically-derived, r=cmr\n\nThis will enable rustdoc to treat them specially.\r\n\r\nI also got rid of `std::cmp::cmp2`, which is isomorphic to the `TotalOrd` impl for 2-tuples and never used.", "tree": {"sha": "ac69b78ef047e6c62c13a0a2b66301a5390ed474", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ac69b78ef047e6c62c13a0a2b66301a5390ed474"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d73c899383249e14d9ab74745167f502c31295d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d73c899383249e14d9ab74745167f502c31295d3", "html_url": "https://github.com/rust-lang/rust/commit/d73c899383249e14d9ab74745167f502c31295d3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d73c899383249e14d9ab74745167f502c31295d3/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d956975e7d92f56ebfa6133c45af62d024b888df", "url": "https://api.github.com/repos/rust-lang/rust/commits/d956975e7d92f56ebfa6133c45af62d024b888df", "html_url": "https://github.com/rust-lang/rust/commit/d956975e7d92f56ebfa6133c45af62d024b888df"}, {"sha": "05c73233e40dad982a87f210273be15824fdab57", "url": "https://api.github.com/repos/rust-lang/rust/commits/05c73233e40dad982a87f210273be15824fdab57", "html_url": "https://github.com/rust-lang/rust/commit/05c73233e40dad982a87f210273be15824fdab57"}], "stats": {"total": 34, "additions": 5, "deletions": 29}, "files": [{"sha": "9a6ea297af096210d81930226b2cfa6bb8256464", "filename": "src/librustc/middle/lint.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d73c899383249e14d9ab74745167f502c31295d3/src%2Flibrustc%2Fmiddle%2Flint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d73c899383249e14d9ab74745167f502c31295d3/src%2Flibrustc%2Fmiddle%2Flint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Flint.rs?ref=d73c899383249e14d9ab74745167f502c31295d3", "patch": "@@ -985,7 +985,7 @@ static other_attrs: &'static [&'static str] = &[\n     \"crate_map\", \"cfg\", \"doc\", \"export_name\", \"link_section\",\n     \"no_mangle\", \"static_assert\", \"unsafe_no_drop_flag\", \"packed\",\n     \"simd\", \"repr\", \"deriving\", \"unsafe_destructor\", \"link\", \"phase\",\n-    \"macro_export\", \"must_use\",\n+    \"macro_export\", \"must_use\", \"automatically_derived\",\n \n     //mod-level\n     \"path\", \"link_name\", \"link_args\", \"macro_escape\", \"no_implicit_prelude\","}, {"sha": "5130da44ed5779859bd32481090d5e51a224bf5d", "filename": "src/libstd/cmp.rs", "status": "modified", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/d73c899383249e14d9ab74745167f502c31295d3/src%2Flibstd%2Fcmp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d73c899383249e14d9ab74745167f502c31295d3/src%2Flibstd%2Fcmp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcmp.rs?ref=d73c899383249e14d9ab74745167f502c31295d3", "patch": "@@ -130,18 +130,6 @@ totalord_impl!(uint)\n \n totalord_impl!(char)\n \n-/// Compares (a1, b1) against (a2, b2), where the a values are more significant.\n-pub fn cmp2<A:TotalOrd,B:TotalOrd>(\n-    a1: &A, b1: &B,\n-    a2: &A, b2: &B) -> Ordering\n-{\n-    match a1.cmp(a2) {\n-        Less => Less,\n-        Greater => Greater,\n-        Equal => b1.cmp(b2)\n-    }\n-}\n-\n /**\n Return `o1` if it is not `Equal`, otherwise `o2`. Simulates the\n lexical ordering on a type `(int, int)`.\n@@ -206,14 +194,6 @@ mod test {\n         assert_eq!(12.cmp(-5), Greater);\n     }\n \n-    #[test]\n-    fn test_cmp2() {\n-        assert_eq!(cmp2(1, 2, 3, 4), Less);\n-        assert_eq!(cmp2(3, 2, 3, 4), Less);\n-        assert_eq!(cmp2(5, 2, 3, 4), Greater);\n-        assert_eq!(cmp2(5, 5, 5, 4), Greater);\n-    }\n-\n     #[test]\n     fn test_int_totaleq() {\n         assert!(5.equals(&5));"}, {"sha": "2a828cd58003c0cf4fe2f4fd4c2d149323738caa", "filename": "src/libsyntax/ext/deriving/generic.rs", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/d73c899383249e14d9ab74745167f502c31295d3/src%2Flibsyntax%2Fext%2Fderiving%2Fgeneric.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d73c899383249e14d9ab74745167f502c31295d3/src%2Flibsyntax%2Fext%2Fderiving%2Fgeneric.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fderiving%2Fgeneric.rs?ref=d73c899383249e14d9ab74745167f502c31295d3", "patch": "@@ -186,7 +186,6 @@ use codemap;\n use codemap::Span;\n use opt_vec;\n use parse::token::InternedString;\n-use parse::token;\n \n use std::vec_ng::Vec;\n use std::vec_ng;\n@@ -399,19 +398,16 @@ impl<'a> TraitDef<'a> {\n             cx.path_all(self.span, false, vec!( type_ident ), self_lifetimes,\n                         opt_vec::take_vec(self_ty_params)), None);\n \n-        let doc_attr = cx.attribute(\n+        let attr = cx.attribute(\n             self.span,\n-            cx.meta_name_value(self.span,\n-                               InternedString::new(\"doc\"),\n-                               ast::LitStr(token::intern_and_get_ident(\n-                                               \"Automatically derived.\"),\n-                                           ast::CookedStr)));\n+            cx.meta_word(self.span,\n+                         InternedString::new(\"automatically_derived\")));\n         let opt_trait_ref = Some(trait_ref);\n         let ident = ast_util::impl_pretty_name(&opt_trait_ref, self_type);\n         cx.item(\n             self.span,\n             ident,\n-            vec_ng::append(vec!(doc_attr), self.attributes.as_slice()),\n+            vec_ng::append(vec!(attr), self.attributes.as_slice()),\n             ast::ItemImpl(trait_generics, opt_trait_ref,\n                           self_type, methods.map(|x| *x)))\n     }"}]}