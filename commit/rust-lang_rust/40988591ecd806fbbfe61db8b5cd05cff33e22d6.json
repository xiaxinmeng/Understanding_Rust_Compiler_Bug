{"sha": "40988591ecd806fbbfe61db8b5cd05cff33e22d6", "node_id": "C_kwDOAAsO6NoAKDQwOTg4NTkxZWNkODA2ZmJiZmU2MWRiOGI1Y2QwNWNmZjMzZTIyZDY", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2021-12-10T21:40:36Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-12-10T21:40:36Z"}, "message": "Rollup merge of #91625 - est31:remove_indexes, r=oli-obk\n\nRemove redundant [..]s", "tree": {"sha": "5c5e486f63cb5c203d88fb5274b1639abf7a986f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5c5e486f63cb5c203d88fb5274b1639abf7a986f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/40988591ecd806fbbfe61db8b5cd05cff33e22d6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhs8lUCRBK7hj4Ov3rIwAAc0oIABFO8Pv8WKMZVF03irk08m3s\nTBkXmm6z0IvUktdC5Ro9h/kWF6XQGPUlmrD5x2K20uKxaLTtElBEKoSlkgIS2ppA\nvfOev3uDrcIbcnqTqvGf/viTj1N9u1kNCK833c0+3E3dU+pNpBj5lxjr9PtZZzKM\n+CsYvj0GeoWCoVLT2VewxRsi+Jm3tqNfSf9LdF1nzCsn95JPhyrkiUpfQ09BlHYr\nuO6ssWc862MqFLbamRAOF5zp2b0xmfhDeZVTF6RlFVwflzuXoBaIf88yHnT5heLG\nLHfxScwh8LOAkEumn/v0Gmym3sSfRZbCOAP7GrkX9bHEZKrlIY/1XzlNy+Ao9tw=\n=L0kn\n-----END PGP SIGNATURE-----\n", "payload": "tree 5c5e486f63cb5c203d88fb5274b1639abf7a986f\nparent 6cfe9af6a074b842198176d21170e49ee0cc6add\nparent 15de4cbc4b49be2fbf082fe02f877d5f774569a5\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1639172436 +0100\ncommitter GitHub <noreply@github.com> 1639172436 +0100\n\nRollup merge of #91625 - est31:remove_indexes, r=oli-obk\n\nRemove redundant [..]s\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/40988591ecd806fbbfe61db8b5cd05cff33e22d6", "html_url": "https://github.com/rust-lang/rust/commit/40988591ecd806fbbfe61db8b5cd05cff33e22d6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/40988591ecd806fbbfe61db8b5cd05cff33e22d6/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6cfe9af6a074b842198176d21170e49ee0cc6add", "url": "https://api.github.com/repos/rust-lang/rust/commits/6cfe9af6a074b842198176d21170e49ee0cc6add", "html_url": "https://github.com/rust-lang/rust/commit/6cfe9af6a074b842198176d21170e49ee0cc6add"}, {"sha": "15de4cbc4b49be2fbf082fe02f877d5f774569a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/15de4cbc4b49be2fbf082fe02f877d5f774569a5", "html_url": "https://github.com/rust-lang/rust/commit/15de4cbc4b49be2fbf082fe02f877d5f774569a5"}], "stats": {"total": 250, "additions": 123, "deletions": 127}, "files": [{"sha": "8a41aec081901dda1593ebbf098cb7489aec0fb8", "filename": "compiler/rustc_ast/src/util/literal.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_ast%2Fsrc%2Futil%2Fliteral.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_ast%2Fsrc%2Futil%2Fliteral.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast%2Fsrc%2Futil%2Fliteral.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -57,7 +57,7 @@ impl LitKind {\n                 // string in the token.\n                 let s = symbol.as_str();\n                 let symbol =\n-                    if s.contains(&['\\\\', '\\r'][..]) {\n+                    if s.contains(&['\\\\', '\\r']) {\n                         let mut buf = String::with_capacity(s.len());\n                         let mut error = Ok(());\n                         unescape_literal(&s, Mode::Str, &mut |_, unescaped_char| {"}, {"sha": "5eaec79c4ed0ccbdcf448b6f0192dceee7d380b6", "filename": "compiler/rustc_ast_passes/src/feature_gate.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -347,7 +347,7 @@ impl<'a> Visitor<'a> for PostExpansionVisitor<'a> {\n \n                     if let Some(modifiers) = nested_meta.value_str() {\n                         for modifier in modifiers.as_str().split(',') {\n-                            if let Some(modifier) = modifier.strip_prefix(&['+', '-'][..]) {\n+                            if let Some(modifier) = modifier.strip_prefix(&['+', '-']) {\n                                 macro_rules! gate_modifier { ($($name:literal => $feature:ident)*) => {\n                                     $(if modifier == $name {\n                                         let msg = concat!(\"`#[link(modifiers=\\\"\", $name, \"\\\")]` is unstable\");\n@@ -383,7 +383,7 @@ impl<'a> Visitor<'a> for PostExpansionVisitor<'a> {\n             }\n \n             ast::ItemKind::Fn(..) => {\n-                if self.sess.contains_name(&i.attrs[..], sym::start) {\n+                if self.sess.contains_name(&i.attrs, sym::start) {\n                     gate_feature_post!(\n                         &self,\n                         start,\n@@ -396,7 +396,7 @@ impl<'a> Visitor<'a> for PostExpansionVisitor<'a> {\n             }\n \n             ast::ItemKind::Struct(..) => {\n-                for attr in self.sess.filter_by_name(&i.attrs[..], sym::repr) {\n+                for attr in self.sess.filter_by_name(&i.attrs, sym::repr) {\n                     for item in attr.meta_item_list().unwrap_or_else(Vec::new) {\n                         if item.has_name(sym::simd) {\n                             gate_feature_post!("}, {"sha": "2e51144769359130abd10c97c7941fe774268b64", "filename": "compiler/rustc_ast_pretty/src/pprust/state.rs", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -499,7 +499,7 @@ pub trait PrintState<'a>: std::ops::Deref<Target = pp::Printer> + std::ops::Dere\n             ast::MetaItemKind::List(ref items) => {\n                 self.print_path(&item.path, false, 0);\n                 self.popen();\n-                self.commasep(Consistent, &items[..], |s, i| s.print_meta_list_item(i));\n+                self.commasep(Consistent, &items, |s, i| s.print_meta_list_item(i));\n                 self.pclose();\n             }\n         }\n@@ -997,7 +997,7 @@ impl<'a> State<'a> {\n             }\n             ast::TyKind::Tup(ref elts) => {\n                 self.popen();\n-                self.commasep(Inconsistent, &elts[..], |s, ty| s.print_type(ty));\n+                self.commasep(Inconsistent, &elts, |s, ty| s.print_type(ty));\n                 if elts.len() == 1 {\n                     self.word(\",\");\n                 }\n@@ -1017,10 +1017,10 @@ impl<'a> State<'a> {\n             ast::TyKind::Path(Some(ref qself), ref path) => self.print_qpath(path, qself, false),\n             ast::TyKind::TraitObject(ref bounds, syntax) => {\n                 let prefix = if syntax == ast::TraitObjectSyntax::Dyn { \"dyn\" } else { \"\" };\n-                self.print_type_bounds(prefix, &bounds[..]);\n+                self.print_type_bounds(prefix, &bounds);\n             }\n             ast::TyKind::ImplTrait(_, ref bounds) => {\n-                self.print_type_bounds(\"impl\", &bounds[..]);\n+                self.print_type_bounds(\"impl\", &bounds);\n             }\n             ast::TyKind::Array(ref ty, ref length) => {\n                 self.word(\"[\");\n@@ -1339,7 +1339,7 @@ impl<'a> State<'a> {\n                         real_bounds.push(b.clone());\n                     }\n                 }\n-                self.print_type_bounds(\":\", &real_bounds[..]);\n+                self.print_type_bounds(\":\", &real_bounds);\n                 self.print_where_clause(&generics.where_clause);\n                 self.word(\" \");\n                 self.bopen();\n@@ -1368,7 +1368,7 @@ impl<'a> State<'a> {\n                     }\n                 }\n                 self.nbsp();\n-                self.print_type_bounds(\"=\", &real_bounds[..]);\n+                self.print_type_bounds(\"=\", &real_bounds);\n                 self.print_where_clause(&generics.where_clause);\n                 self.word(\";\");\n             }\n@@ -1960,10 +1960,10 @@ impl<'a> State<'a> {\n                 self.print_expr_tup(exprs);\n             }\n             ast::ExprKind::Call(ref func, ref args) => {\n-                self.print_expr_call(func, &args[..]);\n+                self.print_expr_call(func, &args);\n             }\n             ast::ExprKind::MethodCall(ref segment, ref args, _) => {\n-                self.print_expr_method_call(segment, &args[..]);\n+                self.print_expr_method_call(segment, &args);\n             }\n             ast::ExprKind::Binary(op, ref lhs, ref rhs) => {\n                 self.print_expr_binary(op, lhs, rhs);\n@@ -2440,11 +2440,11 @@ impl<'a> State<'a> {\n                     self.print_path(path, true, 0);\n                 }\n                 self.popen();\n-                self.commasep(Inconsistent, &elts[..], |s, p| s.print_pat(p));\n+                self.commasep(Inconsistent, &elts, |s, p| s.print_pat(p));\n                 self.pclose();\n             }\n             PatKind::Or(ref pats) => {\n-                self.strsep(\"|\", true, Inconsistent, &pats[..], |s, p| s.print_pat(p));\n+                self.strsep(\"|\", true, Inconsistent, &pats, |s, p| s.print_pat(p));\n             }\n             PatKind::Path(None, ref path) => {\n                 self.print_path(path, true, 0);\n@@ -2462,7 +2462,7 @@ impl<'a> State<'a> {\n                 self.word_space(\"{\");\n                 self.commasep_cmnt(\n                     Consistent,\n-                    &fields[..],\n+                    &fields,\n                     |s, f| {\n                         s.cbox(INDENT_UNIT);\n                         if !f.is_shorthand {\n@@ -2485,7 +2485,7 @@ impl<'a> State<'a> {\n             }\n             PatKind::Tuple(ref elts) => {\n                 self.popen();\n-                self.commasep(Inconsistent, &elts[..], |s, p| s.print_pat(p));\n+                self.commasep(Inconsistent, &elts, |s, p| s.print_pat(p));\n                 if elts.len() == 1 {\n                     self.word(\",\");\n                 }\n@@ -2527,7 +2527,7 @@ impl<'a> State<'a> {\n             }\n             PatKind::Slice(ref elts) => {\n                 self.word(\"[\");\n-                self.commasep(Inconsistent, &elts[..], |s, p| s.print_pat(p));\n+                self.commasep(Inconsistent, &elts, |s, p| s.print_pat(p));\n                 self.word(\"]\");\n             }\n             PatKind::Rest => self.word(\"..\"),\n@@ -2836,7 +2836,7 @@ impl<'a> State<'a> {\n                     self.print_path(&tree.prefix, false, 0);\n                     self.word(\"::{\");\n                 }\n-                self.commasep(Inconsistent, &items[..], |this, &(ref tree, _)| {\n+                self.commasep(Inconsistent, &items, |this, &(ref tree, _)| {\n                     this.print_use_tree(tree)\n                 });\n                 self.word(\"}\");"}, {"sha": "9ae1584fcbf6a8ae9a7879760b3d90f1e839c8de", "filename": "compiler/rustc_builtin_macros/src/asm.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_builtin_macros%2Fsrc%2Fasm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_builtin_macros%2Fsrc%2Fasm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_builtin_macros%2Fsrc%2Fasm.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -712,7 +712,7 @@ fn expand_preparsed_asm(ecx: &mut ExtCtxt<'_>, args: AsmArgs) -> Option<ast::Inl\n                             Some(&idx) => Some(idx),\n                             None => {\n                                 let msg = format!(\"there is no argument named `{}`\", name);\n-                                ecx.struct_span_err(span, &msg[..]).emit();\n+                                ecx.struct_span_err(span, &msg).emit();\n                                 None\n                             }\n                         },"}, {"sha": "985c45e2253880d02a9f8910f688e6526f6a1721", "filename": "compiler/rustc_builtin_macros/src/deriving/generic/mod.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_builtin_macros%2Fsrc%2Fderiving%2Fgeneric%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_builtin_macros%2Fsrc%2Fderiving%2Fgeneric%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_builtin_macros%2Fsrc%2Fderiving%2Fgeneric%2Fmod.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -766,17 +766,17 @@ impl<'a> TraitDef<'a> {\n                         self,\n                         struct_def,\n                         type_ident,\n-                        &self_args[..],\n-                        &nonself_args[..],\n+                        &self_args,\n+                        &nonself_args,\n                     )\n                 } else {\n                     method_def.expand_struct_method_body(\n                         cx,\n                         self,\n                         struct_def,\n                         type_ident,\n-                        &self_args[..],\n-                        &nonself_args[..],\n+                        &self_args,\n+                        &nonself_args,\n                         use_temporaries,\n                     )\n                 };\n@@ -815,8 +815,8 @@ impl<'a> TraitDef<'a> {\n                         self,\n                         enum_def,\n                         type_ident,\n-                        &self_args[..],\n-                        &nonself_args[..],\n+                        &self_args,\n+                        &nonself_args,\n                     )\n                 } else {\n                     method_def.expand_enum_method_body(\n@@ -825,7 +825,7 @@ impl<'a> TraitDef<'a> {\n                         enum_def,\n                         type_ident,\n                         self_args,\n-                        &nonself_args[..],\n+                        &nonself_args,\n                     )\n                 };\n \n@@ -1217,7 +1217,7 @@ impl<'a> MethodDef<'a> {\n         let vi_idents = self_arg_names\n             .iter()\n             .map(|name| {\n-                let vi_suffix = format!(\"{}_vi\", &name[..]);\n+                let vi_suffix = format!(\"{}_vi\", name);\n                 Ident::from_str_and_span(&vi_suffix, span)\n             })\n             .collect::<Vec<Ident>>();\n@@ -1226,7 +1226,7 @@ impl<'a> MethodDef<'a> {\n         // delegated expression that handles the catch-all case,\n         // using `__variants_tuple` to drive logic if necessary.\n         let catch_all_substructure =\n-            EnumNonMatchingCollapsed(self_arg_idents, &variants[..], &vi_idents[..]);\n+            EnumNonMatchingCollapsed(self_arg_idents, &variants, &vi_idents);\n \n         let first_fieldless = variants.iter().find(|v| v.data.fields().is_empty());\n \n@@ -1261,7 +1261,7 @@ impl<'a> MethodDef<'a> {\n                     idents\n                 };\n                 for self_arg_name in &self_arg_names[1..] {\n-                    let (p, idents) = mk_self_pat(cx, &self_arg_name[..]);\n+                    let (p, idents) = mk_self_pat(cx, &self_arg_name);\n                     subpats.push(p);\n                     self_pats_idents.push(idents);\n                 }"}, {"sha": "cd16172fa3132d58c0bdfda8eaef4e9555b575e1", "filename": "compiler/rustc_builtin_macros/src/format.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_builtin_macros%2Fsrc%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_builtin_macros%2Fsrc%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_builtin_macros%2Fsrc%2Fformat.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -549,7 +549,7 @@ impl<'a, 'b> Context<'a, 'b> {\n                             } else {\n                                 self.fmtsp\n                             };\n-                            let mut err = self.ecx.struct_span_err(sp, &msg[..]);\n+                            let mut err = self.ecx.struct_span_err(sp, &msg);\n \n                             err.note(&format!(\n                                 \"did you intend to capture a variable `{}` from \\"}, {"sha": "4962d0161525631d28dc2adb19655c3e24ae8725", "filename": "compiler/rustc_codegen_gcc/src/back/write.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_gcc%2Fsrc%2Fback%2Fwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_gcc%2Fsrc%2Fback%2Fwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_gcc%2Fsrc%2Fback%2Fwrite.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -32,7 +32,7 @@ pub(crate) unsafe fn codegen(cgcx: &CodegenContext<GccCodegenBackend>, _diag_han\n         if config.emit_asm {\n             let _timer = cgcx\n                 .prof\n-                .generic_activity_with_arg(\"LLVM_module_codegen_emit_asm\", &module.name[..]);\n+                .generic_activity_with_arg(\"LLVM_module_codegen_emit_asm\", &*module.name);\n             let path = cgcx.output_filenames.temp_path(OutputType::Assembly, module_name);\n             context.compile_to_file(OutputKind::Assembler, path.to_str().expect(\"path to str\"));\n         }\n@@ -41,7 +41,7 @@ pub(crate) unsafe fn codegen(cgcx: &CodegenContext<GccCodegenBackend>, _diag_han\n             EmitObj::ObjectCode(_) => {\n                 let _timer = cgcx\n                     .prof\n-                    .generic_activity_with_arg(\"LLVM_module_codegen_emit_obj\", &module.name[..]);\n+                    .generic_activity_with_arg(\"LLVM_module_codegen_emit_obj\", &*module.name);\n                 match &*module.name {\n                     \"std_example.7rcbfp3g-cgu.15\" => {\n                         println!(\"Dumping reproducer {}\", module.name);"}, {"sha": "ee31f2e60a97ebbcc31f43a6b5db012d17680607", "filename": "compiler/rustc_codegen_llvm/src/asm.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fasm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fasm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fasm.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -477,7 +477,7 @@ pub(crate) fn inline_asm_call(\n         .collect::<Vec<_>>();\n \n     debug!(\"Asm Output Type: {:?}\", output);\n-    let fty = bx.cx.type_func(&argtys[..], output);\n+    let fty = bx.cx.type_func(&argtys, output);\n     unsafe {\n         // Ask LLVM to verify that the constraints are well-formed.\n         let constraints_ok = llvm::LLVMRustInlineAsmVerify(fty, cons.as_ptr().cast(), cons.len());"}, {"sha": "f6c40f1689e9e1da6537d073839d5fa5f95ab96c", "filename": "compiler/rustc_codegen_llvm/src/back/lto.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fback%2Flto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fback%2Flto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fback%2Flto.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -587,7 +587,7 @@ pub(crate) fn run_pass_manager(\n     config: &ModuleConfig,\n     thin: bool,\n ) -> Result<(), FatalError> {\n-    let _timer = cgcx.prof.extra_verbose_generic_activity(\"LLVM_lto_optimize\", &module.name[..]);\n+    let _timer = cgcx.prof.extra_verbose_generic_activity(\"LLVM_lto_optimize\", &*module.name);\n \n     // Now we have one massive module inside of llmod. Time to run the\n     // LTO-specific optimization passes that LLVM provides."}, {"sha": "fa4fad30830d9c54ae96ba13d860fecc195c6c3f", "filename": "compiler/rustc_codegen_llvm/src/back/write.rs", "status": "modified", "additions": 16, "deletions": 20, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fback%2Fwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fback%2Fwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fback%2Fwrite.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -510,7 +510,7 @@ pub(crate) unsafe fn optimize(\n     module: &ModuleCodegen<ModuleLlvm>,\n     config: &ModuleConfig,\n ) -> Result<(), FatalError> {\n-    let _timer = cgcx.prof.generic_activity_with_arg(\"LLVM_module_optimize\", &module.name[..]);\n+    let _timer = cgcx.prof.generic_activity_with_arg(\"LLVM_module_optimize\", &*module.name);\n \n     let llmod = module.module_llvm.llmod();\n     let llcx = &*module.module_llvm.llcx;\n@@ -663,14 +663,14 @@ pub(crate) unsafe fn optimize(\n         {\n             let _timer = cgcx.prof.extra_verbose_generic_activity(\n                 \"LLVM_module_optimize_function_passes\",\n-                &module.name[..],\n+                &*module.name,\n             );\n             llvm::LLVMRustRunFunctionPassManager(fpm, llmod);\n         }\n         {\n             let _timer = cgcx.prof.extra_verbose_generic_activity(\n                 \"LLVM_module_optimize_module_passes\",\n-                &module.name[..],\n+                &*module.name,\n             );\n             llvm::LLVMRunPassManager(mpm, llmod);\n         }\n@@ -733,7 +733,7 @@ pub(crate) unsafe fn codegen(\n     module: ModuleCodegen<ModuleLlvm>,\n     config: &ModuleConfig,\n ) -> Result<CompiledModule, FatalError> {\n-    let _timer = cgcx.prof.generic_activity_with_arg(\"LLVM_module_codegen\", &module.name[..]);\n+    let _timer = cgcx.prof.generic_activity_with_arg(\"LLVM_module_codegen\", &*module.name);\n     {\n         let llmod = module.module_llvm.llmod();\n         let llcx = &*module.module_llvm.llcx;\n@@ -782,7 +782,7 @@ pub(crate) unsafe fn codegen(\n         if config.bitcode_needed() {\n             let _timer = cgcx\n                 .prof\n-                .generic_activity_with_arg(\"LLVM_module_codegen_make_bitcode\", &module.name[..]);\n+                .generic_activity_with_arg(\"LLVM_module_codegen_make_bitcode\", &*module.name);\n             let thin = ThinBuffer::new(llmod);\n             let data = thin.data();\n \n@@ -795,29 +795,26 @@ pub(crate) unsafe fn codegen(\n             }\n \n             if config.emit_bc || config.emit_obj == EmitObj::Bitcode {\n-                let _timer = cgcx.prof.generic_activity_with_arg(\n-                    \"LLVM_module_codegen_emit_bitcode\",\n-                    &module.name[..],\n-                );\n+                let _timer = cgcx\n+                    .prof\n+                    .generic_activity_with_arg(\"LLVM_module_codegen_emit_bitcode\", &*module.name);\n                 if let Err(e) = fs::write(&bc_out, data) {\n                     let msg = format!(\"failed to write bytecode to {}: {}\", bc_out.display(), e);\n                     diag_handler.err(&msg);\n                 }\n             }\n \n             if config.emit_obj == EmitObj::ObjectCode(BitcodeSection::Full) {\n-                let _timer = cgcx.prof.generic_activity_with_arg(\n-                    \"LLVM_module_codegen_embed_bitcode\",\n-                    &module.name[..],\n-                );\n+                let _timer = cgcx\n+                    .prof\n+                    .generic_activity_with_arg(\"LLVM_module_codegen_embed_bitcode\", &*module.name);\n                 embed_bitcode(cgcx, llcx, llmod, &config.bc_cmdline, data);\n             }\n         }\n \n         if config.emit_ir {\n-            let _timer = cgcx\n-                .prof\n-                .generic_activity_with_arg(\"LLVM_module_codegen_emit_ir\", &module.name[..]);\n+            let _timer =\n+                cgcx.prof.generic_activity_with_arg(\"LLVM_module_codegen_emit_ir\", &*module.name);\n             let out = cgcx.output_filenames.temp_path(OutputType::LlvmAssembly, module_name);\n             let out_c = path_to_c_string(&out);\n \n@@ -866,9 +863,8 @@ pub(crate) unsafe fn codegen(\n         }\n \n         if config.emit_asm {\n-            let _timer = cgcx\n-                .prof\n-                .generic_activity_with_arg(\"LLVM_module_codegen_emit_asm\", &module.name[..]);\n+            let _timer =\n+                cgcx.prof.generic_activity_with_arg(\"LLVM_module_codegen_emit_asm\", &*module.name);\n             let path = cgcx.output_filenames.temp_path(OutputType::Assembly, module_name);\n \n             // We can't use the same module for asm and object code output,\n@@ -898,7 +894,7 @@ pub(crate) unsafe fn codegen(\n             EmitObj::ObjectCode(_) => {\n                 let _timer = cgcx\n                     .prof\n-                    .generic_activity_with_arg(\"LLVM_module_codegen_emit_obj\", &module.name[..]);\n+                    .generic_activity_with_arg(\"LLVM_module_codegen_emit_obj\", &*module.name);\n \n                 let dwo_out = cgcx.output_filenames.temp_path_dwo(module_name);\n                 let dwo_out = match cgcx.split_debuginfo {"}, {"sha": "d0ed978124313db5e06d1609a1becd2cde5eb2f7", "filename": "compiler/rustc_codegen_llvm/src/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fcommon.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -120,7 +120,7 @@ impl CodegenCx<'ll, 'tcx> {\n                 !null_terminated as Bool,\n             );\n             let sym = self.generate_local_symbol_name(\"str\");\n-            let g = self.define_global(&sym[..], self.val_ty(sc)).unwrap_or_else(|| {\n+            let g = self.define_global(&sym, self.val_ty(sc)).unwrap_or_else(|| {\n                 bug!(\"symbol `{}` is already defined\", sym);\n             });\n             llvm::LLVMSetInitializer(g, sc);"}, {"sha": "50a68ae49d50ca20bca240df473dde94651acc1e", "filename": "compiler/rustc_codegen_llvm/src/consts.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fconsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fconsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fconsts.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -225,7 +225,7 @@ impl CodegenCx<'ll, 'tcx> {\n             let gv = match kind {\n                 Some(kind) if !self.tcx.sess.fewer_names() => {\n                     let name = self.generate_local_symbol_name(kind);\n-                    let gv = self.define_global(&name[..], self.val_ty(cv)).unwrap_or_else(|| {\n+                    let gv = self.define_global(&name, self.val_ty(cv)).unwrap_or_else(|| {\n                         bug!(\"symbol `{}` is already defined\", name);\n                     });\n                     llvm::LLVMRustSetLinkage(gv, llvm::Linkage::PrivateLinkage);"}, {"sha": "d2af1b247e86edcb40a9fa8dfcc477f0e261bdb7", "filename": "compiler/rustc_codegen_llvm/src/coverageinfo/mapgen.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fcoverageinfo%2Fmapgen.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fcoverageinfo%2Fmapgen.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fcoverageinfo%2Fmapgen.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -89,7 +89,7 @@ pub fn finalize<'ll, 'tcx>(cx: &CodegenCx<'ll, 'tcx>) {\n     });\n \n     let filenames_size = filenames_buffer.len();\n-    let filenames_val = cx.const_bytes(&filenames_buffer[..]);\n+    let filenames_val = cx.const_bytes(&filenames_buffer);\n     let filenames_ref = coverageinfo::hash_bytes(filenames_buffer);\n \n     // Generate the LLVM IR representation of the coverage map and store it in a well-known global\n@@ -238,7 +238,7 @@ fn save_function_record(\n ) {\n     // Concatenate the encoded coverage mappings\n     let coverage_mapping_size = coverage_mapping_buffer.len();\n-    let coverage_mapping_val = cx.const_bytes(&coverage_mapping_buffer[..]);\n+    let coverage_mapping_val = cx.const_bytes(&coverage_mapping_buffer);\n \n     let func_name_hash = coverageinfo::hash_str(&mangled_function_name);\n     let func_name_hash_val = cx.const_u64(func_name_hash);"}, {"sha": "cc39332d198f037ee2ccccae55f99a40f3b4e646", "filename": "compiler/rustc_codegen_llvm/src/debuginfo/metadata.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmetadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmetadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmetadata.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -456,7 +456,7 @@ fn vec_slice_metadata(\n     let metadata = composite_type_metadata(\n         cx,\n         slice_ptr_type,\n-        &slice_type_name[..],\n+        &slice_type_name,\n         unique_type_id,\n         member_descriptions,\n         NO_SCOPE_METADATA,\n@@ -579,7 +579,7 @@ fn trait_pointer_metadata(\n     composite_type_metadata(\n         cx,\n         trait_object_type.unwrap_or(trait_type),\n-        &trait_type_name[..],\n+        &trait_type_name,\n         unique_type_id,\n         member_descriptions,\n         containing_scope,\n@@ -2398,7 +2398,7 @@ fn set_members_of_composite_type(\n \n     let type_params = compute_type_parameters(cx, composite_type);\n     unsafe {\n-        let type_array = create_DIArray(DIB(cx), &member_metadata[..]);\n+        let type_array = create_DIArray(DIB(cx), &member_metadata);\n         llvm::LLVMRustDICompositeTypeReplaceArrays(\n             DIB(cx),\n             composite_type_metadata,\n@@ -2437,7 +2437,7 @@ fn compute_type_parameters(cx: &CodegenCx<'ll, 'tcx>, ty: Ty<'tcx>) -> &'ll DIAr\n                 })\n                 .collect();\n \n-            return create_DIArray(DIB(cx), &template_params[..]);\n+            return create_DIArray(DIB(cx), &template_params);\n         }\n     }\n     return create_DIArray(DIB(cx), &[]);"}, {"sha": "b801a7c131443c07b91f555a67ef57357c2fb854", "filename": "compiler/rustc_codegen_llvm/src/debuginfo/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmod.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -474,7 +474,7 @@ impl DebugInfoMethods<'tcx> for CodegenCx<'ll, 'tcx> {\n                 vec![]\n             };\n \n-            create_DIArray(DIB(cx), &template_params[..])\n+            create_DIArray(DIB(cx), &template_params)\n         }\n \n         fn get_parameter_names(cx: &CodegenCx<'_, '_>, generics: &ty::Generics) -> Vec<Symbol> {"}, {"sha": "d6af6104155a1d359d98c06663d9b7cd9445538a", "filename": "compiler/rustc_codegen_ssa/src/back/write.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_ssa%2Fsrc%2Fback%2Fwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_ssa%2Fsrc%2Fback%2Fwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_ssa%2Fsrc%2Fback%2Fwrite.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -677,11 +677,11 @@ impl<B: WriteBackendMethods> WorkItem<B> {\n     fn start_profiling<'a>(&self, cgcx: &'a CodegenContext<B>) -> TimingGuard<'a> {\n         match *self {\n             WorkItem::Optimize(ref m) => {\n-                cgcx.prof.generic_activity_with_arg(\"codegen_module_optimize\", &m.name[..])\n+                cgcx.prof.generic_activity_with_arg(\"codegen_module_optimize\", &*m.name)\n             }\n             WorkItem::CopyPostLtoArtifacts(ref m) => cgcx\n                 .prof\n-                .generic_activity_with_arg(\"codegen_copy_artifacts_from_incr_cache\", &m.name[..]),\n+                .generic_activity_with_arg(\"codegen_copy_artifacts_from_incr_cache\", &*m.name),\n             WorkItem::LTO(ref m) => {\n                 cgcx.prof.generic_activity_with_arg(\"codegen_module_perform_lto\", m.name())\n             }"}, {"sha": "2df58ecc9f68aa250ec402ee749c05be55e7764a", "filename": "compiler/rustc_codegen_ssa/src/common.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_ssa%2Fsrc%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_codegen_ssa%2Fsrc%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_ssa%2Fsrc%2Fcommon.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -122,8 +122,8 @@ pub fn langcall(tcx: TyCtxt<'_>, span: Option<Span>, msg: &str, li: LangItem) ->\n     tcx.lang_items().require(li).unwrap_or_else(|s| {\n         let msg = format!(\"{} {}\", msg, s);\n         match span {\n-            Some(span) => tcx.sess.span_fatal(span, &msg[..]),\n-            None => tcx.sess.fatal(&msg[..]),\n+            Some(span) => tcx.sess.span_fatal(span, &msg),\n+            None => tcx.sess.fatal(&msg),\n         }\n     })\n }"}, {"sha": "df177fd9679d56f4c776db1b3d3da1d9189d7862", "filename": "compiler/rustc_const_eval/src/interpret/terminator.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fterminator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fterminator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fterminator.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -103,7 +103,7 @@ impl<'mir, 'tcx: 'mir, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n                 self.eval_fn_call(\n                     fn_val,\n                     abi,\n-                    &args[..],\n+                    &args,\n                     ret,\n                     match (cleanup, caller_can_unwind) {\n                         (Some(cleanup), true) => StackPopUnwind::Cleanup(*cleanup),"}, {"sha": "c9af35da4bcef52309b80b5684f21a09a463ab57", "filename": "compiler/rustc_data_structures/src/fingerprint.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_data_structures%2Fsrc%2Ffingerprint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_data_structures%2Fsrc%2Ffingerprint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_data_structures%2Fsrc%2Ffingerprint.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -142,7 +142,7 @@ impl_stable_hash_via_hash!(Fingerprint);\n impl<E: rustc_serialize::Encoder> Encodable<E> for Fingerprint {\n     #[inline]\n     fn encode(&self, s: &mut E) -> Result<(), E::Error> {\n-        s.emit_raw_bytes(&self.to_le_bytes()[..])?;\n+        s.emit_raw_bytes(&self.to_le_bytes())?;\n         Ok(())\n     }\n }\n@@ -151,7 +151,7 @@ impl<D: rustc_serialize::Decoder> Decodable<D> for Fingerprint {\n     #[inline]\n     fn decode(d: &mut D) -> Result<Self, D::Error> {\n         let mut bytes = [0u8; 16];\n-        d.read_raw_bytes_into(&mut bytes[..])?;\n+        d.read_raw_bytes_into(&mut bytes)?;\n         Ok(Fingerprint::from_le_bytes(bytes))\n     }\n }"}, {"sha": "fd6ff086b08cd1f735a7160f54fd0294dbf9573c", "filename": "compiler/rustc_data_structures/src/profiling.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_data_structures%2Fsrc%2Fprofiling.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_data_structures%2Fsrc%2Fprofiling.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_data_structures%2Fsrc%2Fprofiling.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -649,7 +649,7 @@ impl Drop for VerboseTimingGuard<'_> {\n     fn drop(&mut self) {\n         if let Some((start_time, start_rss, ref message)) = self.start_and_message {\n             let end_rss = get_resident_set_size();\n-            print_time_passes_entry(&message[..], start_time.elapsed(), start_rss, end_rss);\n+            print_time_passes_entry(&message, start_time.elapsed(), start_rss, end_rss);\n         }\n     }\n }"}, {"sha": "33e72914e19e3977a0894056622e5c8a145e13f0", "filename": "compiler/rustc_data_structures/src/small_c_str.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_data_structures%2Fsrc%2Fsmall_c_str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_data_structures%2Fsrc%2Fsmall_c_str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_data_structures%2Fsrc%2Fsmall_c_str.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -46,7 +46,7 @@ impl SmallCStr {\n \n     #[inline]\n     pub fn as_c_str(&self) -> &ffi::CStr {\n-        unsafe { ffi::CStr::from_bytes_with_nul_unchecked(&self.data[..]) }\n+        unsafe { ffi::CStr::from_bytes_with_nul_unchecked(&self.data) }\n     }\n \n     #[inline]"}, {"sha": "8065911afb9daba6da97961dba3fdb89275c2258", "filename": "compiler/rustc_expand/src/mbe/macro_rules.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_expand%2Fsrc%2Fmbe%2Fmacro_rules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_expand%2Fsrc%2Fmbe%2Fmacro_rules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_expand%2Fsrc%2Fmbe%2Fmacro_rules.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -253,7 +253,7 @@ fn generic_extension<'cx>(\n     for (i, lhs) in lhses.iter().enumerate() {\n         // try each arm's matchers\n         let lhs_tt = match *lhs {\n-            mbe::TokenTree::Delimited(_, ref delim) => &delim.tts[..],\n+            mbe::TokenTree::Delimited(_, ref delim) => &delim.tts,\n             _ => cx.span_bug(sp, \"malformed macro lhs\"),\n         };\n \n@@ -353,7 +353,7 @@ fn generic_extension<'cx>(\n         for lhs in lhses {\n             // try each arm's matchers\n             let lhs_tt = match *lhs {\n-                mbe::TokenTree::Delimited(_, ref delim) => &delim.tts[..],\n+                mbe::TokenTree::Delimited(_, ref delim) => &delim.tts,\n                 _ => continue,\n             };\n             if let Success(_) =\n@@ -677,11 +677,11 @@ impl FirstSets {\n                         first.replace_with(tt.clone());\n                     }\n                     TokenTree::Delimited(span, ref delimited) => {\n-                        build_recur(sets, &delimited.tts[..]);\n+                        build_recur(sets, &delimited.tts);\n                         first.replace_with(delimited.open_tt(span));\n                     }\n                     TokenTree::Sequence(sp, ref seq_rep) => {\n-                        let subfirst = build_recur(sets, &seq_rep.tts[..]);\n+                        let subfirst = build_recur(sets, &seq_rep.tts);\n \n                         match sets.first.entry(sp.entire()) {\n                             Entry::Vacant(vac) => {\n@@ -748,7 +748,7 @@ impl FirstSets {\n                     let subfirst = match self.first.get(&sp.entire()) {\n                         Some(&Some(ref subfirst)) => subfirst,\n                         Some(&None) => {\n-                            subfirst_owned = self.first(&seq_rep.tts[..]);\n+                            subfirst_owned = self.first(&seq_rep.tts);\n                             &subfirst_owned\n                         }\n                         None => {"}, {"sha": "01a7f7266172c7227c992828dbc8cfa5b17e8b04", "filename": "compiler/rustc_expand/src/mbe/transcribe.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_expand%2Fsrc%2Fmbe%2Ftranscribe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_expand%2Fsrc%2Fmbe%2Ftranscribe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_expand%2Fsrc%2Fmbe%2Ftranscribe.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -175,12 +175,12 @@ pub(super) fn transcribe<'a>(\n                         ));\n                     }\n \n-                    LockstepIterSize::Contradiction(ref msg) => {\n+                    LockstepIterSize::Contradiction(msg) => {\n                         // FIXME: this really ought to be caught at macro definition time... It\n                         // happens when two meta-variables are used in the same repetition in a\n                         // sequence, but they come from different sequence matchers and repeat\n                         // different amounts.\n-                        return Err(cx.struct_span_err(seq.span(), &msg[..]));\n+                        return Err(cx.struct_span_err(seq.span(), &msg));\n                     }\n \n                     LockstepIterSize::Constraint(len, _) => {"}, {"sha": "edb8bd503e1d01602a32bcb182e0296a475aeb0a", "filename": "compiler/rustc_graphviz/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_graphviz%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_graphviz%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_graphviz%2Fsrc%2Flib.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -659,7 +659,7 @@ where\n         }\n \n         writeln!(text, \";\").unwrap();\n-        w.write_all(&text[..])?;\n+        w.write_all(&text)?;\n \n         text.clear();\n     }\n@@ -684,7 +684,7 @@ where\n         }\n \n         writeln!(text, \";\").unwrap();\n-        w.write_all(&text[..])?;\n+        w.write_all(&text)?;\n \n         text.clear();\n     }"}, {"sha": "65cdf10f9016a8a8884d401f7305a4195a60a3da", "filename": "compiler/rustc_hir_pretty/src/lib.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_hir_pretty%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_hir_pretty%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_pretty%2Fsrc%2Flib.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -316,7 +316,7 @@ impl<'a> State<'a> {\n             }\n             hir::TyKind::Tup(ref elts) => {\n                 self.popen();\n-                self.commasep(Inconsistent, &elts[..], |s, ty| s.print_type(&ty));\n+                self.commasep(Inconsistent, &elts, |s, ty| s.print_type(&ty));\n                 if elts.len() == 1 {\n                     self.word(\",\");\n                 }\n@@ -1860,7 +1860,7 @@ impl<'a> State<'a> {\n                         self.commasep(Inconsistent, &elts[ddpos..], |s, p| s.print_pat(&p));\n                     }\n                 } else {\n-                    self.commasep(Inconsistent, &elts[..], |s, p| s.print_pat(&p));\n+                    self.commasep(Inconsistent, &elts, |s, p| s.print_pat(&p));\n                 }\n                 self.pclose();\n             }\n@@ -1873,7 +1873,7 @@ impl<'a> State<'a> {\n                 self.word_space(\"{\");\n                 self.commasep_cmnt(\n                     Consistent,\n-                    &fields[..],\n+                    &fields,\n                     |s, f| {\n                         s.cbox(INDENT_UNIT);\n                         if !f.is_shorthand {\n@@ -1895,7 +1895,7 @@ impl<'a> State<'a> {\n                 self.word(\"}\");\n             }\n             PatKind::Or(ref pats) => {\n-                self.strsep(\"|\", true, Inconsistent, &pats[..], |s, p| s.print_pat(&p));\n+                self.strsep(\"|\", true, Inconsistent, &pats, |s, p| s.print_pat(&p));\n             }\n             PatKind::Tuple(ref elts, ddpos) => {\n                 self.popen();\n@@ -1956,7 +1956,7 @@ impl<'a> State<'a> {\n             }\n             PatKind::Slice(ref before, ref slice, ref after) => {\n                 self.word(\"[\");\n-                self.commasep(Inconsistent, &before[..], |s, p| s.print_pat(&p));\n+                self.commasep(Inconsistent, &before, |s, p| s.print_pat(&p));\n                 if let Some(ref p) = *slice {\n                     if !before.is_empty() {\n                         self.word_space(\",\");\n@@ -1971,7 +1971,7 @@ impl<'a> State<'a> {\n                         self.word_space(\",\");\n                     }\n                 }\n-                self.commasep(Inconsistent, &after[..], |s, p| s.print_pat(&p));\n+                self.commasep(Inconsistent, &after, |s, p| s.print_pat(&p));\n                 self.word(\"]\");\n             }\n         }"}, {"sha": "d563a6ca4780c606ef38fd2e6dbd4dd21ecbf42f", "filename": "compiler/rustc_incremental/src/persist/load.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_incremental%2Fsrc%2Fpersist%2Fload.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_incremental%2Fsrc%2Fpersist%2Fload.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_incremental%2Fsrc%2Fpersist%2Fload.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -164,7 +164,7 @@ pub fn load_dep_graph(sess: &Session) -> DepGraphFuture {\n                                     compilation session directory: {}\",\n                         e\n                     );\n-                    sess.fatal(&msg[..])\n+                    sess.fatal(&msg)\n                 });\n \n             for swp in work_products {"}, {"sha": "30506445ebb5ec9dc929ca089f4eed74bc60bb57", "filename": "compiler/rustc_lint/src/non_fmt_panic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_lint%2Fsrc%2Fnon_fmt_panic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_lint%2Fsrc%2Fnon_fmt_panic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Fnon_fmt_panic.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -207,7 +207,7 @@ fn check_panic_str<'tcx>(\n     arg: &'tcx hir::Expr<'tcx>,\n     fmt: &str,\n ) {\n-    if !fmt.contains(&['{', '}'][..]) {\n+    if !fmt.contains(&['{', '}']) {\n         // No brace, no problem.\n         return;\n     }"}, {"sha": "9adf9406f09b49d9fa4db5fb2bbc258c97d9db52", "filename": "compiler/rustc_metadata/src/native_libs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_metadata%2Fsrc%2Fnative_libs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_metadata%2Fsrc%2Fnative_libs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_metadata%2Fsrc%2Fnative_libs.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -132,7 +132,7 @@ impl ItemLikeVisitor<'tcx> for Collector<'tcx> {\n                 if let Some(modifiers) = item.value_str() {\n                     let span = item.name_value_literal_span().unwrap();\n                     for modifier in modifiers.as_str().split(',') {\n-                        let (modifier, value) = match modifier.strip_prefix(&['+', '-'][..]) {\n+                        let (modifier, value) = match modifier.strip_prefix(&['+', '-']) {\n                             Some(m) => (m, modifier.starts_with('+')),\n                             None => {\n                                 sess.span_err("}, {"sha": "94e7376ddb216cd7f4078059206378473d1aa40c", "filename": "compiler/rustc_metadata/src/rmeta/encoder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fencoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fencoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fencoder.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -2119,7 +2119,7 @@ impl EncodedMetadata {\n \n     #[inline]\n     pub fn raw_data(&self) -> &[u8] {\n-        &self.raw_data[..]\n+        &self.raw_data\n     }\n }\n "}, {"sha": "f48e27e02cdc5b64d53027d984cc3587f19f9c30", "filename": "compiler/rustc_middle/src/mir/mono.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmono.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmono.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmono.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -530,6 +530,6 @@ impl CodegenUnitNameBuilder<'tcx> {\n             write!(cgu_name, \".{}\", special_suffix).unwrap();\n         }\n \n-        Symbol::intern(&cgu_name[..])\n+        Symbol::intern(&cgu_name)\n     }\n }"}, {"sha": "51e4afaf2204afc6f3f2094fcebb0b92cef3a5ae", "filename": "compiler/rustc_middle/src/mir/terminator.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fterminator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fterminator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fterminator.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -342,7 +342,7 @@ impl<'tcx> TerminatorKind<'tcx> {\n             | InlineAsm { destination: Some(ref t), cleanup: Some(ref u), .. } => {\n                 Some(t).into_iter().chain(slice::from_ref(u))\n             }\n-            SwitchInt { ref targets, .. } => None.into_iter().chain(&targets.targets[..]),\n+            SwitchInt { ref targets, .. } => None.into_iter().chain(&targets.targets),\n             FalseEdge { ref real_target, ref imaginary_target } => {\n                 Some(real_target).into_iter().chain(slice::from_ref(imaginary_target))\n             }\n@@ -380,7 +380,7 @@ impl<'tcx> TerminatorKind<'tcx> {\n             | InlineAsm { destination: Some(ref mut t), cleanup: Some(ref mut u), .. } => {\n                 Some(t).into_iter().chain(slice::from_mut(u))\n             }\n-            SwitchInt { ref mut targets, .. } => None.into_iter().chain(&mut targets.targets[..]),\n+            SwitchInt { ref mut targets, .. } => None.into_iter().chain(&mut targets.targets),\n             FalseEdge { ref mut real_target, ref mut imaginary_target } => {\n                 Some(real_target).into_iter().chain(slice::from_mut(imaginary_target))\n             }"}, {"sha": "33ddc4f954a28b4a707ee13e028aff66bea25f50", "filename": "compiler/rustc_middle/src/traits/mod.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_middle%2Fsrc%2Ftraits%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_middle%2Fsrc%2Ftraits%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Ftraits%2Fmod.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -587,18 +587,18 @@ impl<'tcx, N> ImplSource<'tcx, N> {\n     pub fn borrow_nested_obligations(&self) -> &[N] {\n         match &self {\n             ImplSource::UserDefined(i) => &i.nested[..],\n-            ImplSource::Param(n, _) => &n[..],\n-            ImplSource::Builtin(i) => &i.nested[..],\n-            ImplSource::AutoImpl(d) => &d.nested[..],\n-            ImplSource::Closure(c) => &c.nested[..],\n-            ImplSource::Generator(c) => &c.nested[..],\n-            ImplSource::Object(d) => &d.nested[..],\n-            ImplSource::FnPointer(d) => &d.nested[..],\n+            ImplSource::Param(n, _) => &n,\n+            ImplSource::Builtin(i) => &i.nested,\n+            ImplSource::AutoImpl(d) => &d.nested,\n+            ImplSource::Closure(c) => &c.nested,\n+            ImplSource::Generator(c) => &c.nested,\n+            ImplSource::Object(d) => &d.nested,\n+            ImplSource::FnPointer(d) => &d.nested,\n             ImplSource::DiscriminantKind(ImplSourceDiscriminantKindData)\n             | ImplSource::Pointee(ImplSourcePointeeData)\n             | ImplSource::ConstDrop(ImplSourceConstDropData) => &[],\n-            ImplSource::TraitAlias(d) => &d.nested[..],\n-            ImplSource::TraitUpcasting(d) => &d.nested[..],\n+            ImplSource::TraitAlias(d) => &d.nested,\n+            ImplSource::TraitUpcasting(d) => &d.nested,\n         }\n     }\n "}, {"sha": "25beed1ecf9c776413e7580c683ebe0197b6406a", "filename": "compiler/rustc_parse/src/parser/diagnostics.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -306,7 +306,7 @@ impl<'a> Parser<'a> {\n             }\n         }\n \n-        let expect = tokens_to_string(&expected[..]);\n+        let expect = tokens_to_string(&expected);\n         let actual = super::token_descr(&self.token);\n         let (msg_exp, (label_sp, label_exp)) = if expected.len() > 1 {\n             let short_expect = if expected.len() > 6 {\n@@ -909,7 +909,7 @@ impl<'a> Parser<'a> {\n                         // So far we have parsed `foo<bar<`, consume the rest of the type args.\n                         let modifiers =\n                             [(token::Lt, 1), (token::Gt, -1), (token::BinOp(token::Shr), -2)];\n-                        self.consume_tts(1, &modifiers[..]);\n+                        self.consume_tts(1, &modifiers);\n \n                         if !&[token::OpenDelim(token::Paren), token::ModSep]\n                             .contains(&self.token.kind)\n@@ -1001,7 +1001,7 @@ impl<'a> Parser<'a> {\n         // Consume the fn call arguments.\n         let modifiers =\n             [(token::OpenDelim(token::Paren), 1), (token::CloseDelim(token::Paren), -1)];\n-        self.consume_tts(1, &modifiers[..]);\n+        self.consume_tts(1, &modifiers);\n \n         if self.token.kind == token::Eof {\n             // Not entirely sure that what we consumed were fn arguments, rollback."}, {"sha": "c42decdccff35edd43015cebf890ab7a345c8f71", "filename": "compiler/rustc_query_impl/src/on_disk_cache.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_query_impl%2Fsrc%2Fon_disk_cache.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_query_impl%2Fsrc%2Fon_disk_cache.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_query_impl%2Fsrc%2Fon_disk_cache.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -158,7 +158,7 @@ impl<'sess> rustc_middle::ty::OnDiskCache<'sess> for OnDiskCache<'sess> {\n \n         // Wrap in a scope so we can borrow `data`.\n         let footer: Footer = {\n-            let mut decoder = opaque::Decoder::new(&data[..], start_pos);\n+            let mut decoder = opaque::Decoder::new(&data, start_pos);\n \n             // Decode the *position* of the footer, which can be found in the\n             // last 8 bytes of the file."}, {"sha": "5df8a4103b74fd6d696d78d5056433d15dcb508f", "filename": "compiler/rustc_session/src/config.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_session%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_session%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_session%2Fsrc%2Fconfig.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -1735,7 +1735,7 @@ fn parse_native_lib_modifiers(\n ) -> (NativeLibKind, Option<bool>) {\n     let mut verbatim = None;\n     for modifier in modifiers.split(',') {\n-        let (modifier, value) = match modifier.strip_prefix(&['+', '-'][..]) {\n+        let (modifier, value) = match modifier.strip_prefix(&['+', '-']) {\n             Some(m) => (m, modifier.starts_with('+')),\n             None => early_error(\n                 error_format,\n@@ -2027,7 +2027,7 @@ pub fn build_session_options(matches: &getopts::Matches) -> Options {\n \n     let unparsed_crate_types = matches.opt_strs(\"crate-type\");\n     let crate_types = parse_crate_types_from_list(unparsed_crate_types)\n-        .unwrap_or_else(|e| early_error(error_format, &e[..]));\n+        .unwrap_or_else(|e| early_error(error_format, &e));\n \n     let mut debugging_opts = DebuggingOptions::build(matches, error_format);\n     let (lint_opts, describe_lints, lint_cap) = get_cmd_lint_options(matches, error_format);\n@@ -2151,7 +2151,7 @@ pub fn build_session_options(matches: &getopts::Matches) -> Options {\n \n     let mut search_paths = vec![];\n     for s in &matches.opt_strs(\"L\") {\n-        search_paths.push(SearchPath::from_cli_opt(&s[..], error_format));\n+        search_paths.push(SearchPath::from_cli_opt(&s, error_format));\n     }\n \n     let libs = parse_libs(matches, error_format);"}, {"sha": "2934368dfeb89d7bf63d52ba9ca2fa2eca96e3b4", "filename": "compiler/rustc_span/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_span%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_span%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Flib.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -1383,7 +1383,7 @@ impl<S: Encoder> Encodable<S> for SourceFile {\n                     // Encode the first element.\n                     lines[0].encode(s)?;\n \n-                    let diff_iter = lines[..].array_windows().map(|&[fst, snd]| snd - fst);\n+                    let diff_iter = lines.array_windows().map(|&[fst, snd]| snd - fst);\n \n                     match bytes_per_diff {\n                         1 => {\n@@ -1506,7 +1506,7 @@ impl SourceFile {\n         assert!(end_pos <= u32::MAX as usize);\n \n         let (lines, multibyte_chars, non_narrow_chars) =\n-            analyze_source_file::analyze_source_file(&src[..], start_pos);\n+            analyze_source_file::analyze_source_file(&src, start_pos);\n \n         SourceFile {\n             name,"}, {"sha": "d9a5aea4d95fca3881f2e83acf68c22e1cfee663", "filename": "compiler/rustc_trait_selection/src/traits/error_reporting/on_unimplemented.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fon_unimplemented.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fon_unimplemented.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fon_unimplemented.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -231,7 +231,7 @@ impl<'a, 'tcx> InferCtxtExt<'tcx> for InferCtxt<'a, 'tcx> {\n         if let Ok(Some(command)) =\n             OnUnimplementedDirective::of_item(self.tcx, trait_ref.def_id, def_id)\n         {\n-            command.evaluate(self.tcx, trait_ref, &flags[..])\n+            command.evaluate(self.tcx, trait_ref, &flags)\n         } else {\n             OnUnimplementedNote::default()\n         }"}, {"sha": "d0b61b2430862ee21a24f3704b40ff9672e8c60f", "filename": "compiler/rustc_trait_selection/src/traits/error_reporting/suggestions.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fsuggestions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fsuggestions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fsuggestions.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -804,7 +804,7 @@ impl<'a, 'tcx> InferCtxtExt<'tcx> for InferCtxt<'a, 'tcx> {\n         } else if let ObligationCauseCode::BindingObligation(_, _)\n         | ObligationCauseCode::ItemObligation(_) = &*code\n         {\n-            try_borrowing(*poly_trait_ref, &never_suggest_borrow[..])\n+            try_borrowing(*poly_trait_ref, &never_suggest_borrow)\n         } else {\n             false\n         }\n@@ -1132,7 +1132,7 @@ impl<'a, 'tcx> InferCtxtExt<'tcx> for InferCtxt<'a, 'tcx> {\n             <https://doc.rust-lang.org/book/ch17-02-trait-objects.html\\\n             #using-trait-objects-that-allow-for-values-of-different-types>\";\n         let has_dyn = snippet.split_whitespace().next().map_or(false, |s| s == \"dyn\");\n-        let trait_obj = if has_dyn { &snippet[4..] } else { &snippet[..] };\n+        let trait_obj = if has_dyn { &snippet[4..] } else { &snippet };\n         if only_never_return {\n             // No return paths, probably using `panic!()` or similar.\n             // Suggest `-> T`, `-> impl Trait`, and if `Trait` is object safe, `-> Box<dyn Trait>`."}, {"sha": "427268d6d63f7caa4f424f5433f3732ee735b12b", "filename": "compiler/rustc_typeck/src/astconv/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fastconv%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fastconv%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fastconv%2Fmod.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -1350,7 +1350,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n                     tcx,\n                     span,\n                     item.trait_ref().def_id(),\n-                    &object_safety_violations[..],\n+                    &object_safety_violations,\n                 )\n                 .emit();\n                 return tcx.ty_error();"}, {"sha": "e67ee1cab3df264fd42f7885e52e92b5fad2f3b7", "filename": "compiler/rustc_typeck/src/check/callee.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fcallee.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fcallee.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fcallee.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -496,7 +496,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n             call_expr.span,\n             call_expr,\n             fn_sig.inputs(),\n-            &expected_arg_tys[..],\n+            &expected_arg_tys,\n             arg_exprs,\n             fn_sig.c_variadic,\n             TupleArgumentsFlag::DontTupleArguments,"}, {"sha": "e82ff9cf2dd883f2c8bce7f1f685409d110cebd0", "filename": "compiler/rustc_typeck/src/check/fn_ctxt/_impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Ffn_ctxt%2F_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Ffn_ctxt%2F_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Ffn_ctxt%2F_impl.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -1436,7 +1436,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n             <dyn AstConv<'_>>::create_substs_for_generic_args(\n                 tcx,\n                 def_id,\n-                &[][..],\n+                &[],\n                 has_self,\n                 self_ty,\n                 &arg_count,"}, {"sha": "4cb597cb6d6c79e68644c2e33833a86a42bda392", "filename": "compiler/rustc_typeck/src/check/fn_ctxt/checks.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Ffn_ctxt%2Fchecks.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Ffn_ctxt%2Fchecks.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Ffn_ctxt%2Fchecks.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -54,13 +54,13 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n \n             let err_inputs = match tuple_arguments {\n                 DontTupleArguments => err_inputs,\n-                TupleArguments => vec![self.tcx.intern_tup(&err_inputs[..])],\n+                TupleArguments => vec![self.tcx.intern_tup(&err_inputs)],\n             };\n \n             self.check_argument_types(\n                 sp,\n                 expr,\n-                &err_inputs[..],\n+                &err_inputs,\n                 &[],\n                 args_no_rcvr,\n                 false,\n@@ -324,7 +324,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                     self.point_at_type_arg_instead_of_call_if_possible(errors, expr);\n                     self.point_at_arg_instead_of_call_if_possible(\n                         errors,\n-                        &final_arg_types[..],\n+                        &final_arg_types,\n                         expr,\n                         sp,\n                         &args,"}, {"sha": "9ccf354db736ff06a76c5adaad5cddb99df1ff79", "filename": "compiler/rustc_typeck/src/check/method/probe.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fmethod%2Fprobe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fmethod%2Fprobe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fmethod%2Fprobe.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -1372,7 +1372,7 @@ impl<'a, 'tcx> ProbeContext<'a, 'tcx> {\n \n         if applicable_candidates.len() > 1 {\n             if let Some(pick) =\n-                self.collapse_candidates_to_trait_pick(self_ty, &applicable_candidates[..])\n+                self.collapse_candidates_to_trait_pick(self_ty, &applicable_candidates)\n             {\n                 return Some(Ok(pick));\n             }"}, {"sha": "e9ec0674cb7959c5f590b06a16f97494b9eb695a", "filename": "compiler/rustc_typeck/src/check/method/suggest.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fmethod%2Fsuggest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fmethod%2Fsuggest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fmethod%2Fsuggest.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -1344,7 +1344,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n             if candidates.len() > limit {\n                 msg.push_str(&format!(\"\\nand {} others\", candidates.len() - limit));\n             }\n-            err.note(&msg[..]);\n+            err.note(&msg);\n         }\n     }\n "}, {"sha": "fda96e49eb9670104655496202edab90b6ad3ced", "filename": "compiler/rustc_typeck/src/collect.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40988591ecd806fbbfe61db8b5cd05cff33e22d6/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs?ref=40988591ecd806fbbfe61db8b5cd05cff33e22d6", "patch": "@@ -2998,9 +2998,9 @@ fn codegen_fn_attrs(tcx: TyCtxt<'_>, id: DefId) -> CodegenFnAttrs {\n                     )\n                     .emit();\n                     InlineAttr::None\n-                } else if list_contains_name(&items[..], sym::always) {\n+                } else if list_contains_name(&items, sym::always) {\n                     InlineAttr::Always\n-                } else if list_contains_name(&items[..], sym::never) {\n+                } else if list_contains_name(&items, sym::never) {\n                     InlineAttr::Never\n                 } else {\n                     struct_span_err!(\n@@ -3034,9 +3034,9 @@ fn codegen_fn_attrs(tcx: TyCtxt<'_>, id: DefId) -> CodegenFnAttrs {\n                 if items.len() != 1 {\n                     err(attr.span, \"expected one argument\");\n                     OptimizeAttr::None\n-                } else if list_contains_name(&items[..], sym::size) {\n+                } else if list_contains_name(&items, sym::size) {\n                     OptimizeAttr::Size\n-                } else if list_contains_name(&items[..], sym::speed) {\n+                } else if list_contains_name(&items, sym::speed) {\n                     OptimizeAttr::Speed\n                 } else {\n                     err(items[0].span(), \"invalid argument\");"}]}