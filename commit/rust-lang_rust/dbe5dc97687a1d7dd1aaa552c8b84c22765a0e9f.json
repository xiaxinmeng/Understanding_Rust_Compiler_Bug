{"sha": "dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRiZTVkYzk3Njg3YTFkN2RkMWFhYTU1MmM4Yjg0YzIyNzY1YTBlOWY=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-05-03T18:34:44Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-05-03T18:34:44Z"}, "message": "Attempt to shift build to stage0-from-snapshots.", "tree": {"sha": "fb2a0d38e8892343ddc0dd68f1c5f3d1c902082a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fb2a0d38e8892343ddc0dd68f1c5f3d1c902082a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f", "html_url": "https://github.com/rust-lang/rust/commit/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "54bfe8ee27b2a2958fec5e9713690a4336d8b4e4", "url": "https://api.github.com/repos/rust-lang/rust/commits/54bfe8ee27b2a2958fec5e9713690a4336d8b4e4", "html_url": "https://github.com/rust-lang/rust/commit/54bfe8ee27b2a2958fec5e9713690a4336d8b4e4"}], "stats": {"total": 32, "additions": 17, "deletions": 15}, "files": [{"sha": "a2d6063a9a4b684687fede3251698d58d04cb80c", "filename": "configure", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/configure", "raw_url": "https://github.com/rust-lang/rust/raw/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f", "patch": "@@ -188,6 +188,7 @@ probe_need CFG_GIT          git\n probe_need CFG_OCAMLC       ocamlc\n probe_need CFG_PERL         perl\n probe_need CFG_PYTHON       python\n+probe_need CFG_CURL         curl\n \n probe CFG_LLVM_CONFIG      llvm-config\n probe CFG_VALGRIND         valgrind"}, {"sha": "c41cddaf2d614b6ec762f52937c4585b6f7b6632", "filename": "mk/stage0.mk", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/mk%2Fstage0.mk", "raw_url": "https://github.com/rust-lang/rust/raw/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/mk%2Fstage0.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage0.mk?ref=dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f", "patch": "@@ -1,9 +1,9 @@\n-stage0/$(CFG_STDLIB): $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n-                      boot/rustboot$(X) $(MKFILES)\n-\t@$(call E, compile: $@)\n-\t$(BOOT) -shared -o $@ $<\n+stage0/rustc$(X): $(S)src/snapshots.txt $(S)src/etc/get-snapshot.py $(MKFILES)\n+\t@$(call E, fetch: $@)\n+\t$(S)src/etc/get-snapshot.py\n \n-stage0/rustc$(X): $(COMPILER_CRATE) $(COMPILER_INPUTS) $(BREQ)\n-\t@$(call E, compile: $@)\n-\t$(BOOT) -minimal -o $@ $<\n-\t$(Q)chmod 0755 $@\n+# These two will be made in the process of making rustc above.\n+\n+stage0/glue.o: stage0/rustc$(X)\n+\n+stage0/$(CFG_STDLIB): stage0/rustc$(X)"}, {"sha": "e01942a5695d75561322778a5a7ad7b0865003fe", "filename": "mk/stage1.mk", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/mk%2Fstage1.mk", "raw_url": "https://github.com/rust-lang/rust/raw/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/mk%2Fstage1.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage1.mk?ref=dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f", "patch": "@@ -1,4 +1,5 @@\n-stage1/std.o: $(STDLIB_CRATE) $(STDLIB_INPUTS) stage0/rustc$(X) $(MKFILES)\n+stage1/std.o: $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n+              stage0/rustc$(X) stage0/$(CFG_STDLIB) $(LREQ) $(MKFILES)\n \t@$(call E, compile: $@)\n \t$(STAGE0) -c --shared -o $@ $<\n \n@@ -11,8 +12,7 @@ stage1/rustc.o: $(COMPILER_CRATE) $(COMPILER_INPUTS) $(SREQ0)\n \t@$(call E, compile: $@)\n \t$(STAGE0) -c -o $@ $<\n \n-stage1/glue.o: stage0/rustc$(X) stage0/$(CFG_STDLIB) \\\n-                rustllvm/$(CFG_RUSTLLVM) rt/$(CFG_RUNTIME)\n+stage1/glue.o: stage0/rustc$(X) stage0/$(CFG_STDLIB) $(LREQ) $(MKFILES)\n \t@$(call E, generate: $@)\n \t$(STAGE0) -c -o $@ --glue\n "}, {"sha": "924568ee93053c0ec06a39129a6cbde049d40422", "filename": "src/etc/snapshot.py", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/src%2Fetc%2Fsnapshot.py", "raw_url": "https://github.com/rust-lang/rust/raw/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/src%2Fetc%2Fsnapshot.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fsnapshot.py?ref=dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f", "patch": "@@ -10,7 +10,7 @@ def scrub(b):\n if not src_dir:\n   raise Exception(\"missing env var CFG_SRC_DIR\")\n \n-snapshotfile = os.path.join(src_dir, \"snapshots.txt\")\n+snapshotfile = os.path.join(src_dir, \"src\", \"snapshots.txt\")\n download_url_base = \"http://dl.rust-lang.org/stage0-snapshots\"\n download_dir_base = \"dl\"\n download_unpack_base = os.path.join(download_dir_base, \"unpack\")"}, {"sha": "08b989ca83c17f4bda52cc856787849576b2e5e1", "filename": "src/snapshots.txt", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/src%2Fsnapshots.txt", "raw_url": "https://github.com/rust-lang/rust/raw/dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f/src%2Fsnapshots.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsnapshots.txt?ref=dbe5dc97687a1d7dd1aaa552c8b84c22765a0e9f", "patch": "@@ -1,6 +1,7 @@\n-S 2011-05-02 ed40c85\n-  linux-i386 de76e0930be363af87e32ba65e3d6b1284633550\n-  winnt-i386 e69c11fbc62639ac3a3eef7ea36c9ad77209e2b1\n+S 2011-05-03 54bfe8e\n+  linux-i386 1e831f0904acf20c24e5ee944be61b8665a45c31\n+  macos-i386 eb20970d6ca784a9a7768a7eb1ce7d8f4af96fc9\n+  winnt-i386 2799f8ab1fdc45a706f530e1552cbfcd07116edb\n \n S 2011-04-29 7b95b5c\n   linux-i386 f0e166816ce34adc9f7202bd3cfbd80623505f28"}]}