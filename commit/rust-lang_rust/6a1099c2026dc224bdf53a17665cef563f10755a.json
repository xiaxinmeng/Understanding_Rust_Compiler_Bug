{"sha": "6a1099c2026dc224bdf53a17665cef563f10755a", "node_id": "C_kwDOAAsO6NoAKDZhMTA5OWMyMDI2ZGMyMjRiZGY1M2ExNzY2NWNlZjU2M2YxMDc1NWE", "commit": {"author": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2022-01-18T04:18:56Z"}, "committer": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2022-01-18T04:21:44Z"}, "message": "Disable docs on aarch64-apple-darwin.\n\nThis builder is the slowest in the fleet. This should cut a considerable\namount of time. The manifest should now include the docs from\nx86_64-apple-darwin. Although those docs are slightly different, it\nshould be close enough. When aarch64-apple-darwin heads towards tier 1,\nwe can revisit whether or not to re-enable the docs.", "tree": {"sha": "445b3874be3916f6f8f262afad7e3202c88301ad", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/445b3874be3916f6f8f262afad7e3202c88301ad"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6a1099c2026dc224bdf53a17665cef563f10755a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6a1099c2026dc224bdf53a17665cef563f10755a", "html_url": "https://github.com/rust-lang/rust/commit/6a1099c2026dc224bdf53a17665cef563f10755a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6a1099c2026dc224bdf53a17665cef563f10755a/comments", "author": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "52fdd2dd86af4b7dfa6b3aad63e5b5148b59c444", "url": "https://api.github.com/repos/rust-lang/rust/commits/52fdd2dd86af4b7dfa6b3aad63e5b5148b59c444", "html_url": "https://github.com/rust-lang/rust/commit/52fdd2dd86af4b7dfa6b3aad63e5b5148b59c444"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "fe5dedb6ba4b73be4d4c8c3de58cf85d683e6c12", "filename": ".github/workflows/ci.yml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a1099c2026dc224bdf53a17665cef563f10755a/.github%2Fworkflows%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/6a1099c2026dc224bdf53a17665cef563f10755a/.github%2Fworkflows%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fci.yml?ref=6a1099c2026dc224bdf53a17665cef563f10755a", "patch": "@@ -320,7 +320,7 @@ jobs:\n           - name: dist-aarch64-apple\n             env:\n               SCRIPT: \"./x.py dist --stage 2\"\n-              RUST_CONFIGURE_ARGS: \"--build=x86_64-apple-darwin --host=aarch64-apple-darwin --target=aarch64-apple-darwin --enable-full-tools --enable-sanitizers --enable-profiler --set rust.jemalloc --set llvm.ninja=false\"\n+              RUST_CONFIGURE_ARGS: \"--build=x86_64-apple-darwin --host=aarch64-apple-darwin --target=aarch64-apple-darwin --enable-full-tools --enable-sanitizers --enable-profiler --disable-docs --set rust.jemalloc --set llvm.ninja=false\"\n               RUSTC_RETRY_LINKER_ON_SEGFAULT: 1\n               USE_XCODE_CLANG: 1\n               MACOSX_DEPLOYMENT_TARGET: 11.0"}, {"sha": "a46a4e63714c2fe8be4a4a726a08eed119de76ca", "filename": "src/bootstrap/dist.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6a1099c2026dc224bdf53a17665cef563f10755a/src%2Fbootstrap%2Fdist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a1099c2026dc224bdf53a17665cef563f10755a/src%2Fbootstrap%2Fdist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdist.rs?ref=6a1099c2026dc224bdf53a17665cef563f10755a", "patch": "@@ -1483,11 +1483,10 @@ impl Step for Extended {\n             };\n             prepare(\"rustc\");\n             prepare(\"cargo\");\n-            prepare(\"rust-docs\");\n             prepare(\"rust-std\");\n             prepare(\"rust-analysis\");\n             prepare(\"clippy\");\n-            for tool in &[\"rust-demangler\", \"rls\", \"rust-analyzer\", \"miri\"] {\n+            for tool in &[\"rust-docs\", \"rust-demangler\", \"rls\", \"rust-analyzer\", \"miri\"] {\n                 if built_tools.contains(tool) {\n                     prepare(tool);\n                 }"}, {"sha": "a70cdc4b519e664e9a50fbca8fc3b6cc8649931d", "filename": "src/ci/github-actions/ci.yml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6a1099c2026dc224bdf53a17665cef563f10755a/src%2Fci%2Fgithub-actions%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/6a1099c2026dc224bdf53a17665cef563f10755a/src%2Fci%2Fgithub-actions%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fgithub-actions%2Fci.yml?ref=6a1099c2026dc224bdf53a17665cef563f10755a", "patch": "@@ -496,6 +496,7 @@ jobs:\n                 --enable-full-tools\n                 --enable-sanitizers\n                 --enable-profiler\n+                --disable-docs\n                 --set rust.jemalloc\n                 --set llvm.ninja=false\n               RUSTC_RETRY_LINKER_ON_SEGFAULT: 1"}]}