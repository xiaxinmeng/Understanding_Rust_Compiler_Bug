{"sha": "4f90025b68b41cc9e32bb8da7765ddae081a2ed7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRmOTAwMjViNjhiNDFjYzllMzJiYjhkYTc3NjVkZGFlMDgxYTJlZDc=", "commit": {"author": {"name": "Zach Pomerantz", "email": "zmp@umich.edu", "date": "2014-06-11T00:36:02Z"}, "committer": {"name": "Zach Pomerantz", "email": "zmp@umich.edu", "date": "2014-06-11T00:36:02Z"}, "message": "Update description to reflect language changes\n\nPreviously, the type system's restrictions on borrowing were summarized as\r\n\r\n> The previous example showed that the type system forbids any borrowing of owned boxes found in aliasable, mutable memory\r\n\r\nThis did not jive with the example, which allowed mutations so long as the borrowed reference had been returned. Also, the language has changed to no longer allow aliasable mutable locations. This changes the summary to read\r\n\r\n> The previous example showed that the type system forbids mutations of owned boxed values while they are being borrowed. In general, the type system also forbids borrowing a value as mutable if it is already being borrowed - either as a mutable reference or an immutable one.\r\n\r\nThis adds more general information for the experienced reader as well, to offer a more complete understanding.", "tree": {"sha": "211ec715cc091fad4060c311e616bb49352d9769", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/211ec715cc091fad4060c311e616bb49352d9769"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4f90025b68b41cc9e32bb8da7765ddae081a2ed7", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4f90025b68b41cc9e32bb8da7765ddae081a2ed7", "html_url": "https://github.com/rust-lang/rust/commit/4f90025b68b41cc9e32bb8da7765ddae081a2ed7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4f90025b68b41cc9e32bb8da7765ddae081a2ed7/comments", "author": {"login": "zzmp", "id": 5403956, "node_id": "MDQ6VXNlcjU0MDM5NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/5403956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzmp", "html_url": "https://github.com/zzmp", "followers_url": "https://api.github.com/users/zzmp/followers", "following_url": "https://api.github.com/users/zzmp/following{/other_user}", "gists_url": "https://api.github.com/users/zzmp/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzmp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzmp/subscriptions", "organizations_url": "https://api.github.com/users/zzmp/orgs", "repos_url": "https://api.github.com/users/zzmp/repos", "events_url": "https://api.github.com/users/zzmp/events{/privacy}", "received_events_url": "https://api.github.com/users/zzmp/received_events", "type": "User", "site_admin": false}, "committer": {"login": "zzmp", "id": 5403956, "node_id": "MDQ6VXNlcjU0MDM5NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/5403956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzmp", "html_url": "https://github.com/zzmp", "followers_url": "https://api.github.com/users/zzmp/followers", "following_url": "https://api.github.com/users/zzmp/following{/other_user}", "gists_url": "https://api.github.com/users/zzmp/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzmp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzmp/subscriptions", "organizations_url": "https://api.github.com/users/zzmp/orgs", "repos_url": "https://api.github.com/users/zzmp/repos", "events_url": "https://api.github.com/users/zzmp/events{/privacy}", "received_events_url": "https://api.github.com/users/zzmp/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b1302f9c4f6619bf83fff39b305b990d8f628eb7", "url": "https://api.github.com/repos/rust-lang/rust/commits/b1302f9c4f6619bf83fff39b305b990d8f628eb7", "html_url": "https://github.com/rust-lang/rust/commit/b1302f9c4f6619bf83fff39b305b990d8f628eb7"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "552ecaf49cd71de248e2ac17b4d06eaea43b6d9a", "filename": "src/doc/guide-lifetimes.md", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/4f90025b68b41cc9e32bb8da7765ddae081a2ed7/src%2Fdoc%2Fguide-lifetimes.md", "raw_url": "https://github.com/rust-lang/rust/raw/4f90025b68b41cc9e32bb8da7765ddae081a2ed7/src%2Fdoc%2Fguide-lifetimes.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fguide-lifetimes.md?ref=4f90025b68b41cc9e32bb8da7765ddae081a2ed7", "patch": "@@ -275,8 +275,10 @@ invalidate the pointer `owner_age`.\n \n # Borrowing and enums\n \n-The previous example showed that the type system forbids any borrowing\n-of owned boxes found in aliasable, mutable memory. This restriction\n+The previous example showed that the type system forbids any mutations\n+of owned boxed values while they are being borrowed. In general, the type\n+system also forbids borrowing a value as mutable if it is already being\n+borrowed - either as a mutable reference or an immutable one. This restriction\n prevents pointers from pointing into freed memory. There is one other\n case where the compiler must be very careful to ensure that pointers\n remain valid: pointers into the interior of an `enum`."}]}