{"sha": "d486486afdb545e43a27326be07a92d5fc9ad387", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ0ODY0ODZhZmRiNTQ1ZTQzYTI3MzI2YmUwN2E5MmQ1ZmM5YWQzODc=", "commit": {"author": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2020-09-23T14:38:30Z"}, "committer": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2020-09-23T14:38:30Z"}, "message": "Talk about unpredictable instead of \"not deterministic\"", "tree": {"sha": "a2d0e875325233c8e1f551b8f646cf85626b2102", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a2d0e875325233c8e1f551b8f646cf85626b2102"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d486486afdb545e43a27326be07a92d5fc9ad387", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d486486afdb545e43a27326be07a92d5fc9ad387", "html_url": "https://github.com/rust-lang/rust/commit/d486486afdb545e43a27326be07a92d5fc9ad387", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d486486afdb545e43a27326be07a92d5fc9ad387/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b1b6eabaa9ea0090dd47e642b6bb6606cc52e8c", "url": "https://api.github.com/repos/rust-lang/rust/commits/1b1b6eabaa9ea0090dd47e642b6bb6606cc52e8c", "html_url": "https://github.com/rust-lang/rust/commit/1b1b6eabaa9ea0090dd47e642b6bb6606cc52e8c"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "3c0dec64693fe5a79a1d19357293e6afa36274e6", "filename": "compiler/rustc_mir_build/src/thir/pattern/const_to_pat.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d486486afdb545e43a27326be07a92d5fc9ad387/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fconst_to_pat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d486486afdb545e43a27326be07a92d5fc9ad387/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fconst_to_pat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fconst_to_pat.rs?ref=d486486afdb545e43a27326be07a92d5fc9ad387", "patch": "@@ -413,8 +413,8 @@ impl<'a, 'tcx> ConstToPat<'a, 'tcx> {\n             ty::FnPtr(..) | ty::RawPtr(..) => {\n                 if self.include_lint_checks && !self.saw_const_match_error.get() {\n                     self.saw_const_match_error.set(true);\n-                    let msg = \"function pointers and unsized pointers in patterns do not behave \\\n-                        deterministically. \\\n+                    let msg = \"function pointers and unsized pointers in patterns behave \\\n+                        unpredictably and should not be relied upon. \\\n                         See https://github.com/rust-lang/rust/issues/70861 for details.\";\n                     tcx.struct_span_lint_hir(\n                         lint::builtin::POINTER_STRUCTURAL_MATCH,"}, {"sha": "96e8795e52d56687ceb660c8d9a5bd1833f1e8e4", "filename": "src/test/ui/issues/issue-44333.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d486486afdb545e43a27326be07a92d5fc9ad387/src%2Ftest%2Fui%2Fissues%2Fissue-44333.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d486486afdb545e43a27326be07a92d5fc9ad387/src%2Ftest%2Fui%2Fissues%2Fissue-44333.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-44333.rs?ref=d486486afdb545e43a27326be07a92d5fc9ad387", "patch": "@@ -16,9 +16,9 @@ const BAR: Func = bar;\n \n fn main() {\n     match test(std::env::consts::ARCH.len()) {\n-        FOO => println!(\"foo\"), //~ WARN pointers in patterns do not behave deterministically\n+        FOO => println!(\"foo\"), //~ WARN pointers in patterns behave unpredictably\n         //~^ WARN will become a hard error\n-        BAR => println!(\"bar\"), //~ WARN pointers in patterns do not behave deterministically\n+        BAR => println!(\"bar\"), //~ WARN pointers in patterns behave unpredictably\n         //~^ WARN will become a hard error\n         _ => unreachable!(),\n     }"}, {"sha": "8302b09e5334d0b62919327b4258d3bbc85b69a5", "filename": "src/test/ui/issues/issue-44333.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d486486afdb545e43a27326be07a92d5fc9ad387/src%2Ftest%2Fui%2Fissues%2Fissue-44333.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/d486486afdb545e43a27326be07a92d5fc9ad387/src%2Ftest%2Fui%2Fissues%2Fissue-44333.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-44333.stderr?ref=d486486afdb545e43a27326be07a92d5fc9ad387", "patch": "@@ -1,4 +1,4 @@\n-warning: function pointers and unsized pointers in patterns do not behave deterministically. See https://github.com/rust-lang/rust/issues/70861 for details.\n+warning: function pointers and unsized pointers in patterns behave unpredictably and should not be relied upon. See https://github.com/rust-lang/rust/issues/70861 for details.\n   --> $DIR/issue-44333.rs:19:9\n    |\n LL |         FOO => println!(\"foo\"),\n@@ -12,7 +12,7 @@ LL | #![warn(pointer_structural_match)]\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n    = note: for more information, see issue #62411 <https://github.com/rust-lang/rust/issues/70861>\n \n-warning: function pointers and unsized pointers in patterns do not behave deterministically. See https://github.com/rust-lang/rust/issues/70861 for details.\n+warning: function pointers and unsized pointers in patterns behave unpredictably and should not be relied upon. See https://github.com/rust-lang/rust/issues/70861 for details.\n   --> $DIR/issue-44333.rs:21:9\n    |\n LL |         BAR => println!(\"bar\"),"}, {"sha": "567685950e9e4aaf7d77fbf0efc02123285fafe2", "filename": "src/test/ui/rfc1445/issue-63479-match-fnptr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d486486afdb545e43a27326be07a92d5fc9ad387/src%2Ftest%2Fui%2Frfc1445%2Fissue-63479-match-fnptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d486486afdb545e43a27326be07a92d5fc9ad387/src%2Ftest%2Fui%2Frfc1445%2Fissue-63479-match-fnptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc1445%2Fissue-63479-match-fnptr.rs?ref=d486486afdb545e43a27326be07a92d5fc9ad387", "patch": "@@ -33,7 +33,7 @@ fn main() {\n   let s = B(my_fn);\n   match s {\n     B(TEST) => println!(\"matched\"),\n-    //~^ WARN pointers in patterns do not behave deterministically\n+     //~^ WARN pointers in patterns behave unpredictably\n     //~| WARN this was previously accepted by the compiler but is being phased out\n     _ => panic!(\"didn't match\")\n   };"}, {"sha": "8cf87cc85a1d44e6eaf243e78e5ba214a80791fb", "filename": "src/test/ui/rfc1445/issue-63479-match-fnptr.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d486486afdb545e43a27326be07a92d5fc9ad387/src%2Ftest%2Fui%2Frfc1445%2Fissue-63479-match-fnptr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/d486486afdb545e43a27326be07a92d5fc9ad387/src%2Ftest%2Fui%2Frfc1445%2Fissue-63479-match-fnptr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc1445%2Fissue-63479-match-fnptr.stderr?ref=d486486afdb545e43a27326be07a92d5fc9ad387", "patch": "@@ -1,4 +1,4 @@\n-warning: function pointers and unsized pointers in patterns do not behave deterministically. See https://github.com/rust-lang/rust/issues/70861 for details.\n+warning: function pointers and unsized pointers in patterns behave unpredictably and should not be relied upon. See https://github.com/rust-lang/rust/issues/70861 for details.\n   --> $DIR/issue-63479-match-fnptr.rs:35:7\n    |\n LL |     B(TEST) => println!(\"matched\"),"}]}