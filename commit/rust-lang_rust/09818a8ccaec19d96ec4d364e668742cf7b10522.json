{"sha": "09818a8ccaec19d96ec4d364e668742cf7b10522", "node_id": "C_kwDOAAsO6NoAKDA5ODE4YThjY2FlYzE5ZDk2ZWM0ZDM2NGU2Njg3NDJjZjdiMTA1MjI", "commit": {"author": {"name": "Nixon Enraght-Moony", "email": "nixon.emoony@gmail.com", "date": "2022-11-26T16:24:43Z"}, "committer": {"name": "Nixon Enraght-Moony", "email": "nixon.emoony@gmail.com", "date": "2022-11-26T16:24:43Z"}, "message": "Add a test that makes sense", "tree": {"sha": "6ebbd5fffd6357638747eeddbb1820fbe8728425", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6ebbd5fffd6357638747eeddbb1820fbe8728425"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/09818a8ccaec19d96ec4d364e668742cf7b10522", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/09818a8ccaec19d96ec4d364e668742cf7b10522", "html_url": "https://github.com/rust-lang/rust/commit/09818a8ccaec19d96ec4d364e668742cf7b10522", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/09818a8ccaec19d96ec4d364e668742cf7b10522/comments", "author": {"login": "aDotInTheVoid", "id": 28781354, "node_id": "MDQ6VXNlcjI4NzgxMzU0", "avatar_url": "https://avatars.githubusercontent.com/u/28781354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aDotInTheVoid", "html_url": "https://github.com/aDotInTheVoid", "followers_url": "https://api.github.com/users/aDotInTheVoid/followers", "following_url": "https://api.github.com/users/aDotInTheVoid/following{/other_user}", "gists_url": "https://api.github.com/users/aDotInTheVoid/gists{/gist_id}", "starred_url": "https://api.github.com/users/aDotInTheVoid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aDotInTheVoid/subscriptions", "organizations_url": "https://api.github.com/users/aDotInTheVoid/orgs", "repos_url": "https://api.github.com/users/aDotInTheVoid/repos", "events_url": "https://api.github.com/users/aDotInTheVoid/events{/privacy}", "received_events_url": "https://api.github.com/users/aDotInTheVoid/received_events", "type": "User", "site_admin": false}, "committer": {"login": "aDotInTheVoid", "id": 28781354, "node_id": "MDQ6VXNlcjI4NzgxMzU0", "avatar_url": "https://avatars.githubusercontent.com/u/28781354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aDotInTheVoid", "html_url": "https://github.com/aDotInTheVoid", "followers_url": "https://api.github.com/users/aDotInTheVoid/followers", "following_url": "https://api.github.com/users/aDotInTheVoid/following{/other_user}", "gists_url": "https://api.github.com/users/aDotInTheVoid/gists{/gist_id}", "starred_url": "https://api.github.com/users/aDotInTheVoid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aDotInTheVoid/subscriptions", "organizations_url": "https://api.github.com/users/aDotInTheVoid/orgs", "repos_url": "https://api.github.com/users/aDotInTheVoid/repos", "events_url": "https://api.github.com/users/aDotInTheVoid/events{/privacy}", "received_events_url": "https://api.github.com/users/aDotInTheVoid/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4b2a1eb775d7a9ff37b5b4dc990c287f427c2c80", "url": "https://api.github.com/repos/rust-lang/rust/commits/4b2a1eb775d7a9ff37b5b4dc990c287f427c2c80", "html_url": "https://github.com/rust-lang/rust/commit/4b2a1eb775d7a9ff37b5b4dc990c287f427c2c80"}], "stats": {"total": 33, "additions": 28, "deletions": 5}, "files": [{"sha": "70e7440f73085e67ee8d91df7bcb9188007f0efc", "filename": "src/tools/jsondoclint/src/json_find.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/09818a8ccaec19d96ec4d364e668742cf7b10522/src%2Ftools%2Fjsondoclint%2Fsrc%2Fjson_find.rs", "raw_url": "https://github.com/rust-lang/rust/raw/09818a8ccaec19d96ec4d364e668742cf7b10522/src%2Ftools%2Fjsondoclint%2Fsrc%2Fjson_find.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fjsondoclint%2Fsrc%2Fjson_find.rs?ref=09818a8ccaec19d96ec4d364e668742cf7b10522", "patch": "@@ -2,7 +2,7 @@ use std::fmt::Write;\n \n use serde_json::Value;\n \n-#[derive(Debug, Clone)]\n+#[derive(Debug, Clone, PartialEq, Eq)]\n pub enum SelectorPart {\n     Field(String),\n     Index(usize),"}, {"sha": "2a5335307146993a4b893957e973ac0290dcf426", "filename": "src/tools/jsondoclint/src/json_find/tests.rs", "status": "modified", "additions": 25, "deletions": 2, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/09818a8ccaec19d96ec4d364e668742cf7b10522/src%2Ftools%2Fjsondoclint%2Fsrc%2Fjson_find%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/09818a8ccaec19d96ec4d364e668742cf7b10522/src%2Ftools%2Fjsondoclint%2Fsrc%2Fjson_find%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fjsondoclint%2Fsrc%2Fjson_find%2Ftests.rs?ref=09818a8ccaec19d96ec4d364e668742cf7b10522", "patch": "@@ -1,4 +1,27 @@\n+use super::*;\n+\n #[test]\n-fn should_fail() {\n-    assert_eq!(true, false);\n+fn basic_find() {\n+    use SelectorPart::*;\n+\n+    let j = serde_json::json!({\n+        \"index\": {\n+            \"4\": {\n+                \"inner\": {\n+                    \"items\": [\"1\", \"2\", \"3\"]\n+                }\n+            }\n+        }\n+    });\n+\n+    let sel = find_selector(&j, &serde_json::json!(\"1\"));\n+    let exp: Vec<Vec<SelectorPart>> = vec![vec![\n+        Field(\"index\".to_owned()),\n+        Field(\"4\".to_owned()),\n+        Field(\"inner\".to_owned()),\n+        Field(\"items\".to_owned()),\n+        Index(0),\n+    ]];\n+\n+    assert_eq!(exp, sel);\n }"}, {"sha": "fc54c421b4b22962417296c2a1a9951196bcc604", "filename": "src/tools/jsondoclint/src/main.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/09818a8ccaec19d96ec4d364e668742cf7b10522/src%2Ftools%2Fjsondoclint%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/09818a8ccaec19d96ec4d364e668742cf7b10522/src%2Ftools%2Fjsondoclint%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fjsondoclint%2Fsrc%2Fmain.rs?ref=09818a8ccaec19d96ec4d364e668742cf7b10522", "patch": "@@ -9,13 +9,13 @@ pub(crate) mod item_kind;\n mod json_find;\n mod validator;\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n struct Error {\n     kind: ErrorKind,\n     id: Id,\n }\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n enum ErrorKind {\n     NotFound,\n     Custom(String),"}]}