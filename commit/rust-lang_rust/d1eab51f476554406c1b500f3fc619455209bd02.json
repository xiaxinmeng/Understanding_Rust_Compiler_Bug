{"sha": "d1eab51f476554406c1b500f3fc619455209bd02", "node_id": "C_kwDOAAsO6NoAKGQxZWFiNTFmNDc2NTU0NDA2YzFiNTAwZjNmYzYxOTQ1NTIwOWJkMDI", "commit": {"author": {"name": "CastilloDel", "email": "delcastillodelarosadaniel@gmail.com", "date": "2022-11-06T16:48:00Z"}, "committer": {"name": "CastilloDel", "email": "delcastillodelarosadaniel@gmail.com", "date": "2022-11-15T12:57:24Z"}, "message": "Make clobber_abis use an FxIndexMap\n\nIt seems to be used more for lookup than iteration, so this could be a\nperf hit", "tree": {"sha": "36fcdc0e2500d0575798e58f3807e2ab142e4915", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/36fcdc0e2500d0575798e58f3807e2ab142e4915"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d1eab51f476554406c1b500f3fc619455209bd02", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d1eab51f476554406c1b500f3fc619455209bd02", "html_url": "https://github.com/rust-lang/rust/commit/d1eab51f476554406c1b500f3fc619455209bd02", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d1eab51f476554406c1b500f3fc619455209bd02/comments", "author": {"login": "CastilloDel", "id": 52696601, "node_id": "MDQ6VXNlcjUyNjk2NjAx", "avatar_url": "https://avatars.githubusercontent.com/u/52696601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CastilloDel", "html_url": "https://github.com/CastilloDel", "followers_url": "https://api.github.com/users/CastilloDel/followers", "following_url": "https://api.github.com/users/CastilloDel/following{/other_user}", "gists_url": "https://api.github.com/users/CastilloDel/gists{/gist_id}", "starred_url": "https://api.github.com/users/CastilloDel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CastilloDel/subscriptions", "organizations_url": "https://api.github.com/users/CastilloDel/orgs", "repos_url": "https://api.github.com/users/CastilloDel/repos", "events_url": "https://api.github.com/users/CastilloDel/events{/privacy}", "received_events_url": "https://api.github.com/users/CastilloDel/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CastilloDel", "id": 52696601, "node_id": "MDQ6VXNlcjUyNjk2NjAx", "avatar_url": "https://avatars.githubusercontent.com/u/52696601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CastilloDel", "html_url": "https://github.com/CastilloDel", "followers_url": "https://api.github.com/users/CastilloDel/followers", "following_url": "https://api.github.com/users/CastilloDel/following{/other_user}", "gists_url": "https://api.github.com/users/CastilloDel/gists{/gist_id}", "starred_url": "https://api.github.com/users/CastilloDel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CastilloDel/subscriptions", "organizations_url": "https://api.github.com/users/CastilloDel/orgs", "repos_url": "https://api.github.com/users/CastilloDel/repos", "events_url": "https://api.github.com/users/CastilloDel/events{/privacy}", "received_events_url": "https://api.github.com/users/CastilloDel/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "769cc733b1663b48e1a1639bd8e8579ef795fbcd", "url": "https://api.github.com/repos/rust-lang/rust/commits/769cc733b1663b48e1a1639bd8e8579ef795fbcd", "html_url": "https://github.com/rust-lang/rust/commit/769cc733b1663b48e1a1639bd8e8579ef795fbcd"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "db0d8b08a947f9521d7840d448d9c149b218abdc", "filename": "compiler/rustc_ast_lowering/src/asm.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d1eab51f476554406c1b500f3fc619455209bd02/compiler%2Frustc_ast_lowering%2Fsrc%2Fasm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d1eab51f476554406c1b500f3fc619455209bd02/compiler%2Frustc_ast_lowering%2Fsrc%2Fasm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_lowering%2Fsrc%2Fasm.rs?ref=d1eab51f476554406c1b500f3fc619455209bd02", "patch": "@@ -11,7 +11,7 @@ use super::LoweringContext;\n \n use rustc_ast::ptr::P;\n use rustc_ast::*;\n-use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n+use rustc_data_structures::fx::{FxHashMap, FxHashSet, FxIndexMap};\n use rustc_hir as hir;\n use rustc_hir::def::{DefKind, Res};\n use rustc_hir::definitions::DefPathData;\n@@ -71,7 +71,7 @@ impl<'a, 'hir> LoweringContext<'a, 'hir> {\n             .emit();\n         }\n \n-        let mut clobber_abis = FxHashMap::default();\n+        let mut clobber_abis = FxIndexMap::default();\n         if let Some(asm_arch) = asm_arch {\n             for (abi_name, abi_span) in &asm.clobber_abis {\n                 match asm::InlineAsmClobberAbi::parse(asm_arch, &self.tcx.sess.target, *abi_name) {"}]}