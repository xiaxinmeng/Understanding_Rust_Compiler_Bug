{"sha": "3e1a15bb12c203b42069dd06a3afa621e4b61567", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlMWExNWJiMTJjMjAzYjQyMDY5ZGQwNmEzYWZhNjIxZTRiNjE1Njc=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-08-29T14:25:29Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-08-29T14:25:29Z"}, "message": "Rollup merge of #88349 - spastorino:const-static-types-tait-test, r=oli-obk\n\nAdd const and static TAIT tests\n\nr? ``@oli-obk``\n\nRelated to #86727", "tree": {"sha": "a9cf6db28520cca31cb63295378d21b92007d2fd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a9cf6db28520cca31cb63295378d21b92007d2fd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3e1a15bb12c203b42069dd06a3afa621e4b61567", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhK5jaCRBK7hj4Ov3rIwAA65MIAKhsrdYfWpWOjA9Byqiv7Ikw\nveODWxOI0zbqJIpMbJc793aGGzXJplTCRArywUrPHFuPglcZSa9XInggUZ2jznX2\nDDLe1RbKsQIL2n/gaZlsP7q8p/yoU/mDMv2eHNe+TTWg8bORRVnryvxweUi8VZRP\nvQjkXw5h/+6c/UNIa2xPvBHu97Wa7RHMmUwjpygGZcbUWs0CHfDHhnKncRwuJJd9\nBUJbUGj9rv4xuH8MhX1UDbNh3f5x5Oy3zjnODKEPQ+P1lw1WD4QcmXZXz6O9sprc\nRa4/FS0SkiH2JtAm91RLLGCqK931NjqkUJg0rNMpvO1rCnEXhifX7k/L3cDqbhw=\n=AFHh\n-----END PGP SIGNATURE-----\n", "payload": "tree a9cf6db28520cca31cb63295378d21b92007d2fd\nparent aa615754999a9453f50edfbfd18188352ecbdd79\nparent 4fcae2c89113e0767ee066a42f418261cebdc4bd\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1630247129 +0200\ncommitter GitHub <noreply@github.com> 1630247129 +0200\n\nRollup merge of #88349 - spastorino:const-static-types-tait-test, r=oli-obk\n\nAdd const and static TAIT tests\n\nr? ``@oli-obk``\n\nRelated to #86727\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3e1a15bb12c203b42069dd06a3afa621e4b61567", "html_url": "https://github.com/rust-lang/rust/commit/3e1a15bb12c203b42069dd06a3afa621e4b61567", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3e1a15bb12c203b42069dd06a3afa621e4b61567/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aa615754999a9453f50edfbfd18188352ecbdd79", "url": "https://api.github.com/repos/rust-lang/rust/commits/aa615754999a9453f50edfbfd18188352ecbdd79", "html_url": "https://github.com/rust-lang/rust/commit/aa615754999a9453f50edfbfd18188352ecbdd79"}, {"sha": "4fcae2c89113e0767ee066a42f418261cebdc4bd", "url": "https://api.github.com/repos/rust-lang/rust/commits/4fcae2c89113e0767ee066a42f418261cebdc4bd", "html_url": "https://github.com/rust-lang/rust/commit/4fcae2c89113e0767ee066a42f418261cebdc4bd"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "f630d2783350306983396776befcecc2bb8d6f21", "filename": "src/test/ui/type-alias-impl-trait/static-const-types.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/3e1a15bb12c203b42069dd06a3afa621e4b61567/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3e1a15bb12c203b42069dd06a3afa621e4b61567/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.rs?ref=3e1a15bb12c203b42069dd06a3afa621e4b61567", "patch": "@@ -0,0 +1,16 @@\n+#![feature(type_alias_impl_trait)]\n+#![allow(dead_code)]\n+\n+// FIXME: This should compile, but it currently doesn't\n+\n+use std::fmt::Debug;\n+\n+type Foo = impl Debug;\n+//~^ ERROR: could not find defining uses\n+\n+static FOO1: Foo = 22_u32;\n+//~^ ERROR: mismatched types [E0308]\n+const FOO2: Foo = 22_u32;\n+//~^ ERROR: mismatched types [E0308]\n+\n+fn main() {}"}, {"sha": "72083d014fe3a0006ad14af3949cbec9828b858a", "filename": "src/test/ui/type-alias-impl-trait/static-const-types.stderr", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/3e1a15bb12c203b42069dd06a3afa621e4b61567/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3e1a15bb12c203b42069dd06a3afa621e4b61567/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.stderr?ref=3e1a15bb12c203b42069dd06a3afa621e4b61567", "patch": "@@ -0,0 +1,33 @@\n+error[E0308]: mismatched types\n+  --> $DIR/static-const-types.rs:11:20\n+   |\n+LL | type Foo = impl Debug;\n+   |            ---------- the expected opaque type\n+...\n+LL | static FOO1: Foo = 22_u32;\n+   |                    ^^^^^^ expected opaque type, found `u32`\n+   |\n+   = note: expected opaque type `impl Debug`\n+                     found type `u32`\n+\n+error[E0308]: mismatched types\n+  --> $DIR/static-const-types.rs:13:19\n+   |\n+LL | type Foo = impl Debug;\n+   |            ---------- the expected opaque type\n+...\n+LL | const FOO2: Foo = 22_u32;\n+   |                   ^^^^^^ expected opaque type, found `u32`\n+   |\n+   = note: expected opaque type `impl Debug`\n+                     found type `u32`\n+\n+error: could not find defining uses\n+  --> $DIR/static-const-types.rs:8:12\n+   |\n+LL | type Foo = impl Debug;\n+   |            ^^^^^^^^^^\n+\n+error: aborting due to 3 previous errors\n+\n+For more information about this error, try `rustc --explain E0308`."}]}