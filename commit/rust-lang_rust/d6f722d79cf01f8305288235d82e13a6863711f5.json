{"sha": "d6f722d79cf01f8305288235d82e13a6863711f5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ2ZjcyMmQ3OWNmMDFmODMwNTI4ODIzNWQ4MmUxM2E2ODYzNzExZjU=", "commit": {"author": {"name": "Igor Aleksanov", "email": "popzxc@yandex.ru", "date": "2019-11-03T09:55:05Z"}, "committer": {"name": "Igor Aleksanov", "email": "popzxc@yandex.ru", "date": "2019-11-03T09:55:05Z"}, "message": "librustc_lexer: Simplify \"double_quoted_string\" method", "tree": {"sha": "553b557a2e282749895dd7789ebe0aecd0ca8ad2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/553b557a2e282749895dd7789ebe0aecd0ca8ad2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d6f722d79cf01f8305288235d82e13a6863711f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d6f722d79cf01f8305288235d82e13a6863711f5", "html_url": "https://github.com/rust-lang/rust/commit/d6f722d79cf01f8305288235d82e13a6863711f5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d6f722d79cf01f8305288235d82e13a6863711f5/comments", "author": {"login": "popzxc", "id": 12111581, "node_id": "MDQ6VXNlcjEyMTExNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/12111581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/popzxc", "html_url": "https://github.com/popzxc", "followers_url": "https://api.github.com/users/popzxc/followers", "following_url": "https://api.github.com/users/popzxc/following{/other_user}", "gists_url": "https://api.github.com/users/popzxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/popzxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/popzxc/subscriptions", "organizations_url": "https://api.github.com/users/popzxc/orgs", "repos_url": "https://api.github.com/users/popzxc/repos", "events_url": "https://api.github.com/users/popzxc/events{/privacy}", "received_events_url": "https://api.github.com/users/popzxc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "popzxc", "id": 12111581, "node_id": "MDQ6VXNlcjEyMTExNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/12111581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/popzxc", "html_url": "https://github.com/popzxc", "followers_url": "https://api.github.com/users/popzxc/followers", "following_url": "https://api.github.com/users/popzxc/following{/other_user}", "gists_url": "https://api.github.com/users/popzxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/popzxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/popzxc/subscriptions", "organizations_url": "https://api.github.com/users/popzxc/orgs", "repos_url": "https://api.github.com/users/popzxc/repos", "events_url": "https://api.github.com/users/popzxc/events{/privacy}", "received_events_url": "https://api.github.com/users/popzxc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "649a5247f58a2cdba58b63e48403b55cf7bf8bdb", "url": "https://api.github.com/repos/rust-lang/rust/commits/649a5247f58a2cdba58b63e48403b55cf7bf8bdb", "html_url": "https://github.com/rust-lang/rust/commit/649a5247f58a2cdba58b63e48403b55cf7bf8bdb"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "6653ddc3072260ca6687ed6b5007ceacd3a820da", "filename": "src/librustc_lexer/src/lib.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/d6f722d79cf01f8305288235d82e13a6863711f5/src%2Flibrustc_lexer%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6f722d79cf01f8305288235d82e13a6863711f5/src%2Flibrustc_lexer%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lexer%2Fsrc%2Flib.rs?ref=d6f722d79cf01f8305288235d82e13a6863711f5", "patch": "@@ -580,20 +580,20 @@ impl Cursor<'_> {\n     /// if string is terminated.\n     fn double_quoted_string(&mut self) -> bool {\n         debug_assert!(self.prev() == '\"');\n-        loop {\n-            match self.nth_char(0) {\n+        while let Some(c) = self.bump() {\n+            match c {\n                 '\"' => {\n-                    self.bump();\n                     return true;\n                 }\n-                EOF_CHAR if self.is_eof() => return false,\n-                '\\\\' if self.nth_char(1) == '\\\\' || self.nth_char(1) == '\"' => {\n+                '\\\\' if self.first() == '\\\\' || self.first() == '\"' => {\n+                    // Bump again to skip escaped character.\n                     self.bump();\n                 }\n                 _ => (),\n             }\n-            self.bump();\n         }\n+        // End of file reached.\n+        false\n     }\n \n     /// Eats the double-quoted string and returns a tuple of"}]}