{"sha": "a80db63515365c99061b6cac3d9adf62e5a245be", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE4MGRiNjM1MTUzNjVjOTkwNjFiNmNhYzNkOWFkZjYyZTVhMjQ1YmU=", "commit": {"author": {"name": "uHOOCCOOHu", "email": "hooccooh1896@gmail.com", "date": "2017-07-05T06:51:33Z"}, "committer": {"name": "uHOOCCOOHu", "email": "hooccooh1896@gmail.com", "date": "2017-07-05T07:51:43Z"}, "message": "Put tests for `step_by(0)` back.", "tree": {"sha": "68a109c9ae715973d83f88e7e40dfe9fc912b9e6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/68a109c9ae715973d83f88e7e40dfe9fc912b9e6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a80db63515365c99061b6cac3d9adf62e5a245be", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABAgAGBQJZXJqpAAoJEDlZOfCoAvxLancQAJYoOgPKMq+/O5jOCTPqTSHM\nZwFhkgDO0mv6YQXSMVH67w+X/AVy7OvCxv1xWBzJV9j8vfzPUlQbtIAmFNtIrMjK\nyTItEXCLATKV3chzBnJs/mRjlFAhTuy6l8DmpNIXLaIb+/bSHLWlNnYd/wPNRx2V\nmJqd8h1zqerd7/KnM+hlgqnAoYB/bw6StJG3KezwawQYfE1jETLJ5EthSzNjVNnf\nyR3uWrPRUWseXJe9duIPryXGKvyViZEa1N1+eh4fRscNEaRayCeN+HY8ZB11f2YR\nSCTzaY4BCefAYHpXRP2FWuXSU/ShzveY9D/41VpLTXS006ExMtoN6k9ah9YJluUu\nYSGkBc0a7SP8t6+zggDPIvAtEYMsZyYM2Q2M/tdNyjfEaxQ54xQqgC5iKPqIbuRG\nRpvgOiSahyxtlCcjblSBjFWQgmR1kWQ3iwGgJ4+NRl7kKSrKE9fEp+ezza+SzJSl\naPZthmw5a2euqUb3MDrcGiwuxx40CNiqfM+Ow451GtNFummbn8qJG4qVA7IULfpN\naWRrQjRBWkO1u3aGItprE5wjAzfBvV04o5Nh6SjhgCk0ohpotDPQfpIfw3Iu51eJ\ny+6VjukBTpgfzco/KIgVrq+vskfLq5ZZCsFu6pvUjEgnNFRWmgszmVkPmcEhBH8B\nB/zLSr0PlZenyTjVGLZz\n=8kL+\n-----END PGP SIGNATURE-----", "payload": "tree 68a109c9ae715973d83f88e7e40dfe9fc912b9e6\nparent 85384afca37710a9b53800132374c51033f91fe5\nauthor uHOOCCOOHu <hooccooh1896@gmail.com> 1499237493 +0800\ncommitter uHOOCCOOHu <hooccooh1896@gmail.com> 1499241103 +0800\n\nPut tests for `step_by(0)` back.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a80db63515365c99061b6cac3d9adf62e5a245be", "html_url": "https://github.com/rust-lang/rust/commit/a80db63515365c99061b6cac3d9adf62e5a245be", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a80db63515365c99061b6cac3d9adf62e5a245be/comments", "author": null, "committer": null, "parents": [{"sha": "85384afca37710a9b53800132374c51033f91fe5", "url": "https://api.github.com/repos/rust-lang/rust/commits/85384afca37710a9b53800132374c51033f91fe5", "html_url": "https://github.com/rust-lang/rust/commit/85384afca37710a9b53800132374c51033f91fe5"}], "stats": {"total": 48, "additions": 45, "deletions": 3}, "files": [{"sha": "4f4573d9e602242bc1cd62ab34902266207c72b2", "filename": "clippy_tests/examples/range.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/a80db63515365c99061b6cac3d9adf62e5a245be/clippy_tests%2Fexamples%2Frange.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a80db63515365c99061b6cac3d9adf62e5a245be/clippy_tests%2Fexamples%2Frange.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_tests%2Fexamples%2Frange.rs?ref=a80db63515365c99061b6cac3d9adf62e5a245be", "patch": "@@ -10,9 +10,16 @@ impl NotARange {\n \n #[warn(iterator_step_by_zero, range_zip_with_len)]\n fn main() {\n+    let _ = (0..1).step_by(0);\n     // No warning for non-zero step\n     let _ = (0..1).step_by(1);\n \n+    let _ = (1..).step_by(0);\n+    let _ = (1...2).step_by(0);\n+\n+    let x = 0..1;\n+    let _ = x.step_by(0);\n+\n     // No error, not a range.\n     let y = NotARange;\n     y.step_by(0);\n@@ -21,4 +28,7 @@ fn main() {\n     let v2 = vec![4,5];\n     let _x = v1.iter().zip(0..v1.len());\n     let _y = v1.iter().zip(0..v2.len()); // No error\n+\n+    // check const eval\n+    let _ = v1.iter().step_by(2/3);\n }"}, {"sha": "b6951b9f71309d65251ea44517cd14f484c280ab", "filename": "clippy_tests/examples/range.stderr", "status": "modified", "additions": 35, "deletions": 3, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/a80db63515365c99061b6cac3d9adf62e5a245be/clippy_tests%2Fexamples%2Frange.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a80db63515365c99061b6cac3d9adf62e5a245be/clippy_tests%2Fexamples%2Frange.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_tests%2Fexamples%2Frange.stderr?ref=a80db63515365c99061b6cac3d9adf62e5a245be", "patch": "@@ -1,12 +1,44 @@\n+error: Iterator::step_by(0) will panic at runtime\n+  --> range.rs:13:13\n+   |\n+13 |     let _ = (0..1).step_by(0);\n+   |             ^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `-D iterator-step-by-zero` implied by `-D warnings`\n+\n+error: Iterator::step_by(0) will panic at runtime\n+  --> range.rs:17:13\n+   |\n+17 |     let _ = (1..).step_by(0);\n+   |             ^^^^^^^^^^^^^^^^\n+\n+error: Iterator::step_by(0) will panic at runtime\n+  --> range.rs:18:13\n+   |\n+18 |     let _ = (1...2).step_by(0);\n+   |             ^^^^^^^^^^^^^^^^^^\n+\n+error: Iterator::step_by(0) will panic at runtime\n+  --> range.rs:21:13\n+   |\n+21 |     let _ = x.step_by(0);\n+   |             ^^^^^^^^^^^^\n+\n error: It is more idiomatic to use v1.iter().enumerate()\n-  --> range.rs:22:14\n+  --> range.rs:29:14\n    |\n-22 |     let _x = v1.iter().zip(0..v1.len());\n+29 |     let _x = v1.iter().zip(0..v1.len());\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D range-zip-with-len` implied by `-D warnings`\n \n-error: aborting due to previous error\n+error: Iterator::step_by(0) will panic at runtime\n+  --> range.rs:33:13\n+   |\n+33 |     let _ = v1.iter().step_by(2/3);\n+   |             ^^^^^^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to 6 previous errors\n \n \n To learn more, run the command again with --verbose."}]}