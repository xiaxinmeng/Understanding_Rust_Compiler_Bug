{"sha": "11045f94e267805e90662577ee7486cba5dbcf18", "node_id": "C_kwDOAAsO6NoAKDExMDQ1Zjk0ZTI2NzgwNWU5MDY2MjU3N2VlNzQ4NmNiYTVkYmNmMTg", "commit": {"author": {"name": "SabrinaJewson", "email": "sejewson@gmail.com", "date": "2022-04-01T05:32:22Z"}, "committer": {"name": "SabrinaJewson", "email": "sejewson@gmail.com", "date": "2022-04-01T05:32:22Z"}, "message": "Don't unnecessarily suggest unsafe block", "tree": {"sha": "91f038d14cb015dbd44f9f217043841e5e732816", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/91f038d14cb015dbd44f9f217043841e5e732816"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/11045f94e267805e90662577ee7486cba5dbcf18", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJHBAABCAAxFiEEpFrenxYsOeUIs3WAPVQ4/6XwVWQFAmJGjmwTHHNlamV3c29u\nQGdtYWlsLmNvbQAKCRA9VDj/pfBVZENbD/4o+xWCzuKmBclcYXGL/6hlGaxG1zVh\nMVpVF/ufbzM6pmNDtoMItKj+juMp5L4DDM+5iNvTvSKDaZ2REykiUCurqlS1zYf1\nvp8rx4VdnlqaOMub/B7/muTX3/JfZQR36jZyFz5asQEZ+uKndQGqTvB21+ImI8gl\nGLcVieolNSNKJ+paKLQIJLRzYcDl5XF8nRTFZaSDmbAF5O/a9LwNu8YSMMDIZyYo\nwWSqHFztFfMeEC+/IgTLODbtOu3CisXl+4i0zcFEiVXMlvLjy0hX26uL3y9jW239\nnQTVsFxOOeKDx5Vh81P6YJLg7F2u+zzdbHxzOTth9bG9PDXmNTuBhpiSvmYdHCiz\n+kXlTwMek1uFILX4Xifye0dA1O6rDMP5kvpiAl/aKQGVdEhe357leJUonXyBbPPd\nB29sVW0A69TwQfgtzhkfCgPXYdpZzR9VyA2swYR2Z7owRPttIYFXzb9fu20Ue5YO\nH2t4qAm3adpgdsim3po1R6T5MIU8IV4g0cIyrvkg4I+RBdiWSXKV6M75HEQY0QR7\nF7j71lo8smuReTLDV5Gjl15ETAnRvOyN6fES0ydQpzs1kq9Swu0RSh1YqkgdsBvo\n7+Xs3npGDF4l+v2pbxAnd9AjdU3kdmzWBE7AnfwFGmK5V0bEOhQc8nB2pnAsyJgM\n4oBnbpI7JihUfg==\n=f5+9\n-----END PGP SIGNATURE-----", "payload": "tree 91f038d14cb015dbd44f9f217043841e5e732816\nparent 7a80c23f838b832e651a717767c41a2536f3ae42\nauthor SabrinaJewson <sejewson@gmail.com> 1648791142 +0100\ncommitter SabrinaJewson <sejewson@gmail.com> 1648791142 +0100\n\nDon't unnecessarily suggest unsafe block\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/11045f94e267805e90662577ee7486cba5dbcf18", "html_url": "https://github.com/rust-lang/rust/commit/11045f94e267805e90662577ee7486cba5dbcf18", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/11045f94e267805e90662577ee7486cba5dbcf18/comments", "author": {"login": "SabrinaJewson", "id": 58880148, "node_id": "MDQ6VXNlcjU4ODgwMTQ4", "avatar_url": "https://avatars.githubusercontent.com/u/58880148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SabrinaJewson", "html_url": "https://github.com/SabrinaJewson", "followers_url": "https://api.github.com/users/SabrinaJewson/followers", "following_url": "https://api.github.com/users/SabrinaJewson/following{/other_user}", "gists_url": "https://api.github.com/users/SabrinaJewson/gists{/gist_id}", "starred_url": "https://api.github.com/users/SabrinaJewson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SabrinaJewson/subscriptions", "organizations_url": "https://api.github.com/users/SabrinaJewson/orgs", "repos_url": "https://api.github.com/users/SabrinaJewson/repos", "events_url": "https://api.github.com/users/SabrinaJewson/events{/privacy}", "received_events_url": "https://api.github.com/users/SabrinaJewson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SabrinaJewson", "id": 58880148, "node_id": "MDQ6VXNlcjU4ODgwMTQ4", "avatar_url": "https://avatars.githubusercontent.com/u/58880148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SabrinaJewson", "html_url": "https://github.com/SabrinaJewson", "followers_url": "https://api.github.com/users/SabrinaJewson/followers", "following_url": "https://api.github.com/users/SabrinaJewson/following{/other_user}", "gists_url": "https://api.github.com/users/SabrinaJewson/gists{/gist_id}", "starred_url": "https://api.github.com/users/SabrinaJewson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SabrinaJewson/subscriptions", "organizations_url": "https://api.github.com/users/SabrinaJewson/orgs", "repos_url": "https://api.github.com/users/SabrinaJewson/repos", "events_url": "https://api.github.com/users/SabrinaJewson/events{/privacy}", "received_events_url": "https://api.github.com/users/SabrinaJewson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7a80c23f838b832e651a717767c41a2536f3ae42", "url": "https://api.github.com/repos/rust-lang/rust/commits/7a80c23f838b832e651a717767c41a2536f3ae42", "html_url": "https://github.com/rust-lang/rust/commit/7a80c23f838b832e651a717767c41a2536f3ae42"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "fe3e88613f4eadcf825d2f42368fafaaa0086fff", "filename": "clippy_lints/src/transmute/transmute_ref_to_ref.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/11045f94e267805e90662577ee7486cba5dbcf18/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ref_to_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/11045f94e267805e90662577ee7486cba5dbcf18/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ref_to_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ref_to_ref.rs?ref=11045f94e267805e90662577ee7486cba5dbcf18", "patch": "@@ -41,7 +41,7 @@ pub(super) fn check<'tcx>(\n                     &format!(\"transmute from a `{}` to a `{}`\", from_ty, to_ty),\n                     \"consider using\",\n                     if const_context {\n-                        format!(\"unsafe {{ std::str::from_utf8_unchecked{postfix}({snippet}) }}\")\n+                        format!(\"std::str::from_utf8_unchecked{postfix}({snippet})\")\n                     } else {\n                         format!(\"std::str::from_utf8{postfix}({snippet}).unwrap()\")\n                     },"}, {"sha": "72a386e8fa618f2fe96c5b7f7fc188759c07c161", "filename": "tests/ui/transmute.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/11045f94e267805e90662577ee7486cba5dbcf18/tests%2Fui%2Ftransmute.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/11045f94e267805e90662577ee7486cba5dbcf18/tests%2Fui%2Ftransmute.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftransmute.stderr?ref=11045f94e267805e90662577ee7486cba5dbcf18", "patch": "@@ -244,7 +244,7 @@ error: transmute from a `&[u8]` to a `&str`\n   --> $DIR/transmute.rs:142:30\n    |\n LL |     const _: &str = unsafe { std::mem::transmute(B) };\n-   |                              ^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `unsafe { std::str::from_utf8_unchecked(B) }`\n+   |                              ^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `std::str::from_utf8_unchecked(B)`\n \n error: aborting due to 39 previous errors\n "}]}