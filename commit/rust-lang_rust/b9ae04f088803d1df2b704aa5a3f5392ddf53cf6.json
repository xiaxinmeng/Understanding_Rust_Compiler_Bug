{"sha": "b9ae04f088803d1df2b704aa5a3f5392ddf53cf6", "node_id": "C_kwDOAAsO6NoAKGI5YWUwNGYwODg4MDNkMWRmMmI3MDRhYTVhM2Y1MzkyZGRmNTNjZjY", "commit": {"author": {"name": "Abhishek Sudhakaran", "email": "itzurabhi@gmail.com", "date": "2021-12-11T22:01:40Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-12-11T22:01:40Z"}, "message": "bootstrap: Change `unwrap()` to `expect()` for `WIX` path\n\nOn Windows, `x.py dist` command panics without proper error message if 'WIX' environment variable is not set. This patch changes `Option::unwrap()` to `Option::expect()`.", "tree": {"sha": "debe2a5892517afe3e7438317bb0277d9ed1de65", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/debe2a5892517afe3e7438317bb0277d9ed1de65"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b9ae04f088803d1df2b704aa5a3f5392ddf53cf6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhtR/ECRBK7hj4Ov3rIwAAaAwIAAvC6xXYuQ9E5x/gW4k6yUTC\niyOWYvd9LG3+X2kV9gwFhFzb3RUWdPszMkccO+Pmh1AuKoEJj8JwxiVPpN95apHq\n+8ElS+2dZ3ZZ2WjiG2qFH1BwQjztRLcDQPc8XTz3Pn8O6ONifFZ2VvyCGKGBlrAn\nVUK+txGBTTx6+RdBFzzIKVXQbKSx/CQmxhz0+zh2YLmM3dU2TzjdrQjqTPyBeAIu\ngdJnHsN/Kb/VQaT82i+SZOtU63BU6dkcfL47I5hTYJppqf8ZDeiwqQkc3M66y10W\nwb+XwTz4uuDM9ncD8JjY4BkAxXUEJrM3mi3Ep35Zu+I38nsKiQ1AkgoYdTBf2gE=\n=qNUm\n-----END PGP SIGNATURE-----\n", "payload": "tree debe2a5892517afe3e7438317bb0277d9ed1de65\nparent b8dc6aa673317cf72a8abb9c421f573f2b34b47a\nauthor Abhishek Sudhakaran <itzurabhi@gmail.com> 1639260100 +0530\ncommitter GitHub <noreply@github.com> 1639260100 +0530\n\nbootstrap: Change `unwrap()` to `expect()` for `WIX` path\n\nOn Windows, `x.py dist` command panics without proper error message if 'WIX' environment variable is not set. This patch changes `Option::unwrap()` to `Option::expect()`."}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b9ae04f088803d1df2b704aa5a3f5392ddf53cf6", "html_url": "https://github.com/rust-lang/rust/commit/b9ae04f088803d1df2b704aa5a3f5392ddf53cf6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b9ae04f088803d1df2b704aa5a3f5392ddf53cf6/comments", "author": {"login": "itzurabhi", "id": 2045892, "node_id": "MDQ6VXNlcjIwNDU4OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2045892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itzurabhi", "html_url": "https://github.com/itzurabhi", "followers_url": "https://api.github.com/users/itzurabhi/followers", "following_url": "https://api.github.com/users/itzurabhi/following{/other_user}", "gists_url": "https://api.github.com/users/itzurabhi/gists{/gist_id}", "starred_url": "https://api.github.com/users/itzurabhi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itzurabhi/subscriptions", "organizations_url": "https://api.github.com/users/itzurabhi/orgs", "repos_url": "https://api.github.com/users/itzurabhi/repos", "events_url": "https://api.github.com/users/itzurabhi/events{/privacy}", "received_events_url": "https://api.github.com/users/itzurabhi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b8dc6aa673317cf72a8abb9c421f573f2b34b47a", "url": "https://api.github.com/repos/rust-lang/rust/commits/b8dc6aa673317cf72a8abb9c421f573f2b34b47a", "html_url": "https://github.com/rust-lang/rust/commit/b8dc6aa673317cf72a8abb9c421f573f2b34b47a"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "dd179df394889e91dbe213d35bf1570d103a75e1", "filename": "src/bootstrap/dist.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b9ae04f088803d1df2b704aa5a3f5392ddf53cf6/src%2Fbootstrap%2Fdist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b9ae04f088803d1df2b704aa5a3f5392ddf53cf6/src%2Fbootstrap%2Fdist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdist.rs?ref=b9ae04f088803d1df2b704aa5a3f5392ddf53cf6", "patch": "@@ -1564,7 +1564,9 @@ impl Step for Extended {\n             builder.install(&etc.join(\"gfx/rust-logo.ico\"), &exe, 0o644);\n \n             // Generate msi installer\n-            let wix = PathBuf::from(env::var_os(\"WIX\").unwrap());\n+            let wix_path = env::var_os(\"WIX\")\n+                .expect(\"`WIX` environment variable must be set for generating MSI installer(s).\");\n+            let wix = PathBuf::from(wix_path);\n             let heat = wix.join(\"bin/heat.exe\");\n             let candle = wix.join(\"bin/candle.exe\");\n             let light = wix.join(\"bin/light.exe\");"}]}