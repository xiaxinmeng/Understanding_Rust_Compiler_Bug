{"sha": "08e20d9b28685d438839bd695a9309a8947a61fa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA4ZTIwZDliMjg2ODVkNDM4ODM5YmQ2OTVhOTMwOWE4OTQ3YTYxZmE=", "commit": {"author": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2021-08-25T01:10:38Z"}, "committer": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2021-08-25T01:10:38Z"}, "message": "Add type of a let tait test", "tree": {"sha": "9ede1c7b44b5064957e8a9d588880f10a0c8acd3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9ede1c7b44b5064957e8a9d588880f10a0c8acd3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/08e20d9b28685d438839bd695a9309a8947a61fa", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEF0ntrgrd9qf9uuThgTGiTgx5768FAmElmI4ACgkQgTGiTgx5\n7696Rg//Vjf+q7Ky9ZUp6prOKIelha8ZrXnivs7lBnPU5NQlZ7eTo8GXi+jBsBKq\nNSHzZV/x4Es75aNRI5v62xfKQ4Qks2RKjLD+cNl0Ky1HDKOE6Lf92kGUazR36hP0\nfI18yfrIuWtYiAHB/i25w4pSgu3BNi+5Ye0kVAexIjsJoGNmJ9u57t79oP9chiZT\n8MhljB9kWqU2iEp+1Ue4RFF1pzHy31MgOD0R+nL9qKlX9M+MX25Qy5mz834SqO2r\nTMY8v8Y0A3OcjS9DpB2/ew5+Wkic/VI4l/CfCHJbamVUPBIxya5ufzYNE1N6hWcN\n5760bHmkvL/DyTKdyhEIfYacviSxBZZtZjiqxr6852b1ZH0KEQ9LHEQ728k2os3W\nZ2+nP5BhJ3PIfcF26XNyymIyy+jGHhvemwWWTcVYRH+DO7anUgl26cItxpsY6X2x\nrFQrIgLDvuN77kYPMSp6kTJ2JxW6sCXaOcxtN2bZrOkNgaOpu6NyuqkBkSngyTis\n9Vl0ViyUdWnOC3kAoJTi01ucM5LemXK5uuXzZQ7XJMc3sb1LK0dOaMMOVWlNMT03\n9kVeFl6IplOQc3X7O+DAxg9tNvGssAP0E96KU79UPWDvjBAHI31FAEb0oynHUYAc\nO7Qn4aRUZtQs4wV/QH5Wa6KVYZkoFLBA2VZi9rQit5+DSUjnjzk=\n=LazE\n-----END PGP SIGNATURE-----", "payload": "tree 9ede1c7b44b5064957e8a9d588880f10a0c8acd3\nparent 47ab5f7ce27397310bd8359b8db1504fbf8a9b59\nauthor Santiago Pastorino <spastorino@gmail.com> 1629853838 -0300\ncommitter Santiago Pastorino <spastorino@gmail.com> 1629853838 -0300\n\nAdd type of a let tait test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/08e20d9b28685d438839bd695a9309a8947a61fa", "html_url": "https://github.com/rust-lang/rust/commit/08e20d9b28685d438839bd695a9309a8947a61fa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/08e20d9b28685d438839bd695a9309a8947a61fa/comments", "author": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "committer": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "47ab5f7ce27397310bd8359b8db1504fbf8a9b59", "url": "https://api.github.com/repos/rust-lang/rust/commits/47ab5f7ce27397310bd8359b8db1504fbf8a9b59", "html_url": "https://github.com/rust-lang/rust/commit/47ab5f7ce27397310bd8359b8db1504fbf8a9b59"}], "stats": {"total": 96, "additions": 96, "deletions": 0}, "files": [{"sha": "7f8e6127cca3b2faf3b078c5bb6f34823fe1e857", "filename": "src/test/ui/type-alias-impl-trait/type_of_a_let.rs", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/08e20d9b28685d438839bd695a9309a8947a61fa/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let.rs", "raw_url": "https://github.com/rust-lang/rust/raw/08e20d9b28685d438839bd695a9309a8947a61fa/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let.rs?ref=08e20d9b28685d438839bd695a9309a8947a61fa", "patch": "@@ -0,0 +1,29 @@\n+#![feature(type_alias_impl_trait)]\n+#![allow(dead_code)]\n+\n+// FIXME This should compile, but it currently doesn't\n+\n+use std::fmt::Debug;\n+\n+type Foo = impl Debug;\n+//~^ ERROR: could not find defining uses\n+\n+fn foo1() -> u32 {\n+    let x: Foo = 22_u32;\n+    //~^ ERROR: mismatched types [E0308]\n+    x\n+    //~^ ERROR: mismatched types [E0308]\n+}\n+\n+fn foo2() -> u32 {\n+    let x: Foo = 22_u32;\n+    //~^ ERROR: mismatched types [E0308]\n+    let y: Foo = x;\n+    same_type((x, y));\n+    y\n+    //~^ ERROR: mismatched types [E0308]\n+}\n+\n+fn same_type<T>(x: (T, T)) {}\n+\n+fn main() {}"}, {"sha": "cac8d6841afda098ec95f81178252b7c16d75123", "filename": "src/test/ui/type-alias-impl-trait/type_of_a_let.stderr", "status": "added", "additions": 67, "deletions": 0, "changes": 67, "blob_url": "https://github.com/rust-lang/rust/blob/08e20d9b28685d438839bd695a9309a8947a61fa/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/08e20d9b28685d438839bd695a9309a8947a61fa/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let.stderr?ref=08e20d9b28685d438839bd695a9309a8947a61fa", "patch": "@@ -0,0 +1,67 @@\n+error[E0308]: mismatched types\n+  --> $DIR/type_of_a_let.rs:12:18\n+   |\n+LL | type Foo = impl Debug;\n+   |            ---------- the expected opaque type\n+...\n+LL |     let x: Foo = 22_u32;\n+   |            ---   ^^^^^^ expected opaque type, found `u32`\n+   |            |\n+   |            expected due to this\n+   |\n+   = note: expected opaque type `impl Debug`\n+                     found type `u32`\n+\n+error[E0308]: mismatched types\n+  --> $DIR/type_of_a_let.rs:14:5\n+   |\n+LL | type Foo = impl Debug;\n+   |            ---------- the found opaque type\n+...\n+LL | fn foo1() -> u32 {\n+   |              --- expected `u32` because of return type\n+...\n+LL |     x\n+   |     ^ expected `u32`, found opaque type\n+   |\n+   = note:     expected type `u32`\n+           found opaque type `impl Debug`\n+\n+error[E0308]: mismatched types\n+  --> $DIR/type_of_a_let.rs:19:18\n+   |\n+LL | type Foo = impl Debug;\n+   |            ---------- the expected opaque type\n+...\n+LL |     let x: Foo = 22_u32;\n+   |            ---   ^^^^^^ expected opaque type, found `u32`\n+   |            |\n+   |            expected due to this\n+   |\n+   = note: expected opaque type `impl Debug`\n+                     found type `u32`\n+\n+error[E0308]: mismatched types\n+  --> $DIR/type_of_a_let.rs:23:5\n+   |\n+LL | type Foo = impl Debug;\n+   |            ---------- the found opaque type\n+...\n+LL | fn foo2() -> u32 {\n+   |              --- expected `u32` because of return type\n+...\n+LL |     y\n+   |     ^ expected `u32`, found opaque type\n+   |\n+   = note:     expected type `u32`\n+           found opaque type `impl Debug`\n+\n+error: could not find defining uses\n+  --> $DIR/type_of_a_let.rs:8:12\n+   |\n+LL | type Foo = impl Debug;\n+   |            ^^^^^^^^^^\n+\n+error: aborting due to 5 previous errors\n+\n+For more information about this error, try `rustc --explain E0308`."}]}