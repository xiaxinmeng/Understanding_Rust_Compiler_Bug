{"sha": "94cfd1b4adb16b059e1b596c7f3f96af4fc7726b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0Y2ZkMWI0YWRiMTZiMDU5ZTFiNTk2YzdmM2Y5NmFmNGZjNzcyNmI=", "commit": {"author": {"name": "Kevin Ballard", "email": "kevin@sb.org", "date": "2014-07-06T08:09:03Z"}, "committer": {"name": "Kevin Ballard", "email": "kevin@sb.org", "date": "2014-07-08T05:18:27Z"}, "message": "Set softtabstop, textwidth, and optionally colorcolumn\n\nSetting softtabstop makes <Del> delete 4 spaces as if it were a tab.\n\nSetting textwidth allows comments to be wrapped automatically. It's set\nat 80, which is the recommended line length for Rust programs. There are\nsuggestions that it should be 79, but our current style guide says 80 so\nthat's what we're matching.\n\nA new setting g:rust_colorcolumn sets colorcolumn as well, to +1,101.\nThis indicates both the textwidth and the second stricter line length of\n100 that our style guide lists.", "tree": {"sha": "2e924c18086c66065704db73429bb41569e43220", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2e924c18086c66065704db73429bb41569e43220"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/94cfd1b4adb16b059e1b596c7f3f96af4fc7726b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/94cfd1b4adb16b059e1b596c7f3f96af4fc7726b", "html_url": "https://github.com/rust-lang/rust/commit/94cfd1b4adb16b059e1b596c7f3f96af4fc7726b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/94cfd1b4adb16b059e1b596c7f3f96af4fc7726b/comments", "author": {"login": "lilyball", "id": 714, "node_id": "MDQ6VXNlcjcxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilyball", "html_url": "https://github.com/lilyball", "followers_url": "https://api.github.com/users/lilyball/followers", "following_url": "https://api.github.com/users/lilyball/following{/other_user}", "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions", "organizations_url": "https://api.github.com/users/lilyball/orgs", "repos_url": "https://api.github.com/users/lilyball/repos", "events_url": "https://api.github.com/users/lilyball/events{/privacy}", "received_events_url": "https://api.github.com/users/lilyball/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lilyball", "id": 714, "node_id": "MDQ6VXNlcjcxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilyball", "html_url": "https://github.com/lilyball", "followers_url": "https://api.github.com/users/lilyball/followers", "following_url": "https://api.github.com/users/lilyball/following{/other_user}", "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions", "organizations_url": "https://api.github.com/users/lilyball/orgs", "repos_url": "https://api.github.com/users/lilyball/repos", "events_url": "https://api.github.com/users/lilyball/events{/privacy}", "received_events_url": "https://api.github.com/users/lilyball/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c6492040b260b09e92526e10807dfa7e71f8c901", "url": "https://api.github.com/repos/rust-lang/rust/commits/c6492040b260b09e92526e10807dfa7e71f8c901", "html_url": "https://github.com/rust-lang/rust/commit/c6492040b260b09e92526e10807dfa7e71f8c901"}], "stats": {"total": 36, "additions": 32, "deletions": 4}, "files": [{"sha": "fdf3a052b2c83d90300b461804d23a48d7d8f4ee", "filename": "src/etc/vim/doc/rust.txt", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/94cfd1b4adb16b059e1b596c7f3f96af4fc7726b/src%2Fetc%2Fvim%2Fdoc%2Frust.txt", "raw_url": "https://github.com/rust-lang/rust/raw/94cfd1b4adb16b059e1b596c7f3f96af4fc7726b/src%2Fetc%2Fvim%2Fdoc%2Frust.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fdoc%2Frust.txt?ref=94cfd1b4adb16b059e1b596c7f3f96af4fc7726b", "patch": "@@ -1,7 +1,7 @@\n *rust.txt*      Filetype plugin for Rust\n \n ==============================================================================\n-CONTENTS                                                                *rust*\n+CONTENTS                                                      *rust* *ft-rust*\n \n 1. Introduction                                                   |rust-intro|\n 2. Settings                                                    |rust-settings|\n@@ -34,6 +34,12 @@ g:rustc_makeprg_no_percent~\n \t    let g:rustc_makeprg_no_percent = 1\n <\n \n+                                                          *g:rust_colorcolumn*\n+g:rust_colorcolumn~\n+\tSet this option to use 'colorcolumn' to highlight the text width\n+\tindicate the 100 column recommended hard limit on line lengths: >\n+\t    let g:rust_colorcolumn = 1\n+<\n                                                               *g:rust_conceal*\n g:rust_conceal~\n \tSet this option to turn on the basic |conceal| support: >"}, {"sha": "2b1261c35b594445a95dacca8e1f5640720a62f2", "filename": "src/etc/vim/ftplugin/rust.vim", "status": "modified", "additions": 25, "deletions": 3, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/94cfd1b4adb16b059e1b596c7f3f96af4fc7726b/src%2Fetc%2Fvim%2Fftplugin%2Frust.vim", "raw_url": "https://github.com/rust-lang/rust/raw/94cfd1b4adb16b059e1b596c7f3f96af4fc7726b/src%2Fetc%2Fvim%2Fftplugin%2Frust.vim", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fftplugin%2Frust.vim?ref=94cfd1b4adb16b059e1b596c7f3f96af4fc7726b", "patch": "@@ -2,7 +2,7 @@\n \" Description:  Vim syntax file for Rust\n \" Maintainer:   Chris Morgan <me@chrismorgan.info>\n \" Maintainer:   Kevin Ballard <kevin@sb.org>\n-\" Last Change:  May 27, 2014\n+\" Last Change:  July 06, 2014\n \n if exists(\"b:did_ftplugin\")\n \tfinish\n@@ -35,7 +35,24 @@ silent! setlocal formatoptions+=j\n \" otherwise it's better than nothing.\n setlocal smartindent nocindent\n \n-setlocal tabstop=4 shiftwidth=4 expandtab\n+setlocal tabstop=4 shiftwidth=4 softtabstop=4 expandtab\n+\n+\" Line lengths {{{2\n+\n+\" Rust style conventions for line lengths say you SHOULD not go over 80\n+\" columns and MUST not go over 100.\n+\" Without a good 'formatexpr' we can't automatically wrap code, but we can\n+\" still wrap comments just fine with 'textwidth'.\n+setlocal textwidth=80\n+\n+\" We can also use 'colorcolumn' to highlight both the 80 and 100 limits. Not\n+\" everyone likes this so it's gated.\n+if exists('g:rust_colorcolumn')\n+\tsetlocal colorcolumn=+1,101\n+\tlet b:rust_colorcolumn=1\n+endif\n+\n+\" }}}2\n \n \" This includeexpr isn't perfect, but it's a good start\n setlocal includeexpr=substitute(v:fname,'::','/','g')\n@@ -93,7 +110,12 @@ endif\n \" Cleanup {{{1\n \n let b:undo_ftplugin = \"\n-\t\t\\setlocal formatoptions< comments< commentstring< includeexpr< suffixesadd<\n+\t\t\\ setlocal formatoptions< comments< commentstring< includeexpr< suffixesadd<\n+\t\t\\|setlocal tabstop< shiftwidth< softtabstop< expandtab< textwidth<\n+\t\t\\|if exists('b:rust_colorcolumn')\n+\t\t  \\|setlocal colorcolumn<\n+\t\t  \\|unlet b:rust_colorcolumn\n+\t\t\\|endif\n \t\t\\|if exists('b:rust_original_delimitMate_excluded_regions')\n \t\t  \\|let b:delimitMate_excluded_regions = b:rust_original_delimitMate_excluded_regions\n \t\t  \\|unlet b:rust_original_delimitMate_excluded_regions"}]}