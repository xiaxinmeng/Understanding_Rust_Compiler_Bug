{"sha": "8f5404d0d79f7cef9445b531aae5394fe3b22f29", "node_id": "C_kwDOAAsO6NoAKDhmNTQwNGQwZDc5ZjdjZWY5NDQ1YjUzMWFhZTUzOTRmZTNiMjJmMjk", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-04-05T15:13:12Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-04-05T19:38:52Z"}, "message": "Update GUI tests for logo display on very small screens", "tree": {"sha": "315b16c29869802565007c927de8a9637b24efad", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/315b16c29869802565007c927de8a9637b24efad"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8f5404d0d79f7cef9445b531aae5394fe3b22f29", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8f5404d0d79f7cef9445b531aae5394fe3b22f29", "html_url": "https://github.com/rust-lang/rust/commit/8f5404d0d79f7cef9445b531aae5394fe3b22f29", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8f5404d0d79f7cef9445b531aae5394fe3b22f29/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "906bdd3bdb5423794971786d3b0783206645b340", "url": "https://api.github.com/repos/rust-lang/rust/commits/906bdd3bdb5423794971786d3b0783206645b340", "html_url": "https://github.com/rust-lang/rust/commit/906bdd3bdb5423794971786d3b0783206645b340"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "69459bd3e23b5cafdca8093105be90996e967f31", "filename": "tests/rustdoc-gui/huge-logo.goml", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8f5404d0d79f7cef9445b531aae5394fe3b22f29/tests%2Frustdoc-gui%2Fhuge-logo.goml", "raw_url": "https://github.com/rust-lang/rust/raw/8f5404d0d79f7cef9445b531aae5394fe3b22f29/tests%2Frustdoc-gui%2Fhuge-logo.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fhuge-logo.goml?ref=8f5404d0d79f7cef9445b531aae5394fe3b22f29", "patch": "@@ -18,4 +18,6 @@ size: (1280, 1024)\n assert-property: (\".sub-logo-container\", {\"offsetWidth\": \"60\", \"offsetHeight\": 60})\n \n size: (400, 600)\n-assert-property: (\".sub-logo-container\", {\"offsetWidth\": \"35\", \"offsetHeight\": 35})\n+// 43 because 35px + 8px of margin\n+assert-css: (\".sub-logo-container > img\", {\"margin-bottom\": \"8px\"})\n+assert-property: (\".sub-logo-container\", {\"offsetWidth\": \"35\", \"offsetHeight\": 43})"}, {"sha": "ea6ff12328ca774310bd3b50498a1b5dd9ee6738", "filename": "tests/rustdoc-gui/source-code-page.goml", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/8f5404d0d79f7cef9445b531aae5394fe3b22f29/tests%2Frustdoc-gui%2Fsource-code-page.goml", "raw_url": "https://github.com/rust-lang/rust/raw/8f5404d0d79f7cef9445b531aae5394fe3b22f29/tests%2Frustdoc-gui%2Fsource-code-page.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsource-code-page.goml?ref=8f5404d0d79f7cef9445b531aae5394fe3b22f29", "patch": "@@ -216,3 +216,8 @@ call-function: (\"check-sidebar-dir-entry\", {\n     \"x\": 0,\n     \"y\": |source_sidebar_title_y| + |source_sidebar_title_height| + 6,\n })\n+\n+// Now we check that the logo has a bottom margin so it's not stuck to the search input.\n+assert-css: (\".sub-logo-container > img\", {\"margin-bottom\": \"8px\"})\n+store-property: (logo_height, \".sub-logo-container\", \"clientHeight\")\n+assert-position: (\".search-form\", {\"y\": |logo_height| + 8})"}]}