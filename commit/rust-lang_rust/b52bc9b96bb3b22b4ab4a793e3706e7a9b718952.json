{"sha": "b52bc9b96bb3b22b4ab4a793e3706e7a9b718952", "node_id": "C_kwDOAAsO6NoAKGI1MmJjOWI5NmJiM2IyMmI0YWI0YTc5M2UzNzA2ZTdhOWI3MTg5NTI", "commit": {"author": {"name": "infrandomness", "email": "infrandomness@gmail.com", "date": "2022-04-10T08:59:43Z"}, "committer": {"name": "infrandomness", "email": "infrandomness@gmail.com", "date": "2022-04-14T11:16:20Z"}, "message": "Swap type checked expression\n\nInstead of type checking the entire expression (causing a false\npositive), only type check for a subset of the expression (the receiver of\nthe matched function: `take()`)", "tree": {"sha": "fcc6ff1863a5c9f65fc705251ca7dd9dd2d73897", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fcc6ff1863a5c9f65fc705251ca7dd9dd2d73897"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b52bc9b96bb3b22b4ab4a793e3706e7a9b718952", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b52bc9b96bb3b22b4ab4a793e3706e7a9b718952", "html_url": "https://github.com/rust-lang/rust/commit/b52bc9b96bb3b22b4ab4a793e3706e7a9b718952", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b52bc9b96bb3b22b4ab4a793e3706e7a9b718952/comments", "author": {"login": "InfRandomness", "id": 43730933, "node_id": "MDQ6VXNlcjQzNzMwOTMz", "avatar_url": "https://avatars.githubusercontent.com/u/43730933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InfRandomness", "html_url": "https://github.com/InfRandomness", "followers_url": "https://api.github.com/users/InfRandomness/followers", "following_url": "https://api.github.com/users/InfRandomness/following{/other_user}", "gists_url": "https://api.github.com/users/InfRandomness/gists{/gist_id}", "starred_url": "https://api.github.com/users/InfRandomness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InfRandomness/subscriptions", "organizations_url": "https://api.github.com/users/InfRandomness/orgs", "repos_url": "https://api.github.com/users/InfRandomness/repos", "events_url": "https://api.github.com/users/InfRandomness/events{/privacy}", "received_events_url": "https://api.github.com/users/InfRandomness/received_events", "type": "User", "site_admin": false}, "committer": {"login": "InfRandomness", "id": 43730933, "node_id": "MDQ6VXNlcjQzNzMwOTMz", "avatar_url": "https://avatars.githubusercontent.com/u/43730933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InfRandomness", "html_url": "https://github.com/InfRandomness", "followers_url": "https://api.github.com/users/InfRandomness/followers", "following_url": "https://api.github.com/users/InfRandomness/following{/other_user}", "gists_url": "https://api.github.com/users/InfRandomness/gists{/gist_id}", "starred_url": "https://api.github.com/users/InfRandomness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InfRandomness/subscriptions", "organizations_url": "https://api.github.com/users/InfRandomness/orgs", "repos_url": "https://api.github.com/users/InfRandomness/repos", "events_url": "https://api.github.com/users/InfRandomness/events{/privacy}", "received_events_url": "https://api.github.com/users/InfRandomness/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b2b343b23c50e136e14c303f2579ae2a2fda5f2", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b2b343b23c50e136e14c303f2579ae2a2fda5f2", "html_url": "https://github.com/rust-lang/rust/commit/8b2b343b23c50e136e14c303f2579ae2a2fda5f2"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "297d83e9e37da4baba2f81a6534abe27ac61da15", "filename": "clippy_lints/src/methods/needless_option_take.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b52bc9b96bb3b22b4ab4a793e3706e7a9b718952/clippy_lints%2Fsrc%2Fmethods%2Fneedless_option_take.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b52bc9b96bb3b22b4ab4a793e3706e7a9b718952/clippy_lints%2Fsrc%2Fmethods%2Fneedless_option_take.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fneedless_option_take.rs?ref=b52bc9b96bb3b22b4ab4a793e3706e7a9b718952", "patch": "@@ -10,7 +10,7 @@ use super::NEEDLESS_OPTION_TAKE;\n \n pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx Expr<'_>, recv: &'tcx Expr<'_>) {\n     // Checks if expression type is equal to sym::Option and if the expr is not a syntactic place\n-    if is_expr_option(cx, expr) && !expr.is_syntactic_place_expr() {\n+    if is_expr_option(cx, recv) && !recv.is_syntactic_place_expr() {\n         let mut applicability = Applicability::MachineApplicable;\n         span_lint_and_sugg(\n             cx,"}]}