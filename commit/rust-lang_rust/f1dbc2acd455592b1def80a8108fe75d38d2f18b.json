{"sha": "f1dbc2acd455592b1def80a8108fe75d38d2f18b", "node_id": "C_kwDOAAsO6NoAKGYxZGJjMmFjZDQ1NTU5MmIxZGVmODBhODEwOGZlNzVkMzhkMmYxOGI", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-03-22T15:31:45Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-03-22T15:31:45Z"}, "message": "Merge #11789\n\n11789: fix: Fix lifetime elision hint configuration key r=Veykril a=Veykril\n\nThis is inconsistent with the other configuration keys unfortunately, but this is an issue of how we structured them here in general.\r\n\r\nI feel like we'll have to do a proper pass over all the configs, check them for consistency and then write down some documentation of how our configs should be laid out, then apply fixes to the inconsistencies all at once which will entail breaking some user configurations unfortunately since we won't be able to do proper fallback handling for some of these.\r\n\r\nFixes https://github.com/rust-analyzer/rust-analyzer/issues/11778\r\n\r\nbors r+\n\nCo-authored-by: Lukas Wirth <lukastw97@gmail.com>", "tree": {"sha": "10da11d17b0af733f50c946fa74ecf17f9075645", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/10da11d17b0af733f50c946fa74ecf17f9075645"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f1dbc2acd455592b1def80a8108fe75d38d2f18b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiOevhCRBK7hj4Ov3rIwAAX98IAKKt1srtmzzOaHSJM+nCDe+W\nJGZgr/tQL7Zm6K7b77xGy0ycU+PVXDtk6fMO5KEoloFvw8ZoEKZy+Ulu3AzS9kyk\nBmfvM8xCishoEvWzcqheLmxPZisUHaNHM+HLktaKm1hpwiESpEetWO7o5wfEj/LO\nzJjcjB/1u3TLz5mZmYW1ooroZCFT8XEpqdVr6jUgkgRH2G1aq6HIrxZti0jdAEEh\nt4836+yYdxMnxBraH1OxWQdVK4xTyw5P9vm/2pdTkOmzG1hFvl4d3Yslc3FnaNV7\ng48NLKWuxQ6Dqo4/TVQSvFsZ0LZrwIXy487gdpMVM9z9Qx9OPOiq3juE8lkmkqY=\n=kPJD\n-----END PGP SIGNATURE-----\n", "payload": "tree 10da11d17b0af733f50c946fa74ecf17f9075645\nparent 800ae516db92edccde4f4915994f3312270250c4\nparent ecf2c98859a46de0133f961f293d0f72ce3eee3c\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1647963105 +0000\ncommitter GitHub <noreply@github.com> 1647963105 +0000\n\nMerge #11789\n\n11789: fix: Fix lifetime elision hint configuration key r=Veykril a=Veykril\n\nThis is inconsistent with the other configuration keys unfortunately, but this is an issue of how we structured them here in general.\r\n\r\nI feel like we'll have to do a proper pass over all the configs, check them for consistency and then write down some documentation of how our configs should be laid out, then apply fixes to the inconsistencies all at once which will entail breaking some user configurations unfortunately since we won't be able to do proper fallback handling for some of these.\r\n\r\nFixes https://github.com/rust-analyzer/rust-analyzer/issues/11778\r\n\r\nbors r+\n\nCo-authored-by: Lukas Wirth <lukastw97@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f1dbc2acd455592b1def80a8108fe75d38d2f18b", "html_url": "https://github.com/rust-lang/rust/commit/f1dbc2acd455592b1def80a8108fe75d38d2f18b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f1dbc2acd455592b1def80a8108fe75d38d2f18b/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "800ae516db92edccde4f4915994f3312270250c4", "url": "https://api.github.com/repos/rust-lang/rust/commits/800ae516db92edccde4f4915994f3312270250c4", "html_url": "https://github.com/rust-lang/rust/commit/800ae516db92edccde4f4915994f3312270250c4"}, {"sha": "ecf2c98859a46de0133f961f293d0f72ce3eee3c", "url": "https://api.github.com/repos/rust-lang/rust/commits/ecf2c98859a46de0133f961f293d0f72ce3eee3c", "html_url": "https://github.com/rust-lang/rust/commit/ecf2c98859a46de0133f961f293d0f72ce3eee3c"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "f7df51e36a96050c6ea69f23d5066e808fcb7f2d", "filename": "crates/rust-analyzer/src/config.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f1dbc2acd455592b1def80a8108fe75d38d2f18b/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1dbc2acd455592b1def80a8108fe75d38d2f18b/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs?ref=f1dbc2acd455592b1def80a8108fe75d38d2f18b", "patch": "@@ -259,7 +259,7 @@ config_data! {\n         /// Whether to show inlay type hints for compiler inserted reborrows.\n         inlayHints_reborrowHints: bool                      = \"false\",\n         /// Whether to show inlay type hints for elided lifetimes in function signatures.\n-        inlayHints_lifetimeElisionHints: LifetimeElisionDef = \"\\\"never\\\"\",\n+        inlayHints_lifetimeElisionHints_enable: LifetimeElisionDef = \"\\\"never\\\"\",\n         /// Whether to prefer using parameter names as the name for elided lifetime hints if possible.\n         inlayHints_lifetimeElisionHints_useParameterNames: bool  = \"false\",\n         /// Whether to hide inlay hints for constructors.\n@@ -862,7 +862,7 @@ impl Config {\n             parameter_hints: self.data.inlayHints_parameterHints,\n             chaining_hints: self.data.inlayHints_chainingHints,\n             closure_return_type_hints: self.data.inlayHints_closureReturnTypeHints,\n-            lifetime_elision_hints: match self.data.inlayHints_lifetimeElisionHints {\n+            lifetime_elision_hints: match self.data.inlayHints_lifetimeElisionHints_enable {\n                 LifetimeElisionDef::Always => LifetimeElisionHints::Always,\n                 LifetimeElisionDef::Never => LifetimeElisionHints::Never,\n                 LifetimeElisionDef::SkipTrivial => LifetimeElisionHints::SkipTrivial,"}, {"sha": "bf8d482432e06ad5f962eb65fb556aab1ede4df9", "filename": "docs/user/generated_config.adoc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f1dbc2acd455592b1def80a8108fe75d38d2f18b/docs%2Fuser%2Fgenerated_config.adoc", "raw_url": "https://github.com/rust-lang/rust/raw/f1dbc2acd455592b1def80a8108fe75d38d2f18b/docs%2Fuser%2Fgenerated_config.adoc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Fgenerated_config.adoc?ref=f1dbc2acd455592b1def80a8108fe75d38d2f18b", "patch": "@@ -383,7 +383,7 @@ Whether to show inlay type hints for return types of closures with blocks.\n --\n Whether to show inlay type hints for compiler inserted reborrows.\n --\n-[[rust-analyzer.inlayHints.lifetimeElisionHints]]rust-analyzer.inlayHints.lifetimeElisionHints (default: `\"never\"`)::\n+[[rust-analyzer.inlayHints.lifetimeElisionHints.enable]]rust-analyzer.inlayHints.lifetimeElisionHints.enable (default: `\"never\"`)::\n +\n --\n Whether to show inlay type hints for elided lifetimes in function signatures."}, {"sha": "bf242d68959198ff444f55ffb33c8d6e16a3b0a6", "filename": "editors/code/package.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f1dbc2acd455592b1def80a8108fe75d38d2f18b/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/f1dbc2acd455592b1def80a8108fe75d38d2f18b/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=f1dbc2acd455592b1def80a8108fe75d38d2f18b", "patch": "@@ -800,7 +800,7 @@\n                     \"default\": false,\n                     \"type\": \"boolean\"\n                 },\n-                \"rust-analyzer.inlayHints.lifetimeElisionHints\": {\n+                \"rust-analyzer.inlayHints.lifetimeElisionHints.enable\": {\n                     \"markdownDescription\": \"Whether to show inlay type hints for elided lifetimes in function signatures.\",\n                     \"default\": \"never\",\n                     \"type\": \"string\","}]}