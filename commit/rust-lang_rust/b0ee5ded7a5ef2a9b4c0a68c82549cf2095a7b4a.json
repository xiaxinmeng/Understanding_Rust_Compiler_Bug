{"sha": "b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwZWU1ZGVkN2E1ZWYyYTliNGMwYTY4YzgyNTQ5Y2YyMDk1YTdiNGE=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-08-16T11:23:54Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-08-25T13:30:47Z"}, "message": "Update tests", "tree": {"sha": "144792e4741d1ad2794a17e57b0579b1d9d48ba6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/144792e4741d1ad2794a17e57b0579b1d9d48ba6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a", "html_url": "https://github.com/rust-lang/rust/commit/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a54594430fa13f534d51925f905c266cc9d8804e", "url": "https://api.github.com/repos/rust-lang/rust/commits/a54594430fa13f534d51925f905c266cc9d8804e", "html_url": "https://github.com/rust-lang/rust/commit/a54594430fa13f534d51925f905c266cc9d8804e"}], "stats": {"total": 27, "additions": 1, "deletions": 26}, "files": [{"sha": "71e7db5f4a543d08cda585497b0d1d546aea5dc9", "filename": "src/test/rustdoc/assoc-consts.rs", "status": "modified", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/src%2Ftest%2Frustdoc%2Fassoc-consts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/src%2Ftest%2Frustdoc%2Fassoc-consts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fassoc-consts.rs?ref=b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a", "patch": "@@ -13,7 +13,6 @@ pub trait Foo {\n     // @has assoc_consts/trait.Foo.html '//*[@class=\"rust trait\"]' \\\n     //      'const FOO: usize;'\n     // @has - '//*[@id=\"associatedconstant.FOO\"]' 'const FOO: usize'\n-    // @has - '//*[@class=\"docblock\"]' 'FOO: usize = 12'\n     const FOO: usize = 12;\n     // @has - '//*[@id=\"associatedconstant.FOO_NO_DEFAULT\"]' 'const FOO_NO_DEFAULT: bool'\n     const FOO_NO_DEFAULT: bool;\n@@ -27,10 +26,8 @@ pub struct Bar;\n impl Foo for Bar {\n     // @has assoc_consts/struct.Bar.html '//code' 'impl Foo for Bar'\n     // @has - '//*[@id=\"associatedconstant.FOO\"]' 'const FOO: usize'\n-    // @has - '//*[@class=\"docblock\"]' 'FOO: usize = 12'\n     const FOO: usize = 12;\n     // @has - '//*[@id=\"associatedconstant.FOO_NO_DEFAULT\"]' 'const FOO_NO_DEFAULT: bool'\n-    // @has - '//*[@class=\"docblock\"]' 'FOO_NO_DEFAULT: bool = false'\n     const FOO_NO_DEFAULT: bool = false;\n     // @!has - FOO_HIDDEN\n     #[doc(hidden)]\n@@ -40,7 +37,6 @@ impl Foo for Bar {\n impl Bar {\n     // @has assoc_consts/struct.Bar.html '//*[@id=\"associatedconstant.BAR\"]' \\\n     //      'const BAR: usize'\n-    // @has - '//*[@class=\"docblock\"]' 'BAR: usize = 3'\n     pub const BAR: usize = 3;\n }\n \n@@ -49,7 +45,6 @@ pub struct Baz<'a, U: 'a, T>(T, &'a [U]);\n impl Bar {\n     // @has assoc_consts/struct.Bar.html '//*[@id=\"associatedconstant.BAZ\"]' \\\n     //      \"const BAZ: Baz<'static, u8, u32>\"\n-    // @has - '//*[@class=\"docblock\"]' \"BAZ: Baz<'static, u8, u32> = Baz(321, &[1, 2, 3])\"\n     pub const BAZ: Baz<'static, u8, u32> = Baz(321, &[1, 2, 3]);\n }\n \n@@ -58,7 +53,6 @@ pub fn f(_: &(ToString + 'static)) {}\n impl Bar {\n     // @has assoc_consts/struct.Bar.html '//*[@id=\"associatedconstant.F\"]' \\\n     //      \"const F: fn(_: &(ToString + 'static))\"\n-    // @has - '//*[@class=\"docblock\"]' \"F: fn(_: &(ToString + 'static)) = f\"\n     pub const F: fn(_: &(ToString + 'static)) = f;\n }\n \n@@ -81,17 +75,14 @@ pub trait Qux {\n     /// Docs for QUX1 in trait.\n     const QUX1: i8;\n     // @has - '//*[@id=\"associatedconstant.QUX_DEFAULT0\"]' 'const QUX_DEFAULT0: u16'\n-    // @has - '//*[@class=\"docblock\"]' \"QUX_DEFAULT0: u16 = 1\"\n     // @has - '//*[@class=\"docblock\"]' \"Docs for QUX_DEFAULT0 in trait.\"\n     /// Docs for QUX_DEFAULT0 in trait.\n     const QUX_DEFAULT0: u16 = 1;\n     // @has - '//*[@id=\"associatedconstant.QUX_DEFAULT1\"]' 'const QUX_DEFAULT1: i16'\n-    // @has - '//*[@class=\"docblock\"]' \"QUX_DEFAULT1: i16 = 2\"\n     // @has - '//*[@class=\"docblock\"]' \"Docs for QUX_DEFAULT1 in trait.\"\n     /// Docs for QUX_DEFAULT1 in trait.\n     const QUX_DEFAULT1: i16 = 2;\n     // @has - '//*[@id=\"associatedconstant.QUX_DEFAULT2\"]' 'const QUX_DEFAULT2: u32'\n-    // @has - '//*[@class=\"docblock\"]' \"QUX_DEFAULT2: u32 = 3\"\n     // @has - '//*[@class=\"docblock\"]' \"Docs for QUX_DEFAULT2 in trait.\"\n     /// Docs for QUX_DEFAULT2 in trait.\n     const QUX_DEFAULT2: u32 = 3;\n@@ -100,25 +91,20 @@ pub trait Qux {\n // @has assoc_consts/struct.Bar.html '//code' 'impl Qux for Bar'\n impl Qux for Bar {\n     // @has - '//*[@id=\"associatedconstant.QUX0\"]' 'const QUX0: u8'\n-    // @has - '//*[@class=\"docblock\"]' \"QUX0: u8 = 4\"\n     // @has - '//*[@class=\"docblock\"]' \"Docs for QUX0 in trait.\"\n     /// Docs for QUX0 in trait.\n     const QUX0: u8 = 4;\n     // @has - '//*[@id=\"associatedconstant.QUX1\"]' 'const QUX1: i8'\n-    // @has - '//*[@class=\"docblock\"]' \"QUX1: i8 = 5\"\n     // @has - '//*[@class=\"docblock\"]' \"Docs for QUX1 in impl.\"\n     /// Docs for QUX1 in impl.\n     const QUX1: i8 = 5;\n     // @has - '//*[@id=\"associatedconstant.QUX_DEFAULT0\"]' 'const QUX_DEFAULT0: u16'\n-    // @has - '//*[@class=\"docblock\"]' \"QUX_DEFAULT0: u16 = 6\"\n     // @has - '//*[@class=\"docblock\"]' \"Docs for QUX_DEFAULT0 in trait.\"\n     const QUX_DEFAULT0: u16 = 6;\n     // @has - '//*[@id=\"associatedconstant.QUX_DEFAULT1\"]' 'const QUX_DEFAULT1: i16'\n-    // @has - '//*[@class=\"docblock\"]' \"QUX_DEFAULT1: i16 = 7\"\n     // @has - '//*[@class=\"docblock\"]' \"Docs for QUX_DEFAULT1 in impl.\"\n     /// Docs for QUX_DEFAULT1 in impl.\n     const QUX_DEFAULT1: i16 = 7;\n     // @has - '//*[@id=\"associatedconstant.QUX_DEFAULT2\"]' 'const QUX_DEFAULT2: u32'\n-    // @has - '//*[@class=\"docblock\"]' \"QUX_DEFAULT2: u32 = 3\"\n     // @has - '//*[@class=\"docblock\"]' \"Docs for QUX_DEFAULT2 in trait.\"\n }"}, {"sha": "b8bded7621e539c6c4f1bb67fc43c9a3860bd7a6", "filename": "src/test/rustdoc/const-doc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/src%2Ftest%2Frustdoc%2Fconst-doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/src%2Ftest%2Frustdoc%2Fconst-doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fconst-doc.rs?ref=b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a", "patch": "@@ -23,7 +23,7 @@ pub struct ContentType {\n \n impl ContentType {\n     // @has const_doc/struct.ContentType.html\n-    // @has  - '//*[@class=\"docblock\"]' 'Any: ContentType = ContentType{ttype: Foo{f: '\n+    // @has  - '//*[@id=\"associatedconstant.Any\"]' 'const Any: ContentType'\n     pub const Any: ContentType = ContentType { ttype: Foo { f: PhantomData, },\n                                                subtype: Foo { f: PhantomData, },\n                                                params: None, };"}, {"sha": "0885f005d13164d559853a6c599ce5c8b02a9346", "filename": "src/test/rustdoc/inline_cross/assoc-items.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/src%2Ftest%2Frustdoc%2Finline_cross%2Fassoc-items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/src%2Ftest%2Frustdoc%2Finline_cross%2Fassoc-items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_cross%2Fassoc-items.rs?ref=b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a", "patch": "@@ -19,16 +19,13 @@ extern crate assoc_items;\n // @has foo/struct.MyStruct.html\n // @!has - 'PrivateConst'\n // @has - '//*[@id=\"associatedconstant.PublicConst\"]' 'pub const PublicConst: u8'\n-// @has - '//*[@class=\"docblock\"]' 'PublicConst: u8 = 123'\n // @has - '//*[@class=\"docblock\"]' 'docs for PublicConst'\n // @!has - 'private_method'\n // @has - '//*[@id=\"method.public_method\"]' 'pub fn public_method()'\n // @has - '//*[@class=\"docblock\"]' 'docs for public_method'\n // @has - '//*[@id=\"associatedconstant.ConstNoDefault\"]' 'const ConstNoDefault: i16'\n-// @has - '//*[@class=\"docblock\"]' 'ConstNoDefault: i16 = -123'\n // @has - '//*[@class=\"docblock\"]' 'dox for ConstNoDefault'\n // @has - '//*[@id=\"associatedconstant.ConstWithDefault\"]' 'const ConstWithDefault: u16'\n-// @has - '//*[@class=\"docblock\"]' 'ConstWithDefault: u16 = 12345'\n // @has - '//*[@class=\"docblock\"]' 'docs for ConstWithDefault'\n // @has - '//*[@id=\"associatedtype.TypeNoDefault\"]' 'type TypeNoDefault = i32'\n // @has - '//*[@class=\"docblock\"]' 'dox for TypeNoDefault'\n@@ -44,11 +41,9 @@ pub use assoc_items::MyStruct;\n // @has - '//*[@id=\"associatedconstant.ConstNoDefault\"]' 'const ConstNoDefault: i16'\n // @has - '//*[@class=\"docblock\"]' 'docs for ConstNoDefault'\n // @has - '//*[@id=\"associatedconstant.ConstWithDefault\"]' 'const ConstWithDefault: u16'\n-// @has - '//*[@class=\"docblock\"]' 'ConstWithDefault: u16 = 12345'\n // @has - '//*[@class=\"docblock\"]' 'docs for ConstWithDefault'\n // @has - '//*[@id=\"associatedtype.TypeNoDefault\"]' 'type TypeNoDefault'\n // @has - '//*[@class=\"docblock\"]' 'docs for TypeNoDefault'\n-// @has - '//*[@id=\"associatedtype.TypeWithDefault\"]' 'type TypeWithDefault = u32'\n // @has - '//*[@class=\"docblock\"]' 'docs for TypeWithDefault'\n // @has - '//*[@id=\"tymethod.method_no_default\"]' 'fn method_no_default()'\n // @has - '//*[@class=\"docblock\"]' 'docs for method_no_default'"}, {"sha": "cf4ebba4c32ce92e00b0b9dfe8158ece18846772", "filename": "src/test/rustdoc/issue-28478.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/src%2Ftest%2Frustdoc%2Fissue-28478.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/src%2Ftest%2Frustdoc%2Fissue-28478.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-28478.rs?ref=b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a", "patch": "@@ -16,7 +16,6 @@ pub trait Bar {\n     // @has - '//*[@href=\"#associatedtype.Bar\"]' 'Bar'\n     type Bar = ();\n     // @has - '//*[@id=\"associatedconstant.Baz\"]' 'const Baz: usize'\n-    // @has - '//*[@class=\"docblock\"]' 'Baz: usize = 7'\n     // @has - '//*[@href=\"#associatedconstant.Baz\"]' 'Baz'\n     const Baz: usize = 7;\n     // @has - '//*[@id=\"tymethod.bar\"]' 'fn bar'"}, {"sha": "dba8732d893a113367be334a3c4f1890354cea2f", "filename": "src/test/rustdoc/issue-33302.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/src%2Ftest%2Frustdoc%2Fissue-33302.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a/src%2Ftest%2Frustdoc%2Fissue-33302.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-33302.rs?ref=b0ee5ded7a5ef2a9b4c0a68c82549cf2095a7b4a", "patch": "@@ -28,7 +28,6 @@ macro_rules! make {\n             const C: X;\n             // @has issue_33302/trait.T.html \\\n             //        '//*[@class=\"rust trait\"]' 'const D: i32'\n-            // @has - '//*[@class=\"docblock\"]' 'D: i32 = 4 * 4'\n             // @has - '//*[@id=\"associatedconstant.D\"]' 'const D: i32'\n             const D: i32 = ($n * $n);\n         }\n@@ -37,7 +36,6 @@ macro_rules! make {\n         //        '//h3[@class=\"impl\"]' 'impl T<[i32; 16]> for S'\n         // @has - '//*[@id=\"associatedconstant.C\"]' 'const C: [i32; 16]'\n         // @has - '//*[@id=\"associatedconstant.D\"]' 'const D: i32'\n-        // @has - '//*[@class=\"docblock\"]' 'C: [i32; 16] = [0; 4 * 4]'\n         impl T<[i32; ($n * $n)]> for S {\n             const C: [i32; ($n * $n)] = [0; ($n * $n)];\n         }\n@@ -46,7 +44,6 @@ macro_rules! make {\n         //        '//h3[@class=\"impl\"]' 'impl T<[i32; 16]> for S'\n         // @has - '//*[@id=\"associatedconstant.C-1\"]' 'const C: (i32,)'\n         // @has - '//*[@id=\"associatedconstant.D-1\"]' 'const D: i32'\n-        // @has - '//*[@class=\"docblock\"]' 'C: (i32,) = (4,)'\n         impl T<(i32,)> for S {\n             const C: (i32,) = ($n,);\n         }\n@@ -55,8 +52,6 @@ macro_rules! make {\n         //        '//h3[@class=\"impl\"]' 'impl T<(i32, i32)> for S'\n         // @has - '//*[@id=\"associatedconstant.C-2\"]' 'const C: (i32, i32)'\n         // @has - '//*[@id=\"associatedconstant.D-2\"]' 'const D: i32'\n-        // @has - '//*[@class=\"docblock\"]' 'C: (i32, i32) = (4, 4)'\n-        // @has - '//*[@class=\"docblock\"]' 'D: i32 = 4 / 4'\n         impl T<(i32, i32)> for S {\n             const C: (i32, i32) = ($n, $n);\n             const D: i32 = ($n / $n);"}]}