{"sha": "8ef9e2c260647ca58d5ad80affd5b09184b87dc1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhlZjllMmMyNjA2NDdjYTU4ZDVhZDgwYWZmZDViMDkxODRiODdkYzE=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-06-22T08:50:39Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-06-22T08:50:39Z"}, "message": "Rollup merge of #51158 - ogham:patch-1, r=steveklabnik\n\nMention spec and indented blocks in doctest docs\n\nFixes #49717.\n\nThis commit adds a new section to the Documentation Test docs, which briefly mentions indented code blocks, and links to the CommonMark specification for both.\n\nI\u2019m not sure about saying \"fenced code blocks the more popular choice in the Rust community\u201d because it seems like I\u2019m speaking for everyone, but I can\u2019t think of a better way to phrase it!", "tree": {"sha": "2930de7bedd93efc61735b2671dd16d80408eae9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2930de7bedd93efc61735b2671dd16d80408eae9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8ef9e2c260647ca58d5ad80affd5b09184b87dc1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbLLhgCRBK7hj4Ov3rIwAAdHIIAEgwswma8Hby0FPSss+1nEdr\nb7TMCx3yrfV5zvkOo0+7jMEmo84uMOvQQyrNdWPlqa603/g2NsSWvAD1vp82mmIn\npOI+KOWrBsql3Ikq38oTr0t9+yZG4O/rhLZO9ocC/u0oho2LXnR2uwrroaXWrD4E\ndV1K05WwFadFS+y8q2g0UccygfeKs6xaXvqAxL9AWv92c9uyDkqzvqbc4hr+z6PK\nprplTvCwv+7Y+VDhBaMnUmKvnWTWPuT4Pe43xDs88t98r3GYxSn6JqZuj8AMXGKu\n4DaVnuM2usSKoRYRY3bSGstEbFzI5h42NAOewWe4VVtTz/e5amqgmRjVe57GaDI=\n=/nRa\n-----END PGP SIGNATURE-----\n", "payload": "tree 2930de7bedd93efc61735b2671dd16d80408eae9\nparent 7dae5c0e06f10042fc3b29a55bf6285e539c06db\nparent 8f8a7b9a7b236ba02afc1589901acc6b125d6fec\nauthor kennytm <kennytm@gmail.com> 1529657439 +0800\ncommitter GitHub <noreply@github.com> 1529657439 +0800\n\nRollup merge of #51158 - ogham:patch-1, r=steveklabnik\n\nMention spec and indented blocks in doctest docs\n\nFixes #49717.\n\nThis commit adds a new section to the Documentation Test docs, which briefly mentions indented code blocks, and links to the CommonMark specification for both.\n\nI\u2019m not sure about saying \"fenced code blocks the more popular choice in the Rust community\u201d because it seems like I\u2019m speaking for everyone, but I can\u2019t think of a better way to phrase it!\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8ef9e2c260647ca58d5ad80affd5b09184b87dc1", "html_url": "https://github.com/rust-lang/rust/commit/8ef9e2c260647ca58d5ad80affd5b09184b87dc1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8ef9e2c260647ca58d5ad80affd5b09184b87dc1/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7dae5c0e06f10042fc3b29a55bf6285e539c06db", "url": "https://api.github.com/repos/rust-lang/rust/commits/7dae5c0e06f10042fc3b29a55bf6285e539c06db", "html_url": "https://github.com/rust-lang/rust/commit/7dae5c0e06f10042fc3b29a55bf6285e539c06db"}, {"sha": "8f8a7b9a7b236ba02afc1589901acc6b125d6fec", "url": "https://api.github.com/repos/rust-lang/rust/commits/8f8a7b9a7b236ba02afc1589901acc6b125d6fec", "html_url": "https://github.com/rust-lang/rust/commit/8f8a7b9a7b236ba02afc1589901acc6b125d6fec"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "7639537fc553539055e976c897388d278221fce1", "filename": "src/doc/rustdoc/src/documentation-tests.md", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/8ef9e2c260647ca58d5ad80affd5b09184b87dc1/src%2Fdoc%2Frustdoc%2Fsrc%2Fdocumentation-tests.md", "raw_url": "https://github.com/rust-lang/rust/raw/8ef9e2c260647ca58d5ad80affd5b09184b87dc1/src%2Fdoc%2Frustdoc%2Fsrc%2Fdocumentation-tests.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Fdocumentation-tests.md?ref=8ef9e2c260647ca58d5ad80affd5b09184b87dc1", "patch": "@@ -305,3 +305,27 @@ environment that has no network access.\n compiles, then the test will fail. However please note that code failing\n with the current Rust release may work in a future release, as new features\n are added.\n+\n+## Syntax reference\n+\n+The *exact* syntax for code blocks, including the edge cases, can be found\n+in the [Fenced Code Blocks](https://spec.commonmark.org/0.28/#fenced-code-blocks)\n+section of the CommonMark specification.\n+\n+Rustdoc also accepts *indented* code blocks as an alternative to fenced\n+code blocks: instead of surrounding your code with three backticks, you\n+can indent each line by four or more spaces.\n+\n+``````markdown\n+    let foo = \"foo\";\n+    assert_eq!(foo, \"foo\");\n+``````\n+\n+These, too, are documented in the CommonMark specification, in the\n+[Indented Code Blocks](https://spec.commonmark.org/0.28/#indented-code-blocks)\n+section.\n+\n+However, it's preferable to use fenced code blocks over indented code blocks.\n+Not only are fenced code blocks considered more idiomatic for Rust code,\n+but there is no way to use directives such as `ignore` or `should_panic` with\n+indented code blocks."}]}