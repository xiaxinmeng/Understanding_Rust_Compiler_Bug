{"sha": "21e81f1712b2b894075aed194ea0496be59e9eb1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIxZTgxZjE3MTJiMmI4OTQwNzVhZWQxOTRlYTA0OTZiZTU5ZTllYjE=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-11-23T15:21:53Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-11-28T15:55:21Z"}, "message": "Use rust implementation for integration tests in CI", "tree": {"sha": "239c2b587c5d400cc184a6aec110f29e51d2f471", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/239c2b587c5d400cc184a6aec110f29e51d2f471"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/21e81f1712b2b894075aed194ea0496be59e9eb1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqv54U47RUUXZfOLnLO/Nsn7QvnkFAl3f7ekACgkQLO/Nsn7Q\nvnmsVg/+Ntk84wUE4pP12t56GqkFYCnamr+NLmB2BolyL9OruRSfBza4WAy/EodM\nCBmpIpgLnAi8ZN0UcccKSWrvcTF1fmeJ8loTMN2fwUfDlbr+K2lUWMCeUDO7WuNW\nsR8Sgm1GLkhso+1mtuxnHoZf4s8TXTXL1QCng+vRBGnLeYC8HR62KkupehHjwvZv\neB855UBbraxXgpKlNN25igJRpf9YffHgAPmi8Aez05MXE+4jHbzmARcZu7em2l1G\nTw+2UgHTP+i5sljoC6lv1qRsOl2g66JAXFR/MGY0++GGDbMkaWr4ULoJvCeyiojf\nUeOOYsa/NGJxn+CnarAdX6C5HzzWpQJ+0n6OgsHOjVi9NyRzhhRitisV2z2k4XWn\nrF0E+C/w7Y9fkczkDnoRwncz7i6jD6AqBBrejiXgmob8Ajs61dSSkBlXuxg4iycj\ntiOdiImwitfNfEgDQw3NnB4qhBusAeB41C60SxVcCz0sIVGNcv91xRHmFwdtI6hW\nOhTrQnMKsYiATV1uTQb16+RNZqjGlq6sXO+xKectgrTpZvllkmwIKpC8o+6tt0fG\n6ddvJaPEv2q9KGnA3tquY7rF1pHhXdkO1/RBNmUAGkcV6l5ulKn0Bwl1haTf9IVK\no6IsM5D3dJe7Ruo69WwmzVQvY8V1ILT/db6nam056zffUOXEEBI=\n=uWg5\n-----END PGP SIGNATURE-----", "payload": "tree 239c2b587c5d400cc184a6aec110f29e51d2f471\nparent 3e1139a7dc08ce57b83f650d042719b025a30d23\nauthor flip1995 <hello@philkrones.com> 1574522513 +0100\ncommitter flip1995 <hello@philkrones.com> 1574956521 +0100\n\nUse rust implementation for integration tests in CI\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/21e81f1712b2b894075aed194ea0496be59e9eb1", "html_url": "https://github.com/rust-lang/rust/commit/21e81f1712b2b894075aed194ea0496be59e9eb1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/21e81f1712b2b894075aed194ea0496be59e9eb1/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3e1139a7dc08ce57b83f650d042719b025a30d23", "url": "https://api.github.com/repos/rust-lang/rust/commits/3e1139a7dc08ce57b83f650d042719b025a30d23", "html_url": "https://github.com/rust-lang/rust/commit/3e1139a7dc08ce57b83f650d042719b025a30d23"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "d21d7417f46f755b982ba5cb911d072213b41634", "filename": ".travis.yml", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/21e81f1712b2b894075aed194ea0496be59e9eb1/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/21e81f1712b2b894075aed194ea0496be59e9eb1/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=21e81f1712b2b894075aed194ea0496be59e9eb1", "patch": "@@ -66,9 +66,8 @@ matrix:\n     #   if: repo =~ /^rust-lang\\/rust-clippy$/ AND branch IN (auto, try)\n     - env: INTEGRATION=Geal/nom\n       if: repo =~ /^rust-lang\\/rust-clippy$/ AND branch IN (auto, try)\n-    # FIXME blocked on https://github.com/rust-lang/rust-clippy/issues/4727\n-    #- env: INTEGRATION=rust-lang/rustfmt\n-    #  if: repo =~ /^rust-lang\\/rust-clippy$/ AND branch IN (auto, try)\n+    - env: INTEGRATION=rust-lang/rustfmt\n+      if: repo =~ /^rust-lang\\/rust-clippy$/ AND branch IN (auto, try)\n     - env: INTEGRATION=hyperium/hyper\n       if: repo =~ /^rust-lang\\/rust-clippy$/ AND branch IN (auto, try)\n     - env: INTEGRATION=bluss/rust-itertools\n@@ -127,7 +126,7 @@ before_script:\n script:\n   - |\n     if [[ -n ${INTEGRATION} ]]; then\n-      ./ci/integration-tests.sh && sleep 5\n+      cargo test --test integration --features integration && sleep 5\n     else\n       ./ci/base-tests.sh && sleep 5\n     fi"}]}