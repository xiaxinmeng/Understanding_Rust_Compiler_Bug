{"sha": "cdbb60e6a81800b1376752fbd99dbe8f47387266", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkYmI2MGU2YTgxODAwYjEzNzY3NTJmYmQ5OWRiZThmNDczODcyNjY=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2020-01-09T08:49:25Z"}, "committer": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2020-01-09T08:49:25Z"}, "message": "ci: another take at fixing toolstate\n\nSeems like the variable showed by $(ciCheckoutPath) on Azure Pipelines\nwas wrong, making the toolstate script fail. This commit changes that\nfunction to return the variable previously used by the toolstate script.\nOther uses of the function were audited, and there should be no\nconflict.", "tree": {"sha": "ac96155c2e7280634a521d635b48c4a4bbd2857c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ac96155c2e7280634a521d635b48c4a4bbd2857c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cdbb60e6a81800b1376752fbd99dbe8f47387266", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE1JbYPtLJAsc22U9xPgar6Auq8ZwFAl4W6ZcACgkQPgar6Auq\n8ZyACxAAifwyo+U58W/InpZnbSYf9XUd7rET+7N7dilpqxwxGVDK5940/0/ez9gO\n+hS8r2zY7TMSySPYGy2N18OhA3sV4VhVL/DdTGfDio3Md5OafAXgR4RZz7o3ZUJ1\nxbApHJ2nHOwbHn6BHXldJsWA2WJkbFEfR/wdjFGn2To/ZjYhqUdUTO3hbxVjeuRJ\n6RPNLF637pOJvl6LzwHBFAdoUa3Kisx+yWBl+MveR5xOiakRTuzpOoXo5/OTzkYF\nKglYPsKAgeKcraC7L/E6WbJFPnCCyXVcLV690ukNCOFLEv8ZsAFAHxl7at2nhUhA\n9gW4X287MIjW+U2LRo5r06O4JHob6uYqG64yNGML0UIwby/Pat+V4LmCehQct42I\n6l8i8vwWNFWbduPRdoZaXr8CzJ8Za8FpgUTV9ZeFlp4NzpjF8LfOMtQOm8uIU/Pc\nPs8LlrNYhgMqQpyiL1kYCCqpSkhpL3OnqMPUa1IbFWJs43c0zSq634SfUnIrif2r\nJjHffCNU1I0NawHZq7h/HaOZJWONiE4Imb4XnQcvz+IwPW+EeEbKozOhArEsVZGC\nHcbilbIBAr4Yh79daWonQya0oIPm7fKcnMJDwvfQcFtwtsUWUSQPudpREwD8VaEx\npp3lW+LgD5NbtmFaXa6fUr2Bfp2OlDPnPM+WmiHBG+qAeW/QftE=\n=AThB\n-----END PGP SIGNATURE-----", "payload": "tree ac96155c2e7280634a521d635b48c4a4bbd2857c\nparent adc65725004c8aac16392fe4052c3e347181157d\nauthor Pietro Albini <pietro@pietroalbini.org> 1578559765 +0100\ncommitter Pietro Albini <pietro@pietroalbini.org> 1578559765 +0100\n\nci: another take at fixing toolstate\n\nSeems like the variable showed by $(ciCheckoutPath) on Azure Pipelines\nwas wrong, making the toolstate script fail. This commit changes that\nfunction to return the variable previously used by the toolstate script.\nOther uses of the function were audited, and there should be no\nconflict.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cdbb60e6a81800b1376752fbd99dbe8f47387266", "html_url": "https://github.com/rust-lang/rust/commit/cdbb60e6a81800b1376752fbd99dbe8f47387266", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cdbb60e6a81800b1376752fbd99dbe8f47387266/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "adc65725004c8aac16392fe4052c3e347181157d", "url": "https://api.github.com/repos/rust-lang/rust/commits/adc65725004c8aac16392fe4052c3e347181157d", "html_url": "https://github.com/rust-lang/rust/commit/adc65725004c8aac16392fe4052c3e347181157d"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "206065d7072451b9aa4297e722817ca8a2be39be", "filename": "src/ci/shared.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cdbb60e6a81800b1376752fbd99dbe8f47387266/src%2Fci%2Fshared.sh", "raw_url": "https://github.com/rust-lang/rust/raw/cdbb60e6a81800b1376752fbd99dbe8f47387266/src%2Fci%2Fshared.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fshared.sh?ref=cdbb60e6a81800b1376752fbd99dbe8f47387266", "patch": "@@ -80,7 +80,7 @@ function ciCommit {\n \n function ciCheckoutPath {\n     if isAzurePipelines; then\n-        echo \"${SYSTEM_WORKFOLDER}\"\n+        echo \"${BUILD_SOURCESDIRECTORY}\"\n     elif isGitHubActions; then\n         echo \"${GITHUB_WORKSPACE}\"\n     else"}]}