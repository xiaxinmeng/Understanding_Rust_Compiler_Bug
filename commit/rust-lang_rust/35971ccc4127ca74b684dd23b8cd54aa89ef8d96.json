{"sha": "35971ccc4127ca74b684dd23b8cd54aa89ef8d96", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM1OTcxY2NjNDEyN2NhNzRiNjg0ZGQyM2I4Y2Q1NGFhODllZjhkOTY=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2018-06-15T03:49:29Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2018-06-19T17:41:48Z"}, "message": "Update the existing UI tests to reflect diagnostic changes in NLL.", "tree": {"sha": "1d89119aa4ee77f91750d765b282afb002b86bec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1d89119aa4ee77f91750d765b282afb002b86bec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/35971ccc4127ca74b684dd23b8cd54aa89ef8d96", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/35971ccc4127ca74b684dd23b8cd54aa89ef8d96", "html_url": "https://github.com/rust-lang/rust/commit/35971ccc4127ca74b684dd23b8cd54aa89ef8d96", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0d9998cb973f497110789b4d97d1b9803aab6fb1", "url": "https://api.github.com/repos/rust-lang/rust/commits/0d9998cb973f497110789b4d97d1b9803aab6fb1", "html_url": "https://github.com/rust-lang/rust/commit/0d9998cb973f497110789b4d97d1b9803aab6fb1"}], "stats": {"total": 43, "additions": 38, "deletions": 5}, "files": [{"sha": "fbd58cd4c2260adc3212068169d9ba3ee27672a7", "filename": "src/test/ui/asm-out-assign-imm.nll.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Fasm-out-assign-imm.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Fasm-out-assign-imm.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasm-out-assign-imm.nll.stderr?ref=35971ccc4127ca74b684dd23b8cd54aa89ef8d96", "patch": "@@ -0,0 +1,14 @@\n+error[E0384]: cannot assign twice to immutable variable `x`\n+  --> $DIR/asm-out-assign-imm.rs:33:9\n+   |\n+LL |     let x: isize;\n+   |         - consider changing this to `mut x`\n+LL |     x = 1;\n+   |     ----- first assignment to `x`\n+...\n+LL |         asm!(\"mov $1, $0\" : \"=r\"(x) : \"r\"(5));\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ cannot assign twice to immutable variable\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0384`."}, {"sha": "1cf68795bf07f5e3dc4101d9162eebdb259068ed", "filename": "src/test/ui/borrowck/immutable-arg.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Fborrowck%2Fimmutable-arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Fborrowck%2Fimmutable-arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fimmutable-arg.stderr?ref=35971ccc4127ca74b684dd23b8cd54aa89ef8d96", "patch": "@@ -10,7 +10,7 @@ error[E0384]: cannot assign to immutable argument `_x` (Mir)\n   --> $DIR/immutable-arg.rs:14:5\n    |\n LL | fn foo(_x: u32) {\n-   |        -- argument not declared as `mut`\n+   |        -- consider changing this to `mut _x`\n LL |     _x = 4;\n    |     ^^^^^^ cannot assign to immutable argument\n "}, {"sha": "10dcf7d0e657a38d177b763486190b1d1da6f925", "filename": "src/test/ui/command-line-diagnostics.nll.stderr", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Fcommand-line-diagnostics.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Fcommand-line-diagnostics.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcommand-line-diagnostics.nll.stderr?ref=35971ccc4127ca74b684dd23b8cd54aa89ef8d96", "patch": "@@ -2,7 +2,9 @@ error[E0384]: cannot assign twice to immutable variable `x`\n   --> $DIR/command-line-diagnostics.rs:16:5\n    |\n LL |     let x = 42;\n-   |             -- first assignment to `x`\n+   |         -   -- first assignment to `x`\n+   |         |\n+   |         consider changing this to `mut x`\n LL |     x = 43;\n    |     ^^^^^^ cannot assign twice to immutable variable\n "}, {"sha": "0c1dcb29d4d2c2067f795325946bc69e76d45ed7", "filename": "src/test/ui/did_you_mean/issue-35937.nll.stderr", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Fdid_you_mean%2Fissue-35937.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Fdid_you_mean%2Fissue-35937.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fissue-35937.nll.stderr?ref=35971ccc4127ca74b684dd23b8cd54aa89ef8d96", "patch": "@@ -10,15 +10,20 @@ error[E0384]: cannot assign twice to immutable variable `s.x`\n   --> $DIR/issue-35937.rs:26:5\n    |\n LL |     let s = S { x: 42 };\n-   |             ----------- first assignment to `s.x`\n+   |         -   ----------- first assignment to `s.x`\n+   |         |\n+   |         consider changing this to `mut s`\n LL |     s.x += 1; //~ ERROR cannot assign\n    |     ^^^^^^^^ cannot assign twice to immutable variable\n \n error[E0384]: cannot assign twice to immutable variable `s.x`\n   --> $DIR/issue-35937.rs:30:5\n    |\n LL | fn bar(s: S) {\n-   |        - first assignment to `s.x`\n+   |        -\n+   |        |\n+   |        first assignment to `s.x`\n+   |        consider changing this to `mut s`\n LL |     s.x += 1; //~ ERROR cannot assign\n    |     ^^^^^^^^ cannot assign twice to immutable variable\n "}, {"sha": "93f2837c0fc11ce2b838da0757d829d87805cd54", "filename": "src/test/ui/lifetime-errors/ex3-both-anon-regions-one-is-struct-2.nll.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Flifetime-errors%2Fex3-both-anon-regions-one-is-struct-2.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Flifetime-errors%2Fex3-both-anon-regions-one-is-struct-2.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fex3-both-anon-regions-one-is-struct-2.nll.stderr?ref=35971ccc4127ca74b684dd23b8cd54aa89ef8d96", "patch": "@@ -18,7 +18,7 @@ error[E0384]: cannot assign to immutable argument `y`\n   --> $DIR/ex3-both-anon-regions-one-is-struct-2.rs:14:5\n    |\n LL | fn foo(mut x: Ref, y: &u32) {\n-   |                    - argument not declared as `mut`\n+   |                    - consider changing this to `mut y`\n LL |     y = x.b; //~ ERROR lifetime mismatch\n    |     ^^^^^^^ cannot assign to immutable argument\n "}, {"sha": "0620235371a3928126d3037102188b5002ed61b6", "filename": "src/test/ui/lifetime-errors/liveness-assign-imm-local-notes.stderr", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Flifetime-errors%2Fliveness-assign-imm-local-notes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/35971ccc4127ca74b684dd23b8cd54aa89ef8d96/src%2Ftest%2Fui%2Flifetime-errors%2Fliveness-assign-imm-local-notes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fliveness-assign-imm-local-notes.stderr?ref=35971ccc4127ca74b684dd23b8cd54aa89ef8d96", "patch": "@@ -32,6 +32,9 @@ LL |             x = 2;      //~ ERROR (Ast) [E0384]\n error[E0384]: cannot assign twice to immutable variable `x` (Mir)\n   --> $DIR/liveness-assign-imm-local-notes.rs:23:9\n    |\n+LL |     let x;\n+   |         - consider changing this to `mut x`\n+...\n LL |         x = 2;\n    |         ----- first assignment to `x`\n LL |         x = 3;      //~ ERROR (Ast) [E0384]\n@@ -40,6 +43,9 @@ LL |         x = 3;      //~ ERROR (Ast) [E0384]\n error[E0384]: cannot assign twice to immutable variable `x` (Mir)\n   --> $DIR/liveness-assign-imm-local-notes.rs:35:13\n    |\n+LL |         let x;\n+   |             - consider changing this to `mut x`\n+...\n LL |             x = 2;\n    |             ----- first assignment to `x`\n LL |             x = 3;      //~ ERROR (Ast) [E0384]\n@@ -48,12 +54,18 @@ LL |             x = 3;      //~ ERROR (Ast) [E0384]\n error[E0384]: cannot assign twice to immutable variable `x` (Mir)\n   --> $DIR/liveness-assign-imm-local-notes.rs:45:13\n    |\n+LL |     let x;\n+   |         - consider changing this to `mut x`\n+...\n LL |             x = 1;      //~ ERROR (Ast) [E0384]\n    |             ^^^^^ cannot assign twice to immutable variable\n \n error[E0384]: cannot assign twice to immutable variable `x` (Mir)\n   --> $DIR/liveness-assign-imm-local-notes.rs:48:13\n    |\n+LL |     let x;\n+   |         - consider changing this to `mut x`\n+...\n LL |             x = 1;      //~ ERROR (Ast) [E0384]\n    |             ----- first assignment to `x`\n ..."}]}