{"sha": "872acb0c3589450a10f6fec97cd1a781e2d17794", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg3MmFjYjBjMzU4OTQ1MGExMGY2ZmVjOTdjZDFhNzgxZTJkMTc3OTQ=", "commit": {"author": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-11-29T02:10:37Z"}, "committer": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-11-29T02:14:09Z"}, "message": "Move `src/test/rustdoc-ui` intra-doc tests into a subdirectory\n\nThis also changes the builder to allow using\n`x.py test src/test/rustdoc-ui/intra-doc`; before, it would panic that\nno paths were found.", "tree": {"sha": "fcaae899a1b811229cf44b243b1cdbc8638368a7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fcaae899a1b811229cf44b243b1cdbc8638368a7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/872acb0c3589450a10f6fec97cd1a781e2d17794", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/872acb0c3589450a10f6fec97cd1a781e2d17794", "html_url": "https://github.com/rust-lang/rust/commit/872acb0c3589450a10f6fec97cd1a781e2d17794", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/872acb0c3589450a10f6fec97cd1a781e2d17794/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ddfb581fb9e04595bc7cdb9d66792fdfdbec67ed", "url": "https://api.github.com/repos/rust-lang/rust/commits/ddfb581fb9e04595bc7cdb9d66792fdfdbec67ed", "html_url": "https://github.com/rust-lang/rust/commit/ddfb581fb9e04595bc7cdb9d66792fdfdbec67ed"}], "stats": {"total": 227, "additions": 98, "deletions": 129}, "files": [{"sha": "dad36640dbf81b7c80e18bbce9e912a03da13bd9", "filename": "src/bootstrap/test.rs", "status": "modified", "additions": 1, "deletions": 32, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Fbootstrap%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Fbootstrap%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftest.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -688,38 +688,6 @@ impl Step for RustdocJSNotStd {\n     }\n }\n \n-#[derive(Debug, Copy, Clone, Hash, PartialEq, Eq)]\n-pub struct RustdocUi {\n-    pub target: TargetSelection,\n-    pub compiler: Compiler,\n-}\n-\n-impl Step for RustdocUi {\n-    type Output = ();\n-    const DEFAULT: bool = true;\n-    const ONLY_HOSTS: bool = true;\n-\n-    fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n-        run.path(\"src/test/rustdoc-ui\")\n-    }\n-\n-    fn make_run(run: RunConfig<'_>) {\n-        let compiler = run.builder.compiler(run.builder.top_stage, run.build_triple());\n-        run.builder.ensure(RustdocUi { target: run.target, compiler });\n-    }\n-\n-    fn run(self, builder: &Builder<'_>) {\n-        builder.ensure(Compiletest {\n-            compiler: self.compiler,\n-            target: self.target,\n-            mode: \"ui\",\n-            suite: \"rustdoc-ui\",\n-            path: \"src/test/rustdoc-ui\",\n-            compare_mode: None,\n-        })\n-    }\n-}\n-\n #[derive(Debug, Copy, Clone, PartialEq, Eq, Hash)]\n pub struct Tidy;\n \n@@ -934,6 +902,7 @@ default_test!(Debuginfo { path: \"src/test/debuginfo\", mode: \"debuginfo\", suite:\n host_test!(UiFullDeps { path: \"src/test/ui-fulldeps\", mode: \"ui\", suite: \"ui-fulldeps\" });\n \n host_test!(Rustdoc { path: \"src/test/rustdoc\", mode: \"rustdoc\", suite: \"rustdoc\" });\n+host_test!(RustdocUi { path: \"src/test/rustdoc-ui\", mode: \"ui\", suite: \"rustdoc-ui\" });\n \n host_test!(Pretty { path: \"src/test/pretty\", mode: \"pretty\", suite: \"pretty\" });\n "}, {"sha": "2bcabdffb3d93dfef806d4f55e8ca87de97a1fa7", "filename": "src/test/rustdoc-ui/.gitattributes", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ddfb581fb9e04595bc7cdb9d66792fdfdbec67ed/src%2Ftest%2Frustdoc-ui%2F.gitattributes", "raw_url": "https://github.com/rust-lang/rust/raw/ddfb581fb9e04595bc7cdb9d66792fdfdbec67ed/src%2Ftest%2Frustdoc-ui%2F.gitattributes", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2F.gitattributes?ref=ddfb581fb9e04595bc7cdb9d66792fdfdbec67ed", "patch": "@@ -1 +0,0 @@\n-intra-links-warning-crlf.rs eol=crlf"}, {"sha": "6c125fac52f5e285021902d19dd727fa3ea0ca93", "filename": "src/test/rustdoc-ui/intra-doc/.gitattributes", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2F.gitattributes", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2F.gitattributes", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2F.gitattributes?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -0,0 +1 @@\n+warning-crlf.rs eol=crlf"}, {"sha": "c053e378e7147f5c53b6b54c13662108dc0e4826", "filename": "src/test/rustdoc-ui/intra-doc/alias-ice.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Falias-ice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Falias-ice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Falias-ice.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-doc-alias-ice.rs"}, {"sha": "3db5fad4cfbdcf062cdf3d3a091e332317280f6a", "filename": "src/test/rustdoc-ui/intra-doc/alias-ice.stderr", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Falias-ice.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Falias-ice.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Falias-ice.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,11 +1,11 @@\n error: unresolved link to `TypeAlias::hoge`\n-  --> $DIR/intra-doc-alias-ice.rs:5:30\n+  --> $DIR/alias-ice.rs:5:30\n    |\n LL | /// [broken cross-reference](TypeAlias::hoge)\n    |                              ^^^^^^^^^^^^^^^ the type alias `TypeAlias` has no associated item named `hoge`\n    |\n note: the lint level is defined here\n-  --> $DIR/intra-doc-alias-ice.rs:1:9\n+  --> $DIR/alias-ice.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^", "previous_filename": "src/test/rustdoc-ui/intra-doc-alias-ice.stderr"}, {"sha": "f63435337cfbcaed8da4705a1b314460da85e75d", "filename": "src/test/rustdoc-ui/intra-doc/ambiguity.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fambiguity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fambiguity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fambiguity.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-links-ambiguity.rs"}, {"sha": "7e967dc88bcdd018e18a6c91133a17ef8cad9073", "filename": "src/test/rustdoc-ui/intra-doc/ambiguity.stderr", "status": "renamed", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fambiguity.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fambiguity.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fambiguity.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,11 +1,11 @@\n error: `true` is both a module and a builtin type\n-  --> $DIR/intra-links-ambiguity.rs:38:6\n+  --> $DIR/ambiguity.rs:38:6\n    |\n LL | /// [true]\n    |      ^^^^ ambiguous link\n    |\n note: the lint level is defined here\n-  --> $DIR/intra-links-ambiguity.rs:1:9\n+  --> $DIR/ambiguity.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n@@ -19,7 +19,7 @@ LL | /// [prim@true]\n    |      ^^^^^^^^^\n \n error: `ambiguous` is both a struct and a function\n-  --> $DIR/intra-links-ambiguity.rs:27:6\n+  --> $DIR/ambiguity.rs:27:6\n    |\n LL | /// [`ambiguous`] is ambiguous.\n    |      ^^^^^^^^^^^ ambiguous link\n@@ -34,7 +34,7 @@ LL | /// [`ambiguous()`] is ambiguous.\n    |      ^^^^^^^^^^^^^\n \n error: `ambiguous` is both a struct and a function\n-  --> $DIR/intra-links-ambiguity.rs:29:6\n+  --> $DIR/ambiguity.rs:29:6\n    |\n LL | /// [ambiguous] is ambiguous.\n    |      ^^^^^^^^^ ambiguous link\n@@ -49,7 +49,7 @@ LL | /// [ambiguous()] is ambiguous.\n    |      ^^^^^^^^^^^\n \n error: `multi_conflict` is a struct, a function, and a macro\n-  --> $DIR/intra-links-ambiguity.rs:31:6\n+  --> $DIR/ambiguity.rs:31:6\n    |\n LL | /// [`multi_conflict`] is a three-way conflict.\n    |      ^^^^^^^^^^^^^^^^ ambiguous link\n@@ -68,7 +68,7 @@ LL | /// [`multi_conflict!`] is a three-way conflict.\n    |      ^^^^^^^^^^^^^^^^^\n \n error: `type_and_value` is both a module and a constant\n-  --> $DIR/intra-links-ambiguity.rs:33:16\n+  --> $DIR/ambiguity.rs:33:16\n    |\n LL | /// Ambiguous [type_and_value].\n    |                ^^^^^^^^^^^^^^ ambiguous link\n@@ -83,7 +83,7 @@ LL | /// Ambiguous [const@type_and_value].\n    |                ^^^^^^^^^^^^^^^^^^^^\n \n error: `foo::bar` is both an enum and a function\n-  --> $DIR/intra-links-ambiguity.rs:35:42\n+  --> $DIR/ambiguity.rs:35:42\n    |\n LL | /// Ambiguous non-implied shortcut link [`foo::bar`].\n    |                                          ^^^^^^^^^^ ambiguous link", "previous_filename": "src/test/rustdoc-ui/intra-links-ambiguity.stderr"}, {"sha": "ccefd2e6fabb5edb7fdb7f0deb2118f7f3a241ac", "filename": "src/test/rustdoc-ui/intra-doc/anchors.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fanchors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fanchors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fanchors.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-links-anchors.rs"}, {"sha": "5b272d960d50f4546f8a36614e91d171998c5e5e", "filename": "src/test/rustdoc-ui/intra-doc/anchors.stderr", "status": "renamed", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fanchors.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fanchors.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fanchors.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,29 +1,29 @@\n error: `Foo::f#hola` contains an anchor, but links to fields are already anchored\n-  --> $DIR/intra-links-anchors.rs:25:15\n+  --> $DIR/anchors.rs:25:15\n    |\n LL | /// Or maybe [Foo::f#hola].\n    |               ^^^^^^^^^^^ contains invalid anchor\n    |\n note: the lint level is defined here\n-  --> $DIR/intra-links-anchors.rs:1:9\n+  --> $DIR/anchors.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n \n error: `hello#people#!` contains multiple anchors\n-  --> $DIR/intra-links-anchors.rs:31:28\n+  --> $DIR/anchors.rs:31:28\n    |\n LL | /// Another anchor error: [hello#people#!].\n    |                            ^^^^^^^^^^^^^^ contains invalid anchor\n \n error: `Enum::A#whatever` contains an anchor, but links to variants are already anchored\n-  --> $DIR/intra-links-anchors.rs:37:28\n+  --> $DIR/anchors.rs:37:28\n    |\n LL | /// Damn enum's variants: [Enum::A#whatever].\n    |                            ^^^^^^^^^^^^^^^^ contains invalid anchor\n \n error: `u32#hello` contains an anchor, but links to builtin types are already anchored\n-  --> $DIR/intra-links-anchors.rs:43:6\n+  --> $DIR/anchors.rs:43:6\n    |\n LL | /// [u32#hello]\n    |      ^^^^^^^^^ contains invalid anchor", "previous_filename": "src/test/rustdoc-ui/intra-links-anchors.stderr"}, {"sha": "31a8310d472423bd1ef7001bf523185fdbfdab8c", "filename": "src/test/rustdoc-ui/intra-doc/auxiliary/intra-doc-broken.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fauxiliary%2Fintra-doc-broken.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fauxiliary%2Fintra-doc-broken.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fauxiliary%2Fintra-doc-broken.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/auxiliary/intra-doc-broken.rs"}, {"sha": "ef261359ebd9ec4506cf670fa77bb6290dd87db5", "filename": "src/test/rustdoc-ui/intra-doc/broken-reexport.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fbroken-reexport.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fbroken-reexport.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fbroken-reexport.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-doc-broken-reexport.rs"}, {"sha": "b9c8e033b1b21002ceb70070deeb30b5b991a5c7", "filename": "src/test/rustdoc-ui/intra-doc/disambiguator-mismatch.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdisambiguator-mismatch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdisambiguator-mismatch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdisambiguator-mismatch.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-links-disambiguator-mismatch.rs"}, {"sha": "2f5f3daa297858f5a8155b68a809a2a3a13f84ee", "filename": "src/test/rustdoc-ui/intra-doc/disambiguator-mismatch.stderr", "status": "renamed", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdisambiguator-mismatch.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdisambiguator-mismatch.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdisambiguator-mismatch.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,90 +1,90 @@\n error: incompatible link kind for `S`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:14:14\n+  --> $DIR/disambiguator-mismatch.rs:14:14\n    |\n LL | /// Link to [struct@S]\n    |              ^^^^^^^^ help: to link to the enum, prefix with `enum@`: `enum@S`\n    |\n note: the lint level is defined here\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:1:9\n+  --> $DIR/disambiguator-mismatch.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    = note: this link resolved to an enum, which is not a struct\n \n error: incompatible link kind for `S`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:19:14\n+  --> $DIR/disambiguator-mismatch.rs:19:14\n    |\n LL | /// Link to [mod@S]\n    |              ^^^^^ help: to link to the enum, prefix with `enum@`: `enum@S`\n    |\n    = note: this link resolved to an enum, which is not a module\n \n error: incompatible link kind for `S`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:24:14\n+  --> $DIR/disambiguator-mismatch.rs:24:14\n    |\n LL | /// Link to [union@S]\n    |              ^^^^^^^ help: to link to the enum, prefix with `enum@`: `enum@S`\n    |\n    = note: this link resolved to an enum, which is not a union\n \n error: incompatible link kind for `S`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:29:14\n+  --> $DIR/disambiguator-mismatch.rs:29:14\n    |\n LL | /// Link to [trait@S]\n    |              ^^^^^^^ help: to link to the enum, prefix with `enum@`: `enum@S`\n    |\n    = note: this link resolved to an enum, which is not a trait\n \n error: incompatible link kind for `T`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:34:14\n+  --> $DIR/disambiguator-mismatch.rs:34:14\n    |\n LL | /// Link to [struct@T]\n    |              ^^^^^^^^ help: to link to the trait, prefix with `trait@`: `trait@T`\n    |\n    = note: this link resolved to a trait, which is not a struct\n \n error: incompatible link kind for `m`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:39:14\n+  --> $DIR/disambiguator-mismatch.rs:39:14\n    |\n LL | /// Link to [derive@m]\n    |              ^^^^^^^^ help: to link to the macro, add an exclamation mark: `m!`\n    |\n    = note: this link resolved to a macro, which is not a derive macro\n \n error: incompatible link kind for `s`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:44:14\n+  --> $DIR/disambiguator-mismatch.rs:44:14\n    |\n LL | /// Link to [const@s]\n    |              ^^^^^^^ help: to link to the static, prefix with `static@`: `static@s`\n    |\n    = note: this link resolved to a static, which is not a constant\n \n error: incompatible link kind for `c`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:49:14\n+  --> $DIR/disambiguator-mismatch.rs:49:14\n    |\n LL | /// Link to [static@c]\n    |              ^^^^^^^^ help: to link to the constant, prefix with `const@`: `const@c`\n    |\n    = note: this link resolved to a constant, which is not a static\n \n error: incompatible link kind for `c`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:54:14\n+  --> $DIR/disambiguator-mismatch.rs:54:14\n    |\n LL | /// Link to [fn@c]\n    |              ^^^^ help: to link to the constant, prefix with `const@`: `const@c`\n    |\n    = note: this link resolved to a constant, which is not a function\n \n error: incompatible link kind for `c`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:59:14\n+  --> $DIR/disambiguator-mismatch.rs:59:14\n    |\n LL | /// Link to [c()]\n    |              ^^^ help: to link to the constant, prefix with `const@`: `const@c`\n    |\n    = note: this link resolved to a constant, which is not a function\n \n error: incompatible link kind for `f`\n-  --> $DIR/intra-links-disambiguator-mismatch.rs:64:14\n+  --> $DIR/disambiguator-mismatch.rs:64:14\n    |\n LL | /// Link to [const@f]\n    |              ^^^^^^^ help: to link to the function, add parentheses: `f()`", "previous_filename": "src/test/rustdoc-ui/intra-links-disambiguator-mismatch.stderr"}, {"sha": "a01211c4f32b1b8479e37c37cf476be43a6c1339", "filename": "src/test/rustdoc-ui/intra-doc/double-anchor.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdouble-anchor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdouble-anchor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdouble-anchor.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-link-double-anchor.rs"}, {"sha": "1cd9231eded4ded44db7856539492790afe167c3", "filename": "src/test/rustdoc-ui/intra-doc/double-anchor.stderr", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdouble-anchor.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdouble-anchor.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fdouble-anchor.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,5 +1,5 @@\n warning: `with#anchor#error` contains multiple anchors\n-  --> $DIR/intra-link-double-anchor.rs:5:18\n+  --> $DIR/double-anchor.rs:5:18\n    |\n LL | /// docs [label][with#anchor#error]\n    |                  ^^^^^^^^^^^^^^^^^ contains invalid anchor", "previous_filename": "src/test/rustdoc-ui/intra-link-double-anchor.stderr"}, {"sha": "81e42643ae8fc5e6b70bf8554fab26f530fa3499", "filename": "src/test/rustdoc-ui/intra-doc/errors.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Ferrors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Ferrors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Ferrors.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-link-errors.rs"}, {"sha": "21c806108e3af1db5c6e1e3bd42039d37e569913", "filename": "src/test/rustdoc-ui/intra-doc/errors.stderr", "status": "renamed", "additions": 21, "deletions": 21, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Ferrors.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Ferrors.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Ferrors.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,95 +1,95 @@\n error: unresolved link to `path::to::nonexistent::module`\n-  --> $DIR/intra-link-errors.rs:7:6\n+  --> $DIR/errors.rs:7:6\n    |\n LL | /// [path::to::nonexistent::module]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ no item named `path` in scope\n    |\n note: the lint level is defined here\n-  --> $DIR/intra-link-errors.rs:1:9\n+  --> $DIR/errors.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n \n error: unresolved link to `path::to::nonexistent::macro`\n-  --> $DIR/intra-link-errors.rs:11:6\n+  --> $DIR/errors.rs:11:6\n    |\n LL | /// [path::to::nonexistent::macro!]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ no item named `path` in scope\n \n error: unresolved link to `path::to::nonexistent::type`\n-  --> $DIR/intra-link-errors.rs:15:6\n+  --> $DIR/errors.rs:15:6\n    |\n LL | /// [type@path::to::nonexistent::type]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ no item named `path` in scope\n \n error: unresolved link to `std::io::not::here`\n-  --> $DIR/intra-link-errors.rs:19:6\n+  --> $DIR/errors.rs:19:6\n    |\n LL | /// [std::io::not::here]\n    |      ^^^^^^^^^^^^^^^^^^ no item named `not` in module `io`\n \n error: unresolved link to `std::io::not::here`\n-  --> $DIR/intra-link-errors.rs:23:6\n+  --> $DIR/errors.rs:23:6\n    |\n LL | /// [type@std::io::not::here]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^ no item named `not` in module `io`\n \n error: unresolved link to `std::io::Error::x`\n-  --> $DIR/intra-link-errors.rs:27:6\n+  --> $DIR/errors.rs:27:6\n    |\n LL | /// [std::io::Error::x]\n    |      ^^^^^^^^^^^^^^^^^ the struct `Error` has no field or associated item named `x`\n \n error: unresolved link to `std::io::ErrorKind::x`\n-  --> $DIR/intra-link-errors.rs:31:6\n+  --> $DIR/errors.rs:31:6\n    |\n LL | /// [std::io::ErrorKind::x]\n    |      ^^^^^^^^^^^^^^^^^^^^^ the enum `ErrorKind` has no variant or associated item named `x`\n \n error: unresolved link to `f::A`\n-  --> $DIR/intra-link-errors.rs:35:6\n+  --> $DIR/errors.rs:35:6\n    |\n LL | /// [f::A]\n    |      ^^^^ `f` is a function, not a module or type, and cannot have associated items\n \n error: unresolved link to `f::A`\n-  --> $DIR/intra-link-errors.rs:39:6\n+  --> $DIR/errors.rs:39:6\n    |\n LL | /// [f::A!]\n    |      ^^^^^ `f` is a function, not a module or type, and cannot have associated items\n \n error: unresolved link to `S::A`\n-  --> $DIR/intra-link-errors.rs:43:6\n+  --> $DIR/errors.rs:43:6\n    |\n LL | /// [S::A]\n    |      ^^^^ the struct `S` has no field or associated item named `A`\n \n error: unresolved link to `S::fmt`\n-  --> $DIR/intra-link-errors.rs:47:6\n+  --> $DIR/errors.rs:47:6\n    |\n LL | /// [S::fmt]\n    |      ^^^^^^ the struct `S` has no field or associated item named `fmt`\n \n error: unresolved link to `E::D`\n-  --> $DIR/intra-link-errors.rs:51:6\n+  --> $DIR/errors.rs:51:6\n    |\n LL | /// [E::D]\n    |      ^^^^ the enum `E` has no variant or associated item named `D`\n \n error: unresolved link to `u8::not_found`\n-  --> $DIR/intra-link-errors.rs:55:6\n+  --> $DIR/errors.rs:55:6\n    |\n LL | /// [u8::not_found]\n    |      ^^^^^^^^^^^^^ the builtin type `u8` has no associated item named `not_found`\n \n error: unresolved link to `std::primitive::u8::not_found`\n-  --> $DIR/intra-link-errors.rs:59:6\n+  --> $DIR/errors.rs:59:6\n    |\n LL | /// [std::primitive::u8::not_found]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the builtin type `u8` has no associated item named `not_found`\n \n error: unresolved link to `Vec::into_iter`\n-  --> $DIR/intra-link-errors.rs:63:6\n+  --> $DIR/errors.rs:63:6\n    |\n LL | /// [type@Vec::into_iter]\n    |      ^^^^^^^^^^^^^^^^^^^\n@@ -98,7 +98,7 @@ LL | /// [type@Vec::into_iter]\n    |      help: to link to the associated function, add parentheses: `Vec::into_iter()`\n \n error: unresolved link to `S`\n-  --> $DIR/intra-link-errors.rs:68:6\n+  --> $DIR/errors.rs:68:6\n    |\n LL | /// [S!]\n    |      ^^\n@@ -107,7 +107,7 @@ LL | /// [S!]\n    |      help: to link to the struct, prefix with `struct@`: `struct@S`\n \n error: unresolved link to `S::h`\n-  --> $DIR/intra-link-errors.rs:78:6\n+  --> $DIR/errors.rs:78:6\n    |\n LL | /// [type@S::h]\n    |      ^^^^^^^^^\n@@ -116,7 +116,7 @@ LL | /// [type@S::h]\n    |      help: to link to the associated function, add parentheses: `S::h()`\n \n error: unresolved link to `T::g`\n-  --> $DIR/intra-link-errors.rs:86:6\n+  --> $DIR/errors.rs:86:6\n    |\n LL | /// [type@T::g]\n    |      ^^^^^^^^^\n@@ -125,13 +125,13 @@ LL | /// [type@T::g]\n    |      help: to link to the associated function, add parentheses: `T::g()`\n \n error: unresolved link to `T::h`\n-  --> $DIR/intra-link-errors.rs:91:6\n+  --> $DIR/errors.rs:91:6\n    |\n LL | /// [T::h!]\n    |      ^^^^^ the trait `T` has no macro named `h`\n \n error: unresolved link to `m`\n-  --> $DIR/intra-link-errors.rs:98:6\n+  --> $DIR/errors.rs:98:6\n    |\n LL | /// [m()]\n    |      ^^^", "previous_filename": "src/test/rustdoc-ui/intra-link-errors.stderr"}, {"sha": "9c54092146fef61753e436cd8e55f7b9c45e1a16", "filename": "src/test/rustdoc-ui/intra-doc/malformed-generics.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-link-malformed-generics.rs"}, {"sha": "2e1b22807bc39d6cefff8589858b436f1500254b", "filename": "src/test/rustdoc-ui/intra-doc/malformed-generics.stderr", "status": "renamed", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,97 +1,97 @@\n error: unresolved link to `Vec<`\n-  --> $DIR/intra-link-malformed-generics.rs:3:6\n+  --> $DIR/malformed-generics.rs:3:6\n    |\n LL | //! [Vec<]\n    |      ^^^^ unbalanced angle brackets\n    |\n note: the lint level is defined here\n-  --> $DIR/intra-link-malformed-generics.rs:1:9\n+  --> $DIR/malformed-generics.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n \n error: unresolved link to `Vec<Box<T`\n-  --> $DIR/intra-link-malformed-generics.rs:4:6\n+  --> $DIR/malformed-generics.rs:4:6\n    |\n LL | //! [Vec<Box<T]\n    |      ^^^^^^^^^ unbalanced angle brackets\n \n error: unresolved link to `Vec<Box<T>`\n-  --> $DIR/intra-link-malformed-generics.rs:5:6\n+  --> $DIR/malformed-generics.rs:5:6\n    |\n LL | //! [Vec<Box<T>]\n    |      ^^^^^^^^^^ unbalanced angle brackets\n \n error: unresolved link to `Vec<Box<T>>>`\n-  --> $DIR/intra-link-malformed-generics.rs:6:6\n+  --> $DIR/malformed-generics.rs:6:6\n    |\n LL | //! [Vec<Box<T>>>]\n    |      ^^^^^^^^^^^^ unbalanced angle brackets\n \n error: unresolved link to `Vec<T>>>`\n-  --> $DIR/intra-link-malformed-generics.rs:7:6\n+  --> $DIR/malformed-generics.rs:7:6\n    |\n LL | //! [Vec<T>>>]\n    |      ^^^^^^^^ unbalanced angle brackets\n \n error: unresolved link to `<Vec`\n-  --> $DIR/intra-link-malformed-generics.rs:8:6\n+  --> $DIR/malformed-generics.rs:8:6\n    |\n LL | //! [<Vec]\n    |      ^^^^ unbalanced angle brackets\n \n error: unresolved link to `Vec::<`\n-  --> $DIR/intra-link-malformed-generics.rs:9:6\n+  --> $DIR/malformed-generics.rs:9:6\n    |\n LL | //! [Vec::<]\n    |      ^^^^^^ unbalanced angle brackets\n \n error: unresolved link to `<T>`\n-  --> $DIR/intra-link-malformed-generics.rs:10:6\n+  --> $DIR/malformed-generics.rs:10:6\n    |\n LL | //! [<T>]\n    |      ^^^ missing type for generic parameters\n \n error: unresolved link to `<invalid syntax>`\n-  --> $DIR/intra-link-malformed-generics.rs:11:6\n+  --> $DIR/malformed-generics.rs:11:6\n    |\n LL | //! [<invalid syntax>]\n    |      ^^^^^^^^^^^^^^^^ missing type for generic parameters\n \n error: unresolved link to `Vec:<T>:new`\n-  --> $DIR/intra-link-malformed-generics.rs:12:6\n+  --> $DIR/malformed-generics.rs:12:6\n    |\n LL | //! [Vec:<T>:new()]\n    |      ^^^^^^^^^^^^^ has invalid path separator\n \n error: unresolved link to `Vec<<T>>`\n-  --> $DIR/intra-link-malformed-generics.rs:13:6\n+  --> $DIR/malformed-generics.rs:13:6\n    |\n LL | //! [Vec<<T>>]\n    |      ^^^^^^^^ too many angle brackets\n \n error: unresolved link to `Vec<>`\n-  --> $DIR/intra-link-malformed-generics.rs:14:6\n+  --> $DIR/malformed-generics.rs:14:6\n    |\n LL | //! [Vec<>]\n    |      ^^^^^ empty angle brackets\n \n error: unresolved link to `Vec<<>>`\n-  --> $DIR/intra-link-malformed-generics.rs:15:6\n+  --> $DIR/malformed-generics.rs:15:6\n    |\n LL | //! [Vec<<>>]\n    |      ^^^^^^^ too many angle brackets\n \n error: unresolved link to `<Vec as IntoIterator>::into_iter`\n-  --> $DIR/intra-link-malformed-generics.rs:18:6\n+  --> $DIR/malformed-generics.rs:18:6\n    |\n LL | //! [<Vec as IntoIterator>::into_iter]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ fully-qualified syntax is unsupported\n    |\n    = note: see https://github.com/rust-lang/rust/issues/74563 for more information\n \n error: unresolved link to `<Vec<T> as IntoIterator>::iter`\n-  --> $DIR/intra-link-malformed-generics.rs:19:6\n+  --> $DIR/malformed-generics.rs:19:6\n    |\n LL | //! [<Vec<T> as IntoIterator>::iter]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ fully-qualified syntax is unsupported", "previous_filename": "src/test/rustdoc-ui/intra-link-malformed-generics.stderr"}, {"sha": "85738ceae8e615b34eeedffa8a0ffb35d9e1b0ac", "filename": "src/test/rustdoc-ui/intra-doc/prim-conflict.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprim-conflict.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprim-conflict.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprim-conflict.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-link-prim-conflict.rs"}, {"sha": "01275f8d9afb0a6703cbc78956be74687a943260", "filename": "src/test/rustdoc-ui/intra-doc/prim-conflict.stderr", "status": "renamed", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprim-conflict.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprim-conflict.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprim-conflict.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,11 +1,11 @@\n error: `char` is both a module and a builtin type\n-  --> $DIR/intra-link-prim-conflict.rs:4:6\n+  --> $DIR/prim-conflict.rs:4:6\n    |\n LL | /// [char]\n    |      ^^^^ ambiguous link\n    |\n note: the lint level is defined here\n-  --> $DIR/intra-link-prim-conflict.rs:1:9\n+  --> $DIR/prim-conflict.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n@@ -19,7 +19,7 @@ LL | /// [prim@char]\n    |      ^^^^^^^^^\n \n error: `char` is both a module and a builtin type\n-  --> $DIR/intra-link-prim-conflict.rs:10:6\n+  --> $DIR/prim-conflict.rs:10:6\n    |\n LL | /// [type@char]\n    |      ^^^^^^^^^ ambiguous link\n@@ -34,15 +34,15 @@ LL | /// [prim@char]\n    |      ^^^^^^^^^\n \n error: incompatible link kind for `char`\n-  --> $DIR/intra-link-prim-conflict.rs:19:6\n+  --> $DIR/prim-conflict.rs:19:6\n    |\n LL | /// [struct@char]\n    |      ^^^^^^^^^^^ help: to link to the module, prefix with `mod@`: `mod@char`\n    |\n    = note: this link resolved to a module, which is not a struct\n \n error: incompatible link kind for `char`\n-  --> $DIR/intra-link-prim-conflict.rs:26:10\n+  --> $DIR/prim-conflict.rs:26:10\n    |\n LL |     //! [struct@char]\n    |          ^^^^^^^^^^^ help: to link to the builtin type, prefix with `prim@`: `prim@char`", "previous_filename": "src/test/rustdoc-ui/intra-link-prim-conflict.stderr"}, {"sha": "6e11ec3e87bf9dc148fbc7dac103daff30a4cd50", "filename": "src/test/rustdoc-ui/intra-doc/private.private.stderr", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprivate.private.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprivate.private.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprivate.private.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,5 +1,5 @@\n warning: public documentation for `DocMe` links to private item `DontDocMe`\n-  --> $DIR/intra-links-private.rs:5:11\n+  --> $DIR/private.rs:5:11\n    |\n LL | /// docs [DontDocMe]\n    |           ^^^^^^^^^ this item is private", "previous_filename": "src/test/rustdoc-ui/intra-links-private.private.stderr"}, {"sha": "3a6a4b664522a7addc5070585ae654885e101303", "filename": "src/test/rustdoc-ui/intra-doc/private.public.stderr", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprivate.public.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprivate.public.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprivate.public.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,5 +1,5 @@\n warning: public documentation for `DocMe` links to private item `DontDocMe`\n-  --> $DIR/intra-links-private.rs:5:11\n+  --> $DIR/private.rs:5:11\n    |\n LL | /// docs [DontDocMe]\n    |           ^^^^^^^^^ this item is private", "previous_filename": "src/test/rustdoc-ui/intra-links-private.public.stderr"}, {"sha": "613236d75d2ee952e847f7ac23590a95509bfccd", "filename": "src/test/rustdoc-ui/intra-doc/private.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprivate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprivate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fprivate.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-links-private.rs"}, {"sha": "7764a6df6ee772b4aa578d8416af3323889605b7", "filename": "src/test/rustdoc-ui/intra-doc/span-ice-55723.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fspan-ice-55723.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fspan-ice-55723.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fspan-ice-55723.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-link-span-ice-55723.rs"}, {"sha": "10ca14e850fd79fc16df84012e28967f2540babb", "filename": "src/test/rustdoc-ui/intra-doc/span-ice-55723.stderr", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fspan-ice-55723.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fspan-ice-55723.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fspan-ice-55723.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,11 +1,11 @@\n error: unresolved link to `i`\n-  --> $DIR/intra-link-span-ice-55723.rs:9:10\n+  --> $DIR/span-ice-55723.rs:9:10\n    |\n LL | /// \uff08arr[i]\uff09\n    |           ^ no item named `i` in scope\n    |\n note: the lint level is defined here\n-  --> $DIR/intra-link-span-ice-55723.rs:1:9\n+  --> $DIR/span-ice-55723.rs:1:9\n    |\n LL | #![deny(broken_intra_doc_links)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^", "previous_filename": "src/test/rustdoc-ui/intra-link-span-ice-55723.stderr"}, {"sha": "a19c33b53be09673b8f24197a2ab001812800f13", "filename": "src/test/rustdoc-ui/intra-doc/warning-crlf.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning-crlf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning-crlf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning-crlf.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-links-warning-crlf.rs"}, {"sha": "01e428200376691d90f1787b1c8d3dd8a9ef6dfb", "filename": "src/test/rustdoc-ui/intra-doc/warning-crlf.stderr", "status": "renamed", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning-crlf.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning-crlf.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning-crlf.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,5 +1,5 @@\n warning: unresolved link to `error`\n-  --> $DIR/intra-links-warning-crlf.rs:7:6\n+  --> $DIR/warning-crlf.rs:7:6\n    |\n LL | /// [error]\n    |      ^^^^^ no item named `error` in scope\n@@ -8,23 +8,23 @@ LL | /// [error]\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error1`\n-  --> $DIR/intra-links-warning-crlf.rs:12:11\n+  --> $DIR/warning-crlf.rs:12:11\n    |\n LL | /// docs [error1]\n    |           ^^^^^^ no item named `error1` in scope\n    |\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error2`\n-  --> $DIR/intra-links-warning-crlf.rs:15:11\n+  --> $DIR/warning-crlf.rs:15:11\n    |\n LL | /// docs [error2]\n    |           ^^^^^^ no item named `error2` in scope\n    |\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n-  --> $DIR/intra-links-warning-crlf.rs:23:20\n+  --> $DIR/warning-crlf.rs:23:20\n    |\n LL |  * It also has an [error].\n    |                    ^^^^^ no item named `error` in scope", "previous_filename": "src/test/rustdoc-ui/intra-links-warning-crlf.stderr"}, {"sha": "eab1f03480460b2d05d9c722a44aaa41085805bc", "filename": "src/test/rustdoc-ui/intra-doc/warning.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning.rs", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning.rs?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "previous_filename": "src/test/rustdoc-ui/intra-links-warning.rs"}, {"sha": "430d18165a005601c98fbbe875fb1bfd7c8f35d5", "filename": "src/test/rustdoc-ui/intra-doc/warning.stderr", "status": "renamed", "additions": 19, "deletions": 19, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/872acb0c3589450a10f6fec97cd1a781e2d17794/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fwarning.stderr?ref=872acb0c3589450a10f6fec97cd1a781e2d17794", "patch": "@@ -1,75 +1,75 @@\n warning: unresolved link to `Foo::baz`\n-  --> $DIR/intra-links-warning.rs:3:23\n+  --> $DIR/warning.rs:3:23\n    |\n LL |        //! Test with [Foo::baz], [Bar::foo], ...\n    |                       ^^^^^^^^ the struct `Foo` has no field or associated item named `baz`\n    |\n    = note: `#[warn(broken_intra_doc_links)]` on by default\n \n warning: unresolved link to `Bar::foo`\n-  --> $DIR/intra-links-warning.rs:3:35\n+  --> $DIR/warning.rs:3:35\n    |\n LL |        //! Test with [Foo::baz], [Bar::foo], ...\n    |                                   ^^^^^^^^ no item named `Bar` in scope\n \n warning: unresolved link to `Uniooon::X`\n-  --> $DIR/intra-links-warning.rs:6:13\n+  --> $DIR/warning.rs:6:13\n    |\n LL |      //! , [Uniooon::X] and [Qux::Z].\n    |             ^^^^^^^^^^ no item named `Uniooon` in scope\n \n warning: unresolved link to `Qux::Z`\n-  --> $DIR/intra-links-warning.rs:6:30\n+  --> $DIR/warning.rs:6:30\n    |\n LL |      //! , [Uniooon::X] and [Qux::Z].\n    |                              ^^^^^^ no item named `Qux` in scope\n \n warning: unresolved link to `Uniooon::X`\n-  --> $DIR/intra-links-warning.rs:10:14\n+  --> $DIR/warning.rs:10:14\n    |\n LL |       //! , [Uniooon::X] and [Qux::Z].\n    |              ^^^^^^^^^^ no item named `Uniooon` in scope\n \n warning: unresolved link to `Qux::Z`\n-  --> $DIR/intra-links-warning.rs:10:31\n+  --> $DIR/warning.rs:10:31\n    |\n LL |       //! , [Uniooon::X] and [Qux::Z].\n    |                               ^^^^^^ no item named `Qux` in scope\n \n warning: unresolved link to `Qux:Y`\n-  --> $DIR/intra-links-warning.rs:14:13\n+  --> $DIR/warning.rs:14:13\n    |\n LL |        /// [Qux:Y]\n    |             ^^^^^ no item named `Qux:Y` in scope\n    |\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `BarA`\n-  --> $DIR/intra-links-warning.rs:21:10\n+  --> $DIR/warning.rs:21:10\n    |\n LL | /// bar [BarA] bar\n    |          ^^^^ no item named `BarA` in scope\n    |\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `BarB`\n-  --> $DIR/intra-links-warning.rs:27:9\n+  --> $DIR/warning.rs:27:9\n    |\n LL |  * bar [BarB] bar\n    |         ^^^^ no item named `BarB` in scope\n    |\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `BarC`\n-  --> $DIR/intra-links-warning.rs:34:6\n+  --> $DIR/warning.rs:34:6\n    |\n LL | bar [BarC] bar\n    |      ^^^^ no item named `BarC` in scope\n    |\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `BarD`\n-  --> $DIR/intra-links-warning.rs:45:1\n+  --> $DIR/warning.rs:45:1\n    |\n LL | #[doc = \"Foo\\nbar [BarD] bar\\nbaz\"]\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -82,7 +82,7 @@ LL | #[doc = \"Foo\\nbar [BarD] bar\\nbaz\"]\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `BarF`\n-  --> $DIR/intra-links-warning.rs:50:9\n+  --> $DIR/warning.rs:50:9\n    |\n LL |         #[doc = $f]\n    |         ^^^^^^^^^^^\n@@ -99,23 +99,23 @@ LL | f!(\"Foo\\nbar [BarF] bar\\nbaz\");\n    = note: this warning originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n \n warning: unresolved link to `error`\n-  --> $DIR/intra-links-warning.rs:58:30\n+  --> $DIR/warning.rs:58:30\n    |\n LL |  * time to introduce a link [error]*/\n    |                              ^^^^^ no item named `error` in scope\n    |\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n-  --> $DIR/intra-links-warning.rs:64:30\n+  --> $DIR/warning.rs:64:30\n    |\n LL |  * time to introduce a link [error]\n    |                              ^^^^^ no item named `error` in scope\n    |\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n-  --> $DIR/intra-links-warning.rs:68:1\n+  --> $DIR/warning.rs:68:1\n    |\n LL | #[doc = \"single line [error]\"]\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -128,7 +128,7 @@ LL | #[doc = \"single line [error]\"]\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n-  --> $DIR/intra-links-warning.rs:71:1\n+  --> $DIR/warning.rs:71:1\n    |\n LL | #[doc = \"single line with \\\"escaping\\\" [error]\"]\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -141,7 +141,7 @@ LL | #[doc = \"single line with \\\"escaping\\\" [error]\"]\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error`\n-  --> $DIR/intra-links-warning.rs:74:1\n+  --> $DIR/warning.rs:74:1\n    |\n LL | / /// Item docs.\n LL | | #[doc=\"Hello there!\"]\n@@ -156,15 +156,15 @@ LL | | /// [error]\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error1`\n-  --> $DIR/intra-links-warning.rs:80:11\n+  --> $DIR/warning.rs:80:11\n    |\n LL | /// docs [error1]\n    |           ^^^^^^ no item named `error1` in scope\n    |\n    = help: to escape `[` and `]` characters, add '\\' before them like `\\[` or `\\]`\n \n warning: unresolved link to `error2`\n-  --> $DIR/intra-links-warning.rs:82:11\n+  --> $DIR/warning.rs:82:11\n    |\n LL | /// docs [error2]\n    |           ^^^^^^ no item named `error2` in scope", "previous_filename": "src/test/rustdoc-ui/intra-links-warning.stderr"}]}