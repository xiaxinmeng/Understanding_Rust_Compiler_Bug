{"sha": "ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFlMGNlMjI1NWFlYTdlODk2Y2JmYzAzMzBjOWQ0ZjE3ZWQ2NmI1NWY=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2020-06-01T07:58:42Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2020-06-01T07:58:42Z"}, "message": "Add regression test for string_lit_as_bytes issue", "tree": {"sha": "6d4832c2315cbf64effd7f85e20dc5a74920c734", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6d4832c2315cbf64effd7f85e20dc5a74920c734"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE6VFioMHrom999LRAK0OZxL9Ny94FAl7UtXcACgkQK0OZxL9N\ny940xQ/7BFq4oMPDYobGejIHqHhWrnScTpIyVZwiZuKOAPaAr6Vl9GKoKkfllHqP\npT7d/HnSRCX29wFja4m4WM+RH7maH3tx83w8uSvoDQ53VGc7N41VP1hgMZeQPgm3\nB+SLNm/QcgLRKOy04OUJLaXI3IBpDb6yn7VhFtOPWzDxmFP+MWpGuqCgWEWY9/yW\n7sMHOocU16/xsq31ozpR6uquCgle4jzE+NaLTyl0L6NUq5xqX7GuLBVHiYA1Ku5r\nQJN4B1V/I7la4QmKIznPvRNQmmbmooEMi8ciojfCwsTf/qIdhR20v29SAhuh9aIo\nwbSR+O91TJGwq539yXuqqRoevGw7D2spr1li+1LomnXpofUgqk2aMu3zLZ/glMCo\nwOcAW+szvtt0VQ5Qvxc0S9F0fuZCR/3uxkCCwDwOrrgq9js3bN78jkW0mGt11Ym/\n5zQ3hVeIR0DLhnmWwSG+f08E7ZCoc8SObe8Yvyp74/j24aQXXr+gX7KAqqz2+JrF\nFOcqqJ+rqW0Ki/FPc4m/lOL3THJeEk7ZdeLq/rhIAp8cg6jMJjxTe5rs95zL52Pw\nQE4rLleKd2HJduIMG6P9TYC2J95aOFuEDE9/17bpHtCFrbu2H9IuFDAP5w6OfDyg\n3H2H0D4xm7NNUZf+6kJ0D9T42kbISIZiDzXERTQuiQlnqqzThYo=\n=S90X\n-----END PGP SIGNATURE-----", "payload": "tree 6d4832c2315cbf64effd7f85e20dc5a74920c734\nparent 6c008d7e91edee907fca45741ac70560c66f0222\nauthor Philipp Hansch <dev@phansch.net> 1590998322 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1590998322 +0200\n\nAdd regression test for string_lit_as_bytes issue\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f", "html_url": "https://github.com/rust-lang/rust/commit/ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6c008d7e91edee907fca45741ac70560c66f0222", "url": "https://api.github.com/repos/rust-lang/rust/commits/6c008d7e91edee907fca45741ac70560c66f0222", "html_url": "https://github.com/rust-lang/rust/commit/6c008d7e91edee907fca45741ac70560c66f0222"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "ccf8f61c4a92c7528944a3c1cf6066b9e1c969d3", "filename": "tests/ui/string_lit_as_bytes.fixed", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f/tests%2Fui%2Fstring_lit_as_bytes.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f/tests%2Fui%2Fstring_lit_as_bytes.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fstring_lit_as_bytes.fixed?ref=ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f", "patch": "@@ -14,6 +14,8 @@ fn str_lit_as_bytes() {\n \n     let strify = stringify!(foobar).as_bytes();\n \n+    let current_version = env!(\"CARGO_PKG_VERSION\").as_bytes();\n+\n     let includestr = include_bytes!(\"entry_unfixable.rs\");\n \n     let _ = b\"string with newline\\t\\n\";"}, {"sha": "178df08e249ef3c2e20c9d1fc7e2267115b5fa85", "filename": "tests/ui/string_lit_as_bytes.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f/tests%2Fui%2Fstring_lit_as_bytes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f/tests%2Fui%2Fstring_lit_as_bytes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fstring_lit_as_bytes.rs?ref=ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f", "patch": "@@ -14,6 +14,8 @@ fn str_lit_as_bytes() {\n \n     let strify = stringify!(foobar).as_bytes();\n \n+    let current_version = env!(\"CARGO_PKG_VERSION\").as_bytes();\n+\n     let includestr = include_str!(\"entry_unfixable.rs\").as_bytes();\n \n     let _ = \"string with newline\\t\\n\".as_bytes();"}, {"sha": "99c512354d589f722d47003325412ee1b6432bb1", "filename": "tests/ui/string_lit_as_bytes.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f/tests%2Fui%2Fstring_lit_as_bytes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f/tests%2Fui%2Fstring_lit_as_bytes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fstring_lit_as_bytes.stderr?ref=ae0ce2255aea7e896cbfc0330c9d4f17ed66b55f", "patch": "@@ -13,13 +13,13 @@ LL |     let bs = r###\"raw string with 3# plus \" \"\"###.as_bytes();\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using a byte string literal instead: `br###\"raw string with 3# plus \" \"\"###`\n \n error: calling `as_bytes()` on `include_str!(..)`\n-  --> $DIR/string_lit_as_bytes.rs:17:22\n+  --> $DIR/string_lit_as_bytes.rs:19:22\n    |\n LL |     let includestr = include_str!(\"entry_unfixable.rs\").as_bytes();\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using `include_bytes!(..)` instead: `include_bytes!(\"entry_unfixable.rs\")`\n \n error: calling `as_bytes()` on a string literal\n-  --> $DIR/string_lit_as_bytes.rs:19:13\n+  --> $DIR/string_lit_as_bytes.rs:21:13\n    |\n LL |     let _ = \"string with newline/t/n\".as_bytes();\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using a byte string literal instead: `b\"string with newline/t/n\"`"}]}