{"sha": "624fbbd3d117f7199d69c923c051a6d46a4b88b7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYyNGZiYmQzZDExN2Y3MTk5ZDY5YzkyM2MwNTFhNmQ0NmE0Yjg4Yjc=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-11-16T03:50:53Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-11-16T03:57:46Z"}, "message": "Update and un-xfail tests", "tree": {"sha": "251a21c7ccdae4beb3cc13e38fd700cbfaebe09e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/251a21c7ccdae4beb3cc13e38fd700cbfaebe09e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/624fbbd3d117f7199d69c923c051a6d46a4b88b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/624fbbd3d117f7199d69c923c051a6d46a4b88b7", "html_url": "https://github.com/rust-lang/rust/commit/624fbbd3d117f7199d69c923c051a6d46a4b88b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/624fbbd3d117f7199d69c923c051a6d46a4b88b7/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "12a41307490c3d3188086b5964332df50b3c3a9d", "url": "https://api.github.com/repos/rust-lang/rust/commits/12a41307490c3d3188086b5964332df50b3c3a9d", "html_url": "https://github.com/rust-lang/rust/commit/12a41307490c3d3188086b5964332df50b3c3a9d"}], "stats": {"total": 70, "additions": 37, "deletions": 33}, "files": [{"sha": "be5c2af49be4fa0e80ce3cc3ba1edeece05bea40", "filename": "src/test/run-fail/fail-parens.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/624fbbd3d117f7199d69c923c051a6d46a4b88b7/src%2Ftest%2Frun-fail%2Ffail-parens.rs", "raw_url": "https://github.com/rust-lang/rust/raw/624fbbd3d117f7199d69c923c051a6d46a4b88b7/src%2Ftest%2Frun-fail%2Ffail-parens.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Ffail-parens.rs?ref=624fbbd3d117f7199d69c923c051a6d46a4b88b7", "patch": "@@ -1,13 +1,13 @@\n-// xfail-test\n // Fail statements without arguments need to be disambiguated in\n // certain positions\n-// error-pattern:explicit-failure\n+// error-pattern:oops\n \n fn bigfail() {\n-    do { while (fail) { if (fail) {\n-        match (fail) { _ {\n-        }}\n-    }}} while fail;\n+    while (fail ~\"oops\") { if (fail) {\n+        match (fail) { () => {\n+        }\n+                     }\n+    }};\n }\n \n fn main() { bigfail(); }"}, {"sha": "340182aa422ab6b037ebaae9d7d37f9303ab5c8c", "filename": "src/test/run-fail/too-much-recursion-unwinding.rs", "status": "modified", "additions": 13, "deletions": 11, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/624fbbd3d117f7199d69c923c051a6d46a4b88b7/src%2Ftest%2Frun-fail%2Ftoo-much-recursion-unwinding.rs", "raw_url": "https://github.com/rust-lang/rust/raw/624fbbd3d117f7199d69c923c051a6d46a4b88b7/src%2Ftest%2Frun-fail%2Ftoo-much-recursion-unwinding.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Ftoo-much-recursion-unwinding.rs?ref=624fbbd3d117f7199d69c923c051a6d46a4b88b7", "patch": "@@ -1,27 +1,29 @@\n // error-pattern:ran out of stack\n-// xfail-test - right now we leak when we fail during failure\n \n // Test that the task fails after hiting the recursion limit\n-// durnig unwinding\n+// during unwinding\n \n fn recurse() {\n     log(debug, \"don't optimize me out\");\n     recurse();\n }\n \n-class r {\n-  let recursed: *mut bool;\n-  new(recursed: *mut bool) unsafe { self.recursed = recursed; }\n-  drop unsafe { \n-    if !*recursed {\n-        *recursed = true;\n-        recurse();\n+struct r {\n+    recursed: *mut bool,\n+    drop unsafe { \n+        if !*(self.recursed) {\n+            *(self.recursed) = true;\n+            recurse();\n+        }\n     }\n-  }\n+}\n+\n+fn r(recursed: *mut bool) -> r unsafe {\n+    r { recursed: recursed }\n }\n \n fn main() {\n     let mut recursed = false;\n-    let _r = r(ptr::mut_addr_of(recursed));\n+    let _r = r(ptr::mut_addr_of(&recursed));\n     recurse();\n }\n\\ No newline at end of file"}, {"sha": "2c0c5d3fbb44dae4c7618d4eb111b2f6b97bc4a1", "filename": "src/test/run-fail/unwind-resource-fail.rs", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/624fbbd3d117f7199d69c923c051a6d46a4b88b7/src%2Ftest%2Frun-fail%2Funwind-resource-fail.rs", "raw_url": "https://github.com/rust-lang/rust/raw/624fbbd3d117f7199d69c923c051a6d46a4b88b7/src%2Ftest%2Frun-fail%2Funwind-resource-fail.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Funwind-resource-fail.rs?ref=624fbbd3d117f7199d69c923c051a6d46a4b88b7", "patch": "@@ -1,11 +1,12 @@\n-// error-pattern:fail\n-// xfail-test\n+// error-pattern:squirrel\n \n-class r {\n-  new(i:int) {}\n-  drop { fail; }\n+struct r {\n+    i: int,\n+    drop { fail ~\"squirrel\" }\n }\n \n+fn r(i: int) -> r { r { i: i } }\n+\n fn main() {\n     @0;\n     let r = move r(0);"}, {"sha": "868fc8811419074ade3872e4938c17bd7299ab83", "filename": "src/test/run-fail/unwind-resource-fail2.rs", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/624fbbd3d117f7199d69c923c051a6d46a4b88b7/src%2Ftest%2Frun-fail%2Funwind-resource-fail2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/624fbbd3d117f7199d69c923c051a6d46a4b88b7/src%2Ftest%2Frun-fail%2Funwind-resource-fail2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Funwind-resource-fail2.rs?ref=624fbbd3d117f7199d69c923c051a6d46a4b88b7", "patch": "@@ -1,11 +1,12 @@\n-// error-pattern:fail\n-// xfail-test\n+// error-pattern:wombat\n \n-class r {\n-  new(i:int) {}\n-  drop { fail; }\n+struct r {\n+    i: int,\n+    drop { fail ~\"wombat\" }\n }\n \n+fn r(i: int) -> r { r { i: i } }\n+\n fn main() {\n     @0;\n     let r = move r(0);"}, {"sha": "628ef64626cf2fc33684103c0a4a28f57c40f2cc", "filename": "src/test/run-fail/unwind-resource-fail3.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/624fbbd3d117f7199d69c923c051a6d46a4b88b7/src%2Ftest%2Frun-fail%2Funwind-resource-fail3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/624fbbd3d117f7199d69c923c051a6d46a4b88b7/src%2Ftest%2Frun-fail%2Funwind-resource-fail3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Funwind-resource-fail3.rs?ref=624fbbd3d117f7199d69c923c051a6d46a4b88b7", "patch": "@@ -1,15 +1,15 @@\n // error-pattern:quux\n-// xfail-test\n \n-class faily_box {\n-  let i: @int;\n-  new(i: @int) { self.i = i; }\n-  // What happens to the box pointer owned by this class?\n+struct faily_box {\n+    i: @int\n }\n+// What happens to the box pointer owned by this class?\n+ \n+fn faily_box(i: @int) -> faily_box { faily_box { i: i } }\n \n impl faily_box : Drop {\n     fn finalize() {\n-        fail \"quux\";\n+        fail ~\"quux\";\n     }\n }\n "}]}