{"sha": "07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "node_id": "C_kwDOAAsO6NoAKDA3YmIyZTY1Mjc2ZDIxZWY5N2E2YmRiY2ZkZDc0Y2ZjZTQ3YmFhMzc", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-09-28T04:07:17Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-28T04:07:17Z"}, "message": "Rollup merge of #102232 - Urgau:stabilize-bench_black_box, r=TaKO8Ki\n\nStabilize bench_black_box\n\nThis PR stabilize `feature(bench_black_box)`.\n\n```rust\npub fn black_box<T>(dummy: T) -> T;\n```\n\nThe FCP was completed in https://github.com/rust-lang/rust/issues/64102.\n\n`@rustbot` label +T-libs-api -T-libs", "tree": {"sha": "9ad2f332441e8bdd9001f346e3c0d042b9a53a85", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9ad2f332441e8bdd9001f346e3c0d042b9a53a85"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjM8h1CRBK7hj4Ov3rIwAAeRYIAJbryOOZADMFOXwI4fo0cmWw\nr2qsaeStAymQlWtiM0R9ib9dluSBTAL8Clfmxqegki2m3IzG1EfyJ84BjlfDbwEi\nV3W7zQ+FAWX7Bk9Ye2y0+JQn80psQmx64boqW8zd8z4ks6UU1Dar0xG7h+0oHdZU\nBU1X6WXxEMf6FVB0VAxsP6UgTMrRQVriBfiWFgjXaNsdrWTd96EwB7Wy90xVN7D5\njIAQaiSHxXU99+5qfgRVCjnZgo9wAxOWZtnIp/HIpCrEtuVSc0LACS4Yn+zvpLtO\n9iIHwThn4Tq19eoi1f0NH0pojqAzjtIRI7OQb3OOKZXVHpCo4egIBJnBWzoLF/0=\n=GSk1\n-----END PGP SIGNATURE-----\n", "payload": "tree 9ad2f332441e8bdd9001f346e3c0d042b9a53a85\nparent 49bc6684932b2a11b69cc0b037b2636e90bc2b22\nparent 9ad2f00f6a9ba359f35b270162a7ca6c412876eb\nauthor Yuki Okushi <jtitor@2k36.org> 1664338037 +0900\ncommitter GitHub <noreply@github.com> 1664338037 +0900\n\nRollup merge of #102232 - Urgau:stabilize-bench_black_box, r=TaKO8Ki\n\nStabilize bench_black_box\n\nThis PR stabilize `feature(bench_black_box)`.\n\n```rust\npub fn black_box<T>(dummy: T) -> T;\n```\n\nThe FCP was completed in https://github.com/rust-lang/rust/issues/64102.\n\n`@rustbot` label +T-libs-api -T-libs\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "html_url": "https://github.com/rust-lang/rust/commit/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "49bc6684932b2a11b69cc0b037b2636e90bc2b22", "url": "https://api.github.com/repos/rust-lang/rust/commits/49bc6684932b2a11b69cc0b037b2636e90bc2b22", "html_url": "https://github.com/rust-lang/rust/commit/49bc6684932b2a11b69cc0b037b2636e90bc2b22"}, {"sha": "9ad2f00f6a9ba359f35b270162a7ca6c412876eb", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ad2f00f6a9ba359f35b270162a7ca6c412876eb", "html_url": "https://github.com/rust-lang/rust/commit/9ad2f00f6a9ba359f35b270162a7ca6c412876eb"}], "stats": {"total": 36, "additions": 8, "deletions": 28}, "files": [{"sha": "ad108c34992e30efa101dc5d71fa5f832e45788f", "filename": "compiler/rustc_codegen_cranelift/example/std_example.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/compiler%2Frustc_codegen_cranelift%2Fexample%2Fstd_example.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/compiler%2Frustc_codegen_cranelift%2Fexample%2Fstd_example.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_cranelift%2Fexample%2Fstd_example.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -1,4 +1,4 @@\n-#![feature(core_intrinsics, generators, generator_trait, is_sorted, bench_black_box)]\n+#![feature(core_intrinsics, generators, generator_trait, is_sorted)]\n \n #[cfg(target_arch = \"x86_64\")]\n use std::arch::x86_64::*;"}, {"sha": "75779622b54cd2d255b1781074bdf3932ddf8796", "filename": "compiler/rustc_codegen_gcc/tests/run/int.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/compiler%2Frustc_codegen_gcc%2Ftests%2Frun%2Fint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/compiler%2Frustc_codegen_gcc%2Ftests%2Frun%2Fint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_gcc%2Ftests%2Frun%2Fint.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -3,7 +3,7 @@\n // Run-time:\n //   status: 0\n \n-#![feature(bench_black_box, const_black_box, core_intrinsics, start)]\n+#![feature(const_black_box, core_intrinsics, start)]\n \n #![no_std]\n "}, {"sha": "23a4c1f069662262f0306405815c43ed4c44ff0c", "filename": "compiler/rustc_index/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/compiler%2Frustc_index%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/compiler%2Frustc_index%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_index%2Fsrc%2Flib.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -1,7 +1,6 @@\n #![deny(rustc::untranslatable_diagnostic)]\n #![deny(rustc::diagnostic_outside_of_impl)]\n #![feature(allow_internal_unstable)]\n-#![feature(bench_black_box)]\n #![feature(extend_one)]\n #![feature(min_specialization)]\n #![feature(new_uninit)]"}, {"sha": "f30ebd77e2466c095ff3680e53d28ed73ba48674", "filename": "library/alloc/tests/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/library%2Falloc%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/library%2Falloc%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Ftests%2Flib.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -41,7 +41,6 @@\n #![feature(pointer_is_aligned)]\n #![feature(slice_flatten)]\n #![feature(thin_box)]\n-#![feature(bench_black_box)]\n #![feature(strict_provenance)]\n #![feature(once_cell)]\n #![feature(drain_keep_rest)]"}, {"sha": "f9267371aa74556025ecf53289447d5115651eba", "filename": "library/core/src/hint.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/library%2Fcore%2Fsrc%2Fhint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/library%2Fcore%2Fsrc%2Fhint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fhint.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -217,7 +217,7 @@ pub fn spin_loop() {\n ///\n /// [`std::convert::identity`]: crate::convert::identity\n #[inline]\n-#[unstable(feature = \"bench_black_box\", issue = \"64102\")]\n+#[stable(feature = \"bench_black_box\", since = \"CURRENT_RUSTC_VERSION\")]\n #[rustc_const_unstable(feature = \"const_black_box\", issue = \"none\")]\n pub const fn black_box<T>(dummy: T) -> T {\n     crate::intrinsics::black_box(dummy)"}, {"sha": "6d58ed9743d6a30690ffc1ee7c629c2d0706bdb6", "filename": "library/core/tests/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/library%2Fcore%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/library%2Fcore%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Flib.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -2,7 +2,6 @@\n #![feature(array_chunks)]\n #![feature(array_methods)]\n #![feature(array_windows)]\n-#![feature(bench_black_box)]\n #![feature(bigint_helper_methods)]\n #![feature(cell_update)]\n #![feature(const_assume)]"}, {"sha": "64b62fd3bba4fe77dc136bfbdd6766aac1151b37", "filename": "library/std/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/library%2Fstd%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/library%2Fstd%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Flib.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -348,7 +348,6 @@\n #![feature(trace_macros)]\n //\n // Only used in tests/benchmarks:\n-#![feature(bench_black_box)]\n //\n // Only for const-ness:\n #![feature(const_io_structs)]"}, {"sha": "33c6ea58532278f6473009a8e2920505e77cd935", "filename": "library/test/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/library%2Ftest%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/library%2Ftest%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Ftest%2Fsrc%2Flib.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -15,7 +15,6 @@\n \n #![unstable(feature = \"test\", issue = \"50297\")]\n #![doc(test(attr(deny(warnings))))]\n-#![feature(bench_black_box)]\n #![feature(internal_output_capture)]\n #![feature(staged_api)]\n #![feature(process_exitcode_internals)]"}, {"sha": "6f51c9729e3706e15e09cd655258c317d6fae109", "filename": "src/test/incremental/spans_significant_w_panic.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fincremental%2Fspans_significant_w_panic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fincremental%2Fspans_significant_w_panic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental%2Fspans_significant_w_panic.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -8,7 +8,6 @@\n // compile-flags: -C overflow-checks=on -Z query-dep-graph\n \n #![feature(rustc_attrs)]\n-#![feature(bench_black_box)]\n #![rustc_partition_codegened(module = \"spans_significant_w_panic\", cfg = \"rpass2\")]\n #![rustc_partition_codegened(module = \"spans_significant_w_panic\", cfg = \"rpass4\")]\n "}, {"sha": "0611fabc15c0880acca6ee5b3d7c194044943663", "filename": "src/test/ui/box/issue-95036.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fbox%2Fissue-95036.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fbox%2Fissue-95036.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbox%2Fissue-95036.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -1,7 +1,7 @@\n // compile-flags: -O\n // build-pass\n \n-#![feature(allocator_api, bench_black_box)]\n+#![feature(allocator_api)]\n \n #[inline(never)]\n pub fn by_ref(node: &mut Box<[u8; 1], &std::alloc::Global>) {"}, {"sha": "2767f178fb6644519147b9b5a75e19090c435695", "filename": "src/test/ui/consts/cast-discriminant-zst-enum.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fconsts%2Fcast-discriminant-zst-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fconsts%2Fcast-discriminant-zst-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fcast-discriminant-zst-enum.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -1,6 +1,5 @@\n // run-pass\n // Test a ZST enum whose dicriminant is ~0i128. This caused an ICE when casting to an i32.\n-#![feature(bench_black_box)]\n use std::hint::black_box;\n \n #[derive(Copy, Clone)]"}, {"sha": "79e68590e85d4ff0dcb25f0d02d9ae7b1056c2a6", "filename": "src/test/ui/consts/const_discriminant.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fconsts%2Fconst_discriminant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fconsts%2Fconst_discriminant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst_discriminant.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -1,6 +1,5 @@\n // run-pass\n #![feature(const_discriminant)]\n-#![feature(bench_black_box)]\n #![allow(dead_code)]\n \n use std::mem::{discriminant, Discriminant};"}, {"sha": "2e81d5e8221c490d40cc14eb5681ab0937af7693", "filename": "src/test/ui/issues/issue-99838.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fissues%2Fissue-99838.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fissues%2Fissue-99838.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-99838.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -1,5 +1,5 @@\n // run-pass\n-#![feature(bench_black_box)]\n+\n use std::hint;\n \n struct U16(u16);"}, {"sha": "21a8fb2b22bee306e833a193493f66efcb2a2756", "filename": "src/test/ui/oom_unwind.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Foom_unwind.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Foom_unwind.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Foom_unwind.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -4,8 +4,6 @@\n // needs-unwind\n // only-linux\n \n-#![feature(bench_black_box)]\n-\n use std::hint::black_box;\n use std::mem::forget;\n use std::panic::catch_unwind;"}, {"sha": "08b30b600e7370f8deb1e4715fd057da637a8873", "filename": "src/test/ui/process/process-panic-after-fork.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fprocess%2Fprocess-panic-after-fork.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fprocess%2Fprocess-panic-after-fork.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprocess%2Fprocess-panic-after-fork.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -7,7 +7,6 @@\n // ignore-sgx no processes\n // ignore-android: FIXME(#85261)\n \n-#![feature(bench_black_box)]\n #![feature(rustc_private)]\n #![feature(never_type)]\n #![feature(panic_always_abort)]"}, {"sha": "5b2cea87560fde49c5c268c1fda039d81dc32ee0", "filename": "src/test/ui/sanitize/address.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fsanitize%2Faddress.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fsanitize%2Faddress.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsanitize%2Faddress.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -5,9 +5,7 @@\n //\n // run-fail\n // error-pattern: AddressSanitizer: stack-buffer-overflow\n-// error-pattern: 'xs' (line 15) <== Memory access at offset\n-\n-#![feature(bench_black_box)]\n+// error-pattern: 'xs' (line 13) <== Memory access at offset\n \n use std::hint::black_box;\n "}, {"sha": "f9b37a155aad7a0fab899304e4daf7fcd73e47ad", "filename": "src/test/ui/sanitize/hwaddress.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fsanitize%2Fhwaddress.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fsanitize%2Fhwaddress.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsanitize%2Fhwaddress.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -10,8 +10,6 @@\n // run-fail\n // error-pattern: HWAddressSanitizer: tag-mismatch\n \n-#![feature(bench_black_box)]\n-\n use std::hint::black_box;\n \n fn main() {"}, {"sha": "cbb44ae8acd60a8a0922b9f0facf9e5abbc6656c", "filename": "src/test/ui/sanitize/leak.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fsanitize%2Fleak.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fsanitize%2Fleak.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsanitize%2Fleak.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -6,8 +6,6 @@\n // run-fail\n // error-pattern: LeakSanitizer: detected memory leaks\n \n-#![feature(bench_black_box)]\n-\n use std::hint::black_box;\n use std::mem;\n "}, {"sha": "0018c2f7581822f6a3f265bfbec6d1df42283243", "filename": "src/test/ui/sanitize/memory-eager.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fsanitize%2Fmemory-eager.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fsanitize%2Fmemory-eager.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsanitize%2Fmemory-eager.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -17,7 +17,6 @@\n \n #![feature(core_intrinsics)]\n #![feature(start)]\n-#![feature(bench_black_box)]\n \n use std::hint::black_box;\n use std::mem::MaybeUninit;"}, {"sha": "1a9ac3a4f3c327cdd7102a2f92c06b3cbdb0d2c3", "filename": "src/test/ui/sanitize/memory.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fsanitize%2Fmemory.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftest%2Fui%2Fsanitize%2Fmemory.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsanitize%2Fmemory.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -16,7 +16,6 @@\n \n #![feature(core_intrinsics)]\n #![feature(start)]\n-#![feature(bench_black_box)]\n #![allow(invalid_value)]\n \n use std::hint::black_box;"}, {"sha": "dde414f417740c9d244563469caff44a7c36f8cf", "filename": "src/tools/miri/tests/fail/invalid_bool.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftools%2Fmiri%2Ftests%2Ffail%2Finvalid_bool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftools%2Fmiri%2Ftests%2Ffail%2Finvalid_bool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Ftests%2Ffail%2Finvalid_bool.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -1,7 +1,7 @@\n // Validation makes this fail in the wrong place\n // Make sure we find these even with many checks disabled.\n //@compile-flags: -Zmiri-disable-alignment-check -Zmiri-disable-stacked-borrows -Zmiri-disable-validation\n-#![feature(bench_black_box)]\n+\n \n fn main() {\n     let b = unsafe { std::mem::transmute::<u8, bool>(2) };"}, {"sha": "ce62fb0de04f80cf107a21a22688d03cbc1ead00", "filename": "src/tools/miri/tests/pass/float.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Ffloat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Ffloat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Ffloat.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -1,4 +1,4 @@\n-#![feature(stmt_expr_attributes, bench_black_box)]\n+#![feature(stmt_expr_attributes)]\n #![allow(arithmetic_overflow)]\n use std::fmt::Debug;\n use std::hint::black_box;"}, {"sha": "6def529dbe7c3e030627775fd748791e67f43931", "filename": "src/tools/miri/tests/pass/u128.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fu128.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07bb2e65276d21ef97a6bdbcfdd74cfce47baa37/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fu128.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fu128.rs?ref=07bb2e65276d21ef97a6bdbcfdd74cfce47baa37", "patch": "@@ -1,4 +1,3 @@\n-#![feature(bench_black_box)]\n use std::hint::black_box as b;\n \n fn main() {"}]}