{"sha": "498d862062cb1c5fc28fe3cfac51e0a23947e281", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ5OGQ4NjIwNjJjYjFjNWZjMjhmZTNjZmFjNTFlMGEyMzk0N2UyODE=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-04-11T06:40:42Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-04-11T06:40:42Z"}, "message": "Merge pull request #2659 from phansch/debug_deployment_issues\n\nDebug deployment script issues", "tree": {"sha": "38b1a57b3f75192f0c1ee84dbec7696b6ec45591", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/38b1a57b3f75192f0c1ee84dbec7696b6ec45591"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/498d862062cb1c5fc28fe3cfac51e0a23947e281", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJaza3qCRBK7hj4Ov3rIwAAdHIIADWClW6d/UUBLcNLhM5rTrdj\n0BrO5hUVimQ3wuOcVhcRj1O87K7PqZ4NzKDnBQOdkFMnsdZdFLOol/yN7r/vKYFa\nacVddWpzctu2DVL5MZi+S8UGg+z8TS1v/qHVl5Uw4gyeUV7qeLOft8tIxhokQhfr\nWQWhdvolMYsIXrtjq7rRuctZh9FS+Hq0khGjslPiHd5mEtrMrCdPQZ0tiQpdWt8V\nwrXN8qSTtQ35s2jl1U9sqim34ggWTk9fo0Fw85WpmcUKi5KiYHoCf5P84HrR5bTZ\nDWtkh/XHr17vNXq5hS3w4E4KGmo/qRFSCNpYa5GPcj8TK0oZRxARs0mBAy4VkRs=\n=uNp1\n-----END PGP SIGNATURE-----\n", "payload": "tree 38b1a57b3f75192f0c1ee84dbec7696b6ec45591\nparent c067bc3cd04c282e2a4b1f81ddb96aabfe98d50b\nparent bdba9c14e752ef6af7df34b9d300ed432087d5c5\nauthor Philipp Hansch <dev@phansch.net> 1523428842 +0200\ncommitter GitHub <noreply@github.com> 1523428842 +0200\n\nMerge pull request #2659 from phansch/debug_deployment_issues\n\nDebug deployment script issues"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/498d862062cb1c5fc28fe3cfac51e0a23947e281", "html_url": "https://github.com/rust-lang/rust/commit/498d862062cb1c5fc28fe3cfac51e0a23947e281", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/498d862062cb1c5fc28fe3cfac51e0a23947e281/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c067bc3cd04c282e2a4b1f81ddb96aabfe98d50b", "url": "https://api.github.com/repos/rust-lang/rust/commits/c067bc3cd04c282e2a4b1f81ddb96aabfe98d50b", "html_url": "https://github.com/rust-lang/rust/commit/c067bc3cd04c282e2a4b1f81ddb96aabfe98d50b"}, {"sha": "bdba9c14e752ef6af7df34b9d300ed432087d5c5", "url": "https://api.github.com/repos/rust-lang/rust/commits/bdba9c14e752ef6af7df34b9d300ed432087d5c5", "html_url": "https://github.com/rust-lang/rust/commit/bdba9c14e752ef6af7df34b9d300ed432087d5c5"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "aa76f8f4e410fb6886d476882bb1d1147e3e28df", "filename": ".github/deploy.sh", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/498d862062cb1c5fc28fe3cfac51e0a23947e281/.github%2Fdeploy.sh", "raw_url": "https://github.com/rust-lang/rust/raw/498d862062cb1c5fc28fe3cfac51e0a23947e281/.github%2Fdeploy.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fdeploy.sh?ref=498d862062cb1c5fc28fe3cfac51e0a23947e281", "patch": "@@ -2,6 +2,7 @@\n # Automatically deploy on gh-pages\n \n set -e\n+set -x\n \n SOURCE_BRANCH=\"master\"\n TARGET_BRANCH=\"gh-pages\"\n@@ -18,16 +19,16 @@ SHA=$(git rev-parse --verify HEAD)\n     git checkout $TARGET_BRANCH\n )\n \n-# Remove the current doc for master\n+echo \"Removing the current docs for master\"\n rm -rf out/master/ || exit 0\n \n-# Make the doc for master\n+echo \"Making the docs for master\"\n mkdir out/master/\n cp util/gh-pages/index.html out/master\n python ./util/export.py out/master/lints.json\n \n-# Save the doc for the current tag and point current/ to it\n if [ -n \"$TRAVIS_TAG\" ]; then\n+    echo \"Save the doc for the current tag ($TRAVIS_TAG) and point current/ to it\"\n     cp -r out/master \"out/$TRAVIS_TAG\"\n     rm -f out/current\n     ln -s \"$TRAVIS_TAG\" out/current"}, {"sha": "3a187b7b22ed7c152056ff43f4984ecb99bda2e2", "filename": ".travis.yml", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/498d862062cb1c5fc28fe3cfac51e0a23947e281/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/498d862062cb1c5fc28fe3cfac51e0a23947e281/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=498d862062cb1c5fc28fe3cfac51e0a23947e281", "patch": "@@ -22,6 +22,8 @@ before_install:\n      command curl -sSL https://rvm.io/mpapis.asc | gpg --import -\n      rvm get stable\n     fi\n+  - echo \"TRAVIS_BRANCH:\"\n+  - echo $TRAVIS_BRANCH\n \n install:\n   - . $HOME/.nvm/nvm.sh"}]}