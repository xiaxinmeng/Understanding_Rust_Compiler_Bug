{"sha": "3c42f18c376663948e48ea7516762a0adfcd24a6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNjNDJmMThjMzc2NjYzOTQ4ZTQ4ZWE3NTE2NzYyYTBhZGZjZDI0YTY=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2017-12-06T21:22:05Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2017-12-07T10:28:03Z"}, "message": "delete stray file", "tree": {"sha": "c9bd7a10ea82150c5638265de3cef2b6466021f0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c9bd7a10ea82150c5638265de3cef2b6466021f0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3c42f18c376663948e48ea7516762a0adfcd24a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3c42f18c376663948e48ea7516762a0adfcd24a6", "html_url": "https://github.com/rust-lang/rust/commit/3c42f18c376663948e48ea7516762a0adfcd24a6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3c42f18c376663948e48ea7516762a0adfcd24a6/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6ee31e2af7b512bdcc85beabadf2e91152217040", "url": "https://api.github.com/repos/rust-lang/rust/commits/6ee31e2af7b512bdcc85beabadf2e91152217040", "html_url": "https://github.com/rust-lang/rust/commit/6ee31e2af7b512bdcc85beabadf2e91152217040"}], "stats": {"total": 87, "additions": 0, "deletions": 87}, "files": [{"sha": "ba06888943b91eeb00344007e3967657e1a4dfa9", "filename": "src/test/ui/nll/closure-requirements/via-upvar-nested.stderr", "status": "removed", "additions": 0, "deletions": 87, "changes": 87, "blob_url": "https://github.com/rust-lang/rust/blob/6ee31e2af7b512bdcc85beabadf2e91152217040/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fvia-upvar-nested.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6ee31e2af7b512bdcc85beabadf2e91152217040/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fvia-upvar-nested.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fvia-upvar-nested.stderr?ref=6ee31e2af7b512bdcc85beabadf2e91152217040", "patch": "@@ -1,87 +0,0 @@\n-note: External requirements\n-  --> $DIR/via-upvar-nested.rs:24:28\n-   |\n-24 |             let closure1 = || p = &y;\n-   |                            ^^^^^^^^^\n-   |\n-   = note: _0: ()\n-   = note: _1: &mut [closure@$DIR/via-upvar-nested.rs:24:28: 24:37 p:&mut &i32, y:&i32]\n-\n-note: External requirements\n-  --> $DIR/via-upvar-nested.rs:23:27\n-   |\n-23 |           let mut closure = || {\n-   |  ___________________________^\n-24 | |             let closure1 = || p = &y;\n-25 | |             closure1();\n-26 | |         };\n-   | |_________^\n-   |\n-   = note: _0: ()\n-   = note: _1: &mut [closure@$DIR/via-upvar-nested.rs:23:27: 26:10 p:&mut &i32, y:&i32]\n-   = note: where '_#1r: '_#2r\n-\n-error[E0596]: cannot borrow immutable item `closure1` as mutable (Mir)\n-  --> $DIR/via-upvar-nested.rs:25:13\n-   |\n-25 |             closure1();\n-   |             ^^^^^^^^ cannot borrow as mutable\n-\n-error[E0597]: `**y` does not live long enough (Ast)\n-  --> $DIR/via-upvar-nested.rs:24:36\n-   |\n-24 |             let closure1 = || p = &y;\n-   |                            --      ^ does not live long enough\n-   |                            |\n-   |                            capture occurs here\n-...\n-29 |     }\n-   |     - borrowed value only lives until here\n-...\n-32 | }\n-   | - borrowed value needs to live until here\n-\n-error[E0596]: cannot borrow immutable local variable `closure1` as mutable (Ast)\n-  --> $DIR/via-upvar-nested.rs:25:13\n-   |\n-24 |             let closure1 = || p = &y;\n-   |                 -------- consider changing this to `mut closure1`\n-25 |             closure1();\n-   |             ^^^^^^^^ cannot borrow mutably\n-\n-note: No external requirements\n-  --> $DIR/via-upvar-nested.rs:16:1\n-   |\n-16 | / fn test() {\n-17 | |     let x = 44;\n-18 | |     let mut p = &x;\n-19 | |\n-...  |\n-31 | |     deref(p);\n-32 | | }\n-   | |_^\n-\n-error[E0597]: borrowed value does not live long enough (Mir)\n-  --> $DIR/via-upvar-nested.rs:29:6\n-   |\n-21 |         let y = 22;\n-   |             - temporary value created here\n-...\n-29 |     }\n-   |      ^ temporary value dropped here while still borrowed\n-   |\n-   = note: consider using a `let` binding to increase its lifetime\n-\n-error[E0502]: cannot borrow `(*p)` as immutable because it is also borrowed as mutable (Mir)\n-  --> $DIR/via-upvar-nested.rs:31:11\n-   |\n-23 |         let mut closure = || {\n-   |                           -- mutable borrow occurs here\n-24 |             let closure1 = || p = &y;\n-   |                               - previous borrow occurs due to use of `(*p)` in closure\n-...\n-31 |     deref(p);\n-   |           ^ immutable borrow occurs here\n-\n-error: aborting due to 5 previous errors\n-"}]}