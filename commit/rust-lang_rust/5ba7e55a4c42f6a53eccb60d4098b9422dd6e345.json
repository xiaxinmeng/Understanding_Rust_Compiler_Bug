{"sha": "5ba7e55a4c42f6a53eccb60d4098b9422dd6e345", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViYTdlNTVhNGM0MmY2YTUzZWNjYjYwZDQwOThiOTQyMmRkNmUzNDU=", "commit": {"author": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2013-01-15T23:03:49Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2013-01-20T22:08:18Z"}, "message": "convert ast::{ty_field_,ty_method} into a struct", "tree": {"sha": "e14c312fe4142afe1528c43f0e306a8a61244864", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e14c312fe4142afe1528c43f0e306a8a61244864"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345", "html_url": "https://github.com/rust-lang/rust/commit/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/comments", "author": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8cdc3fda11b2e341f305c03678a04c6bb01ce635", "url": "https://api.github.com/repos/rust-lang/rust/commits/8cdc3fda11b2e341f305c03678a04c6bb01ce635", "html_url": "https://github.com/rust-lang/rust/commit/8cdc3fda11b2e341f305c03678a04c6bb01ce635"}], "stats": {"total": 68, "additions": 47, "deletions": 21}, "files": [{"sha": "953317fe02f038be572e0f64afd90d7f3a301ae7", "filename": "src/libsyntax/ast.rs", "status": "modified", "additions": 14, "deletions": 4, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/src%2Flibsyntax%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/src%2Flibsyntax%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fast.rs?ref=5ba7e55a4c42f6a53eccb60d4098b9422dd6e345", "patch": "@@ -940,15 +940,25 @@ struct mt {\n \n #[auto_encode]\n #[auto_decode]\n-type ty_field_ = {ident: ident, mt: mt};\n+struct ty_field_ {\n+    ident: ident,\n+    mt: mt,\n+}\n \n type ty_field = spanned<ty_field_>;\n \n #[auto_encode]\n #[auto_decode]\n-type ty_method = {ident: ident, attrs: ~[attribute], purity: purity,\n-                  decl: fn_decl, tps: ~[ty_param], self_ty: self_ty,\n-                  id: node_id, span: span};\n+struct ty_method {\n+    ident: ident,\n+    attrs: ~[attribute],\n+    purity: purity,\n+    decl: fn_decl,\n+    tps: ~[ty_param],\n+    self_ty: self_ty,\n+    id: node_id,\n+    span: span,\n+}\n \n #[auto_encode]\n #[auto_decode]"}, {"sha": "a65d6467eb5840d5626ea5a731faf7eed32e3f25", "filename": "src/libsyntax/ast_util.rs", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/src%2Flibsyntax%2Fast_util.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/src%2Flibsyntax%2Fast_util.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fast_util.rs?ref=5ba7e55a4c42f6a53eccb60d4098b9422dd6e345", "patch": "@@ -341,13 +341,19 @@ fn public_methods(ms: ~[@method]) -> ~[@method] {\n // a default, pull out the useful fields to make a ty_method\n fn trait_method_to_ty_method(method: trait_method) -> ty_method {\n     match method {\n-      required(ref m) => (*m),\n-      provided(m) => {\n-        {ident: m.ident, attrs: m.attrs,\n-         purity: m.purity, decl: m.decl,\n-         tps: m.tps, self_ty: m.self_ty,\n-         id: m.id, span: m.span}\n-      }\n+        required(ref m) => (*m),\n+        provided(m) => {\n+            ty_method {\n+                ident: m.ident,\n+                attrs: m.attrs,\n+                purity: m.purity,\n+                decl: m.decl,\n+                tps: m.tps,\n+                self_ty: m.self_ty,\n+                id: m.id,\n+                span: m.span,\n+            }\n+        }\n     }\n }\n "}, {"sha": "0bd72790cad605a0506cd0b1189c226d8d395823", "filename": "src/libsyntax/ext/pipes/ast_builder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/src%2Flibsyntax%2Fext%2Fpipes%2Fast_builder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/src%2Flibsyntax%2Fext%2Fpipes%2Fast_builder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fpipes%2Fast_builder.rs?ref=5ba7e55a4c42f6a53eccb60d4098b9422dd6e345", "patch": "@@ -167,7 +167,7 @@ impl ext_ctxt: ext_ctxt_ast_builder {\n \n     fn ty_field_imm(name: ident, ty: @ast::Ty) -> ast::ty_field {\n         spanned {\n-            node: {\n+            node: ast::ty_field_ {\n                 ident: name,\n                 mt: ast::mt { ty: ty, mutbl: ast::m_imm },\n             },"}, {"sha": "e8d96d2e6e0ac07964a62359e0966bf3bac74aca", "filename": "src/libsyntax/fold.rs", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/src%2Flibsyntax%2Ffold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/src%2Flibsyntax%2Ffold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffold.rs?ref=5ba7e55a4c42f6a53eccb60d4098b9422dd6e345", "patch": "@@ -541,9 +541,13 @@ fn noop_fold_ty(t: ty_, fld: ast_fold) -> ty_ {\n         mt { ty: fld.fold_ty(mt.ty), mutbl: mt.mutbl }\n     }\n     fn fold_field(f: ty_field, fld: ast_fold) -> ty_field {\n-        spanned { node: { ident: fld.fold_ident(f.node.ident),\n-                          mt: fold_mt(f.node.mt, fld) },\n-                  span: fld.new_span(f.span) }\n+        spanned {\n+            node: ast::ty_field_ {\n+                ident: fld.fold_ident(f.node.ident),\n+                mt: fold_mt(f.node.mt, fld),\n+            },\n+            span: fld.new_span(f.span),\n+        }\n     }\n     match t {\n       ty_nil | ty_bot | ty_infer => copy t,"}, {"sha": "b4fbd9beae3967d1214cef4fc032f00ca35f4005", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 12, "deletions": 6, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5ba7e55a4c42f6a53eccb60d4098b9422dd6e345/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=5ba7e55a4c42f6a53eccb60d4098b9422dd6e345", "patch": "@@ -421,10 +421,16 @@ impl Parser {\n                 debug!(\"parse_trait_methods(): parsing required method\");\n                 // NB: at the moment, visibility annotations on required\n                 // methods are ignored; this could change.\n-                required({ident: ident, attrs: attrs,\n-                          purity: pur, decl: d, tps: tps,\n-                          self_ty: self_ty,\n-                          id: p.get_id(), span: mk_sp(lo, hi)})\n+                required(ty_method {\n+                    ident: ident,\n+                    attrs: attrs,\n+                    purity: pur,\n+                    decl: d,\n+                    tps: tps,\n+                    self_ty: self_ty,\n+                    id: p.get_id(),\n+                    span: mk_sp(lo, hi)\n+                })\n               }\n               token::LBRACE => {\n                 debug!(\"parse_trait_methods(): parsing provided method\");\n@@ -467,9 +473,9 @@ impl Parser {\n         spanned(\n             lo,\n             ty.span.hi,\n-            {\n+            ast::ty_field_ {\n                 ident: id,\n-                mt: ast::mt { ty: ty, mutbl: mutbl }\n+                mt: ast::mt { ty: ty, mutbl: mutbl },\n             }\n         )\n     }"}]}