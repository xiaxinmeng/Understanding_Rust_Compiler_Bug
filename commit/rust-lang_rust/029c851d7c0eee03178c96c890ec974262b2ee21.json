{"sha": "029c851d7c0eee03178c96c890ec974262b2ee21", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAyOWM4NTFkN2MwZWVlMDMxNzhjOTZjODkwZWM5NzQyNjJiMmVlMjE=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-09-07T09:22:49Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-09-07T09:23:09Z"}, "message": "another optimization work-around", "tree": {"sha": "0209e73c6c42e3eb40b78077b1bf0b48b794fdbe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0209e73c6c42e3eb40b78077b1bf0b48b794fdbe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/029c851d7c0eee03178c96c890ec974262b2ee21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/029c851d7c0eee03178c96c890ec974262b2ee21", "html_url": "https://github.com/rust-lang/rust/commit/029c851d7c0eee03178c96c890ec974262b2ee21", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/029c851d7c0eee03178c96c890ec974262b2ee21/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "088af66f85ef5e885202ad258670936f8edc3c53", "url": "https://api.github.com/repos/rust-lang/rust/commits/088af66f85ef5e885202ad258670936f8edc3c53", "html_url": "https://github.com/rust-lang/rust/commit/088af66f85ef5e885202ad258670936f8edc3c53"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "a9db5ff7df39e66665a1c541a528575aa468584c", "filename": "tests/compile-fail/unaligned_pointers/unaligned_ptr_zst.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/029c851d7c0eee03178c96c890ec974262b2ee21/tests%2Fcompile-fail%2Funaligned_pointers%2Funaligned_ptr_zst.rs", "raw_url": "https://github.com/rust-lang/rust/raw/029c851d7c0eee03178c96c890ec974262b2ee21/tests%2Fcompile-fail%2Funaligned_pointers%2Funaligned_ptr_zst.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Funaligned_pointers%2Funaligned_ptr_zst.rs?ref=029c851d7c0eee03178c96c890ec974262b2ee21", "patch": "@@ -2,8 +2,8 @@\n // compile-flags: -Zmiri-disable-validation\n \n fn main() {\n-    for _ in 0..10 { // Try many times as this might work by chance.\n-        let x = 2u8;\n+    for i in 0..10 { // Try many times as this might work by chance.\n+        let x = i as u8;\n         let x = &x as *const _ as *const [u32; 0];\n         // This must fail because alignment is violated. Test specifically for loading ZST.\n         let _x = unsafe { *x }; //~ERROR alignment 4 is required"}]}