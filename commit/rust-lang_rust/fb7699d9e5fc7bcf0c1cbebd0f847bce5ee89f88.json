{"sha": "fb7699d9e5fc7bcf0c1cbebd0f847bce5ee89f88", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZiNzY5OWQ5ZTVmYzdiY2YwYzFjYmViZDBmODQ3YmNlNWVlODlmODg=", "commit": {"author": {"name": "Mateusz Miku\u0142a", "email": "matti@marinelayer.io", "date": "2019-03-18T11:29:09Z"}, "committer": {"name": "Mateusz Miku\u0142a", "email": "mati865@gmail.com", "date": "2019-03-18T11:54:10Z"}, "message": "Rework clippy detection in attribute lint", "tree": {"sha": "a69fcfbce58a467ae39ae3b2a4fed71d92de6fc7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a69fcfbce58a467ae39ae3b2a4fed71d92de6fc7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fb7699d9e5fc7bcf0c1cbebd0f847bce5ee89f88", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fb7699d9e5fc7bcf0c1cbebd0f847bce5ee89f88", "html_url": "https://github.com/rust-lang/rust/commit/fb7699d9e5fc7bcf0c1cbebd0f847bce5ee89f88", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fb7699d9e5fc7bcf0c1cbebd0f847bce5ee89f88/comments", "author": {"login": "mati865", "id": 1174646, "node_id": "MDQ6VXNlcjExNzQ2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1174646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mati865", "html_url": "https://github.com/mati865", "followers_url": "https://api.github.com/users/mati865/followers", "following_url": "https://api.github.com/users/mati865/following{/other_user}", "gists_url": "https://api.github.com/users/mati865/gists{/gist_id}", "starred_url": "https://api.github.com/users/mati865/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mati865/subscriptions", "organizations_url": "https://api.github.com/users/mati865/orgs", "repos_url": "https://api.github.com/users/mati865/repos", "events_url": "https://api.github.com/users/mati865/events{/privacy}", "received_events_url": "https://api.github.com/users/mati865/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mati865", "id": 1174646, "node_id": "MDQ6VXNlcjExNzQ2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1174646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mati865", "html_url": "https://github.com/mati865", "followers_url": "https://api.github.com/users/mati865/followers", "following_url": "https://api.github.com/users/mati865/following{/other_user}", "gists_url": "https://api.github.com/users/mati865/gists{/gist_id}", "starred_url": "https://api.github.com/users/mati865/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mati865/subscriptions", "organizations_url": "https://api.github.com/users/mati865/orgs", "repos_url": "https://api.github.com/users/mati865/repos", "events_url": "https://api.github.com/users/mati865/events{/privacy}", "received_events_url": "https://api.github.com/users/mati865/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0ea5e38a9e188304e5ad7819139a9f2988483446", "url": "https://api.github.com/repos/rust-lang/rust/commits/0ea5e38a9e188304e5ad7819139a9f2988483446", "html_url": "https://github.com/rust-lang/rust/commit/0ea5e38a9e188304e5ad7819139a9f2988483446"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "b461b1364eff8bee07696cd9b1724f55ba89b844", "filename": "clippy_lints/src/attrs.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/fb7699d9e5fc7bcf0c1cbebd0f847bce5ee89f88/clippy_lints%2Fsrc%2Fattrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fb7699d9e5fc7bcf0c1cbebd0f847bce5ee89f88/clippy_lints%2Fsrc%2Fattrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fattrs.rs?ref=fb7699d9e5fc7bcf0c1cbebd0f847bce5ee89f88", "patch": "@@ -315,10 +315,11 @@ fn check_clippy_lint_names(cx: &LateContext<'_, '_>, items: &[NestedMetaItem]) {\n     let lint_store = cx.lints();\n     for lint in items {\n         if_chain! {\n-            if let Some(word) = lint.word();\n-            if let Some(tool_name) = word.is_scoped();\n+            if let Some(meta_item) = lint.meta_item();\n+            if meta_item.path.segments.len() > 1;\n+            if let tool_name = meta_item.path.segments[0].ident;\n             if tool_name.as_str() == \"clippy\";\n-            let name = word.name();\n+            let name = meta_item.path.segments.last().unwrap().ident.name;\n             if let CheckLintNameResult::Tool(Err((None, _))) = lint_store.check_lint_name(\n                 &name.as_str(),\n                 Some(tool_name.as_str()),"}]}