{"sha": "2f3c412c84712f2159ccf5c174ac716d19925d68", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmM2M0MTJjODQ3MTJmMjE1OWNjZjVjMTc0YWM3MTZkMTk5MjVkNjg=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2017-10-25T14:51:36Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2017-10-25T14:51:36Z"}, "message": "std: Disable usage of mmap allocator in libbacktrace\n\nThis is sort of a long overdue change from the investigation in #29293\nand #37477. The released binaries of rustc don't have debug information and so\ndon't actively suffer this problem but this can hit local development of rustc\nand also larger programs compiled against libstd generating backtraces.\n\nThe main purpose of the mmap allocator in libacktrace is to be usable from a\nsignal handler, but we don't do that, so the normal allocator using malloc/free\nshould work well for us.", "tree": {"sha": "dac573dbef73040f84b941cd216fb81769fa37b2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dac573dbef73040f84b941cd216fb81769fa37b2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2f3c412c84712f2159ccf5c174ac716d19925d68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2f3c412c84712f2159ccf5c174ac716d19925d68", "html_url": "https://github.com/rust-lang/rust/commit/2f3c412c84712f2159ccf5c174ac716d19925d68", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2f3c412c84712f2159ccf5c174ac716d19925d68/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b2478052f88db8c8526ee2dc4a382da91eefc76c", "url": "https://api.github.com/repos/rust-lang/rust/commits/b2478052f88db8c8526ee2dc4a382da91eefc76c", "html_url": "https://github.com/rust-lang/rust/commit/b2478052f88db8c8526ee2dc4a382da91eefc76c"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "df6497fc64667be00e1be81eb2ae152625684e06", "filename": "src/libbacktrace/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f3c412c84712f2159ccf5c174ac716d19925d68/src%2Flibbacktrace%2Fconfigure", "raw_url": "https://github.com/rust-lang/rust/raw/2f3c412c84712f2159ccf5c174ac716d19925d68/src%2Flibbacktrace%2Fconfigure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibbacktrace%2Fconfigure?ref=2f3c412c84712f2159ccf5c174ac716d19925d68", "patch": "@@ -12338,7 +12338,7 @@ else\n \n _ACEOF\n if ac_fn_c_try_cpp \"$LINENO\"; then :\n-  ALLOC_FILE=mmap.lo\n+  ALLOC_FILE=alloc.lo\n else\n   ALLOC_FILE=alloc.lo\n fi"}]}