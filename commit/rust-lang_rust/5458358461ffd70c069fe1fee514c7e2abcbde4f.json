{"sha": "5458358461ffd70c069fe1fee514c7e2abcbde4f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0NTgzNTg0NjFmZmQ3MGMwNjlmZTFmZWU1MTRjN2UyYWJjYmRlNGY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-09-08T09:00:54Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-09-08T09:00:54Z"}, "message": "Auto merge of #7644 - flip1995:rustup, r=flip1995\n\nRustup\n\nr? `@ghost`\n\nchangelog: none", "tree": {"sha": "92986fef24bcc11dc74d4e20453e6402dbab4220", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/92986fef24bcc11dc74d4e20453e6402dbab4220"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5458358461ffd70c069fe1fee514c7e2abcbde4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5458358461ffd70c069fe1fee514c7e2abcbde4f", "html_url": "https://github.com/rust-lang/rust/commit/5458358461ffd70c069fe1fee514c7e2abcbde4f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5458358461ffd70c069fe1fee514c7e2abcbde4f/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f35678401c6321f2c894c9669810c444b095ce23", "url": "https://api.github.com/repos/rust-lang/rust/commits/f35678401c6321f2c894c9669810c444b095ce23", "html_url": "https://github.com/rust-lang/rust/commit/f35678401c6321f2c894c9669810c444b095ce23"}, {"sha": "563a00b2a0370d4594f8a20b409323da576c5d84", "url": "https://api.github.com/repos/rust-lang/rust/commits/563a00b2a0370d4594f8a20b409323da576c5d84", "html_url": "https://github.com/rust-lang/rust/commit/563a00b2a0370d4594f8a20b409323da576c5d84"}], "stats": {"total": 77, "additions": 20, "deletions": 57}, "files": [{"sha": "20327573db7fc63ac28b8605142646ec7741f5e6", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -1,6 +1,6 @@\n [package]\n name = \"clippy\"\n-version = \"0.1.56\"\n+version = \"0.1.57\"\n description = \"A bunch of helpful lints to avoid common pitfalls in Rust\"\n repository = \"https://github.com/rust-lang/rust-clippy\"\n readme = \"README.md\""}, {"sha": "3c28024bf926a4e1243ce0d52910223d28da0562", "filename": "clippy_lints/Cargo.toml", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2FCargo.toml?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -1,8 +1,6 @@\n [package]\n name = \"clippy_lints\"\n-# begin automatic update\n-version = \"0.1.56\"\n-# end automatic update\n+version = \"0.1.57\"\n description = \"A bunch of helpful lints to avoid common pitfalls in Rust\"\n repository = \"https://github.com/rust-lang/rust-clippy\"\n readme = \"README.md\""}, {"sha": "248b35b024ee1aa8a7a0b9f520c3ceab1b86f86f", "filename": "clippy_lints/src/casts/cast_ptr_alignment.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fcasts%2Fcast_ptr_alignment.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fcasts%2Fcast_ptr_alignment.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fcast_ptr_alignment.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -3,9 +3,9 @@ use clippy_utils::is_hir_ty_cfg_dependant;\n use if_chain::if_chain;\n use rustc_hir::{Expr, ExprKind, GenericArg};\n use rustc_lint::LateContext;\n+use rustc_middle::ty::layout::LayoutOf;\n use rustc_middle::ty::{self, Ty};\n use rustc_span::symbol::sym;\n-use rustc_target::abi::LayoutOf;\n \n use super::CAST_PTR_ALIGNMENT;\n "}, {"sha": "1ba241d37761675150a31b80e2e30cc4dc76023e", "filename": "clippy_lints/src/escape.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fescape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fescape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fescape.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -5,11 +5,11 @@ use rustc_hir::{self, AssocItemKind, Body, FnDecl, HirId, HirIdSet, Impl, ItemKi\n use rustc_infer::infer::TyCtxtInferExt;\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::mir::FakeReadCause;\n+use rustc_middle::ty::layout::LayoutOf;\n use rustc_middle::ty::{self, TraitRef, Ty};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n use rustc_span::source_map::Span;\n use rustc_span::symbol::kw;\n-use rustc_target::abi::LayoutOf;\n use rustc_target::spec::abi::Abi;\n use rustc_typeck::expr_use_visitor::{Delegate, ExprUseVisitor, PlaceBase, PlaceWithHirId};\n "}, {"sha": "b1f70b30c12cf1c1605b09ac48cf9fc9891fad3e", "filename": "clippy_lints/src/invalid_upcast_comparisons.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Finvalid_upcast_comparisons.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Finvalid_upcast_comparisons.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finvalid_upcast_comparisons.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -2,10 +2,10 @@ use std::cmp::Ordering;\n \n use rustc_hir::{Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};\n+use rustc_middle::ty::layout::LayoutOf;\n use rustc_middle::ty::{self, IntTy, UintTy};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::Span;\n-use rustc_target::abi::LayoutOf;\n \n use clippy_utils::comparisons::Rel;\n use clippy_utils::consts::{constant, Constant};"}, {"sha": "10281496c11cbb4e65887c6ea5e17447d17a2ab3", "filename": "clippy_lints/src/large_const_arrays.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Flarge_const_arrays.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Flarge_const_arrays.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_const_arrays.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -1,10 +1,10 @@\n-use crate::rustc_target::abi::LayoutOf;\n use clippy_utils::diagnostics::span_lint_and_then;\n use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir::{Item, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::mir::interpret::ConstValue;\n+use rustc_middle::ty::layout::LayoutOf;\n use rustc_middle::ty::{self, ConstKind};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n use rustc_span::{BytePos, Pos, Span};"}, {"sha": "e4b8e7546283b460f6f40da388ae8b3c51453d3c", "filename": "clippy_lints/src/large_enum_variant.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Flarge_enum_variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Flarge_enum_variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_enum_variant.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -6,8 +6,8 @@ use rustc_errors::Applicability;\n use rustc_hir::{Item, ItemKind, VariantData};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::lint::in_external_macro;\n+use rustc_middle::ty::layout::LayoutOf;\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n-use rustc_target::abi::LayoutOf;\n \n declare_clippy_lint! {\n     /// ### What it does"}, {"sha": "bbb6c1f902ce077e7fcfc6f168021f71fb356cde", "filename": "clippy_lints/src/large_stack_arrays.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Flarge_stack_arrays.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Flarge_stack_arrays.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_stack_arrays.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -4,11 +4,10 @@ use if_chain::if_chain;\n use rustc_hir::{Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::mir::interpret::ConstValue;\n+use rustc_middle::ty::layout::LayoutOf;\n use rustc_middle::ty::{self, ConstKind};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n \n-use crate::rustc_target::abi::LayoutOf;\n-\n declare_clippy_lint! {\n     /// ### What it does\n     /// Checks for local arrays that may be too large."}, {"sha": "7627e0fb28956f3a61a0c8f513d03dad7c29033b", "filename": "clippy_lints/src/macro_use.rs", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fmacro_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fmacro_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmacro_use.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -47,12 +47,8 @@ pub struct MacroRefData {\n \n impl MacroRefData {\n     pub fn new(name: String, callee: Span, cx: &LateContext<'_>) -> Self {\n-        let mut path = cx\n-            .sess()\n-            .source_map()\n-            .span_to_filename(callee)\n-            .prefer_local()\n-            .to_string();\n+        let sm = cx.sess().source_map();\n+        let mut path = sm.filename_for_diagnostics(&sm.span_to_filename(callee)).to_string();\n \n         // std lib paths are <::std::module::file type>\n         // so remove brackets, space and type."}, {"sha": "7ecafa1f3ba5b90d4766902cd46f04adb729f22f", "filename": "clippy_lints/src/methods/manual_saturating_arithmetic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fmethods%2Fmanual_saturating_arithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fmethods%2Fmanual_saturating_arithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmanual_saturating_arithmetic.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -6,7 +6,7 @@ use rustc_ast::ast;\n use rustc_errors::Applicability;\n use rustc_hir as hir;\n use rustc_lint::LateContext;\n-use rustc_target::abi::LayoutOf;\n+use rustc_middle::ty::layout::LayoutOf;\n \n pub fn check(\n     cx: &LateContext<'_>,"}, {"sha": "6229b9608b3cbe5aad07d6316c374f70e30f2cff", "filename": "clippy_lints/src/pass_by_ref_or_value.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fpass_by_ref_or_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fpass_by_ref_or_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpass_by_ref_or_value.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -13,10 +13,10 @@ use rustc_hir::intravisit::FnKind;\n use rustc_hir::{BindingAnnotation, Body, FnDecl, HirId, Impl, ItemKind, MutTy, Mutability, Node, PatKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::ty;\n+use rustc_middle::ty::layout::LayoutOf;\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n use rustc_span::def_id::LocalDefId;\n use rustc_span::{sym, Span};\n-use rustc_target::abi::LayoutOf;\n use rustc_target::spec::abi::Abi;\n use rustc_target::spec::Target;\n "}, {"sha": "e7e2016d8f2f3de1eb7c9809111036b3cf5b36f8", "filename": "clippy_lints/src/types/vec_box.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Ftypes%2Fvec_box.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Ftypes%2Fvec_box.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Fvec_box.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -5,9 +5,9 @@ use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir::{self as hir, def_id::DefId, GenericArg, QPath, TyKind};\n use rustc_lint::LateContext;\n+use rustc_middle::ty::layout::LayoutOf;\n use rustc_middle::ty::TypeFoldable;\n use rustc_span::symbol::sym;\n-use rustc_target::abi::LayoutOf;\n use rustc_typeck::hir_ty_to_ty;\n \n use super::VEC_BOX;"}, {"sha": "d124d948b5e69d0b57210f5ffc1e588b786d6b41", "filename": "clippy_lints/src/vec.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fvec.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -1,4 +1,3 @@\n-use crate::rustc_target::abi::LayoutOf;\n use clippy_utils::consts::{constant, Constant};\n use clippy_utils::diagnostics::span_lint_and_sugg;\n use clippy_utils::higher;\n@@ -8,6 +7,7 @@ use if_chain::if_chain;\n use rustc_errors::Applicability;\n use rustc_hir::{BorrowKind, Expr, ExprKind, Mutability};\n use rustc_lint::{LateContext, LateLintPass};\n+use rustc_middle::ty::layout::LayoutOf;\n use rustc_middle::ty::{self, Ty};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n use rustc_span::source_map::Span;"}, {"sha": "8e1cd655b6111c5cb1a66d4abac0fa13deaee7b1", "filename": "clippy_lints/src/zero_sized_map_values.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fzero_sized_map_values.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_lints%2Fsrc%2Fzero_sized_map_values.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fzero_sized_map_values.rs?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -3,10 +3,10 @@ use clippy_utils::ty::{is_normalizable, is_type_diagnostic_item};\n use if_chain::if_chain;\n use rustc_hir::{self as hir, HirId, ItemKind, Node};\n use rustc_lint::{LateContext, LateLintPass};\n+use rustc_middle::ty::layout::LayoutOf as _;\n use rustc_middle::ty::{Adt, Ty, TypeFoldable};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::sym;\n-use rustc_target::abi::LayoutOf as _;\n use rustc_typeck::hir_ty_to_ty;\n \n declare_clippy_lint! {"}, {"sha": "ffc89be0ae557e98fe0090cf6becc5e3bcf0ed4e", "filename": "clippy_utils/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_utils%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/clippy_utils%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2FCargo.toml?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -1,6 +1,6 @@\n [package]\n name = \"clippy_utils\"\n-version = \"0.1.56\"\n+version = \"0.1.57\"\n edition = \"2018\"\n publish = false\n "}, {"sha": "92bde3423a20a811c3c05cf0294f4b62c04bcc35", "filename": "rust-toolchain", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/rust-toolchain", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/rust-toolchain", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rust-toolchain?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -1,3 +1,3 @@\n [toolchain]\n-channel = \"nightly-2021-09-02\"\n+channel = \"nightly-2021-09-08\"\n components = [\"llvm-tools-preview\", \"rustc-dev\", \"rust-src\"]"}, {"sha": "7752a8a6ff2b4094a3089d3295d77b4d2a44f597", "filename": "tests/ui/match_same_arms.stderr", "status": "modified", "additions": 1, "deletions": 19, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/tests%2Fui%2Fmatch_same_arms.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/tests%2Fui%2Fmatch_same_arms.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmatch_same_arms.stderr?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -106,24 +106,6 @@ LL |         1 => 2,\n    |         ^\n    = help: ...or consider changing the match arm bodies\n \n-error: this `match` has identical arm bodies\n-  --> $DIR/match_same_arms.rs:33:14\n-   |\n-LL |         3 => 2, //~ ERROR 3rd matched arms have same body\n-   |              ^\n-   |\n-note: same as this\n-  --> $DIR/match_same_arms.rs:32:14\n-   |\n-LL |         2 => 2, //~ ERROR 2nd matched arms have same body\n-   |              ^\n-help: consider refactoring into `2 | 3`\n-  --> $DIR/match_same_arms.rs:32:9\n-   |\n-LL |         2 => 2, //~ ERROR 2nd matched arms have same body\n-   |         ^\n-   = help: ...or consider changing the match arm bodies\n-\n error: this `match` has identical arm bodies\n   --> $DIR/match_same_arms.rs:50:55\n    |\n@@ -142,5 +124,5 @@ LL |                 CommandInfo::BuiltIn { name, .. } => name.to_string(),\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = help: ...or consider changing the match arm bodies\n \n-error: aborting due to 8 previous errors\n+error: aborting due to 7 previous errors\n "}, {"sha": "34f762bbb923648996cb56af20e84dba18b4fb47", "filename": "tests/ui/modulo_one.stderr", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/tests%2Fui%2Fmodulo_one.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/tests%2Fui%2Fmodulo_one.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmodulo_one.stderr?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -46,12 +46,6 @@ LL |     const ONE: u32 = 1 * 1;\n    |\n    = note: `-D clippy::identity-op` implied by `-D warnings`\n \n-error: the operation is ineffective. Consider reducing it to `1`\n-  --> $DIR/modulo_one.rs:13:22\n-   |\n-LL |     const ONE: u32 = 1 * 1;\n-   |                      ^^^^^\n-\n error: any number modulo 1 will be 0\n   --> $DIR/modulo_one.rs:17:5\n    |\n@@ -70,5 +64,5 @@ error: any number modulo -1 will panic/overflow or result in 0\n LL |     INT_MIN % NEG_ONE; // also caught by rustc\n    |     ^^^^^^^^^^^^^^^^^\n \n-error: aborting due to 11 previous errors\n+error: aborting due to 10 previous errors\n "}, {"sha": "dd6f2f6641d678b14b1d401fac951d98ce43f913", "filename": "tests/ui/suspicious_operation_groupings.stderr", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5458358461ffd70c069fe1fee514c7e2abcbde4f/tests%2Fui%2Fsuspicious_operation_groupings.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5458358461ffd70c069fe1fee514c7e2abcbde4f/tests%2Fui%2Fsuspicious_operation_groupings.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuspicious_operation_groupings.stderr?ref=5458358461ffd70c069fe1fee514c7e2abcbde4f", "patch": "@@ -6,12 +6,6 @@ LL |         self.x == other.y && self.y == other.y && self.z == other.z\n    |\n    = note: `-D clippy::suspicious-operation-groupings` implied by `-D warnings`\n \n-error: this sequence of operators looks suspiciously like a bug\n-  --> $DIR/suspicious_operation_groupings.rs:14:9\n-   |\n-LL |         self.x == other.y && self.y == other.y && self.z == other.z\n-   |         ^^^^^^^^^^^^^^^^^ help: did you mean: `self.x == other.x`\n-\n error: this sequence of operators looks suspiciously like a bug\n   --> $DIR/suspicious_operation_groupings.rs:27:20\n    |\n@@ -162,5 +156,5 @@ error: this sequence of operators looks suspiciously like a bug\n LL |     -(if -s1.a < -s2.a && -s1.a < -s2.b { s1.c } else { s2.a })\n    |                           ^^^^^^^^^^^^^ help: did you mean: `-s1.b < -s2.b`\n \n-error: aborting due to 27 previous errors\n+error: aborting due to 26 previous errors\n "}]}