{"sha": "e95e666b106b2f63ab2b350e656c9e8b96441fa7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU5NWU2NjZiMTA2YjJmNjNhYjJiMzUwZTY1NmM5ZThiOTY0NDFmYTc=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-10-07T20:46:33Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-10-07T20:46:33Z"}, "message": "Merge #6161\n\n6161: Bump chalk to use latest git to get upstream fix r=jonas-schievink a=Ameobea\n\n * Chalk very recently (like an hour ago) merged a fix that prevents rust analyzer from panicking.  This allows it to be usable again for code that hits those situations.  See #6134, #6145, Probably #6120\n\nCo-authored-by: Casey Primozic <me@ameo.link>", "tree": {"sha": "cae4a578e5aef08fc2eb2c0875c316bac15312b5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cae4a578e5aef08fc2eb2c0875c316bac15312b5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e95e666b106b2f63ab2b350e656c9e8b96441fa7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJffikpCRBK7hj4Ov3rIwAAdHIIAIq3MbP4Oe66wG/FjMC6Tfi1\nb49p6orqrHaxlJQDsmOBz0EyIgieG+X8p9NsegrmR0Phr+DUOc8M/EG4LsCaalCQ\nMYcsQ4TWkKrXkw2j+mYkn7C1D+9bmXAx1cu0VqSnFirBqB0+q+UueFkOgoDgUv3f\nmWAeEak9GXQhg5QqK5Wzq1LgNWymxyoZgYmy9F/6izycQQryMnH6BSJqnR9GEsO5\nnc1zJgpH2jXRvv8wKuWHzCAhERPUBacxv+BIB+oHM4+Es74Zd/2xOt6oj0aG+r8v\nUGYEy9P+drjITcRbP5Z9zTmKxUgWDDp+JHf1pEMNeUJPe/+TlCB8O+oGhq+BFrU=\n=/EvF\n-----END PGP SIGNATURE-----\n", "payload": "tree cae4a578e5aef08fc2eb2c0875c316bac15312b5\nparent 83a651b123c08d786d1328293fc0327252a6d5d3\nparent 37df2138ecb4a66aa8547467c7774dc9d378567b\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1602103593 +0000\ncommitter GitHub <noreply@github.com> 1602103593 +0000\n\nMerge #6161\n\n6161: Bump chalk to use latest git to get upstream fix r=jonas-schievink a=Ameobea\n\n * Chalk very recently (like an hour ago) merged a fix that prevents rust analyzer from panicking.  This allows it to be usable again for code that hits those situations.  See #6134, #6145, Probably #6120\n\nCo-authored-by: Casey Primozic <me@ameo.link>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e95e666b106b2f63ab2b350e656c9e8b96441fa7", "html_url": "https://github.com/rust-lang/rust/commit/e95e666b106b2f63ab2b350e656c9e8b96441fa7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e95e666b106b2f63ab2b350e656c9e8b96441fa7/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "83a651b123c08d786d1328293fc0327252a6d5d3", "url": "https://api.github.com/repos/rust-lang/rust/commits/83a651b123c08d786d1328293fc0327252a6d5d3", "html_url": "https://github.com/rust-lang/rust/commit/83a651b123c08d786d1328293fc0327252a6d5d3"}, {"sha": "37df2138ecb4a66aa8547467c7774dc9d378567b", "url": "https://api.github.com/repos/rust-lang/rust/commits/37df2138ecb4a66aa8547467c7774dc9d378567b", "html_url": "https://github.com/rust-lang/rust/commit/37df2138ecb4a66aa8547467c7774dc9d378567b"}], "stats": {"total": 40, "additions": 28, "deletions": 12}, "files": [{"sha": "a1786d201ee5e26eea6fbf34260cbd8e91a8b26a", "filename": "Cargo.lock", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/e95e666b106b2f63ab2b350e656c9e8b96441fa7/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/e95e666b106b2f63ab2b350e656c9e8b96441fa7/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=e95e666b106b2f63ab2b350e656c9e8b96441fa7", "patch": "@@ -162,9 +162,9 @@ checksum = \"4785bdd1c96b2a846b2bd7cc02e86b6b3dbf14e7e53446c4f54c92a361040822\"\n \n [[package]]\n name = \"chalk-derive\"\n-version = \"0.30.0\"\n+version = \"0.32.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a6696d18587b7470c1e357a3fa120a2b7e6ac95e91d5c408f087455f7dc31f8b\"\n+checksum = \"2d072b2ba723f0bada7c515d8b3725224bc4f5052d2a92dcbeb0b118ff37084a\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\",\n@@ -174,19 +174,19 @@ dependencies = [\n \n [[package]]\n name = \"chalk-ir\"\n-version = \"0.30.0\"\n+version = \"0.32.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"8c9538918d3e1fd6edda042d717c969a4099af67a40372dfb0a00b45d3a5a946\"\n+checksum = \"f60cdb0e18c5455cb6a85e8464aad3622b70476018edfa8845691df66f7e9a05\"\n dependencies = [\n  \"chalk-derive\",\n  \"lazy_static\",\n ]\n \n [[package]]\n name = \"chalk-recursive\"\n-version = \"0.30.0\"\n+version = \"0.32.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"97ec8d95c808f2b540c39da889536e1ae0d15182107f61fe80000ec3a5c3959a\"\n+checksum = \"b14f40242102e7c0e2791a2cc86dbbc213a1d7b7acc0e22b7da329f4957d1722\"\n dependencies = [\n  \"chalk-derive\",\n  \"chalk-ir\",\n@@ -197,9 +197,9 @@ dependencies = [\n \n [[package]]\n name = \"chalk-solve\"\n-version = \"0.30.0\"\n+version = \"0.32.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f373dff4bcff66004424b72bcc56ae62889c21887c1cac875f083f69a7da4448\"\n+checksum = \"981534d499a8476ecc0b520be4d3864757f96211826a75360fbf2cb6fae362ab\"\n dependencies = [\n  \"chalk-derive\",\n  \"chalk-ir\","}, {"sha": "0f3c85926aff316b74010fa57aaade64f5f1ced5", "filename": "crates/hir_ty/Cargo.toml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e95e666b106b2f63ab2b350e656c9e8b96441fa7/crates%2Fhir_ty%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/e95e666b106b2f63ab2b350e656c9e8b96441fa7/crates%2Fhir_ty%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2FCargo.toml?ref=e95e666b106b2f63ab2b350e656c9e8b96441fa7", "patch": "@@ -17,9 +17,9 @@ ena = \"0.14.0\"\n log = \"0.4.8\"\n rustc-hash = \"1.1.0\"\n scoped-tls = \"1\"\n-chalk-solve = { version = \"0.30.0\" }\n-chalk-ir = { version = \"0.30.0\" }\n-chalk-recursive = { version = \"0.30.0\" }\n+chalk-solve = \"0.32\"\n+chalk-ir = \"0.32\"\n+chalk-recursive = \"0.32\"\n \n stdx = { path = \"../stdx\", version = \"0.0.0\" }\n hir_def = { path = \"../hir_def\", version = \"0.0.0\" }"}, {"sha": "cbe5cd7dd63b5385236ee20b9307742fb8f7285a", "filename": "crates/hir_ty/src/traits/chalk.rs", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e95e666b106b2f63ab2b350e656c9e8b96441fa7/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e95e666b106b2f63ab2b350e656c9e8b96441fa7/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk.rs?ref=e95e666b106b2f63ab2b350e656c9e8b96441fa7", "patch": "@@ -330,6 +330,20 @@ impl<'a> chalk_solve::RustIrDatabase<Interner> for ChalkContext<'a> {\n     fn fn_def_name(&self, fn_def_id: chalk_ir::FnDefId<Interner>) -> String {\n         format!(\"fn_{}\", fn_def_id.0)\n     }\n+    fn generator_datum(\n+        &self,\n+        _: chalk_ir::GeneratorId<Interner>,\n+    ) -> std::sync::Arc<chalk_solve::rust_ir::GeneratorDatum<Interner>> {\n+        // FIXME\n+        unimplemented!()\n+    }\n+    fn generator_witness_datum(\n+        &self,\n+        _: chalk_ir::GeneratorId<Interner>,\n+    ) -> std::sync::Arc<chalk_solve::rust_ir::GeneratorWitnessDatum<Interner>> {\n+        // FIXME\n+        unimplemented!()\n+    }\n }\n \n pub(crate) fn program_clauses_for_chalk_env_query("}, {"sha": "be33013132f45434eaf33f586d5ae5a0b0012a0a", "filename": "crates/hir_ty/src/traits/chalk/mapping.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e95e666b106b2f63ab2b350e656c9e8b96441fa7/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk%2Fmapping.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e95e666b106b2f63ab2b350e656c9e8b96441fa7/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk%2Fmapping.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk%2Fmapping.rs?ref=e95e666b106b2f63ab2b350e656c9e8b96441fa7", "patch": "@@ -399,6 +399,8 @@ impl ToChalk for TypeCtor {\n                 // this should not be reached, since we don't represent TypeName::Error with TypeCtor\n                 unreachable!()\n             }\n+            TypeName::Generator(_) => unimplemented!(), // FIXME\n+            TypeName::GeneratorWitness(_) => unimplemented!(), // FIXME\n         }\n     }\n }"}, {"sha": "6a712a8a82f038ecf768a508ef789451d1c59d06", "filename": "editors/code/package.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e95e666b106b2f63ab2b350e656c9e8b96441fa7/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/e95e666b106b2f63ab2b350e656c9e8b96441fa7/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=e95e666b106b2f63ab2b350e656c9e8b96441fa7", "patch": "@@ -1048,4 +1048,4 @@\n             ]\n         }\n     }\n-}\n\\ No newline at end of file\n+}"}]}