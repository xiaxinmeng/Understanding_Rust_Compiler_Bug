{"sha": "ea0b8324d6457c4a380a6c30e41414f863ff7897", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVhMGI4MzI0ZDY0NTdjNGEzODBhNmMzMGU0MTQxNGY4NjNmZjc4OTc=", "commit": {"author": {"name": "daxpedda", "email": "daxpedda@gmail.com", "date": "2021-02-06T17:24:08Z"}, "committer": {"name": "daxpedda", "email": "daxpedda@gmail.com", "date": "2021-02-06T17:24:08Z"}, "message": "Document condition.", "tree": {"sha": "1f340fde89de9718f60c3b03cd104120cb52087d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1f340fde89de9718f60c3b03cd104120cb52087d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ea0b8324d6457c4a380a6c30e41414f863ff7897", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE3qx/rJh59vdc2+v9Q9YqPqOI5G8FAmAe0LgACgkQQ9YqPqOI\n5G9HYg//Y0ScA0IESmIywNWClbWXWg0PKh452aDq5rnKJHFMpZotFPUVTxmj9Reo\nTuLllsl2jEs2arkydzeC/NVl5z+JdgpxwC3LtBv4k5sPeh4F+TZyU4oG7OrulRVL\nCOsmH3AH6QRr3posQx6uZ22ae+7rvUP/Fx2xfx5HWDKCbOTR+y0WCm0Jv3+HFoJa\n3nkHd6RkFFEpQ6teqUqqnsw9qipN3Z7hiLth0OvoPl8ni6nMGpB/wMRqGbBrpPGy\nNcA5KKUeOCRxc5bJXT2byqA9yP7o77/hfGAe1oumeM0VO0cI5ZmLFkduZn50Tm9Z\nzHn72ASOUfO7tgiclxzU9e0U1yhK9KPzUl22r7ySj9J6A+HxrL9egB/8dzTzfpp/\n5aY3InR+i9fRG1iiQfpOfwv8bEd5KdSXGJGck0G4dZrHKNDIN3yZckQKLupd6zhw\n0n9sM/kjPnH7WxcVp/U0UCu8th+ecEp9HpUD0zAaUYq5d6u+LMYClSikar5sDkM+\n3ex0okNvGKg1jI1IU6o2SlTJGghqLv3orAGZpnuuiqj/8P/xOla+5615JcM2jpUJ\n6NgtY53cr7GcAo7i59pVGG3sh5rtTDR2fB9eS+HOh4t5tkF2buE0RWokBonAGcC3\nVzBYa4y15VfmbO1s8ahDb4Wp2Zi9DDgc31+T35mqW6Smt4NwFao=\n=Xaz/\n-----END PGP SIGNATURE-----", "payload": "tree 1f340fde89de9718f60c3b03cd104120cb52087d\nparent 3c8f7542f74316ec54657c02e78b9f653f4fe2ae\nauthor daxpedda <daxpedda@gmail.com> 1612632248 +0100\ncommitter daxpedda <daxpedda@gmail.com> 1612632248 +0100\n\nDocument condition.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ea0b8324d6457c4a380a6c30e41414f863ff7897", "html_url": "https://github.com/rust-lang/rust/commit/ea0b8324d6457c4a380a6c30e41414f863ff7897", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ea0b8324d6457c4a380a6c30e41414f863ff7897/comments", "author": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "committer": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3c8f7542f74316ec54657c02e78b9f653f4fe2ae", "url": "https://api.github.com/repos/rust-lang/rust/commits/3c8f7542f74316ec54657c02e78b9f653f4fe2ae", "html_url": "https://github.com/rust-lang/rust/commit/3c8f7542f74316ec54657c02e78b9f653f4fe2ae"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "12cbaea26cd321b17004d7de9b8277d7519629c1", "filename": "clippy_lints/src/cargo_common_metadata.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ea0b8324d6457c4a380a6c30e41414f863ff7897/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea0b8324d6457c4a380a6c30e41414f863ff7897/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs?ref=ea0b8324d6457c4a380a6c30e41414f863ff7897", "patch": "@@ -93,6 +93,7 @@ impl LateLintPass<'_> for CargoCommonMetadata {\n         let metadata = unwrap_cargo_metadata!(cx, CARGO_COMMON_METADATA, false);\n \n         for package in metadata.packages {\n+            // we want to skip the lint if publish is `None` (`publish = false`) or if the vector is empty (`publish = []`)\n             if package.publish.as_ref().filter(|publish| publish.is_empty()).is_none() || self.ignore_publish {\n                 if is_empty_vec(&package.authors) {\n                     missing_warning(cx, &package, \"package.authors\");"}]}