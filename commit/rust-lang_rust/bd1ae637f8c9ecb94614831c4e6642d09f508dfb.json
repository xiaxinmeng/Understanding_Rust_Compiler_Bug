{"sha": "bd1ae637f8c9ecb94614831c4e6642d09f508dfb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJkMWFlNjM3ZjhjOWVjYjk0NjE0ODMxYzRlNjY0MmQwOWY1MDhkZmI=", "commit": {"author": {"name": "Alex Burka", "email": "durka42@gmail.com", "date": "2016-09-11T01:55:15Z"}, "committer": {"name": "Alex Burka", "email": "durka42@gmail.com", "date": "2016-09-12T17:06:53Z"}, "message": "remove ExactSizeIterator from RangeInclusive<u/isize>", "tree": {"sha": "be941eb7aecbe1d21ff10cb8b79393e51da1d744", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/be941eb7aecbe1d21ff10cb8b79393e51da1d744"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bd1ae637f8c9ecb94614831c4e6642d09f508dfb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bd1ae637f8c9ecb94614831c4e6642d09f508dfb", "html_url": "https://github.com/rust-lang/rust/commit/bd1ae637f8c9ecb94614831c4e6642d09f508dfb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bd1ae637f8c9ecb94614831c4e6642d09f508dfb/comments", "author": null, "committer": null, "parents": [{"sha": "1fca1ab0e7be574022b2d229f0a6ad9bd580d1bf", "url": "https://api.github.com/repos/rust-lang/rust/commits/1fca1ab0e7be574022b2d229f0a6ad9bd580d1bf", "html_url": "https://github.com/rust-lang/rust/commit/1fca1ab0e7be574022b2d229f0a6ad9bd580d1bf"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "38afcb6a65e82f4029c328de62531cb3b769c7a0", "filename": "src/libcore/iter/range.rs", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/bd1ae637f8c9ecb94614831c4e6642d09f508dfb/src%2Flibcore%2Fiter%2Frange.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd1ae637f8c9ecb94614831c4e6642d09f508dfb/src%2Flibcore%2Fiter%2Frange.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fiter%2Frange.rs?ref=bd1ae637f8c9ecb94614831c4e6642d09f508dfb", "patch": "@@ -466,7 +466,11 @@ macro_rules! range_exact_iter_impl {\n     ($($t:ty)*) => ($(\n         #[stable(feature = \"rust1\", since = \"1.0.0\")]\n         impl ExactSizeIterator for ops::Range<$t> { }\n+    )*)\n+}\n \n+macro_rules! range_incl_exact_iter_impl {\n+    ($($t:ty)*) => ($(\n         #[unstable(feature = \"inclusive_range\",\n                    reason = \"recently added, follows RFC\",\n                    issue = \"28237\")]\n@@ -500,9 +504,12 @@ impl<A: Step> Iterator for ops::Range<A> where\n     }\n }\n \n-// Ranges of u64 and i64 are excluded because they cannot guarantee having\n-// a length <= usize::MAX, which is required by ExactSizeIterator.\n+// These macros generate `ExactSizeIterator` impls for various range types.\n+// Range<{u,i}64> and RangeInclusive<{u,i}{32,64,size}> are excluded\n+// because they cannot guarantee having a length <= usize::MAX, which is\n+// required by ExactSizeIterator.\n range_exact_iter_impl!(usize u8 u16 u32 isize i8 i16 i32);\n+range_incl_exact_iter_impl!(u8 u16 i8 i16);\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n impl<A: Step + Clone> DoubleEndedIterator for ops::Range<A> where"}, {"sha": "cfa9f6e36e9bcb37fce6b735ed61b6e3d925ff08", "filename": "src/test/run-pass/range_inclusive.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd1ae637f8c9ecb94614831c4e6642d09f508dfb/src%2Ftest%2Frun-pass%2Frange_inclusive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd1ae637f8c9ecb94614831c4e6642d09f508dfb/src%2Ftest%2Frun-pass%2Frange_inclusive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Frange_inclusive.rs?ref=bd1ae637f8c9ecb94614831c4e6642d09f508dfb", "patch": "@@ -75,7 +75,7 @@ pub fn main() {\n \n     // test the size hints and emptying\n     let mut long = 0...255u8;\n-    let mut short = 42...42;\n+    let mut short = 42...42u8;\n     assert_eq!(long.size_hint(), (256, Some(256)));\n     assert_eq!(short.size_hint(), (1, Some(1)));\n     long.next();"}]}