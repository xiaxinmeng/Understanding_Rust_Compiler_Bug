{"sha": "05cd587726b01415f50ab8def30ea07864298e13", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA1Y2Q1ODc3MjZiMDE0MTVmNTBhYjhkZWYzMGVhMDc4NjQyOThlMTM=", "commit": {"author": {"name": "linux1", "email": "tmaloney@pdx.edu", "date": "2021-08-23T21:32:27Z"}, "committer": {"name": "linux1", "email": "tmaloney@pdx.edu", "date": "2021-08-23T21:32:27Z"}, "message": "Refactor: disabled frame pointer; consolidated unsupported register errors; added register prefix", "tree": {"sha": "b34913dd8cdf57e45e3f366b0eade97c8a878a55", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b34913dd8cdf57e45e3f366b0eade97c8a878a55"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/05cd587726b01415f50ab8def30ea07864298e13", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/05cd587726b01415f50ab8def30ea07864298e13", "html_url": "https://github.com/rust-lang/rust/commit/05cd587726b01415f50ab8def30ea07864298e13", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/05cd587726b01415f50ab8def30ea07864298e13/comments", "author": {"login": "Sl1mb0", "id": 56142018, "node_id": "MDQ6VXNlcjU2MTQyMDE4", "avatar_url": "https://avatars.githubusercontent.com/u/56142018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sl1mb0", "html_url": "https://github.com/Sl1mb0", "followers_url": "https://api.github.com/users/Sl1mb0/followers", "following_url": "https://api.github.com/users/Sl1mb0/following{/other_user}", "gists_url": "https://api.github.com/users/Sl1mb0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sl1mb0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sl1mb0/subscriptions", "organizations_url": "https://api.github.com/users/Sl1mb0/orgs", "repos_url": "https://api.github.com/users/Sl1mb0/repos", "events_url": "https://api.github.com/users/Sl1mb0/events{/privacy}", "received_events_url": "https://api.github.com/users/Sl1mb0/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Sl1mb0", "id": 56142018, "node_id": "MDQ6VXNlcjU2MTQyMDE4", "avatar_url": "https://avatars.githubusercontent.com/u/56142018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sl1mb0", "html_url": "https://github.com/Sl1mb0", "followers_url": "https://api.github.com/users/Sl1mb0/followers", "following_url": "https://api.github.com/users/Sl1mb0/following{/other_user}", "gists_url": "https://api.github.com/users/Sl1mb0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sl1mb0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sl1mb0/subscriptions", "organizations_url": "https://api.github.com/users/Sl1mb0/orgs", "repos_url": "https://api.github.com/users/Sl1mb0/repos", "events_url": "https://api.github.com/users/Sl1mb0/events{/privacy}", "received_events_url": "https://api.github.com/users/Sl1mb0/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0c9e23c7ce964438b107d064533b89f024e7ccf8", "url": "https://api.github.com/repos/rust-lang/rust/commits/0c9e23c7ce964438b107d064533b89f024e7ccf8", "html_url": "https://github.com/rust-lang/rust/commit/0c9e23c7ce964438b107d064533b89f024e7ccf8"}], "stats": {"total": 86, "additions": 18, "deletions": 68}, "files": [{"sha": "5ed93c0c1a9ce52b2a55f876a19f0535f2e5f94f", "filename": "compiler/rustc_target/src/asm/s390x.rs", "status": "modified", "additions": 18, "deletions": 68, "changes": 86, "blob_url": "https://github.com/rust-lang/rust/blob/05cd587726b01415f50ab8def30ea07864298e13/compiler%2Frustc_target%2Fsrc%2Fasm%2Fs390x.rs", "raw_url": "https://github.com/rust-lang/rust/raw/05cd587726b01415f50ab8def30ea07864298e13/compiler%2Frustc_target%2Fsrc%2Fasm%2Fs390x.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fasm%2Fs390x.rs?ref=05cd587726b01415f50ab8def30ea07864298e13", "patch": "@@ -54,8 +54,8 @@ def_regs! {\n         r8: reg = [\"r8\"],\n         r9: reg = [\"r9\"],\n         r10: reg = [\"r10\"],\n-        r11: reg = [\"r11\"],\n         r12: reg = [\"r12\"],\n+        r13: reg = [\"r13\"],\n         r14: reg = [\"r14\"],\n         f0: freg = [\"f0\"],\n         f1: freg = [\"f1\"],\n@@ -73,74 +73,24 @@ def_regs! {\n         f13: freg = [\"f13\"],\n         f14: freg = [\"f14\"],\n         f15: freg = [\"f15\"],\n-        #error = [\"r13\"] =>\n-            \"The base pointer cannot be used as an operand for inline asm\",\n+        #error = [\"r11\"] =>\n+            \"The frame pointer cannot be used as an operand for inline asm\",\n         #error = [\"r15\"] =>\n             \"The stack pointer cannot be used as an operand for inline asm\",\n-        #error = [\"a0\"] =>\n-            \"This pointer is reserved on s390x and cannot be used as an operand for inline asm\",\n-        #error = [\"a1\"] =>\n-            \"This pointer is reserved on z/Arch and cannot be used as an operand for inline asm\",\n-        #error = [\"c0\"] =>\n-            \"c0 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c1\"] =>\n-            \"c1 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c2\"] =>\n-            \"c2 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c3\"] =>\n-            \"c3 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c4\"] =>\n-            \"c4 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c5\"] =>\n-            \"c5 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c6\"] =>\n-            \"c6 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c7\"] =>\n-            \"c7 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c8\"] =>\n-            \"c8 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c9\"] =>\n-            \"c9 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c10\"] =>\n-            \"c10 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c11\"] =>\n-            \"c11 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c12\"] =>\n-            \"c12 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c13\"] =>\n-            \"c13 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c14\"] =>\n-            \"c14 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"c15\"] =>\n-            \"c15 is reserved by the kernel and cannot be used as an operand for inline asm\",\n-        #error = [\"a2\"] =>\n-            \"a2 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a3\"] =>\n-            \"a3 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a4\"] =>\n-            \"a4 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a5\"] =>\n-            \"a5 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a6\"] =>\n-            \"a6 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a7\"] =>\n-            \"a7 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a8\"] =>\n-            \"a8 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a9\"] =>\n-            \"a9 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a10\"] =>\n-            \"a10 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a11\"] =>\n-            \"a11 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a12\"] =>\n-            \"a12 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a13\"] =>\n-            \"a13 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a14\"] =>\n-            \"a14 is not supported by LLVM and cannot be used as an operand for inline asm\",\n-        #error = [\"a15\"] =>\n-            \"a15 is not supported by LLVM and cannot be used as an operand for inline asm\",\n+        #error = [\n+            \"c0\", \"c1\", \"c2\", \"c3\",\n+            \"c4\", \"c5\", \"c6\", \"c7\",\n+            \"c8\", \"c9\", \"c10\", \"c11\",\n+            \"c12\", \"c13\", \"c14\", \"c15\"\n+        ] =>\n+            \"control registers are reserved by the kernel and cannot be used as operands for inline asm\",\n+        #error = [\n+            \"a0\", \"a1\", \"a2\", \"a3\",\n+            \"a4\", \"a5\", \"a6\", \"a7\",\n+            \"a8\", \"a9\", \"a10\", \"a11\",\n+            \"a12\", \"a13\", \"a14\", \"a15\"\n+        ] =>\n+            \"access registers are not supported and cannot be used as operands for inline asm\",\n     }\n }\n \n@@ -151,6 +101,6 @@ impl S390xInlineAsmReg {\n         _arch: InlineAsmArch,\n         _modifier: Option<char>,\n     ) -> fmt::Result {\n-        out.write_str(self.name())\n+        out.write_str(&format!(\"%{}\", self.name()))\n     }\n }"}]}