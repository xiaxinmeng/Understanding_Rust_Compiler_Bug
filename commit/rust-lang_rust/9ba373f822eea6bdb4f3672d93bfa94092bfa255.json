{"sha": "9ba373f822eea6bdb4f3672d93bfa94092bfa255", "node_id": "MDY6Q29tbWl0NzI0NzEyOjliYTM3M2Y4MjJlZWE2YmRiNGYzNjcyZDkzYmZhOTQwOTJiZmEyNTU=", "commit": {"author": {"name": "Caleb Cartwright", "email": "calebcartwright@users.noreply.github.com", "date": "2020-09-16T13:37:14Z"}, "committer": {"name": "Caleb Cartwright", "email": "calebcartwright@users.noreply.github.com", "date": "2020-09-23T05:45:18Z"}, "message": "deps: bump rustc-ap to v678", "tree": {"sha": "fbf86f5401c207380cbeab2beaba90d263557826", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fbf86f5401c207380cbeab2beaba90d263557826"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9ba373f822eea6bdb4f3672d93bfa94092bfa255", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9ba373f822eea6bdb4f3672d93bfa94092bfa255", "html_url": "https://github.com/rust-lang/rust/commit/9ba373f822eea6bdb4f3672d93bfa94092bfa255", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9ba373f822eea6bdb4f3672d93bfa94092bfa255/comments", "author": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "committer": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "01f2eadccc74cf70eb11e6300ffa7e02b18b0027", "url": "https://api.github.com/repos/rust-lang/rust/commits/01f2eadccc74cf70eb11e6300ffa7e02b18b0027", "html_url": "https://github.com/rust-lang/rust/commit/01f2eadccc74cf70eb11e6300ffa7e02b18b0027"}], "stats": {"total": 122, "additions": 57, "deletions": 65}, "files": [{"sha": "bd881f8cd01efa740942bfaaf1ea9bfb2a9d0e80", "filename": "Cargo.lock", "status": "modified", "additions": 38, "deletions": 40, "changes": 78, "blob_url": "https://github.com/rust-lang/rust/blob/9ba373f822eea6bdb4f3672d93bfa94092bfa255/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/9ba373f822eea6bdb4f3672d93bfa94092bfa255/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=9ba373f822eea6bdb4f3672d93bfa94092bfa255", "patch": "@@ -897,19 +897,19 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_arena\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"2958af0d6e0458434a25cd3a96f6e19f24f71bf50b900add520dec52e212866b\"\n+checksum = \"baa951ccfe33e3d46ad7b2922ddb935583e9e98029f428681b98afd74cc042b7\"\n dependencies = [\n  \"rustc-ap-rustc_data_structures\",\n  \"smallvec 1.2.0\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_ast\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"0c82c2510460f2133548e62399e5acd30c25ae6ece30245baab3d1e00c2fefac\"\n+checksum = \"ffa7b3cf87d6249653c00f2fd338adf4e72c8bc617870dda9dfd421aba197a66\"\n dependencies = [\n  \"bitflags\",\n  \"rustc-ap-rustc_data_structures\",\n@@ -924,9 +924,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_ast_passes\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"83977da57f81c6edd89bad47e49136680eaa33288de4abb702e95358c2a0fc6c\"\n+checksum = \"3be435169657440d6287b07a929c9fcc6db04c8c4fc835e0ab5b0fa945a8c028\"\n dependencies = [\n  \"itertools\",\n  \"rustc-ap-rustc_ast\",\n@@ -943,9 +943,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_ast_pretty\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"becf4ca1638b214694c71a8752192683048ab8bd47947cc481f57bd48157eeb9\"\n+checksum = \"38779f1e954d46303e72be59bb32033d920698ef55c3039266fef349d870fb9d\"\n dependencies = [\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_span\",\n@@ -955,9 +955,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_attr\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"0f21ca5dadce8a40d75a2756b77eab75b4c2d827f645c622dd93ee2285599640\"\n+checksum = \"24b419c0ae11c46e86b27e3ae0f5ee9ff2418870c6307f6fed30b02fe727526a\"\n dependencies = [\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_ast_pretty\",\n@@ -974,17 +974,16 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_data_structures\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a4cd204764727fde9abf75333eb661f058bfc7242062d91019440fe1b240688b\"\n+checksum = \"a1cf84a72b8aa2e6fe4172c2246d707969217d4da1e7a689e12db80d8d5b63d9\"\n dependencies = [\n  \"bitflags\",\n  \"cfg-if\",\n  \"crossbeam-utils 0.7.0\",\n  \"ena\",\n  \"indexmap\",\n  \"jobserver\",\n- \"lazy_static\",\n  \"libc\",\n  \"measureme\",\n  \"parking_lot 0.10.2\",\n@@ -1005,9 +1004,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_errors\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"58116f119e37f14c029f99077b347069621118e048a69df74695b98204e7c136\"\n+checksum = \"bd08b5d165336da31dfbf5fb1b829eec0bb8516c6e4b755ee659d297d22c5dba\"\n dependencies = [\n  \"annotate-snippets 0.8.0\",\n  \"atty\",\n@@ -1024,9 +1023,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_expand\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"48e3c4bda9b64b92805bebe7431fdb8e24fd112b35a8c6d2174827441f10a6b2\"\n+checksum = \"603bb89221349eb78ae87d4f5680a62e4b98f30ce0effbef3b694b91643eeff9\"\n dependencies = [\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_ast_passes\",\n@@ -1047,32 +1046,31 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_feature\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"4b612bb67d3fc49f395b03fc4ea4384a0145b05afbadab725803074ec827632b\"\n+checksum = \"4056fa564cd0ec3a0456f69d863682863bcdc5f303bf4bf24886d82456c0ceca\"\n dependencies = [\n- \"lazy_static\",\n  \"rustc-ap-rustc_data_structures\",\n  \"rustc-ap-rustc_span\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_fs_util\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7630ad1a73a8434ee920676148cb5440ac57509bd20e94ec41087fb0b1d11c28\"\n+checksum = \"626f3dc6ad181fa202994261d86e45db844fc5f30915d42df49d8ce270ed2543\"\n \n [[package]]\n name = \"rustc-ap-rustc_graphviz\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a603fca4817062eb4fb23ff129d475bd66a69fb32f34ed4362ae950cf814b49d\"\n+checksum = \"0615d11907c251a58e48e695653fb50a9c8efafddaeedfeb3291806bf9ae6127\"\n \n [[package]]\n name = \"rustc-ap-rustc_index\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"9850c4a5d7c341513e10802bca9588bf8f452ceea2d5cfa87b934246a52622bc\"\n+checksum = \"c365a380a861aabebde64b519fd3766c978009baae7e4244d1f55c5b4cb509ae\"\n dependencies = [\n  \"arrayvec 0.5.1\",\n  \"rustc-ap-rustc_macros\",\n@@ -1081,18 +1079,18 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_lexer\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"6d86722e5a1a615b198327d0d794cd9cbc8b9db4542276fc51fe078924de68ea\"\n+checksum = \"3a4ceff9b806d9d7176a31a1d5e2bcb3d98b26b51f6abd136d76ce1d2825233a\"\n dependencies = [\n  \"unicode-xid\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_macros\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b3fc8482e44cabdda7ac9a8e224aef62ebdf95274d629dac8db3b42321025fea\"\n+checksum = \"b0f520638ea4f2c80aa56347a3019d79b09bb4de80efb4dfbdc029cdd89a1ad4\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\",\n@@ -1102,9 +1100,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_parse\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3716cdcd978a91dbd4a2788400e90e809527f841426fbeb92f882f9b8582f3ab\"\n+checksum = \"169d79f505ffd2c892c0def471eeb5f40c4ae25fff99f1ec3c46868ba47be3a8\"\n dependencies = [\n  \"bitflags\",\n  \"rustc-ap-rustc_ast\",\n@@ -1122,19 +1120,19 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_serialize\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c68046d07988b349b2e1c8bc1c9664a1d06519354aa677b9df358c5c5c058da0\"\n+checksum = \"5b8c16fb186e7130223b1528ee6ea5b11acdcc185f86774f1c44b5b40c0964f2\"\n dependencies = [\n  \"indexmap\",\n  \"smallvec 1.2.0\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_session\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"85735553501a4de0c8904e37b7ccef79cc1c585a7d7f2cfa02cc38e0d149f982\"\n+checksum = \"67bf5f3b6619c58f8ac45ca1f2fcc740494e958975565662e984d665a8fc462b\"\n dependencies = [\n  \"bitflags\",\n  \"getopts\",\n@@ -1153,9 +1151,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_span\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"1c49ae8a0d3b9e27c6ffe8febeaa30f899294fff012de70625f9ee81c54fda85\"\n+checksum = \"8ca3c82f0bb52a333385d21b6725e9e426625a754d104102e80eed42dca1b114\"\n dependencies = [\n  \"cfg-if\",\n  \"md-5\",\n@@ -1172,9 +1170,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_target\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"1765f447594740c501c7b666b87639aa7c1dae2bf8c3166d5d2dca16646fd034\"\n+checksum = \"12c36eadab721da7d7e949cfe3043decde13fa9b91a57a309fdb6f1857646cc1\"\n dependencies = [\n  \"bitflags\",\n  \"rustc-ap-rustc_data_structures\","}, {"sha": "84393d2ef3c86d5c1dd295df59c289afa6103106", "filename": "Cargo.toml", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/9ba373f822eea6bdb4f3672d93bfa94092bfa255/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/9ba373f822eea6bdb4f3672d93bfa94092bfa255/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=9ba373f822eea6bdb4f3672d93bfa94092bfa255", "patch": "@@ -66,36 +66,36 @@ rustc-workspace-hack = \"1.0.0\"\n \n [dependencies.rustc_ast]\n package = \"rustc-ap-rustc_ast\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n \n [dependencies.rustc_ast_pretty]\n package = \"rustc-ap-rustc_ast_pretty\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n \n [dependencies.rustc_attr]\n package = \"rustc-ap-rustc_attr\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n \n [dependencies.rustc_data_structures]\n package = \"rustc-ap-rustc_data_structures\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n \n [dependencies.rustc_errors]\n package = \"rustc-ap-rustc_errors\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n \n [dependencies.rustc_expand]\n package = \"rustc-ap-rustc_expand\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n \n [dependencies.rustc_parse]\n package = \"rustc-ap-rustc_parse\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n \n [dependencies.rustc_session]\n package = \"rustc-ap-rustc_session\"\n-version = \"677.0.0\"\n+version = \"678.0.0\"\n \n [dependencies.rustc_span]\n package = \"rustc-ap-rustc_span\"\n-version = \"677.0.0\"\n+version = \"678.0.0\""}, {"sha": "48c0685d2c11e82a60976717374356b5a9c6ebc1", "filename": "src/attr.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/9ba373f822eea6bdb4f3672d93bfa94092bfa255/src%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ba373f822eea6bdb4f3672d93bfa94092bfa255/src%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fattr.rs?ref=9ba373f822eea6bdb4f3672d93bfa94092bfa255", "patch": "@@ -42,10 +42,7 @@ pub(crate) fn get_span_without_attrs(stmt: &ast::Stmt) -> Span {\n         ast::StmtKind::Local(ref local) => local.span,\n         ast::StmtKind::Item(ref item) => item.span,\n         ast::StmtKind::Expr(ref expr) | ast::StmtKind::Semi(ref expr) => expr.span,\n-        ast::StmtKind::MacCall(ref mac) => {\n-            let (ref mac, _, _) = **mac;\n-            mac.span()\n-        }\n+        ast::StmtKind::MacCall(ref mac_stmt) => mac_stmt.mac.span(),\n         ast::StmtKind::Empty => stmt.span,\n     }\n }"}, {"sha": "51b0161244e37e2d86b49e5370054d32d0a17041", "filename": "src/macros.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/9ba373f822eea6bdb4f3672d93bfa94092bfa255/src%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ba373f822eea6bdb4f3672d93bfa94092bfa255/src%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmacros.rs?ref=9ba373f822eea6bdb4f3672d93bfa94092bfa255", "patch": "@@ -1178,8 +1178,7 @@ fn next_space(tok: &TokenKind) -> SpaceState {\n         | TokenKind::Pound\n         | TokenKind::Dollar\n         | TokenKind::OpenDelim(_)\n-        | TokenKind::CloseDelim(_)\n-        | TokenKind::Whitespace => SpaceState::Never,\n+        | TokenKind::CloseDelim(_) => SpaceState::Never,\n \n         TokenKind::Literal(..) | TokenKind::Ident(..) | TokenKind::Lifetime(_) => SpaceState::Ident,\n \n@@ -1275,8 +1274,8 @@ impl MacroParser {\n             span,\n         })) = self.toks.look_ahead(0)\n         {\n-            self.toks.next();\n             hi = span.hi();\n+            self.toks.next();\n         }\n         Some(MacroBranch {\n             span: mk_sp(lo, hi),"}, {"sha": "7bf370c131ed46d422b101dcff4776c28f111d52", "filename": "src/spanned.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9ba373f822eea6bdb4f3672d93bfa94092bfa255/src%2Fspanned.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ba373f822eea6bdb4f3672d93bfa94092bfa255/src%2Fspanned.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fspanned.rs?ref=9ba373f822eea6bdb4f3672d93bfa94092bfa255", "patch": "@@ -66,12 +66,11 @@ impl Spanned for ast::Stmt {\n             ast::StmtKind::Expr(ref expr) | ast::StmtKind::Semi(ref expr) => {\n                 mk_sp(expr.span().lo(), self.span.hi())\n             }\n-            ast::StmtKind::MacCall(ref mac) => {\n-                let (_, _, ref attrs) = **mac;\n-                if attrs.is_empty() {\n+            ast::StmtKind::MacCall(ref mac_stmt) => {\n+                if mac_stmt.attrs.is_empty() {\n                     self.span\n                 } else {\n-                    mk_sp(attrs[0].span.lo(), self.span.hi())\n+                    mk_sp(mac_stmt.attrs[0].span.lo(), self.span.hi())\n                 }\n             }\n             ast::StmtKind::Empty => self.span,"}, {"sha": "31605a6601d5563520d991f50bf810071762df2f", "filename": "src/visitor.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9ba373f822eea6bdb4f3672d93bfa94092bfa255/src%2Fvisitor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ba373f822eea6bdb4f3672d93bfa94092bfa255/src%2Fvisitor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fvisitor.rs?ref=9ba373f822eea6bdb4f3672d93bfa94092bfa255", "patch": "@@ -146,16 +146,15 @@ impl<'b, 'a: 'b> FmtVisitor<'a> {\n                     self.push_rewrite(stmt.span(), rewrite)\n                 }\n             }\n-            ast::StmtKind::MacCall(ref mac) => {\n-                let (ref mac, _macro_style, ref attrs) = **mac;\n-                if self.visit_attrs(attrs, ast::AttrStyle::Outer) {\n+            ast::StmtKind::MacCall(ref mac_stmt) => {\n+                if self.visit_attrs(&mac_stmt.attrs, ast::AttrStyle::Outer) {\n                     self.push_skipped_with_span(\n-                        attrs,\n+                        &mac_stmt.attrs,\n                         stmt.span(),\n                         get_span_without_attrs(stmt.as_ast_node()),\n                     );\n                 } else {\n-                    self.visit_mac(mac, None, MacroPosition::Statement);\n+                    self.visit_mac(&mac_stmt.mac, None, MacroPosition::Statement);\n                 }\n                 self.format_missing(stmt.span().hi());\n             }"}]}