{"sha": "90b8d34c9f0d17c948801f676a96800e8b038508", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkwYjhkMzRjOWYwZDE3Yzk0ODgwMWY2NzZhOTY4MDBlOGIwMzg1MDg=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-11-04T14:59:09Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-11-04T14:59:09Z"}, "message": "bump smallvec to 1.0", "tree": {"sha": "04d11ad36a3fea26f93db0a92aacf509075c46b4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/04d11ad36a3fea26f93db0a92aacf509075c46b4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/90b8d34c9f0d17c948801f676a96800e8b038508", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/90b8d34c9f0d17c948801f676a96800e8b038508", "html_url": "https://github.com/rust-lang/rust/commit/90b8d34c9f0d17c948801f676a96800e8b038508", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/90b8d34c9f0d17c948801f676a96800e8b038508/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ab6e47851b51a413db5d721f25d714653e7549fd", "url": "https://api.github.com/repos/rust-lang/rust/commits/ab6e47851b51a413db5d721f25d714653e7549fd", "html_url": "https://github.com/rust-lang/rust/commit/ab6e47851b51a413db5d721f25d714653e7549fd"}], "stats": {"total": 100, "additions": 53, "deletions": 47}, "files": [{"sha": "e15c0f85abb7aecade2dedee64d70df73bcdef24", "filename": "Cargo.lock", "status": "modified", "additions": 31, "deletions": 25, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -68,7 +68,7 @@ name = \"arena\"\n version = \"0.0.0\"\n dependencies = [\n  \"rustc_data_structures\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n ]\n \n [[package]]\n@@ -486,7 +486,7 @@ dependencies = [\n  \"regex-syntax\",\n  \"semver\",\n  \"serde\",\n- \"smallvec\",\n+ \"smallvec 0.6.10\",\n  \"toml\",\n  \"unicode-normalization\",\n  \"url 2.1.0\",\n@@ -654,7 +654,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"0f0ed1a4de2235cabda8558ff5840bffb97fcb64c97827f354a451307df5f72b\"\n dependencies = [\n  \"crossbeam-utils 0.6.5\",\n- \"smallvec\",\n+ \"smallvec 0.6.10\",\n ]\n \n [[package]]\n@@ -2391,7 +2391,7 @@ dependencies = [\n  \"libc\",\n  \"rand 0.6.1\",\n  \"rustc_version\",\n- \"smallvec\",\n+ \"smallvec 0.6.10\",\n  \"winapi 0.3.6\",\n ]\n \n@@ -2406,7 +2406,7 @@ dependencies = [\n  \"libc\",\n  \"redox_syscall\",\n  \"rustc_version\",\n- \"smallvec\",\n+ \"smallvec 0.6.10\",\n  \"winapi 0.3.6\",\n ]\n \n@@ -3134,7 +3134,7 @@ dependencies = [\n  \"rustc_target\",\n  \"scoped-tls\",\n  \"serialize\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"syntax\",\n  \"syntax_pos\",\n ]\n@@ -3146,7 +3146,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"a623fd4805842e9bd0bb6e6dace63efede0ee22de4522a0b03b7c3d15a22f009\"\n dependencies = [\n  \"rustc-ap-rustc_data_structures\",\n- \"smallvec\",\n+ \"smallvec 0.6.10\",\n ]\n \n [[package]]\n@@ -3175,7 +3175,7 @@ dependencies = [\n  \"rustc-hash\",\n  \"rustc-rayon 0.2.0\",\n  \"rustc-rayon-core 0.2.0\",\n- \"smallvec\",\n+ \"smallvec 0.6.10\",\n  \"stable_deref_trait\",\n ]\n \n@@ -3203,7 +3203,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"457a5c204ae2fdaa5bdb5b196e58ca59896870d80445fe423063c9453496e3ea\"\n dependencies = [\n  \"rustc-ap-serialize\",\n- \"smallvec\",\n+ \"smallvec 0.6.10\",\n ]\n \n [[package]]\n@@ -3249,7 +3249,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"92679240e86f4583cc05f8dcf6439bdab87bac9e6555718469176de9bd52ba20\"\n dependencies = [\n  \"indexmap\",\n- \"smallvec\",\n+ \"smallvec 0.6.10\",\n ]\n \n [[package]]\n@@ -3269,7 +3269,7 @@ dependencies = [\n  \"rustc-ap-serialize\",\n  \"rustc-ap-syntax_pos\",\n  \"scoped-tls\",\n- \"smallvec\",\n+ \"smallvec 0.6.10\",\n ]\n \n [[package]]\n@@ -3392,7 +3392,7 @@ dependencies = [\n  \"crossbeam-utils 0.6.5\",\n  \"serde\",\n  \"serde_json\",\n- \"smallvec\",\n+ \"smallvec 0.6.10\",\n  \"syn 0.15.35\",\n  \"url 2.1.0\",\n  \"winapi 0.3.6\",\n@@ -3403,7 +3403,7 @@ name = \"rustc_apfloat\"\n version = \"0.0.0\"\n dependencies = [\n  \"bitflags\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n ]\n \n [[package]]\n@@ -3483,7 +3483,7 @@ dependencies = [\n  \"rustc-rayon-core 0.3.0\",\n  \"rustc_index\",\n  \"serialize\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"stable_deref_trait\",\n ]\n \n@@ -3551,7 +3551,7 @@ name = \"rustc_index\"\n version = \"0.0.0\"\n dependencies = [\n  \"serialize\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n ]\n \n [[package]]\n@@ -3578,7 +3578,7 @@ dependencies = [\n  \"rustc_traits\",\n  \"rustc_typeck\",\n  \"serialize\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"syntax\",\n  \"syntax_expand\",\n  \"syntax_ext\",\n@@ -3649,7 +3649,7 @@ dependencies = [\n  \"rustc_index\",\n  \"rustc_target\",\n  \"serialize\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"stable_deref_trait\",\n  \"syntax\",\n  \"syntax_expand\",\n@@ -3674,7 +3674,7 @@ dependencies = [\n  \"rustc_lexer\",\n  \"rustc_target\",\n  \"serialize\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"syntax\",\n  \"syntax_pos\",\n ]\n@@ -3745,7 +3745,7 @@ dependencies = [\n  \"rustc_data_structures\",\n  \"rustc_errors\",\n  \"rustc_metadata\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"syntax\",\n  \"syntax_expand\",\n  \"syntax_pos\",\n@@ -3798,7 +3798,7 @@ dependencies = [\n  \"rustc\",\n  \"rustc_data_structures\",\n  \"rustc_target\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"syntax\",\n  \"syntax_pos\",\n ]\n@@ -3825,7 +3825,7 @@ dependencies = [\n  \"rustc_errors\",\n  \"rustc_index\",\n  \"rustc_target\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"syntax\",\n  \"syntax_pos\",\n ]\n@@ -4069,7 +4069,7 @@ name = \"serialize\"\n version = \"0.0.0\"\n dependencies = [\n  \"indexmap\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n ]\n \n [[package]]\n@@ -4133,6 +4133,12 @@ version = \"0.6.10\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"ab606a9c5e214920bb66c458cd7be8ef094f813f20fe77a54cc7dbfff220d4b7\"\n \n+[[package]]\n+name = \"smallvec\"\n+version = \"1.0.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"4ecf3b85f68e8abaa7555aa5abdb1153079387e60b718283d732f03897fcfc86\"\n+\n [[package]]\n name = \"socket2\"\n version = \"0.3.8\"\n@@ -4358,7 +4364,7 @@ dependencies = [\n  \"rustc_target\",\n  \"scoped-tls\",\n  \"serialize\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"syntax_pos\",\n ]\n \n@@ -4376,7 +4382,7 @@ dependencies = [\n  \"rustc_target\",\n  \"scoped-tls\",\n  \"serialize\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"syntax\",\n  \"syntax_pos\",\n ]\n@@ -4390,7 +4396,7 @@ dependencies = [\n  \"rustc_data_structures\",\n  \"rustc_errors\",\n  \"rustc_target\",\n- \"smallvec\",\n+ \"smallvec 1.0.0\",\n  \"syntax\",\n  \"syntax_expand\",\n  \"syntax_pos\","}, {"sha": "5158aab8b7dc5c21cca20080e6ffd0f3e374ba17", "filename": "src/libarena/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibarena%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibarena%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibarena%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -10,4 +10,4 @@ path = \"lib.rs\"\n \n [dependencies]\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }"}, {"sha": "92b94af75d75019502843ba9fbeeac0d591fb979", "filename": "src/librustc/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -39,5 +39,5 @@ parking_lot = \"0.9\"\n byteorder = { version = \"1.3\" }\n chalk-engine = { version = \"0.9.0\", default-features=false }\n rustc_fs_util = { path = \"../librustc_fs_util\" }\n-smallvec = { version = \"0.6.8\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n measureme = \"0.4\""}, {"sha": "9b13a910c617453f08437b2284b47dbe4ad3ecc9", "filename": "src/librustc/arena.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc%2Farena.rs", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc%2Farena.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Farena.rs?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -304,7 +304,7 @@ impl DropArena {\n         // Move the content to the arena by copying it and then forgetting\n         // the content of the SmallVec\n         vec.as_ptr().copy_to_nonoverlapping(start_ptr, len);\n-        mem::forget(vec.drain());\n+        mem::forget(vec.drain(..));\n \n         // Record the destructors after doing the allocation as that may panic\n         // and would cause `object`'s destuctor to run twice if it was recorded before"}, {"sha": "227fbf967c0d7e85545afe132f08c55dfac32464", "filename": "src/librustc/ty/inhabitedness/def_id_forest.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc%2Fty%2Finhabitedness%2Fdef_id_forest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc%2Fty%2Finhabitedness%2Fdef_id_forest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Finhabitedness%2Fdef_id_forest.rs?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -76,19 +76,19 @@ impl<'tcx> DefIdForest {\n                 break;\n             }\n \n-            for id in ret.root_ids.drain() {\n+            for id in ret.root_ids.drain(..) {\n                 if next_forest.contains(tcx, id) {\n                     next_ret.push(id);\n                 } else {\n                     old_ret.push(id);\n                 }\n             }\n-            ret.root_ids.extend(old_ret.drain());\n+            ret.root_ids.extend(old_ret.drain(..));\n \n             next_ret.extend(next_forest.root_ids.into_iter().filter(|&id| ret.contains(tcx, id)));\n \n             mem::swap(&mut next_ret, &mut ret.root_ids);\n-            next_ret.drain();\n+            next_ret.drain(..);\n         }\n         ret\n     }\n@@ -101,7 +101,7 @@ impl<'tcx> DefIdForest {\n         let mut ret = DefIdForest::empty();\n         let mut next_ret = SmallVec::new();\n         for next_forest in iter {\n-            next_ret.extend(ret.root_ids.drain().filter(|&id| !next_forest.contains(tcx, id)));\n+            next_ret.extend(ret.root_ids.drain(..).filter(|&id| !next_forest.contains(tcx, id)));\n \n             for id in next_forest.root_ids {\n                 if !next_ret.contains(&id) {\n@@ -110,7 +110,7 @@ impl<'tcx> DefIdForest {\n             }\n \n             mem::swap(&mut next_ret, &mut ret.root_ids);\n-            next_ret.drain();\n+            next_ret.drain(..);\n         }\n         ret\n     }"}, {"sha": "726965e1e7180411fe153998e248c9926e62475e", "filename": "src/librustc_apfloat/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_apfloat%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_apfloat%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_apfloat%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -10,4 +10,4 @@ path = \"lib.rs\"\n \n [dependencies]\n bitflags = \"1.2.1\"\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }"}, {"sha": "e79b3a81b9654331cf589b780c69dc8a8dd9c301", "filename": "src/librustc_data_structures/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_data_structures%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_data_structures%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -23,7 +23,7 @@ stable_deref_trait = \"1.0.0\"\n rayon = { version = \"0.3.0\", package = \"rustc-rayon\" }\n rayon-core = { version = \"0.3.0\", package = \"rustc-rayon-core\" }\n rustc-hash = \"1.0.1\"\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n rustc_index = { path = \"../librustc_index\", package = \"rustc_index\" }\n \n [dependencies.parking_lot]"}, {"sha": "1435297f27adaccd103848b414f6866f035113bb", "filename": "src/librustc_index/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_index%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_index%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_index%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -11,4 +11,4 @@ doctest = false\n \n [dependencies]\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }"}, {"sha": "98e4f974a9f2372683a932566b00083118325269", "filename": "src/librustc_interface/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_interface%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_interface%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_interface%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -12,7 +12,7 @@ doctest = false\n [dependencies]\n log = \"0.4\"\n rayon = { version = \"0.3.0\", package = \"rustc-rayon\" }\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n syntax = { path = \"../libsyntax\" }\n syntax_ext = { path = \"../libsyntax_ext\" }\n syntax_expand = { path = \"../libsyntax_expand\" }"}, {"sha": "5bc047e001b67c37e141d42861eaba202eb56f14", "filename": "src/librustc_metadata/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_metadata%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_metadata%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -13,7 +13,7 @@ doctest = false\n flate2 = \"1.0\"\n log = \"0.4\"\n memmap = \"0.6\"\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n rustc = { path = \"../librustc\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n errors = { path = \"../librustc_errors\", package = \"rustc_errors\" }"}, {"sha": "8c62640353a9e83c2c0db36ac324b539c11a0013", "filename": "src/librustc_mir/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_mir%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_mir%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -26,4 +26,4 @@ rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n syntax = { path = \"../libsyntax\" }\n syntax_pos = { path = \"../libsyntax_pos\" }\n rustc_apfloat = { path = \"../librustc_apfloat\" }\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }"}, {"sha": "33b2bd36b7ded07761cf266cecdd01150180714c", "filename": "src/librustc_resolve/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_resolve%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_resolve%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -21,4 +21,4 @@ errors = { path = \"../librustc_errors\", package = \"rustc_errors\" }\n syntax_pos = { path = \"../libsyntax_pos\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_metadata = { path = \"../librustc_metadata\" }\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }"}, {"sha": "a9b184a7b306869a57337590273d5992091d3147", "filename": "src/librustc_traits/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_traits%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_traits%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_traits%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -16,4 +16,4 @@ rustc_target = { path = \"../librustc_target\" }\n syntax = { path = \"../libsyntax\" }\n syntax_pos = { path = \"../libsyntax_pos\" }\n chalk-engine = { version = \"0.9.0\", default-features=false }\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }"}, {"sha": "60a7a2f45989c728627411528e555bdaa504530c", "filename": "src/librustc_typeck/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_typeck%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibrustc_typeck%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -17,7 +17,7 @@ rustc = { path = \"../librustc\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n errors = { path = \"../librustc_errors\", package = \"rustc_errors\" }\n rustc_target = { path = \"../librustc_target\" }\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n syntax = { path = \"../libsyntax\" }\n syntax_pos = { path = \"../libsyntax_pos\" }\n rustc_index = { path = \"../librustc_index\" }"}, {"sha": "96a0d51bc716d62ac25511c740c5c64ca373e8a4", "filename": "src/libserialize/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibserialize%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibserialize%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibserialize%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -10,4 +10,4 @@ path = \"lib.rs\"\n \n [dependencies]\n indexmap = \"1\"\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }"}, {"sha": "b1839cc05cd1fcefa941089335c764795ca8e83b", "filename": "src/libsyntax/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibsyntax%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibsyntax%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -21,4 +21,4 @@ rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_index = { path = \"../librustc_index\" }\n rustc_lexer = { path = \"../librustc_lexer\" }\n rustc_target = { path = \"../librustc_target\" }\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }"}, {"sha": "a220ba0a5ea2ce5434e2d750da6834188c055089", "filename": "src/libsyntax/tokenstream.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibsyntax%2Ftokenstream.rs", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibsyntax%2Ftokenstream.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ftokenstream.rs?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -253,7 +253,7 @@ impl TokenStream {\n \n                 // Get the first stream. If it's `None`, create an empty\n                 // stream.\n-                let mut iter = streams.drain();\n+                let mut iter = streams.drain(..);\n                 let mut first_stream_lrc = iter.next().unwrap().0;\n \n                 // Append the elements to the first stream, after reserving"}, {"sha": "d98b9457a625fccbe2f54c2f159e6c7b781379d3", "filename": "src/libsyntax_expand/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibsyntax_expand%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibsyntax_expand%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_expand%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -22,5 +22,5 @@ rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_index = { path = \"../librustc_index\" }\n rustc_lexer = { path = \"../librustc_lexer\" }\n rustc_target = { path = \"../librustc_target\" }\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n syntax = { path = \"../libsyntax\" }"}, {"sha": "703d51e1c4c3bf832b73eb4c4e13138724366707", "filename": "src/libsyntax_ext/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibsyntax_ext%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/90b8d34c9f0d17c948801f676a96800e8b038508/src%2Flibsyntax_ext%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_ext%2FCargo.toml?ref=90b8d34c9f0d17c948801f676a96800e8b038508", "patch": "@@ -15,7 +15,7 @@ fmt_macros = { path = \"../libfmt_macros\" }\n log = \"0.4\"\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_target = { path = \"../librustc_target\" }\n-smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n+smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n syntax = { path = \"../libsyntax\" }\n syntax_expand = { path = \"../libsyntax_expand\" }\n syntax_pos = { path = \"../libsyntax_pos\" }"}]}