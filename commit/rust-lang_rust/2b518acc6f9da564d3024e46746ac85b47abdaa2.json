{"sha": "2b518acc6f9da564d3024e46746ac85b47abdaa2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJiNTE4YWNjNmY5ZGE1NjRkMzAyNGU0Njc0NmFjODViNDdhYmRhYTI=", "commit": {"author": {"name": "Weihang Lo", "email": "me@weihanglo.tw", "date": "2021-07-11T02:42:21Z"}, "committer": {"name": "Weihang Lo", "email": "me@weihanglo.tw", "date": "2021-07-11T02:51:14Z"}, "message": "rustdoc: test count of item contents when hidden", "tree": {"sha": "8aab391d84586ac6d6c1b9ed9332fd3c4ec446d5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8aab391d84586ac6d6c1b9ed9332fd3c4ec446d5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2b518acc6f9da564d3024e46746ac85b47abdaa2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEfYTqB0fBJAwqFtKm19vxiYJegucFAmDqXKIACgkQ19vxiYJe\ngufUqA/+NJZ2LDmz7OJM2QQLyQUYKF0tbkR9An3On03mcMIqJnNdz8tglKc5xSer\nLQg+8apxlAWQEx2PezVEN3GeYji1NlbDxiqIBbkxRAC9n40krDF7ZOxo/KId5b0+\nCkuYs1pj01ruG6bp5aewA5FC8cBxm010OD97QO5cvDEcqFMYm3O4b2EUxmyjkHpl\nT5vmouyiJQDtonTT8aU7Eyf8OD7LLakDWfQ8ODbYxO1AKj8wdtQPvkFFlPoS2UNq\nwgiegmwQWuZdaXtu6uSVAlu7OBkNTXu7OQgPvUSpYH5x5HG423KXD38Pju3NUGpb\nO08RB2xQyVp5gp6b/h9o42eeyZJ+SAQp7NCKxMoBQfturOXMbD/f2WTZEOALyhr/\nleiO/0QBscDMVjDAu6eavLZ4X3JLVOOCpAqpgPdSP5xMtn6Lw8HYU3LiwxB9lAYt\nHvh2VNlIwBX42QHx6L12l3FLFKQFNu3Mnp1usc/JkNWK8jg/uPupoYmP/9vYsTEO\nany0bPs8yZh5RYHM9J26UKSLdzyHyhAdHJ5Ia4HekK5Tm0vjpPkIOZCduV9Qlgti\nTXAwgmDttRErppl4QSwy4q7pnpGTYoSRj7NZmG+91P9FFeiln/5xxJhGL757oPj9\nhdC1QQCu5uRRWrlj0Bp9OkXaEAHPTceAkfJ5CD/d/ylRHWFIkL4=\n=nZAM\n-----END PGP SIGNATURE-----", "payload": "tree 8aab391d84586ac6d6c1b9ed9332fd3c4ec446d5\nparent ffbc40ff0607026f20618ba648d92426fea17962\nauthor Weihang Lo <me@weihanglo.tw> 1625971341 +0800\ncommitter Weihang Lo <me@weihanglo.tw> 1625971874 +0800\n\nrustdoc: test count of item contents when hidden\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2b518acc6f9da564d3024e46746ac85b47abdaa2", "html_url": "https://github.com/rust-lang/rust/commit/2b518acc6f9da564d3024e46746ac85b47abdaa2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2b518acc6f9da564d3024e46746ac85b47abdaa2/comments", "author": {"login": "weihanglo", "id": 14314532, "node_id": "MDQ6VXNlcjE0MzE0NTMy", "avatar_url": "https://avatars.githubusercontent.com/u/14314532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weihanglo", "html_url": "https://github.com/weihanglo", "followers_url": "https://api.github.com/users/weihanglo/followers", "following_url": "https://api.github.com/users/weihanglo/following{/other_user}", "gists_url": "https://api.github.com/users/weihanglo/gists{/gist_id}", "starred_url": "https://api.github.com/users/weihanglo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weihanglo/subscriptions", "organizations_url": "https://api.github.com/users/weihanglo/orgs", "repos_url": "https://api.github.com/users/weihanglo/repos", "events_url": "https://api.github.com/users/weihanglo/events{/privacy}", "received_events_url": "https://api.github.com/users/weihanglo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "weihanglo", "id": 14314532, "node_id": "MDQ6VXNlcjE0MzE0NTMy", "avatar_url": "https://avatars.githubusercontent.com/u/14314532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weihanglo", "html_url": "https://github.com/weihanglo", "followers_url": "https://api.github.com/users/weihanglo/followers", "following_url": "https://api.github.com/users/weihanglo/following{/other_user}", "gists_url": "https://api.github.com/users/weihanglo/gists{/gist_id}", "starred_url": "https://api.github.com/users/weihanglo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weihanglo/subscriptions", "organizations_url": "https://api.github.com/users/weihanglo/orgs", "repos_url": "https://api.github.com/users/weihanglo/repos", "events_url": "https://api.github.com/users/weihanglo/events{/privacy}", "received_events_url": "https://api.github.com/users/weihanglo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ffbc40ff0607026f20618ba648d92426fea17962", "url": "https://api.github.com/repos/rust-lang/rust/commits/ffbc40ff0607026f20618ba648d92426fea17962", "html_url": "https://github.com/rust-lang/rust/commit/ffbc40ff0607026f20618ba648d92426fea17962"}], "stats": {"total": 45, "additions": 38, "deletions": 7}, "files": [{"sha": "167858b6065f9b3f2b587016966f26ce2c8c6400", "filename": "src/test/rustdoc/toggle-item-contents.rs", "status": "modified", "additions": 38, "deletions": 7, "changes": 45, "blob_url": "https://github.com/rust-lang/rust/blob/2b518acc6f9da564d3024e46746ac85b47abdaa2/src%2Ftest%2Frustdoc%2Ftoggle-item-contents.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2b518acc6f9da564d3024e46746ac85b47abdaa2/src%2Ftest%2Frustdoc%2Ftoggle-item-contents.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Ftoggle-item-contents.rs?ref=2b518acc6f9da564d3024e46746ac85b47abdaa2", "patch": "@@ -9,7 +9,7 @@ pub struct PubStruct {\n \n // @has 'toggle_item_contents/struct.BigPubStruct.html'\n // @count - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 1\n-// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show fields'\n+// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show 13 fields'\n pub struct BigPubStruct {\n     pub a: usize,\n     pub b: usize,\n@@ -28,7 +28,7 @@ pub struct BigPubStruct {\n \n // @has 'toggle_item_contents/union.BigUnion.html'\n // @count - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 1\n-// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show fields'\n+// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show 13 fields'\n pub union BigUnion {\n     pub a: usize,\n     pub b: usize,\n@@ -63,7 +63,7 @@ pub struct PrivStruct {\n \n // @has 'toggle_item_contents/enum.Enum.html'\n // @count - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 1\n-// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show fields'\n+// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show 2 fields'\n pub enum Enum {\n     A, B, C,\n     D {\n@@ -72,9 +72,19 @@ pub enum Enum {\n     }\n }\n \n+// @has 'toggle_item_contents/enum.EnumStructVariant.html'\n+// @count - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 1\n+// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show 1 field'\n+pub enum EnumStructVariant {\n+    A, B, C,\n+    D {\n+        a: u8,\n+    }\n+}\n+\n // @has 'toggle_item_contents/enum.LargeEnum.html'\n // @count - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 1\n-// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show variants'\n+// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show 13 variants'\n pub enum LargeEnum {\n     A, B, C, D, E, F(u8), G, H, I, J, K, L, M\n }\n@@ -90,7 +100,7 @@ pub trait Trait {\n \n // @has 'toggle_item_contents/trait.GinormousTrait.html'\n // @count - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 1\n-// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show associated items'\n+// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show 16 associated items'\n pub trait GinormousTrait {\n     type A;\n     type B;\n@@ -113,7 +123,7 @@ pub trait GinormousTrait {\n \n // @has 'toggle_item_contents/trait.HugeTrait.html'\n // @count - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 1\n-// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show associated constants and methods'\n+// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show 12 associated constants and 2 methods'\n pub trait HugeTrait {\n     type A;\n     const M: usize = 1;\n@@ -133,9 +143,30 @@ pub trait HugeTrait {\n     fn bar();\n }\n \n+// @has 'toggle_item_contents/trait.GiganticTrait.html'\n+// @count - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 1\n+// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show 1 associated constant and 1 method'\n+pub trait GiganticTrait {\n+    type A;\n+    type B;\n+    type C;\n+    type D;\n+    type E;\n+    type F;\n+    type G;\n+    type H;\n+    type I;\n+    type J;\n+    type K;\n+    type L;\n+    const M: usize = 1;\n+    #[must_use]\n+    fn foo();\n+}\n+\n // @has 'toggle_item_contents/trait.BigTrait.html'\n // @count - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 1\n-// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show methods'\n+// @has - '//details[@class=\"rustdoc-toggle type-contents-toggle\"]' 'Show 14 methods'\n pub trait BigTrait {\n     type A;\n     #[must_use]"}]}