{"sha": "a86173766c113fdde95c2510de5909d4f9469833", "node_id": "C_kwDOAAsO6NoAKGE4NjE3Mzc2NmMxMTNmZGRlOTVjMjUxMGRlNTkwOWQ0Zjk0Njk4MzM", "commit": {"author": {"name": "Nikita Tomashevich", "email": "quant3234@gmail.com", "date": "2022-11-03T18:56:15Z"}, "committer": {"name": "Nikita Tomashevich", "email": "quant3234@gmail.com", "date": "2022-12-28T11:53:48Z"}, "message": "Fix nits", "tree": {"sha": "463ed5218798edbb7209b4cac8a752184a349fc7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/463ed5218798edbb7209b4cac8a752184a349fc7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a86173766c113fdde95c2510de5909d4f9469833", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEAWou4Gq79HasRseDspeR1Nh440UFAmOsLkwACgkQspeR1Nh4\n40WZNg/+PcSAEMtoF3dizQd3VXN7N5I7p2fN/cOJRQhsFcv6BSejh3f8hPlQ2xme\nk5n6PcCniFHUKEgNMwbpILCa+3L+rrlJdglg/EvP4ZeoMGA7T7GF6omCvmdjOTz3\nRF/50d4nf1IsG0UMkNWM9WtTxK2CM5yj1WdIGuxTl0+LtDve+jq0y/dhB8Aa/ZMr\natQkz1uy3Unb+VVxfPhEqtDiZpi1FVRiBXAWhgkI5sdHrWQ89KH3IKAMoHu+MRAE\nQ7vpw+ADM5wzHHh+gskRBuzJkwQIuVqACnxdMofUBuKzn4U7MfV5bxypH4vMCpCb\n9QBq9oJtce16ek6eexD87/YYQlspGozPCq7N3ilxXIlxWxyqw6sKpsp/hKbDK74V\n3/SGCZeZ24dI+PCLRBNafKmJFUgaV85DvHFBDEu1qXiig3XtGil1t6biC0ZR0m/I\nOq2jBT4v+h4zPnJSUmDTGFvI2yBNFXjbPQUTZxQ26pyCIRundgqa8qF2tj1w0pg5\nHJXeEbiE18yfKqoEu4UF4ZtPwHFjSjbrCbD31NJsjqga5hNzTv5V3PC4g+b7nEfn\nXT5mOhpahWZDx5Cttn/zVkImLgBPCZ0koGXDbvI/rx7ly6QHD3qUGPS1mhkWULch\n89+IY7VxWmrzW1MUoSd95HGJK3/oeYvxbMk/w4WKeLHwQvgz8Io=\n=qrcy\n-----END PGP SIGNATURE-----", "payload": "tree 463ed5218798edbb7209b4cac8a752184a349fc7\nparent 62f9962eafbf4cf1196d256cf6c559ac397261e1\nauthor Nikita Tomashevich <quant3234@gmail.com> 1667501775 +0300\ncommitter Nikita Tomashevich <quant3234@gmail.com> 1672228428 +0300\n\nFix nits\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a86173766c113fdde95c2510de5909d4f9469833", "html_url": "https://github.com/rust-lang/rust/commit/a86173766c113fdde95c2510de5909d4f9469833", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a86173766c113fdde95c2510de5909d4f9469833/comments", "author": {"login": "IntQuant", "id": 25219447, "node_id": "MDQ6VXNlcjI1MjE5NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/25219447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IntQuant", "html_url": "https://github.com/IntQuant", "followers_url": "https://api.github.com/users/IntQuant/followers", "following_url": "https://api.github.com/users/IntQuant/following{/other_user}", "gists_url": "https://api.github.com/users/IntQuant/gists{/gist_id}", "starred_url": "https://api.github.com/users/IntQuant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IntQuant/subscriptions", "organizations_url": "https://api.github.com/users/IntQuant/orgs", "repos_url": "https://api.github.com/users/IntQuant/repos", "events_url": "https://api.github.com/users/IntQuant/events{/privacy}", "received_events_url": "https://api.github.com/users/IntQuant/received_events", "type": "User", "site_admin": false}, "committer": {"login": "IntQuant", "id": 25219447, "node_id": "MDQ6VXNlcjI1MjE5NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/25219447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IntQuant", "html_url": "https://github.com/IntQuant", "followers_url": "https://api.github.com/users/IntQuant/followers", "following_url": "https://api.github.com/users/IntQuant/following{/other_user}", "gists_url": "https://api.github.com/users/IntQuant/gists{/gist_id}", "starred_url": "https://api.github.com/users/IntQuant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IntQuant/subscriptions", "organizations_url": "https://api.github.com/users/IntQuant/orgs", "repos_url": "https://api.github.com/users/IntQuant/repos", "events_url": "https://api.github.com/users/IntQuant/events{/privacy}", "received_events_url": "https://api.github.com/users/IntQuant/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "62f9962eafbf4cf1196d256cf6c559ac397261e1", "url": "https://api.github.com/repos/rust-lang/rust/commits/62f9962eafbf4cf1196d256cf6c559ac397261e1", "html_url": "https://github.com/rust-lang/rust/commit/62f9962eafbf4cf1196d256cf6c559ac397261e1"}], "stats": {"total": 11, "additions": 4, "deletions": 7}, "files": [{"sha": "a5e5f9538565b3365a895b9a9c5863048e79a920", "filename": "compiler/rustc_infer/src/infer/error_reporting/nice_region_error/placeholder_error.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a86173766c113fdde95c2510de5909d4f9469833/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fplaceholder_error.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a86173766c113fdde95c2510de5909d4f9469833/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fplaceholder_error.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fplaceholder_error.rs?ref=a86173766c113fdde95c2510de5909d4f9469833", "patch": "@@ -333,17 +333,15 @@ impl<'tcx> NiceRegionError<'_, 'tcx> {\n             leading_ellipsis,\n         );\n \n-        let diag = TraitPlaceholderMismatch {\n+        self.tcx().sess.create_err(TraitPlaceholderMismatch {\n             span,\n             satisfy_span,\n             where_span,\n             dup_span,\n             def_id,\n             trait_def_id: self.tcx().def_path_str(trait_def_id),\n             actual_impl_expl_notes,\n-        };\n-\n-        self.tcx().sess.create_err(diag)\n+        })\n     }\n \n     /// Add notes with details about the expected and actual trait refs, with attention to cases"}, {"sha": "ae3f174c72e6426c8717f78e9767324712412f3a", "filename": "compiler/rustc_infer/src/infer/error_reporting/nice_region_error/static_impl_trait.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a86173766c113fdde95c2510de5909d4f9469833/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fstatic_impl_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a86173766c113fdde95c2510de5909d4f9469833/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fstatic_impl_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fstatic_impl_trait.rs?ref=a86173766c113fdde95c2510de5909d4f9469833", "patch": "@@ -63,7 +63,7 @@ impl<'a, 'tcx> NiceRegionError<'a, 'tcx> {\n                         AssocItemContainer::ImplContainer => (false, String::new()),\n                     };\n \n-                    let diag = ButCallingIntroduces {\n+                    let mut err = self.tcx().sess.create_err(ButCallingIntroduces {\n                         param_ty_span: param.param_ty_span,\n                         cause_span: cause.span,\n                         has_param_name: simple_ident.is_some(),\n@@ -73,8 +73,7 @@ impl<'a, 'tcx> NiceRegionError<'a, 'tcx> {\n                         assoc_item: ctxt.assoc_item.name,\n                         has_impl_path,\n                         impl_path,\n-                    };\n-                    let mut err = self.tcx().sess.create_err(diag);\n+                    });\n                     if self.find_impl_on_dyn_trait(&mut err, param.param_ty, &ctxt) {\n                         let reported = err.emit();\n                         return Some(reported);"}]}