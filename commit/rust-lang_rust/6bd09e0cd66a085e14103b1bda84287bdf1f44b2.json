{"sha": "6bd09e0cd66a085e14103b1bda84287bdf1f44b2", "node_id": "C_kwDOAAsO6NoAKDZiZDA5ZTBjZDY2YTA4NWUxNDEwM2IxYmRhODQyODdiZGYxZjQ0YjI", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-01-28T10:11:09Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-01-28T10:11:09Z"}, "message": "Rollup merge of #107391 - notriddle:notriddle/copy-path-button, r=GuillaumeGomez\n\nrustdoc: remove inline javascript from copy-path button", "tree": {"sha": "930eeeeb15251de09e33b1394023ca697406605f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/930eeeeb15251de09e33b1394023ca697406605f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6bd09e0cd66a085e14103b1bda84287bdf1f44b2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJj1PS9CRBK7hj4Ov3rIwAAY44IAH3FMMD+LmtbMsqO/XoSXipk\nTJcILkhQT8ub1GqbnY1tePq4vfbxWIWYrT/WyyfZX/o9IglP9Q+krkRyTkyOT2VQ\nk001S1GOsQwOULmxOjzcxafUIkADKgYqQ39aLesDxnNirMuhnBYUq4Tg6DpY88T1\nQ/9W6KBA/NkLCEs1BYti7tmCSMYLZMc/szFU5gxFEa73h4LmhuUKHhslbTsTKsRd\ncu7YSJmLOhKuf3T7/rN+dSfCJnC6iHuWUfNV6N/zELxMUYynH2Py//8Ee1U3TsVB\n4fkLAY47iDONLnjO/8iApODJCLb75GKBTByJyoEQvGiTmZDZ9+8MmS0s2toDyWo=\n=xf5Z\n-----END PGP SIGNATURE-----\n", "payload": "tree 930eeeeb15251de09e33b1394023ca697406605f\nparent 18c9c643c136f64d57f7ba549f9f536110fd39fa\nparent 0959149323bd025905cd8b2572426e6fe443b420\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1674900669 +0100\ncommitter GitHub <noreply@github.com> 1674900669 +0100\n\nRollup merge of #107391 - notriddle:notriddle/copy-path-button, r=GuillaumeGomez\n\nrustdoc: remove inline javascript from copy-path button\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6bd09e0cd66a085e14103b1bda84287bdf1f44b2", "html_url": "https://github.com/rust-lang/rust/commit/6bd09e0cd66a085e14103b1bda84287bdf1f44b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6bd09e0cd66a085e14103b1bda84287bdf1f44b2/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "18c9c643c136f64d57f7ba549f9f536110fd39fa", "url": "https://api.github.com/repos/rust-lang/rust/commits/18c9c643c136f64d57f7ba549f9f536110fd39fa", "html_url": "https://github.com/rust-lang/rust/commit/18c9c643c136f64d57f7ba549f9f536110fd39fa"}, {"sha": "0959149323bd025905cd8b2572426e6fe443b420", "url": "https://api.github.com/repos/rust-lang/rust/commits/0959149323bd025905cd8b2572426e6fe443b420", "html_url": "https://github.com/rust-lang/rust/commit/0959149323bd025905cd8b2572426e6fe443b420"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "b9ad8ef70e917af855f4857ed46fbc40c5056194", "filename": "src/librustdoc/html/static/js/main.js", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6bd09e0cd66a085e14103b1bda84287bdf1f44b2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/6bd09e0cd66a085e14103b1bda84287bdf1f44b2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js?ref=6bd09e0cd66a085e14103b1bda84287bdf1f44b2", "patch": "@@ -1142,7 +1142,11 @@ function loadCss(cssUrl) {\n (function() {\n     let reset_button_timeout = null;\n \n-    window.copy_path = but => {\n+    const but = document.getElementById(\"copy-path\");\n+    if (!but) {\n+        return;\n+    }\n+    but.onclick = () => {\n         const parent = but.parentElement;\n         const path = [];\n "}, {"sha": "3a1867b7feba3eda5980b0b3d8235fe59c8ab234", "filename": "src/librustdoc/html/templates/print_item.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6bd09e0cd66a085e14103b1bda84287bdf1f44b2/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fprint_item.html", "raw_url": "https://github.com/rust-lang/rust/raw/6bd09e0cd66a085e14103b1bda84287bdf1f44b2/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fprint_item.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fprint_item.html?ref=6bd09e0cd66a085e14103b1bda84287bdf1f44b2", "patch": "@@ -6,7 +6,7 @@ <h1> {#- -#}\n         <a href=\"{{component.path|safe}}index.html\">{{component.name}}</a>::<wbr>\n         {%- endfor -%}\n         <a class=\"{{item_type}}\" href=\"#\">{{name}}</a> {#- -#}\n-        <button id=\"copy-path\" onclick=\"copy_path(this)\" title=\"Copy item path to clipboard\"> {#- -#}\n+        <button id=\"copy-path\" title=\"Copy item path to clipboard\"> {#- -#}\n         <img src=\"{{static_root_path|safe}}{{clipboard_svg}}\" {# -#}\n                 width=\"19\" height=\"18\" {# -#}\n                 alt=\"Copy item path\"> {#- -#}"}]}