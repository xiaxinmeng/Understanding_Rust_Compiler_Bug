{"sha": "6421c13157b387e7605b89caef2a4d1748bbd611", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY0MjFjMTMxNTdiMzg3ZTc2MDViODljYWVmMmE0ZDE3NDhiYmQ2MTE=", "commit": {"author": {"name": "Dave Herman", "email": "dherman@mozilla.com", "date": "2010-10-21T20:34:16Z"}, "committer": {"name": "Dave Herman", "email": "dherman@mozilla.com", "date": "2010-10-21T20:34:16Z"}, "message": "eliminated bitv.test, which now lives in test/run-pass", "tree": {"sha": "28a2e9157200342dfce2be4e998763211e56ef1a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/28a2e9157200342dfce2be4e998763211e56ef1a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6421c13157b387e7605b89caef2a4d1748bbd611", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6421c13157b387e7605b89caef2a4d1748bbd611", "html_url": "https://github.com/rust-lang/rust/commit/6421c13157b387e7605b89caef2a4d1748bbd611", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6421c13157b387e7605b89caef2a4d1748bbd611/comments", "author": null, "committer": null, "parents": [{"sha": "dbe27199b844aea507de8052da7b1e8f60543e70", "url": "https://api.github.com/repos/rust-lang/rust/commits/dbe27199b844aea507de8052da7b1e8f60543e70", "html_url": "https://github.com/rust-lang/rust/commit/dbe27199b844aea507de8052da7b1e8f60543e70"}], "stats": {"total": 283, "additions": 0, "deletions": 283}, "files": [{"sha": "af90060aab83b8345cbf9103f68c2c1f15a9c3e4", "filename": "src/lib/bitv.rs", "status": "modified", "additions": 0, "deletions": 283, "changes": 283, "blob_url": "https://github.com/rust-lang/rust/blob/6421c13157b387e7605b89caef2a4d1748bbd611/src%2Flib%2Fbitv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6421c13157b387e7605b89caef2a4d1748bbd611/src%2Flib%2Fbitv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fbitv.rs?ref=6421c13157b387e7605b89caef2a4d1748bbd611", "patch": "@@ -168,289 +168,6 @@ fn eq_vec(&t v0, &vec[uint] v1) -> bool {\n     ret true;\n }\n \n-fn test() {\n-    auto act;\n-    auto exp;\n-\n-    // -----------------------------------------------------------------------\n-    // Tests of 0-element bit-vectors.\n-\n-    act = create(0u, false);\n-    exp = _vec.init_elt[uint](0u, 0u);\n-    // FIXME: why can't I write vec[uint]()?\n-    check (eq_vec(act, exp));\n-\n-    // -----------------------------------------------------------------------\n-    // Tests of 1-element bit-vectors.\n-\n-    act = create(1u, false);\n-    check (eq_vec(act, vec(0u)));\n-\n-    act = create(1u, true);\n-    check (eq_vec(act, vec(1u)));\n-\n-    // -----------------------------------------------------------------------\n-    // Tests of 10-element bit-vectors.\n-\n-    // all 0\n-    act = create(10u, false);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u)));\n-\n-    // all 1\n-    act = create(10u, true);\n-    check (eq_vec(act, vec(1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u)));\n-\n-    // mixed\n-    act = create(10u, false);\n-    set(act, 0u, true);\n-    set(act, 1u, true);\n-    set(act, 2u, true);\n-    set(act, 3u, true);\n-    set(act, 4u, true);\n-    check (eq_vec(act, vec(1u, 1u, 1u, 1u, 1u, 0u, 0u, 0u, 0u, 0u)));\n-\n-    // mixed\n-    act = create(10u, false);\n-    set(act, 5u, true);\n-    set(act, 6u, true);\n-    set(act, 7u, true);\n-    set(act, 8u, true);\n-    set(act, 9u, true);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 1u, 1u, 1u, 1u, 1u)));\n-\n-    // mixed\n-    act = create(10u, false);\n-    set(act, 0u, true);\n-    set(act, 3u, true);\n-    set(act, 6u, true);\n-    set(act, 9u, true);\n-    check (eq_vec(act, vec(1u, 0u, 0u, 1u, 0u, 0u, 1u, 0u, 0u, 1u)));\n-\n-    // -----------------------------------------------------------------------\n-    // Tests of 31-element bit-vectors.\n-\n-    // all 0\n-    act = create(31u, false);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u)));\n-\n-    // all 1\n-    act = create(31u, true);\n-    check (eq_vec(act, vec(1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u)));\n-\n-    // mixed\n-    act = create(31u, false);\n-    set(act, 0u, true);\n-    set(act, 1u, true);\n-    set(act, 2u, true);\n-    set(act, 3u, true);\n-    set(act, 4u, true);\n-    set(act, 5u, true);\n-    set(act, 6u, true);\n-    set(act, 7u, true);\n-    check (eq_vec(act, vec(1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u)));\n-\n-    // mixed\n-    act = create(31u, false);\n-    set(act, 16u, true);\n-    set(act, 17u, true);\n-    set(act, 18u, true);\n-    set(act, 19u, true);\n-    set(act, 20u, true);\n-    set(act, 21u, true);\n-    set(act, 22u, true);\n-    set(act, 23u, true);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u)));\n-\n-    // mixed\n-    act = create(31u, false);\n-    set(act, 24u, true);\n-    set(act, 25u, true);\n-    set(act, 26u, true);\n-    set(act, 27u, true);\n-    set(act, 28u, true);\n-    set(act, 29u, true);\n-    set(act, 30u, true);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u)));\n-\n-    // mixed\n-    act = create(31u, false);\n-    set(act, 3u, true);\n-    set(act, 17u, true);\n-    set(act, 30u, true);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 1u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 1u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 1u)));\n-\n-    // -----------------------------------------------------------------------\n-    // Tests of 32-element bit-vectors.\n-\n-    // all 0\n-    act = create(32u, false);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u)));\n-\n-    // all 1\n-    act = create(32u, true);\n-    check (eq_vec(act, vec(1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u)));\n-\n-    // mixed\n-    act = create(32u, false);\n-    set(act, 0u, true);\n-    set(act, 1u, true);\n-    set(act, 2u, true);\n-    set(act, 3u, true);\n-    set(act, 4u, true);\n-    set(act, 5u, true);\n-    set(act, 6u, true);\n-    set(act, 7u, true);\n-    check (eq_vec(act, vec(1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u)));\n-\n-    // mixed\n-    act = create(32u, false);\n-    set(act, 16u, true);\n-    set(act, 17u, true);\n-    set(act, 18u, true);\n-    set(act, 19u, true);\n-    set(act, 20u, true);\n-    set(act, 21u, true);\n-    set(act, 22u, true);\n-    set(act, 23u, true);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u)));\n-\n-    // mixed\n-    act = create(32u, false);\n-    set(act, 24u, true);\n-    set(act, 25u, true);\n-    set(act, 26u, true);\n-    set(act, 27u, true);\n-    set(act, 28u, true);\n-    set(act, 29u, true);\n-    set(act, 30u, true);\n-    set(act, 31u, true);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u)));\n-\n-    // mixed\n-    act = create(32u, false);\n-    set(act, 3u, true);\n-    set(act, 17u, true);\n-    set(act, 30u, true);\n-    set(act, 31u, true);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 1u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 1u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 1u, 1u)));\n-\n-    // -----------------------------------------------------------------------\n-    // Tests of 33-element bit-vectors.\n-\n-    // all 0\n-    act = create(33u, false);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u)));\n-\n-    // all 1\n-    act = create(33u, true);\n-    check (eq_vec(act, vec(1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           1u)));\n-\n-    // mixed\n-    act = create(33u, false);\n-    set(act, 0u, true);\n-    set(act, 1u, true);\n-    set(act, 2u, true);\n-    set(act, 3u, true);\n-    set(act, 4u, true);\n-    set(act, 5u, true);\n-    set(act, 6u, true);\n-    set(act, 7u, true);\n-    check (eq_vec(act, vec(1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u)));\n-\n-    // mixed\n-    act = create(33u, false);\n-    set(act, 16u, true);\n-    set(act, 17u, true);\n-    set(act, 18u, true);\n-    set(act, 19u, true);\n-    set(act, 20u, true);\n-    set(act, 21u, true);\n-    set(act, 22u, true);\n-    set(act, 23u, true);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u)));\n-\n-    // mixed\n-    act = create(33u, false);\n-    set(act, 24u, true);\n-    set(act, 25u, true);\n-    set(act, 26u, true);\n-    set(act, 27u, true);\n-    set(act, 28u, true);\n-    set(act, 29u, true);\n-    set(act, 30u, true);\n-    set(act, 31u, true);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           1u, 1u, 1u, 1u, 1u, 1u, 1u, 1u,\n-                           0u)));\n-\n-    // mixed\n-    act = create(33u, false);\n-    set(act, 3u, true);\n-    set(act, 17u, true);\n-    set(act, 30u, true);\n-    set(act, 31u, true);\n-    set(act, 32u, true);\n-    check (eq_vec(act, vec(0u, 0u, 0u, 1u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 1u, 0u, 0u, 0u, 0u, 0u, 0u,\n-                           0u, 0u, 0u, 0u, 0u, 0u, 1u, 1u,\n-                           1u)));\n-}\n-\n //\n // Local Variables:\n // mode: rust"}]}