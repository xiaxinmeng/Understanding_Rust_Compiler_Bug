{"sha": "f3fd09a6f57bb9b634a38e672bcd51ef0922dbe1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYzZmQwOWE2ZjU3YmI5YjYzNGEzOGU2NzJiY2Q1MWVmMDkyMmRiZTE=", "commit": {"author": {"name": "Jakub Bukaj", "email": "jakub@jakub.cc", "date": "2014-11-16T09:21:18Z"}, "committer": {"name": "Jakub Bukaj", "email": "jakub@jakub.cc", "date": "2014-11-16T09:21:18Z"}, "message": "rollup merge of #18965: cmr/master", "tree": {"sha": "2f0610198043de81626cbdbddf703fb3c2385fca", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f0610198043de81626cbdbddf703fb3c2385fca"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f3fd09a6f57bb9b634a38e672bcd51ef0922dbe1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f3fd09a6f57bb9b634a38e672bcd51ef0922dbe1", "html_url": "https://github.com/rust-lang/rust/commit/f3fd09a6f57bb9b634a38e672bcd51ef0922dbe1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f3fd09a6f57bb9b634a38e672bcd51ef0922dbe1/comments", "author": null, "committer": null, "parents": [{"sha": "c01c6e2cac7e75406f711c9c0344ab522421ce58", "url": "https://api.github.com/repos/rust-lang/rust/commits/c01c6e2cac7e75406f711c9c0344ab522421ce58", "html_url": "https://github.com/rust-lang/rust/commit/c01c6e2cac7e75406f711c9c0344ab522421ce58"}, {"sha": "5416901ccad4550b6f7a6145de5dbbe94b98e309", "url": "https://api.github.com/repos/rust-lang/rust/commits/5416901ccad4550b6f7a6145de5dbbe94b98e309", "html_url": "https://github.com/rust-lang/rust/commit/5416901ccad4550b6f7a6145de5dbbe94b98e309"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "9530c86a94c111416a8ddd155f25892370fc0681", "filename": "src/librustc/middle/trans/type_of.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f3fd09a6f57bb9b634a38e672bcd51ef0922dbe1/src%2Flibrustc%2Fmiddle%2Ftrans%2Ftype_of.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f3fd09a6f57bb9b634a38e672bcd51ef0922dbe1/src%2Flibrustc%2Fmiddle%2Ftrans%2Ftype_of.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Ftype_of.rs?ref=f3fd09a6f57bb9b634a38e672bcd51ef0922dbe1", "patch": "@@ -455,7 +455,12 @@ pub fn llvm_type_name(cx: &CrateContext,\n \n     let base = ty::item_path_str(cx.tcx(), did);\n     let strings: Vec<String> = tps.iter().map(|t| t.repr(cx.tcx())).collect();\n-    let tstr = format!(\"{}<{}>\", base, strings);\n+    let tstr = if strings.is_empty() {\n+        base\n+    } else {\n+        format!(\"{}<{}>\", base, strings)\n+    };\n+\n     if did.krate == 0 {\n         format!(\"{}.{}\", name, tstr)\n     } else {"}]}