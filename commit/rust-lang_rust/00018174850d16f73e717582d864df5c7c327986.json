{"sha": "00018174850d16f73e717582d864df5c7c327986", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAwMDE4MTc0ODUwZDE2ZjczZTcxNzU4MmQ4NjRkZjVjN2MzMjc5ODY=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2015-02-14T10:45:43Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2015-02-16T06:19:09Z"}, "message": "Add custom_attribute gate to tests which need them", "tree": {"sha": "407390365d47488653591f10f479ce7251097155", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/407390365d47488653591f10f479ce7251097155"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/00018174850d16f73e717582d864df5c7c327986", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/00018174850d16f73e717582d864df5c7c327986", "html_url": "https://github.com/rust-lang/rust/commit/00018174850d16f73e717582d864df5c7c327986", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/00018174850d16f73e717582d864df5c7c327986/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "237ae450bf56a9740df114b95ae6d3c74fb7efd7", "url": "https://api.github.com/repos/rust-lang/rust/commits/237ae450bf56a9740df114b95ae6d3c74fb7efd7", "html_url": "https://github.com/rust-lang/rust/commit/237ae450bf56a9740df114b95ae6d3c74fb7efd7"}], "stats": {"total": 23, "additions": 22, "deletions": 1}, "files": [{"sha": "dd4e1212a00ca0b508a1f820b622f3c302f221da", "filename": "src/test/compile-fail/lint-obsolete-attr.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Fcompile-fail%2Flint-obsolete-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Fcompile-fail%2Flint-obsolete-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-obsolete-attr.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -13,6 +13,7 @@\n \n #![deny(unused_attributes)]\n #![allow(dead_code)]\n+#![feature(custom_attribute)]\n \n #[abi=\"stdcall\"] extern {} //~ ERROR unused attribute\n "}, {"sha": "af4e81be1951d86d73dcf6a08be63ea973311e80", "filename": "src/test/compile-fail/lint-unknown-attr.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Fcompile-fail%2Flint-unknown-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Fcompile-fail%2Flint-unknown-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-unknown-attr.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -11,6 +11,7 @@\n // When denying at the crate level, be sure to not get random warnings from the\n // injected intrinsics by the compiler.\n \n+#![feature(custom_attribute)]\n #![deny(unused_attributes)]\n \n #![mutable_doc] //~ ERROR unused attribute"}, {"sha": "e76eaea365ea6e0e8707341f54a86e93b421ec1c", "filename": "src/test/compile-fail/macro-inner-attributes.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Fcompile-fail%2Fmacro-inner-attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Fcompile-fail%2Fmacro-inner-attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-inner-attributes.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(custom_attribute)]\n+\n macro_rules! test { ($nm:ident,\n                      #[$a:meta],\n                      $i:item) => (mod $nm { #![$a] $i }); }"}, {"sha": "cff01f36f3ad72132a4694725a2435fe45b8f82e", "filename": "src/test/compile-fail/macro-outer-attributes.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Fcompile-fail%2Fmacro-outer-attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Fcompile-fail%2Fmacro-outer-attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-outer-attributes.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(custom_attribute)]\n+\n macro_rules! test { ($nm:ident,\n                      #[$a:meta],\n                      $i:item) => (mod $nm { #[$a] $i }); }"}, {"sha": "2d4bc0c857a9a7ad7f8c77f05e77300e3346b644", "filename": "src/test/compile-fail/unused-attr.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Fcompile-fail%2Funused-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Fcompile-fail%2Funused-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funused-attr.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -7,9 +7,10 @@\n // <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n+\n #![deny(unused_attributes)]\n #![allow(dead_code, unused_imports)]\n-#![feature(core)]\n+#![feature(core, custom_attribute)]\n \n #![foo] //~ ERROR unused attribute\n "}, {"sha": "951a716879fce782c8f45effa67497ced90d438f", "filename": "src/test/run-pass/attr-before-view-item.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fattr-before-view-item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fattr-before-view-item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fattr-before-view-item.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -10,6 +10,8 @@\n \n // error-pattern:expected item\n \n+#![feature(custom_attribute)]\n+\n #[foo = \"bar\"]\n extern crate test;\n "}, {"sha": "ad8ce608bd05dcb30fe4f6067c5f93558cac8798", "filename": "src/test/run-pass/attr-before-view-item2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fattr-before-view-item2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fattr-before-view-item2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fattr-before-view-item2.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -10,6 +10,8 @@\n \n // error-pattern:expected item\n \n+#![feature(custom_attribute)]\n+\n mod m {\n     #[foo = \"bar\"]\n     extern crate test;"}, {"sha": "7980937ce2a159f84aa129871dbeb59b183906c1", "filename": "src/test/run-pass/attr-mix-new.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fattr-mix-new.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fattr-mix-new.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fattr-mix-new.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -8,6 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n #![allow(unused_attribute)]\n+#![feature(custom_attribute)]\n \n #[foo(bar)]\n mod foo {"}, {"sha": "4e05c263a48bafddc0486e40b311ae2e865d62a4", "filename": "src/test/run-pass/check-static-recursion-foreign.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fcheck-static-recursion-foreign.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fcheck-static-recursion-foreign.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fcheck-static-recursion-foreign.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -11,6 +11,9 @@\n // Static recursion check shouldn't fail when given a foreign item (#18279)\n \n // aux-build:check_static_recursion_foreign_helper.rs\n+\n+#![feature(custom_attribute)]\n+\n extern crate check_static_recursion_foreign_helper;\n extern crate libc;\n "}, {"sha": "5dc27472184d7e72a184094dcd267c37950eb8d9", "filename": "src/test/run-pass/class-attributes-1.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fclass-attributes-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fclass-attributes-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fclass-attributes-1.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -10,6 +10,7 @@\n \n // pp-exact - Make sure we actually print the attributes\n #![allow(unused_attribute)]\n+#![feature(custom_attribute)]\n \n struct cat {\n     name: String,"}, {"sha": "cc1b15bcb81cda70c2ce6d4d2dcb5ba2680a0138", "filename": "src/test/run-pass/class-attributes-2.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fclass-attributes-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fclass-attributes-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fclass-attributes-2.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -8,6 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n #![allow(unused_attribute)]\n+#![feature(custom_attribute)]\n \n struct cat {\n   name: String,"}, {"sha": "2aa5a57966672178e924c11630f2cf8fb395cdd2", "filename": "src/test/run-pass/item-attributes.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fitem-attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fitem-attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fitem-attributes.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -11,6 +11,8 @@\n // These are attributes of the implicit crate. Really this just needs to parse\n // for completeness since .rs files linked from .rc files support this\n // notation to specify their module's attributes\n+\n+#![feature(custom_attribute)]\n #![allow(unused_attribute)]\n #![attr1 = \"val\"]\n #![attr2 = \"val\"]"}, {"sha": "92af96e0d8f2c81068f5958e1bd72ef810c47e73", "filename": "src/test/run-pass/method-attributes.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fmethod-attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fmethod-attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmethod-attributes.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -10,6 +10,7 @@\n \n // pp-exact - Make sure we print all the attributes\n #![allow(unused_attribute)]\n+#![feature(custom_attribute)]\n \n #[frobable]\n trait frobable {"}, {"sha": "16dca2db396e7f716d3f13ef35fa5baf1c7eca92", "filename": "src/test/run-pass/variant-attributes.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fvariant-attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00018174850d16f73e717582d864df5c7c327986/src%2Ftest%2Frun-pass%2Fvariant-attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fvariant-attributes.rs?ref=00018174850d16f73e717582d864df5c7c327986", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // pp-exact - Make sure we actually print the attributes\n+#![feature(custom_attribute)]\n \n enum crew_of_enterprise_d {\n "}]}