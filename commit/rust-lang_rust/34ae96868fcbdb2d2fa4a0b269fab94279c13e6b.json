{"sha": "34ae96868fcbdb2d2fa4a0b269fab94279c13e6b", "node_id": "C_kwDOAAsO6NoAKDM0YWU5Njg2OGZjYmRiMmQyZmE0YTBiMjY5ZmFiOTQyNzljMTNlNmI", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-12-22T11:29:20Z"}, "committer": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-12-22T11:29:20Z"}, "message": "Add regression test for #94293\n\nSigned-off-by: Yuki Okushi <jtitor@2k36.org>", "tree": {"sha": "6906665d75fab7b6075838018c2aac946570be2b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6906665d75fab7b6075838018c2aac946570be2b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/34ae96868fcbdb2d2fa4a0b269fab94279c13e6b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgHhkVL0/9C9iZr1PMss4Lz7KmAH\nPO6dU/JqcK/z29OHQAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQMAfKcnpmmdybNtBW4XRILf+wxrOcsRqXxI9vHGFG3SiORYGIakqpqxN0kbBmERRYI\njlsH3LU9NOlpBxVhgUwwg=\n-----END SSH SIGNATURE-----", "payload": "tree 6906665d75fab7b6075838018c2aac946570be2b\nparent 75f4ee8b4427278d7a35b7025ea72e02c55ae8f1\nauthor Yuki Okushi <jtitor@2k36.org> 1671708560 +0900\ncommitter Yuki Okushi <jtitor@2k36.org> 1671708560 +0900\n\nAdd regression test for #94293\n\nSigned-off-by: Yuki Okushi <jtitor@2k36.org>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/34ae96868fcbdb2d2fa4a0b269fab94279c13e6b", "html_url": "https://github.com/rust-lang/rust/commit/34ae96868fcbdb2d2fa4a0b269fab94279c13e6b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/34ae96868fcbdb2d2fa4a0b269fab94279c13e6b/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "75f4ee8b4427278d7a35b7025ea72e02c55ae8f1", "url": "https://api.github.com/repos/rust-lang/rust/commits/75f4ee8b4427278d7a35b7025ea72e02c55ae8f1", "html_url": "https://github.com/rust-lang/rust/commit/75f4ee8b4427278d7a35b7025ea72e02c55ae8f1"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "713c5d89a93006afd757dd0dc4117533720cae1e", "filename": "src/test/ui/const-generics/generic_const_exprs/issue-94293.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/34ae96868fcbdb2d2fa4a0b269fab94279c13e6b/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fissue-94293.rs", "raw_url": "https://github.com/rust-lang/rust/raw/34ae96868fcbdb2d2fa4a0b269fab94279c13e6b/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fissue-94293.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fissue-94293.rs?ref=34ae96868fcbdb2d2fa4a0b269fab94279c13e6b", "patch": "@@ -0,0 +1,31 @@\n+// check-pass\n+\n+#![feature(generic_const_exprs)]\n+#![allow(incomplete_features)]\n+#![deny(const_evaluatable_unchecked)]\n+\n+pub struct If<const CONDITION: bool>;\n+pub trait True {}\n+impl True for If<true> {}\n+\n+pub struct FixedI8<const FRAC: u32> {\n+    pub bits: i8,\n+}\n+\n+impl<const FRAC_LHS: u32, const FRAC_RHS: u32> PartialEq<FixedI8<FRAC_RHS>> for FixedI8<FRAC_LHS>\n+where\n+    If<{ FRAC_RHS <= 8 }>: True,\n+{\n+    fn eq(&self, _rhs: &FixedI8<FRAC_RHS>) -> bool {\n+        unimplemented!()\n+    }\n+}\n+\n+impl<const FRAC: u32> PartialEq<i8> for FixedI8<FRAC> {\n+    fn eq(&self, rhs: &i8) -> bool {\n+        let rhs_as_fixed = FixedI8::<0> { bits: *rhs };\n+        PartialEq::eq(self, &rhs_as_fixed)\n+    }\n+}\n+\n+fn main() {}"}]}