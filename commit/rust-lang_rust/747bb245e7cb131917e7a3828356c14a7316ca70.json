{"sha": "747bb245e7cb131917e7a3828356c14a7316ca70", "node_id": "C_kwDOAAsO6NoAKDc0N2JiMjQ1ZTdjYjEzMTkxN2U3YTM4MjgzNTZjMTRhNzMxNmNhNzA", "commit": {"author": {"name": "Max Baumann", "email": "max@bmn.dev", "date": "2022-03-17T18:29:59Z"}, "committer": {"name": "Max Baumann", "email": "max@bmn.dev", "date": "2022-03-17T18:29:59Z"}, "message": "fix: fix broken dogfood tests", "tree": {"sha": "2b338f6b080f6116f1d41cdd41de55b7dac9b0a7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2b338f6b080f6116f1d41cdd41de55b7dac9b0a7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/747bb245e7cb131917e7a3828356c14a7316ca70", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEhJzmO046LuvaNO3WIPoWCbA7HW0FAmIzficACgkQIPoWCbA7\nHW0DyA/+IMN54HcbRJrO+/BWiqzvTIX+eYXPklNigZDEY4gDewKiJ4GOH+FqBaMw\nZvhepB8fCeEgtxYlhznHiDbXEKQXr/qTeyhV1ueByYjJkgqM5ateLzlyx6UDxzBZ\nVMjHHV4dw6RvTTV4OCB+uN3g9Jt6g2TyfMNjTFM2JEse7EQbbw/Ut1wWTpt0bwG0\npE94PUQstswXUHUxeLc3RoasxO1/bVNgAHwt8CqBnwiYjQnQswdeLN7H1ovNHkdo\noSXIW3cgEWUk9JMt3BL7K3n34qnUVvnsxVE74WeJNZz+VPmkaUHeiMJB2jX5ldTc\nWcxxM/hZlm1k5EazTR8arpnRLD3fe0QFmNS+CVb1SwILdpitwENOnaEBWffXypS9\n3VqiSTSQMoUoELGhWoSJXcBbs4Tkh8N8CIsxaCmnA9PVqbOeDBz5G/XNfj1vSXAm\nlaI1hpcpTTJHQ0qIhJxn4ADwBZIDxui5lQYk/FxFT/P4vIrpKiR7PwxKxj9hIpfM\ntkp/HGw8Sia2yD6FUPc5IUZs7gE/6RQdWrx/ydwA5TwQzKPaBKGeFGCs1exOo/xD\n26+8D3gG0keL51EKYBc3x8eg/wrEDMAl9rMCBzuyI+EjB/8EYvG1r455ggyFiSiZ\nC6+P0bKvjbs7vttWF1tFKAbYsjA8YFjmX1sh8JfQYGjLJklLPBc=\n=wDQn\n-----END PGP SIGNATURE-----", "payload": "tree 2b338f6b080f6116f1d41cdd41de55b7dac9b0a7\nparent 3f00f074de3f6debe594e11066864a0da1dfe4af\nauthor Max Baumann <max@bmn.dev> 1647541799 +0100\ncommitter Max Baumann <max@bmn.dev> 1647541799 +0100\n\nfix: fix broken dogfood tests\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/747bb245e7cb131917e7a3828356c14a7316ca70", "html_url": "https://github.com/rust-lang/rust/commit/747bb245e7cb131917e7a3828356c14a7316ca70", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/747bb245e7cb131917e7a3828356c14a7316ca70/comments", "author": {"login": "FoseFx", "id": 22842759, "node_id": "MDQ6VXNlcjIyODQyNzU5", "avatar_url": "https://avatars.githubusercontent.com/u/22842759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FoseFx", "html_url": "https://github.com/FoseFx", "followers_url": "https://api.github.com/users/FoseFx/followers", "following_url": "https://api.github.com/users/FoseFx/following{/other_user}", "gists_url": "https://api.github.com/users/FoseFx/gists{/gist_id}", "starred_url": "https://api.github.com/users/FoseFx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FoseFx/subscriptions", "organizations_url": "https://api.github.com/users/FoseFx/orgs", "repos_url": "https://api.github.com/users/FoseFx/repos", "events_url": "https://api.github.com/users/FoseFx/events{/privacy}", "received_events_url": "https://api.github.com/users/FoseFx/received_events", "type": "User", "site_admin": false}, "committer": {"login": "FoseFx", "id": 22842759, "node_id": "MDQ6VXNlcjIyODQyNzU5", "avatar_url": "https://avatars.githubusercontent.com/u/22842759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FoseFx", "html_url": "https://github.com/FoseFx", "followers_url": "https://api.github.com/users/FoseFx/followers", "following_url": "https://api.github.com/users/FoseFx/following{/other_user}", "gists_url": "https://api.github.com/users/FoseFx/gists{/gist_id}", "starred_url": "https://api.github.com/users/FoseFx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FoseFx/subscriptions", "organizations_url": "https://api.github.com/users/FoseFx/orgs", "repos_url": "https://api.github.com/users/FoseFx/repos", "events_url": "https://api.github.com/users/FoseFx/events{/privacy}", "received_events_url": "https://api.github.com/users/FoseFx/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3f00f074de3f6debe594e11066864a0da1dfe4af", "url": "https://api.github.com/repos/rust-lang/rust/commits/3f00f074de3f6debe594e11066864a0da1dfe4af", "html_url": "https://github.com/rust-lang/rust/commit/3f00f074de3f6debe594e11066864a0da1dfe4af"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "29bdec2cae8334450a1a22ab1aef5a34a2e1ea06", "filename": "clippy_lints/src/use_unwrap_or.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/747bb245e7cb131917e7a3828356c14a7316ca70/clippy_lints%2Fsrc%2Fuse_unwrap_or.rs", "raw_url": "https://github.com/rust-lang/rust/raw/747bb245e7cb131917e7a3828356c14a7316ca70/clippy_lints%2Fsrc%2Fuse_unwrap_or.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fuse_unwrap_or.rs?ref=747bb245e7cb131917e7a3828356c14a7316ca70", "patch": "@@ -41,10 +41,10 @@ impl<'tcx> LateLintPass<'tcx> for UseUnwrapOr {\n         // look for x.or().unwrap()\n         if_chain! {\n             if let ExprKind::MethodCall(path, args, unwrap_span) = expr.kind;\n-            if path.ident.name.as_str() == \"unwrap\";\n+            if path.ident.name == sym::unwrap;\n             if let Some(caller) = args.first();\n             if let ExprKind::MethodCall(caller_path, caller_args, or_span) = caller.kind;\n-            if caller_path.ident.name.as_str() == \"or\";\n+            if caller_path.ident.name == sym::or;\n             then {\n                 let ty = cx.typeck_results().expr_ty(&caller_args[0]); // get type of x (we later check if it's Option or Result)\n                 let title;"}]}