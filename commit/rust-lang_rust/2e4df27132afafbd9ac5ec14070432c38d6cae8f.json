{"sha": "2e4df27132afafbd9ac5ec14070432c38d6cae8f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlNGRmMjcxMzJhZmFmYmQ5YWM1ZWMxNDA3MDQzMmMzOGQ2Y2FlOGY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-06-18T19:14:39Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-06-18T19:25:35Z"}, "message": "minor: use minicore", "tree": {"sha": "ae8429eb7911056752580ea87685fb6032a07683", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ae8429eb7911056752580ea87685fb6032a07683"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2e4df27132afafbd9ac5ec14070432c38d6cae8f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2e4df27132afafbd9ac5ec14070432c38d6cae8f", "html_url": "https://github.com/rust-lang/rust/commit/2e4df27132afafbd9ac5ec14070432c38d6cae8f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2e4df27132afafbd9ac5ec14070432c38d6cae8f/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c2f15270ee207ae787b08abdac2c8944b96306c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/c2f15270ee207ae787b08abdac2c8944b96306c9", "html_url": "https://github.com/rust-lang/rust/commit/c2f15270ee207ae787b08abdac2c8944b96306c9"}], "stats": {"total": 20, "additions": 3, "deletions": 17}, "files": [{"sha": "ac7f0959b08e5eb0978a0037a6ed69d3879eec81", "filename": "crates/ide_assists/src/handlers/extract_function.rs", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/2e4df27132afafbd9ac5ec14070432c38d6cae8f/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fextract_function.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2e4df27132afafbd9ac5ec14070432c38d6cae8f/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fextract_function.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fextract_function.rs?ref=2e4df27132afafbd9ac5ec14070432c38d6cae8f", "patch": "@@ -831,7 +831,6 @@ fn path_element_of_reference(\n     })?;\n     stdx::always!(\n         matches!(path, ast::Expr::PathExpr(_) | ast::Expr::MacroCall(_)),\n-\n         \"unexpected expression type for variable usage: {:?}\",\n         path\n     );\n@@ -2991,11 +2990,7 @@ mod bar {\n         check_assist(\n             extract_function,\n             r#\"\n-enum Option<T> {\n-    #[lang = \"None\"] None,\n-    #[lang = \"Some\"] Some(T),\n-}\n-use Option::*;\n+//- minicore: option\n fn foo() {\n     loop {\n         let n = 1;\n@@ -3007,11 +3002,6 @@ fn foo() {\n }\n \"#,\n             r#\"\n-enum Option<T> {\n-    #[lang = \"None\"] None,\n-    #[lang = \"Some\"] Some(T),\n-}\n-use Option::*;\n fn foo() {\n     loop {\n         let n = 1;"}, {"sha": "286d7cb67caff1e816b6997093762cba975d0334", "filename": "crates/ide_completion/src/completions/dot.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/2e4df27132afafbd9ac5ec14070432c38d6cae8f/crates%2Fide_completion%2Fsrc%2Fcompletions%2Fdot.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2e4df27132afafbd9ac5ec14070432c38d6cae8f/crates%2Fide_completion%2Fsrc%2Fcompletions%2Fdot.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_completion%2Fsrc%2Fcompletions%2Fdot.rs?ref=2e4df27132afafbd9ac5ec14070432c38d6cae8f", "patch": "@@ -498,10 +498,7 @@ mod foo {\n     fn issue_8931() {\n         check(\n             r#\"\n-#[lang = \"fn_once\"]\n-trait FnOnce<Args> {\n-    type Output;\n-}\n+//- minicore: fn\n struct S;\n \n struct Foo;"}, {"sha": "e49e434fa39ab9764c695e55240c551c718de2eb", "filename": "crates/ide_completion/src/context.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2e4df27132afafbd9ac5ec14070432c38d6cae8f/crates%2Fide_completion%2Fsrc%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2e4df27132afafbd9ac5ec14070432c38d6cae8f/crates%2Fide_completion%2Fsrc%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_completion%2Fsrc%2Fcontext.rs?ref=2e4df27132afafbd9ac5ec14070432c38d6cae8f", "patch": "@@ -942,13 +942,12 @@ fn foo() -> u32 {\n         // FIXME: make this work with `|| $0`\n         check_expected_type_and_name(\n             r#\"\n+//- minicore: fn\n fn foo() {\n     bar(|| a$0);\n }\n \n fn bar(f: impl FnOnce() -> u32) {}\n-#[lang = \"fn_once\"]\n-trait FnOnce { type Output; }\n \"#,\n             expect![[r#\"ty: u32, name: ?\"#]],\n         );"}]}