{"sha": "98e433d70d32086afb80bd4c20fe769a1c0a38ff", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk4ZTQzM2Q3MGQzMjA4NmFmYjgwYmQ0YzIwZmU3NjlhMWMwYTM4ZmY=", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2019-12-03T23:16:03Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-12-04T00:34:01Z"}, "message": "Rustup to rust-lang/rust#66878", "tree": {"sha": "2aaaf80e9f337e9e3e49cf91de99c5db67effd3a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2aaaf80e9f337e9e3e49cf91de99c5db67effd3a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/98e433d70d32086afb80bd4c20fe769a1c0a38ff", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqv54U47RUUXZfOLnLO/Nsn7QvnkFAl3m/vkACgkQLO/Nsn7Q\nvnkPZA/+Mc6Vc1waky1cw3oHqeOPGqdZxbUOHC5bRHbm7BGdAq/r6A0Fvy0fSnAC\n1iVDCk6XvTLDZ1AUNN9B2eLeO/9TqDCVqJ30xPuHOjt2EuQpO8KZ6RfX1sTPdKV+\nV4Jd6lrE3j4pMXC4+Y+n6lO1cBmmR6Mh0krO4ez5veuXFRlZcQehftnoZd+yN+LH\nnKBL7AWhPtNJGv+y8EYv+SmUsHmXoa3dcx5hxNjyJOpF8S/Ap7YzcFIXmmIJIgWy\ntE58hnOfe9mip2wnICrHMYXV3nw7OkqdhlIWNz055bjIeV31Cbr7tRfRnDfwQEfO\n7WyHEiSrGqYiNc7968MvfeG5ptjZuykrAl6FrWT3rFSZAE8Zn0zK/JZxxL9tcnw5\nearau8yj6x9nhFQA/i72F2QlwWtWnTdJ76HU6TGu15bR9yJdcklg5iXOoxpbJHJI\niJIOQvzW7D4AKOchIi4mppuyPw1EeeB6W0oqKYZU7uKduDLEkz9NojQg2AjJPipc\nz+UpW1XF7Vbq9qZ00Q4wLROgQW2fZO4CEqOluEPngoptC8+PvMo3/Ch3M/aFg+5g\nA50s9IoDHEjHo1VBH17ZyCoeM8+BdyhXCCoQBF4Fv9fNP7tJKj6bgFwWspfj4k81\nBedFgEwcW5npcD4E2dcvXxLV8neMMHF/DvDU7+G32FsF0pE5V9c=\n=l/vO\n-----END PGP SIGNATURE-----", "payload": "tree 2aaaf80e9f337e9e3e49cf91de99c5db67effd3a\nparent c66cca44c815baf7d4b01d0aa66bf79ee4e3a610\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1575414963 +0100\ncommitter flip1995 <hello@philkrones.com> 1575419641 +0100\n\nRustup to rust-lang/rust#66878\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/98e433d70d32086afb80bd4c20fe769a1c0a38ff", "html_url": "https://github.com/rust-lang/rust/commit/98e433d70d32086afb80bd4c20fe769a1c0a38ff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/98e433d70d32086afb80bd4c20fe769a1c0a38ff/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c66cca44c815baf7d4b01d0aa66bf79ee4e3a610", "url": "https://api.github.com/repos/rust-lang/rust/commits/c66cca44c815baf7d4b01d0aa66bf79ee4e3a610", "html_url": "https://github.com/rust-lang/rust/commit/c66cca44c815baf7d4b01d0aa66bf79ee4e3a610"}], "stats": {"total": 459, "additions": 308, "deletions": 151}, "files": [{"sha": "a35f7b450902657f3b279b6c99f0f80b369655a7", "filename": "clippy_lints/src/approx_const.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fapprox_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fapprox_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fapprox_const.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use std::f64::consts as f64;\n use syntax::ast::{FloatTy, LitFloatType, LitKind};\n use syntax::symbol;"}, {"sha": "d4402469ad70eafe52de378a90f0110e2de3b94b", "filename": "clippy_lints/src/arithmetic.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Farithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Farithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Farithmetic.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::consts::constant_simple;\n use crate::utils::span_lint;\n use rustc::hir;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n declare_clippy_lint! {"}, {"sha": "c2e3871226f29a6664c52c877d22437cad52be89", "filename": "clippy_lints/src/as_conversions.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fas_conversions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fas_conversions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fas_conversions.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,5 +1,6 @@\n+use rustc::declare_lint_pass;\n use rustc::lint::{in_external_macro, EarlyContext, EarlyLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n \n use crate::utils::span_help_and_lint;"}, {"sha": "874fff1f0814fb8a963123b23fcfc338e8f4809f", "filename": "clippy_lints/src/assertions_on_constants.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fassertions_on_constants.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fassertions_on_constants.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fassertions_on_constants.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,9 +2,10 @@ use crate::consts::{constant, Constant};\n use crate::utils::paths;\n use crate::utils::{is_direct_expn_of, is_expn_of, match_function_call, snippet_opt, span_help_and_lint};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n \n declare_clippy_lint! {"}, {"sha": "29dcffc32b7f2c9081f4188836d1ac7b6e12085e", "filename": "clippy_lints/src/assign_ops.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fassign_ops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fassign_ops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fassign_ops.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n use crate::utils::{\n     get_trait_def_id, implements_trait, snippet_opt, span_lint_and_then, trait_ref_of_method, SpanlessEq,"}, {"sha": "5f500fff1a4c3184eb47f54f471f6bcf40e08d20", "filename": "clippy_lints/src/attrs.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fattrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fattrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fattrs.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -6,14 +6,15 @@ use crate::utils::{\n     span_lint_and_then, without_block_comments,\n };\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{\n     in_external_macro, CheckLintNameResult, EarlyContext, EarlyLintPass, LateContext, LateLintPass, LintArray,\n     LintContext, LintPass,\n };\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use semver::Version;\n use syntax::ast::{AttrKind, AttrStyle, Attribute, Lit, LitKind, MetaItemKind, NestedMetaItem};\n use syntax::source_map::Span;"}, {"sha": "e75220908ece164b8345bd8b2f1510ed72a137a2", "filename": "clippy_lints/src/bit_mask.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fbit_mask.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fbit_mask.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fbit_mask.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -3,9 +3,10 @@ use crate::utils::sugg::Sugg;\n use crate::utils::{span_lint, span_lint_and_then};\n use if_chain::if_chain;\n use rustc::hir::*;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n use syntax::source_map::Span;\n "}, {"sha": "d7dafa2a78c9ebf7d16a712b4b756565935aa2e8", "filename": "clippy_lints/src/blacklisted_name.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fblacklisted_name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fblacklisted_name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fblacklisted_name.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::span_lint;\n use rustc::hir::*;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_data_structures::fx::FxHashSet;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for usage of blacklisted names for variables, such"}, {"sha": "1f2158ba05db24bc161e9cbf5da1db42b6d69d94", "filename": "clippy_lints/src/block_in_if_condition.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fblock_in_if_condition.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fblock_in_if_condition.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fblock_in_if_condition.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::*;\n use matches::matches;\n+use rustc::declare_lint_pass;\n use rustc::hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for `if` conditions that use blocks to contain an"}, {"sha": "9518bee326af75d286b042ca68c07054cad77606", "filename": "clippy_lints/src/booleans.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fbooleans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fbooleans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fbooleans.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -3,11 +3,12 @@ use crate::utils::{\n     span_lint_and_then, SpanlessEq,\n };\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::intravisit::*;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n use syntax::source_map::Span;\n "}, {"sha": "4c0a4bdcae12147fccf5212c1738af81e4f83e1e", "filename": "clippy_lints/src/bytecount.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fbytecount.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fbytecount.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fbytecount.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -3,11 +3,12 @@ use crate::utils::{\n     span_lint_and_sugg, walk_ptrs_ty,\n };\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::{Name, UintTy};\n \n declare_clippy_lint! {"}, {"sha": "4fc9c3e60e75b0540aae519bb10f4f4aa73ef9d9", "filename": "clippy_lints/src/cargo_common_metadata.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -3,8 +3,9 @@\n use std::path::PathBuf;\n \n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::{ast::*, source_map::DUMMY_SP};\n \n use cargo_metadata;"}, {"sha": "abd44974fa7b6be5642e43e924e440e9d112f629", "filename": "clippy_lints/src/checked_conversions.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fchecked_conversions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fchecked_conversions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fchecked_conversions.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n //! lint on manually implemented checked conversions that could be transformed into `try_from`\n \n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n \n use crate::utils::{snippet_with_applicability, span_lint_and_sugg, SpanlessEq};"}, {"sha": "9f2e939b07360d13bde6b4e6372653246c9558a0", "filename": "clippy_lints/src/cognitive_complexity.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcognitive_complexity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcognitive_complexity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcognitive_complexity.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,8 +2,9 @@\n \n use rustc::hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc::hir::*;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::Attribute;\n use syntax::source_map::Span;\n "}, {"sha": "0fd0abdc39d2326d5087aa875580cf21f4e134c6", "filename": "clippy_lints/src/collapsible_if.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcollapsible_if.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcollapsible_if.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcollapsible_if.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -13,8 +13,9 @@\n //! This lint is **warn** by default\n \n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast;\n \n use crate::utils::sugg::Sugg;"}, {"sha": "9cbd30542b6bebba37f4bc87066e23be69cd3e28", "filename": "clippy_lints/src/comparison_chain.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcomparison_chain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcomparison_chain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcomparison_chain.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::{\n     get_trait_def_id, if_sequence, implements_trait, parent_node_is_if_expr, paths, span_help_and_lint, SpanlessEq,\n };\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks comparison chains written with `if` that can be"}, {"sha": "0c352e5a60f1e785d6029657853d554730e7ed7a", "filename": "clippy_lints/src/copies.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcopies.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcopies.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcopies.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use crate::utils::{get_parent_expr, higher, if_sequence, same_tys, snippet, span_lint_and_then, span_note_and_lint};\n use crate::utils::{SpanlessEq, SpanlessHash};\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::Ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_data_structures::fx::FxHashMap;\n+use rustc_session::declare_tool_lint;\n use std::collections::hash_map::Entry;\n use std::hash::BuildHasherDefault;\n use syntax::symbol::Symbol;"}, {"sha": "274cf3b419436598533081258d75fb03b83b2d49", "filename": "clippy_lints/src/copy_iterator.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcopy_iterator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fcopy_iterator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcopy_iterator.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::{is_copy, match_path, paths, span_note_and_lint};\n+use rustc::declare_lint_pass;\n use rustc::hir::{Item, ItemKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for types that implement `Copy` as well as"}, {"sha": "48fc601e726cf6ef35c86b8192c3708731b8f2cc", "filename": "clippy_lints/src/dbg_macro.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdbg_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdbg_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdbg_macro.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::{snippet_opt, span_help_and_lint, span_lint_and_sugg};\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast;\n use syntax::source_map::Span;\n use syntax::tokenstream::TokenStream;"}, {"sha": "3fa2ede84717e6ab61f0ceea8d2cb5b7bcf268e3", "filename": "clippy_lints/src/default_trait_access.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdefault_trait_access.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdefault_trait_access.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdefault_trait_access.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n use crate::utils::{any_parent_is_automatically_derived, match_def_path, paths, span_lint_and_sugg};\n "}, {"sha": "0852580e1ca2e57df220404c9f398bd006a6f7e0", "filename": "clippy_lints/src/derive.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fderive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fderive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fderive.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use crate::utils::paths;\n use crate::utils::{is_automatically_derived, is_copy, match_path, span_lint_and_then};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::{self, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n declare_clippy_lint! {"}, {"sha": "0fcc9763d37293d0b7a2aa662c69affb53e19d59", "filename": "clippy_lints/src/doc.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdoc.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,9 +2,10 @@ use crate::utils::span_lint;\n use itertools::Itertools;\n use pulldown_cmark;\n use rustc::hir;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_data_structures::fx::FxHashSet;\n+use rustc_session::declare_tool_lint;\n use std::ops::Range;\n use syntax::ast::{AttrKind, Attribute};\n use syntax::source_map::{BytePos, Span};"}, {"sha": "e7abc3c913847dece0a1ab28f2b04ae799c8c49d", "filename": "clippy_lints/src/double_comparison.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdouble_comparison.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdouble_comparison.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdouble_comparison.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n //! Lint on unnecessary double comparisons. Some examples:\n \n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n use crate::utils::{snippet_with_applicability, span_lint_and_sugg, SpanlessEq};"}, {"sha": "52a5e2a1a49d6c21ed94bb145e0683f2bf892acf", "filename": "clippy_lints/src/double_parens.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdouble_parens.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdouble_parens.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdouble_parens.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,6 +1,7 @@\n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n \n declare_clippy_lint! {"}, {"sha": "50a2a2c8b441c0baaaf5682ae352266035a7226c", "filename": "clippy_lints/src/drop_bounds.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdrop_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdrop_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdrop_bounds.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::{match_def_path, paths, span_lint};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for generics with `std::ops::Drop` as bounds."}, {"sha": "7b049ed5d41fc3210a2c78e80eaae34c54550fb5", "filename": "clippy_lints/src/drop_forget_ref.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdrop_forget_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fdrop_forget_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdrop_forget_ref.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::{is_copy, match_def_path, paths, qpath_res, span_note_and_lint};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for calls to `std::mem::drop` with a reference"}, {"sha": "d5661e6223d69961cf5004354aa4a5c3cb2f7b40", "filename": "clippy_lints/src/duration_subsec.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fduration_subsec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fduration_subsec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fduration_subsec.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Spanned;\n \n use crate::consts::{constant, Constant};"}, {"sha": "9e8ab0b2920b2470e6269f83dece85e8900bd757", "filename": "clippy_lints/src/else_if_without_else.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Felse_if_without_else.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Felse_if_without_else.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Felse_if_without_else.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n //! Lint on if expressions with an else if, but without a final else branch.\n \n+use rustc::declare_lint_pass;\n use rustc::lint::{in_external_macro, EarlyContext, EarlyLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n \n use crate::utils::span_help_and_lint;"}, {"sha": "1d7f18befc018865921b1b7187a4909ddeac423a", "filename": "clippy_lints/src/empty_enum.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fempty_enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fempty_enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fempty_enum.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n //! lint when there is an enum with no variants\n \n use crate::utils::span_lint_and_then;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for `enum`s with no variants."}, {"sha": "4403ef45ca339aa56ebd224792749fc29e85bdc1", "filename": "clippy_lints/src/entry.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fentry.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fentry.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fentry.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,11 +2,12 @@ use crate::utils::SpanlessEq;\n use crate::utils::{get_item_name, higher, match_type, paths, snippet, snippet_opt};\n use crate::utils::{snippet_with_applicability, span_lint_and_then, walk_ptrs_ty};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n declare_clippy_lint! {"}, {"sha": "c4b368a6e2e8054ba32292d6ec373696142f2c8e", "filename": "clippy_lints/src/enum_clike.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fenum_clike.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fenum_clike.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fenum_clike.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -3,13 +3,14 @@\n \n use crate::consts::{miri_to_const, Constant};\n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::mir::interpret::GlobalId;\n use rustc::ty;\n use rustc::ty::subst::InternalSubsts;\n use rustc::ty::util::IntTypeExt;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use std::convert::TryFrom;\n use syntax::ast::{IntTy, UintTy};\n "}, {"sha": "549518d3cdeefec845306676638fdfa1f00adf37", "filename": "clippy_lints/src/enum_glob_use.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fenum_glob_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fenum_glob_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fenum_glob_use.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n //! lint on `use`ing all variants of an enum\n \n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::hir::def::{DefKind, Res};\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n declare_clippy_lint! {"}, {"sha": "46c8bbd953cd2fff8c4eef5121fff04ee75cb3b0", "filename": "clippy_lints/src/enum_variants.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fenum_variants.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fenum_variants.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fenum_variants.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,8 +2,9 @@\n \n use crate::utils::{camel_case, is_present_in_source};\n use crate::utils::{span_help_and_lint, span_lint};\n+use rustc::impl_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, Lint, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n use syntax::source_map::Span;\n use syntax::symbol::Symbol;"}, {"sha": "392fb0a6bf44ffff529bdefe2a15f458f2cc83b7", "filename": "clippy_lints/src/eq_op.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Feq_op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Feq_op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feq_op.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::{implements_trait, is_copy, multispan_sugg, snippet, span_lint, span_lint_and_then, SpanlessEq};\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for equal operands to comparison, logical and"}, {"sha": "4fa0a232e232a7048e06c0774963b48b7f5d45dc", "filename": "clippy_lints/src/erasing_op.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ferasing_op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ferasing_op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ferasing_op.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,6 +1,7 @@\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n use crate::consts::{constant_simple, Constant};"}, {"sha": "8554b879b86d3d622ac67a47d4aefbccc8c5d7e1", "filename": "clippy_lints/src/escape.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fescape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fescape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fescape.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use rustc::hir::intravisit as visit;\n use rustc::hir::{self, *};\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::layout::LayoutOf;\n use rustc::ty::{self, Ty};\n use rustc::util::nodemap::HirIdSet;\n-use rustc::{declare_tool_lint, impl_lint_pass};\n+use rustc_session::declare_tool_lint;\n use rustc_typeck::expr_use_visitor::*;\n use syntax::source_map::Span;\n "}, {"sha": "54fdde67dec4cea6a16484572d3e7abb10c1a426", "filename": "clippy_lints/src/eta_reduction.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Feta_reduction.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Feta_reduction.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feta_reduction.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use if_chain::if_chain;\n use matches::matches;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::ty::{self, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n use crate::utils::{\n     implements_trait, is_adjusted, iter_input_pats, snippet_opt, span_lint_and_then, type_is_unsafe_function,"}, {"sha": "7967d99d104aac2f98269e435f3406d082b13ef9", "filename": "clippy_lints/src/eval_order_dependence.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Feval_order_dependence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Feval_order_dependence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feval_order_dependence.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use crate::utils::{get_parent_expr, span_lint, span_note_and_lint};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for a read and a write to the same variable where"}, {"sha": "633cd2de8fc54e77a3bb756e566fe8b90cb98244", "filename": "clippy_lints/src/excessive_precision.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fexcessive_precision.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fexcessive_precision.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fexcessive_precision.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,11 +1,12 @@\n use crate::utils::span_lint_and_sugg;\n use crate::utils::sugg::format_numeric_literal;\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use std::f32;\n use std::f64;\n use std::fmt;"}, {"sha": "42139f1c7b898118892319d5c6f16dad243e2105", "filename": "clippy_lints/src/exit.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fexit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fexit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fexit.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::{is_entrypoint_fn, match_def_path, paths, qpath_res, span_lint};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::{Expr, ExprKind, Item, ItemKind, Node};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** `exit()`  terminates the program and doesn't provide a"}, {"sha": "9ebda4f1184ae3f854309f8836fa4a42741efd44", "filename": "clippy_lints/src/explicit_write.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fexplicit_write.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fexplicit_write.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fexplicit_write.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::{is_expn_of, match_function_call, paths, span_lint, span_lint_and_sugg};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n \n declare_clippy_lint! {"}, {"sha": "329e5cd1f45d04b197ac2b45c170ca1d3a4e8914", "filename": "clippy_lints/src/fallible_impl_from.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ffallible_impl_from.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ffallible_impl_from.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffallible_impl_from.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use crate::utils::paths::{BEGIN_PANIC, BEGIN_PANIC_FMT, FROM_TRAIT, OPTION, RESULT};\n use crate::utils::{is_expn_of, match_def_path, method_chain_args, span_lint_and_then, walk_ptrs_ty};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::{self, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax_pos::Span;\n \n declare_clippy_lint! {"}, {"sha": "052684818fc15a8e53e5a3985f707666e0748f27", "filename": "clippy_lints/src/format.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fformat.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -4,10 +4,11 @@ use crate::utils::{\n     walk_ptrs_ty,\n };\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n use syntax::source_map::Span;\n "}, {"sha": "b8f25ea1318479b8af7bcf58f9ded3e14846b101", "filename": "clippy_lints/src/formatting.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fformatting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fformatting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fformatting.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::{differing_macro_contexts, snippet_opt, span_help_and_lint, span_note_and_lint};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::lint::{in_external_macro, EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n \n declare_clippy_lint! {"}, {"sha": "f2ac83139d119c07a930f661f80e035f5f88ddfd", "filename": "clippy_lints/src/functions.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ffunctions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ffunctions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffunctions.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -4,11 +4,12 @@ use crate::utils::{\n };\n use matches::matches;\n use rustc::hir::{self, def::Res, def_id::DefId, intravisit};\n+use rustc::impl_lint_pass;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::ty::{self, Ty};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_data_structures::fx::FxHashSet;\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use rustc_target::spec::abi::Abi;\n use syntax::ast::Attribute;\n use syntax::source_map::Span;"}, {"sha": "3d38d2db662dc65653f92527970d0cdf0096ef2c", "filename": "clippy_lints/src/get_last_with_len.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fget_last_with_len.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fget_last_with_len.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fget_last_with_len.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,10 +2,11 @@\n \n use crate::utils::{is_type_diagnostic_item, snippet_with_applicability, span_lint_and_sugg, SpanlessEq};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::{BinOpKind, Expr, ExprKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n use syntax::source_map::Spanned;\n use syntax::symbol::Symbol;"}, {"sha": "c37bb02708f0b55c851e3741d0fcad7db6f78448", "filename": "clippy_lints/src/identity_conversion.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fidentity_conversion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fidentity_conversion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fidentity_conversion.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,9 +2,10 @@ use crate::utils::{\n     match_def_path, match_trait_method, paths, same_tys, snippet, snippet_with_macro_callsite, span_lint_and_then,\n };\n use rustc::hir::*;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for always-identical `Into`/`From`/`IntoIter` conversions."}, {"sha": "a4575c2c38fa2a37176b42f545351902bead4419", "filename": "clippy_lints/src/identity_op.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fidentity_op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fidentity_op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fidentity_op.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n use crate::consts::{constant_simple, Constant};"}, {"sha": "7019cfa8cc8f120715eeb8060dbe223456ca5143", "filename": "clippy_lints/src/if_not_else.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fif_not_else.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fif_not_else.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fif_not_else.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n //! lint on if branches that could be swapped so no `!` operation is necessary\n //! on the condition\n \n+use rustc::declare_lint_pass;\n use rustc::lint::{in_external_macro, EarlyContext, EarlyLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n \n use crate::utils::span_help_and_lint;"}, {"sha": "b926526e7758c7e718822573c4ca4c0748ece02e", "filename": "clippy_lints/src/implicit_return.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fimplicit_return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fimplicit_return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fimplicit_return.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -5,11 +5,12 @@ use crate::utils::{\n };\n use if_chain::if_chain;\n use rustc::{\n-    declare_lint_pass, declare_tool_lint,\n+    declare_lint_pass,\n     hir::{intravisit::FnKind, Body, Expr, ExprKind, FnDecl, HirId, MatchSource, StmtKind},\n     lint::{LateContext, LateLintPass, LintArray, LintPass},\n };\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n declare_clippy_lint! {"}, {"sha": "1d42158b42c1276091241061818052558aabee0f", "filename": "clippy_lints/src/indexing_slicing.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Findexing_slicing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Findexing_slicing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Findexing_slicing.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -4,10 +4,11 @@ use crate::consts::{constant, Constant};\n use crate::utils;\n use crate::utils::higher;\n use crate::utils::higher::Range;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::RangeLimits;\n \n declare_clippy_lint! {"}, {"sha": "a9539534ea9cdd6852ca2cc4715fe67ab1ba2cce", "filename": "clippy_lints/src/infallible_destructuring_match.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finfallible_destructuring_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finfallible_destructuring_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finfallible_destructuring_match.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use super::utils::{get_arg_name, match_var, remove_blocks, snippet_with_applicability, span_lint_and_sugg};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for matches being used to destructure a single-variant enum"}, {"sha": "b8d50e4ef00905712c2973445116de232f2ea929", "filename": "clippy_lints/src/infinite_iter.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finfinite_iter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finfinite_iter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finfinite_iter.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,6 +1,7 @@\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n use crate::utils::{get_trait_def_id, higher, implements_trait, match_qpath, match_type, paths, span_lint};\n "}, {"sha": "91d0f491510e021ee4062766e13c8413ca6bf185", "filename": "clippy_lints/src/inherent_impl.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finherent_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finherent_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finherent_impl.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,9 +2,10 @@\n \n use crate::utils::{in_macro, span_lint_and_then};\n use rustc::hir::*;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_data_structures::fx::FxHashMap;\n+use rustc_session::declare_tool_lint;\n use syntax_pos::Span;\n \n declare_clippy_lint! {"}, {"sha": "d1ed6f3bbc41038e4bf9207783aae1da5608ae68", "filename": "clippy_lints/src/inherent_to_string.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finherent_to_string.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finherent_to_string.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finherent_to_string.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::{ImplItem, ImplItemKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n use crate::utils::{\n     get_trait_def_id, implements_trait, match_type, paths, return_ty, span_help_and_lint, trait_ref_of_method,"}, {"sha": "0e8531e6d772b39e3a6d090d95fbedc57f703dcc", "filename": "clippy_lints/src/inline_fn_without_body.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finline_fn_without_body.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finline_fn_without_body.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finline_fn_without_body.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,10 +2,11 @@\n \n use crate::utils::span_lint_and_then;\n use crate::utils::sugg::DiagnosticBuilderExt;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::{Attribute, Name};\n \n declare_clippy_lint! {"}, {"sha": "9a039929e67bcbf757465de445063423d6da8acb", "filename": "clippy_lints/src/int_plus_one.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fint_plus_one.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fint_plus_one.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fint_plus_one.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n //! lint on blocks unnecessarily using >= with a + 1 or - 1\n \n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n \n use crate::utils::{snippet_opt, span_lint_and_then};"}, {"sha": "4964fc6b4e306a2e8c1af74b3659d62b7afb156f", "filename": "clippy_lints/src/integer_division.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finteger_division.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Finteger_division.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finteger_division.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::span_help_and_lint;\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for division of integers"}, {"sha": "06ed5e29c85fe891e80badcc1f76fd956a3238d4", "filename": "clippy_lints/src/items_after_statements.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fitems_after_statements.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fitems_after_statements.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fitems_after_statements.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,8 +2,9 @@\n \n use crate::utils::span_lint;\n use matches::matches;\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n \n declare_clippy_lint! {"}, {"sha": "cfc4857d62784a4598f7cdf1cb1144ba000776a5", "filename": "clippy_lints/src/large_enum_variant.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flarge_enum_variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flarge_enum_variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_enum_variant.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,10 +2,11 @@\n \n use crate::utils::{snippet_opt, span_lint_and_then};\n use rustc::hir::*;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::layout::LayoutOf;\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for large size differences between variants on"}, {"sha": "4cfa50b3ff394dc6a1f71e6da0e23b81e57b87d4", "filename": "clippy_lints/src/large_stack_arrays.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flarge_stack_arrays.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flarge_stack_arrays.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_stack_arrays.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use rustc::hir::*;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::mir::interpret::ConstValue;\n use rustc::ty::{self, ConstKind};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n+use rustc_session::declare_tool_lint;\n \n use if_chain::if_chain;\n "}, {"sha": "3081fc856c50668cb39cdf2d5b15fd517c93e1e8", "filename": "clippy_lints/src/len_zero.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flen_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flen_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flen_zero.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,11 +1,12 @@\n use crate::utils::{get_item_name, snippet_with_applicability, span_lint, span_lint_and_sugg, walk_ptrs_ty};\n+use rustc::declare_lint_pass;\n use rustc::hir::def_id::DefId;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_data_structures::fx::FxHashSet;\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::{LitKind, Name};\n use syntax::source_map::{Span, Spanned};\n "}, {"sha": "a7dae9497db4b2e4664f78156e929104cf06cc01", "filename": "clippy_lints/src/let_if_seq.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flet_if_seq.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flet_if_seq.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flet_if_seq.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,11 +1,12 @@\n use crate::utils::{higher, qpath_res, snippet, span_lint_and_then};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::def::Res;\n use rustc::hir::BindingAnnotation;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for variable declarations immediately followed by a"}, {"sha": "432a38a11a5b38a6bd22882411ca30c6742b9858", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -35,6 +35,8 @@ extern crate rustc_mir;\n #[allow(unused_extern_crates)]\n extern crate rustc_parse;\n #[allow(unused_extern_crates)]\n+extern crate rustc_session;\n+#[allow(unused_extern_crates)]\n extern crate rustc_target;\n #[allow(unused_extern_crates)]\n extern crate rustc_typeck;\n@@ -69,9 +71,11 @@ use toml;\n /// # #![feature(rustc_private)]\n /// # #[allow(unused_extern_crates)]\n /// # extern crate rustc;\n+/// # #[allow(unused_extern_crates)]\n+/// # extern crate rustc_session;\n /// # #[macro_use]\n /// # use clippy_lints::declare_clippy_lint;\n-/// use rustc::declare_tool_lint;\n+/// use rustc_session::declare_tool_lint;\n ///\n /// declare_clippy_lint! {\n ///     /// **What it does:** Checks for ... (describe what the lint matches)."}, {"sha": "012030472991216cda4160d2a5d046f28638badc", "filename": "clippy_lints/src/lifetimes.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flifetimes.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use matches::matches;\n+use rustc::declare_lint_pass;\n use rustc::hir::def::{DefKind, Res};\n use rustc::hir::intravisit::*;\n use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n use syntax::symbol::kw;\n "}, {"sha": "24f40a161be3450b0fb6e1db99177ea32084a565", "filename": "clippy_lints/src/literal_representation.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fliteral_representation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fliteral_representation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fliteral_representation.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -4,8 +4,9 @@\n use crate::utils::{in_macro, snippet_opt, span_lint_and_sugg};\n use if_chain::if_chain;\n use rustc::lint::{in_external_macro, EarlyContext, EarlyLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint, impl_lint_pass};\n+use rustc::{declare_lint_pass, impl_lint_pass};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n use syntax_pos;\n "}, {"sha": "740605c9e366378b1708617907c63a8c5936c1af", "filename": "clippy_lints/src/loops.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Floops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Floops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,13 +1,14 @@\n use crate::reexport::*;\n use if_chain::if_chain;\n use itertools::Itertools;\n+use rustc::declare_lint_pass;\n use rustc::hir::def::{DefKind, Res};\n use rustc::hir::def_id;\n use rustc::hir::intravisit::{walk_block, walk_expr, walk_pat, walk_stmt, NestedVisitorMap, Visitor};\n use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::middle::region;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n // use rustc::middle::region::CodeExtent;\n use crate::consts::{constant, Constant};\n use crate::utils::usage::mutated_variables;"}, {"sha": "fa27890eafb66a681006c3828fd8c06a5b0c2cf3", "filename": "clippy_lints/src/main_recursion.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmain_recursion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmain_recursion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmain_recursion.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,6 +1,7 @@\n use rustc::hir::{Crate, Expr, ExprKind, QPath};\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::AttrKind;\n use syntax::symbol::sym;\n "}, {"sha": "1f3954d569a2cf6d1cc04d136c49d7a27476c63f", "filename": "clippy_lints/src/map_clone.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmap_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmap_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmap_clone.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -3,11 +3,12 @@ use crate::utils::{\n     is_copy, match_trait_method, match_type, remove_blocks, snippet_with_applicability, span_lint_and_sugg,\n };\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::Ident;\n use syntax::source_map::Span;\n "}, {"sha": "83dd1180e762481fc5962058aa5fee5ca0ce1665", "filename": "clippy_lints/src/map_unit_fn.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmap_unit_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmap_unit_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmap_unit_fn.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,11 +1,12 @@\n use crate::utils::paths;\n use crate::utils::{iter_input_pats, match_type, method_chain_args, snippet, span_lint_and_then};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::{self, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n declare_clippy_lint! {"}, {"sha": "75f867471a389f6af03cb520da6b4cad4065b10c", "filename": "clippy_lints/src/matches.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmatches.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmatches.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatches.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -6,12 +6,13 @@ use crate::utils::{\n     snippet_with_applicability, span_lint_and_sugg, span_lint_and_then, span_note_and_lint, walk_ptrs_ty,\n };\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::def::CtorKind;\n use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::ty::{self, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use std::cmp::Ordering;\n use std::collections::Bound;\n use syntax::ast::LitKind;"}, {"sha": "989c254fe556a35fc1a091fe58fe17fbd06a1f52", "filename": "clippy_lints/src/mem_discriminant.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmem_discriminant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmem_discriminant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmem_discriminant.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::{match_def_path, paths, snippet, span_lint_and_then, walk_ptrs_ty_depth};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::{BorrowKind, Expr, ExprKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n use std::iter;\n "}, {"sha": "fc3c5ab5dc869be0eeee63af63db030751c5574a", "filename": "clippy_lints/src/mem_forget.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmem_forget.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmem_forget.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmem_forget.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::{match_def_path, paths, qpath_res, span_lint};\n+use rustc::declare_lint_pass;\n use rustc::hir::{Expr, ExprKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for usage of `std::mem::forget(t)` where `t` is"}, {"sha": "71a7b010515e3fd2b17871ddcf17515cfdd76041", "filename": "clippy_lints/src/mem_replace.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmem_replace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmem_replace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmem_replace.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,10 +2,11 @@ use crate::utils::{\n     match_def_path, match_qpath, paths, snippet_with_applicability, span_help_and_lint, span_lint_and_sugg,\n };\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::{BorrowKind, Expr, ExprKind, Mutability, QPath};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for `mem::replace()` on an `Option` with"}, {"sha": "ca62e7ea9d2b336ad1a04126a6a6f0e70ae899f5", "filename": "clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -9,12 +9,13 @@ use std::iter;\n \n use if_chain::if_chain;\n use matches::matches;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::intravisit::{self, Visitor};\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, Lint, LintArray, LintContext, LintPass};\n use rustc::ty::{self, Predicate, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast;\n use syntax::source_map::Span;\n use syntax::symbol::{sym, Symbol, SymbolStr};"}, {"sha": "7e2ec8f498bdddb4c6ccd1ab6dcf1e4d29a5979d", "filename": "clippy_lints/src/minmax.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fminmax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fminmax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fminmax.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::consts::{constant_simple, Constant};\n use crate::utils::{match_def_path, paths, span_lint};\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use std::cmp::Ordering;\n \n declare_clippy_lint! {"}, {"sha": "07a9d4b3325bddd9c5be55a9301fe577ea17e30b", "filename": "clippy_lints/src/misc.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmisc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmisc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmisc.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,11 +1,12 @@\n use if_chain::if_chain;\n use matches::matches;\n+use rustc::declare_lint_pass;\n use rustc::hir::intravisit::FnKind;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n use syntax::source_map::{ExpnKind, Span};\n "}, {"sha": "7f70de01daaacbbd7970640e29a4cbf981c421b5", "filename": "clippy_lints/src/misc_early.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmisc_early.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmisc_early.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmisc_early.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -3,10 +3,11 @@ use crate::utils::{\n     span_lint_and_then,\n };\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::lint::{in_external_macro, EarlyContext, EarlyLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_data_structures::fx::FxHashMap;\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n use syntax::source_map::Span;\n use syntax::visit::{walk_expr, FnKind, Visitor};"}, {"sha": "be7df2670a9ed3c4ff7fd8550a99cfc3d9a5c1fd", "filename": "clippy_lints/src/missing_const_for_fn.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmissing_const_for_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmissing_const_for_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmissing_const_for_fn.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use crate::utils::{has_drop, is_entrypoint_fn, span_lint, trait_ref_of_method};\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::intravisit::FnKind;\n use rustc::hir::{Body, Constness, FnDecl, HirId, HirVec};\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_mir::transform::qualify_min_const_fn::is_min_const_fn;\n+use rustc_session::declare_tool_lint;\n use rustc_typeck::hir_ty_to_ty;\n use syntax_pos::Span;\n "}, {"sha": "a61034ce0d2a70a961fc676f88694077679ffc1f", "filename": "clippy_lints/src/missing_doc.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmissing_doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmissing_doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmissing_doc.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -8,9 +8,10 @@\n use crate::utils::span_lint;\n use if_chain::if_chain;\n use rustc::hir;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::ty;\n-use rustc::{declare_tool_lint, impl_lint_pass};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::{self, MetaItem, MetaItemKind};\n use syntax::attr;\n use syntax::source_map::Span;"}, {"sha": "9eee8bc1081a366f733bc31c35136933e5b9bc48", "filename": "clippy_lints/src/missing_inline.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmissing_inline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmissing_inline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmissing_inline.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::lint::{self, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast;\n use syntax::source_map::Span;\n "}, {"sha": "e6a68ac5c5a98780fe60f5eb96978062efbf06c9", "filename": "clippy_lints/src/mul_add.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmul_add.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmul_add.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmul_add.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n use crate::utils::*;\n "}, {"sha": "db22631104daeace08294a1627d9f5ad3ff9c2f4", "filename": "clippy_lints/src/multiple_crate_versions.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n //! lint on multiple versions of a crate being used\n \n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::{ast::*, source_map::DUMMY_SP};\n \n use cargo_metadata;"}, {"sha": "7be792918a4d360d8724fbb8fc7b71b3a6b1ce13", "filename": "clippy_lints/src/mut_mut.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmut_mut.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmut_mut.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmut_mut.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::{higher, span_lint};\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::intravisit;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for instances of `mut mut` references."}, {"sha": "326725e635dea131af50a698f8c56a0a3e48cc04", "filename": "clippy_lints/src/mut_reference.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmut_reference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmut_reference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmut_reference.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::subst::Subst;\n use rustc::ty::{self, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Detects giving a mutable reference to a function that only"}, {"sha": "51180300e62cd4d0f25f1c23ef285a3e285c086f", "filename": "clippy_lints/src/mutable_debug_assertion.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmutable_debug_assertion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmutable_debug_assertion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmutable_debug_assertion.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -4,7 +4,8 @@ use matches::matches;\n use rustc::hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc::hir::{BorrowKind, Expr, ExprKind, Mutability, StmtKind, UnOp};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint, ty};\n+use rustc::{declare_lint_pass, ty};\n+use rustc_session::declare_tool_lint;\n use syntax_pos::Span;\n \n declare_clippy_lint! {"}, {"sha": "89865bbaa99e29138d8604c3933853e22c9a2da6", "filename": "clippy_lints/src/mutex_atomic.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmutex_atomic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fmutex_atomic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmutex_atomic.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -3,10 +3,11 @@\n //! This lint is **warn** by default\n \n use crate::utils::{match_type, paths, span_lint};\n+use rustc::declare_lint_pass;\n use rustc::hir::Expr;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::{self, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast;\n \n declare_clippy_lint! {"}, {"sha": "7e8540ffd3592674225d52aacf05c9511b9779d4", "filename": "clippy_lints/src/needless_bool.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_bool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_bool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_bool.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -4,10 +4,11 @@\n \n use crate::utils::sugg::Sugg;\n use crate::utils::{higher, parent_node_is_if_expr, span_lint, span_lint_and_sugg};\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n use syntax::source_map::Spanned;\n "}, {"sha": "b2ac953021c4d61973e50f946b1d30d549a5cc96", "filename": "clippy_lints/src/needless_borrow.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_borrow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_borrow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_borrow.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -5,11 +5,12 @@\n use crate::utils::{snippet_opt, span_lint_and_then};\n use if_chain::if_chain;\n use rustc::hir::{BindingAnnotation, BorrowKind, Expr, ExprKind, HirId, Item, Mutability, Pat, PatKind};\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n use rustc::ty::adjustment::{Adjust, Adjustment};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for address of operations (`&`) that are going to"}, {"sha": "845e5d6425708bea048545dc21b66f15daf9b92c", "filename": "clippy_lints/src/needless_borrowed_ref.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -4,10 +4,11 @@\n \n use crate::utils::{snippet_with_applicability, span_lint_and_then};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::{BindingAnnotation, Mutability, Node, Pat, PatKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for useless borrowed references."}, {"sha": "537c2d65934c4c55533b94fa7a9e55eef8c62060", "filename": "clippy_lints/src/needless_continue.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_continue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_continue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_continue.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -33,8 +33,9 @@\n //! ```\n //!\n //! This lint is **warn** by default.\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use std::borrow::Cow;\n use syntax::ast;\n use syntax::source_map::{original_sp, DUMMY_SP};"}, {"sha": "f532f6fbec88abf6f27f983673d6fa05eb7f0876", "filename": "clippy_lints/src/needless_pass_by_value.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -5,14 +5,15 @@ use crate::utils::{\n };\n use if_chain::if_chain;\n use matches::matches;\n+use rustc::declare_lint_pass;\n use rustc::hir::intravisit::FnKind;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::traits;\n use rustc::ty::{self, RegionKind, TypeFoldable};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use rustc_target::spec::abi::Abi;\n use rustc_typeck::expr_use_visitor as euv;\n use std::borrow::Cow;"}, {"sha": "77483bc128082210d825837a18202feed7be9a4e", "filename": "clippy_lints/src/needless_update.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_update.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneedless_update.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_update.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::hir::{Expr, ExprKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for needlessly including a base struct on update"}, {"sha": "432d2552f2fee43e668305f90da3bb6541bf5a4e", "filename": "clippy_lints/src/neg_cmp_op_on_partial_ord.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneg_cmp_op_on_partial_ord.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneg_cmp_op_on_partial_ord.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneg_cmp_op_on_partial_ord.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n use crate::utils::{self, paths, span_lint};\n "}, {"sha": "6b76479ceddb60475395ee3117db3ea62c053186", "filename": "clippy_lints/src/neg_multiply.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneg_multiply.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fneg_multiply.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneg_multiply.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n use crate::consts::{self, Constant};"}, {"sha": "7e7d31b2b293f3483cb98696a442118619768272", "filename": "clippy_lints/src/new_without_default.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fnew_without_default.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fnew_without_default.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnew_without_default.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -4,11 +4,12 @@ use crate::utils::{get_trait_def_id, implements_trait, return_ty, same_tys, span\n use if_chain::if_chain;\n use rustc::hir;\n use rustc::hir::def_id::DefId;\n+use rustc::impl_lint_pass;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::ty::{self, Ty};\n use rustc::util::nodemap::HirIdSet;\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n declare_clippy_lint! {"}, {"sha": "8ce4f1a78b0b8bee4468846071dffdadaea7e301", "filename": "clippy_lints/src/no_effect.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fno_effect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fno_effect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fno_effect.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::{has_drop, qpath_res, snippet_opt, span_lint, span_lint_and_sugg};\n+use rustc::declare_lint_pass;\n use rustc::hir::def::{DefKind, Res};\n use rustc::hir::{BinOpKind, BlockCheckMode, Expr, ExprKind, Stmt, StmtKind, UnsafeSource};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use std::ops::Deref;\n \n declare_clippy_lint! {"}, {"sha": "d8469303e7abf49e02ddcf1ad8bd423a5f359add", "filename": "clippy_lints/src/non_copy_const.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fnon_copy_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fnon_copy_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnon_copy_const.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -4,12 +4,13 @@\n \n use std::ptr;\n \n+use rustc::declare_lint_pass;\n use rustc::hir::def::{DefKind, Res};\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, Lint, LintArray, LintPass};\n use rustc::ty::adjustment::Adjust;\n use rustc::ty::{Ty, TypeFlags};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use rustc_typeck::hir_ty_to_ty;\n use syntax_pos::{InnerSpan, Span, DUMMY_SP};\n "}, {"sha": "d2835ba986fb9a9ecdea007443c25b3504d55ceb", "filename": "clippy_lints/src/non_expressive_names.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnon_expressive_names.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,6 +1,7 @@\n use crate::utils::{span_lint, span_lint_and_then};\n+use rustc::impl_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n+use rustc_session::declare_tool_lint;\n use std::cmp::Ordering;\n use syntax::ast::*;\n use syntax::attr;"}, {"sha": "6a9c7288f6920d817906da671da52853add5865f", "filename": "clippy_lints/src/ok_if_let.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fok_if_let.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fok_if_let.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fok_if_let.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::{match_type, method_chain_args, paths, snippet, span_help_and_lint};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:*** Checks for unnecessary `ok()` in if let."}, {"sha": "03261cdd7138b9f996d6a01d912dce2583b52153", "filename": "clippy_lints/src/open_options.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fopen_options.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fopen_options.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fopen_options.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::{match_type, paths, span_lint, walk_ptrs_ty};\n+use rustc::declare_lint_pass;\n use rustc::hir::{Expr, ExprKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n use syntax::source_map::{Span, Spanned};\n "}, {"sha": "749d0e97975f049ab26b353a2771130a85a4d4cf", "filename": "clippy_lints/src/overflow_check_conditional.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Foverflow_check_conditional.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Foverflow_check_conditional.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Foverflow_check_conditional.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::{span_lint, SpanlessEq};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Detects classic underflow/overflow checks."}, {"sha": "cb6d92534ee22926318d724f295056b778c736f5", "filename": "clippy_lints/src/panic_unimplemented.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fpanic_unimplemented.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fpanic_unimplemented.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpanic_unimplemented.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::{is_direct_expn_of, is_expn_of, match_function_call, paths, span_lint};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n use syntax_pos::Span;\n "}, {"sha": "a78c27fb785b1c1fd5c2890f18652a8ecdaf39b1", "filename": "clippy_lints/src/partialeq_ne_impl.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fpartialeq_ne_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fpartialeq_ne_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpartialeq_ne_impl.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::{is_automatically_derived, span_lint_hir};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for manual re-implementations of `PartialEq::ne`."}, {"sha": "4c7d2eedda26d69fdfc3c8e838a4fb5fb71bf5d0", "filename": "clippy_lints/src/path_buf_push_overwrite.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fpath_buf_push_overwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fpath_buf_push_overwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpath_buf_push_overwrite.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::{match_type, paths, span_lint_and_sugg, walk_ptrs_ty};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use std::path::{Component, Path};\n use syntax::ast::LitKind;\n "}, {"sha": "f259f9fb071e04ba76c7579c74c5b6292c245cc7", "filename": "clippy_lints/src/precedence.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fprecedence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fprecedence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fprecedence.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::{snippet_with_applicability, span_lint_and_sugg};\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n use syntax::source_map::Spanned;\n "}, {"sha": "2043aa8382f0f863e687896343794eec92b54518", "filename": "clippy_lints/src/ptr.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fptr.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -6,12 +6,13 @@ use crate::utils::{\n     walk_ptrs_hir_ty,\n };\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::QPath;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use std::borrow::Cow;\n use syntax::source_map::Span;\n use syntax_pos::{MultiSpan, Symbol};"}, {"sha": "f454e5ac2c35f30f35fd7789bd37d1cc93d326d9", "filename": "clippy_lints/src/ptr_offset_with_cast.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fptr_offset_with_cast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fptr_offset_with_cast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fptr_offset_with_cast.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils;\n+use rustc::declare_lint_pass;\n use rustc::hir::{Expr, ExprKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use std::fmt;\n \n declare_clippy_lint! {"}, {"sha": "ccd3208912ab3c83e453d7495c5478fa4ff54829", "filename": "clippy_lints/src/question_mark.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fquestion_mark.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fquestion_mark.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fquestion_mark.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::def::{DefKind, Res};\n use rustc::hir::ptr::P;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n use crate::utils::paths::*;\n use crate::utils::sugg::Sugg;"}, {"sha": "b2db5f9365d044467a299d8b4d4c21bdd86d0f98", "filename": "clippy_lints/src/ranges.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Franges.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Franges.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Franges.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::RangeLimits;\n use syntax::source_map::Spanned;\n "}, {"sha": "6ed3c0734d91f90e88130cf3a5f2b934374d84aa", "filename": "clippy_lints/src/redundant_clone.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fredundant_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fredundant_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_clone.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -4,6 +4,7 @@ use crate::utils::{\n };\n use if_chain::if_chain;\n use matches::matches;\n+use rustc::declare_lint_pass;\n use rustc::hir::intravisit::FnKind;\n use rustc::hir::{def_id, Body, FnDecl, HirId};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n@@ -12,13 +13,13 @@ use rustc::mir::{\n     visit::{MutatingUseContext, PlaceContext, Visitor as _},\n };\n use rustc::ty::{self, fold::TypeVisitor, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_data_structures::{fx::FxHashMap, transitive_relation::TransitiveRelation};\n use rustc_errors::Applicability;\n use rustc_index::bit_set::{BitSet, HybridBitSet};\n use rustc_mir::dataflow::{\n     do_dataflow, BitDenotation, BottomValue, DataflowResults, DataflowResultsCursor, DebugFormatted, GenKillSet,\n };\n+use rustc_session::declare_tool_lint;\n use std::convert::TryFrom;\n use syntax::source_map::{BytePos, Span};\n "}, {"sha": "46010af1c091e23263365bbd74b0b2604af78403", "filename": "clippy_lints/src/redundant_field_names.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fredundant_field_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fredundant_field_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_field_names.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::span_lint_and_sugg;\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n \n declare_clippy_lint! {"}, {"sha": "e36237ab239ef04108d9fd7805b6f93a34456317", "filename": "clippy_lints/src/redundant_pattern_matching.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fredundant_pattern_matching.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fredundant_pattern_matching.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_pattern_matching.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::{match_qpath, paths, snippet, span_lint_and_then};\n+use rustc::declare_lint_pass;\n use rustc::hir::ptr::P;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n \n declare_clippy_lint! {"}, {"sha": "18bf3ed216a8d46dc6f50d2574cff5b395667c62", "filename": "clippy_lints/src/redundant_static_lifetimes.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fredundant_static_lifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fredundant_static_lifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_static_lifetimes.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::{snippet, span_lint_and_then};\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n \n declare_clippy_lint! {"}, {"sha": "6bb4236b043553da5f4a413d88bda4d6c1f0bf9f", "filename": "clippy_lints/src/reference.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Freference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Freference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Freference.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::{in_macro, snippet_with_applicability, span_lint_and_sugg};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::{Expr, ExprKind, UnOp};\n \n declare_clippy_lint! {"}, {"sha": "6f7d60b0dd5772cfa91d449a3716da48d0093f30", "filename": "clippy_lints/src/regex.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fregex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fregex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fregex.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -3,9 +3,10 @@ use crate::utils::{is_expn_of, match_def_path, match_type, paths, span_help_and_\n use if_chain::if_chain;\n use regex_syntax;\n use rustc::hir::*;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_data_structures::fx::FxHashSet;\n+use rustc_session::declare_tool_lint;\n use std::convert::TryFrom;\n use syntax::ast::{LitKind, StrStyle};\n use syntax::source_map::{BytePos, Span};"}, {"sha": "3cca42ce03fa8d88bc399d246cb384442b33b105", "filename": "clippy_lints/src/replace_consts.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Freplace_consts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Freplace_consts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Freplace_consts.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use crate::utils::{match_def_path, span_lint_and_sugg};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::def::{DefKind, Res};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for usage of `ATOMIC_X_INIT`, `ONCE_INIT`, and"}, {"sha": "c3afa156017d21dce3803aa2c0f61d6db568e434", "filename": "clippy_lints/src/returns.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Freturns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Freturns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Freturns.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::lint::{in_external_macro, EarlyContext, EarlyLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast;\n use syntax::source_map::Span;\n use syntax::visit::FnKind;"}, {"sha": "5fb517abc31136e9be721ff69d6f9774e51d546a", "filename": "clippy_lints/src/serde_api.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fserde_api.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fserde_api.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fserde_api.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::{get_trait_def_id, paths, span_lint};\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for mis-uses of the serde API."}, {"sha": "5d2767d849dd5d6f643a0caf0f48a9a8e23a379f", "filename": "clippy_lints/src/shadow.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fshadow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fshadow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fshadow.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use crate::reexport::*;\n use crate::utils::{contains_name, higher, iter_input_pats, snippet, span_lint_and_then};\n+use rustc::declare_lint_pass;\n use rustc::hir::intravisit::FnKind;\n use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n declare_clippy_lint! {"}, {"sha": "115feefe2e7722cc5ae0325b8bd2bba63a3a466c", "filename": "clippy_lints/src/slow_vector_initialization.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fslow_vector_initialization.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fslow_vector_initialization.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fslow_vector_initialization.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,11 +1,12 @@\n use crate::utils::sugg::Sugg;\n use crate::utils::{get_enclosing_block, match_qpath, span_lint_and_then, SpanlessEq};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::intravisit::{walk_block, walk_expr, walk_stmt, NestedVisitorMap, Visitor};\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, Lint, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n use syntax_pos::symbol::Symbol;\n "}, {"sha": "5261d8585669ca478ddce2382283bf6103b335de", "filename": "clippy_lints/src/strings.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fstrings.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fstrings.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fstrings.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Spanned;\n \n use if_chain::if_chain;"}, {"sha": "b3520c181f6fb549267a04f2b351802faeaafdfc", "filename": "clippy_lints/src/suspicious_trait_impl.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fsuspicious_trait_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fsuspicious_trait_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fsuspicious_trait_impl.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::{get_trait_def_id, span_lint, trait_ref_of_method};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Lints for suspicious operations in impls of arithmetic operators, e.g."}, {"sha": "f47945f0a14692956c8a9d12e917998be9164497", "filename": "clippy_lints/src/swap.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fswap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fswap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fswap.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -5,11 +5,12 @@ use crate::utils::{\n };\n use if_chain::if_chain;\n use matches::matches;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax_pos::Symbol;\n \n declare_clippy_lint! {"}, {"sha": "8a46bcc5825fc0aec378997c97dedb643a3dd485", "filename": "clippy_lints/src/tabs_in_doc_comments.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftabs_in_doc_comments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftabs_in_doc_comments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftabs_in_doc_comments.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::span_lint_and_sugg;\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use std::convert::TryFrom;\n use syntax::ast;\n use syntax::source_map::{BytePos, Span};"}, {"sha": "771be56cb7063848f0dc60d7ce5065f132d0d0ab", "filename": "clippy_lints/src/temporary_assignment.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftemporary_assignment.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftemporary_assignment.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftemporary_assignment.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::is_adjusted;\n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::hir::def::{DefKind, Res};\n use rustc::hir::{Expr, ExprKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for construction of a structure or tuple just to"}, {"sha": "250ddd5ad03dc700b6a01d050c19e2e6b29fc252", "filename": "clippy_lints/src/to_digit_is_some.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fto_digit_is_some.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fto_digit_is_some.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fto_digit_is_some.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use crate::utils::{match_def_path, snippet_with_applicability, span_lint_and_sugg};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for `.to_digit(..).is_some()` on `char`s."}, {"sha": "2ad2cb67830f3bf8c6c37e9687505a24064725a8", "filename": "clippy_lints/src/trait_bounds.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftrait_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftrait_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftrait_bounds.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::{in_macro, snippet, span_help_and_lint, SpanlessHash};\n use rustc::hir::*;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_data_structures::fx::FxHashMap;\n+use rustc_session::declare_tool_lint;\n \n #[derive(Copy, Clone)]\n pub struct TraitBounds;"}, {"sha": "12de3023dada9f01eb1acf44225daf13824afee1", "filename": "clippy_lints/src/transmute.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftransmute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftransmute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use crate::utils::{last_path_segment, match_def_path, paths, snippet, span_lint, span_lint_and_then, sugg};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::{self, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use std::borrow::Cow;\n use syntax::ast;\n "}, {"sha": "451725761fff1fb58081446df6178b174f45b77f", "filename": "clippy_lints/src/transmuting_null.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftransmuting_null.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftransmuting_null.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmuting_null.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::consts::{constant_context, Constant};\n use crate::utils::{match_qpath, paths, span_lint};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::{Expr, ExprKind};\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n \n declare_clippy_lint! {"}, {"sha": "7bfc9a05be92b4931e5c52707079d59b3324d92c", "filename": "clippy_lints/src/trivially_copy_pass_by_ref.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftrivially_copy_pass_by_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftrivially_copy_pass_by_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftrivially_copy_pass_by_ref.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -6,11 +6,12 @@ use matches::matches;\n use rustc::hir;\n use rustc::hir::intravisit::FnKind;\n use rustc::hir::*;\n+use rustc::impl_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::session::config::Config as SessionConfig;\n use rustc::ty;\n-use rustc::{declare_tool_lint, impl_lint_pass};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use rustc_target::abi::LayoutOf;\n use rustc_target::spec::abi::Abi;\n use syntax_pos::Span;"}, {"sha": "8c3e755ef1735025a6c88c4fa26f0eeb70ded55b", "filename": "clippy_lints/src/try_err.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftry_err.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftry_err.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftry_err.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,10 +1,11 @@\n use crate::utils::{match_qpath, paths, snippet, snippet_with_macro_callsite, span_lint_and_sugg};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::Ty;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for usages of `Err(x)?`."}, {"sha": "4ef88887642d691072a16ccaf22b27dce5fb0333", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -11,8 +11,9 @@ use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::ty::layout::LayoutOf;\n use rustc::ty::{self, InferTy, Ty, TyCtxt, TypeckTables};\n-use rustc::{declare_lint_pass, declare_tool_lint, impl_lint_pass};\n+use rustc::{declare_lint_pass, impl_lint_pass};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use rustc_target::spec::abi::Abi;\n use rustc_typeck::hir_ty_to_ty;\n use syntax::ast::{FloatTy, IntTy, LitFloatType, LitIntType, LitKind, UintTy};"}, {"sha": "1024e71657c25133ff6c24000ac4d0d2c25f3b4b", "filename": "clippy_lints/src/unicode.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funicode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funicode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funicode.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,8 +1,9 @@\n use crate::utils::{is_allowed, snippet, span_lint_and_sugg};\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::LitKind;\n use syntax::source_map::Span;\n use unicode_normalization::UnicodeNormalization;"}, {"sha": "58af6e9d28146491235055263dd67176c6093937", "filename": "clippy_lints/src/unsafe_removed_from_name.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funsafe_removed_from_name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funsafe_removed_from_name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funsafe_removed_from_name.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,6 +1,7 @@\n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n use syntax::source_map::Span;\n use syntax::symbol::SymbolStr;"}, {"sha": "41182e3ca8b64aba119db4e178a67807c769399f", "filename": "clippy_lints/src/unused_io_amount.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funused_io_amount.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funused_io_amount.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funused_io_amount.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,7 +1,8 @@\n use crate::utils::{is_try, match_qpath, match_trait_method, paths, span_lint};\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for unused written/read amount."}, {"sha": "60acbc1469f900e78459ffc70821b712c9a69983", "filename": "clippy_lints/src/unused_label.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funused_label.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funused_label.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funused_label.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::intravisit::{walk_expr, walk_fn, FnKind, NestedVisitorMap, Visitor};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_data_structures::fx::FxHashMap;\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n use syntax::symbol::Symbol;\n "}, {"sha": "bbf6faa2c7e641194c32386098fb1e5b9a775d9e", "filename": "clippy_lints/src/unused_self.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funused_self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funused_self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funused_self.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::def::Res;\n use rustc::hir::intravisit::{walk_path, NestedVisitorMap, Visitor};\n use rustc::hir::{AssocItemKind, HirId, ImplItemKind, ImplItemRef, Item, ItemKind, Path};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n use crate::utils::span_help_and_lint;\n "}, {"sha": "736150a86b640523d61d7ac3294fcc6b05e1bd76", "filename": "clippy_lints/src/unwrap.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funwrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Funwrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funwrap.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,6 +1,7 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n use crate::utils::{higher::if_block, match_type, paths, span_lint_and_then, usage::is_potentially_mutated};\n use rustc::hir::intravisit::*;"}, {"sha": "4b9945d20b5c0a9405eb328edae5c95fa2891878", "filename": "clippy_lints/src/use_self.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fuse_self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fuse_self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fuse_self.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,13 +1,14 @@\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::def::{DefKind, Res};\n use rustc::hir::intravisit::{walk_item, walk_path, walk_ty, NestedVisitorMap, Visitor};\n use rustc::hir::*;\n use rustc::lint::{in_external_macro, LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::ty;\n use rustc::ty::{DefIdTree, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax_pos::symbol::kw;\n \n use crate::utils::{differing_macro_contexts, span_lint_and_sugg};"}, {"sha": "a7b049db167a1645946931b133e352881206907e", "filename": "clippy_lints/src/utils/author.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Futils%2Fauthor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Futils%2Fauthor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fauthor.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,13 +2,14 @@\n //! to generate a clippy lint detecting said code automatically.\n \n use crate::utils::{get_attr, higher};\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::intravisit::{NestedVisitorMap, Visitor};\n use rustc::hir::{BindingAnnotation, Block, Expr, ExprKind, Pat, PatKind, QPath, Stmt, StmtKind, TyKind};\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::session::Session;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_data_structures::fx::FxHashMap;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::{Attribute, LitFloatType, LitKind};\n \n declare_clippy_lint! {"}, {"sha": "6511999ec72e7b583a1df2135e878ce7cc2a415a", "filename": "clippy_lints/src/utils/inspector.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Futils%2Finspector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Futils%2Finspector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finspector.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,11 +1,12 @@\n //! checks for attributes\n \n use crate::utils::get_attr;\n+use rustc::declare_lint_pass;\n use rustc::hir;\n use rustc::hir::print;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintContext, LintPass};\n use rustc::session::Session;\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::ast::Attribute;\n \n declare_clippy_lint! {"}, {"sha": "2ea605edbde5276db998fda941c4b6cf50feb7f4", "filename": "clippy_lints/src/utils/internal_lints.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -8,9 +8,10 @@ use rustc::hir::def::{DefKind, Res};\n use rustc::hir::intravisit::{walk_expr, NestedVisitorMap, Visitor};\n use rustc::hir::*;\n use rustc::lint::{EarlyContext, EarlyLintPass, LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint, impl_lint_pass};\n+use rustc::{declare_lint_pass, impl_lint_pass};\n use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::ast;\n use syntax::ast::{Crate as AstCrate, ItemKind, Name};\n use syntax::source_map::Span;"}, {"sha": "86648f9d3cc21ebf12d002747e6db2835d1f46b6", "filename": "clippy_lints/src/utils/paths.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Futils%2Fpaths.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Futils%2Fpaths.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fpaths.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -46,7 +46,7 @@ pub const IO_WRITE: [&str; 3] = [\"std\", \"io\", \"Write\"];\n pub const ITERATOR: [&str; 5] = [\"core\", \"iter\", \"traits\", \"iterator\", \"Iterator\"];\n pub const LATE_CONTEXT: [&str; 4] = [\"rustc\", \"lint\", \"context\", \"LateContext\"];\n pub const LINKED_LIST: [&str; 4] = [\"alloc\", \"collections\", \"linked_list\", \"LinkedList\"];\n-pub const LINT: [&str; 3] = [\"rustc\", \"lint\", \"Lint\"];\n+pub const LINT: [&str; 3] = [\"rustc_session\", \"lint\", \"Lint\"];\n pub const MEM_DISCRIMINANT: [&str; 3] = [\"core\", \"mem\", \"discriminant\"];\n pub const MEM_FORGET: [&str; 3] = [\"core\", \"mem\", \"forget\"];\n pub const MEM_MAYBEUNINIT: [&str; 4] = [\"core\", \"mem\", \"maybe_uninit\", \"MaybeUninit\"];"}, {"sha": "2779c4b86c720eb0cbd118c1db7e08c2220cb96a", "filename": "clippy_lints/src/vec.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fvec.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,11 +1,12 @@\n use crate::consts::constant;\n use crate::utils::{higher, is_copy, snippet_with_applicability, span_lint_and_sugg};\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use rustc::ty::{self, Ty};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n+use rustc_session::declare_tool_lint;\n use syntax::source_map::Span;\n \n declare_clippy_lint! {"}, {"sha": "bd865bf495c6eda1934c19ddcd3da34ed00eb565", "filename": "clippy_lints/src/wildcard_dependencies.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fwildcard_dependencies.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fwildcard_dependencies.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fwildcard_dependencies.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,6 +1,7 @@\n use crate::utils::span_lint;\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n use syntax::{ast::*, source_map::DUMMY_SP};\n \n use cargo_metadata;"}, {"sha": "08e2d59b42009725641ff22c1242e3ce5e3b9896", "filename": "clippy_lints/src/write.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fwrite.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -2,11 +2,12 @@ use std::borrow::Cow;\n use std::ops::Range;\n \n use crate::utils::{snippet_with_applicability, span_lint, span_lint_and_sugg, span_lint_and_then};\n+use rustc::declare_lint_pass;\n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n use rustc_errors::Applicability;\n use rustc_lexer::unescape::{self, EscapeError};\n use rustc_parse::parser;\n+use rustc_session::declare_tool_lint;\n use syntax::ast::*;\n use syntax::symbol::Symbol;\n use syntax::token;"}, {"sha": "ec380360e547e1f0297916427edb84fa8d40a71c", "filename": "clippy_lints/src/zero_div_zero.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fzero_div_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/clippy_lints%2Fsrc%2Fzero_div_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fzero_div_zero.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,9 +1,10 @@\n use crate::consts::{constant_simple, Constant};\n use crate::utils::span_help_and_lint;\n use if_chain::if_chain;\n+use rustc::declare_lint_pass;\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc_session::declare_tool_lint;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for `0.0 / 0.0`."}, {"sha": "36d0ce0207f659d2e25e53f803fe9f25111cd90a", "filename": "doc/adding_lints.md", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/doc%2Fadding_lints.md", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/doc%2Fadding_lints.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Fadding_lints.md?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -127,7 +127,8 @@ where all the lint code is. We are going to call the file\n \n ```rust\n use rustc::lint::{LintArray, LintPass, EarlyLintPass};\n-use rustc::{declare_lint_pass, declare_tool_lint};\n+use rustc::declare_lint_pass;\n+use rustc_session::declare_tool_lint;\n ```\n \n The next step is to provide a lint declaration. Lints are declared using the"}, {"sha": "0f6eec521f4a8f9b11c793192c7227af69c8c96c", "filename": "tests/ui/lint_without_lint_pass.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/tests%2Fui%2Flint_without_lint_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/tests%2Fui%2Flint_without_lint_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint_without_lint_pass.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -3,6 +3,8 @@\n \n #[macro_use]\n extern crate rustc;\n+#[macro_use]\n+extern crate rustc_session;\n use rustc::lint::{LintArray, LintPass};\n \n declare_tool_lint! {"}, {"sha": "e7265150f8c0ce396db0f30ede93d2ef74e77bb1", "filename": "tests/ui/lint_without_lint_pass.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/tests%2Fui%2Flint_without_lint_pass.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/tests%2Fui%2Flint_without_lint_pass.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint_without_lint_pass.stderr?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,5 +1,5 @@\n error: the lint `TEST_LINT` is not added to any `LintPass`\n-  --> $DIR/lint_without_lint_pass.rs:8:1\n+  --> $DIR/lint_without_lint_pass.rs:10:1\n    |\n LL | / declare_tool_lint! {\n LL | |     pub clippy::TEST_LINT,"}, {"sha": "77c3f93b7c98e7c87b2b12bd9137bed22ee2d9dc", "filename": "tests/ui/outer_expn_data.fixed", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/tests%2Fui%2Fouter_expn_data.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/tests%2Fui%2Fouter_expn_data.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fouter_expn_data.fixed?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -5,6 +5,8 @@\n \n #[macro_use]\n extern crate rustc;\n+#[macro_use]\n+extern crate rustc_session;\n use rustc::hir::Expr;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n "}, {"sha": "b45f5e1ac4062706e6928854f6805e9575e18c5d", "filename": "tests/ui/outer_expn_data.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/tests%2Fui%2Fouter_expn_data.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/tests%2Fui%2Fouter_expn_data.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fouter_expn_data.rs?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -5,6 +5,8 @@\n \n #[macro_use]\n extern crate rustc;\n+#[macro_use]\n+extern crate rustc_session;\n use rustc::hir::Expr;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n "}, {"sha": "514eb599b0616b0a5e8bb9de0e1205a008022dec", "filename": "tests/ui/outer_expn_data.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/98e433d70d32086afb80bd4c20fe769a1c0a38ff/tests%2Fui%2Fouter_expn_data.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/98e433d70d32086afb80bd4c20fe769a1c0a38ff/tests%2Fui%2Fouter_expn_data.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fouter_expn_data.stderr?ref=98e433d70d32086afb80bd4c20fe769a1c0a38ff", "patch": "@@ -1,5 +1,5 @@\n error: usage of `outer_expn().expn_data()`\n-  --> $DIR/outer_expn_data.rs:21:34\n+  --> $DIR/outer_expn_data.rs:23:34\n    |\n LL |         let _ = expr.span.ctxt().outer_expn().expn_data();\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `outer_expn_data()`"}]}