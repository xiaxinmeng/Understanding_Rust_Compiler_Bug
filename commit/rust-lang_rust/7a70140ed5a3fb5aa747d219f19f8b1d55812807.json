{"sha": "7a70140ed5a3fb5aa747d219f19f8b1d55812807", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdhNzAxNDBlZDVhM2ZiNWFhNzQ3ZDIxOWYxOWY4YjFkNTU4MTI4MDc=", "commit": {"author": {"name": "csmoe", "email": "35686186+csmoe@users.noreply.github.com", "date": "2018-06-14T01:12:50Z"}, "committer": {"name": "ashtneoi", "email": "ashtneoi@gmail.com", "date": "2018-07-13T05:51:30Z"}, "message": "span_suggestion", "tree": {"sha": "5bb221829d7f4b3341ef57578ea99fe66df71c53", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5bb221829d7f4b3341ef57578ea99fe66df71c53"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7a70140ed5a3fb5aa747d219f19f8b1d55812807", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7a70140ed5a3fb5aa747d219f19f8b1d55812807", "html_url": "https://github.com/rust-lang/rust/commit/7a70140ed5a3fb5aa747d219f19f8b1d55812807", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7a70140ed5a3fb5aa747d219f19f8b1d55812807/comments", "author": {"login": "csmoe", "id": 35686186, "node_id": "MDQ6VXNlcjM1Njg2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/35686186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/csmoe", "html_url": "https://github.com/csmoe", "followers_url": "https://api.github.com/users/csmoe/followers", "following_url": "https://api.github.com/users/csmoe/following{/other_user}", "gists_url": "https://api.github.com/users/csmoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/csmoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/csmoe/subscriptions", "organizations_url": "https://api.github.com/users/csmoe/orgs", "repos_url": "https://api.github.com/users/csmoe/repos", "events_url": "https://api.github.com/users/csmoe/events{/privacy}", "received_events_url": "https://api.github.com/users/csmoe/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ashtneoi", "id": 33603534, "node_id": "MDQ6VXNlcjMzNjAzNTM0", "avatar_url": "https://avatars.githubusercontent.com/u/33603534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashtneoi", "html_url": "https://github.com/ashtneoi", "followers_url": "https://api.github.com/users/ashtneoi/followers", "following_url": "https://api.github.com/users/ashtneoi/following{/other_user}", "gists_url": "https://api.github.com/users/ashtneoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashtneoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashtneoi/subscriptions", "organizations_url": "https://api.github.com/users/ashtneoi/orgs", "repos_url": "https://api.github.com/users/ashtneoi/repos", "events_url": "https://api.github.com/users/ashtneoi/events{/privacy}", "received_events_url": "https://api.github.com/users/ashtneoi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8932684ccc3b4a24a301bd68a6c21a182dfd6028", "url": "https://api.github.com/repos/rust-lang/rust/commits/8932684ccc3b4a24a301bd68a6c21a182dfd6028", "html_url": "https://github.com/rust-lang/rust/commit/8932684ccc3b4a24a301bd68a6c21a182dfd6028"}], "stats": {"total": 39, "additions": 28, "deletions": 11}, "files": [{"sha": "6a42189fb152f98eec9f6ed527d58d6833a8e87d", "filename": "src/librustc_borrowck/borrowck/mod.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs?ref=7a70140ed5a3fb5aa747d219f19f8b1d55812807", "patch": "@@ -1215,9 +1215,10 @@ impl<'a, 'tcx> BorrowckCtxt<'a, 'tcx> {\n                             } else {\n                                 snippet\n                             };\n-                            db.span_label(\n+                            db.span_suggestion(\n                                 let_span,\n-                                format!(\"consider changing this to `{}`\", replace_str)\n+                                \"use a mutable reference instead\",\n+                                replace_str,\n                             );\n                         };\n                     }"}, {"sha": "56d9449c4679d394c0cec1c55adc619a659afb9f", "filename": "src/test/ui/nll/issue-51244.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Ftest%2Fui%2Fnll%2Fissue-51244.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Ftest%2Fui%2Fnll%2Fissue-51244.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fissue-51244.rs?ref=7a70140ed5a3fb5aa747d219f19f8b1d55812807", "patch": "@@ -0,0 +1,16 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(nll)]\n+\n+fn main() {\n+    let ref my_ref @ _ = 0;\n+    *my_ref = 0; //~ ERROR cannot assign to data in a `&` reference [E0594]\n+}"}, {"sha": "f1f47fc61ce8bf9c2db3bc920790dfc5514db849", "filename": "src/test/ui/nll/issue-51244.stderr", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Ftest%2Fui%2Fnll%2Fissue-51244.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Ftest%2Fui%2Fnll%2Fissue-51244.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fissue-51244.stderr?ref=7a70140ed5a3fb5aa747d219f19f8b1d55812807", "patch": "@@ -1,9 +1,9 @@\n error[E0594]: cannot assign to data in a `&` reference\n-  --> $DIR/issue-51244.rs:13:5\n+  --> $DIR/issue-51244.rs:15:5\n    |\n LL |     let ref my_ref @ _ = 0;\n    |         -------------- help: consider changing this to be a mutable reference: `&mut ef my_ref @ _`\n-LL |     *my_ref = 0; //~ ERROR cannot assign to immutable borrowed content `*my_ref` [E0594]\n+LL |     *my_ref = 0; //~ ERROR cannot assign to data in a `&` reference [E0594]\n    |     ^^^^^^^^^^^\n \n error: aborting due to previous error", "previous_filename": "src/test/ui/suggestions/issue-51244.nll.stderr"}, {"sha": "26d51e9338152c6edc57ea3e1773fe519cf76e12", "filename": "src/test/ui/rfc-2005-default-binding-mode/enum.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Ftest%2Fui%2Frfc-2005-default-binding-mode%2Fenum.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Ftest%2Fui%2Frfc-2005-default-binding-mode%2Fenum.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2005-default-binding-mode%2Fenum.stderr?ref=7a70140ed5a3fb5aa747d219f19f8b1d55812807", "patch": "@@ -2,23 +2,23 @@ error[E0594]: cannot assign to immutable borrowed content `*x`\n   --> $DIR/enum.rs:19:5\n    |\n LL |     let Wrap(x) = &Wrap(3);\n-   |              - consider changing this to `x`\n+   |              - help: use a mutable reference instead: `x`\n LL |     *x += 1; //~ ERROR cannot assign to immutable\n    |     ^^^^^^^ cannot borrow as mutable\n \n error[E0594]: cannot assign to immutable borrowed content `*x`\n   --> $DIR/enum.rs:23:9\n    |\n LL |     if let Some(x) = &Some(3) {\n-   |                 - consider changing this to `x`\n+   |                 - help: use a mutable reference instead: `x`\n LL |         *x += 1; //~ ERROR cannot assign to immutable\n    |         ^^^^^^^ cannot borrow as mutable\n \n error[E0594]: cannot assign to immutable borrowed content `*x`\n   --> $DIR/enum.rs:29:9\n    |\n LL |     while let Some(x) = &Some(3) {\n-   |                    - consider changing this to `x`\n+   |                    - help: use a mutable reference instead: `x`\n LL |         *x += 1; //~ ERROR cannot assign to immutable\n    |         ^^^^^^^ cannot borrow as mutable\n "}, {"sha": "2f5eb8a3d8ecc6a78d30a66656594ba245aac9a4", "filename": "src/test/ui/rfc-2005-default-binding-mode/explicit-mut.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Ftest%2Fui%2Frfc-2005-default-binding-mode%2Fexplicit-mut.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Ftest%2Fui%2Frfc-2005-default-binding-mode%2Fexplicit-mut.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2005-default-binding-mode%2Fexplicit-mut.stderr?ref=7a70140ed5a3fb5aa747d219f19f8b1d55812807", "patch": "@@ -2,23 +2,23 @@ error[E0594]: cannot assign to immutable borrowed content `*n`\n   --> $DIR/explicit-mut.rs:17:13\n    |\n LL |         Some(n) => {\n-   |              - consider changing this to `n`\n+   |              - help: use a mutable reference instead: `n`\n LL |             *n += 1; //~ ERROR cannot assign to immutable\n    |             ^^^^^^^ cannot borrow as mutable\n \n error[E0594]: cannot assign to immutable borrowed content `*n`\n   --> $DIR/explicit-mut.rs:25:13\n    |\n LL |         Some(n) => {\n-   |              - consider changing this to `n`\n+   |              - help: use a mutable reference instead: `n`\n LL |             *n += 1; //~ ERROR cannot assign to immutable\n    |             ^^^^^^^ cannot borrow as mutable\n \n error[E0594]: cannot assign to immutable borrowed content `*n`\n   --> $DIR/explicit-mut.rs:33:13\n    |\n LL |         Some(n) => {\n-   |              - consider changing this to `n`\n+   |              - help: use a mutable reference instead: `n`\n LL |             *n += 1; //~ ERROR cannot assign to immutable\n    |             ^^^^^^^ cannot borrow as mutable\n "}, {"sha": "997a74295e565a68fea8ae287f4bbe48d15d66eb", "filename": "src/test/ui/suggestions/issue-51244.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Ftest%2Fui%2Fsuggestions%2Fissue-51244.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7a70140ed5a3fb5aa747d219f19f8b1d55812807/src%2Ftest%2Fui%2Fsuggestions%2Fissue-51244.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fissue-51244.stderr?ref=7a70140ed5a3fb5aa747d219f19f8b1d55812807", "patch": "@@ -2,7 +2,7 @@ error[E0594]: cannot assign to immutable borrowed content `*my_ref`\n   --> $DIR/issue-51244.rs:13:5\n    |\n LL |     let ref my_ref @ _ = 0;\n-   |         -------------- consider changing this to `ref mut my_ref @ _`\n+   |         -------------- help: use a mutable reference instead: `ref mut my_ref @ _`\n LL |     *my_ref = 0; //~ ERROR cannot assign to immutable borrowed content `*my_ref` [E0594]\n    |     ^^^^^^^^^^^ cannot borrow as mutable\n "}]}