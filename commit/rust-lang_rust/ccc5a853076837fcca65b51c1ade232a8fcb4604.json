{"sha": "ccc5a853076837fcca65b51c1ade232a8fcb4604", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNjYzVhODUzMDc2ODM3ZmNjYTY1YjUxYzFhZGUyMzJhOGZjYjQ2MDQ=", "commit": {"author": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2021-02-01T13:29:42Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-02-01T13:29:42Z"}, "message": "Rollup merge of #81592 - GuillaumeGomez:rustdoc-ui-fixes, r=Nemo157\n\nRustdoc UI fixes\n\nThe first commit fixes this bug (I couldn't figure out why we were setting the width manually and it works as expected without so...):\n\n![Screenshot from 2021-01-31 12-58-46](https://user-images.githubusercontent.com/3050060/106384371-d56a7700-63ca-11eb-9e04-c06b40c2ab5e.png)\n\nThe second commit fixes a small bug. On tablets or computer with very little width, the search section goes \"over\" the search input, making it impossible to click on the search input:\n\n![Screenshot from 2021-01-31 13-22-37](https://user-images.githubusercontent.com/3050060/106384413-021e8e80-63cb-11eb-8321-391a1f8a4c7e.png)\n\nThe third and last commit fixes two bugs that you can see in this screenshot:\n\n![Screenshot from 2021-01-31 13-41-05](https://user-images.githubusercontent.com/3050060/106384424-0cd92380-63cb-11eb-82de-76218286c3fb.png)\n\nThe wheel is going over the search input and the search tab is going under the search results text. The bug was fixed by simply switching to \"mobile mode\" at a bigger width:\n\n![Screenshot from 2021-01-31 13-49-50](https://user-images.githubusercontent.com/3050060/106384466-4447d000-63cb-11eb-9330-a7cd29403905.png)\n\ncc ```@pickfire```\nr? ```@Nemo157```", "tree": {"sha": "ad770640b1cc27cf16b99fffea13c36f31b921db", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad770640b1cc27cf16b99fffea13c36f31b921db"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ccc5a853076837fcca65b51c1ade232a8fcb4604", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgGAJGCRBK7hj4Ov3rIwAAdHIIAKlQlGv/qyuMmvidAaRvvVzU\n4uxurYiWuAKHOrX+kwEEgYcqR6cjLIP2Zkr+s3LoyNefqe4i53TLmkq2nkCToZbw\nlo+KojrVtYUA4lRH+ke967mIpBQeSbqDLMaxBOLBjKZIa2k+ZtPB1wliCxqG6uE5\nIeIBI7uIZwdMDfpFS/1Jsgk7Ua7g+Osvm06DzfL6MaBHH9JozBGAQk9jt+QM2pe5\ntrHikJceDa/SknoP9KbPLyoz8DNnN7XPD/EY9bHyN/ztIity0JrrgJHrv5qZN7zZ\naS4pC8VhaArKF9Vk0JmUAfQ9M6e59Dzf3v/gOsCX7eZ58tUGb7aDHHTXbMRDGSc=\n=ZbV4\n-----END PGP SIGNATURE-----\n", "payload": "tree ad770640b1cc27cf16b99fffea13c36f31b921db\nparent 82b00ec606df7d1dc3237cc05f8431ae43f76b03\nparent be9b112a5a1b6cb4eec2bf3feed73516b70825b5\nauthor Jonas Schievink <jonasschievink@gmail.com> 1612186182 +0100\ncommitter GitHub <noreply@github.com> 1612186182 +0100\n\nRollup merge of #81592 - GuillaumeGomez:rustdoc-ui-fixes, r=Nemo157\n\nRustdoc UI fixes\n\nThe first commit fixes this bug (I couldn't figure out why we were setting the width manually and it works as expected without so...):\n\n![Screenshot from 2021-01-31 12-58-46](https://user-images.githubusercontent.com/3050060/106384371-d56a7700-63ca-11eb-9e04-c06b40c2ab5e.png)\n\nThe second commit fixes a small bug. On tablets or computer with very little width, the search section goes \"over\" the search input, making it impossible to click on the search input:\n\n![Screenshot from 2021-01-31 13-22-37](https://user-images.githubusercontent.com/3050060/106384413-021e8e80-63cb-11eb-8321-391a1f8a4c7e.png)\n\nThe third and last commit fixes two bugs that you can see in this screenshot:\n\n![Screenshot from 2021-01-31 13-41-05](https://user-images.githubusercontent.com/3050060/106384424-0cd92380-63cb-11eb-82de-76218286c3fb.png)\n\nThe wheel is going over the search input and the search tab is going under the search results text. The bug was fixed by simply switching to \"mobile mode\" at a bigger width:\n\n![Screenshot from 2021-01-31 13-49-50](https://user-images.githubusercontent.com/3050060/106384466-4447d000-63cb-11eb-9330-a7cd29403905.png)\n\ncc ```@pickfire```\nr? ```@Nemo157```\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ccc5a853076837fcca65b51c1ade232a8fcb4604", "html_url": "https://github.com/rust-lang/rust/commit/ccc5a853076837fcca65b51c1ade232a8fcb4604", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ccc5a853076837fcca65b51c1ade232a8fcb4604/comments", "author": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "82b00ec606df7d1dc3237cc05f8431ae43f76b03", "url": "https://api.github.com/repos/rust-lang/rust/commits/82b00ec606df7d1dc3237cc05f8431ae43f76b03", "html_url": "https://github.com/rust-lang/rust/commit/82b00ec606df7d1dc3237cc05f8431ae43f76b03"}, {"sha": "be9b112a5a1b6cb4eec2bf3feed73516b70825b5", "url": "https://api.github.com/repos/rust-lang/rust/commits/be9b112a5a1b6cb4eec2bf3feed73516b70825b5", "html_url": "https://github.com/rust-lang/rust/commit/be9b112a5a1b6cb4eec2bf3feed73516b70825b5"}], "stats": {"total": 13, "additions": 2, "deletions": 11}, "files": [{"sha": "4dbe7a37fcdc8f4c052830aef99288c122d3ef43", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/ccc5a853076837fcca65b51c1ade232a8fcb4604/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/ccc5a853076837fcca65b51c1ade232a8fcb4604/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=ccc5a853076837fcca65b51c1ade232a8fcb4604", "patch": "@@ -1695,15 +1695,6 @@ function defocusSearchBar() {\n \n             search.innerHTML = output;\n             showSearchResults(search);\n-            var tds = search.getElementsByTagName(\"td\");\n-            var td_width = 0;\n-            if (tds.length > 0) {\n-                td_width = tds[0].offsetWidth;\n-            }\n-            var width = search.offsetWidth - 40 - td_width;\n-            onEachLazy(search.getElementsByClassName(\"desc\"), function(e) {\n-                e.style.width = width + \"px\";\n-            });\n             initSearchNav();\n             var elems = document.getElementById(\"titles\").childNodes;\n             elems[0].onclick = function() { printTab(0); };"}, {"sha": "d50fda278bd7cda0fffe5f98bd92aed1c312b745", "filename": "src/librustdoc/html/static/rustdoc.css", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ccc5a853076837fcca65b51c1ade232a8fcb4604/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/ccc5a853076837fcca65b51c1ade232a8fcb4604/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css?ref=ccc5a853076837fcca65b51c1ade232a8fcb4604", "patch": "@@ -1425,7 +1425,7 @@ h4 > .notable-traits {\n \t\tmargin-left: 0px;\n \t}\n \n-\t#main {\n+\t#main, #search {\n \t\tmargin-top: 45px;\n \t\tpadding: 0;\n \t}\n@@ -1579,7 +1579,7 @@ h4 > .notable-traits {\n \t}\n }\n \n-@media (max-width: 416px) {\n+@media (max-width: 464px) {\n \t#titles, #titles > button {\n \t\theight: 73px;\n \t}"}]}