{"sha": "d26e192edd6dadd7bfb2a582933d20422d2cd862", "node_id": "C_kwDOAAsO6NoAKGQyNmUxOTJlZGQ2ZGFkZDdiZmIyYTU4MjkzM2QyMDQyMmQyY2Q4NjI", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2021-10-04T12:46:37Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2021-10-04T12:46:37Z"}, "message": "Don't rebuild GUI test crates every time you run test src/test/rustdoc-gui", "tree": {"sha": "fa28e926b7650be0ef5ee7e5c79330b0e2aa0abe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fa28e926b7650be0ef5ee7e5c79330b0e2aa0abe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d26e192edd6dadd7bfb2a582933d20422d2cd862", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d26e192edd6dadd7bfb2a582933d20422d2cd862", "html_url": "https://github.com/rust-lang/rust/commit/d26e192edd6dadd7bfb2a582933d20422d2cd862", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d26e192edd6dadd7bfb2a582933d20422d2cd862/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a8387aef8c378a771686878062e544af4d5e2245", "url": "https://api.github.com/repos/rust-lang/rust/commits/a8387aef8c378a771686878062e544af4d5e2245", "html_url": "https://github.com/rust-lang/rust/commit/a8387aef8c378a771686878062e544af4d5e2245"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "7aca94b16ac2e6ddcc46b3a98977cdfa9c9a1506", "filename": "src/bootstrap/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d26e192edd6dadd7bfb2a582933d20422d2cd862/src%2Fbootstrap%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d26e192edd6dadd7bfb2a582933d20422d2cd862/src%2Fbootstrap%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftest.rs?ref=d26e192edd6dadd7bfb2a582933d20422d2cd862", "patch": "@@ -905,7 +905,7 @@ impl Step for RustdocGUI {\n         let out_dir = builder.test_out(self.target).join(\"rustdoc-gui\");\n \n         // We remove existing folder to be sure there won't be artifacts remaining.\n-        let _ = fs::remove_dir_all(&out_dir);\n+        builder.clear_if_dirty(&out_dir, &builder.rustdoc(self.compiler));\n \n         let src_path = builder.build.src.join(\"src/test/rustdoc-gui/src\");\n         // We generate docs for the libraries present in the rustdoc-gui's src folder."}]}