{"sha": "b8fb6e103294f8a6028122df2650fff84f2e3e14", "node_id": "C_kwDOAAsO6NoAKGI4ZmI2ZTEwMzI5NGY4YTYwMjgxMjJkZjI2NTBmZmY4NGYyZTNlMTQ", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-07-26T19:23:59Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-07-26T19:23:59Z"}, "message": "rustdoc: do not allocate String when writing path full name\n\nNo idea if this makes any perf difference, but it just seems like premature\npessimisation to use String when str will do.", "tree": {"sha": "89501f836f9f5aa45274ac5595a84cc12dd75ab6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/89501f836f9f5aa45274ac5595a84cc12dd75ab6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b8fb6e103294f8a6028122df2650fff84f2e3e14", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b8fb6e103294f8a6028122df2650fff84f2e3e14", "html_url": "https://github.com/rust-lang/rust/commit/b8fb6e103294f8a6028122df2650fff84f2e3e14", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b8fb6e103294f8a6028122df2650fff84f2e3e14/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c9b31839b624345d59fda6e595b9abae71fcea13", "url": "https://api.github.com/repos/rust-lang/rust/commits/c9b31839b624345d59fda6e595b9abae71fcea13", "html_url": "https://github.com/rust-lang/rust/commit/c9b31839b624345d59fda6e595b9abae71fcea13"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "83d8ed3fc87fb6a0d8cf112f6c9def6b5ee0db24", "filename": "src/librustdoc/clean/types.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b8fb6e103294f8a6028122df2650fff84f2e3e14/src%2Flibrustdoc%2Fclean%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b8fb6e103294f8a6028122df2650fff84f2e3e14/src%2Flibrustdoc%2Fclean%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Ftypes.rs?ref=b8fb6e103294f8a6028122df2650fff84f2e3e14", "patch": "@@ -2175,8 +2175,8 @@ impl Path {\n     pub(crate) fn whole_name(&self) -> String {\n         self.segments\n             .iter()\n-            .map(|s| if s.name == kw::PathRoot { String::new() } else { s.name.to_string() })\n-            .intersperse(\"::\".into())\n+            .map(|s| if s.name == kw::PathRoot { \"\" } else { s.name.as_str() })\n+            .intersperse(\"::\")\n             .collect()\n     }\n "}]}