{"sha": "823a75d9ba34860b9a6712c7a9d35e86e0a88436", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyM2E3NWQ5YmEzNDg2MGI5YTY3MTJjN2E5ZDM1ZTg2ZTBhODg0MzY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-05-17T16:11:20Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-05-17T16:11:20Z"}, "message": "Auto merge of #60841 - alexcrichton:update-compiler-builtins, r=RalfJung\n\nUpdate the compiler_builtins crate\n\nThis updates to 0.1.13 for `compiler_builtins`, published to fix a few\nissues. The feature changes here are updated because `compiler_builtins`\nno longer enables the `c` feature by default but we want to do so\nthrough our build still.\n\nCloses #60747\nCloses #60782", "tree": {"sha": "245f454ef9bd811ce7bfc3b27fde1b417d486cc6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/245f454ef9bd811ce7bfc3b27fde1b417d486cc6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/823a75d9ba34860b9a6712c7a9d35e86e0a88436", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/823a75d9ba34860b9a6712c7a9d35e86e0a88436", "html_url": "https://github.com/rust-lang/rust/commit/823a75d9ba34860b9a6712c7a9d35e86e0a88436", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/823a75d9ba34860b9a6712c7a9d35e86e0a88436/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b982867a7349f84c17317599b59aeb5a7d8a83be", "url": "https://api.github.com/repos/rust-lang/rust/commits/b982867a7349f84c17317599b59aeb5a7d8a83be", "html_url": "https://github.com/rust-lang/rust/commit/b982867a7349f84c17317599b59aeb5a7d8a83be"}, {"sha": "3c9790e4293e41a1a45a50eaee4e76a1fb64d5f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/3c9790e4293e41a1a45a50eaee4e76a1fb64d5f8", "html_url": "https://github.com/rust-lang/rust/commit/3c9790e4293e41a1a45a50eaee4e76a1fb64d5f8"}], "stats": {"total": 41, "additions": 21, "deletions": 20}, "files": [{"sha": "db9f0069ced0c1c41f107d2625a618fdc23944d9", "filename": "Cargo.lock", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/823a75d9ba34860b9a6712c7a9d35e86e0a88436/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/823a75d9ba34860b9a6712c7a9d35e86e0a88436/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=823a75d9ba34860b9a6712c7a9d35e86e0a88436", "patch": "@@ -25,7 +25,7 @@ dependencies = [\n name = \"alloc\"\n version = \"0.0.0\"\n dependencies = [\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n  \"rand 0.6.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand_xorshift 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -123,7 +123,7 @@ version = \"0.1.27\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cc 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.54 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-std-workspace-core 1.0.0\",\n ]\n@@ -462,7 +462,7 @@ dependencies = [\n \n [[package]]\n name = \"compiler_builtins\"\n-version = \"0.1.12\"\n+version = \"0.1.14\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cc 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -744,7 +744,7 @@ name = \"dlmalloc\"\n version = \"0.1.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.54 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-std-workspace-core 1.0.0\",\n ]\n@@ -910,7 +910,7 @@ name = \"fortanix-sgx-abi\"\n version = \"0.3.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-std-workspace-core 1.0.0\",\n ]\n \n@@ -1071,7 +1071,7 @@ name = \"hashbrown\"\n version = \"0.3.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-std-workspace-alloc 1.0.0\",\n  \"rustc-std-workspace-core 1.0.0\",\n ]\n@@ -1772,7 +1772,7 @@ dependencies = [\n name = \"panic_abort\"\n version = \"0.0.0\"\n dependencies = [\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n  \"libc 0.2.54 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -1782,7 +1782,7 @@ name = \"panic_unwind\"\n version = \"0.0.0\"\n dependencies = [\n  \"alloc 0.0.0\",\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n  \"libc 0.2.54 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unwind 0.0.0\",\n@@ -1967,7 +1967,7 @@ name = \"profiler_builtins\"\n version = \"0.0.0\"\n dependencies = [\n  \"cc 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -2492,7 +2492,7 @@ name = \"rustc-demangle\"\n version = \"0.1.10\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-std-workspace-core 1.0.0\",\n ]\n \n@@ -2620,7 +2620,7 @@ dependencies = [\n  \"alloc 0.0.0\",\n  \"build_helper 0.1.0\",\n  \"cmake 0.1.38 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -2850,7 +2850,7 @@ dependencies = [\n  \"alloc 0.0.0\",\n  \"build_helper 0.1.0\",\n  \"cmake 0.1.38 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -2912,7 +2912,7 @@ dependencies = [\n  \"alloc 0.0.0\",\n  \"build_helper 0.1.0\",\n  \"cmake 0.1.38 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -3029,7 +3029,7 @@ dependencies = [\n  \"alloc 0.0.0\",\n  \"build_helper 0.1.0\",\n  \"cmake 0.1.38 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -3298,7 +3298,7 @@ dependencies = [\n  \"alloc 0.0.0\",\n  \"backtrace-sys 0.1.27 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cc 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n  \"dlmalloc 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"fortanix-sgx-abi 0.3.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -3889,7 +3889,7 @@ name = \"unwind\"\n version = \"0.0.0\"\n dependencies = [\n  \"cc 1.0.35 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n  \"libc 0.2.54 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -4087,7 +4087,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum colored 1.6.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b0aa3473e85a3161b59845d6096b289bb577874cafeaf75ea1b1beaa6572c7fc\"\n \"checksum commoncrypto 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d056a8586ba25a1e4d61cb090900e495952c7886786fc55f909ab2f819b69007\"\n \"checksum commoncrypto-sys 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1fed34f46747aa73dfaa578069fd8279d2818ade2b55f38f22a9401c7f4083e2\"\n-\"checksum compiler_builtins 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6549720ae78db799196d4af8f719facb4c7946710b4b64148482553e54b56d15\"\n+\"checksum compiler_builtins 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e3f235c329e5cb9fa3d2ca2cc36256ba9a7f23fa76e0f4db6f68c23b73b2ac69\"\n \"checksum compiletest_rs 0.3.22 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f40ecc9332b68270998995c00f8051ee856121764a0d3230e64c9efd059d27b6\"\n \"checksum constant_time_eq 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8ff012e225ce166d4422e0e78419d901719760f62ae2b7969ca6b564d1b54a9e\"\n \"checksum core-foundation 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4e2640d6d0bf22e82bed1b73c6aef8d5dd31e5abe6666c57e6d45e2649f4f887\""}, {"sha": "e1cdd226fd6e5ba3e78152d43fec41f0ba257358", "filename": "src/bootstrap/compile.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/823a75d9ba34860b9a6712c7a9d35e86e0a88436/src%2Fbootstrap%2Fcompile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/823a75d9ba34860b9a6712c7a9d35e86e0a88436/src%2Fbootstrap%2Fcompile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcompile.rs?ref=823a75d9ba34860b9a6712c7a9d35e86e0a88436", "patch": "@@ -168,7 +168,7 @@ pub fn std_cargo(builder: &Builder<'_>,\n             .arg(\"--manifest-path\")\n             .arg(builder.src.join(\"src/liballoc/Cargo.toml\"))\n             .arg(\"--features\")\n-            .arg(\"compiler-builtins-mem\");\n+            .arg(\"compiler-builtins-mem compiler-builtins-c\");\n     } else {\n         let features = builder.std_features();\n "}, {"sha": "bcb27bb5161e2d4bfe791164586a9fe537b93517", "filename": "src/liballoc/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/823a75d9ba34860b9a6712c7a9d35e86e0a88436/src%2Fliballoc%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/823a75d9ba34860b9a6712c7a9d35e86e0a88436/src%2Fliballoc%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2FCargo.toml?ref=823a75d9ba34860b9a6712c7a9d35e86e0a88436", "patch": "@@ -33,3 +33,4 @@ harness = false\n \n [features]\n compiler-builtins-mem = ['compiler_builtins/mem']\n+compiler-builtins-c = [\"compiler_builtins/c\"]"}, {"sha": "55e8b39974e09be7611e658533fab45cae204b55", "filename": "src/libstd/Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/823a75d9ba34860b9a6712c7a9d35e86e0a88436/src%2Flibstd%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/823a75d9ba34860b9a6712c7a9d35e86e0a88436/src%2Flibstd%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2FCargo.toml?ref=823a75d9ba34860b9a6712c7a9d35e86e0a88436", "patch": "@@ -19,7 +19,7 @@ panic_unwind = { path = \"../libpanic_unwind\", optional = true }\n panic_abort = { path = \"../libpanic_abort\" }\n core = { path = \"../libcore\" }\n libc = { version = \"0.2.51\", default-features = false, features = ['rustc-dep-of-std'] }\n-compiler_builtins = { version = \"0.1.12\" }\n+compiler_builtins = { version = \"0.1.14\" }\n profiler_builtins = { path = \"../libprofiler_builtins\", optional = true }\n unwind = { path = \"../libunwind\" }\n hashbrown = { version = \"0.3.0\", features = ['rustc-dep-of-std'] }\n@@ -54,7 +54,7 @@ default = [\"compiler_builtins_c\", \"std_detect_file_io\", \"std_detect_dlsym_getaux\n backtrace = [\"backtrace-sys\"]\n panic-unwind = [\"panic_unwind\"]\n profiler = [\"profiler_builtins\"]\n-compiler_builtins_c = [\"compiler_builtins/c\"]\n+compiler_builtins_c = [\"alloc/compiler-builtins-c\"]\n llvm-libunwind = [\"unwind/llvm-libunwind\"]\n \n # Make panics and failed asserts immediately abort without formatting any message"}]}