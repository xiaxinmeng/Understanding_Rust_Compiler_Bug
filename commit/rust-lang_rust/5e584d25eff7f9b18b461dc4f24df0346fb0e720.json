{"sha": "5e584d25eff7f9b18b461dc4f24df0346fb0e720", "node_id": "C_kwDOAAsO6NoAKDVlNTg0ZDI1ZWZmN2Y5YjE4YjQ2MWRjNGYyNGRmMDM0NmZiMGU3MjA", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-06-22T09:04:44Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-06-22T09:04:44Z"}, "message": "Auto merge of #2252 - dtolnay-contrib:rustfmt5, r=oli-obk\n\nFormat tests with rustfmt (225-275 of 300)\n\nExtracted from #2097.\n\nThese cases all involve a line comment at the end of a block that rustfmt has chosen to wrap.\n\n```diff\n- unsafe { (*ptr).set(20); } //~ ERROR does not exist in the borrow stack\n+ unsafe {\n+     (*ptr).set(20);\n+ } //~ ERROR does not exist in the borrow stack\n```\n\nI have moved all of those comments back onto the same line as the content of the block instead, as was indicated being `@RalfJung's` preference in https://github.com/rust-lang/miri/pull/2097#discussion_r862436672.\n\n```diff\n+ unsafe {\n+     (*ptr).set(20); //~ ERROR does not exist in the borrow stack\n+ }\n```", "tree": {"sha": "352d6c91f76b53d94f623dc96e5ddc7db0983d3d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/352d6c91f76b53d94f623dc96e5ddc7db0983d3d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5e584d25eff7f9b18b461dc4f24df0346fb0e720", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5e584d25eff7f9b18b461dc4f24df0346fb0e720", "html_url": "https://github.com/rust-lang/rust/commit/5e584d25eff7f9b18b461dc4f24df0346fb0e720", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5e584d25eff7f9b18b461dc4f24df0346fb0e720/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "769c6c742a9fe956d4d988aac252d1be92a3cff4", "url": "https://api.github.com/repos/rust-lang/rust/commits/769c6c742a9fe956d4d988aac252d1be92a3cff4", "html_url": "https://github.com/rust-lang/rust/commit/769c6c742a9fe956d4d988aac252d1be92a3cff4"}, {"sha": "f1044d2f774b3525ab28372ccd2be30911f2eb29", "url": "https://api.github.com/repos/rust-lang/rust/commits/f1044d2f774b3525ab28372ccd2be30911f2eb29", "html_url": "https://github.com/rust-lang/rust/commit/f1044d2f774b3525ab28372ccd2be30911f2eb29"}], "stats": {"total": 479, "additions": 294, "deletions": 185}, "files": [{"sha": "c1fec28ae3b7b3f5b8d8d426862abfb5cc910a85", "filename": "tests/fail/box-cell-alias.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fbox-cell-alias.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fbox-cell-alias.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fbox-cell-alias.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,7 +6,9 @@ use std::cell::Cell;\n \n fn helper(val: Box<Cell<u8>>, ptr: *const Cell<u8>) -> u8 {\n     val.set(10);\n-    unsafe { (*ptr).set(20); } //~ ERROR does not exist in the borrow stack\n+    unsafe {\n+        (*ptr).set(20); //~ ERROR does not exist in the borrow stack\n+    }\n     val.get()\n }\n "}, {"sha": "e5a3ad3d33af06174808b81e856dd5c46d4c4700", "filename": "tests/fail/box-cell-alias.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fbox-cell-alias.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fbox-cell-alias.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fbox-cell-alias.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,11 +1,11 @@\n error: Undefined Behavior: trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/box-cell-alias.rs:LL:CC\n    |\n-LL |     unsafe { (*ptr).set(20); }\n-   |              ^^^^^^^^^^^^^^\n-   |              |\n-   |              trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n-   |              this error occurs as part of a reborrow at ALLOC[0x0..0x1]\n+LL |         (*ptr).set(20);\n+   |         ^^^^^^^^^^^^^^\n+   |         |\n+   |         trying to reborrow <TAG> for SharedReadWrite permission at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |         this error occurs as part of a reborrow at ALLOC[0x0..0x1]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information"}, {"sha": "3115da436be843e6e50ad8586f458bebbe8327d5", "filename": "tests/fail/dangling_pointers/maybe_null_pointer_write_zst.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fdangling_pointers%2Fmaybe_null_pointer_write_zst.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fdangling_pointers%2Fmaybe_null_pointer_write_zst.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdangling_pointers%2Fmaybe_null_pointer_write_zst.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -7,5 +7,7 @@ fn main() {\n     // Also not assigning directly as that's array initialization, not assignment.\n     let zst_val = [1u8; 0];\n     let ptr = (&0u8 as *const u8).wrapping_sub(0x800) as *mut [u8; 0];\n-    unsafe { *ptr = zst_val; } //~ ERROR out-of-bounds\n+    unsafe {\n+        *ptr = zst_val; //~ ERROR out-of-bounds\n+    }\n }"}, {"sha": "79fd2ba086853a678033b3eddc066eb788689f57", "filename": "tests/fail/dangling_pointers/maybe_null_pointer_write_zst.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fdangling_pointers%2Fmaybe_null_pointer_write_zst.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fdangling_pointers%2Fmaybe_null_pointer_write_zst.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdangling_pointers%2Fmaybe_null_pointer_write_zst.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: dereferencing pointer failed: ALLOC has size 1, so pointer at offset -2048 is out-of-bounds\n   --> $DIR/maybe_null_pointer_write_zst.rs:LL:CC\n    |\n-LL |     unsafe { *ptr = zst_val; }\n-   |              ^^^^^^^^^^^^^^ dereferencing pointer failed: ALLOC has size 1, so pointer at offset -2048 is out-of-bounds\n+LL |         *ptr = zst_val;\n+   |         ^^^^^^^^^^^^^^ dereferencing pointer failed: ALLOC has size 1, so pointer at offset -2048 is out-of-bounds\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "7ab41232498ea9b1aed39df63a69f3284549b3de", "filename": "tests/fail/intrinsics/copy_null.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fcopy_null.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fcopy_null.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fcopy_null.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -9,5 +9,7 @@ fn main() {\n     let mut data = [0u16; 4];\n     let ptr = &mut data[0] as *mut u16;\n     // Even copying 0 elements from NULL should error.\n-    unsafe { copy_nonoverlapping(std::ptr::null(), ptr, 0); } //~ ERROR: memory access failed: null pointer is not a valid pointer\n+    unsafe {\n+        copy_nonoverlapping(std::ptr::null(), ptr, 0); //~ ERROR: memory access failed: null pointer is not a valid pointer\n+    }\n }"}, {"sha": "bb5a8742e9091bb938914f44645dfc59acc32a0c", "filename": "tests/fail/intrinsics/copy_null.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fcopy_null.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fcopy_null.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fcopy_null.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: memory access failed: null pointer is not a valid pointer\n   --> $DIR/copy_null.rs:LL:CC\n    |\n-LL |     unsafe { copy_nonoverlapping(std::ptr::null(), ptr, 0); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ memory access failed: null pointer is not a valid pointer\n+LL |         copy_nonoverlapping(std::ptr::null(), ptr, 0);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ memory access failed: null pointer is not a valid pointer\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "162f06bfacd9b9d6bc319063fb6b82fc5fbb2df6", "filename": "tests/fail/intrinsics/copy_unaligned.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fcopy_unaligned.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fcopy_unaligned.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fcopy_unaligned.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -9,5 +9,7 @@ fn main() {\n     let mut data = [0u16; 8];\n     let ptr = (&mut data[0] as *mut u16 as *mut u8).wrapping_add(1) as *mut u16;\n     // Even copying 0 elements to something unaligned should error\n-    unsafe { copy_nonoverlapping(&data[5], ptr, 0); } //~ ERROR accessing memory with alignment 1, but alignment 2 is required\n+    unsafe {\n+        copy_nonoverlapping(&data[5], ptr, 0); //~ ERROR accessing memory with alignment 1, but alignment 2 is required\n+    }\n }"}, {"sha": "b244eaeb4191665c38781b74897eb0b5972c1758", "filename": "tests/fail/intrinsics/copy_unaligned.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fcopy_unaligned.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fcopy_unaligned.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fcopy_unaligned.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: accessing memory with alignment ALIGN, but alignment ALIGN is required\n   --> $DIR/copy_unaligned.rs:LL:CC\n    |\n-LL |     unsafe { copy_nonoverlapping(&data[5], ptr, 0); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ accessing memory with alignment ALIGN, but alignment ALIGN is required\n+LL |         copy_nonoverlapping(&data[5], ptr, 0);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ accessing memory with alignment ALIGN, but alignment ALIGN is required\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "d8af789e99a20bb70a60bbd98cb1e987b8cd5bda", "filename": "tests/fail/intrinsics/exact_div1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fexact_div1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // divison by 0\n-    unsafe { std::intrinsics::exact_div(2, 0); } //~ ERROR divisor of zero\n+    unsafe {\n+        std::intrinsics::exact_div(2, 0); //~ ERROR divisor of zero\n+    }\n }"}, {"sha": "66f8168fade7208469e92b962f3f0cca709cd15d", "filename": "tests/fail/intrinsics/exact_div1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fexact_div1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: calculating the remainder with a divisor of zero\n   --> $DIR/exact_div1.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::exact_div(2, 0); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ calculating the remainder with a divisor of zero\n+LL |         std::intrinsics::exact_div(2, 0);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ calculating the remainder with a divisor of zero\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "80f9131bab799916ff65c269c6b152a8fb07750d", "filename": "tests/fail/intrinsics/exact_div2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fexact_div2.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // divison with a remainder\n-    unsafe { std::intrinsics::exact_div(2u16, 3); } //~ ERROR 2_u16 cannot be divided by 3_u16 without remainder\n+    unsafe {\n+        std::intrinsics::exact_div(2u16, 3); //~ ERROR 2_u16 cannot be divided by 3_u16 without remainder\n+    }\n }"}, {"sha": "2c102dd0b55cdfe07c2b671ba7061ae04611bc9f", "filename": "tests/fail/intrinsics/exact_div2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fexact_div2.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: exact_div: 2_u16 cannot be divided by 3_u16 without remainder\n   --> $DIR/exact_div2.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::exact_div(2u16, 3); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ exact_div: 2_u16 cannot be divided by 3_u16 without remainder\n+LL |         std::intrinsics::exact_div(2u16, 3);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ exact_div: 2_u16 cannot be divided by 3_u16 without remainder\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "976fca29f9bac59c1e65c50cb2dcdbc17e9910df", "filename": "tests/fail/intrinsics/exact_div3.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fexact_div3.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // signed divison with a remainder\n-    unsafe { std::intrinsics::exact_div(-19i8, 2); } //~ ERROR -19_i8 cannot be divided by 2_i8 without remainder\n+    unsafe {\n+        std::intrinsics::exact_div(-19i8, 2); //~ ERROR -19_i8 cannot be divided by 2_i8 without remainder\n+    }\n }"}, {"sha": "61eacdc65ff3e88877cc5c367ea872966de10a57", "filename": "tests/fail/intrinsics/exact_div3.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fexact_div3.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: exact_div: -19_i8 cannot be divided by 2_i8 without remainder\n   --> $DIR/exact_div3.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::exact_div(-19i8, 2); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ exact_div: -19_i8 cannot be divided by 2_i8 without remainder\n+LL |         std::intrinsics::exact_div(-19i8, 2);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ exact_div: -19_i8 cannot be divided by 2_i8 without remainder\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "5f4ca587e6d77ca3d4c26875caa7c22ea2fa8384", "filename": "tests/fail/intrinsics/exact_div4.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fexact_div4.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // divison of MIN by -1\n-    unsafe { std::intrinsics::exact_div(i64::MIN, -1); } //~ ERROR overflow in signed remainder (dividing MIN by -1)\n+    unsafe {\n+        std::intrinsics::exact_div(i64::MIN, -1); //~ ERROR overflow in signed remainder (dividing MIN by -1)\n+    }\n }"}, {"sha": "a3f5aafbe2d6b7b317740ae3d3e377b3f82a70ce", "filename": "tests/fail/intrinsics/exact_div4.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div4.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Fexact_div4.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Fexact_div4.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: overflow in signed remainder (dividing MIN by -1)\n   --> $DIR/exact_div4.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::exact_div(i64::MIN, -1); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow in signed remainder (dividing MIN by -1)\n+LL |         std::intrinsics::exact_div(i64::MIN, -1);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow in signed remainder (dividing MIN by -1)\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "a57845426d582ccf4a028233bf225fa1e152f1ce", "filename": "tests/fail/intrinsics/float_to_int_32_inf1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_inf1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_inf1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_inf1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f32, i32>(f32::INFINITY); } //~ ERROR: cannot be represented in target type `i32`\n+    unsafe {\n+        float_to_int_unchecked::<f32, i32>(f32::INFINITY); //~ ERROR: cannot be represented in target type `i32`\n+    }\n }"}, {"sha": "b12fd13b5f4dacee9defff1bc95e865196f226c1", "filename": "tests/fail/intrinsics/float_to_int_32_inf1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_inf1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_inf1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_inf1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on +Inf which cannot be represented in target type `i32`\n   --> $DIR/float_to_int_32_inf1.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f32, i32>(f32::INFINITY); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on +Inf which cannot be represented in target type `i32`\n+LL |         float_to_int_unchecked::<f32, i32>(f32::INFINITY);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on +Inf which cannot be represented in target type `i32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "d383fc5b50ac11f45b115d5b8cc5318e4230e029", "filename": "tests/fail/intrinsics/float_to_int_32_infneg1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_infneg1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_infneg1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_infneg1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f32, i32>(f32::NEG_INFINITY); } //~ ERROR: cannot be represented in target type `i32`\n+    unsafe {\n+        float_to_int_unchecked::<f32, i32>(f32::NEG_INFINITY); //~ ERROR: cannot be represented in target type `i32`\n+    }\n }"}, {"sha": "d9223462bfa59b2c72938428961ba3db43875e46", "filename": "tests/fail/intrinsics/float_to_int_32_infneg1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_infneg1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_infneg1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_infneg1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on -Inf which cannot be represented in target type `i32`\n   --> $DIR/float_to_int_32_infneg1.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f32, i32>(f32::NEG_INFINITY); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -Inf which cannot be represented in target type `i32`\n+LL |         float_to_int_unchecked::<f32, i32>(f32::NEG_INFINITY);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -Inf which cannot be represented in target type `i32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "a39a5066b6f8b86eb48dbc35ddfcc663f9ce53d0", "filename": "tests/fail/intrinsics/float_to_int_32_nan.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nan.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nan.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nan.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f32, u32>(f32::NAN); } //~ ERROR: cannot be represented in target type `u32`\n+    unsafe {\n+        float_to_int_unchecked::<f32, u32>(f32::NAN); //~ ERROR: cannot be represented in target type `u32`\n+    }\n }"}, {"sha": "cb8764174abdcbfbd929fdc48adcddd927b70ae2", "filename": "tests/fail/intrinsics/float_to_int_32_nan.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nan.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nan.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nan.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on NaN which cannot be represented in target type `u32`\n   --> $DIR/float_to_int_32_nan.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f32, u32>(f32::NAN); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on NaN which cannot be represented in target type `u32`\n+LL |         float_to_int_unchecked::<f32, u32>(f32::NAN);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on NaN which cannot be represented in target type `u32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "71436eb3ba846b2023a40b0351c609c3100a0177", "filename": "tests/fail/intrinsics/float_to_int_32_nanneg.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nanneg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nanneg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nanneg.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f32, u32>(-f32::NAN); } //~ ERROR: cannot be represented in target type `u32`\n+    unsafe {\n+        float_to_int_unchecked::<f32, u32>(-f32::NAN); //~ ERROR: cannot be represented in target type `u32`\n+    }\n }"}, {"sha": "49e19bf9635655b52207fc47bb764fa67a0751e3", "filename": "tests/fail/intrinsics/float_to_int_32_nanneg.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nanneg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nanneg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_nanneg.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on NaN which cannot be represented in target type `u32`\n   --> $DIR/float_to_int_32_nanneg.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f32, u32>(-f32::NAN); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on NaN which cannot be represented in target type `u32`\n+LL |         float_to_int_unchecked::<f32, u32>(-f32::NAN);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on NaN which cannot be represented in target type `u32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "98ba964e47c2a78905cac8a587655357f217b746", "filename": "tests/fail/intrinsics/float_to_int_32_neg.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_neg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_neg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_neg.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f32, u32>(-1.000000001f32); } //~ ERROR: cannot be represented in target type `u32`\n+    unsafe {\n+        float_to_int_unchecked::<f32, u32>(-1.000000001f32); //~ ERROR: cannot be represented in target type `u32`\n+    }\n }"}, {"sha": "5d847166a07180f2efb4c3bd25cd3bc54dbd5165", "filename": "tests/fail/intrinsics/float_to_int_32_neg.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_neg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_neg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_neg.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on -1 which cannot be represented in target type `u32`\n   --> $DIR/float_to_int_32_neg.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f32, u32>(-1.000000001f32); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -1 which cannot be represented in target type `u32`\n+LL |         float_to_int_unchecked::<f32, u32>(-1.000000001f32);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -1 which cannot be represented in target type `u32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "424b8fd965e9c65223f52158c1e8006a86ae950f", "filename": "tests/fail/intrinsics/float_to_int_32_too_big1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f32, i32>(2147483648.0f32); } //~ ERROR: cannot be represented in target type `i32`\n+    unsafe {\n+        float_to_int_unchecked::<f32, i32>(2147483648.0f32); //~ ERROR: cannot be represented in target type `i32`\n+    }\n }"}, {"sha": "be6ad1f381d4d3d3fcbe04dcdf6d85b30147a580", "filename": "tests/fail/intrinsics/float_to_int_32_too_big1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on 2.14748365E+9 which cannot be represented in target type `i32`\n   --> $DIR/float_to_int_32_too_big1.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f32, i32>(2147483648.0f32); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 2.14748365E+9 which cannot be represented in target type `i32`\n+LL |         float_to_int_unchecked::<f32, i32>(2147483648.0f32);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 2.14748365E+9 which cannot be represented in target type `i32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "5c50926c4df3e85530b15531312f7ac9632068ce", "filename": "tests/fail/intrinsics/float_to_int_32_too_big2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big2.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f32, u32>((u32::MAX-127) as f32); } //~ ERROR: cannot be represented in target type `u32`\n+    unsafe {\n+        float_to_int_unchecked::<f32, u32>((u32::MAX - 127) as f32); //~ ERROR: cannot be represented in target type `u32`\n+    }\n }"}, {"sha": "d7fbe5a34b52be24a59405cc649ba614cc6e34fd", "filename": "tests/fail/intrinsics/float_to_int_32_too_big2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_big2.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on 4.2949673E+9 which cannot be represented in target type `u32`\n   --> $DIR/float_to_int_32_too_big2.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f32, u32>((u32::MAX-127) as f32); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 4.2949673E+9 which cannot be represented in target type `u32`\n+LL |         float_to_int_unchecked::<f32, u32>((u32::MAX - 127) as f32);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 4.2949673E+9 which cannot be represented in target type `u32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "e0abd19d03fc9a4be314d049fd683eaf6073b58c", "filename": "tests/fail/intrinsics/float_to_int_32_too_small1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_small1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_small1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_small1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f32, i32>(-2147483904.0f32); } //~ ERROR: cannot be represented in target type `i32`\n+    unsafe {\n+        float_to_int_unchecked::<f32, i32>(-2147483904.0f32); //~ ERROR: cannot be represented in target type `i32`\n+    }\n }"}, {"sha": "2c225b85ec90c155a932371b5e7b7d9a87ac945c", "filename": "tests/fail/intrinsics/float_to_int_32_too_small1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_small1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_small1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_32_too_small1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on -2.1474839E+9 which cannot be represented in target type `i32`\n   --> $DIR/float_to_int_32_too_small1.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f32, i32>(-2147483904.0f32); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -2.1474839E+9 which cannot be represented in target type `i32`\n+LL |         float_to_int_unchecked::<f32, i32>(-2147483904.0f32);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -2.1474839E+9 which cannot be represented in target type `i32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "f5f842e58ece4adc4f84c14c88b5de19f3c86e20", "filename": "tests/fail/intrinsics/float_to_int_64_inf1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_inf1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_inf1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_inf1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, u128>(f64::INFINITY); } //~ ERROR: cannot be represented in target type `u128`\n+    unsafe {\n+        float_to_int_unchecked::<f64, u128>(f64::INFINITY); //~ ERROR: cannot be represented in target type `u128`\n+    }\n }"}, {"sha": "7bb1f08afa8744d9a80891d7146dec813332c495", "filename": "tests/fail/intrinsics/float_to_int_64_inf1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_inf1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_inf1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_inf1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on +Inf which cannot be represented in target type `u128`\n   --> $DIR/float_to_int_64_inf1.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, u128>(f64::INFINITY); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on +Inf which cannot be represented in target type `u128`\n+LL |         float_to_int_unchecked::<f64, u128>(f64::INFINITY);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on +Inf which cannot be represented in target type `u128`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "244c25b31cbfc6b791963a584fdcde690d2ad045", "filename": "tests/fail/intrinsics/float_to_int_64_infneg1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, u128>(f64::NEG_INFINITY); } //~ ERROR: cannot be represented in target type `u128`\n+    unsafe {\n+        float_to_int_unchecked::<f64, u128>(f64::NEG_INFINITY); //~ ERROR: cannot be represented in target type `u128`\n+    }\n }"}, {"sha": "eb96f6869a143117968ff493c275e90cd60929db", "filename": "tests/fail/intrinsics/float_to_int_64_infneg1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on -Inf which cannot be represented in target type `u128`\n   --> $DIR/float_to_int_64_infneg1.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, u128>(f64::NEG_INFINITY); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -Inf which cannot be represented in target type `u128`\n+LL |         float_to_int_unchecked::<f64, u128>(f64::NEG_INFINITY);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -Inf which cannot be represented in target type `u128`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "f7a663d12a56c3ecbb0cfd1726081997d3f33b7a", "filename": "tests/fail/intrinsics/float_to_int_64_infneg2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg2.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, i128>(f64::NEG_INFINITY); } //~ ERROR: cannot be represented in target type `i128`\n+    unsafe {\n+        float_to_int_unchecked::<f64, i128>(f64::NEG_INFINITY); //~ ERROR: cannot be represented in target type `i128`\n+    }\n }"}, {"sha": "a2f847be9071b108f39cbfbff88e2031d728bf9d", "filename": "tests/fail/intrinsics/float_to_int_64_infneg2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_infneg2.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on -Inf which cannot be represented in target type `i128`\n   --> $DIR/float_to_int_64_infneg2.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, i128>(f64::NEG_INFINITY); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -Inf which cannot be represented in target type `i128`\n+LL |         float_to_int_unchecked::<f64, i128>(f64::NEG_INFINITY);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -Inf which cannot be represented in target type `i128`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "171cbcc59344ffaef7d57ec8c585ea3077e0d7dc", "filename": "tests/fail/intrinsics/float_to_int_64_nan.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_nan.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_nan.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_nan.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, u32>(f64::NAN); } //~ ERROR: cannot be represented in target type `u32`\n+    unsafe {\n+        float_to_int_unchecked::<f64, u32>(f64::NAN); //~ ERROR: cannot be represented in target type `u32`\n+    }\n }"}, {"sha": "8da85497582088404c16b42482c0f379602c0a9e", "filename": "tests/fail/intrinsics/float_to_int_64_nan.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_nan.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_nan.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_nan.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on NaN which cannot be represented in target type `u32`\n   --> $DIR/float_to_int_64_nan.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, u32>(f64::NAN); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on NaN which cannot be represented in target type `u32`\n+LL |         float_to_int_unchecked::<f64, u32>(f64::NAN);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on NaN which cannot be represented in target type `u32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "40b67e173b97a1dd91b651ec4f6f4c56b3f7ff39", "filename": "tests/fail/intrinsics/float_to_int_64_neg.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_neg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_neg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_neg.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, u128>(-1.0000000000001f64); } //~ ERROR: cannot be represented in target type `u128`\n+    unsafe {\n+        float_to_int_unchecked::<f64, u128>(-1.0000000000001f64); //~ ERROR: cannot be represented in target type `u128`\n+    }\n }"}, {"sha": "35bb0aaa22cb36212ee25b053da74839826b6a98", "filename": "tests/fail/intrinsics/float_to_int_64_neg.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_neg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_neg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_neg.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on -1 which cannot be represented in target type `u128`\n   --> $DIR/float_to_int_64_neg.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, u128>(-1.0000000000001f64); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -1 which cannot be represented in target type `u128`\n+LL |         float_to_int_unchecked::<f64, u128>(-1.0000000000001f64);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -1 which cannot be represented in target type `u128`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "e785123c4ca91b9c5460a01a30b07905552b6ffc", "filename": "tests/fail/intrinsics/float_to_int_64_too_big1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, i32>(2147483648.0f64); } //~ ERROR: cannot be represented in target type `i32`\n+    unsafe {\n+        float_to_int_unchecked::<f64, i32>(2147483648.0f64); //~ ERROR: cannot be represented in target type `i32`\n+    }\n }"}, {"sha": "e031e00709e03bab21d2f87e60f0084b1b0c5e68", "filename": "tests/fail/intrinsics/float_to_int_64_too_big1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on 2147483648 which cannot be represented in target type `i32`\n   --> $DIR/float_to_int_64_too_big1.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, i32>(2147483648.0f64); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 2147483648 which cannot be represented in target type `i32`\n+LL |         float_to_int_unchecked::<f64, i32>(2147483648.0f64);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 2147483648 which cannot be represented in target type `i32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "4bf31d8ac0271a28757db815608e79440ba90bf0", "filename": "tests/fail/intrinsics/float_to_int_64_too_big2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big2.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, i64>(9223372036854775808.0f64); } //~ ERROR: cannot be represented in target type `i64`\n+    unsafe {\n+        float_to_int_unchecked::<f64, i64>(9223372036854775808.0f64); //~ ERROR: cannot be represented in target type `i64`\n+    }\n }"}, {"sha": "8c4478603fbd5b215744522c6dc09cf5269065d8", "filename": "tests/fail/intrinsics/float_to_int_64_too_big2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big2.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on 9.2233720368547758E+18 which cannot be represented in target type `i64`\n   --> $DIR/float_to_int_64_too_big2.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, i64>(9223372036854775808.0f64); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 9.2233720368547758E+18 which cannot be represented in target type `i64`\n+LL |         float_to_int_unchecked::<f64, i64>(9223372036854775808.0f64);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 9.2233720368547758E+18 which cannot be represented in target type `i64`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "9775a56724bc2540c042d93a0887691f6a1051b6", "filename": "tests/fail/intrinsics/float_to_int_64_too_big3.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big3.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, u64>(18446744073709551616.0f64); } //~ ERROR: cannot be represented in target type `u64`\n+    unsafe {\n+        float_to_int_unchecked::<f64, u64>(18446744073709551616.0f64); //~ ERROR: cannot be represented in target type `u64`\n+    }\n }"}, {"sha": "d7f97f37de59373f0e1bcda05e7f60afa4e663f8", "filename": "tests/fail/intrinsics/float_to_int_64_too_big3.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big3.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on 1.8446744073709552E+19 which cannot be represented in target type `u64`\n   --> $DIR/float_to_int_64_too_big3.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, u64>(18446744073709551616.0f64); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 1.8446744073709552E+19 which cannot be represented in target type `u64`\n+LL |         float_to_int_unchecked::<f64, u64>(18446744073709551616.0f64);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 1.8446744073709552E+19 which cannot be represented in target type `u64`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "53ff06e1e4678d2747e2403de16d889b5085768e", "filename": "tests/fail/intrinsics/float_to_int_64_too_big4.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big4.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, u128>(u128::MAX as f64); } //~ ERROR: cannot be represented in target type `u128`\n+    unsafe {\n+        float_to_int_unchecked::<f64, u128>(u128::MAX as f64); //~ ERROR: cannot be represented in target type `u128`\n+    }\n }"}, {"sha": "cfac443f4c9eda5e57b95bb714920c40f065e796", "filename": "tests/fail/intrinsics/float_to_int_64_too_big4.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big4.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big4.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big4.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on 3.4028236692093846E+38 which cannot be represented in target type `u128`\n   --> $DIR/float_to_int_64_too_big4.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, u128>(u128::MAX as f64); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 3.4028236692093846E+38 which cannot be represented in target type `u128`\n+LL |         float_to_int_unchecked::<f64, u128>(u128::MAX as f64);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 3.4028236692093846E+38 which cannot be represented in target type `u128`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "44356ff1771b11d87bc658b1b52f376c0a263e45", "filename": "tests/fail/intrinsics/float_to_int_64_too_big5.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big5.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big5.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big5.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, i128>(240282366920938463463374607431768211455.0f64); } //~ ERROR: cannot be represented in target type `i128`\n+    unsafe {\n+        float_to_int_unchecked::<f64, i128>(240282366920938463463374607431768211455.0f64); //~ ERROR: cannot be represented in target type `i128`\n+    }\n }"}, {"sha": "a0d501dad303f5c8c7ccc3a831822c81e7b7cccc", "filename": "tests/fail/intrinsics/float_to_int_64_too_big5.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big5.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big5.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big5.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on 2.4028236692093845E+38 which cannot be represented in target type `i128`\n   --> $DIR/float_to_int_64_too_big5.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, i128>(240282366920938463463374607431768211455.0f64); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 2.4028236692093845E+38 which cannot be represented in target type `i128`\n+LL |         float_to_int_unchecked::<f64, i128>(240282366920938463463374607431768211455.0f64);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 2.4028236692093845E+38 which cannot be represented in target type `i128`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "66f5be96bfd0eac53113ff4a827823ff6770ea3c", "filename": "tests/fail/intrinsics/float_to_int_64_too_big6.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big6.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big6.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big6.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, u128>(f64::MAX); } //~ ERROR: cannot be represented in target type `u128`\n+    unsafe {\n+        float_to_int_unchecked::<f64, u128>(f64::MAX); //~ ERROR: cannot be represented in target type `u128`\n+    }\n }"}, {"sha": "afb5d4ffe72280edf3f2e582cd28255b8a950014", "filename": "tests/fail/intrinsics/float_to_int_64_too_big6.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big6.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big6.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big6.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on 1.7976931348623157E+308 which cannot be represented in target type `u128`\n   --> $DIR/float_to_int_64_too_big6.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, u128>(f64::MAX); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 1.7976931348623157E+308 which cannot be represented in target type `u128`\n+LL |         float_to_int_unchecked::<f64, u128>(f64::MAX);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on 1.7976931348623157E+308 which cannot be represented in target type `u128`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "18b380e8575ee2ab62ca666156e0bfadde052890", "filename": "tests/fail/intrinsics/float_to_int_64_too_big7.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big7.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big7.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big7.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, i128>(f64::MIN); } //~ ERROR: cannot be represented in target type `i128`\n+    unsafe {\n+        float_to_int_unchecked::<f64, i128>(f64::MIN); //~ ERROR: cannot be represented in target type `i128`\n+    }\n }"}, {"sha": "291acf529b4fc37660a2dd311da3eb052c3ecc3e", "filename": "tests/fail/intrinsics/float_to_int_64_too_big7.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big7.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big7.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_big7.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on -1.7976931348623157E+308 which cannot be represented in target type `i128`\n   --> $DIR/float_to_int_64_too_big7.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, i128>(f64::MIN); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -1.7976931348623157E+308 which cannot be represented in target type `i128`\n+LL |         float_to_int_unchecked::<f64, i128>(f64::MIN);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -1.7976931348623157E+308 which cannot be represented in target type `i128`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "2a23b1dc8a4b857190b595a8ec9feea9a2973efe", "filename": "tests/fail/intrinsics/float_to_int_64_too_small1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, i32>(-2147483649.0f64); } //~ ERROR: cannot be represented in target type `i32`\n+    unsafe {\n+        float_to_int_unchecked::<f64, i32>(-2147483649.0f64); //~ ERROR: cannot be represented in target type `i32`\n+    }\n }"}, {"sha": "ceb625972690f97104cb86add8d2acfae8f027d1", "filename": "tests/fail/intrinsics/float_to_int_64_too_small1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on -2147483649 which cannot be represented in target type `i32`\n   --> $DIR/float_to_int_64_too_small1.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, i32>(-2147483649.0f64); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -2147483649 which cannot be represented in target type `i32`\n+LL |         float_to_int_unchecked::<f64, i32>(-2147483649.0f64);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -2147483649 which cannot be represented in target type `i32`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "7fc3effda5dffacbd0386871336334fdd00022ad", "filename": "tests/fail/intrinsics/float_to_int_64_too_small2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small2.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, i64>(-9223372036854777856.0f64); } //~ ERROR: cannot be represented in target type `i64`\n+    unsafe {\n+        float_to_int_unchecked::<f64, i64>(-9223372036854777856.0f64); //~ ERROR: cannot be represented in target type `i64`\n+    }\n }"}, {"sha": "f8255c2daca09056423388a102f66558e68cf175", "filename": "tests/fail/intrinsics/float_to_int_64_too_small2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small2.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on -9.2233720368547778E+18 which cannot be represented in target type `i64`\n   --> $DIR/float_to_int_64_too_small2.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, i64>(-9223372036854777856.0f64); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -9.2233720368547778E+18 which cannot be represented in target type `i64`\n+LL |         float_to_int_unchecked::<f64, i64>(-9223372036854777856.0f64);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -9.2233720368547778E+18 which cannot be represented in target type `i64`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "2a8f9c366425d54080fed6ce49ab321cf94c9d9a", "filename": "tests/fail/intrinsics/float_to_int_64_too_small3.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small3.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -6,5 +6,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    unsafe { float_to_int_unchecked::<f64, i128>(-240282366920938463463374607431768211455.0f64); } //~ ERROR: cannot be represented in target type `i128`\n+    unsafe {\n+        float_to_int_unchecked::<f64, i128>(-240282366920938463463374607431768211455.0f64); //~ ERROR: cannot be represented in target type `i128`\n+    }\n }"}, {"sha": "6bfb6f1f18d8a054f9441dff767a1eacbdfa4f48", "filename": "tests/fail/intrinsics/float_to_int_64_too_small3.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Ffloat_to_int_64_too_small3.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: `float_to_int_unchecked` intrinsic called on -2.4028236692093845E+38 which cannot be represented in target type `i128`\n   --> $DIR/float_to_int_64_too_small3.rs:LL:CC\n    |\n-LL |     unsafe { float_to_int_unchecked::<f64, i128>(-240282366920938463463374607431768211455.0f64); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -2.4028236692093845E+38 which cannot be represented in target type `i128`\n+LL |         float_to_int_unchecked::<f64, i128>(-240282366920938463463374607431768211455.0f64);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `float_to_int_unchecked` intrinsic called on -2.4028236692093845E+38 which cannot be represented in target type `i128`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "5409f66e805eab537fc0649ca0d22806976d044b", "filename": "tests/fail/intrinsics/unchecked_add1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_add1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_add1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_add1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // MAX overflow\n-    unsafe { std::intrinsics::unchecked_add(40000u16, 30000); } //~ ERROR overflow executing `unchecked_add`\n+    unsafe {\n+        std::intrinsics::unchecked_add(40000u16, 30000); //~ ERROR overflow executing `unchecked_add`\n+    }\n }"}, {"sha": "403bbbac5149f9b1eb13d92686b65273e156a855", "filename": "tests/fail/intrinsics/unchecked_add1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_add1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_add1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_add1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: overflow executing `unchecked_add`\n   --> $DIR/unchecked_add1.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::unchecked_add(40000u16, 30000); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_add`\n+LL |         std::intrinsics::unchecked_add(40000u16, 30000);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_add`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "5deef7ee5ccd32780185d9f93cdb9f92b051b49d", "filename": "tests/fail/intrinsics/unchecked_add2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_add2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_add2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_add2.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // MIN overflow\n-    unsafe { std::intrinsics::unchecked_add(-30000i16, -8000); } //~ ERROR overflow executing `unchecked_add`\n+    unsafe {\n+        std::intrinsics::unchecked_add(-30000i16, -8000); //~ ERROR overflow executing `unchecked_add`\n+    }\n }"}, {"sha": "4881fce719e7e1a2eb512d1b7d3d37fda99ae9a9", "filename": "tests/fail/intrinsics/unchecked_add2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_add2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_add2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_add2.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: overflow executing `unchecked_add`\n   --> $DIR/unchecked_add2.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::unchecked_add(-30000i16, -8000); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_add`\n+LL |         std::intrinsics::unchecked_add(-30000i16, -8000);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_add`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "c06a5bdce93e6771a3858709fe321c7712daae1f", "filename": "tests/fail/intrinsics/unchecked_div1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_div1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_div1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_div1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // MIN/-1 cannot be represented\n-    unsafe { std::intrinsics::unchecked_div(i16::MIN, -1); } //~ ERROR overflow in signed division (dividing MIN by -1)\n+    unsafe {\n+        std::intrinsics::unchecked_div(i16::MIN, -1); //~ ERROR overflow in signed division (dividing MIN by -1)\n+    }\n }"}, {"sha": "4792608961d3d8eb6b3920701b087ec9935e6fa3", "filename": "tests/fail/intrinsics/unchecked_div1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_div1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_div1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_div1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: overflow in signed division (dividing MIN by -1)\n   --> $DIR/unchecked_div1.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::unchecked_div(i16::MIN, -1); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow in signed division (dividing MIN by -1)\n+LL |         std::intrinsics::unchecked_div(i16::MIN, -1);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow in signed division (dividing MIN by -1)\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "140bc9e6c75b25cb2031fb16ec30c165442acc3b", "filename": "tests/fail/intrinsics/unchecked_mul1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_mul1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_mul1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_mul1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // MAX overflow\n-    unsafe { std::intrinsics::unchecked_mul(300u16, 250u16); } //~ ERROR overflow executing `unchecked_mul`\n+    unsafe {\n+        std::intrinsics::unchecked_mul(300u16, 250u16); //~ ERROR overflow executing `unchecked_mul`\n+    }\n }"}, {"sha": "e94676fdfed793c15fb986e3f3cd098cbd075534", "filename": "tests/fail/intrinsics/unchecked_mul1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_mul1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_mul1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_mul1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: overflow executing `unchecked_mul`\n   --> $DIR/unchecked_mul1.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::unchecked_mul(300u16, 250u16); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_mul`\n+LL |         std::intrinsics::unchecked_mul(300u16, 250u16);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_mul`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "c4d16084b3f03cc025c693ad0ab4699292712aa3", "filename": "tests/fail/intrinsics/unchecked_mul2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_mul2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_mul2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_mul2.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // MIN overflow\n-    unsafe { std::intrinsics::unchecked_mul(1_000_000_000i32, -4); } //~ ERROR overflow executing `unchecked_mul`\n+    unsafe {\n+        std::intrinsics::unchecked_mul(1_000_000_000i32, -4); //~ ERROR overflow executing `unchecked_mul`\n+    }\n }"}, {"sha": "493e04e46634d2abb1f2d6cc144bf91832c7addc", "filename": "tests/fail/intrinsics/unchecked_mul2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_mul2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_mul2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_mul2.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: overflow executing `unchecked_mul`\n   --> $DIR/unchecked_mul2.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::unchecked_mul(1_000_000_000i32, -4); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_mul`\n+LL |         std::intrinsics::unchecked_mul(1_000_000_000i32, -4);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_mul`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "cff79f9135f1fc048fa52e6b96af2949da31ffde", "filename": "tests/fail/intrinsics/unchecked_sub1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_sub1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_sub1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_sub1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // MIN overflow\n-    unsafe { std::intrinsics::unchecked_sub(14u32, 22); } //~ ERROR overflow executing `unchecked_sub`\n+    unsafe {\n+        std::intrinsics::unchecked_sub(14u32, 22); //~ ERROR overflow executing `unchecked_sub`\n+    }\n }"}, {"sha": "838005dc1e31df39f1cc5000f6a93b9b8526d4b6", "filename": "tests/fail/intrinsics/unchecked_sub1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_sub1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_sub1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_sub1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: overflow executing `unchecked_sub`\n   --> $DIR/unchecked_sub1.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::unchecked_sub(14u32, 22); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_sub`\n+LL |         std::intrinsics::unchecked_sub(14u32, 22);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_sub`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "9b741c2663d89ef1b1bc635e0d77a3f71976374d", "filename": "tests/fail/intrinsics/unchecked_sub2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_sub2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_sub2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_sub2.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,5 +1,7 @@\n #![feature(core_intrinsics)]\n fn main() {\n     // MAX overflow\n-    unsafe { std::intrinsics::unchecked_sub(30000i16, -7000); } //~ ERROR overflow executing `unchecked_sub`\n+    unsafe {\n+        std::intrinsics::unchecked_sub(30000i16, -7000); //~ ERROR overflow executing `unchecked_sub`\n+    }\n }"}, {"sha": "dc4b170198797f96b3490d4d052b2db7a1ddccbd", "filename": "tests/fail/intrinsics/unchecked_sub2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_sub2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fintrinsics%2Funchecked_sub2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fintrinsics%2Funchecked_sub2.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: overflow executing `unchecked_sub`\n   --> $DIR/unchecked_sub2.rs:LL:CC\n    |\n-LL |     unsafe { std::intrinsics::unchecked_sub(30000i16, -7000); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_sub`\n+LL |         std::intrinsics::unchecked_sub(30000i16, -7000);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ overflow executing `unchecked_sub`\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "6afcd7ae7ff1fe5be79e75fad8e6ab483633fd24", "filename": "tests/fail/panic/unwind_panic_abort.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fpanic%2Funwind_panic_abort.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fpanic%2Funwind_panic_abort.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fpanic%2Funwind_panic_abort.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -7,5 +7,7 @@ extern \"Rust\" {\n }\n \n fn main() {\n-    unsafe { miri_start_panic(&mut 0); } //~ ERROR unwinding past a stack frame that does not allow unwinding\n+    unsafe {\n+        miri_start_panic(&mut 0); //~ ERROR unwinding past a stack frame that does not allow unwinding\n+    }\n }"}, {"sha": "7094aebd6131c0c54403fda22fa919be1284ec1b", "filename": "tests/fail/panic/unwind_panic_abort.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fpanic%2Funwind_panic_abort.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fpanic%2Funwind_panic_abort.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fpanic%2Funwind_panic_abort.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: unwinding past a stack frame that does not allow unwinding\n   --> $DIR/unwind_panic_abort.rs:LL:CC\n    |\n-LL |     unsafe { miri_start_panic(&mut 0); }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^ unwinding past a stack frame that does not allow unwinding\n+LL |         miri_start_panic(&mut 0);\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^ unwinding past a stack frame that does not allow unwinding\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "3b67accbbd2eb6771923403cd214e98e145687b4", "filename": "tests/fail/stacked_borrows/illegal_write1.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fillegal_write1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -2,8 +2,10 @@ fn main() {\n     let target = Box::new(42); // has an implicit raw\n     let xref = &*target;\n     {\n-        let x : *mut u32 = xref as *const _ as *mut _;\n-        unsafe { *x = 42; } // invalidates shared ref, activates raw\n+        let x: *mut u32 = xref as *const _ as *mut _;\n+        unsafe {\n+            *x = 42; // invalidates shared ref, activates raw\n+        }\n     }\n     let _x = *xref; //~ ERROR borrow stack\n }"}, {"sha": "a70a45f2235aff14d7770ae454136be0d0fe67dc", "filename": "tests/fail/stacked_borrows/illegal_write1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fillegal_write1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -17,8 +17,8 @@ LL |     let xref = &*target;\n help: <TAG> was later invalidated at offsets [0x0..0x4]\n   --> $DIR/illegal_write1.rs:LL:CC\n    |\n-LL |         unsafe { *x = 42; } // invalidates shared ref, activates raw\n-   |                  ^^^^^^^\n+LL |             *x = 42; // invalidates shared ref, activates raw\n+   |             ^^^^^^^\n    = note: inside `main` at $DIR/illegal_write1.rs:LL:CC\n \n note: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace"}, {"sha": "a106b4240c3c0d4ca5f07023ab34c2902c970add", "filename": "tests/fail/stacked_borrows/illegal_write2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fillegal_write2.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -3,6 +3,8 @@ fn main() {\n     let target2 = target as *mut _;\n     drop(&mut *target); // reborrow\n     // Now make sure our ref is still the only one.\n-    unsafe { *target2 = 13; } //~ ERROR borrow stack\n+    unsafe {\n+        *target2 = 13; //~ ERROR borrow stack\n+    }\n     let _val = *target;\n }"}, {"sha": "d2a06cc386a144e6bab75d5e330926d885704ead", "filename": "tests/fail/stacked_borrows/illegal_write2.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fillegal_write2.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,11 +1,11 @@\n error: Undefined Behavior: attempting a write access using <untagged> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/illegal_write2.rs:LL:CC\n    |\n-LL |     unsafe { *target2 = 13; }\n-   |              ^^^^^^^^^^^^^\n-   |              |\n-   |              attempting a write access using <untagged> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n-   |              this error occurs as part of an access at ALLOC[0x0..0x4]\n+LL |         *target2 = 13;\n+   |         ^^^^^^^^^^^^^\n+   |         |\n+   |         attempting a write access using <untagged> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |         this error occurs as part of an access at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information"}, {"sha": "5bf651b33aa08619a82af3d8cb8898122f2bf184", "filename": "tests/fail/stacked_borrows/illegal_write3.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fillegal_write3.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -3,6 +3,8 @@ fn main() {\n     // Make sure raw ptr with raw tag cannot mutate frozen location without breaking the shared ref.\n     let r#ref = &target; // freeze\n     let ptr = r#ref as *const _ as *mut _; // raw ptr, with raw tag\n-    unsafe { *ptr = 42; } //~ ERROR only grants SharedReadOnly permission\n+    unsafe {\n+        *ptr = 42; //~ ERROR only grants SharedReadOnly permission\n+    }\n     let _val = *r#ref;\n }"}, {"sha": "fc87557ea9b467448ff1782ecd010f4d16ba67c0", "filename": "tests/fail/stacked_borrows/illegal_write3.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fillegal_write3.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,11 +1,11 @@\n error: Undefined Behavior: attempting a write access using <untagged> at ALLOC[0x0], but that tag only grants SharedReadOnly permission for this location\n   --> $DIR/illegal_write3.rs:LL:CC\n    |\n-LL |     unsafe { *ptr = 42; }\n-   |              ^^^^^^^^^\n-   |              |\n-   |              attempting a write access using <untagged> at ALLOC[0x0], but that tag only grants SharedReadOnly permission for this location\n-   |              this error occurs as part of an access at ALLOC[0x0..0x4]\n+LL |         *ptr = 42;\n+   |         ^^^^^^^^^\n+   |         |\n+   |         attempting a write access using <untagged> at ALLOC[0x0], but that tag only grants SharedReadOnly permission for this location\n+   |         this error occurs as part of an access at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information"}, {"sha": "07d57241205f371efbc48eb31b23dcd38c955e12", "filename": "tests/fail/stacked_borrows/illegal_write6.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write6.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write6.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fillegal_write6.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -7,6 +7,8 @@ fn main() {\n fn foo(a: &mut u32, y: *mut u32) -> u32 {\n     *a = 1;\n     let _b = &*a;\n-    unsafe { *y = 2; } //~ ERROR: not granting access to tag\n+    unsafe {\n+        *y = 2; //~ ERROR: not granting access to tag\n+    }\n     return *a;\n }"}, {"sha": "3a7fc0ef8116bc46b7998109d91c381b9fbfaf83", "filename": "tests/fail/stacked_borrows/illegal_write6.stderr", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write6.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fillegal_write6.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fillegal_write6.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: not granting access to tag <untagged> because incompatible item is protected: [Unique for <TAG> (call ID)]\n   --> $DIR/illegal_write6.rs:LL:CC\n    |\n-LL |     unsafe { *y = 2; }\n-   |              ^^^^^^ not granting access to tag <untagged> because incompatible item is protected: [Unique for <TAG> (call ID)]\n+LL |         *y = 2;\n+   |         ^^^^^^ not granting access to tag <untagged> because incompatible item is protected: [Unique for <TAG> (call ID)]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n@@ -22,7 +22,8 @@ help: this protector is live for this call\n LL | / fn foo(a: &mut u32, y: *mut u32) -> u32 {\n LL | |     *a = 1;\n LL | |     let _b = &*a;\n-LL | |     unsafe { *y = 2; }\n+LL | |     unsafe {\n+...  |\n LL | |     return *a;\n LL | | }\n    | |_^"}, {"sha": "0a99e4ce47e7ff0d3daa8c4776875f249781a33b", "filename": "tests/fail/stacked_borrows/raw_tracking.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fraw_tracking.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fraw_tracking.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fraw_tracking.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -7,6 +7,10 @@ fn main() {\n     let raw2 = &mut l as *mut _; // invalidates raw1\n     // Without raw pointer tracking, Stacked Borrows cannot distinguish raw1 and raw2, and thus\n     // fails to realize that raw1 should not be used any more.\n-    unsafe { *raw1 = 13; } //~ ERROR does not exist in the borrow stack\n-    unsafe { *raw2 = 13; }\n+    unsafe {\n+        *raw1 = 13; //~ ERROR does not exist in the borrow stack\n+    }\n+    unsafe {\n+        *raw2 = 13;\n+    }\n }"}, {"sha": "60a277ee057ec9f24311c0718935c6d7377c6bc5", "filename": "tests/fail/stacked_borrows/raw_tracking.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fraw_tracking.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fraw_tracking.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fraw_tracking.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,11 +1,11 @@\n error: Undefined Behavior: attempting a write access using <TAG> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/raw_tracking.rs:LL:CC\n    |\n-LL |     unsafe { *raw1 = 13; }\n-   |              ^^^^^^^^^^\n-   |              |\n-   |              attempting a write access using <TAG> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n-   |              this error occurs as part of an access at ALLOC[0x0..0x4]\n+LL |         *raw1 = 13;\n+   |         ^^^^^^^^^^\n+   |         |\n+   |         attempting a write access using <TAG> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |         this error occurs as part of an access at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information"}, {"sha": "a6dd9ef4c2eeffd3c1ebbeebd73837cad8f3a258", "filename": "tests/fail/stacked_borrows/shr_frozen_violation1.rs", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fshr_frozen_violation1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fshr_frozen_violation1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fshr_frozen_violation1.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,13 +1,15 @@\n fn foo(x: &mut i32) -> i32 {\n-  *x = 5;\n-  unknown_code(&*x);\n-  *x // must return 5\n+    *x = 5;\n+    unknown_code(&*x);\n+    *x // must return 5\n }\n \n fn main() {\n     println!(\"{}\", foo(&mut 0));\n }\n \n fn unknown_code(x: &i32) {\n-    unsafe { *(x as *const i32 as *mut i32) = 7; } //~ ERROR only grants SharedReadOnly permission\n+    unsafe {\n+        *(x as *const i32 as *mut i32) = 7; //~ ERROR only grants SharedReadOnly permission\n+    }\n }"}, {"sha": "0808d8471b452c675d394c910e04d9b0edb3694f", "filename": "tests/fail/stacked_borrows/shr_frozen_violation1.stderr", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fshr_frozen_violation1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Fshr_frozen_violation1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Fshr_frozen_violation1.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,25 +1,25 @@\n error: Undefined Behavior: attempting a write access using <untagged> at ALLOC[0x0], but that tag only grants SharedReadOnly permission for this location\n   --> $DIR/shr_frozen_violation1.rs:LL:CC\n    |\n-LL |     unsafe { *(x as *const i32 as *mut i32) = 7; }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |              |\n-   |              attempting a write access using <untagged> at ALLOC[0x0], but that tag only grants SharedReadOnly permission for this location\n-   |              this error occurs as part of an access at ALLOC[0x0..0x4]\n+LL |         *(x as *const i32 as *mut i32) = 7;\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |         |\n+   |         attempting a write access using <untagged> at ALLOC[0x0], but that tag only grants SharedReadOnly permission for this location\n+   |         this error occurs as part of an access at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n help: tag was most recently created at offsets [0x0..0x4]\n   --> $DIR/shr_frozen_violation1.rs:LL:CC\n    |\n-LL |     unsafe { *(x as *const i32 as *mut i32) = 7; }\n-   |                ^\n+LL |         *(x as *const i32 as *mut i32) = 7;\n+   |           ^\n    = note: inside `unknown_code` at $DIR/shr_frozen_violation1.rs:LL:CC\n note: inside `foo` at $DIR/shr_frozen_violation1.rs:LL:CC\n   --> $DIR/shr_frozen_violation1.rs:LL:CC\n    |\n-LL |   unknown_code(&*x);\n-   |   ^^^^^^^^^^^^^^^^^\n+LL |     unknown_code(&*x);\n+   |     ^^^^^^^^^^^^^^^^^\n note: inside `main` at $DIR/shr_frozen_violation1.rs:LL:CC\n   --> $DIR/shr_frozen_violation1.rs:LL:CC\n    |"}, {"sha": "e23c893d6aaa3a5dfd9da917ae8256c50f4b71f0", "filename": "tests/fail/stacked_borrows/transmute-is-no-escape.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Ftransmute-is-no-escape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Ftransmute-is-no-escape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Ftransmute-is-no-escape.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -10,5 +10,7 @@ fn main() {\n     let _raw: *mut i32 = unsafe { mem::transmute(&mut x[0]) };\n     // `raw` still carries a tag, so we get another pointer to the same location that does not carry a tag\n     let raw = (&mut x[1] as *mut i32).wrapping_offset(-1);\n-    unsafe { *raw = 13; } //~ ERROR borrow stack\n+    unsafe {\n+        *raw = 13; //~ ERROR borrow stack\n+    }\n }"}, {"sha": "c077e37844d156ca6156db6666a0ae4fe2f9a08f", "filename": "tests/fail/stacked_borrows/transmute-is-no-escape.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Ftransmute-is-no-escape.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Ftransmute-is-no-escape.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Ftransmute-is-no-escape.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,11 +1,11 @@\n error: Undefined Behavior: attempting a write access using <untagged> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/transmute-is-no-escape.rs:LL:CC\n    |\n-LL |     unsafe { *raw = 13; }\n-   |              ^^^^^^^^^\n-   |              |\n-   |              attempting a write access using <untagged> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n-   |              this error occurs as part of an access at ALLOC[0x0..0x4]\n+LL |         *raw = 13;\n+   |         ^^^^^^^^^\n+   |         |\n+   |         attempting a write access using <untagged> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |         this error occurs as part of an access at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information"}, {"sha": "bfc937bb12b7f92cd6a18dfedc47f0bea4f94d90", "filename": "tests/fail/stacked_borrows/unescaped_local.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Funescaped_local.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Funescaped_local.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Funescaped_local.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -4,5 +4,7 @@ fn main() {\n     let mut x = 42;\n     let raw = &mut x as *mut i32 as usize as *mut i32;\n     let _ptr = &mut x;\n-    unsafe { *raw = 13; } //~ ERROR borrow stack\n+    unsafe {\n+        *raw = 13; //~ ERROR borrow stack\n+    }\n }"}, {"sha": "616c60b8aa1b8f8277804d9ebeb522d9d7860d6f", "filename": "tests/fail/stacked_borrows/unescaped_local.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Funescaped_local.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fstacked_borrows%2Funescaped_local.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fstacked_borrows%2Funescaped_local.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,11 +1,11 @@\n error: Undefined Behavior: attempting a write access using <untagged> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n   --> $DIR/unescaped_local.rs:LL:CC\n    |\n-LL |     unsafe { *raw = 13; }\n-   |              ^^^^^^^^^\n-   |              |\n-   |              attempting a write access using <untagged> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n-   |              this error occurs as part of an access at ALLOC[0x0..0x4]\n+LL |         *raw = 13;\n+   |         ^^^^^^^^^\n+   |         |\n+   |         attempting a write access using <untagged> at ALLOC[0x0], but that tag does not exist in the borrow stack for this location\n+   |         this error occurs as part of an access at ALLOC[0x0..0x4]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information"}, {"sha": "e96f08fc9a7a9ae5d702a8692c092e7fea27154d", "filename": "tests/fail/unaligned_pointers/intptrcast_alignment_check.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Funaligned_pointers%2Fintptrcast_alignment_check.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Funaligned_pointers%2Fintptrcast_alignment_check.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Funaligned_pointers%2Fintptrcast_alignment_check.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -10,8 +10,10 @@ fn main() {\n     let x = &mut [0u8; 3];\n     let base_addr = x as *mut _ as usize;\n     // Manually make sure the pointer is properly aligned.\n-    let base_addr_aligned = if base_addr % 2 == 0 { base_addr } else { base_addr+1 };\n+    let base_addr_aligned = if base_addr % 2 == 0 { base_addr } else { base_addr + 1 };\n     let u16_ptr = base_addr_aligned as *mut u16;\n-    unsafe { *u16_ptr = 2; } //~ERROR memory with alignment 1, but alignment 2 is required\n+    unsafe {\n+        *u16_ptr = 2; //~ERROR memory with alignment 1, but alignment 2 is required\n+    }\n     println!(\"{:?}\", x);\n }"}, {"sha": "fe63b05a55014e175dc6aebc1dca7295d4ac9398", "filename": "tests/fail/unaligned_pointers/intptrcast_alignment_check.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Funaligned_pointers%2Fintptrcast_alignment_check.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Funaligned_pointers%2Fintptrcast_alignment_check.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Funaligned_pointers%2Fintptrcast_alignment_check.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: accessing memory with alignment ALIGN, but alignment ALIGN is required\n   --> $DIR/intptrcast_alignment_check.rs:LL:CC\n    |\n-LL |     unsafe { *u16_ptr = 2; }\n-   |              ^^^^^^^^^^^^ accessing memory with alignment ALIGN, but alignment ALIGN is required\n+LL |         *u16_ptr = 2;\n+   |         ^^^^^^^^^^^^ accessing memory with alignment ALIGN, but alignment ALIGN is required\n    |\n    = help: this usually indicates that your program performed an invalid operation and caused Undefined Behavior\n    = help: but due to `-Zmiri-symbolic-alignment-check`, alignment errors can also be false positives"}, {"sha": "4af3b8aef6aaab785a8725c0722e41dd74449b4e", "filename": "tests/fail/validity/transmute_through_ptr.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fvalidity%2Ftransmute_through_ptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fvalidity%2Ftransmute_through_ptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fvalidity%2Ftransmute_through_ptr.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,10 +1,14 @@\n #[repr(u32)]\n #[derive(Debug)]\n-enum Bool { True }\n+enum Bool {\n+    True,\n+}\n \n fn evil(x: &mut Bool) {\n     let x = x as *mut _ as *mut u32;\n-    unsafe { *x = 44; } // out-of-bounds enum tag\n+    unsafe {\n+        *x = 44; // out-of-bounds enum tag\n+    }\n }\n \n #[rustfmt::skip] // rustfmt bug: https://github.com/rust-lang/rustfmt/issues/5391"}, {"sha": "2499f79142dbe784f590b53aae9a128ce192b390", "filename": "tests/fail/zst2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fzst2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fzst2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fzst2.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -11,5 +11,7 @@ fn main() {\n     let mut x_box = Box::new(1u8);\n     let x = &mut *x_box as *mut _ as *mut [u8; 0];\n     drop(x_box);\n-    unsafe { *x = zst_val; } //~ ERROR dereferenced after this allocation got freed\n+    unsafe {\n+        *x = zst_val; //~ ERROR dereferenced after this allocation got freed\n+    }\n }"}, {"sha": "0df2098d2e19a5a12580f84858c39ea92f06856b", "filename": "tests/fail/zst2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fzst2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fzst2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fzst2.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: pointer to ALLOC was dereferenced after this allocation got freed\n   --> $DIR/zst2.rs:LL:CC\n    |\n-LL |     unsafe { *x = zst_val; }\n-   |              ^^^^^^^^^^^^ pointer to ALLOC was dereferenced after this allocation got freed\n+LL |         *x = zst_val;\n+   |         ^^^^^^^^^^^^ pointer to ALLOC was dereferenced after this allocation got freed\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}, {"sha": "741374c7ad98857f74352694135cec37ee2e93bd", "filename": "tests/fail/zst3.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fzst3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fzst3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fzst3.rs?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -11,8 +11,12 @@ fn main() {\n     let mut x_box = Box::new(1u8);\n     let x = (&mut *x_box as *mut u8).wrapping_offset(1);\n     // This one is just \"at the edge\", but still okay\n-    unsafe { *(x as *mut [u8; 0]) = zst_val; }\n+    unsafe {\n+        *(x as *mut [u8; 0]) = zst_val;\n+    }\n     // One byte further is OOB.\n     let x = x.wrapping_offset(1);\n-    unsafe { *(x as *mut [u8; 0]) = zst_val; } //~ ERROR out-of-bounds\n+    unsafe {\n+        *(x as *mut [u8; 0]) = zst_val; //~ ERROR out-of-bounds\n+    }\n }"}, {"sha": "dce0d7b3891ca8daf507335684c980e90e0f38be", "filename": "tests/fail/zst3.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fzst3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5e584d25eff7f9b18b461dc4f24df0346fb0e720/tests%2Ffail%2Fzst3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fzst3.stderr?ref=5e584d25eff7f9b18b461dc4f24df0346fb0e720", "patch": "@@ -1,8 +1,8 @@\n error: Undefined Behavior: dereferencing pointer failed: ALLOC has size 1, so pointer at offset 2 is out-of-bounds\n   --> $DIR/zst3.rs:LL:CC\n    |\n-LL |     unsafe { *(x as *mut [u8; 0]) = zst_val; }\n-   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ dereferencing pointer failed: ALLOC has size 1, so pointer at offset 2 is out-of-bounds\n+LL |         *(x as *mut [u8; 0]) = zst_val;\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ dereferencing pointer failed: ALLOC has size 1, so pointer at offset 2 is out-of-bounds\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information"}]}