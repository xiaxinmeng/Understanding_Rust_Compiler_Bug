{"sha": "3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNjZTVhOTUzOWZjN2MyMGNmNmEyMjhiZmM3ZDdmZGUwM2I5YzZiOTM=", "commit": {"author": {"name": "Ariel Ben-Yehuda", "email": "ariel.byd@gmail.com", "date": "2014-10-17T09:37:27Z"}, "committer": {"name": "Ariel Ben-Yehuda", "email": "ariel.byd@gmail.com", "date": "2014-10-17T09:37:27Z"}, "message": "Make the tests green as they should on 32-bit architectures\n\nOn 32-bit architectures, the size calculations on two of the tests wrap-around\nin typeck, which gives the relevant arrays a size of 0, which is (correctly)\nsuccessfully allocated.", "tree": {"sha": "2d0a90e3355a1bae9c70122328650b14cc30057d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2d0a90e3355a1bae9c70122328650b14cc30057d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93", "comment_count": 4, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93", "html_url": "https://github.com/rust-lang/rust/commit/3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93/comments", "author": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "committer": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50db061173a2a54a9897e2d42f88b95d2b820cc4", "url": "https://api.github.com/repos/rust-lang/rust/commits/50db061173a2a54a9897e2d42f88b95d2b820cc4", "html_url": "https://github.com/rust-lang/rust/commit/50db061173a2a54a9897e2d42f88b95d2b820cc4"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "b23d0716e6ddbb12a2786f6985b474f95819f385", "filename": "src/test/compile-fail/huge-array-simple.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93/src%2Ftest%2Fcompile-fail%2Fhuge-array-simple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93/src%2Ftest%2Fcompile-fail%2Fhuge-array-simple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhuge-array-simple.rs?ref=3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93", "patch": "@@ -11,5 +11,5 @@\n // error-pattern: too big for the current\n \n fn main() {\n-   let fat : [u8, ..1<<61] = [0, ..1<<61];\n+   let fat : [u8, ..(1<<61)+(1<<31)] = [0, ..(1<<61)+(1<<31)];\n }"}, {"sha": "037674aaa07bc795cb6e1c3efc2d13e4b14efc06", "filename": "src/test/compile-fail/issue-17913.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93/src%2Ftest%2Fcompile-fail%2Fissue-17913.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93/src%2Ftest%2Fcompile-fail%2Fissue-17913.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-17913.rs?ref=3ce5a9539fc7c20cf6a228bfc7d7fde03b9c6b93", "patch": "@@ -10,8 +10,16 @@\n \n // error-pattern: too big for the current architecture\n \n+#[cfg(target_word_size = \"64\")]\n fn main() {\n     let n = 0u;\n     let a = box [&n,..0xF000000000000000u];\n     println!(\"{}\", a[0xFFFFFFu]);\n }\n+ \n+#[cfg(target_word_size = \"32\")]\n+fn main() {\n+    let n = 0u;\n+    let a = box [&n,..0xFFFFFFFFu];\n+    println!(\"{}\", a[0xFFFFFFu]);\n+}"}]}