{"sha": "07f54d94e608fc29e8aad386831dacee397e2282", "node_id": "C_kwDOAAsO6NoAKDA3ZjU0ZDk0ZTYwOGZjMjllOGFhZDM4NjgzMWRhY2VlMzk3ZTIyODI", "commit": {"author": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2021-08-13T20:50:46Z"}, "committer": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2021-10-30T11:03:49Z"}, "message": "Use \"rustc\" for testing Command args\n\n\"echo\" is not an application on Windows so `Command` tests could fail even if that's not what's being tested for.", "tree": {"sha": "88c00441a2cbb1dbeb267e45a1d1b009be126ae7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/88c00441a2cbb1dbeb267e45a1d1b009be126ae7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/07f54d94e608fc29e8aad386831dacee397e2282", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+p/jD6jrzmnSIWJLcTRy8vRWJ94FAmF9JpUACgkQcTRy8vRW\nJ94M9BAAoH0WaXtvK7o4SQX6PdOjLnc2Rp2QXuo9joJgp1BwqiTGSE22rpADEMvS\n+JxXEEnO1E2tzY2p9/hKkfVgCRiOwoiIe5ar5tjfhO4bRmNz2GJc6Bx15KEFrR9C\nB48519/0jthjkQn63SHcbJ4jyh85zf6qA3nL8XtfwVibuBUzalGwIq4Qq8R7qOu8\nxY714zCTBm3YHo6pN594cuLzBsDDkWlmCYh5euwGIhLWb0mNQlWRXF5oW740ezpR\n4zG0fUckWKTs6raOkzQmY2hM1qUSoNZZQu7tHB/KYPo5bzJDtJQW9oT/hYQ+ymUO\n0KsQ4R1YMfSNQzKOPm8LpIpw/QKfye26wFDV85LE9SM1t0+R92rsxJxZMN+HBjCM\nJIK0cgDtOQ+2PuDY6oE/IH4vIpC2O43ahvR4yaXNBVCNrPQamSocxVeuOianlpBe\naxbOrOs9m49hLXfBXNhM4mGG/k9wU3yMN81v6lT0L1Y3Mptr/4SPwXq+mxiG2B3n\nldfCNc2oQaIWt8zbEAjkTbCcNFwbMzRSfEgvhbVOAi+ADsKJxaKGXomV/trA2GtE\nY4hxlRSH/cDbJCzT3gZdzRJlvam81QmJD473tX9WVR5z6UnGI9Xm/PBTEz9ndmb3\nxo4qWyMzNTuV++gfc6T0mAInfc0z9O7PpJun4/Sjw7AqtUUgxjE=\n=bmVJ\n-----END PGP SIGNATURE-----", "payload": "tree 88c00441a2cbb1dbeb267e45a1d1b009be126ae7\nparent 2b643e987173b36cb0279a018579372e31a35776\nauthor Chris Denton <christophersdenton@gmail.com> 1628887846 +0100\ncommitter Chris Denton <christophersdenton@gmail.com> 1635591829 +0100\n\nUse \"rustc\" for testing Command args\n\n\"echo\" is not an application on Windows so `Command` tests could fail even if that's not what's being tested for.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/07f54d94e608fc29e8aad386831dacee397e2282", "html_url": "https://github.com/rust-lang/rust/commit/07f54d94e608fc29e8aad386831dacee397e2282", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/07f54d94e608fc29e8aad386831dacee397e2282/comments", "author": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2b643e987173b36cb0279a018579372e31a35776", "url": "https://api.github.com/repos/rust-lang/rust/commits/2b643e987173b36cb0279a018579372e31a35776", "html_url": "https://github.com/rust-lang/rust/commit/2b643e987173b36cb0279a018579372e31a35776"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "094d2efbdd5095c0f8be42ce7d870d93d170f553", "filename": "library/std/src/process/tests.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/07f54d94e608fc29e8aad386831dacee397e2282/library%2Fstd%2Fsrc%2Fprocess%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07f54d94e608fc29e8aad386831dacee397e2282/library%2Fstd%2Fsrc%2Fprocess%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fprocess%2Ftests.rs?ref=07f54d94e608fc29e8aad386831dacee397e2282", "patch": "@@ -297,23 +297,23 @@ fn test_interior_nul_in_progname_is_error() {\n \n #[test]\n fn test_interior_nul_in_arg_is_error() {\n-    match Command::new(\"echo\").arg(\"has-some-\\0\\0s-inside\").spawn() {\n+    match Command::new(\"rustc\").arg(\"has-some-\\0\\0s-inside\").spawn() {\n         Err(e) => assert_eq!(e.kind(), ErrorKind::InvalidInput),\n         Ok(_) => panic!(),\n     }\n }\n \n #[test]\n fn test_interior_nul_in_args_is_error() {\n-    match Command::new(\"echo\").args(&[\"has-some-\\0\\0s-inside\"]).spawn() {\n+    match Command::new(\"rustc\").args(&[\"has-some-\\0\\0s-inside\"]).spawn() {\n         Err(e) => assert_eq!(e.kind(), ErrorKind::InvalidInput),\n         Ok(_) => panic!(),\n     }\n }\n \n #[test]\n fn test_interior_nul_in_current_dir_is_error() {\n-    match Command::new(\"echo\").current_dir(\"has-some-\\0\\0s-inside\").spawn() {\n+    match Command::new(\"rustc\").current_dir(\"has-some-\\0\\0s-inside\").spawn() {\n         Err(e) => assert_eq!(e.kind(), ErrorKind::InvalidInput),\n         Ok(_) => panic!(),\n     }"}]}