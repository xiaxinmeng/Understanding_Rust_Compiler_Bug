{"sha": "83eda080373285d3cbe4ca0ee280e4844c6422a3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgzZWRhMDgwMzczMjg1ZDNjYmU0Y2EwZWUyODBlNDg0NGM2NDIyYTM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-12-12T18:02:43Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-12-12T18:02:43Z"}, "message": "Auto merge of #30347 - rkruppe:misc-dec2flt-cleanup, r=alexcrichton\n\nThe landing of #30182, specifically the removal of float `from_str_radix`, allowed the refactoring in the middle commit. While I was at it, I also crossed two other nits off my TODO list.", "tree": {"sha": "d634a34c1ae158fe9cfeb6ebe8c0c2ea62b4e3af", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d634a34c1ae158fe9cfeb6ebe8c0c2ea62b4e3af"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/83eda080373285d3cbe4ca0ee280e4844c6422a3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/83eda080373285d3cbe4ca0ee280e4844c6422a3", "html_url": "https://github.com/rust-lang/rust/commit/83eda080373285d3cbe4ca0ee280e4844c6422a3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/83eda080373285d3cbe4ca0ee280e4844c6422a3/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "45a73c8c0cf2d5a181be2c1e927212975e0cffc7", "url": "https://api.github.com/repos/rust-lang/rust/commits/45a73c8c0cf2d5a181be2c1e927212975e0cffc7", "html_url": "https://github.com/rust-lang/rust/commit/45a73c8c0cf2d5a181be2c1e927212975e0cffc7"}, {"sha": "c4230ea50c4a781ce515bd0c8874b3d181a729b3", "url": "https://api.github.com/repos/rust-lang/rust/commits/c4230ea50c4a781ce515bd0c8874b3d181a729b3", "html_url": "https://github.com/rust-lang/rust/commit/c4230ea50c4a781ce515bd0c8874b3d181a729b3"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "9c0ec0f22c50fc387843cc2feb3097622e558cc0", "filename": "src/libcore/num/dec2flt/mod.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/83eda080373285d3cbe4ca0ee280e4844c6422a3/src%2Flibcore%2Fnum%2Fdec2flt%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83eda080373285d3cbe4ca0ee280e4844c6422a3/src%2Flibcore%2Fnum%2Fdec2flt%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fnum%2Fdec2flt%2Fmod.rs?ref=83eda080373285d3cbe4ca0ee280e4844c6422a3", "patch": "@@ -97,7 +97,7 @@ use fmt;\n use str::FromStr;\n \n use self::parse::{parse_decimal, Decimal, Sign};\n-use self::parse::ParseResult::{self, Valid, ShortcutToInf, ShortcutToZero};\n+use self::parse::ParseResult::{Valid, Invalid, ShortcutToInf, ShortcutToZero};\n use self::num::digits_to_big;\n use self::rawfp::RawFloat;\n \n@@ -109,7 +109,7 @@ pub mod rawfp;\n pub mod parse;\n \n macro_rules! from_str_float_impl {\n-    ($t:ty, $func:ident) => {\n+    ($t:ty) => {\n         #[stable(feature = \"rust1\", since = \"1.0.0\")]\n         impl FromStr for $t {\n             type Err = ParseFloatError;\n@@ -146,8 +146,8 @@ macro_rules! from_str_float_impl {\n         }\n     }\n }\n-from_str_float_impl!(f32, to_f32);\n-from_str_float_impl!(f64, to_f64);\n+from_str_float_impl!(f32);\n+from_str_float_impl!(f64);\n \n /// An error which can be returned when parsing a float.\n #[derive(Debug, Clone, PartialEq)]\n@@ -183,11 +183,11 @@ impl fmt::Display for ParseFloatError {\n     }\n }\n \n-pub fn pfe_empty() -> ParseFloatError {\n+fn pfe_empty() -> ParseFloatError {\n     ParseFloatError { kind: FloatErrorKind::Empty }\n }\n \n-pub fn pfe_invalid() -> ParseFloatError {\n+fn pfe_invalid() -> ParseFloatError {\n     ParseFloatError { kind: FloatErrorKind::Invalid }\n }\n \n@@ -211,7 +211,7 @@ fn dec2flt<T: RawFloat>(s: &str) -> Result<T, ParseFloatError> {\n         Valid(decimal) => try!(convert(decimal)),\n         ShortcutToInf => T::infinity(),\n         ShortcutToZero => T::zero(),\n-        ParseResult::Invalid => match s {\n+        Invalid => match s {\n             \"inf\" => T::infinity(),\n             \"NaN\" => T::nan(),\n             _ => { return Err(pfe_invalid()); }"}, {"sha": "197589740032ad40e16ea2fb725f9ad871eb4206", "filename": "src/libcore/num/dec2flt/rawfp.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83eda080373285d3cbe4ca0ee280e4844c6422a3/src%2Flibcore%2Fnum%2Fdec2flt%2Frawfp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83eda080373285d3cbe4ca0ee280e4844c6422a3/src%2Flibcore%2Fnum%2Fdec2flt%2Frawfp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fnum%2Fdec2flt%2Frawfp.rs?ref=83eda080373285d3cbe4ca0ee280e4844c6422a3", "patch": "@@ -288,7 +288,7 @@ pub fn encode_normal<T: RawFloat>(x: Unpacked) -> T {\n /// Construct the subnormal. A mantissa of 0 is allowed and constructs zero.\n pub fn encode_subnormal<T: RawFloat>(significand: u64) -> T {\n     assert!(significand < T::min_sig(), \"encode_subnormal: not actually subnormal\");\n-    // \u00cancoded exponent is 0, the sign bit is 0, so we just have to reinterpret the bits.\n+    // Encoded exponent is 0, the sign bit is 0, so we just have to reinterpret the bits.\n     T::from_bits(significand)\n }\n "}]}