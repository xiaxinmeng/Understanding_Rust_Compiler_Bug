{"sha": "0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlOWNhYmFiM2ZiNGMxNWZiMWI4OGU2MmEzNWNjZjFlYTUyZWY4NTM=", "commit": {"author": {"name": "Tetsuharu OHZEKI", "email": "tetsuharu.ohzeki@gmail.com", "date": "2019-12-11T15:49:54Z"}, "committer": {"name": "Tetsuharu OHZEKI", "email": "tetsuharu.ohzeki@gmail.com", "date": "2019-12-11T16:11:53Z"}, "message": "Enable noImplicitReturns option for vscode extension", "tree": {"sha": "df588536859ad9c0605492c75a8ffce5d3977df6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/df588536859ad9c0605492c75a8ffce5d3977df6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853", "html_url": "https://github.com/rust-lang/rust/commit/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/comments", "author": {"login": "tetsuharuohzeki", "id": 180104, "node_id": "MDQ6VXNlcjE4MDEwNA==", "avatar_url": "https://avatars.githubusercontent.com/u/180104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tetsuharuohzeki", "html_url": "https://github.com/tetsuharuohzeki", "followers_url": "https://api.github.com/users/tetsuharuohzeki/followers", "following_url": "https://api.github.com/users/tetsuharuohzeki/following{/other_user}", "gists_url": "https://api.github.com/users/tetsuharuohzeki/gists{/gist_id}", "starred_url": "https://api.github.com/users/tetsuharuohzeki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tetsuharuohzeki/subscriptions", "organizations_url": "https://api.github.com/users/tetsuharuohzeki/orgs", "repos_url": "https://api.github.com/users/tetsuharuohzeki/repos", "events_url": "https://api.github.com/users/tetsuharuohzeki/events{/privacy}", "received_events_url": "https://api.github.com/users/tetsuharuohzeki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tetsuharuohzeki", "id": 180104, "node_id": "MDQ6VXNlcjE4MDEwNA==", "avatar_url": "https://avatars.githubusercontent.com/u/180104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tetsuharuohzeki", "html_url": "https://github.com/tetsuharuohzeki", "followers_url": "https://api.github.com/users/tetsuharuohzeki/followers", "following_url": "https://api.github.com/users/tetsuharuohzeki/following{/other_user}", "gists_url": "https://api.github.com/users/tetsuharuohzeki/gists{/gist_id}", "starred_url": "https://api.github.com/users/tetsuharuohzeki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tetsuharuohzeki/subscriptions", "organizations_url": "https://api.github.com/users/tetsuharuohzeki/orgs", "repos_url": "https://api.github.com/users/tetsuharuohzeki/repos", "events_url": "https://api.github.com/users/tetsuharuohzeki/events{/privacy}", "received_events_url": "https://api.github.com/users/tetsuharuohzeki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b21bb44c8dcd43e9e42ef7e3d752dd550e6505ad", "url": "https://api.github.com/repos/rust-lang/rust/commits/b21bb44c8dcd43e9e42ef7e3d752dd550e6505ad", "html_url": "https://github.com/rust-lang/rust/commit/b21bb44c8dcd43e9e42ef7e3d752dd550e6505ad"}], "stats": {"total": 32, "additions": 20, "deletions": 12}, "files": [{"sha": "cf980e257854796d121765309238392c5c145ae3", "filename": "editors/code/src/commands/runnables.ts", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts", "raw_url": "https://github.com/rust-lang/rust/raw/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts?ref=0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853", "patch": "@@ -73,7 +73,7 @@ function createTask(spec: Runnable): vscode.Task {\n }\n \n let prevRunnable: RunnableQuickPick | undefined;\n-export async function handle() {\n+export async function handle(): Promise<vscode.TaskExecution | undefined> {\n     const editor = vscode.window.activeTextEditor;\n     if (editor == null || editor.document.languageId !== 'rust') {\n         return;\n@@ -105,12 +105,14 @@ export async function handle() {\n         items.push(new RunnableQuickPick(r));\n     }\n     const item = await vscode.window.showQuickPick(items);\n-    if (item) {\n-        item.detail = 'rerun';\n-        prevRunnable = item;\n-        const task = createTask(item.runnable);\n-        return await vscode.tasks.executeTask(task);\n+    if (!item) {\n+        return;\n     }\n+\n+    item.detail = 'rerun';\n+    prevRunnable = item;\n+    const task = createTask(item.runnable);\n+    return await vscode.tasks.executeTask(task);\n }\n \n export async function handleSingle(runnable: Runnable) {"}, {"sha": "2b25eb705dd35743f432df559326249c34ba4244", "filename": "editors/code/src/test/utils/diagnotics/SuggestedFix.test.ts", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/editors%2Fcode%2Fsrc%2Ftest%2Futils%2Fdiagnotics%2FSuggestedFix.test.ts", "raw_url": "https://github.com/rust-lang/rust/raw/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/editors%2Fcode%2Fsrc%2Ftest%2Futils%2Fdiagnotics%2FSuggestedFix.test.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Ftest%2Futils%2Fdiagnotics%2FSuggestedFix.test.ts?ref=0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853", "patch": "@@ -114,7 +114,8 @@ describe('SuggestedFix', () => {\n \n             const edit = codeAction.edit;\n             if (!edit) {\n-                return assert.fail('Code Action edit unexpectedly missing');\n+                assert.fail('Code Action edit unexpectedly missing');\n+                return;\n             }\n \n             const editEntries = edit.entries();"}, {"sha": "ef09013f413040e763c942dad1bc006a118a1312", "filename": "editors/code/src/test/utils/diagnotics/SuggestedFixCollection.test.ts", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/editors%2Fcode%2Fsrc%2Ftest%2Futils%2Fdiagnotics%2FSuggestedFixCollection.test.ts", "raw_url": "https://github.com/rust-lang/rust/raw/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/editors%2Fcode%2Fsrc%2Ftest%2Futils%2Fdiagnotics%2FSuggestedFixCollection.test.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Ftest%2Futils%2Fdiagnotics%2FSuggestedFixCollection.test.ts?ref=0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853", "patch": "@@ -53,7 +53,8 @@ describe('SuggestedFixCollection', () => {\n \n         const { diagnostics } = codeAction;\n         if (!diagnostics) {\n-            return assert.fail('Diagnostics unexpectedly missing');\n+            assert.fail('Diagnostics unexpectedly missing');\n+            return;\n         }\n \n         assert.strictEqual(diagnostics.length, 1);\n@@ -114,7 +115,8 @@ describe('SuggestedFixCollection', () => {\n         const { diagnostics } = codeAction;\n \n         if (!diagnostics) {\n-            return assert.fail('Diagnostics unexpectedly missing');\n+            assert.fail('Diagnostics unexpectedly missing');\n+            return;\n         }\n \n         // We should be associated with both diagnostics"}, {"sha": "0222dbbaa0e69f94758d74946f8816c6c097161b", "filename": "editors/code/src/test/utils/diagnotics/rust.test.ts", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/editors%2Fcode%2Fsrc%2Ftest%2Futils%2Fdiagnotics%2Frust.test.ts", "raw_url": "https://github.com/rust-lang/rust/raw/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/editors%2Fcode%2Fsrc%2Ftest%2Futils%2Fdiagnotics%2Frust.test.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Ftest%2Futils%2Fdiagnotics%2Frust.test.ts?ref=0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853", "patch": "@@ -120,7 +120,8 @@ describe('mapRustDiagnosticToVsCode', () => {\n         // One related information for the original definition\n         const relatedInformation = diagnostic.relatedInformation;\n         if (!relatedInformation) {\n-            return assert.fail('Related information unexpectedly undefined');\n+            assert.fail('Related information unexpectedly undefined');\n+            return;\n         }\n         assert.strictEqual(relatedInformation.length, 1);\n         const [related] = relatedInformation;\n@@ -154,7 +155,8 @@ describe('mapRustDiagnosticToVsCode', () => {\n         // One related information for the lint definition\n         const relatedInformation = diagnostic.relatedInformation;\n         if (!relatedInformation) {\n-            return assert.fail('Related information unexpectedly undefined');\n+            assert.fail('Related information unexpectedly undefined');\n+            return;\n         }\n         assert.strictEqual(relatedInformation.length, 1);\n         const [related] = relatedInformation;"}, {"sha": "f0fd2354cb4b82b6f71d71891f155ddebf4cd62d", "filename": "editors/code/tsconfig.json", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/editors%2Fcode%2Ftsconfig.json", "raw_url": "https://github.com/rust-lang/rust/raw/0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853/editors%2Fcode%2Ftsconfig.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Ftsconfig.json?ref=0e9cabab3fb4c15fb1b88e62a35ccf1ea52ef853", "patch": "@@ -8,7 +8,8 @@\n         \"rootDir\": \"src\",\n         \"strict\": true,\n         \"noUnusedLocals\": true,\n-        \"noUnusedParameters\": true\n+        \"noUnusedParameters\": true,\n+        \"noImplicitReturns\": true\n     },\n     \"exclude\": [\"node_modules\", \".vscode-test\"]\n }"}]}