{"sha": "606bd75586419948f109de313ab37e31397ca7a3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwNmJkNzU1ODY0MTk5NDhmMTA5ZGUzMTNhYjM3ZTMxMzk3Y2E3YTM=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-05-10T22:20:06Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-05-10T23:20:21Z"}, "message": "Fix merge \"failures\"", "tree": {"sha": "75a20ba081bc606a7cde27a82e4237899256679e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/75a20ba081bc606a7cde27a82e4237899256679e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/606bd75586419948f109de313ab37e31397ca7a3", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/606bd75586419948f109de313ab37e31397ca7a3", "html_url": "https://github.com/rust-lang/rust/commit/606bd75586419948f109de313ab37e31397ca7a3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/606bd75586419948f109de313ab37e31397ca7a3/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b05aae2d4151a5985d58758fcd46037fb39a5fb9", "url": "https://api.github.com/repos/rust-lang/rust/commits/b05aae2d4151a5985d58758fcd46037fb39a5fb9", "html_url": "https://github.com/rust-lang/rust/commit/b05aae2d4151a5985d58758fcd46037fb39a5fb9"}], "stats": {"total": 32, "additions": 20, "deletions": 12}, "files": [{"sha": "737548ee868691cb402fd52bb38e7328756dec9e", "filename": "src/librustc/middle/ty.rs", "status": "modified", "additions": 3, "deletions": 12, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/606bd75586419948f109de313ab37e31397ca7a3/src%2Flibrustc%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/606bd75586419948f109de313ab37e31397ca7a3/src%2Flibrustc%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fty.rs?ref=606bd75586419948f109de313ab37e31397ca7a3", "patch": "@@ -4537,18 +4537,9 @@ pub fn each_bound_trait_and_supertraits(tcx: ctxt,\n // list.\n #[cfg(not(stage0))]\n pub fn each_bound_trait_and_supertraits(tcx: ctxt,\n-                                        bounds: param_bounds,\n-                                        f: &fn(&TraitRef) -> bool) -> bool {\n-    for bounds.each |bound| {\n-        let bound_trait_ref = match *bound {\n-            ty::bound_trait(bound_t) => bound_t,\n-\n-            ty::bound_copy | ty::bound_owned |\n-            ty::bound_const | ty::bound_durable => {\n-                loop; // skip non-trait bounds\n-            }\n-        };\n-\n+                                        bounds: &ParamBounds,\n+                                        f: &fn(@TraitRef) -> bool) -> bool {\n+    for bounds.trait_bounds.each |&bound_trait_ref| {\n         let mut supertrait_set = HashMap::new();\n         let mut trait_refs = ~[];\n         let mut i = 0;"}, {"sha": "c589ab52874218a178db905d11a916ca36f65cc5", "filename": "src/librustc/util/enum_set.rs", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/606bd75586419948f109de313ab37e31397ca7a3/src%2Flibrustc%2Futil%2Fenum_set.rs", "raw_url": "https://github.com/rust-lang/rust/raw/606bd75586419948f109de313ab37e31397ca7a3/src%2Flibrustc%2Futil%2Fenum_set.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Futil%2Fenum_set.rs?ref=606bd75586419948f109de313ab37e31397ca7a3", "patch": "@@ -49,6 +49,7 @@ pub impl<E:CLike> EnumSet<E> {\n         (self.bits & bit(e)) != 0\n     }\n \n+    #[cfg(stage0)]\n     fn each(&self, f: &fn(E) -> bool) {\n         let mut bits = self.bits;\n         let mut index = 0;\n@@ -63,6 +64,22 @@ pub impl<E:CLike> EnumSet<E> {\n             bits >>= 1;\n         }\n     }\n+    #[cfg(not(stage0))]\n+    fn each(&self, f: &fn(E) -> bool) -> bool {\n+        let mut bits = self.bits;\n+        let mut index = 0;\n+        while bits != 0 {\n+            if (bits & 1) != 0 {\n+                let e = CLike::from_uint(index);\n+                if !f(e) {\n+                    return false;\n+                }\n+            }\n+            index += 1;\n+            bits >>= 1;\n+        }\n+        return true;\n+    }\n }\n \n impl<E:CLike> core::Sub<EnumSet<E>, EnumSet<E>> for EnumSet<E> {"}]}