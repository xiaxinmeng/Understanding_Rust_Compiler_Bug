{"sha": "b91a6fcd5d82da723d7af1bf6790fd93a7741e93", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI5MWE2ZmNkNWQ4MmRhNzIzZDdhZjFiZjY3OTBmZDkzYTc3NDFlOTM=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2019-11-26T12:25:14Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2019-11-27T12:13:16Z"}, "message": "Replace Iterator::find calls with Iterator::any when better", "tree": {"sha": "616e498d3ca79f47ab897ca5330595650a3dc978", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/616e498d3ca79f47ab897ca5330595650a3dc978"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b91a6fcd5d82da723d7af1bf6790fd93a7741e93", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b91a6fcd5d82da723d7af1bf6790fd93a7741e93", "html_url": "https://github.com/rust-lang/rust/commit/b91a6fcd5d82da723d7af1bf6790fd93a7741e93", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b91a6fcd5d82da723d7af1bf6790fd93a7741e93/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4ab8aa37005c5044d989a8fa1f3495eb76dff7d2", "url": "https://api.github.com/repos/rust-lang/rust/commits/4ab8aa37005c5044d989a8fa1f3495eb76dff7d2", "html_url": "https://github.com/rust-lang/rust/commit/4ab8aa37005c5044d989a8fa1f3495eb76dff7d2"}], "stats": {"total": 11, "additions": 5, "deletions": 6}, "files": [{"sha": "3c632462168bf0fff302e16ffbd457aa905c5995", "filename": "src/librustdoc/passes/collect_intra_doc_links.rs", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/b91a6fcd5d82da723d7af1bf6790fd93a7741e93/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b91a6fcd5d82da723d7af1bf6790fd93a7741e93/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs?ref=b91a6fcd5d82da723d7af1bf6790fd93a7741e93", "patch": "@@ -84,17 +84,16 @@ impl<'a, 'tcx> LinkCollector<'a, 'tcx> {\n         let ty_res = ty_res.map_id(|_| panic!(\"unexpected node_id\"));\n         match ty_res {\n             Res::Def(DefKind::Enum, did) => {\n-                let item = cx.tcx.inherent_impls(did)\n-                                 .iter()\n-                                 .flat_map(|imp| cx.tcx.associated_items(*imp))\n-                                 .find(|item| item.ident.name == variant_name);\n-                if item.is_some() {\n+                if cx.tcx.inherent_impls(did)\n+                         .iter()\n+                         .flat_map(|imp| cx.tcx.associated_items(*imp))\n+                         .any(|item| item.ident.name == variant_name) {\n                     return Err(());\n                 }\n                 match cx.tcx.type_of(did).kind {\n                     ty::Adt(def, _) if def.is_enum() => {\n                         if def.all_fields()\n-                              .find(|item| item.ident.name == variant_field_name).is_some() {\n+                              .any(|item| item.ident.name == variant_field_name) {\n                             Ok((ty_res,\n                                 Some(format!(\"variant.{}.field.{}\",\n                                              variant_name, variant_field_name))))"}]}