{"sha": "2be8b7332819d9819502f54e45a2c70f1f9903cf", "node_id": "C_kwDOAAsO6NoAKDJiZThiNzMzMjgxOWQ5ODE5NTAyZjU0ZTQ1YTJjNzBmMWY5OTAzY2Y", "commit": {"author": {"name": "est31", "email": "MTest31@outlook.com", "date": "2022-02-04T09:13:48Z"}, "committer": {"name": "est31", "email": "MTest31@outlook.com", "date": "2022-09-15T19:21:18Z"}, "message": "Fix clippy", "tree": {"sha": "dc85558a6ce808fefe9401e2b353051dbea92f70", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dc85558a6ce808fefe9401e2b353051dbea92f70"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2be8b7332819d9819502f54e45a2c70f1f9903cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2be8b7332819d9819502f54e45a2c70f1f9903cf", "html_url": "https://github.com/rust-lang/rust/commit/2be8b7332819d9819502f54e45a2c70f1f9903cf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2be8b7332819d9819502f54e45a2c70f1f9903cf/comments", "author": {"login": "est31", "id": 8872119, "node_id": "MDQ6VXNlcjg4NzIxMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8872119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/est31", "html_url": "https://github.com/est31", "followers_url": "https://api.github.com/users/est31/followers", "following_url": "https://api.github.com/users/est31/following{/other_user}", "gists_url": "https://api.github.com/users/est31/gists{/gist_id}", "starred_url": "https://api.github.com/users/est31/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/est31/subscriptions", "organizations_url": "https://api.github.com/users/est31/orgs", "repos_url": "https://api.github.com/users/est31/repos", "events_url": "https://api.github.com/users/est31/events{/privacy}", "received_events_url": "https://api.github.com/users/est31/received_events", "type": "User", "site_admin": false}, "committer": {"login": "est31", "id": 8872119, "node_id": "MDQ6VXNlcjg4NzIxMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8872119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/est31", "html_url": "https://github.com/est31", "followers_url": "https://api.github.com/users/est31/followers", "following_url": "https://api.github.com/users/est31/following{/other_user}", "gists_url": "https://api.github.com/users/est31/gists{/gist_id}", "starred_url": "https://api.github.com/users/est31/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/est31/subscriptions", "organizations_url": "https://api.github.com/users/est31/orgs", "repos_url": "https://api.github.com/users/est31/repos", "events_url": "https://api.github.com/users/est31/events{/privacy}", "received_events_url": "https://api.github.com/users/est31/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dcc615391961439b919cae506fd5605d0752b063", "url": "https://api.github.com/repos/rust-lang/rust/commits/dcc615391961439b919cae506fd5605d0752b063", "html_url": "https://github.com/rust-lang/rust/commit/dcc615391961439b919cae506fd5605d0752b063"}], "stats": {"total": 93, "additions": 45, "deletions": 48}, "files": [{"sha": "54c7456a2a3b0b2dfbda537e2ac583dd3baeb940", "filename": "clippy_dev/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2be8b7332819d9819502f54e45a2c70f1f9903cf/clippy_dev%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2be8b7332819d9819502f54e45a2c70f1f9903cf/clippy_dev%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Flib.rs?ref=2be8b7332819d9819502f54e45a2c70f1f9903cf", "patch": "@@ -1,5 +1,5 @@\n #![feature(let_chains)]\n-#![feature(let_else)]\n+#![cfg_attr(bootstrap, feature(let_else))]\n #![feature(once_cell)]\n #![feature(rustc_private)]\n #![cfg_attr(feature = \"deny-warnings\", deny(warnings))]"}, {"sha": "ceaaf5c6d6ed6b8f3522a2c9e4031ac59b316318", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2be8b7332819d9819502f54e45a2c70f1f9903cf/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2be8b7332819d9819502f54e45a2c70f1f9903cf/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=2be8b7332819d9819502f54e45a2c70f1f9903cf", "patch": "@@ -5,7 +5,7 @@\n #![feature(drain_filter)]\n #![feature(iter_intersperse)]\n #![feature(let_chains)]\n-#![feature(let_else)]\n+#![cfg_attr(bootstrap, feature(let_else))]\n #![feature(lint_reasons)]\n #![feature(never_type)]\n #![feature(once_cell)]"}, {"sha": "62da850a15e706a2a7370504d2e2c935c34089d8", "filename": "clippy_utils/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2be8b7332819d9819502f54e45a2c70f1f9903cf/clippy_utils%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2be8b7332819d9819502f54e45a2c70f1f9903cf/clippy_utils%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Flib.rs?ref=2be8b7332819d9819502f54e45a2c70f1f9903cf", "patch": "@@ -1,9 +1,9 @@\n #![feature(array_chunks)]\n #![feature(box_patterns)]\n #![feature(control_flow_enum)]\n-#![feature(let_else)]\n #![feature(let_chains)]\n #![feature(lint_reasons)]\n+#![cfg_attr(bootstrap, feature(let_else))]\n #![feature(once_cell)]\n #![feature(rustc_private)]\n #![recursion_limit = \"512\"]"}, {"sha": "695883e8dff770ffc3820af1997e53e341459e3f", "filename": "tests/ui/needless_return.fixed", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2be8b7332819d9819502f54e45a2c70f1f9903cf/tests%2Fui%2Fneedless_return.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/2be8b7332819d9819502f54e45a2c70f1f9903cf/tests%2Fui%2Fneedless_return.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_return.fixed?ref=2be8b7332819d9819502f54e45a2c70f1f9903cf", "patch": "@@ -1,7 +1,6 @@\n // run-rustfix\n \n #![feature(lint_reasons)]\n-#![feature(let_else)]\n #![allow(unused)]\n #![allow(\n     clippy::if_same_then_else,"}, {"sha": "63d9fe9ecdf8ef4d21d25d9f57ab6deeee66e857", "filename": "tests/ui/needless_return.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2be8b7332819d9819502f54e45a2c70f1f9903cf/tests%2Fui%2Fneedless_return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2be8b7332819d9819502f54e45a2c70f1f9903cf/tests%2Fui%2Fneedless_return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_return.rs?ref=2be8b7332819d9819502f54e45a2c70f1f9903cf", "patch": "@@ -1,7 +1,6 @@\n // run-rustfix\n \n #![feature(lint_reasons)]\n-#![feature(let_else)]\n #![allow(unused)]\n #![allow(\n     clippy::if_same_then_else,"}, {"sha": "cadee6e00dff25669a6e0d46b86263054efc0dc7", "filename": "tests/ui/needless_return.stderr", "status": "modified", "additions": 37, "deletions": 37, "changes": 74, "blob_url": "https://github.com/rust-lang/rust/blob/2be8b7332819d9819502f54e45a2c70f1f9903cf/tests%2Fui%2Fneedless_return.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2be8b7332819d9819502f54e45a2c70f1f9903cf/tests%2Fui%2Fneedless_return.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_return.stderr?ref=2be8b7332819d9819502f54e45a2c70f1f9903cf", "patch": "@@ -1,223 +1,223 @@\n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:27:5\n+  --> $DIR/needless_return.rs:26:5\n    |\n LL |     return true;\n    |     ^^^^^^^^^^^^ help: remove `return`: `true`\n    |\n    = note: `-D clippy::needless-return` implied by `-D warnings`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:31:5\n+  --> $DIR/needless_return.rs:30:5\n    |\n LL |     return true;\n    |     ^^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:36:9\n+  --> $DIR/needless_return.rs:35:9\n    |\n LL |         return true;\n    |         ^^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:38:9\n+  --> $DIR/needless_return.rs:37:9\n    |\n LL |         return false;\n    |         ^^^^^^^^^^^^^ help: remove `return`: `false`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:44:17\n+  --> $DIR/needless_return.rs:43:17\n    |\n LL |         true => return false,\n    |                 ^^^^^^^^^^^^ help: remove `return`: `false`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:46:13\n+  --> $DIR/needless_return.rs:45:13\n    |\n LL |             return true;\n    |             ^^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:53:9\n+  --> $DIR/needless_return.rs:52:9\n    |\n LL |         return true;\n    |         ^^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:55:16\n+  --> $DIR/needless_return.rs:54:16\n    |\n LL |     let _ = || return true;\n    |                ^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:59:5\n+  --> $DIR/needless_return.rs:58:5\n    |\n LL |     return the_answer!();\n    |     ^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `the_answer!()`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:63:5\n+  --> $DIR/needless_return.rs:62:5\n    |\n LL |     return;\n    |     ^^^^^^^ help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:68:9\n+  --> $DIR/needless_return.rs:67:9\n    |\n LL |         return;\n    |         ^^^^^^^ help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:70:9\n+  --> $DIR/needless_return.rs:69:9\n    |\n LL |         return;\n    |         ^^^^^^^ help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:77:14\n+  --> $DIR/needless_return.rs:76:14\n    |\n LL |         _ => return,\n    |              ^^^^^^ help: replace `return` with a unit value: `()`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:86:13\n+  --> $DIR/needless_return.rs:85:13\n    |\n LL |             return;\n    |             ^^^^^^^ help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:88:14\n+  --> $DIR/needless_return.rs:87:14\n    |\n LL |         _ => return,\n    |              ^^^^^^ help: replace `return` with a unit value: `()`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:101:9\n+  --> $DIR/needless_return.rs:100:9\n    |\n LL |         return String::from(\"test\");\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `String::from(\"test\")`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:103:9\n+  --> $DIR/needless_return.rs:102:9\n    |\n LL |         return String::new();\n    |         ^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `String::new()`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:125:32\n+  --> $DIR/needless_return.rs:124:32\n    |\n LL |         bar.unwrap_or_else(|_| return)\n    |                                ^^^^^^ help: replace `return` with an empty block: `{}`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:130:13\n+  --> $DIR/needless_return.rs:129:13\n    |\n LL |             return;\n    |             ^^^^^^^ help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:132:20\n+  --> $DIR/needless_return.rs:131:20\n    |\n LL |         let _ = || return;\n    |                    ^^^^^^ help: replace `return` with an empty block: `{}`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:138:32\n+  --> $DIR/needless_return.rs:137:32\n    |\n LL |         res.unwrap_or_else(|_| return Foo)\n    |                                ^^^^^^^^^^ help: remove `return`: `Foo`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:147:5\n+  --> $DIR/needless_return.rs:146:5\n    |\n LL |     return true;\n    |     ^^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:151:5\n+  --> $DIR/needless_return.rs:150:5\n    |\n LL |     return true;\n    |     ^^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:156:9\n+  --> $DIR/needless_return.rs:155:9\n    |\n LL |         return true;\n    |         ^^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:158:9\n+  --> $DIR/needless_return.rs:157:9\n    |\n LL |         return false;\n    |         ^^^^^^^^^^^^^ help: remove `return`: `false`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:164:17\n+  --> $DIR/needless_return.rs:163:17\n    |\n LL |         true => return false,\n    |                 ^^^^^^^^^^^^ help: remove `return`: `false`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:166:13\n+  --> $DIR/needless_return.rs:165:13\n    |\n LL |             return true;\n    |             ^^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:173:9\n+  --> $DIR/needless_return.rs:172:9\n    |\n LL |         return true;\n    |         ^^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:175:16\n+  --> $DIR/needless_return.rs:174:16\n    |\n LL |     let _ = || return true;\n    |                ^^^^^^^^^^^ help: remove `return`: `true`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:179:5\n+  --> $DIR/needless_return.rs:178:5\n    |\n LL |     return the_answer!();\n    |     ^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `the_answer!()`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:183:5\n+  --> $DIR/needless_return.rs:182:5\n    |\n LL |     return;\n    |     ^^^^^^^ help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:188:9\n+  --> $DIR/needless_return.rs:187:9\n    |\n LL |         return;\n    |         ^^^^^^^ help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:190:9\n+  --> $DIR/needless_return.rs:189:9\n    |\n LL |         return;\n    |         ^^^^^^^ help: remove `return`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:197:14\n+  --> $DIR/needless_return.rs:196:14\n    |\n LL |         _ => return,\n    |              ^^^^^^ help: replace `return` with a unit value: `()`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:210:9\n+  --> $DIR/needless_return.rs:209:9\n    |\n LL |         return String::from(\"test\");\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `String::from(\"test\")`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:212:9\n+  --> $DIR/needless_return.rs:211:9\n    |\n LL |         return String::new();\n    |         ^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `String::new()`\n \n error: unneeded `return` statement\n-  --> $DIR/needless_return.rs:228:5\n+  --> $DIR/needless_return.rs:227:5\n    |\n LL |     return format!(\"Hello {}\", \"world!\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `format!(\"Hello {}\", \"world!\")`"}, {"sha": "c4dfbd9210e0d6e727ccb418962b717c6004f41e", "filename": "tests/ui/semicolon_if_nothing_returned.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2be8b7332819d9819502f54e45a2c70f1f9903cf/tests%2Fui%2Fsemicolon_if_nothing_returned.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2be8b7332819d9819502f54e45a2c70f1f9903cf/tests%2Fui%2Fsemicolon_if_nothing_returned.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsemicolon_if_nothing_returned.rs?ref=2be8b7332819d9819502f54e45a2c70f1f9903cf", "patch": "@@ -1,6 +1,5 @@\n #![warn(clippy::semicolon_if_nothing_returned)]\n #![allow(clippy::redundant_closure)]\n-#![feature(let_else)]\n \n fn get_unit() {}\n "}, {"sha": "8d9a67585cf12fb6141b92546a8e690aefe4c1a8", "filename": "tests/ui/semicolon_if_nothing_returned.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/2be8b7332819d9819502f54e45a2c70f1f9903cf/tests%2Fui%2Fsemicolon_if_nothing_returned.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2be8b7332819d9819502f54e45a2c70f1f9903cf/tests%2Fui%2Fsemicolon_if_nothing_returned.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsemicolon_if_nothing_returned.stderr?ref=2be8b7332819d9819502f54e45a2c70f1f9903cf", "patch": "@@ -1,31 +1,31 @@\n error: consider adding a `;` to the last statement for consistent formatting\n-  --> $DIR/semicolon_if_nothing_returned.rs:9:5\n+  --> $DIR/semicolon_if_nothing_returned.rs:8:5\n    |\n LL |     println!(\"Hello\")\n    |     ^^^^^^^^^^^^^^^^^ help: add a `;` here: `println!(\"Hello\");`\n    |\n    = note: `-D clippy::semicolon-if-nothing-returned` implied by `-D warnings`\n \n error: consider adding a `;` to the last statement for consistent formatting\n-  --> $DIR/semicolon_if_nothing_returned.rs:13:5\n+  --> $DIR/semicolon_if_nothing_returned.rs:12:5\n    |\n LL |     get_unit()\n    |     ^^^^^^^^^^ help: add a `;` here: `get_unit();`\n \n error: consider adding a `;` to the last statement for consistent formatting\n-  --> $DIR/semicolon_if_nothing_returned.rs:18:5\n+  --> $DIR/semicolon_if_nothing_returned.rs:17:5\n    |\n LL |     y = x + 1\n    |     ^^^^^^^^^ help: add a `;` here: `y = x + 1;`\n \n error: consider adding a `;` to the last statement for consistent formatting\n-  --> $DIR/semicolon_if_nothing_returned.rs:24:9\n+  --> $DIR/semicolon_if_nothing_returned.rs:23:9\n    |\n LL |         hello()\n    |         ^^^^^^^ help: add a `;` here: `hello();`\n \n error: consider adding a `;` to the last statement for consistent formatting\n-  --> $DIR/semicolon_if_nothing_returned.rs:35:9\n+  --> $DIR/semicolon_if_nothing_returned.rs:34:9\n    |\n LL |         ptr::drop_in_place(s.as_mut_ptr())\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `ptr::drop_in_place(s.as_mut_ptr());`"}]}