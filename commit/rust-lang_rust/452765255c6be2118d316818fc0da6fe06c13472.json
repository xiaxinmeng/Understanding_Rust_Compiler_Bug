{"sha": "452765255c6be2118d316818fc0da6fe06c13472", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ1Mjc2NTI1NWM2YmUyMTE4ZDMxNjgxOGZjMGRhNmZlMDZjMTM0NzI=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-07-28T00:34:58Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-07-28T02:04:56Z"}, "message": "Add PPFILES flag to specify a which files to reformat\n\nAccepts a path with wildcards", "tree": {"sha": "7fdaf180a77753ae4ac75e26fe9d429ae45f8eb1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7fdaf180a77753ae4ac75e26fe9d429ae45f8eb1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/452765255c6be2118d316818fc0da6fe06c13472", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/452765255c6be2118d316818fc0da6fe06c13472", "html_url": "https://github.com/rust-lang/rust/commit/452765255c6be2118d316818fc0da6fe06c13472", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/452765255c6be2118d316818fc0da6fe06c13472/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "278d360525e1834ccd4a6012d84c81ea5e69b480", "url": "https://api.github.com/repos/rust-lang/rust/commits/278d360525e1834ccd4a6012d84c81ea5e69b480", "html_url": "https://github.com/rust-lang/rust/commit/278d360525e1834ccd4a6012d84c81ea5e69b480"}], "stats": {"total": 18, "additions": 11, "deletions": 7}, "files": [{"sha": "bbcb9018f95097cae0156e85183e78efcabb4091", "filename": "mk/pp.mk", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/452765255c6be2118d316818fc0da6fe06c13472/mk%2Fpp.mk", "raw_url": "https://github.com/rust-lang/rust/raw/452765255c6be2118d316818fc0da6fe06c13472/mk%2Fpp.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fpp.mk?ref=452765255c6be2118d316818fc0da6fe06c13472", "patch": "@@ -1,11 +1,15 @@\n+# Create a way to reformat just some files\n+ifdef PPFILES\n+  PP_INPUTS_FILTERED := $(wildcard $(PPFILES))\n+else\n+  PP_INPUTS = $(wildcard $(addprefix $(S)src/lib/,*.rs */*.rs)) \\\n+              $(wildcard $(addprefix $(S)src/comp/,*.rs */*.rs */*/*.rs)) \\\n+              $(wildcard $(S)src/test/*/*.rs   \\\n+                         $(S)src/test/*/*/*.rs) \\\n+              $(wildcard $(S)src/fuzzer/*.rs)\n \n-PP_INPUTS = $(wildcard $(addprefix $(S)src/lib/,*.rs */*.rs)) \\\n-            $(wildcard $(addprefix $(S)src/comp/,*.rs */*.rs */*/*.rs)) \\\n-            $(wildcard $(S)src/test/*/*.rs   \\\n-                       $(S)src/test/*/*/*.rs) \\\n-            $(wildcard $(S)src/fuzzer/*.rs)\n-\n-PP_INPUTS_FILTERED = $(shell echo $(PP_INPUTS) | xargs grep -L no-reformat)\n+  PP_INPUTS_FILTERED = $(shell echo $(PP_INPUTS) | xargs grep -L no-reformat)\n+endif\n \n reformat: $(SREQ1)\n \t@$(call E, reformat [stage1]: $@)"}]}