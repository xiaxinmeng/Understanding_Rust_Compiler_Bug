{"sha": "f029e1f486d965c0a20410644e9faa9b294e03c9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYwMjllMWY0ODZkOTY1YzBhMjA0MTA2NDRlOWZhYTliMjk0ZTAzYzk=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-05-03T22:15:02Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-05-03T22:26:22Z"}, "message": "Annotate FIXMEs in std::bitv, and remove a FIXME\n\nChanged a while loop into a for loop in std::bitv::equal. Yay!", "tree": {"sha": "5556e2fb25c09ff7ba28feaad267ba1d9e35d6c6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5556e2fb25c09ff7ba28feaad267ba1d9e35d6c6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f029e1f486d965c0a20410644e9faa9b294e03c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f029e1f486d965c0a20410644e9faa9b294e03c9", "html_url": "https://github.com/rust-lang/rust/commit/f029e1f486d965c0a20410644e9faa9b294e03c9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f029e1f486d965c0a20410644e9faa9b294e03c9/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cfa09d35a355dee59008306f98330ff0472eb09d", "url": "https://api.github.com/repos/rust-lang/rust/commits/cfa09d35a355dee59008306f98330ff0472eb09d", "html_url": "https://github.com/rust-lang/rust/commit/cfa09d35a355dee59008306f98330ff0472eb09d"}], "stats": {"total": 11, "additions": 3, "deletions": 8}, "files": [{"sha": "4acd7c21451581aaac488839f359df41681851f5", "filename": "src/libstd/bitv.rs", "status": "modified", "additions": 3, "deletions": 8, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/f029e1f486d965c0a20410644e9faa9b294e03c9/src%2Flibstd%2Fbitv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f029e1f486d965c0a20410644e9faa9b294e03c9/src%2Flibstd%2Fbitv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fbitv.rs?ref=f029e1f486d965c0a20410644e9faa9b294e03c9", "patch": "@@ -20,6 +20,7 @@ export eq_vec;\n //        union, intersection, and difference. At that point, we could write\n //        an optimizing version of this module that produces a different obj\n //        for the case where nbits <= 32.\n+// (Issue #2341)\n \n #[doc = \"The bitvector type\"]\n type bitv = @{storage: [mut uint], nbits: uint};\n@@ -104,24 +105,18 @@ pure fn get(v: bitv, i: uint) -> bool {\n }\n \n // FIXME: This doesn't account for the actual size of the vectors,\n-// so it could end up comparing garbage bits\n+// so it could end up comparing garbage bits (#2342)\n #[doc = \"\n Compares two bitvectors\n \n Both bitvectors must be the same length. Returns `true` if both bitvectors\n contain identical elements.\n \"]\n fn equal(v0: bitv, v1: bitv) -> bool {\n-    // FIXME: when we can break or return from inside an iterator loop,\n-    //        we can eliminate this painful while-loop\n-\n     let len = vec::len(v1.storage);\n-    let mut i = 0u;\n-    while i < len {\n+    for uint::iterate(0u, len) {|i|\n         if v0.storage[i] != v1.storage[i] { ret false; }\n-        i = i + 1u;\n     }\n-    ret true;\n }\n \n #[doc = \"Set all bits to 0\"]"}]}