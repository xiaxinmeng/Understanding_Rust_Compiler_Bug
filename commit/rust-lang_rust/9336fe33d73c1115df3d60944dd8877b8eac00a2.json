{"sha": "9336fe33d73c1115df3d60944dd8877b8eac00a2", "node_id": "C_kwDOAAsO6NoAKDkzMzZmZTMzZDczYzExMTVkZjNkNjA5NDRkZDg4NzdiOGVhYzAwYTI", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2022-01-15T18:57:47Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2022-01-17T17:06:30Z"}, "message": "Fix review comment", "tree": {"sha": "ff9982b794d487bf3f3b12df5470eafdc63e9f36", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ff9982b794d487bf3f3b12df5470eafdc63e9f36"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9336fe33d73c1115df3d60944dd8877b8eac00a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9336fe33d73c1115df3d60944dd8877b8eac00a2", "html_url": "https://github.com/rust-lang/rust/commit/9336fe33d73c1115df3d60944dd8877b8eac00a2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9336fe33d73c1115df3d60944dd8877b8eac00a2/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "042aa379a5cf6f6148664b74c9ebdf88ad8a5c1d", "url": "https://api.github.com/repos/rust-lang/rust/commits/042aa379a5cf6f6148664b74c9ebdf88ad8a5c1d", "html_url": "https://github.com/rust-lang/rust/commit/042aa379a5cf6f6148664b74c9ebdf88ad8a5c1d"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "25ffb7d408532fc768a6b79c1122f02af7825e68", "filename": "compiler/rustc_passes/src/intrinsicck.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9336fe33d73c1115df3d60944dd8877b8eac00a2/compiler%2Frustc_passes%2Fsrc%2Fintrinsicck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9336fe33d73c1115df3d60944dd8877b8eac00a2/compiler%2Frustc_passes%2Fsrc%2Fintrinsicck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Fintrinsicck.rs?ref=9336fe33d73c1115df3d60944dd8877b8eac00a2", "patch": "@@ -411,7 +411,11 @@ impl<'tcx> ExprVisitor<'tcx> {\n                             let msg = format!(\n                                 \"register class `{}` requires at least one of the following target features: {}\",\n                                 reg_class.name(),\n-                                features.iter().map(|f| f.as_str()).collect::<Vec<_>>().join(\", \")\n+                                features\n+                                    .iter()\n+                                    .map(|f| f.as_str())\n+                                    .intersperse(\", \")\n+                                    .collect::<String>(),\n                             );\n                             self.tcx.sess.struct_span_err(*op_sp, &msg).emit();\n                             // register isn't enabled, don't do more checks"}, {"sha": "2075fee7171052ada4084fa4213e8015767a5371", "filename": "compiler/rustc_passes/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9336fe33d73c1115df3d60944dd8877b8eac00a2/compiler%2Frustc_passes%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9336fe33d73c1115df3d60944dd8877b8eac00a2/compiler%2Frustc_passes%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Flib.rs?ref=9336fe33d73c1115df3d60944dd8877b8eac00a2", "patch": "@@ -6,6 +6,7 @@\n \n #![doc(html_root_url = \"https://doc.rust-lang.org/nightly/nightly-rustc/\")]\n #![feature(crate_visibility_modifier)]\n+#![feature(iter_intersperse)]\n #![feature(let_else)]\n #![feature(map_try_insert)]\n #![feature(min_specialization)]"}]}