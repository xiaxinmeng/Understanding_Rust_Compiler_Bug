{"sha": "d9edc8e8691d3b65665a9fb12d4dcd1a3fe4cab6", "node_id": "C_kwDOAAsO6NoAKGQ5ZWRjOGU4NjkxZDNiNjU2NjVhOWZiMTJkNGRjZDFhM2ZlNGNhYjY", "commit": {"author": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2022-09-26T10:21:51Z"}, "committer": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2022-09-26T10:29:10Z"}, "message": "harden ci configuration", "tree": {"sha": "bc6e50ea0f3f3afd17b921f5bc6380038db79d4b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bc6e50ea0f3f3afd17b921f5bc6380038db79d4b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d9edc8e8691d3b65665a9fb12d4dcd1a3fe4cab6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMycKYjxLY0eb13b7zXazX3c0dp4FAmMxfvcACgkQzXazX3c0\ndp5Umg/8CAcvpS1K57yTB7O2OnCn4RCAp2/gV0KNAblmaT/A0TeinYf0djvKp8uj\nTz+kpbprO1FSfw0oqx7DP8VyXrSjIt+H6xq41w7DNqqZOh/yWQsDawlZCBIeNc3f\nUwvwXRkxtXTBCdNsVKmUTEwS9mcgfoYtkeXqo8s3DcV2EPIRSsAW4KCgNIguWbS3\nJhbM0rAxUqtNP1hATx/bHZ4effZ2508mg1a218CB5983CkHy9XYgfOrLhG2ed+hR\nkvKQMAQ4MqjPXyqCGXJXrNtfRNuGJmaJIv50kcAfcUZ/nH36HyldBk4VxGVnDwjP\nLlt7whYWTJBi6IlRpB3FGm/mYhtd+81IxCVLXlgnyqbrauZRg/alPA41oYIsEi+N\nvAzmP0Z1Sp/eGYn3Nf4SFP6J4wGhYUYnxwr18BFJ+H0V8pkDTUdJasjqctDTLQql\nCxnbQmqieK+857WwYbFEWB7RHE4PR6Dvt6r/ugr4Lz0QosemSxifcyV0Fy2rNgrQ\nHoEvshlcI0WWI2iqwzlOmHlRkj6nxJ6vxZcLAdVDJXxHXs1ePqzQN81VN0WZ9hVN\nxAfcrtQL5neQu+XFHEcxG7Y6mZuVPk6M1prhqRqAVTdJ6QMemxHhYH4J7FvNgf1o\nYPYygD5jU+aMxZfHAparMnUYQrsEPBTWs/YKqBi/2KiD/UJt4v0=\n=pgjn\n-----END PGP SIGNATURE-----", "payload": "tree bc6e50ea0f3f3afd17b921f5bc6380038db79d4b\nparent 1724042e228c331832d12cf9f198696c750f51ba\nauthor Pietro Albini <pietro.albini@ferrous-systems.com> 1664187711 +0200\ncommitter Pietro Albini <pietro.albini@ferrous-systems.com> 1664188150 +0200\n\nharden ci configuration\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d9edc8e8691d3b65665a9fb12d4dcd1a3fe4cab6", "html_url": "https://github.com/rust-lang/rust/commit/d9edc8e8691d3b65665a9fb12d4dcd1a3fe4cab6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d9edc8e8691d3b65665a9fb12d4dcd1a3fe4cab6/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1724042e228c331832d12cf9f198696c750f51ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/1724042e228c331832d12cf9f198696c750f51ba", "html_url": "https://github.com/rust-lang/rust/commit/1724042e228c331832d12cf9f198696c750f51ba"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "412344cfa3da20294bbc204e4984ec08265766ff", "filename": ".github/workflows/ci.yml", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/d9edc8e8691d3b65665a9fb12d4dcd1a3fe4cab6/.github%2Fworkflows%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/d9edc8e8691d3b65665a9fb12d4dcd1a3fe4cab6/.github%2Fworkflows%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fci.yml?ref=d9edc8e8691d3b65665a9fb12d4dcd1a3fe4cab6", "patch": "@@ -4,6 +4,9 @@ on:\n   - push\n   - pull_request\n \n+permissions:\n+  contents: read\n+\n env:\n   # Enable backtraces for easier debugging\n   RUST_BACKTRACE: 1\n@@ -16,9 +19,9 @@ jobs:\n       fail-fast: false\n       matrix:\n         libgccjit_version:\n-          - { gcc: \"libgccjit.so\", extra: \"\" }\n-          - { gcc: \"libgccjit_without_int128.so\", extra: \"\" }\n-          - { gcc: \"libgccjit12.so\", extra: \"--no-default-features\" }\n+          - { gcc: \"libgccjit.so\", extra: \"\", artifacts_branch: \"master\" }\n+          - { gcc: \"libgccjit_without_int128.so\", extra: \"\", artifacts_branch: \"master-without-128bit-integers\" }\n+          - { gcc: \"libgccjit12.so\", extra: \"--no-default-features\", artifacts_branch: \"gcc12\" }\n         commands: [\n           \"--mini-tests\",\n           \"--std-tests\",\n@@ -49,6 +52,8 @@ jobs:\n           name: ${{ matrix.libgccjit_version.gcc }}\n           path: gcc-build\n           repo: antoyo/gcc\n+          branch: ${{ matrix.libgccjit_version.artifacts_branch }}\n+          event: push\n           search_artifacts: true # Because, instead, the action only check the last job ran and that won't work since we want multiple artifacts.\n \n     - name: Setup path to libgccjit"}]}