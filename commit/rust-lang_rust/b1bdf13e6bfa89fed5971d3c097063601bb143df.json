{"sha": "b1bdf13e6bfa89fed5971d3c097063601bb143df", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIxYmRmMTNlNmJmYTg5ZmVkNTk3MWQzYzA5NzA2MzYwMWJiMTQzZGY=", "commit": {"author": {"name": "Corey Farwell", "email": "coreyf@rwell.org", "date": "2017-08-15T00:28:44Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-08-15T00:28:44Z"}, "message": "Rollup merge of #43790 - steveklabnik:rustdoc-passes, r=QuietMisdreavus\n\nWrite the \"passes\" chapter of the rustdoc book\n\ncc #42322\n\nr? @rust-lang/docs", "tree": {"sha": "356f98de44cd83e90cd49dfbd214ba7d85c7e343", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/356f98de44cd83e90cd49dfbd214ba7d85c7e343"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b1bdf13e6bfa89fed5971d3c097063601bb143df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b1bdf13e6bfa89fed5971d3c097063601bb143df", "html_url": "https://github.com/rust-lang/rust/commit/b1bdf13e6bfa89fed5971d3c097063601bb143df", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b1bdf13e6bfa89fed5971d3c097063601bb143df/comments", "author": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "337389741f9e662546c86cf41a390adacebaf994", "url": "https://api.github.com/repos/rust-lang/rust/commits/337389741f9e662546c86cf41a390adacebaf994", "html_url": "https://github.com/rust-lang/rust/commit/337389741f9e662546c86cf41a390adacebaf994"}, {"sha": "7a5ee171c34775f7155869bd16bbe38c524a555e", "url": "https://api.github.com/repos/rust-lang/rust/commits/7a5ee171c34775f7155869bd16bbe38c524a555e", "html_url": "https://github.com/rust-lang/rust/commit/7a5ee171c34775f7155869bd16bbe38c524a555e"}], "stats": {"total": 85, "additions": 84, "deletions": 1}, "files": [{"sha": "de7c10292680c40d895241a774c43275e7fcbe7c", "filename": "src/doc/rustdoc/src/passes.md", "status": "modified", "additions": 84, "deletions": 1, "changes": 85, "blob_url": "https://github.com/rust-lang/rust/blob/b1bdf13e6bfa89fed5971d3c097063601bb143df/src%2Fdoc%2Frustdoc%2Fsrc%2Fpasses.md", "raw_url": "https://github.com/rust-lang/rust/raw/b1bdf13e6bfa89fed5971d3c097063601bb143df/src%2Fdoc%2Frustdoc%2Fsrc%2Fpasses.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Fpasses.md?ref=b1bdf13e6bfa89fed5971d3c097063601bb143df", "patch": "@@ -1,3 +1,86 @@\n # Passes\n \n-Coming soon!\n\\ No newline at end of file\n+Rustdoc has a concept called \"passes\". These are transformations that\n+`rustdoc` runs on your documentation before producing its final output.\n+\n+In addition to the passes below, check out the docs for these flags:\n+\n+* [`--passes`](command-line-arguments.html#--passes-add-more-rustdoc-passes)\n+* [`--no-defaults`](command-line-arguments.html#--no-defaults-dont-run-default-passes)\n+\n+## Default passes\n+\n+By default, rustdoc will run some passes, namely:\n+\n+* `strip-hidden`\n+* `strip-private`\n+* `collapse-docs`\n+* `unindent-comments`\n+\n+However, `strip-private` implies `strip-private-imports`, and so effectively,\n+all passes are run by default.\n+\n+## `strip-hidden`\n+\n+This pass implements the `#[doc(hidden)]` attribute. When this pass runs, it\n+checks each item, and if it is annotated with this attribute, it removes it\n+from `rustdoc`'s output.\n+\n+Without this pass, these items will remain in the output.\n+\n+## `unindent-comments`\n+\n+When you write a doc comment like this:\n+\n+```rust,ignore\n+/// This is a documentation comment.\n+```\n+\n+There's a space between the `///` and that `T`. That spacing isn't intended\n+to be a part of the output; it's there for humans, to help separate the doc\n+comment syntax from the text of the comment. This pass is what removes that\n+space.\n+\n+The exact rules are left under-specified so that we can fix issues that we find.\n+\n+Without this pass, the exact number of spaces is preserved.\n+\n+## `collapse-docs`\n+\n+With this pass, multiple `#[doc]` attributes are converted into one single\n+documentation string.\n+\n+For example:\n+\n+```rust,ignore\n+#[doc = \"This is the first line.\"]\n+#[doc = \"This is the second line.\"]\n+```\n+\n+Gets collapsed into a single doc string of\n+\n+```text\n+This is the first line.\n+This is the second line.\n+```\n+\n+## `strip-private`\n+\n+This removes documentation for any non-public items, so for example:\n+\n+```rust,ignore\n+/// These are private docs.\n+struct Private;\n+\n+/// These are public docs.\n+pub struct Public;\n+```\n+\n+This pass removes the docs for `Private`, since they're not public.\n+\n+This pass implies `strip-priv-imports`.\n+\n+## `strip-priv-imports`\n+\n+This is the same as `strip-private`, but for `extern crate` and `use`\n+statements instead of items."}]}