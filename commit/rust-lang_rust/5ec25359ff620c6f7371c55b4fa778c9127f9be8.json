{"sha": "5ec25359ff620c6f7371c55b4fa778c9127f9be8", "node_id": "C_kwDOAAsO6NoAKDVlYzI1MzU5ZmY2MjBjNmY3MzcxYzU1YjRmYTc3OGM5MTI3ZjliZTg", "commit": {"author": {"name": "InfRandomness", "email": "infrandomness@gmail.com", "date": "2022-07-01T19:24:24Z"}, "committer": {"name": "InfRandomness", "email": "infrandomness@gmail.com", "date": "2022-07-02T10:42:14Z"}, "message": "Add `environ` extern implementation to freebsd\n\nSigned-off-by: InfRandomness <infrandomness@gmail.com>", "tree": {"sha": "7c095b19a4c398336ec0b6d353da0d45772dc919", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7c095b19a4c398336ec0b6d353da0d45772dc919"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5ec25359ff620c6f7371c55b4fa778c9127f9be8", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEES/Kc3h45uW73N4seYLbIHvAzRBoFAmLAIQYACgkQYLbIHvAz\nRBoOWg//fHr2jnptjcUzRzk5GsDGaH9DGzDA4GyZqnGYj8mW9KxwFz33UPHamzUy\n2fR89MqQ4BGW8voLKczQBNy6x60JgaZGB8kSuzRVvtPu3grj6D5jaBdWZf7gBOl5\nGCtTnY0kFSMJE+ZYDglkSgzx51JpCg68rBngeDfvcyXfmHmKK1N6lEtIDOAXfTfe\nGxWlqdV5Ap0j2STvkeQt7hTUm2zjMTxkUA6m5wAAgnIVsx2/LqvrYL0L3ZDVoES5\nsRWylqhTPAN4PlO34yEfY9wkfybJ5ZMvu+fMqDfQZQJ9bDc8FHEnYKlt4pRuW+E+\nQbV1e4QCam3vNvcf2ZoYkl4h8hbGLKU3iBOXFJOFoHosT/biWLwi52k6qXUUGwHx\nRBp3HDSPthnWJlI4PKhyxrFQwBmV2tBk8a+BZ7yMBqOa0a6hhyhOvYaBtf6Z9hf8\n/OqkGHfxicH+UytzHsoLWM8i2dbn3QNFqTmi/DFv9lOHvKCAyRSXc9bFLRDoaQ7f\nA9SDNwtycFmvh61joUa8WRlgs/cf3DZCCilETXdiweXC7cDFzUUkswFQ9tU8SIFt\nkYH9GMjSJDHhxB/PQUOoIudSuPwI+zGUKaPH5U2Ne+pPu+uB/F8XEHzum3vx3OPP\n4pPMDUJFQ9n8auEpK06p2r7gf35UsgalN0CXq4k/puLMTKAeg8w=\n=NOCv\n-----END PGP SIGNATURE-----", "payload": "tree 7c095b19a4c398336ec0b6d353da0d45772dc919\nparent 602a3dcefd2d3e49a3c7f25faf846575f14efaa2\nauthor InfRandomness <infrandomness@gmail.com> 1656703464 +0200\ncommitter InfRandomness <infrandomness@gmail.com> 1656758534 +0200\n\nAdd `environ` extern implementation to freebsd\n\nSigned-off-by: InfRandomness <infrandomness@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5ec25359ff620c6f7371c55b4fa778c9127f9be8", "html_url": "https://github.com/rust-lang/rust/commit/5ec25359ff620c6f7371c55b4fa778c9127f9be8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5ec25359ff620c6f7371c55b4fa778c9127f9be8/comments", "author": {"login": "InfRandomness", "id": 43730933, "node_id": "MDQ6VXNlcjQzNzMwOTMz", "avatar_url": "https://avatars.githubusercontent.com/u/43730933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InfRandomness", "html_url": "https://github.com/InfRandomness", "followers_url": "https://api.github.com/users/InfRandomness/followers", "following_url": "https://api.github.com/users/InfRandomness/following{/other_user}", "gists_url": "https://api.github.com/users/InfRandomness/gists{/gist_id}", "starred_url": "https://api.github.com/users/InfRandomness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InfRandomness/subscriptions", "organizations_url": "https://api.github.com/users/InfRandomness/orgs", "repos_url": "https://api.github.com/users/InfRandomness/repos", "events_url": "https://api.github.com/users/InfRandomness/events{/privacy}", "received_events_url": "https://api.github.com/users/InfRandomness/received_events", "type": "User", "site_admin": false}, "committer": {"login": "InfRandomness", "id": 43730933, "node_id": "MDQ6VXNlcjQzNzMwOTMz", "avatar_url": "https://avatars.githubusercontent.com/u/43730933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InfRandomness", "html_url": "https://github.com/InfRandomness", "followers_url": "https://api.github.com/users/InfRandomness/followers", "following_url": "https://api.github.com/users/InfRandomness/following{/other_user}", "gists_url": "https://api.github.com/users/InfRandomness/gists{/gist_id}", "starred_url": "https://api.github.com/users/InfRandomness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InfRandomness/subscriptions", "organizations_url": "https://api.github.com/users/InfRandomness/orgs", "repos_url": "https://api.github.com/users/InfRandomness/repos", "events_url": "https://api.github.com/users/InfRandomness/events{/privacy}", "received_events_url": "https://api.github.com/users/InfRandomness/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "602a3dcefd2d3e49a3c7f25faf846575f14efaa2", "url": "https://api.github.com/repos/rust-lang/rust/commits/602a3dcefd2d3e49a3c7f25faf846575f14efaa2", "html_url": "https://github.com/rust-lang/rust/commit/602a3dcefd2d3e49a3c7f25faf846575f14efaa2"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "1b7fc4ffb9637c30c673668c0188726c24493521", "filename": "src/machine.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5ec25359ff620c6f7371c55b4fa778c9127f9be8/src%2Fmachine.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5ec25359ff620c6f7371c55b4fa778c9127f9be8/src%2Fmachine.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmachine.rs?ref=5ec25359ff620c6f7371c55b4fa778c9127f9be8", "patch": "@@ -442,6 +442,14 @@ impl<'mir, 'tcx> Evaluator<'mir, 'tcx> {\n                     Self::add_extern_static(this, name, place.ptr);\n                 }\n             }\n+            \"freebsd\" => {\n+                // \"environ\"\n+                Self::add_extern_static(\n+                    this,\n+                    \"environ\",\n+                    this.machine.env_vars.environ.unwrap().ptr,\n+                );\n+            }\n             \"windows\" => {\n                 // \"_tls_used\"\n                 // This is some obscure hack that is part of the Windows TLS story. It's a `u8`."}]}