{"sha": "106b30e86989cb4f201ef7a1b7fac7150b662b92", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwNmIzMGU4Njk4OWNiNGYyMDFlZjdhMWI3ZmFjNzE1MGI2NjJiOTI=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2020-04-04T13:23:43Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2020-04-04T13:23:43Z"}, "message": "macro_rules: `NtLifetime` cannot start with an identifier", "tree": {"sha": "e4f9d6c6a21a6499737d9429ec3f09670c05ae21", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e4f9d6c6a21a6499737d9429ec3f09670c05ae21"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/106b30e86989cb4f201ef7a1b7fac7150b662b92", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/106b30e86989cb4f201ef7a1b7fac7150b662b92", "html_url": "https://github.com/rust-lang/rust/commit/106b30e86989cb4f201ef7a1b7fac7150b662b92", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/106b30e86989cb4f201ef7a1b7fac7150b662b92/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "49dc2f9f091748beb1a8a9d5b3eb3bbe7362c3bd", "url": "https://api.github.com/repos/rust-lang/rust/commits/49dc2f9f091748beb1a8a9d5b3eb3bbe7362c3bd", "html_url": "https://github.com/rust-lang/rust/commit/49dc2f9f091748beb1a8a9d5b3eb3bbe7362c3bd"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "5fb800972c78340cb01721d92a30006ff21c14ab", "filename": "src/librustc_expand/mbe/macro_parser.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/106b30e86989cb4f201ef7a1b7fac7150b662b92/src%2Flibrustc_expand%2Fmbe%2Fmacro_parser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106b30e86989cb4f201ef7a1b7fac7150b662b92/src%2Flibrustc_expand%2Fmbe%2Fmacro_parser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fmbe%2Fmacro_parser.rs?ref=106b30e86989cb4f201ef7a1b7fac7150b662b92", "patch": "@@ -768,7 +768,7 @@ fn may_begin_with(token: &Token, name: Name) -> bool {\n     /// Checks whether the non-terminal may contain a single (non-keyword) identifier.\n     fn may_be_ident(nt: &token::Nonterminal) -> bool {\n         match *nt {\n-            token::NtItem(_) | token::NtBlock(_) | token::NtVis(_) => false,\n+            token::NtItem(_) | token::NtBlock(_) | token::NtVis(_) | token::NtLifetime(_) => false,\n             _ => true,\n         }\n     }"}, {"sha": "407094d55ffef63d3dbceaa8eea7f3c9c1df3a29", "filename": "src/test/ui/macros/issue-70446.rs", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/106b30e86989cb4f201ef7a1b7fac7150b662b92/src%2Ftest%2Fui%2Fmacros%2Fissue-70446.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106b30e86989cb4f201ef7a1b7fac7150b662b92/src%2Ftest%2Fui%2Fmacros%2Fissue-70446.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fissue-70446.rs?ref=106b30e86989cb4f201ef7a1b7fac7150b662b92", "patch": "@@ -0,0 +1,13 @@\n+// check-pass\n+\n+macro_rules! foo {\n+    ($(: $p:path)? $(: $l:lifetime)? ) => { bar! {$(: $p)? $(: $l)? } };\n+}\n+\n+macro_rules! bar {\n+    ($(: $p:path)? $(: $l:lifetime)? ) => {};\n+}\n+\n+foo! {: 'a }\n+\n+fn main() {}"}]}