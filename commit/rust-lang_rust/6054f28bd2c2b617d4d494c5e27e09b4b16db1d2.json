{"sha": "6054f28bd2c2b617d4d494c5e27e09b4b16db1d2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwNTRmMjhiZDJjMmI2MTdkNGQ0OTRjNWUyN2UwOWI0YjE2ZGIxZDI=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2017-01-26T20:14:26Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2017-01-26T20:14:26Z"}, "message": "Some debugging stuff", "tree": {"sha": "8935cafcc0cbeddfded43f79f7cfb4d4aa9c245c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8935cafcc0cbeddfded43f79f7cfb4d4aa9c245c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6054f28bd2c2b617d4d494c5e27e09b4b16db1d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6054f28bd2c2b617d4d494c5e27e09b4b16db1d2", "html_url": "https://github.com/rust-lang/rust/commit/6054f28bd2c2b617d4d494c5e27e09b4b16db1d2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6054f28bd2c2b617d4d494c5e27e09b4b16db1d2/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e56ef44a3a27d1f609a20aacbdd2919f225175a9", "url": "https://api.github.com/repos/rust-lang/rust/commits/e56ef44a3a27d1f609a20aacbdd2919f225175a9", "html_url": "https://github.com/rust-lang/rust/commit/e56ef44a3a27d1f609a20aacbdd2919f225175a9"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "80937d76da73a682bac246cdab5cad88e08c898d", "filename": "src/expr.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6054f28bd2c2b617d4d494c5e27e09b4b16db1d2/src%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6054f28bd2c2b617d4d494c5e27e09b4b16db1d2/src%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fexpr.rs?ref=6054f28bd2c2b617d4d494c5e27e09b4b16db1d2", "patch": "@@ -694,6 +694,7 @@ impl Rewrite for ast::Stmt {\n }\n \n // Abstraction over control flow expressions\n+#[derive(Debug)]\n struct ControlFlow<'a> {\n     cond: Option<&'a ast::Expr>,\n     block: &'a ast::Block,\n@@ -845,6 +846,7 @@ impl<'a> ControlFlow<'a> {\n \n impl<'a> Rewrite for ControlFlow<'a> {\n     fn rewrite(&self, context: &RewriteContext, width: usize, offset: Indent) -> Option<String> {\n+        debug!(\"ControlFlow::rewrite {:?} {} {:?}\", self, width, offset);\n         let (budget, indent) = if self.nested_if {\n             // We are part of an if-elseif-else chain. Our constraints are tightened.\n             // 7 = \"} else \" .len()"}, {"sha": "8270a52ce766027bea4e5aa7da8926bb41b125bb", "filename": "src/items.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6054f28bd2c2b617d4d494c5e27e09b4b16db1d2/src%2Fitems.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6054f28bd2c2b617d4d494c5e27e09b4b16db1d2/src%2Fitems.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fitems.rs?ref=6054f28bd2c2b617d4d494c5e27e09b4b16db1d2", "patch": "@@ -31,6 +31,7 @@ use syntax::ast::ImplItem;\n // let pat: ty = init;\n impl Rewrite for ast::Local {\n     fn rewrite(&self, context: &RewriteContext, width: usize, offset: Indent) -> Option<String> {\n+        debug!(\"Local::rewrite {:?} {} {:?}\", self, width, offset);\n         let mut result = \"let \".to_owned();\n         let pattern_offset = offset + result.len();\n         // 1 = ;\n@@ -64,9 +65,9 @@ impl Rewrite for ast::Local {\n         result.push_str(&infix);\n \n         if let Some(ref ex) = self.init {\n+            // 1 = trailing semicolon;\n             let budget = try_opt!(width.checked_sub(context.block_indent.width() + 1));\n \n-            // 1 = trailing semicolon;\n             result =\n                 try_opt!(rewrite_assign_rhs(&context, result, ex, budget, context.block_indent));\n         }"}]}