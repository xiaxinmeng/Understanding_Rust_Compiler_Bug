{"sha": "ef352faea84fa16616b773bd9aa5020d7c76bff0", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVmMzUyZmFlYTg0ZmExNjYxNmI3NzNiZDlhYTUwMjBkN2M3NmJmZjA=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-07-18T21:46:32Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-07-18T21:46:32Z"}, "message": "auto merge of #15743 : Ryman/rust/mandelbrot_fix, r=alexcrichton\n\nMatches the official sample output (N=200) again.\r\n\r\ncc #15408", "tree": {"sha": "0ed3c22f4b984355886a4158d4a2b3f238e6f26a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0ed3c22f4b984355886a4158d4a2b3f238e6f26a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ef352faea84fa16616b773bd9aa5020d7c76bff0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ef352faea84fa16616b773bd9aa5020d7c76bff0", "html_url": "https://github.com/rust-lang/rust/commit/ef352faea84fa16616b773bd9aa5020d7c76bff0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ef352faea84fa16616b773bd9aa5020d7c76bff0/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7502b4cd6b10693cec6862f5951b1adf0c7657ab", "url": "https://api.github.com/repos/rust-lang/rust/commits/7502b4cd6b10693cec6862f5951b1adf0c7657ab", "html_url": "https://github.com/rust-lang/rust/commit/7502b4cd6b10693cec6862f5951b1adf0c7657ab"}, {"sha": "407fe9a08c4756b6a837c23756d12d483985b4e2", "url": "https://api.github.com/repos/rust-lang/rust/commits/407fe9a08c4756b6a837c23756d12d483985b4e2", "html_url": "https://github.com/rust-lang/rust/commit/407fe9a08c4756b6a837c23756d12d483985b4e2"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "b0e23983192f23a8aaf0ae6a20aa6445e056fb22", "filename": "src/test/bench/shootout-mandelbrot.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ef352faea84fa16616b773bd9aa5020d7c76bff0/src%2Ftest%2Fbench%2Fshootout-mandelbrot.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef352faea84fa16616b773bd9aa5020d7c76bff0/src%2Ftest%2Fbench%2Fshootout-mandelbrot.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-mandelbrot.rs?ref=ef352faea84fa16616b773bd9aa5020d7c76bff0", "patch": "@@ -64,7 +64,7 @@ fn mandelbrot<W: io::Writer>(w: uint, mut out: W) -> io::IoResult<()> {\n     let chunk_size = h / WORKERS;\n \n     // Account for remainders in workload division, e.g. 1000 / 16 = 62.5\n-    let first_chunk_size = if h % WORKERS != 0 {\n+    let last_chunk_size = if h % WORKERS != 0 {\n         chunk_size + h % WORKERS\n     } else {\n         chunk_size\n@@ -87,8 +87,8 @@ fn mandelbrot<W: io::Writer>(w: uint, mut out: W) -> io::IoResult<()> {\n             let mut is = Vec::with_capacity(w / WORKERS);\n \n             let start = i * chunk_size;\n-            let end = if i == 0 {\n-                first_chunk_size\n+            let end = if i == (WORKERS - 1) {\n+                start + last_chunk_size\n             } else {\n                 (i + 1) * chunk_size\n             };"}]}