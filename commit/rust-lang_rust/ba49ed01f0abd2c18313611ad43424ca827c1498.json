{"sha": "ba49ed01f0abd2c18313611ad43424ca827c1498", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJhNDllZDAxZjBhYmQyYzE4MzEzNjExYWQ0MzQyNGNhODI3YzE0OTg=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-03-02T12:10:24Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-03-02T12:10:24Z"}, "message": "clean up E0378 explanation", "tree": {"sha": "18957905a09acef72eb20c6a481e3d0fd7817c3f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/18957905a09acef72eb20c6a481e3d0fd7817c3f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ba49ed01f0abd2c18313611ad43424ca827c1498", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ba49ed01f0abd2c18313611ad43424ca827c1498", "html_url": "https://github.com/rust-lang/rust/commit/ba49ed01f0abd2c18313611ad43424ca827c1498", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ba49ed01f0abd2c18313611ad43424ca827c1498/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "01a8b5f26e536a3bcd9449f62fd0b9b68ef3d650", "url": "https://api.github.com/repos/rust-lang/rust/commits/01a8b5f26e536a3bcd9449f62fd0b9b68ef3d650", "html_url": "https://github.com/rust-lang/rust/commit/01a8b5f26e536a3bcd9449f62fd0b9b68ef3d650"}], "stats": {"total": 42, "additions": 22, "deletions": 20}, "files": [{"sha": "7f4374738de28ec4341247a93f3b1cd7c0edb298", "filename": "src/librustc_error_codes/error_codes/E0378.md", "status": "modified", "additions": 22, "deletions": 20, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/ba49ed01f0abd2c18313611ad43424ca827c1498/src%2Flibrustc_error_codes%2Ferror_codes%2FE0378.md", "raw_url": "https://github.com/rust-lang/rust/raw/ba49ed01f0abd2c18313611ad43424ca827c1498/src%2Flibrustc_error_codes%2Ferror_codes%2FE0378.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_error_codes%2Ferror_codes%2FE0378.md?ref=ba49ed01f0abd2c18313611ad43424ca827c1498", "patch": "@@ -1,10 +1,28 @@\n+The `DispatchFromDyn` trait was implemented on something which is not a pointer\n+or a newtype wrapper around a pointer.\n+\n+Erroneous code example:\n+\n+```compile-fail,E0378\n+#![feature(dispatch_from_dyn)]\n+use std::ops::DispatchFromDyn;\n+\n+struct WrapperExtraField<T> {\n+    ptr: T,\n+    extra_stuff: i32,\n+}\n+\n+impl<T, U> DispatchFromDyn<WrapperExtraField<U>> for WrapperExtraField<T>\n+where\n+    T: DispatchFromDyn<U>,\n+{}\n+```\n+\n The `DispatchFromDyn` trait currently can only be implemented for\n builtin pointer types and structs that are newtype wrappers around them\n \u2014 that is, the struct must have only one field (except for`PhantomData`),\n and that field must itself implement `DispatchFromDyn`.\n \n-Examples:\n-\n ```\n #![feature(dispatch_from_dyn, unsize)]\n use std::{\n@@ -20,6 +38,8 @@ where\n {}\n ```\n \n+Another example:\n+\n ```\n #![feature(dispatch_from_dyn)]\n use std::{\n@@ -37,21 +57,3 @@ where\n     T: DispatchFromDyn<U>,\n {}\n ```\n-\n-Example of illegal `DispatchFromDyn` implementation\n-(illegal because of extra field)\n-\n-```compile-fail,E0378\n-#![feature(dispatch_from_dyn)]\n-use std::ops::DispatchFromDyn;\n-\n-struct WrapperExtraField<T> {\n-    ptr: T,\n-    extra_stuff: i32,\n-}\n-\n-impl<T, U> DispatchFromDyn<WrapperExtraField<U>> for WrapperExtraField<T>\n-where\n-    T: DispatchFromDyn<U>,\n-{}\n-```"}]}