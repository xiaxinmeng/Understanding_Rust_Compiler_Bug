{"sha": "ff976fe0f13491f0e6d3f7cbd52ab409fd93165a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZmOTc2ZmUwZjEzNDkxZjBlNmQzZjdjYmQ1MmFiNDA5ZmQ5MzE2NWE=", "commit": {"author": {"name": "Michael Woerister", "email": "michaelwoerister@posteo", "date": "2019-04-24T09:14:24Z"}, "committer": {"name": "Michael Woerister", "email": "michaelwoerister@posteo", "date": "2019-04-24T09:14:24Z"}, "message": "Fix ignore-logic for sanitizer run-make tests.", "tree": {"sha": "c8c5dacf7a5c45ad506728706ad269a24233453e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c8c5dacf7a5c45ad506728706ad269a24233453e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ff976fe0f13491f0e6d3f7cbd52ab409fd93165a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ff976fe0f13491f0e6d3f7cbd52ab409fd93165a", "html_url": "https://github.com/rust-lang/rust/commit/ff976fe0f13491f0e6d3f7cbd52ab409fd93165a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ff976fe0f13491f0e6d3f7cbd52ab409fd93165a/comments", "author": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "committer": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cc77087d6f6143927d9fe98a07ca3d12b26ce474", "url": "https://api.github.com/repos/rust-lang/rust/commits/cc77087d6f6143927d9fe98a07ca3d12b26ce474", "html_url": "https://github.com/rust-lang/rust/commit/cc77087d6f6143927d9fe98a07ca3d12b26ce474"}], "stats": {"total": 15, "additions": 6, "deletions": 9}, "files": [{"sha": "35317dca1e824b5a3b8cf3575991d0618d6cea78", "filename": "src/test/run-make-fulldeps/sanitizer-cdylib-link/Makefile", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/ff976fe0f13491f0e6d3f7cbd52ab409fd93165a/src%2Ftest%2Frun-make-fulldeps%2Fsanitizer-cdylib-link%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/ff976fe0f13491f0e6d3f7cbd52ab409fd93165a/src%2Ftest%2Frun-make-fulldeps%2Fsanitizer-cdylib-link%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fsanitizer-cdylib-link%2FMakefile?ref=ff976fe0f13491f0e6d3f7cbd52ab409fd93165a", "patch": "@@ -1,4 +1,6 @@\n # needs-sanitizer-support\n+# only-x86_64\n+# only-linux\n \n -include ../tools.mk\n \n@@ -9,11 +11,8 @@ LOG := $(TMPDIR)/log.txt\n # are compiled with address sanitizer, and we assert that a fault in the cdylib\n # is correctly detected.\n \n-ifeq ($(TARGET),x86_64-unknown-linux-gnu)\n-\n # See comment in sanitizer-address/Makefile for why this is here\n EXTRA_RUSTFLAG=-C relocation-model=dynamic-no-pic\n-endif\n \n all:\n \t$(RUSTC) -g -Z sanitizer=address --crate-type cdylib --target $(TARGET) $(EXTRA_RUSTFLAG) library.rs"}, {"sha": "24d2ebd8f48aa00dbe89de9109909822620f04db", "filename": "src/test/run-make-fulldeps/sanitizer-dylib-link/Makefile", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ff976fe0f13491f0e6d3f7cbd52ab409fd93165a/src%2Ftest%2Frun-make-fulldeps%2Fsanitizer-dylib-link%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/ff976fe0f13491f0e6d3f7cbd52ab409fd93165a/src%2Ftest%2Frun-make-fulldeps%2Fsanitizer-dylib-link%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fsanitizer-dylib-link%2FMakefile?ref=ff976fe0f13491f0e6d3f7cbd52ab409fd93165a", "patch": "@@ -1,4 +1,6 @@\n # needs-sanitizer-support\n+# only-x86_64\n+# only-linux\n \n -include ../tools.mk\n \n@@ -9,10 +11,8 @@ LOG := $(TMPDIR)/log.txt\n # are compiled with address sanitizer, and we assert that a fault in the dylib\n # is correctly detected.\n \n-ifeq ($(TARGET),x86_64-unknown-linux-gnu)\n # See comment in sanitizer-address/Makefile for why this is here\n EXTRA_RUSTFLAG=-C relocation-model=dynamic-no-pic\n-endif\n \n all:\n \t$(RUSTC) -g -Z sanitizer=address --crate-type dylib --target $(TARGET) $(EXTRA_RUSTFLAG) library.rs"}, {"sha": "200dc1be4dee6bdfa171dad4a861f219acf4d4b9", "filename": "src/test/run-make-fulldeps/sanitizer-staticlib-link/Makefile", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ff976fe0f13491f0e6d3f7cbd52ab409fd93165a/src%2Ftest%2Frun-make-fulldeps%2Fsanitizer-staticlib-link%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/ff976fe0f13491f0e6d3f7cbd52ab409fd93165a/src%2Ftest%2Frun-make-fulldeps%2Fsanitizer-staticlib-link%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fsanitizer-staticlib-link%2FMakefile?ref=ff976fe0f13491f0e6d3f7cbd52ab409fd93165a", "patch": "@@ -1,15 +1,13 @@\n # needs-sanitizer-support\n+# only-x86_64\n+# only-linux\n \n -include ../tools.mk\n \n # This test builds a staticlib, then an executable that links to it.\n # The staticlib and executable both  are compiled with address sanitizer,\n # and we assert that a fault in the staticlib is correctly detected.\n \n-ifeq ($(TARGET),x86_64-unknown-linux-gnu)\n-EXTRA_RUSTFLAG=\n-endif\n-\n all:\n \t$(RUSTC) -g -Z sanitizer=address --crate-type staticlib --target $(TARGET) library.rs\n \t$(CC) program.c $(call STATICLIB,library) $(call OUT_EXE,program) $(EXTRACFLAGS) $(EXTRACXXFLAGS)"}]}