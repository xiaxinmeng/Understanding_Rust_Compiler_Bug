{"sha": "4c0b52013da53c715d6b7a03d75f346fbf503ffa", "node_id": "C_kwDOAAsO6NoAKDRjMGI1MjAxM2RhNTNjNzE1ZDZiN2EwM2Q3NWYzNDZmYmY1MDNmZmE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-09-18T00:55:30Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-18T00:55:30Z"}, "message": "Rollup merge of #101923 - jsha:aux-pages-no-rustdoc-css, r=Mark-Simulacrum\n\nDon't add rustdoc's CSS to other doc pages\n\nThis was originally added so those doc pages could use the same font files, but it turns out to be fragile. And those doc pages are just stubs that link to other pages, so they don't need fancy fonts.\n\nBefore:\n\n![Screenshot from 2022-09-16 16-45-44](https://user-images.githubusercontent.com/220205/190831650-b626ee66-046a-4b71-8e57-dd06872359db.png)\n\nAfter:\n\n![Screenshot from 2022-09-16 16-52-06](https://user-images.githubusercontent.com/220205/190831657-f7d10a3f-d8c0-48a3-b30d-666db5a50563.png)\n\nDemo of all affected pages:\n\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/complement-design-faq.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/complement-lang-faq.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/complement-project-faq.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/grammar.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-crates.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-error-handling.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-ffi.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-macros.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-ownership.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-plugins.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-pointers.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-strings.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-tasks.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-testing.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-unsafe.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/index.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/intro.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/not_found.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/reference.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/rustdoc.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/rust.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/tutorial.html\n\nPrior art: https://github.com/rust-lang/rust/pull/86663", "tree": {"sha": "5ab25168d222d40aa213b44532f0e69104b5f871", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5ab25168d222d40aa213b44532f0e69104b5f871"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4c0b52013da53c715d6b7a03d75f346fbf503ffa", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjJmyCCRBK7hj4Ov3rIwAAXiQIAErUrpG1HPN/KicknxcUjJKO\nb0GPr7J/oogODjFWlvrbkmX7s62wokepSB9uCkq6ldloB1/QujgG9cgjklIwOsBq\na5/poQOyY5M5G0LzQVjYvjVn8RNjvMQHnUtMCDyzG0nGJGsNGdThd/iD+9RvBxbM\no/2oykY7NqilRG4FkbuPtfA3xinrKUbgD6yMpHbkoTIzsF7Xns8iRugiuVdhVHbt\n6K2O2jjZz7y5hcBvycBaDTLDX3z2vUbPn4hP42mJt2J3VQ6mdQFL/ydMsYNTtHJj\n1HI4Ebth1jJSzV0nN+SWl8AUrGva1nCziQgAU1qjjfsGLkw8CQ54mXhD7LthUzI=\n=ylrQ\n-----END PGP SIGNATURE-----\n", "payload": "tree 5ab25168d222d40aa213b44532f0e69104b5f871\nparent 46ebe7cf411e8e5d4b7039ae978b82642528072b\nparent 68a3ca0392caf305cd3bd44d2e46adba55c35ad8\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1663462530 +0200\ncommitter GitHub <noreply@github.com> 1663462530 +0200\n\nRollup merge of #101923 - jsha:aux-pages-no-rustdoc-css, r=Mark-Simulacrum\n\nDon't add rustdoc's CSS to other doc pages\n\nThis was originally added so those doc pages could use the same font files, but it turns out to be fragile. And those doc pages are just stubs that link to other pages, so they don't need fancy fonts.\n\nBefore:\n\n![Screenshot from 2022-09-16 16-45-44](https://user-images.githubusercontent.com/220205/190831650-b626ee66-046a-4b71-8e57-dd06872359db.png)\n\nAfter:\n\n![Screenshot from 2022-09-16 16-52-06](https://user-images.githubusercontent.com/220205/190831657-f7d10a3f-d8c0-48a3-b30d-666db5a50563.png)\n\nDemo of all affected pages:\n\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/complement-design-faq.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/complement-lang-faq.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/complement-project-faq.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/grammar.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-crates.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-error-handling.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-ffi.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-macros.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-ownership.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-plugins.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-pointers.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-strings.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-tasks.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-testing.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/guide-unsafe.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/index.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/intro.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/not_found.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/reference.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/rustdoc.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/rust.html\nhttps://rustdoc.crud.net/jsha/aux-pages-no-rustdoc-css/tutorial.html\n\nPrior art: https://github.com/rust-lang/rust/pull/86663\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4c0b52013da53c715d6b7a03d75f346fbf503ffa", "html_url": "https://github.com/rust-lang/rust/commit/4c0b52013da53c715d6b7a03d75f346fbf503ffa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4c0b52013da53c715d6b7a03d75f346fbf503ffa/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "46ebe7cf411e8e5d4b7039ae978b82642528072b", "url": "https://api.github.com/repos/rust-lang/rust/commits/46ebe7cf411e8e5d4b7039ae978b82642528072b", "html_url": "https://github.com/rust-lang/rust/commit/46ebe7cf411e8e5d4b7039ae978b82642528072b"}, {"sha": "68a3ca0392caf305cd3bd44d2e46adba55c35ad8", "url": "https://api.github.com/repos/rust-lang/rust/commits/68a3ca0392caf305cd3bd44d2e46adba55c35ad8", "html_url": "https://github.com/rust-lang/rust/commit/68a3ca0392caf305cd3bd44d2e46adba55c35ad8"}], "stats": {"total": 10, "additions": 2, "deletions": 8}, "files": [{"sha": "791511609dffb943d8b80991d769c37a862e190d", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/4c0b52013da53c715d6b7a03d75f346fbf503ffa/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c0b52013da53c715d6b7a03d75f346fbf503ffa/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=4c0b52013da53c715d6b7a03d75f346fbf503ffa", "patch": "@@ -383,15 +383,9 @@ impl Step for Standalone {\n             }\n \n             if filename == \"not_found.md\" {\n-                cmd.arg(\"--markdown-css\")\n-                    .arg(format!(\"https://doc.rust-lang.org/rustdoc{}.css\", &builder.version))\n-                    .arg(\"--markdown-css\")\n-                    .arg(\"https://doc.rust-lang.org/rust.css\");\n+                cmd.arg(\"--markdown-css\").arg(\"https://doc.rust-lang.org/rust.css\");\n             } else {\n-                cmd.arg(\"--markdown-css\")\n-                    .arg(format!(\"rustdoc{}.css\", &builder.version))\n-                    .arg(\"--markdown-css\")\n-                    .arg(\"rust.css\");\n+                cmd.arg(\"--markdown-css\").arg(\"rust.css\");\n             }\n             builder.run(&mut cmd);\n         }"}]}