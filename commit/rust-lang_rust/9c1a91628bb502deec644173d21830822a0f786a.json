{"sha": "9c1a91628bb502deec644173d21830822a0f786a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjljMWE5MTYyOGJiNTAyZGVlYzY0NDE3M2QyMTgzMDgyMmEwZjc4NmE=", "commit": {"author": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2021-09-01T08:08:40Z"}, "committer": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2021-09-09T05:21:28Z"}, "message": "cleanup hir hack", "tree": {"sha": "37d1c756b25c229a8c72868d8d104a19966854db", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/37d1c756b25c229a8c72868d8d104a19966854db"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9c1a91628bb502deec644173d21830822a0f786a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEQ7Fl7qPq2YcWF1dqAn35M4hird0FAmE5mdgACgkQAn35M4hi\nrd0b5w/9EuZgEkqmrLfZOlN3zd+9EpY/NvNfRO+S/5lZlnxRx/3ZQiosbsXWSl99\nfzkG8viHd6FX/q68Jbqwg3AiDRxAwmrrb6ScOicuq+/lPFDkmCHcm1dBWCigTSdQ\njhlLoU+912tEvIhf7qAYGYOyP1SANHMO5RalhjBzEuojs48vDYAWcbJ4Hjq5+xBp\nTZp18c2eT2uYhaPg0pqPed/4uQDgrpbvSxtE9cNlfo0MOOiMnOp4f7l3GiVMWJeG\ny0xBTqy3oZlA+0DmiSIuDYS93coPxj33gIZ6ym1cY2OrUwuH+HcQGJEzuZi8Bqek\nY+iKeASc1C4Lf0CiI2MYtZxFukIkmd/XqhBY3eDoC8j87tYAUVtsqM1WR1PG/KLI\nb6TXdtWGdksRhiCZYGVr6UBlGqcRAyCkN7Cax4yGG60dnXESwz5vO+ILotx+y6O/\nYlOBixzPP+EicERBD44TtiZUIqCZRiTipSBB52BAdD1iiM6+ccWR9/yYVw33w3c/\nWKmGqyuhjPqYCkglWCihdu7gbaLxaGtkAK2mRsTEYYGqRKp1PtrwOi5bxoTGHfjY\nFfwKi+S0nDVDbWvrwXjRSTWC4rqQlFjK6K0fvEnHeUTj99zW8ai1mZFOj3hDyw5H\nOtnTXyZfm3ZPX/ddCJB2HnjNIn1azLQn9iGXX7TQAKDoNeVDPvg=\n=zjTo\n-----END PGP SIGNATURE-----", "payload": "tree 37d1c756b25c229a8c72868d8d104a19966854db\nparent 626649ff1f33e89e471fff9e90bbb0a6d30141f9\nauthor Deadbeef <ent3rm4n@gmail.com> 1630483720 +0000\ncommitter Deadbeef <ent3rm4n@gmail.com> 1631164888 +0000\n\ncleanup hir hack\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9c1a91628bb502deec644173d21830822a0f786a", "html_url": "https://github.com/rust-lang/rust/commit/9c1a91628bb502deec644173d21830822a0f786a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9c1a91628bb502deec644173d21830822a0f786a/comments", "author": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "626649ff1f33e89e471fff9e90bbb0a6d30141f9", "url": "https://api.github.com/repos/rust-lang/rust/commits/626649ff1f33e89e471fff9e90bbb0a6d30141f9", "html_url": "https://github.com/rust-lang/rust/commit/626649ff1f33e89e471fff9e90bbb0a6d30141f9"}], "stats": {"total": 8, "additions": 1, "deletions": 7}, "files": [{"sha": "5655c4c0e973ef3cd70c165617a394aa52c39b57", "filename": "compiler/rustc_hir/src/hir.rs", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/9c1a91628bb502deec644173d21830822a0f786a/compiler%2Frustc_hir%2Fsrc%2Fhir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9c1a91628bb502deec644173d21830822a0f786a/compiler%2Frustc_hir%2Fsrc%2Fhir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir%2Fsrc%2Fhir.rs?ref=9c1a91628bb502deec644173d21830822a0f786a", "patch": "@@ -3234,12 +3234,7 @@ impl<'hir> Node<'hir> {\n         }\n     }\n \n-    /// Returns `Constness::Const` when this node is a const fn/impl/item,\n-    ///\n-    /// HACK(fee1-dead): or an associated type in a trait. This works because\n-    /// only typeck cares about const trait predicates, so although the predicates\n-    /// query would return const predicates when it does not need to be const,\n-    /// it wouldn't have any effect.\n+    /// Returns `Constness::Const` when this node is a const fn/impl/item.\n     pub fn constness_for_typeck(&self) -> Constness {\n         match self {\n             Node::Item(Item {\n@@ -3258,7 +3253,6 @@ impl<'hir> Node<'hir> {\n \n             Node::Item(Item { kind: ItemKind::Const(..), .. })\n             | Node::TraitItem(TraitItem { kind: TraitItemKind::Const(..), .. })\n-            | Node::TraitItem(TraitItem { kind: TraitItemKind::Type(..), .. })\n             | Node::ImplItem(ImplItem { kind: ImplItemKind::Const(..), .. }) => Constness::Const,\n \n             _ => Constness::NotConst,"}]}