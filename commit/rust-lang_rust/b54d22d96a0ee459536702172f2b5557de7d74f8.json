{"sha": "b54d22d96a0ee459536702172f2b5557de7d74f8", "node_id": "C_kwDOAAsO6NoAKGI1NGQyMmQ5NmEwZWU0NTk1MzY3MDIxNzJmMmI1NTU3ZGU3ZDc0Zjg", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-09-12T13:45:25Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-09-12T13:45:25Z"}, "message": "Auto merge of #13215 - Veykril:toggle-inlay, r=Veykril\n\nRemove the toggleInlayHints command from VSCode\n\nInlay hints are no longer something specifc to r-a as it has been upstreamed into the LSP, we don't have a reason to give the config for this feature special treatment in regards to toggling. There are plenty of other options out there in the VSCode marketplace to create toggle commands/hotkeys for configurations in general which I believe we should nudge people towards instead.", "tree": {"sha": "457efd7de86c5e95cace27ad665fe596f2f0576e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/457efd7de86c5e95cace27ad665fe596f2f0576e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b54d22d96a0ee459536702172f2b5557de7d74f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b54d22d96a0ee459536702172f2b5557de7d74f8", "html_url": "https://github.com/rust-lang/rust/commit/b54d22d96a0ee459536702172f2b5557de7d74f8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b54d22d96a0ee459536702172f2b5557de7d74f8/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7a704f2cc728d65ca29b18b3e617b35c2964fcdc", "url": "https://api.github.com/repos/rust-lang/rust/commits/7a704f2cc728d65ca29b18b3e617b35c2964fcdc", "html_url": "https://github.com/rust-lang/rust/commit/7a704f2cc728d65ca29b18b3e617b35c2964fcdc"}, {"sha": "9c97997af939184d825b54cd25a0d0817a4fc8ac", "url": "https://api.github.com/repos/rust-lang/rust/commits/9c97997af939184d825b54cd25a0d0817a4fc8ac", "html_url": "https://github.com/rust-lang/rust/commit/9c97997af939184d825b54cd25a0d0817a4fc8ac"}], "stats": {"total": 34, "additions": 0, "deletions": 34}, "files": [{"sha": "cfba00d3ed077daf0899474d92baaa6a1805f9b1", "filename": "editors/code/package.json", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/b54d22d96a0ee459536702172f2b5557de7d74f8/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/b54d22d96a0ee459536702172f2b5557de7d74f8/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=b54d22d96a0ee459536702172f2b5557de7d74f8", "patch": "@@ -206,11 +206,6 @@\n                 \"title\": \"Show RA Version\",\n                 \"category\": \"rust-analyzer\"\n             },\n-            {\n-                \"command\": \"rust-analyzer.toggleInlayHints\",\n-                \"title\": \"Toggle inlay hints\",\n-                \"category\": \"rust-analyzer\"\n-            },\n             {\n                 \"command\": \"rust-analyzer.openDocs\",\n                 \"title\": \"Open docs under cursor\",\n@@ -1643,10 +1638,6 @@\n                     \"command\": \"rust-analyzer.serverVersion\",\n                     \"when\": \"inRustProject\"\n                 },\n-                {\n-                    \"command\": \"rust-analyzer.toggleInlayHints\",\n-                    \"when\": \"inRustProject\"\n-                },\n                 {\n                     \"command\": \"rust-analyzer.openDocs\",\n                     \"when\": \"inRustProject\""}, {"sha": "b9ad525e361f0e20e5807ac9d2b24ab306d4f716", "filename": "editors/code/src/commands.ts", "status": "modified", "additions": 0, "deletions": 24, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/b54d22d96a0ee459536702172f2b5557de7d74f8/editors%2Fcode%2Fsrc%2Fcommands.ts", "raw_url": "https://github.com/rust-lang/rust/raw/b54d22d96a0ee459536702172f2b5557de7d74f8/editors%2Fcode%2Fsrc%2Fcommands.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands.ts?ref=b54d22d96a0ee459536702172f2b5557de7d74f8", "patch": "@@ -321,30 +321,6 @@ export function serverVersion(ctx: Ctx): Cmd {\n     };\n }\n \n-export function toggleInlayHints(_ctx: Ctx): Cmd {\n-    return async () => {\n-        const config = vscode.workspace.getConfiguration(\"editor.inlayHints\", {\n-            languageId: \"rust\",\n-        });\n-\n-        const value = config.get(\"enabled\");\n-        let stringValue;\n-        if (typeof value === \"string\") {\n-            stringValue = value;\n-        } else {\n-            stringValue = value ? \"on\" : \"off\";\n-        }\n-        const nextValues: Record<string, string> = {\n-            on: \"off\",\n-            off: \"on\",\n-            onUnlessPressed: \"offUnlessPressed\",\n-            offUnlessPressed: \"onUnlessPressed\",\n-        };\n-        const nextValue = nextValues[stringValue] ?? \"on\";\n-        await config.update(\"enabled\", nextValue, vscode.ConfigurationTarget.Global);\n-    };\n-}\n-\n // Opens the virtual file that will show the syntax tree\n //\n // The contents of the file come from the `TextDocumentContentProvider`"}, {"sha": "41bde4195e07d254da0d5532101c140969c17dc2", "filename": "editors/code/src/main.ts", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b54d22d96a0ee459536702172f2b5557de7d74f8/editors%2Fcode%2Fsrc%2Fmain.ts", "raw_url": "https://github.com/rust-lang/rust/raw/b54d22d96a0ee459536702172f2b5557de7d74f8/editors%2Fcode%2Fsrc%2Fmain.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fmain.ts?ref=b54d22d96a0ee459536702172f2b5557de7d74f8", "patch": "@@ -180,7 +180,6 @@ async function initCommonContext(context: vscode.ExtensionContext, ctx: Ctx) {\n \n     ctx.registerCommand(\"ssr\", commands.ssr);\n     ctx.registerCommand(\"serverVersion\", commands.serverVersion);\n-    ctx.registerCommand(\"toggleInlayHints\", commands.toggleInlayHints);\n \n     // Internal commands which are invoked by the server.\n     ctx.registerCommand(\"runSingle\", commands.runSingle);"}]}