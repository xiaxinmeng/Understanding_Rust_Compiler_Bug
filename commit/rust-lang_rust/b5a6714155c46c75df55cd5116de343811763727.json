{"sha": "b5a6714155c46c75df55cd5116de343811763727", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI1YTY3MTQxNTVjNDZjNzVkZjU1Y2Q1MTE2ZGUzNDM4MTE3NjM3Mjc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-11-28T10:27:46Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-11-28T10:27:46Z"}, "message": "Auto merge of #4849 - flip1995:deny_warnings, r=phansch\n\nDeny warnings in CI\n\nRemoves the `debugging` feature, that wasn't used anymore and adds/enables the `deny-warnings` feature for every sub-crate of Clippy.\n\nchangelog: none", "tree": {"sha": "eb2cb11f00067952ba49a58f06e60ea15917bdfd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/eb2cb11f00067952ba49a58f06e60ea15917bdfd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b5a6714155c46c75df55cd5116de343811763727", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b5a6714155c46c75df55cd5116de343811763727", "html_url": "https://github.com/rust-lang/rust/commit/b5a6714155c46c75df55cd5116de343811763727", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b5a6714155c46c75df55cd5116de343811763727/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dbdd75ab528aa31b7d3ce06f186df95ace91baa1", "url": "https://api.github.com/repos/rust-lang/rust/commits/dbdd75ab528aa31b7d3ce06f186df95ace91baa1", "html_url": "https://github.com/rust-lang/rust/commit/dbdd75ab528aa31b7d3ce06f186df95ace91baa1"}, {"sha": "d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "url": "https://api.github.com/repos/rust-lang/rust/commits/d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "html_url": "https://github.com/rust-lang/rust/commit/d51a80c57e85f6d96c700410f8ba60d94ffaaba8"}], "stats": {"total": 30, "additions": 21, "deletions": 9}, "files": [{"sha": "b572aebdbbe32600966c624cb822c34363030eb5", "filename": "Cargo.toml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b5a6714155c46c75df55cd5116de343811763727/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b5a6714155c46c75df55cd5116de343811763727/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=b5a6714155c46c75df55cd5116de343811763727", "patch": "@@ -58,4 +58,3 @@ rustc_tools_util = { version = \"0.2.0\", path = \"rustc_tools_util\"}\n \n [features]\n deny-warnings = []\n-debugging = []"}, {"sha": "bf6133e98a0644b6b616408ce6d1e483d1df2154", "filename": "appveyor.yml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b5a6714155c46c75df55cd5116de343811763727/appveyor.yml", "raw_url": "https://github.com/rust-lang/rust/raw/b5a6714155c46c75df55cd5116de343811763727/appveyor.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/appveyor.yml?ref=b5a6714155c46c75df55cd5116de343811763727", "patch": "@@ -37,10 +37,10 @@ install:\n build: false\n \n build_script:\n-  - cargo build --features debugging\n+  - cargo build --features deny-warnings\n \n test_script:\n-  - cargo test --features debugging\n+  - cargo test --features deny-warnings\n \n notifications:\n   - provider: Email"}, {"sha": "d3fd262b600499ae821a643a5210fa6806b3ed93", "filename": "ci/base-tests.sh", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b5a6714155c46c75df55cd5116de343811763727/ci%2Fbase-tests.sh", "raw_url": "https://github.com/rust-lang/rust/raw/b5a6714155c46c75df55cd5116de343811763727/ci%2Fbase-tests.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ci%2Fbase-tests.sh?ref=b5a6714155c46c75df55cd5116de343811763727", "patch": "@@ -12,12 +12,12 @@ if [[ \"$TRAVIS_OS_NAME\" == \"linux\" ]]; then\n   remark -f ./*.md -f doc/*.md > /dev/null\n fi\n # build clippy in debug mode and run tests\n-cargo build --features \"debugging deny-warnings\"\n-cargo test --features \"debugging deny-warnings\"\n+cargo build --features deny-warnings\n+cargo test --features deny-warnings\n \n-(cd clippy_lints && cargo test)\n-(cd rustc_tools_util && cargo test)\n-(cd clippy_dev && cargo test)\n+(cd clippy_lints && cargo test --features deny-warnings)\n+(cd rustc_tools_util && cargo test --features deny-warnings)\n+(cd clippy_dev && cargo test --features deny-warnings)\n \n # make sure clippy can be called via ./path/to/cargo-clippy\n ("}, {"sha": "b30ba61d299132807721014cc9d9ff5c37b22d9c", "filename": "clippy_dev/Cargo.toml", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b5a6714155c46c75df55cd5116de343811763727/clippy_dev%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b5a6714155c46c75df55cd5116de343811763727/clippy_dev%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2FCargo.toml?ref=b5a6714155c46c75df55cd5116de343811763727", "patch": "@@ -11,3 +11,6 @@ regex = \"1\"\n lazy_static = \"1.0\"\n shell-escape = \"0.1\"\n walkdir = \"2\"\n+\n+[features]\n+deny-warnings = []"}, {"sha": "f73e7b86720db9df97c2ee35da4917978c08bf5e", "filename": "clippy_dev/src/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b5a6714155c46c75df55cd5116de343811763727/clippy_dev%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b5a6714155c46c75df55cd5116de343811763727/clippy_dev%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Flib.rs?ref=b5a6714155c46c75df55cd5116de343811763727", "patch": "@@ -1,3 +1,5 @@\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+\n use itertools::Itertools;\n use lazy_static::lazy_static;\n use regex::Regex;"}, {"sha": "3010e0d2489dc8ad1a0fa6dde861bfde23a7928d", "filename": "clippy_dev/src/main.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b5a6714155c46c75df55cd5116de343811763727/clippy_dev%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b5a6714155c46c75df55cd5116de343811763727/clippy_dev%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fmain.rs?ref=b5a6714155c46c75df55cd5116de343811763727", "patch": "@@ -1,3 +1,5 @@\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+\n extern crate clap;\n extern crate clippy_dev;\n extern crate regex;"}, {"sha": "dae403cbb4f19ac7c145a78bb5c64eee1b332141", "filename": "clippy_lints/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b5a6714155c46c75df55cd5116de343811763727/clippy_lints%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b5a6714155c46c75df55cd5116de343811763727/clippy_lints%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2FCargo.toml?ref=b5a6714155c46c75df55cd5116de343811763727", "patch": "@@ -35,4 +35,4 @@ semver = \"0.9.0\"\n url = { version =  \"2.1.0\", features = [\"serde\"] }\n \n [features]\n-debugging = []\n+deny-warnings = []"}, {"sha": "6f0fc5bee8f091cae4557d9512e9dbd2bea1e932", "filename": "rustc_tools_util/Cargo.toml", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b5a6714155c46c75df55cd5116de343811763727/rustc_tools_util%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b5a6714155c46c75df55cd5116de343811763727/rustc_tools_util%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rustc_tools_util%2FCargo.toml?ref=b5a6714155c46c75df55cd5116de343811763727", "patch": "@@ -9,4 +9,8 @@ license = \"MIT OR Apache-2.0\"\n keywords = [\"rustc\", \"tool\", \"git\", \"version\", \"hash\"]\n categories = [\"development-tools\"]\n edition = \"2018\"\n+\n [dependencies]\n+\n+[features]\n+deny-warnings = []"}, {"sha": "ff2a7de572571d850872fb2dec4e081bc9224404", "filename": "rustc_tools_util/src/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b5a6714155c46c75df55cd5116de343811763727/rustc_tools_util%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b5a6714155c46c75df55cd5116de343811763727/rustc_tools_util%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rustc_tools_util%2Fsrc%2Flib.rs?ref=b5a6714155c46c75df55cd5116de343811763727", "patch": "@@ -1,3 +1,5 @@\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+\n use std::env;\n \n #[macro_export]"}]}