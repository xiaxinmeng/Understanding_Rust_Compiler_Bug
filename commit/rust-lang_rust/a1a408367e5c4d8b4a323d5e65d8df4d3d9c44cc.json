{"sha": "a1a408367e5c4d8b4a323d5e65d8df4d3d9c44cc", "node_id": "C_kwDOAAsO6NoAKGExYTQwODM2N2U1YzRkOGI0YTMyM2Q1ZTY1ZDhkZjRkM2Q5YzQ0Y2M", "commit": {"author": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2022-12-25T14:22:33Z"}, "committer": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2022-12-25T14:29:33Z"}, "message": "Add regression test", "tree": {"sha": "62faa0855ece5e66d268950fb651fc952cea8bc5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/62faa0855ece5e66d268950fb651fc952cea8bc5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a1a408367e5c4d8b4a323d5e65d8df4d3d9c44cc", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEkSbsQIURluxz4rzf4laYqTBYYXEFAmOoXk0ACgkQ4laYqTBY\nYXGIxxAAg1ptvqqKBFk2KCuHkhI98xXp4c5N9wuarf0kS+R80em6oWdlqvnYvABB\nELHDq/GClkYq1Q0yhlrfRLidaqIdJtPQUzLn2PDWe63q5YHPtDq9GKLZvUxc28DJ\n0Y77gqhAKmXEXQDm5Jkq9cKEKKh4cdYh42V1hQVHKT+Dr+F2rI9N9ssCeqBK+Pv3\nG+P6cTBfT2qKI7/Y0Axnp+bwwZAaABynq/TK+hsiLc9E1x0Zs7jXBBpZ3UPCCp30\nZ0F9wD1ULJRcXajNjSB9uKO+pUtALe0rU0qhorpCxGhlzl5FTwr6VdmJrxcI5to5\nd2YG1U6KcKu914S7UQczCf+Xdu8i86uWDbtf9trfEW6cxyKRKxaUOaeEk9Dp3sSr\nh6Fip+H9b0UgDWwlJPrT6367fhWk/2NJPStMYOEjhHVtQaEyXalk0nMa9V67lsWE\nIPlE9HGwGjriGi21ALPloEM3/Bk7nQhdtgQMAymTRoQuiI6+lpZ1+lXlY5siXG8Q\nrMenhcfalPWZiM14+slXrYOzmXFGcWS6MwkdofRkPnlP8XiR72xJGDddRv/4rVwc\njHtOGv4cIBqN+GxC3pracZGL3P3GoQIrWnTcYK8VX9joRBMA52/dckLBwwGu0W6T\n8QTGx0kckLAVboBu6kJT1CiDtsDtXSizw6LbfI7/KcrRknBPaSU=\n=0j2u\n-----END PGP SIGNATURE-----", "payload": "tree 62faa0855ece5e66d268950fb651fc952cea8bc5\nparent a639917b6612692a3c76a47c9b747c8bfbfaec0f\nauthor Ryo Yoshida <low.ryoshida@gmail.com> 1671978153 +0900\ncommitter Ryo Yoshida <low.ryoshida@gmail.com> 1671978573 +0900\n\nAdd regression test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a1a408367e5c4d8b4a323d5e65d8df4d3d9c44cc", "html_url": "https://github.com/rust-lang/rust/commit/a1a408367e5c4d8b4a323d5e65d8df4d3d9c44cc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a1a408367e5c4d8b4a323d5e65d8df4d3d9c44cc/comments", "author": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a639917b6612692a3c76a47c9b747c8bfbfaec0f", "url": "https://api.github.com/repos/rust-lang/rust/commits/a639917b6612692a3c76a47c9b747c8bfbfaec0f", "html_url": "https://github.com/rust-lang/rust/commit/a639917b6612692a3c76a47c9b747c8bfbfaec0f"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "2f870d769c0fb8609b5ebf216037884ba760489d", "filename": "crates/ide/src/syntax_highlighting/tests.rs", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/a1a408367e5c4d8b4a323d5e65d8df4d3d9c44cc/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a1a408367e5c4d8b4a323d5e65d8df4d3d9c44cc/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftests.rs?ref=a1a408367e5c4d8b4a323d5e65d8df4d3d9c44cc", "patch": "@@ -1028,6 +1028,26 @@ macro_rules! test {}\n     let _ = analysis.highlight(HL_CONFIG, file_id).unwrap();\n }\n \n+#[test]\n+fn highlight_callable_no_crash() {\n+    // regression test for #13838.\n+    let (analysis, file_id) = fixture::file(\n+        r#\"\n+//- minicore: fn, sized\n+impl<A, F: ?Sized> FnOnce<A> for &F\n+where\n+    F: Fn<A>,\n+{\n+    type Output = F::Output;\n+}\n+\n+trait Trait {}\n+fn foo(x: &fn(&dyn Trait)) {}\n+\"#,\n+    );\n+    let _ = analysis.highlight(HL_CONFIG, file_id).unwrap();\n+}\n+\n /// Highlights the code given by the `ra_fixture` argument, renders the\n /// result as HTML, and compares it with the HTML file given as `snapshot`.\n /// Note that the `snapshot` file is overwritten by the rendered HTML."}]}