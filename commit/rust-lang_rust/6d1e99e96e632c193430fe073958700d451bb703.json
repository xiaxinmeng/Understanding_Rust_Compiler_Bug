{"sha": "6d1e99e96e632c193430fe073958700d451bb703", "node_id": "C_kwDOAAsO6NoAKDZkMWU5OWU5NmU2MzJjMTkzNDMwZmUwNzM5NTg3MDBkNDUxYmI3MDM", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-11-27T19:47:49Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-11-27T19:52:17Z"}, "message": "advice on josh pushing", "tree": {"sha": "a3a572d4f5f29cd88320e3e205a1be4feeb50b71", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a3a572d4f5f29cd88320e3e205a1be4feeb50b71"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6d1e99e96e632c193430fe073958700d451bb703", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6d1e99e96e632c193430fe073958700d451bb703", "html_url": "https://github.com/rust-lang/rust/commit/6d1e99e96e632c193430fe073958700d451bb703", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6d1e99e96e632c193430fe073958700d451bb703/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c12ed1d5dc6059972b06fb7257a239f3a33ec88", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c12ed1d5dc6059972b06fb7257a239f3a33ec88", "html_url": "https://github.com/rust-lang/rust/commit/7c12ed1d5dc6059972b06fb7257a239f3a33ec88"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "c63f356607d0750a1406053fa1a0250d3c3fd424", "filename": "src/tools/miri/CONTRIBUTING.md", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/6d1e99e96e632c193430fe073958700d451bb703/src%2Ftools%2Fmiri%2FCONTRIBUTING.md", "raw_url": "https://github.com/rust-lang/rust/raw/6d1e99e96e632c193430fe073958700d451bb703/src%2Ftools%2Fmiri%2FCONTRIBUTING.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2FCONTRIBUTING.md?ref=6d1e99e96e632c193430fe073958700d451bb703", "patch": "@@ -296,6 +296,13 @@ needed.\n \n ### Exporting changes to the rustc repo\n \n+Keep in mind that pushing is the most complicated job that josh has to do --\n+pulling just filters the rustc history, but pushing needs to construct a new\n+rustc history that would filter to the given Miri history! To avoid problems, it\n+is a good idea to always pull immediately before you push. In particular, you\n+should never do two josh pushes without an intermediate pull; that can lead to\n+duplicated commits.\n+\n Josh needs to be running, as described above. We will use the josh proxy to push\n to your fork of rustc. Run the following in the Miri repo, assuming we are on an\n up-to-date master branch:"}]}