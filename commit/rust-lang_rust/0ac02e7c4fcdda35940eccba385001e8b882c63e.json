{"sha": "0ac02e7c4fcdda35940eccba385001e8b882c63e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBhYzAyZTdjNGZjZGRhMzU5NDBlY2NiYTM4NTAwMWU4Yjg4MmM2M2U=", "commit": {"author": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-08-23T00:46:20Z"}, "committer": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-08-23T00:49:48Z"}, "message": "make: stop disabling frame pointer elimination\n\nWe currently have no need for the frame pointers on any platform. They\nmay eventually be needed on platforms without an equivalent to the DWARF\ncall frame information to walk the stack in the garbage collector.\n\nCloses #7477", "tree": {"sha": "a191547b209c95b9dc4271bc3cc70d880b0a281c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a191547b209c95b9dc4271bc3cc70d880b0a281c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0ac02e7c4fcdda35940eccba385001e8b882c63e", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0ac02e7c4fcdda35940eccba385001e8b882c63e", "html_url": "https://github.com/rust-lang/rust/commit/0ac02e7c4fcdda35940eccba385001e8b882c63e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0ac02e7c4fcdda35940eccba385001e8b882c63e/comments", "author": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db14469e21facf6754e24aea5fbb5de7e0c03e99", "url": "https://api.github.com/repos/rust-lang/rust/commits/db14469e21facf6754e24aea5fbb5de7e0c03e99", "html_url": "https://github.com/rust-lang/rust/commit/db14469e21facf6754e24aea5fbb5de7e0c03e99"}], "stats": {"total": 7, "additions": 1, "deletions": 6}, "files": [{"sha": "3e7ad914daba19fab8c1c62a9c3e16a031a4af08", "filename": "mk/platform.mk", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/0ac02e7c4fcdda35940eccba385001e8b882c63e/mk%2Fplatform.mk", "raw_url": "https://github.com/rust-lang/rust/raw/0ac02e7c4fcdda35940eccba385001e8b882c63e/mk%2Fplatform.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fplatform.mk?ref=0ac02e7c4fcdda35940eccba385001e8b882c63e", "patch": "@@ -26,10 +26,7 @@ endef\n $(foreach t,$(CFG_TARGET_TRIPLES),$(eval $(call DEF_OSTYPE_VAR,$(t))))\n $(foreach t,$(CFG_TARGET_TRIPLES),$(info cfg: os for $(t) is $(OSTYPE_$(t))))\n \n-# FIXME: no-omit-frame-pointer is just so that task_start_wrapper\n-# has a frame pointer and the stack walker can understand it. Turning off\n-# frame pointers everywhere is overkill\n-CFG_GCCISH_CFLAGS += -fno-omit-frame-pointer -DUSE_UTF8\n+CFG_GCCISH_CFLAGS += -DUSE_UTF8\n \n # On Darwin, we need to run dsymutil so the debugging information ends\n # up in the right place.  On other platforms, it automatically gets"}, {"sha": "7e9a790e215aa161996d9c4a466cf43cffd0e958", "filename": "src/rustllvm/RustWrapper.cpp", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0ac02e7c4fcdda35940eccba385001e8b882c63e/src%2Frustllvm%2FRustWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/0ac02e7c4fcdda35940eccba385001e8b882c63e/src%2Frustllvm%2FRustWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2FRustWrapper.cpp?ref=0ac02e7c4fcdda35940eccba385001e8b882c63e", "patch": "@@ -342,7 +342,6 @@ LLVMRustBuildJIT(void* mem,\n   std::string Err;\n   TargetOptions Options;\n   Options.JITEmitDebugInfo = true;\n-  Options.NoFramePointerElim = true;\n   Options.EnableSegmentedStacks = EnableSegmentedStacks;\n   RustMCJITMemoryManager* MM = (RustMCJITMemoryManager*) mem;\n   assert(MM);\n@@ -393,7 +392,6 @@ LLVMRustWriteOutputFile(LLVMPassManagerRef PMR,\n   }\n \n   TargetOptions Options;\n-  Options.NoFramePointerElim = true;\n   Options.EnableSegmentedStacks = EnableSegmentedStacks;\n   Options.FixedStackSegmentSize = 2 * 1024 * 1024;  // XXX: This is too big.\n "}]}