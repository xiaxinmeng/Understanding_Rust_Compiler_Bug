{"sha": "39b9a25e60db0a3d22b115bdb3981607ea4c0737", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM5YjlhMjVlNjBkYjBhM2QyMmIxMTViZGIzOTgxNjA3ZWE0YzA3Mzc=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-09-20T13:51:46Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-09-20T13:51:46Z"}, "message": "Rollup merge of #76732 - camelid:mir-basic-block-docs, r=RalfJung\n\nAdd docs for `BasicBlock`\n\nFixes #76715.\n\n---\n\n@rustbot modify labels: A-mir T-doc C-enhancement", "tree": {"sha": "dde3a75b25ae7384bf8c81bb5d18a5932e1a76f1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dde3a75b25ae7384bf8c81bb5d18a5932e1a76f1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/39b9a25e60db0a3d22b115bdb3981607ea4c0737", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfZ15zCRBK7hj4Ov3rIwAAdHIIAGXZia4r69T26d1VTutSXbBO\npRy0sAE87X0hLZD2GWARClOvVxSkaZwc6U/pWej2hcoE8Zx8EJN/Y28JxDg32aVR\noUvUfy6YxBhlvHoHEY1EaYarldS9lL8RO3UcSARh6q5fBYSPm7MVstUxstV4ORBb\nUh551GtgRYZtjYdIMErxY3akRdYcZ2a0B7EobGC9OaCJbYAl67SUCxlhAM6pkiKn\nAJEjTipdH1ubVehNdh2X0AEJXg3IDqxheMDcO5TTB8CnNfdIPpxcSQwIpUv/ekZn\nGpvLDVL+qiGywEP1Tsh5MfEF0SCOLkYhXeiEuZAUhy0pcIcz0eTpDwiiiAbTgPA=\n=m0u4\n-----END PGP SIGNATURE-----\n", "payload": "tree dde3a75b25ae7384bf8c81bb5d18a5932e1a76f1\nparent 41507ed0d57eba71adc20a021a19b64322162f04\nparent 451f7f6b125111588feb19d2e9675aa995a2e53f\nauthor Ralf Jung <post@ralfj.de> 1600609906 +0200\ncommitter GitHub <noreply@github.com> 1600609906 +0200\n\nRollup merge of #76732 - camelid:mir-basic-block-docs, r=RalfJung\n\nAdd docs for `BasicBlock`\n\nFixes #76715.\n\n---\n\n@rustbot modify labels: A-mir T-doc C-enhancement\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/39b9a25e60db0a3d22b115bdb3981607ea4c0737", "html_url": "https://github.com/rust-lang/rust/commit/39b9a25e60db0a3d22b115bdb3981607ea4c0737", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/39b9a25e60db0a3d22b115bdb3981607ea4c0737/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "41507ed0d57eba71adc20a021a19b64322162f04", "url": "https://api.github.com/repos/rust-lang/rust/commits/41507ed0d57eba71adc20a021a19b64322162f04", "html_url": "https://github.com/rust-lang/rust/commit/41507ed0d57eba71adc20a021a19b64322162f04"}, {"sha": "451f7f6b125111588feb19d2e9675aa995a2e53f", "url": "https://api.github.com/repos/rust-lang/rust/commits/451f7f6b125111588feb19d2e9675aa995a2e53f", "html_url": "https://github.com/rust-lang/rust/commit/451f7f6b125111588feb19d2e9675aa995a2e53f"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "8ff75bf392e69a8543813214255d13c9b8226005", "filename": "compiler/rustc_middle/src/mir/mod.rs", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/39b9a25e60db0a3d22b115bdb3981607ea4c0737/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39b9a25e60db0a3d22b115bdb3981607ea4c0737/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs?ref=39b9a25e60db0a3d22b115bdb3981607ea4c0737", "patch": "@@ -1077,6 +1077,25 @@ pub struct VarDebugInfo<'tcx> {\n // BasicBlock\n \n rustc_index::newtype_index! {\n+    /// A node in the MIR [control-flow graph][CFG].\n+    ///\n+    /// There are no branches (e.g., `if`s, function calls, etc.) within a basic block, which makes\n+    /// it easier to do [data-flow analyses] and optimizations. Instead, branches are represented\n+    /// as an edge in a graph between basic blocks.\n+    ///\n+    /// Basic blocks consist of a series of [statements][Statement], ending with a\n+    /// [terminator][Terminator]. Basic blocks can have multiple predecessors and successors,\n+    /// however there is a MIR pass ([`CriticalCallEdges`]) that removes *critical edges*, which\n+    /// are edges that go from a multi-successor node to a multi-predecessor node. This pass is\n+    /// needed because some analyses require that there are no critical edges in the CFG.\n+    ///\n+    /// Read more about basic blocks in the [rustc-dev-guide][guide-mir].\n+    ///\n+    /// [CFG]: https://rustc-dev-guide.rust-lang.org/appendix/background.html#cfg\n+    /// [data-flow analyses]:\n+    ///     https://rustc-dev-guide.rust-lang.org/appendix/background.html#what-is-a-dataflow-analysis\n+    /// [`CriticalCallEdges`]: ../../rustc_mir/transform/add_call_guards/enum.AddCallGuards.html#variant.CriticalCallEdges\n+    /// [guide-mir]: https://rustc-dev-guide.rust-lang.org/mir/\n     pub struct BasicBlock {\n         derive [HashStable]\n         DEBUG_FORMAT = \"bb{}\",\n@@ -1093,6 +1112,7 @@ impl BasicBlock {\n ///////////////////////////////////////////////////////////////////////////\n // BasicBlockData and Terminator\n \n+/// See [`BasicBlock`] for documentation on what basic blocks are at a high level.\n #[derive(Clone, Debug, TyEncodable, TyDecodable, HashStable, TypeFoldable)]\n pub struct BasicBlockData<'tcx> {\n     /// List of statements in this block."}]}