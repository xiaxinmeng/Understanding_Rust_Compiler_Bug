{"sha": "3401db0021358f4b8a26439147791646b2075c48", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM0MDFkYjAwMjEzNThmNGI4YTI2NDM5MTQ3NzkxNjQ2YjIwNzVjNDg=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-10-01T08:13:05Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-10-01T08:13:05Z"}, "message": "Rollup merge of #54708 - collin5:b49475, r=Mark-Simulacrum\n\nMake ./x.py help <cmd> invoke ./x.py <cmd> -h on its own\n\nFixes #49475\n\nr? @Mark-Simulacrum", "tree": {"sha": "9cedff9612a0b56e63b7f579ff94e4ece704c97b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9cedff9612a0b56e63b7f579ff94e4ece704c97b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3401db0021358f4b8a26439147791646b2075c48", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbsdcRCRBK7hj4Ov3rIwAAdHIIAJu4ZS2Gg9FRcqB5HM0hn6I3\nn1+ijXpdkpx8hX/RR5CLEdSw9PT13iyrQqghiRHnphSUaL15gl+RvE6n7UknOp4K\nV5uIJtWLXOtvFsLp7oE2QUBgsgo6s7XwTA3bzKpFhuTvzpQkBqGMqWJ8kD5HwJ0n\n9XUlEe2IqRsvAPNpm3Zmbz8IStSxPqpPuPDpjylFoaHwaYOXfEFi08xSPLFJaW4a\nnbzQEGvqQZTULHc1MYCCe01zRKTu408VEVtU/HQL4ZnDDN4NZkc3JPgYnY37Rnc+\n+VFE5dlz442E3s/C32Z07E9ty4kAZTJcQG8qTYj8VJki6gEYIC2NnPH5o37rTEg=\n=vVhp\n-----END PGP SIGNATURE-----\n", "payload": "tree 9cedff9612a0b56e63b7f579ff94e4ece704c97b\nparent 7014afcfa1d46c6a888f4d09591650c4af7986fd\nparent f9375674dfcdcbab13eb3329c6986302964ad31a\nauthor kennytm <kennytm@gmail.com> 1538381585 +0800\ncommitter GitHub <noreply@github.com> 1538381585 +0800\n\nRollup merge of #54708 - collin5:b49475, r=Mark-Simulacrum\n\nMake ./x.py help <cmd> invoke ./x.py <cmd> -h on its own\n\nFixes #49475\n\nr? @Mark-Simulacrum\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3401db0021358f4b8a26439147791646b2075c48", "html_url": "https://github.com/rust-lang/rust/commit/3401db0021358f4b8a26439147791646b2075c48", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3401db0021358f4b8a26439147791646b2075c48/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7014afcfa1d46c6a888f4d09591650c4af7986fd", "url": "https://api.github.com/repos/rust-lang/rust/commits/7014afcfa1d46c6a888f4d09591650c4af7986fd", "html_url": "https://github.com/rust-lang/rust/commit/7014afcfa1d46c6a888f4d09591650c4af7986fd"}, {"sha": "f9375674dfcdcbab13eb3329c6986302964ad31a", "url": "https://api.github.com/repos/rust-lang/rust/commits/f9375674dfcdcbab13eb3329c6986302964ad31a", "html_url": "https://github.com/rust-lang/rust/commit/f9375674dfcdcbab13eb3329c6986302964ad31a"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "c27f4f056d747c8f5ed52f74e703546290c1d99a", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3401db0021358f4b8a26439147791646b2075c48/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/3401db0021358f4b8a26439147791646b2075c48/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=3401db0021358f4b8a26439147791646b2075c48", "patch": "@@ -844,6 +844,11 @@ def bootstrap(help_triggered):\n def main():\n     \"\"\"Entry point for the bootstrap process\"\"\"\n     start_time = time()\n+\n+    # x.py help <cmd> ...\n+    if len(sys.argv) > 1 and sys.argv[1] == 'help':\n+        sys.argv = sys.argv[:1] + [sys.argv[2], '-h'] + sys.argv[3:]\n+\n     help_triggered = (\n         '-h' in sys.argv) or ('--help' in sys.argv) or (len(sys.argv) == 1)\n     try:"}]}