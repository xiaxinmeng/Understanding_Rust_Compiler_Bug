{"sha": "eac922e721b8d46ed699d2e57cecf3dbf8226802", "node_id": "C_kwDOAAsO6NoAKGVhYzkyMmU3MjFiOGQ0NmVkNjk5ZDJlNTdjZWNmM2RiZjgyMjY4MDI", "commit": {"author": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2023-04-16T09:16:22Z"}, "committer": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2023-04-16T09:25:23Z"}, "message": "readd `const_trait` to `Drop`, `Destruct`, and `Fn*`", "tree": {"sha": "f5503d51f49250f4e97556f7de9dfc09339fd749", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f5503d51f49250f4e97556f7de9dfc09339fd749"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eac922e721b8d46ed699d2e57cecf3dbf8226802", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eac922e721b8d46ed699d2e57cecf3dbf8226802", "html_url": "https://github.com/rust-lang/rust/commit/eac922e721b8d46ed699d2e57cecf3dbf8226802", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eac922e721b8d46ed699d2e57cecf3dbf8226802/comments", "author": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "34097b2f33aa16bbd4f71f6843b26c9ddfa1a471", "url": "https://api.github.com/repos/rust-lang/rust/commits/34097b2f33aa16bbd4f71f6843b26c9ddfa1a471", "html_url": "https://github.com/rust-lang/rust/commit/34097b2f33aa16bbd4f71f6843b26c9ddfa1a471"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "24a9d81d03784e072b465fd8ff0b50f26bdce278", "filename": "library/core/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/eac922e721b8d46ed699d2e57cecf3dbf8226802/library%2Fcore%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eac922e721b8d46ed699d2e57cecf3dbf8226802/library%2Fcore%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Flib.rs?ref=eac922e721b8d46ed699d2e57cecf3dbf8226802", "patch": "@@ -198,6 +198,7 @@\n #![feature(const_mut_refs)]\n #![feature(const_precise_live_drops)]\n #![feature(const_refs_to_cell)]\n+#![feature(const_trait_impl)]\n #![feature(decl_macro)]\n #![feature(deprecated_suggestion)]\n #![feature(doc_cfg)]"}, {"sha": "e85c0c0a688902d68f3cf768e0b81705f24745c4", "filename": "library/core/src/marker.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/eac922e721b8d46ed699d2e57cecf3dbf8226802/library%2Fcore%2Fsrc%2Fmarker.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eac922e721b8d46ed699d2e57cecf3dbf8226802/library%2Fcore%2Fsrc%2Fmarker.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fmarker.rs?ref=eac922e721b8d46ed699d2e57cecf3dbf8226802", "patch": "@@ -858,6 +858,7 @@ impl<T: ?Sized> Unpin for *mut T {}\n #[lang = \"destruct\"]\n #[rustc_on_unimplemented(message = \"can't drop `{Self}`\", append_const_msg)]\n #[rustc_deny_explicit_impl]\n+#[const_trait]\n pub trait Destruct {}\n \n /// A marker for tuple types."}, {"sha": "a2c3d978cc4fa6a9e758bfa13d436ed60aefe623", "filename": "library/core/src/ops/drop.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/eac922e721b8d46ed699d2e57cecf3dbf8226802/library%2Fcore%2Fsrc%2Fops%2Fdrop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eac922e721b8d46ed699d2e57cecf3dbf8226802/library%2Fcore%2Fsrc%2Fops%2Fdrop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fops%2Fdrop.rs?ref=eac922e721b8d46ed699d2e57cecf3dbf8226802", "patch": "@@ -134,6 +134,7 @@\n /// these types cannot have destructors.\n #[lang = \"drop\"]\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n+#[const_trait]\n pub trait Drop {\n     /// Executes the destructor for this type.\n     ///"}, {"sha": "67c8245f0bfe098542d330edbe59812bd9fcc661", "filename": "library/core/src/ops/function.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/eac922e721b8d46ed699d2e57cecf3dbf8226802/library%2Fcore%2Fsrc%2Fops%2Ffunction.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eac922e721b8d46ed699d2e57cecf3dbf8226802/library%2Fcore%2Fsrc%2Fops%2Ffunction.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fops%2Ffunction.rs?ref=eac922e721b8d46ed699d2e57cecf3dbf8226802", "patch": "@@ -72,6 +72,7 @@ use crate::marker::Tuple;\n )]\n #[fundamental] // so that regex can rely that `&str: !FnMut`\n #[must_use = \"closures are lazy and do nothing unless called\"]\n+#[const_trait]\n pub trait Fn<Args: Tuple>: FnMut<Args> {\n     /// Performs the call operation.\n     #[unstable(feature = \"fn_traits\", issue = \"29625\")]\n@@ -158,6 +159,7 @@ pub trait Fn<Args: Tuple>: FnMut<Args> {\n )]\n #[fundamental] // so that regex can rely that `&str: !FnMut`\n #[must_use = \"closures are lazy and do nothing unless called\"]\n+#[const_trait]\n pub trait FnMut<Args: Tuple>: FnOnce<Args> {\n     /// Performs the call operation.\n     #[unstable(feature = \"fn_traits\", issue = \"29625\")]\n@@ -236,6 +238,7 @@ pub trait FnMut<Args: Tuple>: FnOnce<Args> {\n )]\n #[fundamental] // so that regex can rely that `&str: !FnMut`\n #[must_use = \"closures are lazy and do nothing unless called\"]\n+#[const_trait]\n pub trait FnOnce<Args: Tuple> {\n     /// The returned type after the call operator is used.\n     #[lang = \"fn_once_output\"]"}]}