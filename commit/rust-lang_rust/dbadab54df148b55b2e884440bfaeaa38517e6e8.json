{"sha": "dbadab54df148b55b2e884440bfaeaa38517e6e8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRiYWRhYjU0ZGYxNDhiNTViMmU4ODQ0NDBiZmFlYWEzODUxN2U2ZTg=", "commit": {"author": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2021-08-25T01:52:41Z"}, "committer": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2021-08-25T01:52:41Z"}, "message": "Add type of a let tait test impl trait straight in let", "tree": {"sha": "2a56a753ed0d54b4b865854b4842223f83e5b9b5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2a56a753ed0d54b4b865854b4842223f83e5b9b5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dbadab54df148b55b2e884440bfaeaa38517e6e8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEF0ntrgrd9qf9uuThgTGiTgx5768FAmElomkACgkQgTGiTgx5\n768TOBAAvjHYgyxK3jnRo9GePpurkSUgRAIhITVYFfI/lk9Rg0AeBrjyVVbKqOB7\nunqJltI/W7zaOEodugsymdg8ItuSx/siy5NrqNOpn8tIknCMVekoYWLOcJtzFONN\ny37bblTrbqrw4d/qNUgUGalS64BCYCj/Zm1c5nqwOgF93qCbMN8pGhowD/teTCug\n3LFCh/WPvzDT5bxtYW2xANyIfrSBA1fA1562okhtfgw2zRH7f9shy8O8PelyIaeE\nT5Z4ZXk9671q+jgX5llhtmTkIpGxU6/B8n4nWtHPqKxvTV5XgPB2stUnl0CFNECI\nkohp6OPxcmyIBQVeTnNm7VVmCH5z1nro7yyWayHXgCpXZ4rW2LpSqRlHHwcEGhfy\nWA2/U0iLhExprJYKl/fLWA/XYCg4VKum1hYbIOqE6vTPO3QeEFXQ5MwlHrzqbkXr\n1UW0IUaZPiP0CiHudYKkc/20fQ5TGwhZd9Mys7/4Hdsj9hPoDoz1Xv9ESZh7iw40\ncodz40NdGw2rq7+bBX6LtmvnNqg9Zz0zl7FZWB2Uai3cT5h0P6GODQKeb413ewVt\nIBoJqcnXaKi60ykrOeLAbbpEmVFT6Yx/FC+A0Arq3LTf4AI1vsKW9QChZtl4MkoU\n9qwWtBcDacfYXqv/tQVkQaP4qPJyI1TbBdWY8vlK+6zXFnug/s8=\n=eIDv\n-----END PGP SIGNATURE-----", "payload": "tree 2a56a753ed0d54b4b865854b4842223f83e5b9b5\nparent 08e20d9b28685d438839bd695a9309a8947a61fa\nauthor Santiago Pastorino <spastorino@gmail.com> 1629856361 -0300\ncommitter Santiago Pastorino <spastorino@gmail.com> 1629856361 -0300\n\nAdd type of a let tait test impl trait straight in let\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dbadab54df148b55b2e884440bfaeaa38517e6e8", "html_url": "https://github.com/rust-lang/rust/commit/dbadab54df148b55b2e884440bfaeaa38517e6e8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dbadab54df148b55b2e884440bfaeaa38517e6e8/comments", "author": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "committer": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "08e20d9b28685d438839bd695a9309a8947a61fa", "url": "https://api.github.com/repos/rust-lang/rust/commits/08e20d9b28685d438839bd695a9309a8947a61fa", "html_url": "https://github.com/rust-lang/rust/commit/08e20d9b28685d438839bd695a9309a8947a61fa"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "33d3f164ce15eaec80f44835b7a4046b10303c14", "filename": "src/test/ui/type-alias-impl-trait/type_of_a_let2.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/dbadab54df148b55b2e884440bfaeaa38517e6e8/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbadab54df148b55b2e884440bfaeaa38517e6e8/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let2.rs?ref=dbadab54df148b55b2e884440bfaeaa38517e6e8", "patch": "@@ -0,0 +1,25 @@\n+#![feature(type_alias_impl_trait)]\n+#![allow(dead_code)]\n+\n+// FIXME This should be under a feature flag\n+\n+use std::fmt::Debug;\n+\n+fn foo1() -> u32 {\n+    let x: impl Debug = 22_u32;\n+    //~^ ERROR: `impl Trait` not allowed outside of function and method return types [E0562]\n+    x // ERROR: we only know x: Debug, we don't know x = u32\n+}\n+\n+fn foo2() -> u32 {\n+    let x: impl Debug = 22_u32;\n+    //~^ ERROR: `impl Trait` not allowed outside of function and method return types [E0562]\n+    let y: impl Debug = x;\n+    //~^ ERROR: `impl Trait` not allowed outside of function and method return types [E0562]\n+    same_type((x, y)); // ERROR\n+    x\n+}\n+\n+fn same_type<T>(x: (T, T)) {}\n+\n+fn main() {}"}, {"sha": "7a1825a8e2d9a9a35afd57b4db9609a3a95d849e", "filename": "src/test/ui/type-alias-impl-trait/type_of_a_let2.stderr", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/dbadab54df148b55b2e884440bfaeaa38517e6e8/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/dbadab54df148b55b2e884440bfaeaa38517e6e8/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Ftype_of_a_let2.stderr?ref=dbadab54df148b55b2e884440bfaeaa38517e6e8", "patch": "@@ -0,0 +1,21 @@\n+error[E0562]: `impl Trait` not allowed outside of function and method return types\n+  --> $DIR/type_of_a_let2.rs:9:12\n+   |\n+LL |     let x: impl Debug = 22_u32;\n+   |            ^^^^^^^^^^\n+\n+error[E0562]: `impl Trait` not allowed outside of function and method return types\n+  --> $DIR/type_of_a_let2.rs:15:12\n+   |\n+LL |     let x: impl Debug = 22_u32;\n+   |            ^^^^^^^^^^\n+\n+error[E0562]: `impl Trait` not allowed outside of function and method return types\n+  --> $DIR/type_of_a_let2.rs:17:12\n+   |\n+LL |     let y: impl Debug = x;\n+   |            ^^^^^^^^^^\n+\n+error: aborting due to 3 previous errors\n+\n+For more information about this error, try `rustc --explain E0562`."}]}