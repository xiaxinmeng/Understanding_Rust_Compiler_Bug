{"sha": "73f8333e78e277353a1b69fbf605b9956a6c8ae5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjczZjgzMzNlNzhlMjc3MzUzYTFiNjlmYmY2MDViOTk1NmE2YzhhZTU=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2018-06-29T14:04:17Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2018-07-01T14:13:05Z"}, "message": "update mir-opt tests", "tree": {"sha": "a87666801773bc807b6112d1ddf99e9f353032b6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a87666801773bc807b6112d1ddf99e9f353032b6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/73f8333e78e277353a1b69fbf605b9956a6c8ae5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/73f8333e78e277353a1b69fbf605b9956a6c8ae5", "html_url": "https://github.com/rust-lang/rust/commit/73f8333e78e277353a1b69fbf605b9956a6c8ae5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/73f8333e78e277353a1b69fbf605b9956a6c8ae5/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "865320f6a49ac10aca6c6e6d6f4e3358596dd64a", "url": "https://api.github.com/repos/rust-lang/rust/commits/865320f6a49ac10aca6c6e6d6f4e3358596dd64a", "html_url": "https://github.com/rust-lang/rust/commit/865320f6a49ac10aca6c6e6d6f4e3358596dd64a"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "8e689347249e71e6ed83091808a5a77f4cf030ce", "filename": "src/librustc_mir/borrow_check/nll/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/73f8333e78e277353a1b69fbf605b9956a6c8ae5/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73f8333e78e277353a1b69fbf605b9956a6c8ae5/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fmod.rs?ref=73f8333e78e277353a1b69fbf605b9956a6c8ae5", "patch": "@@ -280,7 +280,7 @@ fn dump_mir_results<'a, 'gcx, 'tcx>(\n                 // that are live on exit from the basic block.\n                 PassWhere::AfterTerminator(bb) => {\n                     let s = live_variable_set(&liveness.regular.outs[bb], &liveness.drop.outs[bb]);\n-                    writeln!(out, \"    | Live variables on entry to {:?}: {}\", bb, s)?;\n+                    writeln!(out, \"    | Live variables on exit from {:?}: {}\", bb, s)?;\n                 }\n \n                 PassWhere::BeforeBlock(_) | PassWhere::AfterLocation(_) | PassWhere::AfterCFG => {}"}, {"sha": "5fdea4208df996ec156ca19e8416cd7f1c581c95", "filename": "src/test/mir-opt/nll/liveness-call-subtlety.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/73f8333e78e277353a1b69fbf605b9956a6c8ae5/src%2Ftest%2Fmir-opt%2Fnll%2Fliveness-call-subtlety.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73f8333e78e277353a1b69fbf605b9956a6c8ae5/src%2Ftest%2Fmir-opt%2Fnll%2Fliveness-call-subtlety.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fnll%2Fliveness-call-subtlety.rs?ref=73f8333e78e277353a1b69fbf605b9956a6c8ae5", "patch": "@@ -26,20 +26,20 @@ fn main() {\n //\n // END RUST SOURCE\n // START rustc.main.nll.0.mir\n-//    | Live variables on entry to bb0: []\n //    bb0: {\n //            | Live variables on entry to bb0[0]: []\n //        StorageLive(_1);\n //            | Live variables on entry to bb0[1]: []\n //        _1 = const <std::boxed::Box<T>>::new(const 22usize) -> [return: bb2, unwind: bb1];\n+//            | Live variables on exit from bb0: [_1 (drop)]\n //    }\n // END rustc.main.nll.0.mir\n // START rustc.main.nll.0.mir\n-//    | Live variables on entry to bb2: [_1 (drop)]\n //    bb2: {\n //            | Live variables on entry to bb2[0]: [_1 (drop)]\n //        StorageLive(_2);\n //            | Live variables on entry to bb2[1]: [_1 (drop)]\n //        _2 = const can_panic() -> [return: bb3, unwind: bb4];\n+//            | Live variables on exit from bb2: [_1 (drop), _2]\n //    }\n // END rustc.main.nll.0.mir"}, {"sha": "001499b657de955af53762ee984fca5058825084", "filename": "src/test/mir-opt/nll/liveness-drop-intra-block.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/73f8333e78e277353a1b69fbf605b9956a6c8ae5/src%2Ftest%2Fmir-opt%2Fnll%2Fliveness-drop-intra-block.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73f8333e78e277353a1b69fbf605b9956a6c8ae5/src%2Ftest%2Fmir-opt%2Fnll%2Fliveness-drop-intra-block.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fnll%2Fliveness-drop-intra-block.rs?ref=73f8333e78e277353a1b69fbf605b9956a6c8ae5", "patch": "@@ -25,7 +25,6 @@ fn main() {\n \n // END RUST SOURCE\n // START rustc.main.nll.0.mir\n-//    | Live variables on entry to bb3: []\n //    bb3: {\n //            | Live variables on entry to bb3[0]: []\n //        _1 = const 55usize;\n@@ -37,5 +36,6 @@ fn main() {\n //        _4 = _1;\n //            | Live variables on entry to bb3[4]: [_4]\n //        _3 = const use_x(move _4) -> [return: bb4, unwind: bb1];\n+//            | Live variables on exit from bb3: [_3]\n //    }\n // END rustc.main.nll.0.mir"}, {"sha": "fbe20d76ea721e4406c681aa9bfcce3926138ed7", "filename": "src/test/mir-opt/nll/liveness-interblock.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/73f8333e78e277353a1b69fbf605b9956a6c8ae5/src%2Ftest%2Fmir-opt%2Fnll%2Fliveness-interblock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73f8333e78e277353a1b69fbf605b9956a6c8ae5/src%2Ftest%2Fmir-opt%2Fnll%2Fliveness-interblock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fnll%2Fliveness-interblock.rs?ref=73f8333e78e277353a1b69fbf605b9956a6c8ae5", "patch": "@@ -29,20 +29,20 @@ fn main() {\n \n // END RUST SOURCE\n // START rustc.main.nll.0.mir\n-//     | Live variables on entry to bb3: [_1]\n //     bb3: {\n //             | Live variables on entry to bb3[0]: [_1]\n //         StorageLive(_4);\n //             | Live variables on entry to bb3[1]: [_1]\n //         _4 = _1;\n //             | Live variables on entry to bb3[2]: [_4]\n //         _3 = const make_live(move _4) -> [return: bb5, unwind: bb1];\n+//             | Live variables on exit from bb3: []\n //     }\n // END rustc.main.nll.0.mir\n // START rustc.main.nll.0.mir\n-//     | Live variables on entry to bb4: []\n //     bb4: {\n //             | Live variables on entry to bb4[0]: []\n //         _5 = const make_dead() -> [return: bb6, unwind: bb1];\n+//             | Live variables on exit from bb4: []\n //     }\n // END rustc.main.nll.0.mir"}, {"sha": "187d9e6ca899304256d060345f37b9510c85d781", "filename": "src/test/mir-opt/nll/region-liveness-basic.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/73f8333e78e277353a1b69fbf605b9956a6c8ae5/src%2Ftest%2Fmir-opt%2Fnll%2Fregion-liveness-basic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73f8333e78e277353a1b69fbf605b9956a6c8ae5/src%2Ftest%2Fmir-opt%2Fnll%2Fregion-liveness-basic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fnll%2Fregion-liveness-basic.rs?ref=73f8333e78e277353a1b69fbf605b9956a6c8ae5", "patch": "@@ -42,6 +42,7 @@ fn main() {\n //        _2 = &'_#2r _1[_3];\n //            | Live variables on entry to bb2[1]: [_2]\n //        switchInt(const true) -> [false: bb4, otherwise: bb3];\n+//            | Live variables on exit from bb2: [_2]\n //    }\n // END rustc.main.nll.0.mir\n // START rustc.main.nll.0.mir\n@@ -52,5 +53,6 @@ fn main() {\n //        _7 = (*_2);\n //            | Live variables on entry to bb3[2]: [_7]\n //        _6 = const use_x(move _7) -> [return: bb5, unwind: bb1];\n+//            | Live variables on exit from bb3: []\n //    }\n // END rustc.main.nll.0.mir"}]}