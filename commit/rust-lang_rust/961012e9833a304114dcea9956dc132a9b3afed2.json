{"sha": "961012e9833a304114dcea9956dc132a9b3afed2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk2MTAxMmU5ODMzYTMwNDExNGRjZWE5OTU2ZGMxMzJhOWIzYWZlZDI=", "commit": {"author": {"name": "Simon Sapin", "email": "simon.sapin@exyr.org", "date": "2015-08-20T12:38:46Z"}, "committer": {"name": "Simon Sapin", "email": "simon.sapin@exyr.org", "date": "2015-08-20T12:38:46Z"}, "message": "Add a test for char::to_lowercase mapping to more than one `char`.\n\nI was wrong about Unicode not having such language-independent mapping.", "tree": {"sha": "5b76ffb8e4771e0a5eaf23d2b1bd4dfe06d2cb1f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5b76ffb8e4771e0a5eaf23d2b1bd4dfe06d2cb1f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/961012e9833a304114dcea9956dc132a9b3afed2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/961012e9833a304114dcea9956dc132a9b3afed2", "html_url": "https://github.com/rust-lang/rust/commit/961012e9833a304114dcea9956dc132a9b3afed2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/961012e9833a304114dcea9956dc132a9b3afed2/comments", "author": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aca2057ed5fb7af3f8905b2bc01f72fa001c35c8", "url": "https://api.github.com/repos/rust-lang/rust/commits/aca2057ed5fb7af3f8905b2bc01f72fa001c35c8", "html_url": "https://github.com/rust-lang/rust/commit/aca2057ed5fb7af3f8905b2bc01f72fa001c35c8"}], "stats": {"total": 38, "additions": 17, "deletions": 21}, "files": [{"sha": "f03f8e0ee782e57418cecc599619c71319a38634", "filename": "src/libcoretest/char.rs", "status": "modified", "additions": 17, "deletions": 21, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/961012e9833a304114dcea9956dc132a9b3afed2/src%2Flibcoretest%2Fchar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/961012e9833a304114dcea9956dc132a9b3afed2/src%2Flibcoretest%2Fchar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcoretest%2Fchar.rs?ref=961012e9833a304114dcea9956dc132a9b3afed2", "patch": "@@ -55,28 +55,24 @@ fn test_to_digit() {\n \n #[test]\n fn test_to_lowercase() {\n-    fn lower(c: char) -> char {\n-        let mut it = c.to_lowercase();\n-        let c = it.next().unwrap();\n-        // As of Unicode version 7.0.0, `SpecialCasing.txt` has no lower-case mapping\n-        // to multiple code points.\n-        assert!(it.next().is_none());\n-        c\n+    fn lower(c: char) -> Vec<char> {\n+        c.to_lowercase().collect()\n     }\n-    assert_eq!(lower('A'), 'a');\n-    assert_eq!(lower('\u00d6'), '\u00f6');\n-    assert_eq!(lower('\u00df'), '\u00df');\n-    assert_eq!(lower('\u00dc'), '\u00fc');\n-    assert_eq!(lower('\ud83d\udca9'), '\ud83d\udca9');\n-    assert_eq!(lower('\u03a3'), '\u03c3');\n-    assert_eq!(lower('\u03a4'), '\u03c4');\n-    assert_eq!(lower('\u0399'), '\u03b9');\n-    assert_eq!(lower('\u0393'), '\u03b3');\n-    assert_eq!(lower('\u039c'), '\u03bc');\n-    assert_eq!(lower('\u0391'), '\u03b1');\n-    assert_eq!(lower('\u03a3'), '\u03c3');\n-    assert_eq!(lower('\u01c5'), '\u01c6');\n-    assert_eq!(lower('\ufb01'), '\ufb01');\n+    assert_eq!(lower('A'), ['a']);\n+    assert_eq!(lower('\u00d6'), ['\u00f6']);\n+    assert_eq!(lower('\u00df'), ['\u00df']);\n+    assert_eq!(lower('\u00dc'), ['\u00fc']);\n+    assert_eq!(lower('\ud83d\udca9'), ['\ud83d\udca9']);\n+    assert_eq!(lower('\u03a3'), ['\u03c3']);\n+    assert_eq!(lower('\u03a4'), ['\u03c4']);\n+    assert_eq!(lower('\u0399'), ['\u03b9']);\n+    assert_eq!(lower('\u0393'), ['\u03b3']);\n+    assert_eq!(lower('\u039c'), ['\u03bc']);\n+    assert_eq!(lower('\u0391'), ['\u03b1']);\n+    assert_eq!(lower('\u03a3'), ['\u03c3']);\n+    assert_eq!(lower('\u01c5'), ['\u01c6']);\n+    assert_eq!(lower('\ufb01'), ['\ufb01']);\n+    assert_eq!(lower('\u0130'), ['i', '\\u{307}']);\n }\n \n #[test]"}]}