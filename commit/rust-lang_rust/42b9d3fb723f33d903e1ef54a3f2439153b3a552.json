{"sha": "42b9d3fb723f33d903e1ef54a3f2439153b3a552", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQyYjlkM2ZiNzIzZjMzZDkwM2UxZWY1NGEzZjI0MzkxNTNiM2E1NTI=", "commit": {"author": {"name": "Tamir Duberstein", "email": "tamird@google.com", "date": "2021-05-18T14:37:42Z"}, "committer": {"name": "Tamir Duberstein", "email": "tamird@google.com", "date": "2021-05-18T14:37:42Z"}, "message": "Simplify `map | unwrap_or` to `map_or`", "tree": {"sha": "4cea64a7abce1559b3d7789d1352d5c734ec57e3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4cea64a7abce1559b3d7789d1352d5c734ec57e3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/42b9d3fb723f33d903e1ef54a3f2439153b3a552", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEGdbxTRDxXfPwlFQKMuM+wV4f7zwFAmCj0WQACgkQMuM+wV4f\n7zzdvQv+O0VF/1wAVyqIFsvxcGo1/4PPh5hICgfF2CylnuUTwmEBAIJ1GME1XD+B\nzxPuXBHG/brh4ziGjVvSwgDuw1d1+Tj8tqGvUI2jkrwZ/uUGL6bgtEZwRrh9p7+i\nspC9j3+jWSk1x/rv0NXICg1Ek9Xq4aFKXIBaaG62H2E9eiLrnavK/OMA8wHiIqLn\nU5pGzJWEPBSZLAhRzq5BqBb1D0guvY9VIle74lvE5fx6WCUPetFAmmm0yHk2nnFS\nHj4O4Gxc7ZaFur6gw0HcJXIqldxmDnObFwpYPwTlwrMsdm27nHi6intqyZSJ6zi2\ncZfdv0hgM+bVCpDzLAe4jcwXtt36NsnNLbjb9RdtN0PwM93CqrWDFtvYEZHCsq35\nAylNwcfuPjCz2IU8BviqZ3wVJrFVGRLcsuB3fX9nh5qbV846DZpnVEQPDVNidb8f\nQg7ZbtRz+ky6iI7NEC4oEK2iQtrk54iQ8xT39NCUQyNXHkyc2YCewDLSy5DD6kIH\ncQpfmbS9\n=brCz\n-----END PGP SIGNATURE-----", "payload": "tree 4cea64a7abce1559b3d7789d1352d5c734ec57e3\nparent a36c6361999ff23d604a5a0e7d06611ad31b6262\nauthor Tamir Duberstein <tamird@google.com> 1621348662 -0400\ncommitter Tamir Duberstein <tamird@google.com> 1621348662 -0400\n\nSimplify `map | unwrap_or` to `map_or`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/42b9d3fb723f33d903e1ef54a3f2439153b3a552", "html_url": "https://github.com/rust-lang/rust/commit/42b9d3fb723f33d903e1ef54a3f2439153b3a552", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/42b9d3fb723f33d903e1ef54a3f2439153b3a552/comments", "author": {"login": "tamird", "id": 1535036, "node_id": "MDQ6VXNlcjE1MzUwMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tamird", "html_url": "https://github.com/tamird", "followers_url": "https://api.github.com/users/tamird/followers", "following_url": "https://api.github.com/users/tamird/following{/other_user}", "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}", "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tamird/subscriptions", "organizations_url": "https://api.github.com/users/tamird/orgs", "repos_url": "https://api.github.com/users/tamird/repos", "events_url": "https://api.github.com/users/tamird/events{/privacy}", "received_events_url": "https://api.github.com/users/tamird/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tamird", "id": 1535036, "node_id": "MDQ6VXNlcjE1MzUwMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tamird", "html_url": "https://github.com/tamird", "followers_url": "https://api.github.com/users/tamird/followers", "following_url": "https://api.github.com/users/tamird/following{/other_user}", "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}", "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tamird/subscriptions", "organizations_url": "https://api.github.com/users/tamird/orgs", "repos_url": "https://api.github.com/users/tamird/repos", "events_url": "https://api.github.com/users/tamird/events{/privacy}", "received_events_url": "https://api.github.com/users/tamird/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a36c6361999ff23d604a5a0e7d06611ad31b6262", "url": "https://api.github.com/repos/rust-lang/rust/commits/a36c6361999ff23d604a5a0e7d06611ad31b6262", "html_url": "https://github.com/rust-lang/rust/commit/a36c6361999ff23d604a5a0e7d06611ad31b6262"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "d8f23aeabc10eb8a5057197b01b59014e37cd403", "filename": "compiler/rustc_data_structures/src/obligation_forest/mod.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/42b9d3fb723f33d903e1ef54a3f2439153b3a552/compiler%2Frustc_data_structures%2Fsrc%2Fobligation_forest%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/42b9d3fb723f33d903e1ef54a3f2439153b3a552/compiler%2Frustc_data_structures%2Fsrc%2Fobligation_forest%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_data_structures%2Fsrc%2Fobligation_forest%2Fmod.rs?ref=42b9d3fb723f33d903e1ef54a3f2439153b3a552", "patch": "@@ -366,8 +366,7 @@ impl<O: ForestObligation> ObligationForest<O> {\n                     && self\n                         .error_cache\n                         .get(&obligation_tree_id)\n-                        .map(|errors| errors.contains(v.key()))\n-                        .unwrap_or(false);\n+                        .map_or(false, |errors| errors.contains(v.key()));\n \n                 if already_failed {\n                     Err(())"}]}