{"sha": "43b85035682f56a95d3ebbfae4cd6abfed0f3225", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQzYjg1MDM1NjgyZjU2YTk1ZDNlYmJmYWU0Y2Q2YWJmZWQwZjMyMjU=", "commit": {"author": {"name": "Tom Jakubowski", "email": "tom@crystae.net", "date": "2015-02-06T07:54:11Z"}, "committer": {"name": "Tom Jakubowski", "email": "tom@crystae.net", "date": "2015-02-06T07:54:11Z"}, "message": "rustdoc: Clean up some htmldocck tests\n\nFix #21740", "tree": {"sha": "82fe6d76acfe9c9703e202877a77e7013b88ad29", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/82fe6d76acfe9c9703e202877a77e7013b88ad29"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/43b85035682f56a95d3ebbfae4cd6abfed0f3225", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/43b85035682f56a95d3ebbfae4cd6abfed0f3225", "html_url": "https://github.com/rust-lang/rust/commit/43b85035682f56a95d3ebbfae4cd6abfed0f3225", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/43b85035682f56a95d3ebbfae4cd6abfed0f3225/comments", "author": {"login": "tomjakubowski", "id": 667901, "node_id": "MDQ6VXNlcjY2NzkwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/667901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomjakubowski", "html_url": "https://github.com/tomjakubowski", "followers_url": "https://api.github.com/users/tomjakubowski/followers", "following_url": "https://api.github.com/users/tomjakubowski/following{/other_user}", "gists_url": "https://api.github.com/users/tomjakubowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomjakubowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomjakubowski/subscriptions", "organizations_url": "https://api.github.com/users/tomjakubowski/orgs", "repos_url": "https://api.github.com/users/tomjakubowski/repos", "events_url": "https://api.github.com/users/tomjakubowski/events{/privacy}", "received_events_url": "https://api.github.com/users/tomjakubowski/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tomjakubowski", "id": 667901, "node_id": "MDQ6VXNlcjY2NzkwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/667901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomjakubowski", "html_url": "https://github.com/tomjakubowski", "followers_url": "https://api.github.com/users/tomjakubowski/followers", "following_url": "https://api.github.com/users/tomjakubowski/following{/other_user}", "gists_url": "https://api.github.com/users/tomjakubowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomjakubowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomjakubowski/subscriptions", "organizations_url": "https://api.github.com/users/tomjakubowski/orgs", "repos_url": "https://api.github.com/users/tomjakubowski/repos", "events_url": "https://api.github.com/users/tomjakubowski/events{/privacy}", "received_events_url": "https://api.github.com/users/tomjakubowski/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "189930fcae287565dcef856ae8d60a83190a4b92", "url": "https://api.github.com/repos/rust-lang/rust/commits/189930fcae287565dcef856ae8d60a83190a4b92", "html_url": "https://github.com/rust-lang/rust/commit/189930fcae287565dcef856ae8d60a83190a4b92"}], "stats": {"total": 32, "additions": 16, "deletions": 16}, "files": [{"sha": "3906d9ee8ae84833c951a3df0d0fb202592c03bb", "filename": "src/test/run-make/rustdoc-hidden-line/foo.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/43b85035682f56a95d3ebbfae4cd6abfed0f3225/src%2Ftest%2Frun-make%2Frustdoc-hidden-line%2Ffoo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43b85035682f56a95d3ebbfae4cd6abfed0f3225/src%2Ftest%2Frun-make%2Frustdoc-hidden-line%2Ffoo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Frustdoc-hidden-line%2Ffoo.rs?ref=43b85035682f56a95d3ebbfae4cd6abfed0f3225", "patch": "@@ -32,5 +32,4 @@\n pub fn foo() {}\n \n // @!has foo/fn.foo.html invisible\n-// @matches - //pre '#.*\\[.*derive.*\\(.*Eq.*\\).*\\].*//.*Bar'\n-\n+// @matches - //pre \"#\\[derive\\(PartialEq\\)\\] // Bar\""}, {"sha": "b5fcbf46c5c98207eec54bd47fda67f5c2b4744d", "filename": "src/test/run-make/rustdoc-negative-impl/foo.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/43b85035682f56a95d3ebbfae4cd6abfed0f3225/src%2Ftest%2Frun-make%2Frustdoc-negative-impl%2Ffoo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43b85035682f56a95d3ebbfae4cd6abfed0f3225/src%2Ftest%2Frun-make%2Frustdoc-negative-impl%2Ffoo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Frustdoc-negative-impl%2Ffoo.rs?ref=43b85035682f56a95d3ebbfae4cd6abfed0f3225", "patch": "@@ -15,8 +15,8 @@ pub struct Alpha;\n // @matches foo/struct.Bravo.html '//pre' \"pub struct Bravo<B>\"\n pub struct Bravo<B>;\n \n-// @matches foo/struct.Alpha.html '//*[@class=\"impl\"]//code' \"impl !.*Send.* for .*Alpha\"\n+// @matches foo/struct.Alpha.html '//*[@class=\"impl\"]//code' \"impl !Send for Alpha\"\n impl !Send for Alpha {}\n \n-// @matches foo/struct.Bravo.html '//*[@class=\"impl\"]//code' \"impl<B> !.*Send.* for .*Bravo.*<B>\"\n+// @matches foo/struct.Bravo.html '//*[@class=\"impl\"]//code' \"impl<B> !Send for Bravo<B>\"\n impl<B> !Send for Bravo<B> {}"}, {"sha": "68fde60564e2a8c96bdc25f29029eec503c42a73", "filename": "src/test/run-make/rustdoc-where/foo.rs", "status": "modified", "additions": 13, "deletions": 12, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/43b85035682f56a95d3ebbfae4cd6abfed0f3225/src%2Ftest%2Frun-make%2Frustdoc-where%2Ffoo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43b85035682f56a95d3ebbfae4cd6abfed0f3225/src%2Ftest%2Frun-make%2Frustdoc-where%2Ffoo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Frustdoc-where%2Ffoo.rs?ref=43b85035682f56a95d3ebbfae4cd6abfed0f3225", "patch": "@@ -10,29 +10,30 @@\n \n pub trait MyTrait {}\n \n-// @matches foo/struct.Alpha.html '//pre' \"Alpha.*where.*A:.*MyTrait\"\n+// @has foo/struct.Alpha.html '//pre' \"pub struct Alpha<A> where A: MyTrait\"\n pub struct Alpha<A> where A: MyTrait;\n-// @matches foo/trait.Bravo.html '//pre' \"Bravo.*where.*B:.*MyTrait\"\n+// @has foo/trait.Bravo.html '//pre' \"pub trait Bravo<B> where B: MyTrait\"\n pub trait Bravo<B> where B: MyTrait {}\n-// @matches foo/fn.charlie.html '//pre' \"charlie.*where.*C:.*MyTrait\"\n+// @has foo/fn.charlie.html '//pre' \"pub fn charlie<C>() where C: MyTrait\"\n pub fn charlie<C>() where C: MyTrait {}\n \n pub struct Delta<D>;\n-// @matches foo/struct.Delta.html '//*[@class=\"impl\"]//code' \"impl.*Delta.*where.*D:.*MyTrait\"\n+// @has foo/struct.Delta.html '//*[@class=\"impl\"]//code' \\\n+//          \"impl<D> Delta<D> where D: MyTrait\"\n impl<D> Delta<D> where D: MyTrait {\n     pub fn delta() {}\n }\n \n pub struct Echo<E>;\n-// @matches foo/struct.Echo.html '//*[@class=\"impl\"]//code' \\\n-//          \"impl.*MyTrait.*for.*Echo.*where.*E:.*MyTrait\"\n-// @matches foo/trait.MyTrait.html '//*[@id=\"implementors-list\"]//code' \\\n-//          \"impl.*MyTrait.*for.*Echo.*where.*E:.*MyTrait\"\n+// @has foo/struct.Echo.html '//*[@class=\"impl\"]//code' \\\n+//          \"impl<E> MyTrait for Echo<E> where E: MyTrait\"\n+// @has foo/trait.MyTrait.html '//*[@id=\"implementors-list\"]//code' \\\n+//          \"impl<E> MyTrait for Echo<E> where E: MyTrait\"\n impl<E> MyTrait for Echo<E> where E: MyTrait {}\n \n pub enum Foxtrot<F> {}\n-// @matches foo/enum.Foxtrot.html '//*[@class=\"impl\"]//code' \\\n-//          \"impl.*MyTrait.*for.*Foxtrot.*where.*F:.*MyTrait\"\n-// @matches foo/trait.MyTrait.html '//*[@id=\"implementors-list\"]//code' \\\n-//          \"impl.*MyTrait.*for.*Foxtrot.*where.*F:.*MyTrait\"\n+// @has foo/enum.Foxtrot.html '//*[@class=\"impl\"]//code' \\\n+//          \"impl<F> MyTrait for Foxtrot<F> where F: MyTrait\"\n+// @has foo/trait.MyTrait.html '//*[@id=\"implementors-list\"]//code' \\\n+//          \"impl<F> MyTrait for Foxtrot<F> where F: MyTrait\"\n impl<F> MyTrait for Foxtrot<F> where F: MyTrait {}"}]}