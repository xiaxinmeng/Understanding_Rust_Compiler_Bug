{"sha": "663688f70db1e1c4df764de1c0d07037f1a96e9c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY2MzY4OGY3MGRiMWUxYzRkZjc2NGRlMWMwZDA3MDM3ZjFhOTZlOWM=", "commit": {"author": {"name": "scott-linder", "email": "scott.b.linder@wmich.edu", "date": "2017-06-11T03:50:57Z"}, "committer": {"name": "scott-linder", "email": "scott.b.linder@wmich.edu", "date": "2017-06-11T16:19:11Z"}, "message": "Move old-style test to examples", "tree": {"sha": "aea94048ac1db1702b31f9ff81532cec313c031c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/aea94048ac1db1702b31f9ff81532cec313c031c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/663688f70db1e1c4df764de1c0d07037f1a96e9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/663688f70db1e1c4df764de1c0d07037f1a96e9c", "html_url": "https://github.com/rust-lang/rust/commit/663688f70db1e1c4df764de1c0d07037f1a96e9c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/663688f70db1e1c4df764de1c0d07037f1a96e9c/comments", "author": null, "committer": null, "parents": [{"sha": "c061464f20b25684751948bae2c4f8d6df1de0cb", "url": "https://api.github.com/repos/rust-lang/rust/commits/c061464f20b25684751948bae2c4f8d6df1de0cb", "html_url": "https://github.com/rust-lang/rust/commit/c061464f20b25684751948bae2c4f8d6df1de0cb"}], "stats": {"total": 77, "additions": 52, "deletions": 25}, "files": [{"sha": "a72c664376fafcc97d4afc818ad4a26cda944203", "filename": "clippy_tests/examples/borrow_box.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/663688f70db1e1c4df764de1c0d07037f1a96e9c/clippy_tests%2Fexamples%2Fborrow_box.rs", "raw_url": "https://github.com/rust-lang/rust/raw/663688f70db1e1c4df764de1c0d07037f1a96e9c/clippy_tests%2Fexamples%2Fborrow_box.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_tests%2Fexamples%2Fborrow_box.rs?ref=663688f70db1e1c4df764de1c0d07037f1a96e9c", "patch": "@@ -0,0 +1,24 @@\n+#![feature(plugin)]\n+#![plugin(clippy)]\n+\n+#![deny(borrowed_box)]\n+#![allow(blacklisted_name)]\n+#![allow(unused_variables)]\n+#![allow(dead_code)]\n+\n+pub fn test1(foo: &mut Box<bool>) {\n+    println!(\"{:?}\", foo)\n+}\n+\n+pub fn test2() {\n+    let foo: &Box<bool>;\n+}\n+\n+struct Test3<'a> {\n+    foo: &'a Box<bool>\n+}\n+\n+fn main(){\n+    test1(&mut Box::new(false));\n+    test2();\n+}"}, {"sha": "1b4b2c1efa6525be3f5b7a54106f590e88bdac44", "filename": "clippy_tests/examples/borrow_box.stderr", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/663688f70db1e1c4df764de1c0d07037f1a96e9c/clippy_tests%2Fexamples%2Fborrow_box.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/663688f70db1e1c4df764de1c0d07037f1a96e9c/clippy_tests%2Fexamples%2Fborrow_box.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_tests%2Fexamples%2Fborrow_box.stderr?ref=663688f70db1e1c4df764de1c0d07037f1a96e9c", "patch": "@@ -0,0 +1,28 @@\n+error: you seem to be trying to use `&Box<T>`. Consider using just `&T`\n+  --> borrow_box.rs:10:19\n+   |\n+10 | pub fn test1(foo: &Box<bool>) { //~ ERROR you seem to be trying to use `&Box<T>`\n+   |                   ^^^^^^^^^^\n+   |\n+   = note: #[deny(borrowed_box)] implied by #[deny(clippy)]\n+note: lint level defined here\n+  --> borrow_box.rs:4:9\n+   |\n+4  | #![deny(clippy)]\n+   |         ^^^^^^\n+   = help: replace `&Box<T>` with simply `&T`\n+\n+error: you seem to be trying to use `&Box<T>`. Consider using just `&T`\n+  --> borrow_box.rs:19:10\n+   |\n+19 |     foo: &'a Box<bool> //~ ERROR you seem to be trying to use `&Box<T>`\n+   |          ^^^^^^^^^^^^^\n+   |\n+   = note: #[deny(borrowed_box)] implied by #[deny(clippy)]\n+   = help: replace `&Box<T>` with simply `&T`\n+\n+error: aborting due to previous error(s)\n+\n+error: Could not compile `clippy_tests`.\n+\n+To learn more, run the command again with --verbose."}, {"sha": "9c1c36e6475a366fd51da862bd12dd4210e63cc0", "filename": "tests/compile-fail/borrow_box.rs", "status": "removed", "additions": 0, "deletions": 25, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/c061464f20b25684751948bae2c4f8d6df1de0cb/tests%2Fcompile-fail%2Fborrow_box.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c061464f20b25684751948bae2c4f8d6df1de0cb/tests%2Fcompile-fail%2Fborrow_box.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fborrow_box.rs?ref=c061464f20b25684751948bae2c4f8d6df1de0cb", "patch": "@@ -1,25 +0,0 @@\n-#![feature(plugin)]\n-#![plugin(clippy)]\n-\n-#![deny(clippy)]\n-#![allow(boxed_local)]\n-#![allow(blacklisted_name)]\n-#![allow(unused_variables)]\n-#![allow(dead_code)]\n-\n-pub fn test1(foo: &Box<bool>) { //~ ERROR you seem to be trying to use `&Box<T>`\n-    println!(\"{:?}\", foo)\n-}\n-\n-pub fn test2() {\n-    let foo: &Box<bool>; //~ ERROR you seem to be trying to use `&Box<T>`\n-}\n-\n-struct Test3<'a> {\n-    foo: &'a Box<bool> //~ ERROR you seem to be trying to use `&Box<T>`\n-}\n-\n-fn main(){\n-    test1(&Box::new(false));\n-    test2();\n-}"}]}