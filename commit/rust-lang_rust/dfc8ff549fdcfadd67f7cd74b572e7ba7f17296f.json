{"sha": "dfc8ff549fdcfadd67f7cd74b572e7ba7f17296f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRmYzhmZjU0OWZkY2ZhZGQ2N2Y3Y2Q3NGI1NzJlN2JhN2YxNzI5NmY=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-01-31T01:10:47Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-01-31T01:10:47Z"}, "message": "Rollup merge of #57984 - phansch:improve_check_ty_error, r=zackmdavis\n\nImprove bug message in check_ty\n\nThis branch was hit in Clippy and I think it would be nice to\nshow the thing that was unexpected in the bug message.\n\nIt's also in line with the other `bug!` messages in `check_ty`.", "tree": {"sha": "934ed3d02ba5225604a16ec26fed69a35fa560b9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/934ed3d02ba5225604a16ec26fed69a35fa560b9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dfc8ff549fdcfadd67f7cd74b572e7ba7f17296f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcUksYCRBK7hj4Ov3rIwAAdHIIAFDFFRM5H6CjgKcfmiY4l2j5\nTO0fHP2OL0p5ill/EMCVLefHdHHfgxZ0fJxVEFEkCTa+Ymt3aZPUuxlgtKZqAtEX\n6FvY2/8hnWcYn+wwipfK5p/lpER9McXKyYHO6Z+4RUtCj7/WV1F+dBaQ/gxEiWZg\n2cBXeNylaIl58YJJJ0Q9pkr8N6YadPkSEWnJhOnpIHj7F05Q6y3G1rRDRZFS1U8m\n+GKucmXXTCHFzupHeF3eHj68IVhJ+uTzCVKy9WhlbBxXCkHrHQCMGtccg4L/fqR0\n5rqi+zRxnRqALHNmx9jklurz1ipOz5niDBX7eMugOtmJpxhBmsShopi4JKqqW3s=\n=6dAu\n-----END PGP SIGNATURE-----\n", "payload": "tree 934ed3d02ba5225604a16ec26fed69a35fa560b9\nparent 9b3aedf5b0bd74e50987a59052695f04a3fb78bb\nparent 037fdb8213da90f3fe26f78b1e415b86f59b0185\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1548897047 +0100\ncommitter GitHub <noreply@github.com> 1548897047 +0100\n\nRollup merge of #57984 - phansch:improve_check_ty_error, r=zackmdavis\n\nImprove bug message in check_ty\n\nThis branch was hit in Clippy and I think it would be nice to\nshow the thing that was unexpected in the bug message.\n\nIt's also in line with the other `bug!` messages in `check_ty`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dfc8ff549fdcfadd67f7cd74b572e7ba7f17296f", "html_url": "https://github.com/rust-lang/rust/commit/dfc8ff549fdcfadd67f7cd74b572e7ba7f17296f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dfc8ff549fdcfadd67f7cd74b572e7ba7f17296f/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9b3aedf5b0bd74e50987a59052695f04a3fb78bb", "url": "https://api.github.com/repos/rust-lang/rust/commits/9b3aedf5b0bd74e50987a59052695f04a3fb78bb", "html_url": "https://github.com/rust-lang/rust/commit/9b3aedf5b0bd74e50987a59052695f04a3fb78bb"}, {"sha": "037fdb8213da90f3fe26f78b1e415b86f59b0185", "url": "https://api.github.com/repos/rust-lang/rust/commits/037fdb8213da90f3fe26f78b1e415b86f59b0185", "html_url": "https://github.com/rust-lang/rust/commit/037fdb8213da90f3fe26f78b1e415b86f59b0185"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "120467cbd13a08bff3767377c45324a38e26ab0a", "filename": "src/librustc_typeck/collect.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/dfc8ff549fdcfadd67f7cd74b572e7ba7f17296f/src%2Flibrustc_typeck%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dfc8ff549fdcfadd67f7cd74b572e7ba7f17296f/src%2Flibrustc_typeck%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcollect.rs?ref=dfc8ff549fdcfadd67f7cd74b572e7ba7f17296f", "patch": "@@ -1303,12 +1303,12 @@ fn type_of<'a, 'tcx>(tcx: TyCtxt<'a, 'tcx, 'tcx>, def_id: DefId) -> Ty<'tcx> {\n             }\n         },\n \n-        Node::GenericParam(param) => match param.kind {\n+        Node::GenericParam(param) => match &param.kind {\n             hir::GenericParamKind::Type {\n                 default: Some(ref ty),\n                 ..\n             } => icx.to_ty(ty),\n-            _ => bug!(\"unexpected non-type NodeGenericParam\"),\n+            x => bug!(\"unexpected non-type Node::GenericParam: {:?}\", x),\n         },\n \n         x => {"}]}