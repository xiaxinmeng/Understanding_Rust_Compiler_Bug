{"sha": "19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE5ZTQ1Nzk5YTVlM2IzYjkxMzdjYWQ0YTFkYjk0ZDY0ZGNlOWFlNzY=", "commit": {"author": {"name": "Adam Medzi\u0144ski", "email": "adam.medzinski@gmail.com", "date": "2016-08-05T12:29:09Z"}, "committer": {"name": "Adam Medzi\u0144ski", "email": "adam.medzinski@gmail.com", "date": "2016-08-06T19:35:02Z"}, "message": "Updated error message E0282", "tree": {"sha": "498f70a3a6486720a89cd4cecacca7f909119582", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/498f70a3a6486720a89cd4cecacca7f909119582"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "html_url": "https://github.com/rust-lang/rust/commit/19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/comments", "author": null, "committer": null, "parents": [{"sha": "802d0811a5a9fc26388dda1d54ea41a5b64a2466", "url": "https://api.github.com/repos/rust-lang/rust/commits/802d0811a5a9fc26388dda1d54ea41a5b64a2466", "html_url": "https://github.com/rust-lang/rust/commit/802d0811a5a9fc26388dda1d54ea41a5b64a2466"}], "stats": {"total": 58, "additions": 41, "deletions": 17}, "files": [{"sha": "9950560b13a5a7cda70ccd0d38ccc2fedf6a6c46", "filename": "src/librustc/traits/error_reporting.rs", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Ferror_reporting.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -870,10 +870,12 @@ impl<'a, 'gcx, 'tcx> InferCtxt<'a, 'gcx, 'tcx> {\n \n \n     fn need_type_info(&self, span: Span, ty: Ty<'tcx>) {\n-        span_err!(self.tcx.sess, span, E0282,\n-                  \"unable to infer enough type information about `{}`; \\\n-                   type annotations or generic parameter binding required\",\n-                  ty);\n+        let mut err = struct_span_err!(self.tcx.sess, span, E0282,\n+                                       \"unable to infer enough type information about `{}`\",\n+                                       ty);\n+        err.note(\"type annotations or generic parameter binding required\");\n+        err.span_label(span, &format!(\"cannot infer type for `{}`\", ty));\n+        err.emit()\n     }\n \n     fn note_obligation_cause<T>(&self,"}, {"sha": "001e4b51bebc4f619beaa84665fb38a7d6ecf525", "filename": "src/test/compile-fail/issue-12187-1.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-12187-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-12187-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-12187-1.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -14,5 +14,7 @@ fn new<T>() -> &'static T {\n \n fn main() {\n     let &v = new();\n-    //~^ ERROR type annotations or generic parameter binding required\n+    //~^ ERROR unable to infer enough type information about `_` [E0282]\n+    //~| NOTE cannot infer type for `_`\n+    //~| NOTE type annotations or generic parameter binding\n }"}, {"sha": "7cbee402b368253cb59845e912ed357307f77f33", "filename": "src/test/compile-fail/issue-12187-2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-12187-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-12187-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-12187-2.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -14,5 +14,7 @@ fn new<'r, T>() -> &'r T {\n \n fn main() {\n     let &v = new();\n-    //~^ ERROR type annotations or generic parameter binding required\n+    //~^ ERROR unable to infer enough type information about `_` [E0282]\n+    //~| NOTE cannot infer type for `_`\n+    //~| NOTE type annotations or generic parameter binding\n }"}, {"sha": "1be082ba9bbbad454982a42a82d8ce3e7c4b6361", "filename": "src/test/compile-fail/issue-23041.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-23041.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-23041.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-23041.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -14,4 +14,6 @@ fn main()\n     fn bar(x:i32) ->i32 { 3*x };\n     let b:Box<Any> = Box::new(bar as fn(_)->_);\n     b.downcast_ref::<fn(_)->_>(); //~ ERROR E0282\n+                                  //~| NOTE cannot infer type for `_`\n+                                  //~| NOTE type annotations or generic parameter binding required\n }"}, {"sha": "f5aa4fadbed88605886670d9165c9e4ce41fd759", "filename": "src/test/compile-fail/issue-5062.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-5062.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-5062.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-5062.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -9,4 +9,4 @@\n // except according to those terms.\n \n fn main() { format!(\"{:?}\", None); }\n-    //~^ ERROR type annotations or generic parameter binding required\n+    //~^ ERROR unable to infer enough type information about `_` [E0282]"}, {"sha": "71f28054579157b40e159f1d924e72b8b4913bcc", "filename": "src/test/compile-fail/issue-6458-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-6458-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-6458-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-6458-2.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -11,5 +11,5 @@\n fn main() {\n     // Unconstrained type:\n     format!(\"{:?}\", None);\n-    //~^ ERROR type annotations or generic parameter binding required\n+    //~^ ERROR unable to infer enough type information about `_` [E0282]\n }"}, {"sha": "e397805565bbdcd95c036d8f1ce6ff45dbe560be", "filename": "src/test/compile-fail/issue-6458-3.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-6458-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-6458-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-6458-3.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -12,5 +12,7 @@ use std::mem;\n \n fn main() {\n     mem::transmute(0);\n-    //~^ ERROR type annotations or generic parameter binding required\n+    //~^ ERROR unable to infer enough type information about `_` [E0282]\n+    //~| NOTE cannot infer type for `_`\n+    //~| NOTE type annotations or generic parameter binding\n }"}, {"sha": "c3f3a718ad0e21cf5c6a91ec11b62fe5031d442f", "filename": "src/test/compile-fail/issue-6458-4.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-6458-4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-6458-4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-6458-4.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -10,7 +10,9 @@\n \n fn foo(b: bool) -> Result<bool,String> {\n     Err(\"bar\".to_string());\n-    //~^ ERROR type annotations or generic parameter binding required\n+    //~^ ERROR unable to infer enough type information about `_` [E0282]\n+    //~| NOTE cannot infer type for `_`\n+    //~| NOTE type annotations or generic parameter binding\n }\n \n fn main() {"}, {"sha": "a64522a0e5b7543bfc038c051d3247a759a9088a", "filename": "src/test/compile-fail/issue-6458.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-6458.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-6458.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-6458.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -17,7 +17,9 @@ pub fn foo<State>(_: TypeWithState<State>) {}\n \n pub fn bar() {\n    foo(TypeWithState(marker::PhantomData));\n-   //~^ ERROR type annotations or generic parameter binding required\n+   //~^ ERROR unable to infer enough type information about `_` [E0282]\n+   //~| NOTE cannot infer type for `_`\n+   //~| NOTE type annotations or generic parameter binding\n }\n \n fn main() {"}, {"sha": "e3cb1d0c7daafac93b6be3ec2842647bf4ca1e8c", "filename": "src/test/compile-fail/issue-7813.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-7813.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fissue-7813.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-7813.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -10,5 +10,7 @@\n \n fn main() {\n     let v = &[];\n-    let it = v.iter(); //~ ERROR type annotations or generic parameter binding required\n+    let it = v.iter(); //~ ERROR unable to infer enough type information about `_` [E0282]\n+                       //~| NOTE cannot infer type for `_`\n+                       //~| NOTE type annotations or generic parameter binding\n }"}, {"sha": "4f86909765ef1f84f0efd972291286990f8b9617", "filename": "src/test/compile-fail/method-ambig-one-trait-unknown-int-type.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fmethod-ambig-one-trait-unknown-int-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fmethod-ambig-one-trait-unknown-int-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmethod-ambig-one-trait-unknown-int-type.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -32,7 +32,7 @@ impl foo for Vec<isize> {\n fn m1() {\n     // we couldn't infer the type of the vector just based on calling foo()...\n     let mut x = Vec::new();\n-    //~^ ERROR type annotations or generic parameter binding required\n+    //~^ ERROR unable to infer enough type information about `_` [E0282]\n     x.foo();\n }\n "}, {"sha": "e6545063dbd4414e4a246986693933f4751bbe3a", "filename": "src/test/compile-fail/traits-multidispatch-convert-ambig-dest.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Ftraits-multidispatch-convert-ambig-dest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Ftraits-multidispatch-convert-ambig-dest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftraits-multidispatch-convert-ambig-dest.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -34,7 +34,9 @@ where T : Convert<U>\n \n fn a() {\n     test(22, std::default::Default::default());\n-    //~^ ERROR type annotations or generic parameter binding required\n+    //~^ ERROR unable to infer enough type information about `_` [E0282]\n+    //~| NOTE cannot infer type for `_`\n+    //~| NOTE type annotations or generic parameter binding\n }\n \n fn main() {}"}, {"sha": "380cdd266cd6e86eff564624814a54a7586148c2", "filename": "src/test/compile-fail/unconstrained-none.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Funconstrained-none.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Funconstrained-none.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funconstrained-none.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -11,5 +11,7 @@\n // Issue #5062\n \n fn main() {\n-    None; //~ ERROR type annotations or generic parameter binding required\n+    None; //~ ERROR unable to infer enough type information about `_` [E0282]\n+          //~| NOTE cannot infer type for `_`\n+          //~| NOTE type annotations or generic parameter binding\n }"}, {"sha": "ba94bf613d217d8e18c3ff27775e91b2a82185ee", "filename": "src/test/compile-fail/unconstrained-ref.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Funconstrained-ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Funconstrained-ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funconstrained-ref.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -13,5 +13,7 @@ struct S<'a, T:'a> {\n }\n \n fn main() {\n-    S { o: &None }; //~ ERROR type annotations or generic parameter binding required\n+    S { o: &None }; //~ ERROR unable to infer enough type information about `_` [E0282]\n+                    //~| NOTE cannot infer type for `_`\n+                    //~| NOTE type annotations or generic parameter binding\n }"}, {"sha": "25709f35246e3b37f70ae690f6869b133718bbc0", "filename": "src/test/compile-fail/vector-no-ann.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fvector-no-ann.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19e45799a5e3b3b9137cad4a1db94d64dce9ae76/src%2Ftest%2Fcompile-fail%2Fvector-no-ann.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fvector-no-ann.rs?ref=19e45799a5e3b3b9137cad4a1db94d64dce9ae76", "patch": "@@ -11,5 +11,7 @@\n \n fn main() {\n     let _foo = Vec::new();\n-    //~^ ERROR type annotations or generic parameter binding required\n+    //~^ ERROR unable to infer enough type information about `_` [E0282]\n+    //~| NOTE cannot infer type for `_`\n+    //~| NOTE type annotations or generic parameter binding\n }"}]}