{"sha": "e4d553c534e80442bed5ce63f74ca67112035d08", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU0ZDU1M2M1MzRlODA0NDJiZWQ1Y2U2M2Y3NGNhNjcxMTIwMzVkMDg=", "commit": {"author": {"name": "Jyun-Yan You", "email": "jyyou@cs.nctu.edu.tw", "date": "2012-01-14T19:47:29Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-16T08:41:14Z"}, "message": "use correct size for logging mod_entry state fields\n\nThe compiler outputs 32-bit values for these and on 64-bit FreeBSD\nthe runtime was scribbling on some state used by getenv and segfaulting.", "tree": {"sha": "4127a788ab285b07d1ab538ee99ce50e668fa985", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4127a788ab285b07d1ab538ee99ce50e668fa985"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e4d553c534e80442bed5ce63f74ca67112035d08", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e4d553c534e80442bed5ce63f74ca67112035d08", "html_url": "https://github.com/rust-lang/rust/commit/e4d553c534e80442bed5ce63f74ca67112035d08", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e4d553c534e80442bed5ce63f74ca67112035d08/comments", "author": {"login": "crabtw", "id": 36015, "node_id": "MDQ6VXNlcjM2MDE1", "avatar_url": "https://avatars.githubusercontent.com/u/36015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crabtw", "html_url": "https://github.com/crabtw", "followers_url": "https://api.github.com/users/crabtw/followers", "following_url": "https://api.github.com/users/crabtw/following{/other_user}", "gists_url": "https://api.github.com/users/crabtw/gists{/gist_id}", "starred_url": "https://api.github.com/users/crabtw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crabtw/subscriptions", "organizations_url": "https://api.github.com/users/crabtw/orgs", "repos_url": "https://api.github.com/users/crabtw/repos", "events_url": "https://api.github.com/users/crabtw/events{/privacy}", "received_events_url": "https://api.github.com/users/crabtw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "79d738845569e69fdbd4d378e203432f0e3bc91d", "url": "https://api.github.com/repos/rust-lang/rust/commits/79d738845569e69fdbd4d378e203432f0e3bc91d", "html_url": "https://github.com/rust-lang/rust/commit/79d738845569e69fdbd4d378e203432f0e3bc91d"}], "stats": {"total": 54, "additions": 27, "deletions": 27}, "files": [{"sha": "61b1fe9aaa0afc18ec100fa827c053b9bc7eeaf1", "filename": "src/rt/rust_log.cpp", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/e4d553c534e80442bed5ce63f74ca67112035d08/src%2Frt%2Frust_log.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/e4d553c534e80442bed5ce63f74ca67112035d08/src%2Frt%2Frust_log.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_log.cpp?ref=e4d553c534e80442bed5ce63f74ca67112035d08", "patch": "@@ -143,7 +143,7 @@ rust_log::trace_ln(rust_task *task, uint32_t level, char *message) {\n \n struct mod_entry {\n     const char* name;\n-    size_t* state;\n+    uint32_t* state;\n };\n \n struct cratemap {\n@@ -232,19 +232,19 @@ void print_crate_log_map(const cratemap* map) {\n \n // These are pseudo-modules used to control logging in the runtime.\n \n-size_t log_rt_mem;\n-size_t log_rt_comm;\n-size_t log_rt_task;\n-size_t log_rt_dom;\n-size_t log_rt_trace;\n-size_t log_rt_cache;\n-size_t log_rt_upcall;\n-size_t log_rt_timer;\n-size_t log_rt_gc;\n-size_t log_rt_stdlib;\n-size_t log_rt_kern;\n-size_t log_rt_backtrace;\n-size_t log_rt_callback;\n+uint32_t log_rt_mem;\n+uint32_t log_rt_comm;\n+uint32_t log_rt_task;\n+uint32_t log_rt_dom;\n+uint32_t log_rt_trace;\n+uint32_t log_rt_cache;\n+uint32_t log_rt_upcall;\n+uint32_t log_rt_timer;\n+uint32_t log_rt_gc;\n+uint32_t log_rt_stdlib;\n+uint32_t log_rt_kern;\n+uint32_t log_rt_backtrace;\n+uint32_t log_rt_callback;\n \n static const mod_entry _rt_module_map[] =\n     {{\"::rt::mem\", &log_rt_mem},"}, {"sha": "d086a5e1f3234627cca08b126f851d0016e1a3f1", "filename": "src/rt/rust_log.h", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/e4d553c534e80442bed5ce63f74ca67112035d08/src%2Frt%2Frust_log.h", "raw_url": "https://github.com/rust-lang/rust/raw/e4d553c534e80442bed5ce63f74ca67112035d08/src%2Frt%2Frust_log.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_log.h?ref=e4d553c534e80442bed5ce63f74ca67112035d08", "patch": "@@ -56,18 +56,18 @@ class rust_log {\n \n void update_log_settings(void* crate_map, char* settings);\n \n-extern size_t log_rt_mem;\n-extern size_t log_rt_comm;\n-extern size_t log_rt_task;\n-extern size_t log_rt_dom;\n-extern size_t log_rt_trace;\n-extern size_t log_rt_cache;\n-extern size_t log_rt_upcall;\n-extern size_t log_rt_timer;\n-extern size_t log_rt_gc;\n-extern size_t log_rt_stdlib;\n-extern size_t log_rt_kern;\n-extern size_t log_rt_backtrace;\n-extern size_t log_rt_callback;\n+extern uint32_t log_rt_mem;\n+extern uint32_t log_rt_comm;\n+extern uint32_t log_rt_task;\n+extern uint32_t log_rt_dom;\n+extern uint32_t log_rt_trace;\n+extern uint32_t log_rt_cache;\n+extern uint32_t log_rt_upcall;\n+extern uint32_t log_rt_timer;\n+extern uint32_t log_rt_gc;\n+extern uint32_t log_rt_stdlib;\n+extern uint32_t log_rt_kern;\n+extern uint32_t log_rt_backtrace;\n+extern uint32_t log_rt_callback;\n \n #endif /* RUST_LOG_H */"}]}