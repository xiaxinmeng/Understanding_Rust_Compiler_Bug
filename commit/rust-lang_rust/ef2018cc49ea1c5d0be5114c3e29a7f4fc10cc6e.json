{"sha": "ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "node_id": "C_kwDOAAsO6NoAKGVmMjAxOGNjNDllYTFjNWQwYmU1MTE0YzNlMjlhN2Y0ZmMxMGNjNmU", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-12-09T19:40:21Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-12-09T19:40:21Z"}, "message": "Auto merge of #10043 - phtown:master, r=Jarcho\n\nAdd lint `almost_complete_digit_range`\n\nchangelog: [`almost_complete_digit_range`]: Add digit analog to `almost_complete_letter_range`\n\nI have added a lint that will detect `'0'..'9'` and suggest converting it to `'0'..='9'`, the same way `almost_complete_letter_range` does for ascii letters. I tied into the implementation of `AlmostCompleteLetterRange` in order to do that, but I didn't change its interface.\nThis is my first contribution to Clippy, so please let me know if there's anything I should do differently. I'll be happy to incorporate any suggestions you have.\nThanks!", "tree": {"sha": "d23a2fbc95f3a905b1d3b2afa9d9d5c6fec34087", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d23a2fbc95f3a905b1d3b2afa9d9d5c6fec34087"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "html_url": "https://github.com/rust-lang/rust/commit/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3492856c0726d16ac3bf17ec1d393506b10150a3", "url": "https://api.github.com/repos/rust-lang/rust/commits/3492856c0726d16ac3bf17ec1d393506b10150a3", "html_url": "https://github.com/rust-lang/rust/commit/3492856c0726d16ac3bf17ec1d393506b10150a3"}, {"sha": "4c80f210c38b78ddce983c2db16132a37bffd829", "url": "https://api.github.com/repos/rust-lang/rust/commits/4c80f210c38b78ddce983c2db16132a37bffd829", "html_url": "https://github.com/rust-lang/rust/commit/4c80f210c38b78ddce983c2db16132a37bffd829"}], "stats": {"total": 582, "additions": 390, "deletions": 192}, "files": [{"sha": "70a09db074e5bfa4afa78d331e15220b17685b62", "filename": "CHANGELOG.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -3875,6 +3875,7 @@ Released 2018-09-13\n [`alloc_instead_of_core`]: https://rust-lang.github.io/rust-clippy/master/index.html#alloc_instead_of_core\n [`allow_attributes_without_reason`]: https://rust-lang.github.io/rust-clippy/master/index.html#allow_attributes_without_reason\n [`almost_complete_letter_range`]: https://rust-lang.github.io/rust-clippy/master/index.html#almost_complete_letter_range\n+[`almost_complete_range`]: https://rust-lang.github.io/rust-clippy/master/index.html#almost_complete_range\n [`almost_swapped`]: https://rust-lang.github.io/rust-clippy/master/index.html#almost_swapped\n [`approx_constant`]: https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant\n [`arithmetic_side_effects`]: https://rust-lang.github.io/rust-clippy/master/index.html#arithmetic_side_effects"}, {"sha": "42e14b5cd945fc4647cb9fec2a789c303ddcccff", "filename": "clippy_lints/src/almost_complete_range.rs", "status": "renamed", "additions": 14, "deletions": 10, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/clippy_lints%2Fsrc%2Falmost_complete_range.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/clippy_lints%2Fsrc%2Falmost_complete_range.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Falmost_complete_range.rs?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -10,8 +10,8 @@ use rustc_span::Span;\n \n declare_clippy_lint! {\n     /// ### What it does\n-    /// Checks for ranges which almost include the entire range of letters from 'a' to 'z', but\n-    /// don't because they're a half open range.\n+    /// Checks for ranges which almost include the entire range of letters from 'a' to 'z'\n+    /// or digits from '0' to '9', but don't because they're a half open range.\n     ///\n     /// ### Why is this bad?\n     /// This (`'a'..'z'`) is almost certainly a typo meant to include all letters.\n@@ -25,21 +25,21 @@ declare_clippy_lint! {\n     /// let _ = 'a'..='z';\n     /// ```\n     #[clippy::version = \"1.63.0\"]\n-    pub ALMOST_COMPLETE_LETTER_RANGE,\n+    pub ALMOST_COMPLETE_RANGE,\n     suspicious,\n-    \"almost complete letter range\"\n+    \"almost complete range\"\n }\n-impl_lint_pass!(AlmostCompleteLetterRange => [ALMOST_COMPLETE_LETTER_RANGE]);\n+impl_lint_pass!(AlmostCompleteRange => [ALMOST_COMPLETE_RANGE]);\n \n-pub struct AlmostCompleteLetterRange {\n+pub struct AlmostCompleteRange {\n     msrv: Msrv,\n }\n-impl AlmostCompleteLetterRange {\n+impl AlmostCompleteRange {\n     pub fn new(msrv: Msrv) -> Self {\n         Self { msrv }\n     }\n }\n-impl EarlyLintPass for AlmostCompleteLetterRange {\n+impl EarlyLintPass for AlmostCompleteRange {\n     fn check_expr(&mut self, cx: &EarlyContext<'_>, e: &Expr) {\n         if let ExprKind::Range(Some(start), Some(end), RangeLimits::HalfOpen) = &e.kind {\n             let ctxt = e.span.ctxt();\n@@ -87,14 +87,18 @@ fn check_range(cx: &EarlyContext<'_>, span: Span, start: &Expr, end: &Expr, sugg\n                 Ok(LitKind::Byte(b'A') | LitKind::Char('A')),\n                 Ok(LitKind::Byte(b'Z') | LitKind::Char('Z')),\n             )\n+            | (\n+                Ok(LitKind::Byte(b'0') | LitKind::Char('0')),\n+                Ok(LitKind::Byte(b'9') | LitKind::Char('9')),\n+            )\n         )\n         && !in_external_macro(cx.sess(), span)\n     {\n         span_lint_and_then(\n             cx,\n-            ALMOST_COMPLETE_LETTER_RANGE,\n+            ALMOST_COMPLETE_RANGE,\n             span,\n-            \"almost complete ascii letter range\",\n+            \"almost complete ascii range\",\n             |diag| {\n                 if let Some((span, sugg)) = sugg {\n                     diag.span_suggestion(", "previous_filename": "clippy_lints/src/almost_complete_letter_range.rs"}, {"sha": "3cd7d1d7e722833645876976a615e1d5a7de123f", "filename": "clippy_lints/src/declared_lints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/clippy_lints%2Fsrc%2Fdeclared_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/clippy_lints%2Fsrc%2Fdeclared_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdeclared_lints.rs?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -35,7 +35,7 @@ pub(crate) static LINTS: &[&crate::LintInfo] = &[\n     crate::utils::internal_lints::produce_ice::PRODUCE_ICE_INFO,\n     #[cfg(feature = \"internal\")]\n     crate::utils::internal_lints::unnecessary_def_path::UNNECESSARY_DEF_PATH_INFO,\n-    crate::almost_complete_letter_range::ALMOST_COMPLETE_LETTER_RANGE_INFO,\n+    crate::almost_complete_range::ALMOST_COMPLETE_RANGE_INFO,\n     crate::approx_const::APPROX_CONSTANT_INFO,\n     crate::as_conversions::AS_CONVERSIONS_INFO,\n     crate::asm_syntax::INLINE_ASM_X86_ATT_SYNTAX_INFO,"}, {"sha": "39850d598038f1b3d15fce37e068528a3c9b1c8d", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -66,7 +66,7 @@ mod declared_lints;\n mod renamed_lints;\n \n // begin lints modules, do not remove this comment, it\u2019s used in `update_lints`\n-mod almost_complete_letter_range;\n+mod almost_complete_range;\n mod approx_const;\n mod as_conversions;\n mod asm_syntax;\n@@ -876,7 +876,7 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n     store.register_late_pass(|_| Box::new(rc_clone_in_vec_init::RcCloneInVecInit));\n     store.register_early_pass(|| Box::<duplicate_mod::DuplicateMod>::default());\n     store.register_early_pass(|| Box::new(unused_rounding::UnusedRounding));\n-    store.register_early_pass(move || Box::new(almost_complete_letter_range::AlmostCompleteLetterRange::new(msrv())));\n+    store.register_early_pass(move || Box::new(almost_complete_range::AlmostCompleteRange::new(msrv())));\n     store.register_late_pass(|_| Box::new(swap_ptr_to_ref::SwapPtrToRef));\n     store.register_late_pass(|_| Box::new(mismatching_type_param_order::TypeParamMismatch));\n     store.register_late_pass(|_| Box::new(read_zero_byte_vec::ReadZeroByteVec));"}, {"sha": "72c25592609ba77191f7877134b6c8bff1df90d8", "filename": "clippy_lints/src/renamed_lints.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/clippy_lints%2Fsrc%2Frenamed_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/clippy_lints%2Fsrc%2Frenamed_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Frenamed_lints.rs?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -2,6 +2,7 @@\n \n #[rustfmt::skip]\n pub static RENAMED_LINTS: &[(&str, &str)] = &[\n+    (\"clippy::almost_complete_letter_range\", \"clippy::almost_complete_range\"),\n     (\"clippy::blacklisted_name\", \"clippy::disallowed_names\"),\n     (\"clippy::block_in_if_condition_expr\", \"clippy::blocks_in_if_conditions\"),\n     (\"clippy::block_in_if_condition_stmt\", \"clippy::blocks_in_if_conditions\"),"}, {"sha": "9abf6d6c5e7d00c4fea180c6219eb7a3804a4cc2", "filename": "tests/ui/almost_complete_letter_range.stderr", "status": "removed", "additions": 0, "deletions": 113, "changes": 113, "blob_url": "https://github.com/rust-lang/rust/blob/3492856c0726d16ac3bf17ec1d393506b10150a3/tests%2Fui%2Falmost_complete_letter_range.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3492856c0726d16ac3bf17ec1d393506b10150a3/tests%2Fui%2Falmost_complete_letter_range.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Falmost_complete_letter_range.stderr?ref=3492856c0726d16ac3bf17ec1d393506b10150a3", "patch": "@@ -1,113 +0,0 @@\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:29:17\n-   |\n-LL |         let _ = ('a') ..'z';\n-   |                 ^^^^^^--^^^\n-   |                       |\n-   |                       help: use an inclusive range: `..=`\n-   |\n-   = note: `-D clippy::almost-complete-letter-range` implied by `-D warnings`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:30:17\n-   |\n-LL |         let _ = 'A' .. ('Z');\n-   |                 ^^^^--^^^^^^\n-   |                     |\n-   |                     help: use an inclusive range: `..=`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:36:13\n-   |\n-LL |     let _ = (b'a')..(b'z');\n-   |             ^^^^^^--^^^^^^\n-   |                   |\n-   |                   help: use an inclusive range: `..=`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:37:13\n-   |\n-LL |     let _ = b'A'..b'Z';\n-   |             ^^^^--^^^^\n-   |                 |\n-   |                 help: use an inclusive range: `..=`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:42:13\n-   |\n-LL |     let _ = a!()..'z';\n-   |             ^^^^--^^^\n-   |                 |\n-   |                 help: use an inclusive range: `..=`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:45:9\n-   |\n-LL |         b'a'..b'z' if true => 1,\n-   |         ^^^^--^^^^\n-   |             |\n-   |             help: use an inclusive range: `..=`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:46:9\n-   |\n-LL |         b'A'..b'Z' if true => 2,\n-   |         ^^^^--^^^^\n-   |             |\n-   |             help: use an inclusive range: `..=`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:53:9\n-   |\n-LL |         'a'..'z' if true => 1,\n-   |         ^^^--^^^\n-   |            |\n-   |            help: use an inclusive range: `..=`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:54:9\n-   |\n-LL |         'A'..'Z' if true => 2,\n-   |         ^^^--^^^\n-   |            |\n-   |            help: use an inclusive range: `..=`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:22:17\n-   |\n-LL |         let _ = 'a'..'z';\n-   |                 ^^^--^^^\n-   |                    |\n-   |                    help: use an inclusive range: `..=`\n-...\n-LL |     b!();\n-   |     ---- in this macro invocation\n-   |\n-   = note: this error originates in the macro `b` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:67:9\n-   |\n-LL |         'a'..'z' => 1,\n-   |         ^^^--^^^\n-   |            |\n-   |            help: use an inclusive range: `...`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:74:13\n-   |\n-LL |     let _ = 'a'..'z';\n-   |             ^^^--^^^\n-   |                |\n-   |                help: use an inclusive range: `..=`\n-\n-error: almost complete ascii letter range\n-  --> $DIR/almost_complete_letter_range.rs:76:9\n-   |\n-LL |         'a'..'z' => 1,\n-   |         ^^^--^^^\n-   |            |\n-   |            help: use an inclusive range: `..=`\n-\n-error: aborting due to 13 previous errors\n-"}, {"sha": "6046addf719642fe62ca6bb87ae9d6896fdb00cb", "filename": "tests/ui/almost_complete_range.fixed", "status": "renamed", "additions": 39, "deletions": 10, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Falmost_complete_range.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Falmost_complete_range.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Falmost_complete_range.fixed?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -4,9 +4,10 @@\n \n #![feature(exclusive_range_pattern)]\n #![feature(stmt_expr_attributes)]\n-#![warn(clippy::almost_complete_letter_range)]\n+#![warn(clippy::almost_complete_range)]\n #![allow(ellipsis_inclusive_range_patterns)]\n #![allow(clippy::needless_parens_on_range_literals)]\n+#![allow(clippy::double_parens)]\n \n #[macro_use]\n extern crate macro_rules;\n@@ -16,10 +17,22 @@ macro_rules! a {\n         'a'\n     };\n }\n+macro_rules! A {\n+    () => {\n+        'A'\n+    };\n+}\n+macro_rules! zero {\n+    () => {\n+        '0'\n+    };\n+}\n \n macro_rules! b {\n     () => {\n         let _ = 'a'..='z';\n+        let _ = 'A'..='Z';\n+        let _ = '0'..='9';\n     };\n }\n \n@@ -28,52 +41,68 @@ fn main() {\n     {\n         let _ = ('a') ..='z';\n         let _ = 'A' ..= ('Z');\n+        let _ = ((('0'))) ..= ('9');\n     }\n \n     let _ = 'b'..'z';\n     let _ = 'B'..'Z';\n+    let _ = '1'..'9';\n \n     let _ = (b'a')..=(b'z');\n     let _ = b'A'..=b'Z';\n+    let _ = b'0'..=b'9';\n \n     let _ = b'b'..b'z';\n     let _ = b'B'..b'Z';\n+    let _ = b'1'..b'9';\n \n     let _ = a!()..='z';\n+    let _ = A!()..='Z';\n+    let _ = zero!()..='9';\n \n     let _ = match 0u8 {\n         b'a'..=b'z' if true => 1,\n         b'A'..=b'Z' if true => 2,\n-        b'b'..b'z' => 3,\n-        b'B'..b'Z' => 4,\n-        _ => 5,\n+        b'0'..=b'9' if true => 3,\n+        b'b'..b'z' => 4,\n+        b'B'..b'Z' => 5,\n+        b'1'..b'9' => 6,\n+        _ => 7,\n     };\n \n     let _ = match 'x' {\n         'a'..='z' if true => 1,\n         'A'..='Z' if true => 2,\n-        'b'..'z' => 3,\n-        'B'..'Z' => 4,\n-        _ => 5,\n+        '0'..='9' if true => 3,\n+        'b'..'z' => 4,\n+        'B'..'Z' => 5,\n+        '1'..'9' => 6,\n+        _ => 7,\n     };\n \n-    almost_complete_letter_range!();\n+    almost_complete_range!();\n     b!();\n }\n \n #[clippy::msrv = \"1.25\"]\n fn _under_msrv() {\n     let _ = match 'a' {\n         'a'...'z' => 1,\n-        _ => 2,\n+        'A'...'Z' => 2,\n+        '0'...'9' => 3,\n+        _ => 4,\n     };\n }\n \n #[clippy::msrv = \"1.26\"]\n fn _meets_msrv() {\n     let _ = 'a'..='z';\n+    let _ = 'A'..='Z';\n+    let _ = '0'..='9';\n     let _ = match 'a' {\n         'a'..='z' => 1,\n-        _ => 2,\n+        'A'..='Z' => 1,\n+        '0'..='9' => 3,\n+        _ => 4,\n     };\n }", "previous_filename": "tests/ui/almost_complete_letter_range.fixed"}, {"sha": "ae7e07ab872b77f5e356f9711fad78115ea88b5b", "filename": "tests/ui/almost_complete_range.rs", "status": "renamed", "additions": 39, "deletions": 10, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Falmost_complete_range.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Falmost_complete_range.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Falmost_complete_range.rs?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -4,9 +4,10 @@\n \n #![feature(exclusive_range_pattern)]\n #![feature(stmt_expr_attributes)]\n-#![warn(clippy::almost_complete_letter_range)]\n+#![warn(clippy::almost_complete_range)]\n #![allow(ellipsis_inclusive_range_patterns)]\n #![allow(clippy::needless_parens_on_range_literals)]\n+#![allow(clippy::double_parens)]\n \n #[macro_use]\n extern crate macro_rules;\n@@ -16,10 +17,22 @@ macro_rules! a {\n         'a'\n     };\n }\n+macro_rules! A {\n+    () => {\n+        'A'\n+    };\n+}\n+macro_rules! zero {\n+    () => {\n+        '0'\n+    };\n+}\n \n macro_rules! b {\n     () => {\n         let _ = 'a'..'z';\n+        let _ = 'A'..'Z';\n+        let _ = '0'..'9';\n     };\n }\n \n@@ -28,52 +41,68 @@ fn main() {\n     {\n         let _ = ('a') ..'z';\n         let _ = 'A' .. ('Z');\n+        let _ = ((('0'))) .. ('9');\n     }\n \n     let _ = 'b'..'z';\n     let _ = 'B'..'Z';\n+    let _ = '1'..'9';\n \n     let _ = (b'a')..(b'z');\n     let _ = b'A'..b'Z';\n+    let _ = b'0'..b'9';\n \n     let _ = b'b'..b'z';\n     let _ = b'B'..b'Z';\n+    let _ = b'1'..b'9';\n \n     let _ = a!()..'z';\n+    let _ = A!()..'Z';\n+    let _ = zero!()..'9';\n \n     let _ = match 0u8 {\n         b'a'..b'z' if true => 1,\n         b'A'..b'Z' if true => 2,\n-        b'b'..b'z' => 3,\n-        b'B'..b'Z' => 4,\n-        _ => 5,\n+        b'0'..b'9' if true => 3,\n+        b'b'..b'z' => 4,\n+        b'B'..b'Z' => 5,\n+        b'1'..b'9' => 6,\n+        _ => 7,\n     };\n \n     let _ = match 'x' {\n         'a'..'z' if true => 1,\n         'A'..'Z' if true => 2,\n-        'b'..'z' => 3,\n-        'B'..'Z' => 4,\n-        _ => 5,\n+        '0'..'9' if true => 3,\n+        'b'..'z' => 4,\n+        'B'..'Z' => 5,\n+        '1'..'9' => 6,\n+        _ => 7,\n     };\n \n-    almost_complete_letter_range!();\n+    almost_complete_range!();\n     b!();\n }\n \n #[clippy::msrv = \"1.25\"]\n fn _under_msrv() {\n     let _ = match 'a' {\n         'a'..'z' => 1,\n-        _ => 2,\n+        'A'..'Z' => 2,\n+        '0'..'9' => 3,\n+        _ => 4,\n     };\n }\n \n #[clippy::msrv = \"1.26\"]\n fn _meets_msrv() {\n     let _ = 'a'..'z';\n+    let _ = 'A'..'Z';\n+    let _ = '0'..'9';\n     let _ = match 'a' {\n         'a'..'z' => 1,\n-        _ => 2,\n+        'A'..'Z' => 1,\n+        '0'..'9' => 3,\n+        _ => 4,\n     };\n }", "previous_filename": "tests/ui/almost_complete_letter_range.rs"}, {"sha": "a7a5328785025f6945e361d207fff35c027c5841", "filename": "tests/ui/almost_complete_range.stderr", "status": "added", "additions": 235, "deletions": 0, "changes": 235, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Falmost_complete_range.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Falmost_complete_range.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Falmost_complete_range.stderr?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -0,0 +1,235 @@\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:42:17\n+   |\n+LL |         let _ = ('a') ..'z';\n+   |                 ^^^^^^--^^^\n+   |                       |\n+   |                       help: use an inclusive range: `..=`\n+   |\n+   = note: `-D clippy::almost-complete-range` implied by `-D warnings`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:43:17\n+   |\n+LL |         let _ = 'A' .. ('Z');\n+   |                 ^^^^--^^^^^^\n+   |                     |\n+   |                     help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:44:17\n+   |\n+LL |         let _ = ((('0'))) .. ('9');\n+   |                 ^^^^^^^^^^--^^^^^^\n+   |                           |\n+   |                           help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:51:13\n+   |\n+LL |     let _ = (b'a')..(b'z');\n+   |             ^^^^^^--^^^^^^\n+   |                   |\n+   |                   help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:52:13\n+   |\n+LL |     let _ = b'A'..b'Z';\n+   |             ^^^^--^^^^\n+   |                 |\n+   |                 help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:53:13\n+   |\n+LL |     let _ = b'0'..b'9';\n+   |             ^^^^--^^^^\n+   |                 |\n+   |                 help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:59:13\n+   |\n+LL |     let _ = a!()..'z';\n+   |             ^^^^--^^^\n+   |                 |\n+   |                 help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:60:13\n+   |\n+LL |     let _ = A!()..'Z';\n+   |             ^^^^--^^^\n+   |                 |\n+   |                 help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:61:13\n+   |\n+LL |     let _ = zero!()..'9';\n+   |             ^^^^^^^--^^^\n+   |                    |\n+   |                    help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:64:9\n+   |\n+LL |         b'a'..b'z' if true => 1,\n+   |         ^^^^--^^^^\n+   |             |\n+   |             help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:65:9\n+   |\n+LL |         b'A'..b'Z' if true => 2,\n+   |         ^^^^--^^^^\n+   |             |\n+   |             help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:66:9\n+   |\n+LL |         b'0'..b'9' if true => 3,\n+   |         ^^^^--^^^^\n+   |             |\n+   |             help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:74:9\n+   |\n+LL |         'a'..'z' if true => 1,\n+   |         ^^^--^^^\n+   |            |\n+   |            help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:75:9\n+   |\n+LL |         'A'..'Z' if true => 2,\n+   |         ^^^--^^^\n+   |            |\n+   |            help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:76:9\n+   |\n+LL |         '0'..'9' if true => 3,\n+   |         ^^^--^^^\n+   |            |\n+   |            help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:33:17\n+   |\n+LL |         let _ = 'a'..'z';\n+   |                 ^^^--^^^\n+   |                    |\n+   |                    help: use an inclusive range: `..=`\n+...\n+LL |     b!();\n+   |     ---- in this macro invocation\n+   |\n+   = note: this error originates in the macro `b` (in Nightly builds, run with -Z macro-backtrace for more info)\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:34:17\n+   |\n+LL |         let _ = 'A'..'Z';\n+   |                 ^^^--^^^\n+   |                    |\n+   |                    help: use an inclusive range: `..=`\n+...\n+LL |     b!();\n+   |     ---- in this macro invocation\n+   |\n+   = note: this error originates in the macro `b` (in Nightly builds, run with -Z macro-backtrace for more info)\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:35:17\n+   |\n+LL |         let _ = '0'..'9';\n+   |                 ^^^--^^^\n+   |                    |\n+   |                    help: use an inclusive range: `..=`\n+...\n+LL |     b!();\n+   |     ---- in this macro invocation\n+   |\n+   = note: this error originates in the macro `b` (in Nightly builds, run with -Z macro-backtrace for more info)\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:90:9\n+   |\n+LL |         'a'..'z' => 1,\n+   |         ^^^--^^^\n+   |            |\n+   |            help: use an inclusive range: `...`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:91:9\n+   |\n+LL |         'A'..'Z' => 2,\n+   |         ^^^--^^^\n+   |            |\n+   |            help: use an inclusive range: `...`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:92:9\n+   |\n+LL |         '0'..'9' => 3,\n+   |         ^^^--^^^\n+   |            |\n+   |            help: use an inclusive range: `...`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:99:13\n+   |\n+LL |     let _ = 'a'..'z';\n+   |             ^^^--^^^\n+   |                |\n+   |                help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:100:13\n+   |\n+LL |     let _ = 'A'..'Z';\n+   |             ^^^--^^^\n+   |                |\n+   |                help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:101:13\n+   |\n+LL |     let _ = '0'..'9';\n+   |             ^^^--^^^\n+   |                |\n+   |                help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:103:9\n+   |\n+LL |         'a'..'z' => 1,\n+   |         ^^^--^^^\n+   |            |\n+   |            help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:104:9\n+   |\n+LL |         'A'..'Z' => 1,\n+   |         ^^^--^^^\n+   |            |\n+   |            help: use an inclusive range: `..=`\n+\n+error: almost complete ascii range\n+  --> $DIR/almost_complete_range.rs:105:9\n+   |\n+LL |         '0'..'9' => 3,\n+   |         ^^^--^^^\n+   |            |\n+   |            help: use an inclusive range: `..=`\n+\n+error: aborting due to 27 previous errors\n+"}, {"sha": "1e5f20e8c39baf5ad8c47d5dd77530bfcba75dc6", "filename": "tests/ui/auxiliary/macro_rules.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Fauxiliary%2Fmacro_rules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Fauxiliary%2Fmacro_rules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fauxiliary%2Fmacro_rules.rs?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -142,8 +142,10 @@ macro_rules! equatable_if_let {\n }\n \n #[macro_export]\n-macro_rules! almost_complete_letter_range {\n+macro_rules! almost_complete_range {\n     () => {\n         let _ = 'a'..'z';\n+        let _ = 'A'..'Z';\n+        let _ = '0'..'9';\n     };\n }"}, {"sha": "f11330a8916d4adf2ba241ef4495ef772d8fcdf0", "filename": "tests/ui/needless_parens_on_range_literals.fixed", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Fneedless_parens_on_range_literals.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Fneedless_parens_on_range_literals.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_parens_on_range_literals.fixed?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -2,7 +2,7 @@\n // edition:2018\n \n #![warn(clippy::needless_parens_on_range_literals)]\n-#![allow(clippy::almost_complete_letter_range)]\n+#![allow(clippy::almost_complete_range)]\n \n fn main() {\n     let _ = 'a'..='z';"}, {"sha": "671c0009e23b7d5b60d8f70f3b6abd5a94dc79cf", "filename": "tests/ui/needless_parens_on_range_literals.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Fneedless_parens_on_range_literals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Fneedless_parens_on_range_literals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_parens_on_range_literals.rs?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -2,7 +2,7 @@\n // edition:2018\n \n #![warn(clippy::needless_parens_on_range_literals)]\n-#![allow(clippy::almost_complete_letter_range)]\n+#![allow(clippy::almost_complete_range)]\n \n fn main() {\n     let _ = ('a')..=('z');"}, {"sha": "2f76b57529607a14ed3165dea40c3ddf0dd9975d", "filename": "tests/ui/rename.fixed", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Frename.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Frename.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.fixed?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -4,6 +4,7 @@\n \n // run-rustfix\n \n+#![allow(clippy::almost_complete_range)]\n #![allow(clippy::disallowed_names)]\n #![allow(clippy::blocks_in_if_conditions)]\n #![allow(clippy::box_collection)]\n@@ -37,6 +38,7 @@\n #![allow(temporary_cstring_as_ptr)]\n #![allow(unknown_lints)]\n #![allow(unused_labels)]\n+#![warn(clippy::almost_complete_range)]\n #![warn(clippy::disallowed_names)]\n #![warn(clippy::blocks_in_if_conditions)]\n #![warn(clippy::blocks_in_if_conditions)]"}, {"sha": "699c0ff464e9fb247989fd0b559c8a35576b63f4", "filename": "tests/ui/rename.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Frename.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Frename.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.rs?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -4,6 +4,7 @@\n \n // run-rustfix\n \n+#![allow(clippy::almost_complete_range)]\n #![allow(clippy::disallowed_names)]\n #![allow(clippy::blocks_in_if_conditions)]\n #![allow(clippy::box_collection)]\n@@ -37,6 +38,7 @@\n #![allow(temporary_cstring_as_ptr)]\n #![allow(unknown_lints)]\n #![allow(unused_labels)]\n+#![warn(clippy::almost_complete_letter_range)]\n #![warn(clippy::blacklisted_name)]\n #![warn(clippy::block_in_if_condition_expr)]\n #![warn(clippy::block_in_if_condition_stmt)]"}, {"sha": "9af58dc75a68f41daff7f88a050856295b19ec29", "filename": "tests/ui/rename.stderr", "status": "modified", "additions": 49, "deletions": 43, "changes": 92, "blob_url": "https://github.com/rust-lang/rust/blob/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Frename.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e/tests%2Fui%2Frename.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.stderr?ref=ef2018cc49ea1c5d0be5114c3e29a7f4fc10cc6e", "patch": "@@ -1,244 +1,250 @@\n+error: lint `clippy::almost_complete_letter_range` has been renamed to `clippy::almost_complete_range`\n+  --> $DIR/rename.rs:41:9\n+   |\n+LL | #![warn(clippy::almost_complete_letter_range)]\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::almost_complete_range`\n+   |\n+   = note: `-D renamed-and-removed-lints` implied by `-D warnings`\n+\n error: lint `clippy::blacklisted_name` has been renamed to `clippy::disallowed_names`\n-  --> $DIR/rename.rs:40:9\n+  --> $DIR/rename.rs:42:9\n    |\n LL | #![warn(clippy::blacklisted_name)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_names`\n-   |\n-   = note: `-D renamed-and-removed-lints` implied by `-D warnings`\n \n error: lint `clippy::block_in_if_condition_expr` has been renamed to `clippy::blocks_in_if_conditions`\n-  --> $DIR/rename.rs:41:9\n+  --> $DIR/rename.rs:43:9\n    |\n LL | #![warn(clippy::block_in_if_condition_expr)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::blocks_in_if_conditions`\n \n error: lint `clippy::block_in_if_condition_stmt` has been renamed to `clippy::blocks_in_if_conditions`\n-  --> $DIR/rename.rs:42:9\n+  --> $DIR/rename.rs:44:9\n    |\n LL | #![warn(clippy::block_in_if_condition_stmt)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::blocks_in_if_conditions`\n \n error: lint `clippy::box_vec` has been renamed to `clippy::box_collection`\n-  --> $DIR/rename.rs:43:9\n+  --> $DIR/rename.rs:45:9\n    |\n LL | #![warn(clippy::box_vec)]\n    |         ^^^^^^^^^^^^^^^ help: use the new name: `clippy::box_collection`\n \n error: lint `clippy::const_static_lifetime` has been renamed to `clippy::redundant_static_lifetimes`\n-  --> $DIR/rename.rs:44:9\n+  --> $DIR/rename.rs:46:9\n    |\n LL | #![warn(clippy::const_static_lifetime)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::redundant_static_lifetimes`\n \n error: lint `clippy::cyclomatic_complexity` has been renamed to `clippy::cognitive_complexity`\n-  --> $DIR/rename.rs:45:9\n+  --> $DIR/rename.rs:47:9\n    |\n LL | #![warn(clippy::cyclomatic_complexity)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::cognitive_complexity`\n \n error: lint `clippy::disallowed_method` has been renamed to `clippy::disallowed_methods`\n-  --> $DIR/rename.rs:46:9\n+  --> $DIR/rename.rs:48:9\n    |\n LL | #![warn(clippy::disallowed_method)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_methods`\n \n error: lint `clippy::disallowed_type` has been renamed to `clippy::disallowed_types`\n-  --> $DIR/rename.rs:47:9\n+  --> $DIR/rename.rs:49:9\n    |\n LL | #![warn(clippy::disallowed_type)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_types`\n \n error: lint `clippy::eval_order_dependence` has been renamed to `clippy::mixed_read_write_in_expression`\n-  --> $DIR/rename.rs:48:9\n+  --> $DIR/rename.rs:50:9\n    |\n LL | #![warn(clippy::eval_order_dependence)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::mixed_read_write_in_expression`\n \n error: lint `clippy::identity_conversion` has been renamed to `clippy::useless_conversion`\n-  --> $DIR/rename.rs:49:9\n+  --> $DIR/rename.rs:51:9\n    |\n LL | #![warn(clippy::identity_conversion)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::useless_conversion`\n \n error: lint `clippy::if_let_some_result` has been renamed to `clippy::match_result_ok`\n-  --> $DIR/rename.rs:50:9\n+  --> $DIR/rename.rs:52:9\n    |\n LL | #![warn(clippy::if_let_some_result)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::match_result_ok`\n \n error: lint `clippy::logic_bug` has been renamed to `clippy::overly_complex_bool_expr`\n-  --> $DIR/rename.rs:51:9\n+  --> $DIR/rename.rs:53:9\n    |\n LL | #![warn(clippy::logic_bug)]\n    |         ^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::overly_complex_bool_expr`\n \n error: lint `clippy::new_without_default_derive` has been renamed to `clippy::new_without_default`\n-  --> $DIR/rename.rs:52:9\n+  --> $DIR/rename.rs:54:9\n    |\n LL | #![warn(clippy::new_without_default_derive)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::new_without_default`\n \n error: lint `clippy::option_and_then_some` has been renamed to `clippy::bind_instead_of_map`\n-  --> $DIR/rename.rs:53:9\n+  --> $DIR/rename.rs:55:9\n    |\n LL | #![warn(clippy::option_and_then_some)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::bind_instead_of_map`\n \n error: lint `clippy::option_expect_used` has been renamed to `clippy::expect_used`\n-  --> $DIR/rename.rs:54:9\n+  --> $DIR/rename.rs:56:9\n    |\n LL | #![warn(clippy::option_expect_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::expect_used`\n \n error: lint `clippy::option_map_unwrap_or` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:55:9\n+  --> $DIR/rename.rs:57:9\n    |\n LL | #![warn(clippy::option_map_unwrap_or)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::option_map_unwrap_or_else` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:56:9\n+  --> $DIR/rename.rs:58:9\n    |\n LL | #![warn(clippy::option_map_unwrap_or_else)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::option_unwrap_used` has been renamed to `clippy::unwrap_used`\n-  --> $DIR/rename.rs:57:9\n+  --> $DIR/rename.rs:59:9\n    |\n LL | #![warn(clippy::option_unwrap_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::unwrap_used`\n \n error: lint `clippy::ref_in_deref` has been renamed to `clippy::needless_borrow`\n-  --> $DIR/rename.rs:58:9\n+  --> $DIR/rename.rs:60:9\n    |\n LL | #![warn(clippy::ref_in_deref)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::needless_borrow`\n \n error: lint `clippy::result_expect_used` has been renamed to `clippy::expect_used`\n-  --> $DIR/rename.rs:59:9\n+  --> $DIR/rename.rs:61:9\n    |\n LL | #![warn(clippy::result_expect_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::expect_used`\n \n error: lint `clippy::result_map_unwrap_or_else` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:60:9\n+  --> $DIR/rename.rs:62:9\n    |\n LL | #![warn(clippy::result_map_unwrap_or_else)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::result_unwrap_used` has been renamed to `clippy::unwrap_used`\n-  --> $DIR/rename.rs:61:9\n+  --> $DIR/rename.rs:63:9\n    |\n LL | #![warn(clippy::result_unwrap_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::unwrap_used`\n \n error: lint `clippy::single_char_push_str` has been renamed to `clippy::single_char_add_str`\n-  --> $DIR/rename.rs:62:9\n+  --> $DIR/rename.rs:64:9\n    |\n LL | #![warn(clippy::single_char_push_str)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::single_char_add_str`\n \n error: lint `clippy::stutter` has been renamed to `clippy::module_name_repetitions`\n-  --> $DIR/rename.rs:63:9\n+  --> $DIR/rename.rs:65:9\n    |\n LL | #![warn(clippy::stutter)]\n    |         ^^^^^^^^^^^^^^^ help: use the new name: `clippy::module_name_repetitions`\n \n error: lint `clippy::to_string_in_display` has been renamed to `clippy::recursive_format_impl`\n-  --> $DIR/rename.rs:64:9\n+  --> $DIR/rename.rs:66:9\n    |\n LL | #![warn(clippy::to_string_in_display)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::recursive_format_impl`\n \n error: lint `clippy::zero_width_space` has been renamed to `clippy::invisible_characters`\n-  --> $DIR/rename.rs:65:9\n+  --> $DIR/rename.rs:67:9\n    |\n LL | #![warn(clippy::zero_width_space)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::invisible_characters`\n \n error: lint `clippy::drop_bounds` has been renamed to `drop_bounds`\n-  --> $DIR/rename.rs:66:9\n+  --> $DIR/rename.rs:68:9\n    |\n LL | #![warn(clippy::drop_bounds)]\n    |         ^^^^^^^^^^^^^^^^^^^ help: use the new name: `drop_bounds`\n \n error: lint `clippy::for_loop_over_option` has been renamed to `for_loops_over_fallibles`\n-  --> $DIR/rename.rs:67:9\n+  --> $DIR/rename.rs:69:9\n    |\n LL | #![warn(clippy::for_loop_over_option)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `for_loops_over_fallibles`\n \n error: lint `clippy::for_loop_over_result` has been renamed to `for_loops_over_fallibles`\n-  --> $DIR/rename.rs:68:9\n+  --> $DIR/rename.rs:70:9\n    |\n LL | #![warn(clippy::for_loop_over_result)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `for_loops_over_fallibles`\n \n error: lint `clippy::for_loops_over_fallibles` has been renamed to `for_loops_over_fallibles`\n-  --> $DIR/rename.rs:69:9\n+  --> $DIR/rename.rs:71:9\n    |\n LL | #![warn(clippy::for_loops_over_fallibles)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `for_loops_over_fallibles`\n \n error: lint `clippy::into_iter_on_array` has been renamed to `array_into_iter`\n-  --> $DIR/rename.rs:70:9\n+  --> $DIR/rename.rs:72:9\n    |\n LL | #![warn(clippy::into_iter_on_array)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `array_into_iter`\n \n error: lint `clippy::invalid_atomic_ordering` has been renamed to `invalid_atomic_ordering`\n-  --> $DIR/rename.rs:71:9\n+  --> $DIR/rename.rs:73:9\n    |\n LL | #![warn(clippy::invalid_atomic_ordering)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `invalid_atomic_ordering`\n \n error: lint `clippy::invalid_ref` has been renamed to `invalid_value`\n-  --> $DIR/rename.rs:72:9\n+  --> $DIR/rename.rs:74:9\n    |\n LL | #![warn(clippy::invalid_ref)]\n    |         ^^^^^^^^^^^^^^^^^^^ help: use the new name: `invalid_value`\n \n error: lint `clippy::let_underscore_drop` has been renamed to `let_underscore_drop`\n-  --> $DIR/rename.rs:73:9\n+  --> $DIR/rename.rs:75:9\n    |\n LL | #![warn(clippy::let_underscore_drop)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `let_underscore_drop`\n \n error: lint `clippy::mem_discriminant_non_enum` has been renamed to `enum_intrinsics_non_enums`\n-  --> $DIR/rename.rs:74:9\n+  --> $DIR/rename.rs:76:9\n    |\n LL | #![warn(clippy::mem_discriminant_non_enum)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `enum_intrinsics_non_enums`\n \n error: lint `clippy::panic_params` has been renamed to `non_fmt_panics`\n-  --> $DIR/rename.rs:75:9\n+  --> $DIR/rename.rs:77:9\n    |\n LL | #![warn(clippy::panic_params)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `non_fmt_panics`\n \n error: lint `clippy::positional_named_format_parameters` has been renamed to `named_arguments_used_positionally`\n-  --> $DIR/rename.rs:76:9\n+  --> $DIR/rename.rs:78:9\n    |\n LL | #![warn(clippy::positional_named_format_parameters)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `named_arguments_used_positionally`\n \n error: lint `clippy::temporary_cstring_as_ptr` has been renamed to `temporary_cstring_as_ptr`\n-  --> $DIR/rename.rs:77:9\n+  --> $DIR/rename.rs:79:9\n    |\n LL | #![warn(clippy::temporary_cstring_as_ptr)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `temporary_cstring_as_ptr`\n \n error: lint `clippy::unknown_clippy_lints` has been renamed to `unknown_lints`\n-  --> $DIR/rename.rs:78:9\n+  --> $DIR/rename.rs:80:9\n    |\n LL | #![warn(clippy::unknown_clippy_lints)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `unknown_lints`\n \n error: lint `clippy::unused_label` has been renamed to `unused_labels`\n-  --> $DIR/rename.rs:79:9\n+  --> $DIR/rename.rs:81:9\n    |\n LL | #![warn(clippy::unused_label)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `unused_labels`\n \n-error: aborting due to 40 previous errors\n+error: aborting due to 41 previous errors\n "}]}