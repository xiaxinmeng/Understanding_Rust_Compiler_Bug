{"sha": "2c388e0e9f7b6dd6ae70b286b76996683c3a371f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJjMzg4ZTBlOWY3YjZkZDZhZTcwYjI4NmI3Njk5NjY4M2MzYTM3MWY=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-08-07T08:55:37Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-08-07T08:55:37Z"}, "message": "Rollup merge of #52886 - petrochenkov:noga, r=alexcrichton\n\ncleanup: Remove `Def::GlobalAsm`\n\nGlobal asm is not something that needs to have a `Def` or `DefId`.", "tree": {"sha": "d89fcfe7c7e1be36c8256cb6992b429b13189a95", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d89fcfe7c7e1be36c8256cb6992b429b13189a95"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2c388e0e9f7b6dd6ae70b286b76996683c3a371f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbaV6JCRBK7hj4Ov3rIwAAdHIIAIhEsE+vSd1o1lAgAkXkfq5m\nCnV69KfxHtRybP9ny2BjZ0Yw3zoRPj24hTqAKFx96T4cl35DIh3lxijKBAS5K/hJ\nZeSycu8arhqOavS7cb9rB68Lhlwp3/PezK4EqgevFCYUwWXSOb37wG28+1vSH8u3\natw9S5mv10tttGstNi2SL2L0g2TglPz54+7hR95aKJkARHGgYt0h4M1hoWZGvDG6\nh0aY26JJj4oleMOh1Ipfgj2nUHZdTqT5nAtpd5lylaUaKf0N0pNfB12iP7K1U9k6\nJ4HxufPi1+w6SM0oOeMx1S/Ex69tKQ4ogZPrKBAUrufOXgfqnAYO6z6QruqDT9Q=\n=lHfN\n-----END PGP SIGNATURE-----\n", "payload": "tree d89fcfe7c7e1be36c8256cb6992b429b13189a95\nparent 4176888c98e119914fe2820f3f5cb22feaeaec8e\nparent 79289b954505764d3b1fce55e1770586f116a3fa\nauthor kennytm <kennytm@gmail.com> 1533632137 +0800\ncommitter GitHub <noreply@github.com> 1533632137 +0800\n\nRollup merge of #52886 - petrochenkov:noga, r=alexcrichton\n\ncleanup: Remove `Def::GlobalAsm`\n\nGlobal asm is not something that needs to have a `Def` or `DefId`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2c388e0e9f7b6dd6ae70b286b76996683c3a371f", "html_url": "https://github.com/rust-lang/rust/commit/2c388e0e9f7b6dd6ae70b286b76996683c3a371f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4176888c98e119914fe2820f3f5cb22feaeaec8e", "url": "https://api.github.com/repos/rust-lang/rust/commits/4176888c98e119914fe2820f3f5cb22feaeaec8e", "html_url": "https://github.com/rust-lang/rust/commit/4176888c98e119914fe2820f3f5cb22feaeaec8e"}, {"sha": "79289b954505764d3b1fce55e1770586f116a3fa", "url": "https://api.github.com/repos/rust-lang/rust/commits/79289b954505764d3b1fce55e1770586f116a3fa", "html_url": "https://github.com/rust-lang/rust/commit/79289b954505764d3b1fce55e1770586f116a3fa"}], "stats": {"total": 12, "additions": 3, "deletions": 9}, "files": [{"sha": "b297accc75fd5a2a100df19f7525a62a6329ec73", "filename": "src/librustc/hir/def.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/src%2Flibrustc%2Fhir%2Fdef.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/src%2Flibrustc%2Fhir%2Fdef.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fdef.rs?ref=2c388e0e9f7b6dd6ae70b286b76996683c3a371f", "patch": "@@ -70,8 +70,6 @@ pub enum Def {\n     Macro(DefId, MacroKind),\n     NonMacroAttr, // e.g. `#[inline]` or `#[rustfmt::skip]`\n \n-    GlobalAsm(DefId),\n-\n     // Both namespaces\n     Err,\n }\n@@ -251,8 +249,7 @@ impl Def {\n             Def::AssociatedTy(id) | Def::TyParam(id) | Def::Struct(id) | Def::StructCtor(id, ..) |\n             Def::Union(id) | Def::Trait(id) | Def::Method(id) | Def::Const(id) |\n             Def::AssociatedConst(id) | Def::Macro(id, ..) |\n-            Def::Existential(id) | Def::AssociatedExistential(id) |\n-            Def::GlobalAsm(id) | Def::TyForeign(id) => {\n+            Def::Existential(id) | Def::AssociatedExistential(id) | Def::TyForeign(id) => {\n                 id\n             }\n \n@@ -302,7 +299,6 @@ impl Def {\n             Def::Label(..) => \"label\",\n             Def::SelfTy(..) => \"self type\",\n             Def::Macro(.., macro_kind) => macro_kind.descr(),\n-            Def::GlobalAsm(..) => \"global asm\",\n             Def::ToolMod => \"tool module\",\n             Def::NonMacroAttr => \"non-macro attribute\",\n             Def::Err => \"unresolved item\","}, {"sha": "b05bcadf82649daa57cb8573a60d2a613ce8263a", "filename": "src/librustc/hir/map/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/src%2Flibrustc%2Fhir%2Fmap%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/src%2Flibrustc%2Fhir%2Fmap%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmap%2Fmod.rs?ref=2c388e0e9f7b6dd6ae70b286b76996683c3a371f", "patch": "@@ -432,7 +432,6 @@ impl<'hir> Map<'hir> {\n                     ItemKind::Const(..) => Some(Def::Const(def_id())),\n                     ItemKind::Fn(..) => Some(Def::Fn(def_id())),\n                     ItemKind::Mod(..) => Some(Def::Mod(def_id())),\n-                    ItemKind::GlobalAsm(..) => Some(Def::GlobalAsm(def_id())),\n                     ItemKind::Existential(..) => Some(Def::Existential(def_id())),\n                     ItemKind::Ty(..) => Some(Def::TyAlias(def_id())),\n                     ItemKind::Enum(..) => Some(Def::Enum(def_id())),\n@@ -445,6 +444,7 @@ impl<'hir> Map<'hir> {\n                     ItemKind::ExternCrate(_) |\n                     ItemKind::Use(..) |\n                     ItemKind::ForeignMod(..) |\n+                    ItemKind::GlobalAsm(..) |\n                     ItemKind::Impl(..) => None,\n                 }\n             }"}, {"sha": "69872cffdc1b1ea54891628ce55e3583690f1d7c", "filename": "src/librustc/ich/impls_hir.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/src%2Flibrustc%2Fich%2Fimpls_hir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/src%2Flibrustc%2Fich%2Fimpls_hir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fich%2Fimpls_hir.rs?ref=2c388e0e9f7b6dd6ae70b286b76996683c3a371f", "patch": "@@ -1015,7 +1015,6 @@ impl_stable_hash_for!(enum hir::def::Def {\n     Upvar(def_id, index, expr_id),\n     Label(node_id),\n     Macro(def_id, macro_kind),\n-    GlobalAsm(def_id),\n     ToolMod,\n     NonMacroAttr,\n     Err"}, {"sha": "5121b682d36a736a60702a6dfbe16bde1687d945", "filename": "src/librustc_metadata/decoder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/src%2Flibrustc_metadata%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/src%2Flibrustc_metadata%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Fdecoder.rs?ref=2c388e0e9f7b6dd6ae70b286b76996683c3a371f", "patch": "@@ -427,10 +427,10 @@ impl<'tcx> EntryKind<'tcx> {\n             EntryKind::Trait(_) => Def::Trait(did),\n             EntryKind::Enum(..) => Def::Enum(did),\n             EntryKind::MacroDef(_) => Def::Macro(did, MacroKind::Bang),\n-            EntryKind::GlobalAsm => Def::GlobalAsm(did),\n             EntryKind::ForeignType => Def::TyForeign(did),\n \n             EntryKind::ForeignMod |\n+            EntryKind::GlobalAsm |\n             EntryKind::Impl(_) |\n             EntryKind::Field |\n             EntryKind::Generator(_) |"}, {"sha": "3fada8d4aa88087fc434b8a1e84857bdf52f4757", "filename": "src/librustc_save_analysis/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/src%2Flibrustc_save_analysis%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c388e0e9f7b6dd6ae70b286b76996683c3a371f/src%2Flibrustc_save_analysis%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_save_analysis%2Flib.rs?ref=2c388e0e9f7b6dd6ae70b286b76996683c3a371f", "patch": "@@ -810,7 +810,6 @@ impl<'l, 'tcx: 'l> SaveContext<'l, 'tcx> {\n             HirDef::SelfTy(..) |\n             HirDef::Label(..) |\n             HirDef::Macro(..) |\n-            HirDef::GlobalAsm(..) |\n             HirDef::ToolMod |\n             HirDef::NonMacroAttr |\n             HirDef::Err => None,"}]}