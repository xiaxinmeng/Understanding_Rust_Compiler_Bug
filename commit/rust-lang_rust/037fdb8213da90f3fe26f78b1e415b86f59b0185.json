{"sha": "037fdb8213da90f3fe26f78b1e415b86f59b0185", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzN2ZkYjgyMTNkYTkwZjNmZTI2Zjc4YjFlNDE1Yjg2ZjU5YjAxODU=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-01-30T06:30:39Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-01-30T18:17:06Z"}, "message": "Improve bug message in check_ty\n\nThis branch was hit in Clippy and I think it would be nice to\nshow the thing that was unexpected in the bug message.\n\nIt's also in line with the other `bug!` messages in `check_ty`.", "tree": {"sha": "e25cee88a82b1dd75fb8f21483ca4cac0b3b50f0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e25cee88a82b1dd75fb8f21483ca4cac0b3b50f0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/037fdb8213da90f3fe26f78b1e415b86f59b0185", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEvUKv4zqIn2RHUgCKtvoGpuDiZlsFAlxR6iQACgkQtvoGpuDi\nZls9IQ/+O/9GY3+eXWpQO/d+hBsiOWs73x7ktHNfFvfvNYlkEQrV7dN3z0vTa7DM\nrAf2XSAe7iDiSqlCdPWu4O1mNb5nrVm5SM5Xaf2TOlqYuKNgzH5JMRADWowCC/kX\ne3Sn1kH8puHkq+qw+bEkLC1r+tskuI+6Y2/ryqS/l+BtdSuOQXB5ssctSuj5OqCv\nysM/bbLk+k1llMxPbim5YYwsy8AKY5cyyRDJqKpJJsvRKZbsu6iyrJJpzidF/e/d\nMJTNHVgOyHxPqmUXnAojhjkOwISVKTgGsif6rOfUvM8ry/3g1tYFx2ah4nhSUgA3\n9lZhtLsLRqbY8dahwObzGsrHB+cvY9r2hfdx2JFRYQ+mCno4pJCFYUiD8GCha38p\n8HIZz7wtwi72w90kBBtPNzYw7AumhHIamJHr0WwlYVhTPIWoskzI78fTQnTJYiVS\nInQqKEswJKVs7gv8N4qdM59fy/0kpO72uIhX9XFkHUzYEzMRgX9tCoKTX38wcNV3\nLrDR/7DHPstkdtZoJJojRqWPhMHabcUN2r7M7gbPow6LHZXbqu4SSjgo6njXuSec\nKJJRVIk0DRvpwCF2pUbhFmzeDsjzXmjbqkb2i9YDjRTSrBCG01FUausPpKg6xUmF\nue7HqLVLskS6GgSkuCtHw6E6sQgyq5LJPpj/Huj8esIgs9qsXPU=\n=gIfb\n-----END PGP SIGNATURE-----", "payload": "tree e25cee88a82b1dd75fb8f21483ca4cac0b3b50f0\nparent d3d0bf0e9f4d748b95ed143cc636d159bfcb4a6f\nauthor Philipp Hansch <dev@phansch.net> 1548829839 +0100\ncommitter Philipp Hansch <dev@phansch.net> 1548872226 +0100\n\nImprove bug message in check_ty\n\nThis branch was hit in Clippy and I think it would be nice to\nshow the thing that was unexpected in the bug message.\n\nIt's also in line with the other `bug!` messages in `check_ty`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/037fdb8213da90f3fe26f78b1e415b86f59b0185", "html_url": "https://github.com/rust-lang/rust/commit/037fdb8213da90f3fe26f78b1e415b86f59b0185", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/037fdb8213da90f3fe26f78b1e415b86f59b0185/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d3d0bf0e9f4d748b95ed143cc636d159bfcb4a6f", "url": "https://api.github.com/repos/rust-lang/rust/commits/d3d0bf0e9f4d748b95ed143cc636d159bfcb4a6f", "html_url": "https://github.com/rust-lang/rust/commit/d3d0bf0e9f4d748b95ed143cc636d159bfcb4a6f"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "120467cbd13a08bff3767377c45324a38e26ab0a", "filename": "src/librustc_typeck/collect.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/037fdb8213da90f3fe26f78b1e415b86f59b0185/src%2Flibrustc_typeck%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/037fdb8213da90f3fe26f78b1e415b86f59b0185/src%2Flibrustc_typeck%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcollect.rs?ref=037fdb8213da90f3fe26f78b1e415b86f59b0185", "patch": "@@ -1303,12 +1303,12 @@ fn type_of<'a, 'tcx>(tcx: TyCtxt<'a, 'tcx, 'tcx>, def_id: DefId) -> Ty<'tcx> {\n             }\n         },\n \n-        Node::GenericParam(param) => match param.kind {\n+        Node::GenericParam(param) => match &param.kind {\n             hir::GenericParamKind::Type {\n                 default: Some(ref ty),\n                 ..\n             } => icx.to_ty(ty),\n-            _ => bug!(\"unexpected non-type NodeGenericParam\"),\n+            x => bug!(\"unexpected non-type Node::GenericParam: {:?}\", x),\n         },\n \n         x => {"}]}