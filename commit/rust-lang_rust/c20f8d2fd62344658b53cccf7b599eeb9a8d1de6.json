{"sha": "c20f8d2fd62344658b53cccf7b599eeb9a8d1de6", "node_id": "C_kwDOAAsO6NoAKGMyMGY4ZDJmZDYyMzQ0NjU4YjUzY2NjZjdiNTk5ZWViOWE4ZDFkZTY", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-04-02T18:37:53Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-04-02T18:38:11Z"}, "message": "Add test of thread_local! breaking on redefined u8", "tree": {"sha": "777dda085be7e287bd18731233c0aaa812c3627e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/777dda085be7e287bd18731233c0aaa812c3627e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c20f8d2fd62344658b53cccf7b599eeb9a8d1de6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmJImBMACgkQ+boUO5X/\nbYJckA//dN4BP3qtnj4Cgj6SXyNCjB0m3fn0U6QQWYAuuUaCMbB+VUmrKcbefysg\nrOZYK4T6+EqcdkYcIFTgkHx6X9czXCwIgGDyl4jMQIol+6tQkzbtWmynY47gTECQ\nSjLP5JU4dXrDhhtVIxhzErVOz7zgnFW5Baa8+s7VFPFW/Y2ti0nS7ifRc5H3mm8n\naogDP+fP2LoGIapJip5dNfljeX2q+byaanjIkYYq99RPTL5aWWnIjBmAPfTnmKOd\neKpZr6VDmgnaPkU6QJq7kT91Q8wY52LjnFy2bGRwMpAd8AQuWLcUVq3m28vnzapx\nu1uRX7y5Ejb28sYsqg0rlRpnB97Yejtn/3Yo3oRcvcD25r9u7BhQ43xDECT44MdT\nJCAEbSI2Nzy7VDdXECfmiGXZOJmop9o5St+Ifdoh+OCg/NYoS11h84Q9jQQ+XVFB\n4l4iT4wznXNiEWvHq6vUg9ArmMzMC95A9OvSHg+0B2P57hzfIcDRJf0eYWHp8qx8\nVyvHtcNQraRbZapoHEbheU2Ga2DOuh0nWsaP3zxL+A/YFSSkmPpOTBmS1QNtTUiV\nmaOLdDfZDXQtr9tOGIVSiFZ0GVnM9wpF/LcG+7eKBkxA3mJeVhi3aqFPAVMhIQSL\nBNKQdyVHXnTqqNfN/ggxORDVbGPhcsZnjPpCQPFpK6ZUl6Ag2JU=\n=/IkQ\n-----END PGP SIGNATURE-----", "payload": "tree 777dda085be7e287bd18731233c0aaa812c3627e\nparent fbc45b650a9c517ca87b0af8f108efbf50689299\nauthor David Tolnay <dtolnay@gmail.com> 1648924673 -0700\ncommitter David Tolnay <dtolnay@gmail.com> 1648924691 -0700\n\nAdd test of thread_local! breaking on redefined u8\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c20f8d2fd62344658b53cccf7b599eeb9a8d1de6", "html_url": "https://github.com/rust-lang/rust/commit/c20f8d2fd62344658b53cccf7b599eeb9a8d1de6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c20f8d2fd62344658b53cccf7b599eeb9a8d1de6/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fbc45b650a9c517ca87b0af8f108efbf50689299", "url": "https://api.github.com/repos/rust-lang/rust/commits/fbc45b650a9c517ca87b0af8f108efbf50689299", "html_url": "https://github.com/rust-lang/rust/commit/fbc45b650a9c517ca87b0af8f108efbf50689299"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "dcff9183ad95a23f52e1143dba78cffd54ef5f4c", "filename": "src/test/ui/thread-local/name-collision.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/c20f8d2fd62344658b53cccf7b599eeb9a8d1de6/src%2Ftest%2Fui%2Fthread-local%2Fname-collision.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c20f8d2fd62344658b53cccf7b599eeb9a8d1de6/src%2Ftest%2Fui%2Fthread-local%2Fname-collision.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fthread-local%2Fname-collision.rs?ref=c20f8d2fd62344658b53cccf7b599eeb9a8d1de6", "patch": "@@ -0,0 +1,15 @@\n+// check-pass\n+\n+#[allow(non_camel_case_types)]\n+struct u8;\n+\n+std::thread_local! {\n+    pub static A: i32 = f();\n+    pub static B: i32 = const { 0 };\n+}\n+\n+fn f() -> i32 {\n+    0\n+}\n+\n+fn main() {}"}]}