{"sha": "f72d76df5a1d4acc134e3cb03f61dec7d53eb18e", "node_id": "C_kwDOAAsO6NoAKGY3MmQ3NmRmNWExZDRhY2MxMzRlM2NiMDNmNjFkZWM3ZDUzZWIxOGU", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-10-14T21:43:42Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-10-14T21:43:42Z"}, "message": "Rollup merge of #102092 - kxxt:patch-1, r=joshtriplett\n\nrefactor: use grep -E/-F instead of fgrep/egrep\n\n`egrep` and `fgrep` are obsolescent now. This PR updates  all `egrep` and `fgrep` commands to `grep -E` and `grep -F`.\n\nRunning egrep/fgrep command with grep v3.8 will output the following warning to stderr:\n\n```\negrep: warning: egrep is obsolescent; using grep -E\n```\n\n- https://www.phoronix.com/news/GNU-Grep-3.8-Stop-egrep-fgrep\n- https://lists.gnu.org/archive/html/info-gnu/2022-09/msg00001.html", "tree": {"sha": "8e279558613fd9c61cf44a525ceac43afac1674d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8e279558613fd9c61cf44a525ceac43afac1674d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f72d76df5a1d4acc134e3cb03f61dec7d53eb18e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjSdgOCRBK7hj4Ov3rIwAATgwIABDwAtbhm8gp7JEx0f3q1hSL\nV/Qnlf6PZ46r/13DjU7IlodD8akbn+PAcyLEoEM7qkRjpcvzOUOXlGm+brZ3YBaI\nbpkIaYOcNsZgYjfamyJrQdm6efEM9cJ86Y2FQ2qYMMZkVKbCJAyojDy9fH2oVra4\nftZobQ+iDe4y+s8VnLnrAxnGlb5+o+a2jULvSBKEZmiulY1SxMhs/AnzuuIVSz0Q\nOyyfxpvBwMQR1J+7WywjzJ5+1s7Keyjurd9ovbcXk3hLkYyjOZQPcXOF+briG+xQ\npWCPkCNN9zobbwShpfnGqmQIp5gY8KS8oLHFzaFdIthAEuBLT8BpSdRQPUQmRVs=\n=NQRk\n-----END PGP SIGNATURE-----\n", "payload": "tree 8e279558613fd9c61cf44a525ceac43afac1674d\nparent 5819f419a7b9fcda92b74ab2c48010a778eaec40\nparent 6135aff27cedcf81ff863715685808829364f7cb\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1665783822 +0200\ncommitter GitHub <noreply@github.com> 1665783822 +0200\n\nRollup merge of #102092 - kxxt:patch-1, r=joshtriplett\n\nrefactor: use grep -E/-F instead of fgrep/egrep\n\n`egrep` and `fgrep` are obsolescent now. This PR updates  all `egrep` and `fgrep` commands to `grep -E` and `grep -F`.\n\nRunning egrep/fgrep command with grep v3.8 will output the following warning to stderr:\n\n```\negrep: warning: egrep is obsolescent; using grep -E\n```\n\n- https://www.phoronix.com/news/GNU-Grep-3.8-Stop-egrep-fgrep\n- https://lists.gnu.org/archive/html/info-gnu/2022-09/msg00001.html\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f72d76df5a1d4acc134e3cb03f61dec7d53eb18e", "html_url": "https://github.com/rust-lang/rust/commit/f72d76df5a1d4acc134e3cb03f61dec7d53eb18e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f72d76df5a1d4acc134e3cb03f61dec7d53eb18e/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5819f419a7b9fcda92b74ab2c48010a778eaec40", "url": "https://api.github.com/repos/rust-lang/rust/commits/5819f419a7b9fcda92b74ab2c48010a778eaec40", "html_url": "https://github.com/rust-lang/rust/commit/5819f419a7b9fcda92b74ab2c48010a778eaec40"}, {"sha": "6135aff27cedcf81ff863715685808829364f7cb", "url": "https://api.github.com/repos/rust-lang/rust/commits/6135aff27cedcf81ff863715685808829364f7cb", "html_url": "https://github.com/rust-lang/rust/commit/6135aff27cedcf81ff863715685808829364f7cb"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "238f7f5b660277aa23c6715c3f20f29c08601410", "filename": "src/etc/cat-and-grep.sh", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f72d76df5a1d4acc134e3cb03f61dec7d53eb18e/src%2Fetc%2Fcat-and-grep.sh", "raw_url": "https://github.com/rust-lang/rust/raw/f72d76df5a1d4acc134e3cb03f61dec7d53eb18e/src%2Fetc%2Fcat-and-grep.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fcat-and-grep.sh?ref=f72d76df5a1d4acc134e3cb03f61dec7d53eb18e", "patch": "@@ -26,7 +26,7 @@ Options:\n     -i      Case insensitive search.\n '\n \n-GREPPER=fgrep\n+GREPPER=grep\n INVERT=0\n GREPFLAGS='q'\n while getopts ':vieh' OPTION; do\n@@ -39,7 +39,7 @@ while getopts ':vieh' OPTION; do\n             GREPFLAGS=\"i$GREPFLAGS\"\n             ;;\n         e)\n-            GREPPER=egrep\n+            GREPFLAGS=\"E$GREPFLAGS\"\n             ;;\n         h)\n             echo \"$USAGE\"\n@@ -51,6 +51,12 @@ while getopts ':vieh' OPTION; do\n     esac\n done\n \n+if ! echo \"$GREPFLAGS\" | grep -q E\n+then\n+    # use F flag if there is not an E flag\n+    GREPFLAGS=\"F$GREPFLAGS\"\n+fi\n+\n shift $((OPTIND - 1))\n \n # use gnu version of tool if available (for bsd)"}]}