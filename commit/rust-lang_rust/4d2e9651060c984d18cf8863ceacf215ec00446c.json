{"sha": "4d2e9651060c984d18cf8863ceacf215ec00446c", "node_id": "C_kwDOAAsO6NoAKDRkMmU5NjUxMDYwYzk4NGQxOGNmODg2M2NlYWNmMjE1ZWMwMDQ0NmM", "commit": {"author": {"name": "Oli Scherer", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2022-01-27T16:34:28Z"}, "committer": {"name": "Oli Scherer", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2022-02-02T15:40:12Z"}, "message": "Make a span more useful", "tree": {"sha": "3a6fdd4a1fcb7f1a1206afd0143da0b11613b8c2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3a6fdd4a1fcb7f1a1206afd0143da0b11613b8c2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4d2e9651060c984d18cf8863ceacf215ec00446c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4d2e9651060c984d18cf8863ceacf215ec00446c", "html_url": "https://github.com/rust-lang/rust/commit/4d2e9651060c984d18cf8863ceacf215ec00446c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4d2e9651060c984d18cf8863ceacf215ec00446c/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5518d1931d4035a207438d625464dce9c3171d54", "url": "https://api.github.com/repos/rust-lang/rust/commits/5518d1931d4035a207438d625464dce9c3171d54", "html_url": "https://github.com/rust-lang/rust/commit/5518d1931d4035a207438d625464dce9c3171d54"}], "stats": {"total": 18, "additions": 6, "deletions": 12}, "files": [{"sha": "51b8c9aca78b3d3b2bb231b20eca41e65b34f64d", "filename": "compiler/rustc_trait_selection/src/traits/error_reporting/suggestions.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4d2e9651060c984d18cf8863ceacf215ec00446c/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fsuggestions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d2e9651060c984d18cf8863ceacf215ec00446c/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fsuggestions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fsuggestions.rs?ref=4d2e9651060c984d18cf8863ceacf215ec00446c", "patch": "@@ -1328,6 +1328,7 @@ impl<'a, 'tcx> InferCtxtExt<'tcx> for InferCtxt<'a, 'tcx> {\n             ty::Generator(..) => \"generator\",\n             _ => \"function\",\n         };\n+        let span = self.tcx.sess.source_map().guess_head_span(span);\n         let mut err = struct_span_err!(\n             self.tcx.sess,\n             span,"}, {"sha": "eaa90a8e60a2351e542a2cc9ff6d98d769850b7a", "filename": "src/test/ui/generator/issue-88653.stderr", "status": "modified", "additions": 5, "deletions": 12, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/4d2e9651060c984d18cf8863ceacf215ec00446c/src%2Ftest%2Fui%2Fgenerator%2Fissue-88653.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4d2e9651060c984d18cf8863ceacf215ec00446c/src%2Ftest%2Fui%2Fgenerator%2Fissue-88653.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgenerator%2Fissue-88653.stderr?ref=4d2e9651060c984d18cf8863ceacf215ec00446c", "patch": "@@ -1,18 +1,11 @@\n error[E0631]: type mismatch in generator arguments\n   --> $DIR/issue-88653.rs:9:5\n    |\n-LL |       |bar| {\n-   |       ^----\n-   |       |\n-   |  _____found signature of `fn(bool) -> _`\n-   | |\n-LL | |\n-LL | |\n-LL | |\n-...  |\n-LL | |         }\n-LL | |     }\n-   | |_____^ expected signature of `fn((bool,)) -> _`\n+LL |     |bar| {\n+   |     ^^^^^\n+   |     |\n+   |     expected signature of `fn((bool,)) -> _`\n+   |     found signature of `fn(bool) -> _`\n \n error: aborting due to previous error\n "}]}