{"sha": "0d7d3ec9d2b314af0188a820c58fbd95ee905793", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBkN2QzZWM5ZDJiMzE0YWYwMTg4YTgyMGM1OGZiZDk1ZWU5MDU3OTM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-05-02T20:47:32Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-05-02T20:47:32Z"}, "message": "Auto merge of #25058 - steveklabnik:gh25008, r=huonw\n\nFixes #25008", "tree": {"sha": "4e6ebc84d34930b1ee4a5a830bbc9d5f43689ffc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4e6ebc84d34930b1ee4a5a830bbc9d5f43689ffc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0d7d3ec9d2b314af0188a820c58fbd95ee905793", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0d7d3ec9d2b314af0188a820c58fbd95ee905793", "html_url": "https://github.com/rust-lang/rust/commit/0d7d3ec9d2b314af0188a820c58fbd95ee905793", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0d7d3ec9d2b314af0188a820c58fbd95ee905793/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5574029b68e4a66864c4eaff8553cc8086117d56", "url": "https://api.github.com/repos/rust-lang/rust/commits/5574029b68e4a66864c4eaff8553cc8086117d56", "html_url": "https://github.com/rust-lang/rust/commit/5574029b68e4a66864c4eaff8553cc8086117d56"}, {"sha": "df18642b1ad80369cefc0cbe626e5b0096654938", "url": "https://api.github.com/repos/rust-lang/rust/commits/df18642b1ad80369cefc0cbe626e5b0096654938", "html_url": "https://github.com/rust-lang/rust/commit/df18642b1ad80369cefc0cbe626e5b0096654938"}], "stats": {"total": 34, "additions": 31, "deletions": 3}, "files": [{"sha": "266c1cafdee57035e9920785e79f1b54107a9cd7", "filename": "src/doc/trpl/patterns.md", "status": "modified", "additions": 31, "deletions": 3, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/0d7d3ec9d2b314af0188a820c58fbd95ee905793/src%2Fdoc%2Ftrpl%2Fpatterns.md", "raw_url": "https://github.com/rust-lang/rust/raw/0d7d3ec9d2b314af0188a820c58fbd95ee905793/src%2Fdoc%2Ftrpl%2Fpatterns.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Fpatterns.md?ref=0d7d3ec9d2b314af0188a820c58fbd95ee905793", "patch": "@@ -70,8 +70,7 @@ This prints `something else`\n \n # Bindings\n \n-If you\u2019re matching multiple things, via a `|` or a `...`, you can bind\n-the value to a name with `@`:\n+You can bind values to names with `@`:\n \n ```rust\n let x = 1;\n@@ -82,7 +81,36 @@ match x {\n }\n ```\n \n-This prints `got a range element 1`.\n+This prints `got a range element 1`. This is useful when you want to\n+do a complicated match of part of a data structure:\n+\n+```rust\n+#[derive(Debug)]\n+struct Person {\n+    name: Option<String>,\n+}\n+\n+let name = \"Steve\".to_string();\n+let mut x: Option<Person> = Some(Person { name: Some(name) });\n+match x {\n+    Some(Person { name: ref a @ Some(_), .. }) => println!(\"{:?}\", a),\n+    _ => {}\n+}\n+```\n+\n+This prints `Some(\"Steve\")`: We\u2019ve bound the inner `name` to `a`.\n+\n+If you use `@` with `|`, you need to make sure the name is bound in each part\n+of the pattern:\n+\n+```rust\n+let x = 5;\n+\n+match x {\n+    e @ 1 ... 5 | e @ 8 ... 10 => println!(\"got a range element {}\", e),\n+    _ => println!(\"anything\"),\n+}\n+```\n \n # Ignoring variants\n "}]}