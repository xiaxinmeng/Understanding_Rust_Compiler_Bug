{"sha": "8d2eb5971a9e91a9c994768055cb9fa192868699", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhkMmViNTk3MWE5ZTkxYTljOTk0NzY4MDU1Y2I5ZmExOTI4Njg2OTk=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-07-31T04:33:34Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-07-31T04:33:34Z"}, "message": "Auto merge of #27382 - brson:gate-assoc-type, r=alexcrichton\n\nThere are still problems in both the design and implementation of this, so we don't want it landing in 1.2.\r\n\r\ncc @arielb1 @nikomatsakis \r\n\r\ncc #27364\r\n\r\nr? @alexcrichton", "tree": {"sha": "f338bad4a0cd40031f3f9db0020875819278a922", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f338bad4a0cd40031f3f9db0020875819278a922"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8d2eb5971a9e91a9c994768055cb9fa192868699", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8d2eb5971a9e91a9c994768055cb9fa192868699", "html_url": "https://github.com/rust-lang/rust/commit/8d2eb5971a9e91a9c994768055cb9fa192868699", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8d2eb5971a9e91a9c994768055cb9fa192868699/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cb250b722e8c9c8b2e6dff249ce8e027dce2cd65", "url": "https://api.github.com/repos/rust-lang/rust/commits/cb250b722e8c9c8b2e6dff249ce8e027dce2cd65", "html_url": "https://github.com/rust-lang/rust/commit/cb250b722e8c9c8b2e6dff249ce8e027dce2cd65"}, {"sha": "4aaf1beffbcf531990168d857df8f9cf62ca1f6b", "url": "https://api.github.com/repos/rust-lang/rust/commits/4aaf1beffbcf531990168d857df8f9cf62ca1f6b", "html_url": "https://github.com/rust-lang/rust/commit/4aaf1beffbcf531990168d857df8f9cf62ca1f6b"}], "stats": {"total": 42, "additions": 40, "deletions": 2}, "files": [{"sha": "238644c4a264a739f5e41e9c1ffa4ed4ef5dd320", "filename": "src/libcore/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Flibcore%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Flibcore%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Flib.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -65,6 +65,7 @@\n #![allow(raw_pointer_derive)]\n #![deny(missing_docs)]\n \n+#![feature(associated_type_defaults)]\n #![feature(intrinsics)]\n #![feature(lang_items)]\n #![feature(on_unimplemented)]"}, {"sha": "945e457a77b7313dc55259e81387397ac850def0", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -163,8 +163,12 @@ const KNOWN_FEATURES: &'static [(&'static str, &'static str, Status)] = &[\n \n     // Allows the definition recursive static items.\n     (\"static_recursion\", \"1.3.0\", Active),\n-// Allows default type parameters to influence type inference.\n-    (\"default_type_parameter_fallback\", \"1.3.0\", Active)\n+\n+    // Allows default type parameters to influence type inference.\n+    (\"default_type_parameter_fallback\", \"1.3.0\", Active),\n+\n+    // Allows associated type defaults\n+    (\"associated_type_defaults\", \"1.2.0\", Active),\n ];\n // (changing above list without updating src/doc/reference.md makes @cmr sad)\n \n@@ -762,6 +766,10 @@ impl<'a, 'v> Visitor<'v> for PostExpansionVisitor<'a> {\n                     self.gate_feature(\"const_fn\", ti.span, \"const fn is unstable\");\n                 }\n             }\n+            ast::TypeTraitItem(_, Some(_)) => {\n+                self.gate_feature(\"associated_type_defaults\", ti.span,\n+                                  \"associated type defaults are unstable\");\n+            }\n             _ => {}\n         }\n         visit::walk_trait_item(self, ti);"}, {"sha": "43852a4e793f363a6477cb8dc7df1caf906c2a65", "filename": "src/test/auxiliary/xcrate_associated_type_defaults.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fauxiliary%2Fxcrate_associated_type_defaults.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fauxiliary%2Fxcrate_associated_type_defaults.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fxcrate_associated_type_defaults.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(associated_type_defaults)]\n+\n pub trait Foo {\n     type Input = usize;\n     fn bar(&self, _: Self::Input) {}"}, {"sha": "19f13f5fc2f2ba7bd5da444ed4a8adf4fe469014", "filename": "src/test/compile-fail/associated-types-overridden-default.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Fassociated-types-overridden-default.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Fassociated-types-overridden-default.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fassociated-types-overridden-default.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n #![feature(associated_consts)]\n+#![feature(associated_type_defaults)]\n \n pub trait Tr {\n     type Assoc = u8;"}, {"sha": "fc4871a712dffc64519885c861f8682253746307", "filename": "src/test/compile-fail/feature-gate-assoc-type-defaults.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Ffeature-gate-assoc-type-defaults.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Ffeature-gate-assoc-type-defaults.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-assoc-type-defaults.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+trait Foo {\n+    type Bar = u8; //~ ERROR associated type defaults are unstable\n+}\n+\n+fn main() {}"}, {"sha": "2d219177a80d400a0f479e22a3a01d8cd5a7ad2d", "filename": "src/test/compile-fail/issue-23073.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Fissue-23073.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Fissue-23073.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-23073.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(associated_type_defaults)]\n+\n trait Foo { type T; }\n trait Bar {\n     type Foo: Foo;"}, {"sha": "a3422d859c61fa67bc0dcef7f883a601cad78750", "filename": "src/test/compile-fail/issue-23595-1.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Fissue-23595-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Fissue-23595-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-23595-1.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(associated_type_defaults)]\n+\n use std::ops::{Index};\n \n trait Hierarchy {"}, {"sha": "6a3ce03fce5e096358d4526584653636b89b99a9", "filename": "src/test/compile-fail/issue-23595-2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Fissue-23595-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Fissue-23595-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-23595-2.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(associated_type_defaults)]\n+\n pub struct C<AType: A> {a:AType}\n \n pub trait A {"}, {"sha": "c98d7083743b8179e7b7cd7f980fee46466ba72e", "filename": "src/test/compile-fail/lint-missing-doc.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Flint-missing-doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Fcompile-fail%2Flint-missing-doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-missing-doc.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -12,6 +12,7 @@\n // injected intrinsics by the compiler.\n #![deny(missing_docs)]\n #![allow(dead_code)]\n+#![feature(associated_type_defaults)]\n \n //! Some garbage docs for the crate here\n #![doc=\"More garbage\"]"}, {"sha": "3e6c72c993a0aa5e480919674aff6b4b0cdc62db", "filename": "src/test/run-pass/default-associated-types.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Frun-pass%2Fdefault-associated-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Frun-pass%2Fdefault-associated-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fdefault-associated-types.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(associated_type_defaults)]\n+\n trait Foo<T> {\n     type Out = T;\n     fn foo(&self) -> Self::Out;"}, {"sha": "381df7c5d5938e4222e0ca30a2c0949209ba5f37", "filename": "src/test/run-pass/issue-25339.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Frun-pass%2Fissue-25339.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d2eb5971a9e91a9c994768055cb9fa192868699/src%2Ftest%2Frun-pass%2Fissue-25339.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-25339.rs?ref=8d2eb5971a9e91a9c994768055cb9fa192868699", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(associated_type_defaults)]\n+\n use std::marker::PhantomData;\n \n pub trait Routing<I> {"}]}