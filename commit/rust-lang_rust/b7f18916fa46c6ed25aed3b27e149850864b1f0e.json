{"sha": "b7f18916fa46c6ed25aed3b27e149850864b1f0e", "node_id": "C_kwDOAAsO6NoAKGI3ZjE4OTE2ZmE0NmM2ZWQyNWFlZDNiMjdlMTQ5ODUwODY0YjFmMGU", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2021-11-17T06:39:21Z"}, "committer": {"name": "flip1995", "email": "philipp.krones@embecosm.com", "date": "2021-11-18T16:37:02Z"}, "message": "Pluralize disallowed_type lint\n\nThis was brought up in [Zulip] and is also mentioned in the lint naming\nconventions. Since this is still a nursery lint, I think there shouldn't\nbe any problem in renaming it.\n\n[Zulip]: https://rust-lang.zulipchat.com/#narrow/stream/257328-clippy/topic/disallow_type.20vs.20disallowed-types", "tree": {"sha": "365d60af0ebd48d5fbd60e1dc8e4f0ebb65ac53e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/365d60af0ebd48d5fbd60e1dc8e4f0ebb65ac53e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b7f18916fa46c6ed25aed3b27e149850864b1f0e", "comment_count": 0, "verification": {"verified": false, "reason": "bad_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEij1UXJ/PQTcb99vTHKDfKvWdaKUFAmGWgTIACgkQHKDfKvWd\naKXW3g//XoeLiVOdtVxyi8lbMYCMq2MHWVwHIctwJserFH343qipjzf/42IWcULS\nbp26ab4INanlXA18VISyBY4bf+QbD32ZKv45O/A2DceqfoE17lWb7PnT6BptUKsn\n2BcRFnqZ2pcKPbnqD4wJlGWKb6XVDjVvcaRRZPS1ID/P+/eveAlX2gPneOcaP3be\npNtB72Bb+MXBNrZG+mFZ96mvf0cJh4z9K9fB5MsjnT2+rSpBFguFOwz7fi9nkgh9\nwtnc1AAlR8o4Z1Ztty1bjGsJXZ+XXGPtCfcUgDlMHxICDJRPtnXnxU+zk/Fgbb6e\n+Va9yugWIAjmfF7xLA9dYo0MMT0siBeLLbJvC2LY8h94wJf1l0v4vPxO+bG7Ne+L\nLT7TrCvIUjllIfTdPv3EDCmYobIendoXLHaAClcbKf6bRWAtfqiwniyeAnhg33hb\n2Ie+TnWcVS1aRwkH0bDJoY/zcivuLl02xRxosVgzvjNzdkRF8n/t5N6lVPq8YMI5\nU1Grr1SnQxl0lM0Os4EMkWnPaDqLSjNclP3ssQC3cGlW/zCry3X6u+wVhCb6q7yG\nGOIdSk/JceAHgRtfmBvgJ/Tbg1ef60otojO/3l5qqMzg/bbJxh7ifaB7uDUIerS5\ns4Y0pthWRmHoMmUYbCNf/TNV7LeOYnzQQwqvL0xOEcEksm4T8i4=\n=z+Ii\n-----END PGP SIGNATURE-----", "payload": "tree 365d60af0ebd48d5fbd60e1dc8e4f0ebb65ac53e\nparent 8dd1bce2632ef2d26938abc30b726e29abf03a49\nauthor Philipp Hansch <dev@phansch.net> 1637131161 +0100\ncommitter flip1995 <philipp.krones@embecosm.com> 1637253422 +0100\n\nPluralize disallowed_type lint\n\nThis was brought up in [Zulip] and is also mentioned in the lint naming\nconventions. Since this is still a nursery lint, I think there shouldn't\nbe any problem in renaming it.\n\n[Zulip]: https://rust-lang.zulipchat.com/#narrow/stream/257328-clippy/topic/disallow_type.20vs.20disallowed-types\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b7f18916fa46c6ed25aed3b27e149850864b1f0e", "html_url": "https://github.com/rust-lang/rust/commit/b7f18916fa46c6ed25aed3b27e149850864b1f0e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b7f18916fa46c6ed25aed3b27e149850864b1f0e/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8dd1bce2632ef2d26938abc30b726e29abf03a49", "url": "https://api.github.com/repos/rust-lang/rust/commits/8dd1bce2632ef2d26938abc30b726e29abf03a49", "html_url": "https://github.com/rust-lang/rust/commit/8dd1bce2632ef2d26938abc30b726e29abf03a49"}], "stats": {"total": 109, "additions": 60, "deletions": 49}, "files": [{"sha": "e21e550ede2177b0217f4e2bc7cab1522dc08700", "filename": "CHANGELOG.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -174,7 +174,7 @@ Current stable, released 2021-10-21\n \n * [`needless_continue`]: Now also lints in `loop { continue; }` case\n   [#7477](https://github.com/rust-lang/rust-clippy/pull/7477)\n-* [`disallowed_type`]: Now also primitive types can be disallowed\n+* [`disallowed_types`]: Now also primitive types can be disallowed\n   [#7488](https://github.com/rust-lang/rust-clippy/pull/7488)\n * [`manual_swap`]: Now also lints on xor swaps\n   [#7506](https://github.com/rust-lang/rust-clippy/pull/7506)\n@@ -248,7 +248,7 @@ Released 2021-09-09\n   [#7403](https://github.com/rust-lang/rust-clippy/pull/7403)\n * [`disallowed_script_idents`]\n   [#7400](https://github.com/rust-lang/rust-clippy/pull/7400)\n-* [`disallowed_type`]\n+* [`disallowed_types`]\n   [#7315](https://github.com/rust-lang/rust-clippy/pull/7315)\n * [`missing_enforced_import_renames`]\n   [#7300](https://github.com/rust-lang/rust-clippy/pull/7300)\n@@ -294,7 +294,7 @@ Released 2021-09-09\n   [#7379](https://github.com/rust-lang/rust-clippy/pull/7379)\n * [`redundant_closure`]: Suggests `&mut` for `FnMut`\n   [#7437](https://github.com/rust-lang/rust-clippy/pull/7437)\n-* [`disallowed_method`], [`disallowed_type`]: The configuration values `disallowed-method` and `disallowed-type`\n+* [`disallowed_method`], [`disallowed_types`]: The configuration values `disallowed-method` and `disallowed-type`\n   no longer require fully qualified paths\n   [#7345](https://github.com/rust-lang/rust-clippy/pull/7345)\n * [`zst_offset`]: Fixed lint invocation after it was accidentally suppressed\n@@ -2823,7 +2823,7 @@ Released 2018-09-13\n [`derive_ord_xor_partial_ord`]: https://rust-lang.github.io/rust-clippy/master/index.html#derive_ord_xor_partial_ord\n [`disallowed_method`]: https://rust-lang.github.io/rust-clippy/master/index.html#disallowed_method\n [`disallowed_script_idents`]: https://rust-lang.github.io/rust-clippy/master/index.html#disallowed_script_idents\n-[`disallowed_type`]: https://rust-lang.github.io/rust-clippy/master/index.html#disallowed_type\n+[`disallowed_types`]: https://rust-lang.github.io/rust-clippy/master/index.html#disallowed_types\n [`diverging_sub_expression`]: https://rust-lang.github.io/rust-clippy/master/index.html#diverging_sub_expression\n [`doc_markdown`]: https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown\n [`double_comparisons`]: https://rust-lang.github.io/rust-clippy/master/index.html#double_comparisons"}, {"sha": "eaed40327136f75636b013e37ee400b7a9318790", "filename": "clippy_lints/src/disallowed_type.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/clippy_lints%2Fsrc%2Fdisallowed_type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/clippy_lints%2Fsrc%2Fdisallowed_type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdisallowed_type.rs?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -43,18 +43,18 @@ declare_clippy_lint! {\n     /// use std::collections::HashMap;\n     /// ```\n     #[clippy::version = \"1.55.0\"]\n-    pub DISALLOWED_TYPE,\n+    pub DISALLOWED_TYPES,\n     nursery,\n-    \"use of a disallowed type\"\n+    \"use of disallowed types\"\n }\n #[derive(Clone, Debug)]\n-pub struct DisallowedType {\n+pub struct DisallowedTypes {\n     conf_disallowed: Vec<conf::DisallowedType>,\n     def_ids: FxHashMap<DefId, Option<String>>,\n     prim_tys: FxHashMap<PrimTy, Option<String>>,\n }\n \n-impl DisallowedType {\n+impl DisallowedTypes {\n     pub fn new(conf_disallowed: Vec<conf::DisallowedType>) -> Self {\n         Self {\n             conf_disallowed,\n@@ -80,9 +80,9 @@ impl DisallowedType {\n     }\n }\n \n-impl_lint_pass!(DisallowedType => [DISALLOWED_TYPE]);\n+impl_lint_pass!(DisallowedTypes => [DISALLOWED_TYPES]);\n \n-impl<'tcx> LateLintPass<'tcx> for DisallowedType {\n+impl<'tcx> LateLintPass<'tcx> for DisallowedTypes {\n     fn check_crate(&mut self, cx: &LateContext<'_>) {\n         for conf in &self.conf_disallowed {\n             let (path, reason) = match conf {\n@@ -125,7 +125,7 @@ impl<'tcx> LateLintPass<'tcx> for DisallowedType {\n fn emit(cx: &LateContext<'_>, name: &str, span: Span, reason: Option<&str>) {\n     span_lint_and_then(\n         cx,\n-        DISALLOWED_TYPE,\n+        DISALLOWED_TYPES,\n         span,\n         &format!(\"`{}` is not allowed according to config\", name),\n         |diag| {"}, {"sha": "4a4fd76da07d5cb2841b53db63a093589bdd3a5b", "filename": "clippy_lints/src/lib.register_lints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/clippy_lints%2Fsrc%2Flib.register_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/clippy_lints%2Fsrc%2Flib.register_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.register_lints.rs?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -99,7 +99,7 @@ store.register_lints(&[\n     derive::UNSAFE_DERIVE_DESERIALIZE,\n     disallowed_method::DISALLOWED_METHOD,\n     disallowed_script_idents::DISALLOWED_SCRIPT_IDENTS,\n-    disallowed_type::DISALLOWED_TYPE,\n+    disallowed_type::DISALLOWED_TYPES,\n     doc::DOC_MARKDOWN,\n     doc::MISSING_ERRORS_DOC,\n     doc::MISSING_PANICS_DOC,"}, {"sha": "3adb9881a7133d7ab9aa116c88a047352c6c2f29", "filename": "clippy_lints/src/lib.register_nursery.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/clippy_lints%2Fsrc%2Flib.register_nursery.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/clippy_lints%2Fsrc%2Flib.register_nursery.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.register_nursery.rs?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -7,7 +7,7 @@ store.register_group(true, \"clippy::nursery\", Some(\"clippy_nursery\"), vec![\n     LintId::of(cognitive_complexity::COGNITIVE_COMPLEXITY),\n     LintId::of(copies::BRANCHES_SHARING_CODE),\n     LintId::of(disallowed_method::DISALLOWED_METHOD),\n-    LintId::of(disallowed_type::DISALLOWED_TYPE),\n+    LintId::of(disallowed_type::DISALLOWED_TYPES),\n     LintId::of(equatable_if_let::EQUATABLE_IF_LET),\n     LintId::of(fallible_impl_from::FALLIBLE_IMPL_FROM),\n     LintId::of(floating_point_arithmetic::IMPRECISE_FLOPS),"}, {"sha": "d65ef3b87281bbeda1dba70e3fcf574c8bafda38", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -827,7 +827,7 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n     store.register_early_pass(move || Box::new(module_style::ModStyle));\n     store.register_late_pass(|| Box::new(unused_async::UnusedAsync));\n     let disallowed_types = conf.disallowed_types.clone();\n-    store.register_late_pass(move || Box::new(disallowed_type::DisallowedType::new(disallowed_types.clone())));\n+    store.register_late_pass(move || Box::new(disallowed_type::DisallowedTypes::new(disallowed_types.clone())));\n     let import_renames = conf.enforced_import_renames.clone();\n     store.register_late_pass(move || {\n         Box::new(missing_enforced_import_rename::ImportRename::new(\n@@ -924,6 +924,7 @@ pub fn register_renamed(ls: &mut rustc_lint::LintStore) {\n     ls.register_renamed(\"clippy::zero_width_space\", \"clippy::invisible_characters\");\n     ls.register_renamed(\"clippy::single_char_push_str\", \"clippy::single_char_add_str\");\n     ls.register_renamed(\"clippy::if_let_some_result\", \"clippy::match_result_ok\");\n+    ls.register_renamed(\"clippy::disallowed_type\", \"clippy::disallowed_types\");\n \n     // uplifted lints\n     ls.register_renamed(\"clippy::invalid_ref\", \"invalid_value\");"}, {"sha": "18e28cc4ca31f800a4d9ffca8d2575fb790fb14e", "filename": "clippy_lints/src/utils/conf.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/clippy_lints%2Fsrc%2Futils%2Fconf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/clippy_lints%2Fsrc%2Futils%2Fconf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fconf.rs?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -23,7 +23,7 @@ pub enum DisallowedMethod {\n     WithReason { path: String, reason: Option<String> },\n }\n \n-/// A single disallowed type, used by the `DISALLOWED_TYPE` lint.\n+/// A single disallowed type, used by the `DISALLOWED_TYPES` lint.\n #[derive(Clone, Debug, Deserialize)]\n #[serde(untagged)]\n pub enum DisallowedType {\n@@ -260,7 +260,7 @@ define_Conf! {\n     ///\n     /// The list of disallowed methods, written as fully qualified paths.\n     (disallowed_methods: Vec<crate::utils::conf::DisallowedMethod> = Vec::new()),\n-    /// Lint: DISALLOWED_TYPE.\n+    /// Lint: DISALLOWED_TYPES.\n     ///\n     /// The list of disallowed types, written as fully qualified paths.\n     (disallowed_types: Vec<crate::utils::conf::DisallowedType> = Vec::new()),"}, {"sha": "7f28efd676f2c786605844e52b4019af8a61a16a", "filename": "tests/ui-toml/toml_disallowed_type/conf_disallowed_type.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/tests%2Fui-toml%2Ftoml_disallowed_type%2Fconf_disallowed_type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/tests%2Fui-toml%2Ftoml_disallowed_type%2Fconf_disallowed_type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Ftoml_disallowed_type%2Fconf_disallowed_type.rs?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -1,4 +1,4 @@\n-#![warn(clippy::disallowed_type)]\n+#![warn(clippy::disallowed_types)]\n \n extern crate quote;\n extern crate syn;"}, {"sha": "25efd62d0ec73ebd849f1ca18b42bd6462957db1", "filename": "tests/ui-toml/toml_disallowed_type/conf_disallowed_type.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/tests%2Fui-toml%2Ftoml_disallowed_type%2Fconf_disallowed_type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/tests%2Fui-toml%2Ftoml_disallowed_type%2Fconf_disallowed_type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Ftoml_disallowed_type%2Fconf_disallowed_type.stderr?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -4,7 +4,7 @@ error: `std::sync::atomic::AtomicU32` is not allowed according to config\n LL | use std::sync::atomic::AtomicU32;\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n-   = note: `-D clippy::disallowed-type` implied by `-D warnings`\n+   = note: `-D clippy::disallowed-types` implied by `-D warnings`\n \n error: `std::time::Instant` is not allowed according to config\n   --> $DIR/conf_disallowed_type.rs:8:1"}, {"sha": "2517eeeaa0178d8f642fa71e5241d26c3412f3de", "filename": "tests/ui/rename.fixed", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/tests%2Fui%2Frename.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/tests%2Fui%2Frename.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.fixed?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -17,6 +17,7 @@\n #![allow(clippy::invisible_characters)]\n #![allow(clippy::single_char_add_str)]\n #![allow(clippy::match_result_ok)]\n+#![allow(clippy::disallowed_types)]\n // uplifted lints\n #![allow(invalid_value)]\n #![allow(array_into_iter)]\n@@ -49,6 +50,7 @@\n #![warn(clippy::invisible_characters)]\n #![warn(clippy::single_char_add_str)]\n #![warn(clippy::match_result_ok)]\n+#![warn(clippy::disallowed_types)]\n // uplifted lints\n #![warn(invalid_value)]\n #![warn(array_into_iter)]"}, {"sha": "7205ee0da8f33fade7c5ad0068eaa4690813149b", "filename": "tests/ui/rename.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/tests%2Fui%2Frename.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/tests%2Fui%2Frename.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.rs?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -17,6 +17,7 @@\n #![allow(clippy::invisible_characters)]\n #![allow(clippy::single_char_add_str)]\n #![allow(clippy::match_result_ok)]\n+#![allow(clippy::disallowed_types)]\n // uplifted lints\n #![allow(invalid_value)]\n #![allow(array_into_iter)]\n@@ -49,6 +50,7 @@\n #![warn(clippy::zero_width_space)]\n #![warn(clippy::single_char_push_str)]\n #![warn(clippy::if_let_some_result)]\n+#![warn(clippy::disallowed_type)]\n // uplifted lints\n #![warn(clippy::invalid_ref)]\n #![warn(clippy::into_iter_on_array)]"}, {"sha": "1449112996f3592d63c436786193d831a4825c87", "filename": "tests/ui/rename.stderr", "status": "modified", "additions": 37, "deletions": 31, "changes": 68, "blob_url": "https://github.com/rust-lang/rust/blob/b7f18916fa46c6ed25aed3b27e149850864b1f0e/tests%2Fui%2Frename.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b7f18916fa46c6ed25aed3b27e149850864b1f0e/tests%2Fui%2Frename.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.stderr?ref=b7f18916fa46c6ed25aed3b27e149850864b1f0e", "patch": "@@ -1,184 +1,190 @@\n error: lint `clippy::stutter` has been renamed to `clippy::module_name_repetitions`\n-  --> $DIR/rename.rs:31:9\n+  --> $DIR/rename.rs:32:9\n    |\n LL | #![warn(clippy::stutter)]\n    |         ^^^^^^^^^^^^^^^ help: use the new name: `clippy::module_name_repetitions`\n    |\n    = note: `-D renamed-and-removed-lints` implied by `-D warnings`\n \n error: lint `clippy::new_without_default_derive` has been renamed to `clippy::new_without_default`\n-  --> $DIR/rename.rs:32:9\n+  --> $DIR/rename.rs:33:9\n    |\n LL | #![warn(clippy::new_without_default_derive)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::new_without_default`\n \n error: lint `clippy::const_static_lifetime` has been renamed to `clippy::redundant_static_lifetimes`\n-  --> $DIR/rename.rs:33:9\n+  --> $DIR/rename.rs:34:9\n    |\n LL | #![warn(clippy::const_static_lifetime)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::redundant_static_lifetimes`\n \n error: lint `clippy::cyclomatic_complexity` has been renamed to `clippy::cognitive_complexity`\n-  --> $DIR/rename.rs:34:9\n+  --> $DIR/rename.rs:35:9\n    |\n LL | #![warn(clippy::cyclomatic_complexity)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::cognitive_complexity`\n \n error: lint `clippy::option_and_then_some` has been renamed to `clippy::bind_instead_of_map`\n-  --> $DIR/rename.rs:35:9\n+  --> $DIR/rename.rs:36:9\n    |\n LL | #![warn(clippy::option_and_then_some)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::bind_instead_of_map`\n \n error: lint `clippy::box_vec` has been renamed to `clippy::box_collection`\n-  --> $DIR/rename.rs:36:9\n+  --> $DIR/rename.rs:37:9\n    |\n LL | #![warn(clippy::box_vec)]\n    |         ^^^^^^^^^^^^^^^ help: use the new name: `clippy::box_collection`\n \n error: lint `clippy::block_in_if_condition_expr` has been renamed to `clippy::blocks_in_if_conditions`\n-  --> $DIR/rename.rs:37:9\n+  --> $DIR/rename.rs:38:9\n    |\n LL | #![warn(clippy::block_in_if_condition_expr)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::blocks_in_if_conditions`\n \n error: lint `clippy::block_in_if_condition_stmt` has been renamed to `clippy::blocks_in_if_conditions`\n-  --> $DIR/rename.rs:38:9\n+  --> $DIR/rename.rs:39:9\n    |\n LL | #![warn(clippy::block_in_if_condition_stmt)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::blocks_in_if_conditions`\n \n error: lint `clippy::option_map_unwrap_or` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:39:9\n+  --> $DIR/rename.rs:40:9\n    |\n LL | #![warn(clippy::option_map_unwrap_or)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::option_map_unwrap_or_else` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:40:9\n+  --> $DIR/rename.rs:41:9\n    |\n LL | #![warn(clippy::option_map_unwrap_or_else)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::result_map_unwrap_or_else` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:41:9\n+  --> $DIR/rename.rs:42:9\n    |\n LL | #![warn(clippy::result_map_unwrap_or_else)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::option_unwrap_used` has been renamed to `clippy::unwrap_used`\n-  --> $DIR/rename.rs:42:9\n+  --> $DIR/rename.rs:43:9\n    |\n LL | #![warn(clippy::option_unwrap_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::unwrap_used`\n \n error: lint `clippy::result_unwrap_used` has been renamed to `clippy::unwrap_used`\n-  --> $DIR/rename.rs:43:9\n+  --> $DIR/rename.rs:44:9\n    |\n LL | #![warn(clippy::result_unwrap_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::unwrap_used`\n \n error: lint `clippy::option_expect_used` has been renamed to `clippy::expect_used`\n-  --> $DIR/rename.rs:44:9\n+  --> $DIR/rename.rs:45:9\n    |\n LL | #![warn(clippy::option_expect_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::expect_used`\n \n error: lint `clippy::result_expect_used` has been renamed to `clippy::expect_used`\n-  --> $DIR/rename.rs:45:9\n+  --> $DIR/rename.rs:46:9\n    |\n LL | #![warn(clippy::result_expect_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::expect_used`\n \n error: lint `clippy::for_loop_over_option` has been renamed to `clippy::for_loops_over_fallibles`\n-  --> $DIR/rename.rs:46:9\n+  --> $DIR/rename.rs:47:9\n    |\n LL | #![warn(clippy::for_loop_over_option)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::for_loops_over_fallibles`\n \n error: lint `clippy::for_loop_over_result` has been renamed to `clippy::for_loops_over_fallibles`\n-  --> $DIR/rename.rs:47:9\n+  --> $DIR/rename.rs:48:9\n    |\n LL | #![warn(clippy::for_loop_over_result)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::for_loops_over_fallibles`\n \n error: lint `clippy::identity_conversion` has been renamed to `clippy::useless_conversion`\n-  --> $DIR/rename.rs:48:9\n+  --> $DIR/rename.rs:49:9\n    |\n LL | #![warn(clippy::identity_conversion)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::useless_conversion`\n \n error: lint `clippy::zero_width_space` has been renamed to `clippy::invisible_characters`\n-  --> $DIR/rename.rs:49:9\n+  --> $DIR/rename.rs:50:9\n    |\n LL | #![warn(clippy::zero_width_space)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::invisible_characters`\n \n error: lint `clippy::single_char_push_str` has been renamed to `clippy::single_char_add_str`\n-  --> $DIR/rename.rs:50:9\n+  --> $DIR/rename.rs:51:9\n    |\n LL | #![warn(clippy::single_char_push_str)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::single_char_add_str`\n \n error: lint `clippy::if_let_some_result` has been renamed to `clippy::match_result_ok`\n-  --> $DIR/rename.rs:51:9\n+  --> $DIR/rename.rs:52:9\n    |\n LL | #![warn(clippy::if_let_some_result)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::match_result_ok`\n \n-error: lint `clippy::invalid_ref` has been renamed to `invalid_value`\n+error: lint `clippy::disallowed_type` has been renamed to `clippy::disallowed_types`\n   --> $DIR/rename.rs:53:9\n    |\n+LL | #![warn(clippy::disallowed_type)]\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_types`\n+\n+error: lint `clippy::invalid_ref` has been renamed to `invalid_value`\n+  --> $DIR/rename.rs:55:9\n+   |\n LL | #![warn(clippy::invalid_ref)]\n    |         ^^^^^^^^^^^^^^^^^^^ help: use the new name: `invalid_value`\n \n error: lint `clippy::into_iter_on_array` has been renamed to `array_into_iter`\n-  --> $DIR/rename.rs:54:9\n+  --> $DIR/rename.rs:56:9\n    |\n LL | #![warn(clippy::into_iter_on_array)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `array_into_iter`\n \n error: lint `clippy::unused_label` has been renamed to `unused_labels`\n-  --> $DIR/rename.rs:55:9\n+  --> $DIR/rename.rs:57:9\n    |\n LL | #![warn(clippy::unused_label)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `unused_labels`\n \n error: lint `clippy::drop_bounds` has been renamed to `drop_bounds`\n-  --> $DIR/rename.rs:56:9\n+  --> $DIR/rename.rs:58:9\n    |\n LL | #![warn(clippy::drop_bounds)]\n    |         ^^^^^^^^^^^^^^^^^^^ help: use the new name: `drop_bounds`\n \n error: lint `clippy::temporary_cstring_as_ptr` has been renamed to `temporary_cstring_as_ptr`\n-  --> $DIR/rename.rs:57:9\n+  --> $DIR/rename.rs:59:9\n    |\n LL | #![warn(clippy::temporary_cstring_as_ptr)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `temporary_cstring_as_ptr`\n \n error: lint `clippy::panic_params` has been renamed to `non_fmt_panics`\n-  --> $DIR/rename.rs:58:9\n+  --> $DIR/rename.rs:60:9\n    |\n LL | #![warn(clippy::panic_params)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `non_fmt_panics`\n \n error: lint `clippy::unknown_clippy_lints` has been renamed to `unknown_lints`\n-  --> $DIR/rename.rs:59:9\n+  --> $DIR/rename.rs:61:9\n    |\n LL | #![warn(clippy::unknown_clippy_lints)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `unknown_lints`\n \n error: lint `clippy::invalid_atomic_ordering` has been renamed to `invalid_atomic_ordering`\n-  --> $DIR/rename.rs:60:9\n+  --> $DIR/rename.rs:62:9\n    |\n LL | #![warn(clippy::invalid_atomic_ordering)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `invalid_atomic_ordering`\n \n error: lint `clippy::mem_discriminant_non_enum` has been renamed to `enum_intrinsics_non_enums`\n-  --> $DIR/rename.rs:61:9\n+  --> $DIR/rename.rs:63:9\n    |\n LL | #![warn(clippy::mem_discriminant_non_enum)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `enum_intrinsics_non_enums`\n \n-error: aborting due to 30 previous errors\n+error: aborting due to 31 previous errors\n "}]}