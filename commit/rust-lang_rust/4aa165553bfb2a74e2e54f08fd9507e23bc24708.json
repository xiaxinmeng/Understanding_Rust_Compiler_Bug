{"sha": "4aa165553bfb2a74e2e54f08fd9507e23bc24708", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhYTE2NTU1M2JmYjJhNzRlMmU1NGYwOGZkOTUwN2UyM2JjMjQ3MDg=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-08-20T17:51:31Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-08-20T17:51:31Z"}, "message": "Move bump_dp, get_dp from rust_shape.cpp to rust_shape.h\n\nPut out the darwin fire for real", "tree": {"sha": "79e41ce628ecce56244648b7b2d27c7db4e4c3db", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/79e41ce628ecce56244648b7b2d27c7db4e4c3db"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4aa165553bfb2a74e2e54f08fd9507e23bc24708", "comment_count": 1, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4aa165553bfb2a74e2e54f08fd9507e23bc24708", "html_url": "https://github.com/rust-lang/rust/commit/4aa165553bfb2a74e2e54f08fd9507e23bc24708", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4aa165553bfb2a74e2e54f08fd9507e23bc24708/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6751d40c607c79dd81b4cbc5a07892271a128754", "url": "https://api.github.com/repos/rust-lang/rust/commits/6751d40c607c79dd81b4cbc5a07892271a128754", "html_url": "https://github.com/rust-lang/rust/commit/6751d40c607c79dd81b4cbc5a07892271a128754"}], "stats": {"total": 36, "additions": 18, "deletions": 18}, "files": [{"sha": "3a83f3d4c78b3f2b22a2b083f64fa0ea8c62d16b", "filename": "src/rt/rust_shape.cpp", "status": "modified", "additions": 0, "deletions": 18, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/4aa165553bfb2a74e2e54f08fd9507e23bc24708/src%2Frt%2Frust_shape.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/4aa165553bfb2a74e2e54f08fd9507e23bc24708/src%2Frt%2Frust_shape.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_shape.cpp?ref=4aa165553bfb2a74e2e54f08fd9507e23bc24708", "patch": "@@ -35,24 +35,6 @@ const uint8_t CMP_LE = 2u;\n \n namespace shape {\n \n-// NB: This function does not align.\n-template<typename T>\n-inline data_pair<T>\n-bump_dp(ptr_pair &ptr) {\n-    data_pair<T> data(*reinterpret_cast<T *>(ptr.fst),\n-                      *reinterpret_cast<T *>(ptr.snd));\n-    ptr += sizeof(T);\n-    return data;\n-}\n-\n-template<typename T>\n-inline data_pair<T>\n-get_dp(ptr_pair &ptr) {\n-    data_pair<T> data(*reinterpret_cast<T *>(ptr.fst),\n-                      *reinterpret_cast<T *>(ptr.snd));\n-    return data;\n-}\n-\n // A shape printer, useful for debugging\n \n void"}, {"sha": "2f1ba6c62abdd905c08019aefc9f163a01429d75", "filename": "src/rt/rust_shape.h", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/4aa165553bfb2a74e2e54f08fd9507e23bc24708/src%2Frt%2Frust_shape.h", "raw_url": "https://github.com/rust-lang/rust/raw/4aa165553bfb2a74e2e54f08fd9507e23bc24708/src%2Frt%2Frust_shape.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_shape.h?ref=4aa165553bfb2a74e2e54f08fd9507e23bc24708", "patch": "@@ -665,6 +665,24 @@ class ptr_pair {\n     }\n };\n \n+// NB: This function does not align.\n+template<typename T>\n+inline data_pair<T>\n+bump_dp(ptr_pair &ptr) {\n+    data_pair<T> data(*reinterpret_cast<T *>(ptr.fst),\n+                      *reinterpret_cast<T *>(ptr.snd));\n+    ptr += sizeof(T);\n+    return data;\n+}\n+\n+template<typename T>\n+inline data_pair<T>\n+get_dp(ptr_pair &ptr) {\n+    data_pair<T> data(*reinterpret_cast<T *>(ptr.fst),\n+                      *reinterpret_cast<T *>(ptr.snd));\n+    return data;\n+}\n+\n }   // end namespace shape\n \n "}]}