{"sha": "1d0acce984f9be9f085fd5ebcb44dd6988b1f295", "node_id": "C_kwDOAAsO6NoAKDFkMGFjY2U5ODRmOWJlOWYwODVmZDVlYmNiNDRkZDY5ODhiMWYyOTU", "commit": {"author": {"name": "bluthej", "email": "joffrey.bluthe@e.email", "date": "2023-03-21T21:09:26Z"}, "committer": {"name": "bluthej", "email": "joffrey.bluthe@e.email", "date": "2023-03-22T10:01:57Z"}, "message": "Add test for partial range", "tree": {"sha": "1f87723d582b6162919b5543c3693fa5e9246f20", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1f87723d582b6162919b5543c3693fa5e9246f20"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1d0acce984f9be9f085fd5ebcb44dd6988b1f295", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1d0acce984f9be9f085fd5ebcb44dd6988b1f295", "html_url": "https://github.com/rust-lang/rust/commit/1d0acce984f9be9f085fd5ebcb44dd6988b1f295", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1d0acce984f9be9f085fd5ebcb44dd6988b1f295/comments", "author": {"login": "bluthej", "id": 29771403, "node_id": "MDQ6VXNlcjI5NzcxNDAz", "avatar_url": "https://avatars.githubusercontent.com/u/29771403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluthej", "html_url": "https://github.com/bluthej", "followers_url": "https://api.github.com/users/bluthej/followers", "following_url": "https://api.github.com/users/bluthej/following{/other_user}", "gists_url": "https://api.github.com/users/bluthej/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluthej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluthej/subscriptions", "organizations_url": "https://api.github.com/users/bluthej/orgs", "repos_url": "https://api.github.com/users/bluthej/repos", "events_url": "https://api.github.com/users/bluthej/events{/privacy}", "received_events_url": "https://api.github.com/users/bluthej/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bluthej", "id": 29771403, "node_id": "MDQ6VXNlcjI5NzcxNDAz", "avatar_url": "https://avatars.githubusercontent.com/u/29771403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluthej", "html_url": "https://github.com/bluthej", "followers_url": "https://api.github.com/users/bluthej/followers", "following_url": "https://api.github.com/users/bluthej/following{/other_user}", "gists_url": "https://api.github.com/users/bluthej/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluthej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluthej/subscriptions", "organizations_url": "https://api.github.com/users/bluthej/orgs", "repos_url": "https://api.github.com/users/bluthej/repos", "events_url": "https://api.github.com/users/bluthej/events{/privacy}", "received_events_url": "https://api.github.com/users/bluthej/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c7e3e304d5d2ac82dbebe5f3d3e0611b407d81be", "url": "https://api.github.com/repos/rust-lang/rust/commits/c7e3e304d5d2ac82dbebe5f3d3e0611b407d81be", "html_url": "https://github.com/rust-lang/rust/commit/c7e3e304d5d2ac82dbebe5f3d3e0611b407d81be"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "28119deaebbe993ca0080df2a1f14940bd5a2a46", "filename": "tests/ui/clear_with_drain.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/1d0acce984f9be9f085fd5ebcb44dd6988b1f295/tests%2Fui%2Fclear_with_drain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d0acce984f9be9f085fd5ebcb44dd6988b1f295/tests%2Fui%2Fclear_with_drain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fclear_with_drain.rs?ref=1d0acce984f9be9f085fd5ebcb44dd6988b1f295", "patch": "@@ -25,4 +25,15 @@ fn range_to() {\n     v.drain(..v.len()); // Nay\n }\n \n+fn partial_drains() {\n+    let mut v = vec![1, 2, 3];\n+    v.drain(1..); // Yay\n+\n+    let mut v = vec![1, 2, 3];\n+    v.drain(..v.len() - 1); // Yay\n+\n+    let mut v = vec![1, 2, 3];\n+    v.drain(1..v.len() - 1); // Yay\n+}\n+\n fn main() {}"}]}