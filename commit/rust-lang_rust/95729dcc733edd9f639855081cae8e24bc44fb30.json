{"sha": "95729dcc733edd9f639855081cae8e24bc44fb30", "node_id": "C_kwDOAAsO6NoAKDk1NzI5ZGNjNzMzZWRkOWY2Mzk4NTUwODFjYWU4ZTI0YmM0NGZiMzA", "commit": {"author": {"name": "Nixon Enraght-Moony", "email": "nixon.emoony@gmail.com", "date": "2022-07-26T13:34:26Z"}, "committer": {"name": "Nixon Enraght-Moony", "email": "nixon.emoony@gmail.com", "date": "2022-07-30T19:13:40Z"}, "message": "check_missing_items.py: Don't overwrite `ty` in loop\n\nBecause python doesn't have lexical scope, loop variables\npersist after the loop is exited, set to the value of the last\nitteration\n\n```\n>>> i = 0\n>>> for i in range(10): pass\n...\n>>> i\n9\n```\n\nThis causes the `ty` variable to be changed, causing unexpected crashes on\n```\npub type RefFn<'a> = &'a dyn for<'b> Fn(&'a i32) -> i32;\n```", "tree": {"sha": "ab37c27e13c0c8e3505e06f9b4ee511b59e58879", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ab37c27e13c0c8e3505e06f9b4ee511b59e58879"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/95729dcc733edd9f639855081cae8e24bc44fb30", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/95729dcc733edd9f639855081cae8e24bc44fb30", "html_url": "https://github.com/rust-lang/rust/commit/95729dcc733edd9f639855081cae8e24bc44fb30", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/95729dcc733edd9f639855081cae8e24bc44fb30/comments", "author": {"login": "aDotInTheVoid", "id": 28781354, "node_id": "MDQ6VXNlcjI4NzgxMzU0", "avatar_url": "https://avatars.githubusercontent.com/u/28781354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aDotInTheVoid", "html_url": "https://github.com/aDotInTheVoid", "followers_url": "https://api.github.com/users/aDotInTheVoid/followers", "following_url": "https://api.github.com/users/aDotInTheVoid/following{/other_user}", "gists_url": "https://api.github.com/users/aDotInTheVoid/gists{/gist_id}", "starred_url": "https://api.github.com/users/aDotInTheVoid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aDotInTheVoid/subscriptions", "organizations_url": "https://api.github.com/users/aDotInTheVoid/orgs", "repos_url": "https://api.github.com/users/aDotInTheVoid/repos", "events_url": "https://api.github.com/users/aDotInTheVoid/events{/privacy}", "received_events_url": "https://api.github.com/users/aDotInTheVoid/received_events", "type": "User", "site_admin": false}, "committer": {"login": "aDotInTheVoid", "id": 28781354, "node_id": "MDQ6VXNlcjI4NzgxMzU0", "avatar_url": "https://avatars.githubusercontent.com/u/28781354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aDotInTheVoid", "html_url": "https://github.com/aDotInTheVoid", "followers_url": "https://api.github.com/users/aDotInTheVoid/followers", "following_url": "https://api.github.com/users/aDotInTheVoid/following{/other_user}", "gists_url": "https://api.github.com/users/aDotInTheVoid/gists{/gist_id}", "starred_url": "https://api.github.com/users/aDotInTheVoid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aDotInTheVoid/subscriptions", "organizations_url": "https://api.github.com/users/aDotInTheVoid/orgs", "repos_url": "https://api.github.com/users/aDotInTheVoid/repos", "events_url": "https://api.github.com/users/aDotInTheVoid/events{/privacy}", "received_events_url": "https://api.github.com/users/aDotInTheVoid/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1202bbaf48a0a919a2e0cfd8b7dce97e8fc3030d", "url": "https://api.github.com/repos/rust-lang/rust/commits/1202bbaf48a0a919a2e0cfd8b7dce97e8fc3030d", "html_url": "https://github.com/rust-lang/rust/commit/1202bbaf48a0a919a2e0cfd8b7dce97e8fc3030d"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "a705e2384959f1b8ad56db2d1a2ce3d2e44d9fc7", "filename": "src/etc/check_missing_items.py", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/95729dcc733edd9f639855081cae8e24bc44fb30/src%2Fetc%2Fcheck_missing_items.py", "raw_url": "https://github.com/rust-lang/rust/raw/95729dcc733edd9f639855081cae8e24bc44fb30/src%2Fetc%2Fcheck_missing_items.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fcheck_missing_items.py?ref=95729dcc733edd9f639855081cae8e24bc44fb30", "patch": "@@ -88,8 +88,8 @@ def check_type(ty):\n                         for bound in binding[\"binding\"][\"constraint\"]:\n                             check_generic_bound(bound)\n             elif \"parenthesized\" in args:\n-                for ty in args[\"parenthesized\"][\"inputs\"]:\n-                    check_type(ty)\n+                for input_ty in args[\"parenthesized\"][\"inputs\"]:\n+                    check_type(input_ty)\n                 if args[\"parenthesized\"][\"output\"]:\n                     check_type(args[\"parenthesized\"][\"output\"])\n         if not valid_id(ty[\"inner\"][\"id\"]):"}]}