{"sha": "fdc6ca44c37e58be4064f44977515c66f4e07262", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkYzZjYTQ0YzM3ZTU4YmU0MDY0ZjQ0OTc3NTE1YzY2ZjRlMDcyNjI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-01-06T05:20:22Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-01-06T05:20:22Z"}, "message": "Auto merge of #47155 - nerd2:debuginfo_test_fix, r=alexcrichton\n\nRestore working debuginfo tests by trimming comments from non-header directive lines\n\nI noticed when adding a debuginfo test that nothing I did caused the test to fail. Tracing back this seems to have been caused by 3e6c83de1dc0a72df3663617d394a9e79641618d which broke parsing of the command/check lines, leaving all tests passing without any checking. This commit provides a basic (although still not very robust) restoration of tests and a should-fail test which checks the parser is running", "tree": {"sha": "434c2f0c9041b1c72f014228a57c0f7ae36bd28a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/434c2f0c9041b1c72f014228a57c0f7ae36bd28a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fdc6ca44c37e58be4064f44977515c66f4e07262", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fdc6ca44c37e58be4064f44977515c66f4e07262", "html_url": "https://github.com/rust-lang/rust/commit/fdc6ca44c37e58be4064f44977515c66f4e07262", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fdc6ca44c37e58be4064f44977515c66f4e07262/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8d370ec908bf210266f1d9028a7c7a500cea45f0", "url": "https://api.github.com/repos/rust-lang/rust/commits/8d370ec908bf210266f1d9028a7c7a500cea45f0", "html_url": "https://github.com/rust-lang/rust/commit/8d370ec908bf210266f1d9028a7c7a500cea45f0"}, {"sha": "0a24acda18056dd6bc4a5b8ec1897f5b34d283f4", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a24acda18056dd6bc4a5b8ec1897f5b34d283f4", "html_url": "https://github.com/rust-lang/rust/commit/0a24acda18056dd6bc4a5b8ec1897f5b34d283f4"}], "stats": {"total": 72, "additions": 70, "deletions": 2}, "files": [{"sha": "b699eface3ff76f8071466b4093592ce01136570", "filename": "src/test/debuginfo/basic-types-globals-metadata.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fbasic-types-globals-metadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fbasic-types-globals-metadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fbasic-types-globals-metadata.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // min-lldb-version: 310\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-g\n // gdb-command:run"}, {"sha": "51c36f8f1c15d2894658cf2bba7176eb80b2be1c", "filename": "src/test/debuginfo/basic-types-globals.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fbasic-types-globals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fbasic-types-globals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fbasic-types-globals.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -15,6 +15,7 @@\n // its numerical value.\n \n // min-lldb-version: 310\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-g\n // gdb-command:run"}, {"sha": "3dbfdea3c22cf6106c52dc47c2261626d6d0b72d", "filename": "src/test/debuginfo/basic-types-metadata.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fbasic-types-metadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fbasic-types-metadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fbasic-types-metadata.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // min-lldb-version: 310\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-g\n // gdb-command:run"}, {"sha": "2d4b4d61aa862575f903990ebca48fc658796abc", "filename": "src/test/debuginfo/basic-types-mut-globals.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fbasic-types-mut-globals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fbasic-types-mut-globals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fbasic-types-mut-globals.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -15,6 +15,7 @@\n // its numerical value.\n \n // min-lldb-version: 310\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-g\n "}, {"sha": "9007b44296bccfcc596c3574f0feb28b4d529617", "filename": "src/test/debuginfo/by-value-non-immediate-argument.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fby-value-non-immediate-argument.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fby-value-non-immediate-argument.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fby-value-non-immediate-argument.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // ignore-tidy-linelength\n+// ignore-test // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n // min-lldb-version: 310\n \n // compile-flags:-g"}, {"sha": "1f1f42e2dec2ee4c6bb0f70dd27417a80b132597", "filename": "src/test/debuginfo/c-style-enum.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fc-style-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fc-style-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fc-style-enum.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // ignore-aarch64\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n // min-lldb-version: 310\n \n // compile-flags:-g"}, {"sha": "76c2826ee8c6195614ce42b42728624870a70be6", "filename": "src/test/debuginfo/drop-locations.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fdrop-locations.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fdrop-locations.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fdrop-locations.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -10,6 +10,7 @@\n \n // ignore-windows\n // ignore-android\n+// ignore-test // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n // min-lldb-version: 310\n \n #![allow(unused)]"}, {"sha": "90088a0297aa89291ac34bcb331685a554a1dcca", "filename": "src/test/debuginfo/function-arg-initialization.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Ffunction-arg-initialization.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Ffunction-arg-initialization.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Ffunction-arg-initialization.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,7 +9,7 @@\n // except according to those terms.\n \n // ignore-tidy-linelength\n-\n+// ignore-test // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n // min-lldb-version: 310\n \n // This test case checks if function arguments already have the correct value"}, {"sha": "d50d105e009ff4ef86a2a33698a2c6d0eb4df62b", "filename": "src/test/debuginfo/function-prologue-stepping-regular.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Ffunction-prologue-stepping-regular.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Ffunction-prologue-stepping-regular.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Ffunction-prologue-stepping-regular.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -13,6 +13,7 @@\n \n // min-lldb-version: 310\n // ignore-gdb\n+// ignore-test // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n // compile-flags:-g\n \n // lldb-command:breakpoint set --name immediate_args"}, {"sha": "e76f9da1c2505350950064d7ee17ba3e22b2ba43", "filename": "src/test/debuginfo/lexical-scopes-in-block-expression.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Flexical-scopes-in-block-expression.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Flexical-scopes-in-block-expression.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Flexical-scopes-in-block-expression.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // min-lldb-version: 310\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-g\n "}, {"sha": "d840f38b2aad231519297ae83b37e99ea17381ff", "filename": "src/test/debuginfo/limited-debuginfo.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Flimited-debuginfo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Flimited-debuginfo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Flimited-debuginfo.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -10,6 +10,7 @@\n \n \n // ignore-lldb\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-C debuginfo=1\n "}, {"sha": "204dd8c1e739b0d8d0082aa0786158dac34944c2", "filename": "src/test/debuginfo/macro-stepping.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fmacro-stepping.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fmacro-stepping.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fmacro-stepping.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -12,6 +12,7 @@\n // ignore-android\n // ignore-aarch64\n // min-lldb-version: 310\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // aux-build:macro-stepping.rs\n "}, {"sha": "ddfff0f7d76e1ee8f5de47f38e4caaa1304f710a", "filename": "src/test/debuginfo/method-on-enum.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fmethod-on-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fmethod-on-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fmethod-on-enum.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -10,6 +10,7 @@\n \n // ignore-tidy-linelength\n // min-lldb-version: 310\n+// ignore-test // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-g\n "}, {"sha": "618587e421970136ca02c150f5def956310abd48", "filename": "src/test/debuginfo/option-like-enum.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Foption-like-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Foption-like-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Foption-like-enum.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,8 @@\n // except according to those terms.\n \n // ignore-tidy-linelength\n+// ignore-test // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n+\n // min-lldb-version: 310\n \n // compile-flags:-g"}, {"sha": "7bc566480e76364ef16c888cf7577f7aa04923b7", "filename": "src/test/debuginfo/pretty-std.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fpretty-std.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fpretty-std.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fpretty-std.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -10,6 +10,7 @@\n \n // ignore-windows failing on win32 bot\n // ignore-freebsd: gdb package too new\n+// ignore-test // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n // ignore-android: FIXME(#10381)\n // compile-flags:-g\n // min-gdb-version 7.7"}, {"sha": "5d3026734c1a2fba7c952d6f02097013b131e485", "filename": "src/test/debuginfo/shadowed-variable.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fshadowed-variable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fshadowed-variable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fshadowed-variable.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,7 +9,7 @@\n // except according to those terms.\n \n // min-lldb-version: 310\n-\n+// ignore-test // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n // compile-flags:-g\n \n // === GDB TESTS ==================================================================================="}, {"sha": "1f8acb53101222fdc862f3b61d2ae4f3d7eec44d", "filename": "src/test/debuginfo/should-fail.rs", "status": "added", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fshould-fail.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fshould-fail.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fshould-fail.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -0,0 +1,38 @@\n+// Copyright 2013-2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// min-lldb-version: 310\n+\n+// == Test [gdb|lldb]-[command|check] are parsed correctly ===\n+// should-fail\n+// compile-flags:-g\n+\n+// === GDB TESTS ===================================================================================\n+\n+// gdb-command: run\n+\n+// gdb-command: print x\n+// gdb-check:$1 = 5\n+\n+// === LLDB TESTS ==================================================================================\n+\n+// lldb-command:run\n+\n+// lldb-command:print x\n+// lldb-check:[...]$0 = 5\n+\n+fn main() {\n+    let x = 1;\n+\n+    zzz(); // #break\n+}\n+\n+fn zzz() {()}\n+"}, {"sha": "8fdf204d30ab57761e5a6b3890c2cbe855dd793e", "filename": "src/test/debuginfo/simple-struct.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fsimple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fsimple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fsimple-struct.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // min-lldb-version: 310\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-g\n "}, {"sha": "8f69672c888440e30986dfd28e2d2f1ea7b65b47", "filename": "src/test/debuginfo/simple-tuple.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fsimple-tuple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fsimple-tuple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fsimple-tuple.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // min-lldb-version: 310\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-g\n "}, {"sha": "14aaf67d5ae1bf2c52c69531e8090babae320695", "filename": "src/test/debuginfo/struct-in-enum.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fstruct-in-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fstruct-in-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fstruct-in-enum.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -11,6 +11,7 @@\n // ignore-tidy-linelength\n // min-lldb-version: 310\n // ignore-gdb-version: 7.11.90 - 7.12.9\n+// ignore-test // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-g\n "}, {"sha": "c89c0e4e7584db623479aac2cd666a28e00433a3", "filename": "src/test/debuginfo/type-names.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Ftype-names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Ftype-names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Ftype-names.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -10,6 +10,7 @@\n \n // ignore-tidy-linelength\n // ignore-lldb\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n // ignore-android: FIXME(#24958)\n // ignore-arm: FIXME(#24958)\n // ignore-aarch64: FIXME(#24958)"}, {"sha": "622c7cf0d333423dd8784d42d18aac38c1f97ec2", "filename": "src/test/debuginfo/union-smoke.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Funion-smoke.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Funion-smoke.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Funion-smoke.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,8 @@\n // except according to those terms.\n \n // min-lldb-version: 310\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n+\n // ignore-gdb-version: 7.11.90 - 7.12.9\n \n // compile-flags:-g"}, {"sha": "888d9b28506b3608b585018e0fd0a9824e8cce9a", "filename": "src/test/debuginfo/vec-slices.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fvec-slices.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fvec-slices.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fvec-slices.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // ignore-windows\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n // min-lldb-version: 310\n \n // compile-flags:-g"}, {"sha": "dba947530fea8fdeac0451a9641f867d32c8bc81", "filename": "src/test/debuginfo/vec.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftest%2Fdebuginfo%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fvec.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // min-lldb-version: 310\n+// ignore-gdb // Test temporarily ignored due to debuginfo tests being disabled, see PR 47155\n \n // compile-flags:-g\n "}, {"sha": "dbeee39e606c6e322d15480d3d8f147d424b90ab", "filename": "src/tools/compiletest/src/runtest.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdc6ca44c37e58be4064f44977515c66f4e07262/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs?ref=fdc6ca44c37e58be4064f44977515c66f4e07262", "patch": "@@ -901,6 +901,13 @@ impl<'test> TestCx<'test> {\n         for line in reader.lines() {\n             match line {\n                 Ok(line) => {\n+                    let line =\n+                        if line.starts_with(\"//\") {\n+                            line[2..].trim_left()\n+                        } else {\n+                            line.as_str()\n+                        };\n+\n                     if line.contains(\"#break\") {\n                         breakpoint_lines.push(counter);\n                     }"}]}