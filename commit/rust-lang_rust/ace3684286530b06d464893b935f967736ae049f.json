{"sha": "ace3684286530b06d464893b935f967736ae049f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjZTM2ODQyODY1MzBiMDZkNDY0ODkzYjkzNWY5Njc3MzZhZTA0OWY=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2019-07-21T18:42:08Z"}, "committer": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2019-07-21T18:56:08Z"}, "message": "ci: pin awscli dependencies\n\ndocutils 0.15, a dependency of awscli, broke our CI since it's not\ncompatible with Python 2 due to a bug. This pins all the dependencies of\nawscli with docutils 0.14, to make sure this kind of regressions doesn't\nhappen again.", "tree": {"sha": "02a637ddb88f414cb69775a7235ef851a33d1bfe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/02a637ddb88f414cb69775a7235ef851a33d1bfe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ace3684286530b06d464893b935f967736ae049f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE1JbYPtLJAsc22U9xPgar6Auq8ZwFAl00tUkACgkQPgar6Auq\n8Zy7Hg/9GUi9a9fTfwoic6lMw0JDohacUqvo68Hryct/olqnulliWBjW6rdtnbj3\nG8M9x4vh+ZgVIUEfS5NWAUXeXtWoegBcf1EMPjEy6M3tuEkczp+m58xrv6mhBVut\nDodJuAsrOQTze5aHKTpahNzy/JAf4uxFYsMyg6J0W8EUnyfkxohVgxvYU2yd/Yqj\nsJYNCwTDP1sYS9k5rtlKs2vxy1YrqS47GX21ExGwNyITY1r9x0xBKGGfaJ9VD4QB\n8vF6q6zR59pgy6xjhBXGth3ArHcIdsu8lHsznBDE5MKhPS682ZGJrgjqOKaGI83+\nIP4LWFOG3U8YQDh6mR3kxUPFEv084X7dVyIHS0hDW4plXYWAH3QZvL/BNxjFToAg\n1J3XJuVjfAJ5DyKklMxlqVZPfDOzAtVzKKytcG+PdOQN2aMLNxw1UiUz+tnWqbiR\nGWR9wI/zQQ6nb9AAKU1hVNPZ1FnvEkslicUo4j5GULT6/sSNkt8TDTeXKp333DXf\nUuUeSgF3YFR8uDiuRY0PwOcDA816PYtCra5BTfuHi7pcdvIqRQULyf91IRrHOp63\n2+P02FVdSQZHHk61Ou5ULliiKYsByieAmu99HHPAAXn+tf9Jxf9Hf9BgfOQK8K1c\n7stN09rkywBwcKx4Tbu4ASB6jB+n02kanB6SBoTWAqhzCqopPhQ=\n=O3uN\n-----END PGP SIGNATURE-----", "payload": "tree 02a637ddb88f414cb69775a7235ef851a33d1bfe\nparent 83dfe7b27cf2debecebedd3b038f9a1c2e05e051\nauthor Pietro Albini <pietro@pietroalbini.org> 1563734528 +0200\ncommitter Pietro Albini <pietro@pietroalbini.org> 1563735368 +0200\n\nci: pin awscli dependencies\n\ndocutils 0.15, a dependency of awscli, broke our CI since it's not\ncompatible with Python 2 due to a bug. This pins all the dependencies of\nawscli with docutils 0.14, to make sure this kind of regressions doesn't\nhappen again.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ace3684286530b06d464893b935f967736ae049f", "html_url": "https://github.com/rust-lang/rust/commit/ace3684286530b06d464893b935f967736ae049f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ace3684286530b06d464893b935f967736ae049f/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "83dfe7b27cf2debecebedd3b038f9a1c2e05e051", "url": "https://api.github.com/repos/rust-lang/rust/commits/83dfe7b27cf2debecebedd3b038f9a1c2e05e051", "html_url": "https://github.com/rust-lang/rust/commit/83dfe7b27cf2debecebedd3b038f9a1c2e05e051"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "0b3e2376349337b2b6a4fc704dd628b2d85c5faa", "filename": ".azure-pipelines/steps/run.yml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ace3684286530b06d464893b935f967736ae049f/.azure-pipelines%2Fsteps%2Frun.yml", "raw_url": "https://github.com/rust-lang/rust/raw/ace3684286530b06d464893b935f967736ae049f/.azure-pipelines%2Fsteps%2Frun.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.azure-pipelines%2Fsteps%2Frun.yml?ref=ace3684286530b06d464893b935f967736ae049f", "patch": "@@ -142,11 +142,11 @@ steps:\n     set -e\n     source src/ci/shared.sh\n     sudo apt-get install -y python3-setuptools\n-    retry pip3 install awscli --upgrade --user\n+    retry pip3 install -r src/ci/awscli-requirements.txt --upgrade --user\n     echo \"##vso[task.prependpath]$HOME/.local/bin\"\n   displayName: Install awscli (Linux)\n   condition: and(succeeded(), not(variables.SKIP_JOB), eq(variables['Agent.OS'], 'Linux'))\n-- script: pip install awscli\n+- script: pip install -r src/ci/awscli-requirements.txt\n   displayName: Install awscli (non-Linux)\n   condition: and(succeeded(), not(variables.SKIP_JOB), ne(variables['Agent.OS'], 'Linux'))\n "}, {"sha": "c1ffa525a1b41509a20416831ce605c4670f2815", "filename": "src/ci/awscli-requirements.txt", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/ace3684286530b06d464893b935f967736ae049f/src%2Fci%2Fawscli-requirements.txt", "raw_url": "https://github.com/rust-lang/rust/raw/ace3684286530b06d464893b935f967736ae049f/src%2Fci%2Fawscli-requirements.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fawscli-requirements.txt?ref=ace3684286530b06d464893b935f967736ae049f", "patch": "@@ -0,0 +1,13 @@\n+awscli==1.16.201\n+botocore==1.12.191\n+colorama==0.3.9\n+docutils==0.14\n+jmespath==0.9.4\n+pyasn1==0.4.5\n+python-dateutil==2.8.0\n+PyYAML==5.1\n+rsa==3.4.2\n+s3transfer==0.2.1\n+six==1.12.0\n+urllib3==1.25.3\n+futures==3.3.0; python_version < '3.0'"}]}