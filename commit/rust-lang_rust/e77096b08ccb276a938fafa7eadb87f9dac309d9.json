{"sha": "e77096b08ccb276a938fafa7eadb87f9dac309d9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU3NzA5NmIwOGNjYjI3NmE5MzhmYWZhN2VhZGI4N2Y5ZGFjMzA5ZDk=", "commit": {"author": {"name": "John K\u00e5re Alsaker", "email": "john.kare.alsaker@gmail.com", "date": "2019-04-05T11:22:13Z"}, "committer": {"name": "John K\u00e5re Alsaker", "email": "john.kare.alsaker@gmail.com", "date": "2019-05-23T16:51:47Z"}, "message": "Remove subtle Default impl for Value", "tree": {"sha": "0d0fee8875309deb6f7287770ddfe88ad4dd10e3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0d0fee8875309deb6f7287770ddfe88ad4dd10e3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e77096b08ccb276a938fafa7eadb87f9dac309d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e77096b08ccb276a938fafa7eadb87f9dac309d9", "html_url": "https://github.com/rust-lang/rust/commit/e77096b08ccb276a938fafa7eadb87f9dac309d9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e77096b08ccb276a938fafa7eadb87f9dac309d9/comments", "author": {"login": "Zoxc", "id": 25784, "node_id": "MDQ6VXNlcjI1Nzg0", "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zoxc", "html_url": "https://github.com/Zoxc", "followers_url": "https://api.github.com/users/Zoxc/followers", "following_url": "https://api.github.com/users/Zoxc/following{/other_user}", "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions", "organizations_url": "https://api.github.com/users/Zoxc/orgs", "repos_url": "https://api.github.com/users/Zoxc/repos", "events_url": "https://api.github.com/users/Zoxc/events{/privacy}", "received_events_url": "https://api.github.com/users/Zoxc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Zoxc", "id": 25784, "node_id": "MDQ6VXNlcjI1Nzg0", "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zoxc", "html_url": "https://github.com/Zoxc", "followers_url": "https://api.github.com/users/Zoxc/followers", "following_url": "https://api.github.com/users/Zoxc/following{/other_user}", "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions", "organizations_url": "https://api.github.com/users/Zoxc/orgs", "repos_url": "https://api.github.com/users/Zoxc/repos", "events_url": "https://api.github.com/users/Zoxc/events{/privacy}", "received_events_url": "https://api.github.com/users/Zoxc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ae8975c812c5f31102f1f840322e10696b369aa7", "url": "https://api.github.com/repos/rust-lang/rust/commits/ae8975c812c5f31102f1f840322e10696b369aa7", "html_url": "https://github.com/rust-lang/rust/commit/ae8975c812c5f31102f1f840322e10696b369aa7"}], "stats": {"total": 70, "additions": 9, "deletions": 61}, "files": [{"sha": "01d431b0ef0e7a04fb8c50f51dfe72c6ea4e5653", "filename": "src/librustc/ty/query/values.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Flibrustc%2Fty%2Fquery%2Fvalues.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Flibrustc%2Fty%2Fquery%2Fvalues.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Fquery%2Fvalues.rs?ref=e77096b08ccb276a938fafa7eadb87f9dac309d9", "patch": "@@ -14,12 +14,6 @@ impl<'tcx, T> Value<'tcx> for T {\n     }\n }\n \n-impl<'tcx, T: Default> Value<'tcx> for T {\n-    default fn from_cycle_error<'a>(_: TyCtxt<'a, 'tcx, 'tcx>) -> T {\n-        T::default()\n-    }\n-}\n-\n impl<'tcx> Value<'tcx> for Ty<'tcx> {\n     fn from_cycle_error<'a>(tcx: TyCtxt<'a, 'tcx, 'tcx>) -> Ty<'tcx> {\n         tcx.types.err"}, {"sha": "27287d06d54b171b4573b235d1345fb42e6a56c7", "filename": "src/test/incremental/cyclic-trait-hierarchy.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fincremental%2Fcyclic-trait-hierarchy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fincremental%2Fcyclic-trait-hierarchy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental%2Fcyclic-trait-hierarchy.rs?ref=e77096b08ccb276a938fafa7eadb87f9dac309d9", "patch": "@@ -7,7 +7,6 @@ pub trait T2 { }\n #[cfg(cfail2)]\n pub trait T2: T1 { }\n //[cfail2]~^ ERROR cycle detected when computing the supertraits of `T2`\n-//[cfail2]~| ERROR cycle detected when computing the supertraits of `T2`\n \n pub trait T1: T2 { }\n "}, {"sha": "d3609acfdff63edd44e05599669eeb292e2083d2", "filename": "src/test/ui/cycle-projection-based-on-where-clause.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fcycle-projection-based-on-where-clause.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fcycle-projection-based-on-where-clause.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcycle-projection-based-on-where-clause.rs?ref=e77096b08ccb276a938fafa7eadb87f9dac309d9", "patch": "@@ -16,7 +16,6 @@ struct A<T>\n     where T : Trait,\n           T : Add<T::Item>\n     //~^ ERROR cycle detected\n-    //~| ERROR associated type `Item` not found for `T`\n {\n     data: T\n }"}, {"sha": "59815138e2e36f32853b6a2cdfdb3960ee77ba61", "filename": "src/test/ui/cycle-projection-based-on-where-clause.stderr", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fcycle-projection-based-on-where-clause.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fcycle-projection-based-on-where-clause.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcycle-projection-based-on-where-clause.stderr?ref=e77096b08ccb276a938fafa7eadb87f9dac309d9", "patch": "@@ -11,13 +11,6 @@ note: cycle used when processing `A`\n LL |           T : Add<T::Item>\n    |                   ^^^^^^^\n \n-error[E0220]: associated type `Item` not found for `T`\n-  --> $DIR/cycle-projection-based-on-where-clause.rs:17:19\n-   |\n-LL |           T : Add<T::Item>\n-   |                   ^^^^^^^ associated type `Item` not found\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors have detailed explanations: E0220, E0391.\n-For more information about an error, try `rustc --explain E0220`.\n+For more information about this error, try `rustc --explain E0391`."}, {"sha": "1500bc831528a599dcbd72bc45dbe8bc9d6c3616", "filename": "src/test/ui/issues/issue-20772.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-20772.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-20772.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20772.rs?ref=e77096b08ccb276a938fafa7eadb87f9dac309d9", "patch": "@@ -1,6 +1,5 @@\n trait T : Iterator<Item=Self::Item>\n //~^ ERROR cycle detected\n-//~| ERROR associated type `Item` not found for `Self`\n {}\n \n fn main() {}"}, {"sha": "d64636310a3687344adff5d67cd2482889abe8ae", "filename": "src/test/ui/issues/issue-20772.stderr", "status": "modified", "additions": 2, "deletions": 11, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-20772.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-20772.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20772.stderr?ref=e77096b08ccb276a938fafa7eadb87f9dac309d9", "patch": "@@ -3,7 +3,6 @@ error[E0391]: cycle detected when computing the supertraits of `T`\n    |\n LL | / trait T : Iterator<Item=Self::Item>\n LL | |\n-LL | |\n LL | | {}\n    | |__^\n    |\n@@ -13,17 +12,9 @@ note: cycle used when collecting item types in top-level module\n    |\n LL | / trait T : Iterator<Item=Self::Item>\n LL | |\n-LL | |\n LL | | {}\n    | |__^\n \n-error[E0220]: associated type `Item` not found for `Self`\n-  --> $DIR/issue-20772.rs:1:25\n-   |\n-LL | trait T : Iterator<Item=Self::Item>\n-   |                         ^^^^^^^^^^ associated type `Item` not found\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors have detailed explanations: E0220, E0391.\n-For more information about an error, try `rustc --explain E0220`.\n+For more information about this error, try `rustc --explain E0391`."}, {"sha": "258e362d1317c5ee38b7f0bb66d1320182fac0d7", "filename": "src/test/ui/issues/issue-21177.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-21177.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-21177.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-21177.rs?ref=e77096b08ccb276a938fafa7eadb87f9dac309d9", "patch": "@@ -5,6 +5,5 @@ trait Trait {\n \n fn foo<T: Trait<A = T::B>>() { }\n //~^ ERROR cycle detected\n-//~| ERROR associated type `B` not found for `T`\n \n fn main() { }"}, {"sha": "00d9a3c46a723a5b98a5975da6bda4a3e7f08fbf", "filename": "src/test/ui/issues/issue-21177.stderr", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-21177.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-21177.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-21177.stderr?ref=e77096b08ccb276a938fafa7eadb87f9dac309d9", "patch": "@@ -11,13 +11,6 @@ note: cycle used when processing `foo`\n LL | fn foo<T: Trait<A = T::B>>() { }\n    |                     ^^^^\n \n-error[E0220]: associated type `B` not found for `T`\n-  --> $DIR/issue-21177.rs:6:21\n-   |\n-LL | fn foo<T: Trait<A = T::B>>() { }\n-   |                     ^^^^ associated type `B` not found\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors have detailed explanations: E0220, E0391.\n-For more information about an error, try `rustc --explain E0220`.\n+For more information about this error, try `rustc --explain E0391`."}, {"sha": "da75f330798865ff2190f84c6009ff253716ee8e", "filename": "src/test/ui/issues/issue-23302-3.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-23302-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-23302-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-23302-3.rs?ref=e77096b08ccb276a938fafa7eadb87f9dac309d9", "patch": "@@ -1,5 +1,4 @@\n const A: i32 = B; //~ ERROR cycle detected\n-//~^ ERROR cycle detected\n \n const B: i32 = A;\n "}, {"sha": "a7d643987f710293fc124fff8c16d8949a41709a", "filename": "src/test/ui/issues/issue-23302-3.stderr", "status": "modified", "additions": 3, "deletions": 21, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-23302-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e77096b08ccb276a938fafa7eadb87f9dac309d9/src%2Ftest%2Fui%2Fissues%2Fissue-23302-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-23302-3.stderr?ref=e77096b08ccb276a938fafa7eadb87f9dac309d9", "patch": "@@ -10,36 +10,18 @@ note: ...which requires checking which parts of `A` are promotable to static...\n LL | const A: i32 = B;\n    |                ^\n note: ...which requires const checking if rvalue is promotable to static `B`...\n-  --> $DIR/issue-23302-3.rs:4:1\n+  --> $DIR/issue-23302-3.rs:3:1\n    |\n LL | const B: i32 = A;\n    | ^^^^^^^^^^^^^^^^^\n note: ...which requires checking which parts of `B` are promotable to static...\n-  --> $DIR/issue-23302-3.rs:4:16\n+  --> $DIR/issue-23302-3.rs:3:16\n    |\n LL | const B: i32 = A;\n    |                ^\n    = note: ...which again requires const checking if rvalue is promotable to static `A`, completing the cycle\n    = note: cycle used when running analysis passes on this crate\n \n-error[E0391]: cycle detected when processing `A`\n-  --> $DIR/issue-23302-3.rs:1:16\n-   |\n-LL | const A: i32 = B;\n-   |                ^\n-   |\n-note: ...which requires processing `B`...\n-  --> $DIR/issue-23302-3.rs:4:16\n-   |\n-LL | const B: i32 = A;\n-   |                ^\n-   = note: ...which again requires processing `A`, completing the cycle\n-note: cycle used when processing `A`\n-  --> $DIR/issue-23302-3.rs:1:1\n-   |\n-LL | const A: i32 = B;\n-   | ^^^^^^^^^^^^^^^^^\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n For more information about this error, try `rustc --explain E0391`."}]}