{"sha": "e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU2YWIwY2E4YjFjNzVmMDJjMzdmYzU3MTM3ZWI4NTRhYzM4Njc3M2U=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-12-06T20:12:55Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-12-06T20:13:30Z"}, "message": "test: Fix more compile-fail bustage. rs=bustage", "tree": {"sha": "9e879a250f85ac46854ea7512029305bbf919fdf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9e879a250f85ac46854ea7512029305bbf919fdf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "html_url": "https://github.com/rust-lang/rust/commit/e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "216969ae08c53d9371cfba69942d87f15903756e", "url": "https://api.github.com/repos/rust-lang/rust/commits/216969ae08c53d9371cfba69942d87f15903756e", "html_url": "https://github.com/rust-lang/rust/commit/216969ae08c53d9371cfba69942d87f15903756e"}], "stats": {"total": 18, "additions": 8, "deletions": 10}, "files": [{"sha": "8052933d40567337badaac8c946d42559eae7645", "filename": "src/test/compile-fail/borrowck-loan-rcvr-overloaded-op.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fborrowck-loan-rcvr-overloaded-op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fborrowck-loan-rcvr-overloaded-op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fborrowck-loan-rcvr-overloaded-op.rs?ref=e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "patch": "@@ -29,7 +29,6 @@ fn b() {\n     // Here I create an outstanding loan and check that we get conflicts:\n \n     let q = &mut p; //~ NOTE prior loan as mutable granted here\n-    //~^ NOTE prior loan as mutable granted here\n \n     p + 3; //~ ERROR loan of mutable local variable as immutable conflicts with prior loan\n     p.times(3); //~ ERROR loan of mutable local variable as immutable conflicts with prior loan"}, {"sha": "82aee65396a940bdb9e85a7a9d573f13c00edf33", "filename": "src/test/compile-fail/copy-a-resource.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fcopy-a-resource.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fcopy-a-resource.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcopy-a-resource.rs?ref=e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "patch": "@@ -14,4 +14,4 @@ fn foo(i:int) -> foo {\n     }\n }\n \n-fn main() { let x = move foo(10); let y = x; log(error, x); }\n+fn main() { let x = move foo(10); let y = copy x; log(error, x); }"}, {"sha": "d6ca086291295767fdd187fa382a83dabf46e44c", "filename": "src/test/compile-fail/non-copyable-void.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fnon-copyable-void.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fnon-copyable-void.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fnon-copyable-void.rs?ref=e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "patch": "@@ -2,7 +2,7 @@ fn main() {\n     let x : *~[int] = ptr::addr_of(&~[1,2,3]);\n     let y : *libc::c_void = x as *libc::c_void;\n     unsafe {\n-        let _z = *y;\n+        let _z = copy *y;\n         //~^ ERROR copying a noncopyable value\n     }\n }"}, {"sha": "bbcb0f45951258689e02552e6e827570cc677ecb", "filename": "src/test/compile-fail/noncopyable-class.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fnoncopyable-class.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fnoncopyable-class.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fnoncopyable-class.rs?ref=e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "patch": "@@ -28,4 +28,4 @@ fn foo(i:int) -> foo {\n     }\n }\n \n-fn main() { let x = move foo(10); let y = x; log(error, x); }\n+fn main() { let x = move foo(10); let y = copy x; log(error, x); }"}, {"sha": "1add2937de9dc550b6ec0dff9e71e4a9732258ec", "filename": "src/test/compile-fail/pinned-deep-copy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fpinned-deep-copy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fpinned-deep-copy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fpinned-deep-copy.rs?ref=e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "patch": "@@ -21,7 +21,7 @@ fn main() {\n     {\n         // Can't do this copy\n         let x = ~~~{y: r(i)};\n-        let z = x;\n+        let z = copy x;\n         log(debug, x);\n     }\n     log(error, *i);"}, {"sha": "7f9badc13299328dfc43017f9936122b074fa33e", "filename": "src/test/compile-fail/record-with-resource.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Frecord-with-resource.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Frecord-with-resource.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Frecord-with-resource.rs?ref=e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "patch": "@@ -19,7 +19,7 @@ fn my_resource(x: int) -> my_resource {\n fn main() {\n     {\n         let a = {x: 0, y: my_resource(20)};\n-        let b = {x: 2,.. a};\n+        let b = {x: 2,.. copy a};\n         log(error, (a, b));\n     }\n }"}, {"sha": "75815242aea6528bdb17b0de303d4a0c766c3984", "filename": "src/test/compile-fail/unique-pinned-nocopy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Funique-pinned-nocopy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Funique-pinned-nocopy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funique-pinned-nocopy.rs?ref=e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "patch": "@@ -10,6 +10,6 @@ impl r : Drop {\n \n fn main() {\n     let i = move ~r { b: true };\n-    let j = i;\n+    let j = copy i;\n     log(debug, i);\n }"}, {"sha": "babd29b4255894fb8a88195f7e31d7637c4116d0", "filename": "src/test/compile-fail/unique-vec-res.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Funique-vec-res.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Funique-vec-res.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funique-vec-res.rs?ref=e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "patch": "@@ -11,15 +11,14 @@ impl r : Drop {\n }\n \n fn f<T>(+i: ~[T], +j: ~[T]) {\n-    let k = i + j;\n }\n \n fn main() {\n     let i1 = @mut 0;\n     let i2 = @mut 1;\n     let r1 = move ~[~r { i: i1 }];\n     let r2 = move ~[~r { i: i2 }];\n-    f(r1, r2);\n+    f(copy r1, copy r2);\n     log(debug, (r2, *i1));\n     log(debug, (r1, *i2));\n }"}, {"sha": "a8f6aca0a696bbf24c0adc4e83d9f30bfb94d0e1", "filename": "src/test/compile-fail/vec-res-add.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fvec-res-add.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6ab0ca8b1c75f02c37fc57137eb854ac386773e/src%2Ftest%2Fcompile-fail%2Fvec-res-add.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fvec-res-add.rs?ref=e6ab0ca8b1c75f02c37fc57137eb854ac386773e", "patch": "@@ -1,4 +1,4 @@\n-// error-pattern: copying a noncopyable value\n+// error-pattern: instantiating a type parameter with an incompatible type\n \n struct r {\n   i:int"}]}