{"sha": "b59c958ba6d1a6834c8915ce8146f9a8e81557b6", "node_id": "C_kwDOAAsO6NoAKGI1OWM5NThiYTZkMWE2ODM0Yzg5MTVjZTgxNDZmOWE4ZTgxNTU3YjY", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-02-18T01:21:48Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-02-19T19:32:05Z"}, "message": "Bless up", "tree": {"sha": "52d53ef271705c26dc4800f9dcf63268875d4bb8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/52d53ef271705c26dc4800f9dcf63268875d4bb8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b59c958ba6d1a6834c8915ce8146f9a8e81557b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b59c958ba6d1a6834c8915ce8146f9a8e81557b6", "html_url": "https://github.com/rust-lang/rust/commit/b59c958ba6d1a6834c8915ce8146f9a8e81557b6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b59c958ba6d1a6834c8915ce8146f9a8e81557b6/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "773fa7adbca745e86c59503e17d9d4c5b7dcc275", "url": "https://api.github.com/repos/rust-lang/rust/commits/773fa7adbca745e86c59503e17d9d4c5b7dcc275", "html_url": "https://github.com/rust-lang/rust/commit/773fa7adbca745e86c59503e17d9d4c5b7dcc275"}], "stats": {"total": 54, "additions": 6, "deletions": 48}, "files": [{"sha": "ce196dcbd863d34bacf061bee3c9621da85b7282", "filename": "src/test/ui/generic-associated-types/bugs/issue-88382.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b59c958ba6d1a6834c8915ce8146f9a8e81557b6/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fbugs%2Fissue-88382.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b59c958ba6d1a6834c8915ce8146f9a8e81557b6/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fbugs%2Fissue-88382.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fbugs%2Fissue-88382.stderr?ref=b59c958ba6d1a6834c8915ce8146f9a8e81557b6", "patch": "@@ -2,18 +2,18 @@ error[E0631]: type mismatch in function arguments\n   --> $DIR/issue-88382.rs:28:40\n    |\n LL |     do_something(SomeImplementation(), test);\n-   |     ------------                       ^^^^ expected signature of `for<'a> fn(&mut <SomeImplementation as Iterable>::Iterator<'a>) -> _`\n+   |     ------------                       ^^^^ expected signature of `for<'r> fn(&'r mut std::iter::Empty<usize>) -> _`\n    |     |\n    |     required by a bound introduced by this call\n ...\n LL | fn test<'a, I: Iterable>(_: &mut I::Iterator<'a>) {}\n-   | ------------------------------------------------- found signature of `for<'r> fn(&'r mut std::iter::Empty<usize>) -> _`\n+   | ------------------------------------------------- found signature of `for<'r, 'a> fn(&'r mut <_ as Iterable>::Iterator<'a>) -> _`\n    |\n note: required by a bound in `do_something`\n-  --> $DIR/issue-88382.rs:22:56\n+  --> $DIR/issue-88382.rs:22:48\n    |\n LL | fn do_something<I: Iterable>(i: I, mut f: impl for<'a> Fn(&mut I::Iterator<'a>)) {\n-   |                                                        ^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `do_something`\n+   |                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `do_something`\n \n error: aborting due to previous error\n "}, {"sha": "05315b3f9f5e9931275c7dbc590c99ba4b6a7bfc", "filename": "src/test/ui/higher-rank-trait-bounds/issue-60283.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b59c958ba6d1a6834c8915ce8146f9a8e81557b6/src%2Ftest%2Fui%2Fhigher-rank-trait-bounds%2Fissue-60283.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b59c958ba6d1a6834c8915ce8146f9a8e81557b6/src%2Ftest%2Fui%2Fhigher-rank-trait-bounds%2Fissue-60283.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhigher-rank-trait-bounds%2Fissue-60283.rs?ref=b59c958ba6d1a6834c8915ce8146f9a8e81557b6", "patch": "@@ -1,3 +1,5 @@\n+// check-pass\n+\n pub trait Trait<'a> {\n     type Item;\n }\n@@ -15,6 +17,4 @@ where\n \n fn main() {\n     foo((), drop)\n-    //~^ ERROR type mismatch in function arguments\n-    //~| ERROR size for values of type `<() as Trait<'_>>::Item` cannot be known at compilation time\n }"}, {"sha": "34893cd8f19d908ffcc7f8b93750145dc5bda854", "filename": "src/test/ui/higher-rank-trait-bounds/issue-60283.stderr", "status": "removed", "additions": 0, "deletions": 42, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/773fa7adbca745e86c59503e17d9d4c5b7dcc275/src%2Ftest%2Fui%2Fhigher-rank-trait-bounds%2Fissue-60283.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/773fa7adbca745e86c59503e17d9d4c5b7dcc275/src%2Ftest%2Fui%2Fhigher-rank-trait-bounds%2Fissue-60283.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhigher-rank-trait-bounds%2Fissue-60283.stderr?ref=773fa7adbca745e86c59503e17d9d4c5b7dcc275", "patch": "@@ -1,42 +0,0 @@\n-error[E0631]: type mismatch in function arguments\n-  --> $DIR/issue-60283.rs:17:13\n-   |\n-LL |     foo((), drop)\n-   |     ---     ^^^^\n-   |     |       |\n-   |     |       expected signature of `for<'a> fn(<() as Trait<'a>>::Item) -> _`\n-   |     |       found signature of `fn(()) -> _`\n-   |     required by a bound introduced by this call\n-   |\n-note: required by a bound in `foo`\n-  --> $DIR/issue-60283.rs:12:16\n-   |\n-LL | pub fn foo<T, F>(_: T, _: F)\n-   |        --- required by a bound in this\n-...\n-LL |     F: for<'a> FnMut(<T as Trait<'a>>::Item),\n-   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `foo`\n-\n-error[E0277]: the size for values of type `<() as Trait<'_>>::Item` cannot be known at compilation time\n-  --> $DIR/issue-60283.rs:17:13\n-   |\n-LL |     foo((), drop)\n-   |     ---     ^^^^ doesn't have a size known at compile-time\n-   |     |\n-   |     required by a bound introduced by this call\n-   |\n-   = help: the trait `Sized` is not implemented for `<() as Trait<'_>>::Item`\n-note: required by a bound in `std::mem::drop`\n-  --> $SRC_DIR/core/src/mem/mod.rs:LL:COL\n-   |\n-LL | pub fn drop<T>(_x: T) {}\n-   |             ^ required by this bound in `std::mem::drop`\n-help: consider further restricting the associated type\n-   |\n-LL | fn main() where <() as Trait<'_>>::Item: Sized {\n-   |           ++++++++++++++++++++++++++++++++++++\n-\n-error: aborting due to 2 previous errors\n-\n-Some errors have detailed explanations: E0277, E0631.\n-For more information about an error, try `rustc --explain E0277`."}]}