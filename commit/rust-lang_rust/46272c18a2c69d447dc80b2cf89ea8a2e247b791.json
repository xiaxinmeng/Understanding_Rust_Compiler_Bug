{"sha": "46272c18a2c69d447dc80b2cf89ea8a2e247b791", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ2MjcyYzE4YTJjNjlkNDQ3ZGM4MGIyY2Y4OWVhOGEyZTI0N2I3OTE=", "commit": {"author": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2014-12-09T13:51:04Z"}, "committer": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2014-12-13T22:03:47Z"}, "message": "librustc_typeck: fix fallout", "tree": {"sha": "5cd3331df32da79be2e84442fcf4a07fb0edb95a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5cd3331df32da79be2e84442fcf4a07fb0edb95a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/46272c18a2c69d447dc80b2cf89ea8a2e247b791", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/46272c18a2c69d447dc80b2cf89ea8a2e247b791", "html_url": "https://github.com/rust-lang/rust/commit/46272c18a2c69d447dc80b2cf89ea8a2e247b791", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/46272c18a2c69d447dc80b2cf89ea8a2e247b791/comments", "author": null, "committer": null, "parents": [{"sha": "1195708f64f34f6c402f98f5b551e2567be731c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/1195708f64f34f6c402f98f5b551e2567be731c9", "html_url": "https://github.com/rust-lang/rust/commit/1195708f64f34f6c402f98f5b551e2567be731c9"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "a7163b75d52497bccb0cce3dfc73d53cbb0abe3a", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/46272c18a2c69d447dc80b2cf89ea8a2e247b791/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/46272c18a2c69d447dc80b2cf89ea8a2e247b791/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=46272c18a2c69d447dc80b2cf89ea8a2e247b791", "patch": "@@ -1938,11 +1938,13 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n         infer::mk_subr(self.infcx(), origin, sub, sup)\n     }\n \n-    pub fn type_error_message(&self,\n-                              sp: Span,\n-                              mk_msg: |String| -> String,\n-                              actual_ty: Ty<'tcx>,\n-                              err: Option<&ty::type_err<'tcx>>) {\n+    pub fn type_error_message<M>(&self,\n+                                 sp: Span,\n+                                 mk_msg: M,\n+                                 actual_ty: Ty<'tcx>,\n+                                 err: Option<&ty::type_err<'tcx>>) where\n+        M: FnOnce(String) -> String,\n+    {\n         self.infcx().type_error_message(sp, mk_msg, actual_ty, err);\n     }\n "}, {"sha": "0cf43821c82d64e1327556c9baaa20bca84a0fd8", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/46272c18a2c69d447dc80b2cf89ea8a2e247b791/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/46272c18a2c69d447dc80b2cf89ea8a2e247b791/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=46272c18a2c69d447dc80b2cf89ea8a2e247b791", "patch": "@@ -74,6 +74,7 @@ This API is completely unstable and subject to change.\n #![feature(default_type_params, globs, import_shadowing, macro_rules, phase, quote)]\n #![feature(slicing_syntax, unsafe_destructor)]\n #![feature(rustc_diagnostic_macros)]\n+#![feature(unboxed_closures)]\n #![allow(non_camel_case_types)]\n \n #[phase(plugin, link)] extern crate log;"}]}