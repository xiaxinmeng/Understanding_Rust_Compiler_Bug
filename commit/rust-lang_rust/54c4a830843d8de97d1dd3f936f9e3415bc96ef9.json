{"sha": "54c4a830843d8de97d1dd3f936f9e3415bc96ef9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0YzRhODMwODQzZDhkZTk3ZDFkZDNmOTM2ZjllMzQxNWJjOTZlZjk=", "commit": {"author": {"name": "Badel2", "email": "2badel2@gmail.com", "date": "2017-09-21T10:14:14Z"}, "committer": {"name": "Badel2", "email": "2badel2@gmail.com", "date": "2017-09-22T20:05:46Z"}, "message": "dotdoteq_in_patterns feature gate", "tree": {"sha": "6b00eca548df7533349a4ef6f2252594068bd84d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6b00eca548df7533349a4ef6f2252594068bd84d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/54c4a830843d8de97d1dd3f936f9e3415bc96ef9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/54c4a830843d8de97d1dd3f936f9e3415bc96ef9", "html_url": "https://github.com/rust-lang/rust/commit/54c4a830843d8de97d1dd3f936f9e3415bc96ef9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/54c4a830843d8de97d1dd3f936f9e3415bc96ef9/comments", "author": {"login": "Badel2", "id": 15879619, "node_id": "MDQ6VXNlcjE1ODc5NjE5", "avatar_url": "https://avatars.githubusercontent.com/u/15879619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Badel2", "html_url": "https://github.com/Badel2", "followers_url": "https://api.github.com/users/Badel2/followers", "following_url": "https://api.github.com/users/Badel2/following{/other_user}", "gists_url": "https://api.github.com/users/Badel2/gists{/gist_id}", "starred_url": "https://api.github.com/users/Badel2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Badel2/subscriptions", "organizations_url": "https://api.github.com/users/Badel2/orgs", "repos_url": "https://api.github.com/users/Badel2/repos", "events_url": "https://api.github.com/users/Badel2/events{/privacy}", "received_events_url": "https://api.github.com/users/Badel2/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Badel2", "id": 15879619, "node_id": "MDQ6VXNlcjE1ODc5NjE5", "avatar_url": "https://avatars.githubusercontent.com/u/15879619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Badel2", "html_url": "https://github.com/Badel2", "followers_url": "https://api.github.com/users/Badel2/followers", "following_url": "https://api.github.com/users/Badel2/following{/other_user}", "gists_url": "https://api.github.com/users/Badel2/gists{/gist_id}", "starred_url": "https://api.github.com/users/Badel2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Badel2/subscriptions", "organizations_url": "https://api.github.com/users/Badel2/orgs", "repos_url": "https://api.github.com/users/Badel2/repos", "events_url": "https://api.github.com/users/Badel2/events{/privacy}", "received_events_url": "https://api.github.com/users/Badel2/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7aabf572789dcae24cc8ce247f7d86bcc5d49a17", "url": "https://api.github.com/repos/rust-lang/rust/commits/7aabf572789dcae24cc8ce247f7d86bcc5d49a17", "html_url": "https://github.com/rust-lang/rust/commit/7aabf572789dcae24cc8ce247f7d86bcc5d49a17"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "aa5a41430274a74348ef6f8253fba6a8eb89fcc3", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/54c4a830843d8de97d1dd3f936f9e3415bc96ef9/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54c4a830843d8de97d1dd3f936f9e3415bc96ef9/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=54c4a830843d8de97d1dd3f936f9e3415bc96ef9", "patch": "@@ -26,7 +26,7 @@ use self::AttributeType::*;\n use self::AttributeGate::*;\n \n use abi::Abi;\n-use ast::{self, NodeId, PatKind, RangeEnd};\n+use ast::{self, NodeId, PatKind, RangeEnd, RangeSyntax};\n use attr;\n use codemap::Spanned;\n use syntax_pos::Span;\n@@ -392,6 +392,9 @@ declare_features! (\n \n     // allow `'_` placeholder lifetimes\n     (active, underscore_lifetimes, \"1.22.0\", Some(44524)),\n+\n+    // allow `..=` in patterns (RFC 1192)\n+    (active, dotdoteq_in_patterns, \"1.22.0\", Some(28237)),\n );\n \n declare_features! (\n@@ -1491,6 +1494,10 @@ impl<'a> Visitor<'a> for PostExpansionVisitor<'a> {\n                 gate_feature_post!(&self, exclusive_range_pattern, pattern.span,\n                                    \"exclusive range pattern syntax is experimental\");\n             }\n+            PatKind::Range(_, _, RangeEnd::Included(RangeSyntax::DotDotEq)) => {\n+                gate_feature_post!(&self, dotdoteq_in_patterns, pattern.span,\n+                                   \"`..=` syntax in patterns is experimental\");\n+            }\n             _ => {}\n         }\n         visit::walk_pat(self, pattern)"}, {"sha": "1fb139bf07f411fced6eb630d1594edce3b3e6ce", "filename": "src/test/compile-fail/feature-gate-dotdoteq_in_patterns.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/54c4a830843d8de97d1dd3f936f9e3415bc96ef9/src%2Ftest%2Fcompile-fail%2Ffeature-gate-dotdoteq_in_patterns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54c4a830843d8de97d1dd3f936f9e3415bc96ef9/src%2Ftest%2Fcompile-fail%2Ffeature-gate-dotdoteq_in_patterns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-dotdoteq_in_patterns.rs?ref=54c4a830843d8de97d1dd3f936f9e3415bc96ef9", "patch": "@@ -0,0 +1,16 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+pub fn main() {\n+    match 22 {\n+        0 ..= 3 => {} //~ ERROR `..=` syntax in patterns is experimental\n+        _ => {}\n+    }\n+}"}, {"sha": "5faf36eddaf064267e6edca8ebe447f20b365eb1", "filename": "src/test/run-pass/inc-range-pat.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/54c4a830843d8de97d1dd3f936f9e3415bc96ef9/src%2Ftest%2Frun-pass%2Finc-range-pat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54c4a830843d8de97d1dd3f936f9e3415bc96ef9/src%2Ftest%2Frun-pass%2Finc-range-pat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Finc-range-pat.rs?ref=54c4a830843d8de97d1dd3f936f9e3415bc96ef9", "patch": "@@ -9,6 +9,8 @@\n // except according to those terms.\n \n // Test old and new syntax for inclusive range patterns.\n+#![feature(dotdoteq_in_patterns)]\n+\n \n fn main() {\n     assert!(match 42 { 0 ... 100 => true, _ => false });"}]}