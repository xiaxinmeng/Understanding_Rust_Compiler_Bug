{"sha": "f2d719b24afd404dbaf26332ff314a6161c74b71", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYyZDcxOWIyNGFmZDQwNGRiYWYyNjMzMmZmMzE0YTYxNjFjNzRiNzE=", "commit": {"author": {"name": "Adolfo Ochagav\u00eda", "email": "aochagavia92@gmail.com", "date": "2018-10-09T20:56:15Z"}, "committer": {"name": "Adolfo Ochagav\u00eda", "email": "aochagavia92@gmail.com", "date": "2018-10-09T20:56:22Z"}, "message": "Format vscode extension and add npm run fix", "tree": {"sha": "54c1381ec3d57cbd0722053900e02f3a7ad10cd2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/54c1381ec3d57cbd0722053900e02f3a7ad10cd2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f2d719b24afd404dbaf26332ff314a6161c74b71", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f2d719b24afd404dbaf26332ff314a6161c74b71", "html_url": "https://github.com/rust-lang/rust/commit/f2d719b24afd404dbaf26332ff314a6161c74b71", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f2d719b24afd404dbaf26332ff314a6161c74b71/comments", "author": {"login": "aochagavia", "id": 5196584, "node_id": "MDQ6VXNlcjUxOTY1ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aochagavia", "html_url": "https://github.com/aochagavia", "followers_url": "https://api.github.com/users/aochagavia/followers", "following_url": "https://api.github.com/users/aochagavia/following{/other_user}", "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}", "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions", "organizations_url": "https://api.github.com/users/aochagavia/orgs", "repos_url": "https://api.github.com/users/aochagavia/repos", "events_url": "https://api.github.com/users/aochagavia/events{/privacy}", "received_events_url": "https://api.github.com/users/aochagavia/received_events", "type": "User", "site_admin": false}, "committer": {"login": "aochagavia", "id": 5196584, "node_id": "MDQ6VXNlcjUxOTY1ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5196584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aochagavia", "html_url": "https://github.com/aochagavia", "followers_url": "https://api.github.com/users/aochagavia/followers", "following_url": "https://api.github.com/users/aochagavia/following{/other_user}", "gists_url": "https://api.github.com/users/aochagavia/gists{/gist_id}", "starred_url": "https://api.github.com/users/aochagavia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aochagavia/subscriptions", "organizations_url": "https://api.github.com/users/aochagavia/orgs", "repos_url": "https://api.github.com/users/aochagavia/repos", "events_url": "https://api.github.com/users/aochagavia/events{/privacy}", "received_events_url": "https://api.github.com/users/aochagavia/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "31c8ebb743572ef07ac4ca77ddd17eddbcf4b24c", "url": "https://api.github.com/repos/rust-lang/rust/commits/31c8ebb743572ef07ac4ca77ddd17eddbcf4b24c", "html_url": "https://github.com/rust-lang/rust/commit/31c8ebb743572ef07ac4ca77ddd17eddbcf4b24c"}], "stats": {"total": 43, "additions": 29, "deletions": 14}, "files": [{"sha": "eeb6dd816e468a8be009eaa29977cdea21b472e2", "filename": "editors/code/package.json", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f2d719b24afd404dbaf26332ff314a6161c74b71/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/f2d719b24afd404dbaf26332ff314a6161c74b71/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=f2d719b24afd404dbaf26332ff314a6161c74b71", "patch": "@@ -18,6 +18,7 @@\n         \"compile\": \"tsc -p ./\",\n         \"watch\": \"tsc -watch -p ./\",\n         \"postinstall\": \"node ./node_modules/vscode/bin/install\",\n+        \"fix\": \"prettier **/*.{json,ts} --write && tslint --project . --fix\",\n         \"lint\": \"tslint --project .\",\n         \"prettier\": \"prettier **/*.{json,ts}\",\n         \"travis\": \"npm run compile && npm run lint && npm run prettier --list-different\""}, {"sha": "33e2b34a28c1765f11f5860a359918a08871c995", "filename": "editors/code/src/commands/index.ts", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f2d719b24afd404dbaf26332ff314a6161c74b71/editors%2Fcode%2Fsrc%2Fcommands%2Findex.ts", "raw_url": "https://github.com/rust-lang/rust/raw/f2d719b24afd404dbaf26332ff314a6161c74b71/editors%2Fcode%2Fsrc%2Fcommands%2Findex.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Findex.ts?ref=f2d719b24afd404dbaf26332ff314a6161c74b71", "patch": "@@ -2,7 +2,7 @@ import * as applySourceChange from './apply_source_change';\n import * as extendSelection from './extend_selection';\n import * as joinLines from './join_lines';\n import * as matchingBrace from './matching_brace';\n-import * as on_enter from './on_enter';\n+import * as onEnter from './on_enter';\n import * as parentModule from './parent_module';\n import * as runnables from './runnables';\n import * as syntaxTree from './syntaxTree';\n@@ -15,5 +15,5 @@ export {\n     parentModule,\n     runnables,\n     syntaxTree,\n-    on_enter,\n+    onEnter\n };"}, {"sha": "fe6aca63d9773bf72c8483364434fb1702de6799", "filename": "editors/code/src/commands/on_enter.ts", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/f2d719b24afd404dbaf26332ff314a6161c74b71/editors%2Fcode%2Fsrc%2Fcommands%2Fon_enter.ts", "raw_url": "https://github.com/rust-lang/rust/raw/f2d719b24afd404dbaf26332ff314a6161c74b71/editors%2Fcode%2Fsrc%2Fcommands%2Fon_enter.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Fon_enter.ts?ref=f2d719b24afd404dbaf26332ff314a6161c74b71", "patch": "@@ -1,7 +1,10 @@\n import * as vscode from 'vscode';\n import * as lc from 'vscode-languageclient';\n import { Server } from '../server';\n-import { handle as applySourceChange, SourceChange } from './apply_source_change';\n+import {\n+    handle as applySourceChange,\n+    SourceChange\n+} from './apply_source_change';\n \n interface OnEnterParams {\n     textDocument: lc.TextDocumentIdentifier;\n@@ -10,12 +13,18 @@ interface OnEnterParams {\n \n export async function handle(event: { text: string }): Promise<boolean> {\n     const editor = vscode.window.activeTextEditor;\n-    if (editor == null || editor.document.languageId !== 'rust' || event.text !== '\\n') {\n+    if (\n+        editor == null ||\n+        editor.document.languageId !== 'rust' ||\n+        event.text !== '\\n'\n+    ) {\n         return false;\n     }\n     const request: OnEnterParams = {\n         textDocument: { uri: editor.document.uri.toString() },\n-        position: Server.client.code2ProtocolConverter.asPosition(editor.selection.active),\n+        position: Server.client.code2ProtocolConverter.asPosition(\n+            editor.selection.active\n+        )\n     };\n     const change = await Server.client.sendRequest<undefined | SourceChange>(\n         'm/onEnter',\n@@ -25,5 +34,5 @@ export async function handle(event: { text: string }): Promise<boolean> {\n         return false;\n     }\n     await applySourceChange(change);\n-    return true\n+    return true;\n }"}, {"sha": "ff8f23c7a78f2c110ab4db310c1b22816a6569f2", "filename": "editors/code/src/extension.ts", "status": "modified", "additions": 13, "deletions": 8, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/f2d719b24afd404dbaf26332ff314a6161c74b71/editors%2Fcode%2Fsrc%2Fextension.ts", "raw_url": "https://github.com/rust-lang/rust/raw/f2d719b24afd404dbaf26332ff314a6161c74b71/editors%2Fcode%2Fsrc%2Fextension.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fextension.ts?ref=f2d719b24afd404dbaf26332ff314a6161c74b71", "patch": "@@ -16,21 +16,26 @@ export function activate(context: vscode.ExtensionContext) {\n         disposeOnDeactivation(vscode.commands.registerCommand(name, f));\n     }\n     function overrideCommand(\n-\n         name: string,\n-        f: (...args: any[]) => Promise<boolean>,\n+        f: (...args: any[]) => Promise<boolean>\n     ) {\n         const defaultCmd = `default:${name}`;\n-        const original = async (...args: any[]) => await vscode.commands.executeCommand(defaultCmd, ...args);\n+        const original = async (...args: any[]) =>\n+            await vscode.commands.executeCommand(defaultCmd, ...args);\n+\n         registerCommand(name, async (...args: any[]) => {\n             const editor = vscode.window.activeTextEditor;\n-            if (!editor || !editor.document || editor.document.languageId !== 'rust') {\n+            if (\n+                !editor ||\n+                !editor.document ||\n+                editor.document.languageId !== 'rust'\n+            ) {\n                 return await original(...args);\n             }\n-            if (!await f(...args)) {\n+            if (!(await f(...args))) {\n                 return await original(...args);\n             }\n-        })\n+        });\n     }\n \n     // Commands are requests from vscode to the language server\n@@ -44,12 +49,12 @@ export function activate(context: vscode.ExtensionContext) {\n         'ra-lsp.applySourceChange',\n         commands.applySourceChange.handle\n     );\n-    overrideCommand('type', commands.on_enter.handle)\n+    overrideCommand('type', commands.onEnter.handle);\n \n     // Notifications are events triggered by the language server\n     const allNotifications: Iterable<\n         [string, lc.GenericNotificationHandler]\n-        > = [['m/publishDecorations', notifications.publishDecorations.handle]];\n+    > = [['m/publishDecorations', notifications.publishDecorations.handle]];\n \n     // The events below are plain old javascript events, triggered and handled by vscode\n     vscode.window.onDidChangeActiveTextEditor("}]}