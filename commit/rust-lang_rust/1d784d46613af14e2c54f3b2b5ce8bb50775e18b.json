{"sha": "1d784d46613af14e2c54f3b2b5ce8bb50775e18b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFkNzg0ZDQ2NjEzYWYxNGUyYzU0ZjNiMmI1Y2U4YmI1MDc3NWUxOGI=", "commit": {"author": {"name": "Alexis Beingessner", "email": "a.beingessner@gmail.com", "date": "2014-08-09T13:38:10Z"}, "committer": {"name": "Alexis Beingessner", "email": "a.beingessner@gmail.com", "date": "2014-08-09T19:59:49Z"}, "message": "rustdoc: use raw search in URL\n\nfixes #16385\nfixes #16271", "tree": {"sha": "4b8b8f07c78c9bf7fcc09d39d5c65f84c7b4bd15", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4b8b8f07c78c9bf7fcc09d39d5c65f84c7b4bd15"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1d784d46613af14e2c54f3b2b5ce8bb50775e18b", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1d784d46613af14e2c54f3b2b5ce8bb50775e18b", "html_url": "https://github.com/rust-lang/rust/commit/1d784d46613af14e2c54f3b2b5ce8bb50775e18b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1d784d46613af14e2c54f3b2b5ce8bb50775e18b/comments", "author": {"login": "Gankra", "id": 1136864, "node_id": "MDQ6VXNlcjExMzY4NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gankra", "html_url": "https://github.com/Gankra", "followers_url": "https://api.github.com/users/Gankra/followers", "following_url": "https://api.github.com/users/Gankra/following{/other_user}", "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions", "organizations_url": "https://api.github.com/users/Gankra/orgs", "repos_url": "https://api.github.com/users/Gankra/repos", "events_url": "https://api.github.com/users/Gankra/events{/privacy}", "received_events_url": "https://api.github.com/users/Gankra/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Gankra", "id": 1136864, "node_id": "MDQ6VXNlcjExMzY4NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gankra", "html_url": "https://github.com/Gankra", "followers_url": "https://api.github.com/users/Gankra/followers", "following_url": "https://api.github.com/users/Gankra/following{/other_user}", "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions", "organizations_url": "https://api.github.com/users/Gankra/orgs", "repos_url": "https://api.github.com/users/Gankra/repos", "events_url": "https://api.github.com/users/Gankra/events{/privacy}", "received_events_url": "https://api.github.com/users/Gankra/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f5ce0f0df106bde3b65a97079ebf8cd9e47bc20", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f5ce0f0df106bde3b65a97079ebf8cd9e47bc20", "html_url": "https://github.com/rust-lang/rust/commit/0f5ce0f0df106bde3b65a97079ebf8cd9e47bc20"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "7b5d1b7be2f63058bac01acf90f1d92cb21e7b6d", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1d784d46613af14e2c54f3b2b5ce8bb50775e18b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/1d784d46613af14e2c54f3b2b5ce8bb50775e18b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=1d784d46613af14e2c54f3b2b5ce8bb50775e18b", "patch": "@@ -368,7 +368,8 @@\n         }\n \n         function getQuery() {\n-            var matches, type, query = $('.search-input').val();\n+            var matches, type, query, raw = $('.search-input').val();\n+            query = raw;\n \n             matches = query.match(/^(fn|mod|struct|enum|trait|t(ype)?d(ef)?)\\s*:\\s*/i);\n             if (matches) {\n@@ -379,6 +380,7 @@\n             }\n \n             return {\n+                raw: raw,\n                 query: query,\n                 type: type,\n                 id: query + type,\n@@ -534,10 +536,10 @@\n             if (browserSupportsHistoryApi()) {\n                 if (!history.state && !params.search) {\n                     history.pushState(query, \"\", \"?search=\" +\n-                                                encodeURIComponent(query.query));\n+                                                encodeURIComponent(query.raw));\n                 } else {\n                     history.replaceState(query, \"\", \"?search=\" +\n-                                                encodeURIComponent(query.query));\n+                                                encodeURIComponent(query.raw));\n                 }\n             }\n "}]}