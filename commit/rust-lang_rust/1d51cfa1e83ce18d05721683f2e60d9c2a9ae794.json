{"sha": "1d51cfa1e83ce18d05721683f2e60d9c2a9ae794", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFkNTFjZmExZTgzY2UxOGQwNTcyMTY4M2YyZTYwZDljMmE5YWU3OTQ=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-09-28T23:26:59Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-09-28T23:27:09Z"}, "message": "Finish de-exporting send_map, future, pipes. Part of #3583.", "tree": {"sha": "043a365444e75fa5f4bda7c59170d762e3821440", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/043a365444e75fa5f4bda7c59170d762e3821440"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1d51cfa1e83ce18d05721683f2e60d9c2a9ae794", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1d51cfa1e83ce18d05721683f2e60d9c2a9ae794", "html_url": "https://github.com/rust-lang/rust/commit/1d51cfa1e83ce18d05721683f2e60d9c2a9ae794", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1d51cfa1e83ce18d05721683f2e60d9c2a9ae794/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e17d998e9530ee5a9da37f98dab2e33ad6a1d0f9", "url": "https://api.github.com/repos/rust-lang/rust/commits/e17d998e9530ee5a9da37f98dab2e33ad6a1d0f9", "html_url": "https://github.com/rust-lang/rust/commit/e17d998e9530ee5a9da37f98dab2e33ad6a1d0f9"}], "stats": {"total": 14, "additions": 4, "deletions": 10}, "files": [{"sha": "11eaff3dd54fb1cae52a1972eca6925ecb55b147", "filename": "src/libcore/core.rc", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/1d51cfa1e83ce18d05721683f2e60d9c2a9ae794/src%2Flibcore%2Fcore.rc", "raw_url": "https://github.com/rust-lang/rust/raw/1d51cfa1e83ce18d05721683f2e60d9c2a9ae794/src%2Flibcore%2Fcore.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcore.rc?ref=1d51cfa1e83ce18d05721683f2e60d9c2a9ae794", "patch": "@@ -234,7 +234,6 @@ mod dlist_iter {\n     #[legacy_exports]\n     mod inst;\n }\n-#[legacy_exports]\n mod send_map;\n \n // Concurrency\n@@ -252,9 +251,7 @@ mod task {\n     #[legacy_exports]\n     mod rt;\n }\n-#[legacy_exports]\n mod future;\n-#[legacy_exports]\n mod pipes;\n \n // Runtime and language-primitive support"}, {"sha": "bb82afa29450e7f07fbe5fb07b826178e79b318c", "filename": "src/libcore/pipes.rs", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/1d51cfa1e83ce18d05721683f2e60d9c2a9ae794/src%2Flibcore%2Fpipes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d51cfa1e83ce18d05721683f2e60d9c2a9ae794/src%2Flibcore%2Fpipes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fpipes.rs?ref=1d51cfa1e83ce18d05721683f2e60d9c2a9ae794", "patch": "@@ -112,7 +112,7 @@ pub struct BufferHeader {\n     // thing along.\n }\n \n-fn BufferHeader() -> BufferHeader{\n+pub fn BufferHeader() -> BufferHeader{\n     BufferHeader {\n         ref_count: 0\n     }\n@@ -239,7 +239,6 @@ pub fn entangle_buffer<T: Send, Tstart: Send>(\n #[abi = \"rust-intrinsic\"]\n #[doc(hidden)]\n extern mod rusti {\n-    #[legacy_exports];\n     fn atomic_xchg(dst: &mut int, +src: int) -> int;\n     fn atomic_xchg_acq(dst: &mut int, +src: int) -> int;\n     fn atomic_xchg_rel(dst: &mut int, +src: int) -> int;\n@@ -280,7 +279,6 @@ type rust_task = libc::c_void;\n \n #[doc(hidden)]\n extern mod rustrt {\n-    #[legacy_exports];\n     #[rust_stack]\n     fn rust_get_task() -> *rust_task;\n     #[rust_stack]\n@@ -1197,12 +1195,11 @@ pub fn try_send_one<T: Send>(+chan: ChanOne<T>, +data: T)\n     oneshot::client::try_send(move chan, move data).is_some()\n }\n \n-mod rt {\n-    #[legacy_exports];\n+pub mod rt {\n     // These are used to hide the option constructors from the\n     // compiler because their names are changing\n-    fn make_some<T>(+val: T) -> Option<T> { Some(move val) }\n-    fn make_none<T>() -> Option<T> { None }\n+    pub fn make_some<T>(+val: T) -> Option<T> { Some(move val) }\n+    pub fn make_none<T>() -> Option<T> { None }\n }\n \n #[cfg(test)]"}]}