{"sha": "8c0dfa31f44636ebd35282bff0d08a922b8a8c0f", "node_id": "C_kwDOAAsO6NoAKDhjMGRmYTMxZjQ0NjM2ZWJkMzUyODJiZmYwZDA4YTkyMmI4YThjMGY", "commit": {"author": {"name": "jyn", "email": "github@jyn.dev", "date": "2023-04-26T06:55:53Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-04-26T06:55:53Z"}, "message": "Rollup merge of #110817 - fmease:fix-109759, r=compiler-errors\n\nAdd regression tests for const-generic inherent associated types\n\nFixes #109759.\nThe tests are no longer failing since #96840 which was merged recently (#109410 is no longer necessary for them).\n\n`@rustbot` label F-inherent_associated_types", "tree": {"sha": "c3c70b5c296db14feab5ce713fc6ee5c52641b3a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c3c70b5c296db14feab5ce713fc6ee5c52641b3a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8c0dfa31f44636ebd35282bff0d08a922b8a8c0f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkSMr5CRBK7hj4Ov3rIwAAEZ4IAAaWQrtmfPx4B2zemWF0zPeL\ncDD1GJCDFHvWZAm+G1bak5D0LddMPUBizZzCr1caO6QP6//7u+idODzmgKLZU1qn\nWpsaqKI9tWk4WFGVYMNdiKfQMXn/1OHPGwmjnD07GWzlttKA8OyFDTeXUTXds4gk\nxq4Qobi8/BFI2yw6ltQGIBwnyINXAyEdOgYplRe8ON2SiM+lE1CwJ91CR28qMwko\nUYCtA62AP8h/KNKe+L0vNst6CoKLofpkXNxNYU2arD86l0yA7xSi3nyJ6E4LmRdC\naAcuB+VcButSSDNE64X7/OtjoLIoE5fRQd6Sl1louXSEZf2XyO7mevDAb/YAmmY=\n=aD96\n-----END PGP SIGNATURE-----\n", "payload": "tree c3c70b5c296db14feab5ce713fc6ee5c52641b3a\nparent a441144d89d03829f877fc96f90e2ad99596dd8a\nparent 2f354482b828578d629e1139e9b3471e44519118\nauthor jyn <github@jyn.dev> 1682492153 -0500\ncommitter GitHub <noreply@github.com> 1682492153 -0500\n\nRollup merge of #110817 - fmease:fix-109759, r=compiler-errors\n\nAdd regression tests for const-generic inherent associated types\n\nFixes #109759.\nThe tests are no longer failing since #96840 which was merged recently (#109410 is no longer necessary for them).\n\n`@rustbot` label F-inherent_associated_types\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8c0dfa31f44636ebd35282bff0d08a922b8a8c0f", "html_url": "https://github.com/rust-lang/rust/commit/8c0dfa31f44636ebd35282bff0d08a922b8a8c0f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8c0dfa31f44636ebd35282bff0d08a922b8a8c0f/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a441144d89d03829f877fc96f90e2ad99596dd8a", "url": "https://api.github.com/repos/rust-lang/rust/commits/a441144d89d03829f877fc96f90e2ad99596dd8a", "html_url": "https://github.com/rust-lang/rust/commit/a441144d89d03829f877fc96f90e2ad99596dd8a"}, {"sha": "2f354482b828578d629e1139e9b3471e44519118", "url": "https://api.github.com/repos/rust-lang/rust/commits/2f354482b828578d629e1139e9b3471e44519118", "html_url": "https://github.com/rust-lang/rust/commit/2f354482b828578d629e1139e9b3471e44519118"}], "stats": {"total": 51, "additions": 51, "deletions": 0}, "files": [{"sha": "5b7c00bccba701be97d9e949a062c007160ef7bc", "filename": "tests/ui/associated-inherent-types/const-generics.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/8c0dfa31f44636ebd35282bff0d08a922b8a8c0f/tests%2Fui%2Fassociated-inherent-types%2Fconst-generics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c0dfa31f44636ebd35282bff0d08a922b8a8c0f/tests%2Fui%2Fassociated-inherent-types%2Fconst-generics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fassociated-inherent-types%2Fconst-generics.rs?ref=8c0dfa31f44636ebd35282bff0d08a922b8a8c0f", "patch": "@@ -0,0 +1,23 @@\n+// Regression test for issue #109759.\n+// check-pass\n+\n+#![feature(inherent_associated_types)]\n+#![allow(incomplete_features)]\n+\n+struct Foo;\n+\n+struct Bar<const X: usize>([(); X]);\n+\n+impl<const X: usize> Bar<X> {\n+    pub fn new() -> Self {\n+        Self([(); X])\n+    }\n+}\n+\n+impl Foo {\n+    type Bar<const X: usize> = Bar<X>;\n+}\n+\n+fn main() {\n+    let _ = Foo::Bar::<10>::new();\n+}"}, {"sha": "a4ac0ecfa4cf936e4e806122043b85de3fe3bc31", "filename": "tests/ui/associated-inherent-types/generic-const-exprs.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/8c0dfa31f44636ebd35282bff0d08a922b8a8c0f/tests%2Fui%2Fassociated-inherent-types%2Fgeneric-const-exprs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c0dfa31f44636ebd35282bff0d08a922b8a8c0f/tests%2Fui%2Fassociated-inherent-types%2Fgeneric-const-exprs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fassociated-inherent-types%2Fgeneric-const-exprs.rs?ref=8c0dfa31f44636ebd35282bff0d08a922b8a8c0f", "patch": "@@ -0,0 +1,28 @@\n+// check-pass\n+\n+#![feature(inherent_associated_types, generic_const_exprs)]\n+#![allow(incomplete_features)]\n+\n+struct Parent<const O: usize>;\n+\n+impl<const O: usize> Parent<O> {\n+    type Mapping<const I: usize> = Store<{ O + I }>\n+    where\n+        [(); O + I]:\n+    ;\n+}\n+\n+struct Store<const N: usize>;\n+\n+impl<const N: usize> Store<N> {\n+    const REIFIED: usize = N;\n+\n+    fn reify() -> usize {\n+        N\n+    }\n+}\n+\n+fn main() {\n+    let _ = Parent::<2>::Mapping::<{ 12 * 2 }>::REIFIED;\n+    let _ = Parent::<1>::Mapping::<{ 2 * 5 }>::reify();\n+}"}]}