{"sha": "7bf026eed6924f7175e9df8c7c81ac2e2697daef", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiZjAyNmVlZDY5MjRmNzE3NWU5ZGY4YzdjODFhYzJlMjY5N2RhZWY=", "commit": {"author": {"name": "Jonathan Schwender", "email": "schwenderjonathan@gmail.com", "date": "2020-06-03T09:05:56Z"}, "committer": {"name": "Jonathan Schwender", "email": "schwenderjonathan@gmail.com", "date": "2020-06-03T09:05:56Z"}, "message": "Doc: unstable book - profile.md: improve wording\n\n- mention `--target` flag excludes RUSTFLAGS passing to build scripts and proc macros", "tree": {"sha": "169537f7ad5d65264f391f8c9de010c1357bbbd6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/169537f7ad5d65264f391f8c9de010c1357bbbd6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7bf026eed6924f7175e9df8c7c81ac2e2697daef", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEET02/mD9Y7iMa76F2AJoKzGAWgRMFAl7XZ/QACgkQAJoKzGAW\ngROdOw/9EMFap0GAOSTpm+ml4wD4+LLfTLirxO7mOSOIQNrg2gl9+hD0O/ZjMooE\n1OWBSM3T8weo+/CJURw8sAmtZFkUuWTJqmGMinjtVu2vSfXCeY9S1K7fMN+PGcsG\nvtB1IDqVpbxtTaR8CVySG8LY/ltLsWAE8St04jVnKPWTN/A0Sbn8KXx6M8+9C+36\nRKjVLQrEJM/LIQC271WFE1wZ9r1+GMqzBsMrBxwEwEu8qHjuYV6b4IZQ0xUeKs7z\nKhe9svtyL2DnoAafzR7YJ+5kiYZ7ZfkxJcx36OPcGZ7DDYgMNQxFERVgsKoIHGb8\nN4cnmwUqewWvikYzio52vGWAR8int6wPijPau7V6R5K+iqwwcktkUDShhi4BmdGv\n+sqk4g9qIgWBfC4AThS5/tD6eC1jj1FpdqpzLTRxecNFhobtu2h1hIFujFWSq2Ri\nmUCnUjZfnXGPjVN+P4W2pCpMQMSksc01ObVCFpxuvOcFP8t6PpL5srgLmEFettFn\nvviur38yP16RTKEtqKSL2e6yRX+KsRsMFgj8639lWj/KTDeTzA7VaAyaf9d3PNMz\ngBAiu3FGUfoENgxK4NcVmOzJlpSJGeAmeYGEb4lEUv/fQcwd5SwRYeGXb/vfJhAO\nMYLzFao4XFbZ6iFnMfQoz/j+iy1B15AKHfi4HCA3DPhpvTxFY9c=\n=/xKw\n-----END PGP SIGNATURE-----", "payload": "tree 169537f7ad5d65264f391f8c9de010c1357bbbd6\nparent 2b26b8b32bb2246caa0a82b6ea16f11da3686d0e\nauthor Jonathan Schwender <schwenderjonathan@gmail.com> 1591175156 +0200\ncommitter Jonathan Schwender <schwenderjonathan@gmail.com> 1591175156 +0200\n\nDoc: unstable book - profile.md: improve wording\n\n- mention `--target` flag excludes RUSTFLAGS passing to build scripts and proc macros\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7bf026eed6924f7175e9df8c7c81ac2e2697daef", "html_url": "https://github.com/rust-lang/rust/commit/7bf026eed6924f7175e9df8c7c81ac2e2697daef", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7bf026eed6924f7175e9df8c7c81ac2e2697daef/comments", "author": {"login": "jschwe", "id": 55576758, "node_id": "MDQ6VXNlcjU1NTc2NzU4", "avatar_url": "https://avatars.githubusercontent.com/u/55576758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jschwe", "html_url": "https://github.com/jschwe", "followers_url": "https://api.github.com/users/jschwe/followers", "following_url": "https://api.github.com/users/jschwe/following{/other_user}", "gists_url": "https://api.github.com/users/jschwe/gists{/gist_id}", "starred_url": "https://api.github.com/users/jschwe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jschwe/subscriptions", "organizations_url": "https://api.github.com/users/jschwe/orgs", "repos_url": "https://api.github.com/users/jschwe/repos", "events_url": "https://api.github.com/users/jschwe/events{/privacy}", "received_events_url": "https://api.github.com/users/jschwe/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jschwe", "id": 55576758, "node_id": "MDQ6VXNlcjU1NTc2NzU4", "avatar_url": "https://avatars.githubusercontent.com/u/55576758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jschwe", "html_url": "https://github.com/jschwe", "followers_url": "https://api.github.com/users/jschwe/followers", "following_url": "https://api.github.com/users/jschwe/following{/other_user}", "gists_url": "https://api.github.com/users/jschwe/gists{/gist_id}", "starred_url": "https://api.github.com/users/jschwe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jschwe/subscriptions", "organizations_url": "https://api.github.com/users/jschwe/orgs", "repos_url": "https://api.github.com/users/jschwe/repos", "events_url": "https://api.github.com/users/jschwe/events{/privacy}", "received_events_url": "https://api.github.com/users/jschwe/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2b26b8b32bb2246caa0a82b6ea16f11da3686d0e", "url": "https://api.github.com/repos/rust-lang/rust/commits/2b26b8b32bb2246caa0a82b6ea16f11da3686d0e", "html_url": "https://github.com/rust-lang/rust/commit/2b26b8b32bb2246caa0a82b6ea16f11da3686d0e"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "7973b3e4f2f322ad40bd1bcea87f85742de9e193", "filename": "src/doc/unstable-book/src/compiler-flags/profile.md", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/7bf026eed6924f7175e9df8c7c81ac2e2697daef/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fprofile.md", "raw_url": "https://github.com/rust-lang/rust/raw/7bf026eed6924f7175e9df8c7c81ac2e2697daef/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fprofile.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fprofile.md?ref=7bf026eed6924f7175e9df8c7c81ac2e2697daef", "patch": "@@ -21,6 +21,7 @@ cargo run\n Once you've built and run your program, files with the `gcno` (after build) and `gcda` (after execution) extensions will be created.\n You can parse them with [llvm-cov gcov](https://llvm.org/docs/CommandGuide/llvm-cov.html#llvm-cov-gcov) or [grcov](https://github.com/mozilla/grcov).\n \n-Please note that `RUSTFLAGS` apply to everything that cargo builds and runs during a build, including build scripts!\n-To avoid this, pass a `RUSTC_WRAPPER` program to cargo that only adds the profiling flags to rustc for the specific \n-crates you want to profile.\n+Please note that `RUSTFLAGS` by default applies to everything that cargo builds and runs during a build!\n+When the `--target` flag is explicitly passed to cargo, the `RUSTFLAGS` no longer apply to build scripts and procedural macros. \n+For more fine-grained control consider passing a `RUSTC_WRAPPER` program to cargo that only adds the profiling flags to \n+rustc for the specific crates you want to profile."}]}