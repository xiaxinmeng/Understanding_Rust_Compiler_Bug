{"sha": "7c6adb475abef794cc6b81f6a21094f3257ee37b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdjNmFkYjQ3NWFiZWY3OTRjYzZiODFmNmEyMTA5NGYzMjU3ZWUzN2I=", "commit": {"author": {"name": "\u0410\u0440\u0442\u0451\u043c \u041f\u0430\u0432\u043b\u043e\u0432 [Artyom Pavlov]", "email": "newpavlov@gmail.com", "date": "2018-02-11T00:27:04Z"}, "committer": {"name": "\u0410\u0440\u0442\u0451\u043c \u041f\u0430\u0432\u043b\u043e\u0432 [Artyom Pavlov]", "email": "newpavlov@gmail.com", "date": "2018-02-11T00:27:04Z"}, "message": "fixed errors", "tree": {"sha": "0cae65c30bfd8ae012c8c0fe2dc8dd4c76125b21", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0cae65c30bfd8ae012c8c0fe2dc8dd4c76125b21"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7c6adb475abef794cc6b81f6a21094f3257ee37b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJaf43YAAoJEBOpOZ+3fjNctBYP/3Su2kY/N1jc/vGNI81bSM12\nQN7V1iCKFHwiFytgvJTO+MJiu+HM/T82dvXLKLSR6kuJ8G3nLTbi34ceWX7O+1aD\n03KuVKG1/flztRbaMJmde6DV72MAAROuJlUSqqE2AhVZlgmHNPR3kA/zsAGQ7Jz/\nFmXCL7SJEQORVg1OhHwin6wNDMPHUpGOO86TjscmPESGYNUIohhX50WDoVTSDoHO\nqNeybTbPu4NMwyas6iMSUR/9Kh6oH00gD8SZ8uk+Pi3UW5xA/zipJ1pwCyDrWeON\n2pfCG9mwlKw5qbHVrxRPqaP+sZE3hC6ehtNVG7YNnaiH2FETF4F9MoRHvYNk5zSz\ndtptzlRXbHPBuS+3RwLH/yiUv9GVj/o3dqgs9uvlznJT8boXCHbDuS3KhFn/BrHI\nN89zW/f304w0iMQRDz1O+iEzvfoZ15YZqs/Urdvl3Krll6AH9XpX0enmQvzsZT+T\nbcXmvoTLEWnDLfdbHtROH5czyf2DEKIBVE9A1yghz42V22sYMCRngRs7PBHNTljb\nR1W20AeNUfiZZLqKCswbR9jJWPwUFMwTD7HwPiqVKszm+nQjC3yVAB4TOjbsvUr/\nUD/gAbkQhgj7jtFtm1MwXQmNB1XkA4yB0oCsFIUjwm7DYrZ3daRbyphgzNK3VC4e\nDeDjCqgRXKmt9JkDl7lk\n=UX6K\n-----END PGP SIGNATURE-----", "payload": "tree 0cae65c30bfd8ae012c8c0fe2dc8dd4c76125b21\nparent c97aa0911785fc1c1306b38e978093b3153666ec\nauthor \u0410\u0440\u0442\u0451\u043c \u041f\u0430\u0432\u043b\u043e\u0432 [Artyom Pavlov] <newpavlov@gmail.com> 1518308824 +0300\ncommitter \u0410\u0440\u0442\u0451\u043c \u041f\u0430\u0432\u043b\u043e\u0432 [Artyom Pavlov] <newpavlov@gmail.com> 1518308824 +0300\n\nfixed errors\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7c6adb475abef794cc6b81f6a21094f3257ee37b", "html_url": "https://github.com/rust-lang/rust/commit/7c6adb475abef794cc6b81f6a21094f3257ee37b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7c6adb475abef794cc6b81f6a21094f3257ee37b/comments", "author": {"login": "newpavlov", "id": 329626, "node_id": "MDQ6VXNlcjMyOTYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/329626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/newpavlov", "html_url": "https://github.com/newpavlov", "followers_url": "https://api.github.com/users/newpavlov/followers", "following_url": "https://api.github.com/users/newpavlov/following{/other_user}", "gists_url": "https://api.github.com/users/newpavlov/gists{/gist_id}", "starred_url": "https://api.github.com/users/newpavlov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/newpavlov/subscriptions", "organizations_url": "https://api.github.com/users/newpavlov/orgs", "repos_url": "https://api.github.com/users/newpavlov/repos", "events_url": "https://api.github.com/users/newpavlov/events{/privacy}", "received_events_url": "https://api.github.com/users/newpavlov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "newpavlov", "id": 329626, "node_id": "MDQ6VXNlcjMyOTYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/329626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/newpavlov", "html_url": "https://github.com/newpavlov", "followers_url": "https://api.github.com/users/newpavlov/followers", "following_url": "https://api.github.com/users/newpavlov/following{/other_user}", "gists_url": "https://api.github.com/users/newpavlov/gists{/gist_id}", "starred_url": "https://api.github.com/users/newpavlov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/newpavlov/subscriptions", "organizations_url": "https://api.github.com/users/newpavlov/orgs", "repos_url": "https://api.github.com/users/newpavlov/repos", "events_url": "https://api.github.com/users/newpavlov/events{/privacy}", "received_events_url": "https://api.github.com/users/newpavlov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c97aa0911785fc1c1306b38e978093b3153666ec", "url": "https://api.github.com/repos/rust-lang/rust/commits/c97aa0911785fc1c1306b38e978093b3153666ec", "html_url": "https://github.com/rust-lang/rust/commit/c97aa0911785fc1c1306b38e978093b3153666ec"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "1f921513fe6286648933a43ca10c714a8f48ee56", "filename": "src/librustc_trans/llvm_util.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7c6adb475abef794cc6b81f6a21094f3257ee37b/src%2Flibrustc_trans%2Fllvm_util.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7c6adb475abef794cc6b81f6a21094f3257ee37b/src%2Flibrustc_trans%2Fllvm_util.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fllvm_util.rs?ref=7c6adb475abef794cc6b81f6a21094f3257ee37b", "patch": "@@ -14,7 +14,7 @@ use llvm;\n use rustc::session::Session;\n use rustc::session::config::PrintRequest;\n use libc::c_int;\n-use std::ffi::{CStr, CString};\n+use std::ffi::CString;\n \n use std::sync::atomic::{AtomicBool, Ordering};\n use std::sync::Once;\n@@ -118,14 +118,14 @@ pub fn target_features(sess: &Session) -> Vec<Symbol> {\n         .iter()\n         .filter(|feature| {\n             let llvm_feature = to_llvm_feature(feature);\n-            let ptr = CString::new(llvm_feature).as_ptr();\n+            let ptr = CString::new(llvm_feature).unwrap().as_ptr();\n             unsafe { llvm::LLVMRustHasFeature(target_machine, ptr) }\n         })\n-        .map(Symbol::intern).collect()\n+        .map(|feature| Symbol::intern(feature)).collect()\n }\n \n pub fn target_feature_whitelist(sess: &Session) -> &'static [&'static str] {\n-    let whitelist = match &*sess.target.target.arch {\n+    match &*sess.target.target.arch {\n         \"arm\" => ARM_WHITELIST,\n         \"aarch64\" => AARCH64_WHITELIST,\n         \"x86\" | \"x86_64\" => X86_WHITELIST,"}]}