{"sha": "72a0db8dc46c63409a93745d04758049515abaf0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcyYTBkYjhkYzQ2YzYzNDA5YTkzNzQ1ZDA0NzU4MDQ5NTE1YWJhZjA=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-04-10T18:25:55Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-04-10T18:25:55Z"}, "message": "profile queries", "tree": {"sha": "e03868f7211a0be13848356f211a4b9b19086fb2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e03868f7211a0be13848356f211a4b9b19086fb2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/72a0db8dc46c63409a93745d04758049515abaf0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/72a0db8dc46c63409a93745d04758049515abaf0", "html_url": "https://github.com/rust-lang/rust/commit/72a0db8dc46c63409a93745d04758049515abaf0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/72a0db8dc46c63409a93745d04758049515abaf0/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "428d4dfe710f7fe7564e6db82c4b44caaf84655d", "url": "https://api.github.com/repos/rust-lang/rust/commits/428d4dfe710f7fe7564e6db82c4b44caaf84655d", "html_url": "https://github.com/rust-lang/rust/commit/428d4dfe710f7fe7564e6db82c4b44caaf84655d"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "d96ac8c0ae1c4cda46f2174d859334f456cf1124", "filename": "crates/ra_hir_def/src/lang_item.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/72a0db8dc46c63409a93745d04758049515abaf0/crates%2Fra_hir_def%2Fsrc%2Flang_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/72a0db8dc46c63409a93745d04758049515abaf0/crates%2Fra_hir_def%2Fsrc%2Flang_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_def%2Fsrc%2Flang_item.rs?ref=72a0db8dc46c63409a93745d04758049515abaf0", "patch": "@@ -4,6 +4,7 @@\n //! features, such as Fn family of traits.\n use std::sync::Arc;\n \n+use ra_prof::profile;\n use ra_syntax::SmolStr;\n use rustc_hash::FxHashMap;\n \n@@ -78,6 +79,8 @@ impl LangItems {\n \n     /// Salsa query. This will look for lang items in a specific crate.\n     pub(crate) fn crate_lang_items_query(db: &dyn DefDatabase, krate: CrateId) -> Arc<LangItems> {\n+        let _p = profile(\"crate_lang_items_query\");\n+\n         let mut lang_items = LangItems::default();\n \n         let crate_def_map = db.crate_def_map(krate);\n@@ -95,6 +98,7 @@ impl LangItems {\n         db: &dyn DefDatabase,\n         module: ModuleId,\n     ) -> Option<Arc<LangItems>> {\n+        let _p = profile(\"module_lang_items_query\");\n         let mut lang_items = LangItems::default();\n         lang_items.collect_lang_items(db, module);\n         if lang_items.items.is_empty() {\n@@ -111,6 +115,7 @@ impl LangItems {\n         start_crate: CrateId,\n         item: SmolStr,\n     ) -> Option<LangItemTarget> {\n+        let _p = profile(\"lang_item_query\");\n         let lang_items = db.crate_lang_items(start_crate);\n         let start_crate_target = lang_items.items.get(&item);\n         if let Some(target) = start_crate_target {"}]}