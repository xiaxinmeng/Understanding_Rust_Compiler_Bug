{"sha": "583b382debc028d7003850ca6970798515a2fbee", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU4M2IzODJkZWJjMDI4ZDcwMDM4NTBjYTY5NzA3OTg1MTVhMmZiZWU=", "commit": {"author": {"name": "Ed Schouten", "email": "ed@nuxi.nl", "date": "2018-01-24T07:30:17Z"}, "committer": {"name": "Ed Schouten", "email": "ed@nuxi.nl", "date": "2018-01-24T07:30:17Z"}, "message": "Remove workarounds for cc 1.0.3.\n\nNow that the Rust codebase depends on cc 1.0.4, there is no longer any\nneed to specify a compiler for CloudABI manually. Cargo will\nautomatically call into the right compiler executable.", "tree": {"sha": "551911124faf4d480a02ef46088dbdc2b2be3b60", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/551911124faf4d480a02ef46088dbdc2b2be3b60"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/583b382debc028d7003850ca6970798515a2fbee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/583b382debc028d7003850ca6970798515a2fbee", "html_url": "https://github.com/rust-lang/rust/commit/583b382debc028d7003850ca6970798515a2fbee", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/583b382debc028d7003850ca6970798515a2fbee/comments", "author": {"login": "EdSchouten", "id": 736085, "node_id": "MDQ6VXNlcjczNjA4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/736085?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EdSchouten", "html_url": "https://github.com/EdSchouten", "followers_url": "https://api.github.com/users/EdSchouten/followers", "following_url": "https://api.github.com/users/EdSchouten/following{/other_user}", "gists_url": "https://api.github.com/users/EdSchouten/gists{/gist_id}", "starred_url": "https://api.github.com/users/EdSchouten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EdSchouten/subscriptions", "organizations_url": "https://api.github.com/users/EdSchouten/orgs", "repos_url": "https://api.github.com/users/EdSchouten/repos", "events_url": "https://api.github.com/users/EdSchouten/events{/privacy}", "received_events_url": "https://api.github.com/users/EdSchouten/received_events", "type": "User", "site_admin": false}, "committer": {"login": "EdSchouten", "id": 736085, "node_id": "MDQ6VXNlcjczNjA4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/736085?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EdSchouten", "html_url": "https://github.com/EdSchouten", "followers_url": "https://api.github.com/users/EdSchouten/followers", "following_url": "https://api.github.com/users/EdSchouten/following{/other_user}", "gists_url": "https://api.github.com/users/EdSchouten/gists{/gist_id}", "starred_url": "https://api.github.com/users/EdSchouten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EdSchouten/subscriptions", "organizations_url": "https://api.github.com/users/EdSchouten/orgs", "repos_url": "https://api.github.com/users/EdSchouten/repos", "events_url": "https://api.github.com/users/EdSchouten/events{/privacy}", "received_events_url": "https://api.github.com/users/EdSchouten/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a538fe7ce715c7bd27e2e05329c3d857b9ad92af", "url": "https://api.github.com/repos/rust-lang/rust/commits/a538fe7ce715c7bd27e2e05329c3d857b9ad92af", "html_url": "https://github.com/rust-lang/rust/commit/a538fe7ce715c7bd27e2e05329c3d857b9ad92af"}], "stats": {"total": 13, "additions": 0, "deletions": 13}, "files": [{"sha": "5f342eb570502bd4897e896d20b6692ab201b0c8", "filename": "src/ci/docker/dist-various-2/Dockerfile", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/583b382debc028d7003850ca6970798515a2fbee/src%2Fci%2Fdocker%2Fdist-various-2%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/583b382debc028d7003850ca6970798515a2fbee/src%2Fci%2Fdocker%2Fdist-various-2%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-various-2%2FDockerfile?ref=583b382debc028d7003850ca6970798515a2fbee", "patch": "@@ -47,13 +47,6 @@ ENV \\\n     CC_x86_64_sun_solaris=x86_64-sun-solaris2.10-gcc \\\n     CXX_x86_64_sun_solaris=x86_64-sun-solaris2.10-g++\n \n-# FIXME(EdSchouten): Remove this once cc \u22651.0.4 has been merged. It can\n-# automatically pick the right compiler path.\n-ENV \\\n-    AR_x86_64_unknown_cloudabi=x86_64-unknown-cloudabi-ar \\\n-    CC_x86_64_unknown_cloudabi=x86_64-unknown-cloudabi-clang \\\n-    CXX_x86_64_unknown_cloudabi=x86_64-unknown-cloudabi-clang++\n-\n ENV TARGETS=x86_64-unknown-fuchsia\n ENV TARGETS=$TARGETS,aarch64-unknown-fuchsia\n ENV TARGETS=$TARGETS,sparcv9-sun-solaris"}, {"sha": "8c04d849e8d0a9d5f800c4c8878ed2cde026d22e", "filename": "src/ci/docker/dist-various-2/build-cloudabi-toolchain.sh", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/583b382debc028d7003850ca6970798515a2fbee/src%2Fci%2Fdocker%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/583b382debc028d7003850ca6970798515a2fbee/src%2Fci%2Fdocker%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh?ref=583b382debc028d7003850ca6970798515a2fbee", "patch": "@@ -40,12 +40,6 @@ ln -s ../lib/llvm-5.0/bin/clang /usr/bin/${target}-c++\n ln -s ../lib/llvm-5.0/bin/lld /usr/bin/${target}-ld\n ln -s ../../${target} /usr/lib/llvm-5.0/${target}\n \n-# FIXME(EdSchouten): Remove this once cc \u22651.0.4 has been merged. It\n-# can make use of ${target}-cc and ${target}-c++, without incorrectly\n-# assuming it's MSVC.\n-ln -s ../lib/llvm-5.0/bin/clang /usr/bin/${target}-clang\n-ln -s ../lib/llvm-5.0/bin/clang /usr/bin/${target}-clang++\n-\n # Install the C++ runtime libraries from CloudABI Ports.\n echo deb https://nuxi.nl/distfiles/cloudabi-ports/debian/ cloudabi cloudabi > \\\n     /etc/apt/sources.list.d/cloudabi.list"}]}