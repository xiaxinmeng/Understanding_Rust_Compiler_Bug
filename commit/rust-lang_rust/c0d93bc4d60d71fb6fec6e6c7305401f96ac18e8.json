{"sha": "c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMwZDkzYmM0ZDYwZDcxZmI2ZmVjNmU2YzczMDU0MDFmOTZhYzE4ZTg=", "commit": {"author": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2021-05-19T18:23:26Z"}, "committer": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2021-05-19T18:23:26Z"}, "message": "Clarify field name", "tree": {"sha": "fe7a3e29f122ae4eb6f1357002949f3487bf51a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe7a3e29f122ae4eb6f1357002949f3487bf51a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8", "html_url": "https://github.com/rust-lang/rust/commit/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8/comments", "author": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea8555b1552f6c08043f84885e47a196320da376", "url": "https://api.github.com/repos/rust-lang/rust/commits/ea8555b1552f6c08043f84885e47a196320da376", "html_url": "https://github.com/rust-lang/rust/commit/ea8555b1552f6c08043f84885e47a196320da376"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "94d7aecb6fa7dfbbb94e5f66b38cd069904bae75", "filename": "crates/hir_expand/src/builtin_macro.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8/crates%2Fhir_expand%2Fsrc%2Fbuiltin_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8/crates%2Fhir_expand%2Fsrc%2Fbuiltin_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_expand%2Fsrc%2Fbuiltin_macro.rs?ref=c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8", "patch": "@@ -625,7 +625,7 @@ mod tests {\n                     def,\n                     krate,\n                     eager: Some(EagerCallInfo {\n-                        expansion: Arc::new(parsed_args.clone()),\n+                        arg_or_expansion: Arc::new(parsed_args.clone()),\n                         included_file: None,\n                     }),\n                     kind: MacroCallKind::FnLike { ast_id: call_id, fragment: FragmentKind::Expr },\n@@ -636,7 +636,7 @@ mod tests {\n                     def,\n                     krate,\n                     eager: Some(EagerCallInfo {\n-                        expansion: Arc::new(expanded.subtree),\n+                        arg_or_expansion: Arc::new(expanded.subtree),\n                         included_file: expanded.included_file,\n                     }),\n                     kind: MacroCallKind::FnLike { ast_id: call_id, fragment: expanded.fragment },"}, {"sha": "5c769c1bf2c44605855c5aca7774552263e3f66b", "filename": "crates/hir_expand/src/db.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8/crates%2Fhir_expand%2Fsrc%2Fdb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8/crates%2Fhir_expand%2Fsrc%2Fdb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_expand%2Fsrc%2Fdb.rs?ref=c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8", "patch": "@@ -329,7 +329,7 @@ fn macro_expand_with_arg(\n             );\n         } else {\n             return ExpandResult {\n-                value: Some(eager.expansion.clone()),\n+                value: Some(eager.arg_or_expansion.clone()),\n                 // FIXME: There could be errors here!\n                 err: None,\n             };"}, {"sha": "e165b9c5fb7d195cc8dc6c78619dc1a6ff940ac2", "filename": "crates/hir_expand/src/eager.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8/crates%2Fhir_expand%2Fsrc%2Feager.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8/crates%2Fhir_expand%2Fsrc%2Feager.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_expand%2Fsrc%2Feager.rs?ref=c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8", "patch": "@@ -122,7 +122,7 @@ pub fn expand_eager_macro(\n         def,\n         krate,\n         eager: Some(EagerCallInfo {\n-            expansion: Arc::new(parsed_args.clone()),\n+            arg_or_expansion: Arc::new(parsed_args.clone()),\n             included_file: None,\n         }),\n         kind: MacroCallKind::FnLike { ast_id: call_id, fragment: FragmentKind::Expr },\n@@ -149,7 +149,7 @@ pub fn expand_eager_macro(\n             def,\n             krate,\n             eager: Some(EagerCallInfo {\n-                expansion: Arc::new(expanded.subtree),\n+                arg_or_expansion: Arc::new(expanded.subtree),\n                 included_file: expanded.included_file,\n             }),\n             kind: MacroCallKind::FnLike { ast_id: call_id, fragment: expanded.fragment },"}, {"sha": "b93c0c3456c78c676f71780e9292150185548b07", "filename": "crates/hir_expand/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8/crates%2Fhir_expand%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8/crates%2Fhir_expand%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_expand%2Fsrc%2Flib.rs?ref=c0d93bc4d60d71fb6fec6e6c7305401f96ac18e8", "patch": "@@ -231,7 +231,7 @@ pub enum MacroDefKind {\n #[derive(Debug, Clone, PartialEq, Eq, Hash)]\n struct EagerCallInfo {\n     /// NOTE: This can be *either* the expansion result, *or* the argument to the eager macro!\n-    expansion: Arc<tt::Subtree>,\n+    arg_or_expansion: Arc<tt::Subtree>,\n     included_file: Option<FileId>,\n }\n "}]}