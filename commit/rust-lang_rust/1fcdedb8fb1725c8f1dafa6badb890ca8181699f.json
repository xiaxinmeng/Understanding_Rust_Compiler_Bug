{"sha": "1fcdedb8fb1725c8f1dafa6badb890ca8181699f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFmY2RlZGI4ZmIxNzI1YzhmMWRhZmE2YmFkYjg5MGNhODE4MTY5OWY=", "commit": {"author": {"name": "mitaa", "email": "mitaa.ceb@gmail.com", "date": "2016-02-03T15:07:40Z"}, "committer": {"name": "mitaa", "email": "mitaa.ceb@gmail.com", "date": "2016-02-03T15:54:37Z"}, "message": "Fix rendering of single-char-span\n\nA span spanning only a single character would render like `^~`\ninstead of just `^`.", "tree": {"sha": "182ce7a5c449ad081ad0f6929ff964d8b70314f8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/182ce7a5c449ad081ad0f6929ff964d8b70314f8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1fcdedb8fb1725c8f1dafa6badb890ca8181699f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1fcdedb8fb1725c8f1dafa6badb890ca8181699f", "html_url": "https://github.com/rust-lang/rust/commit/1fcdedb8fb1725c8f1dafa6badb890ca8181699f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1fcdedb8fb1725c8f1dafa6badb890ca8181699f/comments", "author": {"login": "mitaa", "id": 6785936, "node_id": "MDQ6VXNlcjY3ODU5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/6785936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mitaa", "html_url": "https://github.com/mitaa", "followers_url": "https://api.github.com/users/mitaa/followers", "following_url": "https://api.github.com/users/mitaa/following{/other_user}", "gists_url": "https://api.github.com/users/mitaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/mitaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mitaa/subscriptions", "organizations_url": "https://api.github.com/users/mitaa/orgs", "repos_url": "https://api.github.com/users/mitaa/repos", "events_url": "https://api.github.com/users/mitaa/events{/privacy}", "received_events_url": "https://api.github.com/users/mitaa/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mitaa", "id": 6785936, "node_id": "MDQ6VXNlcjY3ODU5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/6785936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mitaa", "html_url": "https://github.com/mitaa", "followers_url": "https://api.github.com/users/mitaa/followers", "following_url": "https://api.github.com/users/mitaa/following{/other_user}", "gists_url": "https://api.github.com/users/mitaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/mitaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mitaa/subscriptions", "organizations_url": "https://api.github.com/users/mitaa/orgs", "repos_url": "https://api.github.com/users/mitaa/repos", "events_url": "https://api.github.com/users/mitaa/events{/privacy}", "received_events_url": "https://api.github.com/users/mitaa/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db6f888e7830b0b91a03b2cf141ba0511adaca5b", "url": "https://api.github.com/repos/rust-lang/rust/commits/db6f888e7830b0b91a03b2cf141ba0511adaca5b", "html_url": "https://github.com/rust-lang/rust/commit/db6f888e7830b0b91a03b2cf141ba0511adaca5b"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "4272f281edb4405514d33535051f7fac3d6a929b", "filename": "src/libsyntax/errors/emitter.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/1fcdedb8fb1725c8f1dafa6badb890ca8181699f/src%2Flibsyntax%2Ferrors%2Femitter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1fcdedb8fb1725c8f1dafa6badb890ca8181699f/src%2Flibsyntax%2Ferrors%2Femitter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ferrors%2Femitter.rs?ref=1fcdedb8fb1725c8f1dafa6badb890ca8181699f", "patch": "@@ -410,7 +410,7 @@ impl EmitterWriter {\n                         chars.next();\n                     }\n                 }\n-                if (col - col_ptr) > 1 {\n+                if (col - col_ptr) > 0 {\n                     // One extra squiggly is replaced by a \"^\"\n                     s.pop();\n                 }\n@@ -962,7 +962,7 @@ mod test {\n                    _____\\n\\\n                    ddd__eee_\\n\\\n                    elided\\n\\\n-                   _ff_gg\";\n+                   __f_gg\";\n         let file = cm.new_filemap_and_lines(\"dummy.txt\", inp);\n \n         let span = |lo, hi, (off_lo, off_hi)| {\n@@ -976,7 +976,7 @@ mod test {\n         let sp1 = span(0, 6, (0, 5));\n         let sp2 = span(8, 8, (0, 3));\n         let sp3 = span(8, 8, (5, 8));\n-        let sp4 = span(10, 10, (1, 3));\n+        let sp4 = span(10, 10, (2, 3));\n         let sp5 = span(10, 10, (4, 6));\n \n         let expect0 = \"dummy.txt: 5 ccccc\\n\\\n@@ -986,8 +986,8 @@ mod test {\n                        dummy.txt: 9 ddd__eee_\\n\\\n                     \\x20            ^~~  ^~~\\n\\\n                     \\x20            ...\\n\\\n-                       dummy.txt:11 _ff_gg\\n\\\n-                    \\x20             ^~ ^~\\n\";\n+                       dummy.txt:11 __f_gg\\n\\\n+                    \\x20              ^ ^~\\n\";\n \n         let expect = \"dummy.txt: 1 aaaaa\\n\\\n                       dummy.txt: 2 aaaaa\\n\\\n@@ -1008,8 +1008,8 @@ mod test {\n         let expect2 = \"dummy.txt: 9 ddd__eee_\\n\\\n                     \\x20            ^~~  ^~~\\n\\\n                     \\x20            ...\\n\\\n-                       dummy.txt:11 _ff_gg\\n\\\n-                    \\x20             ^~ ^~\\n\";\n+                       dummy.txt:11 __f_gg\\n\\\n+                    \\x20              ^ ^~\\n\";\n \n \n         let expect_end = \"dummy.txt: 1 aaaaa\\n\\\n@@ -1020,7 +1020,7 @@ mod test {\n                           dummy.txt: 9 ddd__eee_\\n\\\n                        \\x20              ^    ^\\n\\\n                        \\x20            ...\\n\\\n-                          dummy.txt:11 _ff_gg\\n\\\n+                          dummy.txt:11 __f_gg\\n\\\n                        \\x20              ^  ^\\n\";\n \n         let expect0_end = \"dummy.txt: 5 ccccc\\n\\\n@@ -1031,7 +1031,7 @@ mod test {\n                            dummy.txt: 9 ddd__eee_\\n\\\n                         \\x20              ^    ^\\n\\\n                         \\x20            ...\\n\\\n-                           dummy.txt:11 _ff_gg\\n\\\n+                           dummy.txt:11 __f_gg\\n\\\n                         \\x20              ^  ^\\n\";\n \n         let expect_end_g1 = \"dummy.txt:1 aaaaa\\n\\\n@@ -1042,7 +1042,7 @@ mod test {\n         let expect2_end = \"dummy.txt: 9 ddd__eee_\\n\\\n                         \\x20              ^    ^\\n\\\n                         \\x20            ...\\n\\\n-                           dummy.txt:11 _ff_gg\\n\\\n+                           dummy.txt:11 __f_gg\\n\\\n                         \\x20              ^  ^\\n\";\n \n         let expect_groups = [expect2, expect_g1];"}]}