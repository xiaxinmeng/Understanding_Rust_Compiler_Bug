{"sha": "bbac29c0950c780af5a9aea707d4ff30c046be45", "node_id": "C_kwDOAAsO6NoAKGJiYWMyOWMwOTUwYzc4MGFmNWE5YWVhNzA3ZDRmZjMwYzA0NmJlNDU", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-10-17T20:54:42Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-10-18T02:09:26Z"}, "message": "rustdoc: remove CSS `@media (min-width: 701px)`\n\nThe two rules within it can and should be done without the separate\nmedia query:\n\n  * There ain't no rule saying a viewport can't be `700.5px` wide, since\n    hardware pixels can be finer than CSS pixels.\n\n  * The rule for the first example-wrap child should probably apply\n    on mobile.\n\n  * The rule for the source sidebar is overriden by the mobile rule\n    setting `max-width: 100vw`, so it can be merged with the rest\n    of the styles.", "tree": {"sha": "40cf235269138787cd4abab7a8af5be204f8efde", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/40cf235269138787cd4abab7a8af5be204f8efde"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bbac29c0950c780af5a9aea707d4ff30c046be45", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bbac29c0950c780af5a9aea707d4ff30c046be45", "html_url": "https://github.com/rust-lang/rust/commit/bbac29c0950c780af5a9aea707d4ff30c046be45", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bbac29c0950c780af5a9aea707d4ff30c046be45/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "194140bef501ad3acb00d57c20fb80ee34aa1d3b", "url": "https://api.github.com/repos/rust-lang/rust/commits/194140bef501ad3acb00d57c20fb80ee34aa1d3b", "html_url": "https://github.com/rust-lang/rust/commit/194140bef501ad3acb00d57c20fb80ee34aa1d3b"}], "stats": {"total": 32, "additions": 11, "deletions": 21}, "files": [{"sha": "7b6f52b0acf69c2ffb717113f9969d5fc2754856", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 10, "deletions": 20, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/bbac29c0950c780af5a9aea707d4ff30c046be45/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/bbac29c0950c780af5a9aea707d4ff30c046be45/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=bbac29c0950c780af5a9aea707d4ff30c046be45", "patch": "@@ -437,6 +437,7 @@ img {\n \n .source-sidebar-expanded .source .sidebar {\n \toverflow-y: auto;\n+\twidth: 300px;\n }\n \n .source-sidebar-expanded .source .sidebar > *:not(#sidebar-toggle) {\n@@ -1692,31 +1693,20 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \tdisplay: inline-block;\n }\n \n-/* Media Queries */\n-\n-/*\n-WARNING: RUSTDOC_MOBILE_BREAKPOINT MEDIA QUERY;\n-If you update this line, then you also need to update the line with the same warning\n-in storage.js plus the media query with (max-width: 700px)\n-*/\n-@media (min-width: 701px) {\n-\t/* In case there is no documentation before a code block, we need to add some margin at the top\n-\tto prevent an overlay between the \"collapse toggle\" and the information tooltip.\n-\tHowever, it's not needed with smaller screen width because the doc/code block is always put\n-\t\"one line\" below. */\n-\t.docblock > .example-wrap:first-child .tooltip {\n-\t\tmargin-top: 16px;\n-\t}\n-\n-\t.source-sidebar-expanded .source .sidebar {\n-\t\twidth: 300px;\n-\t}\n+/* In case there is no documentation before a code block, we need to add some margin at the top\n+to prevent an overlay between the \"collapse toggle\" and the information tooltip.\n+However, it's not needed with smaller screen width because the doc/code block is always put\n+\"one line\" below. */\n+.docblock > .example-wrap:first-child .tooltip {\n+\tmargin-top: 16px;\n }\n \n+/* Media Queries */\n+\n /*\n WARNING: RUSTDOC_MOBILE_BREAKPOINT MEDIA QUERY\n If you update this line, then you also need to update the line with the same warning\n-in storage.js plus the media query with (min-width: 701px)\n+in storage.js\n */\n @media (max-width: 700px) {\n \t/* When linking to an item with an `id` (for instance, by clicking a link in the sidebar,"}, {"sha": "5fbad357f378119e8bcbfe9ad1f56a740b53ab92", "filename": "src/librustdoc/html/static/js/storage.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bbac29c0950c780af5a9aea707d4ff30c046be45/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js", "raw_url": "https://github.com/rust-lang/rust/raw/bbac29c0950c780af5a9aea707d4ff30c046be45/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js?ref=bbac29c0950c780af5a9aea707d4ff30c046be45", "patch": "@@ -10,7 +10,7 @@ window.currentTheme = document.getElementById(\"themeStyle\");\n window.mainTheme = document.getElementById(\"mainThemeStyle\");\n \n // WARNING: RUSTDOC_MOBILE_BREAKPOINT MEDIA QUERY\n-// If you update this line, then you also need to update the two media queries with the same\n+// If you update this line, then you also need to update the media query with the same\n // warning in rustdoc.css\n window.RUSTDOC_MOBILE_BREAKPOINT = 701;\n "}]}