{"sha": "9150f844e2624eb013ec78ca08c1d416e6644026", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkxNTBmODQ0ZTI2MjRlYjAxM2VjNzhjYTA4YzFkNDE2ZTY2NDQwMjY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-09-17T14:43:44Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-09-17T14:43:44Z"}, "message": "Auto merge of #64517 - alexcrichton:less-assertions, r=pietroalbini\n\nazure: Disable more LLVM/debug assertions in\n\nThis commit disables LLVM/debug assertions in our 5 slowest builders:\n\n* i686-gnu\n* i686-gnu-nopt\n* i686-msvc-1\n* i686-msvc-2\n* x86_64-msvc-cargo\n\nThis is reducing the amount of test coverage for LLVM/debug assertions,\nbut we're just unfortunately running out of time on CI too many times.\nSome test builds have shown that i686-gnu drops nearly an hour of CI\ntime by disabling these two assertions. Perhaps when we eventually get\n4-core machines we can reenable these, but for now turn them off and\nhook them up to the tracking issue at #59637 which will ideally be\nrepurposes to tracking all of these.", "tree": {"sha": "df8a56554709528ba7edcab1d9b4fa917fe0f03a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/df8a56554709528ba7edcab1d9b4fa917fe0f03a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9150f844e2624eb013ec78ca08c1d416e6644026", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9150f844e2624eb013ec78ca08c1d416e6644026", "html_url": "https://github.com/rust-lang/rust/commit/9150f844e2624eb013ec78ca08c1d416e6644026", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9150f844e2624eb013ec78ca08c1d416e6644026/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f504e37dc64b2f00291f53517fe9cb2329d00fb8", "url": "https://api.github.com/repos/rust-lang/rust/commits/f504e37dc64b2f00291f53517fe9cb2329d00fb8", "html_url": "https://github.com/rust-lang/rust/commit/f504e37dc64b2f00291f53517fe9cb2329d00fb8"}, {"sha": "821d293283f939272efecf8dd8c401c818c4428d", "url": "https://api.github.com/repos/rust-lang/rust/commits/821d293283f939272efecf8dd8c401c818c4428d", "html_url": "https://github.com/rust-lang/rust/commit/821d293283f939272efecf8dd8c401c818c4428d"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "1656066eb29c9d8ecf48cb3aa08b01d844e7c72c", "filename": "src/ci/azure-pipelines/auto.yml", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9150f844e2624eb013ec78ca08c1d416e6644026/src%2Fci%2Fazure-pipelines%2Fauto.yml", "raw_url": "https://github.com/rust-lang/rust/raw/9150f844e2624eb013ec78ca08c1d416e6644026/src%2Fci%2Fazure-pipelines%2Fauto.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fazure-pipelines%2Fauto.yml?ref=9150f844e2624eb013ec78ca08c1d416e6644026", "patch": "@@ -236,10 +236,16 @@ jobs:\n         MSYS_BITS: 32\n         RUST_CONFIGURE_ARGS: --build=i686-pc-windows-msvc\n         SCRIPT: make ci-subset-1\n+        # FIXME(#59637)\n+        NO_DEBUG_ASSERTIONS: 1\n+        NO_LLVM_ASSERTIONS: 1\n       i686-msvc-2:\n         MSYS_BITS: 32\n         RUST_CONFIGURE_ARGS: --build=i686-pc-windows-msvc\n         SCRIPT: make ci-subset-2\n+        # FIXME(#59637)\n+        NO_DEBUG_ASSERTIONS: 1\n+        NO_LLVM_ASSERTIONS: 1\n       # MSVC aux tests\n       x86_64-msvc-aux:\n         MSYS_BITS: 64\n@@ -250,6 +256,9 @@ jobs:\n         SCRIPT: python x.py test src/tools/cargotest src/tools/cargo\n         RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-msvc\n         VCVARS_BAT: vcvars64.bat\n+        # FIXME(#59637)\n+        NO_DEBUG_ASSERTIONS: 1\n+        NO_LLVM_ASSERTIONS: 1\n       # MSVC tools tests\n       x86_64-msvc-tools:\n         MSYS_BITS: 64"}, {"sha": "517b59c38dcb06b7441802344782df01813a0a1a", "filename": "src/ci/docker/i686-gnu-nopt/Dockerfile", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9150f844e2624eb013ec78ca08c1d416e6644026/src%2Fci%2Fdocker%2Fi686-gnu-nopt%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9150f844e2624eb013ec78ca08c1d416e6644026/src%2Fci%2Fdocker%2Fi686-gnu-nopt%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fi686-gnu-nopt%2FDockerfile?ref=9150f844e2624eb013ec78ca08c1d416e6644026", "patch": "@@ -19,3 +19,6 @@ RUN sh /scripts/sccache.sh\n \n ENV RUST_CONFIGURE_ARGS --build=i686-unknown-linux-gnu --disable-optimize-tests\n ENV SCRIPT python2.7 ../x.py test\n+\n+# FIXME(#59637) takes too long on CI right now\n+ENV NO_LLVM_ASSERTIONS=1 NO_DEBUG_ASSERTIONS=1"}, {"sha": "03db3ba0995d6a94ff0a0737b3e210258d7706e5", "filename": "src/ci/docker/i686-gnu/Dockerfile", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9150f844e2624eb013ec78ca08c1d416e6644026/src%2Fci%2Fdocker%2Fi686-gnu%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9150f844e2624eb013ec78ca08c1d416e6644026/src%2Fci%2Fdocker%2Fi686-gnu%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fi686-gnu%2FDockerfile?ref=9150f844e2624eb013ec78ca08c1d416e6644026", "patch": "@@ -25,3 +25,6 @@ ENV SCRIPT python2.7 ../x.py test \\\n   --exclude src/test/rustdoc-js \\\n   --exclude src/tools/error_index_generator \\\n   --exclude src/tools/linkchecker\n+\n+# FIXME(#59637) takes too long on CI right now\n+ENV NO_LLVM_ASSERTIONS=1 NO_DEBUG_ASSERTIONS=1"}]}