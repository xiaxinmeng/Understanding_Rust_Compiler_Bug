{"sha": "79368db1ce0b6c14d295593a1c12ab691e74b41c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5MzY4ZGIxY2UwYjZjMTRkMjk1NTkzYTFjMTJhYjY5MWU3NGI0MWM=", "commit": {"author": {"name": "varkor", "email": "github@varkor.com", "date": "2019-09-10T17:16:47Z"}, "committer": {"name": "varkor", "email": "github@varkor.com", "date": "2019-09-10T18:52:35Z"}, "message": "Surround `PhantomData` in backticks", "tree": {"sha": "e2fed8ed5f80536a3526df2b97a64ae278ba127c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e2fed8ed5f80536a3526df2b97a64ae278ba127c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79368db1ce0b6c14d295593a1c12ab691e74b41c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79368db1ce0b6c14d295593a1c12ab691e74b41c", "html_url": "https://github.com/rust-lang/rust/commit/79368db1ce0b6c14d295593a1c12ab691e74b41c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79368db1ce0b6c14d295593a1c12ab691e74b41c/comments", "author": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "df7e496f855331acd0cb9c6133a77197cd6118cf", "url": "https://api.github.com/repos/rust-lang/rust/commits/df7e496f855331acd0cb9c6133a77197cd6118cf", "html_url": "https://github.com/rust-lang/rust/commit/df7e496f855331acd0cb9c6133a77197cd6118cf"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "1df1ca9cc5e42c2343c0dd32e972e8c402afae66", "filename": "src/librustc_lint/types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/79368db1ce0b6c14d295593a1c12ab691e74b41c/src%2Flibrustc_lint%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79368db1ce0b6c14d295593a1c12ab691e74b41c/src%2Flibrustc_lint%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Ftypes.rs?ref=79368db1ce0b6c14d295593a1c12ab691e74b41c", "patch": "@@ -903,7 +903,7 @@ impl<'a, 'tcx> ImproperCTypesVisitor<'a, 'tcx> {\n                 self.cx.span_lint(IMPROPER_CTYPES,\n                                   sp,\n                                   &format!(\"`extern` block uses type `{}` which is not FFI-safe: \\\n-                                            composed only of PhantomData\", ty));\n+                                            composed only of `PhantomData`\", ty));\n             }\n             FfiResult::FfiUnsafe { ty: unsafe_ty, reason, help } => {\n                 let msg = format!(\"`extern` block uses type `{}` which is not FFI-safe: {}\","}, {"sha": "39206cd0418f1c74a6020024f3001ef5e6c1f76b", "filename": "src/test/ui/lint/lint-ctypes.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/79368db1ce0b6c14d295593a1c12ab691e74b41c/src%2Ftest%2Fui%2Flint%2Flint-ctypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79368db1ce0b6c14d295593a1c12ab691e74b41c/src%2Ftest%2Fui%2Flint%2Flint-ctypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-ctypes.rs?ref=79368db1ce0b6c14d295593a1c12ab691e74b41c", "patch": "@@ -1,7 +1,7 @@\n-#![deny(improper_ctypes)]\n #![feature(rustc_private)]\n \n #![allow(private_in_public)]\n+#![deny(improper_ctypes)]\n \n extern crate libc;\n \n@@ -55,9 +55,9 @@ extern {\n     pub fn tuple_type(p: (i32, i32)); //~ ERROR uses type `(i32, i32)`\n     pub fn tuple_type2(p: I32Pair); //~ ERROR uses type `(i32, i32)`\n     pub fn zero_size(p: ZeroSize); //~ ERROR struct has no fields\n-    pub fn zero_size_phantom(p: ZeroSizeWithPhantomData); //~ ERROR composed only of PhantomData\n+    pub fn zero_size_phantom(p: ZeroSizeWithPhantomData); //~ ERROR composed only of `PhantomData`\n     pub fn zero_size_phantom_toplevel()\n-        -> ::std::marker::PhantomData<bool>; //~ ERROR: composed only of PhantomData\n+        -> ::std::marker::PhantomData<bool>; //~ ERROR: composed only of `PhantomData`\n     pub fn fn_type(p: RustFn); //~ ERROR function pointer has Rust-specific\n     pub fn fn_type2(p: fn()); //~ ERROR function pointer has Rust-specific\n     pub fn fn_contained(p: RustBadRet); //~ ERROR: uses type `std::boxed::Box<u32>`"}, {"sha": "0dbfd7be41d687067227fbd280eb721186ff4353", "filename": "src/test/ui/lint/lint-ctypes.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/79368db1ce0b6c14d295593a1c12ab691e74b41c/src%2Ftest%2Fui%2Flint%2Flint-ctypes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/79368db1ce0b6c14d295593a1c12ab691e74b41c/src%2Ftest%2Fui%2Flint%2Flint-ctypes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-ctypes.stderr?ref=79368db1ce0b6c14d295593a1c12ab691e74b41c", "patch": "@@ -5,7 +5,7 @@ LL |     pub fn ptr_type1(size: *const Foo);\n    |                            ^^^^^^^^^^\n    |\n note: lint level defined here\n-  --> $DIR/lint-ctypes.rs:1:9\n+  --> $DIR/lint-ctypes.rs:4:9\n    |\n LL | #![deny(improper_ctypes)]\n    |         ^^^^^^^^^^^^^^^\n@@ -108,13 +108,13 @@ note: type defined here\n LL | pub struct ZeroSize;\n    | ^^^^^^^^^^^^^^^^^^^^\n \n-error: `extern` block uses type `ZeroSizeWithPhantomData` which is not FFI-safe: composed only of PhantomData\n+error: `extern` block uses type `ZeroSizeWithPhantomData` which is not FFI-safe: composed only of `PhantomData`\n   --> $DIR/lint-ctypes.rs:58:33\n    |\n LL |     pub fn zero_size_phantom(p: ZeroSizeWithPhantomData);\n    |                                 ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error: `extern` block uses type `std::marker::PhantomData<bool>` which is not FFI-safe: composed only of PhantomData\n+error: `extern` block uses type `std::marker::PhantomData<bool>` which is not FFI-safe: composed only of `PhantomData`\n   --> $DIR/lint-ctypes.rs:60:12\n    |\n LL |         -> ::std::marker::PhantomData<bool>;"}]}