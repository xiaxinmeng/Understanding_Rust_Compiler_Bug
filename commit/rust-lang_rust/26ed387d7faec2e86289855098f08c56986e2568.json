{"sha": "26ed387d7faec2e86289855098f08c56986e2568", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI2ZWQzODdkN2ZhZWMyZTg2Mjg5ODU1MDk4ZjA4YzU2OTg2ZTI1Njg=", "commit": {"author": {"name": "auREAX", "email": "mark@xn--hwg34fba.ws", "date": "2012-10-04T22:08:34Z"}, "committer": {"name": "auREAX", "email": "mark@xn--hwg34fba.ws", "date": "2012-10-04T22:08:34Z"}, "message": "Rename configure --enable-pax-marks flag to --enable-pax-flags flag.", "tree": {"sha": "6a3242e838723ef953d496b49c8e27c13b00374c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6a3242e838723ef953d496b49c8e27c13b00374c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/26ed387d7faec2e86289855098f08c56986e2568", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/26ed387d7faec2e86289855098f08c56986e2568", "html_url": "https://github.com/rust-lang/rust/commit/26ed387d7faec2e86289855098f08c56986e2568", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/26ed387d7faec2e86289855098f08c56986e2568/comments", "author": null, "committer": null, "parents": [{"sha": "039110ba22f84122dc34f4a0f1a81ea225f1b6aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/039110ba22f84122dc34f4a0f1a81ea225f1b6aa", "html_url": "https://github.com/rust-lang/rust/commit/039110ba22f84122dc34f4a0f1a81ea225f1b6aa"}], "stats": {"total": 22, "additions": 11, "deletions": 11}, "files": [{"sha": "58fc25eea9e44124fc3f1b487b9a3f1de4147156", "filename": "configure", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/26ed387d7faec2e86289855098f08c56986e2568/configure", "raw_url": "https://github.com/rust-lang/rust/raw/26ed387d7faec2e86289855098f08c56986e2568/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=26ed387d7faec2e86289855098f08c56986e2568", "patch": "@@ -295,7 +295,7 @@ opt manage-submodules 1 \"let the build manage the git submodules\"\n opt mingw-cross 0 \"cross-compile for win32 using mingw\"\n opt clang 0 \"prefer clang to gcc for building the runtime\"\n opt local-rust 0 \"use an installed rustc rather than downloading a snapshot\"\n-opt pax-marks 0 \"apply PaX markings to rustc binaries (required for GRSecurity/PaX-patched kernels)\"\n+opt pax-flags 0 \"apply PaX flags to rustc binaries (required for GRSecurity/PaX-patched kernels)\"\n valopt prefix \"/usr/local\" \"set installation prefix\"\n valopt local-rust-root \"/usr/local\" \"set prefix for local rust binary\"\n valopt llvm-root \"\" \"set LLVM root\"\n@@ -362,12 +362,12 @@ fi\n \n if [ \"$CFG_OSTYPE\" = \"unknown-linux-gnu\" ]\n then\n-    if [ ! -z \"$CFG_ENABLE_PAX_MARKS\" -a -z \"$CFG_PAXCTL\" ]\n+    if [ ! -z \"$CFG_ENABLE_PAX_FLAGS\" -a -z \"$CFG_PAXCTL\" ]\n     then\n         err \"enabled PaX markings but no paxctl binary found\"\n     fi\n \n-    if [ -z \"$CFG_DISABLE_PAX_MARKS\" ]\n+    if [ -z \"$CFG_DISABLE_PAX_FLAGS\" ]\n     then\n         # GRSecurity/PaX detection. This can be very flaky.\n         GRSEC_DETECTED=\n@@ -395,9 +395,9 @@ then\n             step_msg \"GRSecurity: yes\"\n             if [ ! -z \"$CFG_PAXCTL\" ]\n             then\n-                CFG_ENABLE_PAX_MARKS=1\n+                CFG_ENABLE_PAX_FLAGS=1\n             else\n-                warn \"GRSecurity kernel detected but no paxctl binary found: not setting CFG_ENABLE_PAX_MARKS\"\n+                warn \"GRSecurity kernel detected but no paxctl binary found: not setting CFG_ENABLE_PAX_FLAGS\"\n             fi\n         else\n             step_msg \"GRSecurity: no\"\n@@ -750,9 +750,9 @@ putvar CFG_C_COMPILER\n putvar CFG_LIBDIR\n putvar CFG_DISABLE_MANAGE_SUBMODULES\n \n-if [ ! -z \"$CFG_ENABLE_PAX_MARKS\" ]\n+if [ ! -z \"$CFG_ENABLE_PAX_FLAGS\" ]\n then\n-    putvar CFG_ENABLE_PAX_MARKS\n+    putvar CFG_ENABLE_PAX_FLAGS\n     putvar CFG_PAXCTL\n fi\n "}, {"sha": "b64f5df9ca038b8a6042bce78e2665d29d8e539f", "filename": "mk/stage0.mk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/26ed387d7faec2e86289855098f08c56986e2568/mk%2Fstage0.mk", "raw_url": "https://github.com/rust-lang/rust/raw/26ed387d7faec2e86289855098f08c56986e2568/mk%2Fstage0.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage0.mk?ref=26ed387d7faec2e86289855098f08c56986e2568", "patch": "@@ -12,8 +12,8 @@ ifdef CFG_ENABLE_LOCAL_RUST\n \t$(Q)$(S)src/etc/local_stage0.sh $(CFG_HOST_TRIPLE) $(CFG_LOCAL_RUST_ROOT)\n else \n \t$(Q)$(S)src/etc/get-snapshot.py $(CFG_HOST_TRIPLE) $(SNAPSHOT_FILE)\n-ifdef CFG_ENABLE_PAX_MARKS\n-\t@$(call E, apply PaX markings: $@)\n+ifdef CFG_ENABLE_PAX_FLAGS\n+\t@$(call E, apply PaX flags: $@)\n \t@\"$(CFG_PAXCTL)\" -cm \"$@\"\n endif\n endif "}, {"sha": "967191ab745095878a44634bf4d986d566c82010", "filename": "mk/target.mk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/26ed387d7faec2e86289855098f08c56986e2568/mk%2Ftarget.mk", "raw_url": "https://github.com/rust-lang/rust/raw/26ed387d7faec2e86289855098f08c56986e2568/mk%2Ftarget.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftarget.mk?ref=26ed387d7faec2e86289855098f08c56986e2568", "patch": "@@ -29,8 +29,8 @@ $$(TBIN$(1)_T_$(2)_H_$(3))/rustc$$(X):\t\t\t\t\\\n \t\t$$(TLIBRUSTC_DEFAULT$(1)_T_$(2)_H_$(3))\n \t@$$(call E, compile_and_link: $$@)\n \t$$(STAGE$(1)_T_$(2)_H_$(3)) -o $$@ $$<\n-ifdef CFG_ENABLE_PAX_MARKS\n-\t@$$(call E, apply PaX markings: $$@)\n+ifdef CFG_ENABLE_PAX_FLAGS\n+\t@$$(call E, apply PaX flags: $$@)\n \t@\"$(CFG_PAXCTL)\" -cm \"$$@\"\n endif\n "}]}