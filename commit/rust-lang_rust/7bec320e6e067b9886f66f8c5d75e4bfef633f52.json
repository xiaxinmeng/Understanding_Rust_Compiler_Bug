{"sha": "7bec320e6e067b9886f66f8c5d75e4bfef633f52", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiZWMzMjBlNmUwNjdiOTg4NmY2NmY4YzVkNzVlNGJmZWY2MzNmNTI=", "commit": {"author": {"name": "Leif Arne Storset", "email": "leifarne@storset.net", "date": "2015-07-25T16:18:47Z"}, "committer": {"name": "Leif Arne Storset", "email": "leifarne@storset.net", "date": "2015-07-25T18:53:57Z"}, "message": "Default methods example: Show \"(in)valid\" case\n\nInstead of bar/baz, use valid/invalid as default methods. This\nillustrates why you might want default methods, and shows that you can\ncall other trait methods from a default method.", "tree": {"sha": "85322e33c42e11143bfa089cb83f59e96dcf2899", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/85322e33c42e11143bfa089cb83f59e96dcf2899"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7bec320e6e067b9886f66f8c5d75e4bfef633f52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7bec320e6e067b9886f66f8c5d75e4bfef633f52", "html_url": "https://github.com/rust-lang/rust/commit/7bec320e6e067b9886f66f8c5d75e4bfef633f52", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7bec320e6e067b9886f66f8c5d75e4bfef633f52/comments", "author": {"login": "lastorset", "id": 464989, "node_id": "MDQ6VXNlcjQ2NDk4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/464989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lastorset", "html_url": "https://github.com/lastorset", "followers_url": "https://api.github.com/users/lastorset/followers", "following_url": "https://api.github.com/users/lastorset/following{/other_user}", "gists_url": "https://api.github.com/users/lastorset/gists{/gist_id}", "starred_url": "https://api.github.com/users/lastorset/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lastorset/subscriptions", "organizations_url": "https://api.github.com/users/lastorset/orgs", "repos_url": "https://api.github.com/users/lastorset/repos", "events_url": "https://api.github.com/users/lastorset/events{/privacy}", "received_events_url": "https://api.github.com/users/lastorset/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lastorset", "id": 464989, "node_id": "MDQ6VXNlcjQ2NDk4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/464989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lastorset", "html_url": "https://github.com/lastorset", "followers_url": "https://api.github.com/users/lastorset/followers", "following_url": "https://api.github.com/users/lastorset/following{/other_user}", "gists_url": "https://api.github.com/users/lastorset/gists{/gist_id}", "starred_url": "https://api.github.com/users/lastorset/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lastorset/subscriptions", "organizations_url": "https://api.github.com/users/lastorset/orgs", "repos_url": "https://api.github.com/users/lastorset/repos", "events_url": "https://api.github.com/users/lastorset/events{/privacy}", "received_events_url": "https://api.github.com/users/lastorset/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "04badd6a973d2499731b49365a121dbc4c9c468e", "url": "https://api.github.com/repos/rust-lang/rust/commits/04badd6a973d2499731b49365a121dbc4c9c468e", "html_url": "https://github.com/rust-lang/rust/commit/04badd6a973d2499731b49365a121dbc4c9c468e"}], "stats": {"total": 32, "additions": 21, "deletions": 11}, "files": [{"sha": "740e2d51c4c04c2ca875379f9aa0d0a9ec10d416", "filename": "src/doc/trpl/traits.md", "status": "modified", "additions": 21, "deletions": 11, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/7bec320e6e067b9886f66f8c5d75e4bfef633f52/src%2Fdoc%2Ftrpl%2Ftraits.md", "raw_url": "https://github.com/rust-lang/rust/raw/7bec320e6e067b9886f66f8c5d75e4bfef633f52/src%2Fdoc%2Ftrpl%2Ftraits.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Ftraits.md?ref=7bec320e6e067b9886f66f8c5d75e4bfef633f52", "patch": "@@ -347,40 +347,50 @@ easiest just to show an example:\n \n ```rust\n trait Foo {\n-    fn bar(&self);\n+    fn is_valid(&self) -> bool;\n \n-    fn baz(&self) { println!(\"We called baz.\"); }\n+    fn is_invalid(&self) -> bool { !self.is_valid() }\n }\n ```\n \n-Implementors of the `Foo` trait need to implement `bar()`, but they don\u2019t\n-need to implement `baz()`. They\u2019ll get this default behavior. They can\n+Implementors of the `Foo` trait need to implement `is_valid()`, but they don\u2019t\n+need to implement `is_invalid()`. They\u2019ll get this default behavior. They can\n override the default if they so choose:\n \n ```rust\n # trait Foo {\n-# fn bar(&self);\n-# fn baz(&self) { println!(\"We called baz.\"); }\n+#     fn is_valid(&self) -> bool;\n+#\n+#     fn is_invalid(&self) -> bool { !self.is_valid() }\n # }\n struct UseDefault;\n \n impl Foo for UseDefault {\n-    fn bar(&self) { println!(\"We called bar.\"); }\n+    fn is_valid(&self) -> bool {\n+        println!(\"Called UseDefault.is_valid.\");\n+        true\n+    }\n }\n \n struct OverrideDefault;\n \n impl Foo for OverrideDefault {\n-    fn bar(&self) { println!(\"We called bar.\"); }\n+    fn is_valid(&self) -> bool {\n+        println!(\"Called OverrideDefault.is_valid.\");\n+        true\n+    }\n \n-    fn baz(&self) { println!(\"Override baz!\"); }\n+    fn is_invalid(&self) -> bool {\n+        println!(\"Called OverrideDefault.is_invalid!\");\n+        true // this implementation is a self-contradiction!\n+    }\n }\n \n let default = UseDefault;\n-default.baz(); // prints \"We called baz.\"\n+assert!(!default.is_invalid()); // prints \"Called UseDefault.is_valid.\"\n \n let over = OverrideDefault;\n-over.baz(); // prints \"Override baz!\"\n+assert!(over.is_invalid()); // prints \"Called OverrideDefault.is_invalid!\"\n ```\n \n # Inheritance"}]}