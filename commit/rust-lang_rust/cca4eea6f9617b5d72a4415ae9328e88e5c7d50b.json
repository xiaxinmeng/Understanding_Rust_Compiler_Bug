{"sha": "cca4eea6f9617b5d72a4415ae9328e88e5c7d50b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNjYTRlZWE2Zjk2MTdiNWQ3MmE0NDE1YWU5MzI4ZTg4ZTVjN2Q1MGI=", "commit": {"author": {"name": "Rune Tynan", "email": "runetynan@gmail.com", "date": "2021-01-22T23:30:01Z"}, "committer": {"name": "Rune Tynan", "email": "runetynan@gmail.com", "date": "2021-01-27T23:58:40Z"}, "message": "Simplify conversion", "tree": {"sha": "7a5d832a0330f5b9144d1cbce870cd414835b085", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7a5d832a0330f5b9144d1cbce870cd414835b085"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cca4eea6f9617b5d72a4415ae9328e88e5c7d50b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEETdpCnQmiF6hBYUqdfsyTL4sscx4FAmAR/jIACgkQfsyTL4ss\ncx5kJQ//aT3LUnNUDyBYa3Cz60kFzcTq8ztD/v3PlcJuQhmvD1rT3B4YK7naEUBr\nMfXVvuajbzUBTf35cj64+Fg5LwkI55OrlFjOogVmqvHr/QZuqzsL3BlsUnZ+GrYY\naz8ZJ6J2BdsnDSrqeQ5bkSD/Xei/lyGzQqgB0bl7EqKWyQtpxX58Bh/eaKz8kVyx\nQO2w4z0U2etb9U7AdgHvw0NyzDjQ2VZgDPPh9owMb8q/AMZEvGMLZBoNGMRkbnM/\nqg/OVwLHFzQLGTUdT2DWzHFIX5shRDnEIJw601ZKJq5vdWoyWCIvE8cOIDqeoRke\nKCOfg+KuCTWCRFirtjVKFo6m/r0NyL4GjvK7IUdWbvdKpX6YjFzR+ZVia8fKCPRd\nHNB+0MOb1jsUcTVV2HafEH5aYEbPUVhVgIiI37UrgcFPmchzK5f85RhOpqyL2p/v\nZswS1z8QGRyCLSZ7LoGR7imDRGfKIYjVvQv7vwFGHFOS4J10vAfK7AUAQpCCsthz\ndG7lNJHI90vGCQNyD+v50MO6q0zzElJkxcxf/QOKzyBcqSvKYXPrtWJP/IPMk1jl\n62hDA+EDXGIQVg4fDA522MVyqLzwKeGWqlbswyOR2gjvxqNenOaxJv84m3R1lxoI\nOLcIEv6WZNnNS43RrB+k3evl4HhIa7IsqCBVzHDNw1ahAcP4WxM=\n=RVQW\n-----END PGP SIGNATURE-----", "payload": "tree 7a5d832a0330f5b9144d1cbce870cd414835b085\nparent 3c2806957e5d54538b450830d1dc096aff84cb68\nauthor Rune Tynan <runetynan@gmail.com> 1611358201 -0500\ncommitter Rune Tynan <runetynan@gmail.com> 1611791920 -0500\n\nSimplify conversion\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cca4eea6f9617b5d72a4415ae9328e88e5c7d50b", "html_url": "https://github.com/rust-lang/rust/commit/cca4eea6f9617b5d72a4415ae9328e88e5c7d50b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cca4eea6f9617b5d72a4415ae9328e88e5c7d50b/comments", "author": {"login": "CraftSpider", "id": 13342132, "node_id": "MDQ6VXNlcjEzMzQyMTMy", "avatar_url": "https://avatars.githubusercontent.com/u/13342132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CraftSpider", "html_url": "https://github.com/CraftSpider", "followers_url": "https://api.github.com/users/CraftSpider/followers", "following_url": "https://api.github.com/users/CraftSpider/following{/other_user}", "gists_url": "https://api.github.com/users/CraftSpider/gists{/gist_id}", "starred_url": "https://api.github.com/users/CraftSpider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CraftSpider/subscriptions", "organizations_url": "https://api.github.com/users/CraftSpider/orgs", "repos_url": "https://api.github.com/users/CraftSpider/repos", "events_url": "https://api.github.com/users/CraftSpider/events{/privacy}", "received_events_url": "https://api.github.com/users/CraftSpider/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CraftSpider", "id": 13342132, "node_id": "MDQ6VXNlcjEzMzQyMTMy", "avatar_url": "https://avatars.githubusercontent.com/u/13342132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CraftSpider", "html_url": "https://github.com/CraftSpider", "followers_url": "https://api.github.com/users/CraftSpider/followers", "following_url": "https://api.github.com/users/CraftSpider/following{/other_user}", "gists_url": "https://api.github.com/users/CraftSpider/gists{/gist_id}", "starred_url": "https://api.github.com/users/CraftSpider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CraftSpider/subscriptions", "organizations_url": "https://api.github.com/users/CraftSpider/orgs", "repos_url": "https://api.github.com/users/CraftSpider/repos", "events_url": "https://api.github.com/users/CraftSpider/events{/privacy}", "received_events_url": "https://api.github.com/users/CraftSpider/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3c2806957e5d54538b450830d1dc096aff84cb68", "url": "https://api.github.com/repos/rust-lang/rust/commits/3c2806957e5d54538b450830d1dc096aff84cb68", "html_url": "https://github.com/rust-lang/rust/commit/3c2806957e5d54538b450830d1dc096aff84cb68"}], "stats": {"total": 9, "additions": 1, "deletions": 8}, "files": [{"sha": "06521f25873069ea68e0d3a756dd387528594bfd", "filename": "src/librustdoc/json/mod.rs", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cca4eea6f9617b5d72a4415ae9328e88e5c7d50b/src%2Flibrustdoc%2Fjson%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cca4eea6f9617b5d72a4415ae9328e88e5c7d50b/src%2Flibrustdoc%2Fjson%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fjson%2Fmod.rs?ref=cca4eea6f9617b5d72a4415ae9328e88e5c7d50b", "patch": "@@ -205,21 +205,14 @@ impl<'tcx> FormatRenderer<'tcx> for JsonRenderer<'tcx> {\n         debug!(\"Done with crate\");\n         let mut index = (*self.index).clone().into_inner();\n         index.extend(self.get_trait_items());\n-        let len = index.len();\n         // This needs to be the default HashMap for compatibility with the public interface for\n         // rustdoc-json\n         #[allow(rustc::default_hash_types)]\n         let output = types::Crate {\n             root: types::Id(String::from(\"0:0\")),\n             crate_version: krate.version.clone(),\n             includes_private: self.cache.document_private,\n-            index: index.into_iter().fold(\n-                std::collections::HashMap::with_capacity(len),\n-                |mut acc, (key, val)| {\n-                    acc.insert(key, val);\n-                    acc\n-                },\n-            ),\n+            index: index.into_iter().collect(),\n             paths: self\n                 .cache\n                 .paths"}]}