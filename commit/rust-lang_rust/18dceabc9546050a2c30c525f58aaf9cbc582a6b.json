{"sha": "18dceabc9546050a2c30c525f58aaf9cbc582a6b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE4ZGNlYWJjOTU0NjA1MGEyYzMwYzUyNWY1OGFhZjljYmM1ODJhNmI=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2019-07-21T05:18:20Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2019-07-21T06:27:23Z"}, "message": "Add tests for issue-58887", "tree": {"sha": "44ac0421a2539f4af8e3aaf1451482a484e5b8a3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/44ac0421a2539f4af8e3aaf1451482a484e5b8a3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/18dceabc9546050a2c30c525f58aaf9cbc582a6b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/18dceabc9546050a2c30c525f58aaf9cbc582a6b", "html_url": "https://github.com/rust-lang/rust/commit/18dceabc9546050a2c30c525f58aaf9cbc582a6b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/18dceabc9546050a2c30c525f58aaf9cbc582a6b/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "95b1fe560d2bd8472f250fb8cfd2168520a58405", "url": "https://api.github.com/repos/rust-lang/rust/commits/95b1fe560d2bd8472f250fb8cfd2168520a58405", "html_url": "https://github.com/rust-lang/rust/commit/95b1fe560d2bd8472f250fb8cfd2168520a58405"}], "stats": {"total": 56, "additions": 56, "deletions": 0}, "files": [{"sha": "ca2374af7bdc148715882d69e78c4333b6de7678", "filename": "src/test/ui/issues/issue-58887.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/18dceabc9546050a2c30c525f58aaf9cbc582a6b/src%2Ftest%2Fui%2Fissues%2Fissue-58887.rs", "raw_url": "https://github.com/rust-lang/rust/raw/18dceabc9546050a2c30c525f58aaf9cbc582a6b/src%2Ftest%2Fui%2Fissues%2Fissue-58887.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-58887.rs?ref=18dceabc9546050a2c30c525f58aaf9cbc582a6b", "patch": "@@ -0,0 +1,21 @@\n+#![feature(existential_type)]\n+\n+trait UnwrapItemsExt {\n+    type II;\n+    fn unwrap_items(self) -> Self::II;\n+}\n+\n+impl<I, T, E> UnwrapItemsExt for I\n+where\n+    I: Iterator<Item = Result<T, E>>,\n+    E: std::fmt::Debug,\n+{\n+    existential type II: Iterator<Item = T>;\n+    //~^ ERROR: could not find defining uses\n+\n+    fn unwrap_items(self) -> Self::II {\n+    //~^ ERROR: type parameter `T` is part of concrete type\n+    //~| ERROR: type parameter `E` is part of concrete type\n+        self.map(|x| x.unwrap())\n+    }\n+}"}, {"sha": "8cb25d84f54ad88896d66d039949bb5b6f2945c8", "filename": "src/test/ui/issues/issue-58887.stderr", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/18dceabc9546050a2c30c525f58aaf9cbc582a6b/src%2Ftest%2Fui%2Fissues%2Fissue-58887.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/18dceabc9546050a2c30c525f58aaf9cbc582a6b/src%2Ftest%2Fui%2Fissues%2Fissue-58887.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-58887.stderr?ref=18dceabc9546050a2c30c525f58aaf9cbc582a6b", "patch": "@@ -0,0 +1,35 @@\n+error[E0601]: `main` function not found in crate `issue_58887`\n+   |\n+   = note: consider adding a `main` function to `$DIR/issue-58887.rs`\n+\n+error: type parameter `T` is part of concrete type but not used in parameter list for existential type\n+  --> $DIR/issue-58887.rs:16:39\n+   |\n+LL |       fn unwrap_items(self) -> Self::II {\n+   |  _______________________________________^\n+LL | |\n+LL | |\n+LL | |         self.map(|x| x.unwrap())\n+LL | |     }\n+   | |_____^\n+\n+error: type parameter `E` is part of concrete type but not used in parameter list for existential type\n+  --> $DIR/issue-58887.rs:16:39\n+   |\n+LL |       fn unwrap_items(self) -> Self::II {\n+   |  _______________________________________^\n+LL | |\n+LL | |\n+LL | |         self.map(|x| x.unwrap())\n+LL | |     }\n+   | |_____^\n+\n+error: could not find defining uses\n+  --> $DIR/issue-58887.rs:13:5\n+   |\n+LL |     existential type II: Iterator<Item = T>;\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to 4 previous errors\n+\n+For more information about this error, try `rustc --explain E0601`."}]}