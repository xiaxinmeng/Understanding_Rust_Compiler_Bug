{"sha": "68321b0de87cd40664f490a53a225e4058dd1739", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY4MzIxYjBkZTg3Y2Q0MDY2NGY0OTBhNTNhMjI1ZTQwNThkZDE3Mzk=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-10-18T23:02:59Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-10-18T23:02:59Z"}, "message": "Make list.find return an option of different type than the list element.", "tree": {"sha": "9eecadef88ec992bb57dd1225c78b0d488f22f05", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9eecadef88ec992bb57dd1225c78b0d488f22f05"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/68321b0de87cd40664f490a53a225e4058dd1739", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/68321b0de87cd40664f490a53a225e4058dd1739", "html_url": "https://github.com/rust-lang/rust/commit/68321b0de87cd40664f490a53a225e4058dd1739", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/68321b0de87cd40664f490a53a225e4058dd1739/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "67d442734542ae636b5f2515a9e36909ecd0d8a3", "url": "https://api.github.com/repos/rust-lang/rust/commits/67d442734542ae636b5f2515a9e36909ecd0d8a3", "html_url": "https://github.com/rust-lang/rust/commit/67d442734542ae636b5f2515a9e36909ecd0d8a3"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "7b8613151e79989155eaedca085d461dbf728d93", "filename": "src/lib/list.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/68321b0de87cd40664f490a53a225e4058dd1739/src%2Flib%2Flist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68321b0de87cd40664f490a53a225e4058dd1739/src%2Flib%2Flist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Flist.rs?ref=68321b0de87cd40664f490a53a225e4058dd1739", "patch": "@@ -26,23 +26,23 @@ fn foldl[T,U](&list[T] ls, U u, fn(&T t, U u) -> U f) -> U {\n   }\n }\n \n-fn find[T](&list[T] ls,\n-             (fn(&T) -> option[T]) f) -> option[T] {\n+fn find[T,U](&list[T] ls,\n+             (fn(&T) -> option[U]) f) -> option[U] {\n   alt(ls) {\n     case (cons[T](?hd, ?tl)) {\n         alt (f(hd)) {\n-            case (none[T]) {\n+            case (none[U]) {\n                 // FIXME: should use 'be' here, not 'ret'. But parametric tail\n                 // calls currently don't work.\n-                ret find[T](*tl, f);\n+                ret find[T,U](*tl, f);\n             }\n-            case (some[T](?res)) {\n-                ret some[T](res);\n+            case (some[U](?res)) {\n+                ret some[U](res);\n             }\n         }\n     }\n     case (nil[T]) {\n-        ret none[T];\n+        ret none[U];\n     }\n   }\n }"}]}