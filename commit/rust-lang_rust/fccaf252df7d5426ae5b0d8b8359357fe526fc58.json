{"sha": "fccaf252df7d5426ae5b0d8b8359357fe526fc58", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZjY2FmMjUyZGY3ZDU0MjZhZTViMGQ4YjgzNTkzNTdmZTUyNmZjNTg=", "commit": {"author": {"name": "James Cowgill", "email": "jcowgill@debian.org", "date": "2018-03-08T11:53:19Z"}, "committer": {"name": "James Cowgill", "email": "jcowgill@debian.org", "date": "2018-03-08T13:16:02Z"}, "message": "librustc_back: enable fpxx on 32-bit hardfloat mips targets\n\nSee this page for details about FPXX:\nhttps://dmz-portal.mips.com/wiki/MIPS_O32_ABI_-_FR0_and_FR1_Interlinking\n\nUsing FPXX is the most compatible floating point mode available and\nallows the generated code to work in both FR0 and FR1 modes of the\nprocessor. Using MSA (MIPS SIMD) requires FR1, so to use any MSA code we\nneed a compatible floating point mode.\n\nThis commit also sets nooddspreg (disabling the use of odd numbered\nsingle precision float registers) as recommended when enabling FPXX.", "tree": {"sha": "058f494ac612d81842f70bde873a8cf0627a7f24", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/058f494ac612d81842f70bde873a8cf0627a7f24"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fccaf252df7d5426ae5b0d8b8359357fe526fc58", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fccaf252df7d5426ae5b0d8b8359357fe526fc58", "html_url": "https://github.com/rust-lang/rust/commit/fccaf252df7d5426ae5b0d8b8359357fe526fc58", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fccaf252df7d5426ae5b0d8b8359357fe526fc58/comments", "author": {"login": "jcowgill", "id": 1226825, "node_id": "MDQ6VXNlcjEyMjY4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1226825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcowgill", "html_url": "https://github.com/jcowgill", "followers_url": "https://api.github.com/users/jcowgill/followers", "following_url": "https://api.github.com/users/jcowgill/following{/other_user}", "gists_url": "https://api.github.com/users/jcowgill/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcowgill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcowgill/subscriptions", "organizations_url": "https://api.github.com/users/jcowgill/orgs", "repos_url": "https://api.github.com/users/jcowgill/repos", "events_url": "https://api.github.com/users/jcowgill/events{/privacy}", "received_events_url": "https://api.github.com/users/jcowgill/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jcowgill", "id": 1226825, "node_id": "MDQ6VXNlcjEyMjY4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1226825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcowgill", "html_url": "https://github.com/jcowgill", "followers_url": "https://api.github.com/users/jcowgill/followers", "following_url": "https://api.github.com/users/jcowgill/following{/other_user}", "gists_url": "https://api.github.com/users/jcowgill/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcowgill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcowgill/subscriptions", "organizations_url": "https://api.github.com/users/jcowgill/orgs", "repos_url": "https://api.github.com/users/jcowgill/repos", "events_url": "https://api.github.com/users/jcowgill/events{/privacy}", "received_events_url": "https://api.github.com/users/jcowgill/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f53f2fa2e894c4709d7b09995331f30c596d0724", "url": "https://api.github.com/repos/rust-lang/rust/commits/f53f2fa2e894c4709d7b09995331f30c596d0724", "html_url": "https://github.com/rust-lang/rust/commit/f53f2fa2e894c4709d7b09995331f30c596d0724"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "cffd1daed99f28bc7a5a0adf560d052b98cda8b3", "filename": "src/librustc_back/target/mips_unknown_linux_gnu.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fccaf252df7d5426ae5b0d8b8359357fe526fc58/src%2Flibrustc_back%2Ftarget%2Fmips_unknown_linux_gnu.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fccaf252df7d5426ae5b0d8b8359357fe526fc58/src%2Flibrustc_back%2Ftarget%2Fmips_unknown_linux_gnu.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fmips_unknown_linux_gnu.rs?ref=fccaf252df7d5426ae5b0d8b8359357fe526fc58", "patch": "@@ -25,7 +25,7 @@ pub fn target() -> TargetResult {\n         linker_flavor: LinkerFlavor::Gcc,\n         options: TargetOptions {\n             cpu: \"mips32r2\".to_string(),\n-            features: \"+mips32r2\".to_string(),\n+            features: \"+mips32r2,+fpxx,+nooddspreg\".to_string(),\n             max_atomic_width: Some(32),\n \n             // see #36994"}, {"sha": "555855b8f815ddea8dc971a62fc2a54f60b60896", "filename": "src/librustc_back/target/mipsel_unknown_linux_gnu.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fccaf252df7d5426ae5b0d8b8359357fe526fc58/src%2Flibrustc_back%2Ftarget%2Fmipsel_unknown_linux_gnu.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fccaf252df7d5426ae5b0d8b8359357fe526fc58/src%2Flibrustc_back%2Ftarget%2Fmipsel_unknown_linux_gnu.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fmipsel_unknown_linux_gnu.rs?ref=fccaf252df7d5426ae5b0d8b8359357fe526fc58", "patch": "@@ -26,7 +26,7 @@ pub fn target() -> TargetResult {\n \n         options: TargetOptions {\n             cpu: \"mips32r2\".to_string(),\n-            features: \"+mips32r2\".to_string(),\n+            features: \"+mips32r2,+fpxx,+nooddspreg\".to_string(),\n             max_atomic_width: Some(32),\n \n             // see #36994"}]}