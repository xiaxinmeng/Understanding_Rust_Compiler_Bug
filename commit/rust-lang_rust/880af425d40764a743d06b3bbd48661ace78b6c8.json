{"sha": "880af425d40764a743d06b3bbd48661ace78b6c8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg4MGFmNDI1ZDQwNzY0YTc0M2QwNmIzYmJkNDg2NjFhY2U3OGI2Yzg=", "commit": {"author": {"name": "Dezhi Wu", "email": "wu543065657@163.com", "date": "2021-09-07T08:54:02Z"}, "committer": {"name": "Dezhi Wu", "email": "wu543065657@163.com", "date": "2021-09-07T08:54:02Z"}, "message": "fix path wrong display", "tree": {"sha": "c35d0aebebfc27a110bc3491a5c50c7d9184071a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c35d0aebebfc27a110bc3491a5c50c7d9184071a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/880af425d40764a743d06b3bbd48661ace78b6c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/880af425d40764a743d06b3bbd48661ace78b6c8", "html_url": "https://github.com/rust-lang/rust/commit/880af425d40764a743d06b3bbd48661ace78b6c8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/880af425d40764a743d06b3bbd48661ace78b6c8/comments", "author": {"login": "dzvon", "id": 3402811, "node_id": "MDQ6VXNlcjM0MDI4MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3402811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzvon", "html_url": "https://github.com/dzvon", "followers_url": "https://api.github.com/users/dzvon/followers", "following_url": "https://api.github.com/users/dzvon/following{/other_user}", "gists_url": "https://api.github.com/users/dzvon/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzvon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzvon/subscriptions", "organizations_url": "https://api.github.com/users/dzvon/orgs", "repos_url": "https://api.github.com/users/dzvon/repos", "events_url": "https://api.github.com/users/dzvon/events{/privacy}", "received_events_url": "https://api.github.com/users/dzvon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dzvon", "id": 3402811, "node_id": "MDQ6VXNlcjM0MDI4MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3402811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzvon", "html_url": "https://github.com/dzvon", "followers_url": "https://api.github.com/users/dzvon/followers", "following_url": "https://api.github.com/users/dzvon/following{/other_user}", "gists_url": "https://api.github.com/users/dzvon/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzvon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzvon/subscriptions", "organizations_url": "https://api.github.com/users/dzvon/orgs", "repos_url": "https://api.github.com/users/dzvon/repos", "events_url": "https://api.github.com/users/dzvon/events{/privacy}", "received_events_url": "https://api.github.com/users/dzvon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6d2154e40916c7a20b8601048f7e4da947f81ef6", "url": "https://api.github.com/repos/rust-lang/rust/commits/6d2154e40916c7a20b8601048f7e4da947f81ef6", "html_url": "https://github.com/rust-lang/rust/commit/6d2154e40916c7a20b8601048f7e4da947f81ef6"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "e394b72d5d639db4e7465fac529cb5c5f0dc33b3", "filename": "crates/hir_ty/src/display.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/880af425d40764a743d06b3bbd48661ace78b6c8/crates%2Fhir_ty%2Fsrc%2Fdisplay.rs", "raw_url": "https://github.com/rust-lang/rust/raw/880af425d40764a743d06b3bbd48661ace78b6c8/crates%2Fhir_ty%2Fsrc%2Fdisplay.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Fdisplay.rs?ref=880af425d40764a743d06b3bbd48661ace78b6c8", "patch": "@@ -1141,7 +1141,7 @@ impl HirDisplay for Path {\n                 write!(f, \">\")?;\n             }\n             (_, PathKind::Plain) => {}\n-            (_, PathKind::Abs) => write!(f, \"::\")?,\n+            (_, PathKind::Abs) => write!(f, \"\")?,\n             (_, PathKind::Crate) => write!(f, \"crate\")?,\n             (_, PathKind::Super(0)) => write!(f, \"self\")?,\n             (_, PathKind::Super(n)) => {\n@@ -1154,7 +1154,7 @@ impl HirDisplay for Path {\n         }\n \n         for (seg_idx, segment) in self.segments().iter().enumerate() {\n-            if seg_idx != 0 || matches!(self.kind(), PathKind::Crate) {\n+            if !matches!(self.kind(), PathKind::Plain) || seg_idx > 0 {\n                 write!(f, \"::\")?;\n             }\n             write!(f, \"{}\", segment.name)?;"}]}