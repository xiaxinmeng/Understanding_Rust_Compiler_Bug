{"sha": "b518dc7a316b172f474be97e2139cb36b1b15f2f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI1MThkYzdhMzE2YjE3MmY0NzRiZTk3ZTIxMzljYjM2YjFiMTVmMmY=", "commit": {"author": {"name": "Jethro Beekman", "email": "jethro@fortanix.com", "date": "2021-07-27T10:11:20Z"}, "committer": {"name": "Jethro Beekman", "email": "jethro@fortanix.com", "date": "2021-07-27T10:13:00Z"}, "message": "Add warning to SGX mutex implementation", "tree": {"sha": "83c3b9daa3f85a774279056d41a13f06de37f886", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/83c3b9daa3f85a774279056d41a13f06de37f886"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b518dc7a316b172f474be97e2139cb36b1b15f2f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b518dc7a316b172f474be97e2139cb36b1b15f2f", "html_url": "https://github.com/rust-lang/rust/commit/b518dc7a316b172f474be97e2139cb36b1b15f2f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b518dc7a316b172f474be97e2139cb36b1b15f2f/comments", "author": null, "committer": null, "parents": [{"sha": "eb6f2d4be0ecb2f1091e1b6c9fda8f42e10a2328", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb6f2d4be0ecb2f1091e1b6c9fda8f42e10a2328", "html_url": "https://github.com/rust-lang/rust/commit/eb6f2d4be0ecb2f1091e1b6c9fda8f42e10a2328"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "0b2d1f4487f618dac25f4453f2e29d8caabaf014", "filename": "library/std/src/sys/sgx/mutex.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b518dc7a316b172f474be97e2139cb36b1b15f2f/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fmutex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b518dc7a316b172f474be97e2139cb36b1b15f2f/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fmutex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fmutex.rs?ref=b518dc7a316b172f474be97e2139cb36b1b15f2f", "patch": "@@ -8,6 +8,7 @@ pub struct Mutex {\n     inner: SpinMutex<WaitVariable<bool>>,\n }\n \n+// not movable: see UnsafeList implementation\n pub type MovableMutex = Box<Mutex>;\n \n // Implementation according to \u201cOperating Systems: Three Easy Pieces\u201d, chapter 28"}, {"sha": "c736cab576e4dd53b30f0f32901db78e9ed1c599", "filename": "library/std/src/sys/sgx/waitqueue/unsafe_list.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b518dc7a316b172f474be97e2139cb36b1b15f2f/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fwaitqueue%2Funsafe_list.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b518dc7a316b172f474be97e2139cb36b1b15f2f/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fwaitqueue%2Funsafe_list.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fwaitqueue%2Funsafe_list.rs?ref=b518dc7a316b172f474be97e2139cb36b1b15f2f", "patch": "@@ -23,6 +23,7 @@ impl<T> UnsafeListEntry<T> {\n     }\n }\n \n+// WARNING: self-referential struct!\n pub struct UnsafeList<T> {\n     head_tail: NonNull<UnsafeListEntry<T>>,\n     head_tail_entry: Option<UnsafeListEntry<T>>,"}]}