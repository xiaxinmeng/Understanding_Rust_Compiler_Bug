{"sha": "6fd3c9174c7ad518bfa7f4646477cf5606209474", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZmZDNjOTE3NGM3YWQ1MThiZmE3ZjQ2NDY0NzdjZjU2MDYyMDk0NzQ=", "commit": {"author": {"name": "Bastian Kauschke", "email": "bastian_kauschke@hotmail.de", "date": "2020-03-08T13:31:57Z"}, "committer": {"name": "Bastian Kauschke", "email": "bastian_kauschke@hotmail.de", "date": "2020-03-08T13:31:57Z"}, "message": "rm custom `intrinsics::discriminant_value`", "tree": {"sha": "a546ab6f6d357e91981ccc4e4d7b6c5b87bc6f6a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a546ab6f6d357e91981ccc4e4d7b6c5b87bc6f6a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6fd3c9174c7ad518bfa7f4646477cf5606209474", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6fd3c9174c7ad518bfa7f4646477cf5606209474", "html_url": "https://github.com/rust-lang/rust/commit/6fd3c9174c7ad518bfa7f4646477cf5606209474", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6fd3c9174c7ad518bfa7f4646477cf5606209474/comments", "author": {"login": "lcnr", "id": 29864074, "node_id": "MDQ6VXNlcjI5ODY0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/29864074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnr", "html_url": "https://github.com/lcnr", "followers_url": "https://api.github.com/users/lcnr/followers", "following_url": "https://api.github.com/users/lcnr/following{/other_user}", "gists_url": "https://api.github.com/users/lcnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnr/subscriptions", "organizations_url": "https://api.github.com/users/lcnr/orgs", "repos_url": "https://api.github.com/users/lcnr/repos", "events_url": "https://api.github.com/users/lcnr/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lcnr", "id": 29864074, "node_id": "MDQ6VXNlcjI5ODY0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/29864074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnr", "html_url": "https://github.com/lcnr", "followers_url": "https://api.github.com/users/lcnr/followers", "following_url": "https://api.github.com/users/lcnr/following{/other_user}", "gists_url": "https://api.github.com/users/lcnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnr/subscriptions", "organizations_url": "https://api.github.com/users/lcnr/orgs", "repos_url": "https://api.github.com/users/lcnr/repos", "events_url": "https://api.github.com/users/lcnr/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e6a0c60a0feba65b2ced98b3eae4a2406a7d635e", "url": "https://api.github.com/repos/rust-lang/rust/commits/e6a0c60a0feba65b2ced98b3eae4a2406a7d635e", "html_url": "https://github.com/rust-lang/rust/commit/e6a0c60a0feba65b2ced98b3eae4a2406a7d635e"}], "stats": {"total": 6, "additions": 0, "deletions": 6}, "files": [{"sha": "44283364a98643564d6010b1c397f2bfc2ec307b", "filename": "src/shims/intrinsics.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6fd3c9174c7ad518bfa7f4646477cf5606209474/src%2Fshims%2Fintrinsics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6fd3c9174c7ad518bfa7f4646477cf5606209474/src%2Fshims%2Fintrinsics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fintrinsics.rs?ref=6fd3c9174c7ad518bfa7f4646477cf5606209474", "patch": "@@ -248,12 +248,6 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n                 }\n             }\n \n-            \"discriminant_value\" => {\n-                let place = this.deref_operand(args[0])?;\n-                let discr_val = this.read_discriminant(place.into())?.0;\n-                this.write_scalar(Scalar::from_uint(discr_val, dest.layout.size), dest)?;\n-            }\n-\n             #[rustfmt::skip]\n             | \"sinf32\"\n             | \"fabsf32\""}]}