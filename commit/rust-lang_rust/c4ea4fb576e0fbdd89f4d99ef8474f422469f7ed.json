{"sha": "c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed", "node_id": "C_kwDOAAsO6NoAKGM0ZWE0ZmI1NzZlMGZiZGQ4OWY0ZDk5ZWY4NDc0ZjQyMjQ2OWY3ZWQ", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-09-04T16:55:42Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-04T16:55:42Z"}, "message": "Rollup merge of #101322 - ChrisDenton:internal-doc, r=Mark-Simulacrum\n\nFix internal doc link\n\nThe doc link from `DedupSortedIter` to `BTreeMap::bulk_build_from_sorted_iter` was broken when building internal documentation,\n\nThis prevented me from building internal documentation locally:\n\n```\nR:\\Rust\\rust> $env:RUSTDOCFLAGS=\"--document-private-items\"\nR:\\Rust\\rust> x doc library/std --open --stage 0\nBuilding rustbuild\n   Compiling bootstrap v0.0.0 (R:\\Rust\\rust\\src\\bootstrap)\n    Finished dev [unoptimized] target(s) in 3.15s\nDocumenting stage0 std (x86_64-pc-windows-msvc)\n Documenting core v0.0.0 (R:\\Rust\\rust\\library\\core)\n    Finished release [optimized] target(s) in 36.42s\n    Checking core v0.0.0 (R:\\Rust\\rust\\library\\core)\n    Checking rustc-std-workspace-core v1.99.0 (R:\\Rust\\rust\\library\\rustc-std-workspace-core)\n    Checking compiler_builtins v0.1.79\n Documenting alloc v0.0.0 (R:\\Rust\\rust\\library\\alloc)\nerror: unresolved link to `BTreeMap::bulk_build_from_sorted_iter`\n --> library\\alloc\\src\\collections\\btree\\dedup_sorted_iter.rs:6:15\n  |\n6 | /// Used by [`BTreeMap::bulk_build_from_sorted_iter`].\n  |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ no item named `BTreeMap` in scope\n  |\n  = note: `-D rustdoc::broken-intra-doc-links` implied by `-D warnings`\n\nerror: could not document `alloc`\n```", "tree": {"sha": "cb15e6dafdcc8077d7ee71c8c77af82d544e9c8a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cb15e6dafdcc8077d7ee71c8c77af82d544e9c8a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjFNiOCRBK7hj4Ov3rIwAAknwIAARM1cpUPW833X4dy2+pMwEo\njSDeSS8jPXghrWSwXzn9DFLsWzcWDCR8T4jDdGVF0B78KRw/4zibE+a5hqVKTWAK\nBClx5DD3vAYELbh+3KL2GLAIhbf5aLRvonHgp0X7P3tCqdEzIvarGjqwQM7nC1hI\nOUMnZUQqQmp9Ke470eR/CuxPiA+oGQALZbDRAtCIipL7SSO1za/iVqbH4Qwv/MSH\namxw8GLNnREzuMIwM7rxAKK8VOPP0v89XTyxmM1zZjHXa5VifrTVygOsV3Ym8cFz\nsUB/Y8j0lfqRWqLu3S7sMAAzaM/Bm2nfU3ek5IlIr3AD3fD+UrOmCvHjXdtN9og=\n=gLDM\n-----END PGP SIGNATURE-----\n", "payload": "tree cb15e6dafdcc8077d7ee71c8c77af82d544e9c8a\nparent a2cdcb3fea2baae5d20eabaa412e0d2f5b98c318\nparent 835a4612d2d974c98a8f972aa43cea5d1fbea8ed\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1662310542 +0200\ncommitter GitHub <noreply@github.com> 1662310542 +0200\n\nRollup merge of #101322 - ChrisDenton:internal-doc, r=Mark-Simulacrum\n\nFix internal doc link\n\nThe doc link from `DedupSortedIter` to `BTreeMap::bulk_build_from_sorted_iter` was broken when building internal documentation,\n\nThis prevented me from building internal documentation locally:\n\n```\nR:\\Rust\\rust> $env:RUSTDOCFLAGS=\"--document-private-items\"\nR:\\Rust\\rust> x doc library/std --open --stage 0\nBuilding rustbuild\n   Compiling bootstrap v0.0.0 (R:\\Rust\\rust\\src\\bootstrap)\n    Finished dev [unoptimized] target(s) in 3.15s\nDocumenting stage0 std (x86_64-pc-windows-msvc)\n Documenting core v0.0.0 (R:\\Rust\\rust\\library\\core)\n    Finished release [optimized] target(s) in 36.42s\n    Checking core v0.0.0 (R:\\Rust\\rust\\library\\core)\n    Checking rustc-std-workspace-core v1.99.0 (R:\\Rust\\rust\\library\\rustc-std-workspace-core)\n    Checking compiler_builtins v0.1.79\n Documenting alloc v0.0.0 (R:\\Rust\\rust\\library\\alloc)\nerror: unresolved link to `BTreeMap::bulk_build_from_sorted_iter`\n --> library\\alloc\\src\\collections\\btree\\dedup_sorted_iter.rs:6:15\n  |\n6 | /// Used by [`BTreeMap::bulk_build_from_sorted_iter`].\n  |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ no item named `BTreeMap` in scope\n  |\n  = note: `-D rustdoc::broken-intra-doc-links` implied by `-D warnings`\n\nerror: could not document `alloc`\n```\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed", "html_url": "https://github.com/rust-lang/rust/commit/c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a2cdcb3fea2baae5d20eabaa412e0d2f5b98c318", "url": "https://api.github.com/repos/rust-lang/rust/commits/a2cdcb3fea2baae5d20eabaa412e0d2f5b98c318", "html_url": "https://github.com/rust-lang/rust/commit/a2cdcb3fea2baae5d20eabaa412e0d2f5b98c318"}, {"sha": "835a4612d2d974c98a8f972aa43cea5d1fbea8ed", "url": "https://api.github.com/repos/rust-lang/rust/commits/835a4612d2d974c98a8f972aa43cea5d1fbea8ed", "html_url": "https://github.com/rust-lang/rust/commit/835a4612d2d974c98a8f972aa43cea5d1fbea8ed"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "17ee78045a9b2b8d089f6880ecd21d35fda28111", "filename": "library/alloc/src/collections/btree/dedup_sorted_iter.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed/library%2Falloc%2Fsrc%2Fcollections%2Fbtree%2Fdedup_sorted_iter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed/library%2Falloc%2Fsrc%2Fcollections%2Fbtree%2Fdedup_sorted_iter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fcollections%2Fbtree%2Fdedup_sorted_iter.rs?ref=c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed", "patch": "@@ -3,7 +3,9 @@ use core::iter::Peekable;\n /// A iterator for deduping the key of a sorted iterator.\n /// When encountering the duplicated key, only the last key-value pair is yielded.\n ///\n-/// Used by [`BTreeMap::bulk_build_from_sorted_iter`].\n+/// Used by [`BTreeMap::bulk_build_from_sorted_iter`][1].\n+///\n+/// [1]: crate::collections::BTreeMap::bulk_build_from_sorted_iter\n pub struct DedupSortedIter<K, V, I>\n where\n     I: Iterator<Item = (K, V)>,"}, {"sha": "52a7776153dac353e3d2ca72f95a13958efff3dc", "filename": "src/ci/docker/host-x86_64/mingw-check/Dockerfile", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile?ref=c4ea4fb576e0fbdd89f4d99ef8474f422469f7ed", "patch": "@@ -45,7 +45,8 @@ ENV SCRIPT python3 ../x.py --stage 2 test src/tools/expand-yaml-anchors && \\\n            python3 ../x.py test --stage 0 src/tools/compiletest && \\\n            python3 ../x.py test --stage 2 src/tools/tidy && \\\n            python3 ../x.py test --stage 0 core alloc std test proc_macro && \\\n-           python3 ../x.py doc --stage 0 library/test && \\\n+           # Build both public and internal documentation.\n+           RUSTDOCFLAGS=\"--document-private-items\" python3 ../x.py doc --stage 0 library/test && \\\n            /scripts/validate-toolstate.sh && \\\n            /scripts/validate-error-codes.sh && \\\n            reuse lint && \\"}]}