{"sha": "fba3d79df09780a9529db09086810759f6dc60ad", "node_id": "C_kwDOAAsO6NoAKGZiYTNkNzlkZjA5NzgwYTk1MjlkYjA5MDg2ODEwNzU5ZjZkYzYwYWQ", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-12-28T11:45:18Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-12-28T11:45:18Z"}, "message": "Auto merge of #2743 - RalfJung:path-join, r=RalfJung\n\nsimplify path joining code a bit", "tree": {"sha": "d144e547bd772161bc685fa36af5e9ff87c4883b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d144e547bd772161bc685fa36af5e9ff87c4883b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fba3d79df09780a9529db09086810759f6dc60ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fba3d79df09780a9529db09086810759f6dc60ad", "html_url": "https://github.com/rust-lang/rust/commit/fba3d79df09780a9529db09086810759f6dc60ad", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fba3d79df09780a9529db09086810759f6dc60ad/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fbdf926e7010f8bdd9e773831ecf5dbda058bd21", "url": "https://api.github.com/repos/rust-lang/rust/commits/fbdf926e7010f8bdd9e773831ecf5dbda058bd21", "html_url": "https://github.com/rust-lang/rust/commit/fbdf926e7010f8bdd9e773831ecf5dbda058bd21"}, {"sha": "041ad1fcfe62615a67461bb2076d0ebff026bf77", "url": "https://api.github.com/repos/rust-lang/rust/commits/041ad1fcfe62615a67461bb2076d0ebff026bf77", "html_url": "https://github.com/rust-lang/rust/commit/041ad1fcfe62615a67461bb2076d0ebff026bf77"}], "stats": {"total": 10, "additions": 1, "deletions": 9}, "files": [{"sha": "e51bfa3798f3ecdd0b6a4ed9abf06bc8a8024366", "filename": "src/tools/miri/cargo-miri/src/phases.rs", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/fba3d79df09780a9529db09086810759f6dc60ad/src%2Ftools%2Fmiri%2Fcargo-miri%2Fsrc%2Fphases.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fba3d79df09780a9529db09086810759f6dc60ad/src%2Ftools%2Fmiri%2Fcargo-miri%2Fsrc%2Fphases.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Fcargo-miri%2Fsrc%2Fphases.rs?ref=fba3d79df09780a9529db09086810759f6dc60ad", "patch": "@@ -265,15 +265,7 @@ pub fn phase_rustc(mut args: impl Iterator<Item = String>, phase: RustcPhase) {\n             );\n             let output =\n                 String::from_utf8(output.stdout).expect(\"rustc returned non-UTF-8 filename\");\n-            output\n-                .lines()\n-                .filter(|l| !l.is_empty())\n-                .map(|l| {\n-                    let mut p = path.clone();\n-                    p.push(l);\n-                    p\n-                })\n-                .collect()\n+            output.lines().filter(|l| !l.is_empty()).map(|l| path.join(l)).collect()\n         }\n     }\n "}]}