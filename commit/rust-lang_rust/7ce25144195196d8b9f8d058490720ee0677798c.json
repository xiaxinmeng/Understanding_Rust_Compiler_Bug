{"sha": "7ce25144195196d8b9f8d058490720ee0677798c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdjZTI1MTQ0MTk1MTk2ZDhiOWY4ZDA1ODQ5MDcyMGVlMDY3Nzc5OGM=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2019-01-20T05:53:28Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2019-01-20T05:53:28Z"}, "message": "Fix tests", "tree": {"sha": "5b13cc8cdba5cd2b6a48290a57dd9a8782da87c4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5b13cc8cdba5cd2b6a48290a57dd9a8782da87c4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7ce25144195196d8b9f8d058490720ee0677798c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7ce25144195196d8b9f8d058490720ee0677798c", "html_url": "https://github.com/rust-lang/rust/commit/7ce25144195196d8b9f8d058490720ee0677798c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7ce25144195196d8b9f8d058490720ee0677798c/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6e59c6432612f87c7cb1309e89c41e1f0d9e0e25", "url": "https://api.github.com/repos/rust-lang/rust/commits/6e59c6432612f87c7cb1309e89c41e1f0d9e0e25", "html_url": "https://github.com/rust-lang/rust/commit/6e59c6432612f87c7cb1309e89c41e1f0d9e0e25"}], "stats": {"total": 152, "additions": 56, "deletions": 96}, "files": [{"sha": "7eadb8ebfe06d6021636c9038a18e480c89a49c5", "filename": "src/test/ui/parser/lex-bad-char-literals-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-2.stderr?ref=7ce25144195196d8b9f8d058490720ee0677798c", "patch": "@@ -1,7 +1,7 @@\n error: character literal may only contain one codepoint\n   --> $DIR/lex-bad-char-literals-2.rs:3:5\n    |\n-LL |     'nope' //~ ERROR: character literal may only contain one codepoint: 'nope'\n+LL |     'nope' //~ ERROR: character literal may only contain one codepoint\n    |     ^^^^^^\n \n error[E0601]: `main` function not found in crate `lex_bad_char_literals_2`"}, {"sha": "efd597d11faa4c6bfe5297e51cb568cd6a809191", "filename": "src/test/ui/parser/lex-bad-char-literals-3.rs", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-3.rs?ref=7ce25144195196d8b9f8d058490720ee0677798c", "patch": "@@ -1,9 +1,8 @@\n-// This test needs to the last one appearing in this file as it kills the parser\n-static c: char =\n-    '\u25cf\u25cf' //~ ERROR: character literal may only contain one codepoint\n-;\n+static c: char = '\u25cf\u25cf'; \n+//~^ ERROR: character literal may only contain one codepoint\n+\n \n fn main() {\n-    let ch: &str = '\u25cf\u25cf'; //~ ERROR: character literal may only contain one codepoint\n-    //~^ ERROR: mismatched types\n+    let ch: &str = '\u25cf\u25cf';\n+    //~^ ERROR: character literal may only contain one codepoint\n }"}, {"sha": "1e7a386ca8b2a6c30ad1206bb20005a410d6d2ea", "filename": "src/test/ui/parser/lex-bad-char-literals-3.stderr", "status": "modified", "additions": 9, "deletions": 19, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-3.stderr?ref=7ce25144195196d8b9f8d058490720ee0677798c", "patch": "@@ -1,32 +1,22 @@\n error: character literal may only contain one codepoint\n-  --> $DIR/lex-bad-char-literals-3.rs:3:5\n+  --> $DIR/lex-bad-char-literals-3.rs:1:18\n    |\n-LL |     '\u25cf\u25cf' //~ ERROR: character literal may only contain one codepoint\n-   |     ^^^^\n+LL | static c: char = '\u25cf\u25cf'; \n+   |                  ^^^^\n help: if you meant to write a `str` literal, use double quotes\n    |\n-LL |     \"\u25cf\u25cf\" //~ ERROR: character literal may only contain one codepoint\n-   |     ^^^^\n+LL | static c: char = \"\u25cf\u25cf\"; \n+   |                  ^^^^\n \n error: character literal may only contain one codepoint\n-  --> $DIR/lex-bad-char-literals-3.rs:7:20\n+  --> $DIR/lex-bad-char-literals-3.rs:6:20\n    |\n-LL |     let ch: &str = '\u25cf\u25cf'; //~ ERROR: character literal may only contain one codepoint\n+LL |     let ch: &str = '\u25cf\u25cf';\n    |                    ^^^^\n help: if you meant to write a `str` literal, use double quotes\n    |\n-LL |     let ch: &str = \"\u25cf\u25cf\"; //~ ERROR: character literal may only contain one codepoint\n+LL |     let ch: &str = \"\u25cf\u25cf\";\n    |                    ^^^^\n \n-error[E0308]: mismatched types\n-  --> $DIR/lex-bad-char-literals-3.rs:7:20\n-   |\n-LL |     let ch: &str = '\u25cf\u25cf'; //~ ERROR: character literal may only contain one codepoint\n-   |                    ^^^^ expected &str, found char\n-   |\n-   = note: expected type `&str`\n-              found type `char`\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0308`."}, {"sha": "881e3d5276bb1bf564710cf63acfdacf8ae549f9", "filename": "src/test/ui/parser/lex-bad-char-literals-4.stderr", "status": "modified", "additions": 3, "deletions": 15, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-4.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-4.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-4.stderr?ref=7ce25144195196d8b9f8d058490720ee0677798c", "patch": "@@ -1,20 +1,8 @@\n-error: character literal may only contain one codepoint\n+error: character literal may only contain one codepoint: '\u25cf\n   --> $DIR/lex-bad-char-literals-4.rs:4:5\n    |\n-LL |     '\u25cf  //~ ERROR: character literal may only contain one codepoint: '\u25cf\n+LL |     '\u25cf  //~ ERROR: character literal may only contain one codepoint\n    |     ^^\n \n-error: character literal may only contain one codepoint\n-  --> $DIR/lex-bad-char-literals-4.rs:4:70\n-   |\n-LL |     '\u25cf  //~ ERROR: character literal may only contain one codepoint: '\u25cf\n-   |                                                                      ^^\n-\n-error: expected one of `.`, `;`, `?`, or an operator, found `~`\n-  --> $DIR/lex-bad-char-literals-4.rs:4:11\n-   |\n-LL |     '\u25cf  //~ ERROR: character literal may only contain one codepoint: '\u25cf\n-   |           ^ expected one of `.`, `;`, `?`, or an operator here\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to previous error\n "}, {"sha": "0c4339edc4fa7f9d17dea6da00e97f56d0b941ed", "filename": "src/test/ui/parser/lex-bad-char-literals-5.rs", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-5.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-5.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-5.rs?ref=7ce25144195196d8b9f8d058490720ee0677798c", "patch": "@@ -1,10 +1,7 @@\n-//\n-// This test needs to the last one appearing in this file as it kills the parser\n-static c: char =\n-    '\\x10\\x10'  //~ ERROR: character literal may only contain one codepoint\n-;\n+static c: char = '\\x10\\x10';\n+//~^ ERROR: character literal may only contain one codepoint\n \n fn main() {\n-    let ch: &str = '\\x10\\x10'; //~ ERROR: character literal may only contain one codepoint\n-    //~^ ERROR: mismatched types\n+    let ch: &str = '\\x10\\x10';\n+    //~^ ERROR: character literal may only contain one codepoint\n }"}, {"sha": "ef0297331015339b70445ad36d83dffdbe7b0213", "filename": "src/test/ui/parser/lex-bad-char-literals-5.stderr", "status": "modified", "additions": 9, "deletions": 19, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-5.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-5.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-5.stderr?ref=7ce25144195196d8b9f8d058490720ee0677798c", "patch": "@@ -1,32 +1,22 @@\n error: character literal may only contain one codepoint\n-  --> $DIR/lex-bad-char-literals-5.rs:4:5\n+  --> $DIR/lex-bad-char-literals-5.rs:1:18\n    |\n-LL |     '/x10/x10'  //~ ERROR: character literal may only contain one codepoint\n-   |     ^^^^^^^^^^\n+LL | static c: char = '/x10/x10';\n+   |                  ^^^^^^^^^^\n help: if you meant to write a `str` literal, use double quotes\n    |\n-LL |     \"/x10/x10\"  //~ ERROR: character literal may only contain one codepoint\n-   |     ^^^^^^^^^^\n+LL | static c: char = \"/x10/x10\";\n+   |                  ^^^^^^^^^^\n \n error: character literal may only contain one codepoint\n-  --> $DIR/lex-bad-char-literals-5.rs:8:20\n+  --> $DIR/lex-bad-char-literals-5.rs:5:20\n    |\n-LL |     let ch: &str = '/x10/x10'; //~ ERROR: character literal may only contain one codepoint\n+LL |     let ch: &str = '/x10/x10';\n    |                    ^^^^^^^^^^\n help: if you meant to write a `str` literal, use double quotes\n    |\n-LL |     let ch: &str = \"/x10/x10\"; //~ ERROR: character literal may only contain one codepoint\n+LL |     let ch: &str = \"/x10/x10\";\n    |                    ^^^^^^^^^^\n \n-error[E0308]: mismatched types\n-  --> $DIR/lex-bad-char-literals-5.rs:8:20\n-   |\n-LL |     let ch: &str = '/x10/x10'; //~ ERROR: character literal may only contain one codepoint\n-   |                    ^^^^^^^^^^ expected &str, found char\n-   |\n-   = note: expected type `&str`\n-              found type `char`\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0308`."}, {"sha": "4379b4fa6d777b53006a85a3360e2b9a1b6c52b5", "filename": "src/test/ui/parser/lex-bad-char-literals-6.rs", "status": "modified", "additions": 13, "deletions": 8, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-6.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-6.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-6.rs?ref=7ce25144195196d8b9f8d058490720ee0677798c", "patch": "@@ -1,12 +1,17 @@\n fn main() {\n-    let x: &str = 'ab';  //~ ERROR: character literal may only contain one codepoint\n-    //~^ ERROR: mismatched types\n-    let y: char = 'cd';  //~ ERROR: character literal may only contain one codepoint\n-    let z = 'ef';  //~ ERROR: character literal may only contain one codepoint\n+    let x: &str = 'ab';\n+    //~^ ERROR: character literal may only contain one codepoint\n+    let y: char = 'cd';\n+    //~^ ERROR: character literal may only contain one codepoint\n+    let z = 'ef';\n+    //~^ ERROR: character literal may only contain one codepoint\n \n-    if x == y {}  //~ ERROR: can't compare `&str` with `char`\n+    if x == y {}\n+    //~^ ERROR: can't compare `&str` with `char`\n     if y == z {}  // no error here\n-    if x == z {}  //~ ERROR: can't compare `&str` with `char`\n+    if x == z {}\n+    //~^ ERROR: can't compare `&str` with `char`\n \n-    let a: usize = \"\";  //~ ERROR: mismatched types\n-}\n\\ No newline at end of file\n+    let a: usize = \"\";\n+    //~^ ERROR: mismatched types\n+}"}, {"sha": "df99726034878d464a6bb9fe3008563feab7a550", "filename": "src/test/ui/parser/lex-bad-char-literals-6.stderr", "status": "modified", "additions": 12, "deletions": 21, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-6.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7ce25144195196d8b9f8d058490720ee0677798c/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-6.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flex-bad-char-literals-6.stderr?ref=7ce25144195196d8b9f8d058490720ee0677798c", "patch": "@@ -1,56 +1,47 @@\n error: character literal may only contain one codepoint\n   --> $DIR/lex-bad-char-literals-6.rs:2:19\n    |\n-LL |     let x: &str = 'ab';  //~ ERROR: character literal may only contain one codepoint\n+LL |     let x: &str = 'ab';\n    |                   ^^^^\n \n error: character literal may only contain one codepoint\n-  --> $DIR/lex-bad-char-literals-6.rs:3:19\n+  --> $DIR/lex-bad-char-literals-6.rs:4:19\n    |\n-LL |     let y: char = 'cd';  //~ ERROR: character literal may only contain one codepoint\n+LL |     let y: char = 'cd';\n    |                   ^^^^\n \n error: character literal may only contain one codepoint\n-  --> $DIR/lex-bad-char-literals-6.rs:4:13\n+  --> $DIR/lex-bad-char-literals-6.rs:6:13\n    |\n-LL |     let z = 'ef';  //~ ERROR: character literal may only contain one codepoint\n+LL |     let z = 'ef';\n    |             ^^^^\n \n-error[E0308]: mismatched types\n-  --> $DIR/lex-bad-char-literals-6.rs:2:19\n-   |\n-LL |     let x: &str = 'ab';  //~ ERROR: character literal may only contain one codepoint\n-   |                   ^^^^ expected &str, found char\n-   |\n-   = note: expected type `&str`\n-              found type `char`\n-\n error[E0277]: can't compare `&str` with `char`\n-  --> $DIR/lex-bad-char-literals-6.rs:6:10\n+  --> $DIR/lex-bad-char-literals-6.rs:9:10\n    |\n-LL |     if x == y {}  // no error here\n+LL |     if x == y {}\n    |          ^^ no implementation for `&str == char`\n    |\n    = help: the trait `std::cmp::PartialEq<char>` is not implemented for `&str`\n \n error[E0308]: mismatched types\n-  --> $DIR/lex-bad-char-literals-6.rs:10:20\n+  --> $DIR/lex-bad-char-literals-6.rs:15:20\n    |\n-LL |     let a: usize = \"\";  // type error here to confirm we got past the parser\n+LL |     let a: usize = \"\";\n    |                    ^^ expected usize, found reference\n    |\n    = note: expected type `usize`\n               found type `&'static str`\n \n error[E0277]: can't compare `&str` with `char`\n-  --> $DIR/lex-bad-char-literals-6.rs:8:10\n+  --> $DIR/lex-bad-char-literals-6.rs:12:10\n    |\n-LL |     if x == z {}  // no error here\n+LL |     if x == z {}\n    |          ^^ no implementation for `&str == char`\n    |\n    = help: the trait `std::cmp::PartialEq<char>` is not implemented for `&str`\n \n-error: aborting due to 7 previous errors\n+error: aborting due to 6 previous errors\n \n Some errors occurred: E0277, E0308.\n For more information about an error, try `rustc --explain E0277`."}]}