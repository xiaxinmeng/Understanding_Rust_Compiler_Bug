{"sha": "18f6cc6c5d50935ed1f549d5545dae91d23de998", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE4ZjZjYzZjNWQ1MDkzNWVkMWY1NDlkNTU0NWRhZTkxZDIzZGU5OTg=", "commit": {"author": {"name": "J. Ryan Stinnett", "email": "jryans@gmail.com", "date": "2021-02-03T17:17:15Z"}, "committer": {"name": "J. Ryan Stinnett", "email": "jryans@gmail.com", "date": "2021-02-03T17:17:15Z"}, "message": "Reduce tab formatting assertions to debug only\n\nThe tab replacement for diagnostics added in #79757 included a few assertions to\nensure all tab characters are handled appropriately. We've started getting\nreports of these assertions firing (#81614). Since it's only a cosmetic issue,\nthis downgrades the assertions to debug only, so we at least continue compiling\neven if the diagnostics might be a tad wonky.\n\nFixes #81614", "tree": {"sha": "4b3a191865da12e2dde19cbaca776e1382feea0e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4b3a191865da12e2dde19cbaca776e1382feea0e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/18f6cc6c5d50935ed1f549d5545dae91d23de998", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/18f6cc6c5d50935ed1f549d5545dae91d23de998", "html_url": "https://github.com/rust-lang/rust/commit/18f6cc6c5d50935ed1f549d5545dae91d23de998", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/18f6cc6c5d50935ed1f549d5545dae91d23de998/comments", "author": {"login": "jryans", "id": 279572, "node_id": "MDQ6VXNlcjI3OTU3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/279572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jryans", "html_url": "https://github.com/jryans", "followers_url": "https://api.github.com/users/jryans/followers", "following_url": "https://api.github.com/users/jryans/following{/other_user}", "gists_url": "https://api.github.com/users/jryans/gists{/gist_id}", "starred_url": "https://api.github.com/users/jryans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jryans/subscriptions", "organizations_url": "https://api.github.com/users/jryans/orgs", "repos_url": "https://api.github.com/users/jryans/repos", "events_url": "https://api.github.com/users/jryans/events{/privacy}", "received_events_url": "https://api.github.com/users/jryans/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jryans", "id": 279572, "node_id": "MDQ6VXNlcjI3OTU3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/279572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jryans", "html_url": "https://github.com/jryans", "followers_url": "https://api.github.com/users/jryans/followers", "following_url": "https://api.github.com/users/jryans/following{/other_user}", "gists_url": "https://api.github.com/users/jryans/gists{/gist_id}", "starred_url": "https://api.github.com/users/jryans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jryans/subscriptions", "organizations_url": "https://api.github.com/users/jryans/orgs", "repos_url": "https://api.github.com/users/jryans/repos", "events_url": "https://api.github.com/users/jryans/events{/privacy}", "received_events_url": "https://api.github.com/users/jryans/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6ad11e2e25919b75ebbc36d7910f2a1126a7e873", "url": "https://api.github.com/repos/rust-lang/rust/commits/6ad11e2e25919b75ebbc36d7910f2a1126a7e873", "html_url": "https://github.com/rust-lang/rust/commit/6ad11e2e25919b75ebbc36d7910f2a1126a7e873"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "ea62e21523028e3223fde03bc4098feb14fbb9f2", "filename": "compiler/rustc_errors/src/emitter.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/18f6cc6c5d50935ed1f549d5545dae91d23de998/compiler%2Frustc_errors%2Fsrc%2Femitter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/18f6cc6c5d50935ed1f549d5545dae91d23de998/compiler%2Frustc_errors%2Fsrc%2Femitter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Femitter.rs?ref=18f6cc6c5d50935ed1f549d5545dae91d23de998", "patch": "@@ -645,7 +645,7 @@ impl EmitterWriter {\n         margin: Margin,\n     ) {\n         // Tabs are assumed to have been replaced by spaces in calling code.\n-        assert!(!source_string.contains('\\t'));\n+        debug_assert!(!source_string.contains('\\t'));\n         let line_len = source_string.len();\n         // Create the source line we will highlight.\n         let left = margin.left(line_len);"}, {"sha": "ef71ee36ea36c0508e909e88ff4064a205bd0d3d", "filename": "compiler/rustc_errors/src/styled_buffer.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/18f6cc6c5d50935ed1f549d5545dae91d23de998/compiler%2Frustc_errors%2Fsrc%2Fstyled_buffer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/18f6cc6c5d50935ed1f549d5545dae91d23de998/compiler%2Frustc_errors%2Fsrc%2Fstyled_buffer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Fstyled_buffer.rs?ref=18f6cc6c5d50935ed1f549d5545dae91d23de998", "patch": "@@ -15,7 +15,7 @@ impl StyledBuffer {\n \n     pub fn render(&self) -> Vec<Vec<StyledString>> {\n         // Tabs are assumed to have been replaced by spaces in calling code.\n-        assert!(self.text.iter().all(|r| !r.contains(&'\\t')));\n+        debug_assert!(self.text.iter().all(|r| !r.contains(&'\\t')));\n \n         let mut output: Vec<Vec<StyledString>> = vec![];\n         let mut styled_vec: Vec<StyledString> = vec![];"}]}