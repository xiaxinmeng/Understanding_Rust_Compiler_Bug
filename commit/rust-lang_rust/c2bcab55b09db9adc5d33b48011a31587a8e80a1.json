{"sha": "c2bcab55b09db9adc5d33b48011a31587a8e80a1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMyYmNhYjU1YjA5ZGI5YWRjNWQzM2I0ODAxMWEzMTU4N2E4ZTgwYTE=", "commit": {"author": {"name": "Christian Poveda", "email": "git@christianpoveda.xyz", "date": "2020-02-22T13:55:45Z"}, "committer": {"name": "Christian Poveda", "email": "git@christianpoveda.xyz", "date": "2020-02-22T13:55:45Z"}, "message": "improve docs", "tree": {"sha": "5b8aee4a9e164fe0b05ae880e1a8dc5b996d6a4f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5b8aee4a9e164fe0b05ae880e1a8dc5b996d6a4f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c2bcab55b09db9adc5d33b48011a31587a8e80a1", "comment_count": 0, "verification": {"verified": false, "reason": "bad_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYIAB0WIQRsB8A/3NrzTlMMjT0nUl7150IKUAUCXlEy4QAKCRAnUl7150IK\nUCuJAP9PqWdU16vTxrmvBtvdC3p9SgkvS34pqxzL2w1Fzy2BZAEA0yWDW0twP7a/\nZwSXrjYvvojIE6vA1VKKi0yKpBrnvAw=\n=rtBt\n-----END PGP SIGNATURE-----", "payload": "tree 5b8aee4a9e164fe0b05ae880e1a8dc5b996d6a4f\nparent 9e9a0900261946b726137637dfbd4a70fa83f233\nauthor Christian Poveda <git@christianpoveda.xyz> 1582379745 -0500\ncommitter Christian Poveda <git@christianpoveda.xyz> 1582379745 -0500\n\nimprove docs\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c2bcab55b09db9adc5d33b48011a31587a8e80a1", "html_url": "https://github.com/rust-lang/rust/commit/c2bcab55b09db9adc5d33b48011a31587a8e80a1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c2bcab55b09db9adc5d33b48011a31587a8e80a1/comments", "author": {"login": "pvdrz", "id": 31802960, "node_id": "MDQ6VXNlcjMxODAyOTYw", "avatar_url": "https://avatars.githubusercontent.com/u/31802960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvdrz", "html_url": "https://github.com/pvdrz", "followers_url": "https://api.github.com/users/pvdrz/followers", "following_url": "https://api.github.com/users/pvdrz/following{/other_user}", "gists_url": "https://api.github.com/users/pvdrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvdrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvdrz/subscriptions", "organizations_url": "https://api.github.com/users/pvdrz/orgs", "repos_url": "https://api.github.com/users/pvdrz/repos", "events_url": "https://api.github.com/users/pvdrz/events{/privacy}", "received_events_url": "https://api.github.com/users/pvdrz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pvdrz", "id": 31802960, "node_id": "MDQ6VXNlcjMxODAyOTYw", "avatar_url": "https://avatars.githubusercontent.com/u/31802960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvdrz", "html_url": "https://github.com/pvdrz", "followers_url": "https://api.github.com/users/pvdrz/followers", "following_url": "https://api.github.com/users/pvdrz/following{/other_user}", "gists_url": "https://api.github.com/users/pvdrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvdrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvdrz/subscriptions", "organizations_url": "https://api.github.com/users/pvdrz/orgs", "repos_url": "https://api.github.com/users/pvdrz/repos", "events_url": "https://api.github.com/users/pvdrz/events{/privacy}", "received_events_url": "https://api.github.com/users/pvdrz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9e9a0900261946b726137637dfbd4a70fa83f233", "url": "https://api.github.com/repos/rust-lang/rust/commits/9e9a0900261946b726137637dfbd4a70fa83f233", "html_url": "https://github.com/rust-lang/rust/commit/9e9a0900261946b726137637dfbd4a70fa83f233"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "9da54b6d4070259dad97781e9cf3d9e7c0fb2a76", "filename": "src/shims/foreign_items/posix/linux.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/c2bcab55b09db9adc5d33b48011a31587a8e80a1/src%2Fshims%2Fforeign_items%2Fposix%2Flinux.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c2bcab55b09db9adc5d33b48011a31587a8e80a1/src%2Fshims%2Fforeign_items%2Fposix%2Flinux.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fforeign_items%2Fposix%2Flinux.rs?ref=c2bcab55b09db9adc5d33b48011a31587a8e80a1", "patch": "@@ -19,6 +19,9 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n             }\n \n             // File related shims\n+\n+            // The only reason this is not in the `posix` module is because the `macos` item has a\n+            // different name.\n             \"close\" => {\n                 let result = this.close(args[0])?;\n                 this.write_scalar(Scalar::from_int(result, dest.layout.size), dest)?;\n@@ -56,6 +59,8 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n                         // so skip over it.\n                         getrandom(this, &args[1..], dest)?;\n                     }\n+                    // `statx` is used by `libstd` to retrieve metadata information in `linux`\n+                    // instead of using `stat`,`lstat` or `fstat` as in the `macos` platform.\n                     id if id == sys_statx => {\n                         // The first argument is the syscall id,\n                         // so skip over it."}, {"sha": "25ac7e93867f256e29cc06ad081ba2befeadf332", "filename": "src/shims/foreign_items/posix/macos.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c2bcab55b09db9adc5d33b48011a31587a8e80a1/src%2Fshims%2Fforeign_items%2Fposix%2Fmacos.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c2bcab55b09db9adc5d33b48011a31587a8e80a1/src%2Fshims%2Fforeign_items%2Fposix%2Fmacos.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fforeign_items%2Fposix%2Fmacos.rs?ref=c2bcab55b09db9adc5d33b48011a31587a8e80a1", "patch": "@@ -19,6 +19,9 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n             }\n \n             // File related shims\n+\n+            // The only reason this is not in the `posix` module is because the `linux` item has a\n+            // different name.\n             \"close$NOCANCEL\" => {\n                 let result = this.close(args[0])?;\n                 this.write_scalar(Scalar::from_int(result, dest.layout.size), dest)?;"}, {"sha": "b3d8d6a0ac7ffe645e2e4436ec6a6fbc48dc5606", "filename": "src/shims/fs.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c2bcab55b09db9adc5d33b48011a31587a8e80a1/src%2Fshims%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c2bcab55b09db9adc5d33b48011a31587a8e80a1/src%2Fshims%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Ffs.rs?ref=c2bcab55b09db9adc5d33b48011a31587a8e80a1", "patch": "@@ -383,6 +383,10 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n         macos_stat_write_buf(this, metadata, buf_op)\n     }\n \n+    /// Emulate `stat` or `lstat` on the `macos` platform. This function is not intended to be\n+    /// called directly from `emulate_foreign_item_by_name`, so it does not check if isolation is\n+    /// disabled or if the target platform is the correct one. Please use `macos_stat` or\n+    /// `macos_lstat` instead.\n     fn macos_stat_or_lstat(\n         &mut self,\n         follow_symlink: bool,"}]}