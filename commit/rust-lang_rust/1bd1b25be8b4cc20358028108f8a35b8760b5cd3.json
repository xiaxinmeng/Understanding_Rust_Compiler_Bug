{"sha": "1bd1b25be8b4cc20358028108f8a35b8760b5cd3", "node_id": "C_kwDOAAsO6NoAKDFiZDFiMjViZThiNGNjMjAzNTgwMjgxMDhmOGEzNWI4NzYwYjVjZDM", "commit": {"author": {"name": "Joshua Nelson", "email": "github@jyn.dev", "date": "2022-12-24T01:03:50Z"}, "committer": {"name": "Joshua Nelson", "email": "github@jyn.dev", "date": "2022-12-24T01:08:53Z"}, "message": "Suggest `profile = \"user\"` in the README\n\nThis sets several useful defaults, like `extended = true`, and gives us a path forward for changing\nglobal defaults without breaking distros.", "tree": {"sha": "76dcc6c42b5db8b4cfbd9c06c477a7fc391eb766", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/76dcc6c42b5db8b4cfbd9c06c477a7fc391eb766"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1bd1b25be8b4cc20358028108f8a35b8760b5cd3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1bd1b25be8b4cc20358028108f8a35b8760b5cd3", "html_url": "https://github.com/rust-lang/rust/commit/1bd1b25be8b4cc20358028108f8a35b8760b5cd3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1bd1b25be8b4cc20358028108f8a35b8760b5cd3/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7dae1b0b07b73d34989cf6ee8795b7437372eb28", "url": "https://api.github.com/repos/rust-lang/rust/commits/7dae1b0b07b73d34989cf6ee8795b7437372eb28", "html_url": "https://github.com/rust-lang/rust/commit/7dae1b0b07b73d34989cf6ee8795b7437372eb28"}], "stats": {"total": 13, "additions": 6, "deletions": 7}, "files": [{"sha": "e2042eb2d4577c5022baca7ba5fd014018d113f5", "filename": "README.md", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/1bd1b25be8b4cc20358028108f8a35b8760b5cd3/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/1bd1b25be8b4cc20358028108f8a35b8760b5cd3/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=1bd1b25be8b4cc20358028108f8a35b8760b5cd3", "patch": "@@ -87,10 +87,11 @@ See [the rustc-dev-guide for more info][sysllvm].\n \n     The Rust build system uses a file named `config.toml` in the root of the\n     source tree to determine various configuration settings for the build.\n-    Copy the default `config.toml.example` to `config.toml` to get started.\n+    Set up the defaults intended for distros to get started. You can see a full list of options\n+    in `config.toml.example`.\n \n     ```sh\n-    cp config.toml.example config.toml\n+    printf 'profile = \"user\" \\nchangelog-seen = 2 \\n' > config.toml\n     ```\n \n     If you plan to use `x.py install` to create an installation, it is recommended\n@@ -104,10 +105,8 @@ See [the rustc-dev-guide for more info][sysllvm].\n \n     When complete, `./x.py install` will place several programs into\n     `$PREFIX/bin`: `rustc`, the Rust compiler, and `rustdoc`, the\n-    API-documentation tool. This install does not include [Cargo],\n-    Rust's package manager. To build and install Cargo, you may\n-    run `./x.py install cargo` or set the `build.extended` key in\n-    `config.toml` to `true` to build and install all tools.\n+    API-documentation tool. If you've set `profile = \"user\"` or `build.extended = true`, it will\n+    also include [Cargo], Rust's package manager.\n \n [Cargo]: https://github.com/rust-lang/cargo\n \n@@ -215,7 +214,7 @@ Windows build triples are:\n     - `x86_64-pc-windows-msvc`\n \n The build triple can be specified by either specifying `--build=<triple>` when\n-invoking `x.py` commands, or by copying the `config.toml` file (as described\n+invoking `x.py` commands, or by creating a `config.toml` file (as described\n in [Installing From Source](#installing-from-source)), and modifying the\n `build` option under the `[build]` section.\n "}]}