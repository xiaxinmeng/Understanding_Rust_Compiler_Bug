{"sha": "aef8882254e1443fb68d449be5f8006c46533c5a", "node_id": "C_kwDOAAsO6NoAKGFlZjg4ODIyNTRlMTQ0M2ZiNjhkNDQ5YmU1ZjgwMDZjNDY1MzNjNWE", "commit": {"author": {"name": "Jake Heinz", "email": "jh@discordapp.com", "date": "2021-11-18T04:14:11Z"}, "committer": {"name": "Jake Heinz", "email": "jh@discordapp.com", "date": "2021-11-18T04:15:02Z"}, "message": "more complicated const test", "tree": {"sha": "ff695adbf53927b8a9944e82394e98415727f029", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ff695adbf53927b8a9944e82394e98415727f029"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aef8882254e1443fb68d449be5f8006c46533c5a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aef8882254e1443fb68d449be5f8006c46533c5a", "html_url": "https://github.com/rust-lang/rust/commit/aef8882254e1443fb68d449be5f8006c46533c5a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aef8882254e1443fb68d449be5f8006c46533c5a/comments", "author": {"login": "jhgg", "id": 5489149, "node_id": "MDQ6VXNlcjU0ODkxNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5489149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhgg", "html_url": "https://github.com/jhgg", "followers_url": "https://api.github.com/users/jhgg/followers", "following_url": "https://api.github.com/users/jhgg/following{/other_user}", "gists_url": "https://api.github.com/users/jhgg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhgg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhgg/subscriptions", "organizations_url": "https://api.github.com/users/jhgg/orgs", "repos_url": "https://api.github.com/users/jhgg/repos", "events_url": "https://api.github.com/users/jhgg/events{/privacy}", "received_events_url": "https://api.github.com/users/jhgg/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jhgg", "id": 5489149, "node_id": "MDQ6VXNlcjU0ODkxNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5489149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhgg", "html_url": "https://github.com/jhgg", "followers_url": "https://api.github.com/users/jhgg/followers", "following_url": "https://api.github.com/users/jhgg/following{/other_user}", "gists_url": "https://api.github.com/users/jhgg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhgg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhgg/subscriptions", "organizations_url": "https://api.github.com/users/jhgg/orgs", "repos_url": "https://api.github.com/users/jhgg/repos", "events_url": "https://api.github.com/users/jhgg/events{/privacy}", "received_events_url": "https://api.github.com/users/jhgg/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d5de7c21b27e7ad2ba92c6ce8f386d226bcc6adc", "url": "https://api.github.com/repos/rust-lang/rust/commits/d5de7c21b27e7ad2ba92c6ce8f386d226bcc6adc", "html_url": "https://github.com/rust-lang/rust/commit/d5de7c21b27e7ad2ba92c6ce8f386d226bcc6adc"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "897f8d7b8312a3454aebdedd72bc386285b61ff6", "filename": "crates/ide/src/hover/tests.rs", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/aef8882254e1443fb68d449be5f8006c46533c5a/crates%2Fide%2Fsrc%2Fhover%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aef8882254e1443fb68d449be5f8006c46533c5a/crates%2Fide%2Fsrc%2Fhover%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fhover%2Ftests.rs?ref=aef8882254e1443fb68d449be5f8006c46533c5a", "patch": "@@ -514,6 +514,28 @@ fn hover_const_static() {\n             ```\n         \"#]],\n     );\n+    check(\n+        r#\"\n+const foo$0: u32 = {\n+    let x = foo();\n+    x + 100\n+};\"#,\n+        expect![[r#\"\n+            *foo*\n+\n+            ```rust\n+            test\n+            ```\n+\n+            ```rust\n+            const foo: u32 = {\n+                let x = foo();\n+                x + 100\n+            }\n+            ```\n+        \"#]],\n+    );\n+\n     check(\n         r#\"static foo$0: u32 = 456;\"#,\n         expect![[r#\""}]}