{"sha": "f0cc006964a557ad9dcf597a7bad356132329b3c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYwY2MwMDY5NjRhNTU3YWQ5ZGNmNTk3YTdiYWQzNTYxMzIzMjliM2M=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-08-15T12:05:11Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-08-15T12:05:11Z"}, "message": "Auto merge of #5910 - flip1995:rustup, r=flip1995\n\nRustup\n\nr? @ghost\n\nchangelog: none", "tree": {"sha": "89f69e1c88657f7664472276cd21025f6885faad", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/89f69e1c88657f7664472276cd21025f6885faad"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f0cc006964a557ad9dcf597a7bad356132329b3c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f0cc006964a557ad9dcf597a7bad356132329b3c", "html_url": "https://github.com/rust-lang/rust/commit/f0cc006964a557ad9dcf597a7bad356132329b3c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f0cc006964a557ad9dcf597a7bad356132329b3c/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8ecc0fc08a9bc213beb39147ee3155a6056bd2b3", "url": "https://api.github.com/repos/rust-lang/rust/commits/8ecc0fc08a9bc213beb39147ee3155a6056bd2b3", "html_url": "https://github.com/rust-lang/rust/commit/8ecc0fc08a9bc213beb39147ee3155a6056bd2b3"}, {"sha": "429a1cedfac1da942e6c80db3174901ae26ed5d7", "url": "https://api.github.com/repos/rust-lang/rust/commits/429a1cedfac1da942e6c80db3174901ae26ed5d7", "html_url": "https://github.com/rust-lang/rust/commit/429a1cedfac1da942e6c80db3174901ae26ed5d7"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "58b0704294b566622dd6028c290066e5dd605f7b", "filename": "clippy_lints/src/derive.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f0cc006964a557ad9dcf597a7bad356132329b3c/clippy_lints%2Fsrc%2Fderive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f0cc006964a557ad9dcf597a7bad356132329b3c/clippy_lints%2Fsrc%2Fderive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fderive.rs?ref=f0cc006964a557ad9dcf597a7bad356132329b3c", "patch": "@@ -224,7 +224,7 @@ fn check_hash_peq<'tcx>(\n                         mess,\n                         |diag| {\n                             if let Some(local_def_id) = impl_id.as_local() {\n-                                let hir_id = cx.tcx.hir().as_local_hir_id(local_def_id);\n+                                let hir_id = cx.tcx.hir().local_def_id_to_hir_id(local_def_id);\n                                 diag.span_note(\n                                     cx.tcx.hir().span(hir_id),\n                                     \"`PartialEq` implemented here\"\n@@ -278,7 +278,7 @@ fn check_ord_partial_ord<'tcx>(\n                         mess,\n                         |diag| {\n                             if let Some(local_def_id) = impl_id.as_local() {\n-                                let hir_id = cx.tcx.hir().as_local_hir_id(local_def_id);\n+                                let hir_id = cx.tcx.hir().local_def_id_to_hir_id(local_def_id);\n                                 diag.span_note(\n                                     cx.tcx.hir().span(hir_id),\n                                     \"`PartialOrd` implemented here\"\n@@ -341,7 +341,7 @@ fn check_unsafe_derive_deserialize<'tcx>(\n     ty: Ty<'tcx>,\n ) {\n     fn item_from_def_id<'tcx>(cx: &LateContext<'tcx>, def_id: DefId) -> &'tcx Item<'tcx> {\n-        let hir_id = cx.tcx.hir().as_local_hir_id(def_id.expect_local());\n+        let hir_id = cx.tcx.hir().local_def_id_to_hir_id(def_id.expect_local());\n         cx.tcx.hir().expect_item(hir_id)\n     }\n \n@@ -355,7 +355,7 @@ fn check_unsafe_derive_deserialize<'tcx>(\n         if match_path(&trait_ref.path, &paths::SERDE_DESERIALIZE);\n         if let ty::Adt(def, _) = ty.kind;\n         if let Some(local_def_id) = def.did.as_local();\n-        let adt_hir_id = cx.tcx.hir().as_local_hir_id(local_def_id);\n+        let adt_hir_id = cx.tcx.hir().local_def_id_to_hir_id(local_def_id);\n         if !is_allowed(cx, UNSAFE_DERIVE_DESERIALIZE, adt_hir_id);\n         if cx.tcx.inherent_impls(def.did)\n             .iter()"}, {"sha": "28d1322e94626c604cced668546593bb2193e02e", "filename": "clippy_lints/src/new_without_default.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f0cc006964a557ad9dcf597a7bad356132329b3c/clippy_lints%2Fsrc%2Fnew_without_default.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f0cc006964a557ad9dcf597a7bad356132329b3c/clippy_lints%2Fsrc%2Fnew_without_default.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnew_without_default.rs?ref=f0cc006964a557ad9dcf597a7bad356132329b3c", "patch": "@@ -103,7 +103,7 @@ impl<'tcx> LateLintPass<'tcx> for NewWithoutDefault {\n                                         cx.tcx.for_each_impl(default_trait_id, |d| {\n                                             if let Some(ty_def) = cx.tcx.type_of(d).ty_adt_def() {\n                                                 if let Some(local_def_id) = ty_def.did.as_local() {\n-                                                    impls.insert(cx.tcx.hir().as_local_hir_id(local_def_id));\n+                                                    impls.insert(cx.tcx.hir().local_def_id_to_hir_id(local_def_id));\n                                                 }\n                                             }\n                                         });"}]}