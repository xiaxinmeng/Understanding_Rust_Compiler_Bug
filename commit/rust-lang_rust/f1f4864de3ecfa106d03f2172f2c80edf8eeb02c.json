{"sha": "f1f4864de3ecfa106d03f2172f2c80edf8eeb02c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYxZjQ4NjRkZTNlY2ZhMTA2ZDAzZjIxNzJmMmM4MGVkZjhlZWIwMmM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-03-07T16:27:34Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-03-07T16:27:34Z"}, "message": "Rollup merge of #69787 - spastorino:use-local-directly-its-copy, r=oli-obk\n\nmir::Local is Copy we can pass it by value in these cases\n\nr? @oli-obk", "tree": {"sha": "49faa3c7b1b796e528b03fb1af1258ae9d59cd81", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/49faa3c7b1b796e528b03fb1af1258ae9d59cd81"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f1f4864de3ecfa106d03f2172f2c80edf8eeb02c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeY8t2CRBK7hj4Ov3rIwAAdHIIAJ2Bq4b+UDLXF0tlhgChPiDB\nuA5VHJ3AV6Uz2a2wsTZU6j/XDiaDks4NpfELA71XyeAVwc7TZq1JEykfMIfanETC\n1KUIjdtgEYQO1E29js7ASZkpjyBrNymPCvVm7D6mKo+VXqtOvoLuBlCO0o8M/wPr\nutf3WCMxkiyWxCro7gqa6NUsKU5KKyuXfUkL7TbDT4hd3y6i4xMIbwAfXCvGwnd6\nmEzcHkMacMX+TPqL+VD1O0bqO0jCgE/wrWmIXE5pyBQYeZ+fJZyrytK0bDw3cRCb\nCMJrLKyIq+bWTgKZ2mQV3RLRe9/Z3UguPTzd7GQtMa7WNM2OmI0mpHjOELGI3WU=\n=eeWI\n-----END PGP SIGNATURE-----\n", "payload": "tree 49faa3c7b1b796e528b03fb1af1258ae9d59cd81\nparent 10f999b72d24fa181a3ec54fd21807b6a664e615\nparent 0ed6e795fb3e8e70765576b929e3eb030c4f10d3\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1583598454 +0100\ncommitter GitHub <noreply@github.com> 1583598454 +0100\n\nRollup merge of #69787 - spastorino:use-local-directly-its-copy, r=oli-obk\n\nmir::Local is Copy we can pass it by value in these cases\n\nr? @oli-obk\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f1f4864de3ecfa106d03f2172f2c80edf8eeb02c", "html_url": "https://github.com/rust-lang/rust/commit/f1f4864de3ecfa106d03f2172f2c80edf8eeb02c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f1f4864de3ecfa106d03f2172f2c80edf8eeb02c/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "10f999b72d24fa181a3ec54fd21807b6a664e615", "url": "https://api.github.com/repos/rust-lang/rust/commits/10f999b72d24fa181a3ec54fd21807b6a664e615", "html_url": "https://github.com/rust-lang/rust/commit/10f999b72d24fa181a3ec54fd21807b6a664e615"}, {"sha": "0ed6e795fb3e8e70765576b929e3eb030c4f10d3", "url": "https://api.github.com/repos/rust-lang/rust/commits/0ed6e795fb3e8e70765576b929e3eb030c4f10d3", "html_url": "https://github.com/rust-lang/rust/commit/0ed6e795fb3e8e70765576b929e3eb030c4f10d3"}], "stats": {"total": 24, "additions": 12, "deletions": 12}, "files": [{"sha": "2aca6f684f4fe5e0cd19f58ec3b1a6ac29f584a5", "filename": "src/librustc/mir/visit.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f1f4864de3ecfa106d03f2172f2c80edf8eeb02c/src%2Flibrustc%2Fmir%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1f4864de3ecfa106d03f2172f2c80edf8eeb02c/src%2Flibrustc%2Fmir%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Fvisit.rs?ref=f1f4864de3ecfa106d03f2172f2c80edf8eeb02c", "patch": "@@ -888,7 +888,7 @@ macro_rules! visit_place_fns {\n     () => (\n         fn visit_projection(\n             &mut self,\n-            local: &Local,\n+            local: Local,\n             projection: &[PlaceElem<'tcx>],\n             context: PlaceContext,\n             location: Location,\n@@ -898,7 +898,7 @@ macro_rules! visit_place_fns {\n \n         fn visit_projection_elem(\n             &mut self,\n-            local: &Local,\n+            local: Local,\n             proj_base: &[PlaceElem<'tcx>],\n             elem: &PlaceElem<'tcx>,\n             context: PlaceContext,\n@@ -925,15 +925,15 @@ macro_rules! visit_place_fns {\n \n             self.visit_place_base(&place.local, context, location);\n \n-            self.visit_projection(&place.local,\n+            self.visit_projection(place.local,\n                                   &place.projection,\n                                   context,\n                                   location);\n         }\n \n         fn super_projection(\n             &mut self,\n-            local: &Local,\n+            local: Local,\n             projection: &[PlaceElem<'tcx>],\n             context: PlaceContext,\n             location: Location,\n@@ -947,7 +947,7 @@ macro_rules! visit_place_fns {\n \n         fn super_projection_elem(\n             &mut self,\n-            _local: &Local,\n+            _local: Local,\n             _proj_base: &[PlaceElem<'tcx>],\n             elem: &PlaceElem<'tcx>,\n             _context: PlaceContext,"}, {"sha": "b8a7d7df487b32cea6b9ccedb19e71c749a40730", "filename": "src/librustc_codegen_ssa/mir/analyze.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f1f4864de3ecfa106d03f2172f2c80edf8eeb02c/src%2Flibrustc_codegen_ssa%2Fmir%2Fanalyze.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1f4864de3ecfa106d03f2172f2c80edf8eeb02c/src%2Flibrustc_codegen_ssa%2Fmir%2Fanalyze.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2Fmir%2Fanalyze.rs?ref=f1f4864de3ecfa106d03f2172f2c80edf8eeb02c", "patch": "@@ -203,7 +203,7 @@ impl<Bx: BuilderMethods<'a, 'tcx>> LocalAnalyzer<'mir, 'a, 'tcx, Bx> {\n             }\n \n             self.visit_place_base(&place_ref.local, context, location);\n-            self.visit_projection(&place_ref.local, place_ref.projection, context, location);\n+            self.visit_projection(place_ref.local, place_ref.projection, context, location);\n         }\n     }\n }"}, {"sha": "133772407c5ddd145a7477e1bc5ab3513ad956e3", "filename": "src/librustc_mir/transform/check_consts/validation.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/f1f4864de3ecfa106d03f2172f2c80edf8eeb02c/src%2Flibrustc_mir%2Ftransform%2Fcheck_consts%2Fvalidation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1f4864de3ecfa106d03f2172f2c80edf8eeb02c/src%2Flibrustc_mir%2Ftransform%2Fcheck_consts%2Fvalidation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fcheck_consts%2Fvalidation.rs?ref=f1f4864de3ecfa106d03f2172f2c80edf8eeb02c", "patch": "@@ -276,7 +276,7 @@ impl Visitor<'tcx> for Validator<'_, 'mir, 'tcx> {\n                         }\n                     };\n                     self.visit_place_base(&place.local, ctx, location);\n-                    self.visit_projection(&place.local, reborrowed_proj, ctx, location);\n+                    self.visit_projection(place.local, reborrowed_proj, ctx, location);\n                     return;\n                 }\n             }\n@@ -289,7 +289,7 @@ impl Visitor<'tcx> for Validator<'_, 'mir, 'tcx> {\n                         Mutability::Mut => PlaceContext::MutatingUse(MutatingUseContext::AddressOf),\n                     };\n                     self.visit_place_base(&place.local, ctx, location);\n-                    self.visit_projection(&place.local, reborrowed_proj, ctx, location);\n+                    self.visit_projection(place.local, reborrowed_proj, ctx, location);\n                     return;\n                 }\n             }\n@@ -408,7 +408,7 @@ impl Visitor<'tcx> for Validator<'_, 'mir, 'tcx> {\n     }\n     fn visit_projection_elem(\n         &mut self,\n-        place_local: &Local,\n+        place_local: Local,\n         proj_base: &[PlaceElem<'tcx>],\n         elem: &PlaceElem<'tcx>,\n         context: PlaceContext,\n@@ -428,11 +428,11 @@ impl Visitor<'tcx> for Validator<'_, 'mir, 'tcx> {\n \n         match elem {\n             ProjectionElem::Deref => {\n-                let base_ty = Place::ty_from(*place_local, proj_base, *self.body, self.tcx).ty;\n+                let base_ty = Place::ty_from(place_local, proj_base, *self.body, self.tcx).ty;\n                 if let ty::RawPtr(_) = base_ty.kind {\n                     if proj_base.is_empty() {\n                         if let (local, []) = (place_local, proj_base) {\n-                            let decl = &self.body.local_decls[*local];\n+                            let decl = &self.body.local_decls[local];\n                             if let LocalInfo::StaticRef { def_id, .. } = decl.local_info {\n                                 let span = decl.source_info.span;\n                                 self.check_static(def_id, span);\n@@ -452,7 +452,7 @@ impl Visitor<'tcx> for Validator<'_, 'mir, 'tcx> {\n             | ProjectionElem::Subslice { .. }\n             | ProjectionElem::Field(..)\n             | ProjectionElem::Index(_) => {\n-                let base_ty = Place::ty_from(*place_local, proj_base, *self.body, self.tcx).ty;\n+                let base_ty = Place::ty_from(place_local, proj_base, *self.body, self.tcx).ty;\n                 match base_ty.ty_adt_def() {\n                     Some(def) if def.is_union() => {\n                         self.check_op(ops::UnionAccess);"}]}