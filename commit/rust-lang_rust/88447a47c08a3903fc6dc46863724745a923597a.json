{"sha": "88447a47c08a3903fc6dc46863724745a923597a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg4NDQ3YTQ3YzA4YTM5MDNmYzZkYzQ2ODYzNzI0NzQ1YTkyMzU5N2E=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2011-06-29T18:26:47Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2011-06-29T21:28:02Z"}, "message": "Eliminate the --check-claims compiler flag\n\nThe option can only be toggled at runtime now.", "tree": {"sha": "997b7ba5449b33032666dd93aad9803864ed208d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/997b7ba5449b33032666dd93aad9803864ed208d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/88447a47c08a3903fc6dc46863724745a923597a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/88447a47c08a3903fc6dc46863724745a923597a", "html_url": "https://github.com/rust-lang/rust/commit/88447a47c08a3903fc6dc46863724745a923597a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/88447a47c08a3903fc6dc46863724745a923597a/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1ba85932b1e11ae9db0e64dad20cd076db17aa1c", "url": "https://api.github.com/repos/rust-lang/rust/commits/1ba85932b1e11ae9db0e64dad20cd076db17aa1c", "html_url": "https://github.com/rust-lang/rust/commit/1ba85932b1e11ae9db0e64dad20cd076db17aa1c"}], "stats": {"total": 15, "additions": 3, "deletions": 12}, "files": [{"sha": "7c035f84ae8845891499be12adf0ebdfd162e516", "filename": "src/comp/driver/rustc.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/88447a47c08a3903fc6dc46863724745a923597a/src%2Fcomp%2Fdriver%2Frustc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88447a47c08a3903fc6dc46863724745a923597a/src%2Fcomp%2Fdriver%2Frustc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fdriver%2Frustc.rs?ref=88447a47c08a3903fc6dc46863724745a923597a", "patch": "@@ -157,8 +157,7 @@ options:\n     --time-passes      time the individual phases of the compiler\n     --time-llvm-passes time the individual phases of the LLVM backend\n     --sysroot <path>   override the system root (default: rustc's directory)\n-    --no-typestate     don't run the typestate pass (unsafe!)\n-    --check-claims     treat 'claim' and 'check' synonymously\\n\\n\");\n+    --no-typestate     don't run the typestate pass (unsafe!)\\n\\n\");\n }\n \n fn get_os(str triple) -> session::os {\n@@ -227,7 +226,6 @@ fn build_session_options(str binary, getopts::match match, str binary_dir) ->\n     auto time_llvm_passes = opt_present(match, \"time-llvm-passes\");\n     auto run_typestate = !opt_present(match, \"no-typestate\");\n     auto sysroot_opt = getopts::opt_maybe_str(match, \"sysroot\");\n-    auto check_claims = opt_present(match, \"check-claims\");\n     let uint opt_level =\n         if (opt_present(match, \"O\")) {\n             if (opt_present(match, \"OptLevel\")) {\n@@ -263,7 +261,6 @@ fn build_session_options(str binary, getopts::match match, str binary_dir) ->\n              stats=stats,\n              time_passes=time_passes,\n              time_llvm_passes=time_llvm_passes,\n-             check_claims=check_claims,\n              output_type=output_type,\n              library_search_paths=library_search_paths,\n              sysroot=sysroot);\n@@ -299,7 +296,7 @@ fn main(vec[str] args) {\n          optflag(\"c\"), optopt(\"o\"), optflag(\"g\"), optflag(\"save-temps\"),\n          optopt(\"sysroot\"), optflag(\"stats\"), optflag(\"time-passes\"),\n          optflag(\"time-llvm-passes\"), optflag(\"no-typestate\"),\n-         optflag(\"check-claims\"), optflag(\"noverify\")];\n+         optflag(\"noverify\")];\n     auto binary = vec::shift[str](args);\n     auto binary_dir = fs::dirname(binary);\n     auto match ="}, {"sha": "da710fd3389f441138ae174f7cf3cfb7a8a0738c", "filename": "src/comp/driver/session.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/88447a47c08a3903fc6dc46863724745a923597a/src%2Fcomp%2Fdriver%2Fsession.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88447a47c08a3903fc6dc46863724745a923597a/src%2Fcomp%2Fdriver%2Fsession.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fdriver%2Fsession.rs?ref=88447a47c08a3903fc6dc46863724745a923597a", "patch": "@@ -32,7 +32,6 @@ type options =\n         bool stats,\n         bool time_passes,\n         bool time_llvm_passes,\n-        bool check_claims,\n         back::link::output_type output_type,\n         vec[str] library_search_paths,\n         str sysroot);"}, {"sha": "5c50a55e8e3783482ae935a5dd83282a114109b6", "filename": "src/comp/front/parser.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/88447a47c08a3903fc6dc46863724745a923597a/src%2Fcomp%2Ffront%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88447a47c08a3903fc6dc46863724745a923597a/src%2Fcomp%2Ffront%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Fparser.rs?ref=88447a47c08a3903fc6dc46863724745a923597a", "patch": "@@ -873,12 +873,7 @@ fn parse_bottom_expr(&parser p) -> @ast::expr {\n         \n         auto e = parse_expr(p);\n         auto hi = e.span.hi;\n-        ex = if (p.get_session().get_opts().check_claims) {\n-            ast::expr_check(ast::checked, e)\n-        }\n-        else {\n-            ast::expr_check(ast::unchecked, e)\n-        };\n+        ex = ast::expr_check(ast::unchecked, e);\n     } else if (eat_word(p, \"ret\")) {\n         alt (p.peek()) {\n             case (token::SEMI) { ex = ast::expr_ret(none); }"}]}