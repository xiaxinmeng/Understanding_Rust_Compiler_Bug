{"sha": "824b7a8564190ed517bef7c37bb40e08de3ae6e1", "node_id": "C_kwDOAAsO6NoAKDgyNGI3YTg1NjQxOTBlZDUxN2JlZjdjMzdiYjQwZTA4ZGUzYWU2ZTE", "commit": {"author": {"name": "Quentin Gliech", "email": "quentingliech@gmail.com", "date": "2021-10-11T12:45:58Z"}, "committer": {"name": "Quentin Gliech", "email": "quentingliech@gmail.com", "date": "2021-10-11T12:45:58Z"}, "message": "Add toolInfo in MetaData vertex in LSIF dumps\n\nThis helps with uploading LSIF dumps to Sourcegraph without having to\nspecify an indexer name.", "tree": {"sha": "e730facf4daa5d95c098559bed1756ebe825e601", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e730facf4daa5d95c098559bed1756ebe825e601"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/824b7a8564190ed517bef7c37bb40e08de3ae6e1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7qit+jwB/tnnqkQqItYrhFUnGfwFAmFkMkUACgkQItYrhFUn\nGfyuVRAAgVOzOHD71CIy7lamgO6kB3I9HIaQb/eVWsgrNxsz6tRK77+BDnHrFtNc\nxhynf2CahBDfkEqtI5XW6C9h1K2wgjKSLXARdx/V5edlFrMlKxp6CfQxPaK+OP/Y\nxWIVOw8fPDpggMrF5IuY3s/bB6db2+c2OFm1ha+kbSzvGzk7hbO0X2Kndmbv8vq5\nkJFpKw6KpvVMWRKIQZgVSSJUxso0xoLRnWloKEpkB9YCvWJLTNrKD88qHqK29paK\nKV4D6ZLQ8HyQmkxyfoZbHsoVE1L7z1qVlBwPhUI6fVQwpFe6RPYadCgeAvLjBfhE\nZZtMeAliP5XGuUI61SGEgvl2dWp7hVIhQDQEVnPHUkRvFbruaH/J7PepzrGOCcv3\nhdkemG3bPI2DfGqLvIfSVE6JFAs7FtSYs0DIO0uCy+4j3ViQPm3kgOZRCpI1N4Vh\nS5FxakaGLaT1FdmdgkD/AGDujWPX2v/3m2ra7P4sjXttTbLP+aGiFOV2MR/XVxM7\nA/JayspPzFy3f1ytTUUCnF6DJSgnCoYZ8jBTJIjLwJSlUpXnRCzdc0jsUtucxmgS\n8/5XTvdemZmzmxLwrxvfGoTi5vYiFMKrCl5QzJcMCiy+GbCQJFpQee5q6vTtq77i\ntSsZEOg33ZGIpfAvLD9IuUuli0d++wNFKuOHRqq53XaCOv7+Kek=\n=AYJj\n-----END PGP SIGNATURE-----", "payload": "tree e730facf4daa5d95c098559bed1756ebe825e601\nparent ed4b312fa777ebb39ba1348fe3df574c441a485e\nauthor Quentin Gliech <quentingliech@gmail.com> 1633956358 +0200\ncommitter Quentin Gliech <quentingliech@gmail.com> 1633956358 +0200\n\nAdd toolInfo in MetaData vertex in LSIF dumps\n\nThis helps with uploading LSIF dumps to Sourcegraph without having to\nspecify an indexer name.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/824b7a8564190ed517bef7c37bb40e08de3ae6e1", "html_url": "https://github.com/rust-lang/rust/commit/824b7a8564190ed517bef7c37bb40e08de3ae6e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/824b7a8564190ed517bef7c37bb40e08de3ae6e1/comments", "author": {"login": "sandhose", "id": 1549952, "node_id": "MDQ6VXNlcjE1NDk5NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1549952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandhose", "html_url": "https://github.com/sandhose", "followers_url": "https://api.github.com/users/sandhose/followers", "following_url": "https://api.github.com/users/sandhose/following{/other_user}", "gists_url": "https://api.github.com/users/sandhose/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandhose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandhose/subscriptions", "organizations_url": "https://api.github.com/users/sandhose/orgs", "repos_url": "https://api.github.com/users/sandhose/repos", "events_url": "https://api.github.com/users/sandhose/events{/privacy}", "received_events_url": "https://api.github.com/users/sandhose/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sandhose", "id": 1549952, "node_id": "MDQ6VXNlcjE1NDk5NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1549952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandhose", "html_url": "https://github.com/sandhose", "followers_url": "https://api.github.com/users/sandhose/followers", "following_url": "https://api.github.com/users/sandhose/following{/other_user}", "gists_url": "https://api.github.com/users/sandhose/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandhose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandhose/subscriptions", "organizations_url": "https://api.github.com/users/sandhose/orgs", "repos_url": "https://api.github.com/users/sandhose/repos", "events_url": "https://api.github.com/users/sandhose/events{/privacy}", "received_events_url": "https://api.github.com/users/sandhose/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ed4b312fa777ebb39ba1348fe3df574c441a485e", "url": "https://api.github.com/repos/rust-lang/rust/commits/ed4b312fa777ebb39ba1348fe3df574c441a485e", "html_url": "https://github.com/rust-lang/rust/commit/ed4b312fa777ebb39ba1348fe3df574c441a485e"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "9bfd8706aa95d6dc43b275ddf9ced94f33c73c90", "filename": "crates/rust-analyzer/src/cli/lsif.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/824b7a8564190ed517bef7c37bb40e08de3ae6e1/crates%2Frust-analyzer%2Fsrc%2Fcli%2Flsif.rs", "raw_url": "https://github.com/rust-lang/rust/raw/824b7a8564190ed517bef7c37bb40e08de3ae6e1/crates%2Frust-analyzer%2Fsrc%2Fcli%2Flsif.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fcli%2Flsif.rs?ref=824b7a8564190ed517bef7c37bb40e08de3ae6e1", "patch": "@@ -254,7 +254,11 @@ impl flags::Lsif {\n             version: String::from(\"0.5.0\"),\n             project_root: lsp_types::Url::from_file_path(path).unwrap(),\n             position_encoding: lsif::Encoding::Utf16,\n-            tool_info: None,\n+            tool_info: Some(lsp_types::lsif::ToolInfo {\n+                name: \"rust-analyzer\".to_string(),\n+                args: vec![],\n+                version: Some(env!(\"REV\").to_string()),\n+            }),\n         }));\n         for file in si.files {\n             lsif.add_file(file);"}]}