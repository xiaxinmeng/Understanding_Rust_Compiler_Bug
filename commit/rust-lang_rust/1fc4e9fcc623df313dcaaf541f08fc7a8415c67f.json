{"sha": "1fc4e9fcc623df313dcaaf541f08fc7a8415c67f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFmYzRlOWZjYzYyM2RmMzEzZGNhYWY1NDFmMDhmYzdhODQxNWM2N2Y=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-08-03T19:20:29Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-08-03T19:20:29Z"}, "message": "Add tests and fix pexp bug. Closes #141.", "tree": {"sha": "6caa66a2e864bdd48be6fb8e199a0c44e146ef4e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6caa66a2e864bdd48be6fb8e199a0c44e146ef4e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f", "html_url": "https://github.com/rust-lang/rust/commit/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "559e1e7e01cd5ecf42a0157b1a2bf0ef53ad312c", "url": "https://api.github.com/repos/rust-lang/rust/commits/559e1e7e01cd5ecf42a0157b1a2bf0ef53ad312c", "html_url": "https://github.com/rust-lang/rust/commit/559e1e7e01cd5ecf42a0157b1a2bf0ef53ad312c"}], "stats": {"total": 30, "additions": 28, "deletions": 2}, "files": [{"sha": "3d31fad3bc2cb41fb52e446b30b8e9ece3ab2869", "filename": "src/Makefile", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f/src%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f/src%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FMakefile?ref=1fc4e9fcc623df313dcaaf541f08fc7a8415c67f", "patch": "@@ -381,11 +381,13 @@ TASK_XFAILS := test/run-pass/acyclic-unwind.rs \\\n                test/run-pass/task-comm-9.rs \\\n                test/run-pass/task-comm.rs \\\n                test/run-pass/threads.rs \\\n-               test/run-pass/yield.rs \n+               test/run-pass/yield.rs\n \n TEST_XFAILS_X86 :=  $(TASK_XFAILS) \\\n                     test/run-pass/bind-obj-ctor.rs \\\n+                    test/run-pass/child-outlives-parent.rs \\\n                     test/run-pass/clone-with-exterior.rs \\\n+                    test/run-pass/constrained-type.rs \\\n                     test/run-pass/obj-as.rs \\\n                     test/run-pass/vec-slice.rs \\\n                     test/run-pass/fn-lval.rs \\\n@@ -424,10 +426,12 @@ TEST_XFAILS_LLVM := $(TASK_XFAILS) \\\n                       box-in-tup.rs \\\n                       box-unbox.rs \\\n                       cast.rs \\\n+                      child-outlives-parent.rs \\\n                       clone-with-exterior.rs \\\n                       comm.rs \\\n                       command-line-args.rs \\\n                       complex.rs \\\n+                      constrained-type.rs \\\n                       deep.rs \\\n                       deref.rs \\\n                       destructor-ordering.rs \\"}, {"sha": "9b870639f52e29de0e2f7dc3a5ae1c036875f54c", "filename": "src/boot/fe/pexp.ml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f/src%2Fboot%2Ffe%2Fpexp.ml", "raw_url": "https://github.com/rust-lang/rust/raw/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f/src%2Fboot%2Ffe%2Fpexp.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Ffe%2Fpexp.ml?ref=1fc4e9fcc623df313dcaaf541f08fc7a8415c67f", "patch": "@@ -121,7 +121,7 @@ and parse_carg_base (ps:pstate) : Ast.carg_base =\n \n and parse_carg (ps:pstate) : Ast.carg =\n   match peek ps with\n-      IDENT _ ->\n+      IDENT _ | STAR ->\n         begin\n           let base = Ast.CARG_base (parse_carg_base ps) in\n           let path ="}, {"sha": "d7d7c34430274c8bba845fbcf78bb392b8c81874", "filename": "src/test/run-pass/child-outlives-parent.rs", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f/src%2Ftest%2Frun-pass%2Fchild-outlives-parent.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f/src%2Ftest%2Frun-pass%2Fchild-outlives-parent.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fchild-outlives-parent.rs?ref=1fc4e9fcc623df313dcaaf541f08fc7a8415c67f", "patch": "@@ -0,0 +1,8 @@\n+// Reported as issue #126, child leaks the string.\n+\n+fn child2(str s) {\n+}\n+\n+fn main() {\n+  auto x = spawn child2(\"hi\");\n+}\n\\ No newline at end of file"}, {"sha": "88a39ec8c1dda88c80bb60905464771a2e4bf852", "filename": "src/test/run-pass/constrained-type.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f/src%2Ftest%2Frun-pass%2Fconstrained-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1fc4e9fcc623df313dcaaf541f08fc7a8415c67f/src%2Ftest%2Frun-pass%2Fconstrained-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fconstrained-type.rs?ref=1fc4e9fcc623df313dcaaf541f08fc7a8415c67f", "patch": "@@ -0,0 +1,14 @@\n+// -*- rust -*-\n+\n+// Reported as issue #141, as a parse error. Ought to work in full though.\n+\n+type list = tag(cons(int,@list), nil());\n+type bubu = rec(int x, int y);\n+\n+\n+fn less_than(int x, int y) -> bool { ret x < y; }\n+\n+type ordered_range = rec(int low, int high) : less_than(*.low, *.high);\n+\n+fn main() {\n+}"}]}