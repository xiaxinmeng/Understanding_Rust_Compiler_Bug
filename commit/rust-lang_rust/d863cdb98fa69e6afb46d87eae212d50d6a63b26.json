{"sha": "d863cdb98fa69e6afb46d87eae212d50d6a63b26", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ4NjNjZGI5OGZhNjllNmFmYjQ2ZDg3ZWFlMjEyZDUwZDZhNjNiMjY=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-07-01T13:55:20Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-07-01T15:51:49Z"}, "message": "Add tests for newtype-style tags", "tree": {"sha": "a527f937670c330463aab31ac79cd8916d8e1ec1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a527f937670c330463aab31ac79cd8916d8e1ec1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d863cdb98fa69e6afb46d87eae212d50d6a63b26", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d863cdb98fa69e6afb46d87eae212d50d6a63b26", "html_url": "https://github.com/rust-lang/rust/commit/d863cdb98fa69e6afb46d87eae212d50d6a63b26", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d863cdb98fa69e6afb46d87eae212d50d6a63b26/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "432e5e9f7f0704a6a90071b5ac3ae72fde3d2b1e", "url": "https://api.github.com/repos/rust-lang/rust/commits/432e5e9f7f0704a6a90071b5ac3ae72fde3d2b1e", "html_url": "https://github.com/rust-lang/rust/commit/432e5e9f7f0704a6a90071b5ac3ae72fde3d2b1e"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "efbcb51fbf4e06cde1da7dca91fb7924a1164012", "filename": "src/test/run-pass/newtype-polymorphic.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/d863cdb98fa69e6afb46d87eae212d50d6a63b26/src%2Ftest%2Frun-pass%2Fnewtype-polymorphic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d863cdb98fa69e6afb46d87eae212d50d6a63b26/src%2Ftest%2Frun-pass%2Fnewtype-polymorphic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fnewtype-polymorphic.rs?ref=d863cdb98fa69e6afb46d87eae212d50d6a63b26", "patch": "@@ -0,0 +1,16 @@\n+tag myvec[X] = vec[X];\n+\n+fn myvec_deref[X](&myvec[X] mv) -> vec[X] {\n+    ret *mv;\n+}\n+\n+fn myvec_elt[X](&myvec[X] mv) -> X {\n+    ret mv.(0);\n+}\n+\n+fn main() {\n+    auto mv = myvec([1, 2, 3]);\n+    assert(myvec_deref(mv).(1) == 2);\n+    assert(myvec_elt(mv) == 1);\n+    assert(mv.(2) == 3);\n+}"}, {"sha": "7f8cb3bb26d80371d56edc32fb098661bace5de2", "filename": "src/test/run-pass/newtype.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/d863cdb98fa69e6afb46d87eae212d50d6a63b26/src%2Ftest%2Frun-pass%2Fnewtype.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d863cdb98fa69e6afb46d87eae212d50d6a63b26/src%2Ftest%2Frun-pass%2Fnewtype.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fnewtype.rs?ref=d863cdb98fa69e6afb46d87eae212d50d6a63b26", "patch": "@@ -0,0 +1,10 @@\n+tag mytype = rec(fn (&mytype i) -> int compute, int val);\n+\n+fn compute(&mytype i) -> int {\n+    ret i.val + 20;\n+}\n+\n+fn main() {\n+    auto myval = mytype(rec(compute=compute, val=30));\n+    assert(myval.compute(myval) == 50);\n+}"}]}