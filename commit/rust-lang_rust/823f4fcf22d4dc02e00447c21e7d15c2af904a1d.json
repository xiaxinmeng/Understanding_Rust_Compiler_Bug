{"sha": "823f4fcf22d4dc02e00447c21e7d15c2af904a1d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyM2Y0ZmNmMjJkNGRjMDJlMDA0NDdjMjFlN2QxNWMyYWY5MDRhMWQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-07-29T19:50:52Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-07-29T19:50:52Z"}, "message": "Auto merge of #27368 - alexcrichton:deprecate-net-methods, r=aturon\n\nThese methods are all covered by [RFC 1158] and are currently all available on\r\nstable Rust via the [`net2` crate][net2] on crates.io. This commit does not\r\ntouch the timeout related functions as they're still waiting on `Duration` which\r\nis unstable anyway, so punting in favor of the `net2` crate wouldn't buy much.\r\n\r\n[RFC 1158]: https://github.com/rust-lang/rfcs/pull/1158\r\n[net2]: http://crates.io/crates/net2", "tree": {"sha": "3ec15b5d19cb5031fc27934b80be5822ec0811f0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3ec15b5d19cb5031fc27934b80be5822ec0811f0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/823f4fcf22d4dc02e00447c21e7d15c2af904a1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/823f4fcf22d4dc02e00447c21e7d15c2af904a1d", "html_url": "https://github.com/rust-lang/rust/commit/823f4fcf22d4dc02e00447c21e7d15c2af904a1d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/823f4fcf22d4dc02e00447c21e7d15c2af904a1d/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "523ee8d37cb3aed6bbad16760850fa94253c2072", "url": "https://api.github.com/repos/rust-lang/rust/commits/523ee8d37cb3aed6bbad16760850fa94253c2072", "html_url": "https://github.com/rust-lang/rust/commit/523ee8d37cb3aed6bbad16760850fa94253c2072"}, {"sha": "798ce502845435d94856a7b5fed5f703b06506d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/798ce502845435d94856a7b5fed5f703b06506d1", "html_url": "https://github.com/rust-lang/rust/commit/798ce502845435d94856a7b5fed5f703b06506d1"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "84e05083b573ca7429d5eb1b32ce3633a171ecaa", "filename": "src/libstd/net/tcp.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/823f4fcf22d4dc02e00447c21e7d15c2af904a1d/src%2Flibstd%2Fnet%2Ftcp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/823f4fcf22d4dc02e00447c21e7d15c2af904a1d/src%2Flibstd%2Fnet%2Ftcp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnet%2Ftcp.rs?ref=823f4fcf22d4dc02e00447c21e7d15c2af904a1d", "patch": "@@ -129,6 +129,9 @@ impl TcpStream {\n     }\n \n     /// Sets the nodelay flag on this connection to the boolean specified.\n+    #[deprecated(since = \"1.3.0\",\n+                 reason = \"available through the `net2` crate on crates.io\")]\n+    #[unstable(feature = \"tcp_extras\", reason = \"available externally\")]\n     pub fn set_nodelay(&self, nodelay: bool) -> io::Result<()> {\n         self.0.set_nodelay(nodelay)\n     }\n@@ -138,6 +141,9 @@ impl TcpStream {\n     /// If the value specified is `None`, then the keepalive flag is cleared on\n     /// this connection. Otherwise, the keepalive timeout will be set to the\n     /// specified time, in seconds.\n+    #[unstable(feature = \"tcp_extras\", reason = \"available externally\")]\n+    #[deprecated(since = \"1.3.0\",\n+                 reason = \"available through the `net2` crate on crates.io\")]\n     pub fn set_keepalive(&self, seconds: Option<u32>) -> io::Result<()> {\n         self.0.set_keepalive(seconds)\n     }"}, {"sha": "8212b8888d38463e6292c53304f7b9fd3bd2bb8e", "filename": "src/libstd/net/udp.rs", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/823f4fcf22d4dc02e00447c21e7d15c2af904a1d/src%2Flibstd%2Fnet%2Fudp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/823f4fcf22d4dc02e00447c21e7d15c2af904a1d/src%2Flibstd%2Fnet%2Fudp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnet%2Fudp.rs?ref=823f4fcf22d4dc02e00447c21e7d15c2af904a1d", "patch": "@@ -98,33 +98,51 @@ impl UdpSocket {\n     }\n \n     /// Sets the broadcast flag on or off.\n+    #[deprecated(since = \"1.3.0\",\n+                 reason = \"available through the `net2` crate on crates.io\")]\n+    #[unstable(feature = \"udp_extras\", reason = \"available externally\")]\n     pub fn set_broadcast(&self, on: bool) -> io::Result<()> {\n         self.0.set_broadcast(on)\n     }\n \n     /// Sets the multicast loop flag to the specified value.\n     ///\n     /// This lets multicast packets loop back to local sockets (if enabled)\n+    #[deprecated(since = \"1.3.0\",\n+                 reason = \"available through the `net2` crate on crates.io\")]\n+    #[unstable(feature = \"udp_extras\", reason = \"available externally\")]\n     pub fn set_multicast_loop(&self, on: bool) -> io::Result<()> {\n         self.0.set_multicast_loop(on)\n     }\n \n     /// Joins a multicast IP address (becomes a member of it).\n+    #[deprecated(since = \"1.3.0\",\n+                 reason = \"available through the `net2` crate on crates.io\")]\n+    #[unstable(feature = \"udp_extras\", reason = \"available externally\")]\n     pub fn join_multicast(&self, multi: &IpAddr) -> io::Result<()> {\n         self.0.join_multicast(multi)\n     }\n \n     /// Leaves a multicast IP address (drops membership from it).\n+    #[deprecated(since = \"1.3.0\",\n+                 reason = \"available through the `net2` crate on crates.io\")]\n+    #[unstable(feature = \"udp_extras\", reason = \"available externally\")]\n     pub fn leave_multicast(&self, multi: &IpAddr) -> io::Result<()> {\n         self.0.leave_multicast(multi)\n     }\n \n     /// Sets the multicast TTL.\n+    #[deprecated(since = \"1.3.0\",\n+                 reason = \"available through the `net2` crate on crates.io\")]\n+    #[unstable(feature = \"udp_extras\", reason = \"available externally\")]\n     pub fn set_multicast_time_to_live(&self, ttl: i32) -> io::Result<()> {\n         self.0.multicast_time_to_live(ttl)\n     }\n \n     /// Sets this socket's TTL.\n+    #[deprecated(since = \"1.3.0\",\n+                 reason = \"available through the `net2` crate on crates.io\")]\n+    #[unstable(feature = \"udp_extras\", reason = \"available externally\")]\n     pub fn set_time_to_live(&self, ttl: i32) -> io::Result<()> {\n         self.0.time_to_live(ttl)\n     }"}]}