{"sha": "ceed6191946025b45b7760cecdf69104856b1fb5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlZWQ2MTkxOTQ2MDI1YjQ1Yjc3NjBjZWNkZjY5MTA0ODU2YjFmYjU=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-06-10T02:02:13Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-06-10T02:02:13Z"}, "message": "Rollup merge of #86051 - erer1243:update_move_keyword_docs, r=Mark-Simulacrum\n\nUpdated code examples and wording in move keyword documentation\n\nHad a conversation with someone on the Rust Discord who was confused by the move keyword documentation. Some of the wording is odd sounding (\"owned by value\" - what else can something be owned by?). Also, some of the examples used Copy types when demonstrating move, leading to variables still being accessible in the outer scope after the move, contradicting the examples' comments.\n\nI changed the move keyword documentation a bit, removing that odd wording and changing all the examples to use non-Copy types", "tree": {"sha": "1df205d2c05e961999acb3e9b22276b098b090ee", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1df205d2c05e961999acb3e9b22276b098b090ee"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ceed6191946025b45b7760cecdf69104856b1fb5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgwXKlCRBK7hj4Ov3rIwAAjX8IADI4agRMafB6hOffN2wuOXXC\nNg8wZ+R3USNg0VEQKG/5kyz/5PMblTdcKYXJvOEgTGdlYX7FWFu4URcJ4OfGuv8r\n4VpfbMzsEYOR4fzZEgJcCkC9sM/qCKSAL88ehWW3H0rVOytAu/BRqPJzVLrmpsDF\nDK1e5bMcaVwxa4ZVWcMc+94mUOiDg8CbAEvynXz1lYscM3sGziv9CMfjyB5cvAWQ\nPDzRs/V7SiQYdbdb6r5e0Jmj/En/A0FDxORAqwRzuaILxHfXQwReJslW8IWWu2h3\neD4ILmPf6iD5iRnXBcTYXX7i9G9D0h1PELBvRXO9gqjEWm+nwW5++PyQRpxrGQQ=\n=ZEfg\n-----END PGP SIGNATURE-----\n", "payload": "tree 1df205d2c05e961999acb3e9b22276b098b090ee\nparent 232e7a5e7abac697c9d669cb4bb6380affa69b55\nparent 67f4f3baec8113444c20db1f8ed461fa811d09bb\nauthor Yuki Okushi <jtitor@2k36.org> 1623290533 +0900\ncommitter GitHub <noreply@github.com> 1623290533 +0900\n\nRollup merge of #86051 - erer1243:update_move_keyword_docs, r=Mark-Simulacrum\n\nUpdated code examples and wording in move keyword documentation\n\nHad a conversation with someone on the Rust Discord who was confused by the move keyword documentation. Some of the wording is odd sounding (\"owned by value\" - what else can something be owned by?). Also, some of the examples used Copy types when demonstrating move, leading to variables still being accessible in the outer scope after the move, contradicting the examples' comments.\n\nI changed the move keyword documentation a bit, removing that odd wording and changing all the examples to use non-Copy types\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ceed6191946025b45b7760cecdf69104856b1fb5", "html_url": "https://github.com/rust-lang/rust/commit/ceed6191946025b45b7760cecdf69104856b1fb5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ceed6191946025b45b7760cecdf69104856b1fb5/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "232e7a5e7abac697c9d669cb4bb6380affa69b55", "url": "https://api.github.com/repos/rust-lang/rust/commits/232e7a5e7abac697c9d669cb4bb6380affa69b55", "html_url": "https://github.com/rust-lang/rust/commit/232e7a5e7abac697c9d669cb4bb6380affa69b55"}, {"sha": "67f4f3baec8113444c20db1f8ed461fa811d09bb", "url": "https://api.github.com/repos/rust-lang/rust/commits/67f4f3baec8113444c20db1f8ed461fa811d09bb", "html_url": "https://github.com/rust-lang/rust/commit/67f4f3baec8113444c20db1f8ed461fa811d09bb"}], "stats": {"total": 20, "additions": 9, "deletions": 11}, "files": [{"sha": "5b8e83766f0e846444405df1aacf15c96a5cde6b", "filename": "library/std/src/keyword_docs.rs", "status": "modified", "additions": 9, "deletions": 11, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/ceed6191946025b45b7760cecdf69104856b1fb5/library%2Fstd%2Fsrc%2Fkeyword_docs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ceed6191946025b45b7760cecdf69104856b1fb5/library%2Fstd%2Fsrc%2Fkeyword_docs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fkeyword_docs.rs?ref=ceed6191946025b45b7760cecdf69104856b1fb5", "patch": "@@ -987,13 +987,13 @@ mod mod_keyword {}\n /// Capture a [closure]'s environment by value.\n ///\n /// `move` converts any variables captured by reference or mutable reference\n-/// to owned by value variables.\n+/// to variables captured by value.\n ///\n /// ```rust\n-/// let capture = \"hello\";\n-/// let closure = move || {\n-///     println!(\"rust says {}\", capture);\n-/// };\n+/// let data = vec![1, 2, 3];\n+/// let closure = move || println!(\"captured {:?} by value\", data);\n+///\n+/// // data is no longer available, it is owned by the closure\n /// ```\n ///\n /// Note: `move` closures may still implement [`Fn`] or [`FnMut`], even though\n@@ -1004,31 +1004,29 @@ mod mod_keyword {}\n /// ```rust\n /// fn create_fn() -> impl Fn() {\n ///     let text = \"Fn\".to_owned();\n-///\n ///     move || println!(\"This is a: {}\", text)\n /// }\n ///\n /// let fn_plain = create_fn();\n-///\n /// fn_plain();\n /// ```\n ///\n /// `move` is often used when [threads] are involved.\n ///\n /// ```rust\n-/// let x = 5;\n+/// let data = vec![1, 2, 3];\n ///\n /// std::thread::spawn(move || {\n-///     println!(\"captured {} by value\", x)\n+///     println!(\"captured {:?} by value\", data)\n /// }).join().unwrap();\n ///\n-/// // x is no longer available\n+/// // data was moved to the spawned thread, so we cannot use it here\n /// ```\n ///\n /// `move` is also valid before an async block.\n ///\n /// ```rust\n-/// let capture = \"hello\";\n+/// let capture = \"hello\".to_owned();\n /// let block = async move {\n ///     println!(\"rust says {} from async block\", capture);\n /// };"}]}