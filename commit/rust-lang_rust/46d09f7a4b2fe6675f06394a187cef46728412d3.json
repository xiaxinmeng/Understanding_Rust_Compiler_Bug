{"sha": "46d09f7a4b2fe6675f06394a187cef46728412d3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ2ZDA5ZjdhNGIyZmU2Njc1ZjA2Mzk0YTE4N2NlZjQ2NzI4NDEyZDM=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2021-04-19T12:17:07Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2021-04-19T12:58:11Z"}, "message": "remove E0723 error code", "tree": {"sha": "fc776c77646e24b7d931eef41f5e900698f56ce6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fc776c77646e24b7d931eef41f5e900698f56ce6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/46d09f7a4b2fe6675f06394a187cef46728412d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/46d09f7a4b2fe6675f06394a187cef46728412d3", "html_url": "https://github.com/rust-lang/rust/commit/46d09f7a4b2fe6675f06394a187cef46728412d3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/46d09f7a4b2fe6675f06394a187cef46728412d3/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "04db4abbfceb39374ff21ccce563791c3112a153", "url": "https://api.github.com/repos/rust-lang/rust/commits/04db4abbfceb39374ff21ccce563791c3112a153", "html_url": "https://github.com/rust-lang/rust/commit/04db4abbfceb39374ff21ccce563791c3112a153"}], "stats": {"total": 39, "additions": 8, "deletions": 31}, "files": [{"sha": "41a1fa488d31b1e16091662f922b3512d207028d", "filename": "compiler/rustc_error_codes/src/error_codes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/46d09f7a4b2fe6675f06394a187cef46728412d3/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/46d09f7a4b2fe6675f06394a187cef46728412d3/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs?ref=46d09f7a4b2fe6675f06394a187cef46728412d3", "patch": "@@ -416,7 +416,6 @@ E0716: include_str!(\"./error_codes/E0716.md\"),\n E0718: include_str!(\"./error_codes/E0718.md\"),\n E0719: include_str!(\"./error_codes/E0719.md\"),\n E0720: include_str!(\"./error_codes/E0720.md\"),\n-E0723: include_str!(\"./error_codes/E0723.md\"),\n E0724: include_str!(\"./error_codes/E0724.md\"),\n E0725: include_str!(\"./error_codes/E0725.md\"),\n E0727: include_str!(\"./error_codes/E0727.md\"),\n@@ -636,6 +635,7 @@ E0781: include_str!(\"./error_codes/E0781.md\"),\n     E0717, // rustc_promotable without stability attribute\n //  E0721, // `await` keyword\n     E0722, // Malformed `#[optimize]` attribute\n+//    E0723, unstable feature in `const` context\n     E0726, // non-explicit (not `'_`) elided lifetime in unsupported position\n //  E0738, // Removed; errored on `#[track_caller] fn`s in `extern \"Rust\" { ... }`.\n     E0757, // `#[ffi_const]` functions cannot be `#[ffi_pure]`"}, {"sha": "bc2244219156cae0f4c725b39a23f21d93448365", "filename": "compiler/rustc_error_codes/src/error_codes/E0723.md", "status": "removed", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/04db4abbfceb39374ff21ccce563791c3112a153/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0723.md", "raw_url": "https://github.com/rust-lang/rust/raw/04db4abbfceb39374ff21ccce563791c3112a153/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0723.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0723.md?ref=04db4abbfceb39374ff21ccce563791c3112a153", "patch": "@@ -1,20 +0,0 @@\n-An unstable feature in `const` contexts was used.\n-\n-Erroneous code example:\n-\n-```compile_fail,E0723\n-const fn foo<T: Copy>(_: T) { // error!\n-   // ...\n-}\n-```\n-\n-To enable this feature on a nightly version of rustc, add the `const_fn`\n-feature flag:\n-\n-```\n-#![feature(const_fn)]\n-\n-const fn foo<T: Copy>(_: T) { // ok!\n-   // ...\n-}\n-```"}, {"sha": "cf7d404a077896ea711fae6128ed91097c900269", "filename": "compiler/rustc_mir/src/transform/check_consts/validation.rs", "status": "modified", "additions": 6, "deletions": 8, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/46d09f7a4b2fe6675f06394a187cef46728412d3/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcheck_consts%2Fvalidation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/46d09f7a4b2fe6675f06394a187cef46728412d3/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcheck_consts%2Fvalidation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcheck_consts%2Fvalidation.rs?ref=46d09f7a4b2fe6675f06394a187cef46728412d3", "patch": "@@ -1,6 +1,6 @@\n //! The `Visitor` responsible for actually checking a `mir::Body` for invalid operations.\n \n-use rustc_errors::{struct_span_err, Applicability, Diagnostic, ErrorReported};\n+use rustc_errors::{Applicability, Diagnostic, ErrorReported};\n use rustc_hir::def_id::DefId;\n use rustc_hir::{self as hir, HirId, LangItem};\n use rustc_index::bit_set::BitSet;\n@@ -234,13 +234,11 @@ impl Validator<'mir, 'tcx> {\n             if self.is_const_stable_const_fn() {\n                 let hir_id = tcx.hir().local_def_id_to_hir_id(def_id);\n                 if crate::const_eval::is_parent_const_impl_raw(tcx, hir_id) {\n-                    struct_span_err!(\n-                        self.ccx.tcx.sess,\n-                        self.span,\n-                        E0723,\n-                        \"trait methods cannot be stable const fn\"\n-                    )\n-                    .emit();\n+                    self.ccx\n+                        .tcx\n+                        .sess\n+                        .struct_span_err(self.span, \"trait methods cannot be stable const fn\")\n+                        .emit();\n                 }\n             }\n "}, {"sha": "5b2ebccef1c6dd42c5654bafd35d0e1653d5eb31", "filename": "src/test/ui/rfc-2632-const-trait-impl/stability.stderr", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/46d09f7a4b2fe6675f06394a187cef46728412d3/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fstability.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/46d09f7a4b2fe6675f06394a187cef46728412d3/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fstability.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fstability.stderr?ref=46d09f7a4b2fe6675f06394a187cef46728412d3", "patch": "@@ -1,4 +1,4 @@\n-error[E0723]: trait methods cannot be stable const fn\n+error: trait methods cannot be stable const fn\n   --> $DIR/stability.rs:14:5\n    |\n LL | /     fn sub(self, rhs: Self) -> Self {\n@@ -17,4 +17,3 @@ LL |     Int(1i32) + Int(2i32)\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0723`."}]}