{"sha": "3d7437fa214d56df7878db9bd9479c75798df8bf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkNzQzN2ZhMjE0ZDU2ZGY3ODc4ZGI5YmQ5NDc5Yzc1Nzk4ZGY4YmY=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2021-06-17T21:41:01Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-06-17T21:41:01Z"}, "message": "Rollup merge of #86388 - JohnTitor:static-symbol-s, r=LeSeulArtichaut\n\nMake `s` pre-interned\n\nNow we should be able to pre-intern `s` as the test `ui/lint/rfc-2457-non-ascii-idents/lint-confusable-idents.rs` no longer fails.", "tree": {"sha": "2b9ac6ab5214641418d0e18013c93c557d0eb6e4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2b9ac6ab5214641418d0e18013c93c557d0eb6e4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3d7437fa214d56df7878db9bd9479c75798df8bf", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgy8FtCRBK7hj4Ov3rIwAA2C8IAIMIQRgb15t/VlqWeVl+F6d/\nYiKsEz+iTv5xmt+jYnQt+OigC+EsRVmkOwNkew7Zr8gX7GE9ayM5xYpYnjUWfj++\njRN2fcGtu2naccGwyGRnUIlqJQzxwTjj89Svrh4SldiPuSUCzBziV5zthAYRERsG\n3SxnqVicx1WfkHwBxudYRzX4eseIWh3NM/MyYqvSMbCcG5dwKhtfA9G6o7xKu+gC\nnEAhH/IMicllBBAFM0huggAXzkxvlJTnECa/yDJEXy+OLVFaVY7SLIwAEMoS/H4s\nknmbFAdLLcbvqr3FuDoZSd2uxIjuHYMsAwfzamEylONQavU/W0ZGPY9+/7u4VTk=\n=7YhJ\n-----END PGP SIGNATURE-----\n", "payload": "tree 2b9ac6ab5214641418d0e18013c93c557d0eb6e4\nparent a5dce6c99a65195bd5d945563b51d4ec12dc692d\nparent 34f38bf76006b0dfdc2784d76e3e1775cee024a4\nauthor Mara Bos <m-ou.se@m-ou.se> 1623966061 +0200\ncommitter GitHub <noreply@github.com> 1623966061 +0200\n\nRollup merge of #86388 - JohnTitor:static-symbol-s, r=LeSeulArtichaut\n\nMake `s` pre-interned\n\nNow we should be able to pre-intern `s` as the test `ui/lint/rfc-2457-non-ascii-idents/lint-confusable-idents.rs` no longer fails.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3d7437fa214d56df7878db9bd9479c75798df8bf", "html_url": "https://github.com/rust-lang/rust/commit/3d7437fa214d56df7878db9bd9479c75798df8bf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3d7437fa214d56df7878db9bd9479c75798df8bf/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a5dce6c99a65195bd5d945563b51d4ec12dc692d", "url": "https://api.github.com/repos/rust-lang/rust/commits/a5dce6c99a65195bd5d945563b51d4ec12dc692d", "html_url": "https://github.com/rust-lang/rust/commit/a5dce6c99a65195bd5d945563b51d4ec12dc692d"}, {"sha": "34f38bf76006b0dfdc2784d76e3e1775cee024a4", "url": "https://api.github.com/repos/rust-lang/rust/commits/34f38bf76006b0dfdc2784d76e3e1775cee024a4", "html_url": "https://github.com/rust-lang/rust/commit/34f38bf76006b0dfdc2784d76e3e1775cee024a4"}], "stats": {"total": 8, "additions": 2, "deletions": 6}, "files": [{"sha": "c5f3a9d3379a7a0b6fec04f6841b303a80d450b4", "filename": "compiler/rustc_builtin_macros/src/deriving/encodable.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/3d7437fa214d56df7878db9bd9479c75798df8bf/compiler%2Frustc_builtin_macros%2Fsrc%2Fderiving%2Fencodable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d7437fa214d56df7878db9bd9479c75798df8bf/compiler%2Frustc_builtin_macros%2Fsrc%2Fderiving%2Fencodable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_builtin_macros%2Fsrc%2Fderiving%2Fencodable.rs?ref=3d7437fa214d56df7878db9bd9479c75798df8bf", "patch": "@@ -124,12 +124,7 @@ pub fn expand_deriving_rustc_encodable(\n             explicit_self: borrowed_explicit_self(),\n             args: vec![(\n                 Ptr(Box::new(Literal(Path::new_local(typaram))), Borrowed(None, Mutability::Mut)),\n-                // FIXME: we could use `sym::s` here, but making `s` a static\n-                // symbol changes the symbol index ordering in a way that makes\n-                // ui/lint/rfc-2457-non-ascii-idents/lint-confusable-idents.rs\n-                // fail. The linting code should be fixed so that its output\n-                // does not depend on the symbol index ordering.\n-                Symbol::intern(\"s\"),\n+                sym::s,\n             )],\n             ret_ty: Literal(Path::new_(\n                 pathvec_std!(result::Result),"}, {"sha": "862bde3f6a3e8fa04fa266dab34622e7dff92154", "filename": "compiler/rustc_span/src/symbol.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3d7437fa214d56df7878db9bd9479c75798df8bf/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d7437fa214d56df7878db9bd9479c75798df8bf/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs?ref=3d7437fa214d56df7878db9bd9479c75798df8bf", "patch": "@@ -1062,6 +1062,7 @@ symbols! {\n         rustdoc,\n         rustfmt,\n         rvalue_static_promotion,\n+        s,\n         sanitize,\n         sanitizer_runtime,\n         saturating_add,"}]}