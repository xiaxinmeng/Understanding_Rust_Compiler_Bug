{"sha": "7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "node_id": "C_kwDOAAsO6NoAKDdhYTRhMjA1YTgzYmZiZGJhMTEzMWVlOGE2NDYzZDVjMDI5YmIwODk", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2023-01-26T20:32:33Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2023-01-27T16:04:39Z"}, "message": "rustdoc: merge doctest tooltip with notable traits tooltip\n\nFixes https://discord.com/channels/442252698964721669/443150878111694848/1066420140167680000\n\nFixes #91100", "tree": {"sha": "f8ee5d019f52ede9ef219a70803364acd906dea9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f8ee5d019f52ede9ef219a70803364acd906dea9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "html_url": "https://github.com/rust-lang/rust/commit/7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c62665e09c11eb1c9d8ea02df5b723364a0b8ba4", "url": "https://api.github.com/repos/rust-lang/rust/commits/c62665e09c11eb1c9d8ea02df5b723364a0b8ba4", "html_url": "https://github.com/rust-lang/rust/commit/c62665e09c11eb1c9d8ea02df5b723364a0b8ba4"}], "stats": {"total": 422, "additions": 186, "deletions": 236}, "files": [{"sha": "11dd69487fbb73e6aa40640ed7e81a45b092a6db", "filename": "src/librustdoc/html/highlight.rs", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fhighlight.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fhighlight.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fhighlight.rs?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -96,13 +96,19 @@ fn write_header(out: &mut Buffer, class: &str, extra_content: Option<Buffer>, to\n     );\n \n     if tooltip != Tooltip::None {\n+        let edition_code;\n         write!(\n             out,\n-            \"<div class='tooltip'{}>\u24d8</div>\",\n-            if let Tooltip::Edition(edition_info) = tooltip {\n-                format!(\" data-edition=\\\"{}\\\"\", edition_info)\n-            } else {\n-                String::new()\n+            \"<a href=\\\"#\\\" class=\\\"tooltip\\\" title=\\\"{}\\\">\u24d8</a>\",\n+            match tooltip {\n+                Tooltip::Ignore => \"This example is not tested\",\n+                Tooltip::CompileFail => \"This example deliberately fails to compile\",\n+                Tooltip::ShouldPanic => \"This example panics\",\n+                Tooltip::Edition(edition) => {\n+                    edition_code = format!(\"This example runs with edition {edition}\");\n+                    &edition_code\n+                }\n+                Tooltip::None => unreachable!(),\n             },\n         );\n     }"}, {"sha": "5655246532cd456187c5736a6e12a461f3c64f3b", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -1313,7 +1313,7 @@ pub(crate) fn notable_traits_button(ty: &clean::Type, cx: &mut Context<'_>) -> O\n     if has_notable_trait {\n         cx.types_with_notable_traits.insert(ty.clone());\n         Some(format!(\n-            \" <a href=\\\"#\\\" class=\\\"notable-traits\\\" data-ty=\\\"{ty}\\\">\u24d8</a>\",\n+            \" <a href=\\\"#\\\" class=\\\"tooltip\\\" data-notable-ty=\\\"{ty}\\\">\u24d8</a>\",\n             ty = Escape(&format!(\"{:#}\", ty.print(cx))),\n         ))\n     } else {"}, {"sha": "437b8748c1dceab7f32f3cd9411021240e752d8e", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 9, "deletions": 45, "changes": 54, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -697,8 +697,8 @@ h2.small-section-header > .anchor {\n .main-heading a:hover,\n .example-wrap > pre.rust a:hover,\n .all-items a:hover,\n-.docblock a:not(.test-arrow):not(.scrape-help):hover,\n-.docblock-short a:not(.test-arrow):not(.scrape-help):hover,\n+.docblock a:not(.test-arrow):not(.scrape-help):not(.tooltip):hover,\n+.docblock-short a:not(.test-arrow):not(.scrape-help):not(.tooltip):hover,\n .item-info a {\n \ttext-decoration: underline;\n }\n@@ -1093,44 +1093,8 @@ pre.rust .doccomment {\n \tdisplay: block;\n \tleft: -25px;\n \ttop: 5px;\n-}\n-\n-.example-wrap .tooltip:hover::after {\n-\tpadding: 5px 3px 3px 3px;\n-\tborder-radius: 6px;\n-\tmargin-left: 5px;\n-\tfont-size: 1rem;\n-\tborder: 1px solid var(--border-color);\n-\tposition: absolute;\n-\twidth: max-content;\n-\ttop: -2px;\n-\tz-index: 1;\n-\tbackground-color: var(--tooltip-background-color);\n-\tcolor: var(--tooltip-color);\n-}\n-\n-.example-wrap .tooltip:hover::before {\n-\tcontent: \" \";\n-\tposition: absolute;\n-\ttop: 50%;\n-\tleft: 16px;\n-\tmargin-top: -5px;\n-\tz-index: 1;\n-\tborder: 5px solid transparent;\n-\tborder-right-color: var(--tooltip-background-color);\n-}\n-\n-.example-wrap.ignore .tooltip:hover::after {\n-\tcontent: \"This example is not tested\";\n-}\n-.example-wrap.compile_fail .tooltip:hover::after {\n-\tcontent: \"This example deliberately fails to compile\";\n-}\n-.example-wrap.should_panic .tooltip:hover::after {\n-\tcontent: \"This example panics\";\n-}\n-.example-wrap.edition .tooltip:hover::after {\n-\tcontent: \"This code runs with edition \" attr(data-edition);\n+\tmargin: 0;\n+\tline-height: 1;\n }\n \n .example-wrap.compile_fail .tooltip,\n@@ -1196,7 +1160,7 @@ a.test-arrow:hover {\n \tborder-right: 3px solid var(--target-border-color);\n }\n \n-.notable-traits {\n+.code-header a.tooltip {\n \tcolor: inherit;\n \tmargin-right: 15px;\n \tposition: relative;\n@@ -1205,7 +1169,7 @@ a.test-arrow:hover {\n /* placeholder thunk so that the mouse can easily travel from \"(i)\" to popover\n \tthe resulting \"hover tunnel\" is a stepped triangle, approximating\n \thttps://bjk5.com/post/44698559168/breaking-down-amazons-mega-dropdown */\n-.notable-traits:hover::after {\n+a.tooltip:hover::after {\n \tposition: absolute;\n \ttop: calc(100% - 10px);\n \tleft: -15px;\n@@ -1214,19 +1178,19 @@ a.test-arrow:hover {\n \tcontent: \"\\00a0\";\n }\n \n-.notable .content {\n+.popover.tooltip .content {\n \tmargin: 0.25em 0.5em;\n }\n \n-.notable .content pre, .notable .content code {\n+.popover.tooltip .content pre, .popover.tooltip .content code {\n \tbackground: transparent;\n \tmargin: 0;\n \tpadding: 0;\n \tfont-size: 1.25rem;\n \twhite-space: pre-wrap;\n }\n \n-.notable .content > h3:first-child {\n+.popover.tooltip .content > h3:first-child {\n \tmargin: 0 0 5px 0;\n }\n "}, {"sha": "43fe676e68bcb4360cea9efbd8672ccad22e9f78", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -70,8 +70,6 @@ Original by Dempfi (https://github.com/dempfi/ayu)\n \t--test-arrow-hover-background-color: rgba(57, 175, 215, 0.368);\n \t--target-background-color: rgba(255, 236, 164, 0.06);\n \t--target-border-color: rgba(255, 180, 76, 0.85);\n-\t--tooltip-background-color: #314559;\n-\t--tooltip-color: #c5c5c5;\n \t--kbd-color: #c5c5c5;\n \t--kbd-background: #314559;\n \t--kbd-box-shadow-color: #5c6773;"}, {"sha": "6777675f66f57009fe4be08e3ec1f33cf10db80b", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -65,8 +65,6 @@\n \t--test-arrow-hover-background-color: #4e8bca;\n \t--target-background-color: #494a3d;\n \t--target-border-color: #bb7410;\n-\t--tooltip-background-color: #000;\n-\t--tooltip-color: #fff;\n \t--kbd-color: #000;\n \t--kbd-background: #fafbfc;\n \t--kbd-box-shadow-color: #c6cbd1;"}, {"sha": "a7ee84b43f52bb7cd69a89eee8ebdb1041d9d8ab", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -65,8 +65,6 @@\n \t--test-arrow-hover-background-color: #4e8bca;\n \t--target-background-color: #fdffd3;\n \t--target-border-color: #ad7c37;\n-\t--tooltip-background-color: #000;\n-\t--tooltip-color: #fff;\n \t--kbd-color: #000;\n \t--kbd-background: #fafbfc;\n \t--kbd-box-shadow-color: #c6cbd1;"}, {"sha": "8d57ed98a877b2863a20093c7ba5b0dfe12dcc65", "filename": "src/librustdoc/html/static/js/main.js", "status": "modified", "additions": 60, "deletions": 52, "changes": 112, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -379,7 +379,7 @@ function loadCss(cssUrl) {\n         }\n         ev.preventDefault();\n         searchState.defocus();\n-        window.hideAllModals(true); // true = reset focus for notable traits\n+        window.hideAllModals(true); // true = reset focus for tooltips\n     }\n \n     function handleShortcut(ev) {\n@@ -789,17 +789,17 @@ function loadCss(cssUrl) {\n             // we need to switch away from mobile mode and make the main content area scrollable.\n             hideSidebar();\n         }\n-        if (window.CURRENT_NOTABLE_ELEMENT) {\n-            // As a workaround to the behavior of `contains: layout` used in doc togglers, the\n-            // notable traits popup is positioned using javascript.\n+        if (window.CURRENT_TOOLTIP_ELEMENT) {\n+            // As a workaround to the behavior of `contains: layout` used in doc togglers,\n+            // tooltip popovers are positioned using javascript.\n             //\n             // This means when the window is resized, we need to redo the layout.\n-            const base = window.CURRENT_NOTABLE_ELEMENT.NOTABLE_BASE;\n-            const force_visible = base.NOTABLE_FORCE_VISIBLE;\n-            hideNotable(false);\n+            const base = window.CURRENT_TOOLTIP_ELEMENT.TOOLTIP_BASE;\n+            const force_visible = base.TOOLTIP_FORCE_VISIBLE;\n+            hideTooltip(false);\n             if (force_visible) {\n-                showNotable(base);\n-                base.NOTABLE_FORCE_VISIBLE = true;\n+                showTooltip(base);\n+                base.TOOLTIP_FORCE_VISIBLE = true;\n             }\n         }\n     });\n@@ -827,27 +827,35 @@ function loadCss(cssUrl) {\n         });\n     });\n \n-    function showNotable(e) {\n-        if (!window.NOTABLE_TRAITS) {\n+    function showTooltip(e) {\n+        const notable_ty = e.getAttribute(\"data-notable-ty\");\n+        if (!window.NOTABLE_TRAITS && notable_ty) {\n             const data = document.getElementById(\"notable-traits-data\");\n             if (data) {\n                 window.NOTABLE_TRAITS = JSON.parse(data.innerText);\n             } else {\n-                throw new Error(\"showNotable() called on page without any notable traits!\");\n+                throw new Error(\"showTooltip() called with notable without any notable traits!\");\n             }\n         }\n-        if (window.CURRENT_NOTABLE_ELEMENT && window.CURRENT_NOTABLE_ELEMENT.NOTABLE_BASE === e) {\n+        if (window.CURRENT_TOOLTIP_ELEMENT && window.CURRENT_TOOLTIP_ELEMENT.TOOLTIP_BASE === e) {\n             // Make this function idempotent.\n             return;\n         }\n         window.hideAllModals(false);\n-        const ty = e.getAttribute(\"data-ty\");\n         const wrapper = document.createElement(\"div\");\n-        wrapper.innerHTML = \"<div class=\\\"content\\\">\" + window.NOTABLE_TRAITS[ty] + \"</div>\";\n-        wrapper.className = \"notable popover\";\n+        if (notable_ty) {\n+            wrapper.innerHTML = \"<div class=\\\"content\\\">\" +\n+                window.NOTABLE_TRAITS[notable_ty] + \"</div>\";\n+        } else if (e.getAttribute(\"title\") !== undefined) {\n+            const titleContent = document.createElement(\"div\");\n+            titleContent.className = \"content\";\n+            titleContent.appendChild(document.createTextNode(e.getAttribute(\"title\")));\n+            wrapper.appendChild(titleContent);\n+        }\n+        wrapper.className = \"tooltip popover\";\n         const focusCatcher = document.createElement(\"div\");\n         focusCatcher.setAttribute(\"tabindex\", \"0\");\n-        focusCatcher.onfocus = hideNotable;\n+        focusCatcher.onfocus = hideTooltip;\n         wrapper.appendChild(focusCatcher);\n         const pos = e.getBoundingClientRect();\n         // 5px overlap so that the mouse can easily travel from place to place\n@@ -869,62 +877,62 @@ function loadCss(cssUrl) {\n             );\n         }\n         wrapper.style.visibility = \"\";\n-        window.CURRENT_NOTABLE_ELEMENT = wrapper;\n-        window.CURRENT_NOTABLE_ELEMENT.NOTABLE_BASE = e;\n+        window.CURRENT_TOOLTIP_ELEMENT = wrapper;\n+        window.CURRENT_TOOLTIP_ELEMENT.TOOLTIP_BASE = e;\n         wrapper.onpointerleave = function(ev) {\n             // If this is a synthetic touch event, ignore it. A click event will be along shortly.\n             if (ev.pointerType !== \"mouse\") {\n                 return;\n             }\n-            if (!e.NOTABLE_FORCE_VISIBLE && !elemIsInParent(event.relatedTarget, e)) {\n-                hideNotable(true);\n+            if (!e.TOOLTIP_FORCE_VISIBLE && !elemIsInParent(event.relatedTarget, e)) {\n+                hideTooltip(true);\n             }\n         };\n     }\n \n-    function notableBlurHandler(event) {\n-        if (window.CURRENT_NOTABLE_ELEMENT &&\n-            !elemIsInParent(document.activeElement, window.CURRENT_NOTABLE_ELEMENT) &&\n-            !elemIsInParent(event.relatedTarget, window.CURRENT_NOTABLE_ELEMENT) &&\n-            !elemIsInParent(document.activeElement, window.CURRENT_NOTABLE_ELEMENT.NOTABLE_BASE) &&\n-            !elemIsInParent(event.relatedTarget, window.CURRENT_NOTABLE_ELEMENT.NOTABLE_BASE)\n+    function tooltipBlurHandler(event) {\n+        if (window.CURRENT_TOOLTIP_ELEMENT &&\n+            !elemIsInParent(document.activeElement, window.CURRENT_TOOLTIP_ELEMENT) &&\n+            !elemIsInParent(event.relatedTarget, window.CURRENT_TOOLTIP_ELEMENT) &&\n+            !elemIsInParent(document.activeElement, window.CURRENT_TOOLTIP_ELEMENT.TOOLTIP_BASE) &&\n+            !elemIsInParent(event.relatedTarget, window.CURRENT_TOOLTIP_ELEMENT.TOOLTIP_BASE)\n         ) {\n             // Work around a difference in the focus behaviour between Firefox, Chrome, and Safari.\n-            // When I click the button on an already-opened notable trait popover, Safari\n+            // When I click the button on an already-opened tooltip popover, Safari\n             // hides the popover and then immediately shows it again, while everyone else hides it\n             // and it stays hidden.\n             //\n             // To work around this, make sure the click finishes being dispatched before\n-            // hiding the popover. Since `hideNotable()` is idempotent, this makes Safari behave\n+            // hiding the popover. Since `hideTooltip()` is idempotent, this makes Safari behave\n             // consistently with the other two.\n-            setTimeout(() => hideNotable(false), 0);\n+            setTimeout(() => hideTooltip(false), 0);\n         }\n     }\n \n-    function hideNotable(focus) {\n-        if (window.CURRENT_NOTABLE_ELEMENT) {\n-            if (window.CURRENT_NOTABLE_ELEMENT.NOTABLE_BASE.NOTABLE_FORCE_VISIBLE) {\n+    function hideTooltip(focus) {\n+        if (window.CURRENT_TOOLTIP_ELEMENT) {\n+            if (window.CURRENT_TOOLTIP_ELEMENT.TOOLTIP_BASE.TOOLTIP_FORCE_VISIBLE) {\n                 if (focus) {\n-                    window.CURRENT_NOTABLE_ELEMENT.NOTABLE_BASE.focus();\n+                    window.CURRENT_TOOLTIP_ELEMENT.TOOLTIP_BASE.focus();\n                 }\n-                window.CURRENT_NOTABLE_ELEMENT.NOTABLE_BASE.NOTABLE_FORCE_VISIBLE = false;\n+                window.CURRENT_TOOLTIP_ELEMENT.TOOLTIP_BASE.TOOLTIP_FORCE_VISIBLE = false;\n             }\n             const body = document.getElementsByTagName(\"body\")[0];\n-            body.removeChild(window.CURRENT_NOTABLE_ELEMENT);\n-            window.CURRENT_NOTABLE_ELEMENT = null;\n+            body.removeChild(window.CURRENT_TOOLTIP_ELEMENT);\n+            window.CURRENT_TOOLTIP_ELEMENT = null;\n         }\n     }\n \n-    onEachLazy(document.getElementsByClassName(\"notable-traits\"), e => {\n+    onEachLazy(document.getElementsByClassName(\"tooltip\"), e => {\n         e.onclick = function() {\n-            this.NOTABLE_FORCE_VISIBLE = this.NOTABLE_FORCE_VISIBLE ? false : true;\n-            if (window.CURRENT_NOTABLE_ELEMENT && !this.NOTABLE_FORCE_VISIBLE) {\n-                hideNotable(true);\n+            this.TOOLTIP_FORCE_VISIBLE = this.TOOLTIP_FORCE_VISIBLE ? false : true;\n+            if (window.CURRENT_TOOLTIP_ELEMENT && !this.TOOLTIP_FORCE_VISIBLE) {\n+                hideTooltip(true);\n             } else {\n-                showNotable(this);\n-                window.CURRENT_NOTABLE_ELEMENT.setAttribute(\"tabindex\", \"0\");\n-                window.CURRENT_NOTABLE_ELEMENT.focus();\n-                window.CURRENT_NOTABLE_ELEMENT.onblur = notableBlurHandler;\n+                showTooltip(this);\n+                window.CURRENT_TOOLTIP_ELEMENT.setAttribute(\"tabindex\", \"0\");\n+                window.CURRENT_TOOLTIP_ELEMENT.focus();\n+                window.CURRENT_TOOLTIP_ELEMENT.onblur = tooltipBlurHandler;\n             }\n             return false;\n         };\n@@ -933,16 +941,16 @@ function loadCss(cssUrl) {\n             if (ev.pointerType !== \"mouse\") {\n                 return;\n             }\n-            showNotable(this);\n+            showTooltip(this);\n         };\n         e.onpointerleave = function(ev) {\n             // If this is a synthetic touch event, ignore it. A click event will be along shortly.\n             if (ev.pointerType !== \"mouse\") {\n                 return;\n             }\n-            if (!this.NOTABLE_FORCE_VISIBLE &&\n-                !elemIsInParent(ev.relatedTarget, window.CURRENT_NOTABLE_ELEMENT)) {\n-                hideNotable(true);\n+            if (!this.TOOLTIP_FORCE_VISIBLE &&\n+                !elemIsInParent(ev.relatedTarget, window.CURRENT_TOOLTIP_ELEMENT)) {\n+                hideTooltip(true);\n             }\n         };\n     });\n@@ -1044,14 +1052,14 @@ function loadCss(cssUrl) {\n     }\n \n     /**\n-     * Hide popover menus, notable trait tooltips, and the sidebar (if applicable).\n+     * Hide popover menus, clickable tooltips, and the sidebar (if applicable).\n      *\n-     * Pass \"true\" to reset focus for notable traits.\n+     * Pass \"true\" to reset focus for tooltip popovers.\n      */\n     window.hideAllModals = function(switchFocus) {\n         hideSidebar();\n         window.hidePopoverMenus();\n-        hideNotable(switchFocus);\n+        hideTooltip(switchFocus);\n     };\n \n     /**"}, {"sha": "36b67073a03538ce0ae85c30b0361c1cc3157a1d", "filename": "tests/rustdoc-gui/codeblock-tooltip.goml", "status": "modified", "additions": 36, "deletions": 58, "changes": 94, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/tests%2Frustdoc-gui%2Fcodeblock-tooltip.goml", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/tests%2Frustdoc-gui%2Fcodeblock-tooltip.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fcodeblock-tooltip.goml?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -30,24 +30,16 @@ define-function: (\n             \".docblock .example-wrap.compile_fail\",\n             {\"border-left\": \"2px solid rgb(255, 0, 0)\"},\n         )\n-        assert-css: (\n-            \".docblock .example-wrap.compile_fail .tooltip::after\",\n-            {\n-                \"content\": '\"This example deliberately fails to compile\"',\n-                \"padding\": \"5px 3px 3px\",\n-                \"background-color\": |background|,\n-                \"color\": |color|,\n-                \"border\": \"1px solid \" + |border|,\n-            },\n-        )\n-        assert-css: (\n-            \".docblock .example-wrap.compile_fail .tooltip::before\",\n-            {\n-                \"border-width\": \"5px\",\n-                \"border-style\": \"solid\",\n-                \"border-color\": \"rgba(0, 0, 0, 0) \" + |background| + \" rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)\",\n-            },\n-        )\n+        click: \".docblock .example-wrap.compile_fail .tooltip\"\n+        assert-text: (\n+            \".popover.tooltip\",\n+            \"This example deliberately fails to compile\"\n+        )\n+        assert-css: (\".popover.tooltip\", {\n+            \"color\": |color|,\n+            \"background-color\": |background|,\n+            \"border-color\": |border|,\n+        })\n \n         // should_panic block\n         assert-css: (\n@@ -69,24 +61,16 @@ define-function: (\n             \".docblock .example-wrap.should_panic\",\n             {\"border-left\": \"2px solid rgb(255, 0, 0)\"},\n         )\n-        assert-css: (\n-            \".docblock .example-wrap.should_panic .tooltip::after\",\n-            {\n-                \"content\": '\"This example panics\"',\n-                \"padding\": \"5px 3px 3px\",\n-                \"background-color\": |background|,\n-                \"color\": |color|,\n-                \"border\": \"1px solid \" + |border|,\n-            },\n-        )\n-        assert-css: (\n-            \".docblock .example-wrap.should_panic .tooltip::before\",\n-            {\n-                \"border-width\": \"5px\",\n-                \"border-style\": \"solid\",\n-                \"border-color\": \"rgba(0, 0, 0, 0) \" + |background| + \" rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)\",\n-            },\n+        click: \".docblock .example-wrap.should_panic .tooltip\"\n+        assert-text: (\n+            \".popover.tooltip\",\n+            \"This example panics\"\n         )\n+        assert-css: (\".popover.tooltip\", {\n+            \"color\": |color|,\n+            \"background-color\": |background|,\n+            \"border-color\": |border|,\n+        })\n \n         // ignore block\n         assert-css: (\n@@ -108,42 +92,36 @@ define-function: (\n             \".docblock .example-wrap.ignore\",\n             {\"border-left\": \"2px solid rgb(255, 142, 0)\"},\n         )\n-        assert-css: (\n-            \".docblock .example-wrap.ignore .tooltip::after\",\n-            {\n-                \"content\": '\"This example is not tested\"',\n-                \"padding\": \"5px 3px 3px\",\n-                \"background-color\": |background|,\n-                \"color\": |color|,\n-                \"border\": \"1px solid \" + |border|,\n-            },\n-        )\n-        assert-css: (\n-            \".docblock .example-wrap.ignore .tooltip::before\",\n-            {\n-                \"border-width\": \"5px\",\n-                \"border-style\": \"solid\",\n-                \"border-color\": \"rgba(0, 0, 0, 0) \" + |background| + \" rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)\",\n-            },\n-        )\n+        click: \".docblock .example-wrap.ignore .tooltip\"\n+        assert-text: (\n+            \".popover.tooltip\",\n+            \"This example is not tested\"\n+        )\n+        assert-css: (\".popover.tooltip\", {\n+            \"color\": |color|,\n+            \"background-color\": |background|,\n+            \"border-color\": |border|,\n+        })\n+        click: \".docblock .example-wrap.ignore .tooltip\"\n+        assert-false: \".popover.tooltip\"\n     },\n )\n \n call-function: (\"check-colors\", {\n     \"theme\": \"ayu\",\n-    \"background\": \"rgb(49, 69, 89)\",\n+    \"background\": \"rgb(15, 20, 25)\",\n     \"color\": \"rgb(197, 197, 197)\",\n     \"border\": \"rgb(92, 103, 115)\",\n })\n call-function: (\"check-colors\", {\n     \"theme\": \"dark\",\n-    \"background\": \"rgb(0, 0, 0)\",\n-    \"color\": \"rgb(255, 255, 255)\",\n+    \"background\": \"rgb(53, 53, 53)\",\n+    \"color\": \"rgb(221, 221, 221)\",\n     \"border\": \"rgb(224, 224, 224)\",\n })\n call-function: (\"check-colors\", {\n     \"theme\": \"light\",\n-    \"background\": \"rgb(0, 0, 0)\",\n-    \"color\": \"rgb(255, 255, 255)\",\n+    \"background\": \"rgb(255, 255, 255)\",\n+    \"color\": \"rgb(0, 0, 0)\",\n     \"border\": \"rgb(224, 224, 224)\",\n })"}, {"sha": "207289151992ee245f45945bc123b5fc2a8e11ec", "filename": "tests/rustdoc-gui/notable-trait.goml", "status": "modified", "additions": 64, "deletions": 64, "changes": 128, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/tests%2Frustdoc-gui%2Fnotable-trait.goml", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/tests%2Frustdoc-gui%2Fnotable-trait.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fnotable-trait.goml?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -6,13 +6,13 @@ size: (1100, 600)\n // Checking they have the same y position.\n compare-elements-position: (\n     \"//*[@id='method.create_an_iterator_from_read']//a[text()='NotableStructWithLongName']\",\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n     (\"y\"),\n )\n // Checking they don't have the same x position.\n compare-elements-position-false: (\n     \"//*[@id='method.create_an_iterator_from_read']//a[text()='NotableStructWithLongName']\",\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n     (\"x\"),\n )\n // The `i` should be *after* the type.\n@@ -21,33 +21,33 @@ assert-position: (\n     {\"x\": 677},\n )\n assert-position: (\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n     {\"x\": 955},\n )\n // The tooltip should be below the `i`\n // Also, clicking the tooltip should bring its text into the DOM\n-assert-count: (\"//*[@class='notable popover']\", 0)\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-assert-count: (\"//*[@class='notable popover']\", 1)\n+assert-count: (\"//*[@class='tooltip popover']\", 0)\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+assert-count: (\"//*[@class='tooltip popover']\", 1)\n compare-elements-position-near: (\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n-    \"//*[@class='notable popover']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n+    \"//*[@class='tooltip popover']\",\n     {\"y\": 30}\n )\n compare-elements-position-false: (\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n-    \"//*[@class='notable popover']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n+    \"//*[@class='tooltip popover']\",\n     (\"x\")\n )\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n move-cursor-to: \"//h1\"\n-assert-count: (\"//*[@class='notable popover']\", 0)\n+assert-count: (\"//*[@class='tooltip popover']\", 0)\n \n // Now only the `i` should be on the next line.\n size: (1055, 600)\n compare-elements-position-false: (\n     \"//*[@id='method.create_an_iterator_from_read']//a[text()='NotableStructWithLongName']\",\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n     (\"y\", \"x\"),\n )\n \n@@ -56,13 +56,13 @@ size: (980, 600)\n // Checking they have the same y position.\n compare-elements-position: (\n     \"//*[@id='method.create_an_iterator_from_read']//a[text()='NotableStructWithLongName']\",\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n     (\"y\"),\n )\n // Checking they don't have the same x position.\n compare-elements-position-false: (\n     \"//*[@id='method.create_an_iterator_from_read']//a[text()='NotableStructWithLongName']\",\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n     (\"x\"),\n )\n // The `i` should be *after* the type.\n@@ -71,7 +71,7 @@ assert-position: (\n     {\"x\": 245},\n )\n assert-position: (\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n     {\"x\": 523},\n )\n \n@@ -80,13 +80,13 @@ size: (650, 600)\n // Checking they have the same y position.\n compare-elements-position: (\n     \"//*[@id='method.create_an_iterator_from_read']//a[text()='NotableStructWithLongName']\",\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n     (\"y\"),\n )\n // Checking they don't have the same x position.\n compare-elements-position-false: (\n     \"//*[@id='method.create_an_iterator_from_read']//a[text()='NotableStructWithLongName']\",\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n     (\"x\"),\n )\n // The `i` should be *after* the type.\n@@ -95,29 +95,29 @@ assert-position: (\n     {\"x\": 15},\n )\n assert-position: (\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n     {\"x\": 293},\n )\n // The tooltip should STILL be below `i`\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-assert-count: (\"//*[@class='notable popover']\", 1)\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+assert-count: (\"//*[@class='tooltip popover']\", 1)\n compare-elements-position-near: (\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n-    \"//*[@class='notable popover']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n+    \"//*[@class='tooltip popover']\",\n     {\"y\": 30}\n )\n compare-elements-position-false: (\n-    \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\",\n-    \"//*[@class='notable popover']\",\n+    \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\",\n+    \"//*[@class='tooltip popover']\",\n     (\"x\")\n )\n assert-position: (\n-    \"//*[@class='notable popover']\",\n+    \"//*[@class='tooltip popover']\",\n     {\"x\": 0}\n )\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n move-cursor-to: \"//h1\"\n-assert-count: (\"//*[@class='notable popover']\", 0)\n+assert-count: (\"//*[@class='tooltip popover']\", 0)\n \n // Now check the colors.\n define-function: (\n@@ -133,26 +133,26 @@ define-function: (\n         // We reload the page so the local storage settings are being used.\n         reload:\n \n-        move-cursor-to: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-        assert-count: (\".notable.popover\", 1)\n+        move-cursor-to: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+        assert-count: (\".tooltip.popover\", 1)\n \n         assert-css: (\n-             \".notable.popover h3\",\n+             \".tooltip.popover h3\",\n              {\"color\": |header_color|},\n              ALL,\n         )\n         assert-css: (\n-             \".notable.popover pre\",\n+             \".tooltip.popover pre\",\n              {\"color\": |content_color|},\n              ALL,\n         )\n         assert-css: (\n-             \".notable.popover pre a.struct\",\n+             \".tooltip.popover pre a.struct\",\n              {\"color\": |type_color|},\n              ALL,\n         )\n         assert-css: (\n-             \".notable.popover pre a.trait\",\n+             \".tooltip.popover pre a.trait\",\n              {\"color\": |trait_color|},\n              ALL,\n         )\n@@ -195,33 +195,33 @@ call-function: (\n reload:\n \n // Check that pressing escape works\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-move-cursor-to: \"//*[@class='notable popover']\"\n-assert-count: (\"//*[@class='notable popover']\", 1)\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+move-cursor-to: \"//*[@class='tooltip popover']\"\n+assert-count: (\"//*[@class='tooltip popover']\", 1)\n press-key: \"Escape\"\n-assert-count: (\"//*[@class='notable popover']\", 0)\n-assert: \"#method\\.create_an_iterator_from_read .notable-traits:focus\"\n+assert-count: (\"//*[@class='tooltip popover']\", 0)\n+assert: \"#method\\.create_an_iterator_from_read .tooltip:focus\"\n \n // Check that clicking outside works.\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-assert-count: (\"//*[@class='notable popover']\", 1)\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+assert-count: (\"//*[@class='tooltip popover']\", 1)\n click: \".search-input\"\n-assert-count: (\"//*[@class='notable popover']\", 0)\n-assert-false: \"#method\\.create_an_iterator_from_read .notable-traits:focus\"\n+assert-count: (\"//*[@class='tooltip popover']\", 0)\n+assert-false: \"#method\\.create_an_iterator_from_read .tooltip:focus\"\n \n // Check that pressing tab over and over works.\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-move-cursor-to: \"//*[@class='notable popover']\"\n-assert-count: (\"//*[@class='notable popover']\", 1)\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+move-cursor-to: \"//*[@class='tooltip popover']\"\n+assert-count: (\"//*[@class='tooltip popover']\", 1)\n press-key: \"Tab\"\n press-key: \"Tab\"\n press-key: \"Tab\"\n press-key: \"Tab\"\n press-key: \"Tab\"\n press-key: \"Tab\"\n press-key: \"Tab\"\n-assert-count: (\"//*[@class='notable popover']\", 0)\n-assert: \"#method\\.create_an_iterator_from_read .notable-traits:focus\"\n+assert-count: (\"//*[@class='tooltip popover']\", 0)\n+assert: \"#method\\.create_an_iterator_from_read .tooltip:focus\"\n \n // Now we check that the focus isn't given back to the wrong item when opening\n // another popover.\n@@ -231,8 +231,8 @@ click: \"#method\\.create_an_iterator_from_read .fn\"\n assert-window-property-false: {\"scrollY\": |scroll|}\n // Store the new position.\n store-window-property: (scroll, \"scrollY\")\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-wait-for: \"//*[@class='notable popover']\"\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+wait-for: \"//*[@class='tooltip popover']\"\n click: \"#settings-menu a\"\n click: \".search-input\"\n // We ensure we didn't come back to the previous focused item.\n@@ -245,32 +245,32 @@ click: \"#method\\.create_an_iterator_from_read .fn\"\n assert-window-property-false: {\"scrollY\": |scroll|}\n // Store the new position.\n store-window-property: (scroll, \"scrollY\")\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-wait-for: \"//*[@class='notable popover']\"\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+wait-for: \"//*[@class='tooltip popover']\"\n click: \"#settings-menu a\"\n press-key: \"Escape\"\n // We ensure we didn't come back to the previous focused item.\n assert-window-property-false: {\"scrollY\": |scroll|}\n \n // Opening the mobile sidebar should close the popover.\n size: (650, 600)\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-assert-count: (\"//*[@class='notable popover']\", 1)\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+assert-count: (\"//*[@class='tooltip popover']\", 1)\n click: \".sidebar-menu-toggle\"\n assert: \"//*[@class='sidebar shown']\"\n-assert-count: (\"//*[@class='notable popover']\", 0)\n-assert-false: \"#method\\.create_an_iterator_from_read .notable-traits:focus\"\n-// Clicking a notable popover should close the sidebar.\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-assert-count: (\"//*[@class='notable popover']\", 1)\n+assert-count: (\"//*[@class='tooltip popover']\", 0)\n+assert-false: \"#method\\.create_an_iterator_from_read .tooltip:focus\"\n+// Clicking a notable trait tooltip popover should close the sidebar.\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+assert-count: (\"//*[@class='tooltip popover']\", 1)\n assert-false: \"//*[@class='sidebar shown']\"\n \n // Also check the focus handling for the help button.\n size: (1100, 600)\n reload:\n-assert-count: (\"//*[@class='notable popover']\", 0)\n-click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='notable-traits']\"\n-assert-count: (\"//*[@class='notable popover']\", 1)\n+assert-count: (\"//*[@class='tooltip popover']\", 0)\n+click: \"//*[@id='method.create_an_iterator_from_read']//*[@class='tooltip']\"\n+assert-count: (\"//*[@class='tooltip popover']\", 1)\n click: \"#help-button a\"\n-assert-count: (\"//*[@class='notable popover']\", 0)\n-assert-false: \"#method\\.create_an_iterator_from_read .notable-traits:focus\"\n+assert-count: (\"//*[@class='tooltip popover']\", 0)\n+assert-false: \"#method\\.create_an_iterator_from_read .tooltip:focus\""}, {"sha": "761afb8bd08d053f0d745a8d4ca848bee6f12836", "filename": "tests/rustdoc/codeblock-title.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/tests%2Frustdoc%2Fcodeblock-title.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/tests%2Frustdoc%2Fcodeblock-title.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc%2Fcodeblock-title.rs?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -3,7 +3,7 @@\n // @has foo/fn.bar.html '//*[@class=\"example-wrap compile_fail\"]/*[@class=\"tooltip\"]' \"\u24d8\"\n // @has foo/fn.bar.html '//*[@class=\"example-wrap ignore\"]/*[@class=\"tooltip\"]' \"\u24d8\"\n // @has foo/fn.bar.html '//*[@class=\"example-wrap should_panic\"]/*[@class=\"tooltip\"]' \"\u24d8\"\n-// @has foo/fn.bar.html '//*[@data-edition=\"2018\"]' \"\u24d8\"\n+// @has foo/fn.bar.html '//*[@title=\"This example runs with edition 2018\"]' \"\u24d8\"\n \n /// foo\n ///"}, {"sha": "d8941769fa67ab2aad23682979a892fd6b803d63", "filename": "tests/rustdoc/doc-notable_trait.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/tests%2Frustdoc%2Fdoc-notable_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/tests%2Frustdoc%2Fdoc-notable_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc%2Fdoc-notable_trait.rs?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -9,7 +9,7 @@ impl<T: SomeTrait> SomeTrait for Wrapper<T> {}\n #[doc(notable_trait)]\n pub trait SomeTrait {\n     // @has doc_notable_trait/trait.SomeTrait.html\n-    // @has - '//a[@class=\"notable-traits\"]/@data-ty' 'Wrapper<Self>'\n+    // @has - '//a[@class=\"tooltip\"]/@data-notable-ty' 'Wrapper<Self>'\n     // @snapshot wrap-me - '//script[@id=\"notable-traits-data\"]'\n     fn wrap_me(self) -> Wrapper<Self> where Self: Sized {\n         Wrapper {\n@@ -23,15 +23,15 @@ impl SomeTrait for SomeStruct {}\n \n impl SomeStruct {\n     // @has doc_notable_trait/struct.SomeStruct.html\n-    // @has - '//a[@class=\"notable-traits\"]/@data-ty' 'SomeStruct'\n+    // @has - '//a[@class=\"tooltip\"]/@data-notable-ty' 'SomeStruct'\n     // @snapshot some-struct-new - '//script[@id=\"notable-traits-data\"]'\n     pub fn new() -> SomeStruct {\n         SomeStruct\n     }\n }\n \n // @has doc_notable_trait/fn.bare_fn.html\n-// @has - '//a[@class=\"notable-traits\"]/@data-ty' 'SomeStruct'\n+// @has - '//a[@class=\"tooltip\"]/@data-notable-ty' 'SomeStruct'\n // @snapshot bare-fn - '//script[@id=\"notable-traits-data\"]'\n pub fn bare_fn() -> SomeStruct {\n     SomeStruct"}, {"sha": "426759c7bf8a218aca6c3a699782b037e8deccdb", "filename": "tests/rustdoc/spotlight-from-dependency.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/tests%2Frustdoc%2Fspotlight-from-dependency.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7aa4a205a83bfbdba1131ee8a6463d5c029bb089/tests%2Frustdoc%2Fspotlight-from-dependency.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc%2Fspotlight-from-dependency.rs?ref=7aa4a205a83bfbdba1131ee8a6463d5c029bb089", "patch": "@@ -3,7 +3,7 @@\n use std::iter::Iterator;\n \n // @has foo/struct.Odd.html\n-// @has - '//*[@id=\"method.new\"]//a[@class=\"notable-traits\"]/@data-ty' 'Odd'\n+// @has - '//*[@id=\"method.new\"]//a[@class=\"tooltip\"]/@data-notable-ty' 'Odd'\n // @snapshot odd - '//script[@id=\"notable-traits-data\"]'\n pub struct Odd {\n     current: usize,"}]}